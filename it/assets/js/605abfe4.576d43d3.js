"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[5980],{8419:(e,i,a)=>{a.r(i),a.d(i,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"server-admin/scaling","title":"Scaling","description":"ERDDAP\u2122- Caricamenti pesanti, Griglia, cluster, federazioni e cloud computing","source":"@site/i18n/it/docusaurus-plugin-content-docs/current/server-admin/scaling.md","sourceDirName":"server-admin","slug":"/server-admin/scaling","permalink":"/it/docs/server-admin/scaling","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/documentation/docs/server-admin/scaling.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Scaling","sidebar_position":5},"sidebar":"docSidebar","previous":{"title":"additional-information","permalink":"/it/docs/server-admin/additional-information"},"next":{"title":"EDDTableFromEML","permalink":"/it/docs/server-admin/EDDTableFromEML"}}');var n=a(74848),t=a(28453);const r={title:"Scaling",sidebar_position:5},s="Scala",l={},d=[{value:"ERDDAP\u2122- Caricamenti pesanti, Griglia, cluster, federazioni e cloud computing",id:"erddap---heavy-loads-grids-clusters-federations-and-cloud-computing",level:2},{value:"DISCLAI",id:"disclaimer",level:2},{value:"Carico pesante / vincoli",id:"heavy-loads--constraints",level:2},{value:"Larghezza di banda a distanza",id:"remote-source-bandwidth",level:3},{value:"ERDDAPLarghezza di banda del server",id:"erddaps-server-bandwidth",level:3},{value:"Memoria",id:"memory",level:3},{value:"Larghezza di trasmissione",id:"had-drive-bandwidth",level:3},{value:"Troppi file incassati",id:"too-many-files-cached",level:3},{value:"CPU",id:"cpu",level:3},{value:"Identica multiplaERDDAPs con il bilanciamento del carico?",id:"multiple-identical-erddaps-with-load-balancing",level:2},{value:" <strong>Griglia, cluster e federazioni</strong> ",id:"grids-clusters-and-federations",level:2},{value:"Obiettivi",id:"goals",level:3},{value:"Raccomandazione",id:"recommendations",level:3},{value:"Parti di macinazione",id:"grid-parts",level:3},{value:"CompositoERDDAP",id:"composite-erddap",level:4},{value:"Max aggiornato (tempo) ?",id:"up-to-date-maxtime",level:5},{value:"Composizione multiplaERDDAP#",id:"multiple-composite-erddaps",level:4},{value:"Datasets in altissima domanda",id:"datasets-in-very-high-demand",level:3},{value:"RAID contro dischi rigidi regolari",id:"raids-versus-regular-hard-drives",level:3},{value:"Inadempimento",id:"failures",level:3},{value:"Semplice, scalabile",id:"simple-scalable",level:3},{value:"Larghezza di banda",id:"bandwidth",level:3},{value:"Come Legos",id:"like-legos",level:3},{value:"Diversi tipi di richieste",id:"different-types-of-requests",level:3},{value:"Queste sono le mie opinioni.",id:"these-are-my-opinions",level:3},{value:" <strong>Cloud Computing</strong> ",id:"cloud-computing",level:2},{value:"Sospensione",id:"subsetting",level:3},{value:"Dati ospitati",id:"hosted-data",level:3},{value:"Replica a distanza di Datasets",id:"remote-replication-of-datasets",level:2},{value:" <strong>RilevamentoERDDAP\u2122Strumenti</strong> ",id:"relevant-erddap-tools",level:3},{value:"Soluzioni",id:"solutions",level:3},{value:"Soluzioni personalizzate, Brute Force",id:"custom-brute-force-solutions",level:4},{value:"r",id:"rsync",level:4},{value:"Cache da Url",id:"cache-from-url",level:4},{value:"ArchivioAzione",id:"archiveadataset",level:4},{value:"ERDDAP\u2122Sistema di richiesta standard",id:"erddaps-standard-request-system",level:4},{value:"EDDTableDaHttpGet",id:"eddtablefromhttpget",level:4},{value:"Dati distribuiti",id:"distributed-data",level:4},{value:"Conclusioni",id:"conclusion",level:3}];function c(e){const i={a:"a",br:"br",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.header,{children:(0,n.jsx)(i.h1,{id:"scala",children:"Scala"})}),"\n",(0,n.jsx)(i.h2,{id:"erddap---heavy-loads-grids-clusters-federations-and-cloud-computing",children:"ERDDAP\u2122- Caricamenti pesanti, Griglia, cluster, federazioni e cloud computing"}),"\n",(0,n.jsx)(i.p,{children:"\xa0"}),"\n",(0,n.jsx)(i.h1,{id:"erddap",children:"ERDDAP:"}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/index.html",children:"ERDDAP\u2122"}),"\xe8 un'applicazione web e un servizio web che aggrega i dati scientifici provenienti da diverse fonti locali e remote e offre un modo semplice e coerente per scaricare sottoinsiemi dei dati in formati di file comuni e fare grafici e mappe. Questa pagina web parla di questioni relative a pesantiERDDAP\u2122i carichi di utilizzo ed esplora le possibilit\xe0 di trattare carichi estremamente pesanti tramite griglie, cluster, federazioni e cloud computing."]}),"\n",(0,n.jsx)(i.p,{children:"La versione originale \xe8 stata scritta nel giugno 2009. Non ci sono stati cambiamenti significativi. Ultimo aggiornamento 2019-04-15."}),"\n",(0,n.jsx)(i.h2,{id:"disclaimer",children:"DISCLAI"}),"\n",(0,n.jsx)(i.p,{children:"I contenuti di questa pagina web sono opinioni personali di Bob Simons e non riflettono necessariamente alcuna posizione del Governo o delNational Oceanic and Atmospheric Administration. I calcoli sono semplicistici, ma credo che le conclusioni siano corrette. Ho usato la logica difettosa o ho commesso un errore nei miei calcoli? Se \xe8 cos\xec, la colpa \xe8 mia da sola. Si prega di inviare una e-mail con la correzione aerd dot data at noaa dot gov.\r\n\xa0"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"No."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"heavy-loads--constraints",children:"Carico pesante / vincoli"}),"\n",(0,n.jsx)(i.p,{children:"Con un uso pesante, un standaloneERDDAP\u2122sar\xe0 limitato (da pi\xf9 a meno probabile) di:"}),"\n",(0,n.jsx)(i.h3,{id:"remote-source-bandwidth",children:"Larghezza di banda a distanza"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{children:['Larghezza di banda di una fonte di dati remota \u2014 Anche con una connessione efficiente (ad esempio, viaOPeNDAP) , a meno che una fonte di dati remota abbia una connessione Internet molto alta larghezza di banda,ERDDAP"le risposte saranno limitate da quanto velocementeERDDAP\u2122pu\xf2 ottenere i dati dalla fonte di dati. Una soluzione \xe8 quella di copiare il datasetERDDAPIl disco rigido, forse con',(0,n.jsx)(i.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridCopia"}),"o",(0,n.jsx)(i.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDTableCopy"}),".\r\n\xa0"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"erddaps-server-bandwidth",children:"ERDDAPLarghezza di banda del server"}),"\n",(0,n.jsxs)(i.ol,{start:"2",children:["\n",(0,n.jsx)(i.li,{children:"A meno cheERDDAPIl server ha una connessione Internet ad alta larghezza di banda,ERDDAP\"le risposte saranno limitate da quanto velocementeERDDAP\u2122pu\xf2 ottenere i dati dalle fonti di dati e quanto velocementeERDDAP\u2122pu\xf2 restituire i dati ai clienti. L'unica soluzione \xe8 quella di ottenere una connessione Internet pi\xf9 veloce.\r\n\xa0"}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"memory",children:"Memoria"}),"\n",(0,n.jsxs)(i.ol,{start:"3",children:["\n",(0,n.jsxs)(i.li,{children:["Se ci sono molte richieste simultanee,ERDDAP\u2122pu\xf2 esaurire la memoria e rifiutare temporaneamente nuove richieste. (ERDDAP\u2122ha un paio di meccanismi per evitare questo e per minimizzare le conseguenze se accade.) Quindi pi\xf9 memoria nel server \xe8 migliore. Su un server a 32 bit, 4+ GB \xe8 davvero buono, 2 GB va bene, meno non \xe8 raccomandato. Su un server a 64 bit, si pu\xf2 quasi completamente evitare il problema ottenendo un sacco di memoria. Vedi il",(0,n.jsx)(i.a,{href:"/docs/server-admin/deploy-install",children:"Impostazioni \\-Xmx e -Xms"}),"perERDDAP- Tomcat. AnERDDAP\u2122ottenere un uso pesante su un computer con un server a 64 bit con 8GB di memoria e -Xmx impostato a 4000M \xe8 raramente, se mai, limitato dalla memoria.\r\n\xa0"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"had-drive-bandwidth",children:"Larghezza di trasmissione"}),"\n",(0,n.jsxs)(i.ol,{start:"4",children:["\n",(0,n.jsx)(i.li,{children:"L'accesso ai dati memorizzati sul disco rigido del server \xe8 molto pi\xf9 veloce dell'accesso ai dati remoti. Anche cos\xec, se ilERDDAP\u2122server ha una connessione Internet molto alta larghezza di banda, \xe8 possibile che l'accesso ai dati sul disco rigido sar\xe0 un collo di bottiglia. Una soluzione parziale \xe8 quella di utilizzare pi\xf9 velocemente (ad esempio, 10.000 RPM) dischi rigidi magnetici o unit\xe0 SSD (se ha senso il costo) . Un'altra soluzione \xe8 quella di memorizzare diversi set di dati su diverse unit\xe0, in modo che la larghezza di banda del disco rigido cumulativa \xe8 molto pi\xf9 alta.\r\n\xa0"}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"too-many-files-cached",children:"Troppi file incassati"}),"\n",(0,n.jsxs)(i.ol,{start:"5",children:["\n",(0,n.jsxs)(i.li,{children:["Troppi file in un",(0,n.jsx)(i.a,{href:"/docs/server-admin/additional-information#cached-responses",children:"cache"}),"elencoERDDAP\u2122memorizza tutte le immagini, ma memorizza solo i dati per determinati tipi di richieste di dati. \xc8 possibile che la directory della cache per un set di dati abbia un gran numero di file temporaneamente. Questo rallenter\xe0 le richieste per vedere se un file \xe8 nella cache (Davvero!) .<cache Minuti > in",(0,n.jsx)(i.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),"consente di impostare quanto tempo un file pu\xf2 essere nella cache prima che venga eliminato. Impostare un numero pi\xf9 piccolo ridurrebbe questo problema.\r\n\xa0"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"cpu",children:"CPU"}),"\n",(0,n.jsxs)(i.ol,{start:"6",children:["\n",(0,n.jsxs)(i.li,{children:["Solo due cose richiedono molto tempo della CPU:","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"NetCDF4 eHDF5 ora supportano la compressione interna dei dati. Decomprimere un grande compressoNetCDF4 /HDF5 file di dati possono richiedere 10 o pi\xf9 secondi. (Non e' colpa dell'implementazione. E' la natura della compressione.) Cos\xec, pi\xf9 richieste simultanee di set di dati con i dati memorizzati in file compressi possono mettere una forte tensione su qualsiasi server. Se questo \xe8 un problema, la soluzione \xe8 quella di memorizzare i dataset popolari in file non compressi, o ottenere un server con una CPU con pi\xf9 core."}),"\n",(0,n.jsx)(i.li,{children:"Creazione di grafici (comprese le mappe) : circa 0,2 - 1 secondo per grafico. Quindi, se ci sono state molte richieste simultanee uniche per i grafici (WMSi clienti spesso fanno 6 richieste simultanee!) , ci potrebbe essere una limitazione della CPU. Quando pi\xf9 utenti sono in esecuzioneWMSclienti, questo diventa un problema.\r\n\xa0"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"No."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"multiple-identical-erddaps-with-load-balancing",children:"Identica multiplaERDDAPs con il bilanciamento del carico?"}),"\n",(0,n.jsx)(i.p,{children:'La domanda viene spesso: "Per affrontare carichi pesanti, posso impostare pi\xf9 identiciERDDAPs con bilanciamento del carico?" \xc8 una domanda interessante perch\xe9 arriva rapidamente al centro diERDDAPIl design. La risposta rapida \xe8 "no". So che \xe8 una risposta deludente, ma ci sono un paio di ragioni dirette e alcune ragioni fondamentali pi\xf9 grandi per cui ho progettatoERDDAP\u2122utilizzare un approccio diverso (una federazioneERDDAPs, descritto nella maggior parte di questo documento) , che credo sia una soluzione migliore.'}),"\n",(0,n.jsx)(i.p,{children:"Alcuni motivi diretti perch\xe9 non \xe8 possibile / non deve impostare pi\xf9 identicoERDDAPsono:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Un datoERDDAP\u2122legge ogni file di dati quando diventa disponibile per la prima volta per trovare gli intervalli di dati nel file. Poi memorizza quelle informazioni in un file di indice. Pi\xf9 tardi, quando viene richiesta un utente per i dati,ERDDAP\u2122utilizza tale indice per capire quali file cercare per i dati richiesti. Se c'era pi\xf9 identicoERDDAPs, ognuno farebbe questo indicizzazione, che \xe8 sprecato sforzo. Con il sistema federato descritto di seguito, l'indicizzazione \xe8 fatta solo una volta, da uno deiERDDAPS."}),"\n",(0,n.jsx)(i.li,{children:"Per alcuni tipi di richieste degli utenti (ad esempio, per.nc, .png, .pdf file)  ERDDAP\u2122deve fare l'intero file prima che la risposta possa essere inviata. Quindi...ERDDAP\u2122memorizza questi file per un breve periodo di tempo. Se viene richiesta identica (come spesso fa, soprattutto per le immagini in cui l'URL \xe8 incorporato in una pagina web) \u266aERDDAP\u2122pu\xf2 riutilizzare quel file cache. In un sistema di pi\xf9 identicoERDDAPs, quei file memorizzati nella cache non sono condivisi, quindi ogniERDDAP\u2122sarebbe inutilmente e sprecato ricreare.nc, .png, o file .pdf. Con il sistema federato descritto di seguito, i file sono fatti solo una volta, da uno deiERDDAPs, e riutilizzato."}),"\n",(0,n.jsx)(i.li,{children:"ERDDAPIl sistema di abbonamento non \xe8 configurato per essere condiviso da pi\xf9ERDDAPS. Ad esempio, se il bilanciatore di carico invia un utente a unoERDDAP\u2122e l'utente si iscrive a un dataset, poi l'altroERDDAPnon sar\xe0 a conoscenza di quell'abbonamento. Pi\xf9 tardi, se il bilanciatore di carico invia l'utente a un diversoERDDAP\u2122e chiede una lista dei suoi abbonamenti, gli altriERDDAP\u2122dir\xe0 che non ci sono (che lo conduce a fare un abbonamento duplicato sull'altro EREDDAP) . Con il sistema federato descritto di seguito, il sistema di abbonamento \xe8 gestito semplicemente dal principale, pubblico, compositoERDDAP."}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["S\xec, per ognuno di questi problemi, potrei (con grande sforzo) progettare una soluzione (condividere le informazioni traERDDAP#) ma penso che",(0,n.jsx)(i.a,{href:"#grids-clusters-and-federations",children:"federazioneERDDAPapproccio"}),"  (descritto nella maggior parte di questo documento) \xe8 una soluzione complessiva molto migliore, in parte perch\xe9 si occupa di altri problemi che il multi-identico-ERDDAPl'approccio s-with-a-load-balancer non inizia nemmeno ad affrontare, in particolare la natura decentralizzata delle fonti di dati nel mondo."]}),"\n",(0,n.jsxs)(i.p,{children:["\xc8 meglio accettare il semplice fatto che non ho progettatoERDDAP\u2122da distribuire come pi\xf9 identicoERDDAPs con un bilanciatore di carico. Ho progettato consapevolmenteERDDAP\u2122lavorare bene all'interno di una federazioneERDDAPs, che credo abbia molti vantaggi. In particolare, una federazioneERDDAPs \xe8 perfettamente allineato con il sistema decentralizzato e distribuito di data center che abbiamo nel mondo reale (pensare alle diverse regioni IOOS, o alle diverse regioni CoastWatch, o alle diverse parti di NCEI, o agli altri 100 data center inNOAA, o i diversi DAAC della NASA, o i 1000 di data center in tutto il mondo) . Invece di dire a tutti i data center del mondo che hanno bisogno di abbandonare i loro sforzi e mettere tutti i loro dati in un \"lago dati\" centralizzato (anche se fosse possibile, \xe8 un'idea orribile per numerosi motivi -- vedere le varie analisi che mostrano i numerosi vantaggi di",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Decentralised_system",children:"sistemi decentralizzati"}),") \u266aERDDAPIl design funziona con il mondo cos\xec com'\xe8. Ogni data center che produce dati pu\xf2 continuare a mantenere, curare e servire i propri dati (come dovrebbero) , e ancora, conERDDAP\u2122, i dati possono essere immediatamente disponibili da un centralizzatoERDDAP, senza la necessit\xe0 di trasmettere i dati al centralizzatoERDDAP\u2122o la memorizzazione di copie duplicate dei dati. Infatti, un dato set di dati pu\xc32 essere disponibile simultaneamente\r\nda unERDDAP\u2122all'organizzazione che ha prodotto e in realt\xe0 memorizza i dati (ad esempio, GoMOOS) \u266a\r\nda unERDDAP\u2122all'organizzazione genitoriale (ad esempio, IOOS centrale) \u266a\r\nda un tutto...NOAA ERDDAP\u2122\u266a\r\nda un governo all-US-federaleERDDAP\u2122\u266a\r\nda un mondo globaleERDDAP\u2122  (GOOS) \u266a\r\ne da specialistiERDDAP# (ad esempio, unERDDAP\u2122presso un istituto dedicato alla ricerca HAB) \u266a\r\ntutto essenzialmente istantaneamente ed efficiente perch\xe9 solo i metadati vengono trasferiti traERDDAPs, non i dati. Meglio di tutti, dopo l'inizialeERDDAP\u2122all'organizzazione originaria, tutte le altreERDDAPs pu\xf2 essere impostato rapidamente (poche ore di lavoro) , con risorse minime (un server che non ha bisogno di RAID per l'archiviazione dei dati in quanto non memorizza dati localmente) , e quindi a costo veramente minimo. Confrontare che al costo di configurare e mantenere un centro dati centralizzato con un lago di dati e la necessit\xe0 di una connessione Internet veramente massiccia, veramente costosa, pi\xf9 il problema del data center centralizzato \xe8 un unico punto di fallimento. A me,ERDDAPl'approccio decentralizzato e federato \xe8 di gran lunga superiore."]}),"\n",(0,n.jsxs)(i.p,{children:["In situazioni in cui un data center ha bisogno di pi\xf9ERDDAPs per soddisfare l'alta domanda,ERDDAPIl design \xe8 pienamente in grado di abbinare o superare le prestazioni del multi-identico-ERDDAPapproccio s-with-a-load-balancer. Hai sempre la possibilit\xe0 di configurare",(0,n.jsx)(i.a,{href:"#multiple-composite-erddaps",children:"multipli compositiERDDAP# (come discusso di seguito) "}),", ognuno dei quali ottiene tutti i loro dati da altriERDDAPs, senza bilanciamento del carico. In questo caso, vi consiglio di fare un punto di dare ciascuno dei compositiERDDAPs un nome / identit\xe0 diverso e se possibile impostarli in diverse parti del mondo (ad esempio, diverse regioni AWS) Per esempio,ERD\\_US\\_East,ERD\\_US\\_West,ERD\\_IE,ERD\\_FR,ERD\\_IT, in modo che gli utenti consapevolmente, ripetutamente, lavorare con uno specificoERDDAP, con il beneficio aggiunto che hai rimosso il rischio da un unico punto di fallimento.\r\n\xa0"]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"No."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"grids-clusters-and-federations",children:(0,n.jsxs)(i.a,{href:"#grids-clusters-and-federations",children:[" ",(0,n.jsx)(i.strong,{children:"Griglia, cluster e federazioni"})," "]})}),"\n",(0,n.jsxs)(i.p,{children:["Sotto un uso molto pesante, un singolo standaloneERDDAP\u2122verr\xe0 eseguito in uno o pi\xf9 dei",(0,n.jsx)(i.a,{href:"#heavy-loads--constraints",children:"vincoli"}),"elencati sopra e anche le soluzioni suggerite saranno insufficienti. Per tali situazioni,ERDDAP\u2122ha caratteristiche che rendono facile la costruzione di griglie scalabili (anche chiamati cluster o federazioni) diERDDAPs che permettono al sistema di gestire un uso molto pesante (ad esempio, per un grande data center) ."]}),"\n",(0,n.jsxs)(i.p,{children:["Sto usando",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Grid_computing",children:"griglia"}),"come termine generale per indicare un tipo di",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Computer_cluster",children:"cluster computer"}),"dove tutte le parti possono o non possono essere fisicamente situate in una struttura e possono o non possono essere gestite centralmente. Un vantaggio di griglie co-locate, di propriet\xe0 centrale e amministrate (cluster) che beneficiano di economie di scala (soprattutto il carico di lavoro umano) e semplificare rendendo le parti del sistema funzionano bene insieme. Un vantaggio di griglie non trasferite, non centralmente possedute e amministrate (federazioni) \xe8 che distribuiscono il carico di lavoro umano e il costo, e possono fornire qualche ulteriore tolleranza di guasto. La soluzione che propongo di seguito funziona bene per tutte le topografie di griglia, cluster e federazioni."]}),"\n",(0,n.jsxs)(i.p,{children:["L'idea di base di progettare un sistema scalabile \xe8 identificare i potenziali colli di bottiglia e quindi progettare il sistema in modo che le parti del sistema possano essere replicate come necessario per alleviare i colli di bottiglia. Idealmente, ogni parte replicata aumenta la capacit\xe0 di quella parte del sistema linearmente (efficienza di scaling) . Il sistema non \xe8 scalabile a meno che non vi sia una soluzione scalabile per ogni collo di bottiglia.",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Scalability",children:"Scalabilit\xe0"}),"\xe8 diverso dall'efficienza (come rapidamente un compito pu\xf2 essere fatto \u2014 efficienza delle parti) . La scalabilit\xe0 consente al sistema di crescere per gestire qualsiasi livello di domanda. ",(0,n.jsx)(i.strong,{children:"Efficienza"}),"   (di scaling e delle parti) determina quanti server, ecc., saranno necessari per soddisfare un determinato livello di domanda. L'efficienza \xe8 molto importante, ma ha sempre dei limiti. La scalabilit\xe0 \xe8 l'unica soluzione pratica per costruire un sistema in grado di gestire ",(0,n.jsx)(i.strong,{children:"Molto bene."})," uso pesante. Idealmente, il sistema sar\xe0 scalabile ed efficiente."]}),"\n",(0,n.jsx)(i.h3,{id:"goals",children:"Obiettivi"}),"\n",(0,n.jsx)(i.p,{children:"Gli obiettivi di questo design sono:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Per fare un'architettura scalabile (una che \xe8 facilmente estensibile replicando qualsiasi parte che diventa sovraccarica) . Per rendere un sistema efficiente che massimizza la disponibilit\xe0 e il throughput dei dati forniti alle risorse di calcolo disponibili. (Il costo \xe8 quasi sempre un problema.)"}),"\n",(0,n.jsx)(i.li,{children:"Per bilanciare le capacit\xe0 delle parti del sistema in modo che una parte del sistema non travolga un'altra parte."}),"\n",(0,n.jsx)(i.li,{children:"Per fare una semplice architettura in modo che il sistema sia facile da configurare e amministrare."}),"\n",(0,n.jsx)(i.li,{children:"Fare un'architettura che funziona bene con tutte le topografie della griglia."}),"\n",(0,n.jsx)(i.li,{children:"Fare un sistema che fallisce con grazia e in modo limitato se qualsiasi parte diventa sovraccaricata. (Il tempo necessario per copiare un grande dataset limiter\xe0 sempre la capacit\xe0 del sistema di affrontare con improvvisi aumenti della domanda di un dataset specifico.)"}),"\n",(0,n.jsxs)(i.li,{children:["(Se possibile) Fare un'architettura che non \xe8 legata a qualsiasi specifica",(0,n.jsx)(i.a,{href:"#cloud-computing",children:"cloud computing"}),"servizio o altri servizi esterni (perch\xe9 non ha bisogno di loro) ."]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"recommendations",children:"Raccomandazione"}),"\n",(0,n.jsxs)(i.p,{children:["Le nostre raccomandazioni\r\n",(0,n.jsx)(i.img,{alt:"diagramma della griglia",src:a(88623).A+"",width:"701",height:"516"})]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Fondamentalmente, suggerisco di creare un compostoERDDAP\u2122  ( ",(0,n.jsx)(i.strong,{children:"D"})," nel diagramma) , che \xe8 normaleERDDAP\u2122tranne che serve solo i dati da altriERDDAPS. L'architettura della griglia \xe8 progettata per spostare il pi\xf9 possibile il lavoro (utilizzo della CPU, utilizzo della memoria, utilizzo della larghezza di banda) dal compositoERDDAP\u2122all'altroERDDAPS."]}),"\n",(0,n.jsxs)(i.li,{children:["ERDDAP\u2122ha due tipi di dataset speciali,",(0,n.jsx)(i.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDGridDa Erddap"}),"e",(0,n.jsx)(i.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDTableFromErddap"}),", che si riferisce\r\nset di dati su altriERDDAPS."]}),"\n",(0,n.jsxs)(i.li,{children:["Quando il compositoERDDAP\u2122riceve una richiesta di dati o immagini da questi dataset, il compositoERDDAP\u2122 ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/URL_redirection",children:"reindirizzamenti"}),"la richiesta di dati all'altroERDDAP\u2122server. Il risultato \xe8:","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Questo \xe8 molto efficiente (CPU, memoria e larghezza di banda) , perch\xe9 altrimenti","\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsx)(i.li,{children:"Il compositoERDDAP\u2122deve inviare la richiesta di dati all'altroERDDAP."}),"\n",(0,n.jsx)(i.li,{children:"L'altroERDDAP\u2122deve ottenere i dati, riformattare e trasmettere i dati al compositoERDDAP."}),"\n",(0,n.jsx)(i.li,{children:"Il compositoERDDAP\u2122deve ricevere i dati (usando larghezza di banda extra) # Riformalo # (utilizzando tempo e memoria CPU extra) , e trasmettere i dati all'utente (usando larghezza di banda extra) . Reindirizzando la richiesta di dati e consentendo all'altroERDDAP\u2122inviare la risposta direttamente all'utente, il compositoERDDAP\u2122non passa essenzialmente tempo di CPU, memoria, o larghezza di banda sulle richieste di dati."}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.li,{children:"Il reindirizzamento \xe8 trasparente per l'utente indipendentemente dal software client (un browser o qualsiasi altro software o strumento di riga di comando) ."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"grid-parts",children:"Parti di macinazione"}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.a,{href:"#grid-parts",children:"Le parti della griglia sono:"})}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"A"})," : Per ogni sorgente di dati remota che ha una larghezza di banda elevataOPeNDAPserver, \xe8 possibile connettersi direttamente al server remoto. Se il server remoto \xe8 unERDDAP\u2122, usoEDDGridDa Erddap o EDDTableFromERDDAPper servire i dati nel compositoERDDAP. Se il server remoto \xe8 un altro tipo diDAPserver, ad esempio, THREDDS,Hyrax, o GrADS, usoEDDGridDa papa'."]}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"B"})," Per ogniERDDAP- fonte di dati (una fonte di dati da cuiERDDAPpu\xf2 leggere i dati) che ha un server ad alta larghezza di banda, impostare un altroERDDAP\u2122nella griglia che \xe8 responsabile per il servizio dei dati da questa fonte di dati."]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Se alcuni di questiERDDAPs non stanno ottenendo molte richieste di dati, \xe8 possibile consolidarli in unoERDDAP."}),"\n",(0,n.jsxs)(i.li,{children:["SeERDDAP\u2122dedicato a ottenere i dati da una fonte remota \xe8 ottenere troppe richieste, c'\xe8 la tentazione di aggiungere ulterioreERDDAPs per accedere alla fonte di dati remota. In casi particolari questo pu\xf2 avere senso, ma \xe8 pi\xf9 probabile che questo travolga la fonte di dati remota (che \xe8 auto-defezione) e anche impedire ad altri utenti di accedere alla sorgente dati remota (che non \xe8 bello) . In tal caso, prendere in considerazione la creazione di un altroERDDAP\u2122per servire tale dataset e copiare il dataset su quelloERDDAPIl disco rigido (vedi ",(0,n.jsx)(i.strong,{children:"C"})," ) , forse con",(0,n.jsx)(i.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridCopia"}),"e/o",(0,n.jsx)(i.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDTableCopy"}),"."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"B"})," i server devono essere accessibili pubblicamente."]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"C"})," Per ogniERDDAP-able data source che ha un server a bassa larghezza di banda (o \xe8 un servizio lento per altri motivi) , prendere in considerazione la creazione di un altroERDDAP\u2122e memorizzare una copia del dataset su questoERDDAPI dischi rigidi, forse con",(0,n.jsx)(i.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridCopia"}),"e/o",(0,n.jsx)(i.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDTableCopy"}),". Se alcuni di questiERDDAPs non stanno ottenendo molte richieste di dati, \xe8 possibile consolidarli in unoERDDAP.\r\n",(0,n.jsx)(i.strong,{children:"C"})," i server devono essere accessibili pubblicamente."]}),"\n",(0,n.jsx)(i.h4,{id:"composite-erddap",children:"CompositoERDDAP"}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"D"})," : Il compositoERDDAP\u2122\xe8 normaleERDDAP\u2122tranne che serve solo i dati da altriERDDAPS."]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Perch\xe9 il compositoERDDAP\u2122ha informazioni in memoria di tutti i dataset, pu\xf2 rispondere rapidamente alle richieste di elenchi di set di dati (ricerca di testo completo, categoria ricerche, l'elenco di tutti i set di dati) , e le richieste di un modulo di accesso dati di un singolo set di dati, fare un modulo di grafico, oWMSpagina delle informazioni. Queste sono tutte piccole, generate dinamicamente, pagine HTML basate su informazioni che si tengono in memoria. Quindi le risposte sono molto veloci."}),"\n",(0,n.jsx)(i.li,{children:"Poich\xe9 le richieste di dati effettivi sono rapidamente reindirizzate all'altroERDDAPs, il compositoERDDAP\u2122pu\xf2 rispondere rapidamente alle richieste di dati reali senza utilizzare qualsiasi tempo della CPU, memoria o larghezza di banda."}),"\n",(0,n.jsx)(i.li,{children:"Spostando il pi\xf9 possibile il lavoro (CPU, memoria, larghezza di banda) dal compositoERDDAP\u2122all'altroERDDAPs, il compositoERDDAP\u2122pu\xf2 apparire per servire i dati da tutti i dataset e ancora tenere il passo con un gran numero di richieste di dati da un gran numero di utenti."}),"\n",(0,n.jsx)(i.li,{children:"I test preliminari indicano che il compositoERDDAP\u2122pu\xf2 rispondere alla maggior parte delle richieste in ~1ms di tempo della CPU, o 1000 richieste/secondo. Quindi un processore di 8 core dovrebbe essere in grado di rispondere a circa 8000 richieste/secondo. Anche se \xe8 possibile prevedere scoppi di attivit\xe0 pi\xf9 alta che causerebbe rallentamenti, che \xe8 un sacco di throughput. \xc8 probabile che la larghezza di banda del data center sar\xe0 il collo di bottiglia molto prima del compositoERDDAP\u2122diventa il collo di bottiglia."}),"\n"]}),"\n",(0,n.jsx)(i.h5,{id:"up-to-date-maxtime",children:"Max aggiornato (tempo) ?"}),"\n",(0,n.jsxs)(i.p,{children:["TheEDDGrid/TableFromErddap in compositoERDDAP\u2122solo modifica le informazioni memorizzate su ogni dataset sorgente quando il dataset sorgente \xe8",(0,n.jsx)(i.a,{href:"/docs/server-admin/datasets#reloadeverynminutes",children:'"ricarica"'}),"e qualche pezzo di cambiamenti di metadati (ad esempio, la variabile di tempoactual\\_range) , generando cos\xec una notifica di abbonamento. Se il dataset sorgente ha dati che cambiano frequentemente (ad esempio, nuovi dati ogni secondo) e utilizza",(0,n.jsx)(i.a,{href:"/docs/server-admin/datasets#updateeverynmillis",children:'"aggiornamento"'}),'sistema per rilevare frequenti modifiche ai dati sottostanti,EDDGrid/TableFromErddap non sar\xe0 avvisato di questi frequenti cambiamenti fino al successivo set di dati "ricarica", cos\xec ilEDDGrid/TableFromErddap non sar\xe0 perfettamente aggiornato. \xc8 possibile ridurre al minimo questo problema modificando il dataset sorgente<reloadEveryNMinutes> a un valore pi\xf9 piccolo (60? 15?) in modo che ci sono pi\xf9 notifiche di abbonamento per raccontareEDDGrid/TableFromErddap per aggiornare le sue informazioni sul dataset sorgente.']}),"\n",(0,n.jsx)(i.p,{children:"Oppure, se il sistema di gestione dei dati sa quando il dataset sorgente ha nuovi dati (ad esempio, tramite uno script che copia un file di dati in atto) , e se non \xe8 super frequente (ad esempio, ogni 5 minuti, o meno frequenti) C'\xe8 una soluzione migliore:"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsx)(i.li,{children:"Non usare<updateEveryNMillis> per mantenere aggiornati i dati di origine."}),"\n",(0,n.jsx)(i.li,{children:"Impostare il dataset sorgente<reloadEveryNMinutes> a un numero maggiore (1440?) ."}),"\n",(0,n.jsxs)(i.li,{children:["Fai contattare lo script del dataset sorgente",(0,n.jsx)(i.a,{href:"/docs/server-admin/additional-information#set-dataset-flag",children:"URL della bandiera"}),"subito dopo che copia un nuovo file di dati in atto.\r\nCi\xf2 porter\xe0 al set di dati di origine essere perfettamente aggiornato e causare la creazione di una notifica di abbonamento, che verr\xe0 inviata alEDDGrid/TableFromErddap dataset. Questo porter\xe0EDDGrid/TableFromErddap dataset per essere perfettamente aggiornato (bene, entro 5 secondi dall'aggiunta di nuovi dati) . E tutto ci\xf2 che sar\xe0 fatto in modo efficiente (senza inutili ricarica dataset) ."]}),"\n"]}),"\n",(0,n.jsx)(i.h4,{id:"multiple-composite-erddaps",children:"Composizione multiplaERDDAP#"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"In casi molto estremi, o per la tolleranza di guasto, si pu\xf2 desiderare di impostare pi\xf9 di un compositoERDDAP. \xc8 probabile che altre parti del sistema (in particolare, la larghezza di banda del data center) diventer\xe0 un problema molto prima del compositoERDDAP\u2122diventa un collo di bottiglia. Quindi la soluzione \xe8 probabilmente per impostare ulteriori, geografici diversi, data center (specchi) , ciascuno con un compositoERDDAP\u2122e server conERDDAPe (almeno) copie a specchio dei dataset che sono in alta domanda. Tale configurazione fornisce anche tolleranza di errore e backup dei dati (tramite copia) . In questo caso, \xe8 meglio se il compositoERDDAPs hanno URL differenti."}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"Se davvero vuoi tutto il compositoERDDAPs per avere lo stesso URL, utilizzare un sistema front-end che assegna un dato utente a uno solo dei compositiERDDAP# (in base all'indirizzo IP) , in modo che tutte le richieste dell'utente vadano a uno solo dei compositoERDDAPS. Ci sono due ragioni:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Quando un dataset sottostante viene ricaricato e i metadati cambiano (ad esempio, un nuovo file di dati in un set di dati grigliato causa la variabile di tempoactual\\_rangea cambiare) , il compositoERDDAPs sar\xe0 temporaneamente leggermente fuori dalla sincronia, ma con",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Eventual_consistency",children:"consistenza eventuale"}),". Normalmente, ri-sincroniranno entro 5 secondi, ma a volte sar\xe0 pi\xf9 lungo. Se un utente effettua un sistema automatizzato che si basa su",(0,n.jsx)(i.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/subscriptions/index.html",children:"ERDDAP\u2122sottoscrizioni"}),"che attivano le azioni, i brevi problemi di sincronizzazione diventeranno significativi."]}),"\n",(0,n.jsx)(i.li,{children:"2+ compositoERDDAPe ciascuno mantiene il proprio insieme di abbonamenti (a causa del problema di sincronizzazione descritto sopra) ."}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["Quindi un dato utente dovrebbe essere diretto a uno solo dei compositoERDDAPs per evitare questi problemi. Se uno dei compositiERDDAPs va gi\xf9, il sistema front-end pu\xf2 reindirizzare cheERDDAPGli utenti di un altroERDDAP\u2122E' finita. Tuttavia, se si tratta di un problema di capacit\xe0 che causa il primo compositoERDDAP\u2122fallire (un utente troppo zelante? a",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Denial-of-service_attack",children:"attacco denial-of-service"}),"?) , questo rende molto probabile che reindirizzare i suoi utenti ad altri compositoERDDAPs causer\xe0",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Cascading_failure",children:"guasto a cascata"}),". Cos\xec, la configurazione pi\xf9 robusta \xe8 quella di avere compositoERDDAPs con URL diversi."]}),"\n",(0,n.jsx)(i.p,{children:"O, forse meglio, impostare pi\xf9 compositoERDDAPs senza bilanciamento del carico. In questo caso, si dovrebbe fare un punto di dare ciascuno deiERDDAPs un nome / identit\xe0 diverso e se possibile impostarli in diverse parti del mondo (ad esempio, diverse regioni AWS) Per esempio,ERD\\_US\\_East,ERD\\_US\\_West,ERD\\_IE,ERD\\_FR,ERD\\_IT, in modo che gli utenti consapevolmente, ripetutamente lavorare con uno specificoERDDAP."}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["\\[Per un design affascinante di un sistema ad alte prestazioni in esecuzione su un server, vedere questo",(0,n.jsx)(i.a,{href:"https://mailinator.blogspot.com/2007/01/architecture-of-mailinator.html",children:"descrizione dettagliata di Mailinator"}),".\\]"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"datasets-in-very-high-demand",children:"Datasets in altissima domanda"}),"\n",(0,n.jsxs)(i.p,{children:["Nel caso davvero insolito che uno dei ",(0,n.jsx)(i.strong,{children:"A"})," \u266a ",(0,n.jsx)(i.strong,{children:"B"})," o ",(0,n.jsx)(i.strong,{children:"C"}),"  ERDDAPs non pu\xf2 tenere il passo con le richieste a causa delle limitazioni della larghezza di banda o del disco rigido, ha senso copiare i dati (di nuovo) su un altro server+hard Drive+ERDDAP, forse con",(0,n.jsx)(i.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridCopia"}),"e/o",(0,n.jsx)(i.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDTableCopy"}),'. Mentre pu\xf2 sembrare ideale per avere il dataset originale e il dataset copiato appaiono senza soluzione di continuit\xe0 come un dataset nel compositoERDDAP\u2122, questo \xe8 difficile perch\xe9 i due set di dati saranno in stati leggermente diversi in tempi diversi (in particolare, dopo che l\'originale ottiene nuovi dati, ma prima che il dataset copiato ottiene la sua copia) . Pertanto, consiglio che i dataset siano dati titoli leggermente diversi (ad esempio, "... (copia #1) "e "... (copia #2) ", o forse " (specchio ',(0,n.jsx)(i.em,{children:"n"}),' ) " o " (server ',(0,n.jsx)(i.em,{children:"n"}),' ) ") e appaiono come set di dati separati nel compositoERDDAP. Gli utenti sono utilizzati per vedere le liste di',(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Website#mirror_site",children:"siti mirror"}),'in siti di download di file popolari, in modo che questo non dovrebbe sorprendere o deluderli. A causa di limitazioni di larghezza di banda in un dato sito, potrebbe avere senso avere lo specchio situato in un altro sito. Se la copia dello specchio \xe8 in un centro dati diverso, accessibile solo dal composito di quel data centerERDDAP\u2122, i diversi titoli (ad esempio, "mirror #1) Non sono necessari.']}),"\n",(0,n.jsx)(i.h3,{id:"raids-versus-regular-hard-drives",children:"RAID contro dischi rigidi regolari"}),"\n",(0,n.jsxs)(i.p,{children:["Se un grande dataset o un gruppo di dataset non sono pesantemente utilizzati, pu\xf2 avere senso memorizzare i dati su un RAID in quanto offre tolleranza di errore e dal momento che non \xe8 necessario il potere di elaborazione o la larghezza di banda di un altro server. Ma se un dataset viene utilizzato pesantemente, potrebbe avere pi\xf9 senso copiare i dati su un altro server +ERDDAP\u2122+ disco rigido (simile a",(0,n.jsx)(i.a,{href:"https://storagemojo.com/2007/02/19/googles-disk-failure-experience/",children:"ci\xf2 che Google fa"}),") piuttosto che utilizzare un server e un RAID per memorizzare pi\xf9 set di dati in quanto \xe8 possibile utilizzare sia server+hardDrive+ERDDAPs in griglia finch\xe9 uno di loro non fallisce."]}),"\n",(0,n.jsx)(i.h3,{id:"failures",children:"Inadempimento"}),"\n",(0,n.jsx)(i.p,{children:"Cosa succede se..."}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"C'\xe8 una serie di richieste per un set di dati (ad esempio, tutti gli studenti di una classe richiedono simultaneamente dati simili) ?\r\nSoloERDDAP\u2122servire quel dataset sar\xe0 sopraffatto e rallentare o rifiutare richieste. Il compositoERDDAP\u2122e altriERDDAPNon saranno colpiti. Poich\xe9 il fattore limitante per un dato set di dati all'interno del sistema \xe8 il disco rigido con i dati (nonERDDAP) , l'unica soluzione (non immediato) \xe8 fare una copia del set di dati su un server diverso+hardDrive+ERDDAP."}),"\n",(0,n.jsxs)(i.li,{children:["An ",(0,n.jsx)(i.strong,{children:"A"})," \u266a ",(0,n.jsx)(i.strong,{children:"B"})," o ",(0,n.jsx)(i.strong,{children:"C"}),"  ERDDAP\u2122fallisce (ad esempio, guasto del disco rigido) ?\r\nSolo il dataset (#) servito da quelloERDDAP\u2122sono colpiti. Se il dataset (#) \xe8 specchiato su un altro server+hardDrive+ERDDAP, l'effetto \xe8 minimo. Se il problema \xe8 un guasto del disco rigido in un livello 5 o 6 RAID, \xe8 sufficiente sostituire l'unit\xe0 e avere il RAID ricostruire i dati sull'unit\xe0."]}),"\n",(0,n.jsxs)(i.li,{children:["Il compositoERDDAP\u2122fallisce?\r\nSe si desidera fare un sistema con molto",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/High_availability",children:"elevata disponibilit\xe0"}),", si pu\xf2 impostare",(0,n.jsx)(i.a,{href:"#multiple-composite-erddaps",children:"multipli compositiERDDAP# (come discusso sopra) "}),", usando qualcosa come",(0,n.jsx)(i.a,{href:"https://www.nginx.com/",children:"NGINX"}),"o",(0,n.jsx)(i.a,{href:"https://traefik.io/",children:"Traefik"}),"per gestire il bilanciamento del carico. Si noti che un dato compositoERDDAP\u2122pu\xf2 gestire un gran numero di richieste da un gran numero di utenti perch\xe9\r\nle richieste di metadati sono piccole e sono gestite da informazioni che sono in memoria, e\r\nrichieste di dati (che possono essere grandi) sono reindirizzati al bambinoERDDAPS."]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"simple-scalable",children:"Semplice, scalabile"}),"\n",(0,n.jsx)(i.p,{children:"Questo sistema \xe8 facile da configurare e amministrare, e facilmente estensibile quando qualsiasi parte di esso diventa sovraccaricato. Le uniche limitazioni reali per un data data center sono la larghezza di banda del data center e il costo del sistema."}),"\n",(0,n.jsx)(i.h3,{id:"bandwidth",children:"Larghezza di banda"}),"\n",(0,n.jsx)(i.p,{children:"Notare la larghezza di banda approssimativa dei componenti comunemente utilizzati del sistema:"}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Componenti"}),(0,n.jsx)(i.th,{children:"Larghezza di banda approssimativa (GBytes/s)"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Memoria DDR"}),(0,n.jsx)(i.td,{children:"2,5"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Unit\xe0 SSD"}),(0,n.jsx)(i.td,{children:"1"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Disco rigido SATA"}),(0,n.jsx)(i.td,{children:"0"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Gigabit Ethernet"}),(0,n.jsx)(i.td,{children:"0,1"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"OC-12"}),(0,n.jsx)(i.td,{children:"0.06"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"OC-3"}),(0,n.jsx)(i.td,{children:"0.015"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"T1"}),(0,n.jsx)(i.td,{children:"0.0002"})]})]})]}),"\n",(0,n.jsxs)(i.p,{children:["Quindi, un disco rigido SATA (0,3 GB/i) su un server con unoERDDAP\u2122pu\xf2 probabilmente saturare una LAN Ethernet Gigabit (0.1GB/s) . E una Gigabit Ethernet LAN (0.1GB/s) pu\xf2 probabilmente saturare una connessione Internet OC-12 (0.06GB/s) . E almeno una fonte elenca linee OC-12 che costano circa $100,000 al mese. (S\xec, questi calcoli si basano sul spingere il sistema ai suoi limiti, che non \xe8 buono perch\xe9 porta a risposte molto lente. Ma questi calcoli sono utili per la pianificazione e per il bilanciamento delle parti del sistema.)   ",(0,n.jsx)(i.strong,{children:"Chiaramente, una connessione Internet adeguata per il vostro data center \xe8 di gran lunga la parte pi\xf9 costosa del sistema."})," Si pu\xf2 facilmente e relativamente a buon mercato costruire una griglia con una dozzina di server che eseguono una dozzinaERDDAPs che \xe8 in grado di pompare un sacco di dati rapidamente, ma una connessione Internet opportunamente veloce sar\xe0 molto, molto costoso. Le soluzioni parziali sono:"]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Incoraggia i client a richiedere sottoinsiemi dei dati se \xe8 tutto ci\xf2 che \xe8 necessario. Se il cliente ha bisogno solo di dati per una piccola regione o ad una risoluzione pi\xf9 bassa, \xe8 quello che dovrebbero richiedere. Subsetting \xe8 un focus centrale dei protocolliERDDAP\u2122supporti per la richiesta di dati."}),"\n",(0,n.jsxs)(i.li,{children:["Incoraggiare la trasmissione di dati compressi.ERDDAP\u2122 ",(0,n.jsx)(i.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#compression",children:"compresse"}),'una trasmissione di dati se trova "accept-encoding" nelHTTP GETrichiedere l\'intestazione. Tutti i browser web utilizzano "accept-encoding" e decomprimere automaticamente la risposta. Altri clienti (ad esempio, programmi per computer) deve usarlo esplicitamente.']}),"\n",(0,n.jsx)(i.li,{children:"Colocate i vostri server in un ISP o in un altro sito che offre costi di larghezza di banda relativamente meno costosi."}),"\n",(0,n.jsx)(i.li,{children:"Disperse i server conERDDAPs a istituzioni diverse in modo che i costi siano dispersi. Puoi quindi collegare il tuo compositoERDDAP\u2122a loroERDDAPS."}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["Nota:",(0,n.jsx)(i.a,{href:"#cloud-computing",children:"Cloud Computing"}),"e servizi web hosting offrono tutta la larghezza di banda Internet di cui hai bisogno, ma non risolvere il problema dei prezzi."]}),"\n",(0,n.jsxs)(i.p,{children:["Per informazioni generali sulla progettazione di sistemi scalabili, ad alta capacit\xe0, tolleranti errori, vedere il libro di Michael T. Nygard",(0,n.jsx)(i.a,{href:"https://www.amazon.com/Release-Production-Ready-Software-Pragmatic-Programmers/dp/0978739213",children:"Rilasciare"}),"."]}),"\n",(0,n.jsx)(i.h3,{id:"like-legos",children:"Come Legos"}),"\n",(0,n.jsxs)(i.p,{children:["I progettisti di software spesso cercano di usare il bene",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Software_design_pattern",children:"modelli di progettazione software"}),"risolvere i problemi. Buoni modelli sono buoni perch\xe9 incapsulate bene, facile da creare e lavorare con, soluzioni generali che portano a sistemi con buone propriet\xe0. I nomi dei modelli non sono standardizzati, quindi chiamer\xf2 il modello cheERDDAP\u2122utilizza il modello Lego. Ogni lego (ciascunoERDDAP) \xe8 un semplice, piccolo, standard, stand-alone, mattoni (server dati) con un'interfaccia definita che permette di essere collegata ad altri legos (ERDDAP#) . Le parti diERDDAP\u2122che compongono questo sistema sono: l'abbonamento e i sistemi flagURL (che permette la comunicazione traERDDAP#) L'ESD... FromErddap sistema redirect, e il sistema diRESTfulrichieste di dati che possono essere generati da utenti o altriERDDAPS. Cos\xec, dato due o pi\xf9 legos (ERDDAP#) , \xe8 possibile creare un numero enorme di forme diverse (topologie di reteERDDAP#) . Certo, il design e le caratteristiche diERDDAP\u2122avrebbe potuto essere fatto in modo diverso, non Lego-come, forse solo per consentire e ottimizzare per una specifica topologia. Ma sentiamo cheERDDAPIl design Lego-like offre una buona soluzione generale che consente qualsiasiERDDAP\u2122amministratore (o gruppo di amministratori) creare tutti i tipi di diverse topologie federazioni. Per esempio, una singola organizzazione potrebbe costituire tre (o pi\xf9)  ERDDAPs come mostrato nella",(0,n.jsx)(i.a,{href:"#recommendations",children:"ERDDAP\u2122Diagramma Griglia/Cluster sopra"}),". O un gruppo distribuito (IOOS? CoastWatch? NCEI? NWS?NOAA? USGS? DataONE? No? LTER? OOI? BODC? ONC? CCR? WMO?) pu\xf2 impostare unoERDDAP\u2122in ogni piccolo avamposto (in modo che i dati possano rimanere vicini alla fonte) e poi impostare un compositoERDDAP\u2122nell'ufficio centrale con dataset virtuali (che sono sempre perfettamente aggiornati) da ogni piccolo avampostoERDDAPS. Infatti, tuttiERDDAPs, installato in varie istituzioni di tutto il mondo, che ottengono dati da altriERDDAPs e/o fornire dati ad altriERDDAPs, formare una rete gigante diERDDAPS. Che figata! Cos\xec, come da Lego, le possibilit\xe0 sono infinite. Ecco perch\xe9 questo \xe8 un buon modello. Ecco perch\xe9 questo \xe8 un buon design perERDDAP."]}),"\n",(0,n.jsx)(i.h3,{id:"different-types-of-requests",children:"Diversi tipi di richieste"}),"\n",(0,n.jsx)(i.p,{children:"Una delle complicazioni della vita reale di questa discussione delle topologie del server dati \xe8 che ci sono diversi tipi di richieste e modi diversi per ottimizzare per i diversi tipi di richieste. Questo \xe8 per lo pi\xf9 un problema separato (Quanto velocemente pu\xf2ERDDAP\u2122con i dati rispondono alla richiesta di dati?) dalla discussione di topologia (che si occupa delle relazioni tra i server di dati e quali server ha i dati effettivi) .ERDDAP\u2122, naturalmente, cerca di trattare con tutti i tipi di richieste in modo efficiente, ma gestisce alcuni meglio di altri."}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Molte richieste sono semplici.\r\nPer esempio: Quali sono i metadati per questo dataset? Oppure: Quali sono i valori della dimensione del tempo per questo dataset grigliato?ERDDAP\u2122\xe8 progettato per gestire questi il pi\xf9 rapidamente possibile (solitamente in<=2 ms) mantenendo queste informazioni in memoria.\r\n\xa0"}),"\n",(0,n.jsx)(i.li,{children:"Alcune richieste sono moderatamente difficili.\r\nPer esempio: Dammi questo sottoinsieme di un set di dati (che \xe8 in un file di dati) . Queste richieste possono essere gestite relativamente rapidamente perch\xe9 non sono cos\xec difficili.\r\n\xa0"}),"\n",(0,n.jsxs)(i.li,{children:["Alcune richieste sono difficili e quindi richiedono tempo.\r\nPer esempio: Dammi questo sottoinsieme di un set di dati (che potrebbe essere in uno qualsiasi dei file di dati 10.000+, o potrebbe essere da file di dati compressi che ogni prendono 10 secondi per decomprimere) .ERDDAP\u2122v2.0 ha introdotto alcuni nuovi e pi\xf9 veloci modi per affrontare queste richieste, in particolare consentendo al thread di gestione delle richieste di deporre diversi thread dei lavoratori che affrontano diversi sottoinsiemi della richiesta. Ma c'\xe8 un altro approccio a questo problema cheERDDAP\u2122non supporta ancora: i sottoset dei file di dati per un dato set di dati potrebbero essere memorizzati e analizzati su computer separati, e quindi i risultati combinati sul server originale. Questo approccio si chiama",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/MapReduce",children:"MappaRiduzione"}),"ed \xe8 esemplare da",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Apache_Hadoop",children:"Hadoop"}),"Il primo (?) open-source MapRidurre programma, che era basato su idee di un giornale di Google. (Se hai bisogno di MapReduce inERDDAP, si prega di inviare una richiesta e-mail aerd.data at noaa.gov.) Google's",(0,n.jsx)(i.a,{href:"https://cloud.google.com/bigquery/",children:"BigQuery"}),"\xe8 interessante perch\xe9 sembra essere un'implementazione di MapReduce applicato a sottosetting set di dati tabulari, che \xe8 uno deiERDDAPGli obiettivi principali. \xc8 probabile che tu possa creare unERDDAP\u2122dataset da un dataset BigQuery tramite",(0,n.jsx)(i.a,{href:"/docs/server-admin/datasets#eddtablefromdatabase",children:"EDDTableDatabase"}),"perch\xe9 BigQuery pu\xf2 essere accessibile tramite un'interfaccia JDBC."]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"these-are-my-opinions",children:"Queste sono le mie opinioni."}),"\n",(0,n.jsx)(i.p,{children:"S\xec, i calcoli sono semplicistici (e ora leggermente datato) , ma credo che le conclusioni siano corrette. Ho usato la logica difettosa o ho commesso un errore nei miei calcoli? Se \xe8 cos\xec, la colpa \xe8 mia da sola. Si prega di inviare una e-mail con la correzione aerd dot data at noaa dot gov."}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"No."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"cloud-computing",children:(0,n.jsxs)(i.a,{href:"#cloud-computing",children:[" ",(0,n.jsx)(i.strong,{children:"Cloud Computing"})," "]})}),"\n",(0,n.jsxs)(i.p,{children:["Molte aziende offrono servizi di cloud computing (ad esempio,",(0,n.jsx)(i.a,{href:"https://aws.amazon.com/",children:"Servizi web Amazon"}),"e",(0,n.jsx)(i.a,{href:"https://cloud.google.com/",children:"Google Cloud Piattaforma"}),") .",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Web_hosting_service",children:"Web hosting aziende"}),'hanno offerto servizi pi\xf9 semplici dalla met\xe0 del 1990, ma i servizi "cloud" hanno notevolmente ampliato la flessibilit\xe0 dei sistemi e la gamma di servizi offerti. DalERDDAP\u2122griglia solo consiste diERDDAPs e daERDDAP#Javaapplicazioni web che possono funzionare in Tomcat (il server di applicazione pi\xf9 comune) o altri server di applicazione, dovrebbe essere relativamente facile configurare unERDDAP\u2122griglia su un servizio cloud o sito web hosting. I vantaggi di questi servizi sono:']}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Essi offrono l'accesso a connessioni Internet molto alte larghezza di banda. Questo solo pu\xf2 giustificare l'utilizzo di questi servizi."}),"\n",(0,n.jsx)(i.li,{children:"Essi addebitano solo per i servizi che si utilizzano. Ad esempio, si ottiene l'accesso a una connessione Internet molto alta larghezza di banda, ma si paga solo per i dati reali trasferiti. Che ti permette di costruire un sistema che raramente viene sopraffatto (anche al picco della domanda) , senza dover pagare per la capacit\xe0 che raramente viene utilizzata."}),"\n",(0,n.jsx)(i.li,{children:"Sono facilmente estensibili. \xc8 possibile modificare i tipi di server o aggiungere il maggior numero di server o la quantit\xe0 di archiviazione che si desidera, in meno di un minuto. Questo solo pu\xf2 giustificare l'utilizzo di questi servizi."}),"\n",(0,n.jsx)(i.li,{children:"Essi vi liberano da molti dei doveri amministrativi di gestire i server e le reti. Questo solo pu\xf2 giustificare l'utilizzo di questi servizi."}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"Gli svantaggi di questi servizi sono:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Essi addebitano per i loro servizi, a volte molto (in termini assoluti; non che non sia un buon valore) . I prezzi indicati qui sono per",(0,n.jsx)(i.a,{href:"https://aws.amazon.com/ec2/pricing",children:"Amazon EC2"}),". Questi prezzi (a partire da giugno 2015) scender\xe0.\r\nIn passato, i prezzi erano pi\xf9 alti, ma i file di dati e il numero di richieste erano pi\xf9 piccoli.\r\nIn futuro, i prezzi saranno inferiori, ma i file di dati e il numero di richieste saranno pi\xf9 grandi.\r\nQuindi i dettagli cambiano, ma la situazione rimane relativamente costante.\r\nE non \xe8 che il servizio \xe8 troppo costoso, \xe8 che stiamo usando e l'acquisto di un sacco di servizio.","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Trasferimento dati \u2014 I trasferimenti di dati nel sistema sono ora gratuiti (Si'!) .\r\nI trasferimenti di dati fuori dal sistema sono $0.09/GB.\r\nUn disco rigido SATA (0,3 GB/i) su un server con unoERDDAP\u2122pu\xf2 probabilmente saturare una LAN Ethernet Gigabit (0.1GB/s) .\r\nUna rete Ethernet Gigabit (0.1GB/s) pu\xf2 probabilmente saturare una connessione Internet OC-12 (0.06GB/s) .\r\nSe una connessione OC-12 pu\xf2 trasmettere ~ 150.000 GB/mese, i costi di trasferimento dati potrebbero essere pari a 150.000 GB @ $0.09/GB = $13,500/mese, che \xe8 un costo significativo. Chiaramente, se avete una dozzina di laboriosiERDDAPs su un servizio cloud, le spese mensili di trasferimento dati potrebbero essere sostanziali (fino a $162,000/mese) . (Ancora una volta, non \xe8 che il servizio \xe8 troppo costoso, \xe8 che stiamo usando e l'acquisto di un sacco di servizio.)"}),"\n",(0,n.jsxs)(i.li,{children:["Archiviazione dati \u2014 Amazon addebita $50/mese per TB. (Confrontare che per acquistare un drive 4TB enterprise outright per ~ $ 50 / TB, anche se il RAID per metterlo in e costi amministrativi aggiungere al costo totale.) Quindi, se \xe8 necessario memorizzare un sacco di dati nel cloud, potrebbe essere abbastanza costoso (ad esempio, 100TB costerebbe $5000/mese) . Ma a meno che non si dispone di una quantit\xe0 davvero grande di dati, questo \xe8 un problema pi\xf9 piccolo rispetto ai costi di trasferimento di banda / dati. (Ancora una volta, non \xe8 che il servizio \xe8 troppo costoso, \xe8 che stiamo usando e l'acquisto di un sacco di servizio.)",(0,n.jsx)(i.br,{}),"\n","\xa0"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"subsetting",children:"Sospensione"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Il problema di sottosetting: L'unico modo per distribuire efficacemente i dati dai file di dati \xe8 quello di avere il programma che sta distribuendo i dati (ad esempio,ERDDAP) in esecuzione su un server che ha i dati memorizzati su un disco rigido locale (o simile accesso rapido a un SAN o RAID locale) . I file system locali consentonoERDDAP\u2122  (e librerie sottostanti, come netcdf-java) richiedere intervalli di byte specifici dai file e ottenere risposte molto rapidamente. Molti tipi di richieste di dati daERDDAP\u2122al file (in particolare richieste di dati grigliate in cui il valore del passo \xe8 > 1) non pu\xf2 essere fatto in modo efficiente se il programma deve richiedere l'intero file o grandi pezzi di un file da un non-locale (quindi pi\xf9 lento) sistema di archiviazione dati e quindi estrarre un sottoinsieme. Se la configurazione del cloud non d\xe0ERDDAP\u2122accesso rapido a intervalli byte dei file (veloce come con i file locali) \u266aERDDAPL'accesso ai dati sar\xe0 un grave collo di bottiglia e nega altri vantaggi di utilizzare un servizio cloud."}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"hosted-data",children:"Dati ospitati"}),"\n",(0,n.jsx)(i.p,{children:"Un'alternativa all'analisi delle prestazioni di costo superiore (che si basa sul titolare dei dati (ad esempio,NOAA) il pagamento dei dati da memorizzare nel cloud) \xe8 arrivato intorno al 2012, quando Amazon (e in misura minore, alcuni altri fornitori di cloud) ha iniziato ad ospitare alcuni set di dati nel loro cloud (AWS S3) gratis (presumibilmente con la speranza che possano recuperare i loro costi se gli utenti avrebbero affittato istanze di calcolo AWS EC2 per lavorare con quei dati) . Chiaramente, questo rende il cloud computing molto pi\xf9 conveniente, perch\xe9 il tempo e il costo per caricare i dati e ospitarlo sono ora zero. ConERDDAP\u2122v2.0, ci sono nuove funzionalit\xe0 per facilitare l'esecuzioneERDDAPin una nuvola:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Ora, unEDDGridFromFiles o EDDTableFromFiles dataset pu\xf2 essere creato da file di dati che sono remoti e accessibili tramite Internet (ad esempio, secchi AWS S3) usando<cacheFromUrl> e<cacheSize GB> opzioni.ERDDAP\u2122manterr\xe0 una cache locale dei file di dati pi\xf9 recenti utilizzati."}),"\n",(0,n.jsx)(i.li,{children:"Ora, se qualsiasi file sorgente EDDTableFromFiles viene compresso (ad esempio,.tgz) \u266aERDDAP\u2122li decomprime automaticamente quando li legge."}),"\n",(0,n.jsx)(i.li,{children:"Ora,ERDDAP\u2122thread rispondendo a una data richiesta saranno deposte i fili del lavoratore a lavorare su sottosezioni della richiesta se si utilizza la<nThreads> opzioni. Questa parallelizzazione dovrebbe consentire risposte pi\xf9 rapide alle richieste difficili."}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"Queste modifiche risolvono il problema di AWS S3 non offrendo archiviazione di file locale, a livello di blocco e il (vecchio) problema di accesso ai dati S3 che hanno un ritardo significativo. (Anni fa (~ 2014) , quel ritardo era significativo, ma ora \xe8 molto pi\xf9 breve e quindi non cos\xec significativo.) Tutto sommato, significa che l'impostazioneERDDAP\u2122nel cloud funziona molto meglio ora."}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Grazie."})," \u2014 Molte grazie a Matthew Arrott e al suo gruppo nello sforzo OOI originale per il loro lavoro sul mettereERDDAP\u2122nel cloud e le discussioni risultanti.\r\n\xa0"]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"No."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"remote-replication-of-datasets",children:(0,n.jsx)(i.a,{href:"#remote-replication-of-datasets",children:"Replica a distanza di Datasets"})}),"\n",(0,n.jsx)(i.p,{children:"C'\xe8 un problema comune che \xe8 legato alla discussione sopra di griglie e federazioni diERDDAPs: replica remota di datasets. Il problema di base \xe8: un data provider mantiene un dataset che cambia di tanto in tanto e un utente vuole mantenere una copia locale aggiornata di questo dataset (per una variet\xe0 di motivi) . Chiaramente, ci sono un numero enorme di variazioni di questo. Alcune variazioni sono molto pi\xf9 difficili da affrontare rispetto ad altre."}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Aggiornamenti veloci\r\n\xc8 pi\xf9 difficile mantenere aggiornati i dati locali ",(0,n.jsx)(i.em,{children:"immediatamente"}),"   (ad esempio, entro 3 secondi) dopo ogni cambiamento alla fonte, piuttosto che, per esempio, in poche ore.\r\n\xa0"]}),"\n",(0,n.jsx)(i.li,{children:"Variazioni frequenti\r\nI cambiamenti frequenti sono pi\xf9 difficili da affrontare rispetto ai cambiamenti infrequenti. Ad esempio, i cambiamenti di una volta al giorno sono molto pi\xf9 facili da affrontare rispetto ai cambiamenti ogni 0,1 secondi.\r\n\xa0"}),"\n",(0,n.jsx)(i.li,{children:"Piccoli cambiamenti\r\nI piccoli cambiamenti in un file sorgente sono pi\xf9 difficili da affrontare di un file completamente nuovo. Questo \xe8 particolarmente vero se i piccoli cambiamenti possono essere ovunque nel file. I piccoli cambiamenti sono pi\xf9 difficili da rilevare e rendono difficile isolare i dati che devono essere replicati. I nuovi file sono facili da rilevare ed efficienti da trasferire.\r\n\xa0"}),"\n",(0,n.jsx)(i.li,{children:"Intero Dataset\r\nMantenere un intero dataset up-to-date \xe8 pi\xf9 difficile che mantenere solo i dati recenti. Alcuni utenti hanno solo bisogno di dati recenti (ad esempio, l'ultimo 8 giorni vale) .\r\n\xa0"}),"\n",(0,n.jsx)(i.li,{children:"Copie multiple\r\nMantenere pi\xf9 copie remote in diversi siti \xe8 pi\xf9 difficile di mantenere una copia remota. Questo \xe8 il problema della scala.\r\n\xa0"}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"Ci sono ovviamente un numero enorme di variazioni di possibili tipi di modifiche al dataset sorgente e delle esigenze e aspettative dell'utente. Molte delle variazioni sono molto difficili da risolvere. La soluzione migliore per una situazione non \xe8 spesso la soluzione migliore per un'altra situazione \u2014 non c'\xe8 ancora una grande soluzione universale."}),"\n",(0,n.jsx)(i.h3,{id:"relevant-erddap-tools",children:(0,n.jsxs)(i.a,{href:"#relevant-erddap-tools",children:[" ",(0,n.jsx)(i.strong,{children:"RilevamentoERDDAP\u2122Strumenti"})," "]})}),"\n",(0,n.jsx)(i.p,{children:"ERDDAP\u2122offre diversi strumenti che possono essere utilizzati come parte di un sistema che cerca di mantenere una copia remota di un set di dati:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["ERDDAP'",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/RSS",children:"RSS  (Ricco del Sito?) servizio"}),(0,n.jsx)(i.br,{}),"\n","offre un modo rapido per verificare se un set di dati su un telecomandoERDDAP\u2122\xe8 cambiato.\r\n\xa0"]}),"\n",(0,n.jsxs)(i.li,{children:["ERDDAP'",(0,n.jsx)(i.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions",children:"servizio di abbonamento"}),(0,n.jsx)(i.br,{}),"\n","\xe8 pi\xf9 efficiente (diRSS) approccio: invier\xe0 immediatamente un'e-mail o contatter\xe0 un URL a ciascun abbonato ogni volta che il dataset verr\xe0 aggiornato e l'aggiornamento ha comportato una modifica. E 'efficace in quanto accade al pi\xf9 presto e non c'\xe8 uno sforzo sprecato (come inquinare unRSSservizio) . Gli utenti possono utilizzare altri strumenti (come",(0,n.jsx)(i.a,{href:"https://ifttt.com/",children:"IFTTT"}),") reagire alle notifiche e-mail dal sistema di abbonamento. Ad esempio, un utente potrebbe iscriversi a un set di dati su un telecomandoERDDAP\u2122e utilizzare IFTTT per reagire alle notifiche e-mail di abbonamento e attivare l'aggiornamento del dataset locale.\r\n\xa0"]}),"\n",(0,n.jsxs)(i.li,{children:["ERDDAP'",(0,n.jsx)(i.a,{href:"/docs/server-admin/additional-information#flag",children:"sistema di segnalazione"}),(0,n.jsx)(i.br,{}),"\n","fornisce un modo per unERDDAP\u2122amministratore per indicare un set di dati sul suo / suoERDDAPper ricaricare il prima possibile. La forma URL di una bandiera pu\xf2 essere facilmente utilizzata negli script. Il modulo URL di una bandiera pu\xf2 anche essere utilizzato come azione per un abbonamento.\r\n\xa0"]}),"\n",(0,n.jsxs)(i.li,{children:["ERDDAP'",(0,n.jsx)(i.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html",children:'"files"sistema'}),(0,n.jsx)(i.br,{}),"\n","pu\xf2 offrire l'accesso ai file sorgente per un dato set di dati, tra cui un elenco di directory in stile Apache dei file (una \"Cartella di accesso Web\") che ha l'URL di download di ogni file, l'ultima volta modificata e la dimensione. Un lato negativo dell'utilizzo\"files\"il sistema \xe8 che i file sorgente possono avere diversi nomi variabili e metadati diversi rispetto al dataset come appare nelERDDAP. Se un telecomandoERDDAP\u2122dataset offre l'accesso ai file sorgente, che apre la possibilit\xe0 di una versione rsync di un povero: diventa facile per un sistema locale vedere quali file remoti sono cambiati e devono essere scaricati. (Vedere la",(0,n.jsx)(i.a,{href:"#cache-from-url",children:"opzione cacheFromUrl"}),"sotto che pu\xf2 fare uso di questo.)",(0,n.jsx)(i.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"solutions",children:(0,n.jsx)(i.a,{href:"#solutions",children:"Soluzioni"})}),"\n",(0,n.jsx)(i.p,{children:"Anche se ci sono un numero enorme di variazioni al problema e un numero infinito di possibili soluzioni, ci sono solo una manciata di approcci di base alle soluzioni:"}),"\n",(0,n.jsx)(i.h4,{id:"custom-brute-force-solutions",children:"Soluzioni personalizzate, Brute Force"}),"\n",(0,n.jsx)(i.p,{children:"Una soluzione ovvia \xe8 quella di realizzare una soluzione personalizzata, che \xe8 quindi ottimizzata per una determinata situazione: fare un sistema che rileva/identifica quali dati sono cambiati e invia queste informazioni all'utente in modo che l'utente possa richiedere i dati modificati. Beh, puoi farlo, ma ci sono svantaggi:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Le soluzioni personalizzate sono un sacco di lavoro."}),"\n",(0,n.jsx)(i.li,{children:"Le soluzioni personalizzate sono di solito cos\xec personalizzate per un dato set di dati e dato il sistema dell'utente che non possono essere facilmente riutilizzati."}),"\n",(0,n.jsx)(i.li,{children:"Le soluzioni personalizzate devono essere costruite e mantenute da voi. (Non e' mai una buona idea. \xc8 sempre una buona idea evitare il lavoro e ottenere qualcun altro per fare il lavoro!)"}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"Sfido di prendere questo approccio perch\xe9 \xe8 quasi sempre meglio cercare soluzioni generali, costruite e mantenute da qualcun altro, che possono essere facilmente riutilizzate in situazioni diverse.\r\n\xa0"}),"\n",(0,n.jsx)(i.h4,{id:"rsync",children:"r"}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Rsync",children:"r"}),"\xe8 l'esistente, sorprendentemente buona, soluzione di scopo generale per mantenere una raccolta di file su un computer sorgente in sincronia su un computer remoto dell'utente. Il modo in cui funziona \xe8:"]}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"qualche evento (ad esempio, unERDDAP\u2122evento del sistema di abbonamento) attiva rsync,\r\n(o, un lavoro di cron esegue rsync a orari specifici ogni giorno sul computer dell'utente)"}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"che contatta rsync sul computer sorgente,"}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"che calcola una serie di hashes per i pezzi di ogni file e trasmette quelle hashes alla rsync dell'utente,"}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"che confronta tali informazioni con le informazioni simili per la copia dell'utente dei file,"}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"che poi richiede i pezzi di file che sono cambiati."}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["Considerando tutto ci\xf2 che fa, rsync opera molto rapidamente (ad esempio, 10 secondi pi\xf9 il tempo di trasferimento dati) e molto efficiente. Ci sono",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Rsync#Variations",children:"variazioni di rsync"}),"che ottimizzano per diverse situazioni (ad esempio, precalcolando e caching le ceneri dei pezzi di ogni file sorgente) ."]}),"\n",(0,n.jsx)(i.p,{children:"Le principali debolezze di rsync sono: ci vuole qualche sforzo per impostare (questioni di sicurezza) ; ci sono alcuni problemi di scaling; e non \xe8 bene per mantenere i set di dati NRT veramente aggiornati (ad esempio, \xe8 imbarazzante usare rsync pi\xf9 di circa ogni 5 minuti) . Se si pu\xf2 trattare con le debolezze, o se non influiscono sulla vostra situazione, rsync \xe8 una soluzione eccellente, scopo generale che chiunque pu\xf2 utilizzare in questo momento per risolvere molti scenari che coinvolgono la replica remota di dataset."}),"\n",(0,n.jsx)(i.p,{children:"C'\xe8 un elemento sulERDDAP\u2122Per fare elenco per cercare di aggiungere il supporto per i servizi rsync aERDDAP  (probabilmente un compito piuttosto difficile) , in modo che qualsiasi client possa utilizzare rsync (o una variante) per mantenere una copia aggiornata di un dataset. Se qualcuno vuole lavorare su questo, per favore e-mailerd.data at noaa.gov."}),"\n",(0,n.jsxs)(i.p,{children:["Ci sono altri programmi che fanno pi\xf9 o meno ci\xf2 che rsync fa, a volte orientato alla replica di dataset (anche se spesso a livello di file-copia) Per esempio,Unidata'",(0,n.jsx)(i.a,{href:"https://www.unidata.ucar.edu/projects/index.html#idd",children:"IDD"}),"."]}),"\n",(0,n.jsx)(i.h4,{id:"cache-from-url",children:"Cache da Url"}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.a,{href:"/docs/server-admin/datasets#cachefromurl",children:"La cacheDaUrl"}),"l'impostazione \xe8 disponibile (a partire daERDDAP\u2122v.) per tuttiERDDAP's tipi di dataset che fanno set di dati da file (fondamentalmente, tutte le sottoclassi di",(0,n.jsx)(i.a,{href:"/docs/server-admin/datasets#eddgridfromfiles",children:"EDDGridDa Fili"}),"e",(0,n.jsx)(i.a,{href:"/docs/server-admin/datasets#eddtablefromfiles",children:"EDDTableFromFiles"}),') . cache DaUrl rende banale scaricare e mantenere automaticamente i file di dati locali copiandoli da una sorgente remota tramite la cache Dalla regolazione Url. I file remoti possono essere in una cartella di accesso Web o in un elenco di file simile a directory offerto da THREDDS,Hyrax, un secchio S3 oERDDAP\'"files"sistema.']}),"\n",(0,n.jsxs)(i.p,{children:['Se la fonte dei file remoti \xe8 un telecomandoERDDAP\u2122dataset che offre i file sorgente tramite ilERDDAP\u2122 "files"sistema, allora si pu\xf2',(0,n.jsx)(i.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions",children:"sottoscritto"}),"al set di dati remoto, e utilizzare",(0,n.jsx)(i.a,{href:"/docs/server-admin/additional-information#flag",children:"URL della bandiera"}),"per il vostro set di dati locale come azione per l'abbonamento. Poi, ogni volta che il set di dati remoto cambia, contatter\xe0 l'URL della bandiera per il vostro set di dati, che gli dir\xe0 di ricaricare ASAP, che rileva e scarica i file di dati remoti modificati. Tutto questo accade molto rapidamente (di solito ~5 secondi pi\xf9 il tempo necessario per scaricare i file modificati) . Questo approccio funziona grande se le modifiche del dataset sorgente sono nuovi file che vengono periodicamente aggiunti e quando i file esistenti non cambiano mai. Questo approccio non funziona bene se i dati sono spesso aggiunti a tutti (o pi\xf9) dei file di dati di origine esistenti, perch\xe9 allora il vostro set di dati locale viene spesso scaricato l'intero set di dati remoto. (Questo \xe8 dove \xe8 necessario un approccio rsync-like.)"]}),"\n",(0,n.jsx)(i.h4,{id:"archiveadataset",children:"ArchivioAzione"}),"\n",(0,n.jsxs)(i.p,{children:["ERDDAP\u2122'",(0,n.jsx)(i.a,{href:"/docs/server-admin/additional-information#archiveadataset",children:"ArchivioAzione"}),"\xe8 una buona soluzione quando i dati vengono aggiunti a un set di dati frequentemente, ma i dati pi\xf9 vecchi non vengono mai modificati. Fondamentalmente, unERDDAP\u2122amministratore pu\xf2 eseguire ArchiveADataset (forse in uno script, forse eseguito da cron) e specificare un sottoinsieme di un set di dati che vogliono estrarre (forse in pi\xf9 file) e pacchetto in un.zipo.tgzfile, in modo da poter inviare il file a persone o gruppi interessati (ad esempio, NCEI per l'archiviazione) o renderlo disponibile per il download. Ad esempio, \xe8 possibile eseguire ArchiveADataset tutti i giorni alle 12:10 e farlo fare un.zipdi tutti i dati dalle 12:00 sono il giorno precedente fino alle 12:00 di oggi. (Oppure, fai questo settimanale, mensile o annuale, come necessario.) Poich\xe9 il file pacchetto \xe8 generato offline, non c'\xe8 pericolo di un timeout o troppi dati, come ci sarebbe per uno standardERDDAP\u2122richiesta.\r\n\xa0"]}),"\n",(0,n.jsx)(i.h4,{id:"erddaps-standard-request-system",children:"ERDDAP\u2122Sistema di richiesta standard"}),"\n",(0,n.jsx)(i.p,{children:"ERDDAP\u2122Il sistema di richiesta standard \xe8 una buona soluzione alternativa quando i dati vengono aggiunti a un set di dati frequentemente, ma i dati pi\xf9 vecchi non vengono mai modificati. Fondamentalmente, chiunque pu\xf2 utilizzare richieste standard per ottenere i dati per una specifica gamma di tempo. Ad esempio, alle 12:10 di tutti i giorni, si potrebbe fare una richiesta per tutti i dati da un dataset remoto dalle 12:00 del giorno precedente fino alle 12:00 di oggi. La limitazione (rispetto all'approccio ArchiveADataset) \xe8 il rischio di un timeout o ci sono troppi dati per un singolo file. \xc8 possibile evitare la limitazione facendo richieste pi\xf9 frequenti per periodi di tempo pi\xf9 piccoli.\r\n\xa0"}),"\n",(0,n.jsx)(i.h4,{id:"eddtablefromhttpget",children:"EDDTableDaHttpGet"}),"\n",(0,n.jsxs)(i.p,{children:["\\[Questa opzione non esiste ancora, ma sembra possibile costruire nel prossimo futuro.\\]",(0,n.jsx)(i.br,{}),"\n","Il nuovo",(0,n.jsx)(i.a,{href:"/docs/server-admin/datasets#eddtablefromhttpget",children:"EDDTableDaHttpGet"}),"tipo di dataset inERDDAP\u2122v2.0 permette di prevedere un'altra soluzione. I file sottostanti mantenuti da questo tipo di dataset sono essenzialmente file di registro che registrano le modifiche al dataset. Dovrebbe essere possibile costruire un sistema che mantiene un dataset locale periodicamente (o in base a un trigger) richiedere tutte le modifiche apportate al set di dati remoto dall'ultima richiesta. Questo dovrebbe essere efficiente. (o pi\xf9) che rsync e gestirebbe molti scenari difficili, ma funzionerebbe solo se i set di dati remoti e locali sono EDDTableFromHttpGet set di dati."]}),"\n",(0,n.jsx)(i.p,{children:"Se qualcuno vuole lavorare su questo, si prega di contattareerd.data at noaa.gov."}),"\n",(0,n.jsx)(i.h4,{id:"distributed-data",children:"Dati distribuiti"}),"\n",(0,n.jsx)(i.p,{children:"Nessuna delle soluzioni sopra fa un ottimo lavoro per risolvere le dure variazioni del problema perch\xe9 la replica di quasi in tempo reale (N.) datasets \xe8 molto difficile, in parte a causa di tutti gli scenari possibili."}),"\n",(0,n.jsx)(i.p,{children:"C'\xe8 una grande soluzione: non provare nemmeno a replicare i dati.\r\nInvece, utilizzare l'unica fonte autorevole (un dataset su unoERDDAP) , mantenuto dal fornitore di dati (per esempio, un ufficio regionale) . Tutti gli utenti che vogliono dati da quel dataset lo ottengono sempre dalla fonte. Ad esempio, le applicazioni basate sul browser ottengono i dati da una richiesta basata su URL, quindi non dovrebbe importare che la richiesta sia alla fonte originale su un server remoto (non lo stesso server che ospita l'ESM) . Molte persone stanno sostenendo questo approccio Distributed Data da molto tempo (ad esempio, Roy Mendelssohn per gli ultimi 20+ anni) .ERDDAPmodello di griglia/federazione (l'80% superiore di questo documento) si basa su questo approccio. Questa soluzione \xe8 come una spada a un nodo Gordian \u2014 l'intero problema va via."}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Questa soluzione \xe8 incredibilmente semplice."}),"\n",(0,n.jsx)(i.li,{children:"Questa soluzione \xe8 incredibilmente efficiente dal momento che nessun lavoro \xe8 fatto per mantenere un set di dati replicato (#) up-to-date."}),"\n",(0,n.jsx)(i.li,{children:"Gli utenti possono ottenere i dati pi\xf9 recenti in qualsiasi momento (ad esempio, con una latenza di solo ~0,5 secondi) ."}),"\n",(0,n.jsxs)(i.li,{children:["Scala abbastanza bene e ci sono modi per migliorare la scalatura. (Vedere la discussione al vertice 80% di questo documento.)",(0,n.jsx)(i.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"No, questa non \xe8 una soluzione per tutte le situazioni possibili, ma \xe8 una grande soluzione per la stragrande maggioranza. Se ci sono problemi / debolezze con questa soluzione in determinate situazioni, spesso vale la pena lavorare per risolvere quei problemi o vivere con quelle debolezze a causa dei vantaggi incredibili di questa soluzione. Se / quando questa soluzione \xe8 veramente inaccettabile per una determinata situazione, ad esempio, quando si deve veramente avere una copia locale dei dati, quindi prendere in considerazione le altre soluzioni discusse sopra.\r\n\xa0"}),"\n",(0,n.jsx)(i.h3,{id:"conclusion",children:"Conclusioni"}),"\n",(0,n.jsx)(i.p,{children:"Mentre non c'\xe8 una soluzione semplice e semplice che risolve perfettamente tutti i problemi in tutti gli scenari (come rsync e dati distribuiti quasi sono) , speriamo ci siano strumenti e opzioni sufficienti in modo da poter trovare una soluzione accettabile per la vostra situazione particolare."})]})}function u(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},88623:(e,i,a)=>{a.d(i,{A:()=>o});const o=a.p+"assets/images/cluster-73996a04326fe63934754f994e09f63f.png"},28453:(e,i,a)=>{a.d(i,{R:()=>r,x:()=>s});var o=a(96540);const n={},t=o.createContext(n);function r(e){const i=o.useContext(t);return o.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function s(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),o.createElement(t.Provider,{value:i},e.children)}}}]);