"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[9398],{11557:(e,i,a)=>{a.r(i),a.d(i,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"server-admin/additional-information","title":"additional-information","description":"ERDDAP\u2122- Impostare il proprioERDDAP\u2122","source":"@site/i18n/it/docusaurus-plugin-content-docs/current/server-admin/additional-information.md","sourceDirName":"server-admin","slug":"/server-admin/additional-information","permalink":"/it/docs/server-admin/additional-information","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/additional-information.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"docSidebar","previous":{"title":"ERDDAP\u2122 - Working with the datasets.xml File","permalink":"/it/docs/server-admin/datasets"},"next":{"title":"Scaling","permalink":"/it/docs/server-admin/scaling"}}');var o=a(74848),t=a(28453);const r={sidebar_position:4},s=void 0,l={},d=[{value:"Cose da sapere",id:"things-you-need-to-know",level:2},{value:"<strong>Errori proxy</strong>",id:"proxy-errors",level:3},{value:"Monitoraggio",id:"monitoring",level:3},{value:"Monitor esterni",id:"external-monitors",level:4},{value:"Multiple Simultaneous Richieste",id:"multiple-simultaneous-requests",level:3},{value:"ERDDAP\u2122Ottenere dati da THREDDS",id:"erddap-getting-data-from-thredds",level:3},{value:"Rispondere lentamente",id:"responding-slowly",level:3},{value:"Zitto e riavvia",id:"shut-down-and-restart",level:3},{value:"Crash frequenti o congela",id:"frequent-crashes-or-freezes",level:3},{value:"Monitoraggio",id:"monitor",level:3},{value:"Profumo",id:"permgen",level:4},{value:"Log",id:"log",level:4},{value:"Parsing log.txt",id:"parsing-logtxt",level:5},{value:"Tomcat Logs",id:"tomcat-logs",level:3},{value:"E-Mail Log",id:"e-mail-log",level:3},{value:"Rapporto giornaliero",id:"daily-report",level:3},{value:"Pagina di stato",id:"status-page",level:3},{value:"Aggiunta/Changing Datasets",id:"addingchanging-datasets",level:3},{value:"Bandiera",id:"flag",level:4},{value:"Bandiera dei file danneggiati",id:"bad-files-flag",level:5},{value:"Bandiera rigida",id:"hard-flag",level:5},{value:"Impostare la bandiera dei dati",id:"set-dataset-flag",level:5},{value:"Rimozione dei set di dati",id:"removing-datasets",level:4},{value:"Quando vengono ricaricati Datasets?",id:"when-are-datasets-reloaded",level:4},{value:"Risposte in attesa",id:"cached-responses",level:4},{value:"Informazioni sul Dataset memorizzate",id:"stored-dataset-information",level:4},{value:"Stato di memoria",id:"memory-status",level:3},{value:"Informazioni generali",id:"outofmemoryerror",level:4},{value:"Troppi file aperti",id:"too-many-open-files",level:3},{value:"Richieste fallite",id:"failed-requests",level:3},{value:"robot.txt",id:"robotstxt",level:3},{value:"sitemap.xml",id:"sitemapxml",level:3},{value:"Diffusione dei dati / Distribuzione dei dati Reti",id:"data-dissemination--data-distribution-networks-push-and-pull-technology",level:3},{value:"Sicurezza, autenticazione e autorizzazione",id:"security-authentication-and-authorization",level:3},{value:"Sicurezza",id:"security",level:4},{value:"Impostazione sicurezza",id:"setup-security",level:5},{value:"Autorizzazione",id:"authorization",level:5},{value:"Autenticazione",id:"authentication",level:5},{value:"Personale",id:"custom",level:6},{value:"email",id:"email",level:6},{value:"Google, orcid, oauth2",id:"google-orcid-oauth2",level:6},{value:"Google",id:"google",level:6},{value:"Orcid",id:"orcid",level:6},{value:"Oauth2",id:"oauth2",level:6},{value:"Impostazione di Google",id:"google-setup",level:6},{value:"Configurazione Orcid",id:"orcid-setup",level:6},{value:"Accedi in modo diverso",id:"log-in-either-way",level:6},{value:"OpenId",id:"openid",level:6},{value:"BASE",id:"basic",level:6},{value:"Fonti di dati sicure",id:"secure-data-sources",level:5},{value:"Difesa contro gli hacker",id:"defenses-against-hackers",level:4},{value:"Domande? Suggerimenti?",id:"questions-suggestions",level:4},{value:"Cose che non devi sapere",id:"things-you-dont-need-to-know",level:2},{value:"SecondoERDDAP\u2122",id:"second-erddap",level:3},{value:"Secondo Tomcat",id:"second-tomcat",level:4},{value:"Solid State Drives",id:"solid-state-drives",level:3},{value:"Carico pesante / vincoli **",id:"heavy-loads--constraints",level:3},{value:"Griglia, cluster e federazioni",id:"grids-clusters-and-federations",level:3},{value:"Cloud Computing",id:"cloud-computing",level:3},{value:"Amazzonia",id:"amazon",level:3},{value:"AspettaThenTryAgain Eccezione",id:"waitthentryagain-exception",level:3},{value:"Richiesta di ricarica",id:"requestreloadasap",level:4},{value:"File non cancellati",id:"files-not-being-deleted",level:3},{value:"JSON-ld",id:"json-ld",level:3},{value:"URL Out-Of-Date",id:"out-of-date-urls",level:3},{value:"CORS",id:"cors",level:3},{value:"Palette",id:"palettes",level:3},{value:"Barra di colore",id:"colorbars",level:3},{value:"Linee guida per i sistemi di distribuzione dei dati",id:"guidelines-for-data-distribution-systems",level:3},{value:"ArchivioAzione",id:"archiveadataset",level:3},{value:"ISO 19115 .xml File dei metadati",id:"iso-19115-xml-metadata-files",level:4}];function c(e){const i={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.p,{children:"ERDDAP\u2122- Impostare il proprioERDDAP\u2122"}),"\n",(0,o.jsx)(i.h2,{id:"things-you-need-to-know",children:"Cose da sapere"}),"\n",(0,o.jsx)(i.p,{children:"\xa0"}),"\n",(0,o.jsx)(i.h3,{id:"proxy-errors",children:(0,o.jsx)(i.strong,{children:(0,o.jsx)(i.a,{href:"#proxy-errors",children:"Errori proxy"})})}),"\n",(0,o.jsx)(i.p,{children:"A volte, una richiesta diERDDAP\u2122restituir\xe0 un errore proxy, un errore HTTP 502 Bad Gateway, o qualche errore simile. Questi errori sono stati gettati da Apache o Tomcat, nonERDDAP\u2122stesso."}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Se ogni richiesta genera questi errori, soprattutto quando si sta prima impostando ilERDDAP\u2122, allora probabilmente \xe8 un errore proxy o gateway cattivo, e la soluzione \xe8 probabilmente per risolvere",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#proxypass",children:"ERDDAPImpostazioni proxy"}),". Questo pu\xf2 anche essere il problema quando un stabilitoERDDAP\u2122improvvisamente inizia a lanciare questi errori per ogni richiesta."]}),"\n",(0,o.jsxs)(i.li,{children:['Altrimenti, gli errori "proxy" di solito sono errori di time out lanciati da Apache o Tomcat. Anche quando si verificano relativamente rapidamente, \xe8 una sorta di risposta da Apache o Tomcat che si verifica quandoERDDAP\u2122\xe8 molto occupato, limitato alla memoria, o limitato da qualche altra risorsa. In questi casi, vedere i consigli qui sotto per affrontare',(0,o.jsx)(i.a,{href:"#responding-slowly",children:"ERDDAP\u2122rispondere lentamente"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["Richieste per un lungo periodo di tempo (> 30 punti) da un dataset grigliato sono inclini a guasti time out, che spesso appaiono come errori proxy, perch\xe9 ci vuole tempo significativo perERDDAP\u2122per aprire tutti i file di dati uno per uno. SeERDDAP\u2122\xe8 altrimenti occupato durante la richiesta, il problema \xe8 pi\xf9 probabile che accada. Se i file del dataset sono compressi, il problema \xe8 pi\xf9 probabile che si verifichi, anche se \xe8 difficile per un utente determinare se i file di un dataset sono compressi.\nLa soluzione \xe8 quella di fare diverse richieste, ognuna con un range di tempo pi\xf9 piccolo. Quanto \xe8 piccolo di un intervallo di tempo? Suggerisco di iniziare davvero piccolo (- 30 punti di tempo?) Allora (circa) raddoppiare l'intervallo di tempo fino a quando la richiesta non fallisce, quindi tornare indietro un raddoppio. Quindi fare tutte le richieste (ciascuno per un pezzo diverso di tempo) necessario per ottenere tutti i dati.\nAnERDDAP\u2122l'amministratore pu\xf2 ridurre questo problema aumentando",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#apache-timeout",children:"Impostazioni timeout Apache"}),"."]}),"\n",(0,o.jsx)(i.h3,{id:"monitoring",children:"Monitoraggio"}),"\n",(0,o.jsx)(i.p,{children:"Tutti vogliamo che i nostri servizi di dati trovino il loro pubblico e vengano ampiamente utilizzati, ma a volte il vostroERDDAP\u2122pu\xf2 essere utilizzato troppo, causando problemi, comprese le risposte super lente per tutte le richieste. Il nostro piano per evitare problemi \xe8:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["MonitoraggioERDDAP\u2122via il",(0,o.jsx)(i.a,{href:"#status-page",children:"stato.html pagina web"}),".\nHa tonnellate di informazioni utili. Se si vede che un numero enorme di richieste sono in arrivo, o tonnellate di memoria in uso, o tonnellate di richieste fallite, o ogni Major LoadDatasets sta prendendo molto tempo, o vedere qualsiasi segno di cose che vengono impantanati e rispondere lentamente, quindi guardare inERDDAP'",(0,o.jsx)(i.a,{href:"#log",children:"file log.txt"}),"per vedere cosa sta succedendo."]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"\xc8 anche utile notare semplicemente quanto velocemente la pagina di stato risponde. Se risponde lentamente, questo \xe8 un indicatore importante cheERDDAP\u2122\xe8 molto occupato."}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["MonitoraggioERDDAP\u2122via il",(0,o.jsx)(i.a,{href:"#daily-report",children:"Rapporto giornaliero"}),"email.\n\xa0"]}),"\n",(0,o.jsxs)(i.li,{children:["Guarda i dataset non aggiornati tramite i ",(0,o.jsx)(i.em,{children:"di base"})," /erddap/outOfDateDatasets.htmlpagina web che si basa sull'opzionale",(0,o.jsx)(i.a,{href:"/docs/server-admin/datasets#testoutofdate",children:"testOutOfDate"}),"attributo globale.\n\xa0"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"external-monitors",children:"Monitor esterni"}),"\n",(0,o.jsxs)(i.p,{children:["I metodi sopra elencati sonoERDDAP's modi di monitorare se stesso. \xc8 anche possibile effettuare o utilizzare sistemi esterni per monitorare il vostroERDDAP. Un progetto per farlo \xe8",(0,o.jsx)(i.a,{href:"https://github.com/axiom-data-science/erddap-metrics",children:"Il progetto erddap-metrico di Axiom"}),". Tali sistemi esterni hanno alcuni vantaggi:"]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Possono essere personalizzati per fornire le informazioni desiderate, visualizzate nel modo desiderato."}),"\n",(0,o.jsx)(i.li,{children:"Possono includere informazioni suERDDAP\u2122cheERDDAP\u2122non pu\xf2 accedere facilmente o a tutti (ad esempio, utilizzo della CPU, spazio libero del disco,ERDDAP\u2122tempo di risposta come visto dalla prospettiva dell'utente,ERDDAP\u2122uptime,"}),"\n",(0,o.jsx)(i.li,{children:"Possono fornire avvisi (e-mail, telefonate, testi) agli amministratori quando i problemi superano una certa soglia.\n\xa0"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"multiple-simultaneous-requests",children:"Multiple Simultaneous Richieste"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Utenti Blacklist che fanno pi\xf9 richieste simultanea!"}),"\nSe \xe8 chiaro che alcuni utenti stanno facendo pi\xf9 di una richiesta simultanea, ripetutamente e continuamente, quindi aggiungere il loro indirizzo IP aERDDAP#<richiestaBlacklist> (/docs/server-admin/datasets#requestblacklist) nel tuodatasets.xmlfile. A volte le richieste sono tutte da un indirizzo IP. A volte sono da pi\xf9 indirizzi IP, ma chiaramente lo stesso utente. \xc8 inoltre possibile blacklist persone che fanno tonnellate di richieste non valide o tonnellate di domande senza cervello."]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Poi, per ogni richiesta che fanno,ERDDAP\u2122ritorna:"}),"\n",(0,o.jsxs)(i.blockquote,{children:["\n",(0,o.jsxs)(i.p,{children:["HTTP ERROR 403 - Access Forbidden --",(0,o.jsx)(i.br,{}),"\n","Your IP address is on this ERDDAP's request blacklist.",(0,o.jsx)(i.br,{}),"\n","Did you often submit more than one request at a time?",(0,o.jsx)(i.br,{}),"\n","Did you often submit identical requests in a short period of time?",(0,o.jsx)(i.br,{}),"\n","Did you submit a large number of invalid requests?",(0,o.jsx)(i.br,{}),"\n","If you are ready to avoid these problems, please email \\[ERDDAP\u2122 administrator's email address\\] to request to be taken off of the blacklist."]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Speriamo che l'utente vedr\xe0 questo messaggio e contattarti per scoprire come risolvere il problema e scendere dalla lista nera. A volte, passano gli indirizzi IP e riprovano."}),"\n",(0,o.jsx)(i.p,{children:"\xc8 come l'equilibrio del potere tra armi offensive e difensive in guerra. Qui, le armi difensive (ERDDAP) hanno una capacit\xe0 fissa, limitata dal numero di core nella CPU, dalla larghezza di banda di accesso al disco e dalla larghezza di banda di rete. Ma le armi offensive (utenti, in particolare script) hanno una capacit\xe0 illimitata:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:'Una singola richiesta di dati da un sacco di punti di tempo pu\xf2 causareERDDAPper aprire un numero enorme di file (in sequenza o parzialmente multi-threaded) . In casi estremi, una richiesta "semplice" pu\xf2 facilmente legare la RAID allegataERDDAP\u2122per un minuto, bloccando efficacemente la gestione di altre richieste.\n\xa0'}),"\n",(0,o.jsx)(i.li,{children:"Una sola richiesta pu\xf2 consumare un grande pezzo di memoria (anche seERDDAP\u2122\xe8 codificato per minimizzare la memoria necessaria per gestire grandi richieste) .\n\xa0"}),"\n",(0,o.jsx)(i.li,{children:"Parallelizzazione - No.\n\xc8 facile per un utente intelligente parallelizzare un grande compito generando un sacco di fili, ognuno dei quali presenta una richiesta separata (che possono essere grandi o piccole) . Questo comportamento \xe8 incoraggiato dalla comunit\xe0 informatica come un modo efficiente per affrontare un grosso problema (e parallelizzare \xe8 efficiente in altre circostanze) . Tornando all'analogia di guerra: gli utenti possono fare un numero sostanzialmente illimitato di richieste simultanee con il costo di ogni essere essenzialmente zero, ma il costo di ogni richiesta entra inERDDAP\u2122pu\xf2 essere grande eERDDAPLa capacit\xe0 di risposta \xe8 finita. Chiaramente,ERDDAP\u2122perder\xe0 questa battaglia, a meno che laERDDAP\u2122amministratori blacklist utenti che stanno facendo pi\xf9 richieste simultanee che sono ingiustamente affollare altri utenti.\n\xa0"}),"\n",(0,o.jsxs)(i.li,{children:["Script multipli -\nOra pensare a cosa succede quando ci sono diversi utenti intelligenti ogni esecuzione di script parallelizzati. Se un utente pu\xf2 generare cos\xec tante richieste che altri utenti sono affollati fuori, quindi pi\xf9 utenti possono generare cos\xec tante richieste cheERDDAP\u2122diventa sopraffatto e apparentemente non rispondente. \xc8 effettivamente un",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Denial-of-service_attack",children:"DDOS attacco"}),"Ancora, l'unica difesa perERDDAP\u2122\xe8 agli utenti di blacklist che fanno pi\xf9 richieste simultanee che sono ingiustamente affollano altri utenti.\n\xa0"]}),"\n",(0,o.jsx)(i.li,{children:"Aspetti gonfiati -\nIn questo mondo di grandi aziende tecnologiche (Amazon, Google, Facebook, ...) , gli utenti sono venuti ad aspettarsi capacit\xe0 essenzialmente illimitate dai fornitori. Poich\xe9 queste aziende sono operazioni di fare soldi, pi\xf9 utenti hanno, pi\xf9 entrate devono espandere la loro infrastruttura IT. Cos\xec possono permettersi una massiccia infrastruttura IT per gestire le richieste. E limitano abilmente il numero di richieste e costi di ogni richiesta da parte degli utenti limitando i tipi di richieste che gli utenti possono fare in modo che nessuna singola richiesta sia gravosa, e non c'\xe8 mai una ragione (o un modo) per gli utenti di effettuare pi\xf9 richieste simultanea. Cos\xec queste grandi aziende tecnologiche possono avere molto pi\xf9 utenti cheERDDAP\u2122, ma hanno enormemente pi\xf9 risorse e modi intelligenti per limitare le richieste da ogni utente. \xc8 una situazione gestibile per le grandi aziende IT (e diventano ricchi!) ma non perERDDAP\u2122impianti. Ancora, l'unica difesa perERDDAP\u2122\xe8 agli utenti di blacklist che fanno pi\xf9 richieste simultanee che sono ingiustamente affollano altri utenti.\n\xa0"}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Quindi gli utenti: Non fare pi\xf9 richieste simultanee o sarete lista nera!\n\xa0"}),"\n",(0,o.jsx)(i.p,{children:"Chiaramente, \xe8 meglio se il server ha un sacco di core, un sacco di memoria (in modo da poter allocare un sacco di memoria aERDDAP\u2122pi\xf9 di quanto abbia mai bisogno) , e una connessione internet ad alta larghezza di banda. Poi, la memoria \xe8 raramente o mai un fattore limitante, ma la larghezza di banda di rete diventa il fattore limitante pi\xf9 comune. Fondamentalmente, poich\xe9 ci sono sempre pi\xf9 richieste simultanee, la velocit\xe0 a qualsiasi dato utente diminuisce. Questo rallenta naturalmente il numero di richieste in arrivo se ogni utente sta solo inviando una richiesta alla volta."}),"\n",(0,o.jsx)(i.h3,{id:"erddap-getting-data-from-thredds",children:"ERDDAP\u2122Ottenere dati da THREDDS"}),"\n",(0,o.jsx)(i.p,{children:"Se il tuoERDDAP\u2122ottiene alcuni dei suoi dati da un THREDDS sul tuo sito, ci sono alcuni vantaggi per fare una copia dei file di dati THREDDS (almeno per i dataset pi\xf9 popolari) su un altro RAID cheERDDAP\u2122ha accesso a cos\xec cheERDDAP\u2122pu\xf2 servire i dati dai file direttamente. AERD, lo facciamo per i nostri dataset pi\xf9 popolari."}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"ERDDAP\u2122pu\xf2 ottenere i dati direttamente e non devono aspettare THREDDS per ricaricare il dataset o..."}),"\n",(0,o.jsx)(i.li,{children:"ERDDAP\u2122pu\xf2 notare e incorporare i nuovi file di dati immediatamente, in modo da non dover pisciare spesso THREDDS per vedere se il dataset \xe8 cambiato. Vedi<AggiornamentoOgniNMillis> (/docs/server-admin/datasets#updateeverynmillis) ."}),"\n",(0,o.jsx)(i.li,{children:"Il carico \xe8 diviso tra 2 server RAIDS e 2 server, invece della richiesta \xe8 difficile su entrambiERDDAP\u2122e THREDDS."}),"\n",(0,o.jsx)(i.li,{children:"Si evita il problema sbagliato causato da THREDDS che ha un piccolo (per impostazione predefinita) dimensione massima richiesta.ERDDAP\u2122ha un sistema per gestire l'errore, ma evitare il problema \xe8 migliore."}),"\n",(0,o.jsx)(i.li,{children:"Hai una copia di backup dei dati che \xe8 sempre una buona idea."}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"In ogni caso, non eseguire THREDDS eERDDAP\u2122nello stesso Tomcat. Eseguili in Tomcats separati, o meglio, su server separati."}),"\n",(0,o.jsx)(i.p,{children:"Troviamo che il THREDDS viene periodicamente in uno stato in cui le richieste solo appendere. Se il tuoERDDAP\u2122sta ottenendo dati da un THREDDS e il THREDDS \xe8 in questo stato,ERDDAP\u2122ha una difesa (dice che il dataset basato su THREDDS non \xe8 disponibile) , ma \xe8 ancora fastidioso perERDDAP\u2122perch\xe9ERDDAP\u2122deve aspettare fino al timeout ogni volta che cerca di ricaricare un dataset da un THREDDS appeso. Alcuni gruppi (inclusoERD) evitare questo riavviando proattivamente THREDDS frequentemente (ad esempio, di notte in un lavoro di cron) ."}),"\n",(0,o.jsx)(i.h3,{id:"responding-slowly",children:"Rispondere lentamente"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"SeERDDAP\u2122La risposta \xe8 lenta"})," o se solo alcune richieste stanno rispondendo lentamente,\nsi pu\xf2 essere in grado di capire se la lentezza \xe8 ragionevole e temporanea (ad esempio, a causa di un sacco di richieste da script oWMSutenti) , o se qualcosa \xe8 inspiegabilmente sbagliato e \xe8 necessario",(0,o.jsx)(i.a,{href:"#shut-down-and-restart",children:"spegnere e riavviare Tomcat eERDDAP\u2122"}),"."]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"SeERDDAP\u2122sta rispondendo lentamente, vedere il consiglio qui sotto per determinare la causa, che si spera vi permetter\xe0 di risolvere il problema.\nSi pu\xf2 avere un punto di partenza specifico (ad esempio, un URL di richiesta specifica) o un punto di partenza vago (ad esempio,ERDDAP\u2122\xe8 lento) .\n\xc8 possibile conoscere l'utente coinvolto (ad esempio, perch\xe9 ti hanno mandato via email) o no.\nPotresti avere altri indizi, o no.\nPoich\xe9 tutte queste situazioni e tutte le possibili cause dei problemi smussano insieme, il consiglio qui sotto cerca di affrontare tutti i possibili punti di partenza e tutti i possibili problemi legati alle risposte lente."}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsxs)(i.strong,{children:["Cerca indizi in",(0,o.jsx)(i.a,{href:"#log",children:"ERDDAPIl file di registro"})]}),"   ( ",(0,o.jsx)(i.em,{children:"BigParentDirectory"})," /logs/log.txt) .\n\\[In rare occasioni, ci sono indizi in",(0,o.jsx)(i.a,{href:"#tomcat-logs",children:"Il file di registro di Tomcat"}),"  ( ",(0,o.jsx)(i.em,{children:"tomcat"})," /logs/catalina.out) .\\]",(0,o.jsx)(i.br,{}),"\n","Cerca messaggi di errore.\nCercare un gran numero di richieste provenienti da uno (o pochi) utenti e forse scavando un sacco di risorse del server (memoria, tempo della CPU, accesso al disco, larghezza di banda internet) ."]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["Se il problema \xe8 legato a ",(0,o.jsx)(i.strong,{children:"un utente"})," , si pu\xf2 spesso ottenere un indizio su chi l'utente \xe8 tramite servizi web come",(0,o.jsx)(i.a,{href:"https://whatismyipaddress.com/ip-lookup",children:" https://whatismyipaddress.com/ip-lookup "}),"che pu\xf2 darvi informazioni relative all'indirizzo IP dell'utente (che puoi trovare inERDDAP'",(0,o.jsx)(i.a,{href:"#log",children:"log.txt"}),"file) ."]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Se l'utente sembra essere un ",(0,o.jsx)(i.strong,{children:"bot"})," essere comportato male (in particolare, un motore di ricerca che cerca di riempireERDDAP\u2122forme con ogni possibile permutazione dei valori di entrata) , assicurarsi di aver impostato correttamente il server",(0,o.jsx)(i.a,{href:"#robotstxt",children:"robot.txt"}),"file."]}),"\n",(0,o.jsx)(i.li,{children:"Se l'utente sembra essere un **script script (#) ** che sta facendo pi\xf9 richieste simultanee, contattare l'utente, spiegare che ilERDDAP\u2122ha risorse limitate (ad esempio, memoria, ora della CPU, accesso al disco, larghezza di banda internet) , e chiedere loro di essere premuroso di altri utenti e solo fare una richiesta alla volta. Si potrebbe anche dire che li blacklist se non si allontanano."}),"\n",(0,o.jsxs)(i.li,{children:["Se l'utente sembra essere un ",(0,o.jsx)(i.strong,{children:"script script"})," fare un gran numero di richieste che richiedono tempo, chiedere all'utente di essere premuroso di altri utenti mettendo una piccola pausa (Due secondi?) nello script tra le richieste."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"WMSsoftware client"})," pu\xf2 essere molto esigente. Un cliente spesso chieder\xe0 6 immagini personalizzate alla volta. Se l'utente sembra essere unWMScliente che sta facendo richieste legittime, \xe8 possibile:"]}),"\n",(0,o.jsx)(i.li,{children:"Ignoralo. (raccomandato, perch\xe9 si muoveranno presto)"}),"\n",(0,o.jsx)(i.li,{children:"Spegni il serverWMSservizio tramiteERDDAPIl file setup.html. (non raccomandato)"}),"\n",(0,o.jsxs)(i.li,{children:["Se le richieste sembrano ",(0,o.jsx)(i.strong,{children:"stupido, pazzo, eccessivo o maligno,"})," o se non \xe8 possibile risolvere il problema in altro modo, considerare temporaneamente o permanentemente l'aggiunta dell'indirizzo IP dell'utente al [<richiestaBlacklist> nel tuodatasets.xmlfile] (/docs/server-admin/datasets#requestblacklist) .\n\xa0"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Prova a duplicare il problema da solo, dal tuo computer."}),(0,o.jsx)(i.br,{}),"\n","Scopri se il problema \xe8 con un dataset o tutti i dataset, per un utente o tutti gli utenti, per alcuni tipi di richieste, ecc.\nSe \xe8 possibile duplicare il problema, cercare di restringere il problema.\nSe non \xe8 possibile duplicare il problema, allora il problema pu\xf2 essere legato al computer dell'utente, alla connessione internet dell'utente, o alla connessione internet della vostra istituzione.\n\xa0"]}),"\n",(0,o.jsxs)(i.li,{children:["Se solo ",(0,o.jsx)(i.strong,{children:"un dataset"})," sta rispondendo lentamente (forse solo per ",(0,o.jsx)(i.strong,{children:"un tipo di richiesta"})," da un utente) , il problema pu\xf2 essere:","\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"ERDDAP'l'accesso ai dati sorgente del dataset (in particolare da database relazionali, Cassandra e dataset remoti) pu\xf2 essere temporaneamente o permanentemente lento. Prova a controllare la velocit\xe0 della fonte indipendente daERDDAP. Se \xe8 lento, forse si pu\xf2 migliorare."}),"\n",(0,o.jsx)(i.li,{children:"Il problema riguarda la specifica richiesta o il tipo di richiesta generale?\nPi\xf9 grande \xe8 il sottoinsieme richiesto di un dataset, pi\xf9 \xe8 probabile che la richiesta fallisca. Se l'utente sta facendo richieste enormi, chiedere all'utente di fare richieste pi\xf9 piccole che sono pi\xf9 probabilit\xe0 di ottenere una risposta veloce e di successo."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Quasi tutti i set di dati sono meglio nel gestire alcuni tipi di richieste rispetto ad altri tipi di richieste. Ad esempio, quando un dataset memorizza blocchi di tempo diversi in diversi file, le richieste di dati da un numero enorme di punti di tempo possono essere molto lente. Se le richieste attuali sono di tipo difficile, considerare di offrire una variante del dataset ottimizzata per queste richieste. O semplicemente spiegare all'utente che quel tipo di richiesta \xe8 difficile e richiede tempo, e chiedere la loro pazienza."}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"Il dataset potrebbe non essere configurato in modo ottimale. Potrebbe essere possibile apportare modifiche al datasetdatasets.xmlchunk per aiutareERDDAP\u2122gestire meglio il dataset. Per esempio,"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"EDDGridDai dataset NcFiles che i dati di accesso dai file nc4/hdf5 compressi sono lenti quando si ottengono i dati per l'intera gamma geografica (per esempio, per una mappa del mondo) perch\xe9 l'intero file deve essere decompresso. Si potrebbe convertire i file in file non compressi, ma poi il requisito spazio disco sar\xe0 molto, molto pi\xf9 grande. \xc8 probabilmente meglio accettare che tali set di dati saranno lenti in determinate circostanze."}),"\n",(0,o.jsx)(i.li,{children:"La configurazione del [<subsetVariables> (/docs/server-admin/datasets#subsetvariables) tag ha una grande influenza su comeERDDAP\u2122gestisce i set di dati EDDTable."}),"\n",(0,o.jsxs)(i.li,{children:["Si pu\xf2 essere in grado di aumentare il",(0,o.jsx)(i.a,{href:"/docs/server-admin/datasets#database-speed",children:"velocit\xe0 di un EDDTableFromDatabase"}),"Dataset."]}),"\n",(0,o.jsxs)(i.li,{children:["Molti set di dati EDDTable possono essere sped up da",(0,o.jsx)(i.a,{href:"/docs/server-admin/datasets#eddtablefromfiles",children:"memorizzazione di una copia dei dati inNetCDFFile di Array Ragged Contiguous"}),"cheERDDAP\u2122pu\xf2 leggere molto rapidamente."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["Se si desidera aiutare a velocizzare un set di dati specifico, includere una descrizione del problema e il pezzo di datasetdatasets.xmle vedere il nostro",(0,o.jsx)(i.a,{href:"/docs/intro#support",children:"sezione per ottenere supporto aggiuntivo"}),".\n\xa0"]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Se ",(0,o.jsx)(i.strong,{children:"tutto"})," inERDDAP\u2122\xe8 ",(0,o.jsx)(i.strong,{children:"sempre"})," lento, il problema pu\xf2 essere:","\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Il computer in esecuzioneERDDAP\u2122pu\xf2 non avere abbastanza memoria o potenza di elaborazione. \xc8 bello correreERDDAP\u2122su un server moderno e multi-core. Per un uso pesante, il server dovrebbe avere un sistema operativo a 64 bit e 8 GB o pi\xf9 di memoria."}),"\n",(0,o.jsx)(i.li,{children:"Il computer in esecuzioneERDDAP\u2122pu\xf2 anche eseguire altre applicazioni che stanno consumando un sacco di risorse di sistema. Se \xe8 cos\xec, \xe8 possibile ottenere un server dedicato perERDDAP? Per esempio (questo non \xe8 un'approvazione) , \xe8 possibile ottenere un quad-core Mac Mini Server con 8 GB di memoria per ~$1100.\n\xa0"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["Se ",(0,o.jsx)(i.strong,{children:"tutto"})," inERDDAP\u2122\xe8 ",(0,o.jsx)(i.strong,{children:"temporaneamente"})," lento, visualizzare ilERDDAP'",(0,o.jsxs)(i.a,{href:"#status-page",children:[" ",(0,o.jsx)(i.strong,{children:"/erddap/status.htmlpagina"})," "]}),"nel tuo browser.","\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Fa ilERDDAP\u2122pagina di stato non riesce a caricare?\nSe \xe8 cos\xec,",(0,o.jsx)(i.a,{href:"#shut-down-and-restart",children:"riavvioERDDAP\u2122"}),"."]}),"\n",(0,o.jsx)(i.li,{children:"L'ho fattoERDDAP\u2122stato pagina carico lentamente (ad esempio, >5 secondi) ?\nQuesto \xe8 un segno che tuttoERDDAP\u2122sta correndo lentamente, ma non \xe8 necessariamente un problema.ERDDAP\u2122Potrebbe essere molto impegnato."}),"\n",(0,o.jsx)(i.li,{children:"Per \"Risponsa il Tempo Non Risponso (dall'ultima maggiore LoadDatasets) \", \xe8 n= un gran numero?\nCi\xf2 indica che ci sono state molte richieste fallite di recente. Potrebbe essere un problema o l'inizio dei problemi. Il tempo mediano per i guasti \xe8 spesso grande (ad esempio, 210000 ms) \u266a\nche significa che c'erano (Davvero?) molti thread attivi.\nche stavano legando un sacco di risorse (come memoria, file aperti, prese aperte, ...) \u266a\nche non \xe8 buono."}),"\n",(0,o.jsx)(i.li,{children:'Per "Risponsa Tempo Accade (dall\'ultima maggiore LoadDatasets) ", \xe8 n= un gran numero?\nCi\xf2 indica che ci sono state un sacco di richieste di successo di recente. Non \xe8 un problema. Significa solo il tuoERDDAP\u2122sta diventando pesante.'}),"\n",(0,o.jsxs)(i.li,{children:['Il "Numero di fili non-Tomcat" raddoppia un valore tipico?\nQuesto \xe8 spesso grave problema che causer\xe0ERDDAP\u2122rallentare e alla fine congelare. Se questo persiste per ore, si pu\xf2 desiderare proattivamente',(0,o.jsx)(i.a,{href:"#shut-down-and-restart",children:"riavvioERDDAP\u2122"}),"."]}),"\n",(0,o.jsx)(i.li,{children:'Nella parte inferiore dell\'elenco "Memory Use Summary", \xe8 l\'ultimo valore "Memory: attualmente utilizzando" molto alto?\nQuesto pu\xf2 solo indicare l\'uso elevato, o pu\xf2 essere un segno di problemi.'}),"\n",(0,o.jsx)(i.li,{children:"Guarda la lista dei filetti e il loro stato. Un numero insolito di loro sta facendo qualcosa di insolito?\n\xa0"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\xc8 ",(0,o.jsx)(i.strong,{children:"connessione internet della vostra istituzione"}),' Attualmente lento?\nCercare internet per "internet speed test" e utilizzare uno dei test online gratuiti, come',(0,o.jsx)(i.a,{href:"https://www.speakeasy.net/speedtest/",children:" https://www.speakeasy.net/speedtest/ "}),". Se la connessione internet della vostra istituzione \xe8 lenta, allora i collegamenti traERDDAP\u2122e le fonti di dati remote saranno lente e le connessioni traERDDAP\u2122e l'utente sar\xe0 lento. A volte, \xe8 possibile risolvere questo problema fermando uso di internet non necessario (ad esempio, le persone che guardano i video in streaming o le videochiamate) .\n\xa0"]}),"\n",(0,o.jsxs)(i.li,{children:["\xc8 ",(0,o.jsx)(i.strong,{children:"connessione internet dell'utente"}),' Attualmente lento?\nFai cercare l\'utente su internet per "internet speed test" e usa uno dei test online gratuiti, come',(0,o.jsx)(i.a,{href:"https://www.speakeasy.net/speedtest/",children:" https://www.speakeasy.net/speedtest/ "}),". Se la connessione internet dell'utente \xe8 lenta, rallenta il loro accesso aERDDAP. A volte, possono risolvere questo problema bloccando l'uso di Internet non necessario alla loro istituzione (ad esempio, le persone che guardano i video in streaming o le videochiamate) .\n\xa0"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Stuck?"}),(0,o.jsx)(i.br,{}),"\n","Guarda la nostra",(0,o.jsx)(i.a,{href:"/docs/intro#support",children:"sezione per ottenere supporto aggiuntivo"}),"."]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"shut-down-and-restart",children:"Zitto e riavvia"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Come chiudere e riavviare Tomcat eERDDAP\u2122"}),(0,o.jsx)(i.br,{}),"\n","Non c'\xe8 bisogno di chiudere e riavviare Tomcat eERDDAPseERDDAP\u2122\xe8 temporaneamente lento, lento per qualche ragione conosciuta (come un sacco di richieste da script oWMSutenti) , o per applicare le modifichedatasets.xmlfile."]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["Devi chiudere e riavviare Tomcat eERDDAP\u2122se \xe8 necessario applicare le modifiche al file setup.xml, o seERDDAP\u2122blocca, blocca o blocca. In circostanze estreme,Javapu\xf2 congelare per un minuto o due mentre fa una collezione di spazzatura completa, ma poi recuperare. Quindi \xe8 bene aspettare un minuto o due per vedere seJava/ERDDAP\u2122\xe8 davvero congelato o se sta solo facendo una lunga raccolta di rifiuti. (Se la raccolta di rifiuti \xe8 un problema comune,",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#memory",children:"allocare pi\xf9 memoria a Tomcat"}),".)"]}),"\n",(0,o.jsx)(i.p,{children:"Non consiglio di usare Tomcat Web Application Manager per avviare o chiudere Tomcat. Se non si completamente shutdown e avvio Tomcat, prima o poi si avr\xe0 PermGen problemi di memoria."}),"\n",(0,o.jsx)(i.p,{children:"Per chiudere e riavviare Tomcat eERDDAP:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Se si utilizza Linux o Mac:\n(Se hai creato un utente speciale per eseguire Tomcat, ad esempio, tomcat, ricorda di fare i seguenti passaggi come quell'utente.)",(0,o.jsx)(i.br,{}),"\n","\xa0","\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["Utilizzare cd ",(0,o.jsx)(i.em,{children:"tomcat"})," /\n\xa0"]}),"\n",(0,o.jsxs)(i.li,{children:["Utilizzare ps -ef|tomcat grep per trovare il processo java/tomcat ID (Speriamo che solo un processo sar\xe0 elencato) che chiameremo ",(0,o.jsx)(i.em,{children:"javaProcess"})," sotto.\n\xa0"]}),"\n",(0,o.jsxs)(i.li,{children:["SeERDDAP\u2122\xe8 congelato/hung/bloccato, uso uccidere -3 ",(0,o.jsx)(i.em,{children:"javaProcess"})," per direJava  (che \xe8 in esecuzione Tomcat) per fare una discarica filettata al file di registro Tomcat: ",(0,o.jsx)(i.em,{children:"tomcat"})," /logs/catalina.out . Dopo il riavvio, \xe8 possibile diagnosticare il problema trovando il thread dump informazioni (e qualsiasi altra informazione utile sopra di esso) in ",(0,o.jsx)(i.em,{children:"tomcat"})," /logs/catalina.out e anche leggendo parti rilevanti del",(0,o.jsx)(i.a,{href:"#log",children:"ERDDAP\u2122archivio di log"}),". Se vuoi, puoi includere queste informazioni e vedere le nostre",(0,o.jsx)(i.a,{href:"/docs/intro#support",children:"sezione per ottenere supporto aggiuntivo"}),".\n\xa0"]}),"\n",(0,o.jsx)(i.li,{children:"Utilizzare ./shutdown. #\n\xa0"}),"\n",(0,o.jsx)(i.li,{children:"Utilizzare ps -ef|grep tomcat ripetutamente fino a quando il processo java/tomcat non \xe8 elencato."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["A volte, il processo java/tomcat richieder\xe0 fino a due minuti per chiudere completamente. Il motivo \xe8",":ERDDAP","\u2122invia un messaggio ai suoi filetti di sfondo per dirgli di fermarsi, ma a volte ci vuole molto tempo per arrivare a un buon punto di sosta."]}),"\n",(0,o.jsxs)(i.ol,{start:"6",children:["\n",(0,o.jsxs)(i.li,{children:["Se dopo un minuto o gi\xf9 di l\xec, java/tomcat non si ferma da solo, \xe8 possibile utilizzare\nuccidere -9 ",(0,o.jsx)(i.em,{children:"javaProcess"}),(0,o.jsx)(i.br,{}),"\n","forzare il processo java/tomcat a fermarsi immediatamente. Se possibile, utilizzare questo solo come ultima risorsa. L'interruttore -9 \xe8 potente, ma pu\xf2 causare vari problemi.\n\xa0"]}),"\n",(0,o.jsx)(i.li,{children:"RiavviareERDDAP\u2122, utilizzare ./startup.sh\n\xa0"}),"\n",(0,o.jsxs)(i.li,{children:["VistaERDDAP\u2122nel tuo browser per verificare che il riavvio \xe8 riuscito. (A volte, \xe8 necessario aspettare 30 secondi e cercare di caricareERDDAP\u2122di nuovo nel vostro browser per esso per avere successo.)",(0,o.jsx)(i.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Se si utilizza Windows:\n\xa0","\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["Utilizzare cd ",(0,o.jsx)(i.em,{children:"tomcat"})," /\n\xa0"]}),"\n",(0,o.jsxs)(i.li,{children:["Usoshutdown.bat",(0,o.jsx)(i.br,{}),"\n","\xa0"]}),"\n",(0,o.jsxs)(i.li,{children:["\xc8 possibile che si desidera / bisogno di utilizzare il Task Manager di Windows (accessibile tramite Ctrl Alt Del) per assicurare cheJava/Tomcat/ERDDAP\u2122processo/applicazione \xe8 completamente fermato.\nA volte, il processo/applicazione richieder\xe0 fino a due minuti per chiudere. Il motivo \xe8",":ERDDAP","\u2122invia un messaggio ai suoi filetti di sfondo per dirgli di fermarsi, ma a volte ci vuole molto tempo per arrivare a un buon punto di sosta.\n\xa0"]}),"\n",(0,o.jsx)(i.li,{children:"RiavviareERDDAP\u2122, utilizzare startup.bat\n\xa0"}),"\n",(0,o.jsxs)(i.li,{children:["VistaERDDAP\u2122nel tuo browser per verificare che il riavvio \xe8 riuscito. (A volte, \xe8 necessario aspettare 30 secondi e cercare di caricareERDDAP\u2122di nuovo nel vostro browser per esso per avere successo.)",(0,o.jsx)(i.br,{}),"\n","\xa0"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"frequent-crashes-or-freezes",children:"Crash frequenti o congela"}),"\n",(0,o.jsxs)(i.p,{children:["SeERDDAP\u2122diventa lento, si schianta o si blocca, qualcosa non va. Guarda",(0,o.jsx)(i.a,{href:"#log",children:"ERDDAPIl file di registro"}),"cercare di capire la causa. Se non \xe8 possibile, si prega di includere i dettagli e vedere i nostri",(0,o.jsx)(i.a,{href:"/docs/intro#support",children:"sezione per ottenere supporto aggiuntivo"}),"."]}),"\n",(0,o.jsx)(i.p,{children:"Il problema pi\xf9 comune \xe8 un utente problematico che sta eseguendo diversi script contemporaneamente e/o qualcuno che fa un gran numero di richieste non valide. Se questo accade, probabilmente si dovrebbe blacklist quell'utente. Quando un utente blacklist fa una richiesta, il messaggio di errore nella risposta li incoraggia a e-mail per risolvere i problemi. Poi, \xe8 possibile incoraggiarli a eseguire solo uno script alla volta e risolvere i problemi nel loro script (ad esempio, la richiesta di dati da un set di dati remoto che non pu\xf2 rispondere prima di scadere) . Vedi<richiestaBlacklist> nel tuodatasets.xmlfile] (/docs/server-admin/datasets#requestblacklist) ."}),"\n",(0,o.jsxs)(i.p,{children:["In circostanze estreme,Javapu\xf2 congelare per un minuto o due mentre fa una collezione di spazzatura completa, ma poi recuperare. Quindi \xe8 bene aspettare un minuto o due per vedere seJava/ERDDAP\u2122\xe8 davvero congelato o se sta solo facendo una lunga raccolta di rifiuti. (Se la raccolta di rifiuti \xe8 un problema comune,",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#memory",children:"allocare pi\xf9 memoria a Tomcat"}),".)"]}),"\n",(0,o.jsxs)(i.p,{children:["SeERDDAP\u2122diventa lento o congela e il problema non \xe8 un utente fastidioso o una lunga raccolta di rifiuti, di solito si pu\xf2 risolvere il problema da",(0,o.jsx)(i.a,{href:"#shut-down-and-restart",children:"riavviareERDDAP\u2122"}),". La mia esperienza \xe8 cheERDDAP\u2122pu\xf2 funzionare per mesi senza bisogno di un riavvio.\n\xa0"]}),"\n",(0,o.jsx)(i.h3,{id:"monitor",children:"Monitoraggio"}),"\n",(0,o.jsxs)(i.p,{children:["Puoi monitorare il tuoERDDAPlo stato guardando",(0,o.jsx)(i.a,{href:"#status-page",children:"/erddap/status.htmlpagina"}),", in particolare le statistiche nella parte superiore. SeERDDAP\u2122diventa lento o congela e il problema non \xe8 solo un uso estremamente pesante, di solito si pu\xf2 risolvere il problema da",(0,o.jsx)(i.a,{href:"#shut-down-and-restart",children:"riavviareERDDAP\u2122"}),". Ci sono ulteriori metriche disponibili attraverso l'integrazione Prometheus a /erddap/metrics."]}),"\n",(0,o.jsxs)(i.p,{children:["La mia esperienza \xe8 cheERDDAP\u2122pu\xf2 funzionare per mesi senza bisogno di un riavvio. Si dovrebbe solo bisogno di riavviare se si desidera applicare alcuni cambiamenti che hai fatto perERDDAP's setup.xml o quando \xe8 necessario installare nuove versioni diERDDAP\u2122\u266aJavaTomcat, o il sistema operativo. Se hai bisogno di riavviareERDDAP\u2122frequentemente, qualcosa non va. Guarda",(0,o.jsx)(i.a,{href:"#log",children:"ERDDAPIl file di registro"}),"cercare di capire la causa. Se non \xe8 possibile, si prega di includere i dettagli e vedere i nostri",(0,o.jsx)(i.a,{href:"/docs/intro#support",children:"sezione per ottenere supporto aggiuntivo"}),". Come soluzione temporanea, si potrebbe provare a utilizzare",(0,o.jsx)(i.a,{href:"https://mmonit.com/monit/",children:"Monit"}),"per monitorare ilERDDAP\u2122e riavviarlo se necessario. Oppure potresti fare un lavoro da cron per ricominciare.ERDDAP\u2122  (proattivamente) periodicamente. Potrebbe essere un po' impegnativo scrivere uno script per automatizzare il monitoraggio e il riavvioERDDAP. Alcuni consigli che potrebbero aiutare:"]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["\xc8 possibile semplificare il test se il processo Tomcat \xe8 ancora in esecuzione utilizzando l'interruttore -c con grep:\nps. ",(0,o.jsx)(i.em,{children:"tomcat Utente"}),'  |grep -c java\nCi\xf2 ridurr\xe0 l\'output a "1" se il processo di tomcat \xe8 ancora vivo, o "0" se il processo si \xe8 fermato.\n\xa0']}),"\n",(0,o.jsxs)(i.li,{children:["Se sei bravo con gawk, puoi estrarre il processID dai risultati di\nps. ",(0,o.jsx)(i.em,{children:"tomcat Utente"}),"  |grep java, e utilizzare il processID in altre linee dello script.\n\xa0"]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["Se si imposta Monit o un lavoro di cron, sarebbe bello se si potesse condividere i dettagli in modo che gli altri potrebbero beneficiare",(0,o.jsx)(i.a,{href:"/docs/intro#support",children:"sezione per ottenere supporto aggiuntivo"}),"per dove puoi condividere."]}),"\n",(0,o.jsx)(i.h4,{id:"permgen",children:"Profumo"}),"\n",(0,o.jsxs)(i.p,{children:["Se usi ripetutamente Tomcat Manager per ricaricare (o Stop and Start)  ERDDAP\u2122\u266aERDDAP\u2122potrebbe non cominciare a lanciare java.lang. Voce principale: PermGen. La soluzione \xe8 periodicamente (o ogni volta?)  ",(0,o.jsx)(i.a,{href:"#shut-down-and-restart",children:"spegnere e riavviare tomcat eERDDAP\u2122"}),", invece di ricaricareERDDAP.\n\\[Aggiornamento: Questo problema \xe8 stato notevolmente ridotto o risolto inERDDAP\u2122versione 1.24.\\]",(0,o.jsx)(i.br,{}),"\n","\xa0"]}),"\n",(0,o.jsx)(i.h4,{id:"log",children:"Log"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:(0,o.jsx)(i.a,{href:"#log",children:"log.txt"})}),(0,o.jsx)(i.br,{}),"\n","SeERDDAP\u2122non si avvia o se qualcosa non funziona come previsto, \xe8 molto utile guardare i messaggi di errore e diagnostica nelERDDAP\u2122file di registro."]}),"\n",(0,o.jsxs)(i.li,{children:["Il file di registro \xe8 ",(0,o.jsx)(i.em,{children:"BigParentDirectory"})," /logs/log.txt\n( ",(0,o.jsx)(i.em,{children:"BigParentDirectory"})," \xe8 specificato in",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),") . Se non c'\xe8 un tronco. file txt o se il registro. txt file non \xe8 stato aggiornato da quando hai riavviatoERDDAP\u2122, guarda dentro",(0,o.jsx)(i.a,{href:"#tomcat-logs",children:"Tomcat File di registro"}),"per vedere se c'\xe8 un messaggio di errore l\xec."]}),"\n",(0,o.jsxs)(i.li,{children:["Tipi di messaggi diagnostici nel file di registro:","\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:'La parola "error" viene usata quando qualcosa \xe8 andato cos\xec male che la procedura non \xe8 riuscita a completare. Anche se \xe8 fastidioso per ottenere un errore, l\'errore ti costringe a affrontare il problema. Il nostro pensiero \xe8 che \xe8 meglio lanciare un errore, che avereERDDAP\u2122Hobble lungo, lavorando in un modo che non ti aspettavi.'}),"\n",(0,o.jsx)(i.li,{children:'La parola "avvertimento" viene usata quando qualcosa \xe8 andato storto, ma la procedura \xe8 stata in grado di essere completata. Sono piuttosto rari.'}),"\n",(0,o.jsx)(i.li,{children:"Qualunque altra cosa \xe8 solo un messaggio informativo. \xc8 possibile controllare quante informazioni sono registrate con [<logLevel>] (/docs/server-admin/datasets#loglevel)  datasets.xml."}),"\n",(0,o.jsx)(i.li,{children:'Ricarica dati e risposte utente che richiedono >10 secondi per finire (con successo o senza successo) sono contrassegnati con " (10!) ". Cos\xec, \xe8 possibile cercare il file log.txt per questa frase per trovare i set di dati che erano lenti a ricaricare o il numero di richiesta delle richieste che erano lente a finire. Si pu\xf2 quindi guardare pi\xf9 in alto nel file log.txt per vedere che cosa il problema dataset era o che cosa la richiesta dell\'utente era e da chi era. Questi carichi di dataset lenti e le richieste degli utenti sono a volte tassando suERDDAP. Cos\xec sapere di pi\xf9 su queste richieste pu\xf2 aiutare a identificare e risolvere i problemi.'}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["Le informazioni sono scritte al file di registro sull'unit\xe0 disco in pezzi abbastanza grandi. Il vantaggio \xe8 che questo \xe8 molto efficiente --ERDDAP\u2122non blocco mai in attesa di informazioni da scrivere al file di registro. Lo svantaggio \xe8 che il registro finir\xe0 quasi sempre con un messaggio parziale, che non sar\xe0 completato fino a quando il prossimo pezzo sar\xe0 scritto. Puoi aggiornarlo. (per un istante) visualizzando ilERDDAP's stato pagina web a https://",(0,o.jsx)(i.em,{children:"your.domain.org"}),"/erddap/status.html   (ohttp://sehttpsnon \xe8 abilitato) ."]}),"\n",(0,o.jsx)(i.li,{children:"Quando i file log.txt arrivano a 20 MB,\nil file viene rinominato log. txt.previous e viene creato un nuovo file log.txt. Quindi i file di registro non si accumulano."}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"In setup.xml, \xe8 possibile specificare una dimensione massima diversa per il file di registro, in MegaBytes. Il minimo consentito \xe8 1 (MB) . Il massimo consentito \xe8 il 2000 (MB) . Il valore predefinito \xe8 20 (MB) . Per esempio:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"        <logMaxSizeMB>20</logMaxSizeMB>\n"})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Ogni volta che riavviaERDDAP\u2122\u266a\nERDDAP\u2122fa una copia di archivio del log.txt e log. txt.previous file con un timestamp nel nome del file. Se ci sono stati problemi prima del riavvio, potrebbe essere utile analizzare questi file archiviati per indizi su ci\xf2 che il problema era. \xc8 possibile eliminare i file di archivio se non sono pi\xf9 necessari.\n\xa0"}),"\n"]}),"\n",(0,o.jsx)(i.h5,{id:"parsing-logtxt",children:"Parsing log.txt"}),"\n",(0,o.jsx)(i.p,{children:"ERDDAPIl tronco. il file txt non \xe8 progettato per la parsing (anche se si potrebbe essere in grado di creare espressioni regolari che estrarre le informazioni desiderate) . \xc8 progettato per aiutare una persona a capire cosa sta andando storto quando qualcosa sta andando storto. Quando si invia un bug o un report di problemiERDDAP\u2122gli sviluppatori, quando possibile, si prega di includere tutte le informazioni dal file log.txt relative alla richiesta fastidiosa."}),"\n",(0,o.jsxs)(i.p,{children:["Per motivi di efficienza,ERDDAP\u2122solo scrive informazioni per registrare. txt dopo un grande pezzo di informazione si \xe8 accumulato. Quindi se visiti il registro. txt subito dopo che si \xe8 verificato un errore, le informazioni relative all'errore potrebbero non essere ancora state scritte su log.txt. Per ottenere informazioni perfettamente aggiornate da log.txt, visita il tuoERDDAP'",(0,o.jsx)(i.a,{href:"#status-page",children:"stato.html pagina"}),". QuandoERDDAP\u2122processi che richiedono, svuota tutte le informazioni in sospeso per log.txt."]}),"\n",(0,o.jsxs)(i.p,{children:["PerERDDAP\u2122statistiche di utilizzo, si prega di utilizzare",(0,o.jsx)(i.a,{href:"#tomcat-logs",children:"File di registro Apache e/o Tomcat"}),"invece diERDDAPE' log.txt. Nota",":ERDDAP","'",(0,o.jsx)(i.a,{href:"#status-page",children:"stato.html pagina"}),"  (alcuni) e",(0,o.jsx)(i.a,{href:"#daily-report",children:"Rapporto giornaliero"}),"  (di pi\xf9) hanno un gran numero di statistiche di utilizzo precalcolato per voi."]}),"\n",(0,o.jsx)(i.h3,{id:"tomcat-logs",children:"Tomcat Logs"}),"\n",(0,o.jsxs)(i.p,{children:["SeERDDAP\u2122non inizia perch\xe9 un errore si \xe8 verificato molto prestoERDDAP's startup, il messaggio di errore verr\xe0 visualizzato nei file di registro di Tomcat ( ",(0,o.jsx)(i.em,{children:"tomcat"})," /logs/catalina. ",(0,o.jsx)(i.em,{children:"oggi"})," .log o ",(0,o.jsx)(i.em,{children:"tomcat"})," /logs/catalina.out) , non dentro",(0,o.jsx)(i.a,{href:"#log",children:"ERDDAPIl file log.txt"}),"."]}),"\n",(0,o.jsxs)(i.p,{children:["Statistiche di utilizzo: Per la maggior parte delle informazioni che le persone vogliono raccogliere da un file di registro (ad esempio, statistiche di utilizzo) , si prega di utilizzare i file di registro Apache e/o Tomcat. Sono ben formattati e hanno quel tipo di informazioni. Ci sono numerosi strumenti per analizzarli, ad esempio,",(0,o.jsx)(i.a,{href:"https://www.awstats.org",children:"AWStats"}),"\u266a",(0,o.jsx)(i.a,{href:"https://www.elastic.co/products/kibana",children:"Kibana di ElasticSearch"}),"e",(0,o.jsx)(i.a,{href:"https://jmeter.apache.org",children:"JMeter"}),", ma cercate il web per trovare lo strumento giusto per i vostri scopi."]}),"\n",(0,o.jsxs)(i.p,{children:["Si noti che i file di registro identificano solo gli utenti come indirizzi IP. Ci sono siti web per aiutarti a ottenere informazioni relative a un determinato indirizzo IP, ad esempio,",(0,o.jsx)(i.a,{href:"https://whatismyipaddress.com/ip-lookup",children:"WhatIsMyIPAddress"}),", ma normalmente non sar\xe0 in grado di trovare il nome dell'utente."]}),"\n",(0,o.jsxs)(i.p,{children:["Inoltre, a causa di",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol",children:"DHCP"}),", l'indirizzo IP di un dato utente pu\xf2 essere diverso in giorni diversi, o gli utenti diversi possono avere lo stesso indirizzo IP in tempi diversi."]}),"\n",(0,o.jsxs)(i.p,{children:["In alternativa, puoi usare qualcosa come",(0,o.jsx)(i.a,{href:"https://analytics.google.com/analytics/web/provision/?authuser=0#/provision",children:"Google Analytics"}),". Ma attenzione: quando utilizzi servizi esterni come Google Analytics, stai rinunciando alla privacy dei tuoi utenti dando a Google l'accesso completo alla loro attivit\xe0 sul tuo sito che Google (e altri?) pu\xf2 mantenere per sempre e utilizzare per qualsiasi scopo (forse non tecnicamente, ma probabilmente in pratica) . I tuoi utenti non hanno acconsentito a questo e probabilmente non sono consapevoli che saranno rintracciati sul tuo sito web, proprio come probabilmente non sono a conoscenza della misura in cui vengono monitorati su quasi tutti i siti web. In questi giorni, molti utenti sono molto preoccupati che tutto ci\xf2 che fanno sul web \xe8 monitorato da queste grandi aziende (Google, Facebook, ecc.) e dal governo, e trovare questo un'intrusione non sana nelle loro vite (come nel libro, 1984) . Questo ha spinto molti utenti a installare prodotti come",(0,o.jsx)(i.a,{href:"https://www.eff.org/privacybadger/faq",children:"Privacy Badger"}),"per minimizzare il monitoraggio, per utilizzare browser alternativi come",(0,o.jsx)(i.a,{href:"https://www.torproject.org/",children:"Tor Browser"}),"  (o disattivare il monitoraggio nei browser tradizionali) , e utilizzare motori di ricerca alternativi come",(0,o.jsx)(i.a,{href:"https://duckduckgo.com/",children:"Duck Duck Go"}),". Se si utilizza un servizio come Google Analytics, si prega di documentare almeno il suo utilizzo e le conseguenze cambiando<tag standardPrivacyPolicy> inERDDAP'\n\\[tomcat\\]/webapps/erddap/WEB-INF/classes/gov/noa/pfel/erddap/util/messages.xml file."]}),"\n",(0,o.jsx)(i.h3,{id:"e-mail-log",children:"E-Mail Log"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"emailLogYEAR-MM-DD.txt"}),(0,o.jsx)(i.br,{}),"\n","ERDDAP\u2122scrive sempre il testo di tutti i messaggi e-mail in uscita nell'e-mail del giorno corrente LogYEAR-MM-DD.txt file in ",(0,o.jsx)(i.em,{children:"BigParentDirectory"})," /logs ( ",(0,o.jsx)(i.em,{children:"BigParentDirectory"})," \xe8 specificato in",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),") ."]}),"\n",(0,o.jsx)(i.li,{children:"Se il server non pu\xf2 inviare messaggi e-mail, o se \xe8 configuratoERDDAP\u2122non inviare messaggi e-mail, o se siete solo curiosi, questo file \xe8 un modo conveniente per vedere tutti i messaggi e-mail che sono stati inviati."}),"\n",(0,o.jsx)(i.li,{children:"\xc8 possibile eliminare i file di registro e-mail dei giorni precedenti se non sono pi\xf9 necessari.\n\xa0"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"daily-report",children:"Rapporto giornaliero"}),"\n",(0,o.jsxs)(i.p,{children:["Il Daily Report ha un sacco di informazioni utili -- tutte le informazioni dal vostroERDDAP'",(0,o.jsx)(i.a,{href:"#status-page",children:"/erddap/status.htmlpagina"}),"e altro ancora."]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"\xc8 il riassunto pi\xf9 completo del vostroERDDAPE' stato."}),"\n",(0,o.jsx)(i.li,{children:"Tra le altre statistiche, include un elenco di set di dati che non hanno caricato e le eccezioni generate."}),"\n",(0,o.jsx)(i.li,{children:"Viene generato quando si iniziaERDDAP\u2122  (subito dopoERDDAP\u2122finiture cercando di caricare tutti i dataset) e generato subito dopo 7 ore locali ogni mattina."}),"\n",(0,o.jsxs)(i.li,{children:["Ogni volta che viene generato, \xe8 scritto a",(0,o.jsx)(i.a,{href:"#log",children:"ERDDAPIl file log.txt"}),"."]}),"\n",(0,o.jsxs)(i.li,{children:["Ogni volta che viene generato, viene inviato via email<emailDailyReportsTo> e<emailTutto > (che sono specificati",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),") a condizione che abbiate impostato il sistema di posta elettronica (in setup.xml) ."]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"status-page",children:"Pagina di stato"}),"\n",(0,o.jsx)(i.p,{children:"Puoi visualizzare lo stato del tuoERDDAP\u2122da qualsiasi browser andando a<>/erddap/status.html"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Questa pagina \xe8 generata dinamicamente, quindi ha sempre statistiche up-to-the-moment per il tuoERDDAP."}),"\n",(0,o.jsx)(i.li,{children:"Esso comprende le statistiche relative al numero di richieste, l'utilizzo della memoria, le tracce dello stack del thread, il taskThread, ecc."}),"\n",(0,o.jsxs)(i.li,{children:["Poich\xe9 la pagina di stato pu\xf2 essere vista da chiunque, non include molte informazioni come la",(0,o.jsx)(i.a,{href:"#daily-report",children:"Rapporto giornaliero"}),".\n\xa0"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"addingchanging-datasets",children:"Aggiunta/Changing Datasets"}),"\n",(0,o.jsxs)(i.p,{children:["ERDDAP\u2122di solito rileggedatasets.xmlogni ",(0,o.jsx)(i.em,{children:"caricoDatasetsMinMinutes"}),"   (specificato",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),") . Cos\xec si pu\xf2 fare modifiche adatasets.xmlin qualsiasi momento, anche mentreERDDAP\u2122sta correndo.\nUn nuovo set di dati verr\xe0 rilevato presto, di solito all'interno ",(0,o.jsx)(i.em,{children:"caricoDatasetsMinMinutes"})," .\nUn set di dati modificato verr\xe0 ricaricato quando \xe8 ",(0,o.jsx)(i.em,{children:"reloadEveryNMinuts"})," vecchio (come specificatodatasets.xml) ."]}),"\n",(0,o.jsx)(i.h4,{id:"flag",children:"Bandiera"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsxs)(i.strong,{children:[(0,o.jsx)(i.a,{href:"#flag",children:"Un file di bandiera"}),"IndicazioniERDDAP\u2122per cercare di ricaricare un Dataset non appena possibile"]})}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"ERDDAP\u2122non noter\xe0 alcuna modifica alla configurazione di un datasetdatasets.xmlfino a quandoERDDAP\u2122ricarica il dataset.\n\xa0"}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["A direERDDAP\u2122ricaricare un dataset il prima possibile (prima del dataset)<reloadEveryNMinutes> lo causerebbe essere ricaricato), mettere un file in ",(0,o.jsx)(i.em,{children:"BigParentDirectory"})," /flag ( ",(0,o.jsx)(i.em,{children:"BigParentDirectory"})," \xe8 specificato in",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),') che ha lo stesso nome del datasetdatasetID.\nQuesto diceERDDAP\u2122per provare a ricaricare il dataset ASAP.\nLa vecchia versione del dataset rimarr\xe0 disponibile agli utenti fino a quando la nuova versione \xe8 disponibile e scambiata atomicamente in atto.\nPerEDDGridDaFiles ed EDDTable DaFiles, il dataset di ricarica cercher\xe0 i file nuovi o modificati, li legga e li incorporer\xe0 nel dataset. Quindi il tempo di ricarica dipende dal numero di file nuovi o modificati.\nSe il dataset \xe8 attivo="false",ERDDAP\u2122rimuover\xe0 il dataset.\n\xa0']}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.h5,{id:"bad-files-flag",children:"Bandiera dei file danneggiati"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Una variante della directory /flag \xe8 la directory /badFilesFlag. (Aggiunto inERDDAP\u2122Voce principale:)",(0,o.jsx)(i.br,{}),"\n","Se metti un file nel ",(0,o.jsx)(i.em,{children:"BigParentDirectory"})," directory /badFilesFlag con undatasetIDcome il nome del file (il contenuto del file non importa) , poi non appenaERDDAP\u2122vede il maleFiles Bandiera,ERDDAP\u2122sar\xe0:"]}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsx)(i.li,{children:"Eliminare il file BadFilesFlag."}),"\n",(0,o.jsx)(i.li,{children:"Eliminare i BadFiles.ncfile (se c'\xe8 uno) , che ha l'elenco dei file cattivi per quel dataset.\nPer i set di dati comeEDDGridSideBySide che hanno bambiniDatasets, questo elimina anche i BadFiles.ncfile per tutti i dataset bambino."}),"\n",(0,o.jsx)(i.li,{children:"Ricarica il dataset al pi\xf9 presto."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Cos\xec, questa causaERDDAP\u2122per provare di nuovo a lavorare con i file in precedenza (Erroneamente?) marcato come male.\n\xa0"}),"\n",(0,o.jsx)(i.h5,{id:"hard-flag",children:"Bandiera rigida"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Un'altra variante della directory /flag \xe8 la directory /hardFlag. (Aggiunto inERDDAP\u2122v1.74.)",(0,o.jsx)(i.br,{}),"\n","Se metti un file dentro ",(0,o.jsx)(i.em,{children:"BigParentDirectory"})," /hardFlag con undatasetIDcome il nome del file (il contenuto del file non importa) , poi non appenaERDDAP\u2122vede il duro Bandiera,ERDDAP\u2122sar\xe0:"]}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsx)(i.li,{children:"Eliminare il file hardFlag."}),"\n",(0,o.jsx)(i.li,{children:"Rimuovere il dataset daERDDAP."}),"\n",(0,o.jsx)(i.li,{children:"Elimina tutte le informazioni cheERDDAP\u2122ha memorizzato su questo dataset.\nPerEDDGridDaFiles ed EDDTable FromFiles sottoclasses, questo elimina il database interno dei file di dati e il loro contenuto.\nPer i set di dati comeEDDGridSideBySide che hanno bambiniDatasets, questo elimina anche il database interno dei file di dati e il loro contenuto per tutti i dataset bambino."}),"\n",(0,o.jsxs)(i.li,{children:["Ricarica il dataset.\nPerEDDGridDaFiles ed EDDTable Dalle sottoclassi di Files, questo provocaERDDAP\u2122a rileggere ",(0,o.jsx)(i.strong,{children:"Tutto"})," dei file di dati. Cos\xec, il tempo di ricarica dipende dal numero totale di file di dati nel dataset. Perch\xe9 il dataset \xe8 stato rimossoERDDAP\u2122quando l'hardFlag \xe8 stato notato, il dataset non sar\xe0 disponibile fino a quando il dataset termina il caricamento. Sii paziente. Guarda dentro",(0,o.jsx)(i.a,{href:"#log",children:"log.txt"}),"se vuoi vedere cosa sta succedendo."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"La variante hardFlag cancella le informazioni memorizzate del dataset anche se il dataset non \xe8 attualmente caricato inERDDAP."}),"\n",(0,o.jsx)(i.p,{children:"Duro Le bandiere sono molto utili quando si fa qualcosa che provoca un cambiamento in comeERDDAP\u2122legge e interpreta i dati di origine, ad esempio, quando si installa una nuova versione diERDDAP\u2122o quando hai apportato una modifica alla definizione di un datasetdatasets.xml"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"I contenuti della bandiera, badFilesFlag e hardFlag sono irrilevanti.ERDDAP\u2122solo guarda il nome del file per ottenere ildatasetID.\n\xa0"}),"\n",(0,o.jsx)(i.li,{children:"Tra i maggiori carichi di dataset,ERDDAP\u2122cerca continuamente per i file di bandiera, badFilesFlag e hardFlag.\n\xa0"}),"\n",(0,o.jsxs)(i.li,{children:["Si noti che quando un dataset viene ricaricato, tutti i file nel ",(0,o.jsx)(i.em,{children:"BigParentDirectory"})," /",(0,o.jsx)(i.a,{href:"#cached-responses",children:"cache"}),"/ ",(0,o.jsx)(i.em,{children:"datasetID"})," directory vengono eliminati. Questo include.nce file di immagine che sono normalmente memorizzati nella cache per ~15 minuti.\n\xa0"]}),"\n",(0,o.jsxs)(i.li,{children:["Nota che se il set di dati xml include",(0,o.jsx)(i.a,{href:"/docs/server-admin/datasets#active",children:'attivo="falso"'}),", una bandiera far\xe0 s\xec che il set di dati sia reso inattivo (se \xe8 attivo) , e in ogni caso, non ricaricato.\n\xa0"]}),"\n",(0,o.jsx)(i.li,{children:"Ogni voltaERDDAP\u2122esegue LoadDatasets per effettuare una ricarica importante (il carico di tempo controllato da<loadDatasetsMinMinutes> o una ricarica minore (come risultato di una bandiera esterna o interna) \u266aERDDAP\u2122legge tutto<decompressoCacheMaxGB>,<decompressoCacheMaxMinutesOld>,<><richiestaBlacklist>,<slowDownTroubleMillis>, e<sottoscrizioneEmailBlacklist> tag e switch alle nuove impostazioni. Cos\xec si pu\xf2 utilizzare una bandiera come un modo per ottenereERDDAP\u2122per notare le modifiche a tali tag al pi\xf9 presto."}),"\n"]}),"\n",(0,o.jsx)(i.h5,{id:"set-dataset-flag",children:"Impostare la bandiera dei dati"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"ERDDAP\u2122ha un servizio web in modo che le bandiere possano essere impostate tramite URL."}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Per esempio,\n",(0,o.jsx)(i.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/setDatasetFlag.txt?datasetID=rPmelTao&flagKey=123456789",children:"https://coastwatch.pfeg.noaa.gov/erddap/setDatasetFlag.txt?datasetID=rPmelTao&flagKey=123456789"}),(0,o.jsx)(i.br,{}),"\n","(che \xe8 una bandiera falsa Chiave) imposta una bandiera per il dataset rPmelTao."]}),"\n",(0,o.jsx)(i.li,{children:"C'\xe8 un altro flagKey per ognidatasetID."}),"\n",(0,o.jsxs)(i.li,{children:["Gli amministratori possono vedere un elenco di URL di bandiera per tutti i set di dati guardando in fondo al loro",(0,o.jsx)(i.a,{href:"#daily-report",children:"Rapporto giornaliero"}),"email."]}),"\n",(0,o.jsx)(i.li,{children:"Gli amministratori dovrebbero trattare questi URL come confidenziali, dal momento che danno a qualcuno il diritto di ripristinare un dataset a volont\xe0."}),"\n",(0,o.jsxs)(i.li,{children:["Se pensi che i flagKeys siano caduti nelle mani di qualcuno che li abusa, puoi cambiare<flagKeyKey> in",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),"e riavviareERDDAPa forzaERDDAP\u2122per generare e utilizzare un diverso set di flagKeys."]}),"\n",(0,o.jsx)(i.li,{children:"Se cambi<flagKeyKey>, eliminare tutti i vecchi abbonamenti (vedi la lista nel tuo rapporto giornaliero) e ricorda di inviare i nuovi URL alle persone che si desidera avere."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Il sistema di bandiera pu\xf2 servire come base per un meccanismo pi\xf9 efficiente per raccontareERDDAP\u2122quando ricaricare un dataset. Ad esempio, \xe8 possibile impostare un set di dati<reloadEveryNMinutes> a un numero elevato (ad esempio, 10080 = 1 settimana) . Poi, quando si sa che il dataset \xe8 cambiato (forse perch\xe9 hai aggiunto un file alla directory dati del dataset) , impostare una bandiera in modo che il dataset venga ricaricato il prima possibile. Le bandiere sono di solito viste rapidamente. Ma se il filo LoadDatasets \xe8 gi\xe0 occupato, pu\xf2 essere un po 'prima che sia disponibile per agire sulla bandiera. Ma il sistema di bandiera \xe8 molto pi\xf9 reattivo e molto pi\xf9 efficiente di impostazione<reloadEveryNMinutes> a un piccolo numero."}),"\n",(0,o.jsx)(i.h4,{id:"removing-datasets",children:"Rimozione dei set di dati"}),"\n",(0,o.jsx)(i.p,{children:"Se un dataset \xe8 attivoERDDAP\u2122e si desidera disattivarlo temporaneamente o permanentemente:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["Indatasets.xmlper il dataset, set",(0,o.jsx)(i.a,{href:"/docs/server-admin/datasets#active",children:'attivo="falso"'}),"nel tag dataset."]}),"\n",(0,o.jsxs)(i.li,{children:["Aspetta.ERDDAP\u2122per rimuovere il set di dati durante la successiva ricarica principale o",(0,o.jsx)(i.a,{href:"#flag",children:"impostare una bandiera"}),"per il dataset da raccontareERDDAP\u2122per notare questo cambiamento il prima possibile. Quando lo fai,ERDDAP\u2122non getta alcuna informazione che potrebbe aver memorizzato sul dataset e certamente non fa nulla ai dati effettivi."]}),"\n",(0,o.jsx)(i.li,{children:'Quindi \xe8 possibile lasciare il dataset attivo="false" indatasets.xmlo rimuoverlo.\n\xa0'}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"when-are-datasets-reloaded",children:"Quando vengono ricaricati Datasets?"}),"\n",(0,o.jsx)(i.p,{children:"Un thread chiamato RunLoadDatasets \xe8 il filetto master che controlla quando vengono ricaricati i dataset. RunLoad Datasets loops per sempre:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"RunLoadDatasets nota l'ora corrente."}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["RunLoadDatasets inizia un filetto LoadDatasets per fare un \"majorLoad\". Puoi vedere informazioni sull'attuale / precedente majorLoad in cima al tuoERDDAP'\n",(0,o.jsx)(i.a,{href:"#status-page",children:"/erddap/status.htmlpagina"}),"  (per esempio,",(0,o.jsx)(i.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/status.html",children:"esempio pagina di stato"}),") ."]}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsx)(i.li,{children:"LoadDatasets fa una copia didatasets.xml."}),"\n",(0,o.jsxs)(i.li,{children:["LoadDatasets legge attraverso la copia didatasets.xmle, per ogni dataset, vede se il dataset deve essere (re) caricato o rimosso.","\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Se",(0,o.jsx)(i.a,{href:"#flag",children:"bandiera"}),'file esiste per questo set di dati, il file viene eliminato e il set di dati viene rimosso se attivo="falso" o (re) caricato se attivo="vero" (indipendentemente dall\'et\xe0 del dataset) .']}),"\n",(0,o.jsx)(i.li,{children:'Se il dataset\'s dataset.xml chunk \xe8 attivo="falso" e il dataset \xe8 attualmente caricato (attivo) , \xe8 scaricato (rimosso) .'}),"\n",(0,o.jsx)(i.li,{children:'Se il dataset ha attiva="true" e il dataset non \xe8 gi\xe0 caricato, \xe8 caricato.'}),"\n",(0,o.jsx)(i.li,{children:"Se il dataset \xe8 attivo=\"true\" e il dataset \xe8 gi\xe0 caricato, il set di dati viene ricaricato se l'et\xe0 del dataset (tempo dall'ultimo carico) \xe8 pi\xf9 grande della sua<ricarica Tutti i prodotti (default = 10080 minuti) , altrimenti, il dataset \xe8 lasciato solo."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.li,{children:"Finiture LoadDatasets."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["Il filetto RunLoadDatasets aspetta il thread LoadDatasets da terminare. Se LoadDatasets richiede pi\xf9 tempo di caricareDatasets MinMinuts (come specificato in setup.xml) , RunLoadDatasets interrompe il filetto LoadDatasets. Idealmente, LoadDatasets nota l'interruzione e le finiture. Ma se non si nota l'interruzione entro un minuto, RunLoadDatasets chiama loadDatasets. Fermati. () , che \xe8 indesiderabile.\n3. Mentre il tempo dall'inizio dell'ultimo majorLoad \xe8 inferiore a caricoDatasets MinMinuts (come specificato in setup.xml, ad esempio, 15 minuti) , RunLoadDatasets ripetutamente cerca",(0,o.jsx)(i.a,{href:"#flag",children:"bandiera"}),"file nel ",(0,o.jsx)(i.em,{children:"BigParentDirectory"}),' directory /flag. Se si trovano uno o pi\xf9 file di bandiera, vengono eliminati e RunLoadDatasets avvia un filetto LoadDatasets per fare un "minorLoad" (majorLoad=false) . Non puoi vedere le informazioni di minor carico sul tuoERDDAP\'',(0,o.jsx)(i.a,{href:"#status-page",children:"/erddap/status.htmlpagina"}),"."]}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsx)(i.li,{children:"LoadDatasets fa una copia didatasets.xml."}),"\n",(0,o.jsxs)(i.li,{children:["LoadDatasets legge attraverso la copia didatasets.xmle, per ogni dataset per il quale c'era un file di bandiera:","\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:'Se il dataset\'s dataset.xml chunk \xe8 attivo="falso" e il dataset \xe8 attualmente caricato (attivo) , \xe8 scaricato (rimosso) .'}),"\n",(0,o.jsx)(i.li,{children:'Se il dataset \xe8 attivo="true", il dataset \xe8 (re) carica, indipendentemente dalla sua et\xe0. I dataset non infiammati vengono ignorati.'}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.li,{children:"Finiture LoadDatasets."}),"\n",(0,o.jsx)(i.li,{children:"RunLoad Datasets torna al passo 1."}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Note:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:'Inizio\nQuando si riavviaERDDAP\u2122, ogni dataset con active="true" \xe8 caricato.'}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"Cache\nQuando un set di dati \xe8 (re) caricato, la sua cache (incluso qualsiasi file di risposta dati e/o file di immagine) \xe8 svuotato."}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"Molti Datasets\nSe hai un sacco di dataset e/o uno o pi\xf9 dataset sono lenti a (re) carico, un filo LoadDatasets pu\xf2 richiedere molto tempo per finire il suo lavoro, forse anche pi\xf9 lungo di caricareDatasets MinMinutes."}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:'Un filetto di dati di carico\nNon c\'\xe8 mai pi\xf9 di un filetto LoadDatasets in esecuzione contemporaneamente. Se una bandiera \xe8 impostata quando LoadDatasets \xe8 gi\xe0 in esecuzione, la bandiera probabilmente non verr\xe0 notata o agita fino a che il filetto LoadDatasets non finir\xe0 in esecuzione. Potresti dire: "\xc8 stupido. Perch\xe9 non si avvia un gruppo di nuovi thread per caricare i set di dati?" Ma se si dispone di un sacco di dataset che ottengono i dati da un server remoto, anche un filetto LoadDatasets metter\xe0 lo stress sostanziale sul server remoto. Lo stesso \xe8 vero se si dispone di un sacco di dataset che ottengono dati da file su un RAID. Ci sono ritorni in rapida diminuzione da avere pi\xf9 di un filo LoadDatasets.'}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"Bandiera = ASAP\nImpostare una bandiera solo segnali che il set di dati dovrebbe essere (re) caricato il prima possibile, non necessariamente immediatamente. Se non \xe8 attualmente in esecuzione nessun thread LoadDatasets, il dataset inizier\xe0 a essere ricaricato entro pochi secondi. Ma se un filetto LoadDatasets \xe8 attualmente in esecuzione, il dataset probabilmente non verr\xe0 ricaricato fino a dopo che il thread LoadDatasets \xe8 finito."}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Bandiera Cancellata\nIn generale, se si mette un file di bandiera nel ",(0,o.jsx)(i.em,{children:"BigParentDirectory"})," directory /erddap/flag (visitando la bandiera del dataset Url o mettere un file reale l\xec) , il dataset di solito verr\xe0 ricaricato molto presto dopo che il file di bandiera viene eliminato."]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"Bandiera contro Small reload OgniNMinuts\nSe avete qualche modo esterno di sapere quando un dataset deve essere ricaricato e se \xe8 conveniente per voi, il modo migliore per assicurarsi che un dataset \xe8 sempre aggiornato \xe8 quello di impostare il suo ricarica EveryNMinutes a un gran numero (10080?) e impostare una bandiera (tramite uno script?) ogni volta che deve essere ricaricato. Questo \xe8 il sistema cheEDDGridDa Erddap e EDDTableFromErddap l'uso riceve messaggi che il set di dati deve essere ricaricato."}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Guarda nel log.txt\nMolte informazioni pertinenti sono scritte al ",(0,o.jsx)(i.em,{children:"BigParentDirectory"})," /logs/log.txt file. Se le cose non funzionano come ti aspetti, guardando il registro. txt ti permette di diagnosticare il problema scoprendo esattamente cosaERDDAP\u2122l'ha fatto."]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:'Cerca "majorLoad=true" per l\'inizio dei principali filetti LoadDataset.'}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:'Cerca "majorLoad=false" per l\'inizio dei filetti LoadDatasets minori.'}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"Ricerca di un dato set di datidatasetIDper informazioni su di esso essendo (re) caricati o interrogati."}),"\n",(0,o.jsx)(i.p,{children:"\xa0"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"cached-responses",children:"Risposte in attesa"}),"\n",(0,o.jsxs)(i.p,{children:["In generale,ERDDAP\u2122non memorizza (negozio) risposte alle richieste degli utenti. La ragione era che la maggior parte delle richieste sarebbe stata leggermente diversa quindi la cache non sarebbe stata molto efficace. Le maggiori eccezioni sono richieste di file immagine (che sono memorizzati in cache da browser e programmi comeGoogle Earthspesso ri-richiesta immagini) e richieste di.ncfile (perch\xe9 non possono essere creati) .ERDDAP\u2122memorizza i file memorizzati nella cache di ogni dataset in una directory diversa: ",(0,o.jsx)(i.em,{children:"BigParentDirectory"})," /cache/ ",(0,o.jsx)(i.em,{children:"datasetID"})," dal momento che una singola directory cache potrebbe avere un numero enorme di file che potrebbero diventare lento all'accesso.\nI file vengono rimossi dalla cache per uno dei tre motivi:"]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Tutti i file in questa cache vengono eliminati quandoERDDAP\u2122\xe8 riavviata."}),"\n",(0,o.jsxs)(i.li,{children:["Periodicamente, qualsiasi file pi\xf9 di<cacheMinutes> vecchio (come specificato",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),") sar\xe0 cancellato. Rimozione dei file nella cache in base all'et\xe0 (non Least-Recently-Used) assicura che i file non rimangano nella cache molto a lungo. Anche se potrebbe sembrare come una data richiesta dovrebbe sempre restituire la stessa risposta, che non \xe8 vero. Per esempio, untabledaprichiesta che include &time> ",(0,o.jsx)(i.em,{children:"alcuni Tempo"})," cambier\xe0 se arrivano nuovi dati per il dataset. E una richiesta di grigliata che include\\[Ultimo\\]per la dimensione del tempo cambier\xe0 se nuovi dati arrivano per il dataset."]}),"\n",(0,o.jsx)(i.li,{children:"Le immagini che mostrano condizioni di errore vengono memorizzate nella cache, ma solo per pochi minuti (\xe8 una situazione difficile) ."}),"\n",(0,o.jsx)(i.li,{children:'Ogni volta che un dataset viene ricaricato, tutti i file nella cache di quel dataset vengono eliminati. Perch\xe9 le richieste possono essere per"last"indice in un set di dati grigliato, i file nella cache possono diventare non validi quando un set di dati viene ricaricato.\n\xa0'}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"stored-dataset-information",children:"Informazioni sul Dataset memorizzate"}),"\n",(0,o.jsx)(i.p,{children:"Per tutti i tipi di dataset,ERDDAP\u2122raccoglie un sacco di informazioni quando un set di dati viene caricato e lo mantiene in memoria. Questo permetteERDDAP\u2122rispondere molto rapidamente a ricerche, richieste di elenchi di set di dati e richieste di informazioni su un set di dati."}),"\n",(0,o.jsxs)(i.p,{children:["Per alcuni tipi di dataset (in particolareEDDGridRicevuto, EDDTableCopy,EDDGridDa ",(0,o.jsx)(i.em,{children:"Xxx"})," File e EDDTableFrom ",(0,o.jsx)(i.em,{children:"Xxx"})," File) \u266aERDDAP\u2122memorizza sul disco alcune informazioni sul dataset che viene riutilizzato quando il dataset viene ricaricato. Questo accelera notevolmente il processo di ricarica."]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Alcuni dei file di informazione del set di dati sono leggibili dall'uomo.jsonfile e sono memorizzati in ",(0,o.jsx)(i.em,{children:"BigParentDirectory"})," / dataset/ ",(0,o.jsx)(i.em,{children:"Last2LettersOfDatasetID/datasetID"})," ."]}),"\n",(0,o.jsx)(i.li,{children:"ERDDAP\u2122elimina solo questi file in situazioni insolite, ad esempio, se si aggiunge o elimina una variabile dal datasetdatasets.xmlSbagliato."}),"\n",(0,o.jsxs)(i.li,{children:["La maggior parte delle modifiche a un datasetdatasets.xml# (ad esempio, modificare un attributo globale o un attributo variabile) non \xe8 necessario eliminare questi file. Una normale ricarica dei dataset gestir\xe0 questi tipi di modifiche. Si pu\xf2 direERDDAP\u2122per ricaricare un dataset ASAP impostando un",(0,o.jsx)(i.a,{href:"#flag",children:"bandiera"}),"per il dataset."]}),"\n",(0,o.jsx)(i.li,{children:"Allo stesso modo, l'aggiunta, la cancellazione o la modifica dei file di dati saranno trattati quandoERDDAP\u2122ricarica un dataset. MaERDDAP\u2122noter\xe0 questo tipo di cambiamento presto e automaticamente se il dataset sta usando il [<AggiornamentoOgniNMillis> (/docs/server-admin/datasets#updateeverynmillis) sistema."}),"\n",(0,o.jsx)(i.li,{children:"Dovrebbe essere solo raramente necessario per eliminare questi file. La situazione pi\xf9 comune in cui \xe8 necessario forzareERDDAP\u2122per eliminare le informazioni memorizzate (perch\xe9 \xe8 fuori data / non corretta e non sar\xe0 automaticamente fissato daERDDAP) \xe8 quando si apportano modifiche al datasetdatasets.xmlchunk che colpisce comeERDDAP\u2122interpreta i dati nei file di dati di origine, ad esempio, cambiando la stringa di formato della variabile di tempo."}),"\n",(0,o.jsxs)(i.li,{children:["Per eliminare i file di informazione memorizzati di un dataset da unERDDAP\u2122che sta correndo (anche se il dataset non \xe8 attualmente caricato) # Set a",(0,o.jsx)(i.a,{href:"#hard-flag",children:"duro Bandiera"}),"per quel dataset. Ricorda che se un dataset \xe8 un'aggregazione di un gran numero di file, ricaricare il dataset pu\xf2 richiedere molto tempo."]}),"\n",(0,o.jsxs)(i.li,{children:["Per eliminare i file di informazione memorizzati di un dataset quandoERDDAP\u2122non corre, corre",(0,o.jsx)(i.a,{href:"/docs/server-admin/datasets#dasdds",children:"DasDds"}),"per quel dataset (che \xe8 pi\xf9 facile di capire in quale directory si trova l'informazione e la cancellazione dei file a mano) . Ricorda che se un dataset \xe8 un'aggregazione di un gran numero di file, ricaricare il dataset pu\xf2 richiedere molto tempo.\n\xa0"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"memory-status",children:"Stato di memoria"}),"\n",(0,o.jsx)(i.p,{children:"ERDDAP\u2122Non dovrebbe mai schiantarsi o congelarsi. Se lo fa, una delle cause pi\xf9 probabili \xe8 la memoria insufficiente. \xc8 possibile monitorare l'utilizzo della memoria guardando la pagina web status.html, che include una linea come"}),"\n",(0,o.jsx)(i.p,{children:"0 chiamate gc, 0 richieste capannone e 0 pericolose MemoryEmails dall'ultima maggiore LoadDatasets"}),"\n",(0,o.jsxs)(i.p,{children:["(quelli sono eventi progressivamente pi\xf9 gravi)",(0,o.jsx)(i.br,{}),"\n","e MB inUse e gc Chiama colonne nella tabella delle statistiche. Si pu\xf2 dire come la memoria-stressed ilERDDAP\u2122\xe8 guardando questi numeri. I numeri pi\xf9 alti indicano pi\xf9 stress."]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["MB inUse dovrebbe essere sempre meno della met\xe0",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#memory",children:"Impostazione della memoria \\-Xmx"}),". I numeri pi\xf9 grandi sono un cattivo segno."]}),"\n",(0,o.jsx)(i.li,{children:"gc chiamate indica il numero di volteERDDAP\u2122chiamato il collettore spazzatura per cercare di alleviare l'uso di memoria alta. Se questo diventa >100, questo \xe8 un segno di guai seri."}),"\n",(0,o.jsx)(i.li,{children:"capannone indica il numero di richieste in arrivo che sono state versate (con numero di errore HTTP 503, Servizio Non disponibile) perch\xe9 l'uso della memoria era gi\xe0 troppo alto. Idealmente, nessuna richiesta deve essere versato. Va bene se alcune richieste sono state gettate, ma un segno di guai se molti sono stati gettati."}),"\n",(0,o.jsx)(i.li,{children:"pericoloso MemoryEmails - Se l'uso della memoria diventa pericolosamente alto,ERDDAP\u2122invia un'e-mail agli indirizzi e-mail elencati in<emailTutto > (in setup.xml) con un elenco delle richieste degli utenti attivi. Come dice l'email, si prega di inoltrare queste email a Chris. John a Noaa. gov in modo da poter utilizzare le informazioni per migliorare le versioni future diERDDAP.\n\xa0"}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Se il tuoERDDAP\u2122\xe8 la memoria-stressed:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Considera di assegnare pi\xf9 memoria del tuo serverERDDAP\u2122cambiando il Tomcat",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#memory",children:"Impostazione della memoria \u2010Xmx"}),"."]}),"\n",(0,o.jsx)(i.li,{children:"Se hai gi\xe0 assegnato pi\xf9 memoria possibileERDDAP\u2122via -Xmx, prendere in considerazione l'acquisto di pi\xf9 memoria per il server. La memoria \xe8 a buon mercato (rispetto al prezzo di un nuovo server o al tuo tempo) ! Poi aumentare -Xmx."}),"\n",(0,o.jsx)(i.li,{children:"Indatasets.xml, set<nGridThreads> a 1, set<nTableThreads> a 1, e set<ipAddressMaxRequestsActive> a 1."}),"\n",(0,o.jsx)(i.li,{children:"Guarda le richieste in log.txt per inefficienti o fastidiosi (ma legittimo) richieste. Aggiungi i loro indirizzi IP a<richiestaBlacklist\xbb indatasets.xml. Il messaggio di errore della lista nera includeERDDAP\u2122indirizzo email dell'amministratore con la speranza che quegli utenti ti contatteranno in modo che tu possa lavorare con loro per usareERDDAP\u2122pi\xf9 efficiente. E 'bello mantenere un elenco di indirizzi IP che si blacklist e perch\xe9, in modo da poter lavorare con gli utenti se si contatta."}),"\n",(0,o.jsxs)(i.li,{children:["Guarda le richieste in log.txt per le richieste degli utenti dannosi. Aggiungi i loro indirizzi IP a<richiestaBlacklist\xbb indatasets.xml. Se le richieste simili provengono da pi\xf9 indirizzi IP simili, \xe8 possibile utilizzare alcuni servizi who-is (ad esempio,",(0,o.jsx)(i.a,{href:"https://www.whois.com/whois/",children:" https://www.whois.com/whois/ "}),") per scoprire la gamma di indirizzi IP da quella sorgente e la lista nera dell'intero range. Vedere il [<richiestaBlacklist> documentazione (/docs/server-admin/datasets#requestblacklist) .\n\xa0"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"outofmemoryerror",children:"Informazioni generali"}),"\n",(0,o.jsxs)(i.p,{children:["Quando si impostaERDDAP\u2122, specificare la quantit\xe0 massima di memoria cheJavapu\xf2 essere utilizzato tramite",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#memory",children:"Impostazione \\-Xmx"}),". SeERDDAP\u2122mai ha bisogno di pi\xf9 memoria di questo, getter\xe0 una java. Lang. OutOfMemoryError.ERDDAP\u2122fa un sacco di controllo per consentire di gestire questo errore con grazia (ad esempio, una richiesta fastidiosa fallir\xe0, ma il sistema mantiene la sua integrit\xe0) . Ma a volte, l'errore danneggia l'integrit\xe0 del sistema e devi riavviareERDDAP. Speriamo che sia raro."]}),"\n",(0,o.jsxs)(i.p,{children:["La soluzione rapida e facile per un OutOfMemoryError \xe8 aumentare",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#memory",children:"Impostazione \\-Xmx"}),", ma non si dovrebbe mai aumentare l'impostazione -Xmx a pi\xf9 dell'80% della memoria fisica nel server (ad esempio, per un server da 10 GB, non impostare -Xmx sopra 8GB) . La memoria \xe8 relativamente economica, quindi pu\xf2 essere una buona opzione per aumentare la memoria nel server. Ma se si \xe8 massimizzato la memoria nel server o per altri motivi non pu\xf2 aumentare, \xe8 necessario affrontare pi\xf9 direttamente con la causa del OutOfMemoryError."]}),"\n",(0,o.jsxs)(i.p,{children:["Se guardi dentro",(0,o.jsx)(i.a,{href:"#log",children:"log.txt"}),"file per vedere cosaERDDAP\u2122stava facendo quando \xe8 sorto l'errore, di solito si pu\xf2 ottenere un buon indizio sulla causa del OutOfMemoryError. Ci sono molte cause possibili, tra cui:"]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Un singolo file di dati enorme pu\xf2 causare OutOfMemoryError, in particolare, file di dati ASCII enormi. Se questo \xe8 il problema, dovrebbe essere ovvio perch\xe9ERDDAP\u2122non verr\xe0 caricato il dataset (per set di dati tabulari) o leggere i dati da quel file (per set di dati grigliati) . La soluzione, se possibile, \xe8 quella di dividere il file in pi\xf9 file. Idealmente, \xe8 possibile dividere il file in blocchi logici. Ad esempio, se il file ha 20 mesi di valore di dati, dividerlo in 20 file, ciascuno con 1 mese di valore di dati. Ma ci sono vantaggi anche se il file principale \xe8 diviso arbitrariamente. Questo approccio ha molteplici vantaggi: a) Questo ridurr\xe0 la memoria necessaria per leggere i file di dati a 1/20, perch\xe9 solo un file viene letto alla volta. b) Spesso,ERDDAP\u2122pu\xf2 trattare le richieste molto pi\xf9 velocemente perch\xe9 deve solo guardare in uno o pochi file per trovare i dati per una determinata richiesta. c) Se la raccolta dei dati \xe8 in corso, i 20 file esistenti possono rimanere invariati, e devi solo modificare un, piccolo, nuovo file per aggiungere il valore dei dati del mese successivo al dataset."}),"\n",(0,o.jsx)(i.li,{children:"Una singola enorme richiesta pu\xf2 causare il OutOfMemoryError. In particolare, alcuni deiorderByopzioni hanno l'intera risposta in memoria per un secondo (ad esempio, per fare una specie) . Se la risposta \xe8 enorme, pu\xf2 portare all'errore. Ci saranno sempre alcune richieste che sono, in vari modi, troppo grandi. \xc8 possibile risolvere il problema aumentando l'impostazione -Xmx. Oppure, \xe8 possibile incoraggiare l'utente a fare una serie di richieste pi\xf9 piccole."}),"\n",(0,o.jsxs)(i.li,{children:["\xc8 improbabile che un gran numero di file causerebbe l'indice di file cheERDDAP\u2122crea per essere cos\xec grande che quel file causerebbe l'errore. Se presumiamo che ogni file utilizza 300 byte, allora 1,000,000 file richiederebbe solo 300MB. Ma i set di dati con un numero enorme di file di dati causano altri problemi perERDDAP, in particolare, ci vuole molto tempo perERDDAP\u2122per aprire tutti quei file di dati quando si risponde a una richiesta dell'utente per i dati. In questo caso, la soluzione pu\xf2 essere quella di aggregare i file in modo che ci siano meno file di dati. Per i set di dati tabulari, \xe8 spesso grande se si salva i dati dal dataset corrente in",(0,o.jsx)(i.a,{href:"https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries",children:"CFU Geometrie di smorzamento discreto (DSG) "}),"Contiguous Ragged Array file di dati (richiesta.ncFile CF daERDDAP) e poi fare un nuovo set di dati. Questi file possono essere gestiti in modo molto efficiente conERDDAP'",(0,o.jsx)(i.a,{href:"/docs/server-admin/datasets#eddtablefromnccffiles",children:"EDDTableFromNcCFFiles"}),". Se sono organizzati logicamente (ciascuno con i dati per un pezzo di spazio e tempo) \u266aERDDAP\u2122pu\xf2 estrarre i dati da loro molto rapidamente."]}),"\n",(0,o.jsx)(i.li,{children:"Per set di dati tabulari che utilizzano il [<subsetVariables> (/docs/server-admin/datasets#subsetvariables) attributo,ERDDAP\u2122rende una tabella di combinazioni uniche dei valori di quelle variabili. Per grandi set di dati o quando<subsetVariables> \xe8 configurato male, questa tabella pu\xf2 essere abbastanza grande da causare OutOfMemoryErrors. La soluzione \xe8 quella di rimuovere le variabili dall'elenco di<subsetVariables> per i quali ci sono un gran numero di valori, o rimuovere le variabili necessarie fino a quando la dimensione di tale tabella non \xe8 ragionevole. Le parti diERDDAP\u2122che usanosubsetVariablessistema non funziona bene (ad esempio, le pagine web caricano molto lentamente) quando ci sono pi\xf9 di 100.000 righe in quella tabella."}),"\n",(0,o.jsx)(i.li,{children:"\xc8 sempre possibile che diverse richieste simultanee di grandi dimensioni (su un molto occupatoERDDAP) pu\xf2 combinare per causare problemi di memoria. Ad esempio, 8 richieste, ciascuna usando 1GB ciascuna, causerebbero problemi per una configurazione -Xmx=8GB. Ma \xe8 raro che ogni richiesta sia al culmine del suo uso di memoria simultaneamente. E si sarebbe facilmente in grado di vedere che il vostroERDDAP\u2122\xe8 molto occupato con grandi richieste. Ma \xe8 possibile. E 'difficile affrontare questo problema a parte aumentando l'impostazione -Xmx."}),"\n",(0,o.jsxs)(i.li,{children:["Ci sono altri scenari. Se guardi",(0,o.jsx)(i.a,{href:"#log",children:"log.txt"}),"file per vedere cosaERDDAP\u2122stava facendo quando \xe8 sorto l'errore, di solito si pu\xf2 ottenere un buon indizio sulla causa. Nella maggior parte dei casi, c'\xe8 un modo per minimizzare quel problema (vedi sopra) , ma a volte hai solo bisogno di pi\xf9 memoria e un'impostazione -Xmx pi\xf9 alta.\n\xa0"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"too-many-open-files",children:"Troppi file aperti"}),"\n",(0,o.jsx)(i.p,{children:'A partire daERDDAP\u21222, del regolamento (CEE) n.ERDDAP\u2122ha un sistema per monitorare il numero di file aperti (che include prese e alcune altre cose, non solo file) in Tomcat su computer Linux. Se alcuni file erroneamente non vengono mai chiusi (una "perdita di risorse") , il numero di file aperti pu\xf2 aumentare fino a che non superi il massimo consentito dal sistema operativo e numerose cose davvero brutte avvengono. Cos\xec ora, su computer Linux (perch\xe9 le informazioni non sono disponibili per Windows) :'}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:'C\'\xe8 una colonna "Apri file" nell\'estrema destra della pagina web status.html che mostra il per cento dei file max aperti. Su Windows, mostra solo "?".'}),"\n",(0,o.jsxs)(i.li,{children:["QuandoERDDAP\u2122genera tali informazioni alla fine di ogni importante reload dataset, stamper\xe0 al registro. file txt:\nopenFileCount= ",(0,o.jsx)(i.em,{children:"corrente"})," di max = ",(0,o.jsx)(i.em,{children:"massimo"})," # ",(0,o.jsx)(i.em,{children:"percentuale"})]}),"\n",(0,o.jsx)(i.li,{children:"Se la percentuale \xe8 >50%, una e-mail viene inviata alERDDAP\u2122amministratore e l'email Tutto A indirizzi e-mail."}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Se la percentuale \xe8 al 100%,ERDDAP\u2122\xe8 in guai terribili. Non lasciare che accada.\nSe la percentuale \xe8 > 75%,ERDDAP\u2122\xe8 vicino a guai terribili. Non va bene.\nSe la percentuale \xe8 >50%, \xe8 molto possibile che un picco causer\xe0 la percentuale di colpire 100.\nSe la percentuale \xe8 sempre >50%, si dovrebbe:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Aumentare il numero massimo di file aperti consentiti da:","\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Rendere questi cambiamenti ogni volta prima di iniziare tomcat (metterli nel file Tomcat startup.sh?) :\nulimit -Hn 16384\nUlimit -Sn 16384"}),"\n",(0,o.jsx)(i.li,{children:'O fare un cambiamento permanente modificando (come radice) /etc/security/limits.conf e aggiungendo le linee:\ntomcat soft nofile 16384\ntomcat hard nofile 16384\nQuesti comandi presumono che l\'utente che esegue Tomcat sia chiamato "tomcat".\nSu molte varianti Linux, \xe8 necessario riavviare il server per applicare tali modifiche. Per entrambe le opzioni, il "16384" sopra \xe8 un esempio. Scegli il numero che pensi sia meglio.'}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.li,{children:"RiavviareERDDAP. Il sistema operativo chiuder\xe0 tutti i file aperti.\n\xa0"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"failed-requests",children:"Richieste fallite"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Attivit\xe0 insolita: >25% delle richieste fallite"}),(0,o.jsx)(i.br,{}),"\n",'Come parte di ogni reloadDatasets, che \xe8 di solito ogni 15 minuti,ERDDAP\u2122esamina la percentuale di richieste fallite dall\'ultimo reloadDatasets. Se \xe8 >25%,ERDDAP\u2122invia una email alERDDAP\u2122amministratore con l\'oggetto "Unusual Activity: >25% delle richieste fallite". Tale email include un tally vicino al fondo dal titolo "Indirizzo IP del Richiedente (Sfigato)   (da ultimo Major LoadDatasets) ". Cercalo. Ti dice l\'indirizzo IP dei computer che fanno le richieste pi\xf9 fallite. \xc8 quindi possibile cercare quegli indirizzi IP in\\[BigParentDirectory\\]/logs/',(0,o.jsx)(i.a,{href:"#log",children:"log.txt"}),"file e vedere che tipo di richieste stanno facendo."]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["\xc8 possibile utilizzare il numero IP dell'utente (per esempio, con",(0,o.jsx)(i.a,{href:"https://whatismyipaddress.com/ip-lookup",children:" https://whatismyipaddress.com/ip-lookup "}),") cercare di capire chi o cosa \xe8 l'utente. A volte che vi dir\xe0 abbastanza esattamente chi \xe8 l'utente (ad esempio, \xe8 un web crawler di un motore di ricerca) . La maggior parte del tempo ti d\xe0 solo un indizio (Per esempio, e' un computer amazonaws, e' di qualche universit\xe0, e' qualcuno in una citta' specifica.) ."]}),"\n",(0,o.jsxs)(i.p,{children:["Osservando la richiesta effettiva, il numero IP e il messaggio di errore (tutti da",(0,o.jsx)(i.a,{href:"#log",children:"log.txt"}),") per una serie di errori, di solito si pu\xf2 capire che cosa sta andando storto. Nella mia esperienza, ci sono quattro cause comuni di molte richieste fallite:"]}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"Le richieste sono dannose (ad esempio, alla ricerca di carenze di sicurezza, o fare richieste e poi cancellarle prima di essere completate) . Dovresti usare<richiestaBlacklist\xbb indatasets.xmla blacklist quegli indirizzi IP."}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Un motore di ricerca \xe8 ingenuamente provare gli URL elencati inERDDAP\u2122pagine web e documenti ISO 19115. Per esempio, ci sono molti posti che elencano la baseOPeNDAPURL, per esempio, ",(0,o.jsx)(i.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST",children:"https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST"})," , a cui l'utente dovrebbe aggiungere un tipo di file (ad esempio, .das, .dds, .html) . Ma il motore di ricerca non lo sa. E la richiesta all'URL di base fallisce. Una situazione correlata \xe8 quando il motore di ricerca genera richieste bizzarre o cerca di compilare moduli per arrivare a pagine web \"nascoste\". Ma i motori di ricerca spesso fanno un cattivo lavoro di questo, portando a fallimenti. La soluzione \xe8: creare un",(0,o.jsx)(i.a,{href:"#robotstxt",children:"robot.txt"}),"file."]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"Qualche utente esegue uno script che chiede ripetutamente qualcosa che non c'\xe8. Forse \xe8 un set di dati che esisteva, ma ora \xe8 andato (temporaneamente o permanente) . Gli script spesso non si aspettano questo e quindi non affrontarlo in modo intelligente. Quindi lo script continua a fare richieste e le richieste continuano a fallire. Se si pu\xf2 indovinare chi \xe8 l'utente (dal numero IP sopra) , contattarli e dire loro che il dataset non \xe8 pi\xf9 disponibile e chiedere loro di cambiare il loro script."}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Qualcosa \xe8 davvero sbagliato in alcuni dataset. Di solito,ERDDAP\u2122render\xe0 inattivo il dataset problematico. A volte non lo fa, cos\xec tutte le richieste ad esso solo portare a errori. In tal caso, risolvere il problema con il dataset o (se non puoi) impostare il dataset per",(0,o.jsx)(i.a,{href:"/docs/server-admin/datasets#active",children:'attivo="falso"'}),". Naturalmente, questo pu\xf2 portare al problema #2."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"A volte gli errori non sono cos\xec male, in particolare, seERDDAP\u2122pu\xf2 rilevare l'errore e rispondere molto rapidamente (<= 1ms). Cos\xec si pu\xf2 decidere di non agire."}),"\n",(0,o.jsx)(i.p,{children:"Se tutto il resto fallisce, c'\xe8 una soluzione universale: aggiungere il numero IP dell'utente al [<richiestaBlacklist> (/docs/server-admin/datasets#requestblacklist) . Non \xe8 cos\xec male o come drastica opzione come potrebbe sembrare. L'utente otterr\xe0 quindi un messaggio di errore che dice s/he \xe8 stato lista nera e dicendo loro il vostro (ilERDDAP\u2122amministratore) indirizzo email. A volte l'utente ti contatter\xe0 e puoi risolvere il problema. A volte l'utente non ti contatta e vedrai lo stesso comportamento proveniente da un numero IP diverso il giorno successivo. Blacklist il nuovo numero IP e spero che alla fine otterranno il messaggio. (O questo \xe8 il tuo giorno di Groundhog, da cui non fuggirai mai. Scusa.)"}),"\n",(0,o.jsx)(i.h3,{id:"robotstxt",children:"robot.txt"}),"\n",(0,o.jsx)(i.p,{children:"Le societ\xe0 di motore di ricerca utilizzano web crawlers (ad esempio, Google Bot) esaminare tutte le pagine del web per aggiungere il contenuto ai motori di ricerca. PerERDDAP\u2122, fondamentalmente buono.ERDDAP\u2122ha un sacco di link tra le pagine, cos\xec i crawler troveranno tutte le pagine web e li aggiungono ai motori di ricerca. Poi, gli utenti dei motori di ricerca saranno in grado di trovare set di dati sul vostroERDDAP."}),"\n",(0,o.jsxs)(i.p,{children:["Purtroppo, alcuni web crawlers (ad esempio, Google Bot) sono ora compilare e presentare moduli per trovare contenuti aggiuntivi. Per i siti web di commercio, questo \xe8 grande. Ma questo \xe8 terribileERDDAP\u2122perch\xe9 porta a un ",(0,o.jsx)(i.strong,{children:"infinito infinito"})," numero di tentativi indesiderati e inutili di strisciare i dati reali. Questo pu\xf2 portare a pi\xf9 richieste di dati che da tutti gli altri utenti combinati. E riempie il motore di ricerca con subset goofy, inutile dei dati effettivi."]}),"\n",(0,o.jsxs)(i.p,{children:["Per dire ai web crawler di smettere di compilare i moduli e semplicemente generalmente non guardando le pagine web che non hanno bisogno di guardare, \xe8 necessario creare un file di testo chiamato",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Robots_exclusion_standard",children:"robot.txt"}),"nella directory principale della gerarchia dei documenti del tuo sito web in modo che possa essere visto da chiunque come, ad esempio, http://*",(0,o.jsx)(i.a,{href:"http://www.your.domain*/robots.txt",children:"www.your.domain*/robots.txt"})," .\nSe state creando un nuovo robot. file txt, questo \xe8 un buon inizio:"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"    User-Agent: \\\\*\n    Disallow: /erddap/files/ \n    Disallow: /files/ \n    Disallow: /images/ \n    Disallow: /\\\\*?\n    Disallow: /\\\\*?\\\\*\n    Disallow: /\\\\*.asc\\\\*\n    Disallow: /\\\\*.csv\\\\*\n    Disallow: /\\\\*.dods\\\\*\n    Disallow: /\\\\*.esriAscii\\\\*\n    Disallow: /\\\\*.esriCsv\\\\*\n    Disallow: /\\\\*.geoJson\\\\*\n    Disallow: /\\\\*.htmlTable\\\\*\n    Disallow: /\\\\*.json\\\\*\n    Disallow: /\\\\*.mat\\\\*\n    Disallow: /\\\\*.nc\\\\*\n    Disallow: /\\\\*.odvTxt\\\\*\n    Disallow: /\\\\*.tsv\\\\*\n    Disallow: /\\\\*.xhtml\\\\*\n    Disallow: /\\\\*.geotif\\\\*\n    Disallow: /\\\\*.itx\\\\*\n    Disallow: /\\\\*.kml\\\\*\n    Disallow: /\\\\*.pdf\\\\*\n    Disallow: /\\\\*.png\\\\*\n    Disallow: /\\\\*.large\\\\*\n    Disallow: /\\\\*.small\\\\*\n    Disallow: /\\\\*.transparentPng\\\\*\n    Sitemap: http://***your.institutions.url***/erddap/sitemap.xml\n"})}),"\n",(0,o.jsxs)(i.p,{children:["(Ma sostituisci ",(0,o.jsx)(i.em,{children:"il vostro.istituzioni.url"})," con il tuoERDDAPL'URL di base.)",(0,o.jsx)(i.br,{}),"\n","Pu\xf2 richiedere alcuni giorni per i motori di ricerca di notare e per i cambiamenti di prendere effetto.\n\xa0"]}),"\n",(0,o.jsx)(i.h3,{id:"sitemapxml",children:"sitemap.xml"}),"\n",(0,o.jsxs)(i.p,{children:["Come",(0,o.jsx)(i.a,{href:"https://www.sitemaps.org/",children:" https://www.sitemaps.org "}),"il sito dice:"]}),"\n",(0,o.jsxs)(i.blockquote,{children:["\n",(0,o.jsx)(i.p,{children:"Sitemaps are an easy way for webmasters to inform search engines about pages on their sites that are available for crawling. In its simplest form, a Sitemap is an XML file that lists URLs for a site along with additional metadata about each URL (when it was last updated, how often it usually changes, and how important it is, relative to other URLs on the site) so that search engines can more intelligently crawl the site."}),"\n",(0,o.jsx)(i.p,{children:"Web crawlers usually discover pages from links within the site and from other sites. Sitemaps supplement this data to allow crawlers that support Sitemaps to pick up all URLs in the Sitemap and learn about those URLs using the associated metadata. Using the Sitemap protocol does not guarantee that web pages are included in search engines, but provides hints for web crawlers to do a better job of crawling your site."}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"A dire il vero, da quandoERDDAP\u2122\xe8RESTful, i ragni del motore di ricerca possono facilmente strisciare ilERDDAP. Ma tendono a farlo pi\xf9 spesso (ogni giorno!) rispetto al necessario (mensile?) ."}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"Dato che ogni motore di ricerca pu\xf2 essere strisciando l'interoERDDAP\u2122ogni giorno, questo pu\xf2 portare a un sacco di richieste inutili."}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"Quindi...ERDDAP\u2122genera un file sitemap.xml per il vostroERDDAP\u2122che dice motori di ricerca che il vostroERDDAP\u2122solo deve essere strisciato ogni mese."}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Si dovrebbe aggiungere un riferimento aERDDAP's sitemap.xml al vostro",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Robots_exclusion_standard",children:"robot.txt"}),"file:\nMappa del sito: http://**",(0,o.jsx)(i.a,{href:"http://www.yoursite.org**/erddap/sitemap.xml",children:"www.yoursite.org**/erddap/sitemap.xml"})]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Se questo non sembra ottenere il messaggio ai crawler, \xe8 possibile dire ai vari motori di ricerca sul file sitemap.xml visitando questi URL (ma il cambiamento ",(0,o.jsx)(i.strong,{children:"La vostra Istituzione"})," all'acronimo o abbreviazione dell'istituzione e ",(0,o.jsx)(i.strong,{children:(0,o.jsx)(i.a,{href:"http://www.yoursite.org",children:"www.yoursite.org"})})," al tuoERDDAPURL) :"]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.a,{href:"https://www.bing.com/webmaster/ping.aspx?siteMap=http://**www.yoursite.org**/erddap/sitemap.xml",children:"https://www.bing.com/webmaster/ping.aspx?siteMap=http://**www.yoursite.org**/erddap/sitemap.xml"})}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.a,{href:"https://www.google.com/ping?sitemap=http://**www.yoursite.org**/erddap/sitemap.xml(I",children:"https://www.google.com/ping?sitemap=http://**www.yoursite.org**/erddap/sitemap.xml(I"})," pensare) devi solo ping ogni motore di ricerca una volta, per tutto il tempo. I motori di ricerca allora rilevano le modifiche a sitemap.xml periodicamente.\n\xa0"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.h3,{id:"data-dissemination--data-distribution-networks-push-and-pull-technology",children:["Diffusione dei dati / Distribuzione dei dati Reti",":PushePullTecnologia"]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Normalmente,ERDDAP\u2122agisce come intermediario: richiede una richiesta da parte di un utente; ottiene i dati da una fonte di dati remota; riformatta i dati; e lo invia all'utente."}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Pull_technology",children:"PullTecnologia"}),":ERDDAP","\u2122ha anche la capacit\xe0 di ottenere attivamente tutti i dati disponibili da una fonte di dati remota e",(0,o.jsx)(i.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"memorizzare una copia locale dei dati"}),"."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Push_technology",children:"PushTecnologia"}),": UsandoERDDAP'",(0,o.jsx)(i.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions",children:"servizi di abbonamento"}),", altri server di dati possono essere notificati non appena sono disponibili nuovi dati in modo che possano richiedere i dati (tirando i dati) ."]}),"\n",(0,o.jsxs)(i.li,{children:["ERDDAP'",(0,o.jsx)(i.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDGridDa Erddap"}),"e",(0,o.jsx)(i.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDTableFromErddap"}),"usoERDDAPServizi di abbonamento e",(0,o.jsx)(i.a,{href:"#flag",children:"sistema di segnalazione"}),"in modo che venga notificata immediatamente quando saranno disponibili nuovi dati."]}),"\n",(0,o.jsx)(i.li,{children:"\xc8 possibile combinare questi a grande effetto: se si avvolge unEDDGridCopia intorno a unEDDGridDal set di dati di Erddap (o avvolgere un EDDTableCopy intorno a un set di dati EDDTableFromErddap) \u266aERDDAP\u2122creer\xe0 automaticamente e manterr\xe0 una copia locale di un altroERDDAPE' dataset."}),"\n",(0,o.jsx)(i.li,{children:"Poich\xe9 i servizi di abbonamento funzionano non appena sono disponibili nuovi dati, la tecnologia push diffonde i dati molto rapidamente (in pochi secondi) ."}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Questa architettura mette ciascunoERDDAP\u2122amministratore incaricato di determinare dove i dati per ilERDDAP\u2122viene da."}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"AltriERDDAP\u2122gli amministratori possono fare lo stesso. Non c'\xe8 bisogno di coordinamento tra gli amministratori."}),"\n",(0,o.jsx)(i.li,{children:"Se moltiERDDAP\u2122gli amministratori si collegano a vicendaERDDAPs, si forma una rete di distribuzione dei dati."}),"\n",(0,o.jsx)(i.li,{children:"I dati saranno rapidamente, in modo efficiente e automaticamente diffusi da fonti di dati (ERDDAPs e altri server) ai siti di ridistribuzione dei dati (ERDDAP#) ovunque nella rete."}),"\n",(0,o.jsx)(i.li,{children:"Un datoERDDAP\u2122pu\xf2 essere sia una fonte di dati per alcuni set di dati e un sito di ridistribuzione per altri set di dati."}),"\n",(0,o.jsxs)(i.li,{children:["La rete risultante \xe8 approssimativamente simile alle reti di distribuzione dei dati configurate con programmi come",(0,o.jsx)(i.a,{href:"https://www.unidata.ucar.edu/projects/index.html#idd",children:"UnidataIDD/IDM"}),", ma meno rigidamente strutturato.\n\xa0"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"security-authentication-and-authorization",children:"Sicurezza, autenticazione e autorizzazione"}),"\n",(0,o.jsxs)(i.p,{children:["Per impostazione predefinita,ERDDAP\u2122funziona come un server completamente pubblico (usandohttpe/ohttps) senza login (",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Authentication",children:"autenticazione"}),") sistema e nessuna restrizione all'accesso dei dati (",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Authorization",children:"autorizzazione"}),") ."]}),"\n",(0,o.jsx)(i.h4,{id:"security",children:"Sicurezza"}),"\n",(0,o.jsx)(i.p,{children:"Se si desidera limitare l'accesso ad alcuni o a tutti i set di dati ad alcuni utenti, \xe8 possibile utilizzareERDDAPIl sistema di sicurezza integrato. Quando il sistema di sicurezza \xe8 in uso:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["ERDDAP\u2122usi",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Role-based_access_control",children:"controllo di accesso basato sul ruolo"}),".","\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"TheERDDAP\u2122l'amministratore definisce gli utenti con il [<) (/docs/server-admin/datasets#user) tag indatasets.xml. Ogni utente ha un nome utente, una password (se l'autenticazione=custom) , e uno o pi\xf9 ruoli."}),"\n",(0,o.jsx)(i.li,{children:"TheERDDAP\u2122l'amministratore definisce quali ruoli hanno accesso a un dato set di dati tramite il [<Per saperne di pi\xf9 (/docs/server-admin/datasets#accessibleto) tag indatasets.xmlper qualsiasi dataset che non dovrebbe avere accesso pubblico."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.li,{children:"Stato di login dell'utente (e un link per accedere/e) sar\xe0 mostrato nella parte superiore di ogni pagina web. (Ma un utente connesso apparir\xe0ERDDAP\u2122per non essere registrato se usa unhttpURL.)"}),"\n",(0,o.jsxs)(i.li,{children:["Se<baseUrl> che si specifica nella configurazione.xml \xe8 un ",(0,o.jsx)(i.strong,{children:"http"})," URL, gli utenti che non sono registrati possono utilizzareERDDAP' ",(0,o.jsx)(i.strong,{children:"http"})," URLs. Se<baseHttpsUrl> \xe8 anche specificato, gli utenti che non sono connessi possono anche utilizzarehttpsURLs."]}),"\n",(0,o.jsxs)(i.li,{children:["HTTPS Only -- Se<baseUrl> che si specifica nella configurazione.xml \xe8 un ",(0,o.jsx)(i.strong,{children:"https"})," URL, gli utenti che non sono registrati sono incoraggiati (non forzato) da usareERDDAP' ",(0,o.jsx)(i.strong,{children:"https"})," URLs -- tutti i link suERDDAP\u2122pagine web si riferiscono ahttpsURLs."]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Se si desidera costringere gli utenti a utilizzarehttpsURL, aggiungere una linea permanente Redirect all'interno<VirtualHost \\*:80> sezione nel file di configurazione di Apache (di solitohttpd.conf) Per esempio,"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"    <VirtualHost \\\\*:80>\n        \\\\[...\\\\]\n        ServerName example.com\n        Redirect permanent / https://example.com/\n    </VirtualHost>\n"})}),"\n",(0,o.jsxs)(i.p,{children:["Se si desidera, c'\xe8 un metodo aggiuntivo per forzare l'uso dihttps: ",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security",children:"HTTP Strict Sicurezza dei trasporti (HSTS) "}),". Per usarlo:"]}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsx)(i.li,{children:"Abilitare il Apache Headers Module: a2enmod headers"}),"\n",(0,o.jsx)(i.li,{children:"Aggiungi l'intestazione aggiuntiva alla direttiva HTTPS VirtualHost. La massima et\xe0 \xe8 misurata in secondi e pu\xf2 essere impostata su un valore lungo."}),"\n"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:'        <VirtualHost \\\\*:443>\n            # Guarantee HTTPS for 1 Year including Sub Domains \n            Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains"\n'})}),"\n",(0,o.jsx)(i.p,{children:"Si prega di notare che questa intestazione \xe8 valida solo su un HTTPS VirtualHost."}),"\n",(0,o.jsx)(i.p,{children:"Un motivo per non costringere gli utenti a utilizzarehttpsURLs \xe8: il link SSL/TLS sottostante richiede tempo per stabilire e quindi richiede tempo per crittografare e decifrare tutte le informazioni trasmesse tra l'utente e il server. Ma alcune istituzioni richiedonohttpsSolo."}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Utenti che hanno effettuato l'accessoERDDAP' ",(0,o.jsx)(i.strong,{children:"https"})," URLs. Se usanohttpURLs, sembranoERDDAP\u2122per non essere connesso. Questo garantisce la privacy delle comunicazioni e aiuta a prevenire",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Session_hijacking",children:"sessione dirottamento e sidejacking"}),"."]}),"\n",(0,o.jsx)(i.li,{children:"Chiunque non sia connesso pu\xf2 accedere e utilizzare i dataset pubblici. Per impostazione predefinita, i set di dati privati non appaiono nelle liste dei set di dati se un utente non \xe8 connesso. Se l'amministratore ha impostato setup.xml's<listPrivateDatasets> a true, appariranno. I tentativi di richiedere dati da dataset privati (se l'utente conosce l'URL) verr\xe0 reindirizzato alla pagina di login."}),"\n",(0,o.jsx)(i.li,{children:"Chiunque abbia effettuato l'accesso sar\xe0 in grado di vedere e richiedere i dati da qualsiasi dataset pubblico e da qualsiasi dataset privato a cui il loro ruolo consente di accedere. Per impostazione predefinita, i dati privati a cui un utente non ha accesso non appaiono nelle liste dei set di dati. Se l'amministratore ha impostato setup.xml's<listPrivateDatasets> a true, appariranno. I tentativi di richiedere dati da dataset privati a cui l'utente non ha accesso verranno reindirizzati alla pagina di login."}),"\n",(0,o.jsx)(i.li,{children:"TheRSSinformazioni per set di dati privati \xe8 disponibile solo per gli utenti (eRSSlettori) che sono connessi e autorizzati a utilizzare quel dataset. Questo faRSSnon molto utile per set di dati completamente privati."}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Se un dataset \xe8 privato, ma il suo [<grafiAccessibleTo>] (/docs/server-admin/datasets#graphsaccessibleto) \xe8 impostato al pubblico, il set di datiRSS\xe8 accessibile a chiunque."}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Gli abbonamenti e-mail possono essere impostati solo quando un utente ha accesso a un set di dati. Se un utente si iscrive a un dataset privato, l'abbonamento continua a funzionare dopo che l'utente ha effettuato l'accesso."}),"\n"]}),"\n",(0,o.jsx)(i.h5,{id:"setup-security",children:"Impostazione sicurezza"}),"\n",(0,o.jsx)(i.p,{children:"Per configurare il sistema di sicurezza/autorizzazione/autorizzazione:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Fare lo standardERDDAP\u2122 ",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install",children:"configurazione iniziale"}),"."]}),"\n",(0,o.jsxs)(i.li,{children:["In",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),"\u266a","\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Aggiungi / cambia<autenticazione > valore da nulla a personalizzato (non usare questo) , email (non usare questo) , Google (raccomandato) , orcido (raccomandato) , oauth2 (che \xe8 google+orcid, consigliato) . Vedi i commenti su queste opzioni qui sotto."}),"\n",(0,o.jsx)(i.li,{children:"Aggiungi / cambia<valore baseHttpsUrl>."}),"\n",(0,o.jsx)(i.li,{children:"Inserire/scommettere&loginInfo;in<startBodyHtml> per visualizzare le informazioni di accesso/out dell'utente nella parte superiore di ogni pagina web."}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["Per scopi di test sul tuo personal computer,",(0,o.jsx)(i.a,{href:"https://tomcat.apache.org/tomcat-8.0-doc/ssl-howto.html",children:"seguire queste istruzioni per configurare tomcat per supportare SSL"}),"  (la base perhttpsconnessioni) creando una libreria con un",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Self-signed_certificate",children:"certificato autofirmato"}),"e modificando ",(0,o.jsx)(i.em,{children:"tomcat"}),' /conf/server.xml per sbloccare il connettore per la porta 8443. Su Windows, potrebbe essere necessario spostare .keystore da "c:\\Users\\\\ ',(0,o.jsx)(i.em,{children:"Tu sei"}),' \\.keystore" a "c:\\\\Users\\\\Default User\\.keystore" o "c:\\.keystore" (vedi ',(0,o.jsx)(i.em,{children:"tomcat"})," /logs/catalina. ",(0,o.jsx)(i.em,{children:"oggi"})," .log se l'applicazione non si carica o gli utenti non possono vedere il registro nella pagina) . \xc8 possibile vedere quando il certificato .keystore scade esaminando il certificato quando si accede."]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["Per un server pubblicamente accessibile, invece di utilizzare un certificato autofirmato, si raccomanda vivamente di acquistare e installare un certificato firmato da un",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Certificate_authority",children:"autorit\xe0 di certificazione"}),", perch\xe9 d\xe0 ai vostri clienti pi\xf9 garanzia che sono effettivamente di collegamento con il vostroERDDAP\u2122, non la versione di un uomo nel mezzo della tuaERDDAP. Molti fornitori vendono certificati digitali. (Ricerca per web.) Non sono costosi."]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Su computer Linux, se Tomcat \xe8 in esecuzione in Apache, modificare il /etc/httpd/conf.d/ssl.conf file per consentire il traffico HTTPS da/perERDDAP\u2122senza richiedere il numero di porta:8443 nell'URL:","\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsx)(i.li,{children:"Modificare l'esistente<VirtualHost> tag (se c'\xe8 uno) , o aggiungerne uno alla fine del file in modo che abbia almeno queste righe:"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"        <VirtualHost \\\\_default\\\\_:443>\n            SSLEngine on\n            SSLProxyEngine On\n            ProxyPass /erddap http://localhost:8443/erddap\n            ProxyPassReverse /erddap http://localhost:8443/erddap\n        </VirtualHost>\n"})}),"\n",(0,o.jsxs)(i.ol,{start:"2",children:["\n",(0,o.jsx)(i.li,{children:"Poi riavvia Apache: /usr/sbin/apachectl -k graziosa (ma a volte \xe8 in una directory diversa) ."}),"\n"]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["In ",(0,o.jsx)(i.em,{children:"tomcat"})," /conf/server.xml, uncomment the port=8443<Connettore> tag:"]}),"\n"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:'    <Connector port="8443" \n        protocol="org.apache.coyote.http11.Http11NioProtocol"\n        maxThreads="150" SSLEnabled="true">\n        <SSLHostConfig>\n        <Certificate certificateKeystoreFile="conf/localhost-rsa.jks" \n            type="RSA" />\n        </SSLHostConfig>\n    </Connector>\n'})}),"\n",(0,o.jsx)(i.p,{children:"e modificare la posizione del certificatoKeystoreFile."}),"\n",(0,o.jsx)(i.h5,{id:"authorization",children:"Autorizzazione"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.a,{href:"#authorization",children:"Indatasets.xml, creare un"}),"[<) (/docs/server-admin/datasets#user) tag per ogni utente con nome utente, password (se l'autorizzazione=custom) , e ruoli di informazione. Questa \xe8 la parte di autorizzazioneERDDAPIl sistema di sicurezza.\n\xa0"]}),"\n",(0,o.jsx)(i.li,{children:"Indatasets.xml\u266a<Per saperne di pi\xf9 (/docs/server-admin/datasets#accessibleto) tag a ogni dataset che non dovrebbe avere accesso pubblico.<accessTo> consente di specificare quali ruoli hanno accesso a tale dataset.\n\xa0"}),"\n",(0,o.jsx)(i.li,{children:"Riavvia Tomcat. Problemi? Controlla i registri di Tomcat.\n\xa0"}),"\n",(0,o.jsx)(i.li,{children:"Controlla il tuo lavoro! Qualsiasi errore potrebbe portare a un difetto di sicurezza.\n\xa0"}),"\n",(0,o.jsx)(i.li,{children:"Controlla che la pagina di login utilizzihttps  (nonhttp) . I tentativi di accedere viahttpdovrebbe essere reindirizzato automaticamente ahttpse porto 8443 (anche se il numero di porta pu\xf2 essere nascosto tramite un proxy Apache) . Potrebbe essere necessario lavorare con l'amministratore di rete per consentire alle richieste web esterne di accedere alla porta 8443 sul server.\n\xa0"}),"\n",(0,o.jsxs)(i.li,{children:["Puoi cambiare<> e<accessTo> tags in qualsiasi momento. Le modifiche saranno applicate al successivo carico regolare di qualsiasi dataset, o ASAP se si utilizza un",(0,o.jsx)(i.a,{href:"#flag",children:"bandiera"}),"."]}),"\n"]}),"\n",(0,o.jsx)(i.h5,{id:"authentication",children:"Autenticazione"}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.a,{href:"#authentication",children:" **Autenticazione (per il trasporto) ** "}),(0,o.jsx)(i.br,{}),"\n","Se non si desidera consentire agli utenti di accedere, non specificare un valore per<autenticazione > in setup.xml.\nSe si desidera consentire agli utenti di accedere, \xe8 necessario specificare un valore per<autenticazione>. Attualmente,ERDDAP\u2122Supporti\n",(0,o.jsx)(i.a,{href:"#custom",children:"personalizzato"}),"  (non usare questo) \u266a\n",(0,o.jsx)(i.a,{href:"#email",children:"email"}),"  (non usare questo) \u266a\n",(0,o.jsx)(i.a,{href:"#google",children:"Google"}),"  (raccomandato) \u266a\n",(0,o.jsx)(i.a,{href:"#orcid",children:"Decisione n."}),"  (raccomandato) e\n",(0,o.jsx)(i.a,{href:"#oauth2",children:"Oauth2"}),"  (raccomandato) per il metodo di autenticazione.\nSe si desidera abilitare l'accesso, si consiglia vivamente le opzioni di google, orcid o oauth2 perch\xe9 si libera di memorizzare e gestire le password dell'utente (necessario per personalizzato) e sono pi\xf9 sicuri dell'opzione email. Ricorda che gli utenti spesso utilizzano la stessa password in diversi siti. Quindi possono usare la stessa password per la tuaERDDAP\u2122come fanno alla loro banca. Ci\xf2 rende la loro password molto preziosa -- molto pi\xf9 prezioso per l'utente che solo i dati che stanno richiedendo. Quindi \xe8 necessario fare il pi\xf9 possibile per mantenere le password private. E' una grande responsabilita'. Le opzioni e-mail, google, orcid e oauth2 si prendono cura delle password, in modo da non dover raccogliere, memorizzare, o lavorare con loro. Quindi siete liberati da questa responsabilit\xe0."]}),"\n",(0,o.jsxs)(i.p,{children:["Tutti<opzioni di autenticazione > utilizzare",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/HTTP_cookie",children:"cookie"}),"sul computer dell'utente, quindi il browser dell'utente deve essere impostato per consentire i cookie. Se un utente sta facendoERDDAP\u2122richieste da un programma di computer (non un browser) , i cookie e l'autenticazione sono difficili da lavorare. Questo \xe8 un problema comune con tutti i sistemi di autenticazione. Scusa."]}),"\n",(0,o.jsx)(i.p,{children:"I dettagli del<autenticazione le opzioni sono:"}),"\n",(0,o.jsx)(i.h6,{id:"custom",children:"Personale"}),"\n",(0,o.jsx)(i.p,{children:"personalizzato \xe8ERDDAP's sistema personalizzato per consentire agli utenti di accedere inserendo il loro nome utente e password in un modulo su una pagina web. Se un utente tenta e non riesce a registrare in 3 volte entro 10 minuti, l'utente \xe8 bloccato dal tentativo di accedere per 10 minuti. Questo impedisce agli hacker di semplicemente provare milioni di password fino a trovare quello giusto."}),"\n",(0,o.jsx)(i.p,{children:"Questo \xe8 un po' sicuro perch\xe9 il nome utente e la password vengono trasmessi tramitehttps  (nonhttp) , ma l'autenticazione=google, orcid, oauth2 sono migliori perch\xe9 ti liberano dal dover gestire le password. L'approccio personalizzato richiede di raccogliere il nome di un utente e un hash digest della loro password (usare il telefono! email non \xe8 sicuro!) e conservarli indatasets.xml#<) (/docs/server-admin/datasets#user) tags."}),"\n",(0,o.jsx)(i.p,{children:"Con l'opzione personalizzata, nessuno pu\xf2 accedere fino a quando non si (ilERDDAP\u2122amministratore) creare un<user> tag per l'utente, specificando il nome dell'utente come nome utente, l'hash digest della password come password e i loro ruoli."}),"\n",(0,o.jsx)(i.p,{children:"Non consigliato\nA causa della goffazza di generare e trasmettere l'hash digest della password dell'utente e a causa dei rischi associatiERDDAP\u2122tenere i digestori hash delle password, questa opzione non \xe8 raccomandata."}),"\n",(0,o.jsx)(i.p,{children:"Per aumentare la sicurezza di questa opzione:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["\xc8 necessario assicurarsi che altri utenti sul server (cio\xe8, utenti Linux, nonERDDAP\u2122utenti) non pu\xf2 leggere i file nella directory Tomcat (soprattutto ildatasets.xmlfile!) oERDDAPE' la grande Direttoria dei Soldi.\nSu Linux, come user=tomcat, usare:\nchmod -R g-rwx ",(0,o.jsx)(i.em,{children:"BigParentDirectory"}),(0,o.jsx)(i.br,{}),"\n","chmod -R o-rwx ",(0,o.jsx)(i.em,{children:"BigParentDirectory"}),(0,o.jsx)(i.br,{}),"\n","chmod -R g-rwx ",(0,o.jsx)(i.em,{children:"Direttive"}),(0,o.jsx)(i.br,{}),"\n","chmod -R o-rwx ",(0,o.jsx)(i.em,{children:"Direttive"}),(0,o.jsx)(i.br,{}),"\n","\xa0"]}),"\n",(0,o.jsx)(i.li,{children:"Utilizzare UEPSHA256 per<passwordEncoding> in setup.xml.\n\xa0"}),"\n",(0,o.jsx)(i.li,{children:"Utilizzare un metodo as-secure-as-possible per passare l'hash digest della password dell'utente dall'utente alERDDAP\u2122amministratore (telefono?) .\n\xa0"}),"\n"]}),"\n",(0,o.jsx)(i.h6,{id:"email",children:"email"}),"\n",(0,o.jsx)(i.p,{children:"L'opzione di autenticazione e-mail utilizza un account e-mail dell'utente per autenticare l'utente (inviando loro una email con un link speciale che devono accedere per accedere) . A differenza di altre email cheERDDAP\u2122mandati,ERDDAP\u2122non scrive queste email di invito al file di registro e-mail perch\xe9 contengono informazioni riservate.\nIn teoria, questo non \xe8 molto sicuro, perch\xe9 le e-mail non sono sempre crittografate, quindi un cattivo ragazzo con la capacit\xe0 di intercettare e-mail potrebbe abusare di questo sistema utilizzando un indirizzo email di un utente valido e intercettando l'e-mail di invito.\nIn pratica, se si impostaERDDAP\u2122utilizzare un account e-mail di Google per inviare e-mail, e se si imposta per utilizzare una delle opzioni TLS per la connessione, e se l'utente ha un account e-mail di Google, questo \xe8 un po ' sicuro perch\xe9 le e-mail sono crittografate fino a tutto il percorsoERDDAP\u2122all'utente."}),"\n",(0,o.jsx)(i.p,{children:"Per aumentare la sicurezza di questa opzione:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Assicurarsi che altri utenti sul server (cio\xe8, utenti Linux, nonERDDAP\u2122utenti) non pu\xf2 leggere i file nella directory Tomcat oERDDAPE' la grande Direttoria dei Soldi.\nSu Linux, come user=tomcat, usare:\nchmod -R g-rwx ",(0,o.jsx)(i.em,{children:"BigParentDirectory"}),(0,o.jsx)(i.br,{}),"\n","chmod -R o-rwx ",(0,o.jsx)(i.em,{children:"BigParentDirectory"}),(0,o.jsx)(i.br,{}),"\n","chmod -R g-rwx ",(0,o.jsx)(i.em,{children:"Direttive"}),(0,o.jsx)(i.br,{}),"\n","chmod -R o-rwx ",(0,o.jsx)(i.em,{children:"Direttive"}),(0,o.jsx)(i.br,{}),"\n","\xa0"]}),"\n",(0,o.jsx)(i.li,{children:"Impostare le cose per ottenere la sicurezza end-to-end per le e-mail inviate daERDDAP\u2122agli utenti. Ad esempio, si potrebbe fare un sistema Google-centric solo creando<tag utente> per indirizzi email gestiti da Google e impostando il tuoERDDAP\u2122per utilizzare un server di posta elettronica di Google tramite una connessione sicura/TLS: nel vostro setup.xml, utilizzare ad esempio,"}),"\n"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"    <emailSmtpHost>smtp.gmail.com</emailSmtpHost>  \n    <emailSmtpPort>587</emailSmtpPort>  \n    <emailProperties>mail.smtp.starttls.enable|true</emailProperties>\n"})}),"\n",(0,o.jsx)(i.p,{children:"Non consigliato\nL'opzione di autenticazione e-mail non \xe8 raccomandata. Si prega di utilizzare il google, orcid, oauth2 opzione invece."}),"\n",(0,o.jsx)(i.p,{children:"Come con le opzioni di google, orcid e oauth2, e-mail \xe8 molto conveniente perERDDAP\u2122amministratori -- non \xe8 mai necessario trattare con password o i loro hash digestivi. Tutto quello che dovete creare \xe8 un [<) (/docs/server-admin/datasets#user) tag per un utente indatasets.xml\xe8 l'indirizzo e-mail dell'utente, cheERDDAP\u2122utilizza come nome dell'utente. (L'attributo password non viene utilizzato quando l'autenticazione=email, google, orcid o oauth2.)"}),"\n",(0,o.jsx)(i.p,{children:"Con l'opzione email, solo gli utenti che hanno una<tag utente>datasets.xmlpu\xf2 cercare di accedere aERDDAP\u2122fornendo il loro indirizzo email e cliccando sul link nell'e-mail cheERDDAP\u2122Li manda."}),"\n",(0,o.jsx)(i.p,{children:"ERDDAP\u2122tratta gli indirizzi e-mail come caso-insensibile. Lo fa convertendo gli indirizzi email che inserisci (in<user> tags) o gli utenti entrano (sul modulo di login) alla loro versione minuscola."}),"\n",(0,o.jsx)(i.p,{children:"Per impostare l'autenticazione=email:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["Nel tuo setup.xml, cambia il<valore del tag baseHttpsUrl>.\nPer sperimentare / lavorare sul tuo personal computer, utilizzare\n",(0,o.jsx)(i.a,{href:"https://localhost:8443",children:"https://localhost:8443"}),(0,o.jsx)(i.br,{}),"\n","Per il tuo pubblicoERDDAP\u2122, uso\nhttps://",(0,o.jsx)(i.em,{children:"your.domain.org"}),":8443",(0,o.jsx)(i.br,{}),"\n","o senza:8443 se si utilizza un Apache",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#proxypass",children:"proxypass"}),"in modo che il numero di porta non \xe8 necessario.\n\xa0"]}),"\n",(0,o.jsx)(i.li,{children:"Nel tuo setup.xml, cambia il<autenticazione valore del tag per e-mail:"}),"\n"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"    <authentication>email</authentication>  \n"})}),"\n",(0,o.jsxs)(i.ol,{start:"3",children:["\n",(0,o.jsx)(i.li,{children:"Nel setup.xml, assicurarsi che il sistema e-mail sia impostato tramite tutti<email...> tags, in modo cheERDDAP\u2122pu\xf2 inviare e-mail. Se possibile, impostare questo per utilizzare una connessione sicura (SSL / TLS) al server di posta elettronica.\n\xa0"}),"\n",(0,o.jsx)(i.li,{children:"Nel tuodatasets.xml, creare [<) (/docs/server-admin/datasets#user) tag per ogni utente che avr\xe0 accesso a dataset privati.\nUtilizzare l'indirizzo email dell'utente come nome utente nel tag.\nNon specificare l'attributo password nel tag utente.\n\xa0"}),"\n",(0,o.jsx)(i.li,{children:"RiavviareERDDAP\u2122in modo che le modifiche a setup.xml edatasets.xmleffetto.\n\xa0"}),"\n"]}),"\n",(0,o.jsx)(i.h6,{id:"google-orcid-oauth2",children:"Google, orcid, oauth2"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsxs)(i.a,{href:"#google",children:[" ",(0,o.jsx)(i.strong,{children:"Google"})," "]}),"\u266a",(0,o.jsxs)(i.a,{href:"#orcid",children:[" ",(0,o.jsx)(i.strong,{children:"Decisione n."})," "]}),"e",(0,o.jsxs)(i.a,{href:"#oauth2",children:[" ",(0,o.jsx)(i.strong,{children:"Oauth2"})," "]}),"\xa0  (raccomandato)",(0,o.jsx)(i.br,{}),"\n","Tutte e tre queste opzioni sono le consigliateERDDAP\u2122opzioni di autenticazione. Sono tutte le opzioni pi\xf9 sicure. Le altre opzioni hanno una sicurezza significativamente pi\xf9 debole.\n\xa0"]}),"\n"]}),"\n",(0,o.jsx)(i.h6,{id:"google",children:"Google"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["L'opzione di autenticazione di Google utilizza",(0,o.jsx)(i.a,{href:"https://developers.google.com/identity/gsi/web/guides/overview",children:"Firma In con Google"}),", che \xe8 un'attuazione della",(0,o.jsx)(i.a,{href:"https://oauth.net/2/",children:"Protocollo di autenticazione OAuth 2.0"}),".ERDDAP\u2122gli utenti firmano nel loro account e-mail di Google, compresi gli account gestiti da Google ",(0,o.jsx)(i.a,{href:"mailto:come@noaa.govconti",children:"come@noaa.govconti"}),". Questo permetteERDDAP\u2122per verificare l'identit\xe0 dell'utente (nome e indirizzo email) e accedere alla loro immagine profilo, ma non d\xe0ERDDAP\u2122accesso alle loro email, al loro Google Drive, o a qualsiasi altra informazione privata."]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:'PerERDDAP\u2122V2.22 e seguenti,ERDDAP\u2122usato "Google Sign-In". Google dice che il sistema \xe8 deprecato dopo il 31 marzo 2023. Se non l\'hai gi\xe0 fatto, si prega di passare aERDDAP\u2122v2.23+ per utilizzare il nuovo sistema di autenticazione basato su "Sign In with Google".'}),"\n",(0,o.jsxs)(i.p,{children:["PerERDDAP\u2122v2.23 istanze con una funzionalit\xe0 di contenuto configurata e utilizzando l'autenticazione di Google, \xe8 necessario aggiungere ",(0,o.jsx)(i.a,{href:"https://accounts.google.com",children:"https://accounts.google.com"})," all'elenco di script-src consentiti (o script-src-elem) .ERDDAP\u2122non utilizza pi\xf9 ",(0,o.jsx)(i.a,{href:"https://apis.google.com",children:"https://apis.google.com"})," , quindi se avete questo permesso, si pu\xf2 essere in grado di rimuoverlo ora."]}),"\n",(0,o.jsxs)(i.p,{children:["PerERDDAP\u2122v2.24+ potrebbe anche essere necessario aggiungere ",(0,o.jsx)(i.a,{href:"https://accounts.google.com/gsi/style",children:"https://accounts.google.com/gsi/style"})," a stlye-src e ",(0,o.jsx)(i.a,{href:"https://accounts.google.com/gsi/",children:"https://accounts.google.com/gsi/"})," per collegare-src. Per lo script-src \xe8 ora possibile utilizzare ",(0,o.jsx)(i.a,{href:"https://accounts.google.com/gsi/client",children:"https://accounts.google.com/gsi/client"}),"."]}),"\n",(0,o.jsxs)(i.p,{children:["Per ulteriori informazioni potete andare al",(0,o.jsx)(i.a,{href:"https://developers.google.com/identity/gsi/web/guides/get-google-api-clientid#content_security_policy",children:"Pagina di Google"}),"sulla configurazione CSP. Se avete domande, contattare chris.john a noaa.gov.\n\xa0"]}),"\n",(0,o.jsx)(i.h6,{id:"orcid",children:"Orcid"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["L'opzione di autenticazione orcid utilizza",(0,o.jsx)(i.a,{href:"https://members.orcid.org/api/integrate/orcid-sign-in",children:"Autenticazione Orcid"}),", che \xe8 un'attuazione della",(0,o.jsx)(i.a,{href:"https://oauth.net/2/",children:"Protocollo di autenticazione OAuth 2.0"}),".ERDDAP\u2122gli utenti firmano",(0,o.jsx)(i.a,{href:"https://members.orcid.org/api/integrate/orcid-sign-in",children:"Conto ordinario"}),", che \xe8 comunemente usato dai ricercatori per identificarsi. Questo permetteERDDAP\u2122per verificare l'identit\xe0 Orcid dell'utente e ottenere il loro numero di account Orcid, ma non d\xe0ERDDAP\u2122accesso alle altre informazioni sul loro account Orcid."]}),"\n"]}),"\n",(0,o.jsx)(i.h6,{id:"oauth2",children:"Oauth2"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"L'opzione oauth2 consente agli utenti di accedere con il loro account Google o il loro account Orcid."}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Le opzioni di google, orcid e oauth2 sono i successori dell'opzione openid, che \xe8 stato interrotto dopoERDDAP\u2122versione 1.68, e che si basava su una versione aperta Identita' che ora e' fuori moda. Si prega di passare al google, orcid, oauth2 opzione."}),"\n",(0,o.jsx)(i.p,{children:"Queste opzioni sono molto convenienti perERDDAP\u2122amministratori -- non \xe8 mai necessario trattare con password o i loro hash digestivi. Tutto quello che dovete creare \xe8 un [<) (/docs/server-admin/datasets#user) tag per un utente indatasets.xmlche specifica l'indirizzo email di Google dell'utente o il numero di account Orcid come attributo del nome utente. (L'attributo password non viene utilizzato quando l'autenticazione=email, google, orcid o oauth2.)"}),"\n",(0,o.jsx)(i.p,{children:"Con queste opzioni, chiunque pu\xf2 accedere aERDDAP\u2122firmando nel loro account di posta elettronica Google o account Orcid, ma nessuno avr\xe0 il diritto di accedere a set di dati privati fino a quando non si (ilERDDAP\u2122amministratore) creare un<user> tag, specificando il loro indirizzo email di Google o il numero di account Orcid come nome utente e specificando i loro ruoli."}),"\n",(0,o.jsx)(i.p,{children:"ERDDAP\u2122tratta gli indirizzi e-mail come caso-insensibile. Lo fa convertendo gli indirizzi email che inserisci (in<user> tags) o gli utenti entrano (sul modulo di login) alla loro versione minuscola."}),"\n",(0,o.jsx)(i.p,{children:"Per impostare l'autenticazione di google, orcid o oauth2:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Nel tuo setup.xml, cambia il<valore del tag baseHttpsUrl>.\nPer sperimentare / lavorare sul tuo personal computer, utilizzare\n",(0,o.jsx)(i.a,{href:"https://localhost:8443",children:"https://localhost:8443"}),(0,o.jsx)(i.br,{}),"\n","Per il tuo pubblicoERDDAP\u2122, uso\nhttps://",(0,o.jsx)(i.em,{children:"your.domain.org"}),":8443",(0,o.jsx)(i.br,{}),"\n","o, meglio, senza il :8443 se si utilizza un Apache",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#proxypass",children:"proxypass"}),"in modo che il numero di porta non \xe8 necessario.\n\xa0"]}),"\n",(0,o.jsx)(i.li,{children:"Nel tuo setup.xml, cambia il<autenticazione il valore del tag su google, orcid, oauth2, per esempio:"}),"\n"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"    <authentication>oauth2</authentication>  \n"})}),"\n",(0,o.jsx)(i.h6,{id:"google-setup",children:"Impostazione di Google"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Per le opzioni di Google e Oauth2:\nSeguire le istruzioni qui sotto per impostare l'autenticazione di Google per il tuoERDDAP.\n\xa0","\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["Se non hai un account e-mail di Google,",(0,o.jsx)(i.a,{href:"https://www.google.com/intl/en_us/mail/help/about.html",children:"creare uno"}),(0,o.jsx)(i.br,{}),"\n","\xa0"]}),"\n",(0,o.jsxs)(i.li,{children:["Seguici",(0,o.jsx)(i.a,{href:"https://developers.google.com/identity/sign-in/web/devconsole-project",children:"queste istruzioni"}),"per creare un progetto di Google Developers Console e ottenere un ID client."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["Quando il modulo di Google chiede l'autorizzazioneJavaOrigini dello script, inserisci il valore da<baseHttpsUrl> dal vostro personal computerERDDAP\u2122setup.xml, ad esempio,\n",(0,o.jsx)(i.a,{href:"https://localhost:8443",children:"https://localhost:8443"}),(0,o.jsx)(i.br,{}),"\n","Su una seconda riga, aggiungere il<baseHttpsUrl> dal tuo pubblicoERDDAP\u2122setup.xml, ad esempio,\nhttps://",(0,o.jsx)(i.em,{children:"your.domain.org"}),":8443"]}),"\n",(0,o.jsx)(i.p,{children:"Non specificare eventuali URI ridiretti autorizzati."}),"\n",(0,o.jsxs)(i.p,{children:["Quando vedi il tuo ID cliente per questo progetto, copia e incollalo nel tuo setup.xml (di solito appena sotto<autenticazione > per essere ordinato, ma il posizionamento non importa realmente), nel<GoogleClientID> tag, ad esempio,\n<GoogleClientID> ",(0,o.jsx)(i.em,{children:"il tuo cliente"})," <>\nL'ID client sar\xe0 una stringa di circa 75 caratteri, probabilmente a partire da diverse cifre e termina con .apps.googleusercontent.com .\n\xa0"]}),"\n",(0,o.jsxs)(i.ol,{start:"3",children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"Nel tuodatasets.xml, creare un [<) (/docs/server-admin/datasets#user) tag per ogni utente che avr\xe0 accesso a dataset privati. Per l'attributo del nome utente nel tag:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Per gli utenti che si iscriveranno con Google, utilizzare l'indirizzo email di Google dell'utente."}),"\n",(0,o.jsx)(i.li,{children:"Per gli utenti che si iscriveranno con orcid, utilizzare il numero di account Orcid dell'utente (con trattini) ."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Non specificare l'attributo password per il tag utente.\n\xa0\n4. RiavviareERDDAP\u2122in modo che le modifiche a setup.xml edatasets.xmleffetto.\n\xa0"}),"\n",(0,o.jsx)(i.h6,{id:"orcid-setup",children:"Configurazione Orcid"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Per le opzioni di orcid e oauth2:\nSegui le istruzioni qui sotto per impostare l'autenticazione Orcid per la tuaERDDAP.\n(Per i dettagli, vedere",(0,o.jsx)(i.a,{href:"https://members.orcid.org/api/integrate/orcid-sign-in",children:"Documentazione API di autenticazione di Orcid"}),".)",(0,o.jsx)(i.br,{}),"\n","\xa0","\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["Se non hai un account Orcid,",(0,o.jsx)(i.a,{href:"https://orcid.org/signin",children:"creare uno"}),(0,o.jsx)(i.br,{}),"\n","\xa0"]}),"\n",(0,o.jsxs)(i.li,{children:["Accedi a Orcid",(0,o.jsx)(i.a,{href:"https://orcid.org/signin",children:" https://orcid.org/signin "}),"utilizzando il tuo account Orcid personale.\n\xa0"]}),"\n",(0,o.jsx)(i.li,{children:'Clicca su "Strumenti di sviluppo" (sotto "Per i ricercatori" in alto) .\n\xa0'}),"\n",(0,o.jsxs)(i.li,{children:['Clicca su "Register for the free ORCID public API". Inserisci queste informazioni:\nNome',":ERDDAP","\u2122a\\[la tua organizzazione\\]",(0,o.jsx)(i.br,{}),"\n","Sito web:\\[il tuoERDDAPdominio\\]",(0,o.jsx)(i.br,{}),"\n","Descrizione",":ERDDAP","\u2122\xe8 un server di dati scientifico. Gli utenti devono autenticarsi con Google o Orcid per accedere a dataset non pubblici.\nRedirect URI:\\[il tuoERDDAPdominio\\]/erddap/loginOrcid.html\n\xa0"]}),"\n",(0,o.jsx)(i.li,{children:"Clicca sull'icona Salva (Sembra un disco da 3,5\"!) .\nPuoi quindi vedere il tuo ID client ORCID APP e ORCID Client Secret.\n\xa0"}),"\n",(0,o.jsx)(i.li,{children:'Copia e incolla l\'ID client ORCID APP (che inizier\xe0 con "APP-") in setup.xml in<orcidClientID> tag, ad esempio,'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"        <orcidClientID>APP-*ALPHANUMERICCHARACTERS*</orcidClientID>\n"})}),"\n",(0,o.jsxs)(i.ol,{start:"7",children:["\n",(0,o.jsx)(i.li,{children:"Copia e incolla il segreto del cliente ORCID (caratteri alfa-numerici minuscoli con trattini) in setup.xml in<orcidClientSecret> tag, ad esempio,"}),"\n"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"        <orcidClientSecret>*alpha-numeric-characters-with-dashes*</orcidClientSecret>\n"})}),"\n",(0,o.jsxs)(i.ol,{start:"8",children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"Nel tuodatasets.xml, creare un [<) (/docs/server-admin/datasets#user) tag per ogni utente che avr\xe0 accesso a dataset privati. Per l'attributo del nome utente nel tag:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Per gli utenti che si iscriveranno con Google, utilizzare l'indirizzo email di Google dell'utente."}),"\n",(0,o.jsx)(i.li,{children:"Per gli utenti che si iscriveranno con orcid, utilizzare il numero di account Orcid dell'utente (con trattini) ."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Non specificare l'attributo password per il tag utente.\n\xa0\n9. RiavviareERDDAP\u2122in modo che le modifiche a setup.xml edatasets.xmleffetto.\n\xa0"}),"\n",(0,o.jsx)(i.h6,{id:"log-in-either-way",children:"Accedi in modo diverso"}),"\n",(0,o.jsx)(i.p,{children:"Se si utilizzano le opzioni di autenticazione google, orcid o oauth2, e Google Sign-In o Orcid's Authentication API cessa improvvisamente di lavorare (per qualsiasi ragione) o cessa di lavorare comeERDDAP\u2122si aspetta, gli utenti non saranno in grado di accedere alERDDAP. Come temporaneo (o permanente) soluzione, \xe8 possibile chiedere agli utenti di registrarsi con l'altro sistema (ottenere un account e-mail di Google, o ottenere un account Orcid) . Per fare questo:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsx)(i.li,{children:"Cambiare<autenticazione> tag in modo che consenta l'altro sistema di autenticazione. L'opzione oauth2 consente agli utenti di accedere con entrambi i sistemi."}),"\n",(0,o.jsx)(i.li,{children:"Duplicare ciascuno dei<user> tags e modificare l'attributo nome utente dall'indirizzo e-mail di Google al corrispondente numero di account Orcid (o viceversa) , ma mantenere i ruoli attribuire lo stesso."}),"\n"]}),"\n",(0,o.jsx)(i.h6,{id:"openid",children:"OpenId"}),"\n",(0,o.jsx)(i.p,{children:"ERDDAP\u2122non supporta pi\xf9 l'opzione di autenticazione openid, basata su una versione aperta Identita' che ora e' fuori moda. Si prega di utilizzare le opzioni Google, orcid, oauth2 invece."}),"\n",(0,o.jsx)(i.h6,{id:"basic",children:"BASE"}),"\n",(0,o.jsx)(i.p,{children:"ERDDAP\u2122non supporta l'autenticazione BASIC perch\xe9:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"BASIC sembra orientato verso le pagine web predefinite che necessitano di un accesso sicuro o di una coperta all'intero sito, maERDDAP\u2122consente (accesso limitato) set di dati da aggiungere on-the-fly."}),"\n",(0,o.jsx)(i.li,{children:"L'autenticazione BASIC non offre agli utenti un modo per uscire!"}),"\n",(0,o.jsx)(i.li,{children:"L'autenticazione BASIC \xe8 nota per non essere sicura."}),"\n"]}),"\n",(0,o.jsx)(i.h5,{id:"secure-data-sources",children:"Fonti di dati sicure"}),"\n",(0,o.jsx)(i.p,{children:"Se un insieme di dati \xe8 quello di avere accesso limitatoERDDAP\u2122utenti, la fonte di dati (da doveERDDAP\u2122ottiene i dati) non dovrebbe essere pubblicamente accessibile. Cos\xec come pu\xf2ERDDAP\u2122ottenere i dati per i dataset di accesso limitato? Alcune opzioni sono:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"ERDDAP\u2122pu\xf2 servire i dati dai file locali (per esempio, via EDDTable Da Fili oEDDGridDa Fili) .\n\xa0"}),"\n",(0,o.jsxs)(i.li,{children:["ERDDAP\u2122pu\xf2 essere in un",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Demilitarized_zone_(computing)",children:"DMZ"})," e la fonte di dati (ad esempio, unOPeNDAPserver o un database) pu\xf2 essere dietro",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Firewall",children:"firewall"}),", dove \xe8 accessibileERDDAP\u2122ma non al pubblico.\n\xa0"]}),"\n",(0,o.jsxs)(i.li,{children:["La fonte di dati pu\xf2 essere su un sito web pubblico, ma richiedono un login per ottenere i dati. I due tipi di dataset cheERDDAP\u2122pu\xf2 accedere all'accesso",(0,o.jsx)(i.a,{href:"/docs/server-admin/datasets#eddtablefromdatabase",children:"EDDTableDatabase"}),"e",(0,o.jsx)(i.a,{href:"/docs/server-admin/datasets#eddtablefromcassandra",children:"EDDTable FromCassandra"}),". Questi set di dati supportano (e dovrebbe sempre usare) nomi utente (creare unERDDAP\u2122utente che ha solo privilegi di sola lettura) , password, connessioni SSL e altre misure di sicurezza."]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["Ma in generale, attualmente,ERDDAP\u2122non pu\xf2 trattare con queste fonti di dati perch\xe9 non ha disposizioni per l'accesso alla fonte di dati. Questo \xe8 il motivo per cui l'accesso",(0,o.jsx)(i.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDGridDa Erddap e EDDTable Da Erddap"}),'i set di dati non possono essere limitati. Attualmente, il localeERDDAP\u2122non ha modo di accedere e accedere alle informazioni dei metadati dal telecomandoERDDAP. E mettere il "remoto"ERDDAP\u2122dietro il tuo firewall e rimuovendo il dataset accessibile A restrizioni non risolve il problema: da richieste dell\'utente per EDDXxx I dati di FromErddap devono essere reindirizzati al telecomandoERDDAP\u2122, il telecomandoERDDAP\u2122deve essere accessibile.']}),"\n",(0,o.jsx)(i.h4,{id:"defenses-against-hackers",children:"Difesa contro gli hacker"}),"\n",(0,o.jsx)(i.p,{children:"Ci sono hacker cattivi che cercano di sfruttare le debolezze di sicurezza nel software del server comeERDDAP.ERDDAP\u2122segue il consiglio di sicurezza comune per avere diversi strati di difese:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Privilegi limitati -- Una delle difese pi\xf9 importanti \xe8 quella di eseguire Tomcat tramite un utente chiamato tomcat che non ha una password (in modo che nessuno possa accedere come utente) e ha privilegi di file system limitati (ad esempio, accesso di sola lettura ai dati) . VediERDDAP's istruzioni per",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#tomcat",children:"creazione di tomcat"}),"."]}),"\n",(0,o.jsx)(i.li,{children:"Uso pesante - In generale,ERDDAP\u2122\xe8 costruito per uso pesante, anche da script che fanno decine di migliaia di richieste, uno dopo l'altro. \xc8 difficile perERDDAP\u2122per aprirsi simultaneamente fino a un uso legittimo pesante e proteggersi da abusi. A volte \xe8 difficile differenziare l'uso legittimo pesante, l'uso legittimo eccessivo e illegittimo (e a volte \xe8 davvero facile) . Tra le altre difese,ERDDAP\u2122Consapevolmente non consente ad una sola richiesta di utilizzare una frazione inordinata delle risorse del sistema (a meno che il sistema non sia altrimenti attivo) ."}),"\n",(0,o.jsxs)(i.li,{children:["Identificare utenti problematici - SeERDDAP\u2122sta rallentando o congelando (forse perch\xe9 un utente ingenuo o un robot \xe8 in esecuzione di pi\xf9 script per presentare pi\xf9 richieste simultaneamente o forse a causa di un cattivo ragazzo",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Denial-of-service_attack",children:"Denial-of-service"}),"attacco) # Puoi guardare #",(0,o.jsx)(i.a,{href:"#daily-report",children:"E-mail del rapporto giornaliero"}),"  (e pi\xf9 frequenti informazioni identiche",(0,o.jsx)(i.a,{href:"#log",children:"ERDDAP\u2122file di log"}),") che visualizza il numero di richieste effettuate dagli utenti pi\xf9 attivi (vedi \"Indirizzo IP del Richiedente (Ammessi) \") .ERDDAP\u2122invia anche email all'amministratore ogni volta che c'\xe8",(0,o.jsx)(i.a,{href:"#failed-requests",children:'"Attivit\xe0 insolita: >25% delle richieste fallite"'}),". Si pu\xf2 quindi guardare inERDDAP\u2122log file per vedere la natura delle loro richieste. Se sentite che qualcuno sta facendo troppe richieste, richieste bizzarre (Non crederesti a cio' che ho visto, beh, forse...) , o richieste di tipo di attacco, \xe8 possibile aggiungere il loro indirizzo IP alla lista nera."]}),"\n",(0,o.jsxs)(i.li,{children:["Blacklist... \xc8 possibile aggiungere l'indirizzo IP di utenti problematici, bot e",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Denial-of-service_attack",children:"Denial-of-service"}),"attaccanti alERDDAP ",(0,o.jsx)(i.a,{href:"/docs/server-admin/datasets#requestblacklist",children:"Lista nera"}),", affinch\xe9 le future richieste da loro vengano respinte immediatamente. Questa impostazione \xe8 indatasets.xmlin modo da poter aggiungere rapidamente un indirizzo IP all'elenco e quindi",(0,o.jsx)(i.a,{href:"#flag",children:"bandiera"}),"un dataset in modo cheERDDAP\u2122immediatamente nota e applica il cambiamento. Il messaggio di errore inviato agli utenti blacklist li incoraggia a contattare ilERDDAP\u2122amministratore se si sentono erroneamente messi sulla lista nera. (Nella nostra esperienza, diversi utenti non sono stati consapevoli che stavano eseguendo pi\xf9 script contemporaneamente, o che i loro script stavano facendo richieste di assurdit\xe0.)"]}),"\n",(0,o.jsxs)(i.li,{children:["Dataset Security - Alcuni tipi di set di dati (in particolare, EDDTableFromDatabase) presenti ulteriori rischi di sicurezza (ad esempio, SQL injection) e avere le proprie misure di sicurezza. Vedere le informazioni per tali tipi di set di dati in",(0,o.jsx)(i.a,{href:"/docs/server-admin/datasets",children:"Lavorare con ildatasets.xmlFile"}),", in particolare",(0,o.jsx)(i.a,{href:"/docs/server-admin/datasets#database-security",children:"EDDTableDatabase sicurezza"}),"."]}),"\n",(0,o.jsx)(i.li,{children:"Controllo di sicurezza... Anche seNOAALa sicurezza informatica ha rifiutato le nostre richieste di scansioni per anni, ora controllano regolarmente la mia (Bob's)  ERDDAP\u2122installazione. Anche se le scansioni iniziali hanno trovato alcuni problemi che ho poi risolto, le scansioni successive non hanno trovato problemi conERDDAP. Le scansioni si preoccupano di un sacco di cose: in particolare, daltabledaprichieste sembrano richieste SQL, si preoccupano di vulnerabilit\xe0 SQL injection. Ma queste preoccupazioni sono infondate perch\xe9ERDDAP\u2122sempre analizza e convalida le query e poi costruisce separatamente la query SQL in un modo che evita le vulnerabilit\xe0 di iniezione. L'altra cosa di cui a volte si lamentano \xe8 che la nostraJavaversione o Tomcat versioni non sono aggiornate come vogliono, quindi li aggiorniamo in risposta. In precedenza mi sono offerto di mostrare alla gente i rapporti di sicurezza, ma ora mi viene detto che non posso farlo."}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"questions-suggestions",children:"Domande? Suggerimenti?"}),"\n",(0,o.jsxs)(i.p,{children:["Se avete domande suERDDAP's sistema di sicurezza o avere domande, dubbi, preoccupazioni, o suggerimenti su come \xe8 istituito, vedere il nostro",(0,o.jsx)(i.a,{href:"/docs/intro#support",children:"sezione per ottenere supporto aggiuntivo"}),"."]}),"\n",(0,o.jsx)(i.h2,{id:"things-you-dont-need-to-know",children:"Cose che non devi sapere"}),"\n",(0,o.jsx)(i.p,{children:"Questi sono i dettagli che non \xe8 necessario sapere fino a quando non sorge un bisogno."}),"\n",(0,o.jsx)(i.h3,{id:"second-erddap",children:"SecondoERDDAP\u2122"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Impostare un secondoERDDAP\u2122per Test/Sviluppo"}),(0,o.jsx)(i.br,{}),"\n","Se vuoi farlo, ci sono due approcci:"]}),"\n",(0,o.jsx)(i.li,{children:"(Migliore) Installare Tomcat eERDDAP\u2122su un computer diverso dal computer che ha il tuo pubblicoERDDAP. Se utilizzi il tuo personal computer:"}),"\n"]}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Fare l'installazione un passo alla volta. Alza Tomcat e corre prima.\nQuando Tomcat \xe8 in esecuzione, il Tomcat Manager dovrebbe essere in\n",(0,o.jsx)(i.a,{href:"http://127.0.0.1:8080/manager/html/",children:" http://127.0.0.1:8080/manager/html/ "}),"  (o forse",(0,o.jsx)(i.a,{href:"http://localhost:8080/manager/html/",children:" http://localhost:8080/manager/html/ "}),")"]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"InstallazioneERDDAP."}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"Non utilizzare ProxyPass per eliminare il numero di porta dalERDDAP\u2122URL."}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["In",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),", set baseUrl to ",(0,o.jsx)(i.a,{href:"http://127.0.0.1:8080",children:"http://127.0.0.1:8080"})]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Dopo aver iniziato questoERDDAP\u2122, dovresti essere in grado di vederlo\n",(0,o.jsx)(i.a,{href:"http://127.0.0.1:8080/erddap/status.html",children:" http://127.0.0.1:8080/erddap/status.html "}),"  (o forse",(0,o.jsx)(i.a,{href:"http://localhost:8080/erddap/status.html",children:" http://localhost:8080/erddap/status.html "}),")"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"second-tomcat",children:"Secondo Tomcat"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"(Seconda cosa) Installare un altro Tomcat sullo stesso computer del pubblicoERDDAP."}),"\n"]}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Fare l'installazione un passo alla volta. Alza Tomcat e corre prima.\nModificare tutti i numeri di porta associati al secondo Tomcat (per esempio, cambio 8080 a 8081)   (vedi il",(0,o.jsx)(i.a,{href:"https://tomcat.apache.org/tomcat-8.0-doc/RUNNING.txt",children:"Tomcat multipli Sezione delle istanze"}),"a met\xe0 del documento) ."]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"InstallazioneERDDAP\u2122nel nuovo Tomcat."}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"Non utilizzare ProxyPass per eliminare il numero di porta dalERDDAP\u2122URL."}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["In",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),", set baseUrl to ",(0,o.jsx)(i.a,{href:"http://www.*yourDomainName*:8081",children:"http://www.*yourDomainName*:8081"})]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Dopo aver iniziato questoERDDAP\u2122, dovresti essere in grado di vederlo\n",(0,o.jsx)(i.a,{href:"http://www.*yourDomainName*:8081/erddap/status.html",children:"http://www.*yourDomainName*:8081/erddap/status.html"}),(0,o.jsx)(i.br,{}),"\n","\xa0"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"solid-state-drives",children:"Solid State Drives"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Solid State Drives (SSD) sono grandi!"}),(0,o.jsx)(i.br,{}),"\n","Il modo pi\xf9 veloce, pi\xf9 semplice ed economico per accelerareERDDAP'l'accesso ai dati tabulari \xe8 quello di mettere i file di dati su un'unit\xe0 di stato solido (SSD) . La maggior parte dei set di dati tabulari sono relativamente piccoli, quindi un SSD da 1 o 2 TB \xe8 probabilmente sufficiente per contenere tutti i file di dati per tutti i set di dati tabulari. SSD alla fine si consuma se si scrive i dati a una cella, eliminarlo, e scrivere nuovi dati a quella cella troppe volte. Quindi, se si utilizza il SSD per scrivere i dati una volta e leggerlo molte volte, anche un SSD di livello di consumo dovrebbe durare molto tempo, probabilmente molto pi\xf9 lungo di qualsiasi Hard Disk Drive (HDD) . SSD di livello di consumo sono ora a buon mercato (nel 2018, ~ $ 200 per 1 TB o ~ $400 per 2 TB) e i prezzi stanno ancora cadendo veloci. QuandoERDDAP\u2122accede a un file di dati, un SSD offre sia latenza pi\xf9 breve (~0.1ms, contro ~3ms per un HDD, contro ~10 (?) ms per un RAID, contro ~55ms per Amazon S3) e maggiore produttivit\xe0 (~500 MB/S, contro ~75 MB/s per un HDD, contro ~500 MB/s per un RAID) . Cos\xec si pu\xf2 ottenere una grande spinta prestazioni (fino a 10X contro un HDD) per 200 dollari! Rispetto alla maggior parte delle altre possibili modifiche al sistema (un nuovo server per 10.000 dollari? un nuovo RAID per 35.000 dollari? un nuovo interruttore di rete per $5000? ecc.) , questo \xe8 di gran lunga il miglior ritorno sugli investimenti (ROI) . Se / quando il SSD muore (in 1, 2, ... 8 anni) Sostituiscilo. Non fare affidamento su di esso come per lungo termine, archiviazione dei dati, solo per la copia front-end dei dati.\\[SSD sarebbe grande anche per i dati grigliati, ma la maggior parte dei set di dati grigliati sono molto pi\xf9 grandi, rendendo l'SSD molto costoso.\\]"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Se il server non \xe8 caricato di memoria, la memoria aggiuntiva per il server \xe8 anche un ottimo e relativamente economico modo per accelerare tutti gli aspettiERDDAP.\n\xa0"}),"\n",(0,o.jsxs)(i.h3,{id:"heavy-loads--constraints",children:[(0,o.jsx)(i.a,{href:"#heavy-loads--constraints",children:"Carico pesante / vincoli"})," **"]}),"\n",(0,o.jsxs)(i.p,{children:["Con un uso pesante, un standaloneERDDAP\u2122pu\xf2 essere ostacolato da vari problemi. Per ulteriori informazioni, vedere il",(0,o.jsx)(i.a,{href:"/docs/server-admin/scaling#heavy-loads--constraints",children:"elenco di vincoli e soluzioni"}),".\n\xa0"]}),"\n",(0,o.jsx)(i.h3,{id:"grids-clusters-and-federations",children:"Griglia, cluster e federazioni"}),"\n",(0,o.jsxs)(i.p,{children:["Sotto un uso molto pesante, un singolo standaloneERDDAP\u2122sar\xe0 eseguito in uno o pi\xf9 vincoli e anche le soluzioni suggerite saranno insufficienti. Per tali situazioni,ERDDAP\u2122ha caratteristiche che rendono facile la costruzione di griglie scalabili (anche chiamati cluster o federazioni) diERDDAPs che permettono al sistema di gestire un uso molto pesante (ad esempio, per un grande data center) . Per ulteriori informazioni, vedere",(0,o.jsx)(i.a,{href:"/docs/server-admin/scaling",children:"griglie, cluster e federazioniERDDAP#"}),".\n\xa0"]}),"\n",(0,o.jsx)(i.h3,{id:"cloud-computing",children:"Cloud Computing"}),"\n",(0,o.jsxs)(i.p,{children:["Molte aziende stanno iniziando a offrire",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Cloud_computing",children:"servizi cloud computing"}),"  (ad esempio,",(0,o.jsx)(i.a,{href:"https://aws.amazon.com/",children:"Servizi web Amazon"}),") .",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Web_hosting_service",children:"Web hosting aziende"}),'hanno offerto servizi pi\xf9 semplici dalla met\xe0 del 1990, ma i servizi "cloud" hanno notevolmente ampliato la flessibilit\xe0 dei sistemi e la gamma di servizi offerti. \xc8 possibile utilizzare questi servizi per impostare un singoloERDDAP\u2122o una griglia/cluster diERDDAPs per gestire un uso molto pesante. Per ulteriori informazioni, vedere',(0,o.jsx)(i.a,{href:"/docs/server-admin/scaling#cloud-computing",children:"cloud computing conERDDAP\u2122"}),"."]}),"\n",(0,o.jsx)(i.h3,{id:"amazon",children:"Amazzonia"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:(0,o.jsx)(i.a,{href:"#amazon",children:"Servizi web Amazon (AWS) EC2 Panoramica dell'installazione"})}),(0,o.jsx)(i.br,{}),"\n",(0,o.jsx)(i.a,{href:"https://aws.amazon.com/",children:"Servizi web Amazon (AWS) "}),"\xe8 un",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Cloud_computing",children:"servizio cloud computing"}),"che offre una vasta gamma di infrastrutture informatiche che \xe8 possibile affittare entro l'ora. \xc8 possibile installareERDDAP\u2122su",(0,o.jsx)(i.a,{href:"https://aws.amazon.com/ec2/",children:"Nuvola integrata elastica (ECONOMIA) "}),"esempio (il loro nome per un computer che \xe8 possibile affittare entro l'ora) . AWS ha un eccellente",(0,o.jsx)(i.a,{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/concepts.html",children:"Guida utente di AWS"}),"e puoi usare Google per trovare risposte a domande specifiche che potresti avere. Preparati -- \xe8 una giusta quantit\xe0 di lavoro per iniziare. Ma una volta che si ottiene un server in esecuzione, \xe8 possibile noleggiare facilmente quante pi\xf9 risorse aggiuntive (server, database, SSD-space, ecc.) come avete bisogno, ad un prezzo ragionevole.\\[Questo non \xe8 una raccomandazione o approvazione di Amazon Web Services. Ci sono altri provider cloud.\\]"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Una panoramica delle cose che dovete fare per ottenereERDDAP\u2122in esecuzione su AWS \xe8:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["In generale, farai tutte le cose descritte nella",(0,o.jsx)(i.a,{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/concepts.html",children:"Guida utente di AWS"}),"."]}),"\n",(0,o.jsx)(i.li,{children:"Impostare un account AWS."}),"\n",(0,o.jsx)(i.li,{children:"Impostare un utente AWS all'interno di tale account con privilegi di amministratore. Accedi come questo utente per eseguire tutti i seguenti passaggi."}),"\n",(0,o.jsx)(i.li,{children:"Deposito del blocco elastico (EBS) \xe8 l'equivalente AWS di un disco rigido collegato al server. Alcuni spazi EBS saranno assegnati quando si crea un'istanza EC2. \xc8 storage persistente -- le informazioni non vengono perse quando si ferma l'istanza EC2. E se si modificano i tipi di istanza, lo spazio EBS viene automaticamente attaccato alla nuova istanza."}),"\n",(0,o.jsx)(i.li,{children:"Crea un indirizzo IP elastico in modo che la tua istanza EC2 abbia un URL stabile e pubblico (al contrario di un URL privato che cambia ogni volta che riavvia l'istanza) ."}),"\n",(0,o.jsxs)(i.li,{children:["Creare e avviare un'istanza EC2 (computer computer) . Ci sono una vasta gamma di",(0,o.jsx)(i.a,{href:"https://aws.amazon.com/ec2/instance-types/",children:"tipi di esempio"}),", ciascuno ad un prezzo diverso. Un'istanza m4.large o m4.xlarge \xe8 potente ed \xe8 probabilmente adatto per la maggior parte degli usi, ma scegliere qualsiasi cosa soddisfi le vostre esigenze. Probabilmente vorrai usare Linux di Amazon come sistema operativo."]}),"\n",(0,o.jsxs)(i.li,{children:["Se il computer desktop/laptop \xe8 un computer Windows, \xe8 possibile utilizzare",(0,o.jsx)(i.a,{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/putty.html",children:"PuTTY"}),", un client SSH gratuito per Windows, per accedere alla riga di comando dell'istanza EC2. Oppure, potresti avere un altro programma SSH che preferisci."]}),"\n",(0,o.jsxs)(i.li,{children:['Quando accedi all\'istanza EC2, sarai registrato come utente amministrativo con il nome utente "ec2-user". ec2-utente ha privilegi sudo. Quindi, quando \xe8 necessario fare qualcosa come utente root, utilizzare: sudo ',(0,o.jsx)(i.em,{children:"alcuniCommand"})]}),"\n",(0,o.jsxs)(i.li,{children:["Se il computer desktop/laptop \xe8 un computer Windows, \xe8 possibile utilizzare",(0,o.jsx)(i.a,{href:"https://stackoverflow.com/questions/16744863/connect-to-amazon-ec2-file-directory-using-filezilla-and-sftp",children:"FileZilla"}),", un programma SFTP gratuito, per trasferire file da/per la tua istanza EC2. Oppure, potresti avere un altro programma SFTP che preferisci."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.a,{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/install-LAMP.html",children:"Installare Apache"}),"sulla vostra istanza EC2."]}),"\n",(0,o.jsxs)(i.li,{children:["Seguire lo standard",(0,o.jsx)(i.a,{href:"/docs/server-admin/deploy-install",children:"ERDDAP\u2122istruzioni di installazione"}),".\n\xa0"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"waitthentryagain-exception",children:"AspettaThenTryAgain Eccezione"}),"\n",(0,o.jsxs)(i.p,{children:["Un utente pu\xf2 ottenere un messaggio di errore come\nWaitThenTryAgainException:\nC'era un (temporaneo?) problema. Aspetta un attimo, poi riprova. (In un browser, fare clic sul pulsante Reload.)",(0,o.jsx)(i.br,{}),"\n",'Dettagli: GridDataAccessor.increment: parzialeRisultati\\[0\\]="123542730" doveva essere "123532800".']}),"\n",(0,o.jsxs)(i.p,{children:["La spiegazione generale di WaitThenTryAgainException \xe8:\nQuandoERDDAP\u2122sta rispondendo a una richiesta dell'utente, potrebbe esserci un errore inaspettato con il dataset (ad esempio, un errore durante la lettura dei dati dal file, o un errore di accesso a un set di dati remoto) . WaitThenTryAgain segnala diERDDAP\u2122che la richiesta non sia riuscita (finora) maERDDAP\u2122dovrebbe cercare di ricaricare rapidamente il dataset (chiama",(0,o.jsx)(i.a,{href:"#requestreloadasap",children:"Richiesta di ricarica"}),") e riprovare la richiesta. Spesso, questo riesce, e l'utente vede solo che la risposta alla richiesta era lenta. Altre volte, il reload fallisce o \xe8 troppo lento, o il successivo tentativo di affrontare la richiesta fallisce e lancia un altro WaitThenTryAgain. Se succede,ERDDAP\u2122segna il dataset per il caricamento ma dice all'utente (via a WaitThenTryAgain Eccezione) che c'\xe8 stato un fallimento durante la risposta alla richiesta."]}),"\n",(0,o.jsx)(i.p,{children:"Questo \xe8 il comportamento normale. Questo sistema pu\xf2 affrontare molti problemi comuni.\nMa \xe8 possibile che questo sistema venga attivato eccessivamente. La causa pi\xf9 comune \xe8 cheERDDAPIl caricamento del dataset non vede un problema, maERDDAPLa risposta a una richiesta di dati vede il problema. Non importa quale sia la causa, la soluzione \xe8 che tu abbia a che fare con tutto ci\xf2 che \xe8 sbagliato nel dataset. Guarda in log.txt per vedere i messaggi di errore reali e affrontare i problemi. Se un sacco di file hanno intestazioni valide ma dati non validi (un file danneggiato) , sostituire i file con file non corrotti. Se la connessione a un RAID \xe8 flakey, risolvere il problema. Se la connessione a un servizio remoto \xe8 flakey, trovare un modo per farlo non flakey o scaricare tutti i file dalla fonte remota e servire i dati dai file locali."}),"\n",(0,o.jsx)(i.p,{children:'La spiegazione dettagliata di questo errore specifico (sopra) \xe8:\nPer ciascunoEDDGriddataset,ERDDAP\u2122mantiene i valori variabili dell\'asse in memoria. Sono utilizzati, ad esempio, per convertire i valori dell\'asse richiesto che utilizzano il " () " formato in numeri di indice. Ad esempio, se i valori dell\'asse sono "10, 15, 20, 25", una richiesta (20) sar\xe0 interpretato come una richiesta di indice #2 (Indici basati su 0) . QuandoERDDAP\u2122ottiene una richiesta di dati e ottiene i dati dalla fonte, verifica che i valori dell\'asse che ha ottenuto dalla sorgente corrispondono ai valori dell\'asse in memoria. Di solito lo fanno. Ma a volte la fonte di dati \xe8 cambiata in modo significativo: ad esempio, i valori indice dall\'inizio della variabile asse possono essere stati rimossi (ad esempio, "10, 15, 20, 25" potrebbe essere diventato "20, 25, 30") . Se questo accade, \xe8 chiaro cheERDDAP\xab interpretazione della richiesta (ad esempio, " (20) " \xe8 l\'indice #2) \xe8 ora sbagliato. Quindi...ERDDAP\u2122getta un\'eccezione e chiama RequestReloadASAP.ERDDAP\u2122aggiorner\xe0 presto il dataset (spesso in pochi secondi, di solito entro un minuto) . Altri, problemi simili gettano anche l\'eccezione WaitThenTryAgain.'}),"\n",(0,o.jsx)(i.h4,{id:"requestreloadasap",children:"Richiesta di ricarica"}),"\n",(0,o.jsxs)(i.p,{children:["\xc8 possibile vedere RequestReloadASAP nel file log.txt subito dopo un messaggio di errore e spesso vicino a un",(0,o.jsx)(i.a,{href:"#waitthentryagain-exception",children:"AspettaThenTryAgain Eccezione"}),". \xc8 fondamentalmente un modo interno e programmatico perERDDAP\u2122per impostare un",(0,o.jsx)(i.a,{href:"#flag",children:"bandiera"}),"per segnalare che il dataset dovrebbe essere ricaricato al pi\xf9 presto.\n\xa0"]}),"\n",(0,o.jsx)(i.h3,{id:"files-not-being-deleted",children:"File non cancellati"}),"\n",(0,o.jsx)(i.p,{children:"Per alcuniERDDAP\u2122installazioni, c'\xe8 stato un problema con alcuni file temporanei creati daERDDAP\u2122soggiorno aperto (erroneamente) e quindi non essere cancellato. In alcuni casi, molti di questi file hanno accumulato e preso una quantit\xe0 significativa di spazio su disco."}),"\n",(0,o.jsx)(i.p,{children:"Speriamo che questi problemi siano risolti (comeERDDAP\u2122Voce principale:) . Se si vede questo problema, si prega di e-mail i nomi directory+ dei file offensivi a Chris. John a Noaa.gov. Hai alcune opzioni per affrontare il problema:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Se i file non sono grandi e non ti stanno causando di esaurire lo spazio su disco, puoi ignorare il problema."}),"\n",(0,o.jsx)(i.li,{children:"La soluzione pi\xf9 semplice \xe8 spegnere tomcat/ERDDAP\u2122  (dopo ore cos\xec meno utenti sono interessati) . Durante l'arresto, se il sistema operativo non cancella i file, cancellali a mano. Poi riavviareERDDAP.\n\xa0"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"json-ld",children:"JSON-ld"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:(0,o.jsx)(i.a,{href:"#json-ld",children:"Semantic Markup di Datasets con json-ld (JSON Dati collegati) "})}),(0,o.jsx)(i.br,{}),"\n","ERDDAP\u2122ora usi",(0,o.jsx)(i.a,{href:"https://json-ld.org",children:"json-ld (JSON Dati collegati) "}),"per rendere il vostro catalogo dati e set di dati parte del",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Semantic_Web",children:"web semantico"}),', che \xe8 l\'idea di Tim Berners-Lee di rendere pi\xf9 leggibile il contenuto del web e la macchina "sostenibile". Il contenuto json-ld utilizza',(0,o.jsx)(i.a,{href:"https://schema.org/",children:"schema.org"}),"termini e definizioni. Motori di ricerca (",(0,o.jsx)(i.a,{href:"https://developers.google.com/search/docs/data-types/datasets",children:"Google in particolare"}),") e altri strumenti semantici possono utilizzare questo markup strutturato per facilitare la scoperta e l'indicizzazione. Il marchio strutturato json-ld appare come invisibile-uomo<> codice sul ",(0,o.jsx)(i.a,{href:"https://.../erddap/info/index.html",children:"https://.../erddap/info/index.html"})," pagina web (che \xe8 un web semantico",(0,o.jsx)(i.a,{href:"https://schema.org/DataCatalog",children:"DataCatalog"}),") e su ciascuno ",(0,o.jsx)(i.a,{href:"https://.../erddap/info/",children:"https://.../erddap/info/"}),(0,o.jsx)(i.em,{children:"datasetID"}),"/index.html pagina web (che \xe8 un web semantico",(0,o.jsx)(i.a,{href:"https://schema.org/Dataset",children:"Dataset"}),") . (Un ringraziamento speciale a Adam Leadbetter e Rob Fuller dell'Istituto Marino in Irlanda per aver fatto le parti dure del lavoro per fare questa parte delERDDAP.)",(0,o.jsx)(i.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"out-of-date-urls",children:"URL Out-Of-Date"}),"\n",(0,o.jsx)(i.p,{children:"Lentamente ma certamente, gli URL che i fornitori di dati hanno scritto nei file di dati stanno diventando fuori-de-date (per esempio,httpdiventahttps, i siti web sono riorganizzati e le organizzazioni come NODC/NGDC/NCDC sono riorganizzate in NCEI) . I link rotti risultanti sono un problema sempre presente di fronte a tutti i siti web. Per affrontare questo,ERDDAP\u2122ora ha un sistema per aggiornare automaticamente gli URL out-of-date. Se Genera i dati Xml vede un URL aggiornato, aggiunge l'URL aggiornato a<addAttributes>. Inoltre, quando un dataset carica, seERDDAP\u2122vede un URL out-of-date, cambia silenziosamente l'URL aggiornato. Le modifiche sono controllate da una serie di coppie di ricerca-per/sostituzioni definite in<aggiornamento inERDDAP'\n\\[tomcat\\]/webapps/erddap/WEB-INF/classes/gov/noa/pfel/erddap/util/messages.xml file. Puoi cambiare. Se avete suggerimenti per le modifiche, o se pensate che questo dovrebbe essere trasformato in un servizio (come i Convertitori) Per favore, e-mail Chris. John a Noaa.gov.\n\xa0"}),"\n",(0,o.jsx)(i.h3,{id:"cors",children:"CORS"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["CORS (",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Cross-origin_resource_sharing",children:"Condivisione delle risorse"}),")",(0,o.jsx)(i.br,{}),"\n",'"\xe8 un meccanismo che permette risorse limitate (ad esempio font oERDDAP\u2122dati) su una pagina web da richiedere a un altro dominio al di fuori del dominio da cui \xe8 stata servita la prima risorsa" (Arun Ranganathan) . Fondamentalmente, CORS \xe8 un messaggio che pu\xf2 essere messo nell\'intestazione HTTP di una risposta, dicendo essenzialmente, "si sta bene con questo sito se alcuni altri siti (quelli specifici, o tutti) raccogliere risorse (ad esempio, dati) da questo sito e renderlo disponibile sul loro sito". Cos\xec, \xe8 un\'alternativa a',(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/JSONP",children:"JSONP"}),"."]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Gli sviluppatori diERDDAP\u2122non pretendono di essere esperti di sicurezza. Non siamo del tutto chiari circa le questioni di sicurezza relative a CORS. Non vogliamo fare alcuna dichiarazione che prometta un'azione che riduce la sicurezza. Quindi resteremo neutrali e lo lasceremo a ciascuno.ERDDAP\u2122admin per decidere se i vantaggi o l'attivazione di un intestazione CORS sono validi i rischi. Come sempre, se il tuoERDDAP\u2122ha qualsiasi dataset privato, \xe8 una buona idea essere molto attenti alla sicurezza."}),"\n",(0,o.jsxs)(i.p,{children:["Se vuoi abilitare CORS per il tuoERDDAP\u2122# Ci sono #",(0,o.jsx)(i.a,{href:"https://enable-cors.org/index.html",children:"istruzioni disponibili"}),"descrivendo come gli amministratori del sito possono abilitare un'intestazione CORS tramite il software server di livello inferiore (ad esempio, Apache o nginx) ."]}),"\n",(0,o.jsx)(i.h3,{id:"palettes",children:"Palette"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Le Palette sono utilizzate daERDDAP\u2122per convertire una gamma di valori di dati in una gamma di colori durante la fabbricazione di grafici e mappe."}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["Ogni tavolozza \xe8 definita in un file di tavolozza .cpt-style utilizzato da",(0,o.jsx)(i.a,{href:"https://www.soest.hawaii.edu/gmt/",children:"GMT"}),". TuttiERDDAP\u2122I file .cpt sono file GMT .cpt validi, ma il contrario non \xe8 vero. Per l'uso inERDDAP\u2122, i file .cpt hanno:"]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:'Linee di commenti opzionali all\'inizio del file, a partire da "#".'}),"\n",(0,o.jsx)(i.li,{children:"Una sezione principale con una descrizione dei segmenti della tavolozza, un segmento per linea. Ogni riga di descrizione del segmento ha 8 valori:\ninizio Valore, startRed, inizio Green, inizio Blue, endValue, endRed, endGreen, endBlue.\nPotrebbe esserci un numero qualsiasi di segmenti.ERDDAP\u2122utilizza l'interpolazione lineare tra startRed/Green/Blue e endRed/Green/Blue di ogni segmento."}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Consigliamo che ogni segmento specifichi un colore di inizio e fine che sono diversi, e che il colore di inizio di ogni segmento sia lo stesso del colore finale del segmento precedente, in modo che la tavolozza descrive una miscela continua di colori.ERDDAP\u2122ha un sistema per creare on-the-fly una tavolozza di colori discreti da una tavolozza con una miscela continua di colori. AnERDDAP\u2122l'utente pu\xf2 specificare se desidera che la tavolozza sia continua (l'originale) o Discrete (derivato dall'originale) . Ma ci sono motivi legittimi per non seguire queste raccomandazioni per alcune tavolozze."}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Il valore di partenza e la fineValore devono essere interi.\nIl primo segmento deve avere inizioValue=0 e endValue=1.\nIl secondo segmento deve avere inizioValue=1 e fineValue=2.\nEtc."}),"\n",(0,o.jsx)(i.li,{children:"I valori rossi, verdi e blu devono essere interi da 0 (nessuno) ... 255 (pieno su) ."}),"\n",(0,o.jsxs)(i.li,{children:["La fine del file deve avere 3 linee con:","\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsx)(i.li,{children:"Colore rgb di sfondo per valori di dati inferiori al minimo della barra di colore, ad esempio: B 128 128 128\n\xc8 spesso il startRed, startGreen, e startBlue del primo segmento."}),"\n",(0,o.jsx)(i.li,{children:"Colore rgb di primo piano per valori di dati pi\xf9 del massimo della barra di colore, ad esempio: F 128 0 0\n\xc8 spesso il endRed, endGreen e endBlue dell'ultimo segmento."}),"\n",(0,o.jsx)(i.li,{children:"Un colore rgb per i valori di dati NaN, ad esempio, N 128 128 128\n\xc8 spesso grigio medio (128) ."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.li,{children:"I valori su ogni linea devono essere separati da schede, senza spazi estranei."}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Un file campione .cpt \xe8 BlueWhiteRed.cpt:"}),"\n",(0,o.jsx)(i.h1,{id:"qui-bluewhiteredcpt",children:"Qui BlueWhiteRed.cpt."}),"\n",(0,o.jsx)(i.p,{children:"0 0 0 128 0 0 255\n1 0 0 255 2 0 255 255\n2 0 255 255 3 255 255 255 255\n3 255 255 255 4 255 255 255 0\n4 255 255 0 5 255 0 0\n5 255 0 0 6 128 0\n0 0 128\nF 128 0 0\nN 128 128 128"}),"\n",(0,o.jsx)(i.p,{children:"Vedere i file .cpt esistenti per altri esempi. Se c'\xe8 problema con un file .cpt,ERDDAP\u2122probabilmente getter\xe0 un errore quando il file .cpt \xe8 parsed (che \xe8 meglio che abusare delle informazioni) ."}),"\n",(0,o.jsxs)(i.p,{children:["\xc8 possibile aggiungere ulteriori tavolozze aERDDAP. Potete renderli voi stessi o trovarli sul web (per esempio, a",(0,o.jsx)(i.a,{href:"http://soliton.vm.bytemark.co.uk/pub/cpt-city/",children:"cpt-city"}),") anche se probabilmente dovrete modificare il loro formato leggermente per conformarsi aERDDAPI requisiti del .cpt. #ERDDAP\u2122per utilizzare un nuovo file .cpt, memorizzare il file in ",(0,o.jsx)(i.em,{children:"tomcat"})," /webapps/erddap/WEB-INF/cptfiles (Dovrai farlo per ogni nuova versione diERDDAP) ed entrambi:"]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Se si utilizza il file predefinito.xml: aggiungere il nome del file al<> tag in\n",(0,o.jsx)(i.em,{children:"tomcat"})," /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml.\nSe lo fai, devi farlo ogni volta che si aggiornaERDDAP."]}),"\n",(0,o.jsxs)(i.li,{children:["Se si utilizza un file message.xml personalizzato: aggiungere il nome del file al<tag di tavolozza > nel file di messaggi personalizzati.xml: ",(0,o.jsx)(i.em,{children:"tomcat"})," /content/erddap/messages.xml . Se lo fai, devi farlo solo una volta. (ma c'\xe8 un altro lavoro per mantenere un file Messaggi personalizzati.xml) ."]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Poi riavviareERDDAP\u2122Cos\xecERDDAP\u2122nota le modifiche. Un vantaggio di questo approccio \xe8 che \xe8 possibile specificare l'ordine delle palette nell'elenco presentato agli utenti. Se aggiungi una collezione, ti invitiamo ad aggiungere un prefisso con le iniziali degli autori (ad esempio, \"KT\\_\") al nome di ogni tavolozza per identificare la collezione e in modo che ci possano essere pi\xf9 tavolozze che altrimenti avrebbero lo stesso nome."}),"\n",(0,o.jsx)(i.p,{children:"Non rimuovere o modificare nessuna delle palette standard. Sono una caratteristica standard di tuttiERDDAP\u2122impianti. Se si pensa che una tavolozza o una raccolta di tavolozze dovrebbe essere inclusa nella normaERDDAP\u2122distribuzione perch\xe9 sarebbe di uso generale, si prega di e-mail a Chris. John a Noaa.gov."}),"\n",(0,o.jsx)(i.h3,{id:"colorbars",children:"Barra di colore"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:(0,o.jsx)(i.strong,{children:"Come funzionaERDDAP\u2122generare i colori in una barra di colore?"})}),"\n"]}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["L'utente seleziona uno dei predefiniti",(0,o.jsx)(i.a,{href:"#palettes",children:"tavolozza"}),"o utilizza il default, ad esempio, Rainbow. Le Palette vengono memorizzate/definite nei file Tabella .cpt Color Palette in stile GMT. Ciascuno diERDDAP's palette predefinite ha una semplice gamma di interi, ad esempio, da 0 a 1 (se c'\xe8 solo una sezione nella tavolozza) 0 a 4 (se ci sono quattro sezioni nella tavolozza) . Ogni segmento del file copre n a n+1, a partire da n=0."]}),"\n",(0,o.jsx)(i.li,{children:"ERDDAP\u2122genera un nuovo file .cpt on-the-fly, scalando la gamma della tavolozza predefinita (ad esempio, da 0 a 4) alla gamma della tavolozza necessaria dall'utente (ad esempio, da 0,1 a 50) e poi generare una sezione nella nuova tavolozza per ogni sezione della nuova tavolozza (ad esempio, una scala di log con zecche a 0.1, 0.5, 1, 5, 10, 50 avr\xe0 5 sezioni) . Il colore per il punto finale di ogni sezione \xe8 generato trovando la sezione relativa della tavolozza nel file .cpt, quindi interpolando linearmente i valori R, G e B. (Questo \xe8 lo stesso come il modo in cui GMT genera colori dai suoi file Tabella di colore Palette.) Questo sistema permetteERDDAP\u2122per iniziare con le palette generiche (ad esempio, Arcobaleno con 8 segmenti, in totale da 0 a 8) e creare palette personalizzate on-the-fly (ad esempio, un arcobaleno personalizzato, che mappa da 0,1 a 50 mg/L ai colori arcobaleno) ."}),"\n",(0,o.jsx)(i.li,{children:"ERDDAP\u2122quindi utilizza quel nuovo file .cpt per generare il colore per ogni pixel colorato diverso nella barra dei colori (e pi\xf9 tardi per ogni punto di dati quando si tracciano dati su un grafico o una mappa) , nuovamente trovando la sezione relativa della tavolozza nel file .cpt, quindi interpolando linearmente i valori R, G e B."}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Questo processo pu\xf2 sembrare inutilmente complicato. Ma risolve i problemi relativi alle scale di registro che sono difficili da risolvere altri modi."}),"\n",(0,o.jsxs)(i.p,{children:["Cos\xec come si pu\xf2 imitare ci\xf2ERDDAP\u2122Sta facendo? Non e' facile. Fondamentalmente \xe8 necessario duplicare il processo cheERDDAP\u2122sta usando. Se sei unJavaprogrammatore, \xe8 possibile utilizzare lo stessoJavaclasse cheERDDAP\u2122utilizza per fare tutto questo:\n",(0,o.jsx)(i.em,{children:"tomcat"})," /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/coastwatch/sgt/CompoundColorMap.java."]}),"\n",(0,o.jsx)(i.h3,{id:"guidelines-for-data-distribution-systems",children:"Linee guida per i sistemi di distribuzione dei dati"}),"\n",(0,o.jsxs)(i.p,{children:["Si possono trovare opinioni pi\xf9 generali sulla progettazione e la valutazione dei sistemi di distribuzione dei dati",(0,o.jsx)(i.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/images/erddapTalk/erdData.html",children:"Qui"}),".\n\xa0"]}),"\n",(0,o.jsx)(i.h3,{id:"archiveadataset",children:"ArchivioAzione"}),"\n",(0,o.jsxs)(i.p,{children:["Incluso nel tuoERDDAP\u2122installazione \xe8 uno strumento di riga di comando chiamato ArchiveADataset che pu\xf2 aiutarti a creare un archivio (a.zipo.tar.gzfile) con parte o tutti i dati memorizzati in una serie di netcdf-3.ncfile di dati in un formato di file adatto per la presentazione aNOAAArchivio NCEI (.ncper set di dati grigliati o",(0,o.jsx)(i.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#ncCFMA",children:".ncCFMA"}),"per set di dati tabulari, come specificato dal",(0,o.jsx)(i.a,{href:"https://www.ncei.noaa.gov/data/oceans/ncei/formats/netcdf/v2.0/index.html",children:"NCEINetCDFModelli v2.0"}),") ."]}),"\n",(0,o.jsx)(i.p,{children:"Archivio Dataset pu\xf2 fare due diversi formati di archivio:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:['Il formato "originale" segue questi',(0,o.jsx)(i.a,{href:"https://www.ncdc.noaa.gov/atrac/guidelines.html",children:"Linee guida NCEI Archiviato"}),"Questa guida per",(0,o.jsx)(i.a,{href:"https://sites.google.com/a/noaa.gov/ncei-ioos-archive/cookbook?pli=1",children:"Archiviazione dei tuoi dati a NCEI"}),", e i relativi",(0,o.jsx)(i.a,{href:"https://sites.google.com/a/noaa.gov/ncei-ioos-archive/cookbook/data-integrity",children:"Pratiche per assicurare l'integrit\xe0 dei dati"}),"."]}),"\n",(0,o.jsxs)(i.li,{children:['Il formato "BagIt" rende',(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/BagIt",children:"File BagIt"}),", un formato di archivio standardizzato promosso dalla Biblioteca del Congresso degli Stati Uniti, come specificato dalla",(0,o.jsx)(i.a,{href:"https://tools.ietf.org/html/draft-kunze-bagit-14",children:"Specifiche BagIt v0.97"}),".NOAA's NCEI pu\xf2 standardizzare sui file BagIt per le presentazioni all'archivio."]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["Non sorprendentemente, il",(0,o.jsx)(i.a,{href:"/docs/server-admin/datasets#global-attributes",children:"metadati globali e variabili"}),"cheERDDAP\u2122incoraggia / richiede \xe8 quasi esattamente lo stesso in-file CF e ACDD metadati che NCEI incoraggia / richiede, quindi tutti i tuoi set di dati dovrebbero essere pronti per la presentazione a NCEI via",(0,o.jsx)(i.a,{href:"https://www.nodc.noaa.gov/s2n/",children:"Inviato"}),"o",(0,o.jsx)(i.a,{href:"https://www.ncdc.noaa.gov/atrac/index.html",children:"ATRAC"}),"  (Strumento di monitoraggio e risorse avanzate di NCEI per le collezioni di archivi) ."]}),"\n",(0,o.jsx)(i.p,{children:"Se tu fossi (ilERDDAP\u2122amministratore) utilizzare ArchiveADataset per inviare i dati a NCEI, quindi (NCEI) determiner\xe0 quando inviare un pezzo di dati a NCEI e che cosa sar\xe0 quel pezzo, perch\xe9 saprete quando ci sono nuovi dati e come specificare che chunk (e NCEI non lo far\xe0) . Cos\xec, ArchiveADataset \xe8 uno strumento da utilizzare per creare un pacchetto da inviare a NCEI."}),"\n",(0,o.jsxs)(i.p,{children:["Archivio Dataset pu\xf2 essere utile in altre situazioni, ad esempio, perERDDAP\u2122amministratori che devono convertire un sottoinsieme di un set di dati (su un privatoERDDAP) dal suo formato di file nativo in un insieme di",(0,o.jsx)(i.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#ncCFMA",children:".ncFile CF"}),", in modo che un pubblicoERDDAP\u2122pu\xf2 servire i dati dal.ncFile CF invece dei file originali."]}),"\n",(0,o.jsxs)(i.p,{children:["Una volta che hai impostatoERDDAP\u2122e correte (almeno una volta) , \xe8 possibile trovare e utilizzare ArchiveADataset ",(0,o.jsx)(i.em,{children:"tomcat"})," /webapps/erddap/WEB-INF directory. C'\xe8 uno script di shell (ArchivioADataset.sh) per Linux/Unix e un file batch (ArchivioADataset.bat) per Windows."]}),"\n",(0,o.jsx)(i.p,{children:"Su Windows, la prima volta che esegue ArchiveADataset, \xe8 necessario modificare ArchiveADataset. bat file con un editor di testo per cambiare il percorso alla java. exe file in modo che Windows possa trovareJava."}),"\n",(0,o.jsx)(i.p,{children:"Quando si esegue ArchiveADataset, ti far\xe0 una serie di domande. Per ogni domanda, digitare una risposta, quindi premere Invio. Oppure premere ^C per uscire da un programma in qualsiasi momento."}),"\n",(0,o.jsx)(i.p,{children:"Oppure, puoi mettere le risposte alle domande, in ordine, sulla riga di comando. Per fare questo, eseguire il programma una volta e digitare e scrivere le risposte. Poi, \xe8 possibile creare una singola riga di comando (con le risposte come parametri) che gestisce il programma e risponde a tutte le domande.\nUtilizzare la parola predefinita se si desidera utilizzare il valore predefinito per un dato parametro.\nUtilizzare \" (due doppie citazioni) come segnaposto per una stringa vuota.\nSpecificare i parametri sulla riga di comando pu\xf2 essere molto conveniente, ad esempio, se si utilizza ArchiveADataset una volta al mese per archiviare il valore di un mese di dati. Una volta generata la riga di comando con parametri e salvata che nelle note o in uno script di shell, \xe8 sufficiente fare piccole modifiche ogni mese per fare l'archivio di quel mese."}),"\n",(0,o.jsx)(i.p,{children:"Le domande che ArchiveADataset pone ti permettono di:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Specificare l'imballaggio originale o Bagit. Per NCEI, usare Bagit."}),"\n",(0,o.jsx)(i.li,{children:"Specificare zip o catrame.gzcompressione per il pacchetto. Per NCEI, utilizzare il catrame.gz."}),"\n",(0,o.jsx)(i.li,{children:"Specificare un indirizzo email di contatto per questo archivio (sar\xe0 scritto nel file READ\\_ME.txt nell'archivio) ."}),"\n",(0,o.jsx)(i.li,{children:"SpecificaredatasetIDdel dataset che si desidera archiviare."}),"\n",(0,o.jsx)(i.li,{children:"Specificare quali variabili di dati si desidera archiviare (di solito tutti) ."}),"\n",(0,o.jsxs)(i.li,{children:["Specificare quale sottoinsieme del dataset che si desidera archiviare. \xc8 necessario formattare il sottoinsieme nello stesso modo in cui si formatta un sottoinsieme per una richiesta di dati, quindi sar\xe0 diverso per griglie che per set di dati tabulari.","\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Per i set di dati grigliati, \xe8 possibile specificare un intervallo di valori della dimensione pi\xf9 sinistra, di solito che \xe8 un intervallo di tempo. ArchiveADataset far\xe0 una richiesta separata e generer\xe0 un file di dati separato per ogni valore nell'intervallo di valori. Dal momento che i dataset grigliati sono di solito grandi, sar\xe0 quasi sempre necessario specificare un piccolo sottoinsieme rispetto alla dimensione dell'intero dataset.\nPer esempio,\\[ (2015-12-01) : (2015-12-31) \\]\\[\\]\\[\\]\\[\\]"}),"\n",(0,o.jsx)(i.li,{children:"Per i set di dati tabulari, \xe8 possibile specificare qualsiasi raccolta di vincoli, ma \xe8 spesso un intervallo di tempo. Poich\xe9 i set di dati tabulari sono di solito piccoli, \xe8 spesso possibile specificare nessun vincolo, in modo che l'intero set di dati sia archiviato.\nAd esempio, &time>=2015-12-01&time<2016-01-01"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["Per i set di dati tabulari: specificare un elenco separato da virgola di 0 o pi\xf9 variabili che determineranno come i dati archiviati siano ulteriormente sottosette in diversi file di dati. Per set di dati che hanno\n",(0,o.jsx)(i.a,{href:"/docs/server-admin/datasets#cdm_data_type",children:"cdm\\_data\\_type"}),"Traduzione:|TimeSeriesProfile|Traiettoria|TraiettoriaProfilo\nsi dovrebbe quasi sempre specificare la variabile che ha la serie cf\\_role=time\\_id (ad esempio,stationID) o cf\\_role=trajectory\\_id attributo. ArchiveADataset far\xe0 una richiesta separata e generer\xe0 un file di dati separato per ogni combinazione dei valori di queste variabili, ad esempio, per ognistationID.\nPer tutti gli altri set di dati tabulari, probabilmente non specificare alcuna variabile per questo scopo.\nAttenzione: Se il sottoinsieme del dataset di archiviazione \xe8 molto grande (>2GB) e non c'\xe8 una variabile adatta a questo scopo, quindi ArchiveADataset non \xe8 utilizzabile con questo dataset. Dovrebbe essere raro."]}),"\n",(0,o.jsxs)(i.li,{children:["Specificare il formato di file per i file di dati che verranno creati.\nPer i set di dati grigliati, per NCEI, utilizzare.nc.\nPer set di dati tabulari, per NCEI, utilizzare",(0,o.jsx)(i.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#ncCFMA",children:".ncCFMA"}),"se \xe8 un'opzione; altrimenti.nc."]}),"\n",(0,o.jsxs)(i.li,{children:["Specificare il tipo di file digest da creare per ogni file di dati e per l'intero pacchetto di archivio: MD5, SHA-1, o SHA-256. Il file digest fornisce un modo per il cliente (ad esempio, NCEI) per verificare se il file di dati \xe8 diventato danneggiato. Tradizionalmente, questi erano",(0,o.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/MD5",children:".md5 file"}),", ma ora ci sono opzioni migliori. Per NCEI, utilizzare SHA-256 ."]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Dopo aver risposto a tutte le domande, ArchiveADataset:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Effettuare una serie di richieste al dataset e mettere in scena i file di dati risultante in ",(0,o.jsx)(i.em,{children:"BigParentDirectory"})," Traduzione: ",(0,o.jsx)(i.em,{children:"datasetID\\"})," /.\nPer i set di dati grigliati, ci sar\xe0 un file per ogni valore della dimensione pi\xf9 sinistra (ad esempio, il tempo) . Il nome del file sar\xe0 quel valore (ad esempio, il valore del tempo) .\nPer i set di dati tabulari, ci sar\xe0 un file per ogni valore della variabile ... (#) . Il nome del file sar\xe0 quel valore. Se c'\xe8 pi\xf9 di una variabile, le variabili di sinistra saranno utilizzate per fare nomi sottodirectory, e la variabile pi\xf9 destra sar\xe0 utilizzata per fare i nomi dei file.\nOgni file di dati deve essere<2 GB (il massimo consentito da.ncversione 3 file) ."]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"Fare un file relativo a ogni file di dati con il digerimento del file di dati. Ad esempio, se il file di dati \xe8 46088.nce il tipo digerente \xe8 .sha256, quindi il file digerente avr\xe0 il nome 46088.nc.sha256 ."}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:"Fare un file READ\\_ME.txt con informazioni sull'archivio, tra cui un elenco di tutte le impostazioni specificate per generare questo archivio."}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Rendere 3 file in ",(0,o.jsx)(i.em,{children:"BigParentDirectory"})," L'articolo 4, paragrafo 2, del regolamento (CEE) n."]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["A.zipo.tar.gzfile archivio chiamato ",(0,o.jsx)(i.em,{children:"datasetID\\"})," .zip  (o.tar.gz) contenente tutti i file dati in fase e digerire i file. Questo file pu\xf2 essere qualsiasi dimensione, limitata solo da spazio su disco."]}),"\n",(0,o.jsxs)(i.li,{children:["Un file digerente per il file di archivio, per esempio, ",(0,o.jsx)(i.em,{children:"datasetID\\"})," .zip.sha256.txt"]}),"\n",(0,o.jsxs)(i.li,{children:['Per il tipo di archivio "originale", un file di testo chiamato ',(0,o.jsx)(i.em,{children:"datasetID\\"})," .zip.listOfFiles.txt (o.tar.gz) che elenca tutti i file nel.zip  (o.tar.gz) file."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["Se si sta preparando l'archivio per NCEI, questi sono i file che invier\xe0 a NCEI, forse via",(0,o.jsx)(i.a,{href:"https://www.nodc.noaa.gov/s2n/",children:"Inviato"}),"o",(0,o.jsx)(i.a,{href:"https://www.ncdc.noaa.gov/atrac/index.html",children:"ATRAC"}),"  (Strumento di monitoraggio e risorse avanzate di NCEI per le collezioni di archivi) .\n5. Elimina tutti i file in fase in modo che solo il file di archivio (ad esempio,.zip) , il digerimento (ad esempio, .sha256.txt) dell'archivio, e (facoltativamente) i file .listOfFiles.txt rimangono."]}),"\n",(0,o.jsx)(i.h4,{id:"iso-19115-xml-metadata-files",children:"ISO 19115 .xml File dei metadati"}),"\n",(0,o.jsx)(i.p,{children:"Il pacchetto di archivio ArchiveADataset non include il file di metadati ISO 19115 .xml per il dataset. Se si desidera / bisogno di inviare un file ISO 19115 per il dataset a NCEI, \xe8 possibile inviare loro il file di metadati ISO 19115 .xml cheERDDAP\u2122creato per il dataset (maNMFSpersone dovrebbero ottenere il file ISO 19115 per i loro dataset da InPort seERDDAP\u2122non serve gi\xe0 quel file) ."}),"\n",(0,o.jsxs)(i.p,{children:["Problemi? Suggerimenti? ArchiveADataset \xe8 nuovo. Se avete problemi o suggerimenti, Vedere il nostro",(0,o.jsx)(i.a,{href:"/docs/intro#support",children:"sezione per ottenere supporto aggiuntivo"}),".\n\xa0"]})]})}function u(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},28453:(e,i,a)=>{a.d(i,{R:()=>r,x:()=>s});var n=a(96540);const o={},t=n.createContext(o);function r(e){const i=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function s(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),n.createElement(t.Provider,{value:i},e.children)}}}]);