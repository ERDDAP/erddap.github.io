"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[2030],{25522:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/sampleExcel-2977fc8462eae4aea3fa1d79a3364766.png"},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>l});var s=n(96540);const a={},i=s.createContext(a);function r(e){const t=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(i.Provider,{value:t},e.children)}},61325:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"user/nccsv-1.20","title":"NCCSV 1.20","description":"A NetCDF-Compatible, UTF-8, CSV File Specification,","source":"@site/docs/user/nccsv-1.20.md","sourceDirName":"user","slug":"/user/nccsv-1.20","permalink":"/docs/user/nccsv-1.20","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/user/nccsv-1.20.md","tags":[],"version":"current","frontMatter":{"title":"NCCSV 1.20"},"sidebar":"docSidebar","previous":{"title":"NCCSV 1.10","permalink":"/docs/user/nccsv-1.10"}}');var a=n(74848),i=n(28453);const r={title:"NCCSV 1.20"},l="NCCSV -",o={},h=[{value:"Introduction",id:"introduction",level:2},{value:"Streamable",id:"streamable",level:3},{value:"ERDDAP",id:"erddap",level:3},{value:"Balance",id:"balance",level:3},{value:"Other Specifications",id:"other-specifications",level:3},{value:"Notation",id:"notation",level:3},{value:"File Structure",id:"file-structure",level:2},{value:".nccsvMetadata",id:"nccsvmetadata",level:3},{value:"The Metadata Section",id:"the-metadata-section",level:2},{value:"Conventions",id:"conventions",level:3},{value:"End Metadata",id:"end-metadata",level:3},{value:"variableName",id:"variablename",level:3},{value:"GLOBAL",id:"global",level:4},{value:"attributeName",id:"attributename",level:3},{value:"SCALAR",id:"scalar",level:4},{value:"value",id:"value",level:3},{value:"byte",id:"byte",level:4},{value:"ubyte",id:"ubyte",level:4},{value:"short",id:"short",level:4},{value:"ushort",id:"ushort",level:4},{value:"byte",id:"byte-1",level:4},{value:"uint",id:"uint",level:4},{value:"long",id:"long",level:4},{value:"ulong",id:"ulong",level:4},{value:"float",id:"float",level:4},{value:"double",id:"double",level:4},{value:"String",id:"string",level:4},{value:"uhhhh",id:"uhhhh",level:5},{value:"char",id:"char",level:4},{value:"Suffix",id:"suffix",level:3},{value:"Data Type",id:"data-type",level:3},{value:"Char Discouraged",id:"char-discouraged",level:3},{value:"Long and Unsigned Discouraged",id:"long-and-unsigned-discouraged",level:3},{value:"CF, ACDD, and ERDDAP\u2122 Metadata",id:"cf-acdd-and-erddap-metadata",level:3},{value:"The Data Section",id:"the-data-section",level:2},{value:"Structure",id:"structure",level:3},{value:"End Data",id:"end-data",level:4},{value:"Missing Values",id:"missing-values",level:3},{value:"DateTime Values",id:"datetime-values",level:3},{value:"Precision",id:"precision",level:4},{value:"Time Zone",id:"time-zone",level:4},{value:"Degree Values",id:"degree-values",level:3},{value:"DSG Feature Types",id:"dsg-feature-types",level:2},{value:"Sample File",id:"sample-file",level:2},{value:"Spreadsheets",id:"spreadsheets",level:2},{value:"Excel",id:"excel",level:3},{value:"Google Sheets",id:"google-sheets",level:3},{value:"Problems/Warnings",id:"problemswarnings",level:2},{value:"Changes",id:"changes",level:2}];function d(e){const t={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"nccsv--",children:"NCCSV -"})}),"\n",(0,a.jsxs)(t.p,{children:["A NetCDF-Compatible, UTF-8, CSV File Specification,",(0,a.jsx)(t.br,{}),"\n","Version 1.20"]}),"\n",(0,a.jsxs)(t.p,{children:["Bob Simons and Steve Hankin",(0,a.jsx)(t.br,{}),"\n",'"NCCSV" by Bob Simons and Steve Hankin is licensed under ',(0,a.jsx)(t.a,{href:"https://creativecommons.org/licenses/by/4.0/",children:"CC BY 4.0"})]}),"\n",(0,a.jsx)(t.h2,{id:"introduction",children:(0,a.jsx)(t.a,{href:"#introduction",children:"Introduction"})}),"\n",(0,a.jsxs)(t.p,{children:["This document specifies a UTF-8 CSV text file format that can contain all of the information (metadata and data) that can be found in a NetCDF .nc file that contains a CSV-file-like table of data. The file extension for a UTF-8 CSV text file following this specification must be .csv so that it can be read easily and correctly into spreadsheet programs like Excel and Google Sheets. Bob Simons will write software to convert an NCCSV file into a NetCDF-3 (and perhaps also a NetCDF-4) .nc file, and the reverse, with no loss of information. Bob Simons has modified ",(0,a.jsx)(t.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/index.html",children:"ERDDAP\u2122"})," to support reading and writing this type of file."]}),"\n",(0,a.jsx)(t.p,{children:"The NCCSV format is designed so that spreadsheet software such as Excel and Google Sheets can import an NCCSV file as a csv file, with all of the information in the spreadsheet's cells ready for editing. Or, a spreadsheet can be created from scratch following the NCCSV conventions. Regardless of the source of the spreadsheet, if it is then exported as a .csv file, it will conform to the NCCSV specification and no information will be lost. The only differences between NCCSV files and the analogous spreadsheet files which follow these conventions are:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["NCCSV files have values on a line separated by commas.",(0,a.jsx)(t.br,{}),"\n","Spreadsheets have values on a line in adjacent cells."]}),"\n",(0,a.jsxs)(t.li,{children:["Strings in NCCSV files are often surrounded by double quotes.",(0,a.jsx)(t.br,{}),"\n","Strings in spreadsheets are never surrounded by double quotes."]}),"\n",(0,a.jsxs)(t.li,{children:['Internal double quotes ( " ) in Strings in NCCSV files appear as 2 double quotes.',(0,a.jsx)(t.br,{}),"\n","Internal double quotes in spreadsheets appear as 1 double quote."]}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:["See the ",(0,a.jsx)(t.a,{href:"#spreadsheets",children:"Spreadsheet"})," section below for more information."]}),"\n",(0,a.jsx)(t.h3,{id:"streamable",children:"Streamable"}),"\n",(0,a.jsxs)(t.p,{children:["Like CSV files in general, NCCSV files are streamable. Thus, if an NCSV is generated on-the-fly by a data server such as ",(0,a.jsx)(t.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/index.html",children:"ERDDAP\u2122"}),", the server can start to stream data to the requester before all of the data has been gathered. This is a useful and desirable feature. NetCDF files, by contrast, are not streamable."]}),"\n",(0,a.jsx)(t.h3,{id:"erddap",children:"ERDDAP"}),"\n",(0,a.jsxs)(t.p,{children:["This specification is designed so that NCCSV files and the .nc files that can be created from them can be used by an ",(0,a.jsx)(t.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/index.html",children:"ERDDAP\u2122 data server"})," (via the ",(0,a.jsx)(t.a,{href:"/docs/server-admin/datasets#eddtablefromnccsvfiles",children:"EDDTableFromNccsvFiles"})," and ",(0,a.jsx)(t.a,{href:"/docs/server-admin/datasets#eddtablefromncfiles",children:"EDDTableFromNcFiles"})," dataset types), but this specification is external to ERDDAP. ERDDAP\u2122 has several required global attributes and many recommended global and variable attributes, mostly based on CF and ACDD attributes (see",(0,a.jsx)(t.br,{}),"\n",(0,a.jsx)(t.a,{href:"/docs/server-admin/datasets#global-attributes",children:"/docs/server-admin/datasets#global-attributes"}),")."]}),"\n",(0,a.jsx)(t.h3,{id:"balance",children:"Balance"}),"\n",(0,a.jsx)(t.p,{children:"The design of the NCCSV format is a balance of several requirements:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"The files must contain all of the data and metadata that would be in a tabular NetCDF file, including specific data types."}),"\n",(0,a.jsx)(t.li,{children:"The files must be able to be read into and then written out of a spreadsheet with no loss of information."}),"\n",(0,a.jsx)(t.li,{children:"The files must be easy for humans to create, edit, read, and understand."}),"\n",(0,a.jsx)(t.li,{children:"The files must be able to be unambiguously parsed by computer programs."}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"If some requirement in this document seems odd or picky, it is probably needed to meet one of these requirements."}),"\n",(0,a.jsx)(t.h3,{id:"other-specifications",children:"Other Specifications"}),"\n",(0,a.jsx)(t.p,{children:"This specification refers to several other specifications and libraries that it is designed to work with, but this specification is not a part of any of those other specifications, nor does it need any changes to them, nor does it conflict with them. If a detail related to one of these standards is not specified here, see the related specification. Notably, this includes:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["The Attribute Convention for Dataset Discovery (ACDD) metadata standard:",(0,a.jsx)(t.br,{}),"\n",(0,a.jsx)(t.a,{href:"https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3",children:"https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3"})," ."]}),"\n",(0,a.jsxs)(t.li,{children:["The Climate and Forecast (CF) metadata standard:",(0,a.jsx)(t.br,{}),"\n",(0,a.jsx)(t.a,{href:"https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html",children:"https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html"})," ."]}),"\n",(0,a.jsxs)(t.li,{children:["The NetCDF User Guide (NUG):",(0,a.jsx)(t.br,{}),"\n",(0,a.jsx)(t.a,{href:"https://docs.unidata.ucar.edu/netcdf-java/current/userguide/index.html",children:"https:///docs.unidata.ucar.edu/netcdf-java/current/userguide/index.html"})," ."]}),"\n",(0,a.jsxs)(t.li,{children:["The NetCDF software libraries like NetCDF-java and NetCDF-c:",(0,a.jsx)(t.br,{}),"\n",(0,a.jsx)(t.a,{href:"https://www.unidata.ucar.edu/software/netcdf/",children:"https://www.unidata.ucar.edu/software/netcdf/"})," . These libraries cannot read NCCSV files, but they can read .nc files created from NCCSV files."]}),"\n",(0,a.jsxs)(t.li,{children:["JSON: ",(0,a.jsx)(t.a,{href:"https://www.json.org/",children:"https://www.json.org/"})]}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"notation",children:"Notation"}),"\n",(0,a.jsx)(t.p,{children:"In this specification, brackets, [ ], denote optional items."}),"\n",(0,a.jsx)(t.h2,{id:"file-structure",children:(0,a.jsx)(t.a,{href:"#file-structure",children:"File Structure"})}),"\n",(0,a.jsx)(t.p,{children:"A complete NCCSV file consists of two sections: the metadata section, followed by the data section."}),"\n",(0,a.jsx)(t.p,{children:"NCCSV files may contain any UCS-2 characters (i.e., 2-byte Unicode characters, as in Java) encoded via UTF-8. ERDDAP\u2122 reads and writes NCCSV files using the UTF-8 encoding."}),"\n",(0,a.jsx)(t.p,{children:"NCCSV files may use either newline (\\n) (which is common on Linux and Mac OS X computers) or carriageReturn plus newline (\\r\\n) (which is common on Windows computers) as end-of-line markers, but not both."}),"\n",(0,a.jsx)(t.h3,{id:"nccsvmetadata",children:".nccsvMetadata"}),"\n",(0,a.jsx)(t.p,{children:"When both the creator and the reader are expecting it, it is also possible and sometimes useful to make a variant of an NCCSV file which contains just the metadata section (including the *END_METADATA* line). The result provides a complete description of the file's attributes, variable names, and data types, thus serving the same purpose as the .das plus .dds responses from an OPeNDAP server. ERDDAP\u2122 will return this variation if you request fileType=.nccsvMetadata from an ERDDAP\u2122 dataset."}),"\n",(0,a.jsx)(t.h2,{id:"the-metadata-section",children:(0,a.jsx)(t.a,{href:"#the-metadata-section",children:"The Metadata Section"})}),"\n",(0,a.jsxs)(t.p,{children:["In an NCCSV file, each line of the metadata section uses the format",(0,a.jsx)(t.br,{}),"\n",(0,a.jsx)(t.a,{href:"#variablename",children:"variableName"}),",",(0,a.jsx)(t.a,{href:"#attributename",children:"attributeName"}),",",(0,a.jsx)(t.a,{href:"#value",children:"value1"}),"[,value2][,value3][,value4][...]",(0,a.jsx)(t.br,{}),"\n","Spaces before or after items are not allowed because they cause problems when importing the file into spreadsheet programs."]}),"\n",(0,a.jsx)(t.h3,{id:"conventions",children:"Conventions"}),"\n",(0,a.jsxs)(t.p,{children:["The first line of an NCCSV file is the first line of the metadata section and must have a ",(0,a.jsx)(t.a,{href:"#global",children:"*GLOBAL*"})," Conventions attribute listing all of the conventions used in the file as a String containing a CSV list, for example:",(0,a.jsx)(t.br,{}),"\n",'*GLOBAL*,Conventions,"COARDS, CF-1.6, ACDD-1.3, NCCSV-1.2"',(0,a.jsx)(t.br,{}),"\n","One of the conventions listed must be NCCSV-1.2, which refers to the current version of this specification."]}),"\n",(0,a.jsx)(t.h3,{id:"end-metadata",children:"End Metadata"}),"\n",(0,a.jsxs)(t.p,{children:["The end of the metadata section of an NCCSV file must be denoted by a line with only",(0,a.jsx)(t.br,{}),"\n","*END_METADATA*"]}),"\n",(0,a.jsx)(t.p,{children:"It is recommended but not required that all of the attributes for a given variable appear on adjacent lines of the metadata section. If an NCCSV file is converted into a NetCDF file, the order that the variableNames first appear in the metadata section will be the order of the variables in the NetCDF file."}),"\n",(0,a.jsxs)(t.p,{children:["Optional blank lines are allowed in the metadata section after the required first line with ",(0,a.jsx)(t.a,{href:"#global",children:"*GLOBAL*"})," ",(0,a.jsx)(t.a,{href:"#conventions",children:"Conventions"})," information (see below) and before the required last line with *END_METADATA*."]}),"\n",(0,a.jsx)(t.p,{children:"If a spreadsheet is created from an NCCSV file, the metadata data section will appear with variable names in column A, attribute names in column B, and values in column C."}),"\n",(0,a.jsx)(t.p,{children:"If a spreadsheet following these conventions is saved as a CSV file, there will often be extra commas at the end of the lines in the metadata section. The software that converts NCCSV files into .nc files will ignore the extra commas."}),"\n",(0,a.jsx)(t.h3,{id:"variablename",children:(0,a.jsx)(t.a,{href:"#variablename",children:"variableName"})}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.em,{children:"variableName"})," is the case-sensitive name of a variable in the data file. All variable names must begin with a 7-bit ASCII letter or underscore and be composed of 7-bit ASCII letters, underscores, and 7-bit ASCII digits."]}),"\n",(0,a.jsx)(t.h4,{id:"global",children:"GLOBAL"}),"\n",(0,a.jsxs)(t.p,{children:["The special variableName ",(0,a.jsx)(t.a,{href:"#global",children:"*GLOBAL*"})," is used to denote global metadata."]}),"\n",(0,a.jsx)(t.h3,{id:"attributename",children:(0,a.jsx)(t.a,{href:"#attributename",children:"attributeName"})}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.em,{children:"attributeName"})," is the case-sensitive name of an attribute associated with a variable or ",(0,a.jsx)(t.a,{href:"#global",children:"*GLOBAL*"}),". All attribute names must begin with a 7-bit ASCII letter or underscore and be composed of 7-bit ASCII letters, underscores, and 7-bit ASCII digits."]}),"\n",(0,a.jsx)(t.h4,{id:"scalar",children:"SCALAR"}),"\n",(0,a.jsx)(t.p,{children:"The special attributeName *SCALAR* can be used to create a scalar data variable and define its value. The data type of the *SCALAR* defines the data type for the variable, so do not specify a *DATA_TYPE* attribute for scalar variables. Note that there must not be data for the scalar variable in the Data Section of the NCCSV file."}),"\n",(0,a.jsxs)(t.p,{children:['For example, to create a scalar variable named "ship" with the value "Okeanos Explorer" and a cf_role attribute, use:',(0,a.jsx)(t.br,{}),"\n",'ship,*SCALAR*,"Okeanos Explorer"',(0,a.jsx)(t.br,{}),"\n","ship,cf_role,trajectory_id",(0,a.jsx)(t.br,{}),"\n","When a scalar data variable is read into ERDDAP\u2122, the scalar value is converted into a column in the data table with the same value on every row."]}),"\n",(0,a.jsx)(t.h3,{id:"value",children:(0,a.jsx)(t.a,{href:"#value",children:"value"})}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.em,{children:"value"})," is the value of the metadata attribute and must be an array with one or more of either a byte, ubyte, short, ushort, int, uint, long, ulong, float, double, String, or char. No other data types are supported. Attributes with no value will be ignored. If there is more than one sub-value, the sub-values must all be of the same data type. For data types other than Strings, the values MUST be separated by commas, for example:",(0,a.jsx)(t.br,{}),"\n","sst,actual_range,0.17f,23.58f",(0,a.jsx)(t.br,{}),"\n","For Strings, use a single String with \\n (newline) characters separating the substrings."]}),"\n",(0,a.jsx)(t.p,{children:"The definitions of the attribute data types are:"}),"\n",(0,a.jsx)(t.h4,{id:"byte",children:"byte"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["byte attribute values (8-bit, signed) must be written with the suffix 'b', e.g., -7b, 0b, 7b . The range of valid byte values is -128 to 127. A number that looks like a byte but is invalid (e.g., 128b) will be converted to a missing value or generate an error message.",(0,a.jsx)(t.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,a.jsx)(t.h4,{id:"ubyte",children:"ubyte"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["ubyte attribute values (8-bit, unsigned) must be written with the suffix 'ub', e.g., 0ub, 7ub, 250ub . The range of valid byte values is 0 to 255. A number that looks like a ubyte but is invalid (e.g., 256ub) will be converted to a missing value or generate an error message. When possible, use byte instead of ubyte, because many systems don't support unsigned bytes (e.g., attributes in NetCDF-3 files).",(0,a.jsx)(t.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,a.jsx)(t.h4,{id:"short",children:"short"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["short attribute values (16-bit, signed) must be written with the suffix 's', e.g., -30000s, 0s, 30000s. The range of valid short values is -32768 to 32767. A number that looks like a short but is invalid (e.g., 32768s) will be converted to a missing value or generate an error message.",(0,a.jsx)(t.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,a.jsx)(t.h4,{id:"ushort",children:"ushort"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["ushort attribute values (16-bit, unsigned) must be written with the suffix 'us', e.g., 0us, 30000us, 60000us. The range of valid short values is 0 to 65535. A number that looks like a ushort but is invalid (e.g., 65536us) will be converted to a missing value or generate an error message. When possible, use short instead of ushort, because many systems don't support unsigned bytes (e.g., attributes in NetCDF-3 files).",(0,a.jsx)(t.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,a.jsx)(t.h4,{id:"byte-1",children:"byte"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["int attribute values (32-bit, signed) must be written as JSON ints without a decimal point or exponent, but with the suffix 'i', e.g., -12067978i, 0i, 12067978i. The range of valid int values is -2147483648 to 2147483647. A number that looks like an int but is invalid (e.g., 2147483648i) will be converted to a missing value or generate an error message.",(0,a.jsx)(t.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,a.jsx)(t.h4,{id:"uint",children:"uint"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["uint attribute values (32-bit, unsigned) must be written as JSON ints without a decimal point or exponent, but with the suffix 'ui', e.g., 0ui, 12067978ui, 4123456789ui. The range of valid int values is 0 to 4294967295. A number that looks like a uint but is invalid (e.g., 2147483648ui) will be converted to a missing value or generate an error message. When possible, use int instead of uint, because many systems don't support unsigned bytes (e.g., attributes in NetCDF-3 files).",(0,a.jsx)(t.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,a.jsx)(t.h4,{id:"long",children:"long"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["long attribute values (64-bit, signed, currently supported by NUG and ERDDAP\u2122 but not yet supported by CF) must be written without a decimal point and with the suffix 'L', e.g., -12345678987654321L, 0L, 12345678987654321L . If you use the converting software to convert an NCCSV file with long values into a NetCDF-3 file, any long values will be converted to double values. The range of valid long values is -9223372036854775808 to 9223372036854775807. A number that looks like a long but is invalid (e.g., 9223372036854775808L) will be converted to a missing value or generate an error message. When possible, use double instead of ulong, because many systems don't support long (e.g., NetCDF-3 files).",(0,a.jsx)(t.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,a.jsx)(t.h4,{id:"ulong",children:"ulong"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["ulong attribute values (64-bit, unsigned, currently supported by NUG and ERDDAP\u2122 but not yet supported by CF) must be written without a decimal point and with the suffix 'uL', e.g., 0uL, 12345678987654321uL, 9007199254740992uL . If you use the converting software to convert an NCCSV file with long values into a NetCDF-3 file, any long values will be converted to double values. The range of valid long values is 0 to 18446744073709551615. A number that looks like a ulong but is invalid (e.g., 18446744073709551616uL) will be converted to a missing value or generate an error message. When possible, use double instead of ulong, because many systems don't support signed or unsigned long (e.g., NetCDF-3 files).",(0,a.jsx)(t.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,a.jsx)(t.h4,{id:"float",children:"float"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["float attribute values (32-bit) must be written with the suffix 'f' and may have a decimal point and/or an exponent, e.g., 0f, 1f, 12.34f, 1e12f, 1.23e+12f, 1.23e12f, 1.87E-7f. Use NaNf for a float NaN (missing) value. The range of floats is approximately +/-3.40282347E+38f (~7 significant decimal digits). A number that looks like a float but is invalid (e.g., 1.0e39f) will be converted to a missing value or generate an error message.",(0,a.jsx)(t.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,a.jsx)(t.h4,{id:"double",children:"double"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["double attribute values (64-bit) must be written with the suffix 'd' and may have a decimal point and/or an exponent, e.g., 0d, 1d, 12.34d, 1e12d, 1.23e+12d, 1.23e12d, 1.87E-7d. Use NaNd for a double NaN (missing) value. The range of doubles is approximately +/-1.79769313486231570E+308d (~15 significant decimal digits). A number that looks like a double but is invalid (e.g., 1.0e309d) will be converted to a missing value or generate an error message.",(0,a.jsx)(t.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,a.jsx)(t.h4,{id:"string",children:"String"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["String attribute values are a sequence of UCS-2 characters (i.e., 2-byte Unicode characters, as in Java), which must be written as JSON-like strings.","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:'Double quotes (") within a String value must be encoded as two double quotes (""). That\'s what spreadsheet programs require when reading .csv files. That\'s what spreadsheet programs write when you save a spreadsheet as a .csv file.'}),"\n",(0,a.jsxs)(t.li,{children:["The special JSON backslash-encoded characters within a String value must be encoded as in JSON (notably \\n (newline), \\\\ (backslash), \\f (formfeed), \\t (tab), \\r (carriage return) or with the ",(0,a.jsxs)(t.a,{href:"#uhhhh",children:["\\u",(0,a.jsx)(t.em,{children:"hhhh"})]})," syntax. In a spreadsheet, don't use Alt Enter to specify a new line within a text cell; instead, use \\n (2 characters: backslash and 'n') to indicate a new line."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.h5,{id:"uhhhh",children:"uhhhh"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["All other characters less than character #32 must be encoded with the syntax \\u",(0,a.jsx)(t.em,{children:"hhhh"}),", where hhhh is the 4-digit hexadecimal number of the character."]}),"\n",(0,a.jsxs)(t.li,{children:["All printable characters greater than character #126, e.g., the Euro sign, may appear unencoded, e.g., \u20ac (the Euro character), or encoded with the ",(0,a.jsxs)(t.a,{href:"#uhhhh",children:["\\u",(0,a.jsx)(t.em,{children:"hhhh"})]})," syntax, e.g., \\u20AC. See the code pages referenced at ",(0,a.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Unicode",children:"https://en.wikipedia.org/wiki/Unicode"})," to find the hexadecimal numbers associated with specific Unicode characters, or use a software library. Note that some ERDDAP\u2122 output file types, e.g., .csv, use the ISO 8859-1 character set, so Unicode characters above #255 will be lost when these data values are written to those file types."]}),"\n",(0,a.jsxs)(t.li,{children:["All non-printable characters greater than character #126, e.g., character #127, are STRONGLY DISCOURAGED, but you SHOULD use the \\u",(0,a.jsx)(t.em,{children:"hhhh"})," syntax if you do include them."]}),"\n",(0,a.jsxs)(t.li,{children:['If the String has a space at the beginning or end, or includes " (double quote) or a comma, or contains values that would otherwise be interpreted as some other data type (e.g., an int), or is the word "null", the entire String must be enclosed in double quotes; otherwise, unlike JSON, the enclosing double quotes are optional. We recommend: when in doubt, enclose the entire String in double quotes. Spaces at the beginning or end of a String are strongly discouraged.',(0,a.jsx)(t.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,a.jsx)(t.h4,{id:"char",children:"char"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["char attribute values are a single UCS-2 character (i.e., 2-byte Unicode characters, as in Java). Printable characters (other than special characters like newline, \", ', and \\) can be written as is. Special characters (e.g., newline) and other unprintable characters (e.g., #127) must be written with the ",(0,a.jsxs)(t.a,{href:"#uhhhh",children:["\\u",(0,a.jsx)(t.em,{children:"hhhh"})]})," syntax. Char attribute values must be enclosed in single quotes (the inner quotes) and double quotes (the outer quotes), e.g., \"'a'\", \"'\"\"'\" (a double quote character), \"'\\''\" (a single quote character), \"'\\t'\" (a tab), \"'\\u007F'\" (the delete 'character'), and \"'\u20ac'\" (the Euro character). This system of using single and double quotes is odd and cumbersome, but it is a way to distinguish char values from Strings in a way that works with spreadsheets. A value that looks like a char but is invalid will generate an error message. Note that some ERDDAP\u2122 output file types, e.g., .csv, use the ISO 8859-1 character set, so Unicode characters above #255 will be lost when these data values are written to those file types."]}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"suffix",children:"Suffix"}),"\n",(0,a.jsx)(t.p,{children:"Note that in the attributes section of an NCCSV file, all numeric attribute values must have a suffix letter (e.g., 'b') to identify the numeric data type (e.g., byte). But in the data section of an NCCSV file, numeric data values must never have these suffix letters (with the exception of 'L' for long integers and 'uL' for ulong integers) \u2014 the data type is specified by the *DATA_TYPE* attribute for the variable."}),"\n",(0,a.jsx)(t.h3,{id:"data-type",children:"Data Type"}),"\n",(0,a.jsxs)(t.p,{children:["The data type for each non-",(0,a.jsx)(t.a,{href:"#scalar",children:"scalar"})," variable must be specified by a *DATA_TYPE* attribute which can have a value of byte, ubyte, short, ushort, int, uint, long, ulong, float, double, String, or char (case insensitive). For example,",(0,a.jsx)(t.br,{}),"\n","qc_flag,*DATA_TYPE*,byte",(0,a.jsx)(t.br,{}),"\n","WARNING: Specifying the correct *DATA_TYPE* is your responsibility. Specifying the wrong data type (e.g., int when you should have specified float) will not generate an error message and may cause information to be lost (e.g., float values will be rounded to ints) when the NCCSV file is read by ERDDAP\u2122 or converted into a NetCDF file."]}),"\n",(0,a.jsx)(t.h3,{id:"char-discouraged",children:"Char Discouraged"}),"\n",(0,a.jsx)(t.p,{children:"The use of char data values is discouraged because they are not widely supported in other file types. char values may be written in the data section as single characters or as Strings (notably, if you need to write a special character). If a String is found, the first character of the String will be used as the char's value. Zero length Strings and missing values will be converted to character \\uFFFF. Note that NetCDF files only support single byte chars, so any chars greater than char #255 will be converted to '?' when writing NetCDF files. Unless a charset attribute is used to specify a different charset for a char variable, the ISO-8859-1 charset will be used."}),"\n",(0,a.jsx)(t.h3,{id:"long-and-unsigned-discouraged",children:"Long and Unsigned Discouraged"}),"\n",(0,a.jsx)(t.p,{children:"long and Unsigned Types Are Discouraged. Although many file types (e.g., NetCDF-4 and json) and ERDDAP\u2122 support long and unsigned (ubyte, ushort, uint, ulong) values, the use of long and unsigned values in NCCSV files is currently discouraged because they are currently not supported by Excel, CF and NetCDF-3 files. If you want to specify long or unsigned values in an NCCSV file (or in the corresponding Excel spreadsheet), you must use the suffix 'L' so that Excel doesn't treat the numbers as floating point numbers with lower precision. Currently, if an NCCSV files is converted into a NetCDF-3 .nc file, long and ulong data values will be converted into double values, causing a loss of precision for very large values (less than -2^53 for long, or greater than 2^53 for long and ulong). In NetCDF-3 .nc files, ubyte, ushort, and uint variables appear as byte, short, and int with the _Unsigned=true metadata attribute. In NetCDF-3 .nc files, ubyte, ushort, and uint attributes appear as byte, short, and int attributes containing the corresponding two's-complement value (e.g., 255ub appears as -1b). This is obviously trouble, so signed data types should be used instead of unsigned data types whenever possible."}),"\n",(0,a.jsx)(t.h3,{id:"cf-acdd-and-erddap-metadata",children:"CF, ACDD, and ERDDAP\u2122 Metadata"}),"\n",(0,a.jsxs)(t.p,{children:["Since it is envisioned that most NCCSV files, or the .nc files created from them, will be read into ERDDAP, it is strongly recommended that NCCSV files include the metadata attributes which are required or recommended by ERDDAP\u2122 (see",(0,a.jsx)(t.br,{}),"\n",(0,a.jsx)(t.a,{href:"/docs/server-admin/datasets#global-attributes",children:"/docs/server-admin/datasets#global-attributes"}),"). The attributes are almost all from the CF and ACDD metadata standards and serve to properly describe the dataset (who, what, when, where, why, how) to someone who otherwise knows nothing about the dataset. Of particular importance, almost all numeric variables should have a units attribute with a UDUNITS-compatible value, e.g.,",(0,a.jsx)(t.br,{}),"\n","sst,units,degree_C"]}),"\n",(0,a.jsx)(t.p,{children:"It is fine to include additional attributes which are not from the CF or ACDD standards or from ERDDAP."}),"\n",(0,a.jsx)(t.h2,{id:"the-data-section",children:(0,a.jsx)(t.a,{href:"#the-data-section",children:"The Data Section"})}),"\n",(0,a.jsx)(t.h3,{id:"structure",children:(0,a.jsx)(t.a,{href:"#structure",children:"Structure"})}),"\n",(0,a.jsxs)(t.p,{children:["The first line of the data section must have a case-sensitive, comma-separated list of variable names. All of the variables in this list must be described in the metadata section, and vice versa (other than ",(0,a.jsx)(t.a,{href:"#global",children:"*GLOBAL*"})," attributes and ",(0,a.jsx)(t.a,{href:"#scalar",children:"*SCALAR*"})," variables)."]}),"\n",(0,a.jsx)(t.p,{children:"The second through the penultimate lines of the data section must have a comma-separated list of values. Each row of data must have the same number of values as the comma-separated list of variable names. Spaces before or after values are not allowed because they cause problems when importing the file into spreadsheet programs. Each column in this section must contain only values of the *DATA_TYPE* specified for that variable by the *DATA_TYPE* attribute for that variable. Unlike in the attributes section, numeric values in the data section must not have suffix letters to denote the data type. Unlike in the attributes section, char values in the data section may omit the enclosing single quotes if they are not needed for disambiguation (thus, ',' and '\\'' must be quoted as shown here). There may be any number of these data rows in an NCCSV file, but currently ERDDAP\u2122 can only read NCCSV files with up to about 2 billion rows. In general, it is recommended that you split large datasets into multiple NCCSV data files with fewer than 1 million rows each."}),"\n",(0,a.jsx)(t.h4,{id:"end-data",children:"End Data"}),"\n",(0,a.jsxs)(t.p,{children:["The end of the data section must be denoted by a line with only",(0,a.jsx)(t.br,{}),"\n","*END_DATA*"]}),"\n",(0,a.jsx)(t.p,{children:"If there is additional content in the NCCSV file after the *END_DATA* line, it will be ignored when the NCCSV file is converted into an .nc file. Such content is therefore discouraged."}),"\n",(0,a.jsx)(t.p,{children:"In a spreadsheet following these conventions, the variable names and data values will be in multiple columns. See the example below."}),"\n",(0,a.jsx)(t.h3,{id:"missing-values",children:(0,a.jsx)(t.a,{href:"#missing-values",children:"Missing Values"})}),"\n",(0,a.jsxs)(t.p,{children:["Numeric missing values may be written as a numeric value identified by a missing_value or _FillValue attribute for that variable. For example, see the second value on this data row:",(0,a.jsx)(t.br,{}),"\n","Bell M. Shimada,99,123.4",(0,a.jsx)(t.br,{}),"\n","This is the recommended way to handle missing values for byte, ubyte, short, ushort, int, uint, long, and ulong variables."]}),"\n",(0,a.jsxs)(t.p,{children:["float or double NaN values may be written as NaN. For example, see the second value on this data row:",(0,a.jsx)(t.br,{}),"\n","Bell M. Shimada,NaN,123.4"]}),"\n",(0,a.jsxs)(t.p,{children:["String and numeric missing values may be indicated by an empty field. For example, see the second value on this data row:",(0,a.jsx)(t.br,{}),"\n","Bell M. Shimada,,123.4"]}),"\n",(0,a.jsxs)(t.p,{children:["For byte, ubyte, short, ushort, int, uint, long, and ulong variables, the NCCSV converter utility and ERDDAP\u2122 will convert an empty field into the maximum allowed value for that data type (e.g., 127 for bytes). If you do this, be sure to add a missing_value or _FillValue attribute for that variable to identify this value, e.g.,",(0,a.jsx)(t.br,{}),"\n",(0,a.jsx)(t.em,{children:"variableName"}),",_FillValue,127b",(0,a.jsx)(t.br,{}),"\n","For float and double variables, an empty field will be converted to NaN."]}),"\n",(0,a.jsx)(t.h3,{id:"datetime-values",children:(0,a.jsx)(t.a,{href:"#datetime-values",children:"DateTime Values"})}),"\n",(0,a.jsx)(t.p,{children:"DateTime values (including date values that don't have a time component) may be represented as numbers or as Strings in NCCSV files. A given dateTime variable may only have String values or only numeric values, not both. The NCCSV software will convert String dateTime values into numeric dateTime values when creating .nc files (as required by CF). String dateTime values have the advantage of being easily readable by humans."}),"\n",(0,a.jsxs)(t.p,{children:['DateTime values represented as numeric values must have a units attribute which specifies the "',(0,a.jsx)(t.em,{children:"units"})," since ",(0,a.jsx)(t.em,{children:"dateTime"}),'" as required by CF and specified by UDUNITS, e.g.,',(0,a.jsx)(t.br,{}),"\n","time,units,seconds since 1970-01-01T00:00:00Z"]}),"\n",(0,a.jsxs)(t.p,{children:["DateTime values represented as String values must have a String *DATA_TYPE* attribute and a units attribute which specifies a dateTime pattern as specified by the Java DateTimeFormatter class",(0,a.jsx)(t.br,{}),"\n","(",(0,a.jsx)(t.a,{href:"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html",children:"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html"}),"). For example,",(0,a.jsx)(t.br,{}),"\n","time,units,yyyy-MM-dd'T'HH:mm",":ssZ",(0,a.jsx)(t.br,{}),"\n","All dateTime values for a given data variable must use the same format.",(0,a.jsx)(t.br,{}),"\n","In most cases, the dateTime pattern you need for the units attribute will be a variation of one of these formats:"]}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["yyyy-MM-dd'T'HH:mm",":ss",".SSSZ \u2014 which is the ISO 8601:2004(E) dateTime format. You may need a shortened version of this, e.g., yyyy-MM-dd'T'HH:mm",":ssZ"," (the only recommended format) or yyyy-MM-dd. If you are changing the format of your dateTime values, NCCSV strongly recommends that you change to this format (perhaps shortened). This is the format that ERDDAP\u2122 will use when it writes NCCSV files."]}),"\n",(0,a.jsx)(t.li,{children:"yyyyMMddHHmmss.SSS \u2014 which is the compact version of the ISO 8601:2004 dateTime format. You may need a shortened version of this, e.g., yyyyMMdd."}),"\n",(0,a.jsxs)(t.li,{children:["M/d/yyyy H:mm",":ss",'.SSS \u2014 which handles US-style dates and dateTimes like "3/23/2017 16:22:03.000". You may need a shortened version of this, e.g., M/d/yyyy .']}),"\n",(0,a.jsx)(t.li,{children:"yyyyDDDHHmmssSSS \u2014 which is the year plus the zero-padded day of the year (e.g, 001 = Jan 1, 365 = Dec 31 in a non-leap year; this is sometimes erroneously called the Julian date). You may need a shortened version of this, e.g., yyyyDDD ."}),"\n"]}),"\n",(0,a.jsx)(t.h4,{id:"precision",children:"Precision"}),"\n",(0,a.jsxs)(t.p,{children:["When a software library converts an .nc file into an NCCSV file, all dateTime values will be written as Strings with the ISO 8601:2004(E) dateTime format, e.g., 1970-01-01T00:00:00Z . You can control the precision with the ERDDAP-specific attribute time_precision. See",(0,a.jsx)(t.br,{}),"\n",(0,a.jsx)(t.a,{href:"/docs/server-admin/datasets#time_precision",children:"/docs/server-admin/datasets#time_precision"}),"."]}),"\n",(0,a.jsx)(t.h4,{id:"time-zone",children:"Time Zone"}),"\n",(0,a.jsxs)(t.p,{children:["The default time zone for dateTime values is the Zulu (or GMT) time zone, which has no daylight saving time periods. If a dateTime variable has dateTime values from a different time zone, you must specify this with the ERDDAP-specific attribute time_zone. This is a requirement for ERDDAP\u2122 (see",(0,a.jsx)(t.br,{}),"\n",(0,a.jsx)(t.a,{href:"/docs/server-admin/datasets#time_zone",children:"/docs/server-admin/datasets#time_zone"}),")."]}),"\n",(0,a.jsx)(t.h3,{id:"degree-values",children:(0,a.jsx)(t.a,{href:"#degree-values",children:"Degree Values"})}),"\n",(0,a.jsx)(t.p,{children:"As required by CF, all degree values (e.g., for longitude and latitude) must be specified as decimal-degree double values, not as a degree\xb0min'sec\" String or as separate variables for degrees, minutes, seconds. The direction designators N, S, E, and W are not allowed. Use negative values for West longitudes and for South latitudes."}),"\n",(0,a.jsx)(t.h2,{id:"dsg-feature-types",children:(0,a.jsx)(t.a,{href:"#dsg-feature-types",children:"DSG Feature Types"})}),"\n",(0,a.jsxs)(t.p,{children:["An NCCSV file may contain CF Discrete Sampling Geometry",(0,a.jsx)(t.br,{}),"\n","(",(0,a.jsx)(t.a,{href:"https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries",children:"https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries"}),") data. It is the attributes that make this work:"]}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["As required by CF, the NCCSV file must include a line in the metadata section identifying the ",(0,a.jsx)(t.a,{href:"#global",children:"*GLOBAL*"})," featureType attribute, e.g.,",(0,a.jsx)(t.br,{}),"\n","*GLOBAL*,featureType,trajectory"]}),"\n",(0,a.jsxs)(t.li,{children:["For use in ERDDAP\u2122, the NCCSV file must include a line or lines in the metadata section identifying the cf_role=..._id variables, e.g.,",(0,a.jsx)(t.br,{}),"\n","ship,cf_role,trajectory_id",(0,a.jsx)(t.br,{}),"\n","This is optional for CF, but required in NCCSV."]}),"\n",(0,a.jsxs)(t.li,{children:["For use in ERDDAP\u2122, the NCCSV file must include a line or lines in the metadata section identifying which variables are associated with each timeSeries, trajectory, or profile as required by ERDDAP\u2122 (see",(0,a.jsx)(t.br,{}),"\n",(0,a.jsx)(t.a,{href:"/docs/server-admin/datasets#cdm_data_type",children:"/docs/server-admin/datasets#cdm_data_type"}),"), e.g.,",(0,a.jsx)(t.br,{}),"\n",'*GLOBAL*,cdm_trajectory_variables,"ship"',(0,a.jsx)(t.br,{}),"\n","or",(0,a.jsx)(t.br,{}),"\n",'*GLOBAL*,cdm_timeseries_variables,"station_id,lat,lon"']}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"sample-file",children:(0,a.jsx)(t.a,{href:"#sample-file",children:"Sample File"})}),"\n",(0,a.jsx)(t.p,{children:"Here is a sample file which demonstrates many of the features of an NCCSV file:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:'\\*GLOBAL\\*,Conventions,"COARDS, CF-1.6, ACDD-1.3, NCCSV-1.2"\n\\*GLOBAL\\*,cdm\\_trajectory\\_variables,"ship"\n\\*GLOBAL\\*,creator\\_email,erd.data@noaa.gov\n\\*GLOBAL\\*,creator\\_name,Bob Simons\n\\*GLOBAL\\*,creator\\_type,person\n\\*GLOBAL\\*,creator\\_url,https://www.pfeg.noaa.gov\n\\*GLOBAL\\*,featureType,trajectory\n\\*GLOBAL\\*,infoUrl,https://erddap.github.io/docs/user/nccsv-1.20\n\\*GLOBAL\\*,institution,"NOAA NMFS SWFSC ERD, NOAA PMEL"\n\\*GLOBAL\\*,license,"""NCCSV Demonstration"" by Bob Simons and Steve Hankin is\n    licensed under CC BY 4.0, https://creativecommons.org/licenses/by/4.0/ ."\n\\*GLOBAL\\*,keywords,"NOAA, sea, ship, sst, surface, temperature, trajectory"\n\\*GLOBAL\\*,standard\\_name\\_vocabulary,CF Standard Name Table v55\n\\*GLOBAL\\*,subsetVariables,"ship"\n\\*GLOBAL\\*,summary,"This is a paragraph or two describing the dataset."\n\\*GLOBAL\\*,title,"NCCSV Demonstration"\nship,\\*DATA\\_TYPE\\*,String\nship,cf\\_role,trajectory\\_id\ntime,\\*DATA\\_TYPE\\*,String\ntime,standard\\_name,time\ntime,units,"yyyy-MM-dd\'T\'HH:mm:ssZ"\nlat,\\*DATA\\_TYPE\\*,double\nlat,units,degrees\\_north\nlon,\\*DATA\\_TYPE\\*,double\n"lon","units","degrees\\_east"\nstatus,\\*DATA\\_TYPE\\*,char\nstatus,comment,"From http://some.url.gov/someProjectDocument , Table C"\ntestByte,\\*DATA\\_TYPE\\*,byte\ntestByte,units,1\ntestUByte,\\*DATA\\_TYPE\\*,ubyte\ntestUByte,units,1\ntestLong,\\*DATA\\_TYPE\\*,long\ntestLong,units,1\ntestULong,\\*DATA\\_TYPE\\*,ulong\ntestULong,units,1\nsst,\\*DATA\\_TYPE\\*,float\nsst,standard\\_name,sea\\_surface\\_temperature\nsst,actual\\_range,0.17f,23.58f\nsst,units,degree\\_C\nsst,missing\\_value,99f\nsst,testBytes,-128b,0b,127b\nsst,testShorts,-32768s,0s,32767s\nsst,testInts,-2147483648i,0i,2147483647i\nsst,testLongs,-9223372036854775808L,0L,9223372036854775807L\nsst,testFloats,-3.40282347e38f,0f,3.40282347E+38f\nsst,testDoubles,-1.79769313486231570e308d,0d,1.79769313486231570E+308d\nsst,testChars,"\',\'","\'""\'","\'\u20ac\'"\nsst,testStrings," a~,\\\\n\'z""\\\\u20AC"\nsst,testUBytes,0ub,127ub,255ub\nsst,testUInts,0ui,2147483647ui,4294967295ui\nsst,testULongs,0uL,9223372036854775807uL,18446744073709551615uL\nsst,testUShorts,0us,32767us,65535us\n\n\\*END\\_METADATA\\*\nship,time,lat,lon,status,testByte,testUByte,testLong,testULong,sst\nBell M. Shimada,2017-03-23T00:45:00Z,28.0002,-130.2576,A,-128, 0,-9223372036854775808L,0uL,10.9\nBell M. Shimada,2017-03-23T01:45:00Z,28.0003,-130.3472,\\\\u20AC,0,127,-9007199254740992L,9223372036854775807uL,10.0\n"Bell M. Shimada","2017-03-23T02:45:00Z",28.0001,-130.4305,"\'\\\\t\'",126,254,9223372036854775806L,18446744073709551614uL,99\n"Bell M. Shimada",2017-03-23T12:45:00Z,27.9998,-131.5578,"\'""\'",127,255,9223372036854775807L,18446744073709551615uL,NaN\n'})}),"\n",(0,a.jsx)(t.p,{children:"Notes:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"This sample file includes many difficult cases (e.g., char and long variables and difficult String values). Most NCCSV files will be much simpler."}),"\n",(0,a.jsx)(t.li,{children:"The license line is broken into two lines here, but is just one line in the sample file."}),"\n",(0,a.jsx)(t.li,{children:"\\u20ac is the \\uhhhh encoding of \u20ac. \\u00FC is the \\uhhhh encoding of \xfc. You can also use the unencoded characters directly."}),"\n",(0,a.jsx)(t.li,{children:"Many Strings in the example are enclosed by double quotes even though they don't have to be, e.g., many global attributes including the title, the lon units attribute, and the 3rd line of data.)"}),"\n",(0,a.jsx)(t.li,{children:"It would be clearer and better if the units attribute for the testLong variable were written in double quotes indicating it is a String value. But the current representation (1, without quotes) will be interpreted correctly as a String, not an integer, because there is no 'i' suffix."}),"\n",(0,a.jsx)(t.li,{children:"Unlike other numeric data types, the long values in the data section have the suffix ('L') that identifies their numeric data type. This is required to prevent spreadsheets from interpreting the values as floating point numbers and thus losing precision."}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"spreadsheets",children:(0,a.jsx)(t.a,{href:"#spreadsheets",children:"Spreadsheets"})}),"\n",(0,a.jsx)(t.p,{children:"In a spreadsheet, as in an NCCSV file:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Write numeric attribute values as specified for NCCSV files (e.g., with a suffix letter, e.g., 'f', to identify attribute's data type)."}),"\n",(0,a.jsxs)(t.li,{children:["In Strings, all non-printable and special characters must be written as either a JSON-like backslashed character (e.g., \\n for newline) or as the hexadecimal Unicode character number (case insensitive) with the syntax ",(0,a.jsxs)(t.a,{href:"#uhhhh",children:["\\u",(0,a.jsx)(t.em,{children:"hhhh"})]}),". Notably, use \\n (2 characters: backslash and 'n') to indicate a new line within a String, not Alt Enter. All printable characters may be written unencoded or with the syntax ",(0,a.jsxs)(t.a,{href:"#uhhhh",children:["\\u",(0,a.jsx)(t.em,{children:"hhhh"})]}),"."]}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"The only differences between NCCSV files and the analogous spreadsheet which follow these conventions are:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["NCCSV files have values on a line separated by commas.",(0,a.jsx)(t.br,{}),"\n","Spreadsheets have values on a line in adjacent cells."]}),"\n",(0,a.jsxs)(t.li,{children:["Strings in NCCSV files are often surrounded by double quotes.",(0,a.jsx)(t.br,{}),"\n","Strings in spreadsheets are never surrounded by double quotes."]}),"\n",(0,a.jsxs)(t.li,{children:['Internal double quotes ( " ) in Strings in NCCSV files appear as 2 double quotes.',(0,a.jsx)(t.br,{}),"\n","Internal double quotes in spreadsheets appear as 1 double quote."]}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"If a spreadsheet following these conventions is saved as a CSV file, there will often be extra commas at the end of many of the lines. The software that converts NCCSV files into .nc files will ignore the extra commas."}),"\n",(0,a.jsx)(t.h3,{id:"excel",children:(0,a.jsx)(t.a,{href:"#excel",children:"Excel"})}),"\n",(0,a.jsx)(t.p,{children:"To import an NCCSV file into Excel:"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsx)(t.li,{children:"Choose File : Open ."}),"\n",(0,a.jsx)(t.li,{children:"Change the file type to Text Files (*.prn; *.txt; *.csv) ."}),"\n",(0,a.jsx)(t.li,{children:"Search the directories and click on the NCCSV .csv file."}),"\n",(0,a.jsx)(t.li,{children:"Click Open ."}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"To create an NCCSV file from an Excel spreadsheet:"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsx)(t.li,{children:"Choose File : Save As ."}),"\n",(0,a.jsx)(t.li,{children:"Change the Save as type: to be CSV (Comma delimited) (*.csv) ."}),"\n",(0,a.jsx)(t.li,{children:"In response to the compatibility warning, click Yes ."}),"\n",(0,a.jsx)(t.li,{children:"The resulting .csv file will have extra commas at the end of all the rows other than the CSV rows. You can ignore them."}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"In Excel, the sample NCCSV file above appears as"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"sampleExcel.png",src:n(25522).A+"",width:"672",height:"1044"})}),"\n",(0,a.jsx)(t.h3,{id:"google-sheets",children:(0,a.jsx)(t.a,{href:"#google-sheets",children:"Google Sheets"})}),"\n",(0,a.jsx)(t.p,{children:"To import an NCCSV file into Google Sheets:"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"Choose File : Import ."}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"Choose to Upload a file and click on Upload a file from your computer . Select the file, then click Open ."}),"\n",(0,a.jsx)(t.p,{children:"Or, choose My Drive and change the file type drop down selection to All file types . Select the file, then click Open ."}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"To create an NCCSV file from a Google Sheets spreadsheet:"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsx)(t.li,{children:"Choose File : Save As ."}),"\n",(0,a.jsx)(t.li,{children:"Change the Save as type: to be CSV (Comma delimited) (*.csv) ."}),"\n",(0,a.jsx)(t.li,{children:"In response to the compatibility warning, click Yes ."}),"\n",(0,a.jsx)(t.li,{children:"The resulting .csv file will have extra commas at the end of all the rows other than the CSV rows. Ignore them."}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"problemswarnings",children:(0,a.jsx)(t.a,{href:"#problemswarnings",children:"Problems/Warnings"})}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"If you create an NCCSV file with a text editor or if you create an analogous spreadsheet in a spreadsheet program, the text editor or the spreadsheet program will not check that you followed these conventions correctly. It is up to you to follow these conventions correctly."}),"\n",(0,a.jsx)(t.li,{children:"The conversion of a spreadsheet following this convention into a csv file (thus, an NCCSV file) will lead to extra commas at the end of all the rows other than the CSV data rows. Ignore them. The software then converts NCCSV files into .nc files will ignore them."}),"\n",(0,a.jsx)(t.li,{children:"If an NCCSV file has excess commas at the end of rows, you can remove them by converting the NCCSV file into a NetCDF file and then converting the NetCDF file back into a NCCSV file."}),"\n",(0,a.jsxs)(t.li,{children:["When you try to convert an NCCSV file into a NetCDF file, some errors will be detected by the software and will generate error messages, causing the conversion to fail. Other problems are hard or impossible to catch and will not generate error messages or warnings. Other problems (e.g., excess commas at the end of rows) will be ignored. The file converter will do only minimal checking of correctness of the resulting NetCDF file, e.g., in regards to CF compliance. It is the file creator's and file user's responsibility to check that the results of the conversion are as desired and correct. Two ways to check are:","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Print the contents of the .nc file with ncdump",(0,a.jsx)(t.br,{}),"\n","(",(0,a.jsx)(t.a,{href:"https://linux.die.net/man/1/ncdump",children:"https://linux.die.net/man/1/ncdump"})," )."]}),"\n",(0,a.jsx)(t.li,{children:"View the contents of the data in ERDDAP\u2122."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"changes",children:(0,a.jsx)(t.a,{href:"#changes",children:"Changes"})}),"\n",(0,a.jsxs)(t.p,{children:["The original version was ",(0,a.jsx)(t.a,{href:"/docs/user/nccsv-1.00",children:"NCCSV v1.00"})," (in ERDDAP\u2122 v1.76, released 2017-05-12)"]}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Changes introduced in ",(0,a.jsx)(t.a,{href:"/docs/user/nccsv-1.10",children:"NCCSV v1.10"})," (in ERDDAP\u2122 v2.10, released 2020-11-05):","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Added support for ubyte, ushort, uint, ulong. Thanks to CF for adding support for these data types in CF."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["Changes introduced in v1.20 (in ERDDAP\u2122 v2.23, released 2023-02-27):","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Switched from ASCII character encoding to UTF-8 encoding for NCCSV .csv files.","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"ERDDAP\u2122 can still read files from all previous and current versions of NCCSV."}),"\n",(0,a.jsx)(t.li,{children:"ERDDAP\u2122 now always writes NCCSV v1.20 files."}),"\n",(0,a.jsx)(t.li,{children:"If you wrote a client to read NCCSV files, change it so it treats all NCCSV files as UTF-8 files. That will work with older NCCSV files because ASCII is a subset of the UTF-8 character encoding."}),"\n",(0,a.jsx)(t.li,{children:"Thanks to Pauline Chauvet, Nate, and Thomas Gardiner."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function c(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);