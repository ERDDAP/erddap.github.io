"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[494],{10702(e,s,n){n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"server-admin/deploy-update","title":"Update","description":"How To Do an Update of an Existing ERDDAP\u2122 on Your Server","source":"@site/docs/server-admin/deploy-update.md","sourceDirName":"server-admin","slug":"/server-admin/deploy-update","permalink":"/docs/server-admin/deploy-update","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/deploy-update.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docSidebar","previous":{"title":"Install","permalink":"/docs/server-admin/deploy-install"},"next":{"title":"Working with the datasets.xml File","permalink":"/docs/server-admin/datasets"}}');var t=n(74848),r=n(28453);const o={sidebar_position:2},i="Update",d={},l=[{value:"Changes",id:"changes",level:2},{value:"Java",id:"java",level:2},{value:"Download",id:"download",level:2},{value:"messages.xml",id:"messagesxml",level:2},{value:"Install",id:"install",level:2},{value:"Linux and Macs",id:"linux-and-macs",level:3},{value:"Windows",id:"windows",level:3}];function c(e){const s={a:"a",br:"br",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"update",children:"Update"})}),"\n",(0,t.jsx)(s.p,{children:"How To Do an Update of an Existing ERDDAP\u2122 on Your Server"}),"\n",(0,t.jsx)(s.h2,{id:"changes",children:"Changes"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["Make the changes listed in ",(0,t.jsx)(s.a,{href:"/changes",children:"Changes"}),' in the section entitled "Things ERDDAP\u2122 Administrators Need to Know and Do" for all of the ERDDAP\u2122 versions since the version you were using.',(0,t.jsx)(s.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"java",children:"Java"}),"\n",(0,t.jsxs)(s.ol,{start:"2",children:["\n",(0,t.jsxs)(s.li,{children:["If you are upgrading from ERDDAP\u2122 version 2.18 or below, you need to switch to Java 25 (or newer) and the related Tomcat 10. See the regular ERDDAP\u2122 installation instructions for ",(0,t.jsx)(s.a,{href:"/docs/server-admin/deploy-install#java",children:"Java"})," and ",(0,t.jsx)(s.a,{href:"/docs/server-admin/deploy-install#tomcat",children:"Tomcat"}),". You'll also have to copy your ",(0,t.jsx)(s.em,{children:"tomcat"}),"/content/erddap directory from your old Tomcat installation to your new Tomcat installation."]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"download",children:"Download"}),"\n",(0,t.jsxs)(s.ol,{start:"3",children:["\n",(0,t.jsxs)(s.li,{children:["Download ",(0,t.jsx)(s.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.29.0/erddap.war",children:"erddap.war"})," into ",(0,t.jsx)(s.em,{children:"tomcat"}),"/webapps .",(0,t.jsx)(s.br,{}),"\n","(version 2.29.0, 706,788,135 bytes, MD5=A5ED0DCC8D46CA27640FFEB8CE4A8560, dated 12-15-2025)\n\xa0"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"messagesxml",children:"messages.xml"}),"\n",(0,t.jsxs)(s.ol,{start:"4",children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Common: If you are upgrading from ERDDAP\u2122 version 1.46 (or above) and you just use the standard messages, the new standard messages.xml will be installed automatically (amongst the .class files via erddap.war).",(0,t.jsx)(s.br,{}),"\n","\xa0"]}),"\n",(0,t.jsxs)(s.li,{children:["Rare: If you are upgrading from ERDDAP\u2122 version 1.44 (or below),",(0,t.jsx)(s.br,{}),"\n","you MUST delete the old messages.xml file:",(0,t.jsx)(s.br,{}),"\n",(0,t.jsx)(s.em,{children:"tomcat"}),"/content/erddap/messages.xml .",(0,t.jsx)(s.br,{}),"\n","The new standard messages.xml will be installed automatically (amongst the .class files via erddap.war).",(0,t.jsx)(s.br,{}),"\n","\xa0"]}),"\n",(0,t.jsxs)(s.li,{children:["Rare: If you always make changes to the standard messages.xml file (in place),",(0,t.jsx)(s.br,{}),"\n","you need to make those changes to the new messages.xml file (which is",(0,t.jsx)(s.br,{}),"\n","WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml after erddap.war is decompressed by Tomcat).",(0,t.jsx)(s.br,{}),"\n","\xa0"]}),"\n",(0,t.jsxs)(s.li,{children:["Rare: If you maintain a custom messages.xml file in ",(0,t.jsx)(s.em,{children:"tomcat"}),"/content/erddap/,",(0,t.jsx)(s.br,{}),"\n","you need to figure out (via diff) what changes have been made to the default messages.xml (which are in the new erddap.war as",(0,t.jsx)(s.br,{}),"\n","WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml) and modify your custom messages.xml file accordingly.",(0,t.jsx)(s.br,{}),"\n","\xa0"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"install",children:"Install"}),"\n",(0,t.jsxs)(s.ol,{start:"5",children:["\n",(0,t.jsxs)(s.li,{children:["Install the new ERDDAP\u2122 in Tomcat:",(0,t.jsx)(s.br,{}),"\n","* Don't use Tomcat Manager. Sooner or later there will be PermGen memory issues. It is better to actually shutdown and startup Tomcat.",(0,t.jsx)(s.br,{}),"\n","* Replace references to ",(0,t.jsx)(s.em,{children:"tomcat"})," below with the actual Tomcat directory on your computer.",(0,t.jsx)(s.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"linux-and-macs",children:"Linux and Macs"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["Shutdown Tomcat: From a command line, use: ",(0,t.jsx)(s.em,{children:"tomcat"}),"/bin/shutdown.sh",(0,t.jsx)(s.br,{}),"\n","And use ps -ef | grep tomcat to see if/when the process has been stopped. (It may take a minute or two.)"]}),"\n",(0,t.jsxs)(s.li,{children:["Remove the decompressed ERDDAP\u2122 installation: In ",(0,t.jsx)(s.em,{children:"tomcat"}),"/webapps, use",(0,t.jsx)(s.br,{}),"\n","rm -rf erddap"]}),"\n",(0,t.jsxs)(s.li,{children:["Delete the old erddap.war file: In ",(0,t.jsx)(s.em,{children:"tomcat"}),"/webapps, use rm erddap.war"]}),"\n",(0,t.jsxs)(s.li,{children:["Copy the new erddap.war file from the temporary directory to ",(0,t.jsx)(s.em,{children:"tomcat"}),"/webapps"]}),"\n",(0,t.jsxs)(s.li,{children:["Restart Tomcat and ERDDAP: use ",(0,t.jsx)(s.em,{children:"tomcat"}),"/bin/startup.sh"]}),"\n",(0,t.jsxs)(s.li,{children:["View ERDDAP\u2122 in your browser to check that the restart succeeded.",(0,t.jsx)(s.br,{}),"\n","(Often, you have to try a few times and wait a minute before you see ERDDAP\u2122.)",(0,t.jsx)(s.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"windows",children:"Windows"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["Shutdown Tomcat: From a command line, use: ",(0,t.jsx)(s.em,{children:"tomcat"}),"\\bin\\shutdown.bat"]}),"\n",(0,t.jsxs)(s.li,{children:["Remove the decompressed ERDDAP\u2122 installation: In ",(0,t.jsx)(s.em,{children:"tomcat"}),"/webapps, use",(0,t.jsx)(s.br,{}),"\n","del /S/Q erddap"]}),"\n",(0,t.jsxs)(s.li,{children:["Delete the old erddap.war file: In ",(0,t.jsx)(s.em,{children:"tomcat"}),"\\webapps, use del erddap.war"]}),"\n",(0,t.jsxs)(s.li,{children:["Copy the new erddap.war file from the temporary directory to ",(0,t.jsx)(s.em,{children:"tomcat"}),"\\webapps"]}),"\n",(0,t.jsxs)(s.li,{children:["Restart Tomcat and ERDDAP: use ",(0,t.jsx)(s.em,{children:"tomcat"}),"\\bin\\startup.bat"]}),"\n",(0,t.jsxs)(s.li,{children:["View ERDDAP\u2122 in your browser to check that the restart succeeded.",(0,t.jsx)(s.br,{}),"\n","(Often, you have to try a few times and wait a minute before you see ERDDAP\u2122.)"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["Troubles updating ERDDAP? See our ",(0,t.jsx)(s.a,{href:"/docs/intro#support",children:"section on getting additional support"}),"."]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453(e,s,n){n.d(s,{R:()=>o,x:()=>i});var a=n(96540);const t={},r=a.createContext(t);function o(e){const s=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),a.createElement(r.Provider,{value:s},e.children)}}}]);