"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[4501],{3839:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"contributing/release_process","title":"ERDDAP\u2122 Release Process","description":"* Make sure image comparison files are available (this might mean running mvn verify, if you want to speed that up restrict to just the ImageComparison group though note that still requires running Jetty tests)","source":"@site/docs/contributing/release_process.md","sourceDirName":"contributing","slug":"/contributing/release_process","permalink":"/docs/contributing/release_process","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/contributing/release_process.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"docSidebar","previous":{"title":"Programmer\'s Guide","permalink":"/docs/contributing/programmer-guide"},"next":{"title":"index","permalink":"/docs/dokka/"}}');var r=t(74848),i=t(28453);const a={sidebar_position:3},o="ERDDAP\u2122 Release Process",d={},l=[{value:"Canary",id:"canary",level:2},{value:"GitHub Release",id:"github-release",level:2},{value:"Documentation Update",id:"documentation-update",level:2},{value:"Ensure other repos are up to date as needed",id:"ensure-other-repos-are-up-to-date-as-needed",level:2},{value:"Notify Users",id:"notify-users",level:2},{value:"Announce release",id:"announce-release",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"erddap-release-process",children:"ERDDAP\u2122 Release Process"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Make sure image comparison files are available (this might mean running ",(0,r.jsx)(n.code,{children:"mvn verify"}),", if you want to speed that up restrict to just the ImageComparison group though note that still requires running Jetty tests)"]}),"\n",(0,r.jsx)(n.li,{children:"Update dependencies"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"mvn versions:display-dependency-updates   // (displays updates)\nmvn versions:use-latest-versions  // (updates dependencies, though sometimes we don\u2019t want to do all of them)\nmvn versions:update-properties // (updates versions in the property block)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Update plugins"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"mvn versions:display-plugin-updates // (displays updates, need to manually update)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Run tests to make sure dependency updates didn\u2019t break anything for all major configurations (datasets parsing in particular, though any other significant settings as well)"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"mvn verify\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use TranslateMessages.translate() to update translations if needed"}),"\n",(0,r.jsx)(n.li,{children:"EDStatic.java set developmentMode to false, change the version number and specify the release date."}),"\n",(0,r.jsx)(n.li,{children:"Do the build"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"mvn clean\nmvn compile\nmvn package\n"})}),"\n",(0,r.jsx)(n.h2,{id:"canary",children:"Canary"}),"\n",(0,r.jsx)(n.p,{children:"Send the war file for distribution on the Coastwatch server or some other server that uses most of the dataset types and receives a lot of traffic.\nWe want to try to find errors before wider distribution of the build."}),"\n",(0,r.jsx)(n.p,{children:"Include message when telling about a new release."}),"\n",(0,r.jsx)(n.p,{children:"The standard procedure is:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Upload the .war file to coastwatch [tomcat]/content/erddap/"}),"\n",(0,r.jsxs)(n.li,{children:["As user=tomcat:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'In [tomcat]/bin/ :\n./shutdown.sh   //use "ps -fu tomcat" to ensure it has stopped'}),"\n",(0,r.jsx)(n.li,{children:"In [tomcat]/webapps/ :\nrm -rf erddap\nrm erddap.war\ncp ../content/erddap/erddap2.22.war erddap.war   //or whatever the number is"}),"\n",(0,r.jsx)(n.li,{children:"In [tomcat]/bin/ :\n./startup.sh"}),"\n",(0,r.jsx)(n.li,{children:"After the ERDDAP has returned a web page, in [tomcat]/webapps/ :\nchgrp -R erddap erddap\nchmod -R g+rw erddap\nchmod -R o-rwx erddap"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"github-release",children:"GitHub Release"}),"\n",(0,r.jsx)(n.p,{children:"Draft the GitHub release, include erddap.war and erddapContent.zip (no version numbers)"}),"\n",(0,r.jsxs)(n.p,{children:["title: The official v2.25 version\ndescribe: See the changes list at\n",(0,r.jsx)(n.a,{href:"https://erddap.github.io/changes#version-225",children:"https://erddap.github.io/changes#version-225"})]}),"\n",(0,r.jsx)(n.h2,{id:"documentation-update",children:"Documentation Update"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Update the version number in the docusaurus.config.ts file (in the footer section)."}),"\n",(0,r.jsxs)(n.li,{children:["Edit the documentation pages (deploy-install.md and deploy-update.md).","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Search for [erddap.war]"}),"\n",(0,r.jsx)(n.li,{children:"Copy the existing information (slightly reformatted) to the list of previous installations 2."}),"\n",(0,r.jsx)(n.li,{children:"Change the current release information for erddap.war at [erddap.war]"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Run the translations for the documentation site."}),"\n",(0,r.jsx)(n.li,{children:"Make a pull request and merge the changes."}),"\n",(0,r.jsx)(n.li,{children:"Deploy the documentation site (see readme)."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"ensure-other-repos-are-up-to-date-as-needed",children:"Ensure other repos are up to date as needed"}),"\n",(0,r.jsx)(n.p,{children:"Mainly this means ErddapContent and ErddapTest, but they should be kept up to date during development changes."}),"\n",(0,r.jsx)(n.h2,{id:"notify-users",children:"Notify Users"}),"\n",(0,r.jsx)(n.p,{children:"First notify any users that requested changes (or whose bugs were fixed). Give them time to verify changes and/or raise issues."}),"\n",(0,r.jsx)(n.p,{children:"ERDDAP version 2.25 is now available!"}),"\n",(0,r.jsxs)(n.p,{children:["You can read about the changes at\n",(0,r.jsx)(n.a,{href:"https://erddap.github.io/changes#version-225",children:"https://erddap.github.io/changes#version-225"})]}),"\n",(0,r.jsx)(n.p,{children:"Some of the changes are changes that you suggested. Thank you very much for your suggestions. Search for your name in the list of changes to see the details. It would be great if you could try out the new features soon, before I announce this new version to a wider audience."}),"\n",(0,r.jsxs)(n.p,{children:["If you are an ERDDAP administrator, the instructions for upgrading are at\n",(0,r.jsx)(n.a,{href:"https://erddap.github.io/docs/server-admin/deploy-update",children:"https://erddap.github.io/docs/server-admin/deploy-update"})]}),"\n",(0,r.jsx)(n.p,{children:"If you have any problems, questions, suggestions, please email me."}),"\n",(0,r.jsx)(n.p,{children:"Thank you for using ERDDAP."}),"\n",(0,r.jsx)(n.h3,{id:"announce-release",children:"Announce release"}),"\n",(0,r.jsx)(n.p,{children:"Send an announcement to the Announcements Mailing list."})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var s=t(96540);const r={},i=s.createContext(r);function a(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);