<!doctype html>
<html lang="ru" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-server-admin/datasets" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Работая с datasets.xml Файл | ERDDAP™ Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://erddap.github.io/ru/img/noaa_simple.gif"><meta data-rh="true" name="twitter:image" content="https://erddap.github.io/ru/img/noaa_simple.gif"><meta data-rh="true" property="og:url" content="https://erddap.github.io/ru/docs/server-admin/datasets"><meta data-rh="true" property="og:locale" content="ru"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="bn"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" property="og:locale:alternate" content="zt"><meta data-rh="true" property="og:locale:alternate" content="cs"><meta data-rh="true" property="og:locale:alternate" content="da"><meta data-rh="true" property="og:locale:alternate" content="nl"><meta data-rh="true" property="og:locale:alternate" content="fi"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" property="og:locale:alternate" content="el"><meta data-rh="true" property="og:locale:alternate" content="hi"><meta data-rh="true" property="og:locale:alternate" content="hu"><meta data-rh="true" property="og:locale:alternate" content="id"><meta data-rh="true" property="og:locale:alternate" content="ga"><meta data-rh="true" property="og:locale:alternate" content="it"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" property="og:locale:alternate" content="ko"><meta data-rh="true" property="og:locale:alternate" content="nb"><meta data-rh="true" property="og:locale:alternate" content="pl"><meta data-rh="true" property="og:locale:alternate" content="pt"><meta data-rh="true" property="og:locale:alternate" content="ro"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="sv"><meta data-rh="true" property="og:locale:alternate" content="tl"><meta data-rh="true" property="og:locale:alternate" content="th"><meta data-rh="true" property="og:locale:alternate" content="tr"><meta data-rh="true" property="og:locale:alternate" content="uk"><meta data-rh="true" property="og:locale:alternate" content="ur"><meta data-rh="true" name="docusaurus_locale" content="ru"><meta data-rh="true" name="docsearch:language" content="ru"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Работая с datasets.xml Файл | ERDDAP™ Documentation"><meta data-rh="true" name="description" content="\\[ Эта страница будет представлять интерес только для ERDDAP™ Администраторы. \\]"><meta data-rh="true" property="og:description" content="\\[ Эта страница будет представлять интерес только для ERDDAP™ Администраторы. \\]"><link data-rh="true" rel="icon" href="/ru/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://erddap.github.io/ru/docs/server-admin/datasets"><link data-rh="true" rel="alternate" href="https://erddap.github.io/docs/server-admin/datasets" hreflang="en"><link data-rh="true" rel="alternate" href="https://erddap.github.io/bn/docs/server-admin/datasets" hreflang="bn"><link data-rh="true" rel="alternate" href="https://erddap.github.io/zh/docs/server-admin/datasets" hreflang="zh"><link data-rh="true" rel="alternate" href="https://erddap.github.io/zt/docs/server-admin/datasets" hreflang="zt"><link data-rh="true" rel="alternate" href="https://erddap.github.io/cs/docs/server-admin/datasets" hreflang="cs"><link data-rh="true" rel="alternate" href="https://erddap.github.io/da/docs/server-admin/datasets" hreflang="da"><link data-rh="true" rel="alternate" href="https://erddap.github.io/nl/docs/server-admin/datasets" hreflang="nl"><link data-rh="true" rel="alternate" href="https://erddap.github.io/fi/docs/server-admin/datasets" hreflang="fi"><link data-rh="true" rel="alternate" href="https://erddap.github.io/fr/docs/server-admin/datasets" hreflang="fr"><link data-rh="true" rel="alternate" href="https://erddap.github.io/de/docs/server-admin/datasets" hreflang="de"><link data-rh="true" rel="alternate" href="https://erddap.github.io/el/docs/server-admin/datasets" hreflang="el"><link data-rh="true" rel="alternate" href="https://erddap.github.io/hi/docs/server-admin/datasets" hreflang="hi"><link data-rh="true" rel="alternate" href="https://erddap.github.io/hu/docs/server-admin/datasets" hreflang="hu"><link data-rh="true" rel="alternate" href="https://erddap.github.io/id/docs/server-admin/datasets" hreflang="id"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ga/docs/server-admin/datasets" hreflang="ga"><link data-rh="true" rel="alternate" href="https://erddap.github.io/it/docs/server-admin/datasets" hreflang="it"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ja/docs/server-admin/datasets" hreflang="ja"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ko/docs/server-admin/datasets" hreflang="ko"><link data-rh="true" rel="alternate" href="https://erddap.github.io/nb/docs/server-admin/datasets" hreflang="nb"><link data-rh="true" rel="alternate" href="https://erddap.github.io/pl/docs/server-admin/datasets" hreflang="pl"><link data-rh="true" rel="alternate" href="https://erddap.github.io/pt/docs/server-admin/datasets" hreflang="pt"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ro/docs/server-admin/datasets" hreflang="ro"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ru/docs/server-admin/datasets" hreflang="ru"><link data-rh="true" rel="alternate" href="https://erddap.github.io/es/docs/server-admin/datasets" hreflang="es"><link data-rh="true" rel="alternate" href="https://erddap.github.io/sv/docs/server-admin/datasets" hreflang="sv"><link data-rh="true" rel="alternate" href="https://erddap.github.io/tl/docs/server-admin/datasets" hreflang="tl"><link data-rh="true" rel="alternate" href="https://erddap.github.io/th/docs/server-admin/datasets" hreflang="th"><link data-rh="true" rel="alternate" href="https://erddap.github.io/tr/docs/server-admin/datasets" hreflang="tr"><link data-rh="true" rel="alternate" href="https://erddap.github.io/uk/docs/server-admin/datasets" hreflang="uk"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ur/docs/server-admin/datasets" hreflang="ur"><link data-rh="true" rel="alternate" href="https://erddap.github.io/docs/server-admin/datasets" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Управление сервером","item":"https://erddap.github.io/ru/docs/category/server-administration"},{"@type":"ListItem","position":2,"name":"Работая с datasets.xml Файл","item":"https://erddap.github.io/ru/docs/server-admin/datasets"}]}</script><link rel="stylesheet" href="/ru/assets/css/styles.c47a40ba.css">
<script src="/ru/assets/js/runtime~main.cf5bb1cc.js" defer="defer"></script>
<script src="/ru/assets/js/main.efa32e2c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/ru/img/noaab.png"><div role="region" aria-label="Пропустить основной контент"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Пропустить основной контент</a></div><nav aria-label="Главный" class="theme-layout-navbar navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Навигационная панель Toggle" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ru/"><div class="navbar__logo"><img src="/ru/img/noaab.png" alt="NOAAлоготип" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/ru/img/noaab.png" alt="NOAAлоготип" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">ERDDAP™</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Русский</a><ul class="dropdown__menu"><li><a href="/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/bn/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="bn">বাংলা</a></li><li><a href="/zh/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">中文</a></li><li><a href="/zt/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zt">Zt</a></li><li><a href="/cs/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="cs">Čeština</a></li><li><a href="/da/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="da">Dansk</a></li><li><a href="/nl/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="nl">Nederlands</a></li><li><a href="/fi/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fi">Suomi</a></li><li><a href="/fr/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/de/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="/el/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="el">Ελληνικά</a></li><li><a href="/hi/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="hi">हिन्दी</a></li><li><a href="/hu/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="hu">Magyar</a></li><li><a href="/id/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="id">Indonesia</a></li><li><a href="/ga/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ga">Gaeilge</a></li><li><a href="/it/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="it">Italiano</a></li><li><a href="/ja/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/ko/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">한국어</a></li><li><a href="/nb/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="nb">Norsk bokmål</a></li><li><a href="/pl/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pl">Polski</a></li><li><a href="/pt/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Português</a></li><li><a href="/ro/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ro">Română</a></li><li><a href="/ru/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ru">Русский</a></li><li><a href="/es/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/sv/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="sv">Svenska</a></li><li><a href="/tl/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="tl">Filipino</a></li><li><a href="/th/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="th">ไทย</a></li><li><a href="/tr/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="tr">Türkçe</a></li><li><a href="/uk/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="uk">Українська</a></li><li><a href="/ur/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ur">اردو</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ru/docs/intro">Докс</a><a class="navbar__item navbar__link" href="/ru/governance">Управление</a><a class="navbar__item navbar__link" href="/ru/cloud">облако</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Поиск" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/erddap/erddap" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(открывается в новой вкладке)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS darkNavbarColorModeToggle_X3D1" type="button" disabled="" title="режим работы системы" aria-label="Переключение между темным и светлым режимом (в настоящее время)режим работы системы)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Скачать Back to Top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Док сайдбар" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ru/docs/intro"><span title="Документация Intro" class="linkLabel_WmDU">Документация Intro</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/ru/docs/category/server-administration"><span title="Управление сервером" class="categoryLinkLabel_W154">Управление сервером</span></a><button aria-label="Категория коллапса боковой панели &quot;Управление сервером&quot;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/ru/docs/category/admin-tips"><span title="Советы администратора" class="categoryLinkLabel_W154">Советы администратора</span></a><button aria-label="Расширение категории боковой панели &quot;Советы администратора&quot;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/deploy-install"><span title="устанавливать" class="linkLabel_WmDU">устанавливать</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/deploy-update"><span title="обновление" class="linkLabel_WmDU">обновление</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ru/docs/server-admin/datasets"><span title="Работая с datasets.xml Файл" class="linkLabel_WmDU">Работая с datasets.xml Файл</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/additional-information"><span title="Дополнительная информация" class="linkLabel_WmDU">Дополнительная информация</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/scaling"><span title="масштабирование" class="linkLabel_WmDU">масштабирование</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/EDDTableFromEML"><span title="EDDTableFromEML" class="linkLabel_WmDU">EDDTableFromEML</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/display-info"><span title="дисплей информация и DisplayАтрибут Тэги" class="linkLabel_WmDU">дисплей информация и DisplayАтрибут Тэги</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/localized-metadata"><span title="Локализованные метаданные" class="linkLabel_WmDU">Локализованные метаданные</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/prometheus"><span title="Прометей" class="linkLabel_WmDU">Прометей</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/feature-flags"><span title="Особенности флагов" class="linkLabel_WmDU">Особенности флагов</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/mqtt-integration"><span title="ERDDAP Интеграция MQTT" class="linkLabel_WmDU">ERDDAP Интеграция MQTT</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/ru/docs/category/contributing"><span title="Вклад" class="categoryLinkLabel_W154">Вклад</span></a><button aria-label="Расширение категории боковой панели &quot;Вклад&quot;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/ru/docs/dokka"><span title="Dataset Scripts Code Документация" class="categoryLinkLabel_W154">Dataset Scripts Code Документация</span></a><button aria-label="Расширение категории боковой панели &quot;Dataset Scripts Code Документация&quot;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/ru/docs/category/user"><span title="Пользователь" class="categoryLinkLabel_W154">Пользователь</span></a><button aria-label="Расширение категории боковой панели &quot;Пользователь&quot;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Хлебные крошки"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Домашняя страница" class="breadcrumbs__link" href="/ru/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/ru/docs/category/server-administration"><span>Управление сервером</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Работая с datasets.xml Файл</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">На этой странице</button></div><div class="theme-doc-markdown markdown"><header><h1>Работая с datasets.xml Файл</h1></header>
<p>\[ Эта страница будет представлять интерес только для ERDDAP™ Администраторы. \]</p>
<p>После того, как вы последовали за ERDDAP™   <a class="" href="/ru/docs/server-admin/deploy-install">Инструкция по установке</a> Вы должны редактировать datasets.xml файл в <em>кот</em> /content/erddap/ для описания наборов данных, которые вы ERDDAP™ Установка будет служить.</p>
<p>Вы можете увидеть пример <a href="https://github.com/ERDDAP/erddap/blob/main/development/jetty/config/datasets.xml" target="_blank" rel="noopener noreferrer" class=""> datasets.xml На GitHub</a> .</p>
<ul>
<li class="">
<ul>
<li class=""></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="introduction"><a href="#introduction" class="">Введение</a><a href="#introduction" class="hash-link" aria-label="Прямая ссылка наintroduction" title="Прямая ссылка наintroduction" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="some-assembly-required">Некоторая сборка требуется<a href="#some-assembly-required" class="hash-link" aria-label="Прямая ссылка наНекоторая сборка требуется" title="Прямая ссылка наНекоторая сборка требуется" translate="no">​</a></h3>
<p>Настройка набора данных в ERDDAP™ Это не просто вопрос указания на каталог или URL набора данных. Вы должны написать часть XML для datasets.xml который описывает набор данных.</p>
<ul>
<li class="">Для сетчатых наборов данных, чтобы сделать набор данных соответствующим ERDDAP Структура данных для сетчатых данных должна идентифицировать подмножество переменных набора данных, которые имеют одинаковые размеры. ( <a href="#why-just-two-basic-data-structures" class="">Почему?</a>   <a href="#dimensions" class="">Как?</a> )</li>
<li class="">Текущие метаданные набора данных импортируются автоматически. Но если вы хотите изменить эти метаданные или добавить другие метаданные, вы должны указать их в datasets.xml . И ERDDAP™ нуждается в других метаданных, в том числе <a href="#global-attributes" class="">глобальные атрибуты</a>   (такие как infoUrl институт, sourceUrl , резюме и название) и <a href="#variable-addattributes" class="">переменные атрибуты</a>   (такие как long\_name и единицы) . Так же, как метаданные, которые в настоящее время находятся в наборе данных, добавляют описательную информацию к набору данных, метаданные, запрошенные ERDDAP™ Добавляет описательную информацию в набор данных. Дополнительные метаданные являются хорошим дополнением к вашему набору данных и помогают. ERDDAP™ Сделайте лучшую работу по представлению ваших данных пользователям, которые не знакомы с ними.</li>
<li class="">ERDDAP™ Вы должны делать особые вещи с <a href="#destinationname" class="">долгота, широта, высота (или глубина) и временные переменные</a> .</li>
</ul>
<p>Если вы купитесь на эти идеи и израсходуете усилия на создание XML datasets.xml Вы получаете все преимущества ERDDAP™ В том числе:</p>
<ul>
<li class="">Полный текстовый поиск наборов данных</li>
<li class="">Поиск наборов данных по категориям</li>
<li class="">Форма доступа к данным ( * datasetID * .html) Таким образом, вы можете запросить подмножество данных в различных форматах файлов.</li>
<li class="">Формы для запроса графиков и карт ( * datasetID * граф)</li>
<li class="">Сервис Web Map ( WMS ) для сетчатых наборов данных</li>
<li class="">RESTful доступ к вашим данным</li>
</ul>
<p>Сделать datasets.xml Это требует значительных усилий для первых нескольких наборов данных. <strong>становится легче</strong> . После первого набора данных вы часто можете повторно использовать большую часть своей работы для следующего набора данных. К счастью, ERDDAP™ поставляется с двумя <a href="#tools" class="">Инструменты</a> Чтобы помочь вам создать XML для каждого набора данных datasets.xml .
Если вы застряли, посмотрите наш <a class="" href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a> .</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="varaibles-in-datasetsxml">Переменные в datasets.xml<a href="#varaibles-in-datasetsxml" class="hash-link" aria-label="Прямая ссылка наПеременные в datasets.xml" title="Прямая ссылка наПеременные в datasets.xml" translate="no">​</a></h3>
<p>В качестве ERDDAP™ версия 2.29.0, datasets.xml Сейчас (необязательно) обработанный a <a href="https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringSubstitutor.html" target="_blank" rel="noopener noreferrer" class="">Стрингзаместитель</a> . Это имеет много применений, включая установление частных ценностей. (как пароли) Использование переменных среды. Это можно отключить, установив функцию «EnvParsing» в setup.xml.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="data-provider-form">Поставщик данных форма<a href="#data-provider-form" class="hash-link" aria-label="Прямая ссылка наПоставщик данных форма" title="Прямая ссылка наПоставщик данных форма" translate="no">​</a></h3>
<p>Когда к вам приходит поставщик данных, надеясь добавить некоторые данные в ваш компьютер. ERDDAP Это может быть трудным и трудоемким для сбора всех метаданных. (Информация о наборе данных) Необходимо добавить набор данных в ERDDAP . Многие источники данных (Например, файлы .csv, Файлы Excel, базы данных) не имеют внутренних метаданных, поэтому ERDDAP™ имеет форму поставщика данных, которая собирает метаданные от поставщика данных и дает поставщику данных некоторые другие рекомендации, включая обширные рекомендации для <a href="https://coastwatch.pfeg.noaa.gov/erddap/dataProviderForm1.html#databases" target="_blank" rel="noopener noreferrer" class="">Данные в базах данных</a> . Представленная информация преобразуется в datasets.xml формат, а затем по электронной почте ERDDAP™ администратор (ты) и письменный (прилагаемый) то <em>BigParent Директория</em> /logs/dataProviderForm.log. Таким образом, форма полуавтоматизирует процесс получения набора данных в ERDDAP но это ERDDAP™ Администратор должен завершить datasets.xml Обработка и получение файла данных (s) от поставщика или подключения к базе данных.</p>
<p>Подача фактических файлов данных из внешних источников представляет собой огромный риск безопасности. ERDDAP™ Не имеет дело с этим. Вы должны найти решение, которое работает для вас и поставщика данных, например, электронная почта. (для небольших файлов) Вытащить из облака (Например, DropBox или Google Drive.) Сайт Sftp (с паролями) или кроссовки нет (USB большой палец или внешний жесткий диск) . Вы должны принимать только файлы от людей, которых вы знаете. Вам нужно будет сканировать файлы на наличие вирусов и принимать другие меры безопасности.</p>
<p>Нет никакой связи в ERDDAP™ в форму поставщика данных (Например, на ERDDAP™ домашняя страница) . Вместо этого, когда кто-то говорит вам, что они хотят, чтобы их данные служили вашим. ERDDAP Вы можете отправить им электронное письмо, сказав что-то вроде:
Да, мы можем получить ваши данные в ERDDAP . Для начала, пожалуйста, заполните форму вhttps://<em>yourUrl</em>/erddap/dataProviderForm.html  (или http:// если https:// не включен) .
После того, как вы закончите, я свяжусь с вами, чтобы проработать окончательные детали.
Если вы хотите посмотреть форму (не заполняя его) Вы можете увидеть форму на ERD ? ERDDAP : <a href="https://coastwatch.pfeg.noaa.gov/erddap/dataProviderForm.html" target="_blank" rel="noopener noreferrer" class="">Введение</a> , <a href="https://coastwatch.pfeg.noaa.gov/erddap/dataProviderForm1.html" target="_blank" rel="noopener noreferrer" class="">Часть 1</a> , <a href="https://coastwatch.pfeg.noaa.gov/erddap/dataProviderForm2.html" target="_blank" rel="noopener noreferrer" class="">Часть 2</a> , <a href="https://coastwatch.pfeg.noaa.gov/erddap/dataProviderForm3.html" target="_blank" rel="noopener noreferrer" class="">Часть 3</a> и <a href="https://coastwatch.pfeg.noaa.gov/erddap/dataProviderForm4.html" target="_blank" rel="noopener noreferrer" class="">Часть 4</a> . Эти ссылки на ERD   ERDDAP™ Отправляйте информацию мне, а не вам, так что не отправляйте информацию с ними, если вы действительно не хотите добавлять данные в ERD   ERDDAP .</p>
<p>Если вы хотите удалить форму поставщика данных из вашей ERDDAP™ ставить</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;dataProviderFormActive&gt;false&lt;/dataProviderFormActive&gt;  </span><br></span></code></pre></div></div>
<p>В файле setup.xml.</p>
<p>Толчком к этому послужил NOAA 2014 год <a href="https://www.glerl.noaa.gov/review2016/reviewer_docs/NOAA_PARR_Plan_v5.04.pdf" target="_blank" rel="noopener noreferrer" class="">Публичный доступ к результатам исследований (ПАРР) директива</a> которая требует, чтобы все NOAA Экологические данные, финансируемые за счет средств налогоплательщиков, предоставляются через службу данных. (Не только файлы) В течение 12 месяцев после создания. Повышен интерес к использованию ERDDAP™ Чтобы сделать наборы данных доступными через службу ASAP. Нам нужен был более эффективный способ работы с большим количеством поставщиков данных.</p>
<p>Обратная связь / Предложения? Эта форма новая, поэтому, пожалуйста, пишите erd dot data at noaa dot gov Если у вас есть какие-либо отзывы или предложения по улучшению этого.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="tools">Инструменты<a href="#tools" class="hash-link" aria-label="Прямая ссылка наИнструменты" title="Прямая ссылка наИнструменты" translate="no">​</a></h3>
<p>ERDDAP™ Он поставляется с двумя программами командной строки, которые являются инструментами, которые помогут вам создать XML для каждого набора данных, который вы хотите. ERDDAP™ служить. Как только вы создали ERDDAP™ и запустить его (хотя бы один раз) Вы можете найти и использовать эти программы в <em>кот</em> /webapps/erddap/WEB-INF каталог. Есть скрипты оболочки Linux/Unix (с расширением .sh) и Windows скрипты (С расширением .bat) для каждой программы. \[ В Linux эти инструменты запускаются одним и тем же пользователем. (Томкат?) Это будет Tomcat. \] Когда вы запустите каждую программу, она задаст вам вопросы. Для каждого вопроса введите ответ, затем нажмите Enter. Или нажмите ^C, чтобы выйти из программы в любое время.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="program-wont-run">Программа не будет работать?<a href="#program-wont-run" class="hash-link" aria-label="Прямая ссылка наПрограмма не будет работать?" title="Прямая ссылка наПрограмма не будет работать?" translate="no">​</a></h4>
<ul>
<li class="">Если вы получили неизвестную программу (или аналогичный) Сообщение об ошибке, проблема в том, что операционная система не может найти Java . Вы должны выяснить, где Java Он находится на вашем компьютере, затем отредактируйте ссылку java в файле .bat или .sh, который вы пытаетесь использовать.</li>
<li class="">Если вы получаете файл банка не найден или класс не найден сообщение об ошибке, то Java Вы не можете найти один из классов, перечисленных в файле .bat или .sh. Решение состоит в том, чтобы выяснить, где находится файл .jar, и отредактировать ссылку на него в файле .bat или .sh.</li>
<li class="">Если вы используете версию Java Это слишком старая программа, программа не запускается, и вы увидите сообщение об ошибке.
Исключение в потоке &quot;основной&quot; java.lang.UnsupportedClassVersionError:
<em>некоторый/класс/имя</em> Неподдерживаемая версия major.minor <em>некоторое число</em><br>
<!-- -->Решение заключается в обновлении до последней версии Java Убедитесь, что файл .sh или .bat для программы использует его.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-tools-print-various-diagnostic-messages">Инструменты печатают различные диагностические сообщения:<a href="#the-tools-print-various-diagnostic-messages" class="hash-link" aria-label="Прямая ссылка наИнструменты печатают различные диагностические сообщения:" title="Прямая ссылка наИнструменты печатают различные диагностические сообщения:" translate="no">​</a></h4>
<ul>
<li class="">Слово «ERROR» используется, когда что-то пошло не так, что процедура не была завершена. Хотя это раздражает, чтобы получить ошибку, ошибка заставляет вас иметь дело с проблемой.</li>
<li class="">Слово «предупреждение» используется, когда что-то пошло не так, но процедуру удалось завершить. Они довольно редкие.</li>
<li class="">Все остальное — лишь информативное сообщение. Вы можете добавить \-verbose к <a href="#generatedatasetsxml" class="">Генерировать наборы данныхXml</a> или <a href="#dasdds" class="">DasDds</a> командная строка для получения дополнительных информативных сообщений, что иногда помогает решить проблемы.</li>
</ul>
<p>Эти два инструмента очень полезны, но вы все равно должны внимательно прочитать все эти инструкции на этой странице и самостоятельно принимать важные решения.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="generatedatasetsxml">Генерировать наборы данныхXml<a href="#generatedatasetsxml" class="hash-link" aria-label="Прямая ссылка наГенерировать наборы данныхXml" title="Прямая ссылка наГенерировать наборы данныхXml" translate="no">​</a></h3>
<ul>
<li class=""><strong>Генерировать наборы данныхXml</strong> Программа командной строки, которая может генерировать черновой проект набора данных XML практически для любого типа набора данных.</li>
</ul>
<p>Мы настоятельно рекомендуем использовать GenerateDatasets Xml вместо того, чтобы создавать куски datasets.xml От руки, потому что:</p>
<ul>
<li class="">Генерировать наборы данных Xml работает в считанные секунды. Делать это вручную — это как минимум час работы, даже если вы знаете, что делаете.</li>
<li class="">Генерировать наборы данных Xml работает лучше. Делать это вручную требует обширных знаний о том, как ERDDAP™ Работает. Маловероятно, что вы сделаете лучшую работу вручную. (Боб Саймонс всегда использует наборы данных Xml для первого черновика, и он написал ERDDAP .)</li>
<li class="">Генерировать наборы данных Xml всегда генерирует действительный кусок datasets.xml . Любой кусок datasets.xml Вы, вероятно, будете иметь по крайней мере несколько ошибок, которые предотвратят ERDDAP™ от загрузки набора данных. Часто людям требуется несколько часов, чтобы диагностировать эти проблемы. Не трать свое время. Пусть генерируют Наборы данных Xml делает тяжелую работу. Тогда вы можете усовершенствовать .xml вручную, если хотите.</li>
</ul>
<p>Когда вы используете наборы данных Программа XML:</p>
<ul>
<li class="">В Windows, когда вы впервые запускаете GenerateDatasetsXml, вам нужно редактировать файл GenerateDatasetsXml.bat с текстовым редактором, чтобы изменить путь к java. Файл exe, чтобы Windows могла найти Java .</li>
<li class="">Генерировать наборы данных Xml сначала просит указать EDDType (Набор данных Erd Dap Тип) из набора данных. Видишь? <a href="#list-of-types-datasets" class="">Список типов наборов данных</a>   (в этом документе) Чтобы выяснить, какой тип подходит для набора данных, над которым вы работаете. В дополнение к обычным EDDTypes, есть также несколько <a href="#specialpseudo-dataset-types" class="">Специальные / псевдотипы наборов данных</a>   (Например, тот, который сканирует каталог THREDDS, чтобы создать кусок datasets.xml для каждого из наборов данных в каталоге) .</li>
<li class="">Генерировать наборы данных Затем Xml задает вам ряд вопросов, относящихся к EDDType. Вопросы собирают информацию, необходимую для ERDDAP™ получить доступ к источнику данных. Чтобы понять, что ERDDAP™ запрашивает, см. документацию для EDDType, которую вы указали, нажав на тот же тип набора данных <a href="#list-of-types-datasets" class="">Список типов наборов данных</a> .</li>
</ul>
<p>Если вам нужно ввести строку со специальными символами (Например, символы белого пространства в начале или конце, не-ASCII символы) Войдите в <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer" class="">Струна в стиле JSON</a>   (с особыми персонажами, сбежавшими с персонажами) . Например, чтобы ввести только символ вкладки, введите «\t» (с окружающими двойными цитатами, которые говорят: ERDDAP™ Это струна в стиле JSON.</p>
<ul>
<li class="">Часто одним из ваших ответов будет не то, что нужно GenerateDatasetsXml. Затем вы можете попробовать снова, с пересмотренными ответами на вопросы, до генерации наборов данных. Xml может найти и понять исходные данные.</li>
<li class="">Если вы правильно отвечаете на вопросы (или достаточно правильно) Генерировать наборы данных Xml подключится к источнику данных и соберет основную информацию (Например, имена переменных и метаданные) .
Для наборов данных, которые являются локальными NetCDF   .nc и связанные файлы, генерировать наборы данных Xml часто печатает ncdump-подобную структуру файла после его первого чтения. Это может дать вам информацию, чтобы лучше ответить на вопросы в последующем цикле через GenerateDatasetsXml.</li>
<li class="">Генерировать наборы данных Затем Xml сгенерирует черновой проект набора данных XML для этого набора данных.</li>
<li class="">Диагностическая информация и черновой проект набора данных XML будут записаны на <em>BigParent Директория</em> /logs/GenerateDatasetsXml.log.</li>
<li class="">Грубый проект набора данных XML будет написан на <em>BigParent Директория</em> /logs/GenerateDatasetsXml.out.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="0-files-error-message">&quot;0 файлов&quot; сообщение об ошибке<a href="#0-files-error-message" class="hash-link" aria-label="Прямая ссылка на&quot;0 файлов&quot; сообщение об ошибке" title="Прямая ссылка на&quot;0 файлов&quot; сообщение об ошибке" translate="no">​</a></h4>
<p>Если вы используете GenerateDatasets Xml или <a href="#dasdds" class="">DasDds</a> Если вы пытаетесь загрузить EDDGrid Из... материалов или из... Файлы Dataset in ERDDAP™ , и вы получаете сообщение об ошибке «0 файлов», указывающее, что ERDDAP™ найдено 0 совпадающих файлов в каталоге (Когда вы думаете, что в этом каталоге есть соответствующие файлы) :</p>
<ul>
<li class="">
<p>Убедитесь, что вы указали полное имя каталога. И если вы указали имя файла образца, убедитесь, что вы указали полное имя файла, включая полное имя каталога.</p>
</li>
<li class="">
<p>Убедитесь, что файлы действительно находятся в этом каталоге.</p>
</li>
<li class="">
<p>Проверьте написание названия каталога.</p>
</li>
<li class="">
<p>Проверьте файл NameRegex. Очень, очень легко делать ошибки с регексами. Для целей тестирования попробуйте regex .\*, который должен соответствовать всем именам файлов. (Посмотри. <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">нормативная документация</a> и <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">учебник по регексу</a> .)</p>
</li>
<li class="">
<p>Убедитесь, что пользователь, который запускает программу (Пользователь=tomcat (?) Для Tomcat/ ERDDAP ) У вас есть разрешение «читать» эти файлы.</p>
</li>
<li class="">
<p>В некоторых операционных системах (Например, SELinux) В зависимости от системных настроек пользователь, который запустил программу, должен иметь разрешение «читать» для всей цепочки каталогов, ведущих в каталог, в котором есть файлы.</p>
</li>
<li class="">
<p>Если у вас есть проблемы, которые вы не можете решить, <a class="" href="/ru/docs/intro#support">запросить поддержку</a> как можно больше информации. Аналогичным образом, если кажется, что соответствующий EDDType для данного набора данных не работает с этим набором данных, или если нет соответствующего EDDType, пожалуйста, подавайте заявку на регистрацию. <a href="https://github.com/ERDDAP/erddap/issues" target="_blank" rel="noopener noreferrer" class="">Обсуждение GitHub</a> с подробностями (и образец файла, если это необходимо) .
 </p>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="you-need-to-edit-the-output-from-generatedatasetsxml-to-make-it-better">Вам нужно отредактировать выход из GenerateDatasets Xml, чтобы сделать его лучше.<a href="#you-need-to-edit-the-output-from-generatedatasetsxml-to-make-it-better" class="hash-link" aria-label="Прямая ссылка наВам нужно отредактировать выход из GenerateDatasets Xml, чтобы сделать его лучше." title="Прямая ссылка наВам нужно отредактировать выход из GenerateDatasets Xml, чтобы сделать его лучше." translate="no">​</a></h4>
<p> </p>
<ul>
<li class="">
<p>Дисклеймер:
Курица datasets.xml Сделано, чтобы генерировать наборы данных Xml не идеален. Вы должны прочитать и отредактировать XML, прежде чем использовать его в публичной форме. ERDDAP . Генерировать наборы данных Xml полагается на множество правил, которые не всегда верны. Вы обязаны поддерживать правильность XML, к которому вы присоединились. ERDDAP &#x27;S&#x27; datasets.xml Файл.</p>
<p>(Интересный факт: я не кричу. По историческим юридическим причинам отказ от ответственности должен быть написан во всех колпаках.)</p>
</li>
</ul>
<p>Выход GenerateDatasetsXml является черновым проектом.
Вам почти всегда придется его редактировать.
Мы приложили и продолжаем прилагать огромные усилия, чтобы сделать выход как можно более готовым, но есть пределы. Часто необходимая информация просто недоступна из исходных метаданных.</p>
<p>Основная проблема заключается в том, что мы запрашиваем компьютерную программу. (Генерировать наборы данныхXml) Если бы вы дали такую же задачу 100 людям, вы бы получили 100 различных результатов. Нет единого «правильного» ответа. Очевидно, программа ближе всего подходит к чтению мыслей Боба. (Не твой) Но даже в этом случае это не всепонимающая программа ИИ, просто куча эвристиков, собранных вместе, чтобы выполнить задачу, похожую на ИИ. (Этот день всепонимающей программы ИИ может наступить, но он еще не наступил. Если это произойдет, у людей могут быть большие проблемы. Будьте осторожны с тем, что вы хотите.)</p>
<ul>
<li class="">
<p>В информационных целях на выходе показаны глобальный источник Атрибуты и переменный источник Атрибуты в виде комментариев. ERDDAP™ комбинирует атрибуты и addAttributes   (которые имеют приоритет) Чтобы сделать комбинированный Атрибуты, которые показываются пользователю. (И другие атрибуты автоматически добавляются к долготе, широте, высоте, глубине и временным переменным, когда ERDDAP™ Фактически делает набор данных) .
 </p>
</li>
<li class="">
<p>Если вам не нравится исходный атрибут, перезапишите его, добавив дополнительный атрибут с тем же именем, но с другим значением. (или нет, если вы хотите удалить) .
 </p>
</li>
<li class="">
<p>Все это addAttributes Это компьютерные предложения. Редактируйте их! Если вам не нравится дополнительный атрибут, измените его.
 </p>
</li>
<li class="">
<p>Если вы хотите добавить другие addAttributes Добавьте их.
 </p>
</li>
<li class="">
<p>Если вы хотите изменить а destinationName Измени это. Но не меняйся. sourceName С.
 </p>
</li>
<li class="">
<p>Вы можете изменить порядок dataVariable или удалить любой из них.</p>
<ul>
<li class="">Затем вы можете использовать <a href="#dasdds" class="">DasDds</a>   (см. ниже) многократно тестировать XML для этого набора данных, чтобы убедиться, что полученный набор данных отображается так, как вы хотите. ERDDAP .</li>
<li class="">Не стесняйтесь вносить небольшие изменения в datasets.xml Части, которые были созданы, например, обеспечивают лучшую infoUrl , резюме или название.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="donotaddstandardnames">Не добавляйте стандартные имена<a href="#donotaddstandardnames" class="hash-link" aria-label="Прямая ссылка наНе добавляйте стандартные имена" title="Прямая ссылка наНе добавляйте стандартные имена" translate="no">​</a></h4>
<p>Если вы включаете \-doNotAddStandardNames в качестве параметра командной строки при генерации Наборы данных Xml, генерировать Наборы данных Xml не будет добавлять standard\_name к addAttributes для любых переменных, кроме переменных широты, долготы, высоты, глубины или времени (которые очевидны standard\_name s) . Это может быть полезно, если вы используете выход из генерации. Наборы данных Xml непосредственно в ERDDAP™ Не редактируя выход, потому что генерировать Наборы данных Xml часто угадывает standard\_name неправильно. (Обратите внимание, что мы всегда рекомендуем вам редактировать вывод перед его использованием. ERDDAP .) Использование этого параметра будет иметь другие незначительные связанные эффекты, потому что standard\_name часто используется для других целей, например, для создания нового long\_name , а также для создания цветовых баров.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="scripting">Сценарий<a href="#scripting" class="hash-link" aria-label="Прямая ссылка наСценарий" title="Прямая ссылка наСценарий" translate="no">​</a></h4>
<p>В качестве альтернативы интерактивному ответу на вопросы на клавиатуре и циклированию для создания дополнительных наборов данных вы можете предоставить аргументы командной строки для ответа на все вопросы для создания одного набора данных. Генерировать наборы данных Xml обрабатывает эти параметры, записывает вывод в файл вывода и выходит из программы.</p>
<p>Чтобы настроить это, сначала используйте программу в интерактивном режиме и запишите свои ответы. Вот частичный пример:
Допустим, вы запускаете сценарий: ./GenerateDatasetsXml.sh
Далее введите: EDDTableFromAsciiFiles
Введите: /u00/data/
Затем введите: .*\.asc
Далее введите: /u00/data/sampleFile.asc
Далее введите: ISO-8859-1</p>
<p>Чтобы запустить это неинтерактивным способом, используйте эту командную строку:
./GenerateDatasetsXml.sh EDDTableFromAsciiFiles/u00/data/.\*\.asc/u00/data/sampleFile.asc ISO-8859-1
Таким образом, вы просто перечислите все ответы в командной строке.
Это должно быть полезно для наборов данных, которые часто меняются таким образом, что требует повторного запуска наборов данных. Xml (особенно EDDGrid Из ThreddsCatalog) .</p>
<p>Подробности:</p>
<ul>
<li class="">Если параметр содержит пространство или какой-то специальный символ, то закодируйте параметр как <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer" class="">Струна в стиле JSON</a> Например, &quot;мой параметр с пробелами и двумя \n линии&quot;.</li>
<li class="">Если вы хотите указать пустую строку в качестве параметра, используйте: ничего</li>
<li class="">Если вы хотите указать значение параметра по умолчанию, используйте:
 </li>
<li class="">Генерировать наборы данных Xml поддерживает -i <em>наборы данных XmlName</em> # <em>имя</em> параметр командной строки, который вставляет выход в указанный datasets.xml файл (Дефолт является <em>кот</em> /content/erddap/ datasets.xml ) . Генерировать наборы данных Xml ищет две строки в наборах данных XmlName:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;!-- Begin GenerateDatasetsXml #*tagName someDatetime* --&gt;  </span><br></span></code></pre></div></div>
<p>и</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;!-- End GenerateDatasetsXml #*tagName someDatetime* --&gt;  </span><br></span></code></pre></div></div>
<p>и заменяет все между этими строками новым контентом и изменяет некоторое время.</p>
<ul>
<li class="">Переключатель i обрабатывается только (и изменения в datasets.xml производится только) Если вы используете GenerateDatasets Xml с аргументами командной строки, которые определяют все ответы на все вопросы для одного цикла программы. (См. статью «Сценарий» выше.)   (Мышление таково: этот параметр предназначен для использования со сценариями. Если вы используете программу в интерактивном режиме (ввод информации на клавиатуре) Вы, вероятно, сгенерируете некоторые неправильные фрагменты XML, прежде чем сгенерировать тот, который вы хотите.)</li>
<li class="">Если строки «Начало» и «Конец» не найдены, то эти строки и новый контент вставляются прямо перед этим.&lt;/erddapDatasets.</li>
<li class="">Существует также -I (капитал i) переключатель для целей тестирования, который работает так же, как -i, но создает файл, называемый datasets.xml  <em>Время даты</em> и не вносит изменений в datasets.xml .</li>
<li class="">Не запускайте GenerateDatasets Xml с -i в двух процессах одновременно. Есть вероятность, что будет сохранен только один набор изменений. Могут быть серьезные проблемы (Например, поврежденные файлы) .</li>
</ul>
<p>Если вы используете «GenerateDatasetsXml-verbose», он будет печатать больше диагностических сообщений, чем обычно.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="specialpseudo-dataset-types">Специальные / псевдотипы наборов данных<a href="#specialpseudo-dataset-types" class="hash-link" aria-label="Прямая ссылка наСпециальные / псевдотипы наборов данных" title="Прямая ссылка наСпециальные / псевдотипы наборов данных" translate="no">​</a></h4>
<p>Варианты EDDType в GenerateDatasets Xml соответствие типов EDD, описанных в этом документе (Видишь? <a href="#list-of-types-datasets" class="">Список типов наборов данных</a> ) и создать один datasets.xml фрагмент для создания одного набора данных из одного конкретного источника данных. Есть несколько исключений и особых случаев:</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromerddap">EDDGrid Из Эрддапа<a href="#eddgridfromerddap" class="hash-link" aria-label="Прямая ссылка наEDDGrid Из Эрддапа" title="Прямая ссылка наEDDGrid Из Эрддапа" translate="no">​</a></h5>
<p>EDDType генерирует все datasets.xml Куски, которые нужно сделать <a href="#eddfromerddap" class=""> EDDGrid Из Эрддапа</a> наборы данных от всех EDDGrid Наборы данных в удаленном ERDDAP . У вас будет возможность сохранить оригинал. datasetID s (которые могут дублировать некоторые datasetID уже в вашей ERDDAP ) или создавать новые имена, которые будут уникальными; (Но, как правило, не так читабельны) .
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromerddap">EDDTable FromErddap<a href="#eddtablefromerddap" class="hash-link" aria-label="Прямая ссылка наEDDTable FromErddap" title="Прямая ссылка наEDDTable FromErddap" translate="no">​</a></h5>
<p>EDDType генерирует все datasets.xml Куски, которые нужно сделать <a href="#eddfromerddap" class="">EDDTable FromErddap</a> наборы данных из всех наборов данных EDDTable в удаленном ERDDAP . У вас будет возможность сохранить оригинал. datasetID s (которые могут дублировать некоторые datasetID уже в вашей ERDDAP ) или создавать новые имена, которые будут уникальными; (Но, как правило, не так читабельны) .
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromthreddscatalog">EDDGrid Из ThreddsCatalog<a href="#eddgridfromthreddscatalog" class="hash-link" aria-label="Прямая ссылка наEDDGrid Из ThreddsCatalog" title="Прямая ссылка наEDDGrid Из ThreddsCatalog" translate="no">​</a></h5>
<p>EDDType генерирует все datasets.xml Куски, необходимые для всех <a href="#eddgridfromdap" class=""> EDDGrid Из папы</a> наборы данных, которые он может найти, сканируя рекурсивно через THREDDS (субподряд) каталог. Существует множество форм каталога THREDDS URL. Эта опция требует URL .xml с /catalog / в нем, например,
<a href="https://oceanwatch.pfeg.noaa.gov/thredds/catalog/catalog.xml%D0%B8%D0%BB%D0%B8" target="_blank" rel="noopener noreferrer" class="">https://oceanwatch.pfeg.noaa.gov/thredds/catalog/catalog.xmlили</a>
<a href="https://oceanwatch.pfeg.noaa.gov/thredds/catalog/Satellite/aggregsatMH/chla/catalog.xml" target="_blank" rel="noopener noreferrer" class="">https://oceanwatch.pfeg.noaa.gov/thredds/catalog/Satellite/aggregsatMH/chla/catalog.xml</a><br>
<!-- -->(перенаправлено с «Каталог .html»)
<a href="https://oceanwatch.pfeg.noaa.gov/thredds/Satellite/aggregsatMH/chla/catalog.html%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D1%8B%D0%B5" target="_blank" rel="noopener noreferrer" class="">https://oceanwatch.pfeg.noaa.gov/thredds/Satellite/aggregsatMH/chla/catalog.htmlкоторые</a> не являются приемлемыми для EDDGrid Из ThreddsCatalog.
Если у вас есть проблемы с EDDGrid Из Тредд Каталог:</p>
<ul>
<li class="">Убедитесь, что URL, который вы используете, действителен, включает /catalog / и заканчивается /catalog.xml.</li>
<li class="">Если возможно, используйте публичный IP-адрес. (Например,<a href="https://oceanwatch.pfeg.noaa.gov" target="_blank" rel="noopener noreferrer" class="">https://oceanwatch.pfeg.noaa.gov</a>) URL, а не локальный цифровой IP-адрес (Например,<a href="https://12.34.56.78" target="_blank" rel="noopener noreferrer" class="">https://12.34.56.78</a>) . Если THREDDS доступен только через локальный цифровой IP-адрес, вы можете использовать&lt;конвертироватьToPublicSourceUrl&gt; (#конвертный публичный ресурс) так ERDDAP™ Пользователи видят публичный адрес, даже если ERDDAP™ Получает данные с локального числового адреса.</li>
<li class="">Если у вас есть проблемы, которые вы не можете решить, <a href="#troubleshooting-tips" class="">Проверьте советы по устранению неполадок</a> .</li>
<li class="">Низкоуровневый код для этого теперь использует Unidata netcdf-java каталог crawler code (Толстяки. Каталожные классы) Чтобы он мог обрабатывать все каталоги THREDDS (которые могут быть удивительно сложными) Благодаря Unidata для этого кода.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridlonpm180fromerddapcatalog">EDDGrid LonPM180FromErddapКаталог<a href="#eddgridlonpm180fromerddapcatalog" class="hash-link" aria-label="Прямая ссылка наEDDGrid LonPM180FromErddapКаталог" title="Прямая ссылка наEDDGrid LonPM180FromErddapКаталог" translate="no">​</a></h5>
<p>Данный тип генерирует datasets.xml делать <a href="#eddgridlonpm180" class=""> EDDGrid LonPM180</a> наборы данных от всех EDDGrid наборы данных в одном ERDDAP которые имеют значения долготы более 180.</p>
<ul>
<li class="">Если возможно, используйте публичный IP-адрес. (Например,<a href="https://oceanwatch.pfeg.noaa.gov" target="_blank" rel="noopener noreferrer" class="">https://oceanwatch.pfeg.noaa.gov</a>) URL, а не локальный цифровой IP-адрес (Например,<a href="https://12.34.56.78" target="_blank" rel="noopener noreferrer" class="">https://12.34.56.78</a>) . Если ERDDAP™ Доступен только через локальный цифровой IP-адрес, который вы можете использовать.&lt;конвертироватьToPublicSourceUrl&gt; (#конвертный публичный ресурс) так ERDDAP™ Пользователи видят публичный адрес, даже если ERDDAP™ Получает данные с локального числового адреса.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridlon0360fromerddapcatalog">EDDGrid Lon0360FromErddapКаталог<a href="#eddgridlon0360fromerddapcatalog" class="hash-link" aria-label="Прямая ссылка наEDDGrid Lon0360FromErddapКаталог" title="Прямая ссылка наEDDGrid Lon0360FromErddapКаталог" translate="no">​</a></h5>
<p>Данный тип генерирует datasets.xml делать <a href="#eddgridlon0360" class=""> EDDGrid Lon0360</a> наборы данных от всех EDDGrid наборы данных в одном ERDDAP которые имеют значения долготы менее 0.</p>
<ul>
<li class="">Если возможно, используйте публичный IP-адрес. (Например,<a href="https://oceanwatch.pfeg.noaa.gov" target="_blank" rel="noopener noreferrer" class="">https://oceanwatch.pfeg.noaa.gov</a>) URL, а не локальный цифровой IP-адрес (Например,<a href="https://12.34.56.78" target="_blank" rel="noopener noreferrer" class="">https://12.34.56.78</a>) . Если ERDDAP™ Доступен только через локальный цифровой IP-адрес, который вы можете использовать.&lt;конвертироватьToPublicSourceUrl&gt; (#конвертный публичный ресурс) так ERDDAP™ Пользователи видят публичный адрес, даже если ERDDAP™ Получает данные с локального числового адреса.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddsfromfiles">EDDs From Files<a href="#eddsfromfiles" class="hash-link" aria-label="Прямая ссылка наEDDs From Files" title="Прямая ссылка наEDDs From Files" translate="no">​</a></h5>
<p>Учитывая начальный каталог, он пересекает каталог и все подкаталоги и пытается создать набор данных для каждой группы файлов данных, которые он находит.</p>
<ul>
<li class="">Это предполагает, что когда набор данных найден, набор данных включает все подкаталоги.</li>
<li class="">Если набор данных найден, аналогичные каталоги братьев и сестер будут рассматриваться как отдельные наборы данных. (Например, каталоги 1990-х, 2000-х, 2010-х годов будут генерировать отдельные наборы данных.) . Их легко комбинировать вручную — просто измените первый набор данных.&lt;fileDir&gt; в родительский каталог и удалить все последующие наборы данных.</li>
<li class="">Это позволит создать лишь часть datasets.xml наиболее распространенный тип расширения файла в каталоге (Не считая .md5, который игнорируется) . Итак, дается каталог с 10 .nc файлы и файлы 5.txt, набор данных будет генерироваться для .nc Только файлы.</li>
<li class="">Это предполагает, что все файлы в каталоге с одинаковым расширением принадлежат к одному и тому же набору данных. Если в каталоге есть .nc Файлы с данными SST и некоторые .nc Файлы с данными хлорофилла, только один образец .nc Файл будет читаться (ССТ? Хлорофилл?) Для этого типа файла будет создан только один набор данных. Этот набор данных, вероятно, не будет загружаться из-за сложностей с загрузкой двух типов файлов в один и тот же набор данных.</li>
<li class="">Если в каталоге меньше 4 файлов с наиболее распространенным расширением, это предполагает, что они не являются файлами данных и просто пропускают каталог.</li>
<li class="">Если в каталоге есть 4 или более файлов, но это не может успешно генерировать часть datasets.xml для файлов (Например, неподдерживаемый тип файла) Это будет генерировать <a href="#eddtablefromfilenames" class="">EDDTable FromFileNames</a> Набор данных для файлов.</li>
<li class="">В конце диагностики, что это записывает в файл журнала, непосредственно перед datasets.xml Куски, это напечатает таблицу с резюме информации, собранной путем пересечения всех подкаталогов. В таблице будут перечислены все подкаталоги и указан наиболее распространенный тип расширения файла, общее количество файлов и какой тип набора данных был создан для этих файлов. (если есть) . Если вы столкнулись со сложной, глубоко вложенной файловой структурой, рассмотрите возможность запуска GenerateDatasets. Xml с EDDType=EDDsFromFiles только для генерации этой информации,</li>
<li class="">Этот вариант может не очень хорошо угадать лучший EDDType для данной группы файлов данных, но это быстро, легко и стоит попробовать. Если исходные файлы подходят, они хорошо работают и являются хорошим первым шагом в создании исходных файлов. datasets.xml для файловой системы с большим количеством подкаталогов, каждый с файлами данных из разных наборов данных.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromeml-and-eddtablefromemlbatch">EDDTable FromEML и EDDTable FromEMLBatch<a href="#eddtablefromeml-and-eddtablefromemlbatch" class="hash-link" aria-label="Прямая ссылка наEDDTable FromEML и EDDTable FromEMLBatch" title="Прямая ссылка наEDDTable FromEML и EDDTable FromEMLBatch" translate="no">​</a></h5>
<p>Специальный EDDType генерирует datasets.xml чтобы сделать <a href="#eddtablefromasciifiles" class="">EDDTableFromAsciiFiles</a> набор данных из каждой таблицы, описанной в <a href="https://knb.ecoinformatics.org/external//emlparser/docs/index.html" target="_blank" rel="noopener noreferrer" class="">Экологический язык метаданных</a> XML файл. Вариант «Бэтч» работает со всеми файлами EML в локальном или удаленном каталоге. Пожалуйста, смотрите отдельно <a class="" href="/ru/docs/server-admin/EDDTableFromEML">Документация для EDDTableFromEML</a> .
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefrominport">EDDTable FromInPort<a href="#eddtablefrominport" class="hash-link" aria-label="Прямая ссылка наEDDTable FromInPort" title="Прямая ссылка наEDDTable FromInPort" translate="no">​</a></h5>
<p>Этот специальный EDDType генерирует datasets.xml чтобы сделать <a href="#eddtablefromasciifiles" class="">EDDTableFromAsciiFiles</a> набор данных из информации в <a href="https://inport.nmfs.noaa.gov/inport" target="_blank" rel="noopener noreferrer" class="">инпорт-хмл</a> Файл. Если вы можете получить доступ к исходному файлу данных (файл inport-xml должен иметь подсказки, где его найти) Вы можете создать рабочий набор данных в ERDDAP .</p>
<p>Следующие шаги описывают, как использовать наборы данных Xml с файлом inport-xml, чтобы получить рабочий набор данных ERDDAP .</p>
<ol>
<li class="">Если у вас есть доступ к файлу inport-xml (URL или локальный файл) Скачать GenerateDatasets Xml, укажите EDDType=EDDTableFromInPort, укажите URL-адрес inport-xml или полное имя файла, укажите, какой ребенок=0, и укажите другую запрашиваемую информацию (если известно) . (На данный момент вам не нужно иметь файл исходных данных или указывать его имя.) Настройка whatChild=0 сообщает наборы данных Xml записывает информацию для <strong>все</strong> из&lt;информация о сущности-атрибуте&gt;&lt;в файле inport-xml (Если есть какие-либо) . Он также распечатывает сводку справочной информации, включая все скачиваемые URL-адреса, перечисленные в файле inport-xml.</li>
<li class="">Просмотрите всю эту информацию (Справочная информация, которая генерирует наборы данных Принты Xml) Посетить download-url (s) Чтобы попытаться найти исходный файл данных (s) . Если вы можете найти его (их) скачать (их) в каталог, доступный для ERDDAP . (Если вы не можете найти какие-либо исходные файлы данных, нет смысла продолжать.)</li>
<li class="">Run Generate скачать Наборы данных Снова XML.
Если исходный файл данных соответствует одному из файлов inport-xml&lt;информация о сущности-атрибуте&gt;&lt;Сущность&gt;, указать, какой ребенок= <em>Число этой организации</em>   (Например, 1, 2, 3, ...) . ERDDAP™ будет пытаться сопоставить имена столбцов в файле исходных данных с именами в информации об объекте и предложит принять/отклонить/исправить любые расхождения.
Или, если файл inport-xml не имеет&lt;информация о сущности-атрибуте&gt;&lt;Сущность&gt;, указать, какой ребенок = 0.</li>
<li class="">В куске datasets.xml Производитель: GenerateDatasets Xml, revise [глобальный]&lt; addAttributes &gt; (#глобальные атрибуты) по мере необходимости/желания.</li>
<li class="">В куске datasets.xml Это сделано GenerateDatasetsXml, добавьте/пересмотрите [&lt; dataVariable &gt; (#datavariable) информацию по мере необходимости/желания для описания каждой из переменных. Убедитесь, что вы правильно определили каждую переменную.
[править]&lt; sourceName &gt; (#sourcename)   (Как видно из источника) ,
[править]&lt; destinationName &gt; (#назначение)   (которые имеют больше ограничений, чем разрешенные персонажи. sourceName ) ,
[править]&lt;единицы&gt; (#единицы)   (Особенно если это а <a href="#timestamp-variables" class="">переменная времени или метки времени</a> где необходимо указать формат) и
[править]&lt; missing\_value &gt; (#missing_value) ,</li>
<li class="">Когда вы близки к завершению, неоднократно используйте <a href="#dasdds" class="">DasDds</a> инструмент для быстрого определения того, является ли описание набора данных действительным и появится ли набор данных в ERDDAP™ Как ты хочешь.
 </li>
</ol>
<p>Было бы здорово, если бы группы, использующие InPort для документирования своих наборов данных, также использовали бы ERDDAP™ Чтобы сделать реальные данные доступными:</p>
<ul>
<li class="">ERDDAP™ Это решение, которое можно использовать прямо сейчас, чтобы вы могли выполнить его. NOAA ? <a href="https://nosc.noaa.gov/EDMC/PD.DSP.php" target="_blank" rel="noopener noreferrer" class="">Публичный доступ к результатам исследований (ПАРР) требования</a> Прямо сейчас, а не в какое-то неопределенное время в будущем.</li>
<li class="">ERDDAP™ Это делает данные доступными для пользователей, а не только метаданные. (Что такое метаданные без данных?)</li>
<li class="">ERDDAP™ Поддерживает метаданные (В частности, единицы переменных) В отличие от некоторых других рассматриваемых серверов данных. (Чем хороши данные без метаданных?) Использовать программное обеспечение, которое не поддерживает метаданные, означает приглашать данные к неправильному пониманию и неправильному использованию.</li>
<li class="">ERDDAP™ Это бесплатное программное обеспечение с открытым исходным кодом, в отличие от некоторых других рассматриваемых программ. Постоянное развитие ERDDAP™ Уже оплачено. Поддержка ERDDAP™ Пользователи свободны.</li>
<li class="">ERDDAP Внешний вид может быть легко настроен, чтобы отразить и выделить вашу группу. (не ERD или ERDDAP ) .</li>
<li class="">ERDDAP™ предлагает последовательный способ доступа ко всем наборам данных.</li>
<li class="">ERDDAP™ Он может считывать данные из многих типов файлов данных и реляционных баз данных.</li>
<li class="">ERDDAP™ Они могут иметь дело с большими наборами данных, включая наборы данных, где исходные данные находятся во многих файлах данных.</li>
<li class="">ERDDAP™ может записывать данные во многие типы файлов данных по запросу пользователя, включая типы файлов научных данных, такие как netCDF, ESRI .csv и ODV .txt .</li>
<li class="">ERDDAP™ может создавать пользовательские графики и карты подмножеств данных на основе спецификаций пользователя.</li>
<li class="">ERDDAP™ может иметь дело с наборами данных, не относящихся к данным, такими как коллекции изображений, видео или аудиофайлов.</li>
<li class="">ERDDAP™ Он был установлен и использован в <a class="" href="/ru/#who-uses-erddap">Более 60 учреждений по всему миру</a> .</li>
<li class="">ERDDAP™ является одним из серверов данных, рекомендуемых для использования внутри NOAA в <a href="https://www.ngdc.noaa.gov/wiki/index.php/Data_Access_Technical_Recommendations#Software_implementations" target="_blank" rel="noopener noreferrer" class=""> NOAA Процедурная директива о доступе к данным</a> В отличие от других рассматриваемых программ.</li>
<li class="">ERDDAP™ является продуктом NMFS / NOAA Используя его внутри NMFS и NOAA Он должен быть предметом гордости для NMFS и NOAA .</li>
</ul>
<p>Пожалуйста, дайте ERDDAP™ Попробуй. Если вам нужна помощь, пожалуйста, оставьте сообщение в ERDDAP™ Группа Google.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="addfillvalueattributes">AddFillValueАтрибуты<a href="#addfillvalueattributes" class="hash-link" aria-label="Прямая ссылка наAddFillValueАтрибуты" title="Прямая ссылка наAddFillValueАтрибуты" translate="no">​</a></h5>
<p>Этот специальный вариант EDDType не является типом набора данных. Это инструмент, который может добавлять атрибуты \_FillValue к некоторым переменным в некоторых наборах данных. Видишь? <a href="#add-_fillvalue-attributes" class="">AddFillValueАтрибуты</a> .
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="findduplicatetime">Найти дубликаты Время<a href="#findduplicatetime" class="hash-link" aria-label="Прямая ссылка наНайти дубликаты Время" title="Прямая ссылка наНайти дубликаты Время" translate="no">​</a></h5>
<p>Этот специальный вариант EDDType не является типом набора данных. Вместо этого он сообщает наборы данных Xml для поиска по коллекции сетчатых .nc   (связанный) Файлы для поиска и распечатки списка файлов с дублирующими значениями времени. Когда он смотрит на временные значения, он преобразует их из исходных единиц в &quot;seconds since 1970-01-01&quot; В случае, если разные файлы используют разные строки блоков. Вы должны предоставить стартовый каталог (с или без клещей) , имя файла регулярное выражение (Например, .\*\ .nc  ) и имя переменной времени в файлах.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="ncdump">слияние<a href="#ncdump" class="hash-link" aria-label="Прямая ссылка наслияние" title="Прямая ссылка наслияние" translate="no">​</a></h5>
<p>Этот специальный вариант EDDType не является типом набора данных. Вместо этого он сообщает наборы данных Xml для печати <a href="https://linux.die.net/man/1/ncdump" target="_blank" rel="noopener noreferrer" class="">слияние</a> подобная распечатка одной .nc , .nc мл, или .hdf Файл. Он использует netcdf-java. <a href="https://docs.unidata.ucar.edu/netcdf-java/5.4/javadoc/ucar/nc2/write/Ncdump.html" target="_blank" rel="noopener noreferrer" class="">NCdump</a> Это более ограниченный инструмент, чем C-версия NCdump. Если вы используете эту опцию, GenerateDatasetsXml попросит вас использовать один из вариантов: «-h» (заголовок) &quot;-с&quot; (координаты vars) &quot;Вальс&quot; (по умолчанию) , &quot;-v var1;var2&quot;, &quot;-v var1&quot; (0,0:10,0:20) &quot;. Это полезно, потому что без ncdump трудно понять, что находится в одном месте. .nc , .nc мл, или .hdf файл и, таким образом, какой EDDType вы должны указать для GenerateDatasets Хмл. Для одного .nc файл мл, это напечатает вывод ncdump для результата .nc Изменения файла мл, применяемые к базовому .nc или .hdf Файл.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dasdds">DasDds<a href="#dasdds" class="hash-link" aria-label="Прямая ссылка наDasDds" title="Прямая ссылка наDasDds" translate="no">​</a></h3>
<ul>
<li class=""><a href="#dasdds" class=""> <strong>DasDds</strong> </a> Программа командной строки, которую вы можете использовать после того, как вы создали первую попытку XML для нового набора данных. datasets.xml . С помощью DasDds вы можете многократно тестировать и совершенствовать XML. При использовании программы DasDds:</li>
</ul>
<ol>
<li class="">В Windows, когда вы впервые запускаете DasDds, вам нужно отредактировать DasDds. bat файл с текстовым редактором, чтобы изменить путь к java. Файл exe, чтобы Windows могла найти Java .</li>
<li class="">DasDds просит вас datasetID Для набора данных, над которым вы работаете.</li>
<li class="">DasDds пытается создать набор данных datasetID .<!-- -->
<ul>
<li class="">DasDds всегда печатает множество диагностических сообщений.
Если вы используете &quot;DasDds -verbose&quot;, DasDds будет печатать больше диагностических сообщений, чем обычно.</li>
<li class="">Для безопасности DasDds всегда удаляет всю кэшированную информацию о наборе данных. (файлы) Для набора данных, прежде чем пытаться создать набор данных. Это эквивалентно установлению <a class="" href="/ru/docs/server-admin/additional-information#hard-flag">жесткий флаг</a> Таким образом, для агрегированных наборов данных вы можете временно настроить файл NameRegex, чтобы ограничить количество файлов, которые находит конструктор данных.</li>
<li class="">Если набор данных не загружается (по какой бы то ни было причине) DasDds остановится и покажет вам сообщение об ошибке для первой обнаруженной ошибки.
<strong>Не пытайтесь угадать, в чем может быть проблема. Внимательно прочитайте сообщение.</strong><br>
<!-- -->При необходимости прочитайте предыдущие диагностические сообщения, чтобы найти больше подсказок и информации.</li>
<li class=""><strong>Измените набор данных XML, чтобы попытаться решить эту проблему.</strong><br>
<!-- -->И пусть DasDds снова попытаются создать набор данных.</li>
<li class=""><strong>Если вы неоднократно решаете каждую проблему, вы в конечном итоге решите все проблемы.</strong><br>
<!-- -->и набор данных будет загружаться.</li>
</ul>
</li>
<li class="">Все выходы DasDds (диагностика и результаты) написаны на экране и <em>BigParent Директория</em> /logs/DasDds.log.</li>
<li class="">Если DasDds может создать набор данных, то DasDds покажет вам <a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#fileType_das" target="_blank" rel="noopener noreferrer" class="">.das (Структура атрибутов набора данных) </a> , <a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#fileType_dds" target="_blank" rel="noopener noreferrer" class="">.dds (Описатель набора данных Структура) </a> и <a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#timeGaps" target="_blank" rel="noopener noreferrer" class="">Пробелы во времени (временные промежутки) </a> информацию для набора данных на вашем экране и запишите их на <em>BigParent Директория</em> /logs/DasDds.out.</li>
<li class="">Часто вам нужно внести небольшие изменения в XML набора данных, чтобы очистить метаданные набора данных и перезапустить DasDds.</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="bonus-third-party-tool-erddap-lint">Бонус Инструмент третьей стороны: ERDDAP - кремень<a href="#bonus-third-party-tool-erddap-lint" class="hash-link" aria-label="Прямая ссылка наБонус Инструмент третьей стороны: ERDDAP - кремень" title="Прямая ссылка наБонус Инструмент третьей стороны: ERDDAP - кремень" translate="no">​</a></h3>
<p>ERDDAP -lint - это программа от Роба Фуллера и Адама Лидбеттера из Ирландского института морской пехоты, которую вы можете использовать для улучшения метаданных. ERDDAP™ наборы данных. ERDDAP -lint &quot;содержит правила и простое статическое веб-приложение для проведения некоторых тестов проверки против вашего ERDDAP™ Сервер. Все тесты проводятся в веб-браузере&quot;. Как будто [Инструмент Unix/Linux](<a href="https://en.wikipedia.org/wiki/Lint_(software)" target="_blank" rel="noopener noreferrer" class="">https://en.wikipedia.org/wiki/Lint_(software)</a> Вы можете изменить существующие правила или добавить новые. Видишь? <a href="https://github.com/IrishMarineInstitute/erddap-lint" target="_blank" rel="noopener noreferrer" class=""> ERDDAP - кремень</a> За дополнительной информацией.</p>
<p>Этот инструмент особенно полезен для наборов данных, которые вы создали некоторое время назад и теперь хотите обновить свои текущие настройки метаданных. Ранние версии GenerateDatasets Xml не приложила никаких усилий для создания глобальной сети. creator\_name , creator\_email Создатель_тип, или creator\_url метаданные. Вы можете использовать ERDDAP - идентифицировать наборы данных, в которых отсутствуют эти атрибуты метаданных.</p>
<p>Спасибо Робу и Адаму за то, что создали этот инструмент и сделали его доступным для всех. ERDDAP™ сообщество.
 </p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-basic-structure-of-the-datasetsxml-file">Основная структура этого datasets.xml Файл<a href="#the-basic-structure-of-the-datasetsxml-file" class="hash-link" aria-label="Прямая ссылка наОсновная структура этого datasets.xml Файл" title="Прямая ссылка наОсновная структура этого datasets.xml Файл" translate="no">​</a></h2>
<p>Необходимые и необязательные теги, разрешенные в datasets.xml файл (Сколько раз они могут появляться) показаны ниже. На практике ваш datasets.xml У них будет много&lt;теги dataset&gt; и используйте только другие теги внутри&lt;erddapDatasets по мере необходимости.</p>
<blockquote>
<p> &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;<br>
<!-- --> &lt;erddapDatasets&gt;<br>
<!-- -->   <a href="#angulardegreeunits" class="">&lt;angularDegreeUnits&gt;</a>...&lt;/angularDegreeUnits&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#angulardegreetrueunits" class="">&lt;angularDegreeTrueUnits&gt;</a>...&lt;/angularDegreeTrueUnits&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#cacheminutes" class="">&lt;cacheMinutes&gt;</a>...&lt;/cacheMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#commonstandardnames" class="">&lt;commonStandardNames&gt;</a>...&lt;/commonStandardNames&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#convertinterpolaterequestcsvexample" class="">&lt;convertInterpolateRequestCSVExample /&gt;</a> &lt;!-- 0 or more --&gt;<br>
<!-- -->   <a href="#convertinterpolatedatasetidvariablelist" class="">&lt;convertInterpolateDatasetIDVariableList /&gt;</a> &lt;!-- 0 or more --&gt;<br>
<!-- -->   <a href="#converttopublicsourceurl" class="">&lt;convertToPublicSourceUrl /&gt;</a> &lt;!-- 0 or more --&gt;<br>
<!-- -->   <a href="#decompressed-cache" class="">&lt;decompressedCacheMaxGB&gt;</a>...&lt;/decompressedCacheMaxGB&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#decompressed-cache" class="">&lt;decompressedCacheMaxMinutesOld&gt;</a>...&lt;/decompressedCacheMaxMinutesOld&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#drawlandmask" class="">&lt;drawLandMask&gt;</a>...&lt;/drawLandMask&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#emaildiagnosticstoerddata" class="">&lt;emailDiagnosticsToErdData&gt;</a>...&lt;/emailDiagnosticsToErdData&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#graphbackgroundcolor" class="">&lt;graphBackgroundColor&gt;</a>...&lt;/graphBackgroundColor&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#ipaddressmaxrequests" class="">&lt;ipAddressMaxRequests&gt;</a>...&lt;/ipAddressMaxRequests&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#ipaddressmaxrequestsactive" class="">&lt;ipAddressMaxRequestsActive&gt;</a>...&lt;ipAddressMaxRequestsActive&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#ipaddressunlimited" class="">&lt;ipAddressUnlimited&gt;</a>...&lt;ipAddressUnlimited&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#loaddatasetsminminutes" class="">&lt;loadDatasetsMinMinutes&gt;</a>...&lt;/loadDatasetsMinMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#loaddatasetsmaxminutes" class="">&lt;loadDatasetsMaxMinutes&gt;</a>...&lt;/loadDatasetsMaxMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#loglevel" class="">&lt;logLevel&gt;</a>...&lt;/logLevel&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#nthreads" class="">&lt;nGridThreads&gt;</a>...&lt;/nGridThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#nthreads" class="">&lt;nTableThreads&gt;</a>...&lt;/nTableThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#palettes" class="">&lt;palettes&gt;</a>...&lt;/palettes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#partialrequestmaxbytes-and-partialrequestmaxcells" class="">&lt;partialRequestMaxBytes&gt;</a>...&lt;/partialRequestMaxBytes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#partialrequestmaxbytes-and-partialrequestmaxcells" class="">&lt;partialRequestMaxCells&gt;</a>...&lt;/partialRequestMaxCells&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#requestblacklist" class="">&lt;requestBlacklist&gt;</a>...&lt;/requestBlacklist&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#slowdowntroublemillis" class="">&lt;slowDownTroubleMillis&gt;</a>...&lt;/slowDownTroubleMillis&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#subscriptionemailblacklist" class="">&lt;subscriptionEmailBlacklist&gt;</a>...&lt;/subscriptionEmailBlacklist&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#unusualactivity" class="">&lt;unusualActivity&gt;</a>...&lt;/unusualActivity&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#updatemaxevents" class="">&lt;updateMaxEvents&gt;</a>...&lt;/updateMaxEvents&gt; &lt;!-- 0 or 1 --&gt;</p>
<p>   <a href="#standard-text" class="">&lt;standardLicense&gt;</a>...&lt;/standardLicense&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;standardContact&gt;</a>...&lt;/standardContact&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;standardDataLicenses&gt;</a>...&lt;/standardDataLicenses&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;standardDisclaimerOfEndorsement&gt;</a>...&lt;/standardDisclaimerOfEndorsement&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;standardDisclaimerOfExternalLinks&gt;</a>...&lt;/standardDisclaimerOfExternalLinks&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;standardGeneralDisclaimer&gt;</a>...&lt;/standardGeneralDisclaimer&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;standardPrivacyPolicy&gt;</a>...&lt;/standardPrivacyPolicy&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;startHeadHtml5&gt;</a>...&lt;/startHeadHtml5&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;startBodyHtml5&gt;</a>...&lt;/startBodyHtml5&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;theShortDescriptionHtml&gt;</a>...&lt;/theShortDescriptionHtml&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;endBodyHtml5&gt;</a>...&lt;/endBodyHtml5&gt; &lt;!-- 0 or 1 --&gt;</p>
<p>   <a href="#user" class="">&lt;user username=&quot;...&quot; password=&quot;...&quot; roles=&quot;...&quot; /&gt;</a> &lt;!-- 0 or more --&gt;</p>
<p>   <a href="#list-of-types-datasets" class="">&lt;dataset&gt;</a>...&lt;/dataset&gt; &lt;!-- 1 or more --&gt;<br>
<!-- --> &lt;/erddapDatasets&gt;</p>
</blockquote>
<p>Возможно, в будущем будут разрешены и другие кодировки, но пока рекомендуется только ISO-8859-1.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="xinclude">XInclude<a href="#xinclude" class="hash-link" aria-label="Прямая ссылка наXInclude" title="Прямая ссылка наXInclude" translate="no">​</a></h3>
<p>Новая версия 2.25 поддерживает XInclude. Для этого необходимо использовать SAX-парсер.&lt;Использование SaxParser&gt;Правда&lt;/useSaxParser&gt; в setup.xml. Это позволяет записывать каждый набор данных в свой файл, а затем включать их все в основной файл. datasets.xml повторно использовать части определений набора данных или и то, и другое. Если вы хотите увидеть пример, <a href="https://github.com/ERDDAP/erddap/blob/main/src/test/java/testDataset/EDDTestDataset.java" target="_blank" rel="noopener noreferrer" class="">EDDTestDataset.java</a> XInclude для повторного использования переменных определений.
 </p>
<ul>
<li class="">
<ul>
<li class=""></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="notes">Заметки<a href="#notes" class="hash-link" aria-label="Прямая ссылка наЗаметки" title="Прямая ссылка наЗаметки" translate="no">​</a></h2>
<p>Работая с datasets.xml Файл является нетривиальным проектом. Пожалуйста, внимательно прочитайте все эти заметки. После того, как вы выберете <a href="#list-of-types-datasets" class="">тип набора данных</a> Пожалуйста, внимательно прочитайте подробное описание.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="choosing-the-dataset-type">Выбор типа набора данных<a href="#choosing-the-dataset-type" class="hash-link" aria-label="Прямая ссылка наВыбор типа набора данных" title="Прямая ссылка наВыбор типа набора данных" translate="no">​</a></h3>
<p>В большинстве случаев есть только один ERDDAP™ Тип набора данных, который подходит для данного источника данных. В некоторых случаях (например, .nc файлы) Есть несколько вариантов, но обычно один из них определенно лучше. Первое и самое важное решение, которое вы должны принять: целесообразно ли рассматривать набор данных как группу многомерных массивов. (Если так, то посмотрите <a href="#eddgrid" class=""> EDDGrid Типы наборов данных</a> ) или в виде таблицы данных, подобной базе данных (Если так, то посмотрите <a href="#eddtable" class="">Типы наборов данных EDDTable</a> ) .
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="serving-the-data-as-is">Обслуживание данных как есть<a href="#serving-the-data-as-is" class="hash-link" aria-label="Прямая ссылка наОбслуживание данных как есть" title="Прямая ссылка наОбслуживание данных как есть" translate="no">​</a></h3>
<p>Обычно нет необходимости изменять источник данных. (Например, конвертировать файлы в другие типы файлов) так что ERDDAP™ Может служить. Одно из предположений о ERDDAP™ Источник данных будет использоваться как есть. Обычно это работает хорошо. Некоторые исключения:</p>
<ul>
<li class="">Реляционные базы данных и Кассандра - ERDDAP™ Он может обслуживать данные непосредственно из реляционных баз данных и Cassandra. Но из-за проблем с безопасностью, балансировкой нагрузки и производительностью вы можете настроить другую базу данных с теми же данными или сохранить эти данные. NetCDF v3 .nc Файлы и иметь ERDDAP™ обслуживать данные из нового источника данных. Видишь? <a href="#eddtablefromdatabase" class="">EDDTable FromDatabase</a> и <a href="#eddtablefromcassandra" class="">EDDTable From Кассандра</a> .</li>
<li class="">Не поддерживаемые источники данных - ERDDAP™ Может поддерживать большое количество типов источников данных, но мир заполнен 1000-ми годами. (миллионов?) Различные источники данных (В частности, структуры файлов данных) . Если ERDDAP™ Не поддерживает источник данных:<!-- -->
<ul>
<li class="">Если источником данных является NetCDF   .nc Файлы, которые вы можете использовать <a href="#ncml-files" class="">NcML</a> изменять файлы данных на лету или использовать <a href="#netcdf-operators-nco" class=""> NCO </a> постоянно изменять файлы данных.</li>
<li class="">Вы можете записать данные в тип источника данных, который ERDDAP™ Поддержка. NetCDF -3 .nc Файлы являются хорошей общей рекомендацией, потому что они являются двоичными файлами. ERDDAP™ Можно читать очень быстро. Для табличных данных рассмотрите возможность хранения данных в коллекции .nc Файлы, которые используют <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Дискретная геометрия выборки (DSG) </a> Структуры данных Ragged Array и так могут обрабатываться ERDDAP ? <a href="#eddtablefromnccffiles" class="">EDDTable FromNcCFFiles</a> ). Если они логически организованы (Каждый с данными для куска пространства и времени) , ERDDAP™ Они могут быстро извлекать из них данные.</li>
<li class="">Вы можете запросить поддержку этого источника данных. ERDDAP™ По электронной почте Крис. Джон на noaa.gov.</li>
<li class="">Вы можете добавить поддержку этого источника данных, написав код для его обработки самостоятельно. Видишь? <a class="" href="/ru/docs/contributing/programmer-guide">тот ERDDAP™ Руководство программиста</a></li>
</ul>
</li>
<li class="">Скорость. ERDDAP™ Они могут считывать данные из одних источников гораздо быстрее, чем из других. Например, чтение NetCDF v3 .nc Считывание файлов ASCII происходит медленнее. Если есть большой (1000) или огромный (10 000) количество исходных файлов данных, ERDDAP™ Они будут реагировать на запросы данных медленно. Обычно разница не заметна для людей. Однако, если вы думаете ERDDAP™ медленный для данного набора данных, вы можете решить проблему, написав данные для более эффективной настройки (обычно: несколько, хорошо структурированных, NetCDF v3 .nc файлы) . Для табличных данных см. <a href="#millions-of-files" class="">Этот совет</a> .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="hint">подсказка<a href="#hint" class="hash-link" aria-label="Прямая ссылка наподсказка" title="Прямая ссылка наподсказка" translate="no">​</a></h3>
<p>Часто проще создать XML для набора данных, сделав копию рабочего описания набора данных в dataset.xml, а затем изменив его.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="encoding-special-characters">Кодирование специальных символов<a href="#encoding-special-characters" class="hash-link" aria-label="Прямая ссылка наКодирование специальных символов" title="Прямая ссылка наКодирование специальных символов" translate="no">​</a></h3>
<p>С тех пор datasets.xml XML-файл, который вы должны <a href="https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Predefined_entities_in_XML" target="_blank" rel="noopener noreferrer" class="">и кодировать</a> &quot;&amp;&quot;,&lt;&quot;, и &quot;&gt;&quot; в любом содержании как &quot;&amp;&quot;,&lt;&quot;, и &quot;&gt;&quot;.
Неправильно:&lt;Название Время и приливы&lt;/название&gt;
Правильно:&lt;Название Time &amp;amp - Приливы&lt;/название&gt;
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="xml-doesnt-tolerate-syntax-errors">XML не терпит синтаксических ошибок<a href="#xml-doesnt-tolerate-syntax-errors" class="hash-link" aria-label="Прямая ссылка наXML не терпит синтаксических ошибок" title="Прямая ссылка наXML не терпит синтаксических ошибок" translate="no">​</a></h3>
<p>После редактирования файла dataset.xml рекомендуется проверить, что результат <a href="https://www.w3schools.com/xml/xml_dtd.asp" target="_blank" rel="noopener noreferrer" class="">Хорошо сформированный XML</a> путем вставки текста XML в XML-проверку как <a href="https://www.xmlvalidation.com/" target="_blank" rel="noopener noreferrer" class="">xmlvalidation</a> .
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="troubleshooting-tips">Устранение неполадок Советы<a href="#troubleshooting-tips" class="hash-link" aria-label="Прямая ссылка наУстранение неполадок Советы" title="Прямая ссылка наУстранение неполадок Советы" translate="no">​</a></h3>
<ul>
<li class=""><strong>Другие способы диагностики проблем с наборами данных</strong><br>
<!-- -->Помимо двух основных <a href="#tools" class="">Инструменты</a> ,</li>
<li class=""><a class="" href="/ru/docs/server-admin/additional-information#log">log.txt</a> Это лог-файл со всеми ERDDAP Диагностические сообщения.</li>
<li class="">The <a class="" href="/ru/docs/server-admin/additional-information#daily-report">Ежедневный отчет</a> имеет больше информации, чем страница статуса, включая список наборов данных, которые не загружались, и исключения (ошибки) Они генерируются.</li>
<li class="">The <a class="" href="/ru/docs/server-admin/additional-information#status-page">Страница статуса</a> Это быстрый способ проверить ERDDAP статус от любого веб-браузера. Он включает в себя список наборов данных, которые не загружались. (Хотя и не соответствующие исключения) Задачи и задачиСтатистика (показать прогресс <a href="#eddgridcopy" class=""> EDDGrid Копия</a> и <a href="#eddtablecopy" class="">EDDTableCopy</a> наборы данных и любые <a href="#eddgridfromfiles" class=""> EDDGrid Из материалов</a> или <a href="#eddtablefromfiles" class="">EDDTable Из материалов</a> наборы данных, которые используют <a href="#cachefromurl" class="">кэш FromUrl</a>   (Но не кэш SizeGB) ) .</li>
<li class="">Если вы застряли, посмотрите наш <a class="" href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a> .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="special-variables">Специальные переменные<a href="#special-variables" class="hash-link" aria-label="Прямая ссылка наСпециальные переменные" title="Прямая ссылка наСпециальные переменные" translate="no">​</a></h3>
<ul>
<li class="">** <a href="#destinationname" class="">Долгота, широта, высота, глубина, давление и время (LLAT) переменный</a>   <a href="#destinationname" class=""> destinationName </a> Они особенные.**</li>
<li class="">В целом:<!-- -->
<ul>
<li class="">Переменные LLAT известны ERDDAP™ Если переменная оси (для EDDGrid наборы данных) переменная данных (Для наборов данных EDDTable)   <a href="#destinationname" class=""> destinationName </a> это «долгота», «широта», «высота», «глубина», или &quot;time&quot; .</li>
<li class="">Мы настоятельно рекомендуем вам использовать эти стандартные имена для этих переменных, когда это возможно. Ни один из них не требуется. Если вы не используете эти переменные имена, ERDDAP™ Они не признают их значения. Например, переменные LLAT обрабатываются специально с помощью Make A Graph. ( * datasetID * граф) Если переменная оси X является «долготой», а переменная оси Y — «широтой», вы получите карту. (использование стандартной проекции, а также маски, политических границ и т.д.) Вместо графа.</li>
<li class="">ERDDAP™ автоматически добавит много метаданных в переменные LLAT; (Например, &quot; <a href="#ioos_category" class=""> ioos\_category </a> &quot;,&quot; <a href="#units" class="">единицы</a> &quot;, а также несколько связанных со стандартами атрибутов, таких как &quot;\_CoordinateAxisType&quot;) .</li>
<li class="">ERDDAP™ автоматически будет добавлять множество глобальных метаданных, связанных со значениями LLAT выбранного подмножества данных; (Например, &quot;геопространственный_lon_min&quot;) .</li>
<li class="">Клиенты, которые поддерживают эти стандарты метаданных, смогут использовать добавленные метаданные для размещения данных во времени и пространстве.</li>
<li class="">Клиентам будет проще генерировать запросы, которые включают переменные LLAT, потому что имена переменных одинаковы во всех соответствующих наборах данных.</li>
</ul>
</li>
<li class="">Для переменной «долгота» и переменной «широта»:<!-- -->
<ul>
<li class="">Используйте <a href="#destinationname" class=""> destinationName </a> s «долгота» и «широта», только если <a href="#units" class="">единицы</a> Это градусы востока и севера соответственно. Если ваши данные не соответствуют этим требованиям, используйте разные имена переменных. (Например, x, y, lonRadians, latRadians) .</li>
<li class="">Если у вас есть данные о долготе и широте, выраженные в разных единицах и, следовательно, с разными значениями. destinationName s, например, lonRadians и latRadians, Make a Graph ( * datasetID * граф) Сделаем графики (Например, временные ряды) Вместо карт.</li>
</ul>
</li>
<li class="">Для переменной «высота», «предостережение» или «глубина»:<!-- -->
<ul>
<li class="">Используйте <a href="#destinationname" class=""> destinationName </a> «Высота» для определения расстояния данных над уровнем моря (Положительные = «высшие» значения) . Вы можете использовать «высоту» для расстояний ниже уровня моря, если значения отрицательны ниже уровня моря (или если вы используете, например,
[править]&lt;Att name=&quot;&quot; scale\_factor &quot;тип=&quot;int&quot;&gt;- 1 1&lt;/att&gt; (#scale-фактор) Преобразование значений глубины в значения высоты.</li>
<li class="">Используйте destinationName &quot;глубина&quot; для определения расстояния данных ниже уровня моря (Положительные = &quot;низовые&quot; значения) .</li>
<li class="">Альтернативно, для высот, определенных уровнями давления воздуха (такие как <a href="https://en.wikipedia.org/wiki/Contour_line#Barometric_pressure" target="_blank" rel="noopener noreferrer" class="">изобар</a> ) Вы должны установить destinationName «Давление». Это поддерживает блоки в «hPa», «Pa» и «mbar». (Положительные = &quot;низовые&quot; значения) .</li>
<li class="">Набор данных может иметь только одну переменную «высота», «давление» или «глубина».</li>
<li class="">Для этих переменных «высота» и «глубина» <a href="#units" class="">единицы</a> должны быть «м», «метр» или «метры». Если единицы отличаются (Например, фетомы) Вы можете использовать
[править]&lt;Att name=&quot;&quot; scale\_factor &quot; <em>некоторые ценность</em> &lt;/att&gt; (#scale-фактор) и&lt;Att name=&quot;units&quot;&gt;meters&lt;/att&gt; (#единицы) Преобразовать единицы в метры.</li>
<li class="">Если ваши данные не соответствуют этим требованиям, используйте другой destinationName   (Например, над землей, расстояние Внизу) .</li>
<li class="">Если вы знаете вертикальный CRS, пожалуйста, укажите его в метаданных, например, &quot;EPSG:5829&quot; (мгновенная высота над уровнем моря) &quot;EPSG:5831&quot; (мгновенная глубина ниже уровня моря) Или &quot;EPSG:5703&quot; (высота NAVD88) .</li>
</ul>
</li>
<li class="">Для &quot;time&quot; переменная:<!-- -->
<ul>
<li class="">Используйте <a href="#destinationname" class=""> destinationName </a>   &quot;time&quot; только для переменных, которые включают всю дату + время (Дата, если это все, что есть) . Если, например, существуют отдельные столбцы для даты и времени OfDay, не используйте имя переменной. &quot;time&quot; .</li>
<li class="">Видишь? <a href="#time-units" class="">единицы</a> для получения дополнительной информации об атрибутах единиц времени и переменных времени.</li>
<li class="">Временная переменная и связанные с ней <a href="#timestamp-variables" class="">время Штамповые переменные</a> Они уникальны тем, что всегда преобразуют значения данных из временного формата источника. (Что бы это ни было) в численное значение (секунды с 1970-01-01T00:00:00Z) или струнное значение (ISO 8601:2004 (Е) формат) В зависимости от ситуации.</li>
<li class="">Когда пользователь запрашивает данные времени, он может запросить их, указав время в качестве числового значения. (секунды с 1970-01-01T00:00:00Z) или струнное значение (ISO 8601:2004 (Е) формат) .</li>
<li class="">ERDDAP™ имеет полезность для <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html" target="_blank" rel="noopener noreferrer" class="">Преобразовать числовой Время в/из струнного времени</a> .</li>
<li class="">Видишь? <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html#erddap" target="_blank" rel="noopener noreferrer" class="">Как ERDDAP Сделки со временем</a> .</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-just-two-basic-data-structures">Почему только две основные структуры данных?<a href="#why-just-two-basic-data-structures" class="hash-link" aria-label="Прямая ссылка наПочему только две основные структуры данных?" title="Прямая ссылка наПочему только две основные структуры данных?" translate="no">​</a></h3>
<ul>
<li class="">Поскольку клиентам-людям и компьютерным клиентам трудно иметь дело со сложным набором возможных структур набора данных, ERDDAP™ использует только две основные структуры данных:<!-- -->
<ul>
<li class="">а <a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#dataModel" target="_blank" rel="noopener noreferrer" class="">сетчатая структура данных</a>   (Например, для спутниковых данных и данных моделей) и</li>
<li class="">а <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#dataModel" target="_blank" rel="noopener noreferrer" class="">Структура табличных данных</a>   (Например, для буя in-situ, станции и данных траектории) .</li>
</ul>
</li>
<li class="">Конечно, не все данные могут быть выражены в этих структурах. Таблицы, в частности, являются очень гибкими структурами данных. (Посмотрите на успех программ реляционных баз данных) .</li>
<li class="">Это облегчает создание запросов данных.</li>
<li class="">Это делает ответы на данные простой структурой, что облегчает обслуживание данных в более широком спектре типов стандартных файлов. (Часто они поддерживают простые структуры данных.) . Это главная причина, по которой мы создали ERDDAP™ сюда.</li>
<li class="">Это, в свою очередь, облегчает нам (или кто-либо) Написать клиентское программное обеспечение, которое работает со всеми ERDDAP™ наборы данных.</li>
<li class="">Это облегчает сравнение данных из разных источников.</li>
<li class="">Мы знаем, что если вы привыкли работать с данными в других структурах данных, вы можете изначально подумать, что этот подход является упрощенным или недостаточным. Но все структуры данных имеют компромиссы. Никто не идеален. Даже структуры do-it-all имеют свои недостатки: работа с ними сложна, и файлы могут быть написаны или прочитаны только с помощью специальных библиотек программного обеспечения. Если вы принимаете ERDDAP Подход достаточно, чтобы попытаться работать с ним, вы можете обнаружить, что он имеет свои преимущества. (Поддержка нескольких типов файлов, которые могут содержать ответы данных) . The <a href="https://coastwatch.pfeg.noaa.gov/erddap/images/erddapTalk/erddapTechTalk.html" target="_blank" rel="noopener noreferrer" class=""> ERDDAP™ слайд-шоу</a>   (В частности, <a href="https://coastwatch.pfeg.noaa.gov/erddap/images/erddapTalk/erddapTechTalk.html#dataStructures" target="_blank" rel="noopener noreferrer" class="">Структуры данных сливаются</a> ) Много говорят по этим вопросам.</li>
<li class="">И даже если этот подход кажется вам странным, большинство ERDDAP™ Клиенты никогда не заметят — они просто увидят, что все наборы данных имеют хорошую простую структуру, и они будут благодарны за то, что они могут получать данные из самых разных источников, возвращаемых в самых разных форматах файлов.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dimensions">Размеры<a href="#dimensions" class="hash-link" aria-label="Прямая ссылка наРазмеры" title="Прямая ссылка наРазмеры" translate="no">​</a></h3>
<ul>
<li class="">
<p><strong>Что, если переменные сетки в исходном наборе данных не имеют одинаковых переменных оси?</strong><br>
<!-- -->в EDDGrid Все переменные данных должны использоваться (доля) Все переменные оси. Таким образом, если исходный набор данных имеет некоторые переменные с одним набором измерений и другие переменные с другим набором измерений, вам придется сделать два набора данных. ERDDAP . Например, вы можете сделать один ERDDAP™ Оригинальное название: Some Title (на поверхности) &quot;для удержания переменных, которые просто используют \[ время \]  \[ широта \]  \[ долгота \] Размеры и сделать другой ERDDAP™ Оригинальное название: Some Title (на глубинах) &quot;для удержания переменных, которые используют \[ время \]  \[ высота \]  \[ широта \]  \[ долгота \] . Или, возможно, вы можете изменить источник данных, чтобы добавить измерение с одним значением. (Например, высота = 0) Чтобы переменные были последовательными.</p>
<p>ERDDAP™ не обрабатывает более сложные наборы данных (Например, модели, которые используют сетку треугольников.) Хорошо. Вы можете использовать эти наборы данных в ERDDAP™ путем создания двух или более наборов данных в ERDDAP™   (чтобы все переменные данных в каждом новом наборе данных имели одинаковый набор переменных оси) Но это не то, чего хотят пользователи. Для некоторых наборов данных вы можете рассмотреть возможность создания обычной сетчатой версии набора данных и предложить ее в дополнение к исходным данным. Некоторые клиентские программы могут работать только с обычной сетью, поэтому, делая это, вы получаете дополнительных клиентов.
 </p>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="projected-gridded-data">Проектируемые сетчатые данные<a href="#projected-gridded-data" class="hash-link" aria-label="Прямая ссылка наПроектируемые сетчатые данные" title="Прямая ссылка наПроектируемые сетчатые данные" translate="no">​</a></h3>
<p>Некоторые сетевые данные имеют сложную структуру. Спутниковый уровень 2 (&quot;Вдоль трассы&quot;) Данные не используют простой прогноз. Модели (и другие) Часто работает с сетчатыми данными по различным нецилиндрическим проекциям. (Например, конический, полярный стереографический, треугольный) или в неструктурированных сетях (Более сложная структура данных) . Некоторые конечные пользователи хотят, чтобы эти данные были такими, как есть, поэтому нет потери информации. Для таких клиентов, ERDDAP™ Данные могут служить, как есть, только если ERDDAP™ Администратор разбивает исходный набор данных на несколько наборов данных, причем каждая часть включает переменные, которые разделяют одни и те же переменные оси. Да, это кажется странным для вовлеченных людей, и это отличается от большинства других. OPeNDAP Серверы. Но ERDDAP™ Особое внимание уделяется обеспечению доступности данных во многих форматах. Это возможно потому, что ERDDAP™ требует более однородной структуры данных. Хотя это немного неловко (т.е. отличается от ожидаемого) , ERDDAP™ Может распространять прогнозируемые данные.</p>
<p>\[ Да, ERDDAP™ Они могут иметь более свободные требования к структуре данных, но сохраняют требования к выходным форматам. Но это приведет к путанице среди многих пользователей, особенно новичков, поскольку многие, казалось бы, действительные запросы на данные с различными структурами будут недействительными, потому что данные не будут вписываться в тип файла. Мы продолжаем возвращаться к дизайну системы. \]</p>
<p>Некоторым конечным пользователям нужны данные в lat lon цилиндрической проекции, такой как Equirectangular / plate carrée или Mercator, для удобства использования в различных ситуациях. В таких случаях мы поощряем ERDDAP™ Администратор использует другое программное обеспечение ( NCO ? Matlab ? Р? IDV? ...?) Перепроецировать данные на географическую (Трехугольная проекция / пластина carrée) или другой цилиндрической проекции и служат этой форме данных в ERDDAP™ как другой набор данных. Это похоже на то, что делают люди, когда преобразуют данные спутникового уровня 2 в данные уровня 3. Одним из таких инструментов является <a href="https://nco.sourceforge.net/nco.html#Regridding" target="_blank" rel="noopener noreferrer" class=""> NCO </a> который предлагает варианты расширения для регидирования данных.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="gis-and-reprojecting-data">ГИС и перепроектирование данных<a href="#gis-and-reprojecting-data" class="hash-link" aria-label="Прямая ссылка наГИС и перепроектирование данных" title="Прямая ссылка наГИС и перепроектирование данных" translate="no">​</a></h4>
<p>Поскольку ГИС-мир часто ориентирован на карты, ГИС-программы обычно предлагают поддержку перепроектирования данных, т.е. построения данных на карте с другой проекцией.</p>
<p>В настоящее время ERDDAP™ Не имеет инструментов для репроектирования данных. Вместо этого мы рекомендуем использовать внешний инструмент для создания варианта набора данных, где данные были перепроецированы из первоначальной формы на прямоугольную форму. (широта долготы) подходящий для ERDDAP .</p>
<p>По нашему мнению, CF/ DAP Мир немного отличается от мира ГИС и работает на несколько более низком уровне. ERDDAP™ Это отражается. В общем, ERDDAP™ Предназначен для работы в основном с данными (Не карты) И не хочет меняться (Например, репроект) Эти данные. Для ERDDAP™ , сетчатые данные часто/обычно/предпочтительно связаны со значениями lat lon и цилиндрической проекцией, а не с значениями x,y некоторой проекции. В любом случае, ERDDAP™ Он ничего не делает с проекцией данных; он просто передает данные через, как и его текущая проекция, на теорию, что репроекция является значительным изменением данных. ERDDAP™ Они не хотят быть вовлеченными в значительные изменения. Кроме того, последующие пользователи могут наивно перепроектировать данные снова, что будет не так хорошо, как просто сделать одну репроекцию. (Так что, если ERDDAP™ Администратор хочет предложить данные в другом прогнозе, отлично; просто перепроектируйте данные в автономном режиме и предложите их в виде другого набора данных. ERDDAP . Множество спутниковых наборов данных предлагаются в качестве так называемого уровня 2. (полоса) и как уровень 3 (Двухугольная проекция) версии.) Когда ERDDAP™ Делает карты (напрямую или через WMS или KML) , ERDDAP™ В настоящее время предлагается делать карты только с проекцией Equirectangular / plate carrée, которая, к счастью, принята большинством картографических программ.</p>
<p>Мы поощряем ERDDAP™ администраторы используют другое программное обеспечение ( NCO ? Matlab ? Р? IDV? ...?) Перепроецировать данные на географическую (Трехугольная проекция / пластина carrée) или другой цилиндрической проекции и служат этой форме данных в ERDDAP™ как другой набор данных. Это похоже на то, что делают люди, когда преобразуют данные спутникового уровня 2 в данные уровня 3. Одним из таких инструментов является <a href="https://nco.sourceforge.net/nco.html#Regridding" target="_blank" rel="noopener noreferrer" class=""> NCO </a> который предлагает варианты расширения для регидирования данных.</p>
<p>Мы надеемся, что ERDDAP™ В будущем будут созданы встроенные инструменты для создания карт с другими проекциями. Мы также надеемся на улучшение связей с ГИС в будущем. (кроме текущего WMS обслуживание) . Страшно, что в этом &quot;современном&quot; мире связи между КФ/ DAP Мир и ГИС все еще очень слабы. Обе эти вещи находятся в списке дел. (Если вы хотите помочь, особенно с подключением ERDDAP™ MapServer, пожалуйста, напишите Крису. Джон на noaa.gov.)</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="data-types">Типы данных<a href="#data-types" class="hash-link" aria-label="Прямая ссылка наТипы данных" title="Прямая ссылка наТипы данных" translate="no">​</a></h3>
<p>ERDDAP™ Поддерживает следующие типы данных
(имена являются деликатными; &#x27;u&#x27; Префикс означает «неподписанный»; число многих имен в других системах — это число битов.) :</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="byte">байт<a href="#byte" class="hash-link" aria-label="Прямая ссылка набайт" title="Прямая ссылка набайт" translate="no">​</a></h4>
<ul>
<li class=""><strong>байт</strong> подписанные целочисленные значения с диапазоном от -128 до 127.
В других системах это иногда называют int8.
Это называется «tinyint» от SQL и Cassandra.
ERDDAP™ конвертировать <a href="#boolean-data" class="">булевый</a> из некоторых источников (Например, SQL и Cassandra) в байтах в ERDDAP™ с значением 0 = ложное, 1 = истинное и 127 = missing\_value .</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ubyte">убайт<a href="#ubyte" class="hash-link" aria-label="Прямая ссылка наубайт" title="Прямая ссылка наубайт" translate="no">​</a></h4>
<ul>
<li class=""><strong>убайт</strong> имеет неподписанные целые значения с диапазоном от 0 до 255.
В других системах это иногда называют uint8.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="short">короткий<a href="#short" class="hash-link" aria-label="Прямая ссылка накороткий" title="Прямая ссылка накороткий" translate="no">​</a></h4>
<ul>
<li class=""><strong>короткий</strong> имеет целочисленные значения с диапазоном от -32768 до 32767.
В других системах это иногда называют int16.
Это называется «smallint» от SQL и Cassandra.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ushort">низкорослый<a href="#ushort" class="hash-link" aria-label="Прямая ссылка нанизкорослый" title="Прямая ссылка нанизкорослый" translate="no">​</a></h4>
<ul>
<li class=""><strong>низкорослый</strong> имеет неподписанные целые значения с диапазоном от 0 до 65535.
В других системах это иногда называют uint16.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="int">инт<a href="#int" class="hash-link" aria-label="Прямая ссылка наинт" title="Прямая ссылка наинт" translate="no">​</a></h4>
<ul>
<li class=""><strong>инт</strong> подписанные целочисленные значения с диапазоном от -2147483648 до 2147483647.
В других системах это иногда называют int32.
Это называется &quot;целое число&quot; | числовой (?) &quot;по SQL&quot; и &quot;внутри&quot; по Кассандре.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="uint">uint<a href="#uint" class="hash-link" aria-label="Прямая ссылка наuint" title="Прямая ссылка наuint" translate="no">​</a></h4>
<ul>
<li class=""><strong>uint</strong> имеет неподписанные значения целого числа с диапазоном от 0 до 4294967295.
В других системах это иногда называют uint32.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="long">длинный<a href="#long" class="hash-link" aria-label="Прямая ссылка надлинный" title="Прямая ссылка надлинный" translate="no">​</a></h4>
<ul>
<li class=""><strong>длинный</strong> имеет подписанные целочисленные значения с диапазоном -9223372036854775808 до 9223372036854775807.
В других системах это иногда называют int64.
Это называется &quot;бигинта&quot; | числовой (?) &quot;по SQL и &quot;бигинту&quot; Кассандры&quot;.
Поскольку многие типы файлов не поддерживают длинные данные, их использование не рекомендуется. По возможности используйте двойной (см. ниже) .</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ulong">улун<a href="#ulong" class="hash-link" aria-label="Прямая ссылка наулун" title="Прямая ссылка наулун" translate="no">​</a></h4>
<ul>
<li class=""><strong>улун</strong> имеет неподписанные целые числа с диапазоном от 0 до 18446744073709551615
В других системах это иногда называют uint64.
Поскольку многие типы файлов не поддерживают данные, их использование не рекомендуется. По возможности используйте двойной (см. ниже) .</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="float">плавать<a href="#float" class="hash-link" aria-label="Прямая ссылка наплавать" title="Прямая ссылка наплавать" translate="no">​</a></h4>
<ul>
<li class=""><strong>плавать</strong> IEEE 754 плавает с диапазоном приблизительно +/- 3.402823466e+38.
В других системах это иногда называют float32.
Это называется &quot;реальным&quot;. | плавать (?)  | десятичный (?)  | числовой (?) «SQL» и «Float» Кассандра.
Особое значение NaN означает Не-число.
ERDDAP™ Преобразует положительные и отрицательные значения бесконечности в NaN.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="double">двойной<a href="#double" class="hash-link" aria-label="Прямая ссылка надвойной" title="Прямая ссылка надвойной" translate="no">​</a></h4>
<ul>
<li class=""><strong>двойной</strong> IEEE 754 двойной с диапазоном приблизительно
+/- 1,7976931348623157E+308.
В других системах это иногда называют float64.
Это называется «двойной точностью». | плавать (?)  | десятичный (?)  | числовой (?) &quot;по SQL и &quot;двойной&quot; по Кассандре&quot;.
Особое значение NaN означает Не-число.
ERDDAP™ Преобразует положительные и отрицательные значения бесконечности в NaN.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="char">шар<a href="#char" class="hash-link" aria-label="Прямая ссылка нашар" title="Прямая ссылка нашар" translate="no">​</a></h4>
<ul>
<li class=""><strong>шар</strong> Одиночный, 2 байт (16-битный)   <a href="https://en.wikipedia.org/wiki/UTF-16" target="_blank" rel="noopener noreferrer" class="">Уникальный код UCS-2</a> варьировать от \u0000   (#0) через \uffff   (#65535) .
\uffff Определение не-характерно, аналогично двойному значению NaN.
Использование char не рекомендуется, потому что многие типы файлов либо не поддерживают чары, либо поддерживают только 1-байтовые чары. (см. ниже) . Подумайте об использовании струн вместо этого.
Пользователи могут использовать переменные char для создания графиков. ERDDAP™ преобразует символы в их кодовый номер Unicode, который может использоваться в качестве числовых данных.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="string">Струна<a href="#string" class="hash-link" aria-label="Прямая ссылка наСтруна" title="Прямая ссылка наСтруна" translate="no">​</a></h4>
<ul>
<li class=""><strong>Струна</strong> представляет собой последовательность 0 или более, 2 байта (16-битный)   <a href="https://en.wikipedia.org/wiki/UTF-16" target="_blank" rel="noopener noreferrer" class="">Unicode UCS-2 символы</a> .
ERDDAP™ использует/интерпретирует 0-длинную строку как недостающее значение. ERDDAP™ Он не поддерживает настоящую нулевую строку.
Теоретическая максимальная длина струн составляет 2147483647 символов, но, вероятно, в разных местах существуют различные проблемы даже с несколько более короткими струнами.
Использовать ERDDAP String for SQL&#x27;s character, varchar, character varying, binary, varbinary, interval, array, multiset, xml, and any other database data type that doesn&#x27;t fit cleanly with any other ERDDAP™ Тип данных.
Использовать ERDDAP Струна для &quot;текста&quot; Кассандры и любого другого типа данных Кассандры, который не соответствует чисто ни одному другому ERDDAP™ Тип данных.
 </li>
</ul>
<p>Перед ERDDAP™ v2.10, ERDDAP™ Он не поддерживал неподписанные целочисленные типы внутри и предлагал ограниченную поддержку в своих считывателях данных и авторах.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="data-type-limitations">Ограничения типа данных<a href="#data-type-limitations" class="hash-link" aria-label="Прямая ссылка наОграничения типа данных" title="Прямая ссылка наОграничения типа данных" translate="no">​</a></h3>
<p>Вы можете думать о ERDDAP™ как система, которая имеет виртуальные наборы данных и которая работает путем считывания данных из источника набора данных во внутреннюю модель данных и записи данных в различные службы (например,(OPeN)DAP, WMS ) и типы файлов в ответ на запросы пользователей.</p>
<ul>
<li class="">Каждый считыватель ввода поддерживает подмножество типов данных, которые ERDDAP™ Поддержка. Читать данные в ERDDAP Внутренние структуры данных не являются проблемой.</li>
<li class="">Каждый автор вывода также поддерживает подмножество типов данных. Это проблема, потому что ERDDAP Например, нужно втиснуть длинные данные в типы файлов, которые не поддерживают длинные данные.
 </li>
</ul>
<p>Ниже приведены объяснения ограничений (или нет) различных авторов и как ERDDAP™ занимается решением проблем. Такие осложнения являются неотъемлемой частью ERDDAP Цель - сделать разрозненные системы совместимыми.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ascii">АССИИ<a href="#ascii" class="hash-link" aria-label="Прямая ссылка наАССИИ" title="Прямая ссылка наАССИИ" translate="no">​</a></h4>
<ul>
<li class="">АССИИ (.csv, .tsv и т.д.) текстовые файлы -<!-- -->
<ul>
<li class="">Все числовые данные записываются через представление струн. (с отсутствующими значениями данных, появляющимися в виде строк 0-длины) .</li>
<li class="">Хотя ERDDAP™ правильно записывает длинные и длинные значения в текстовые файлы ASCII, многие читатели (Например, программы электронных таблиц) Они не могут правильно обращаться с длинными и длинными значениями и вместо этого преобразовывать их в двойные значения. (потеря точности в некоторых случаях) .</li>
<li class="">Данные Char и String записываются через JSON Strings, которые обрабатывают все символы Unicode. (Примечательно, что «необычные» персонажи за пределами ASCII #127, например, евро-персонаж появляется как «\u20ac».) .</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="json">Джон<a href="#json" class="hash-link" aria-label="Прямая ссылка наДжон" title="Прямая ссылка наДжон" translate="no">​</a></h4>
<ul>
<li class="">Джон ( .json , .jsonlCSV и т.д.) текстовые файлы -<!-- -->
<ul>
<li class="">Все числовые данные записываются через его струнное представление.</li>
<li class="">Данные Char и String записываются как JSON Strings, которые обрабатывают все символы Unicode. (Примечательно, что «необычные» персонажи за пределами ASCII #127, например, евро-персонаж появляется как «\u20ac».) .</li>
<li class="">Недостающие значения для всех типов числовых данных выглядят как нуль.
 </li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="nc3-files">.nc 3 Файлы<a href="#nc3-files" class="hash-link" aria-label="Прямая ссылка на.nc 3 Файлы" title="Прямая ссылка на.nc 3 Файлы" translate="no">​</a></h4>
<ul>
<li class="">.nc 3 файла изначально не поддерживают неподписанные целочисленные типы данных. До CF v1.9 CF не поддерживал неподписанные целые типы. Чтобы справиться с этим, ERDDAP™ 2.10+ следует стандарту NUG и всегда добавляет атрибут «\_Unsigned» со значением «истинно» или «ложно», чтобы указать, являются ли данные из неподписанной или подписанной переменной. Все целочисленные атрибуты пишутся как подписанные атрибуты. (например, байт) с подписанными значениями (например, убайт) actual\_range Атрибут со значениями от 0 до 255, появляется как байтовый атрибут со значениями от 0 до -1 (обратное значение комплемента двух значений вне диапазона). Нет простого способа узнать, какие целочисленные атрибуты следует читать как неподписанные атрибуты. ERDDAP™ Поддерживает атрибут «\_Unsigned» при чтении .nc 3 файла.</li>
<li class="">.nc 3 файла не поддерживают длинные или длинные типы данных. ERDDAP™ Это происходит путем временного преобразования их в двойные переменные. Двойники могут точно представлять все значения до +/- 9 007 199 254 740 992 Что составляет 253. Это несовершенное решение. Unidata Отказывается от незначительного обновления до .nc 3 для решения этой и связанных с ней проблем, ссылаясь .nc 4.4 (серьезное изменение) как решение.</li>
<li class="">Спецификация CF (до v1.9) Он сказал, что поддерживает тип данных char, но неясно, предназначен ли char только в качестве строительных блоков char-массивов, которые фактически являются струнами. Вопросы к их списку рассылки давали только запутанные ответы. Из-за этих осложнений лучше всего избегать переменных шара. ERDDAP™ Используйте струнные переменные, когда это возможно.</li>
<li class="">Традиционно, .nc 3 файла поддерживают только строки с кодировкой ASCII (7-битный, #0 - #127) персонажей. Нюг (и ERDDAP ) расширить (Начало 2017) путем включения атрибута &quot;\_Encoding&quot; со значением &quot;ISO-8859-1&quot; (Расширение ASCII, которое определяет все 256 значений каждого 8-битного символа.) или «UTF-8», чтобы указать, как кодируются данные строки. Другие кодировки могут быть законными, но не рекомендуется.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="nc4-files">.nc 4 Файлы<a href="#nc4-files" class="hash-link" aria-label="Прямая ссылка на.nc 4 Файлы" title="Прямая ссылка на.nc 4 Файлы" translate="no">​</a></h4>
<ul>
<li class="">.nc 4 файла поддерживают все ERDDAP Типы данных.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="nccsv-files">Файлы NCCSV<a href="#nccsv-files" class="hash-link" aria-label="Прямая ссылка наФайлы NCCSV" title="Прямая ссылка наФайлы NCCSV" translate="no">​</a></h4>
<p>Файлы NCCSV 1.0 не поддерживают неподписанные целые типы данных.
<a class="" href="/ru/docs/user/nccsv-1.00">NCCSV 1.1+ файлы</a> Поддержка всех неподписанных целочисленных типов данных.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="dap">DAP<a href="#dap" class="hash-link" aria-label="Прямая ссылка наDAP" title="Прямая ссылка наDAP" translate="no">​</a></h4>
<ul>
<li class="">(OPeN)DAP  (.das, .dds, .asc ASCII файлы и .dods двоичные файлы) -<!-- -->
<ul>
<li class="">(OPeN)DAPПравильно обрабатывает короткие, короткие, int, uint, плавающие и двойные значения.</li>
<li class="">(OPeN)DAPимеет «байтовый» тип данных, который он определяет как неподписанный, в то время как исторически THREDDS ERDDAP™ Обработали «байт» как подписанный в их(OPeN)DAPуслуг. Чтобы справиться с этим лучше, ERDDAP™ 2.10+ следует стандарту NUG и всегда добавляет атрибут «\_Unsigned» со значением «истинно» или «ложно», чтобы указать, являются ли данные тем, что ERDDAP™ Звонок байт или убайт. Все байтовые и убайтовые атрибуты записываются как «байтовые» атрибуты с подписанными значениями (например, убайт). actual\_range Атрибут со значениями от 0 до 255, появляется как байтовый атрибут со значениями от 0 до -1 (обратное значение комплемента двух значений вне диапазона). Не существует простого способа узнать, какие «байтовые» атрибуты следует читать как атрибуты убайт.</li>
<li class="">(OPeN)DAPне поддерживает подписанные или неподписанные долги. ERDDAP™ Это происходит путем временного преобразования их в двойные переменные и атрибуты. Двойники могут точно представлять все значения до 9 007 199 254 740 992. Что составляет 253. Это несовершенное решение. OPeNDAP   (организация) Отказывается от незначительного обновления до DAP 2.0 для решения этой и связанных с ней проблем, ссылаясь на DAP 4.4 (серьезное изменение) как решение.</li>
<li class="">Потому что(OPeN)DAPне имеет отдельного типа данных и технически поддерживает только 1-байтовые символы ASCII; (#0 - #127) В строках переменные данных шара будут отображаться как строки длиной 1 символ в(OPeN)DAP.das, .dds и .dods ответы.</li>
<li class="">Технически, это(OPeN)DAPСпецификация поддерживает только строки с символами, кодируемыми ASCII (#0 - #127) . Нюг (и ERDDAP ) расширить (Начало 2017) путем включения атрибута &quot;\_Encoding&quot; со значением &quot;ISO-8859-1&quot; (Расширение ASCII, которое определяет все 256 значений каждого 8-битного символа.) или «UTF-8», чтобы указать, как кодируются данные строки. Другие кодировки могут быть законными, но не рекомендуется.
 </li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="data-type-comments">Комментарии типа данных<a href="#data-type-comments" class="hash-link" aria-label="Прямая ссылка наКомментарии типа данных" title="Прямая ссылка наКомментарии типа данных" translate="no">​</a></h3>
<ul>
<li class="">Из-за плохой поддержки длинных, ulong и char данных во многих типах файлов, мы не рекомендуем использовать эти типы данных в других форматах. ERDDAP . Когда это возможно, используйте двойной вместо длинного и длинного, и используйте струну вместо чар.
 </li>
<li class="">Метаданные - потому что(OPeN)DAPРеакции .das и .dds не поддерживают длинные или длинные атрибуты или типы данных. (Вместо этого покажите их как двойники.) Вместо этого вы можете использовать ERDDAP табличное представление метаданных, как видно из http .../erdap/ <strong>информация</strong> / * datasetID * .html веб-страница (Например, <a href="https://coastwatch.pfeg.noaa.gov/erddap/info/cwwcNDBCMet/index.html" target="_blank" rel="noopener noreferrer" class="">https://coastwatch.pfeg.noaa.gov/erddap/info/cwwcNDBCMet/index.html</a>  )   (которые вы также можете получить в других типах файлов, например, .csv, .htmlTable , .itx , .json , .jsonlCSV1 , .jsonlCSV , .jsonlKVP , .mat , .nc , .nccsv , .tsv , .xhtml ) или .nccsv Ответ на метаданные (Например, <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/cwwcNDBCMet.nccsvMetadata" target="_blank" rel="noopener noreferrer" class="">https://coastwatch.pfeg.noaa.gov/erddap/tabledap/cwwcNDBCMet.nccsvMetadata</a> хотя и .nccsv Метаданные доступны только для табличных наборов данных) которые поддерживают все типы данных (В частности, длинный, улун и чар) .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="media-files">Медиафайлы<a href="#media-files" class="hash-link" aria-label="Прямая ссылка наМедиафайлы" title="Прямая ссылка наМедиафайлы" translate="no">​</a></h3>
<p>Не все данные представляют собой массивы цифр или текстов. Некоторые наборы данных состоят из или включают медиафайлы, такие как изображения, аудио и видео файлы. ERDDAP™ Он имеет некоторые специальные функции, которые облегчают пользователям доступ к медиафайлам. Это двухэтапный процесс:
 </p>
<ol>
<li class="">Сделайте каждый файл доступным через собственный URL-адрес, через систему, которая поддерживает запросы диапазона байтов.
Самый простой способ сделать это - поместить файлы в каталог, который ERDDAP™ Имеет доступ. (Если они находятся в контейнере, как .zip файл, разблокируйте их, хотя вы можете предложить .zip Файлы для пользователей тоже.) Затем сделайте <a href="#eddtablefromfilenames" class="">EDDTable FromFileNames</a> Набор данных, чтобы сделать эти файлы доступными через ERDDAP™ В частности, через ERDDAP ? <a href="https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html" target="_blank" rel="noopener noreferrer" class=""> &quot;files&quot; система</a> .</li>
</ol>
<p>Все файлы доступны через EDDTableFromFileNames и ERDDAP ? &quot;files&quot; Поддержка системы <a href="https://en.wikipedia.org/wiki/Byte_serving" target="_blank" rel="noopener noreferrer" class="">Запросы на диапазон байтов</a> . Обычно, когда клиент (Например, браузер) Делает запрос на URL, получает весь файл в качестве ответа. Но при запросе диапазона байтов запрос указывает диапазон байтов из файла, и сервер возвращает только эти байты. Это актуально здесь, потому что аудио- и видеоплееры в браузерах работают только в том случае, если доступ к файлу осуществляется через байтовые запросы.</p>
<p>Необязательно: Если у вас есть более одного набора данных с соответствующими медиафайлами, вы можете сделать только один EDDTableFromFileNames, который имеет подпапку для каждой группы файлов. Преимущество заключается в том, что когда вы хотите добавить новые медиафайлы для нового набора данных, все, что вам нужно сделать, это создать новую папку и поместить файлы в эту папку. Папка и файлы будут автоматически добавлены в набор данных EDDTableFromFileNames.</p>
<ol start="2">
<li class="">Необязательно: Если у вас есть набор данных, который включает ссылки на мультимедийные файлы, добавьте его в ERDDAP .
Например, у вас может быть файл .csv с строкой для каждого раза, когда кто-то видел кита, и столбец, который включает имя файла изображения, связанного с этим наблюдением. Если имя файла изображения является только именем файла, например, Img20141024T192403Z, а не полным URL-адресом, то вам нужно добавить: <a href="#fileaccessbaseurl" class="">FileAccessBase Url и/или fileAccessSuffix</a> атрибуты метаданных для этого dataVariable который определяет базовый URL и суффикс для этих имен файлов. Если вы сделали файлы доступными через EDDTableFromFileNames, URL будет в форме.
<em>основание</em> /erddap/файлы * datasetID * /
Например,</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;fileAccessBaseUrl&quot;&gt;*someBaseURL*&lt;/a&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;fileAccessSuffix&quot;&gt;.png&lt;/a&gt;</span><br></span></code></pre></div></div>
<p>Если есть а .zip или другой файл контейнера со всеми медиафайлами, связанными с переменной данных, мы рекомендуем вам также сделать этот файл доступным для пользователей. (См. шаг 1 выше) Затем отождествляем его с <a href="#fileaccessarchiveurl" class="">FileAccessArchive Урл</a> атрибут.</p>
<p>\[ Начинать с ERDDAP™ v1.82 \] Если вы сделаете первый шаг выше (или оба шага) Когда пользователь видит ERDDAP™   &quot;files&quot; Система для этого набора данных (или просит видеть подмножество набора данных через .htmlTable Если вы сделали второй шаг) , ERDDAP™ Отобразится значок «?» слева от имени файла. Если пользователь парит над этим значком, он увидит всплывающее окно, показывающее изображение, или аудиоплеер, или видеоплеер. Браузеры поддерживают ограниченное количество типов</p>
<ul>
<li class="">изображение (обычно .gif, .jpg и .png) ,</li>
<li class="">звук (обычно .mp3, .ogg и .wav) и</li>
<li class="">видеофайлы (Обычно это .mp4, .ogv и . веб) .</li>
</ul>
<p>Поддержка варьируется в зависимости от различных версий различных браузеров на разных операционных системах. Поэтому, если у вас есть выбор, какой тип файла предложить, имеет смысл предложить эти типы.</p>
<p>Или, если пользователь нажимает на имя файла, отображаемое на ERDDAP™ Веб-страница, их браузер покажет изображение, аудио или видео файл в качестве отдельной веб-страницы. Это в основном полезно для просмотра очень большого изображения или видео, масштабированного до полного экрана, вместо всплывающего окна.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="working-with-aws-s3-files">Работа с файлами AWS S3<a href="#working-with-aws-s3-files" class="hash-link" aria-label="Прямая ссылка наРабота с файлами AWS S3" title="Прямая ссылка наРабота с файлами AWS S3" translate="no">​</a></h3>
<p><a href="https://aws.amazon.com" target="_blank" rel="noopener noreferrer" class="">Веб-служба Amazon (AWS) </a> является продавцом <a href="https://en.wikipedia.org/wiki/Cloud_computing" target="_blank" rel="noopener noreferrer" class="">облачный сервис</a> услуг. <a href="https://aws.amazon.com/s3/" target="_blank" rel="noopener noreferrer" class="">S3</a> Это система хранения объектов, предлагаемая AWS. Вместо иерархической системы каталогов и файлов традиционной файловой системы (Как жесткий диск в вашем ПК) , S3 предлагает только «ведра», которые содержат «объекты». (Мы позвоним им. &quot;files&quot; ) .</p>
<p>Для файлов ASCII (Например, .csv) , ERDDAP™ Может работать с файлами в ведрах напрямую. Единственное, что вам нужно сделать, это указать&lt;fileDir&gt; для набора данных с использованием определенного формата для ведра AWS, например,https://<em>bucketName</em>.s3.<em>aws-region</em>.amazonaws.com/<em>subdirectory</em>/. Вы не должны использовать&lt;cacheFromUrl&gt;. Смотрите ниже для деталей.</p>
<p>Но для бинарных файлов (например, .nc .grib, .bufr, и .hdf файлы) Вы должны использовать&lt;cacheFromUrl&gt; система, описанная ниже. ERDDAP Netcdf-java (который ERDDAP™ Использование для чтения данных из этих файлов) и другое программное обеспечение для научных данных предназначено для работы с файлами в традиционной файловой системе, которая предлагает <a href="https://en.wikipedia.org/wiki/Block-level_storage" target="_blank" rel="noopener noreferrer" class="">уровень блоков</a> Доступ к файлам (который позволяет читать фрагменты файла) S3 предлагает только <a href="https://en.wikipedia.org/wiki/Block-level_storage" target="_blank" rel="noopener noreferrer" class="">файловый уровень (объект) </a> Доступ к файлам (Что позволяет читать весь файл) . AWS предлагает альтернативу S3 <a href="https://aws.amazon.com/ebs/" target="_blank" rel="noopener noreferrer" class="">Упругий Block Store (ЭБС) </a> ), которая поддерживает доступ к файлам на уровне блоков, но стоит дороже, чем S3, поэтому редко используется для массового хранения больших объемов файлов данных. (Когда люди говорят, что хранят данные в облаке (S3) Это дешево, обычно это сравнение яблок с апельсинами.)</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="s3-buckets">Ведра S3<a href="#s3-buckets" class="hash-link" aria-label="Прямая ссылка наВедра S3" title="Прямая ссылка наВедра S3" translate="no">​</a></h4>
<p><strong>Содержимое ведра. Ключи. Объекты, ограничители.</strong><br>
<!-- -->Технически, ведра S3 не организованы в иерархическую файловую структуру, как файловая система на компьютере. Ведра содержат только «объекты». (файлы) Каждый из них имеет «ключ». (имя) . Примером ключа в этом ведре Noaa-goes17 является</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ABI-L1b-RadC/2019/235/22/OR\\_ABI-L1b-RadC-M6C01\\_G17\\_s20192352201196\\_e20192352203569\\_c20192352204013.nc</span><br></span></code></pre></div></div>
<p>URl для этого объекта является</p>
<p><a href="https://noaa-goes17.s3.us-east-1.amazonaws.com/ABI-L1b-RadC/2019/235/22/OR_ABI-L1b-RadC-M6C01_G17_s20192352201196_e20192352203569_c20192352204013.nc" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com/ABI-L1b-RadC/2019/235/22/OR\_ABI-L1b-RadC-M6C01\_G17\_s20192352201196\_e20192352203569\_c20192352204013.nc</a></p>
<p>AWS поддерживает небольшие изменения в построении этого URL-адреса. ERDDAP™ Для этого нужен конкретный формат:
  https://<em>bucketName</em>.s3.<em>region</em>.amazonaws.com/<em>key</em></p>
<p>В качестве ERDDAP v2.29 Вы можете использовать <code>s3://</code> Формат URI вместо ведра URL. Это формат, используемый <a href="https://docs.aws.amazon.com/cli/latest/reference/s3/" target="_blank" rel="noopener noreferrer" class="">AWS s3 cli</a> .
s3:// <em>название ковша</em> / <em>ключ</em></p>
<p>The <em>регион</em> Для S3 URI можно указать один из трех способов:</p>
<ul>
<li class="">The <em>регион</em> Пользователь Tomcat <code>~/.aws/config</code> профиль</li>
<li class="">The <code>AWS_DEFAULT_REGION</code> переменная среда</li>
<li class="">The <code>aws.region</code> переменная JVM (Setenv.sh для Tomcat)</li>
</ul>
<p>Обычно, как и в этом примере, ключевые имена выглядят как иерархический путь плюс имя файла, но технически это не так. Поскольку он является общим и полезным, ERDDAP™ Рассматривает ключи с /&#x27;s, как если бы они были иерархическим путем плюс имя файла, и эта документация будет относиться к ним как таковым. Если ключи ведра не используются / (например, ключ, похожий на ключ)
ABI-Lib.2018.052.22.OR\_ABI-L1b-RadM2-M3C10\_G16\_20180522247575), далее ERDDAP™ Мы будем рассматривать весь ключ как длинное имя файла.</p>
<p>Частные vs Публичные ведра - Администратор ведра S3 может сделать ведро и его содержимое публичным или частным. Если публичный, любой файл в корзине может быть загружен любым, кто использует URL для файла. У Amazon есть <a href="https://aws.amazon.com/opendata/" target="_blank" rel="noopener noreferrer" class="">Открытые данные</a> Программа, в которой размещены общедоступные наборы данных (включая данные из NOAA NASA и USGS) бесплатно и не взимает плату за скачивание файлов из этих ведер. Если ведро является частным, файлы в ведре доступны только авторизованным пользователям, и AWS взимает плату. (Обычно платит владелец ведра.) Загрузка файлов на не-AWS S3 компьютер. ERDDAP™ Может работать с данными в государственных и частных ведрах.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="aws-credentials">Сертификаты AWS<a href="#aws-credentials" class="hash-link" aria-label="Прямая ссылка наСертификаты AWS" title="Прямая ссылка наСертификаты AWS" translate="no">​</a></h4>
<p>Чтобы сделать так, чтобы ERDDAP™ Вы можете читать содержимое частных ведер, вам нужны учетные данные AWS, и вам нужно хранить файл учетных данных в стандартном месте. ERDDAP™ Вы можете найти информацию. Посмотреть AWS SDK Java 2.x документация: <a href="https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/setup.html#setup-credentials" target="_blank" rel="noopener noreferrer" class="">Установите учетные данные по умолчанию</a> . (Возможность хранить значения как Java Параметры командной строки в \[ кот \] /bin/setenv.sh может быть хорошим вариантом.)</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="aws-files">AWS /файлы<a href="#aws-files" class="hash-link" aria-label="Прямая ссылка наAWS /файлы" title="Прямая ссылка наAWS /файлы" translate="no">​</a></h4>
<ul>
<li class="">/files/ Системы The ERDDAP™   <a href="#accessibleviafiles" class="">/файлы / система</a> позволяет пользователям загружать исходные файлы для набора данных. Мы рекомендуем включить его для всех наборов данных с исходными файлами, потому что многие пользователи хотят загрузить исходные файлы.<!-- -->
<ul>
<li class="">Если файлы находятся в частном ведре S3, запрос пользователя на загрузку файла будет обработан ERDDAP™ , который будет считывать данные из файла, а затем передавать их пользователю, тем самым увеличивая нагрузку на ваш файл. ERDDAP™ , используя входящую и исходящую полосу пропускания и делая вас (тот ERDDAP™ администратор) Оплатить сбор за передачу данных в AWS.</li>
<li class="">Если файлы находятся в открытом ведре S3, запрос пользователя на загрузку файла будет перенаправлен на URL-адрес AWS S3 для этого файла, поэтому данные не будут проходить через него. ERDDAP™ Таким образом, уменьшая нагрузку на ERDDAP . Если файлы находятся в открытых данных Amazon (свободный) Общественное ведро, затем вы (тот ERDDAP™ администратор) Вам не придется платить комиссию за выход данных в AWS. Таким образом, существует большое преимущество, обслуживающее данные от общественности. (не частный) S3 ведра и огромное преимущество в обслуживании данных от Amazon Open Data (свободный) Ведра.</li>
</ul>
</li>
</ul>
<p>ERDDAP Также поддерживает анонимные учетные данные для публичных ведер. Чтобы использовать анонимные учетные данные, добавьте <code>&lt;useAwsAnonymous&gt; истинный &lt;/useAwsAnonymous&gt;</code> Настройка.xml.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="custom-s3-endpoints">Конечные точки S3<a href="#custom-s3-endpoints" class="hash-link" aria-label="Прямая ссылка наКонечные точки S3" title="Прямая ссылка наКонечные точки S3" translate="no">​</a></h4>
<p>Для совместимого с S3 хранилища объектов, не размещенного Amazon, необходимо настроить <a href="https://docs.aws.amazon.com/sdkref/latest/guide/feature-ss-endpoints.html" target="_blank" rel="noopener noreferrer" class="">конечная точка_url</a> а также указать ваше ведро/ключ, используя <code>s3://</code> Ури.</p>
<p>The <em>конечная точка_url</em> могут быть определены одним из трех способов:</p>
<ul>
<li class="">The <em>конечная точка_url</em> Пользователь Tomcat <code>~/.aws/config</code> профиль</li>
<li class="">The <code>AWS_ENDPOINT_URL</code> переменная среда</li>
<li class="">The <code>aws.endpoint Урл</code> переменная JVM (Setenv.sh для Tomcat)</li>
</ul>
<p>Полный список переменных конфигурации S3, <a href="https://docs.aws.amazon.com/cli/latest/topic/config-vars.html" target="_blank" rel="noopener noreferrer" class="">Посмотреть документацию Amazon</a> .</p>
<p><strong>Самоподписанные сертификаты</strong>
Для ведер S3 у вас часто есть самоподписанные SSL-сертификаты. Для ERDDAP Чтобы читать из этих ведер, вам нужно добавить свою цепочку сертификатов в трастовый магазин JVM. <code>$JAVA_HOME/jre/lib/security/cacerts</code> . Кроме того, ERDDAP использует <a href="https://docs.aws.amazon.com/sdkref/latest/guide/common-runtime.html" target="_blank" rel="noopener noreferrer" class="">AWS Common Runtime</a> Доступ к ветру асинхронно. Это повышает производительность, но также требует, чтобы ваши самоподписанные сертификаты были добавлены в ваш трастовый магазин. Если вы хотите избежать этого, вы можете отключить AWS CRT. <code>&lt;useAwsCrt&gt; ложный &lt;/useAwsCrt&gt;</code> Настройка.xml.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="erddap-and-aws-s3-buckets">ERDDAP™ AWS S3 Buckets<a href="#erddap-and-aws-s3-buckets" class="hash-link" aria-label="Прямая ссылка наERDDAP™ AWS S3 Buckets" title="Прямая ссылка наERDDAP™ AWS S3 Buckets" translate="no">​</a></h4>
<p><a href="#erddap-and-aws-s3-buckets" class=""> ** ERDDAP™ AWS S3 Buckets** </a><br>
<!-- -->К счастью, после долгих усилий ERDDAP™ Он имеет ряд функций, которые позволяют ему решать внутренние проблемы, связанные с доступом к файлам на уровне блоков S3:</p>
<ul>
<li class="">\[ Отказ от ответственности: Работа с ведрами AWS S3 требует много дополнительной работы. AWS — это огромная экосистема сервисов и функций. Есть чему поучиться. Это требует времени и усилий, но это возможно. Будьте терпеливы, и у вас все получится. Посмотреть/просить о помощи
() <a href="https://aws.amazon.com/documentation/gettingstarted/" target="_blank" rel="noopener noreferrer" class="">Документация AWS</a> Сайты вроде <a href="https://stackoverflow.com/" target="_blank" rel="noopener noreferrer" class="">Скачать Overflow</a> и регулярной
<a class="" href="/ru/docs/intro#support"> ERDDAP™ Варианты поддержки</a> ) если/когда вы застряли. \]<br>
<!-- --> </li>
<li class="">Трудно даже узнать структуру каталога и имена файлов в ведре S3. ERDDAP™ Есть решение этой проблемы: EDDTableFromFileNames имеет специальное приложение. <a href="#fromonthefly" class="">\<em>\</em>(перенаправлено с «OnTheFly»)</a> опция, которая позволяет вам создать набор данных EDDTableFromFileNames, который позволяет пользователям просматривать содержимое ведра S3 (скачать файлы) через набор данных &quot;files&quot; вариант. Есть один <a href="#viewing-the-contents-of-a-bucket" class="">Пример этого ниже</a> .
 </li>
<li class="">ERDDAP™ Может считывать данные из <a href="#externally-compressed-files" class="">внешне сжатые файлы данных</a> , так что это нормально, если файлы на S3 хранятся как .gz , .gzip , .bz2 , .Z или другие типы файлов данных, сжатых извне, которые могут значительно (2 - 20X) сократить расходы на хранение файлов. Часто нет штрафа за использование сжатых извне файлов, поскольку время сохраняется за счет переноса меньшего файла из S3 в другой файл. ERDDAP примерно уравновешивает дополнительное время, необходимое для ERDDAP™ Декомпрессия файла. Чтобы использовать эту функцию, вам просто нужно убедиться, что набор данных&lt;ФайлNameRegex позволяет использовать тип сжатого файла (Например, путем добавления ( |  .gz ) В конце Регекса) .
 </li>
<li class="">Наиболее распространенный случай, когда у вас есть ERDDAP™ установленный на вашем компьютере для тестирования / разработки и где набор данных имеет двоичные файлы данных, которые хранятся как объекты в корзине S3, один из подходов к получению набора данных ERDDAP™ Это:<!-- -->
<ol>
<li class="">
<p>Создайте каталог на вашем компьютере, чтобы хранить несколько тестовых файлов данных.</p>
</li>
<li class="">
<p>Загрузите два файла данных из источника в созданный вами каталог.</p>
</li>
<li class="">
<p>Использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данныхXml</a> Чтобы создать кусок datasets.xml для набора данных на основе двух локальных файлов данных.</p>
</li>
<li class="">
<p>Убедитесь, что набор данных работает по желанию <a href="#dasdds" class="">DasDds</a> и/или ваш местный ERDDAP .</p>
<p><strong>Следующие шаги делают копию этого набора данных (кто получит данные из ковша S3) На публике ERDDAP .</strong></p>
</li>
<li class="">
<p>Копировать кусок datasets.xml Для набора данных в datasets.xml для общественности ERDDAP™ Это будет служить данным.</p>
</li>
<li class="">
<p>Создать каталог на публике ERDDAP локальный жесткий диск для хранения кэша временных файлов. Каталог не будет использовать много дискового пространства (CacheSizeGB ниже) .</p>
</li>
<li class="">
<p>Изменить значение набора данных&lt;тег fileDir&gt;, чтобы он указывал на каталог, который вы только что создали (Даже если каталог пуст) .</p>
</li>
<li class="">
<p>Добавить <a href="#cachefromurl" class="">кэш FromUrl</a> тег, который определяет имя ковша набора данных и дополнительный префикс (т.е. директория) В конкретном <a href="#accessing-files-in-an-aws-s3-bucket" class="">S3 URL формат, который ERDDAP™ требует</a> .</p>
</li>
<li class="">
<p>Добавить [&lt;cacheSizeGB&gt; (#cachefromurl) Тег к набору данных xml (Например, 10 является хорошим значением для большинства наборов данных.) рассказывать ERDDAP™ Ограничить размер локального кэша (То есть, не пытайтесь кэшировать все удаленные файлы.) .</p>
</li>
<li class="">
<p>Посмотрите, работает ли это в обществе. ERDDAP . Отметим, что в первый раз ERDDAP™ Загружает набор данных, на загрузку потребуется длительное время, поскольку ERDDAP™ Необходимо скачать и прочитать все файлы данных.</p>
</li>
</ol>
</li>
</ul>
<p>Если набор данных представляет собой огромную коллекцию огромных сетчатых файлов данных, это займет очень много времени и будет непрактичным. В некоторых случаях для сетчатых файлов данных, ERDDAP™ Можно извлечь необходимую информацию (Например, точка времени для данных в сетчатом файле данных) От имени файла и избежать этой проблемы. Видишь? <a href="#aggregation-via-file-names-or-global-metadata" class="">Агрегация через Файловые имена</a> .</p>
<ol start="11">
<li class="">необязательно (Но особенно для наборов данных EDDTable FromFiles) Вы можете добавить <a href="#nthreads" class="">nПотоки</a> Tag to the dataset чтобы сообщить ERDDAP использовать более 1 потока при ответе на запрос пользователя о данных. Это минимизирует последствия задержки, которая возникает, когда ERDDAP™ читать файлы данных из (удаленный) AWS S3 вставляется в локальный кэш и (возможно) Декомпрессия их.</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="aws-s3-open-data">AWS 3 Открытые данные<a href="#aws-s3-open-data" class="hash-link" aria-label="Прямая ссылка наAWS 3 Открытые данные" title="Прямая ссылка наAWS 3 Открытые данные" translate="no">​</a></h4>
<p>Как часть NOAA ? <a href="https://www.noaa.gov/nodd/about" target="_blank" rel="noopener noreferrer" class="">Программа Big Data</a> , NOAA Мы сотрудничаем с пятью организациями, включая AWS, чтобы изучить потенциальные преимущества хранения копий ключевых наблюдений и результатов моделей в облаке, чтобы позволить вычислять непосредственно данные без необходимости дальнейшего распространения. AWS включает наборы данных, которые он получает NOAA в рамках своей программы по предоставлению публичного доступа к большой коллекции <a href="https://registry.opendata.aws/" target="_blank" rel="noopener noreferrer" class="">Открытые данные для AWS S3</a> с любого компьютера, будь то Amazon (арендованный компьютер) Сеть AWS или собственный компьютер в любой сети. Приведенный ниже пример предполагает, что вы работаете с общедоступным набором данных.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="accessing-files-in-an-aws-s3-bucket">Доступ к файлам в AWS S3 Bucket<a href="#accessing-files-in-an-aws-s3-bucket" class="hash-link" aria-label="Прямая ссылка наДоступ к файлам в AWS S3 Bucket" title="Прямая ссылка наДоступ к файлам в AWS S3 Bucket" translate="no">​</a></h4>
<p>Для частного ведра данных S3 владелец ведра должен предоставить вам доступ к ветру. (Смотрите документацию AWS.)</p>
<p>Во всех случаях вам понадобится учетная запись AWS, потому что AWS SDK предназначен для работы с клиентами. Java   (который ERDDAP™ использует для извлечения информации о содержимом ведра) Требуются учетные данные AWS. (Подробнее об этом ниже)</p>
<p>ERDDAP™ Доступ к ведрам AWS S3 возможен только в том случае, если вы указали [&lt;cacheFromUrl&gt; (#cachefromurl) (или)&lt;fileDir&gt;) в определенном формате:
https://<em>bucketName</em>.s3.<em>aws-region</em>.amazonaws.com/<em>prefix/</em><br>
<!-- -->где</p>
<ul>
<li class="">Имя ведра - это краткая форма названия ведра, например, noaa-goes17.</li>
<li class="">Aws-область, например, us-east-1, из колонки «Регион» в одной из таблиц <a href="https://docs.aws.amazon.com/general/latest/gr/rande.html" target="_blank" rel="noopener noreferrer" class="">Конечные точки обслуживания AWS</a> где ведро действительно находится.</li>
<li class="">Префикс является необязательным. Если оно присутствует, оно должно &#x27;/&#x27; .</li>
</ul>
<p>Например,<a href="https://noaa-goes17.s3.us-east-1.amazonaws.com/ABI-L1b-RadC/" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com/ABI-L1b-RadC/</a><br>
<!-- -->Этот формат URL является одной из рекомендаций AWS S3: <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html" target="_blank" rel="noopener noreferrer" class="">Доступ к ведру</a> и <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/ListingKeysHierarchy.html" target="_blank" rel="noopener noreferrer" class="">Это описание префиксов</a> . ERDDAP™ требует, чтобы вы объединили URL-адрес корзины и дополнительный префикс в один URL-адрес, чтобы указать&lt;CacheFromUrl&gt; (или&lt;fileDir&gt;), где находятся файлы.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="test-public-aws-s3-buckets">Тестирование публичных ковшечек AWS S3<a href="#test-public-aws-s3-buckets" class="hash-link" aria-label="Прямая ссылка наТестирование публичных ковшечек AWS S3" title="Прямая ссылка наТестирование публичных ковшечек AWS S3" translate="no">​</a></h4>
<p>Для общедоступных ведер вы можете и должны протестировать URL-адрес ведра каталога AWS S3 в своем браузере, например,
<a href="https://noaa-goes17.s3.us-east-1.amazonaws.com" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com</a> Если URL ведра правильный и подходящий для ERDDAP Он возвращает XML-документ, который (частичный) Список содержимого этого ведра. К сожалению, полный URL (То есть, ведро URL плюс префикс) это ERDDAP™ Желания для данного набора данных не работают в браузере. AWS не предлагает систему для легкого просмотра иерархии ведра в вашем браузере. (Если это неправильно, пожалуйста, напишите Крису. Джон на noaa.gov. В противном случае, Amazon, пожалуйста, добавьте поддержку!)</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="viewing-the-contents-of-a-bucket">Просмотр содержимого ведра<a href="#viewing-the-contents-of-a-bucket" class="hash-link" aria-label="Прямая ссылка наПросмотр содержимого ведра" title="Прямая ссылка наПросмотр содержимого ведра" translate="no">​</a></h4>
<p>Ведра S3 часто содержат несколько категорий файлов в нескольких псевдоподкаталогах, которые могут стать парой файлов. ERDDAP™ наборы данных. Чтобы сделать ERDDAP™ Наборы данных, вам нужно знать начальный каталог для&lt;CacheFromUrl&gt; (или&lt;fileDir&gt;) и формат имен файлов, которые идентифицируют это подмножество файлов. Если вы попытаетесь просмотреть все содержимое ведра в браузере, S3 просто покажет вам первые 1000 файлов. В настоящее время лучший способ для вас, чтобы просмотреть все содержимое ведра, чтобы сделать <a href="#eddtablefromfilenames" class="">EDDTable FromFileNames</a> набор данных (на вашем ПК ERDDAP™ и/или в вашей публичной ERDDAP ) , что также дает вам простой способ просматривать структуру каталога и загружать файлы. The&lt;FileDir&gt; для этого будет URL, который вы сделали выше, например,<a href="https://noaa-goes17.s3.us-east-1.amazonaws.com" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com</a>. \[ Почему AWS S3 не предлагает быстрый и простой способ сделать это без учетной записи AWS? \] Обратите внимание, что когда я делаю это на своем ПК в сети, отличной от Amazon, похоже, что Amazon замедляет реакцию на струйку. (около 100 (?) Файлы на куски) После первых нескольких кусков (1000 файлов на куски) Скачиваются. Так как ведра могут иметь огромное количество файлов (Noaa-goes17 — 26 миллионов) Получение всего содержимого ведра может занять несколько часов EDDTableFromFileNames. (Например, 12!) до конца. \[ Amazon, это правда? \]</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="making-an-eddtablefromfilenames-dataset-with-an-aws-s3-bucket">Как сделать EDDTable Набор данных FromFileNames с ведром AWS S3<a href="#making-an-eddtablefromfilenames-dataset-with-an-aws-s3-bucket" class="hash-link" aria-label="Прямая ссылка наКак сделать EDDTable Набор данных FromFileNames с ведром AWS S3" title="Прямая ссылка наКак сделать EDDTable Набор данных FromFileNames с ведром AWS S3" translate="no">​</a></h4>
<p>Если у вас есть имя ведра, но у вас еще нет списка файлов в ведре S3 или префикса, который идентифицирует местоположение соответствующих файлов в ведре, используйте приведенные ниже инструкции для создания набора данных EDDTableFromFileNames, чтобы вы могли просматривать иерархию каталогов ведра S3 через ERDDAP ? &quot;files&quot; система.</p>
<ol>
<li class="">Откройте счет AWS
ERDDAP™ использует <a href="https://docs.aws.amazon.com/sdk-for-java/index.html" target="_blank" rel="noopener noreferrer" class="">AWS SDK для Java </a> Чтобы получить информацию из AWS, вам нужно <a href="https://aws.amazon.com/premiumsupport/knowledge-center/create-and-activate-aws-account/" target="_blank" rel="noopener noreferrer" class="">Создать и активировать учетную запись AWS</a> . Это довольно большая работа, с большим количеством вещей, чтобы учиться.
 </li>
<li class="">Поместите свои учетные данные AWS туда, где ERDDAP™ Их можно найти.
Следуйте инструкциям в <a href="https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/setup.html#setup-credentials" target="_blank" rel="noopener noreferrer" class="">Настройка учетных данных AWS и региона для развития</a> так ERDDAP™   (В частности, AWS SDK для Java ) Вы сможете найти и использовать свои учетные данные AWS. Если ERDDAP™ Не можете найти учетные данные, вы увидите
java.lang. Исключение: файл профиля не может быть нулевой ошибкой ERDDAP файл log.txt.</li>
</ol>
<p>Подсказка для Linux и Mac OS: файл учетных данных должен быть в домашнем каталоге пользователя, на котором работает Tomcat (и ERDDAP )   (Для этого пункта мы предположим, что пользователь=tomcat) в файле под названием ~/.aws/credentials. Не думайте, что ~ is /home/tomcat — на самом деле используйте cd ~, чтобы узнать, где операционная система думает ~ для пользователя =tomcat. Создайте каталог, если он не существует. Кроме того, после того, как вы поместите файл учетных данных на место, убедитесь, что пользователь и группа для файла являются томкатом, а затем используйте 400 учетных данных chmod, чтобы убедиться, что файл читается только для пользователя = томкат.</p>
<ol start="3">
<li class="">Создайте ведро URL в <a href="#accessing-files-in-an-aws-s3-bucket" class="">форматировать, ERDDAP™ требует</a> Например,
<a href="https://noaa-goes17.s3.us-east-1.amazonaws.com" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com</a> и (для общественных ведер) Проверьте его в браузере, чтобы убедиться, что он возвращает документ XML, который имеет частичный список содержимого этого ведра.
 </li>
<li class="">Использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данныхXml</a> Чтобы создать <a href="#eddtablefromfilenames" class="">EDDTable FromFileNames</a> набор данных:<!-- -->
<ul>
<li class="">Для начального каталога используйте этот синтаксис:
\<em>\</em>\ <em>Скриншоты OnTheFly,</em> YourBucketUrl
Например,
\<em>\</em>(перенаправлено с «OnTheFly»)<a href="https://noaa-goes17.s3.us-east-1.amazonaws.com/" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com/</a></li>
<li class="">Имя файла regex? *</li>
<li class="">Рекурсивный? истинный</li>
<li class="">перезаряжать Каждые минуты? 10080</li>
<li class="">infoUrl ?<a href="https://registry.opendata.aws/noaa-goes/" target="_blank" rel="noopener noreferrer" class="">https://registry.opendata.aws/noaa-goes/</a></li>
<li class="">институт? NOAA</li>
<li class="">резюме? ничего ( ERDDAP™ Он автоматически создаст достойное резюме.)</li>
<li class="">Название? ничего ( ERDDAP™ Это позволит создать достойный заголовок автоматически.) Как обычно, вы должны отредактировать полученный XML для проверки правильности и внесения улучшений до того, как часть наборов данных будет использовать его в своей работе. datasets.xml .</li>
</ul>
</li>
<li class="">Если вы следуете инструкциям выше и загружаете набор данных в ERDDAP Вы создали набор данных EDDTableFromFiles. В качестве примера, чтобы облегчить просмотр и загрузку файлов из ведер открытых данных AWS, мы создали наборы данных EDDTableFromFileNames (см. список ниже).
<a href="https://upwell.pfeg.noaa.gov/erddap/search/index.html?searchFor=awsS3Files_" target="_blank" rel="noopener noreferrer" class="">https://upwell.pfeg.noaa.gov/erddap/search/index.html?searchFor=awsS3Files\_</a> ) практически для всех <a href="https://registry.opendata.aws/" target="_blank" rel="noopener noreferrer" class="">AWS S3 Open Data</a> .
\[ Несколько ведер, которые мы не включили, также имеют большое количество файлов в корневой директории. (больше, чем может быть загружено в разумные сроки) или не разрешать публичный доступ (Разве не все они должны быть публичными?) Запрашивающий платит ведра (Например, Sentinel) . \]<br>
<!-- -->Если вы нажмете на &quot;files&quot; Ссылка для одного из этих наборов данных, вы можете просматривать дерево каталогов и файлы в этом ведре S3. Из-за дороги\<em>\</em>\* fromOnTheFly EDDTableFromFiles работает, эти списки каталогов всегда идеально актуальны, потому что ERDDAP™ Поймать их на лету. Если вы нажмете вниз по дереву каталога на фактическое имя файла и нажмете на имя файла, ERDDAP™ Ваш запрос будет перенаправлен на AWS S3, чтобы вы могли загрузить файл непосредственно из AWS. Затем вы можете проверить этот файл.</li>
</ol>
<p>Проблемы?
Если ваш EDDTable FromFiles не загружается ERDDAP™   (или DasDds) Посмотрите в файле log.txt сообщение об ошибке. Если вы видите a
java.lang. Исключение: файл профиля не может быть нулевой ошибкой, проблема заключается в том, что AWS SDK Java   (используемый ERDDAP ) Мы не находим файл учетных данных. См. инструкции по учетным данным выше.
 </p>
<p>К сожалению, AWS не позволяет людям использовать браузер для просмотра содержимого публичного ведра.</p>
<p><strong>Тогда вы можете сделать ERDDAP™ наборы данных, которые дают пользователям доступ к данным в файлах.</strong><br>
<!-- -->Смотрите инструкции в <a href="#erddap-and-aws-s3-buckets" class=""> ERDDAP™ S3 Ведра</a>   (выше) .
Для набора данных EDDTableFromFileNames, который вы сделали выше, если вы немного покопаетесь с именами каталогов и файлов в дереве каталогов, становится ясно, что имена каталогов верхнего уровня (Например, ABI-L1b-RadC) соответствует тому, что ERDDAP™ Мы будем называть отдельные наборы данных. Ведро, с которым вы работаете, может быть похожим. Затем вы можете создать отдельные наборы данных в ERDDAP™ для каждого из этих наборов данных, используя, например,
<a href="https://noaa-goes17.s3.us-east-1.amazonaws.com/ABI-L1b-RadC/" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com/ABI-L1b-RadC/</a><br>
<!-- -->как&lt;cacheFromUrl&gt;. К сожалению, для этого конкретного примера наборы данных в корзине представляют собой наборы данных уровня 1 или уровня 2, которые ERDDAP™   <a href="#dimensions" class="">не особенно хорош в</a> Потому что набор данных представляет собой более сложный набор переменных, которые используют различные размеры.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ncml-files">Файлы NcML<a href="#ncml-files" class="hash-link" aria-label="Прямая ссылка наФайлы NcML" title="Прямая ссылка наФайлы NcML" translate="no">​</a></h3>
<p>Файлы NcML позволяют указывать изменения на лету в одном или нескольких исходных источниках NetCDF   (v3 или v4)   .nc .grib, .bufr, или .hdf   (v4 или v5) Файлы, а затем иметь ERDDAP™ лечить .nc мл файлов в качестве исходных файлов. ERDDAP™ наборы данных будут принимать .nc Файлы в любое время .nc Файлы ожидаются. Файлы NcML должны иметь расширение .nc мл. Видишь? <a href="https://docs.unidata.ucar.edu/netcdf-java/current/userguide/ncml_overview.html" target="_blank" rel="noopener noreferrer" class=""> Unidata Документация NcML</a> . NcML полезен, потому что с ним можно что-то сделать. (Например, внесение различных изменений в различные файлы в коллекции, включая добавление размера с определенным значением к файлу.) Что вы не можете сделать с ERDDAP ? datasets.xml .</p>
<ul>
<li class="">Изменения в a .nc Последнее измененное время файла мл приведет к тому, что файл будет перезагружаться всякий раз, когда набор данных перезагружается. .nc Файлы данных не будут замечены напрямую.</li>
<li class="">Оригинальное название: NcML Is\*очень\*чувствительны к порядку некоторых элементов в файле NcML. Подумайте о NcML как о том, чтобы указать серию инструкций в указанном порядке с намерением изменить исходные файлы. (состояние в начале/верху файла NcML) в файлы назначения (состояние в конце / нижней части файла NcML) .</li>
</ul>
<p>Альтернативой NcML является <a href="#netcdf-operators-nco" class=""> NetCDF Операторы ( NCO ) </a> . Большая разница заключается в том, что NcML является системой для внесения изменений на лету. (Исходные файлы не изменяются) тогда как NCO могут быть использованы для внесения изменений в (или новые версии) Файлы. Оба NCO NcML очень гибкий и позволяет вносить практически любые изменения в файлы. Для обоих это может быть сложным, чтобы выяснить, как именно сделать то, что вы хотите сделать - проверить веб для подобных примеров. Оба являются полезными инструментами для подготовки чистых КДФ и HDF Файлы для использования с ERDDAP В частности, внести изменения сверх того, что ERDDAP Система манипуляций может это сделать.</p>
<p>Пример No1: Добавление измерения времени с одним значением
Вот она. .nc мл-файл, создающий новое внешнее измерение (время с 1 значением: 1041379200) и добавляет это измерение к переменной pic в файле под названием A2003001.L3m\_DAY\_PIC\_pic\_4km .nc :</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;netcdf xmlns=&#x27;https://www.unidata.ucar.edu/namespaces/netcdf/ncml-2.2&#x27;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;variable name=&#x27;time&#x27; type=&#x27;int&#x27; shape=&#x27;time&#x27; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;aggregation dimName=&#x27;time&#x27; type=&#x27;joinNew&#x27;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;variableAgg name=&#x27;pic&#x27;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;netcdf location=&#x27;A2003001.L3m\\_DAY\\_PIC\\_pic\\_4km.nc&#x27; coordValue=&#x27;1041379200&#x27;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/aggregation&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/netcdf&gt;</span><br></span></code></pre></div></div>
<p>Пример #2: Изменение существующей временной стоимости
Иногда источник .nc Файл уже имеет временное измерение и временное значение, но значение неверно. (для ваших целей) . Это .nc В файле мл говорится: для файла данных под названием «19810825230030-NCEI...», для переменной размерности &quot;time&quot; , установить атрибут единицы &quot;секунды с 197001-01T00:00:00Z&quot; и установить временное значение 367588800.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;netcdf xmlns=&#x27;https://www.unidata.ucar.edu/namespaces/netcdf/ncml-2.2&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      location=&quot;19810825230030-NCEI-L3C\\_GHRSST-SSTskin-AVHRR\\_Pathfinder-PFV5.3\\_NOAA07\\_G\\_1981237\\_day-v02.0-fv01.0.nc&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;variable name=&quot;time&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;attribute name=&#x27;units&#x27; value=&#x27;seconds since 1970-01-01T00:00:00Z&#x27; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;values&gt;367588800&lt;/values&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/variable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/netcdf&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="netcdf-operators-nco">NetCDF Операторы ( NCO )<a href="#netcdf-operators-nco" class="hash-link" aria-label="Прямая ссылка наNetCDF Операторы ( NCO )" title="Прямая ссылка наNetCDF Операторы ( NCO )" translate="no">​</a></h3>
<p>&quot;Операторы NetCDF ( NCO ) Содержит дюжину автономных командных программ, которые принимают netCDF. \[ v3 или v4 \] , HDF   \[ v4 или v5 \] , \[ .grib, .bufr, \] и/или DAP файлы в качестве входных данных, а затем работать (Например, получать новые данные, вычислять статистику, печатать, гиперслаб, манипулировать метаданными) и выводить результаты на экран или файлы в текстовом, двоичном или сетевом форматах CDF. NCO помогает анализ сетчатых научных данных. Стиль командной оболочки NCO Позволяет пользователям манипулировать и анализировать файлы интерактивно или с помощью экспрессивных скриптов, которые позволяют избежать некоторых накладных расходов на среды программирования более высокого уровня&quot;. (из которого <a href="https://nco.sourceforge.net/" target="_blank" rel="noopener noreferrer" class=""> NCO </a> домашняя страница) .</p>
<p>Альтернативой для NCO это <a href="#ncml-files" class="">NcML</a> . Большая разница заключается в том, что NcML является системой для внесения изменений на лету. (Исходные файлы не изменяются) тогда как NCO могут быть использованы для внесения изменений в (или новые версии) Файлы. Оба NCO NcML очень гибкий и позволяет вносить практически любые изменения в файлы. Для обоих это может быть сложным, чтобы выяснить, как именно сделать то, что вы хотите сделать - проверить веб для подобных примеров. Оба являются полезными инструментами для подготовки чистых КДФ и HDF Файлы для использования с ERDDAP В частности, внести изменения сверх того, что ERDDAP Система манипуляций может это сделать.</p>
<p>Например, вы можете использовать NCO сделать единицы переменной времени согласованными в группе файлов, где они изначально не были согласованы. Или вы можете использовать NCO применять scale\_factor и add\_offset В группе файлов, где scale\_factor и add\_offset имеют разные значения в разных исходных файлах.
(Теперь вы можете решить эти проблемы в ERDDAP™ через <a href="#eddgridfromncfilesunpacked" class=""> EDDGrid Из NcFilesUnpacked</a> , который является вариантом EDDGrid FromNcFiles, который распаковывает упакованные данные и стандартизирует временные значения на низком уровне, чтобы иметь дело с файлами сбора, которые имеют разные значения. scale\_factor s и add\_offset или различные временные единицы.)</p>
<p>NCO Свободное и открытое программное обеспечение, использующее <a href="https://www.gnu.org/licenses/gpl-3.0.html" target="_blank" rel="noopener noreferrer" class="">GPL 3.0</a> лицензия.</p>
<p>Пример No1: создание последовательных единиц
EDDGrid Из материалов и EDDTable Из файлов следует, что единицы для данной переменной идентичны во всех файлах. Если некоторые файлы тривиальны (не функционально) отличается от других (например, единицы времени)
&quot;секунды с 197001-01 00:00:00 UTC&quot;
&quot;seconds since 1970-01-01T00:00:00Z&quot; Вы можете использовать NCO ? <a href="https://nco.sourceforge.net/nco.html#ncatted-netCDF-Attribute-Editor" target="_blank" rel="noopener noreferrer" class="">нарисованный</a> изменять блоки во всех файлах, чтобы они были идентичными
nco/ncatted - единицы, время, o,c&#x27; секунды с 197001-01T00:00:00Z&#x27; .nc<br>
<!-- -->\[ Для многих проблем, подобных этой, в EDDTable From... Файлы наборов данных, теперь вы можете использовать <a href="#standardizewhat" class="">стандартизировать Что?</a> рассказывать ERDDAP Стандартизация исходных файлов по мере их чтения ERDDAP . \]</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="limits-to-the-size-of-a-dataset">Ограничения размера набора данных<a href="#limits-to-the-size-of-a-dataset" class="hash-link" aria-label="Прямая ссылка наОграничения размера набора данных" title="Прямая ссылка наОграничения размера набора данных" translate="no">​</a></h3>
<p>Вы увидите много ссылок на «2 миллиарда» ниже. Точнее, это ссылка на 2 147 483 647. (231-1-1) , что является максимальным значением 32-битного подписанного целого числа. В некоторых компьютерных языках, например Java   (который ERDDAP™ Написано в) Это самый большой тип данных, который может использоваться для многих структур данных. (Например, размер массива) .</p>
<p>Для струнных значений (Например, для переменных имен, имен атрибутов, значений атрибутов String и значений данных String) максимальное количество символов на строку в ERDDAP™ составляет ~2 млрд. Но почти во всех случаях будут небольшие или большие проблемы, если струна превышает разумный размер. (Например, 80 символов для имен переменных и имен атрибутов и 255 символов для большинства значений атрибутов строки и значений данных.) . Например, веб-страницы, на которых отображаются длинные имена переменных, будут неуклюже широкими, а длинные имена переменных будут усечены, если они превышают предел типа файла ответа.</p>
<p>Для сетчатых наборов данных:</p>
<ul>
<li class="">Максимальное количество axisVariable s составляет ~ 2 млрд.
Максимальное количество dataVariable s составляет ~ 2 млрд.
Но если набор данных имеет &gt; 100 переменных, пользователям будет сложно его использовать.
И если в наборе данных более 1 миллиона переменных, вашему серверу потребуется много физической памяти и возникнут другие проблемы.</li>
<li class="">Максимальный размер каждого измерения ( axisVariable ) Это ~2 миллиарда значений.</li>
<li class="">Максимальное общее количество клеток (Изделие всех размеров размеров) Он не ограничен, но может быть ~9e18.</li>
</ul>
<p>Для табличных наборов данных:</p>
<ul>
<li class="">Максимальное количество dataVariable s составляет ~ 2 млрд.
Но если набор данных имеет &gt; 100 переменных, пользователям будет сложно его использовать.
И если в наборе данных более 1 миллиона переменных, вашему серверу потребуется много физической памяти и возникнут другие проблемы.</li>
<li class="">Максимальное количество источников (Например, файлы) Это может быть агрегировано ~ 2 млрд.</li>
<li class="">В некоторых случаях максимальное количество строк из отдельного источника (Например, файл, но не база данных.) Это ~2 миллиарда строк.</li>
<li class="">Я не думаю, что есть другие ограничения.</li>
</ul>
<p>Для сетчатых и табличных наборов данных существуют некоторые внутренние ограничения на размер подмножества, которые могут быть запрошены пользователем в одном запросе. (часто связаны с &gt;2 миллиардами чего-либо или ~9e18 чем-либо;) Но гораздо более вероятно, что пользователь достигнет определенных ограничений типа файла.</p>
<ul>
<li class="">NetCDF Версия 3 .nc Файлы ограничены 2 ГБ байтами. (Если это действительно проблема для кого-то, дайте мне знать: Можно добавить поддержку для NetCDF Версия 3 .nc 64-битное расширение или NetCDF Версия 4, которая значительно увеличит предел, но не бесконечно.)</li>
<li class="">Браузеры ломаются после всего лишь ~ 500 МБ данных. ERDDAP™ Ограничить ответ на .htmlTable Запрос 400 МБ данных.</li>
<li class="">Многие программы анализа данных имеют схожие ограничения. (Например, максимальный размер измерения часто составляет ~ 2 миллиарда значений.) Таким образом, нет причин усердно работать, чтобы обойти ограничения типа файла.</li>
<li class="">Ограничения типа файла полезны тем, что они предотвращают наивные запросы на действительно огромные объемы данных. (Например, «дайте мне весь этот набор данных», когда набор данных имеет 20 ТБ данных.) Это займет недели или месяцы для загрузки. Чем дольше загрузка, тем больше вероятность того, что она выйдет из строя по разным причинам.</li>
<li class="">Ограничения типа файла полезны тем, что они заставляют пользователя иметь дело с подмножествами разумного размера. (Например, работа с большим сетчатым набором данных через файлы с данными из одной временной точки каждый) .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="switch-to-acdd-13">Переключение на ACDD-1.3<a href="#switch-to-acdd-13" class="hash-link" aria-label="Прямая ссылка наПереключение на ACDD-1.3" title="Прямая ссылка наПереключение на ACDD-1.3" translate="no">​</a></h3>
<p>Мы (особенно <a href="#generatedatasetsxml" class="">Генерировать наборы данныхXml</a> ) В настоящее время рекомендуется <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD версия 1.3</a> Конвенция была ратифицирована в начале 2015 года и упоминается как ACDD-1.3. До этого ERDDAP™ Версия 1.62 (Выпущен в июне 2015 года) , ERDDAP™ используется/рекомендуется оригинал, версия 1.0, <a href="https://wiki.esipfed.org/ArchivalCopyOfVersion1" target="_blank" rel="noopener noreferrer" class=""> NetCDF Конвенция об атрибутах для обнаружения набора данных</a> который упоминается как &quot; Unidata Dataset Discovery v1.0&quot; в глобальных конвенциях и Metadata\_Conventions атрибуты.</p>
<p>Если ваши наборы данных используют более ранние версии ACDD, мы рекомендуем вам перейти на ACDD-1.3. Это не сложно. ACDD-1.3 совместим с версией 1.0. Переключаться для всех наборов данных (кроме EDDGrid FromErddap и EDDTable Наборы данных Erddap) :</p>
<ol>
<li class="">Удалить недавно обесценившийся глобальный Metadata\_Conventions Атрибут путем добавления (или путем изменения существующего Metadata\_Conventions атрибут)</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;Metadata\\_Conventions&quot;&gt;null&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Глобальный набор данных&lt; addAttributes &gt;.
 
2. Если набор данных имеет атрибут Конвенции в глобальном масштабе&lt; addAttributes &quot;Изменить все&quot; Unidata Dataset Discovery v1.0&quot; ссылается на &quot;ACDD-1.3.
Если набор данных не имеет атрибута Конвенции в глобальном масштабе&lt; addAttributes Затем добавьте один, который относится к ACDD-1.3. Например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;Conventions&quot;&gt;COARDS, CF-1.6, ACDD-1.3&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p> 
3. Если набор данных имеет глобальный standard\_name\_vocabulary атрибут, пожалуйста, измените формат значения на, например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;standard\\_name\\_vocabulary&quot;&gt;CF Standard Name Table v65&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Если речь идет о более старой версии <a href="https://cfconventions.org/Data/cf-standard-names/current/build/cf-standard-name-table.html" target="_blank" rel="noopener noreferrer" class="">Стандартная таблица имен CF</a> . Это, вероятно, хорошая идея для перехода на текущую версию. (65 Когда мы это пишем) Поскольку новые стандартные имена добавляются в эту таблицу с последующими версиями, старые стандартные имена редко обесцениваются и никогда не удаляются.
 
4. Несмотря на то, что ACDD-1.0 включает глобальные атрибуты creator\_name , creator\_email , creator\_url , <a href="#generatedatasetsxml" class="">Генерировать наборы данныхXml</a> не добавляли их автоматически до тех пор, пока ERDDAP™ v1.50. Это важная информация:</p>
<ul>
<li class="">creator\_name позволяет пользователям узнать/цитировать создателя набора данных.</li>
<li class="">creator\_email сообщает пользователям предпочтительный адрес электронной почты для связи с создателем набора данных, например, если у них есть вопросы о наборе данных.</li>
<li class="">creator\_url Это дает пользователям возможность узнать больше о создателе.</li>
<li class="">ERDDAP™ Использует всю эту информацию при создании документов метаданных FGDC и ISO 19115-2/19139 для каждого набора данных. Эти документы часто используются внешними поисковыми службами.</li>
</ul>
<p>Пожалуйста, добавьте эти атрибуты в глобальный набор данных.&lt; addAttributes &gt;.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;creator\\_name&quot;&gt;NOAA NMFS SWFSC ERD&lt;/att&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;creator\\_email&quot;&gt;erd.data@noaa.gov&lt;/att&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;creator\\_url&quot;&gt;https://www.pfeg.noaa.gov&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Вот так. Надеюсь, это не было слишком сложно.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="zarr">Зарр<a href="#zarr" class="hash-link" aria-label="Прямая ссылка наЗарр" title="Прямая ссылка наЗарр" translate="no">​</a></h3>
<p>Версия 2.25 ERDDAP™ Читать локально Файлы Zarr используют <a href="#eddtablefromncfiles" class="">EDDTable FromNcFiles</a> и <a href="#eddgridfromncfiles" class=""> EDDGrid Из NcFiles</a> .</p>
<p>(По состоянию на август 2019 года) Мы можем легко ошибаться, но мы еще не убеждены, что <a href="https://github.com/zarr-developers/zarr-python" target="_blank" rel="noopener noreferrer" class="">Зарр</a> Подобные системы, которые разбивают файлы данных на более мелкие куски, являются отличным решением проблемы. ERDDAP™ Считывание данных, хранящихся в облачных сервисах, таких как Amazon AWS S3. Zarr — это отличная технология, которая показала свою полезность в самых разных ситуациях. ERDDAP +S3 будет одной из таких ситуаций. Прежде чем приложить усилия для хранения всех наших данных в Zarr, давайте проведем некоторые тесты, чтобы увидеть, действительно ли это лучшее решение.</p>
<p>Проблемы с доступом к данным в облаке — задержка (Лаг для первого получения данных) Доступ на уровне файлов (Вместо блочного доступа) . Zarr решает проблему доступа на уровне файлов, но ничего не делает с задержкой. По сравнению с просто загрузкой файла (Таким образом, его можно читать как локальный файл с доступом на уровне блоков.) Зарр может даже усугубить проблему задержки, потому что с Зарром чтение файла теперь включает в себя серию из нескольких звонков для чтения различных частей файла. (Каждый со своим лагом) . Проблема задержки может быть решена путем параллелизации запросов, но это решение более высокого уровня, не зависящее от Zarr.</p>
<p>И с Зарром (как в реляционных базах данных) Мы теряем удобство того, что файл данных является простым, единственным файлом, который вы можете легко проверить целостность или сделать / загрузить копию.</p>
<p>ERDDAP™   (как в v2) имеет систему для поддержания локального кэша файлов из источника URL (Например, S3) (см.&lt;CacheFromUrl&gt; и&lt;cacheMaxGB&gt; (#cachefromurl) ). И новый [&lt;nThreads&gt; (#нити) Следует свести к минимуму проблему задержки путем параллелизации поиска данных на высоком уровне.&lt;CacheFromUrl работает очень хорошо для многих сценариев. (Мы не знаем, насколько это выгодно)&lt;nThreads&gt; не имеет дополнительных тестов. Мы признаем, что не проводили синхронизацию на примере AWS с хорошим сетевым подключением, но мы успешно протестировали различные удаленные URL-источники файлов. И ERDDAP ?&lt;cacheFromUrl&gt; работает с любым типом файла данных (например, .nc , .hdf .csv, .jsonlCSV ) Даже если внешне сжатый (например, .gz ) без каких-либо изменений в файлах (Например, переписать их как коллекции Зарра.) .</p>
<p>Вполне вероятно, что различные сценарии будут благоприятствовать различным решениям, например, только нужно прочитать часть файла один раз. (Зарр победит) , vs. нужно прочитать весь файл один раз, vs. нужно прочитать часть или весь файл несколько раз&lt;CacheFromUrl&gt; выиграет.</p>
<p>Прежде чем приложить усилия для хранения всех наших данных в Zarr, давайте проведем некоторые тесты, чтобы увидеть, действительно ли это лучшее решение.</p>
<ul>
<li class="">
<ul>
<li class=""></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="list-of-types-datasets">Список типов наборов данных<a href="#list-of-types-datasets" class="hash-link" aria-label="Прямая ссылка наСписок типов наборов данных" title="Прямая ссылка наСписок типов наборов данных" translate="no">​</a></h2>
<p>Если вам нужна помощь в выборе правильного типа набора данных, посмотрите <a href="#choosing-the-dataset-type" class="">Выбор типа набора данных</a> .</p>
<p>Типы наборов данных делятся на две категории. ( <a href="#why-just-two-basic-data-structures" class="">Почему?</a> )</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgrid">EDDGrid<a href="#eddgrid" class="hash-link" aria-label="Прямая ссылка наEDDGrid" title="Прямая ссылка наEDDGrid" translate="no">​</a></h3>
<ul>
<li class=""><a href="#eddgrid" class=""> ** EDDGrid ** </a> наборы данных обрабатывают сетчатые данные.</li>
<li class="">в EDDGrid Наборы данных, переменные данных представляют собой многомерные массивы данных.</li>
<li class="">Должна быть переменная оси для каждого измерения. Переменные оси должны быть указаны в порядке их использования переменными данных.</li>
<li class="">в EDDGrid Все переменные данных должны использоваться (доля) Все переменные оси.
( <a href="#why-just-two-basic-data-structures" class="">Почему?</a>   <a href="#dimensions" class="">А если нет?</a> )
Новый в ERDDAP™ Версия 2.29.0 с EDDGrid FromNcFiles - это экспериментальная поддержка переменных данных, которые не поддерживают все переменные оси. (или как некоторые называют это 1D и 2D данные в том же наборе данных) .</li>
<li class="">Сортированные значения измерения - Во всем EDDGrid наборы данных, каждое измерение должно быть сортировано (восходящий или нисходящий) . Каждый из них может быть нерегулярным. Никаких связей быть не может. Это является требованием к <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">Стандарт метаданных CF</a> . Если значения любого измерения не сортированы, набор данных не будет загружен и ERDDAP™ идентифицирует первое несортированное значение в файле журнала, <em>BigParent Директория</em> /logs/log.txt.</li>
</ul>
<p>Некоторые подклассы имеют дополнительные ограничения (в частности, EDDGrid Совокупное существующее измерение требует, чтобы внешнее (самое левое, первое) измерение было восходящим.</p>
<p>Несортированные значения размерности почти всегда указывают на проблему с исходным набором данных. Чаще всего это происходит, когда в агрегацию включается неправильно названный или неподходящий файл, что приводит к несортированному измерению времени. Чтобы решить эту проблему, см. сообщение об ошибке в ERDDAP™ log.txt файл, чтобы найти значение времени. Затем посмотрите в исходных файлах, чтобы найти соответствующий файл. (либо до, либо после) Это не входит в агрегацию.</p>
<ul>
<li class="">Смотрите более полное описание <a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#dataModel" target="_blank" rel="noopener noreferrer" class=""> EDDGrid Модель данных</a> .</li>
<li class="">The EDDGrid Типы наборов данных:<!-- -->
<ul>
<li class=""><a href="#eddfromaudiofiles" class=""> EDDGrid Из аудиофайлов</a> агрегирует данные из группы локальных аудиофайлов.</li>
<li class=""><a href="#eddgridfromdap" class=""> EDDGrid Из папы</a> Ручки сетчатых данных от DAP Серверы.</li>
<li class=""><a href="#eddgridfromeddtable" class=""> EDDGrid Издательство<!-- -->:EDDTable</a> позволяет конвертировать табличный набор данных в сетчатый набор данных.</li>
<li class=""><a href="#eddfromerddap" class=""> EDDGrid Из Эрддапа</a> обрабатывает сетчатые данные из удаленного ERDDAP .</li>
<li class=""><a href="#eddgridfrometopo" class=""> EDDGrid Из Этопо</a> Обрабатывает встроенные данные топографии ETOPO.</li>
<li class=""><a href="#eddgridfromfiles" class=""> EDDGrid Из материалов</a> Это суперкласс всех EDDGrid Из... классов материалов.</li>
<li class=""><a href="#eddgridfrommergeirfiles" class=""> EDDGrid Изображения MergeIRFiles</a> агрегирует данные из группы локальных MergeIR .gz Файлы.</li>
<li class=""><a href="#eddgridfromncfiles" class=""> EDDGrid Из NcFiles</a> агрегирует данные из группы локальных NetCDF   (v3 или v4)   .nc и связанных с ними файлов.</li>
<li class=""><a href="#eddgridfromncfilesunpacked" class=""> EDDGrid Из NcFilesUnpacked</a> является вариантом, если EDDGrid Из NcFiles, который также собирает данные из группы локальных NetCDF   (v3 или v4)   .nc и связанных с ними файлов, которые ERDDAP™ распаковывать на низком уровне.</li>
<li class=""><a href="#eddgridlonpm180" class=""> EDDGrid LonPM180</a> Изменение значений долготы ребенка EDDGrid Они находятся в диапазоне от -180 до 180.</li>
<li class=""><a href="#eddgridlon0360" class=""> EDDGrid Lon0360</a> Изменение значений долготы ребенка EDDGrid Они находятся в диапазоне от 0 до 360.</li>
<li class=""><a href="#eddgridsidebyside" class=""> EDDGrid SideBySide</a> агрегаты два или более EDDGrid наборы данных бок о бок.</li>
<li class=""><a href="#eddgridaggregateexistingdimension" class=""> EDDGrid Совокупность существующих измерений</a> агрегаты два или более EDDGrid наборы данных, каждый из которых имеет различный диапазон значений для первого измерения, но идентичные значения для других измерений.</li>
<li class=""><a href="#eddgridcopy" class=""> EDDGrid Копия</a> Можно сделать локальную копию другого EDDGrid данные и обслуживает данные из локальной копии.
 </li>
</ul>
</li>
<li class="">Все EDDGrid Наборы данных поддерживают настройку nThreads, которая сообщает ERDDAP™ Сколько потоков использовать при ответе на запрос. Видишь? <a href="#nthreads" class="">nПотоки</a> Документация для деталей.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtable">EDDTable<a href="#eddtable" class="hash-link" aria-label="Прямая ссылка наEDDTable" title="Прямая ссылка наEDDTable" translate="no">​</a></h3>
<ul>
<li class=""><a href="#eddtable" class=""> <strong>EDDTable</strong> </a> Наборы данных обрабатывают табличные данные.</li>
<li class="">Табличные данные могут быть представлены в виде таблицы, похожей на базу данных, с строками и столбцами. Каждая колонка (переменная данных) Он имеет имя, набор атрибутов и хранит только один тип данных. Каждая строка имеет наблюдение (или группы связанных ценностей) . Источник данных может иметь данные в другой структуре данных, более сложной структуре данных и/или нескольких файлах данных. ERDDAP™ должен иметь возможность сплющивать исходные данные в таблицу, похожую на базу данных, чтобы представить данные в виде табличного набора данных пользователям ERDDAP .</li>
<li class="">Смотрите более полное описание <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#dataModel" target="_blank" rel="noopener noreferrer" class="">Модель данных EDDTable</a> .</li>
<li class="">Типы наборов данных EDDTable:<!-- -->
<ul>
<li class=""><a href="#eddtablefromalldatasets" class="">EDDTableFromAllDatasets</a> Это набор данных более высокого уровня, который содержит информацию обо всех других наборах данных в вашем ERDDAP .</li>
<li class=""><a href="#eddtablefromasciifiles" class="">EDDTableFromAsciiFiles</a> агрегирует данные из запятых, вкладок, полуколонов или разделённых по пространству табличных файлов данных ASCII.</li>
<li class=""><a href="#eddtablefromasciiservice" class="">EDDTableFromAsciiService</a> Это суперкласс всех классов EDDTableFromAsciiService.</li>
<li class=""><a href="#eddtablefromasciiservicenos" class="">EDDTableFromAsciiServiceNOS</a> обрабатывает данные некоторых из NOAA Веб-сервисы NOS.</li>
<li class=""><a href="#eddfromaudiofiles" class="">EDDTable FromAudioFiles</a> агрегирует данные из группы локальных аудиофайлов.</li>
<li class=""><a href="#eddtablefromawsxmlfiles" class="">EDDTable From AwsXmlFiles</a> агрегирует данные с автоматической метеорологической станции (AWS) XML файлы.</li>
<li class=""><a href="#eddtablefromcassandra" class="">EDDTable From Кассандра</a> обрабатывает табличные данные из одной таблицы Кассандры.</li>
<li class=""><a href="#eddtablefromcolumnarasciifiles" class="">EDDTable FromColumnarAsciiFiles</a> агрегирует данные из табличных файлов данных ASCII с столбцами данных фиксированной ширины.</li>
<li class=""><a href="#eddtablefromdapsequence" class="">EDDTable FromDapSequence</a> обрабатывать табличные данные из DAP Серверы последовательности.</li>
<li class=""><a href="#eddtablefromdatabase" class="">EDDTable FromDatabase</a> обрабатывает табличные данные из одной таблицы баз данных.</li>
<li class=""><a href="#eddtablefromeddgrid" class="">EDDTable From EDDGrid </a> позволяет создавать набор данных EDDTable из EDDGrid набор данных.</li>
<li class=""><a href="#eddfromerddap" class="">EDDTable FromErddap</a> обрабатывает табличные данные с удаленного ERDDAP .</li>
<li class=""><a href="#eddtablefromfilenames" class="">EDDTable FromFileNames</a> Создает набор данных из информации о группе файлов в файловой системе сервера, но он не обслуживает данные из файлов.</li>
<li class=""><a href="#eddtablefromfiles" class="">EDDTable Из материалов</a> Это суперкласс всех классов EDDTable From...Files.</li>
<li class=""><a href="#eddtablefromhttpget" class="">EDDTable FromHttpGet</a> это ERDDAP Это единственная система для импорта и экспорта данных.</li>
<li class=""><a href="#eddtablefromhyraxfiles" class="">EDDTable From Hyrax Файлы</a>   (Обнародовано) агрегирует данные из файлов с несколькими переменными с общими размерами, обслуживаемыми <a href="https://www.opendap.org/software/hyrax-data-server" target="_blank" rel="noopener noreferrer" class=""> Hyrax   OPeNDAP сервер</a> .</li>
<li class=""><a href="#eddtablefrominvalidcrafiles" class="">EDDTable FromInvalidCRAFiles</a> агрегированные данные от NetCDF   (v3 или v4)   .nc Файлы, которые используют конкретный, недействительный вариант CF DSG Contiguous Ragged Array (КРА) Файлы. Хотя ERDDAP™ Поддерживает этот тип файла, это недействительный тип файла, который никто не должен начинать использовать. Группы, которые в настоящее время используют этот тип файла, настоятельно рекомендуется использовать. ERDDAP™ для создания действительных файлов CF DSG CRA и прекращения использования этих файлов.</li>
<li class=""><a href="#eddtablefromjsonlcsvfiles" class="">EDDTableFromJsonlCSVFiles</a> агрегированные данные от <a href="https://jsonlines.org/examples/" target="_blank" rel="noopener noreferrer" class="">Джон Линии файлов CSV</a> .</li>
<li class=""><a href="#eddtablefrommultidimncfiles" class="">EDDTableFromMultidimNcFiles</a> агрегированные данные от NetCDF   (v3 или v4)   .nc Файлы с несколькими переменными с общими размерами.</li>
<li class=""><a class="" href="/ru/docs/server-admin/mqtt-integration">EDDTableFromMqtt</a> Конструирует набор данных на основе сообщений MQTT. Обратите внимание, что документация находится на выделенной странице. Обратите внимание, что существует много сходств с <a href="#eddtablefromhttpget" class="">EDDTable FromHttpGet</a> .</li>
<li class=""><a href="#eddtablefromncfiles" class="">EDDTable FromNcFiles</a> агрегированные данные от NetCDF   (v3 или v4)   .nc Файлы с несколькими переменными с общими размерами. Хорошо продолжать использовать этот тип набора данных для существующих наборов данных, но для новых наборов данных мы рекомендуем использовать вместо этого EDDTableFromMultidimNcFiles.</li>
<li class=""><a href="#eddtablefromnccffiles" class="">EDDTable FromNcCFFiles</a> агрегированные данные от NetCDF   (v3 или v4)   .nc файлы, использующие один из форматов файлов, указанных в <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Дискретная геометрия выборки (DSG) </a> конвенции. Но для файлов, использующих один из многомерных вариантов CF DSG, используют <a href="#eddtablefrommultidimncfiles" class="">EDDTableFromMultidimNcFiles</a> Вместо этого.</li>
<li class=""><a href="#eddtablefromnccsvfiles" class="">EDDTable FromNccsvFiles</a> агрегированные данные от <a class="" href="/ru/docs/user/nccsv-1.00">NCCSV</a> Файлы ASCII.csv.</li>
<li class=""><a href="#eddtablefromnos" class="">EDDTable FromNOS</a>   (Обнародовано) обрабатывает табличные данные с серверов NOS XML.</li>
<li class=""><a href="#eddtablefromobis" class="">EDDTable FromOBIS</a> обрабатывает табличные данные с серверов OBIS.</li>
<li class=""><a href="#eddtablefromparquetfiles" class="">EDDTableFromParquetFiles</a> обрабатывать данные от <a href="https://parquet.apache.org/" target="_blank" rel="noopener noreferrer" class="">паркет</a> .</li>
<li class=""><a href="#eddtablefromsos" class="">EDDTable From SOS </a> обрабатывать табличные данные из SOS Серверы.</li>
<li class=""><a href="#eddtablefromthreddsfiles" class="">Скриншоты из ThreddsFiles</a>   (Обнародовано) агрегирует данные из файлов с несколькими переменными с общими размерами, обслуживаемыми <a href="https://www.unidata.ucar.edu/software/tds/" target="_blank" rel="noopener noreferrer" class="">ПЕРЕВОДЫ OPeNDAP сервер</a> .</li>
<li class=""><a href="#eddtablefromwfsfiles" class="">EDDTable From WFS Файлы</a>   (Обнародовано) сделать локальную копию всех данных из ArcGIS MapServer WFS сервера, чтобы данные можно было быстро восстановить ERDDAP™ пользователей.</li>
<li class=""><a href="#eddtableaggregaterows" class="">EDDTableAggregateRows</a> может создавать набор данных EDDTable из группы наборов данных EDDTable.</li>
<li class=""><a href="#eddtablecopy" class="">EDDTableCopy</a> Вы можете сделать локальную копию многих типов наборов данных EDDTable, а затем быстро восстановить данные из локальной копии.</li>
</ul>
</li>
</ul>
<ul>
<li class="">
<ul>
<li class=""></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="detailed-descriptions-of-dataset-types">Подробное описание типов наборов данных<a href="#detailed-descriptions-of-dataset-types" class="hash-link" aria-label="Прямая ссылка наПодробное описание типов наборов данных" title="Прямая ссылка наПодробное описание типов наборов данных" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromdap">EDDGrid Из папы<a href="#eddgridfromdap" class="hash-link" aria-label="Прямая ссылка наEDDGrid Из папы" title="Прямая ссылка наEDDGrid Из папы" translate="no">​</a></h3>
<p><a href="#eddgridfromdap" class=""> ** EDDGrid Из папы** </a> обрабатывает переменные сетки от <a href="https://www.opendap.org/" target="_blank" rel="noopener noreferrer" class=""> DAP </a> Серверы.</p>
<ul>
<li class="">Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Вы можете собрать необходимую информацию, чтобы настроить ее или создать свой собственный XML. EDDGrid Набор данных FromDap, просмотрев файлы DDS и DAS исходного набора данных в вашем браузере (Добавление .das и .dds в sourceUrl Например, <a href="https://thredds1.pfeg.noaa.gov/thredds/dodsC/satellite/BA/ssta/5day.dds" target="_blank" rel="noopener noreferrer" class="">https://thredds1.pfeg.noaa.gov/thredds/dodsC/satellite/BA/ssta/5day.dds</a> ) .
 </li>
<li class="">EDDGrid FromDap может получать данные из любой многомерной переменной DAP Сервер данных. (Раньше, EDDGrid FromDap был ограничен переменными, обозначенными как «сетки», но это больше не является требованием.)<br>
<!-- --> </li>
<li class="">Сортированные значения измерения - Значения для каждого измерения должны быть сортированы по порядку. (восходящий или нисходящий) . Значения могут быть нерегулярно разнесены. Никаких связей быть не может. Это является требованием к <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">Стандарт метаданных CF</a> . Если значения любого измерения не сортированы, набор данных не будет загружен и ERDDAP™ идентифицирует первое несортированное значение в файле журнала, <em>BigParent Директория</em> /logs/log.txt.</li>
</ul>
<p>Несортированные значения размерности почти всегда указывают на проблему с исходным набором данных. Чаще всего это происходит, когда в агрегацию включается неправильно названный или неподходящий файл, что приводит к несортированному измерению времени. Чтобы решить эту проблему, см. сообщение об ошибке в ERDDAP™ log.txt файл, чтобы найти значение времени. Затем посмотрите в исходных файлах, чтобы найти соответствующий файл. (либо до, либо после) Это не входит в агрегацию.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromdap-skeleton-xml">EDDGrid Деп скелет XML<a href="#eddgridfromdap-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDGrid Деп скелет XML" title="Прямая ссылка наEDDGrid Деп скелет XML" translate="no">​</a></h4>
<blockquote>
<p>    &lt;dataset type=&quot;EDDGridFromDap&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1.<br>
<!-- -->        For EDDGridFromDap, this gets the remote .dds and then gets the new<br>
<!-- -->        leftmost (first) dimension values. --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#axisvariable" class="">&lt;axisVariable&gt;</a>...&lt;/axisVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->    &lt;/dataset&gt;</p>
</blockquote>
<p> </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromeddtable">EDDGrid Издательство<!-- -->:EDDTable<a href="#eddgridfromeddtable" class="hash-link" aria-label="Прямая ссылка наeddgridfromeddtable" title="Прямая ссылка наeddgridfromeddtable" translate="no">​</a></h3>
<p><a href="#eddgridfromeddtable" class=""> ** EDDGrid Издательство<!-- -->:EDDTable<!-- -->** </a> позволяет конвертировать табличный набор данных EDDTable в EDDGrid сетчатый набор данных. Помните, что ERDDAP™ Обработка данных как таковая <a href="#why-just-two-basic-data-structures" class="">сетчатые наборы данных (подклассы EDDGrid ) или табличные наборы данных (Подклассы EDDTable) </a> .</p>
<ul>
<li class="">Обычно, если у вас есть сетчатые данные, вы просто настраиваете EDDGrid Набор данных напрямую. Иногда это невозможно, например, когда у вас есть данные, хранящиеся в реляционной базе данных. ERDDAP™ Доступ возможен только через EDDTableFromDatabase. EDDGrid Класс FromEDDTable позволяет исправить эту ситуацию.
 </li>
<li class="">Очевидно, что данные в базовом наборе данных EDDTable должны быть (в основном) сетчатые данные, но в табличной форме. Например, набор данных EDDTable может иметь данные CTD: измерения тока на восток и на север, на нескольких глубинах, в несколько раз. Поскольку глубины в каждой точке времени одинаковы, EDDGrid FromEDDTable может создавать сетчатый набор данных с измерением времени и глубины, который получает доступ к данным через базовый набор данных EDDTable.
 </li>
<li class="">Генерировать наборы данных Xml - Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Вы можете собрать информацию, необходимую для улучшения чернового проекта.
 </li>
<li class="">Источник атрибутов - Как и все другие типы данных, EDDGrid FromTable исходит из того, что существуют глобальные исходные атрибуты и <a href="#global-attributes" class="">глобальный addAttributes </a>   (указанный в datasets.xml ) которые объединяются, чтобы сделать глобальную Атрибуты, которые видят пользователи. Для глобального источника атрибутов, EDDGrid FromEDDTable использует глобальную комбинацию Атрибуты базового набора данных EDDTable. (Если вы задумаетесь об этом на минуту, это имеет смысл.)</li>
</ul>
<p>Аналогично для каждого axisVariable s и dataVariable ? <a href="#addattributes" class=""> addAttributes </a> , EDDGrid FromEDDTable использует комбинацию переменных Атрибуты из базового набора данных EDDTable в качестве EDDGrid Источник атрибутов переменной FromEDDTable. (Если вы задумаетесь об этом на минуту, это имеет смысл.)</p>
<p>Если EDDTable имеет хорошие метаданные, то EDDGrid Для этого часто требуется очень мало addAttributes Метаданные - всего несколько настроек здесь и там.</p>
<ul>
<li class="">
<p>dataVariable s versus axisVariable с- EDDTable имеет только dataVariable С. Ан EDDGrid В наборе данных FromEDDTable будет несколько axisVariable s (Созданный из некоторых dataVariable s) и некоторые dataVariable s (Созданный из оставшихся dataVariable s) . <a href="#generatedatasetsxml" class="">Генерировать наборы данныхXml</a> Угадайте, на какой EDDTable dataVariable должен стать EDDGrid Издательство<!-- -->:EDDTable<!-- --> axisVariable s, но это всего лишь предположение. Вы должны изменить выход GenerateDatasetsXml, чтобы указать, какие dataVariable s станет axisVariable s и в каком порядке.
 </p>
</li>
<li class="">
<p>Ценности - Нет ничего о лежащей в основе EDDTable, чтобы сказать EDDGrid Отредактировать возможные значения axisVariable s в сетчатой версии набора данных, поэтому вы ДОЛЖНЫ предоставить эту информацию для каждого axisVariable С помощью одного из этих атрибутов:</p>
<ul>
<li class="">axisValues — позволяет указать список значений. Например,
&lt;Att name=&quot;axisValues&quot; <a href="#attributetype" class="">Тип = &quot;двойной список&quot;</a> &gt;2, 2.5, 3, 3.5, 4&lt;/att&gt;
Обратите внимание на использование a <a href="#data-types" class="">тип данных</a> Плюс слово «список». Кроме того, тип списка (Например, двойной) Необходимо сопоставить данные Тип переменной в EDDTable и EDDGrid Из наборов данных EDDTable.</li>
<li class="">axisValuesStartStrideStop - позволяет указать последовательность регулярно разнесенных значений, указав значения начала, шага и остановки. Вот пример, который эквивалентен приведенному выше примеру оси Ценности:
&lt;Оригинальное название<!-- -->:axisValuesStartStrideStop<!-- --> <a href="#attributetype" class="">Тип = &quot;двойной список&quot;</a> &gt;2, 0,5, 4&lt;/att&gt;
Опять же, обратите внимание на использование типа данных списка. Кроме того, тип списка (Например, двойной) Необходимо сопоставить данные Тип переменной в EDDTable и EDDGrid Из наборов данных EDDTable.
 </li>
</ul>
</li>
</ul>
<p>Обновления - Так же, как нет способа для EDDGrid От EDDTable до определения оси Ценности от EDDTable изначально, также не существует надежного способа для EDDGrid От EDDTable до определения от EDDTable, когда изменились значения оси (Особенно, когда есть новые значения для переменной времени.) . В настоящее время единственным решением является изменение атрибута axisValues в datasets.xml и перезагрузить набор данных. Например, вы можете написать сценарий для</p>
<ol>
<li class="">Поиск datasets.xml для
datasetID = <em>DatasetID</em> &quot;
Вы работаете с правильным набором данных.</li>
<li class="">Поиск datasets.xml для следующего возникновения
<sourcename>  <em>Источник переменных</em>  </sourcename><br>
<!-- -->Вы работаете с правильной переменной.</li>
<li class="">Поиск datasets.xml для следующего возникновения</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;axisValuesStartStrideStop&quot; type=&quot;doubleList&quot;&gt;  </span><br></span></code></pre></div></div>
<p>Итак, вы знаете начальную позицию тега.
4. Поиск datasets.xml для следующего возникновения</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>чтобы вы знали конечное положение значений оси.
5. Замените старое начало, шаг, остановите ценности новыми ценностями.
6. Контакты <a class="" href="/ru/docs/server-admin/additional-information#set-dataset-flag">флаг URL</a> Чтобы набор данных сообщал ERDDAP™ Перезагрузить набор данных.</p>
<p>Это не идеально, но это работает.
 </p>
<ul>
<li class="">точность - Когда EDDGrid FromEDDTable отвечает на запрос пользователя о данных, он перемещает строку данных из таблицы ответов EDDTable в EDDGrid Реакционная сетка. Для этого он должен выяснить, соответствуют ли значения «оси» на данной строке в таблице некоторой комбинации значений оси в сетке. Для целых типов данных легко определить, равны ли два значения. Но для поплавков и двойников это вызывает ужасную проблему чисел с плавающей запятой. <a href="https://randomascii.wordpress.com/2012/02/25/comparing-floating-point-numbers-2012-edition/" target="_blank" rel="noopener noreferrer" class="">не совпадающий точно</a> . (Например, 0,2 против 0,199999999999996) . To (пытаться) Разберись с этим, EDDGrid FromTable позволяет указать точный атрибут для любого из axisVariable s, которое определяет общее число десятичных цифр, которые должны быть идентичными.<!-- -->
<ul>
<li class="">Например,&lt;Att name=&quot;precision&quot; type=&quot;int&quot;&gt;5&lt;/att&gt;</li>
<li class="">Для различных типов переменных данных существуют различные значения точности по умолчанию. Дефолты обычно уместны. Если их нет, нужно указать разные значения.</li>
<li class="">Для axisVariable которые являются <a href="#timestamp-variables" class="">время или время Штамповые переменные</a> По умолчанию - полная точность (Точный матч) .</li>
<li class="">Для axisVariable s, которые плавают, точность по умолчанию составляет 5.</li>
<li class="">Для axisVariable s, которые являются двойными, точность по умолчанию равна 9.</li>
<li class="">Для axisVariable которые имеют целые типы данных, EDDGrid FromEDDTable игнорирует атрибут точности и всегда использует полную точность. (Точный матч) .
 </li>
<li class=""><strong>Предупреждаю!</strong> При выполнении преобразования части табличных данных в часть сетчатых данных, если EDDGrid FromEDDTable не может соответствовать значению «ось» EDDTable одному из ожидаемых значений. EDDGrid Значения оси от EDDTable, EDDGrid Скачать бесплатно FromEDDTable (Без ошибок) Выбрасывает данные из этого ряда таблицы. Например, могут быть другие данные. (Не в сетке) в наборе данных EDDTable. (И если шагнуть 1, не является очевидным для EDDGrid Из таблицы, какие значения оси являются желаемыми значениями, а какие из них должны быть пропущены из-за шага.) Таким образом, если значения точности слишком высоки, пользователь увидит недостающие значения в ответе данных, когда действительно существуют действительные значения данных.</li>
</ul>
</li>
</ul>
<p>И наоборот, если значения точности установлены слишком низко, значения «оси» EDDTable не должны совпадать. EDDGrid Значения оси от EDDTable будут (ошибочно) совпадение.</p>
<p>Эти потенциальные проблемы ужасны, потому что пользователь получает неправильные данные. (Отсутствие ценностей) Когда нужно получить правильные данные (По меньшей мере сообщение об ошибке) .
Это не недостаток в EDDGrid Из Таблицы. EDDGrid FromTable не может решить эту проблему. Проблема присуща преобразованию табличных данных в сетчатые данные (Если не могут быть сделаны другие предположения, но они не могут быть сделаны здесь.) .
Это зависит от вас, ERDDAP™ администратора, для <strong>Проверьте свой EDDGrid Сверхъестественное</strong> Для того, чтобы убедиться, что значения точности установлены, чтобы избежать этих потенциальных проблем.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="gapthreshold">пороговый разрыв<a href="#gapthreshold" class="hash-link" aria-label="Прямая ссылка напороговый разрыв" title="Прямая ссылка напороговый разрыв" translate="no">​</a></h4>
<ul>
<li class=""><a href="#gapthreshold" class="">пороговый разрыв</a> - Это очень необычный тип набора данных. Типы запросов, которые могут быть сделаны на (управляемый) ан EDDGrid набор данных (Связанные с диапазонами и шагами axisVariable s) Они сильно отличаются от типов запросов, которые могут быть сделаны. (управляемый) Набор данных EDDTable (Это связано с диапазонами некоторых переменных.) , исполнение EDDGrid Наборы данных FromEDDTable будут сильно различаться в зависимости от точного запроса и скорости базового набора данных EDDTable. Для запросов, которые имеют значение шага 1, EDDGrid FromEDDTable может запросить базовый EDDTable для относительно большого объема данных (Как будто шаг = 1) Затем просеивают результаты, сохраняя данные из одних строк и отбрасывая данные из других. Если он должен просеять много данных, чтобы получить необходимые данные, запрос займет больше времени.</li>
</ul>
<p>Если EDDGrid FromEDDTable может сказать, что будут большие пробелы (С строками нежелательных данных) между строками с желаемыми данными, EDDGrid FromEDDTable может выбрать несколько подзапросов к базовому EDDTable вместо одного большого запроса, тем самым пропуская нежелательные строки данных в больших пробелах. Чувствительность к этому решению контролируется значением порога разрыва, указанным в&lt;gapThreshold &gt; тег (По умолчанию = 1000 строк исходных данных) . Установка разрыва Порог на меньшее число приведет к созданию набора данных (в целом) Больше подзапросов. Установка разрыва Порог для большего числа приведет к созданию набора данных (в целом) Меньше подзапросов.</p>
<p>Если порог разрыва слишком мал, EDDGrid FromEDDTable будет работать медленнее, потому что накладные расходы на несколько запросов будут больше, чем время, сэкономленное за счет получения некоторых избыточных данных. Если порог разрыва слишком велик, EDDGrid FromEDDTable будет работать медленнее, потому что так много избыточных данных будет извлечено из EDDTable. (Как обнаружил Голдилокс, середина «правильная».) Накладные расходы на различные типы наборов данных EDDTable сильно различаются, поэтому единственный способ узнать фактическую лучшую настройку для вашего набора данных - это экспериментировать. Но вы не пойдете слишком далеко неправильно, придерживаясь по умолчанию.</p>
<p>Простой пример: представьте себе EDDGrid Стол только один axisVariable   (время, с размером 100000) один dataVariable   (температура) , и разрыв по умолчанию порог 1000.</p>
<ul>
<li class="">Если пользователь запрашивает температуру \[ 0<!-- -->💯<!-- -->5000 \] , шаг равен 100, поэтому размер разрыва равен 99, что меньше порога разрыва. Так EDDGrid FromTable сделает только один запрос в EDDTable для всех данных, необходимых для запроса. (эквивалентно температуре \[ 0:5000 \] ) и выбросить все строки данных, которые ему не нужны.</li>
<li class="">Если пользователь запрашивает температуру \[ 0:2500:5000 \] , этот шаг составляет 2500, поэтому размер разрыва составляет 2499, что больше, чем порог разрыва. Так EDDGrid FromTable будет делать отдельные запросы на EDDTable, которые эквивалентны температуре. \[ 0 \] температура \[ 2500 \] температура \[ 5000000000 \] .</li>
</ul>
<p>Расчет размера зазора сложнее при наличии нескольких осей.</p>
<p>Для каждого запроса пользователя, EDDGrid FromEDDTable печатает диагностические сообщения, связанные с этим <a class="" href="/ru/docs/server-admin/additional-information#log">log.txt</a> Файл.</p>
<ul>
<li class="">Если&lt;logLevel&gt; (#loglevel) в datasets.xml Настроен на информацию, это печатает сообщение как
\* nOuterAxes=1 из 4 nOuterRequests=22
Если nOuterAxes=0, то разрыв Threshold не был превышен и на EDDTable будет сделан только один запрос.
Если nOuterAxes&gt;0, порог разрыва был превышен, и nOuterRequests будет сделан в EDDTable, соответствующий каждой запрашиваемой комбинации самых левых nOuterAxes. Например, если набор данных имеет 4 axisVariable s и dataVariable как на восток \[ время \]  \[ широта \]  \[ долгота \]  \[ глубина \] Самый левый (первый) Переменная оси — это время.</li>
<li class="">Если&lt;logLevel&gt;&gt; в datasets.xml устанавливается на всех, дополнительная информация записывается в файл log.txt.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromeddtable-skeleton-xml">EDDGrid EDDTable скелет XML<a href="#eddgridfromeddtable-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDGrid EDDTable скелет XML" title="Прямая ссылка наEDDGrid EDDTable скелет XML" translate="no">​</a></h4>
<blockquote>
<p> &lt;dataset type=&quot;EDDGridFromEDDTable&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->    <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1.<br>
<!-- -->     For EDDGridFromEDDTable, this only works if the underlying EDDTable<br>
<!-- -->     supports updateEveryNMillis. --&gt;<br>
<!-- -->    <a href="#gapthreshold" class="">&lt;gapThreshold&gt;</a>...&lt;/gapThreshold&gt; &lt;!-- 0 or 1. The default is 1000. &gt;<br>
<!-- -->    <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->    <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#axisvariable" class="">&lt;axisVariable&gt;</a>...&lt;/axisVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->    <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->    &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- The underlying source EDDTable dataset. --&gt;<br>
<!-- --> &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddfromerddap">EDD* From ERDDAP<a href="#eddfromerddap" class="hash-link" aria-label="Прямая ссылка наEDD* From ERDDAP" title="Прямая ссылка наEDD* From ERDDAP" translate="no">​</a></h3>
<p>** EDDGrid Из Эрддапа** обрабатывает сетчатые данные из удаленного ERDDAP™ Сервер.
<strong>EDDTable FromErddap</strong> обрабатывает табличные данные с удаленного ERDDAP™ Сервер.</p>
<ul>
<li class="">EDDGrid FromErddap и EDDTableFromErddap ведут себя не так, как все другие типы наборов данных ERDDAP .</li>
<li class="">Как и другие типы наборов данных, эти наборы данных получают информацию о наборе данных из источника и сохраняют ее в памяти.</li>
<li class="">Как и другие типы данных, когда ERDDAP™ поиск наборов данных, отображение формы доступа к данным ( * datasetID * .html) , или отображает форму Make A Graph ( * datasetID * граф) , ERDDAP™ использует информацию о наборе данных, который находится в памяти.</li>
<li class="">EDDGrid FromErddap и EDDTable Erddap является основой для <a class="" href="/ru/docs/server-admin/scaling">Сети/кластеры/федерации</a> из ERDDAP s, которые эффективно распределяют использование ЦП (В основном для создания карт) , использование памяти, хранение набора данных и использование полосы пропускания большого центра обработки данных.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="redirect">перенаправить<a href="#redirect" class="hash-link" aria-label="Прямая ссылка наперенаправить" title="Прямая ссылка наперенаправить" translate="no">​</a></h4>
<ul>
<li class="">В отличие от других типов данных, когда ERDDAP™ получает запрос на данные или изображения из этих наборов данных, ERDDAP   <a href="https://en.wikipedia.org/wiki/URL_redirection" target="_blank" rel="noopener noreferrer" class="">перенаправлять</a> Запрос на удаленный ERDDAP™ Сервер. Результатом является:<!-- -->
<ul>
<li class="">Это очень эффективно (CPU, память и пропускная способность) Потому что иначе<!-- -->
<ol>
<li class="">Композитный ERDDAP™ Вы должны отправить запрос другому ERDDAP™   (который требует времени) .</li>
<li class="">Другой ERDDAP™ должен получить данные, переформатировать их и передать данные в композитный ERDDAP .</li>
<li class="">Композитный ERDDAP™ должен получать данные (использование полосы пропускания) Переформатировать его (Использование CPU и памяти) и передавать данные пользователю (использование полосы пропускания) . Перенаправляя запрос и позволяя другому ERDDAP™ Чтобы отправить ответ непосредственно пользователю, композитный ERDDAP™ По сути, не тратит время процессора, память или пропускную способность на запрос.</li>
</ol>
</li>
<li class="">Перенаправление является прозрачным для пользователя независимо от клиентского программного обеспечения. (браузер или любое другое программное обеспечение или инструмент командной строки) .</li>
</ul>
</li>
<li class=""><a href="#redirect" class="">Вы можете сказать ERDDAP™ </a> не перенаправлять запросы пользователей путем установки&lt;Перенаправление&gt;фальшивый&lt;/redirect&gt;, но это сводит на нет большинство преимуществ типа набора данных ...FromErddap (В частности, рассеивание нагрузки на переднем конце ERDDAP™ Удаленный / Backend ERDDAP ) .
 
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="subscriptions">Подписки<a href="#subscriptions" class="hash-link" aria-label="Прямая ссылка наПодписки" title="Прямая ссылка наПодписки" translate="no">​</a></h4>
<p>Обычно, когда EDDGrid FromErddap и EDDTable Из Эрддапа (повторять) Заряженный на свой ERDDAP , они пытаются добавить подписку на удаленный набор данных через удаленный ERDDAP Система подписки e-mail/URL. Таким образом, когда удаленный набор данных изменяется, удаленный ERDDAP™ контакты <a class="" href="/ru/docs/server-admin/additional-information#set-dataset-flag">setDataset Флаг URL</a> на твоей ERDDAP™ чтобы локальный набор данных был перезагружен как можно скорее и чтобы локальный набор данных всегда был полностью обновлен и имитировал удаленный набор данных. Таким образом, в первый раз, когда это произойдет, вы должны получить электронное письмо с просьбой подтвердить подписку. Однако, если местный ERDDAP™ Вы не можете отправить электронное письмо или удаленный ERDDAP Система подписки на электронную почту / URL не активна, вы должны отправить удаленное сообщение по электронной почте ERDDAP™ администратор и запросить вручную добавить [&lt;OnChange&gt; (#изменить) ...&lt;/onChange&gt; теги для всех соответствующих наборов данных, чтобы вызвать ваш набор данных <a class="" href="/ru/docs/server-admin/additional-information#set-dataset-flag">setDataset Флаг URL</a> . Увидимся. ERDDAP™ Ежедневный отчет для списка setDataset Флаг URL, но просто отправьте их EDDGrid FromErddap и EDDTableFromErddap для удаленного доступа ERDDAP™ администратор.</p>
<p>Это не работает? Ваши локальные наборы данных не синхронизируются с удаленными наборами данных?
Несколько вещей должны работать правильно для этой системы, чтобы ваши наборы данных оставались в актуальном состоянии. Проверьте каждую из этих вещей в порядке:</p>
<ol>
<li class="">Твой ERDDAP™ должен иметь возможность отправлять электронные письма. Смотрите настройки электронной почты в setup.xml.</li>
<li class="">В целом (Но не всегда) Ваш ERDDAP ?&lt;Базовый URL и&lt;baseHttpsUrl&gt; не должен иметь номер порта (Например, :8080, :8443) . Если они это делают, используйте <a class="" href="/ru/docs/server-admin/deploy-install#proxypass">проксипас</a> Удалить порт из Url.</li>
<li class="">В вашем setup.xml&lt;ПодпискаToRemoteErddapDataset&gt; должна быть установлена на истинность.</li>
<li class="">Когда местный EDD... Набор данных FromErddap перезагружается, он должен отправить запрос на пульт ERDDAP™ Подписаться на удаленный набор данных. Посмотрите на log.txt, чтобы узнать, происходит ли это.</li>
<li class="">Вы должны получить электронное письмо с просьбой подтвердить запрос на подписку.</li>
<li class="">Вы должны нажать на ссылку в этом электронном письме, чтобы подтвердить запрос на подписку.</li>
<li class="">Удаленный ERDDAP™ Надо сказать, что проверка прошла успешно. В любое время вы можете запросить электронное письмо с пульта ERDDAP™ со списком отложенных и действительных подписок. Смотрите форму в <em>удаленныйrddapBase Урл</em> /erddap/subscriptions/list.html.</li>
<li class="">Когда меняется удаленный набор данных (Например, получить дополнительные данные) , удаленный ERDDAP™ Постарайтесь связаться с флагурлом на вашем ERDDAP . Вы не можете проверить это, но вы можете спросить администратора пульта ERDDAP™ Чтобы проверить это.</li>
<li class="">Твой ERDDAP™ Вы должны получить запрос на установку этого флагурла. Загляните в свой log.txt для запроса «setDatasetFlag.txt» (s) Проверьте, есть ли сообщение об ошибке, связанное с запросами.</li>
<li class="">Твой ERDDAP™ Затем следует попытаться перезагрузить этот набор данных. (Возможно, не сразу, но как можно скорее.) .
 </li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="up-to-date-maxtime">Современный max (время) ?<a href="#up-to-date-maxtime" class="hash-link" aria-label="Прямая ссылка наСовременный max (время) ?" title="Прямая ссылка наСовременный max (время) ?" translate="no">​</a></h4>
<p>EDDGrid Наборы данных TableFromErddap изменяют только сохраненную информацию о каждом наборе исходных данных, когда набор исходных данных <a href="#reloadeverynminutes" class="">&quot;перезагрузить&quot;</a> и некоторые изменения метаданных (Например, переменная времени actual\_range ) , тем самым генерируя уведомление о подписке. Если исходный набор данных содержит данные, которые часто меняются (Новые данные каждую секунду) и использует <a href="#updateeverynmillis" class="">&quot;обновить&quot;</a> системы, чтобы замечать частые изменения базовых данных, EDDGrid /TableFromErddap не будет уведомлен об этих частых изменениях до следующей «перезагрузки» набора данных. EDDGrid Таблица FromErddap не будет полностью обновлена. Вы можете минимизировать эту проблему, изменив исходный набор данных.&lt;ПерезагрузкаEveryNMinutes&gt; в меньшее значение (60? 15?) Чтобы было больше уведомлений о подписке, чтобы сообщить EDDGrid /TableFromErddap обновляет свою информацию об исходном наборе данных.</p>
<p>Или, если ваша система управления данными знает, когда исходный набор данных имеет новые данные. (Например, через скрипт, который копирует файл данных на место) Если это не очень частое (каждые 5 минут или реже) Есть лучшее решение:</p>
<ol>
<li class="">Не используйте&lt;Обновление EveryNMillis&gt; для обновления исходного набора данных.</li>
<li class="">Установите исходный набор данных&lt;Перезагрузить EveryNMinutes в большее число (1440?) .</li>
<li class="">Пусть сценарий свяжется с исходным набором данных <a class="" href="/ru/docs/server-admin/additional-information#set-dataset-flag">флаг URL</a> Сразу после этого он копирует новый файл данных на место.
 </li>
</ol>
<p>Это приведет к тому, что исходный набор данных будет полностью обновлен и заставит его генерировать уведомление о подписке, которое будет отправлено на веб-сайт. EDDGrid /TableFromErddap набор данных. Это приведет к EDDGrid /TableFromErddap Dataset будет полностью обновлен (В течение 5 секунд будут добавлены новые данные) . И все это будет сделано эффективно (Без ненужных перезагрузок набора данных) .
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="no-addattributes-axisvariable-or-datavariable">Нет. addAttributes , axisVariable или dataVariable<a href="#no-addattributes-axisvariable-or-datavariable" class="hash-link" aria-label="Прямая ссылка наНет. addAttributes , axisVariable или dataVariable" title="Прямая ссылка наНет. addAttributes , axisVariable или dataVariable" translate="no">​</a></h4>
<p>В отличие от других типов наборов данных, EDDTableFromErddap и EDDGrid Наборы данных FromErddap не позволяют&lt;addAttributes&gt;,&lt; axisVariable &gt; или&lt; dataVariable &gt; разделы в datasets.xml для этого набора данных. Проблема заключается в том, что это приведет к несоответствиям:</p>
<ol>
<li class="">Допустим, это было разрешено, и вы добавили новый глобальный атрибут.</li>
<li class="">Когда пользователь спрашивает ERDDAP™ Для глобальных атрибутов появится новый атрибут.</li>
<li class="">Когда пользователь спрашивает ERDDAP™ Для файла данных, ваш ERDDAP™ Перенаправляет запрос на источник ERDDAP . Это ERDDAP™ Они не знают о новом атрибуте. Таким образом, если он создает файл данных с метаданными, например, .nc файл, метаданные не будут иметь нового атрибута.</li>
</ol>
<p>Есть два обходных пути:</p>
<ol>
<li class="">Убедить администратора источника ERDDAP™ изменения, которые вы хотите внести в метаданные.</li>
<li class="">Вместо EDDTableFromErddap используйте <a href="#eddtablefromdapsequence" class="">EDDTable FromDapSequence</a> . Или вместо того, чтобы EDDGrid FromErddap, использование <a href="#eddgridfromdap" class=""> EDDGrid Из папы</a> . Эти типы EDD позволяют эффективно подключаться к набору данных на удаленном устройстве. ERDDAP™   (но без перенаправления запросов данных) Они позволяют включать глобальные&lt;addAttributes&gt;,&lt; axisVariable &gt; или&lt; dataVariable &gt; разделы в datasets.xml . Еще одно отличие: вам нужно будет вручную подписаться на удаленный набор данных, чтобы набор данных был на вашем компьютере. ERDDAP™ будут уведомлены (через <a class="" href="/ru/docs/server-admin/additional-information#set-dataset-flag">флаг URL</a> ) при внесении изменений в удаленный набор данных. Таким образом, вы создаете новый набор данных вместо ссылки на удаленный набор данных.
 </li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="other-notes">Другие примечания<a href="#other-notes" class="hash-link" aria-label="Прямая ссылка наДругие примечания" title="Прямая ссылка наДругие примечания" translate="no">​</a></h4>
<ul>
<li class="">По соображениям безопасности, EDDGrid FromErddap и EDDTable Из Erddap не поддерживают&lt;Доступно&gt;&gt; (#доступность) тег и не может быть использован с удаленными наборами данных, которые требуют входа в систему (потому что они используются).&lt;Доступно&gt;&gt; (#доступность) ). Видишь? ERDDAP ? <a class="" href="/ru/docs/server-admin/additional-information#security">Система безопасности</a> ограничение доступа к некоторым наборам данных для некоторых пользователей.
 </li>
<li class="">Начиная с ERDDAP™ v2.10, EDDGrid FromErddap и EDDTableFromErddap поддерживают эту функцию.&lt;Доступные файлы&gt; (#доступные файлы) Тэг. В отличие от других типов наборов данных, по умолчанию верно, но файлы набора данных будут доступны только в том случае, если исходный набор данных также имеет&lt;Доступные файлы&gt; установлен на истинность.
 </li>
<li class="">Вы можете использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> чтобы сделать datasets.xml Для этого типа набора данных. Но вы можете легко сделать эти типы наборов данных вручную.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromerddap-skeleton-xml">EDDGrid Скелет Эрддапа XML<a href="#eddgridfromerddap-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDGrid Скелет Эрддапа XML" title="Прямая ссылка наEDDGrid Скелет Эрддапа XML" translate="no">​</a></h4>
<ul>
<li class="">EDDGrid Скелет Эрддапа Набор данных XML очень прост, потому что цель состоит в том, чтобы просто имитировать удаленный набор данных, который уже подходит для использования. ERDDAP :</li>
</ul>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridFromErddap&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviafiles" class="">&lt;accessibleViaFiles&gt;</a>...&lt;/accessibleViaFiles&gt; &lt;!-- 0 or 1, default=true. --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1<br>
<!-- -->        For EDDGridFromErddap, this gets the remote .dds and then gets<br>
<!-- -->        the new leftmost (first) dimension values. --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#redirect" class="">&lt;redirect&gt;</a>true(default)|false&lt;/redirect&gt; &lt;!-- 0 or 1; --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromerddap-skeleton-xml">EDDTable FromErddap скелет XML<a href="#eddtablefromerddap-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDTable FromErddap скелет XML" title="Прямая ссылка наEDDTable FromErddap скелет XML" translate="no">​</a></h4>
<ul>
<li class="">Скелет XML для набора данных EDDTableFromErddap очень прост, потому что цель состоит в том, чтобы просто имитировать удаленный набор данных, который уже подходит для использования. ERDDAP :</li>
</ul>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromErddap&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#redirect" class="">&lt;redirect&gt;</a>true(default)|false&lt;/redirect&gt; &lt;!-- 0 or 1; --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfrometopo">EDDGrid Из Этопо<a href="#eddgridfrometopo" class="hash-link" aria-label="Прямая ссылка наEDDGrid Из Этопо" title="Прямая ссылка наEDDGrid Из Этопо" translate="no">​</a></h3>
<p><a href="#eddgridfrometopo" class=""> ** EDDGrid Из Этопо** </a> служит только <a href="https://www.ngdc.noaa.gov/mgg/global/global.html" target="_blank" rel="noopener noreferrer" class="">Набор данных ETOPO1 Global 1-Minute Gridded Elevation</a>   (Ice Surface, сетка зарегистрирована, двоичный, 2 байт int: etopo1\_ice\_g\_i2 .zip ) который распределяется с ERDDAP .</p>
<ul>
<li class="">Только два datasetID поддерживается для EDDGrid FromEtopo, чтобы вы могли получить доступ к данным со значениями долготы от -180 до 180, или значениями долготы от 0 до 360.</li>
<li class="">Нет никаких подтегов, так как данные уже описаны внутри. ERDDAP .</li>
<li class="">Итак, два варианта для EDDGrid Наборы данных FromEtopo (буквально) :</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;!-- etopo180 serves the data from longitude -180 to 180 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;dataset type=&quot;EDDGridFromEtopo&quot; datasetID=&quot;etopo180&quot; /&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;!-- etopo360 serves the data from longitude 0 to 360 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;dataset type=&quot;EDDGridFromEtopo&quot; datasetID=&quot;etopo360&quot; /&gt; </span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromfiles">EDDGrid Из материалов<a href="#eddgridfromfiles" class="hash-link" aria-label="Прямая ссылка наEDDGrid Из материалов" title="Прямая ссылка наEDDGrid Из материалов" translate="no">​</a></h3>
<p><a href="#eddgridfromfiles" class=""> ** EDDGrid Из материалов** </a> Это суперкласс всех EDDGrid Из... классов материалов. Ты не можешь использовать EDDGrid Из материалов напрямую. Вместо этого используйте подкласс EDDGrid FromFiles для обработки конкретного типа файла:</p>
<ul>
<li class=""><a href="#eddgridfrommergeirfiles" class=""> EDDGrid Изображения MergeIRFiles</a> Обработка данных от gridded <a href="https://www.cpc.ncep.noaa.gov/products/global_precip/html/README" target="_blank" rel="noopener noreferrer" class="">Объединение .gz </a> Файлы.</li>
<li class=""><a href="#eddfromaudiofiles" class=""> EDDGrid Из аудиофайлов</a> агрегирует данные из группы локальных аудиофайлов.</li>
<li class=""><a href="#eddgridfromncfiles" class=""> EDDGrid Из NcFiles</a> Обработка данных от gridded <a href="https://en.wikipedia.org/wiki/GRIB" target="_blank" rel="noopener noreferrer" class="">GRIB .grb</a> файлы, <a href="https://www.hdfgroup.org/" target="_blank" rel="noopener noreferrer" class=""> HDF   (v4 или v5)   .hdf </a> файлы, <a href="#ncml-files" class=""> .nc мл</a> файлы, и <a href="https://www.unidata.ucar.edu/software/netcdf/" target="_blank" rel="noopener noreferrer" class=""> NetCDF   (v3 или v4)   .nc </a> Файлы. Это может работать с другими типами файлов. (Например, BUFR) Мы просто не тестировали его - пожалуйста, отправьте нам некоторые образцы файлов, если вы заинтересованы.</li>
<li class=""><a href="#eddgridfromncfilesunpacked" class=""> EDDGrid Из NcFilesUnpacked</a> является вариантом EDDGrid FromNcFiles, который обрабатывает данные из сетки NetCDF   (v3 или v4)   .nc и связанных с ними файлов, которые ERDDAP™ распаковывать на низком уровне.</li>
</ul>
<p>В настоящее время другие типы файлов не поддерживаются. Но обычно относительно легко добавить поддержку для других типов файлов. Свяжитесь с нами, если у вас есть запрос. Или, если ваши данные находятся в старом формате файла, от которого вы хотели бы отказаться, мы рекомендуем конвертировать файлы. NetCDF v3 .nc Файлы. NetCDF является широко поддерживаемым двоичным форматом, обеспечивает быстрый случайный доступ к данным и уже поддерживается ERDDAP .</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="from-files-details">Из файлов Подробности<a href="#from-files-details" class="hash-link" aria-label="Прямая ссылка наИз файлов Подробности" title="Прямая ссылка наИз файлов Подробности" translate="no">​</a></h4>
<p>Следующая информация относится ко всем подклассам EDDGrid Из материалов.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="aggregation-of-an-existing-dimension">Агрегация существующего измерения<a href="#aggregation-of-an-existing-dimension" class="hash-link" aria-label="Прямая ссылка наАгрегация существующего измерения" title="Прямая ссылка наАгрегация существующего измерения" translate="no">​</a></h5>
<p>Все вариации EDDGrid Из файлов можно агрегировать данные из локальных файлов, где каждый файл имеет 1. (или более) Различные значения для самых левых (первый) размерность, обычно \[ время \] которые будут агрегированы. Например, размеры могут быть \[ время \]  \[ высота \]  \[ широта \]  \[ долгота \] Файлы могут иметь данные для одного (или несколько) временная стоимость (s) За файл. Полученный набор данных выглядит так, как будто все данные файла были объединены. Большими преимуществами агрегации являются:</p>
<ul>
<li class="">Размер агрегированного набора данных может быть намного больше, чем один файл может быть удобно. (2 ГБ) .</li>
<li class="">Для данных в реальном времени легко добавить новый файл с последними данными. Вам не нужно переписывать весь набор данных.</li>
</ul>
<p>Требования к агрегации следующие:</p>
<ul>
<li class="">Местные файлы не должны быть одинаковыми dataVariable s (как определено в наборе данных datasets.xml ) . Набор данных будет иметь dataVariable определяется в datasets.xml . Если файл не имеет данности dataVariable , ERDDAP™ При необходимости будут добавлены недостающие значения.</li>
<li class="">Все это dataVariable должны использовать тот же axisVariable s/размеры (как определено в наборе данных datasets.xml ) . Файлы будут агрегированы на основе первых (самый левый) размерность, отсортированная по восходящему порядку.</li>
<li class="">Каждый файл может иметь данные для одного или нескольких значений первого измерения, но не может быть никакого перекрытия между файлами. Если файл имеет более одного значения для первого измерения, значения должны быть отсортированы в порядке возрастания, без связей.</li>
<li class="">Все файлы должны иметь одинаковые значения для всех других измерений. Точность испытаний определяется <a href="#matchaxisndigits" class="">Обсуждение AxisNDigits</a> .</li>
<li class="">Все файлы должны иметь одинаковую <a href="#units" class="">единицы</a> Метаданные для всех axisVariable s и dataVariable С. Если это проблема, вы можете использовать <a href="#ncml-files" class="">NcML</a> или <a href="#netcdf-operators-nco" class=""> NCO </a> Чтобы решить проблему.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="aggregation-via-file-names-or-global-metadata">Агрегация через имена файлов или глобальные метаданные<a href="#aggregation-via-file-names-or-global-metadata" class="hash-link" aria-label="Прямая ссылка наАгрегация через имена файлов или глобальные метаданные" title="Прямая ссылка наАгрегация через имена файлов или глобальные метаданные" translate="no">​</a></h5>
<p>Все вариации EDDGrid FromFiles также может объединять группу файлов, добавляя новый левый край. (первый) размерность, обычно время, основанное на значении, полученном из каждого имени файла или из значения глобального атрибута, который находится в каждом файле. Например, имя файла может включать временное значение для данных в файле. ERDDAP™ Это позволит создать новое измерение времени.</p>
<p>В отличие от аналогичной функции в THREDDS, ERDDAP™ всегда создает axisVariable с числовыми значениями (В соответствии с требованиями CF) Никогда не струнные ценности (которые не допускаются CF) . Кроме того, ERDDAP™ будет сортировать файлы в агрегации на основе числа axisVariable Значение, которое присваивается каждому файлу, так что переменная оси всегда будет иметь сортированные значения, требуемые CF. Подход THREDDS к лексикографической сортировке на основе имен файлов приводит к агрегациям, где значения оси не сортируются. (который не допускается CF) когда имена файлов сортируются иначе, чем производные axisVariable ценностей.</p>
<p>Чтобы создать одну из этих групп в ERDDAP™ Вы определите новый левый край (первый)   <a href="#axisvariable" class=""> axisVariable </a> С особой, псевдо&lt; sourceName &gt; Что говорит ERDDAP™ Где и как найти значение для нового измерения из каждого файла.</p>
<ul>
<li class="">Формат для псевдо sourceName который получает значение от имени файла (просто filename.ext) это
\<em>\</em>\ <em>имя файла,</em>  <a href="#data-types" class="">данные Тип</a>  <em>,</em> ExtractRegex <em>,</em> Групповой номер *</li>
<li class="">Формат для псевдо sourceName который получает значение от имени абсолютного пути файла
\<em>\</em>\ <em>имя пути,</em>  <a href="#data-types" class="">данные Тип</a>  <em>,</em> ExtractRegex <em>,</em> Групповой номер *
\[ Для этого всегда используется название пути. &#x27;/&#x27; Как персонаж разделителя каталога, никогда не &#x27;&#x27;. \]</li>
<li class="">Формат для псевдо sourceName который получает значение от глобального атрибута
\<em>\</em>\ <em>глобальный:</em> атрибут Имя <em>,</em>  <a href="#data-types" class="">данные Тип</a>  <em>,</em> ExtractRegex <em>,</em> Групповой номер *</li>
<li class="">Это псевдо sourceName Опцион работает иначе, чем другие: вместо создания нового левого (первый)   axisVariable Это заменяет стоимость текущего axisVariable с значением, извлеченным из имени файла (просто filename.ext) . Формат является
\<em>\</em>\ <em>заменить Файловое имя,</em>  <a href="#data-types" class="">данные Тип</a>  <em>,</em> ExtractRegex <em>,</em> Групповой номер *
 </li>
</ul>
<p>Описание частей, которые вы должны предоставить:</p>
<ul>
<li class=""><em>атрибут Имя</em> имя глобального атрибута, который находится в каждом файле и который содержит значение размерности.</li>
<li class=""><em>данные Тип</em> - Это определяет тип данных, которые будут использоваться для хранения значений. Смотрите стандартный список <a href="#data-types" class="">данные Типы</a> это ERDDAP™ поддерживает, за исключением того, что здесь не допускается струна, поскольку переменные оси в ERDDAP™ Не может быть струнных переменных.</li>
</ul>
<p>Существует дополнительный псевдотип данных, TimeFormat= <em>струна Формат времени</em> Что говорит ERDDAP™ что значение является струнным временным штампом <a href="#string-time-units" class="">Единицы, подходящие для струнного времени</a> . В большинстве случаев струнный формат TimeFormat, который вам нужен, будет вариацией одного из этих форматов:</p>
<ul>
<li class="">yyyy-MM-dd T&#x27;HH:mm<!-- -->:ss<!-- -->.SSSZ - ISO 8601:2004 (Е) Формат даты. Вам может понадобиться сокращенная версия, например, yyyy-MM-dd THH:mm<!-- -->:ss<!-- --> или yyyy-MM-dd .</li>
<li class="">yyyyMMddHHmmss.SSS - компактная версия формата даты ISO 8601. Вам может понадобиться сокращенная версия этого, например, yyyyMMddHHmmss или yyyyMMdd.</li>
<li class="">M/d/yyyy H:mm<!-- -->:ss<!-- -->.SSS — формат даты слэша в США. Вам может понадобиться сокращенная версия этого, например, M/d/yyyy.</li>
<li class="">yyyyDDDHHmmssSSS - это год плюс нулевой день года (Например, 001 = 1 января 365 = 31 декабря в не високосный год; иногда ошибочно называют юлианскую дату.) . Вам может понадобиться сокращенная версия этого, например, yyyyDDD.</li>
</ul>
<p>Если вы используете этот псевдотип данных, добавьте его в новую переменную.&lt; addAttributes &gt;:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;units&quot;&gt;seconds since 1970-01-01T00:00:00Z&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Если вы хотите сместить все временные значения, сместите временную величину в единицах, например:
197001-01T12:00:00Z.</p>
<ul>
<li class=""><em>ExtractRegex</em> - Это тот самый <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">регулярное выражение</a>   ( <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">учебник</a> ) который включает в себя группу захвата (в скобках) который описывает, как извлечь значение из имени файла или глобального значения атрибута. Например, имя файла S19980011998031.L3b\_MO\_CHL .nc , группа захвата #1&quot;, \dучебник &quot;, в обычном выражении S (\ \dучебник ) \ \dучебник \.L3b\* улавливает первые 7 цифр после S: 1998001.</li>
<li class=""><em>ЗахватGroupNumber</em> - Это число группы захвата. (внутри пары скобок) в обычном выражении, содержащем интересующую информацию. Обычно это 1, первая группа захвата. Иногда вам нужно использовать группы захвата для других целей в регексе, поэтому важным номером группы захвата будет 2. (Вторая группа захвата) или 3 (Третий) и т.д.</li>
</ul>
<p>Полный пример одного из axisVariable который создает агрегированный набор данных с новой осью времени, которая получает значения времени от имени файла каждого файла</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;axisVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*fileName,timeFormat=yyyyDDD,S(\\d{7})\\.L3m.\\*,1&lt;/sourceName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;time&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/axisVariable&gt;</span><br></span></code></pre></div></div>
<p>При использовании псевдоданных «TimeFormat=» Тип, ERDDAP™ Добавить 2 атрибута в axisVariable Таким образом, кажется, что они исходят из источника:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;standard\\_name&quot;&gt;time&lt;/att&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;units&quot;&gt;seconds since 1970-01-01T00:00:00Z&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>В данном случае, ERDDAP™ Будет создана новая ось под названием &quot;time&quot; с двойными значениями (секунды с 1970-01-01T00:00:00Z) путем извлечения 7 цифр после «S» и до «.L3m» в имени файла и интерпретации их как значений времени, отформатированных как yyyyDDD.</p>
<p>Вы можете отменить базовое время по умолчанию (197001-01T00:00:00Z) путем добавления <a href="#addattributes" class="">Добавить атрибут</a> который определяет различные единицы атрибута с различным базовым временем. Обычная ситуация: есть группы файлов данных, каждый с 1-дневным составом спутникового набора данных, где вы хотите, чтобы значение времени было полдень дня, упомянутого в имени файла. (центрированное время каждого дня) И хотите переменную long\_name Быть «центрированным временем». Пример, который делает это:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;axisVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*fileName,timeFormat=yyyyDDD,S(\\d{7})\\.L3m.\\*,1&lt;/sourceName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;time&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;att name=&quot;long\\_name&quot;&gt;Centered Time&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;att name=&quot;units&quot;&gt;seconds since 1970-01-01T12:00:00Z&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/axisVariable&gt;</span><br></span></code></pre></div></div>
<p>Примечание: часы = 12 в базовом времени, что добавляет 12 часов относительно первоначального базового времени 1970-01-01T00:00:00Z.</p>
<p>Полный пример одного из axisVariable который делает агрегированный набор данных с новой осью «бега» (с внутренними значениями) который получает значения выполнения из глобального атрибута «runID» в каждом файле (с такими значениями, как &quot;r17\_global&quot;, где 17 - номер пробега) это</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;axisVariable&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*global:runID,int,(r|s)(\\d+)\\_global,2&lt;/sourceName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;run&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;att name=&quot;ioos\\_category&quot;&gt;Other&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;att name=&quot;units&quot;&gt;count&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/axisVariable&gt;</span><br></span></code></pre></div></div>
<p>Обратите внимание на использование группы захвата No 2 для захвата цифр, которые происходят после «r» или «s» и до «\_global». Этот пример также показывает, как добавить дополнительные атрибуты. (например, ioos\_category и единицы) переменной оси.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="externally-compressed-files">Внешне сжатые файлы<a href="#externally-compressed-files" class="hash-link" aria-label="Прямая ссылка наВнешне сжатые файлы" title="Прямая ссылка наВнешне сжатые файлы" translate="no">​</a></h4>
<ul>
<li class="">
<p>Наборы данных, которые являются подмножествами EDDGrid Из материалов и EDDTable FromFiles может обслуживать данные непосредственно из файлов данных, сжатых извне, включая .tgz , .tar  .gz , .tar  .gzip , .gz , .gzip , .zip , .bz2 и .Z файлы.
 </p>
</li>
<li class="">
<p><strong>Это работает удивительно хорошо!</strong><br>
<!-- -->В большинстве случаев замедление, связанное с декомпрессией файлов данных малого и среднего размера, незначительно. Если вам нужно сохранить дисковое пространство, мы настоятельно рекомендуем использовать эту функцию, особенно для старых файлов, к которым редко обращаются.
 </p>
</li>
<li class="">
<p><strong>Экономь деньги!</strong><br>
<!-- -->Это одна из немногих особенностей в ERDDAP™ Это дает вам возможность сэкономить много денег (хотя и за счет незначительно сниженной производительности) . Если коэффициент сжатия равен, например, 6:1 (Иногда это будет намного выше.) , то для файлов данных набора данных потребуется только 1/6 дискового пространства. Тогда, возможно, вы сможете обойтись 1 рейдом. (для определенного размера) Вместо 6 СПИД (одинакового размера) . Это огромная экономия средств. Надеюсь, возможность сжимать некоторые файлы в коллекции (Старшие из них?) и не сжимать других (Новые?) Чтобы изменить это в любое время, давайте сведем к минимуму недостатки сжатия некоторых файлов. (Медленный доступ) . И если выбор между хранением файлов на ленте (Доступно только по запросу, после задержки) Для хранения их на рейде (Доступно через ERDDAP ) Тогда есть огромное преимущество в использовании сжатия, чтобы пользователи могли быть интерактивными и (относительно) быстрый доступ к данным. И если это может спасти вас от покупки дополнительного RAID, эта функция может сэкономить вам около 30 000 долларов.
 </p>
</li>
<li class="">
<p>Для всех EDDGrid Подклассы из файлов, если файлы данных имеют расширение, указывающее, что они сжаты извне (В настоящее время: .tgz , .tar  .gz , .tar  .gzip , .gz , .gzip , .zip , .bz2 или .Z) , ERDDAP™ будет декомпрессировать файлы в каталог кэша набора данных, когда он их читает (Если они еще не в кэше) . То же самое верно для двоичного файла (например, .nc ) Подклассы EDDTableFromFiles.
 </p>
</li>
<li class="">
<p>Подклассы EDDTableFromFiles для небинарных файлов (Например, .csv) , файлы данных с расширением, указывающим, что они сжаты извне, будут сжиматься на лету при чтении файла.
 </p>
</li>
<li class="">
<p>ПРЕДУПРЕЖДЕНИЕ: Если используется тип сжатого файла (например, .tgz или .zip ) Поддерживает более 1 файла внутри сжатого файла, сжатый файл должен содержать всего 1 файл.
 </p>
</li>
<li class="">
<p>Эта функция предполагает, что содержимое внешне сжатых файлов не изменяется, так что кэшированный декомпрессированный файл может быть повторно использован. Если некоторые или все файлы данных набора данных иногда изменяются, не сжимайте эти файлы. Это согласуется с обычным использованием, поскольку люди обычно не сжимают файлы, которые им иногда нужно изменить.
 </p>
</li>
<li class="">
<p>&lt;ФайлNameRegex Чтобы сделать эту работу, набор данных&lt;FileNameRegex&gt; должен соответствовать именам сжатых файлов. Очевидно, регексы как.\<em>Сопоставим все имена файлов. Если вы указываете конкретный тип файла, например,\</em>\ .nc , то вам нужно изменить regex, чтобы включить расширение сжатия, например, . <em>\ .nc \ .gz (если все документы будут</em> что-то** .nc  .gz файлы).
 </p>
</li>
<li class="">
<p>Это нормально, если ваш набор данных включает в себя смесь сжатых и не сжатых файлов. Это может быть полезно, если вы считаете, что некоторые файлы (Например, старые файлы) Они будут использоваться реже, и поэтому будет полезно сэкономить дисковое пространство, сжимая их. Чтобы сделать эту работу,&lt;FileNameRegex&gt; должен соответствовать именам сжатых и не сжатых файлов, например, .\<em>или.\</em>\ .nc  ( | \ .gz ) (где группа захвата в конце этого указывает, что .gz необязательно.
 </p>
</li>
<li class="">
<p>Это нормально, если вы сжимаете или декомпрессируете определенные файлы в коллекции в любое время.
Если данные не используются [&lt;Обновление EveryNMillis (#updateeverynmillis) Установите набор данных <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> рассказывать ERDDAP™ Перезагрузить набор данных и таким образом заметить изменения. Интересно, что вы можете использовать различные алгоритмы сжатия и настройки для разных файлов в одном наборе данных. (например, .bz2 редко используемые файлы, .gz для не часто используемых файлов и без сжатия для часто используемых файлов) Просто убедитесь, что регекс поддерживает все расширения файлов, которые используются, например, . .nc  ( | \ .gz  | \ .bz2 ) .
 </p>
</li>
<li class="">
<p>Конечно, коэффициенты сжатия и скорости для различных алгоритмов сжатия варьируются в зависимости от исходного файла и настроек. (Например, уровень сжатия) . Если вы хотите оптимизировать эту систему для своих файлов, проведите тест различных методов сжатия с вашими файлами и с различными настройками сжатия. Если вы хотите надежного (Не обязательно лучший) Настройка, мы немного рекомендуем gzip   ( .gz ) . gzip не делает самый маленький сжатый файл (достаточно близко) Он очень быстро сжимает файл и (более важным для ERDDAP™ пользователи) Очень быстро декомпрессирует файл. Плюс, gzip Программное обеспечение поставляется в стандартной комплектации с каждой установкой Linux и Mac OS и легко доступно для Windows через бесплатные инструменты, такие как 7Zip и дополнения Linux, такие как Git Bash. Например, для сжатия исходного файла в .gz Версия файла (имя файла, но с .gz прилагаемый) использовать (Linux, Mac OS и Git Bash)<br>
<!-- -->gzip   * sourceName *<br>
<!-- -->Декомпрессия а .gz Вернуться к оригиналу, использовать
стрельба * sourceName  .gz *<br>
<!-- -->Для сжатия каждого из исходных файлов в каталоге и его подкаталогах, рекурсивно, использовать
gzip -р <em>Имя режиссера</em><br>
<!-- -->Чтобы разложить каждый из .gz файлы в каталоге и его подкаталогах, рекурсивно, использовать
гунцип <em>Имя режиссера</em><br>
<!-- --> </p>
</li>
<li class="">
<p>Предупреждение: не сжимайте внешне ( gzip ) Файлы, которые уже сжаты внутри!
Многие файлы уже сжаты внутри. Если ты gzip Эти файлы, полученные файлы не будут намного меньше (&lt;5%) и ERDDAP™ Они будут тратить время на их декомпрессию, когда им нужно будет их прочитать. Например:</p>
<ul>
<li class="">файлы данных: например, .nc 4 и .hdf 5 файлов: Некоторые файлы используют внутреннее сжатие, а некоторые нет. Сжатые переменные имеют атрибуты «\_ChunkSize». Кроме того, если группа сетчатых .nc или .hdf Файлы бывают разных размеров, скорее всего, они внутренне сжаты. Если они все одинакового размера, они не сжимаются внутри.</li>
<li class="">Файлы изображений: например, .gif, .jpg и .png</li>
<li class="">аудиофайлы: например, .mp3 и .ogg.</li>
<li class="">Видеофайлы: например, .mp4, .ogv и .webm.</li>
</ul>
</li>
</ul>
<p>Один неудачный случай: аудиофайлы .wav огромны и не сжаты внутри. Было бы неплохо сжать ( gzip ) Но, как правило, вы не должны этого делать, потому что если вы это сделаете, пользователи не смогут воспроизводить сжатые файлы в своем браузере.
 </p>
<ul>
<li class="">
<p>Пример испытания: сжатие (с gzip ) Набор данных с сеткой 1523 .nc Файлы.</p>
<ul>
<li class="">Данные в исходных файлах были скудными (Много недостающих ценностей) .</li>
<li class="">Общее дисковое пространство увеличилось с 57 ГБ до сжатия до 7 ГБ после.</li>
<li class="">Запрос на большое количество данных из 1 точки&lt;1 с до и после компрессии.</li>
<li class="">Запрос 1 точки данных для 365 точек времени (Наихудшая ситуация) От 4 с до 71 с.
 </li>
</ul>
</li>
</ul>
<p>Для меня это разумный компромисс для любого набора данных и, конечно, для наборов данных, которые используются нечасто.
 </p>
<ul>
<li class="">
<p>Внутреннее сжатие против внешнего —
По сравнению с внутренним сжатием файла, предлагаемым .nc 4 и .hdf 5 файлов, ERDDAP Подход к внешне сжатым двоичным файлам имеет преимущества и недостатки. Недостатком является то, что для однократного чтения небольшой части одного файла внутреннее сжатие лучше. EDDGrid От файлов нужно только разложить несколько кусков (s) Файл, а не весь файл. Но ERDDAP Подход имеет некоторые преимущества:</p>
<ul>
<li class="">ERDDAP™ Поддерживает сжатие всех типов файлов данных (двоичный и недвоичный, например, .nc 3 и .csv) не только .nc 4 и .hdf 4.</li>
<li class="">Если основная часть файла должна быть прочитана более одного раза за короткий промежуток времени, то это экономит время на декомпрессию файла один раз и чтение его много раз. Это происходит в ERDDAP™ Когда пользователь использует Make-A-Graph для набора данных и вносит ряд небольших изменений в график.</li>
<li class="">Возможность иметь сжатые файлы и не сжатые файлы в одной коллекции позволяет вам больше контролировать, какие файлы сжаты, а какие нет. И этот дополнительный контроль приходит без изменения исходного файла (Поскольку вы можете сжать файл, например, .gz Затем декомпрессируйте его, чтобы получить исходный файл.) .</li>
<li class="">Возможность изменять в любое время, сжат ли данный файл и как он сжат. (Различные алгоритмы и настройки) Это дает вам больше контроля над производительностью системы. Вы можете легко восстановить исходный несжатый файл в любое время.</li>
</ul>
</li>
</ul>
<p>Хотя ни один из подходов не является победителем во всех ситуациях, ясно, что ERDDAP Способность обслуживать данные из внешних сжатых файлов делает внешнее сжатие разумной альтернативой внутреннему сжатию. .nc 4 и .hdf 5. Это важно, учитывая, что внутреннее сжатие является одной из основных причин, по которым люди выбирают использование. .nc 4 и .hdf 5.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="decompressed-cache">Декомпрессированный кэш<a href="#decompressed-cache" class="hash-link" aria-label="Прямая ссылка наДекомпрессированный кэш" title="Прямая ссылка наДекомпрессированный кэш" translate="no">​</a></h5>
<p>ERDDAP™ делает декомпрессированную версию любого сжатого двоичного (например, .nc ) Файл данных, когда нужно прочитать файл. Декомпрессированные файлы хранятся в каталоге набора данных внутри <em>BigParent Директория</em> /декомпрессия/. Декомпрессированные файлы, которые не использовались в последнее время, будут удалены, чтобы освободить место, когда совокупный размер файла составляет &gt; 10 ГБ. Вы можете изменить это, установив&lt;DecompressedCacheMaxGB (По умолчанию 10) в наборах данных Xml.xml, например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;decompressedCacheMaxGB&gt;40&lt;/decompressedCacheMaxGB&gt;  </span><br></span></code></pre></div></div>
<p>Кроме того, декомпрессированные файлы, которые не использовались в течение последних 15 минут, будут удалены в начале каждой основной перезагрузки набора данных. Вы можете изменить это, установив&lt;DecompressedCacheMaxMinutesOld&gt; (По умолчанию = 15) в наборах данных Xml.xml, например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;decompressedCacheMaxMinutesOld&gt;60&lt;/decompressedCacheMaxMinutesOld&gt;  </span><br></span></code></pre></div></div>
<p>Большие числа приятны, но кумулятивный размер декомпрессированных файлов может вызвать <em>BigParent Директория</em> Исчезает дисковое пространство, что вызывает серьезные проблемы.
 </p>
<ul>
<li class="">Декомпрессия файла может занять значительное количество времени. (0,1-10 секунд) , наборы данных со сжатыми файлами могут извлечь выгоду из установки набора данных [&lt;nThreads&gt; (#нити) Настройка на большее число (2? 3? 4?) . Недостатки еще более высоких цифр (Например, 5? 6? 7?) Это уменьшает отдачу, и запрос одного пользователя может использовать высокий процент ресурсов системы, что значительно замедляет обработку запросов другого пользователя. Таким образом, нет идеальной настройки nThreads, просто разные последствия в разных ситуациях с разными настройками.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sorted-dimension-values">Сортированные значения измерения<a href="#sorted-dimension-values" class="hash-link" aria-label="Прямая ссылка наСортированные значения измерения" title="Прямая ссылка наСортированные значения измерения" translate="no">​</a></h4>
<p>Значения для каждого измерения должны быть сортированы по порядку. (восходящий или нисходящий, за исключением первого (самый левый) измерение, которое должно быть восходящим) . Значения могут быть нерегулярно разнесены. Никаких связей быть не может. Это является требованием к <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">Стандарт метаданных CF</a> . Если значения любого измерения не сортированы, набор данных не будет загружен и ERDDAP™ идентифицирует первое несортированное значение в файле журнала, <em>BigParent Директория</em> /logs/log.txt.</p>
<p>Несортированные значения размерности почти всегда указывают на проблему с исходным набором данных. Чаще всего это происходит, когда в агрегацию включается неправильно названный или неподходящий файл, что приводит к несортированному измерению времени. Чтобы решить эту проблему, см. сообщение об ошибке в ERDDAP™ log.txt файл, чтобы найти значение времени. Затем посмотрите в исходных файлах, чтобы найти соответствующий файл. (либо до, либо после) Это не входит в агрегацию.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="directories">Директории<a href="#directories" class="hash-link" aria-label="Прямая ссылка наДиректории" title="Прямая ссылка наДиректории" translate="no">​</a></h4>
<p>Файлы могут быть в одном каталоге или в каталоге и его подкаталогах. (рекурсивно) . Если имеется большое количество файлов (Например, &gt;1000) , операционная система (и таким образом EDDGrid Из материалов) Работает намного эффективнее, если хранить файлы в серии подкаталогов. (один в год или один в месяц для наборов данных с очень частыми файлами) Чтобы никогда не было большого количества файлов в данном каталоге.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cachefromurl">&lt;CacheFromUrl&gt;<a href="#cachefromurl" class="hash-link" aria-label="Прямая ссылка на&lt;CacheFromUrl&gt;" title="Прямая ссылка на&lt;CacheFromUrl&gt;" translate="no">​</a></h4>
<p>Все EDDGrid FromFiles и все наборы данных EDDTableFromFiles поддерживают набор тегов, которые сообщают ERDDAP™ загружать и поддерживать копию всех файлов удаленного набора данных или кэш нескольких файлов (скачать по мере необходимости) . Это может быть невероятно полезно. Видишь? <a href="#cachefromurl" class="">кэш Документация Url</a> .</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="remote-directories-and-http-range-requests">Дистанционные каталоги и HTTP Range Requests<a href="#remote-directories-and-http-range-requests" class="hash-link" aria-label="Прямая ссылка наДистанционные каталоги и HTTP Range Requests" title="Прямая ссылка наДистанционные каталоги и HTTP Range Requests" translate="no">​</a></h4>
<p>(AKA Byte Serving, Byte Range Requests, Accept-Ranges http заголовок)<br>
<!-- -->EDDGrid FromNcFiles, EDDTableFromMultidimNcFiles, EDDTableFromNcFiles и EDDTableFromNcCFFiles <em>иногда</em> обслуживать данные из .nc файлы на удаленных серверах и доступ к ним через HTTP, если сервер поддерживает <a href="https://en.wikipedia.org/wiki/Byte_serving" target="_blank" rel="noopener noreferrer" class="">Байт обслуживает</a> HTTP-запросы диапазона (Механизм HTTP для байтового обслуживания) . Это возможно благодаря Netcdf-java. (который ERDDAP™ использовать для чтения .nc файлы) Поддержка чтения данных с удаленного .nc Файлы через HTTP-запросы.</p>
<p><strong>Не делай этого!</strong> Это ужасно неэффективно и медленно.
Вместо этого используйте [&lt;cacheFromUrl&gt;система (#cachefromurl) .</p>
<p>Доступ ERDDAP™ наборы данных в виде файлов по запросам байтового диапазона -
Переверните это, учитывая, что вы можете (в теории) Подумайте о наборе данных в ERDDAP™ Как гигант .nc файл с приложением &quot; .nc &quot;на базу OPen DAP URL для данного набора данных (например,<a href="https://myserver.org/erddap/griddap/datasetID.nc%D0%B0" target="_blank" rel="noopener noreferrer" class="">https://myserver.org/erddap/griddap/datasetID.ncа</a> также путем добавления запроса после этого для указания подмножества) Возможно, разумно спросить, можно ли использовать netcdf-java. Ferret или какой-либо другой NetCDF клиентское программное обеспечение для чтения данных через HTTP-запросы из диапазона ERDDAP . Ответ - нет, потому что на самом деле нет огромного &quot; .nc &quot;файл. Если вы хотите сделать это, выберите один из этих вариантов:</p>
<ul>
<li class="">Использовать(OPeN)DAPклиентское программное обеспечение для подключения к услугам griddap, предлагаемым ERDDAP . Это то, что DAP   (и таким образом ERDDAP ) Он был разработан для. Это очень эффективно.</li>
<li class="">Или скачать исходный файл (s) из которого &quot;files&quot; система (или файл подмножества через .nc ? запрос) на компьютер и использовать netcdf-java; Ferret или какой-либо другой NetCDF Клиентское программное обеспечение для чтения (теперь) локальный файл (s) .
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cached-file-information">Информация о кэшированных файлах<a href="#cached-file-information" class="hash-link" aria-label="Прямая ссылка наИнформация о кэшированных файлах" title="Прямая ссылка наИнформация о кэшированных файлах" translate="no">​</a></h4>
<p>Когда EDDGrid Сначала загружается набор данных FromFiles, EDDGrid FromFiles считывает информацию из всех соответствующих файлов и создает таблицы. (Одна строка для каждого файла) с информацией о каждом действительном файле и каждом «плохом» (иной или недействительный) Файл.</p>
<ul>
<li class="">Таблицы также хранятся на диске. NetCDF v3 .nc файлы в <em>BigParent Директория</em> /dataset/ <em>Last2CharsOfDatasetID</em> / * datasetID * / в файлах с именем:
раскладной .nc   (который содержит список уникальных имен каталогов) ,
файл Столик .nc   (который содержит таблицу с информацией каждого действительного файла) ,
Плохие материалы .nc   (который содержит таблицу с информацией о каждом плохом файле) .</li>
<li class="">Чтобы ускорить доступ к EDDGrid Набор данных Files (За счет использования большего объема памяти) Вы можете использовать [&lt;FileTableInMemory&gt;Правда&lt;/fileTableInMemory&gt; (#filetableinmemory) рассказывать ERDDAP™ сохранить копию таблицы информации файла в памяти.</li>
<li class="">Копия файловых информационных таблиц на диске также полезна, когда ERDDAP™ Отключается и перезапускается: экономит EDDGrid Из файлов, которые нужно перечитать все файлы данных.</li>
<li class="">При перезагрузке набора данных, ERDDAP™ Нужно только прочитать данные в новых файлах и файлах, которые изменились.</li>
<li class="">Если файл имеет структуру, отличную от других файлов (Например, другой тип данных для одной из переменных или другое значение для &quot; <a href="#units" class="">единицы</a> &quot;атрибут) , ERDDAP Добавляет файл в список «плохих» файлов. Информация о проблеме с файлом будет написана на <em>BigParent Директория</em> /logs/log.txt файл.</li>
<li class="">Вам никогда не нужно удалять или работать с этими файлами. Одно исключение: если вы все еще вносите изменения в набор данных datasets.xml Настройка, вы можете удалить эти файлы, чтобы заставить ERDDAP™ Перечитывать все файлы, так как они будут читаться и интерпретироваться по-разному. Если вам нужно удалить эти файлы, вы можете сделать это, когда ERDDAP™ Бежит. (Затем установите <a class="" href="/ru/docs/server-admin/additional-information#set-dataset-flag">флаг</a> Перезагрузить набор данных как можно скорее.) Однако, ERDDAP™ Как правило, отмечается, что datasets.xml Информация не совпадает с файлом Информация о таблице и автоматически удаляет таблицы файлов.</li>
<li class="">Если вы хотите поощрять ERDDAP™ для обновления сохраненной информации о наборе данных (Например, если вы просто добавили, удалили или изменили некоторые файлы в каталог данных набора данных.) Используйте <a class="" href="/ru/docs/server-admin/additional-information#flag">флаговая система</a> принуждать ERDDAP™ Обновление кэшированной информации файла.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="handling-requests">Обработка запросов<a href="#handling-requests" class="hash-link" aria-label="Прямая ссылка наОбработка запросов" title="Прямая ссылка наОбработка запросов" translate="no">​</a></h4>
<p>Когда обрабатывается запрос клиента на данные, EDDGrid FromFiles может быстро заглянуть в таблицу с достоверной информацией о файле, чтобы увидеть, какие файлы имеют запрошенные данные.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="updating-the-cached-file-information">Обновление кэшированной файловой информации<a href="#updating-the-cached-file-information" class="hash-link" aria-label="Прямая ссылка наОбновление кэшированной файловой информации" title="Прямая ссылка наОбновление кэшированной файловой информации" translate="no">​</a></h4>
<p>Всякий раз, когда набор данных перезагружается, информация кэшированного файла обновляется.</p>
<ul>
<li class="">Набор данных периодически перезагружается, как определено&lt;перезагрузить EveryNMinutes&gt; в наборе данных datasets.xml .</li>
<li class="">Набор данных перезагружается как можно скорее, когда это возможно. ERDDAP™ Выявляете, что вы добавили, удалили, <a href="https://en.wikipedia.org/wiki/Touch_(Unix)" target="_blank" rel="noopener noreferrer" class="">касаться</a> (Чтобы изменить последний файл Измененное время) или изменить файл данных.</li>
<li class="">Набор данных перезагружается как можно скорее, если вы используете <a class="" href="/ru/docs/server-admin/additional-information#flag">флаговая система</a> .</li>
</ul>
<p>Когда данные перезагружаются, ERDDAP™ Сопоставляет имеющиеся в настоящее время файлы с таблицами кэшированной информации о файлах. Новые файлы читаются и добавляются в действующую таблицу файлов. Файлы, которые больше не существуют, выпадают из таблицы файлов. Файлы, в которых изменилась временная метка файла, считываются, и их информация обновляется. Новые таблицы заменяют старые таблицы в памяти и на диске.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="bad-files">Плохие файлы<a href="#bad-files" class="hash-link" aria-label="Прямая ссылка наПлохие файлы" title="Прямая ссылка наПлохие файлы" translate="no">​</a></h4>
<p>Таблица плохих файлов и причины, по которым файлы были объявлены плохими (поврежденный файл, отсутствующие переменные и т.д.) отправляется по электронной почте Все На адрес электронной почты (Возможно, вы) Каждый раз, когда набор данных перезагружается. Вы должны заменить или восстановить эти файлы как можно скорее.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="missing-variables">Пропавшие переменные<a href="#missing-variables" class="hash-link" aria-label="Прямая ссылка наПропавшие переменные" title="Прямая ссылка наПропавшие переменные" translate="no">​</a></h4>
<p>Если некоторые файлы не имеют dataVariable s определено в наборе данных datasets.xml Кусок, все в порядке. Когда EDDGrid FromFiles читает один из этих файлов, он будет действовать так, как если бы файл имел переменную, но со всеми отсутствующими значениями.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ftp-troubleadvice">Проблемы FTP / Советы<a href="#ftp-troubleadvice" class="hash-link" aria-label="Прямая ссылка наПроблемы FTP / Советы" title="Прямая ссылка наПроблемы FTP / Советы" translate="no">​</a></h4>
<p>Если вы FTP новые файлы данных ERDDAP™ сервера в то время как ERDDAP™ Бежит, есть шанс, что ERDDAP™ Перезагрузка набора данных во время процесса FTP. Это происходит чаще, чем вы думаете! Если это произойдет, файл будет выглядеть действительным. (имеет действительное имя) Но файл еще не действителен. Если ERDDAP™ пытается прочитать данные из этого недействительного файла, в результате ошибки файл будет добавлен в таблицу недействительных файлов. Это не хорошо. Чтобы избежать этой проблемы, используйте временное имя файла, например, ABC2005. .nc \_TEMP .Тогда тест FileNameRegex (см. ниже) Укажет, что это не соответствующий файл. После завершения процесса FTP переименуйте файл в правильное имя. Процесс переименования приведет к тому, что файл станет актуальным в одно мгновение.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="0-files-error-message-1">&quot;0 файлов&quot; сообщение об ошибке<a href="#0-files-error-message-1" class="hash-link" aria-label="Прямая ссылка на&quot;0 файлов&quot; сообщение об ошибке" title="Прямая ссылка на&quot;0 файлов&quot; сообщение об ошибке" translate="no">​</a></h4>
<p>Если бежишь <a href="#generatedatasetsxml" class="">Генерировать наборы данныхXml</a> или <a href="#dasdds" class="">DasDds</a> Если вы пытаетесь загрузить EDDGrid Источник: Files Dataset in ERDDAP™ , и вы получаете сообщение об ошибке «0 файлов», указывающее, что ERDDAP™ найдено 0 совпадающих файлов в каталоге (Когда вы думаете, что в этом каталоге есть соответствующие файлы) :</p>
<ul>
<li class="">Убедитесь, что файлы действительно находятся в этом каталоге.</li>
<li class="">Проверьте написание названия каталога.</li>
<li class="">Проверьте файл NameRegex. Очень, очень легко делать ошибки с регексами. Для целей тестирования попробуйте regex .\*, который должен соответствовать всем именам файлов. (Посмотри. <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">нормативная документация</a> и <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">учебник по регексу</a> .)</li>
<li class="">Убедитесь, что пользователь, который запускает программу (Пользователь=tomcat (?) Для Tomcat/ ERDDAP ) У вас есть разрешение «читать» эти файлы.</li>
<li class="">В некоторых операционных системах (Например, SELinux) В зависимости от системных настроек пользователь, который запустил программу, должен иметь разрешение «читать» для всей цепочки каталогов, ведущих в каталог, в котором есть файлы.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromfiles-skeleton-xml">EDDGrid Файлы скелет XML<a href="#eddgridfromfiles-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDGrid Файлы скелет XML" title="Прямая ссылка наEDDGrid Файлы скелет XML" translate="no">​</a></h4>
<ul>
<li class=""><strong>Скелет XML</strong> для всех EDDGrid Подклассы материалов:</li>
</ul>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridFrom...Files&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1. For<br>
<!-- -->        EDDGridFromFiles subclasses, this uses Java&#x27;s WatchDirectory system<br>
<!-- -->        to notice new/deleted/changed files quickly and efficiently. --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#matchaxisndigits" class="">&lt;matchAxisNDigits&gt;</a>...&lt;/matchAxisNDigits&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;fileDir&gt;...&lt;/fileDir&gt; &lt;-- The directory (absolute) with the<br>
<!-- -->        data files. --&gt;<br>
<!-- -->      &lt;recursive&gt;true|false&lt;/recursive&gt; &lt;!-- 0 or 1. Indicates if<br>
<!-- -->        subdirectories of fileDir have data files, too. --&gt;<br>
<!-- -->      <a href="#pathregex" class="">&lt;pathRegex&gt;</a>...&lt;/pathRegex&gt;  &lt;!-- 0 or 1. Only directory names which<br>
<!-- -->        match the pathRegex (default=&quot;.\<em>&quot;) will be accepted. --&gt;<br>
<!-- -->      &lt;fileNameRegex&gt;...&lt;/fileNameRegex&gt; &lt;-- 0 or 1. A<br>
<!-- -->        <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">regular expression</a> (<a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">tutorial</a>) describing valid data<br>
<!-- -->        file names, for example, &quot;.\</em>\.nc&quot; for all .nc files. --&gt;<br>
<!-- -->      <a href="#accessibleviafiles" class="">&lt;accessibleViaFiles&gt;</a>true|false(default)&lt;/accessibleViaFiles&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;metadataFrom&gt;...&lt;/metadataFrom&gt; &lt;-- The file to get<br>
<!-- -->        metadata from (&quot;first&quot; or &quot;last&quot; (the default) based on file&#x27;s<br>
<!-- -->        lastModifiedTime). --&gt;<br>
<!-- -->      <a href="#filetableinmemory" class="">&lt;fileTableInMemory&gt;</a>...&lt;/fileTableInMemory&gt; &lt;!-- 0 or 1 (true or<br>
<!-- -->        false (the default)) --&gt;<br>
<!-- -->      <a href="#cachefromurl" class="">&lt;cacheFromUrl&gt;</a>...&lt;/cacheFromUrl&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#cachefromurl" class="">&lt;cacheSizeGB&gt;</a>...&lt;/cacheSizeGB&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#axisvariable" class="">&lt;axisVariable&gt;</a>...&lt;/axisVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddfromaudiofiles">EDD*Из аудиофайлов<a href="#eddfromaudiofiles" class="hash-link" aria-label="Прямая ссылка наEDD*Из аудиофайлов" title="Прямая ссылка наEDD*Из аудиофайлов" translate="no">​</a></h3>
<p>** EDDGrid Из аудиофайлов** и <strong>EDDTable FromAudioFiles</strong> агрегированные данные из набора локальных аудиофайлов. (Первые появились в ERDDAP™ v1.82.) Разница заключается в том, что EDDGrid FromAudioFiles рассматривает данные как многомерный набор данных (Обычно с 2 размерами: \[ Файловый старт Время \] и \[ истекший Время внутри файла \] ) , тогда как EDDTableFromAudioFiles рассматривает данные как табличные данные (обычно с колонками для файла startTime, прошедшего времени с файлом и данными из аудиоканалов) . EDDGrid FromAudioFiles требует, чтобы все файлы имели одинаковое количество образцов, поэтому, если это не так, вы должны использовать EDDTableFromAudioFiles. В противном случае выбор типа EDD полностью зависит от вас. Одно из преимуществ EDDTableFromAudioFiles: вы можете добавлять другие переменные с другой информацией, например, stationID Станция Тип. В обоих случаях отсутствие унифицированной временной переменной затрудняет работу с данными из этих типов EDD, но не было хорошего способа настроить унифицированную временную переменную.</p>
<p>Посмотрите на эти суперклассы, <a href="#eddgridfromfiles" class=""> EDDGrid Из материалов</a> и <a href="#eddtablefromfiles" class="">EDDTable Из материалов</a> Для получения общей информации о том, как работает этот класс и как его использовать.</p>
<p>Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Поскольку аудиофайлы не имеют метаданных, кроме информации, связанной с кодированием звуковых данных, вам придется редактировать выход из наборов данных GenerateDatasets. Xml предоставляет важную информацию (Например, название, резюме, creator\_name институт, история) .</p>
<p>Подробности:</p>
<ul>
<li class="">Существует большое количество форматов аудиофайлов. В настоящее время ERDDAP™ Можно читать данные из большинства файлов .wav и .au. В настоящее время он не может читать другие типы аудиофайлов, например, .aiff или .mp3. Если вам нужна поддержка других форматов аудиофайлов или других вариантов .wav и .au, пожалуйста, отправьте свой запрос Крису. Джон на noaa.gov. Или, как обходной путь, который вы можете использовать прямо сейчас, вы можете конвертировать свои аудиофайлы в PCM. Знаменитый (для целочисленных данных) PCM/_FLOAT (для данных с плавающей точкой) .wav файлы так что ERDDAP™ Может работать с ними.</li>
<li class="">В настоящее время ERDDAP™ читать аудиофайлы с помощью чего Java Класс AudioFormat вызывает кодирование PCM\_FLOAT, PCM\_SIGNED, PCM\_UNSIGNED, ALAW и ULAW. ERDDAP™ Преобразует значения PCM\_UNSIGNED (Например, от 0 до 255) подписанные ценности (Например, от -128 до 128) путем перестановки битов в значениях данных. ERDDAP™ преобразует ALAW и ULAW, закодированные из их родного формата закодированных байтов в короткие (Int16) ценностей. С тех пор Java BigEndian = реальные данные ERDDAP™ Перестраивает байты данных, хранящихся с bigEndian=false (Маленький эндиан) Чтобы правильно читать значения. Для всех остальных кодировок (PCM) , ERDDAP™ Считывает данные как есть.</li>
<li class="">Когда ERDDAP™ считывает данные из аудиофайлов, преобразует доступные аудиометаданные файла в глобальные атрибуты. Это всегда будет включать (показанные значения выборки)</li>
</ul>
<p>Струнный аудиобигэндийский «ложный»; //истинный или ложный
внутри аудио Каналы 1;
Струнное аудиокодирование «PCM\_SIGNED»;
FrameRate 96000.0; // в секунду
int audioFrameSize 2; //# байтов данных на кадр
float audioSampleRate 96000.0; // в секунду
int audioSampleSizeInBits 16; //# битов на канал на образец</p>
<p>Для ERDDAP Для целей фрейм является синонимом выборки, которая представляет собой данные за один момент времени.
атрибуты в ERDDAP™ будет иметь информацию, описывающую данные, как это было в исходных файлах. ERDDAP™ Часто это изменяется при чтении данных, например, закодированные данные PCM\_UNSIGNED, ALAW и ULAW преобразуются в PCM\_SIGNED, а BigEndian = ложные данные преобразуются в BigEndian = истинные данные. (Что такое как Java Хочет почитать) . В конце концов, значения данных в ERDDAP™ всегда будет являться <a href="https://en.wikipedia.org/wiki/Pulse-code_modulation" target="_blank" rel="noopener noreferrer" class="">кодированный PCM</a> значения данных (т.е. простые оцифрованные образцы звуковой волны) .</p>
<ul>
<li class="">Когда ERDDAP™ считывает данные из аудиофайлов, считывает весь файл. ERDDAP™ Он может считывать до 2 миллиардов образцов на канал. Например, если скорость выборки составляет 44 100 образцов в секунду, 2 миллиарда образцов переводят примерно 756 минут звуковых данных на файл. Если у вас есть аудиофайлы с большим количеством данных, вам нужно разбить файлы на более мелкие куски. ERDDAP™ Их можно читать.</li>
<li class="">Потому что ERDDAP™ читать целые аудиофайлы, ERDDAP™ должен иметь доступ к большому объему памяти для работы с большими аудиофайлами. Видишь? <a class="" href="/ru/docs/server-admin/deploy-install#memory"> ERDDAP Настройки памяти</a> . Опять же, если это проблема, обходной путь, который вы можете использовать прямо сейчас, состоит в том, чтобы разбить файлы на более мелкие куски. ERDDAP™ Их можно читать с меньшей памятью.</li>
<li class="">Некоторые аудиофайлы были написаны неправильно. ERDDAP™ Прилагает небольшие усилия для рассмотрения таких случаев. Но вообще, когда есть ошибка, ERDDAP™ Исключение будет (Отклонить этот файл) или (Если ошибка не обнаруживается) Читать данные (Но данные будут неверными) .</li>
<li class="">ERDDAP™ Не проверяет и не изменяет громкость звука. В идеале, целочисленные аудиоданные масштабируются для использования всего диапазона типа данных.</li>
<li class="">Аудиофайлы и аудиоплееры не имеют системы отсутствующих значений. (Например, -999 или Float.NaN) . Таким образом, аудиоданные не должны иметь отсутствующих значений. Если отсутствуют ценности (Например, если вам нужно удлинить аудиофайл) Используйте серию 0, которая будет истолкована как совершенное молчание.</li>
<li class="">Когда ERDDAP™ считывает данные из аудиофайлов, он всегда создает колонку под названием elapsed Время с временем для каждого образца, в секундах (Хранится как двойник) относительно первого образца (который уже установлен Время = 0,0 с) . с EDDGrid Из аудиофайлов это становится переменной оси прошедшего времени.</li>
<li class="">EDDGrid От AudioFiles требуется, чтобы все файлы имели одинаковое количество образцов. Если это не так, вы должны использовать EDDTable FromAudioFiles.</li>
<li class="">Для EDDGrid Из аудиофайлов мы рекомендуем вам установить [&lt;ИзмерениеЦенностиВ памяти&gt; (#dimensionvaluesinmemory) ложный (Как рекомендуется GenerateDatasets Xml) Потому что измерение времени часто имеет огромное количество значений.</li>
<li class="">Для EDDGrid Из аудиофайлов вы почти всегда должны использовать EDDGrid Отраслевая система для <a href="#aggregation-via-file-names-or-global-metadata" class="">Агрегация через Файловые имена</a> почти всегда путем извлечения даты начала записи; Время с имен файлов. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;\\*\\*\\*fileName,&quot;timeFormat=yyyyMMdd&#x27;\\_&#x27;HHmmss&quot;,aco\\_acoustic\\.(\\[0-9\\]{8}\\_\\[0-9\\]{6})\\.wav,1&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Генерировать наборы данных Xml поддержит это и поможет вам в этом.</p>
<ul>
<li class="">Для EDDTableFromAudioFiles почти всегда следует использовать систему EDDTableFromFiles. <a href="#filename-sourcenames" class="">\*\**Фильм псевдоним sourceName s</a> для извлечения информации из имени файла (Почти всегда дата начала Время для записи) Пусть это будет колонка данных. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;\\*\\*\\*fileName,aco\\_acoustic\\.(\\[0-9\\]{8}\\_\\[0-9\\]{6})\\.wav,1&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Формат времени должен быть указан как атрибут единицы:&lt;Att name=&quot;units&quot;&gt;yyyMMdd&#x27;&#x27;HHmmss&lt;/att&gt;
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfrommergeirfiles">EDDGrid Изображения MergeIRFiles<a href="#eddgridfrommergeirfiles" class="hash-link" aria-label="Прямая ссылка наEDDGrid Изображения MergeIRFiles" title="Прямая ссылка наEDDGrid Изображения MergeIRFiles" translate="no">​</a></h3>
<p><a href="#eddgridfrommergeirfiles" class=""> ** EDDGrid Изображения MergeIRFiles** </a> агрегированные данные из локальных, <a href="https://www.cpc.ncep.noaa.gov/products/global_precip/html/README" target="_blank" rel="noopener noreferrer" class="">Объединение</a> Файлы, которые принадлежат <a href="https://trmm.gsfc.nasa.gov" target="_blank" rel="noopener noreferrer" class="">Миссия измерения тропических осадков (ТРММ) </a> Это совместная миссия НАСА и Японского агентства аэрокосмических исследований. (Джакса) . слияние IR файлы можно скачать из <a href="ftp://disc2.nascom.nasa.gov/data/s4pa/TRMM_ANCILLARY/MERG/" target="_blank" rel="noopener noreferrer" class="">НАСА</a> .</p>
<p>EDDGrid FromMergeIRFiles.java была написана и внесла свой вклад в ERDDAP™ Проект Джонатана Лафит и Филиппа Маковски из R.Tech Engineering (Лицензия: авторское право open source) .</p>
<p>EDDGrid Из MergeIRFiles немного необычно:</p>
<ul>
<li class="">EDDGrid FromMergeIRFiles поддерживает сжатые или несжатые исходные файлы данных в любой комбинации в одном наборе данных. Это позволяет сжимать старые файлы, к которым редко обращаются, но не сжимать новые файлы, к которым часто обращаются. Или вы можете изменить тип сжатия с оригинала. Например, Z, .gz .</li>
<li class="">Если у вас есть сжатые и несжатые версии одних и тех же файлов данных в одном и том же каталоге, пожалуйста, убедитесь, что&lt;FileNameRegex&gt; для вашего набора данных соответствует именам файлов, которые вы хотите, чтобы он соответствовал, и не соответствует именам файлов, которые вы не хотите, чтобы он соответствовал.</li>
<li class="">Несжатые исходные файлы данных не должны иметь расширения файла (т.е. &quot;нет&quot; в имени файла) .</li>
<li class="">Сжатые исходные файлы данных должны иметь расширение файла, но ERDDAP™ определяет тип сжатия путем проверки содержимого файла, а не путем просмотра расширения файла; (Например, &quot;.Z&quot;) . Поддерживаемые типы сжатия включают «gz», «bzip2», «xz», «lzma», «snappy-raw», «snappy-framed», «pack200» и «z». Когда ERDDAP™ читает сжатые файлы, декомпрессирует на лету, не записывая на временный файл.</li>
<li class="">Все исходные файлы данных должны использовать исходную систему именования файлов: т.е. <em>YYYYMMDDHH</em> \_4km-пиксель (где <em>YYYYMMDDHH</em> указывает время, связанное с данными в файле) плюс расширение файла, если файл сжат.</li>
</ul>
<p>Смотрите суперкласс этого класса, <a href="#eddgridfromfiles" class=""> EDDGrid Из материалов</a> Для получения общей информации о том, как работает этот класс и как его использовать.</p>
<p>Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Затем вы можете отредактировать это, чтобы настроить его.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromncfiles">EDDGrid Из NcFiles<a href="#eddgridfromncfiles" class="hash-link" aria-label="Прямая ссылка наEDDGrid Из NcFiles" title="Прямая ссылка наEDDGrid Из NcFiles" translate="no">​</a></h3>
<p><a href="#eddgridfromncfiles" class=""> ** EDDGrid Из NcFiles** </a> агрегированные данные из локальных, сетчатых, <a href="https://en.wikipedia.org/wiki/GRIB" target="_blank" rel="noopener noreferrer" class="">GRIB .grb и .grb2</a> файлы, <a href="https://www.hdfgroup.org/" target="_blank" rel="noopener noreferrer" class=""> HDF   (v4 или v5)   .hdf </a> файлы, <a href="#ncml-files" class=""> .nc мл</a> файлы, <a href="https://www.unidata.ucar.edu/software/netcdf/" target="_blank" rel="noopener noreferrer" class=""> NetCDF   (v3 или v4)   .nc </a> файлы, и <a href="https://github.com/zarr-developers/zarr-python" target="_blank" rel="noopener noreferrer" class="">Зарр</a> файлы (Версия 2.25) . Файлы Zarr имеют несколько иное поведение и требуют, чтобы файл NameRegex или PathRegex включали «zarr».</p>
<p>Новый в ERDDAP™ Версия 2.29.0 является экспериментальной поддержкой переменных данных, которые не поддерживают все переменные оси. (или как некоторые называют это 1D и 2D данные в том же наборе данных) . Пожалуйста, свяжитесь с GitHub (Дискуссии или вопросы) с отзывами и багами.</p>
<p>Это может работать с другими типами файлов. (Например, BUFR) Мы просто не тестировали его - пожалуйста, отправьте нам несколько образцов файлов.</p>
<ul>
<li class="">Для файлов GRIB, ERDDAP™ Создайте индексный файл .gbx при первом считывании каждого файла GRIB. Таким образом, файлы GRIB должны быть в каталоге, где «пользователь», который запустил Tomcat, имеет разрешение на чтение и запись.</li>
<li class="">Смотрите суперкласс этого класса, <a href="#eddgridfromfiles" class=""> EDDGrid Из материалов</a> Для получения информации о том, как работает этот класс и как его использовать.</li>
<li class="">Начиная с ERDDAP™ v2.12, EDDGrid Из NcFiles и EDDGrid Из NcFiles Неупакованные могут считывать данные из «структур» .nc 4 и .hdf 4 файла. Чтобы определить переменную, которая является структурой,&lt; sourceName &gt; Необходимо использовать формат: <em>Полное название структуры</em>  |  <em>Имя</em> Например, группа 1/myStruct | Мой член.</li>
<li class="">Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Затем вы можете отредактировать это, чтобы настроить его.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="groups-in-gridded-nc-files">Группы в файлах Gridded Nc<a href="#groups-in-gridded-nc-files" class="hash-link" aria-label="Прямая ссылка наГруппы в файлах Gridded Nc" title="Прямая ссылка наГруппы в файлах Gridded Nc" translate="no">​</a></h4>
<p><a href="#groups-in-gridded-nc-files" class="">Файлы Netcdf4 могут содержать группы.</a>   ERDDAP™ просто делает набор данных из переменных в одной группе и всех ее родительских групп. Вы можете указать конкретное название группы в GenerateDatasets. Xml (Опустить следящую косу) или использовать «» для генерации наборов данных Xml осуществляет поиск по всем группам переменных, которые используют наибольшие размеры, или использует &quot; \[ корень \] &quot;чтобы иметь GenerateDatasets, просто ищите переменные в корневой группе.</p>
<p>Первое, что GenerateDatasetsXml делает для этого типа набора данных после того, как вы ответите на вопросы, - это распечатаете ncdump-подобную структуру файла образца. Итак, если вы введете несколько глупых ответов для первого цикла через наборы данных Xml, по крайней мере, вы сможете увидеть, ERDDAP™ Вы можете прочитать файл и посмотреть, какие размеры и переменные находятся в файле. Затем вы можете дать лучшие ответы для второго цикла через GenerateDatasetsXml.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromncfilesunpacked">EDDGrid Из NcFilesUnpacked<a href="#eddgridfromncfilesunpacked" class="hash-link" aria-label="Прямая ссылка наEDDGrid Из NcFilesUnpacked" title="Прямая ссылка наEDDGrid Из NcFilesUnpacked" translate="no">​</a></h3>
<p><a href="#eddgridfromncfilesunpacked" class=""> ** EDDGrid Из NcFilesUnpacked** </a> является вариантом <a href="#eddgridfromncfiles" class=""> EDDGrid Из NcFiles</a> который собирает данные из локальных, сетчатых NetCDF   (v3 или v4)   .nc и связанных с ними файлов. Разница заключается в том, что этот класс распаковывает каждый файл данных до того, как они будут удалены. EDDGrid Из материалов просматриваются файлы:</p>
<ul>
<li class="">Он распаковывает переменные, которые упакованы <a href="#scale_factor" class=""> scale\_factor и/или add\_offset </a> .</li>
<li class="">Преобразует \_FillValue и missing\_value Ценности, чтобы быть NaN (или MAX\_VALUE для целых типов данных) .</li>
<li class="">Преобразует значения времени и метки времени в &quot;seconds since 1970-01-01T00:00:00Z&quot; .</li>
</ul>
<p>Большим преимуществом этого класса является то, что он обеспечивает способ борьбы с различными ценностями. scale\_factor , add\_offset Полная стоимость, missing\_value или единицы времени в различных исходных файлах в коллекции. В противном случае вам придется использовать такой инструмент, как <a href="#ncml-files" class="">NcML</a> или <a href="#netcdf-operators-nco" class=""> NCO </a> модифицировать каждый файл, чтобы устранить различия, чтобы файлы могли обрабатываться EDDGrid Из NcFiles. Чтобы этот класс работал должным образом, файлы должны соответствовать стандартам CF для соответствующих атрибутов.</p>
<ul>
<li class="">Если попытаться сделать EDDGrid Из NcFiles Распаковка из группы файлов, с которыми вы ранее пытались и не смогли использовать EDDGrid От NcFiles до CD
<em>BigParent Директория</em> /dataset/ <em>Последние 2 письма</em> / * datasetID * /
где <em>Последние 2 письма</em> Это последние 2 буквы datasetID ,
и удалить все файлы в этом каталоге.</li>
<li class="">Начиная с ERDDAP™ v2.12, EDDGrid Из NcFiles и EDDGrid Из NcFiles Неупакованные могут считывать данные из «структур» .nc 4 и .hdf 4 файла. Чтобы определить переменную, которая является структурой,&lt; sourceName &gt; Необходимо использовать формат: <em>Полное название структуры</em>  |  <em>Имя</em> Например, группа 1/myStruct | Мой член.</li>
<li class="">Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Затем вы можете отредактировать это, чтобы настроить его.</li>
</ul>
<p>Файлы Netcdf4 могут содержать группы. Видишь? <a href="#groups-in-gridded-nc-files" class="">Эта документация</a> .</p>
<p>Первое, что GenerateDatasetsXml делает для этого типа набора данных после того, как вы ответите на вопросы, - это распечатать ncdump-подобную структуру файла образца. <strong>перед</strong> Он распакован. Итак, если вы введете несколько глупых ответов для первого цикла через наборы данных Xml, по крайней мере, вы сможете увидеть, ERDDAP™ Вы можете прочитать файл и посмотреть, какие размеры и переменные находятся в файле. Затем вы можете дать лучшие ответы для второго цикла через GenerateDatasetsXml.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridlonpm180">EDDGrid LonPM180<a href="#eddgridlonpm180" class="hash-link" aria-label="Прямая ссылка наEDDGrid LonPM180" title="Прямая ссылка наEDDGrid LonPM180" translate="no">​</a></h3>
<p><a href="#eddgridlonpm180" class=""> ** EDDGrid LonPM180** </a> Изменение значений долготы ребенка (закрытый)   EDDGrid набор данных, который имеет значения долготы более 180 (Например, от 0 до 360) чтобы они находились в диапазоне от -180 до 180 (Долгота плюс или минус 180, отсюда и название) .</p>
<ul>
<li class="">Это обеспечивает способ сделать наборы данных, которые имеют значения долготы более 180, совместимыми в / с OGC услуги (Например, WMS сервер в ERDDAP ) Поскольку все OGC Услуги требуют значений долготы от -180 до 180.</li>
<li class="">Работа вблизи разрыва вызывает проблемы, независимо от того, находится ли разрыв на долготе 0 или на долготе 180. Этот тип набора данных позволяет избежать этих проблем для всех, предлагая две версии одного набора данных:
один со значениями долготы в диапазоне от 0 до 360 (&quot;Тихий океан&quot;?) ,
один со значениями долготы в диапазоне от -180 до 180 (&quot;Атлантикентрик&quot;?) .</li>
<li class="">Для детских наборов данных со всеми значениями долготы более 180 все новые значения долготы просто на 360 градусов ниже. Например, набор данных со значениями долготы от 180 до 240 станет набором данных со значениями долготы от -180 до -120.</li>
<li class="">Для наборов данных о детях, которые имеют значения долготы для всего мира (приблизительно от 0 до 360) , новое значение долготы будет изменено на (примерно) От 180 до 180:
Оригинальные значения от 0 до 180 не изменились.
Первоначальные значения 180-360 преобразуются в значения -180-0 и смещаются в начало массива долготы.</li>
<li class="">Для детских наборов данных, которые охватывают 180, но не покрывают земной шар, ERDDAP™ вставляет недостающие значения по мере необходимости для создания набора данных, который охватывает весь земной шар. Например, набор данных для детей со значениями долготы от 140 до 200 станет набором данных со значениями долготы от -180 до 180.
Значения ребенка от 180 до 200 будут составлять от -180 до -160.
Новые значения долготы будут вставляться от 160 до 140. Соответствующие значения данных будут \_FillValues.
Значения ребенка от 140 до почти 180 не изменились.
Вставка недостающих значений может показаться странной, но она позволяет избежать нескольких проблем, возникающих в результате внезапного скачка значений долготы. (Например, от 160 до 140) .</li>
<li class="">в <a href="#generatedatasetsxml" class="">Генерировать наборы данныхXml</a> , существует специальный «тип набора данных», EDDGrid LonPM180FromErddapCatalog позволяет создавать datasets.xml для EDDGrid Наборы данных LonPM180 от каждого EDDGrid наборы данных в одном ERDDAP которые имеют значения долготы более 180. Это позволяет предлагать две версии этих наборов данных:
оригинал, с значениями долготы в диапазоне от 0 до 360,
и новый набор данных со значениями долготы в диапазоне от -180 до 180.</li>
</ul>
<p>Набор данных о ребенке в каждом EDDGrid LonPM180 будет представлять собой EDDGrid Из набора данных Erddap, который указывает на исходный набор данных.
Новый набор данных datasetID Это будет имя оригинального набора данных плюс &quot;\_LonPM180&quot;.
Например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dataset type=&quot;EDDGridLonPM180&quot; datasetID=&quot;erdMBsstdmday\\_LonPM180&quot; active=&quot;true&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;dataset type=&quot;EDDGridFromErddap&quot; datasetID=&quot;erdMBsstdmday\\_LonPM180Child&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;!-- SST, Aqua MODIS, NPP, 0.025 degrees, Pacific Ocean, Daytime </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          (Monthly Composite) minLon=120.0 maxLon=320.0 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceUrl&gt;https://coastwatch.pfeg.noaa.gov/erddap/griddap/erdMBsstdmday</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/sourceUrl&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/dataset&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dataset&gt; </span><br></span></code></pre></div></div>
<p>Положи. EDDGrid Набор данных LONPM180 <strong>ниже</strong> Первоначальный набор данных в datasets.xml . Это позволяет избежать некоторых возможных проблем.</p>
<p>В качестве альтернативы вы можете заменить EDDGrid FromErddap Child Dataset с оригинальным набором данных datasets.xml . Тогда будет только одна версия набора данных: с значениями долготы в пределах от -180 до 180. Мы не рекомендуем это делать, потому что есть моменты, когда каждая версия набора данных более удобна.</p>
<ul>
<li class="">
<p>Если вы предлагаете две версии набора данных, например, одну с долготой от 0 до 360 и одну с долготой от 180 до 180:</p>
<ul>
<li class="">Вы можете использовать опцию [&lt;доступный Виа WMS Ложь&lt;/Доступный Виа WMS &gt; (#доступные водоросли) с набором данных 0-360 для принудительного отключения WMS Сервис для этого набора данных. Только версия набора данных LonPM180 будет доступна через WMS .</li>
<li class="">Существует несколько способов обновления набора данных LonPM180 с изменениями базового набора данных:<!-- -->
<ul>
<li class="">Если данные ребенка являются EDDGrid Из набора данных Erddap, который ссылается на набор данных в том же ERDDAP™ Набор данных LonPM180 будет пытаться напрямую подписаться на базовый набор данных, чтобы он всегда был обновлен. Прямые подписки не генерируют электронные письма с просьбой подтвердить подписку - проверка должна проводиться автоматически.</li>
<li class="">Если данные ребенка не являются EDDGrid Из набора данных Erddap, который находится на том же ERDDAP™ Набор данных LonPM180 будет пытаться использовать обычную систему подписки для подписки на базовый набор данных. Если у вас есть система подписки ERDDAP™ Включившись, вы должны получить электронные письма с просьбой подтвердить подписку. Пожалуйста, сделай это.</li>
<li class="">Если у вас есть система подписки ERDDAP™ Отключенный набор данных LonPM180 может иногда иметь устаревшие метаданные до перезагрузки набора данных LonPM180. Поэтому, если система подписки отключена, вы должны установить [...]&lt;перезаряжать EveryNMinutes &gt; (#reloadeverynminutes) Настройка набора данных LonPM180 на меньшее число, так что он с большей вероятностью быстрее улавливает изменения в наборе данных ребенка.</li>
</ul>
</li>
</ul>
</li>
<li class="">
<p>Для наборов данных с максимальной долготой &gt; 360 используйте следующую дополнительную конфигурацию для установки максимального значения, и набор данных будет исправлен до -180 до 180.</p>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;maxSourceLon&gt;540&lt;/maxSourceLon&gt;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridlonpm180-skeleton-xml">EDDGrid Скелет LonPM180 XML<a href="#eddgridlonpm180-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDGrid Скелет LonPM180 XML" title="Прямая ссылка наEDDGrid Скелет LonPM180 XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridLonPM180&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1. For<br>
<!-- -->        EDDGridFromDap, this gets the remote .dds and then gets the new<br>
<!-- -->        leftmost (first) dimension values. --&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- The child EDDGrid dataset. --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridlon0360">EDDGrid Lon0360<a href="#eddgridlon0360" class="hash-link" aria-label="Прямая ссылка наEDDGrid Lon0360" title="Прямая ссылка наEDDGrid Lon0360" translate="no">​</a></h3>
<p><a href="#eddgridlon0360" class=""> ** EDDGrid Lon0360** </a> Изменение значений долготы ребенка (закрытый)   EDDGrid набор данных, который имеет значения долготы менее 0 (Например, от 180 до 180) чтобы они находились в диапазоне от 0 до 360 (Отсюда и название) .</p>
<ul>
<li class="">Работа вблизи разрыва вызывает проблемы, независимо от того, находится ли разрыв на долготе 0 или на долготе 180. Этот тип набора данных позволяет избежать этих проблем для всех, предлагая две версии одного набора данных:
один со значениями долготы в диапазоне от -180 до 180 (&quot;Атлантикентрик&quot;?) .
один со значениями долготы в диапазоне от 0 до 360 (&quot;Тихий океан&quot;?) ,</li>
<li class="">Для детских наборов данных со всеми значениями долготы менее 0 все новые значения долготы просто на 360 градусов выше. Например, набор данных со значениями долготы от -180 до -120 станет набором данных со значениями долготы от 180 до 240.</li>
<li class="">Для наборов данных о детях, которые имеют значения долготы для всего мира (приблизительно от 180 до 180) , новое значение долготы будет изменено на (примерно) От 0 до 360:
Оригинальные значения от -180 до 0 преобразуются в 180 до 360 и смещаются в конец массива долготы.
Оригинальные значения от 0 до 180 не изменились.</li>
<li class="">Для детских наборов данных, которые охватывают lon=0, но не покрывают земной шар. ERDDAP™ вставляет недостающие значения по мере необходимости для создания набора данных, который охватывает весь земной шар. Например, набор данных для детей со значениями долготы от -40 до 20 станет набором данных со значениями долготы от 0 до 360.
Значения детей от 0 до 20 будут неизменными.
Новые значения долготы будут вставляться от 20 до 320. Соответствующие значения данных будут \_FillValues.
Значения ребенка от -40 до 0 станут от 320 до 360.
Вставка недостающих значений может показаться странной, но она позволяет избежать нескольких проблем, возникающих в результате внезапного скачка значений долготы. (Например, от 20 до 320) .</li>
<li class="">в <a href="#generatedatasetsxml" class="">Генерировать наборы данныхXml</a> , существует специальный «тип набора данных», EDDGrid Lon0360 From ErddapCatalog позволяет генерировать datasets.xml для EDDGrid Наборы данных Lon0360 от каждого EDDGrid наборы данных в одном ERDDAP которые имеют значения долготы более 180. Это позволяет предлагать две версии этих наборов данных:
оригинал, с значениями долготы в диапазоне от 0 до 360,
и новый набор данных со значениями долготы в диапазоне от -180 до 180.</li>
</ul>
<p>Набор данных о ребенке в каждом EDDGrid Lon0360 будет представлять собой EDDGrid Из набора данных Erddap, который указывает на исходный набор данных.
Новый набор данных datasetID Это будет название оригинального набора данных плюс &quot;\_Lon0360&quot;.
Например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dataset type=&quot;EDDGridLon0360&quot; datasetID=&quot;erdMBsstdmday\\_Lon0360&quot; active=&quot;true&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;dataset type=&quot;EDDGridFromErddap&quot; datasetID=&quot;erdMBsstdmday\\_Lon0360Child&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;!-- SST, Aqua MODIS, NPP, 0.025 degrees, Pacific Ocean, Daytime </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          (Monthly Composite) minLon=-40.0 maxLon=20.0 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceUrl&gt;https://coastwatch.pfeg.noaa.gov/erddap/griddap/erdMBsstdmday</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/sourceUrl&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/dataset&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dataset&gt; </span><br></span></code></pre></div></div>
<p>Положи. EDDGrid Набор данных LON0360 <strong>ниже</strong> Первоначальный набор данных в datasets.xml . Это позволяет избежать некоторых возможных проблем.</p>
<p>В качестве альтернативы вы можете заменить EDDGrid FromErddap Child Dataset с оригинальным набором данных datasets.xml . Тогда будет только одна версия набора данных: с значениями долготы в пределах от 0 до 360. Мы не рекомендуем это делать, потому что есть моменты, когда каждая версия набора данных более удобна.</p>
<ul>
<li class="">Если вы предлагаете две версии набора данных, например, одну с долготой от 0 до 360 и одну с долготой от 180 до 180:<!-- -->
<ul>
<li class="">Вы можете использовать опцию [&lt;доступный Виа WMS Ложь&lt;/Доступный Виа WMS &gt; (#доступные водоросли) с набором данных от 0 до 360 для принудительного отключения WMS Сервис для этого набора данных. Тогда только версия набора данных от 180 до 180 будет доступна через WMS .</li>
<li class="">Существует несколько способов обновления набора данных Lon0360 с изменениями базового набора данных:<!-- -->
<ul>
<li class="">Если данные ребенка являются EDDGrid Из набора данных Erddap, который ссылается на набор данных в том же ERDDAP™ Набор данных Lon0360 будет пытаться напрямую подписаться на базовый набор данных, чтобы он всегда был обновлен. Прямые подписки не генерируют электронные письма с просьбой подтвердить подписку - проверка должна проводиться автоматически.</li>
<li class="">Если данные ребенка не являются EDDGrid Из набора данных Erddap, который находится на том же ERDDAP™ Набор данных Lon0360 будет пытаться использовать обычную систему подписки для подписки на базовый набор данных. Если у вас есть система подписки ERDDAP™ Включившись, вы должны получить электронные письма с просьбой подтвердить подписку. Пожалуйста, сделай это.</li>
<li class="">Если у вас есть система подписки ERDDAP™ Отключенный набор данных Lon0360 может иногда иметь устаревшие метаданные до перезагрузки набора данных Lon0360. Поэтому, если система подписки отключена, вы должны установить [...]&lt;перезаряжать EveryNMinutes &gt; (#reloadeverynminutes) Настройка набора данных Lon0360 на меньшее число, так что он с большей вероятностью быстрее улавливает изменения в наборе данных ребенка.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridlon0360-skeleton-xml">EDDGrid Скелет LON0360 XML<a href="#eddgridlon0360-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDGrid Скелет LON0360 XML" title="Прямая ссылка наEDDGrid Скелет LON0360 XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridLon0360&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1. For<br>
<!-- -->        EDDGridFromDap, this gets the remote .dds and then gets the new<br>
<!-- -->        leftmost (first) dimension values. --&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- The child EDDGrid dataset. --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridsidebyside">EDDGrid SideBySide<a href="#eddgridsidebyside" class="hash-link" aria-label="Прямая ссылка наEDDGrid SideBySide" title="Прямая ссылка наEDDGrid SideBySide" translate="no">​</a></h3>
<p><a href="#eddgridsidebyside" class=""> ** EDDGrid SideBySide** </a> агрегаты два или более EDDGrid наборы данных (дети) бок о бок.</p>
<ul>
<li class="">Полученный набор данных имеет все переменные из всех наборов данных ребенка.</li>
<li class="">Родительский набор данных и все детские наборы данных должны быть разными. datasetID С. Если какие-либо имена в семье одинаковы, набор данных не будет загружаться. (с сообщением об ошибке, что значения агрегированной оси не сортируются) .</li>
<li class="">Все дети должны иметь одинаковые исходные значения. axisVariable s \[ 1+ \]   (Например, широта, долгота) . Точность испытаний определяется <a href="#matchaxisndigits" class="">Обсуждение AxisNDigits</a> .</li>
<li class="">Дети могут иметь различные исходные значения для axisVariable s \[ 0 \]   (Например, время) Но они, как правило, в основном одинаковы.</li>
<li class="">Родительский набор данных будет иметь все axisVariable s \[ 0 \] Источник ценностей всех детей.</li>
<li class="">Например, это позволяет комбинировать исходный набор данных с векторным u-компонентом и другой исходный набор данных с векторным v-компонентом, так что объединенные данные могут обслуживаться.</li>
<li class="">Дети, созданные таким способом, содержатся в частном порядке. Они не являются отдельно доступными наборами данных. (Например, по запросам клиентских данных или <a class="" href="/ru/docs/server-admin/additional-information#flag">Флаговые файлы</a> ) .</li>
<li class="">Глобальные метаданные и настройки для родителя исходят из глобальных метаданных и настроек для первого ребенка.</li>
<li class="">Если есть исключение при создании первого ребенка, то родитель не будет создан.</li>
<li class="">Если есть исключение при создании других детей, это отправляет электронное письмо на электронную почту. (как указано в <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> ) И продолжается с другими детьми.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridsidebyside-skeleton-xml">EDDGrid Скелет SideBySide XML<a href="#eddgridsidebyside-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDGrid Скелет SideBySide XML" title="Прямая ссылка наEDDGrid Скелет SideBySide XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridSideBySide&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#matchaxisndigits" class="">&lt;matchAxisNDigits&gt;</a>...&lt;/matchAxisNDigits&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- 2 or more --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridaggregateexistingdimension">EDDGrid Совокупность существующих измерений<a href="#eddgridaggregateexistingdimension" class="hash-link" aria-label="Прямая ссылка наEDDGrid Совокупность существующих измерений" title="Прямая ссылка наEDDGrid Совокупность существующих измерений" translate="no">​</a></h3>
<p><a href="#eddgridaggregateexistingdimension" class=""> ** EDDGrid Совокупность существующих измерений** </a> агрегаты два или более EDDGrid наборы данных, каждый из которых имеет различный диапазон значений для первого измерения, но идентичные значения для других измерений.</p>
<ul>
<li class="">Например, один набор данных может иметь 366 значений. (за 2004 год) Для измерения времени и другого ребенка может быть 365 значений. (на 2005 год) Для измерения времени.</li>
<li class="">Все значения для всех других измерений (Например, широта, долгота) Они должны быть одинаковыми для всех детей. Точность испытаний определяется <a href="#matchaxisndigits" class="">Обсуждение AxisNDigits</a> .</li>
<li class="">Сортированные значения измерения - Значения для каждого измерения должны быть сортированы по порядку. (восходящий или нисходящий) . Значения могут быть нерегулярно разнесены. Никаких связей быть не может. Это является требованием к <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">Стандарт метаданных CF</a> . Если значения любого измерения не сортированы, набор данных не будет загружен и ERDDAP™ идентифицирует первое несортированное значение в файле журнала, <em>BigParent Директория</em> /logs/log.txt.</li>
</ul>
<p>Несортированные значения размерности почти всегда указывают на проблему с исходным набором данных. Чаще всего это происходит, когда в агрегацию включается неправильно названный или неподходящий файл, что приводит к несортированному измерению времени. Чтобы решить эту проблему, см. сообщение об ошибке в ERDDAP™ log.txt файл, чтобы найти значение времени. Затем посмотрите в исходных файлах, чтобы найти соответствующий файл. (либо до, либо после) Это не входит в агрегацию.</p>
<ul>
<li class="">Родительский набор данных и детский набор данных должны отличаться друг от друга. datasetID С. Если какие-либо имена в семье одинаковы, набор данных не будет загружаться. (с сообщением об ошибке, что значения агрегированной оси не сортируются) .</li>
<li class="">В настоящее время набор данных ребенка должен быть EDDGrid Набор данных FromDap и MUST имеют самые низкие значения агрегированного измерения (Как правило, самые старые временные значения) . Все остальные дети должны быть практически одинаковыми. (Разница только в значениях для первого измерения) и определяется только их sourceUrl .</li>
<li class="">Совокупный набор данных получает метаданные от первого ребенка.</li>
<li class="">The <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Можно составить приблизительный проект datasets.xml для одного EDDGrid AggregateExistingDimension основан на наборе файлов, обслуживаемых Hyrax Сервер THREDDS. Например, используйте этот вход для программы. («/1988» в URL-адресе заставляет пример работать быстрее) :<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  EDDType? EDDGridAggregateExistingDimension  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Server type (hyrax, thredds, or dodsindex)? hyrax  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Parent URL (for example, for hyrax, ending in &quot;contents.html&quot;;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for thredds, ending in &quot;catalog.xml&quot;)  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ? https://opendap.jpl.nasa.gov/opendap/ocean\\_wind/ccmp/L3.5a/data/  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    flk/1988/contents.html  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  File name regex (for example, &quot;.\\*\\.nc&quot;)? month.\\*flk\\.nc\\.gz  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ReloadEveryNMinutes (for example, 10080)? 10080  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Вы можете использовать полученный&lt; sourceUrl &gt; теги или удалить их и откомментировать&lt; sourceUrl Тег &gt; (чтобы новые файлы были замечены каждый раз, когда набор данных перезагружается).</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridaggregateexistingdimension-skeleton-xml">EDDGrid Совокупный существующий скелет XML<a href="#eddgridaggregateexistingdimension-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDGrid Совокупный существующий скелет XML" title="Прямая ссылка наEDDGrid Совокупный существующий скелет XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridAggregateExistingDimension&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot;<br>
<!-- -->        <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- This is a regular <a href="#eddgridfromdap" class="">EDDGridFromDap</a> dataset<br>
<!-- -->        description child with the lowest values for the aggregated<br>
<!-- -->        dimensions. --&gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt; &lt;!-- 0 or many; the sourceUrls for<br>
<!-- -->        other children.  These children must be listed in order of<br>
<!-- -->        ascending values for the aggregated dimension. --&gt;<br>
<!-- -->      &lt;sourceUrls serverType=&quot;...&quot; regex=&quot;...&quot; recursive=&quot;true&quot;<br>
<!-- -->        <a href="#pathregex" class="">pathRegex</a>\=&quot;.\<em>&quot;<br>
<!-- -->        &gt;https://<em>someServer/someDirectory/someSubdirectory</em>/catalog.xml&lt;/sourceUrls&gt;<br>
<!-- -->        &lt;!-- 0 or 1. This specifies how to find the other children,<br>
<!-- -->        instead of using separate sourceUrl tags for each child.  The<br>
<!-- -->        advantage of this is: new children will be detected each time<br>
<!-- -->        the dataset is reloaded. The serverType must be &quot;thredds&quot;,<br>
<!-- -->        &quot;hyrax&quot;, or &quot;dodsindex&quot;.
        An example of a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">regular expression</a> (regex)  (<a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">tutorial</a>) is .\</em>\.nc<br>
<!-- -->        recursive can be &quot;true&quot; or &quot;false&quot;.<br>
<!-- -->        Only directory names which match the<br>
<!-- -->        <a href="#pathregex" class="">&lt;pathRegex&gt;</a><br>
<!-- -->        (default=&quot;.\*&quot;) will be accepted.<br>
<!-- -->        A thredds catalogUrl MUST include &quot;/thredds/catalog/&quot;.<br>
<!-- -->        An example of a thredds catalogUrl is<br>
<!-- -->        <a href="https://thredds1.pfeg.noaa.gov/thredds/catalog/Satellite/aggregsatMH/chla/catalog.xml" target="_blank" rel="noopener noreferrer" class="">https://thredds1.pfeg.noaa.gov/thredds/catalog/Satellite/aggregsatMH/<br>
<!-- -->          chla/catalog.xml</a><br>
<!-- -->        An example of a hyrax catalogUrl is<br>
<!-- -->        <a href="https://opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/1988/contents.html" target="_blank" rel="noopener noreferrer" class="">https://opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/<br>
<!-- -->        flk/1988/contents.html</a><br>
<!-- -->        An example of a dodsindex URL is<br>
<!-- -->        <a href="https://opendap.jpl.nasa.gov/opendap/GeodeticsGravity/tellus/L3/mascon/RL06/JPL/v02/CRI/netcdf/contents.html" target="_blank" rel="noopener noreferrer" class="">https://opendap.jpl.nasa.gov/opendap/GeodeticsGravity/tellus/L3/mascon/RL06/JPL/v02/CRI/netcdf/contents.html</a><br>
<!-- -->        (Note the &quot;OPeNDAP logo at the top of the page.)<br>
<!-- -->        When these children are sorted by filename, they must be in<br>
<!-- -->        order of ascending values for the aggregated dimension. --&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#matchaxisndigits" class="">&lt;matchAxisNDigits&gt;</a>...&lt;/matchAxisNDigits&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridcopy">EDDGrid Копия<a href="#eddgridcopy" class="hash-link" aria-label="Прямая ссылка наEDDGrid Копия" title="Прямая ссылка наEDDGrid Копия" translate="no">​</a></h3>
<p><a href="#eddgridcopy" class=""> ** EDDGrid Копия** </a> создает и поддерживает локальную копию другого EDDGrid данные и обслуживает данные из локальной копии.</p>
<ul>
<li class="">EDDGrid Копия (и для табличных данных, <a href="#eddtablecopy" class="">EDDTableCopy</a> ) Это очень простой в использовании и очень эффективный
<strong>Решение некоторых из самых больших проблем с обслуживанием данных из удаленного источника данных:</strong></li>
<li class="">Доступ к данным из удаленного источника данных может быть медленным.<!-- -->
<ul>
<li class="">Он может быть медленным, потому что он по своей природе медленный. (Неэффективный тип сервера) ,</li>
<li class="">Потому что он перегружен слишком большим количеством запросов,</li>
<li class="">или потому, что ваш сервер или удаленный сервер ограничен по пропускной способности.</li>
</ul>
</li>
<li class="">Удаленный набор данных иногда недоступен. (Опять же, по разным причинам) .</li>
<li class="">Полагаясь на один источник для данных не масштабируется хорошо (Например, когда многие пользователи ERDDAP использовать его) .
 </li>
<li class="">Как это работает - EDDGrid Копирование решает эти проблемы, автоматически создавая и поддерживая локальную копию данных и обслуживая данные из локальной копии. ERDDAP™ Данные из локальной копии можно передавать очень быстро. А создание локальной копии снимает нагрузку на удаленный сервер. А локальная копия - это резервная копия оригинала, которая полезна в случае, если с оригиналом что-то случится.</li>
</ul>
<p>Нет ничего нового в создании локальной копии набора данных. Что нового в этом классе, так это то, что он\*легко\*создавать и\*поддерживать\*локальная копия данных из\*разнообразие\*Типы удаленных источников данных и\*Добавить метаданные\*При копировании данных.</p>
<ul>
<li class="">Частицы данных - EDDGrid Копия делает локальную копию данных, запрашивая куски данных с пульта&lt;Dataset&gt;. Для каждой величины самого левого будет кусочек. (первый) переменной оси. EDDGrid Копирование не зависит от индексов удаленного набора данных для оси - они могут меняться.</li>
</ul>
<p>Предупреждение: если размер куска данных настолько велик (&gt; 2 ГБ) что это вызывает проблемы, EDDGrid Копию нельзя использовать. (К сожалению, мы надеемся найти решение этой проблемы в будущем.)</p>
<ul>
<li class="">\[ Альтернативой для EDDGrid Копировать -
Если удаленные данные доступны через загружаемые файлы, а не через веб-сервис, используйте <a href="#cachefromurl" class="">кэш Опция FromUrl для EDDGrid Из материалов</a> , который делает локальную копию удаленных файлов и обслуживает данные из локальных файлов. \]</li>
<li class="">Локальные файлы - Каждая часть данных хранится в отдельном NetCDF Файл в подкаталоге <em>BigParent Директория</em> /копия/ * datasetID * / (как указано в <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> ) . Имена файлов, созданные из значений оси, изменяются, чтобы сделать их безопасными для имени файла (Например, дефисы заменяются на «x2D».) - это не влияет на реальные данные.
 </li>
<li class="">Новые данные - Каждый раз EDDGrid Копия перезагружается, она проверяет пульт&lt;Набор данных, чтобы увидеть, какие куски доступны. Если файл для части данных еще не существует, запрос на получение части добавляется в очередь. ERDDAP Задача Thread обрабатывает все поставленные в очередь запросы на фрагменты данных один за другим. Вы можете увидеть статистику для задачиThread активности на <a class="" href="/ru/docs/server-admin/additional-information#status-page">Страница статуса</a> и в том, <a class="" href="/ru/docs/server-admin/additional-information#daily-report">Ежедневный отчет</a> . (Да, ERDDAP™ Он может назначать несколько задач для этого процесса, но это будет использовать большую часть пропускной способности удаленного источника данных, памяти и времени процессора, а также большую часть локального. ERDDAP пропускная способность, память и время процессора, ни одна из которых не является хорошей идеей.)</li>
</ul>
<p>Примечание: В первый раз EDDGrid Копия загружена, (Если все будет хорошо) В очередь Thread будет добавлено много запросов на фрагменты данных, но локальные файлы данных не будут созданы. Таким образом, конструктор потерпит неудачу, но taskThread продолжит работать и создавать локальные файлы. Если все пойдет хорошо, задача Thread сделает некоторые локальные файлы данных и следующую попытку перезагрузить набор данных. (За 15 минут) Успешно, но изначально с очень ограниченным объемом данных.</p>
<p>ПРИМЕЧАНИЕ: После того, как локальный набор данных содержит некоторые данные и появляется в вашем ERDDAP Если удаленный набор данных временно или постоянно недоступен, локальный набор данных все равно будет работать.</p>
<p>Предупреждение: если удаленный набор данных большой и/или удаленный сервер медленный (В этом проблема, не так ли?!) Это займет много времени, чтобы сделать полную копию. В некоторых случаях необходимое время будет неприемлемым. Например, передача 1 ТБ данных по линии T1. (0,15 ГБ/с) Это займет не менее 60 дней при оптимальных условиях. Кроме того, он использует большую пропускную способность, память и время процессора на удаленных и локальных компьютерах. Решение состоит в том, чтобы отправить жесткий диск администратору удаленного набора данных, чтобы он мог сделать копию набора данных и отправить жесткий диск обратно вам. использовать эти данные в качестве отправной точки и EDDGrid Копия добавит к ней данные. (Это один из способов, которым <a href="https://aws.amazon.com/importexport/" target="_blank" rel="noopener noreferrer" class="">Облачный сервис Amazon EC2</a> Они справляются с проблемой, хотя их система имеет большую пропускную способность.)</p>
<p>Предупреждение: если заданное значение для самого левого (первый) переменная оси исчезает из удаленного набора данных; EDDGrid Копия не удаляет локальный скопированный файл. Если вы хотите, вы можете удалить его самостоятельно.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="grid-copy-checksourcedata">Grid Copy Check Источник Данные<a href="#grid-copy-checksourcedata" class="hash-link" aria-label="Прямая ссылка наGrid Copy Check Источник Данные" title="Прямая ссылка наGrid Copy Check Источник Данные" translate="no">​</a></h4>
<p>The datasets.xml для этого набора данных может иметь дополнительный тег</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;checkSourceData&gt;true&lt;/checkSourceData&gt;  </span><br></span></code></pre></div></div>
<p>Значение по умолчанию верно. Если / когда вы установите его ложным, набор данных никогда не проверит исходный набор данных, чтобы увидеть, есть ли дополнительные данные.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="onlysince">только с тех пор<a href="#onlysince" class="hash-link" aria-label="Прямая ссылка натолько с тех пор" title="Прямая ссылка натолько с тех пор" translate="no">​</a></h4>
<p>Вы можете сказать EDDGrid Копия для создания копии подмножества набора исходных данных вместо всего набора исходных данных путем добавления тега в виде&lt;только с момента <em>некоторые ценность</em> &lt;/onlySince&gt; для набора данных datasets.xml кусок. EDDGrid Копия будет загружать только значения данных, связанные со значениями первого измерения. (Как правило, временное измерение) которые больше, чем <em>некоторые ценность</em> . <em>некоторые ценность</em> могут быть:</p>
<ul>
<li class="">
<p>Относительное время, указанное через now-  <em>единицы</em> .
Например,&lt;только с момента now- 2 года&lt;/onlySince&gt; сообщает набору данных делать только локальные копии данных для данных, где значения внешнего измерения (Обычно временные значения) в течение последних 2 лет (который переоценивается каждый раз при перезагрузке набора данных, когда он ищет новые данные для копирования) . Видишь? <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#now" target="_blank" rel="noopener noreferrer" class=""> now-  <em>единицы</em> описание синтаксиса</a> . Это полезно, если первое измерение имеет временные данные, что обычно и происходит.</p>
<p>EDDGrid Копирование не удаляет локальные файлы данных, которые со временем становятся старше. now-  <em>единицы</em> . Вы можете удалить эти файлы в любое время, если захотите. Если вы это сделаете, мы настоятельно рекомендуем вам установить <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> После удаления файлов, чтобы сообщить EDDGrid Копии для обновления списка кэшированных файлов.</p>
</li>
<li class="">
<p>Фиксированная точка времени, указанная как строка ISO 8601 yyyy-MM-ddTHH:mm<!-- -->:ssZ<!-- --> .
Например,&lt;Только с&gt;2000-01-01T00:00:00Z&lt;/onlySince&gt; сообщает набор данных только для создания локальных копий данных, где значение первого измерения \&gt;=2000-01-01T00:00:00Z . Это полезно, если первое измерение имеет временные данные, что обычно и происходит.
 </p>
</li>
<li class="">
<p>Номер с плавающей точкой.
Например,&lt;только с&gt;946684800.0&lt;/только с момента. Единицы будут единицами назначения первого измерения. Например, для измерения времени единицы в ERDDAP™ всегда &quot;seconds since 1970-01-01T00:00:00Z&quot; . Итак, 946684800.0 &quot;seconds since 1970-01-01T00:00:00Z&quot; эквивалентен 2000-01-01T00:00:00Z. Это всегда полезный вариант, но особенно полезно, когда в первом измерении нет данных о времени.</p>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridcopy-recomended-use">EDDGrid Copy Рекомендуемое использование<a href="#eddgridcopy-recomended-use" class="hash-link" aria-label="Прямая ссылка наEDDGrid Copy Рекомендуемое использование" title="Прямая ссылка наEDDGrid Copy Рекомендуемое использование" translate="no">​</a></h4>
<ol>
<li class="">создавать&lt;набор данных вход (Родной тип, не EDDGrid Копия) для удаленного источника данных.
<strong>Заставьте его работать правильно, включая все необходимые метаданные.</strong></li>
<li class="">Если это слишком медленно, добавьте XML-код, чтобы обернуть его в EDDGrid Копии данных.<!-- -->
<ul>
<li class="">Используйте другой datasetID   (Возможно, изменяя datasetID старого datasetID слегка) .</li>
<li class="">Копировать&lt;доступный К&gt;,&lt;перезагрузить EveryNMinutes и&lt;OnChange&gt; из удаленного EDDGrid XML для этого EDDGrid Копии XML. (Их ценности для EDDGrid Копирование материи; их значения для внутреннего набора данных становятся неактуальными.)</li>
</ul>
</li>
<li class="">ERDDAP™ будет создавать и поддерживать локальную копию данных.
 </li>
</ol>
<ul>
<li class="">Предупреждение: EDDGrid Копирование предполагает, что значения данных для каждого фрагмента никогда не меняются. Если / когда они это делают, вам нужно вручную удалить файлы в <em>BigParent Директория</em> /копия/ * datasetID * которые изменились и <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> набор данных, подлежащий перезагрузке, чтобы удаленные фрагменты были заменены. Если у вас есть подписка на электронную почту, вы получите два письма: одно, когда набор данных сначала перезагружается и начинает копировать данные, а другое, когда набор данных снова загружается. (автоматически) и обнаруживает новые локальные файлы данных.
 </li>
<li class="">Все значения оси должны быть равными.
Для каждой из осей, кроме самой левой (первый) Все ценности должны быть равны для всех детей. Точность испытаний определяется <a href="#matchaxisndigits" class="">Обсуждение AxisNDigits</a> .
 </li>
<li class="">Настройки, метаданные, переменные - EDDGrid Копия использует настройки, метаданные и переменные из прилагаемого набора исходных данных.
 </li>
<li class="">Изменение метаданных - Если вам нужно изменить любой addAttributes или изменить порядок переменных, связанных с исходным набором данных:<!-- -->
<ol>
<li class="">Изменить addAttributes Для исходных данных в datasets.xml По мере необходимости.</li>
<li class="">Удалить один из скопированных файлов.</li>
<li class="">Установить <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> немедленно перезагрузить набор данных. Если вы используете флаг и у вас есть подписка на электронную почту, вы получите два письма: одно, когда набор данных сначала перезагружается и начинает копировать данные, а другое, когда набор данных снова загружается. (автоматически) и обнаруживает новые локальные файлы данных.</li>
<li class="">Удаленный файл будет восстановлен с новыми метаданными. Если источник данных когда-либо недоступен, EDDGrid Набор копий данных будет получать метаданные из восстановленного файла, так как это самый молодой файл.</li>
</ol>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridcopy-skeleton-xml">EDDGrid Копия скелета XML<a href="#eddgridcopy-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDGrid Копия скелета XML" title="Прямая ссылка наEDDGrid Копия скелета XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridCopy&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviafiles" class="">&lt;accessibleViaFiles&gt;</a>true|false(default)&lt;/accessibleViaFiles&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#matchaxisndigits" class="">&lt;matchAxisNDigits&gt;</a>...&lt;/matchAxisNDigits&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#filetableinmemory" class="">&lt;fileTableInMemory&gt;</a>...&lt;/fileTableInMemory&gt; &lt;!-- 0 or 1 (true or false<br>
<!-- -->        (the default)) --&gt;<br>
<!-- -->      <a href="#grid-copy-checksourcedata" class="">&lt;checkSourceData&gt;</a>...&lt;/checkSourceData&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onlysince" class="">&lt;onlySince&gt;</a>...&lt;/onlySince&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- 1 --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromcassandra">EDDTable From Кассандра<a href="#eddtablefromcassandra" class="hash-link" aria-label="Прямая ссылка наEDDTable From Кассандра" title="Прямая ссылка наEDDTable From Кассандра" translate="no">​</a></h3>
<p><a href="#eddtablefromcassandra" class=""> <strong>EDDTable From Кассандра</strong> </a> обрабатывать данные от одного <a href="https://cassandra.apache.org/" target="_blank" rel="noopener noreferrer" class="">Кассандра</a> столик. Cassandra является базой данных NoSQL.</p>
<ul>
<li class="">ERDDAP™ Может работать с Cassandra v2 и v3 без изменений или различий в настройке. Мы проверили с <a href="https://cassandra.apache.org/download/" target="_blank" rel="noopener noreferrer" class="">Кассандра v2 и v3 из Апач</a> . Вполне вероятно, что ERDDAP™ Также можно работать с Кассандрой, загруженной из DataStax.
 </li>
<li class="">На август 2019 - май 2021 года у нас были проблемы с тем, чтобы заставить Кассандру работать с AdoptOpenJdk. Java v8. Это привело к EXCEPTION\_ACCESS\_VIOLATION. Но теперь (май 2021 года) Эта проблема исчезла: мы можем успешно использовать Cassandra v2.1.22 и AdoptOpenJdk jdk8u292-b10.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="one-table">Один столик<a href="#one-table" class="hash-link" aria-label="Прямая ссылка наОдин столик" title="Прямая ссылка наОдин столик" translate="no">​</a></h4>
<p>Кассандра не поддерживает «соединений» в реляционных базах данных. Один ERDDAP™ EDDTableFromCassandra dataset maps to one (Возможно, подмножество одного) Стол Кассандра.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-datasetsxml">Кассандра datasets.xml<a href="#cassandra-datasetsxml" class="hash-link" aria-label="Прямая ссылка наКассандра datasets.xml" title="Прямая ссылка наКассандра datasets.xml" translate="no">​</a></h4>
<ul>
<li class="">ERDDAP™ Приходит с Кассандрой Java Водитель, так что вам не нужно устанавливать его отдельно.</li>
<li class="">Внимательно прочитайте всю информацию этого документа о EDDTable FromCassandra. Некоторые детали очень важны.</li>
<li class="">Кассандра Java Водитель будет работать с Apache Cassandra (1.2+) Компания DataStax Enterprise (3.1+) . Если вы используете Apache Cassandra 1.2.x, вы должны отредактировать файл cassandra.yaml для каждого узла, чтобы установить start\_native\_transport: true, затем перезагрузить каждый узел.</li>
<li class="">Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Вы можете отредактировать это, чтобы настроить его (особенно).&lt;раздел Ключевые имена источников (#partitionkeysourcenames) ). Вы можете собрать большую часть информации, необходимой для создания XML для набора данных EDDTableFromCassandra, связавшись с администратором Cassandra и выполнив поиск в Интернете.</li>
</ul>
<p>Генерировать наборы данных Xml имеет два специальных варианта для EDDTable FromCassandra:</p>
<ol>
<li class="">Если вы войдете в «!!!ПИСАТЬ!!!» (Без цитат) Для ключевого пространства программа покажет список ключевых пространств.</li>
<li class="">Если вы войдете в определенное ключевое пространство, а затем введите «!!!СТАТЬ!!!» (Без цитат) Для имени таблицы программа будет отображать список таблиц в этом ключевом пространстве и их столбцы.</li>
</ol>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="case-sensitivity">Чувствительность<a href="#case-sensitivity" class="hash-link" aria-label="Прямая ссылка наЧувствительность" title="Прямая ссылка наЧувствительность" translate="no">​</a></h5>
<ul>
<li class="">Случайно-нечувствительные Keyspace и Table Names
Кассандра относится к именам ключевых пространств и столов нечувствительным образом. Из-за этого вы никогда не должны использовать зарезервированное слово. (Но в другом случае) Ключевое пространство Кассандры или название стола.</li>
<li class="">Нечувствительные к делу названия колонн -
По умолчанию Кассандра рассматривает имена колонок нечувствительным образом. Если вы используете одно из зарезервированных слов Кассандры в качестве названия колонки (Пожалуйста, не надо!) Вы должны использовать</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;columnNameQuotes&gt;&quot;&lt;columnNameQuotes&gt;  </span><br></span></code></pre></div></div>
<p>в datasets.xml Для этого набора данных, чтобы Кассандра и ERDDAP™ Мы будем рассматривать названия колонок чувствительным к делу способом. Это, вероятно, будет огромной головной болью для вас, потому что трудно определить чувствительные к случаю версии названий колонок - Кассандра почти всегда отображает имена колонок как все нижние регистры, независимо от истинного случая.</p>
<ul>
<li class="">Работайте в тесном контакте с администратором Cassandra, который может иметь соответствующий опыт. Если набор данных не загружается, прочитайте <a href="#troubleshooting-tips" class="">сообщение об ошибке</a> Внимательно выяснить, почему.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-connectionproperty">Кассандра&lt;соединение Недвижимость&gt;<a href="#cassandra-connectionproperty" class="hash-link" aria-label="Прямая ссылка наКассандра&lt;соединение Недвижимость&gt;" title="Прямая ссылка наКассандра&lt;соединение Недвижимость&gt;" translate="no">​</a></h4>
<p>Кассандра обладает свойствами соединения, которые могут быть указаны в datasets.xml . Многие из них повлияют на производительность Кассандры. ERDDAP™ связь. К сожалению, свойства Кассандры должны быть установлены программно. Java Так ERDDAP™ должен иметь код для каждой собственности ERDDAP™ Поддержка. В настоящее время ERDDAP™ Поддерживает эти свойства:
(Дефолты — это то, что мы видим. По умолчанию ваша система может быть разной.)</p>
<ul>
<li class=""><strong>Общие варианты</strong><br>
<!-- -->&lt;соединение Имя собственности = <strong>сжатие</strong> &quot; <em>ни одного | LZ4 | быстрый</em> &lt;/подключение Собственность (нечувствительный к случаю, default=none)<br>
<!-- -->(Общий совет по компрессии: не используйте «ничего», если связь между Кассандрой ERDDAP™ - локальный/быстрый и используйте LZ4, если соединение удаленное/медленное.)<br>
<!-- -->&lt;соединение Имя собственности = <strong>полномочия</strong> &quot; <em>имя пользователя/пароль</em> &lt;/подключение Собственность (Это буквально &#x27;/&#x27; )<br>
<!-- -->&lt;соединение Имя собственности = <strong>метрики</strong> &quot; <em>истинный | ложный</em> &lt;/подключение Собственность (2021-01-25 был по умолчанию = правда, теперь игнорируется и всегда ложно)<br>
<!-- -->&lt;соединение Имя собственности = <strong>порт</strong> &quot; <em>целое число</em> &lt;/подключение Собственность (Нативный двоичный протокол = 9042)<br>
<!-- -->&lt;соединение Имя собственности = <strong>ssl</strong> &quot; <em>истинный | ложный</em> &lt;/подключение Собственность (Ложный = False)<br>
<!-- -->(Моя быстрая попытка использовать ssl провалилась. Если у вас все получится, расскажите, пожалуйста, как вы это сделали.)</li>
<li class=""><strong>Поиск вариантов</strong><br>
<!-- -->&lt;соединение Имя собственности = <strong>согласованность Уровень</strong> &quot; <em>все | любой | каждый _quorum | локальный | Местный _quorum | Местный_серийный | один | кворум | серийный | три | два</em> &lt;/подключение Собственность (нечувствительный к случаю, по умолчанию = ONE)<br>
<!-- -->&lt;соединение Имя собственности = <strong>размер</strong> &quot; <em>целое число</em> &lt;/подключение Собственность (Дефолт = 5000)<br>
<!-- -->(Не устанавливайте fetchSize на меньшую величину.)<br>
<!-- -->&lt;соединение Имя собственности = <strong>последовательный уровень согласованности</strong> &quot; <em>все | любой | каждый _quorum | локальный | Местный _quorum | Местный_серийный | один | кворум | серийный | три | два</em> &lt;/подключение Собственность (нечувствительный к случаю, дефолт = SERIAL)</li>
<li class=""><strong>Сокетные опции</strong><br>
<!-- -->&lt;соединение Имя собственности = <strong>ConnectTimeoutMillis</strong> &quot; <em>целое число</em> &lt;/подключение Собственность (Дефолт = 5000)<br>
<!-- -->(Не устанавливайте соединение TimeoutMillis имеет меньшую стоимость.)<br>
<!-- -->&lt;соединение Имя собственности = <strong>Живой</strong> &quot; <em>истинный | ложный</em> &lt;/подключение Собственность
&lt;соединение Имя собственности = <strong>ReadTimeoutMillis</strong> &quot; <em>целое число</em> &lt;/подключение Собственность
(По умолчанию Cassandra ReadTimeoutMillis составляет 12000. ERDDAP™ Изменение по умолчанию до 120000. Если Кассандра бросает readTimeouts, увеличение этого может не помочь, потому что Кассандра иногда бросает их раньше этого времени. Проблема в том, что вы храните слишком много данных на раздел. Ключевая комбинация.)<br>
<!-- -->&lt;соединение Имя собственности = <strong>размер буфера</strong> &quot; <em>целое число</em> &lt;/подключение Собственность
(Неясно, что такое по умолчанию приемный размер. Не устанавливайте это на небольшое значение.)<br>
<!-- -->&lt;соединение Имя собственности = <strong>солингер</strong> &quot; <em>целое число</em> &lt;/подключение Собственность
&lt;соединение Имя собственности = <strong>tcpNoDelay</strong> &quot; <em>истинный | ложный</em> &lt;/подключение Собственность (дефолт = нуль)</li>
</ul>
<p>Если вам нужно установить другие свойства соединения, см. <a class="" href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a> .</p>
<p>Для данного стартапа Tomcat свойства соединения используются только при первом создании набора данных для данного URL-адреса Cassandra. Все перезагрузки этого набора данных и всех последующих наборов данных, которые имеют один и тот же URL, будут использовать эти исходные свойства соединения.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cql">CQL<a href="#cql" class="hash-link" aria-label="Прямая ссылка наCQL" title="Прямая ссылка наCQL" translate="no">​</a></h4>
<p>Язык запросов Кассандра (CQL) Поверхностно похож на SQL, язык запросов, используемый в традиционных базах данных. Потому что OPeNDAP Запросы табличных данных были разработаны для имитации запросов табличных данных SQL, это возможно для ERDDAP™ Преобразовать запросы табличных данных в CQL Bound/PreparedStatements. ERDDAP™ Запись заявления в <a class="" href="/ru/docs/server-admin/additional-information#log">log.txt</a> как
Заявление в виде текста: <em>ЗаявлениеТекст</em><br>
<!-- -->Версия заявления, которую вы видите, будет текстовым представлением заявления и будет иметь только «?», где будут размещены значения ограничения.
 <br>
<!-- -->Не так просто... К сожалению, CQL имеет много ограничений на то, какие столбцы могут быть запрошены, с какими типами ограничений, например, столбцы ключа раздела могут быть ограничены с = и IN. ERDDAP™ Отправляет некоторые ограничения Кассандре и применяет все ограничения после получения данных от Кассандры. Чтобы помочь ERDDAP™ Эффективно работайте с Кассандрой, вам нужно указать [&lt;раздел Ключевые имена источников (#partitionkeysourcenames) [&lt;clusterColumnSourceNames&gt; (#clustercolumnsourcenames) и [&lt;indexColumnSourceNames&gt; (#indexcolumnsourcenames) в datasets.xml Для этого набора данных. Это самые важные способы помочь ERDDAP™ Эффективная работа с Кассандрой. Если ты не скажешь ERDDAP™ Эта информация, набор данных будет болезненно медленным. ERDDAP™ Используйте тонны ресурсов Кассандры.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="partitionkeysourcenames">&lt;раздел KeySourceNames&gt;<a href="#partitionkeysourcenames" class="hash-link" aria-label="Прямая ссылка на&lt;раздел KeySourceNames&gt;" title="Прямая ссылка на&lt;раздел KeySourceNames&gt;" translate="no">​</a></h4>
<p>Поскольку ключи раздела играют центральную роль в таблицах Кассандры, ERDDAP™ Необходимо знать их sourceName s и, при необходимости, другая информация о том, как с ними работать.</p>
<ul>
<li class="">Вы ДОЛЖНЫ указать раздельный список имен источников ключей раздела в datasets.xml через&lt;раздел Ключевые имена источников.
Простой пример,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;partitionKeySourceNames&gt;station, deviceid&lt;partitionKeySourceNames&gt;  </span><br></span></code></pre></div></div>
<p>Более сложный пример,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;partitionKeySourceNames&gt;deviceid=1007, date/sampletime/1970-01-01&lt;partitionKeySourceNames&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">TimeStamp Partition Keys - ключи раздела Если один из столбцов ключа раздела представляет собой столбец метки времени, который имеет более грубую версию другого столбца метки времени, укажите это через
*Разработчик: KeySourcName/otherColumnSourceName time\_precision *<br>
<!-- -->где time\_precision является одним из <a href="#time_precision" class=""> time\_precision </a> Струны, используемые в других местах ERDDAP .
The Trailing Z в оригинале time\_precision строка является по умолчанию, поэтому не имеет значения, является ли time\_precision Строка заканчивается на Z или нет.
Например, ERDDAP™ будет интерпретировать дату/образец времени/1970-01-01 как &quot;Ограничения по срокам могут быть установлены на основе ограничений по времени отбора проб с использованием этого метода. time\_precision &quot; Фактическое преобразование ограничений является более сложным, но это общий обзор.
<strong>Используйте это, когда это уместно.</strong> Это позволяет ERDDAP™ Эффективно работать с Кассандрой. Если эта связь между столбцами существует в таблице Кассандры, и вы не говорите ERDDAP™ Набор данных будет болезненно медленным ERDDAP™ Используйте тонны ресурсов Кассандры.</li>
<li class="">сингл Ключи раздела ценностей - Если вы хотите An ERDDAP™ набор данных для работы только с одним значением одного ключа раздела, указать <em>Раздел KeySourceName = значение</em> .
Не используйте цитаты для числового столбца, например, deviceid=1007
Используйте цитаты для столбца строки, например, stationid = &quot;Point Pinos&quot;</li>
<li class="">Dataset Default-Sорт-ордер Порядок ключа раздела&lt; dataVariable &quot;Внутри&quot; datasets.xml определяет порядок сортировки результатов по умолчанию от Кассандры. Конечно, пользователи могут запросить другой порядок сортировки для данного набора результатов, приложив orderBy  (&quot; <em>разделенный на запятые список переменных</em> &quot;) до конца своего запроса.</li>
<li class="">По умолчанию Кассандра и ERDDAP™ обращаться с названиями колонок бесчувственным образом. Но если вы установите <a href="#case-sensitivity" class="">Обсуждение NameQuotes</a> на &quot;, ERDDAP™ будет относиться к названиям колонок Кассандры в индивидуальном порядке.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="partitionkeycsv">&lt;раздел KeyCSV&gt;<a href="#partitionkeycsv" class="hash-link" aria-label="Прямая ссылка на&lt;раздел KeyCSV&gt;" title="Прямая ссылка на&lt;раздел KeyCSV&gt;" translate="no">​</a></h4>
<p>Если это указано, ERDDAP™ Он будет использовать его вместо того, чтобы просить Кассандру о разделе. Ключевая информация каждый раз при перезагрузке набора данных. Это дает список различных значений ключа раздела, в том порядке, в котором они будут использоваться. Время должно быть указано как секунды с 197001-01T00:00:00Z. Но есть также два специальных альтернативных способа указать время. (Каждый кодируется как строка) :</p>
<ol>
<li class="">время (AISO8601 Время)   (Может быть закодирована как строка)</li>
<li class="">&quot;время (anISO8601StartTime, strideSeconds, stopTime) &quot; (должны быть закодированы как строка)<br>
<!-- -->останавливаться Время может быть ISO8601 Время или &quot; now- Время суток (например, &quot; now- 3 минуты&quot;) .
останавливаться Время не должно быть точным совпадением начала. Время + x шагов.
Строка со временем () значение расширяется на несколько строк перед каждым запросом, поэтому список разделов Ключи всегда могут быть идеально актуальными.
Например,</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;partitionKeyCSV&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    deviceid,date</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1001,&quot;times(2014-11-01T00:00:00Z, 86400, 2014-11-02T00:00:00Z)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1007,&quot;time(2014-11-07T00:00:00Z)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1008,time(2014-11-08T00:00:00Z)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1009,1.4154912E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/partitionKeyCSV&gt;</span><br></span></code></pre></div></div>
<p>Расширяет эту таблицу комбинаций ключей раздела:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    deviceid,date</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1001,1.4148E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1001,1.4148864E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1007,1.4153184E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1008,1.4154048E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1009,1.4154912E9 </span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="clustercolumnsourcenames">&lt;clusterColumnSourceNames&gt;<a href="#clustercolumnsourcenames" class="hash-link" aria-label="Прямая ссылка на&lt;clusterColumnSourceNames&gt;" title="Прямая ссылка на&lt;clusterColumnSourceNames&gt;" translate="no">​</a></h4>
<p>Кассандра принимает SQL-подобные ограничения на кластерные столбцы, которые образуют вторую часть первичного ключа. (после ключа раздела (s) ) . Поэтому важно, чтобы вы определили эти столбцы через&lt;clusterColumnSourceNames. Это позволяет ERDDAP™ Эффективно работать с Кассандрой. Если есть столбцы кластера и вы не говорите ERDDAP Набор данных будет болезненно медленным ERDDAP™ Используйте тонны ресурсов Кассандры.</p>
<ul>
<li class="">Например,&lt;clusterColumnSourceNames <em>myClusterColumn1, myClusterColumn2</em> &lt;/clusterColumnИсточники</li>
<li class="">Если таблица Кассандры не имеет кластерных столбцов, не укажите&lt;clusterColumnSourceNames&gt; или указать его без значения.</li>
<li class="">По умолчанию Кассандра и ERDDAP™ обращаться с названиями колонок бесчувственным образом. Но если вы установите <a href="#case-sensitivity" class="">Обсуждение NameQuotes</a> на &quot;, ERDDAP™ Мы будем относиться к названиям колонок Кассандра деликатным образом.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="indexcolumnsourcenames">&lt;indexColumnSourceNames&gt;<a href="#indexcolumnsourcenames" class="hash-link" aria-label="Прямая ссылка на&lt;indexColumnSourceNames&gt;" title="Прямая ссылка на&lt;indexColumnSourceNames&gt;" translate="no">​</a></h4>
<p>Кассандра принимает &#x27;=&#x27; ограничения на столбцы вторичных индексов, которые являются столбцами, для которых вы явно создали индексы.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    CREATE INDEX *indexName* ON *keyspace.tableName* (*columnName*);  </span><br></span></code></pre></div></div>
<p>(Да, скобки необходимы.)<br>
<!-- -->Поэтому очень полезно, если вы идентифицируете эти столбцы через&lt;IndexColumnSourceNames. Это позволяет ERDDAP™ Эффективно работать с Кассандрой. Если есть индексные столбцы и вы не знаете ERDDAP Некоторые запросы будут ненужными, болезненно медленными. ERDDAP™ Используйте тонны ресурсов Кассандры.</p>
<ul>
<li class="">Например,&lt;IndexColumnSourceNames <em>myIndexColumn1, myIndexColumn2</em> &lt;/indexColumnИмена источников</li>
<li class="">Если таблица Кассандры не имеет индексных столбцов, не указывайте&lt;indexColumnSourceNames&gt; или указать его без значения.</li>
<li class="">Предупреждение: индексы Кассандры не похожи на индексы баз данных. Индексы Кассандры помогают &#x27;=&#x27; ограничения. И они только <a href="https://cassandra.apache.org/doc/latest/cql/indexes.html" target="_blank" rel="noopener noreferrer" class="">рекомендованный</a> для столбцов, которые имеют гораздо меньше различных значений, чем общие значения.</li>
<li class="">По умолчанию Кассандра и ERDDAP™ обращаться с названиями колонок бесчувственным образом. Но если вы установите <a href="#case-sensitivity" class="">Обсуждение NameQuotes</a> на &quot;, ERDDAP™ Мы будем относиться к названиям колонок Кассандра деликатным образом.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="maxrequestfraction">&lt;maxRequestFraction&gt;<a href="#maxrequestfraction" class="hash-link" aria-label="Прямая ссылка на&lt;maxRequestFraction&gt;" title="Прямая ссылка на&lt;maxRequestFraction&gt;" translate="no">​</a></h4>
<p>Когда ERDDAP™   (повторять) загружает набор данных, ERDDAP™ Получает от Кассандры список различных комбинаций ключей раздела. Для огромного набора данных количество комбинаций будет огромным. Если вы хотите запретить пользователям запрашивать большую часть или весь набор данных (или запрос, который требует ERDDAP™ загружать большую часть или все данные для дальнейшей фильтрации;) Вы можете сказать ERDDAP™ разрешать запросы, которые уменьшают количество комбинаций на некоторое количество&lt;maxRequestFraction&gt; - число с плавающей точкой между 1e-10 (Это означает, что для запроса не может потребоваться более 1 комбинации в миллиарде.) и 1 (по умолчанию, что означает, что запрос может быть для всего набора данных) .
Например, если набор данных имеет 10000 различных комбинаций ключей раздела и maxRequestFraction установлен на 0,1,
Затем запросы, которые требуют данных из 1001 или более комбинаций, будут генерировать сообщение об ошибке.
Запросы, требующие данных из 1000 или менее комбинаций, будут разрешены.</p>
<p>Как правило, чем больше набор данных, тем ниже вы должны установить&lt;maxRequestFraction. Таким образом, вы можете установить его на 1 для небольшого набора данных, 0,1 для среднего набора данных, 0,01 для большого набора данных и 0,0001 для огромного набора данных.</p>
<p>Такой подход далек от совершенства. Это приведет к тому, что некоторые разумные запросы будут отклонены, а некоторые слишком большие запросы будут разрешены. Но это сложная проблема, и это решение намного лучше, чем ничего.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-subsetvariables">Кассандра subsetVariables<a href="#cassandra-subsetvariables" class="hash-link" aria-label="Прямая ссылка наКассандра subsetVariables" title="Прямая ссылка наКассандра subsetVariables" translate="no">​</a></h4>
<p>Как и в других наборах данных EDDTable, вы можете указать список, разделенный запятой.&lt; dataVariable &gt; destinationName s в глобальном атрибуте под названием &quot; <a href="#subsetvariables" class=""> subsetVariables </a> &quot;для идентификации переменных, имеющих ограниченное число значений. Затем набор данных будет иметь веб-страницу .subset и показывать списки различных значений для этих переменных в выпадающих списках на многих веб-страницах.</p>
<p>Включая только переменные ключа раздела и статические столбцы в списке STRONGLY E NCO Ураган. Cassandra сможет генерировать список различных комбинаций очень быстро и легко при каждой перезагрузке набора данных. Одним из исключений являются клавиши разделов с временными метками, которые являются грубыми версиями некоторых других столбцов с временными метками - вероятно, лучше оставить их в списке. subsetVariables Поскольку существует большое количество значений, они не очень полезны для пользователей.</p>
<p>Если вы включите в список нестатические переменные, то это будет <strong>очень</strong> вычислительно дорого для Кассандры каждый раз, когда набор данных перезагружается, потому что ERDDAP™ Нужно просмотреть каждый ряд набора данных, чтобы получить информацию. На самом деле, запрос, скорее всего, провалится. Так что, за исключением очень маленьких наборов данных, это очень опасно.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-datatypes">Кассандра DataTypes<a href="#cassandra-datatypes" class="hash-link" aria-label="Прямая ссылка наКассандра DataTypes" title="Прямая ссылка наКассандра DataTypes" translate="no">​</a></h4>
<p>Потому что есть некоторая двусмысленность в том, что <a href="https://cassandra.apache.org/doc/latest/cql/types.html" target="_blank" rel="noopener noreferrer" class="">Типы данных Кассандры</a> Карта, на которой ERDDAP™ Типы данных, необходимо указать [&lt;DataType&gt; (#тип данных) Для каждого из них [&lt; dataVariable &gt; (#datavariable) рассказывать ERDDAP™ Какой тип данных использовать. Стандарт ERDDAP™ данные Типы (и наиболее распространенные соответствующие типы данных Cassandra) это:</p>
<ul>
<li class=""><a href="#boolean-data" class="">булевый</a>   (булевый) который ERDDAP™ как хранить байты</li>
<li class="">байт (Int, если диапазон от -128 до 127)</li>
<li class="">короткий (int, если диапазон составляет от -32768 до 32767)</li>
<li class="">инт (int, counter?, varint?, если диапазон составляет -2147483648 - 2147483647)</li>
<li class="">длинный (Bigint, counter?, varint?, если диапазон составляет -9223372036854775808 до 9223372036854775807)</li>
<li class="">плавать (плавать)</li>
<li class="">двойной (двойной, десятичный (с возможной потерей точности) метка времени)</li>
<li class="">шар (асци или текст, если они никогда не имеют более 1 символа)</li>
<li class="">Струна (acii, text, varchar, inet, uuid, timeuuid, blob, map, set, list?)</li>
</ul>
<p>Кассандра <a href="#cassandra-timestamp-data" class="">временная метка</a> Особый случай: использование ERDDAP Двойные данные Тип.</p>
<p>Если вы указали String dataType ERDDAP™ Для карты Кассандры, набора или списка карта, набор или список на каждой строке Кассандры будут преобразованы в одну строку на одной строке в одной строке. ERDDAP™ столик. ERDDAP™ Имеет альтернативную систему для списков; см. ниже.</p>
<p><em>тип</em> Списки - ERDDAP [&lt;DataType&gt; (#тип данных) Оригинальное название: Cassandra dataVariable может включать в себя регулярные ERDDAP™ данные Типы (смотреть выше) плюс несколько специальных типов данных, которые могут использоваться для столбцов списка Cassandra: booleanList, byteList, ubyteList, shortList, ushortList, intList, uintList, longList, ulongList, floatList, doubleList, charList, StringList. Когда один из этих столбцов списка находится в результатах, передаваемых на ERDDAP™ Каждая строка исходных данных будет расширена до списка. размер () строки данных в ERDDAP Простые данные Типы (Например, Int) В этой строке исходных данных будет дублироваться список. размер () Время. Если результаты содержат более одной переменной списка, все списки в заданной строке данных должны иметь одинаковый размер и должны быть «параллельными» списками. ERDDAP™ будет генерировать сообщение об ошибке. Например, для измерений токов от ADCP,
глубина \[ 0 \] uCurrent \[ 0 \] vCurrent \[ 0 \] и zCurrent \[ 0 \] Все они взаимосвязаны и
глубина \[ 1 1 \] uCurrent \[ 1 1 \] vCurrent \[ 1 1 \] и zCurrent \[ 1 1 \] Все они связаны,...
Альтернативно, если вы не хотите ERDDAP™ Чтобы расширить список на несколько строк в ERDDAP™ стол, указать строку как dataVariable данные Тип так что весь список будет представлен как одна струна на одну строку в ERDDAP .</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-timestamp-data">Cassandra TimeStamp Данные<a href="#cassandra-timestamp-data" class="hash-link" aria-label="Прямая ссылка наCassandra TimeStamp Данные" title="Прямая ссылка наCassandra TimeStamp Данные" translate="no">​</a></h4>
<p>Данные Кассандры всегда в курсе часовых поясов. Если вы вводите данные метки времени без указания часовой зоны, Кассандра предполагает, что метка времени использует местный часовой пояс.</p>
<p>ERDDAP™ поддерживает данные метки времени и всегда представляет данные в Zulu часовой пояс GMT. Поэтому, если вы вводите данные метки времени в Кассандре с использованием часового пояса, отличного от часового пояса. Zulu /GMT, помните, что вам нужно выполнить все запросы для данных временных меток ERDDAP™ используя Zulu часовой пояс GMT. Так что не удивляйтесь, когда значения метки времени, которые выходят из ERDDAP сдвигаются на несколько часов из-за перехода часового пояса с локального на Zulu Время GMT.</p>
<ul>
<li class="">в ERDDAP ? datasets.xml в&lt; dataVariable &gt; tag for a timetamp variable, set</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;dataType&gt;double&lt;/dataType&gt;  </span><br></span></code></pre></div></div>
<p>и в&lt; addAttributes набор</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;att name=&quot;units&quot;&gt;seconds since 1970-01-01T00:00:00Z&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Предложение: Если данные представляют собой временной диапазон, полезно, чтобы значения метки времени относились к центру подразумеваемого временного диапазона. (Например, полдень) . Например, если у пользователя есть данные за 2010-03-26T13:00Z из другого набора данных, и ему нужны самые близкие данные из этого набора данных Cassandra, которые имеют данные за каждый день, то данные за 2010-03-26T12:00Z (представление данных Кассандры на эту дату) Очевидно, что лучший (В отличие от полуночи до или после, где менее очевидно, что лучше.) .</li>
<li class="">ERDDAP™ имеет полезность для <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html" target="_blank" rel="noopener noreferrer" class="">Преобразовать числовой Время в/из струнного времени</a> .</li>
<li class="">Видишь? <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html#erddap" target="_blank" rel="noopener noreferrer" class="">Как ERDDAP™ Сделки со временем</a> .
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="integer-nulls">целые нули<a href="#integer-nulls" class="hash-link" aria-label="Прямая ссылка нацелые нули" title="Прямая ссылка нацелые нули" translate="no">​</a></h4>
<p>Кассандра поддерживает нулевые в Cassandra int ( ERDDAP™ инт) большой ( ERDDAP™ длинный) колонны, но ERDDAP™ не поддерживает истинные нули для любого целого типа данных.
По умолчанию целые числа Cassandra будут преобразованы в ERDDAP™ 2147483647 для колонн внутри, или 9223372036854775807 для длинных колонн. Они будут отображаться как «NaN» в некоторых типах файлов вывода текста. (Например, .csv) &quot;&quot; в других типах файлов вывода текста (Например, .htmlTable ) и конкретное число (2147483647 для отсутствующих значений int) В других типах файлов (Например, бинарные файлы, такие как .nc и коврик) . Пользователь может искать строки данных с этим типом отсутствующего значения, ссылаясь на «NaN», например, «&amp;windSpeed=NaN».</p>
<p>Если вы используете какое-либо другое целочисленное значение для указания отсутствующих значений в таблице Кассандра, пожалуйста, укажите это значение в таблице Кассандра. datasets.xml :</p>
<blockquote>
<p>&lt;att name=&quot;missing\_value&quot; <a href="#attributetype" class="">type=&quot;int&quot;</a>\&gt;-999&lt;/att&gt;</p>
</blockquote>
<p>Для колонок с плавающей точкой Кассандры нули преобразуются в NaNs. ERDDAP . Для типов данных Cassandra, которые преобразуются в строки ERDDAP™ Нули превращаются в пустые струны. Это не должно быть проблемой.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="warning-re-preparing-already-prepared-query">Предупреждение: переподготовка уже подготовленного запроса<a href="#warning-re-preparing-already-prepared-query" class="hash-link" aria-label="Прямая ссылка наПредупреждение: переподготовка уже подготовленного запроса" title="Прямая ссылка наПредупреждение: переподготовка уже подготовленного запроса" translate="no">​</a></h4>
<ul>
<li class="">«Предупреждение: переподготовка уже подготовленного запроса» <em>кот</em> /logs/catalina.out (или другой файл журнала Tomcat)<br>
<!-- -->В документации Кассандры говорится, что есть проблемы, если один и тот же запрос дважды превращается в подготовленное заявление. (или более) . (Посмотри. <a href="https://datastax-oss.atlassian.net/browse/JAVA-236" target="_blank" rel="noopener noreferrer" class="">отчет об ошибках</a> .) Чтобы Кассандра не сошла с ума, ERDDAP™ кэшировать все подготовленные заявления, чтобы можно было их повторно использовать. Этот тайник потерян, если / когда Tomcat / ERDDAP™ Перезапущен, но я думаю, что это нормально, потому что подготовленные заявления связаны с данной сессией. (между Java и Кассандра) которые также утрачены. Вы можете увидеть эти сообщения. Я не знаю другого решения. К счастью, это предупреждение, а не ошибка. (Хотя Кассандра угрожает, что это может привести к проблемам с производительностью.) .</li>
</ul>
<p>Кассандра утверждает, что подготовленные заявления хороши навсегда. ERDDAP подготовленные заявления никогда не должны становиться устаревшими/недействительными. Если это не так, и вы получаете ошибки о том, что некоторые готовые заявления являются устаревшими / недействительными, то вам нужно перезапустить. ERDDAP™ очищать ERDDAP Тайник подготовленных заявлений.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-security">Кассандра Безопасность<a href="#cassandra-security" class="hash-link" aria-label="Прямая ссылка наКассандра Безопасность" title="Прямая ссылка наКассандра Безопасность" translate="no">​</a></h4>
<p>Видишь? <a href="https://cassandra.apache.org/doc/latest/operating/security.html" target="_blank" rel="noopener noreferrer" class="">Защитить Кассандру</a></p>
<p>При работе с Cassandra вы должны делать все максимально безопасно и надежно, чтобы не позволить злоумышленнику повредить вашу Cassandra или получить доступ к данным, к которым они не должны иметь доступ. ERDDAP™ Он также пытается делать вещи безопасным способом.</p>
<ul>
<li class="">Мы призываем вас создать ERDDAP™ для подключения к Cassandra в качестве пользователя Cassandra, который имеет доступ только к <strong>соответствующий</strong> стол (s) У них есть только привилегии чтения.</li>
<li class="">Мы рекомендуем вам установить связь с ERDDAP™ Кассандре, чтобы она<!-- -->
<ul>
<li class="">всегда использует SSL,</li>
<li class="">Разрешает соединение только с одного IP-адреса (или один блок адресов) и от одного ERDDAP™ пользователя и</li>
<li class="">Передаёт пароли только в хэшированной форме MD5.</li>
</ul>
</li>
<li class="">\[ Знать проблемы \] Свойства соединения (Включая пароль!) Сохраняется как простой текст в datasets.xml . Мы не нашли способа разрешить администратору ввести пароль Кассандры во время ERDDAP Стартап в Tomcat (Что происходит без пользовательского ввода) Таким образом, пароль должен быть доступен в файле. Чтобы сделать это более безопасным:</li>
<li class="">Ты (тот ERDDAP™ администратор) должен быть собственником datasets.xml Прочитайте и напишите доступ.</li>
<li class="">Создайте группу, в которую входит только пользователь=tomcat. Используйте chgrp, чтобы сделать эту группу datasets.xml Только читать привилегии.</li>
<li class="">Используйте chmod для присвоения привилегий o-rwx (Нет возможности читать или писать для «других» пользователей) для datasets.xml .</li>
<li class="">Когда ERDDAP™ , пароль и другие свойства соединения хранятся в «частном» Java переменных.</li>
<li class="">Запросы клиентов анализируются и проверяются на действительность, прежде чем генерировать запросы CQL для Cassandra.</li>
<li class="">Запросы в Cassandra делаются с помощью CQL Bound/PreparedStatements, чтобы предотвратить инъекцию CQL. В любом случае, Кассандра по своей природе менее восприимчива к инъекциям CQL, чем традиционные базы данных. <a href="https://en.wikipedia.org/wiki/SQL_injection" target="_blank" rel="noopener noreferrer" class="">SQL инъекция</a> .
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-speed">Кассандра Спид<a href="#cassandra-speed" class="hash-link" aria-label="Прямая ссылка наКассандра Спид" title="Прямая ссылка наКассандра Спид" translate="no">​</a></h4>
<p>Кассандра может быть быстрой или медленной. Есть несколько вещей, которые вы можете сделать, чтобы сделать это быстро:</p>
<ul>
<li class="">В целом -
Характер CQL заключается в том, что запросы <a href="https://en.wikipedia.org/wiki/Declarative_programming" target="_blank" rel="noopener noreferrer" class="">декларативный</a> . Они просто указывают, чего хочет пользователь. Они не содержат спецификации или подсказки о том, как следует обрабатывать или оптимизировать запрос. Так что нет способа для ERDDAP™ генерировать запрос таким образом, чтобы помочь Кассандре оптимизировать запрос; (или каким-либо образом определяет, как должен обрабатываться запрос) . В общем, администратор Кассандры должен все настроить. (Например, индексы) оптимизировать под определенные типы запросов.
 </li>
<li class="">Указание столбцов временных меток, которые связаны с ключами разделов с более высокой точностью временных меток [&lt;раздел Ключевые имена источников (#partitionkeysourcenames) Это самый важный способ помочь ERDDAP™ Эффективная работа с Кассандрой. Если эти отношения существуют в столе Кассандры и вы не говорите ERDDAP™ Набор данных будет болезненно медленным ERDDAP™ Используйте тонны ресурсов Кассандры.
 </li>
<li class="">Определение столбцов кластера через [&lt;clusterColumnSourceNames&gt; (#clustercolumnsourcenames) Это второй самый важный способ помочь. ERDDAP™ Эффективная работа с Кассандрой. Если есть столбцы кластера и вы не говорите ERDDAP , большое подмножество возможных запросов данных будет ненужным, болезненно медленным ERDDAP™ Используйте тонны ресурсов Кассандры.
 </li>
<li class="">делать <a href="https://cassandra.apache.org/doc/latest/cql/indexes.html" target="_blank" rel="noopener noreferrer" class="">Индексы</a> Для обычно ограниченных переменных -
Вы можете ускорить несколько запросов, создав индексы для столбцов Cassandra, которые часто ограничены ограничениями «=».</li>
</ul>
<p>Кассандра не может создавать индексы для списка, набора или столбцов карт.</p>
<ul>
<li class="">Указание колонок индексов через [&lt;indexColumnSourceNames&gt; (#indexcolumnsourcenames) Это важный способ помочь ERDDAP™ Эффективная работа с Кассандрой. Если есть индексные столбцы и вы не знаете ERDDAP Некоторые запросы данных будут ненужными, болезненно медленными. ERDDAP™ Используйте тонны ресурсов Кассандры.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-stats">Кассандра Статс<a href="#cassandra-stats" class="hash-link" aria-label="Прямая ссылка наКассандра Статс" title="Прямая ссылка наКассандра Статс" translate="no">​</a></h4>
<ul>
<li class=""><a href="#cassandra-stats" class="">«Cassandra stats» Диагностические сообщения</a> - Для каждого ERDDAP™ запрос пользователя к набору данных Cassandra, ERDDAP™ напечатает строку в файле журнала, <em>BigParent Директория</em> /logs/log.txt, с некоторой статистикой, связанной с запросом, например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        \\* Cassandra stats: partitionKeyTable: 2/10000=2e-4 &lt; 0.1 nCassRows=1200 nErddapRows=12000 nRowsToUser=7405  </span><br></span></code></pre></div></div>
<p>Используя цифры в приведенном выше примере, это означает:</p>
<ul>
<li class="">Когда ERDDAP™ последний (повторять) Загрузил этот набор данных, - сказал Кассандра. ERDDAP™ 10000 различных комбинаций ключей раздела. ERDDAP™ Кэшировать все различные комбинации в файле.</li>
<li class="">Из-за ограничений пользователя, ERDDAP™ 2 комбинации из 10000, которые могут иметь желаемые данные. Итак, ERDDAP™ Он сделает 2 звонка Кассандре, по одному для каждой комбинации ключей раздела. (Этого требует Кассандра.) Очевидно, что это проблематично, если большой набор данных имеет большое количество комбинаций ключей раздела, и данный запрос не сильно уменьшает это. Вы можете потребовать, чтобы каждый запрос уменьшил ключевое пространство, установив&lt;maxRequestFraction&gt; (#maxquestфракция) . Здесь 2/10000=2e-4, что меньше, чем maxRequestFraction (0,1) Таким образом, просьба была удовлетворена.</li>
<li class="">После применения ограничений на клавиши раздела, <a href="#clustercolumnsourcenames" class="">колонны кластеров</a> и <a href="#indexcolumnsourcenames" class="">столбцы индексов</a> которые были посланы ERDDAP™ Кассандра вернула 1200 строк данных ERDDAP™ в итоговой таблице.</li>
<li class="">Результат Сет должен был иметь <a href="#cassandra-datatypes" class="">данные Тип = <em>какой-то</em> Список</a> колонны (В среднем 10 пунктов в списке) Потому что ERDDAP™ Расширил 1200 рядов из Кассандры на 12000 рядов в ERDDAP .</li>
<li class="">ERDDAP™ Мы всегда применяем все ограничения пользователя к данным Cassandra. В этом случае ограничения, с которыми Кассандра не справилась, сократили число рядов до 7405. Это количество строк, отправленных пользователю.</li>
</ul>
<p>Наиболее важным использованием этих диагностических сообщений является обеспечение того, чтобы ERDDAP™ Он делает то, что вы думаете, что он делает. Если это не так (Например, не уменьшается ли количество различных комбинаций, как ожидается?) Затем вы можете использовать информацию, чтобы попытаться выяснить, что происходит не так.
 </p>
<ul>
<li class="">Исследования и эксперименты, чтобы найти и установить лучше.&lt;ConnectionProperty&gt; (#cassandra-подключение) С.
 </li>
<li class="">Проверьте скорость сетевого соединения между Cassandra и ERDDAP . Если соединение медленное, посмотрите, сможете ли вы его улучшить. Лучшая ситуация – это когда ERDDAP™ работает на сервере, подключенном к тому же (быстро) Переключайтесь как сервер, на котором работает узел Cassandra, к которому вы подключаетесь.
 </li>
<li class="">Пожалуйста, будьте терпеливы. Внимательно прочитайте информацию здесь и в документации Кассандры. Эксперимент. Проверьте свою работу. Если Кассандра- ERDDAP™ Связь по-прежнему медленнее, чем вы ожидаете, пожалуйста, включите схему стола Кассандры. ERDDAP™ кусок datasets.xml Увидеть наш <a class="" href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a> .
 </li>
<li class="">Если все остальное провалится,
Подумайте о хранении данных в коллекции NetCDF v3 .nc файлы (особенно .nc Файлы, которые используют <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Дискретная геометрия выборки (DSG) </a> Структуры данных Ragged Array и так могут обрабатываться ERDDAP ? <a href="#eddtablefromnccffiles" class="">EDDTable FromNcCFFiles</a> ) . Если они логически организованы (Каждый с данными для куска пространства и времени) , ERDDAP™ Они могут быстро извлекать из них данные.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromcassandra-skeleton-xml">EDDTable FromCassandra скелет XML<a href="#eddtablefromcassandra-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDTable FromCassandra скелет XML" title="Прямая ссылка наEDDTable FromCassandra скелет XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromCassandra&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;ipAddress&gt;</a>...&lt;/ipAddress&gt;<br>
<!-- -->        &lt;!-- The Cassandra URL without the port number, for example,<br>
<!-- -->        127.0.0.1 REQUIRED. --&gt;<br>
<!-- -->      &lt;<a href="#cassandra-connectionproperty" class="">connectionProperty</a> name=&quot;<em>name</em>&quot;&gt;<em>value</em>&lt;/connectionProperty&gt;<br>
<!-- -->        &lt;!-- The names (for example, &quot;readTimeoutMillis&quot;) and values<br>
<!-- -->          of the Cassandra properties that ERDDAP™ needs to change.<br>
<!-- -->          0 or more. --&gt;<br>
<!-- -->      &lt;keyspace&gt;...&lt;/keyspace&gt; &lt;!-- The name of the keyspace that has<br>
<!-- -->        the table. REQUIRED. --&gt;<br>
<!-- -->      &lt;tableName&gt;...&lt;/tableName&gt; &lt;!-- The name of the table, default = &quot;&quot;.<br>
<!-- -->        REQUIRED. --&gt;<br>
<!-- -->      <a href="#partitionkeysourcenames" class="">&lt;partitionKeySourceNames&gt;</a>...&lt;partitionKeySourceNames&gt;<br>
<!-- -->        &lt;!-- REQUIRED. --&gt;<br>
<!-- -->      <a href="#clustercolumnsourcenames" class="">&lt;clusterColumnSourceNames&gt;</a>...&lt;clusterColumnSourceNames&gt;<br>
<!-- -->        &lt;!-- OPTIONAL. --&gt;<br>
<!-- -->      <a href="#indexcolumnsourcenames" class="">&lt;indexColumnSourceNames&gt;</a>...&lt;indexColumnSourceNames&gt; &lt;!-- OPTIONAL. --&gt;<br>
<!-- -->      <a href="#maxrequestfraction" class="">&lt;maxRequestFraction&gt;</a>...&lt;maxRequestFraction&gt;<br>
<!-- -->        &lt;!-- OPTIONAL double between 1e-10 and 1 (the default). --&gt;<br>
<!-- -->      <a href="#case-sensitivity" class="">&lt;columnNameQuotes&gt;</a>...&lt;columnNameQuotes&gt; &lt;!-- OPTIONAL.<br>
<!-- -->        Options: \[nothing\] (the default) or &quot;. --&gt;<br>
<!-- -->      <a href="#sourceneedsexpandedfp_eq" class="">&lt;sourceNeedsExpandedFP\_EQ&gt;</a>true(default)|false&lt;/sourceNeedsExpandedFP\_EQ&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more.<br>
<!-- -->         Each dataVariable MUST include a <a href="#datatype" class="">&lt;dataType&gt;</a> tag. See<br>
<!-- -->           <a href="#cassandra-datatypes" class="">Cassandra DataTypes</a>.<br>
<!-- -->         For <a href="#cassandra-timestamp-data" class="">Cassandra timestamp columns</a>, set dataType=double and<br>
<!-- -->         units=seconds since 1970-01-01T00:00:00Z --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromdapsequence">EDDTable FromDapSequence<a href="#eddtablefromdapsequence" class="hash-link" aria-label="Прямая ссылка наEDDTable FromDapSequence" title="Прямая ссылка наEDDTable FromDapSequence" translate="no">​</a></h3>
<p><a href="#eddtablefromdapsequence" class=""> <strong>EDDTable FromDapSequence</strong> </a> обрабатывает переменные в 1- и 2-уровневых последовательностях <a href="https://www.opendap.org/" target="_blank" rel="noopener noreferrer" class=""> DAP </a> Серверы, такие как DAP Пер (был в<a href="https://www.pmel.noaa.gov/epic/software/dapper/%D0%A2%D0%B5%D0%BF%D0%B5%D1%80%D1%8C" target="_blank" rel="noopener noreferrer" class="">https://www.pmel.noaa.gov/epic/software/dapper/Теперь</a> прекращено) .</p>
<ul>
<li class="">
<p>Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Затем вы можете отредактировать это, чтобы настроить его. Вы можете собрать необходимую информацию, просмотрев файлы DDS и DAS исходного набора данных в своем браузере (добавляя .das и .dds в исходный набор данных). sourceUrl (примером является<a href="https://dapper.pmel.noaa.gov/dapper/epic/tao%5C%5C_time%5C%5C_series.cdp.dds" target="_blank" rel="noopener noreferrer" class="">https://dapper.pmel.noaa.gov/dapper/epic/tao\\_time\\_series.cdp.dds</a>).</p>
</li>
<li class="">
<p>Переменная находится в DAP последовательность, если ответ .dds указывает, что структура данных, удерживающая переменную, является «последовательностью». (бесчувственный случай) .</p>
</li>
<li class="">
<p>В некоторых случаях вы увидите последовательность в последовательности, 2-уровневую последовательность — EDDTable FromDapSequence также обрабатывает их.</p>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromdapsequence-skeleton-xml">EDDTableFromDapSequence скелет XML<a href="#eddtablefromdapsequence-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDTableFromDapSequence скелет XML" title="Прямая ссылка наEDDTableFromDapSequence скелет XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromDapSequence&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;outerSequenceName&gt;...&lt;/outerSequenceName&gt;<br>
<!-- -->        &lt;!-- The name of the outer sequence for DAP sequence data.<br>
<!-- -->        This tag is REQUIRED. --&gt;<br>
<!-- -->      &lt;innerSequenceName&gt;...&lt;/innerSequenceName&gt;<br>
<!-- -->        &lt;!-- The name of the inner sequence for DAP sequence data.<br>
<!-- -->        This tag is OPTIONAL; use it if the DAP data is a two level<br>
<!-- -->        sequence. --&gt;<br>
<!-- -->      <a href="#sourceneedsexpandedfp_eq" class="">&lt;sourceNeedsExpandedFP\_EQ&gt;</a>true(default)|false&lt;/sourceNeedsExpandedFP\_EQ&gt;<br>
<!-- -->      <a href="#sourcecanconstrainstringeqne" class="">&lt;sourceCanConstrainStringEQNE&gt;</a>true|false&lt;/sourceCanConstrainStringEQNE&gt;<br>
<!-- -->      <a href="#sourcecanconstrainstringgtlt" class="">&lt;sourceCanConstrainStringGTLT&gt;</a>true|false&lt;/sourceCanConstrainStringGTLT&gt;<br>
<!-- -->      <a href="#sourcecanconstrainstringregex" class="">&lt;sourceCanConstrainStringRegex&gt;</a>...&lt;/sourceCanConstrainStringRegex&gt;<br>
<!-- -->      &lt;skipDapperSpacerRows&gt;...&lt;/skipDapperSpacerRows&gt;<br>
<!-- -->        &lt;!-- skipDapperSpacerRows specifies whether the dataset<br>
<!-- -->        will skip the last row of each innerSequence other than the<br>
<!-- -->        last innerSequence (because Dapper servers put NaNs in the<br>
<!-- -->        row to act as a spacer).  This tag is OPTIONAL. The default<br>
<!-- -->        is false.  It is recommended that you set this to true for<br>
<!-- -->        all Dapper sources and false for all other data sources. --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->    &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromdatabase">EDDTable FromDatabase<a href="#eddtablefromdatabase" class="hash-link" aria-label="Прямая ссылка наEDDTable FromDatabase" title="Прямая ссылка наEDDTable FromDatabase" translate="no">​</a></h3>
<p><a href="#eddtablefromdatabase" class=""> <strong>EDDTable FromDatabase</strong> </a> обрабатывает данные из одной таблицы реляционных баз данных или <a href="https://en.wikipedia.org/wiki/View_(database)" target="_blank" rel="noopener noreferrer" class="">смотреть</a>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="one-table-or-view">Один столик или взгляд<a href="#one-table-or-view" class="hash-link" aria-label="Прямая ссылка наОдин столик или взгляд" title="Прямая ссылка наОдин столик или взгляд" translate="no">​</a></h4>
<p>Если данные, которые вы хотите предоставить, находятся в двух или более таблицах (и, следовательно, требуется соединение для извлечения данных из обеих таблиц одновременно.) Вы должны сделать один <a href="https://en.wikipedia.org/wiki/Denormalization" target="_blank" rel="noopener noreferrer" class="">нормализованный</a>   (уже присоединившийся) стол или <a href="https://en.wikipedia.org/wiki/View_(SQL)" target="_blank" rel="noopener noreferrer" class="">смотреть</a> со всеми данными, которые вы хотите сделать доступными в виде одного набора данных ERDDAP .</p>
<p>Для больших, сложных баз данных может иметь смысл выделить несколько кусков в виде денормализованных таблиц, каждая из которых будет представлять собой отдельный набор данных. ERDDAP .</p>
<p>Создание денормализованной таблицы для использования в ERDDAP™ Для вас это может показаться сумасшедшей идеей. Пожалуйста, доверьтесь нам. Существует несколько причин, почему ERDDAP™ Работает с денормализованными таблицами:</p>
<ul>
<li class="">Это намного проще для пользователей.
Когда ERDDAP™ Представленный набор данных представляет собой одну простую, денормализованную единую таблицу, которую очень легко понять. Большинство пользователей никогда не слышали о нормализованных таблицах, и очень немногие понимают ключи, иностранные ключи или соединения таблиц, и они почти наверняка не знают подробностей различных типов соединений или как указать SQL, чтобы сделать соединение. (или множественные соединения) Правильно. Использование денормализованной таблицы позволяет избежать всех этих проблем. Только эта причина оправдывает использование денормализованной единой таблицы для представления набора данных. ERDDAP™ пользователей.
 </li>
<li class="">Нормализованные таблицы (несколько таблиц, связанных ключевыми столбцами) Они отлично подходят для хранения данных в базе данных.
Но даже в SQL результат, который возвращается пользователю, является денормализованным. (присоединенный) Один столик. Таким образом, представляется разумным представить набор данных пользователям как огромную, денормализованную единую таблицу, из которой они затем могут запрашивать подмножества. (Например, покажите мне строки таблицы, где температура 30) .
 </li>
<li class="">Вы можете внести изменения для ERDDAP™ Не меняя своих столов.
ERDDAP™ Есть несколько требований, которые могут отличаться от того, как вы создали свою базу данных.
Например, ERDDAP™ требует, чтобы данные метки времени хранились в полях «временная метка с часовой зоной».
Составляя отдельную таблицу/обзор для ERDDAP™ Вы можете внести эти изменения, когда сделаете денормализованную таблицу для ERDDAP . Таким образом, вам не нужно вносить какие-либо изменения в свои таблицы.
 </li>
<li class="">ERDDAP™ Это позволит воссоздать структуру нормализованных таблиц.
Вы можете указать, какие столбцы данных поступают из «внешних» таблиц и, следовательно, имеют ограниченное количество различных значений. ERDDAP™ Соберет все различные комбинации значений в этих столбцах и представит их пользователям на специальной странице. Подмножество веб-страницы, которое помогает пользователям быстро выбирать подмножества набора данных. Отдельные значения для каждой колонки также показаны в выпадающих списках на других веб-страницах набора данных.
 </li>
<li class="">Денормализованная таблица делает передачу данных от вас к ERDDAP Управлять легко.
Вы являетесь экспертом для этого набора данных, поэтому имеет смысл принимать решения о том, какие таблицы и какие столбцы присоединиться и как присоединиться к ним. Так что тебе не нужно нам помогать. (Хуже того, конечные пользователи) Несколько таблиц и подробные инструкции, как присоединиться к ним, вы просто должны дать нам доступ к денормализованной таблице.
 </li>
<li class="">Денормализованная таблица обеспечивает эффективный доступ к данным.
Денормализованная форма обычно быстрее, чем нормализованная. Присоединение может быть медленным. Несколько соединений могут быть очень медленными.
 </li>
</ul>
<p>Чтобы получить данные из двух или более таблиц в базе данных ERDDAP™ Есть три варианта:
 </p>
<ul>
<li class="">Рекомендуемый вариант:
Вы можете создать файл с запятой или вкладкой с отдельным значением с данными из денормализованной таблицы.
Если набор данных огромен, то имеет смысл создать несколько файлов, каждый с сплоченным подмножеством денормализованной таблицы. (Например, данные из меньшего временного диапазона) .</li>
</ul>
<p>Главное преимущество здесь в том, что ERDDAP™ Вы сможете обрабатывать запросы пользователей на данные без каких-либо дополнительных усилий со стороны вашей базы данных. Так ERDDAP™ Это не будет бременем для вашей базы данных или риском для безопасности. Это лучший вариант при любых обстоятельствах, потому что ERDDAP™ Обычно данные из файлов можно получить быстрее, чем из базы данных. (Если конвертировать файлы .csv в .nc Файлы CF) . (Часть причины заключается в том, что ERDDAP +files - это система только для чтения и не должна иметь дело с внесением изменений при предоставлении <a href="https://en.wikipedia.org/wiki/ACID" target="_blank" rel="noopener noreferrer" class="">Ацид</a>   (Атомность, последовательность, изоляция, долговечность) .) Кроме того, вам, вероятно, не понадобится отдельный сервер, так как мы можем хранить данные на одном из наших RAID и получать к ним доступ с помощью существующего сервера. ERDDAP™ на существующем сервере.</p>
<ul>
<li class="">Окей вариант:
Вы создали новую базу данных на другом компьютере с помощью только денормализованной таблицы.
Поскольку эта база данных может быть бесплатной и открытой базой данных, такой как MariaDB, MySQL и PostgreSQL, эта опция не должна стоить много.</li>
</ul>
<p>Главное преимущество здесь в том, что ERDDAP™ Вы сможете обрабатывать запросы пользователей на данные без каких-либо дополнительных усилий со стороны вашей текущей базы данных. Так ERDDAP™ Это не будет бременем для вашей базы данных. Это также устраняет многие проблемы безопасности. ERDDAP™ У вас не будет доступа к текущей базе данных.</p>
<ul>
<li class="">
<p>Отчаянный вариант:
Мы можем соединить ERDDAP™ к вашей текущей базе данных.
Для этого вам необходимо:</p>
<ul>
<li class="">Создайте отдельную таблицу или просмотр с денормализованной таблицей данных.</li>
<li class="">Создайте пользователя «erddap», который имеет доступ только для чтения только к денормализованной таблице. (s) .
 </li>
</ul>
</li>
</ul>
<p>Это вариант, если данные меняются очень часто, и вы хотите, чтобы ERDDAP™ пользователи получают мгновенный доступ к этим изменениям; однако даже в этом случае имеет смысл использовать опцию файла выше и периодически (Каждые 30 минут?) Замените файл, который содержит данные.
Огромные недостатки этого подхода заключаются в том, что ERDDAP™ Запросы пользователей, вероятно, положат невыносимо большую нагрузку на вашу базу данных. ERDDAP™ Подключение - это риск безопасности (Мы можем свести к минимуму/управлять рисками.) .</p>
<p>Сделать денормализованную таблицу или вид для ERDDAP™ Это хорошая возможность внести некоторые изменения, которые ERDDAP™ Потребности, которые не влияют на исходные таблицы:</p>
<ul>
<li class="">Измените поля / столбцы даты и временных меток, чтобы использовать тип данных, который вызывает Postgres <a href="#database-date-time-data" class="">временная метка с часовым поясом</a>   (эквивалент в вашей базе данных) .
Отметки времени без информации о часовом поясе не работают правильно ERDDAP .</li>
<li class="">Создавайте индексы для колонок, которые пользователи часто ищут.</li>
<li class="">Будьте очень осведомлены <a href="#quotes-for-names-and-case-sensitivity" class="">В случае наименований полей/колонн</a>   (Например, используйте все нижние регистры) Когда вы их набираете.</li>
<li class="">Не используйте зарезервированные слова для таблицы и для названия поля / колонки.</li>
</ul>
<p>Если вам нужна помощь в создании денормализованной таблицы или просмотра, пожалуйста, свяжитесь с администратором базы данных.
Если вы хотите обсудить весь этот подход или разработать стратегию, как лучше всего это сделать, пожалуйста, напишите Крису. Джон на noaa.gov.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="database-in-datasetsxml">База данных в datasets.xml<a href="#database-in-datasetsxml" class="hash-link" aria-label="Прямая ссылка наБаза данных в datasets.xml" title="Прямая ссылка наБаза данных в datasets.xml" translate="no">​</a></h4>
<p>Сложно создать правильный datasets.xml Информация, необходимая для ERDDAP™ установить соединение с базой данных. Будь терпелив. Будьте методичны.</p>
<ul>
<li class="">Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Затем вы можете отредактировать это, чтобы настроить его.</li>
</ul>
<p>Генерировать наборы данных Xml имеет три специальных опции для EDDTable FromDatabase:</p>
<ol>
<li class="">Если вы войдете в «!!!ПИСАТЬ!!!» (Без цитат) Для названия каталога программа будет отображать список названий каталога.</li>
<li class="">Если вы войдете в «!!!ПИСАТЬ!!!» (Без цитат) Для названия схемы программа будет отображать список имен схемы.</li>
<li class="">Если вы войдете в «!!!ПИСАТЬ!!!» (Без цитат) Для названия таблицы программа будет отображать список таблиц и их столбцов. Первая запись «!!!СТАТЬ!!!» будет использована.</li>
</ol>
<ul>
<li class="">Внимательно прочитайте всю информацию этого документа о EDDTableFromDatabase.</li>
<li class="">Вы можете собрать большую часть информации, необходимой для создания XML для набора данных EDDTableFromDatabase, связавшись с администратором базы данных и выполнив поиск в Интернете.</li>
<li class="">Несмотря на то, что базы данных часто трактуют имена столбцов и таблиц в нечувствительном к случаю способе, они чувствительны к случаю в случае, если они не являются таковыми. ERDDAP . Если сообщение об ошибке из базы данных говорит, что имя колонки неизвестно (Например, &quot;Неизвестный идентификатор = &quot; <em>столбец_имя</em> &quot;&quot;) Даже если вы знаете, что он существует, попробуйте использовать все капиталы. <em>Имя (наименование)</em> , который часто является истинным, чувствительным к случаю вариантом названия колонки.</li>
<li class="">Работайте в тесном контакте с администратором базы данных, который может иметь соответствующий опыт. Если набор данных не загружается, прочитайте <a href="#troubleshooting-tips" class="">сообщение об ошибке</a> Внимательно выяснить, почему.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="jdbc-driver">JDBC водитель<a href="#jdbc-driver" class="hash-link" aria-label="Прямая ссылка наJDBC водитель" title="Прямая ссылка наJDBC водитель" translate="no">​</a></h4>
<ul>
<li class="">
<p>[Водитель JDBC и&lt;Имя водителя&gt; (#jdbc-водитель) - Вы должны получить соответствующий файл драйвера .jar JDBC 3 или JDBC 4 для вашей базы данных.
положить его в <em>кот</em> /webapps/erddap/WEB-INF/lib после установки ERDDAP . Тогда в твоей datasets.xml Для этого набора данных вы должны указать&lt;имя водителя для этого водителя, которое (К сожалению,) отличается от имени файла. Поиск в Интернете для драйвера JDBC для вашей базы данных и имени драйвера Java Его нужно использовать.</p>
<ul>
<li class="">Для MariaDB попробуйте <a href="https://mariadb.com/kb/en/about-the-mariadb-java-client/" target="_blank" rel="noopener noreferrer" class="">https://mariadb.com/kb/en/about-the-mariadb-java-client/</a><br>
<!-- -->The&lt;DriverName для использования в datasets.xml   (см. ниже) Вероятно, это org.mariadb.jdbc. Водитель.</li>
<li class="">Для MySQL и Amazon RDS попробуйте <a href="https://dev.mysql.com/downloads/connector/j/" target="_blank" rel="noopener noreferrer" class="">https://dev.mysql.com/downloads/connector/j/</a><br>
<!-- -->The&lt;DriverName для использования в datasets.xml   (см. ниже) Возможно, это com.mysql.jdbc. Водитель.</li>
<li class="">Для Oracle Попробуй. <a href="https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html" target="_blank" rel="noopener noreferrer" class="">https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html</a> .
The&lt;DriverName для использования в datasets.xml   (см. ниже) Возможно, это oracle.jdbc.driver. Oracle Водитель.</li>
<li class="">Для Postgresql у нас есть водитель JDBC 4 <a href="https://mvnrepository.com/artifact/org.postgresql/postgresql" target="_blank" rel="noopener noreferrer" class="">https://mvnrepository.com/artifact/org.postgresql/postgresql</a><br>
<!-- -->The&lt;DriverName для использования в datasets.xml   (см. ниже) Вероятно, это org.postgresql. Водитель.</li>
<li class="">Для SQL Server вы можете получить драйвер JTDS JDBC <a href="https://jtds.sourceforge.net" target="_blank" rel="noopener noreferrer" class="">https://jtds.sourceforge.net</a> .
The&lt;DriverName для использования в datasets.xml   (см. ниже) Это, вероятно, net.sourceforge.jtds.jdbc. Водитель.</li>
</ul>
</li>
</ul>
<p>После того, как вы положили драйвер JDBC .jar в ERDDAP™ В каталоге lib необходимо добавить ссылку на файл .jar в файлах сценариев .bat и/или .sh для GenerateDatasets. Xml, DasDds и ArchiveADataset, которые находятся в <em>кот</em> /webapps/erddap/WEB-INF/ Directory; в противном случае вы получите ClassNotFoundException при запуске этих сценариев.</p>
<p>К сожалению, JDBC иногда является источником проблем. в качестве посредника между ERDDAP™ и база данных, иногда вносит незначительные изменения в стандартный/общий запрос SQL базы данных ERDDAP™ создает, тем самым вызывая проблемы (Например, связанные с <a href="#quotes-for-names-and-case-sensitivity" class="">идентификаторы верхнего/нижнего регистра</a> и связанных с <a href="#database-date-time-data" class="">дата/время-зоны</a> ) . Пожалуйста, будьте терпеливы, внимательно прочитайте информацию здесь, проверьте свою работу и посмотрите нашу <a class="" href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a> .</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="database-connectionproperty">База данных&lt;соединение Недвижимость&gt;<a href="#database-connectionproperty" class="hash-link" aria-label="Прямая ссылка наБаза данных&lt;соединение Недвижимость&gt;" title="Прямая ссылка наБаза данных&lt;соединение Недвижимость&gt;" translate="no">​</a></h4>
<ul>
<li class="">[править]&lt;ConnectionProperty&gt; (#database-connectionproperty) - В этом datasets.xml Для вашего набора данных вы должны определить несколько соединений Теги собственности, чтобы сказать ERDDAP™ Как подключиться к вашей базе данных (Например, указать имя пользователя, пароль, соединение ssl и <a href="#set-the-fetch-size" class="">приносить размер</a> ) . Они отличаются для каждой ситуации и их немного трудно понять. Найдите в Интернете примеры использования драйвера JDBC для подключения к вашей базе данных. The&lt;ConnectionProperty&gt; Имена (Например, «пользователь», «пароль» и «ssl».) , и некоторые из значений свойств соединения можно найти, выполнив поиск в Интернете по &quot;свойствам соединения JDBC&quot; <em>база данных Тип</em> &quot; (Например, Oracle MySQL, Amazon RDS, MariaDB, PostgreSQL) .
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="quotes-for-names-and-case-sensitivity">Цитаты для имен и деловая чувствительность<a href="#quotes-for-names-and-case-sensitivity" class="hash-link" aria-label="Прямая ссылка наЦитаты для имен и деловая чувствительность" title="Прямая ссылка наЦитаты для имен и деловая чувствительность" translate="no">​</a></h4>
<ul>
<li class=""><a href="#quotes-for-names-and-case-sensitivity" class="">Оригинальное название: Field/Column Names; Case Sensitivity</a> По умолчанию EDDTableFromDatabase ставит ANSI-SQL-стандартные двойные цитаты вокруг имен полей / столбцов в заявлениях SELECT, если вы использовали зарезервированное слово в качестве имени поля / столбца или специального символа в имени поля / столбца. Двойные цитаты также препятствуют некоторым типам атак SQL-инъекций. Вы можете сказать ERDDAP™ использовать «,» или не использовать цитаты через&lt;Колонка Имя Цитаты в datasets.xml Для этого набора данных.</li>
</ul>
<p>Для многих баз данных использование любого типа котировок заставляет базу данных работать с именами полей / столбцов чувствительным образом. (Вместо базы данных по умолчанию случай бесчувственный) . Базы данных часто отображают имена файлов / столбцов как все верхние регистры, когда на самом деле чувствительная форма корпуса отличается. в ERDDAP™ Пожалуйста, всегда обращайтесь с именами колонок базы данных как с деликатными.</p>
<ul>
<li class="">Для Марии DB, вам нужно запустить базу данных <a href="https://mariadb.com/kb/en/mysql-command-line-client/" target="_blank" rel="noopener noreferrer" class="">\--sql-mode=ANSI\_QUOTES</a> .</li>
<li class="">Для MySQL и Amazon RDS необходимо запускать базу данных с помощью <a href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ansi_quotes" target="_blank" rel="noopener noreferrer" class="">\--sql-mode=ANSI\_QUOTES</a> .</li>
<li class="">Oracle Поддержка двойных котировок стандарта ANSI-SQL <a href="https://docs.oracle.com/database/121/SQLRF/sql_elements008.htm#SQLRF00223" target="_blank" rel="noopener noreferrer" class="">по умолчанию</a> .</li>
<li class="">PostgreSQL по умолчанию поддерживает двойные котировки стандарта ANSI-SQL.</li>
</ul>
<p>Не используйте зарезервированное слово для базы данных, каталога, схемы или названия таблицы. ERDDAP™ Они не ставят цитаты вокруг себя.</p>
<p>Если возможно, используйте все нижние регистры для базы данных, каталога, схемы, названий таблиц и названий полей при создании таблицы баз данных. (или взгляд) и при упоминании названий полей/колонн в datasets.xml в ERDDAP . В противном случае вы можете получить сообщение об ошибке, в котором говорится, что база данных, каталог, схема, таблица и/или поле не были найдены. Если вы получили это сообщение об ошибке, попробуйте использовать чувствительную к регистру версию, всю версию верхнего регистра и всю версию имени в нижнем регистре. ERDDAP . Один из них может работать. Если нет, вам нужно изменить название базы данных, каталога, схемы и / или таблицы на все нижние регистры.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="database-datatype">База данных&lt;данные Type&gt;<a href="#database-datatype" class="hash-link" aria-label="Прямая ссылка наБаза данных&lt;данные Type&gt;" title="Прямая ссылка наБаза данных&lt;данные Type&gt;" translate="no">​</a></h4>
<ul>
<li class=""><a href="#database-datatype" class="">База данных</a> [править]&lt;DataType&gt; (#тип данных) Тэги - Потому что есть некоторая двусмысленность в том, что <a href="https://www.w3schools.com/sql/sql_datatypes_general.asp" target="_blank" rel="noopener noreferrer" class="">Типы баз данных</a> Карта, на которой ERDDAP™ Типы данных, необходимо указать [&lt;DataType&gt; (#тип данных) Для каждого из них [&lt; dataVariable &gt; (#datavariable) рассказывать ERDDAP™ Какой тип данных использовать. Часть проблемы заключается в том, что разные наборы данных используют разные термины для различных типов данных, поэтому всегда старайтесь соответствовать определениям, а не только именам. Смотрите описание этого <a href="#data-types" class="">стандартный ERDDAP™ данные Типы</a> , который включает ссылки на соответствующие типы данных SQL. <a href="#database-date-time-data" class="">Дата и метка времени</a> Особые случаи: использование ERDDAP Двойные данные Тип.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="database-date-time-data">База данных Date Time Data<a href="#database-date-time-data" class="hash-link" aria-label="Прямая ссылка наБаза данных Date Time Data" title="Прямая ссылка наБаза данных Date Time Data" translate="no">​</a></h4>
<p>Некоторые столбцы даты базы данных не имеют явного часового пояса. Такие столбцы являются проблемой для ERDDAP . Базы данных поддерживают концепцию даты (С или без времени) без часового пояса, как примерный диапазон времени. Но Java   (и таким образом ERDDAP ) Работает только с мгновенной датой + временем с часовым поясом. Вы можете знать, что данные о дате основаны на местном часовом поясе. (с или без дневного света экономия времени) или GMT/ Zulu часовой пояс, но Java   (и ERDDAP ) Не надо. Мы изначально думали, что сможем решить эту проблему. (например, путем указания часового пояса для колонки) База данных + JDBC + Java Взаимодействие сделало это ненадежным решением.</p>
<ul>
<li class="">Итак, ERDDAP™ требует, чтобы вы хранили все данные о дате и времени даты в таблице базы данных с типом данных базы данных, который соответствует типу JDBC «метка времени с часовым поясом». (В идеале используется GMT/ Zulu часовой пояс) .</li>
<li class="">в ERDDAP ? datasets.xml в&lt; dataVariable &gt; tag for a timetamp variable, set<!-- -->
<blockquote>
<p>  <a href="#datatype" class="">&lt;dataType&gt;double&lt;/dataType&gt;</a></p>
</blockquote>
</li>
</ul>
<p>и в&lt; addAttributes набор</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;att name=&quot;units&quot;&gt;seconds since 1970-01-01T00:00:00Z&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Предложение: Если данные представляют собой временной диапазон, полезно, чтобы значения метки времени относились к центру подразумеваемого временного диапазона. (Например, полдень) . Например, если у пользователя есть данные за 2010-03-26T13:00Z из другого набора данных, и ему нужны ближайшие данные из набора данных базы данных, который имеет данные за каждый день, то данные базы данных за 2010-03-26T12:00Z (представление данных на эту дату) Очевидно, что лучший (В отличие от полуночи до или после, где менее очевидно, что лучше.) .</li>
<li class="">ERDDAP™ имеет полезность для <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html" target="_blank" rel="noopener noreferrer" class="">Преобразовать числовой Время в/из струнного времени</a> .</li>
<li class="">Видишь? <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html#erddap" target="_blank" rel="noopener noreferrer" class="">Как ERDDAP Сделки со временем</a> .</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="integer-nulls-1">целые нули<a href="#integer-nulls-1" class="hash-link" aria-label="Прямая ссылка нацелые нули" title="Прямая ссылка нацелые нули" translate="no">​</a></h4>
<p>Базы данных поддерживают нули в целых числах (Int, smallint, tinyint) колонны, но ERDDAP™ не поддерживает истинные нули.
Нули базы данных будут преобразованы в ERDDAP™ 127 для байтовых колонок, 255 для убайтовых колонок, 32767 для коротких колонок, 65535 для коротких колонок, 2147483647 для внутритрубных колонок, 4294967295 для точечных колонок, 9 223 372 036 854 775 807 для длинных колонн или 18446744073709551615 для улонговых колонн. Если вы используете эти дефолты, пожалуйста, укажите их missing\_value для пользователей набора данных в ERDDAP™ с</p>
<blockquote>
<p>&lt;att name=&quot;\_FillValue&quot; <a href="#attributetype" class="">type=&quot;int&quot;</a>\&gt;2147483647&lt;/att&gt;</p>
</blockquote>
<p>или</p>
<blockquote>
<p>&lt;att name=&quot;\_FillValue&quot; <a href="#attributetype" class="">type=&quot;short&quot;</a>\&gt;32767&lt;/att&gt;</p>
</blockquote>
<p>В качестве альтернативы можно использовать &quot; missing\_value &quot;атрибут вместо &quot;\_FillValue&quot;.
Генерировать наборы данных Xml автоматически добавляет эти атрибуты \_FillValue, когда он генерирует предложенные атрибуты. datasets.xml для наборов данных базы данных.</p>
<p>Для столбцов с плавающей точкой базы данных нули преобразуются в NaN в ERDDAP .
Для типов данных базы данных, которые преобразуются в строки ERDDAP™ Нули превращаются в пустые струны.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="database-security">Безопасность базы данных<a href="#database-security" class="hash-link" aria-label="Прямая ссылка наБезопасность базы данных" title="Прямая ссылка наБезопасность базы данных" translate="no">​</a></h4>
<ul>
<li class="">При работе с базами данных необходимо делать все максимально безопасно и надежно, чтобы не позволить злоумышленнику повредить вашу базу данных или получить доступ к данным, к которым они не должны иметь доступа. ERDDAP™ Он также пытается делать вещи безопасным способом.<!-- -->
<ul>
<li class="">Подумайте о тиражировании на другом компьютере базы данных и таблиц баз данных с данными, которые вы хотите ERDDAP™ служить. (Для коммерческих баз данных, таких как Oracle Это предполагает дополнительные лицензионные сборы. Но для баз данных с открытым исходным кодом, таких как PostgreSQL, MySQL, Amazon RDS и MariaDB, это ничего не стоит.) Это обеспечивает высокий уровень безопасности, а также предотвращает ERDDAP™ Запросы на замедление исходной базы данных.</li>
<li class="">Мы призываем вас создать ERDDAP™ подключиться к базе данных в качестве пользователя базы данных, имеющего доступ только к <strong>соответствующий</strong> база данных (s) У них есть только привилегии чтения.</li>
<li class="">Мы рекомендуем вам установить связь с ERDDAP™ В базу данных, чтобы<!-- -->
<ul>
<li class="">всегда использует SSL,</li>
<li class="">Разрешает соединение только с одного IP-адреса (или один блок адресов) и от одного ERDDAP™ пользователя и</li>
<li class="">Передаёт пароли только в хэшированной форме MD5.</li>
</ul>
</li>
<li class="">\[ Знать проблемы \] Свойства соединения (Включая пароль!) Сохраняется как простой текст в datasets.xml . Мы не нашли способа разрешить администратору ввести пароль базы данных во время ERDDAP Стартап в Tomcat (Что происходит без пользовательского ввода) Таким образом, пароль должен быть доступен в файле. Чтобы сделать это более безопасным:</li>
<li class="">Ты (тот ERDDAP™ администратор) должен быть собственником datasets.xml Прочитайте и напишите доступ.</li>
<li class="">Создайте группу, в которую входит только пользователь=tomcat. Используйте chgrp, чтобы сделать эту группу datasets.xml Только читать привилегии.</li>
<li class="">Используйте chmod для присвоения привилегий o-rwx (Нет возможности читать или писать для «других» пользователей) для datasets.xml .</li>
<li class="">Когда ERDDAP™ , пароль и другие свойства соединения хранятся в «частном» Java переменных.</li>
<li class="">Запросы клиентов анализируются и проверяются на достоверность перед генерацией запросов SQL для базы данных.</li>
<li class="">Запросы в базу данных выполняются с помощью SQL PreparedStatements, чтобы предотвратить <a href="https://en.wikipedia.org/wiki/SQL_injection" target="_blank" rel="noopener noreferrer" class="">SQL инъекция</a> .</li>
<li class="">Запросы в базу данных подаются с выполнением Запрос (не исполнять заявление) Ограничить запросы только на чтение (Поэтому попытка SQL-инъекции изменить базу данных также потерпит неудачу.) .
 </li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sql">SQL<a href="#sql" class="hash-link" aria-label="Прямая ссылка наSQL" title="Прямая ссылка наSQL" translate="no">​</a></h4>
<ul>
<li class="">Потому что OPeNDAP Запросы табличных данных были разработаны для имитации запросов табличных данных SQL, это легко для ERDDAP™ Преобразовать запросы табличных данных в простые подготовленные состояния SQL. Например, в ERDDAP™ запросить</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    time,temperature&amp;time&gt;=2008-01-01T00:00:00Z&amp;time&amp;lt;=2008-02-01T00:00:00Z  </span><br></span></code></pre></div></div>
<p>Преобразуется в подготовленное состояние SQL</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    SELECT &quot;time&quot;, &quot;temperature&quot; FROM *tableName*  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WHERE &quot;time&quot; &gt;= 2008-01-01T00:00:00Z AND &quot;time&quot; &amp;lt;= 2008-02-01T00:00:00Z  </span><br></span></code></pre></div></div>
<p>ERDDAP™ Запросы с &amp; уточнением () и/или и/или orderBy  ( <em>переменные</em> ) добавляем дистинкт и/или порядок <em>переменные</em> Заявление, подготовленное SQL. В целом это значительно замедлит ответ из базы данных.
ERDDAP™ Подготовленное заявление в <a class="" href="/ru/docs/server-admin/additional-information#log">log.txt</a> как</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    statement=*thePreparedStatement*  </span><br></span></code></pre></div></div>
<p>Это будет текстовое представление Подготовленного заявления, которое может немного отличаться от фактического Подготовленного заявления. Например, в Подготовленном заявлении время кодируется особым образом. Но в представлении текста они отображаются как даты ISO 8601.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="database-speed">Скорость базы данных<a href="#database-speed" class="hash-link" aria-label="Прямая ссылка наСкорость базы данных" title="Прямая ссылка наСкорость базы данных" translate="no">​</a></h4>
<ul>
<li class="">Базы данных могут быть медленными. Есть некоторые вещи, которые вы можете сделать:<!-- -->
<ul>
<li class="">В целом -
Суть SQL заключается в том, что запросы <a href="https://en.wikipedia.org/wiki/Declarative_programming" target="_blank" rel="noopener noreferrer" class="">декларативный</a> . Они просто указывают, чего хочет пользователь. Они не содержат спецификации или подсказки о том, как следует обрабатывать или оптимизировать запрос. Так что нет способа для ERDDAP™ генерировать запрос таким образом, чтобы он помогал базе данных оптимизировать запрос; (или каким-либо образом определяет, как должен обрабатываться запрос) . В общем, администратор базы данных должен настраивать вещи. (Например, индексы) оптимизировать под определенные типы запросов.</li>
</ul>
</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="set-the-fetch-size">Установите размер Fetch<a href="#set-the-fetch-size" class="hash-link" aria-label="Прямая ссылка наУстановите размер Fetch" title="Прямая ссылка наУстановите размер Fetch" translate="no">​</a></h5>
<p>Базы данных возвращают данные ERDDAP™ по частям. По умолчанию разные базы данных возвращают разное количество строк в куски. Часто это число очень мало и очень неэффективно. Например, по умолчанию для Oracle Это 10! Прочитайте документацию JDBC для драйвера JDBC вашей базы данных, чтобы найти свойство соединения для установки, чтобы увеличить это, и добавьте это к описанию набора данных в datasets.xml . Например,
Для MySQL и Amazon RDS используйте</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;connectionProperty name=&quot;defaultFetchSize&quot;&gt;10000&lt;/connectionProperty&gt;  </span><br></span></code></pre></div></div>
<p>Для MariaDB в настоящее время нет возможности изменить размер приманки. Но это запрошенная функция, поэтому ищите в Интернете, чтобы узнать, была ли она реализована.
Для Oracle использовать</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;connectionProperty name=&quot;defaultRowPrefetch&quot;&gt;10000&lt;/connectionProperty&gt;  </span><br></span></code></pre></div></div>
<p>Для PostgreSQL используйте</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;connectionProperty name=&quot;defaultRowFetchSize&quot;&gt;10000&lt;/connectionProperty&gt;  </span><br></span></code></pre></div></div>
<p>Но не стесняйтесь менять номер. Установка слишком большого числа вызовет ERDDAP™ использовать много памяти и с большей вероятностью исчерпать память.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="connectionproperties">Свойства Connection<a href="#connectionproperties" class="hash-link" aria-label="Прямая ссылка наСвойства Connection" title="Прямая ссылка наСвойства Connection" translate="no">​</a></h4>
<p>Каждая база данных имеет другие свойства соединения, которые могут быть указаны в datasets.xml . Многие из них влияют на работу базы данных. ERDDAP™ связь. Пожалуйста, прочитайте документацию для драйвера JDBC вашей базы данных, чтобы увидеть варианты. Если вы найдете свойства соединения, которые полезны, пожалуйста, отправьте электронное письмо с подробной информацией. erd dot data at noaa dot gov .</p>
<ul>
<li class="">Сделать стол...
Вы, вероятно, получите более быстрые ответы, если вы периодически (Каждый день? Когда появляются новые данные?) Создание реальной таблицы (То же самое, как вы создали видео) рассказывать ERDDAP™ Получить данные из таблицы вместо видео. Поскольку любой запрос к таблице может быть выполнен без присоединения другой таблицы, ответ будет намного быстрее.</li>
<li class="">Вакуумный стол -
MySQL и Amazon RDS будут реагировать намного быстрее <a href="https://dev.mysql.com/doc/refman/5.7/en/optimize-table.html" target="_blank" rel="noopener noreferrer" class="">Оптимизированная таблица</a> .
Мария DB будет реагировать быстрее, если вы используете <a href="https://mariadb.com/kb/en/optimize-table/" target="_blank" rel="noopener noreferrer" class="">Оптимизированная таблица</a> .
PostgreSQL будет реагировать быстрее, если вы <a href="https://www.postgresql.org/docs/8.3/static/sql-vacuum.html" target="_blank" rel="noopener noreferrer" class="">ВАКУУМ</a> Стол.
Oracle не имеет и не нуждается в аналогичной команде.</li>
<li class="">делать <a href="https://en.wikipedia.org/wiki/Database_index" target="_blank" rel="noopener noreferrer" class="">Индексы</a> Для обычно ограниченных переменных -
Вы можете ускорить многие / большинство запросов, создав индексы в базе данных для переменных. (Какие базы данных называют «колоннами») Это часто ограничивается запросом пользователя. В общем случае это те же переменные, которые указаны в [&lt; subsetVariables &gt; (#subsetvariables) и/или переменных широты, долготы и времени.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-connection-pooling">Используйте Connection Pooling<a href="#use-connection-pooling" class="hash-link" aria-label="Прямая ссылка наИспользуйте Connection Pooling" title="Прямая ссылка наИспользуйте Connection Pooling" translate="no">​</a></h5>
<p>Обычно, ERDDAP™ Подключение к базе данных для каждого запроса. Это самый надежный подход. Более быстрая альтернатива - использовать DataSource, который поддерживает объединение соединений. Чтобы установить его, укажите (Например,)</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;dataSourceName&gt;java:comp/env/jdbc/postgres/erddap&lt;/dataSourceName&gt;  </span><br></span></code></pre></div></div>
<p>Прямо рядом с&lt; sourceUrl &gt;&lt;имя водителя и&lt;соединение Собственность.
И в <em>кот</em> /conf/context.xml, определить ресурс с той же информацией, например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;Resource  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name=&quot;jdbc/postgres/erddap&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        driverClassName=&quot;org.postgresql.Driver&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        url=&quot;*jdbc:postgresql://somehost:5432/myDatabaseName*&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        username=&quot;*myUsername*&quot; password=&quot;*myPassword*&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        initialSize=&quot;0&quot; maxActive=&quot;8&quot; minIdle=&quot;0&quot; maxIdle=&quot;0&quot; maxWait=&quot;-1&quot;/&gt;  </span><br></span></code></pre></div></div>
<p>Общая информация об использовании DataSource находится на <a href="https://docs.oracle.com/javase/tutorial/jdbc/basics/sqldatasources.html" target="_blank" rel="noopener noreferrer" class="">https://docs.oracle.com/javase/tutorial/jdbc/basics/sqldatasources.html</a> .
Видишь? <a href="https://tomcat.apache.org/tomcat-7.0-doc/jndi-resources-howto.html#JDBC_Data_Sources" target="_blank" rel="noopener noreferrer" class="">Tomcat Data Source Информация</a> и <a href="https://tomcat.apache.org/tomcat-7.0-doc/jndi-datasource-examples-howto.html" target="_blank" rel="noopener noreferrer" class="">Примеры источников Tomcat Data</a> или искать в Интернете примеры использования DataSources с другими серверами приложений.</p>
<ul>
<li class="">Если все остальное провалится,
Подумайте о хранении данных в коллекции NetCDF v3 .nc файлы (особенно .nc Файлы, которые используют <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Дискретная геометрия выборки (DSG) </a> Структуры данных Ragged Array и так могут обрабатываться ERDDAP ? <a href="#eddtablefromnccffiles" class="">EDDTable FromNcCFFiles</a> ) . Если они логически организованы (Каждый с данными для куска пространства и времени) , ERDDAP™ Они могут быстро извлекать из них данные.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromdatabase-skeleton-xml">EDDTable FromDatabase скелет XML<a href="#eddtablefromdatabase-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDTable FromDatabase скелет XML" title="Прямая ссылка наEDDTable FromDatabase скелет XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromDatabase&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->        &lt;!-- The format varies for each type of database, but will be<br>
<!-- -->          something like:<br>
<!-- -->          For MariaDB:    jdbc:mariadb://<em>xxx.xxx.xxx.xxx</em>:3306/<em>databaseName</em><br>
<!-- -->          For MySql       jdbc:mysql://<em>xxx.xxx.xxx.xxx</em>:3306/<em>databaseName</em><br>
<!-- -->          For Amazon RDS: jdbc:mysql://<em>xxx.xxx.xxx.xxx</em>:3306/<em>databaseName</em><br>
<!-- -->          For Oracle:     jdbc:oracle:thin:@<em>xxx.xxx.xxx.xxx</em>:1521:<em>databaseName</em><br>
<!-- -->          For Postgresql: jdbc:postgresql://<em>xxx.xxx.xxx.xxx</em>:5432/<em>databaseName</em><br>
<!-- -->          where <em>xxx.xxx.xxx.xxx</em> is the host computer&#x27;s numeric IP address<br>
<!-- -->          followed by :<em>PortNumber</em> (4 digits), which may be different for your<br>
<!-- -->          database.  REQUIRED. --&gt;<br>
<!-- -->      &lt;<a href="#jdbc-driver" class="">driverName</a>\&gt;...&lt;/driverName&gt;<br>
<!-- -->        &lt;!-- The high-level name of the database driver, for example,<br>
<!-- -->          &quot;org.postgresql.Driver&quot;.  You need to put the actual database<br>
<!-- -->          driver .jar file (for example, postgresql.jdbc.jar) in<br>
<!-- -->          <em>tomcat</em>/webapps/erddap/WEB-INF/lib.  REQUIRED. --&gt;<br>
<!-- -->      &lt;<a href="#database-connectionproperty" class="">connectionProperty</a> name=&quot;<em>name</em>&quot;&gt;<em>value</em>&lt;/connectionProperty&gt;<br>
<!-- -->        &lt;!-- The names (for example, &quot;user&quot;, &quot;password&quot;, and &quot;ssl&quot;)<br>
<!-- -->          and values of the properties needed for ERDDAP™ to establish<br>
<!-- -->          the connection to the database.  0 or more. --&gt;<br>
<!-- -->      <a href="#use-connection-pooling" class="">&lt;dataSourceName&gt;</a>...&lt;/dataSourceName&gt;  &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;catalogName&gt;...&lt;/catalogName&gt;<br>
<!-- -->        &lt;!-- The name of the catalog which has the schema which has the<br>
<!-- -->          table, default = &quot;&quot;.  OPTIONAL.  Some databases don&#x27;t use<br>
<!-- -->          this. --&gt;<br>
<!-- -->      &lt;schemaName&gt;...&lt;/schemaName&gt; &lt;!-- The name of the<br>
<!-- -->        schema which has the table, default = &quot;&quot;.  OPTIONAL. --&gt;<br>
<!-- -->      &lt;tableName&gt;...&lt;/tableName&gt;  &lt;!-- The name of the<br>
<!-- -->        table, default = &quot;&quot;.  REQUIRED. --&gt;<br>
<!-- -->      <a href="#quotes-for-names-and-case-sensitivity" class="">&lt;columnNameQuotes&gt;</a>&lt;columnNameQuotes&gt; &lt;!-- OPTIONAL. Options:<br>
<!-- -->        &quot; (the default), &#x27;, \[nothing\]. --&gt;<br>
<!-- -->      &lt;orderBy&gt;...&lt;/orderBy&gt;  &lt;!-- A comma-separated list of<br>
<!-- -->        <a href="#sourcename" class="">sourceName</a>s to be used in an ORDER BY clause at the end of the<br>
<!-- -->        every query sent to the database (unless the user&#x27;s request<br>
<!-- -->        includes an &amp;orderBy() filter, in which case the user&#x27;s<br>
<!-- -->        orderBy is used).  The order of the sourceNames is important.<br>
<!-- -->        The leftmost (first) sourceName is most important; subsequent<br>
<!-- -->        sourceNames are only used to break ties.  Only relevant<br>
<!-- -->        sourceNames are included in the ORDER BY clause for a given user<br>
<!-- -->        request.  If this is not specified, the order of the returned<br>
<!-- -->        values is not specified. Default = &quot;&quot;.  OPTIONAL. --&gt;<br>
<!-- -->      <a href="#sourcecanorderby" class="">&lt;sourceCanOrderBy&gt;</a>no(default)|partial|yes&lt;/sourceCanOrderBy&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#sourcecandodistinct" class="">&lt;sourceCanDoDistinct&gt;</a>no(default)|partial|yes&lt;/sourceCanDoDistinct&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#sourceneedsexpandedfp_eq" class="">&lt;sourceNeedsExpandedFP\_EQ&gt;</a>true(default)|false&lt;/sourceNeedsExpandedFP\_EQ&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more.<br>
<!-- -->        Each dataVariable MUST include a <a href="#datatype" class="">&lt;dataType&gt;</a> tag.<br>
<!-- -->        See <a href="#database-datatype" class="">Database DataTypes</a>.<br>
<!-- -->        For <a href="#database-date-time-data" class="">database date and timestamp columns</a>, set dataType=double and<br>
<!-- -->        units=seconds since 1970-01-01T00:00:00Z --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromeddgrid">EDDTable From EDDGrid<a href="#eddtablefromeddgrid" class="hash-link" aria-label="Прямая ссылка наEDDTable From EDDGrid" title="Прямая ссылка наEDDTable From EDDGrid" translate="no">​</a></h3>
<p><a href="#eddtablefromeddgrid" class=""> **EDDTable From EDDGrid ** </a> позволяет создавать набор данных EDDTable из любого EDDGrid набор данных.</p>
<ul>
<li class="">Некоторые общие причины сделать это:<!-- -->
<ul>
<li class="">Это позволяет запрашивать набор данных с OPeNDAP ограничения выбора, который является типом «запроса по значению» (который пользователь мог запросить) .</li>
<li class="">Набор данных по своей сути является табличным набором данных.</li>
</ul>
</li>
<li class="">Значение глобального атрибута «maxAxis0» (обычно типа = &quot;int&quot;) , (По умолчанию 10) будет использоваться для ограничения числа осей \[ 0 \]   (обычно &quot;time&quot; ось) Значения прилагаемого EDDGrid набор данных, к которому можно получить доступ по запросу данных. Если вы не хотите, чтобы был какой-либо предел, укажите значение 0. Эта настройка важна, потому что в противном случае пользователю будет слишком легко задать EDDTableFrom. EDDGrid Просмотреть все данные сетчатого набора данных. Это займет много времени и почти наверняка потерпит неудачу с ошибкой тайм-аута. Это то, что делает его безопасным для EDDTable From. EDDGrid наборы данных в вашем ERDDAP не опасаясь, что они приведут к необоснованному использованию вычислительных ресурсов.</li>
<li class="">Если заключенный EDDGrid является <a href="#eddfromerddap" class=""> EDDGrid Из Эрддапа</a> и ERDDAP™ то же самое ERDDAP , затем EDDTable From EDDGrid Вы всегда будете использовать доступную в настоящее время версию набора данных напрямую. Это очень эффективный способ для EDDTableFrom. EDDGrid для доступа к сетчатым данным.</li>
<li class="">Этот класс [&lt;перезаряжать EveryNMinutes &gt; (#reloadeverynminutes) Вот что имеет значение. Закрытый EDDGrid ?&lt;Перезагрузка EveryNMinutes игнорируется.</li>
<li class="">Если значение для [&lt;Обновление EveryNMillis (#updateeverynmillis) предоставляется для этого набора данных, он игнорируется. Закрытый EDDGrid ?&lt;Обновление EveryNMillis — вот что важно.</li>
<li class=""><a href="#generatedatasetsxml" class="">Генерировать наборы данныхXml</a> имеет опцию для типа набора данных=EDDTableFrom EDDGrid Для чего нужен URL ERDDAP   (Как правило, одинаковые ERDDAP )   (Заканчивается на &quot;/erddap/&quot;) и регулярное выражение. Генерировать наборы данных Xml сгенерирует XML для EDDTableFrom EDDGrid набор данных для каждого сетчатого набора данных в ERDDAP™ который имеет datasetID который соответствует обычному выражению (Используйте . . . , чтобы соответствовать всем datasetID s для сетчатых наборов данных) .</li>
</ul>
<p>Часть XML, генерируемая GenerateDatasetsXml для каждого набора данных, включает:</p>
<ul>
<li class="">А. datasetID который является EDDGrid ? datasetID Плюс &quot;_AsATable&quot;.</li>
<li class="">Новый глобальный атрибут, который является EDDGrid резюме плюс новый первый абзац, описывающий, что это набор данных.</li>
<li class="">Новый глобальный атрибут, который является EDDGrid &quot;Титул плюс&quot;, (Как столик) &quot;.</li>
<li class="">Новый глобальный атрибут maxAxis0 со значением 10.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromeddgrid-skeleton-xml">EDDTable From EDDGrid скелет XML<a href="#eddtablefromeddgrid-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDTable From EDDGrid скелет XML" title="Прямая ссылка наEDDTable From EDDGrid скелет XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromEDDGrid&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1.<br>
<!-- -->        For EDDTableFromEDDGrid, this calls lowUpdate() of the underlying<br>
<!-- -->        EDDGrid. --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt;  &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#eddgrid" class="">&lt;dataset&gt;</a>...&lt;/dataset&gt; &lt;!-- 1<br>
<!-- -->         Any type of EDDGrid dataset.  You can even use an<br>
<!-- -->         EDDGridFromERDDAP™ to access an independent EDDGrid dataset on<br>
<!-- -->         this server. --&gt;<br>
<!-- -->    &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromfilenames">EDDTable FromFileNames<a href="#eddtablefromfilenames" class="hash-link" aria-label="Прямая ссылка наEDDTable FromFileNames" title="Прямая ссылка наEDDTable FromFileNames" translate="no">​</a></h3>
<p><a href="#eddtablefromfilenames" class=""> <strong>EDDTable FromFileNames</strong> </a> создает набор данных из информации о группе файлов в файловой системе сервера, включая URL для каждого файла, чтобы пользователи могли загружать файлы через ERDDAP ? <a href="https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html" target="_blank" rel="noopener noreferrer" class=""> &quot;files&quot; система</a> . В отличие от всех <a href="#eddtablefromfiles" class="">EDDTable Из материалов</a> Подклассы, этот тип набора данных не обслуживает данные из файлов.</p>
<ul>
<li class="">EDDTableFromFileИмена полезны, когда:<!-- -->
<ul>
<li class="">У вас есть группа файлов, которые вы хотите распространять как целые файлы, потому что они не содержат «данные» так же, как обычные файлы данных имеют данные. Например, файлы изображений, видеофайлы, документы Word, файлы электронных таблиц Excel, файлы презентации PowerPoint или текстовые файлы с неструктурированным текстом.</li>
<li class="">У вас есть группа файлов, которые имеют данные в формате, который ERDDAP™ Пока не могу читать. Например, проект-специфический, пользовательский, двоичный формат.
 </li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromfilenames-data">EDDTableFromFileNames Данные<a href="#eddtablefromfilenames-data" class="hash-link" aria-label="Прямая ссылка наEDDTableFromFileNames Данные" title="Прямая ссылка наEDDTableFromFileNames Данные" translate="no">​</a></h4>
<ul>
<li class=""><a href="#eddtablefromfilenames-data" class="">Данные в наборе данных EDDTableFromFileNames</a> Это стол, который ERDDAP™ Создает на лету информацию о группе локальных файлов. В таблице есть строка для каждого файла. Четыре основных атрибута в <a href="#eddtablefromfilenames-skeleton-xml" class=""> datasets.xml для этого набора данных</a> Определите, какие файлы будут включены в этот набор данных:</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="filedir">файл Дир<a href="#filedir" class="hash-link" aria-label="Прямая ссылка нафайл Дир" title="Прямая ссылка нафайл Дир" translate="no">​</a></h5>
<ul>
<li class="">&lt;FileDir&gt;- Это указывает каталог источника в файловой системе сервера с файлами для этого набора данных. Файлы, которые фактически находятся в файловой системе сервера&lt;fileDir&gt; появится в столбце URL этого набора данных в виртуальном каталоге с именемhttps://<em>serverUrl</em>/erddap/files/<em>datasetID/</em>.
Например, если datasetID Является JPLMU RSS Т.
и&lt;fileDir&gt; является /home/data/mur/,
В этом каталоге есть файл под названием jplMU. RSS T20150103000000.png,
URL, который будет показан пользователям для этого файла, будет
https://<em>serverUrl</em>/erddap/jplMURSST/jplMURSST20150103000000.png.</li>
</ul>
<p>Помимо использования локального каталога для&lt;fileDir&gt;, вы также можете указать URL удаленной страницы, похожей на каталог. Это работает с:</p>
<ul>
<li class="">Неагрегированные наборы данных в THREDDS, например,
<a href="https://data.nodc.noaa.gov/thredds/catalog/aquarius/nodc%5C%5C_binned%5C%5C_V3.0/monthly/" target="_blank" rel="noopener noreferrer" class="">https://data.nodc.noaa.gov/thredds/catalog/aquarius/nodc\\_binned\\_V3.0/monthly/</a>  \[ 2020-10-21 Этот сервер больше не доступен. \]</li>
<li class="">Неагрегированные наборы данных в Hyrax Например,
<a href="https://podaac-opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/" target="_blank" rel="noopener noreferrer" class="">https://podaac-opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/</a></li>
<li class="">Большинство Apache-подобных каталогов, например,
<a href="https://www1.ncdc.noaa.gov/pub/data/cmb/ersst/v5/netcdf/" target="_blank" rel="noopener noreferrer" class="">https://www1.ncdc.noaa.gov/pub/data/cmb/ersst/v5/netcdf/</a></li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="fromonthefly">Скриншоты OnTheFly<a href="#fromonthefly" class="hash-link" aria-label="Прямая ссылка наСкриншоты OnTheFly" title="Прямая ссылка наСкриншоты OnTheFly" translate="no">​</a></h5>
<p><a href="#fromonthefly" class="">\<em>\</em>(перенаправлено с «OnTheFly»)</a> - Для больших ведер S3 (Noaa-goes17 содержит 26 миллионов файлов) Это может занять ERDDAP™ до 12 часов для загрузки всей информации о содержимом ведра (А потом возникают другие проблемы) . Чтобы обойти это, есть специальный способ использовать&lt;fileDir&gt; в EDDTableFromFileNames для создания набора данных с каталогом и именами файлов из ведра AWS S3. В наборе данных не будет списка всех каталогов и имен файлов S3, которые пользователь может искать по запросам к набору данных. Но набор данных получит имена каталогов и файлов на лету, если пользователь пересекает иерархию каталогов с набором данных. &quot;files&quot; вариант. Таким образом, это позволяет пользователям просматривать иерархию файлов S3 и файлы через набор данных. &quot;files&quot; система. Для этого вместо указания URL-адреса ведёрка S3 в качестве «Начало каталога» (Генерировать наборы данных Xml) или&lt;FileDir&gt; (в datasets.xml ) Используйте:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">\\*\\*\\*fromOnTheFly,*theS3BucketUrl*  </span><br></span></code></pre></div></div>
<p>Например:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">\\*\\*\\*fromOnTheFly,https://noaa-goes17.s3.us-east-1.amazonaws.com/  </span><br></span></code></pre></div></div>
<p>Смотрите документацию для <a href="#working-with-aws-s3-files" class="">Обсуждение S3 Buckets in ERDDAP™ </a> В частности, описание конкретного формата, который должен использоваться для URL-адреса S3. И посмотреть
<a href="#making-an-eddtablefromfilenames-dataset-with-an-aws-s3-bucket" class="">Эти детали и пример</a> использования\<em>\</em>(перенаправлено с «OnTheFly»)</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="recursive">рекурсивный<a href="#recursive" class="hash-link" aria-label="Прямая ссылка нарекурсивный" title="Прямая ссылка нарекурсивный" translate="no">​</a></h5>
<ul>
<li class="">&lt;рекурсивный - Файлы в подкаталогах&lt;FileDir&gt; с именами, совпадающими&lt;FileRegex&gt; будет отображаться в тех же подкаталогах &quot;files&quot; URL, если&lt;Рекурсивный&gt; является истинным. Дефолт является ложным.</li>
<li class="">[править]&lt;PathRegex&gt; (#патрегекс) - Если рекурсивный = истинный, только имена каталогов, которые соответствуют пути (Дефолт =.) будут приняты. Если рекурсивный = ложный, это игнорируется. Это редко используется, но может быть очень полезным при необычных обстоятельствах. (Посмотри. <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">нормативная документация</a> и <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">учебник по регексу</a> .)</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="fileregex">FileRegex<a href="#fileregex" class="hash-link" aria-label="Прямая ссылка наFileRegex" title="Прямая ссылка наFileRegex" translate="no">​</a></h5>
<ul>
<li class="">&lt;FileRegex&gt;&gt; Только имена файлов, где целое имя файла (Не включая название каталога) совпадение&lt;FileRegex&gt; будет включен в этот набор данных. Например, jplMU RSS T.{14}\png . (Посмотри. <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">нормативная документация</a> и <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">учебник по регексу</a> .)<br>
<!-- --> </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="from-file-names-data-table-contents">Содержимое таблицы данных File Names Data Table<a href="#from-file-names-data-table-contents" class="hash-link" aria-label="Прямая ссылка наСодержимое таблицы данных File Names Data Table" title="Прямая ссылка наСодержимое таблицы данных File Names Data Table" translate="no">​</a></h5>
<p>В таблице будут колонки с:</p>
<ul>
<li class="">
<p>url- URL, который пользователи могут использовать для загрузки файла через ERDDAP ? <a href="https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html" target="_blank" rel="noopener noreferrer" class=""> &quot;files&quot; система</a> .</p>
</li>
<li class="">
<p>имя Имя файла (Без названия каталога) .</p>
</li>
<li class="">
<p>Последнее изменение - Время последнего изменения файла (Сохраняется как двойник с &quot;seconds since 1970-01-01T00:00:00Z&quot; ) . Эта переменная полезна, потому что пользователи могут видеть, изменилось ли содержимое данного файла в последний раз. Эта переменная является <a href="#timestamp-variables" class="">время Переменная маркировка</a> Таким образом, данные могут выглядеть как числовые значения. (секунды с 1970-01-01T00:00:00Z) или струнное значение (ISO 8601:2004 (Е) формат) В зависимости от ситуации.</p>
</li>
<li class="">
<p>размер Размер файла в байтах, хранящегося в виде двойников. Они хранятся в виде двойных файлов, потому что некоторые файлы могут быть больше, чем позволяют ints, а длинные файлы не поддерживаются в некоторых типах файлов ответа. Двойники дают точный размер даже для очень больших файлов.</p>
</li>
<li class="">
<p>Дополнительные столбцы, определяемые ERDDAP™ администратор с информацией, извлеченной из имени файла (Например, время, связанное с данными в файле.) на основе двух атрибутов, которые вы указываете в метаданных для каждой дополнительной колонки dataVariable :</p>
<ul>
<li class="">ЭкстрактРегекс Это а <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">регулярное выражение</a>   ( <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">учебник</a> ) . Весь регекс должен соответствовать всему имени файла (Не включая название каталога) . Регекс должен включать по меньшей мере одну группу захвата. (раздел регулярного выражения, заключенный в скобки) который ERDDAP™ использует для определения того, какой раздел имени файла извлечь, чтобы стать данными.</li>
<li class="">экстракт Группа: Это число группы захвата. (#1 - первая группа захвата) В обычном выражении. Дефолт составляет 1. Группа захвата представляет собой раздел регулярного выражения, который заключен в скобки.</li>
</ul>
</li>
</ul>
<p>Вот два примера:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;dataVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;sourceName&gt;time&lt;/sourceName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;destinationName&gt;time&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;dataType&gt;String&lt;/dataType&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;att name=&quot;extractRegex&quot;&gt;jplMURSST(.{14})\\.png&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;att name=&quot;extractGroup&quot; type=&quot;int&quot;&gt;1&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;att name=&quot;units&quot;&gt;yyyyMMddHHmmss&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/dataVariable&gt;</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;dataVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;sourceName&gt;day&lt;/sourceName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;destinationName&gt;day&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;dataType&gt;int&lt;/dataType&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;att name=&quot;extractRegex&quot;&gt;jplMURSST.{6}(..).{6}\\.png&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;att name=&quot;extractGroup&quot; type=&quot;int&quot;&gt;1&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;att name=&quot;ioos\\_category&quot;&gt;Time&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/dataVariable&gt; </span><br></span></code></pre></div></div>
<p>В случае переменной времени, если файл имеет имя jplMU RSS T20150103000000.png, экстрактRegex будет соответствовать имени файла, извлекать символы, которые соответствуют первой группе захвата (&quot;20150103000000&quot;) как dataType=String, затем использовать <a href="#string-time-units" class="">Единицы, подходящие для струнного времени</a> для разбора строк в значениях данных времени (2015-01-03T00:00:00Z) .</p>
<p>В случае переменной дня, если файл имеет имя jplMU RSS T20150103000000.png, экстрактRegex будет соответствовать имени файла, извлекать символы, которые соответствуют первой группе захвата (&quot;03&quot;) как&lt;DataType&gt; (#тип данных) \=int, что дает значение 3.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="other-information">Другая информация<a href="#other-information" class="hash-link" aria-label="Прямая ссылка наДругая информация" title="Прямая ссылка наДругая информация" translate="no">​</a></h4>
<ul>
<li class="">Нет.&lt;Обновление EveryNMillis (#updateeverynmillis) - Этот тип набора данных не нуждается и не может использовать&lt;Обновить тег EveryNMillis&gt;, потому что информация, обслуживаемая EDDTableFromFileNames, всегда идеально актуальна, потому что ERDDAP™ Запрашивает файловую систему, чтобы ответить на каждый запрос данных. Даже если существует огромное количество файлов, этот подход должен работать достаточно хорошо. Ответ может быть медленным, если есть огромное количество файлов, и набор данных не запрашивался в течение некоторого времени. Но в течение нескольких минут после этого операционная система хранит информацию в кэше, поэтому ответы должны быть очень быстрыми.
 </li>
<li class="">Вы можете использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> чтобы сделать datasets.xml Для этого типа набора данных. Вы можете добавить/определить дополнительные столбцы с информацией, извлеченной из имени файла, как показано выше.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromfilenames-skeleton-xml">EDDTableFromFileИмена скелетов XML<a href="#eddtablefromfilenames-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDTableFromFileИмена скелетов XML" title="Прямая ссылка наEDDTableFromFileИмена скелетов XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromFileNames&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#eddtablefromfilenames-data" class="">&lt;fileDir&gt;</a>...&lt;/fileDir&gt;<br>
<!-- -->      <a href="#eddtablefromfilenames-data" class="">&lt;recursive&gt;</a>...&lt;/recursive&gt;  &lt;!-- true or false (the default) --&gt;<br>
<!-- -->      <a href="#pathregex" class="">&lt;pathRegex&gt;</a>...&lt;/pathRegex&gt;  &lt;!-- 0 or 1. Only directory names which<br>
<!-- -->        match the pathRegex (default=&quot;.\*&quot;) will be accepted. --&gt;<br>
<!-- -->      <a href="#eddtablefromfilenames-data" class="">&lt;fileNameRegex&gt;</a>...&lt;/fileNameRegex&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more.<br>
<!-- -->         Each dataVariable MUST include <a href="#datatype" class="">&lt;dataType&gt;</a> tag. --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromfiles">EDDTable Из материалов<a href="#eddtablefromfiles" class="hash-link" aria-label="Прямая ссылка наEDDTable Из материалов" title="Прямая ссылка наEDDTable Из материалов" translate="no">​</a></h3>
<p><a href="#eddtablefromfiles" class=""> <strong>EDDTable Из материалов</strong> </a> Это суперкласс всех классов EDDTable From...Files. Вы не можете использовать EDDTableFromFiles напрямую. Вместо этого используйте подкласс EDDTableFromFiles для обработки определенного типа файла:</p>
<ul>
<li class=""><a href="#eddtablefromasciifiles" class="">EDDTableFromAsciiFiles</a> агрегирует данные из запятых, вкладок, полуколонов или разделённых по пространству табличных файлов данных ASCII.</li>
<li class=""><a href="#eddfromaudiofiles" class="">EDDTable FromAudioFiles</a> агрегирует данные из группы локальных аудиофайлов.</li>
<li class=""><a href="#eddtablefromawsxmlfiles" class="">EDDTable From AwsXmlFiles</a> агрегирует данные с автоматической метеорологической станции (AWS) XML файлы.</li>
<li class=""><a href="#eddtablefromcolumnarasciifiles" class="">EDDTable FromColumnarAsciiFiles</a> агрегирует данные из табличных файлов данных ASCII с столбцами данных фиксированной ширины.</li>
<li class=""><a href="#eddtablefromhyraxfiles" class="">EDDTable From Hyrax Файлы</a>   (Обнародовано) агрегирует данные с несколькими переменными, каждая с общими размерами (Например, время, высота (или глубина) Широта, долгота) и обслуживается а <a href="https://www.opendap.org/software/hyrax-data-server" target="_blank" rel="noopener noreferrer" class=""> Hyrax   OPeNDAP сервер</a> .</li>
<li class=""><a href="#eddtablefrominvalidcrafiles" class="">EDDTable FromInvalidCRAFiles</a> агрегированные данные от NetCDF   (v3 или v4)   .nc Файлы, которые используют конкретный, недействительный вариант CF DSG Contiguous Ragged Array (КРА) Файлы. Хотя ERDDAP™ Поддерживает этот тип файла, это недействительный тип файла, который никто не должен начинать использовать. Группы, которые в настоящее время используют этот тип файла, настоятельно рекомендуется использовать. ERDDAP™ для создания действительных файлов CF DSG CRA и прекращения использования этих файлов.</li>
<li class=""><a href="#eddtablefromjsonlcsvfiles" class="">EDDTableFromJsonlCSVFiles</a> агрегированные данные от <a href="https://jsonlines.org/examples/" target="_blank" rel="noopener noreferrer" class="">Джон Линии файлов CSV</a> .</li>
<li class=""><a href="#eddtablefrommultidimncfiles" class="">EDDTableFromMultidimNcFiles</a> агрегированные данные от NetCDF   (v3 или v4)   .nc   (или <a href="#ncml-files" class=""> .nc мл</a> ) файлы с несколькими переменными, каждая с общими размерами (Например, время, высота (или глубина) Широта, долгота) .</li>
<li class=""><a href="#eddtablefromncfiles" class="">EDDTable FromNcFiles</a> агрегированные данные от NetCDF   (v3 или v4)   .nc   (или <a href="#ncml-files" class=""> .nc мл</a> ) файлы с несколькими переменными, каждая с общими размерами (Например, время, высота (или глубина) Широта, долгота) . Хорошо продолжать использовать этот тип набора данных для существующих наборов данных, но для новых наборов данных мы рекомендуем использовать вместо этого EDDTableFromMultidimNcFiles.</li>
<li class=""><a href="#eddtablefromnccffiles" class="">EDDTable FromNcCFFiles</a> агрегированные данные от NetCDF   (v3 или v4)   .nc   (или <a href="#ncml-files" class=""> .nc мл</a> ) файлы, использующие один из форматов файлов, указанных в <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Дискретная геометрия выборки (DSG) </a> конвенции. Но для файлов, использующих один из многомерных вариантов CF DSG, используют <a href="#eddtablefrommultidimncfiles" class="">EDDTableFromMultidimNcFiles</a> Вместо этого.</li>
<li class=""><a href="#eddtablefromnccsvfiles" class="">EDDTable FromNccsvFiles</a> агрегированные данные от <a class="" href="/ru/docs/user/nccsv-1.00">NCCSV</a> Файлы ASCII.csv.</li>
<li class=""><a href="#eddtablefromparquetfiles" class="">EDDTableFromParquetFiles</a> обрабатывать данные от <a href="https://parquet.apache.org/" target="_blank" rel="noopener noreferrer" class="">паркет</a> .</li>
<li class=""><a href="#eddtablefromthreddsfiles" class="">Скриншоты из ThreddsFiles</a>   (Обнародовано) агрегирует данные из файлов с несколькими переменными с общими размерами, обслуживаемыми <a href="https://www.unidata.ucar.edu/software/tds/" target="_blank" rel="noopener noreferrer" class="">ПЕРЕВОДЫ OPeNDAP сервер</a> .</li>
<li class=""><a href="#eddtablefromwfsfiles" class="">EDDTable From WFS Файлы</a>   (Обнародовано) сделать локальную копию всех данных из ArcGIS MapServer WFS сервера, чтобы данные можно было быстро восстановить ERDDAP™ пользователей.</li>
</ul>
<p>В настоящее время другие типы файлов не поддерживаются. Но обычно относительно легко добавить поддержку для других типов файлов. Свяжитесь с нами, если у вас есть запрос. Или, если ваши данные находятся в старом формате файла, от которого вы хотели бы отказаться, мы рекомендуем конвертировать файлы. NetCDF v3 .nc файлы (особенно .nc Файлы с помощью <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Дискретная геометрия выборки (DSG) </a> Структура данных Ragged Array - ERDDAP™ Они могут быстро извлекать из них данные.) . NetCDF является широко поддерживаемым двоичным форматом, обеспечивает быстрый случайный доступ к данным и уже поддерживается ERDDAP .</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="fromfiles-details">Из материалов Подробности<a href="#fromfiles-details" class="hash-link" aria-label="Прямая ссылка наИз материалов Подробности" title="Прямая ссылка наИз материалов Подробности" translate="no">​</a></h4>
<p>Следующая информация относится ко всем подклассам EDDTableFromFiles.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="aggregation">Агрегация<a href="#aggregation" class="hash-link" aria-label="Прямая ссылка наАгрегация" title="Прямая ссылка наАгрегация" translate="no">​</a></h5>
<p>Этот класс объединяет данные из локальных файлов. Каждый файл содержит (относительно) Небольшая таблица данных.</p>
<ul>
<li class="">Полученный набор данных выглядит так, как будто все таблицы файла были объединены. (все строки данных из файла #1, плюс все строки из файла #2,) .</li>
<li class="">Не все файлы должны иметь все указанные переменные. Если файл не имеет заданной переменной, ERDDAP™ При необходимости будут добавлены недостающие значения.</li>
<li class="">Переменные во всех файлах должны иметь одинаковые значения. <a href="#scale_factor" class=""> add\_offset </a> , <a href="#missing_value" class=""> missing\_value </a> , <a href="#missing_value" class="">\_Fill ценность</a> , <a href="#scale_factor" class=""> scale\_factor </a> и <a href="#units" class="">единицы</a> атрибуты (если есть) . ERDDAP™ проверки, но это несовершенный тест - если есть разные значения, ERDDAP Он не знает, какие файлы являются правильными, а какие недействительными. Если это проблема, вы можете использовать <a href="#ncml-files" class="">NcML</a> или <a href="#netcdf-operators-nco" class=""> NCO </a> Чтобы решить проблему.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="compressed-files">Сжатые файлы<a href="#compressed-files" class="hash-link" aria-label="Прямая ссылка наСжатые файлы" title="Прямая ссылка наСжатые файлы" translate="no">​</a></h5>
<p>Файлы исходных данных для всех подклассов EDDTableFromFiles могут быть сжаты извне. (например, .tgz , .tar  .gz , .tar  .gzip , .gz , .gzip , .zip , .bz2 или .Z) . Видишь? <a href="#externally-compressed-files" class="">Внешне сжатые файлы документация</a> .
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="cached-file-information-1">Информация о кэшированных файлах<a href="#cached-file-information-1" class="hash-link" aria-label="Прямая ссылка наИнформация о кэшированных файлах" title="Прямая ссылка наИнформация о кэшированных файлах" translate="no">​</a></h5>
<ul>
<li class="">При первой загрузке набора данных EDDTableFromFiles EDDTableFromFiles считывает информацию из всех соответствующих файлов и создает таблицы. (Одна строка для каждого файла) с информацией о каждом действительном файле и каждом «плохом» (иной или недействительный) Файл.<!-- -->
<ul>
<li class="">Таблицы также хранятся на диске. NetCDF v3 .nc файлы в <em>BigParent Директория</em> /dataset/ <em>Last2CharsOfDatasetID</em> / * datasetID * / в файлах с именем:
раскладной .nc   (который содержит список уникальных имен каталогов) ,
файл Столик .nc   (который содержит таблицу с информацией каждого действительного файла) ,
Плохие материалы .nc   (который содержит таблицу с информацией о каждом плохом файле) .</li>
<li class="">Для ускорения доступа к набору данных EDDTableFromFiles (За счет использования большего объема памяти) Вы можете использовать
[править]&lt;FileTableInMemory&gt;Правда&lt;/fileTableInMemory&gt; (#filetableinmemory)<br>
<!-- -->рассказывать ERDDAP™ сохранить копию таблицы информации файла в памяти.</li>
<li class="">Копия файловых информационных таблиц на диске также полезна, когда ERDDAP™ Отключается и перезапускается: сохраняет EDDTable Из файлов, которые нужно перечитать все файлы данных.</li>
<li class="">При перезагрузке набора данных, ERDDAP™ Нужно только прочитать данные в новых файлах и файлах, которые изменились.</li>
<li class="">Если файл имеет структуру, отличную от других файлов (Например, другой тип данных для одной из переменных или другое значение для &quot; <a href="#units" class="">единицы</a> &quot;атрибут) , ERDDAP Добавляет файл в список «плохих» файлов. Информация о проблеме с файлом будет написана на <em>BigParent Директория</em> /logs/log.txt файл.</li>
<li class="">Вам никогда не нужно удалять или работать с этими файлами. Одно исключение: если вы все еще вносите изменения в набор данных datasets.xml Настройка, вы можете удалить эти файлы, чтобы заставить ERDDAP™ Перечитывать все файлы, так как они будут читаться и интерпретироваться по-разному. Если вам нужно удалить эти файлы, вы можете сделать это, когда ERDDAP™ Бежит. (Затем установите <a class="" href="/ru/docs/server-admin/additional-information#set-dataset-flag">флаг</a> Перезагрузить набор данных как можно скорее.) Однако, ERDDAP™ Как правило, отмечается, что datasets.xml Информация не совпадает с файлом Информация о таблице и автоматически удаляет таблицы файлов.</li>
<li class="">Если вы хотите поощрять ERDDAP™ для обновления сохраненной информации о наборе данных (Например, если вы просто добавили, удалили или изменили некоторые файлы в каталог данных набора данных.) Используйте <a class="" href="/ru/docs/server-admin/additional-information#flag">флаговая система</a> принуждать ERDDAP™ Обновление кэшированной информации файла.
 </li>
</ul>
</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="handling-requests-1">Обработка запросов<a href="#handling-requests-1" class="hash-link" aria-label="Прямая ссылка наОбработка запросов" title="Прямая ссылка наОбработка запросов" translate="no">​</a></h5>
<ul>
<li class="">ERDDAP™ Запросы табличных данных могут накладывать ограничения на любую переменную.</li>
<li class="">Когда клиентский запрос на данные обрабатывается, EDDTableFromFiles может быстро заглянуть в таблицу с достоверной информацией о файле, чтобы увидеть, какие файлы могут иметь соответствующие данные. Например, если каждый исходный файл имеет данные для одного буя фиксированного местоположения, EDDTableFromFiles может очень эффективно определить, какие файлы могут иметь данные в заданном диапазоне долготы и широты.</li>
<li class="">Поскольку таблица достоверной информации о файлах содержит минимальное и максимальное значение каждой переменной для каждого действительного файла, EDDTable FromFiles часто может обрабатывать другие запросы довольно эффективно. Например, если у некоторых буев нет датчика давления воздуха, и клиент запрашивает данные для AirPressure! = NaN, EDDTableFromFiles может эффективно определить, какие буи имеют данные давления воздуха.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="updating-the-cached-file-information-1">Обновление кэшированной файловой информации<a href="#updating-the-cached-file-information-1" class="hash-link" aria-label="Прямая ссылка наОбновление кэшированной файловой информации" title="Прямая ссылка наОбновление кэшированной файловой информации" translate="no">​</a></h5>
<p>Всякий раз, когда набор данных перезагружается, информация кэшированного файла обновляется.</p>
<ul>
<li class="">Набор данных периодически перезагружается, как определено&lt;перезагрузить EveryNMinutes&gt; в наборе данных datasets.xml .</li>
<li class="">Набор данных перезагружается как можно скорее, когда это возможно. ERDDAP™ Выявляете, что вы добавили, удалили, <a href="https://en.wikipedia.org/wiki/Touch_(Unix)" target="_blank" rel="noopener noreferrer" class="">касаться</a> (Чтобы изменить последний файл Измененное время) или изменить файл данных.</li>
<li class="">Набор данных перезагружается как можно скорее, если вы используете <a class="" href="/ru/docs/server-admin/additional-information#flag">флаговая система</a> .</li>
</ul>
<p>Когда данные перезагружаются, ERDDAP™ Сопоставляет имеющиеся в настоящее время файлы с таблицей кэшированной информации о файлах. Новые файлы читаются и добавляются в действующую таблицу файлов. Файлы, которые больше не существуют, выпадают из таблицы файлов. Файлы, в которых изменилась временная метка файла, считываются, и их информация обновляется. Новые таблицы заменяют старые таблицы в памяти и на диске.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="bad-files-1">Плохие файлы<a href="#bad-files-1" class="hash-link" aria-label="Прямая ссылка наПлохие файлы" title="Прямая ссылка наПлохие файлы" translate="no">​</a></h5>
<p>Таблица плохих файлов и причины, по которым файлы были объявлены плохими (поврежденный файл, отсутствующие переменные, неправильные значения оси и т.д.) отправляется по электронной почте Все На адрес электронной почты (Возможно, вы) Каждый раз, когда набор данных перезагружается. Вы должны заменить или восстановить эти файлы как можно скорее.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="missing-variables-1">Пропавшие переменные<a href="#missing-variables-1" class="hash-link" aria-label="Прямая ссылка наПропавшие переменные" title="Прямая ссылка наПропавшие переменные" translate="no">​</a></h5>
<p>Если некоторые файлы не имеют dataVariable s определено в наборе данных datasets.xml Кусок, все в порядке. Когда EDDTableFromFiles считывает один из этих файлов, он будет действовать так, как если бы в файле была переменная, но со всеми отсутствующими значениями.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="near-real-time-data">Данные в реальном времени<a href="#near-real-time-data" class="hash-link" aria-label="Прямая ссылка наДанные в реальном времени" title="Прямая ссылка наДанные в реальном времени" translate="no">​</a></h5>
<ul>
<li class="">EDDTableFromFiles рассматривает запросы на самые последние данные как особый случай. Проблема: Если файлы, составляющие набор данных, обновляются часто, вполне вероятно, что набор данных не будет обновляться каждый раз, когда файл изменяется. Таким образом, EDDTableFromFiles не будет знать об изменённых файлах. (Вы можете использовать <a class="" href="/ru/docs/server-admin/additional-information#flag">флаговая система</a> Но это может привести к ERDDAP™ Перезагрузка набора данных практически постоянно. В большинстве случаев мы не рекомендуем его.) Вместо этого EDDTableFromFiles работает со следующей системой: Когда ERDDAP™ Получение запроса данных в течение последних 20 часов (Например, 8 часов назад до настоящего времени) , ERDDAP™ Мы будем искать все файлы, которые имеют какие-либо данные за последние 20 часов. Таким образом, ERDDAP™ Не нужно иметь полностью обновленные данные для всех файлов, чтобы найти последние данные. Вы все еще должны установить [&lt;перезаряжать EveryNMinutes &gt; (#reloadeverynminutes) с достаточно небольшой стоимостью (Например, 60) Но он не должен быть крошечным (Например, 3) .
 <!-- -->
<ul>
<li class="">
<p><strong>Не рекомендуется</strong> Организация данных в режиме реального времени в файлах: Если, например, у вас есть набор данных, который хранит данные для многочисленных станций. (или буй, или траектория,) В течение многих лет вы можете упорядочить файлы так, чтобы, например, был один файл на станцию. Но каждый раз, когда приходят новые данные для станции, нужно прочитать большой старый файл и написать большой новый файл. И когда ERDDAP™ Перезагружает набор данных, он замечает, что некоторые файлы были изменены, поэтому он полностью считывает эти файлы. Это неэффективно.
 </p>
</li>
<li class="">
<p><strong>рекомендованный</strong> Организация данных в режиме реального времени в файлах: Храните данные в кусках, например, все данные для одной станции / буя / траектории в течение одного года. (или один месяц) . Затем, когда появляется новая дата, только файл с этим годом. (или месяцев) Данные затронуты.</p>
</li>
<li class="">
<p>Лучшее: Использовать NetCDF v3 .nc Файлы с неограниченным размером (время) . Затем, чтобы добавить новые данные, вы можете просто добавить новые данные без необходимости читать и переписывать весь файл. Изменение производится очень эффективно и по существу атомарно, поэтому файл никогда не находится в непоследовательном состоянии.</p>
</li>
<li class="">
<p>Если вы не можете / не можете использовать .nc Файлы с неограниченным размером (время) Затем, когда вам нужно добавить новые данные, вы должны прочитать и переписать весь затронутый файл. (Надеюсь, он маленький, потому что у него всего год. (или месяцев) ценность данных) . К счастью, все файлы за предыдущие годы (месяцев) При этом станция остается неизменной.</p>
</li>
</ul>
</li>
</ul>
<p>В обоих случаях, когда ERDDAP™ Перезагружает набор данных, большинство файлов неизменны; только несколько, небольшие файлы изменились и должны быть прочитаны.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="directories-1">Директории<a href="#directories-1" class="hash-link" aria-label="Прямая ссылка наДиректории" title="Прямая ссылка наДиректории" translate="no">​</a></h5>
<p>Файлы могут быть в одном каталоге или в каталоге и его подкаталогах. (рекурсивно) . Если имеется большое количество файлов (Например, &gt;1000) , операционная система (и, таким образом, EDDTable FromFiles) Работает намного эффективнее, если хранить файлы в серии подкаталогов. (один в год или один в месяц для наборов данных с очень частыми файлами) Чтобы никогда не было большого количества файлов в данном каталоге.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="remote-directories-and-http-range-requests-1">Дистанционные каталоги и HTTP Range Requests<a href="#remote-directories-and-http-range-requests-1" class="hash-link" aria-label="Прямая ссылка наДистанционные каталоги и HTTP Range Requests" title="Прямая ссылка наДистанционные каталоги и HTTP Range Requests" translate="no">​</a></h5>
<ul>
<li class="">
<p><strong>Дистанционные каталоги и HTTP Range Requests</strong>   (AKA Byte Serving, Byte Range) -
EDDGrid FromNcFiles, EDDTableFromMultidimNcFiles, EDDTableFromNcFiles и EDDTableFromNcCFFiles иногда могут обслуживать данные из .nc файлы на удаленных серверах и доступ к ним через HTTP, если сервер поддерживает <a href="https://en.wikipedia.org/wiki/Byte_serving" target="_blank" rel="noopener noreferrer" class="">Байт обслуживает</a> HTTP-запросы диапазона (Механизм HTTP для байтового обслуживания) . Это возможно благодаря Netcdf-java. (который ERDDAP™ использовать для чтения .nc файлы) Поддержка чтения данных с удаленного .nc Файлы через HTTP-запросы.</p>
<p><strong>Не делай этого!</strong><br>
<!-- -->Вместо этого используйте [&lt;cacheFromUrl&gt;система (#cachefromurl) .</p>
</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="cachefromurl">CacheFromUrl<a href="#cachefromurl" class="hash-link" aria-label="Прямая ссылка наCacheFromUrl" title="Прямая ссылка наCacheFromUrl" translate="no">​</a></h5>
<ul>
<li class="">[править] ** &lt;CacheFromUrl&gt; ** ] (#cachefromurl) -
Все EDDGrid FromFiles и все наборы данных EDDTableFromFiles поддерживают набор тегов, которые сообщают ERDDAP™ загружать и поддерживать копию всех файлов удаленного набора данных или кэш нескольких файлов (скачать по мере необходимости) . <strong>Это невероятно полезная функция.</strong>
<ul>
<li class="">
<p>The&lt;Тег cacheFromUrl&gt; позволяет указать URL-адрес со списком файлов удаленного набора данных из списка удаленных файлов.</p>
<ul>
<li class="">Неагрегированные наборы данных в THREDDS, например,
<a href="https://data.nodc.noaa.gov/thredds/catalog/aquarius/nodc%5C%5C_binned%5C%5C_V3.0/monthly/" target="_blank" rel="noopener noreferrer" class="">https://data.nodc.noaa.gov/thredds/catalog/aquarius/nodc\\_binned\\_V3.0/monthly/</a>  \[ 2020-10-21 Этот сервер больше не доступен. \]</li>
<li class="">Неагрегированные наборы данных в Hyrax Например,
<a href="https://podaac-opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/" target="_blank" rel="noopener noreferrer" class="">https://podaac-opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/</a></li>
<li class="">Большинство Apache-подобных каталогов, например,
<a href="https://www.ncei.noaa.gov/data/global-precipitation-climatology-project-gpcp-daily/" target="_blank" rel="noopener noreferrer" class="">https://www.ncei.noaa.gov/data/global-precipitation-climatology-project-gpcp-daily/</a></li>
<li class="">Ведра S3, например,
<a href="https://noaa-goes17.s3.us-east-1.amazonaws.com/" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com/</a><br>
<!-- -->Однако для этого может потребоваться учетная запись AWS и дополнительная настройка.
Видишь? <a href="#working-with-aws-s3-files" class="">Обсуждение S3 Buckets in ERDDAP™ </a> .
Кроме того, вам обычно не нужно использовать кэш. FromUrl с файлами в корзинах S3, если файлы являются файлами ASCII (Например, .csv) Потому что ERDDAP™ Может эффективно считывать данные из ведра непосредственно через поток.</li>
</ul>
<p>ERDDAP™ будет копировать или кэшировать эти файлы в наборе данных&lt;FileDir&gt; каталог. Если вам нужна поддержка другого типа удаленного списка файлов (Например, FTP) Пожалуйста, отправьте свой запрос Крису. Джон на noaa.gov.</p>
<ul>
<li class="">Значение по умолчанию для&lt;cacheFromUrl&gt; tag является нулевым. Если не указать значение для&lt;cacheFromUrl&gt; tag, система копирования/кэша не будет использоваться для этого набора данных.</li>
<li class="">Если набор данных&lt;FileRegex&gt;&gt; Постановка — это нечто иное, чем... ERDDAP™ Мы будем загружать только те файлы, которые соответствуют файлу Regex.</li>
<li class="">Если набор данных&lt;рекурсивная настройка является истинной, а удаленные файлы находятся в подкаталогах; ERDDAP™ будет искать в удаленных подкаталогах, которые соответствуют набору данных [&lt;PathRegex&gt; (#патрегекс) Создайте ту же структуру каталогов локально и поместите локальные файлы в те же подкаталоги.</li>
<li class="">В генерации наборов данных Xml, если указать&lt;CacheFromUrl&gt; значение, генерировать Наборы данных Xml создаст локальный&lt;FileDir&gt; каталог и копирование 1 удаленного файла в него. Генерировать наборы данных Xml будет генерировать datasets.xml кусочек, основанный на этом образце файла (конкретный образец Файл = ничего) .</li>
<li class="">Если источник данных удаленный ERDDAP™ использовать <a href="#eddfromerddap" class=""> EDDGrid Из Эрддапа</a> или <a href="#eddfromerddap" class="">EDDTable FromErddap</a> вместо того, чтобы&lt;cacheFromUrl&gt;. Таким образом, ваш местный ERDDAP™ Похоже, что у вас есть набор данных, но вам не нужно хранить какие-либо данные локально. Единственная причина использовать&lt;cacheFromUrl&gt; для получения данных с пульта ERDDAP™ Это когда у вас есть другая причина, по которой вы хотите иметь локальную копию файлов данных. В этом случае:<!-- -->
<ul>
<li class="">Этот набор данных будет пытаться подписаться на набор данных на удаленном устройстве. ERDDAP Чтобы изменения в этом наборе данных называли флаг этого набора данных Url, заставляя этот локальный набор данных перезагружать и загружать измененные удаленные файлы. Таким образом, локальный набор данных будет обновлен очень скоро после внесения изменений в удаленный набор данных.</li>
<li class="">Вы должны написать администратору удаленного ERDDAP™ просить о datasets.xml для удаленного набора данных, чтобы вы могли сделать набор данных в своем локальном ERDDAP™ Как выглядит набор данных в пульте ERDDAP .</li>
</ul>
</li>
<li class="">Если источник данных удаленный ERDDAP™ , локальный набор данных будет пытаться подписаться на удаленный набор данных.<!-- -->
<ul>
<li class="">Если подписка удалась, каждый раз, когда удаленный ERDDAP Перезагружает и имеет новые данные, он свяжется с flagURL для этого набора данных, заставляя его перезагружать и загружать новые и / или измененные файлы данных.</li>
<li class="">Если подписка не работает (по какой бы то ни было причине) или если вы просто хотите убедиться, что локальный набор данных обновлен, вы можете установить <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> для локального набора данных, поэтому он будет перезагружаться, поэтому он будет проверять новые и / или измененные удаленные файлы данных.</li>
</ul>
</li>
<li class="">Если источник данных не является удаленным ERDDAP Набор данных будет проверять наличие новых и/или измененных удаленных файлов при перезагрузке. Обычно это контролируется [&lt;перезаряжать EveryNMinutes &gt; (#reloadeverynminutes) . Но если вы знаете, когда есть новые удаленные файлы, вы можете установить <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> для локального набора данных, поэтому он будет перезагружать и проверять новые и / или измененные удаленные файлы данных. Если это происходит регулярно в определенное время суток (Например, в 7 утра) Вы можете сделать работу cron, чтобы использовать curl Чтобы связаться с флагом Url для этого набора данных, поэтому он будет перезагружать и проверять новые и / или измененные удаленные файлы данных.</li>
</ul>
</li>
<li class="">
<p>The&lt;Тег cacheSizeGB&gt; определяет размер локального кэша. Возможно, вам нужно использовать его только при работе с облачными системами хранения данных. <a href="https://aws.amazon.com/s3/" target="_blank" rel="noopener noreferrer" class="">Amazon S3</a> обычно используемая система хранения, которая является частью <a href="https://aws.amazon.com/" target="_blank" rel="noopener noreferrer" class="">Amazon Web Services (AWS) </a> . По умолчанию - -1.</p>
<ul>
<li class="">Если ценность является&lt;= 0 (Например, значение по умолчанию -1) ,
ERDDAP™ будет загружать и поддерживать <strong>Полная копия</strong> Все файлы удаленного набора данных в наборе данных&lt;FileDir&gt;.<!-- -->
<ul>
<li class="">Это установка, которая рекомендуется, когда это возможно.</li>
<li class="">Каждый раз, когда набор данных перезагружается, он сравнивает имена, размеры и последние измененные времена удаленных файлов и локальных файлов и загружает любые удаленные файлы, которые являются новыми или изменились.</li>
<li class="">Если файл на удаленном сервере исчезнет, ERDDAP™ не удаляет соответствующий локальный файл (В противном случае, если что-то временно не так с удаленным сервером, ERDDAP™ Вы можете удалить некоторые или все локальные файлы.) .</li>
<li class="">С этой настройкой, как правило, вы будете устанавливать&lt;Обновите EveryNMillis&gt; до -1, поскольку набор данных знает, когда он скопировал новые файлы данных на место.</li>
</ul>
</li>
<li class="">Если значение &gt;0,
ERDDAP™ загружать файлы из удаленного набора данных по мере необходимости в локальный <strong>кэш</strong> (в наборе данных)&lt;fileDir&gt;) с пороговым размером указанного количества ГБ.<!-- -->
<ul>
<li class="">Кэш должен быть достаточно большим, чтобы вместить как минимум несколько файлов данных.</li>
<li class="">В общем, чем больше кэш, тем лучше, потому что следующий запрашиваемый файл данных, скорее всего, уже будет в кэше.</li>
<li class="">Кеширование следует использовать только тогда, когда ERDDAP™ работает на сервере облачных вычислений (Например, пример вычислений AWS) удаленные файлы в облачной системе хранения (Например, AWS S3) .</li>
<li class="">Когда дисковое пространство, используемое локальными файлами, превышает кэш SizeGB, ERDDAP™ Скоро будет (Может быть, не сразу) удалить некоторые из кэшированных файлов (В настоящее время, на основе наименее используемых (Лу) алгоритм) пока дисковое пространство, используемое локальными файлами, не&lt;0.75**CacheSizeGB («Цель») . Да, бывают случаи, когда LRU работает очень плохо — нет идеального алгоритма.</li>
<li class="">ERDDAP™ Никогда не пытаться удалить кэшированный файл, который ERDDAP™ Его начали использовать в течение последних 10 секунд. Это несовершенная система для работы с кэш-системой и системой чтения файлов данных, которая только слабо интегрирована. Благодаря этому правилу, ERDDAP™ Возможно, не удастся удалить достаточное количество файлов, чтобы достичь своей цели, и в этом случае он будет печатать ПРЕДУПРЕЖДЕНИЕ к файлу log.txt, и система будет тратить много времени, пытаясь обрезать кэш, и возможно, что размер файлов в кэше может значительно превышать кэшSizeGB. Если это когда-либо произойдет, используйте для этого набора данных более крупный набор CacheSizeGB.</li>
<li class="">В настоящее время ERDDAP™ Никогда не проверяйте, есть ли на удаленном сервере новая версия файла в локальном кэше. Если вам нужна эта функция, пожалуйста, напишите Крису. Джон на noaa.gov.</li>
</ul>
</li>
<li class="">Хотя использование одних и тех же названий тегов может означать, что система копирования и система кэша используют одну и ту же базовую систему, это неверно.<!-- -->
<ul>
<li class="">Система копирования активно запускает задачи Thread для загрузки новых и измененных файлов каждый раз, когда набор данных перезагружается. Только файлы, которые были скопированы в локальный каталог, доступны через ERDDAP™ набор данных.</li>
<li class="">Система кэша получает список удаленных файлов каждый раз, когда набор данных перезагружается, и делает вид, что все эти файлы доступны через файл. ERDDAP™ набор данных. Интересно, что все удаленные файлы даже отображаются на /файлах / веб-страницах набора данных и доступны для загрузки. (Хотя, возможно, только после задержки, когда файл сначала загружается с удаленного сервера в локальный кэш.)</li>
</ul>
</li>
<li class="">Наборы данных, использующие CacheSizeGB, могут извлечь выгоду из использования <a href="#nthreads" class="">nПотоки</a> установка более 1, поскольку это позволит набору данных загружать более 1 удаленного файла одновременно.</li>
</ul>
</li>
<li class="">
<p>The&lt;тег cachePartialPathRegex&gt; - это редко используемый тег, который может указать альтернативу для набора данных.&lt;PathRegex&gt; (#патрегекс) . Дефолт является нулевым.</p>
<ul>
<li class="">Используйте это, только если вы копируете весь набор данных по умолчанию.&lt;cacheSizeGB&gt; значение -1.&lt;cacheSizeGB&gt; значения &gt;1, это будет проигнорировано, потому что это бессмысленно.</li>
<li class="">См. [документация для&lt;PathRegex&gt; (#патрегекс) Наставление о том, как построить регекс.</li>
<li class="">Если это указано, он будет использоваться каждый раз, когда набор данных перезагружается, за исключением первого раза, когда набор данных перезагружается в начале месяца.</li>
<li class="">Это полезно, когда удаленный набор данных хранится в лабиринте подкаталогов и когда подавляющее большинство этих файлов редко, если вообще когда-либо, изменяются. ()&lt;кашель НАСА&lt;кашель Например, вы можете указать&lt;cachePartialPathRegex, который соответствует текущему году или текущему месяцу. Эти регексы очень сложно указать, потому что все частичные и полные названия путей должны соответствовать .&lt;PartialPathRegex и потому, что&lt;cachePartialPathRegex&gt; должен работать с удаленными URL и локальными каталогами. Примером реальной жизни является:</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;cacheFromUrl&gt;https://data.nodc.noaa.gov/ghrsst/GDS2/L4/GLOB/JPL/MUR/v4.1/&lt;/cacheFromUrl&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            \\&gt;!-- \\[2020-10-21 This server is no longer reliably available.\\] For most types of remote directories, omit the filename (e.g., contents.html for Hyrax). --&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;fileDir&gt;/u00/satellite/MUR41/&lt;/fileDir&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;fileNameRegex&gt;\\*\\.nc&lt;/fileNameRegex&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;recursive&gt;true&lt;/recursive&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;pathRegex&gt;.\\*&lt;/pathRegex&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;cachePartialPathRegex&gt;.\\*/v4\\.1/(|2018/(|01./))&lt;/cachePartialPathRegex&gt;  </span><br></span></code></pre></div></div>
<p>Образец URL выше имеет файлы в подкаталогах на основе года. (например, 2018) и день в году (Например, 001, 002, ..., 365 или 366) .
Обратите внимание, что&lt;CachePartialPathRegex Начнем с .*,
затем имеет специальный подкаталог, который является общим для удаленных URL-адресов и локальных каталогов, например, /v4\.1/
Затем есть серия вложенных групп захвата, где первый вариант - ничто.
Второй вариант – это конкретное значение.</p>
<p>Приведенный выше пример будет соответствовать каталогам только в течение следующих 10 дней 2018 года, например:
<a href="https://data.nodc.noaa.gov/ghrsst/GDS2/L4/GLOB/JPL/MUR/v4.1/2018/010/" target="_blank" rel="noopener noreferrer" class="">https://data.nodc.noaa.gov/ghrsst/GDS2/L4/GLOB/JPL/MUR/v4.1/2018/010/</a>  \[ 2020-10-21 Этот сервер больше не доступен. \]<br>
<!-- -->день 011, 012, ..., 019.
(Посмотри. <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">нормативная документация</a> и <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">учебник по регексу</a> .)<br>
<!-- -->Если вам нужна помощь в создании&lt;cachePartialPathRegex&gt;, пожалуйста, напишите нам&lt;CacheFromUrl &gt; Крис. Джон на noaa.gov.</p>
<ul>
<li class="">Общий подход: Если вы хотите использовать&lt;cachePartialPathRegex&gt;, не используйте его изначально, потому что вы хотите ERDDAP™ Сначала загрузите все файлы. После ERDDAP™ Загрузил все файлы, добавьте их в набор данных datasets.xml .
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="thousands-of-files">Тысячи файлов<a href="#thousands-of-files" class="hash-link" aria-label="Прямая ссылка наТысячи файлов" title="Прямая ссылка наТысячи файлов" translate="no">​</a></h5>
<p>Если в вашем наборе данных много тысяч файлов, ERDDAP™ Они могут медленно реагировать на запросы данных из этого набора данных. Здесь есть два вопроса:
 </p>
<ol>
<li class="">Количество файлов в каталоге.
Внутренне, ERDDAP™ Работает с одинаковой скоростью независимо от того, находятся ли n файлов в одном каталоге или разбросаны по нескольким каталогам.
 
Но есть проблема: Чем больше файлов в данном каталоге, тем медленнее операционная система возвращает список файлов в каталоге. (в файл) то ERDDAP . Время отклика может быть О (n log n) . Трудно сказать, сколько файлов в одном каталоге слишком много, но 10 000, вероятно, слишком много. Таким образом, если ваша настройка генерирует много файлов, здесь может быть рекомендация: поместите файлы в логически организованные подкаталоги. (Например, станция или станция/год) .</li>
</ol>
<p>Еще одна причина использовать подкаталоги: если пользователь хочет использовать ERDDAP ? &quot;files&quot; Система поиска имени самого старого файла для станции X быстрее и эффективнее, если файлы находятся в подкаталогах станции/год, потому что нужно передавать гораздо меньше информации.</p>
<ol start="2">
<li class="">Общее количество файлов.
Для табличных наборов данных, ERDDAP™ отслеживает диапазон значений для каждой переменной в каждом файле. Когда пользователь делает запрос, ERDDAP™ Он должен прочитать все данные из всех файлов, которые могут содержать данные, соответствующие запросу пользователя. Если пользователь запрашивает данные с ограниченного времени (Например, один день или один месяц) Тогда ERDDAP™ Вам не придется открывать слишком много файлов в вашем наборе данных. Но есть крайние случаи, когда почти каждый файл может иметь совпадающие данные. (Например, когда температура воды = 13,2C) . Поскольку это требует ERDDAP™ Немного времени (частично время поиска на HDD, частично время чтения заголовка файла) Чтобы открыть данный файл (Больше, если в каталоге много файлов) Существует значительный штраф за время, если общее количество файлов, которые ERDDAP™ Открытие должно быть очень большим. Даже открытие 1000 файлов занимает много времени. Таким образом, есть преимущества для периодической консолидации ежедневных файлов в большие куски. (1 станция в течение 1 года) . Я понимаю, что вы можете не хотеть делать это по разным причинам, но это приводит к гораздо более быстрым ответам. В крайних случаях (Например, я имею дело с набором данных GTSPP, который имеет ~ 35 миллионов исходных файлов.) Обслуживание данных из огромного количества исходных файлов нецелесообразно, поскольку ERDDAP Ответ на простые запросы может занять несколько часов и использовать тонны памяти. Консолидация исходных файлов в меньшее число (Для ГЦПП у меня сейчас 720, 2 в месяц) , ERDDAP™ Они могут реагировать достаточно быстро. Видишь? <a href="#millions-of-files" class="">Миллионы файлов</a><br>
<!-- --> </li>
</ol>
<p>Н.Б. Твердые государственные приводы великолепны! Самый быстрый, простой и дешевый способ помочь ERDDAP™ Сделка с огромным количеством (маленький) Файлы должны использовать твердотельный диск. Видишь? <a class="" href="/ru/docs/server-admin/additional-information#solid-state-drives">Твердые государственные приводы великолепны!</a><br>
<!-- --> </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="millions-of-files">Миллионы файлов<a href="#millions-of-files" class="hash-link" aria-label="Прямая ссылка наМиллионы файлов" title="Прямая ссылка наМиллионы файлов" translate="no">​</a></h5>
<ul>
<li class="">
<p>Некоторые наборы данных имеют миллионы исходных файлов. ERDDAP™ С этим можно справиться, но со смешанными результатами.</p>
<ul>
<li class="">Для запросов, которые включают только переменные, перечисленные в [&lt; subsetVariables &gt; (#subsetvariables) , ERDDAP™ Он имеет всю необходимую информацию, уже извлеченную из файлов данных и сохраненную в одном файле, поэтому он может реагировать очень быстро.</li>
<li class="">По другим просьбам, ERDDAP™ Может сканировать набор данных <a href="#cached-file-information" class="">Информация о кэшированном файле</a> И выясните, что только некоторые файлы могут иметь данные, которые имеют отношение к запросу и, таким образом, быстро отвечают.</li>
<li class="">Но для других запросов (Например, температура воды = 18°C) где любой файл может иметь соответствующие данные, ERDDAP™ Необходимо открыть большое количество файлов, чтобы увидеть, есть ли в каждом из них какие-либо данные, относящиеся к запросу. Файлы открываются последовательно. Любая операционная система и любая файловая система (кроме твердотельных накопителей) Это занимает много времени (так ERDDAP™ Медленно реагирует) И действительно завязывает файловую систему (так ERDDAP™ Медленно реагирует на другие запросы) .</li>
</ul>
</li>
</ul>
<p>К счастью, есть решение.</p>
<ol>
<li class="">Настройка набора данных на непубличный ERDDAP™   (Ваш персональный компьютер?) .</li>
<li class="">Создать и запустить сценарий, который запрашивает серию .nc Файлы CF, каждый с большой частью набора данных, как правило, период времени (Например, все данные за определенный месяц.) . Выберите период времени, чтобы все полученные файлы были менее 2 ГБ. (Но, надеюсь, больше 1 ГБ) . Если набор данных имеет данные в реальном времени, запустите скрипт для регенерации файла за текущий период времени. (Например, в этом месяце) часто (Каждые 10 минут? Каждый час?) . Просьбы к ERDDAP™ для .nc Файлы CF создают NetCDF v3 .nc Файл, который использует <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Дискретная геометрия выборки (DSG) </a> Структуры данных Ragged Array.</li>
<li class="">Установить <a href="#eddtablefromnccffiles" class="">EDDTable FromNcCFFiles</a> Набор данных для вашей публики ERDDAP™ который получает данные от .nc  (CF) Файлы. ERDDAP™ Вы можете быстро извлечь данные из этих файлов. А так как сейчас их десятки или сотни (Вместо миллионов) файлов, даже если ERDDAP™ Нужно открыть все файлы, это можно сделать быстро.</li>
</ol>
<p>Да, эта система требует некоторого времени и усилий для настройки, но она работает очень, очень хорошо. Большинство запросов данных обрабатываются в 100 раз быстрее, чем раньше.
\[ Боб знал, что это возможно, но это был Кевин О&#x27;Брайен, который первым сделал это и показал, что это работает хорошо. Сейчас, Боб использует это для набора данных GTSPP, который имеет около 18 миллионов исходных файлов. ERDDAP™ В настоящее время обслуживает около 500 .nc  (CF) Файлы. \]</p>
<p>Н.Б. Твердые государственные приводы великолепны! Самый быстрый, простой и дешевый способ помочь ERDDAP™ Сделка с огромным количеством (маленький) Файлы должны использовать твердотельный диск. Видишь? <a class="" href="/ru/docs/server-admin/additional-information#solid-state-drives">Твердые государственные приводы великолепны!</a><br>
<!-- --> </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="huge-files">Огромные файлы<a href="#huge-files" class="hash-link" aria-label="Прямая ссылка наОгромные файлы" title="Прямая ссылка наОгромные файлы" translate="no">​</a></h5>
<ul>
<li class="">Один огромный файл данных (Особенно большие файлы данных ASCII) Это может вызвать ошибку OutOfMemory. Если это проблема, то она должна быть очевидной, потому что ERDDAP™ Вы не сможете загрузить набор данных. Решение, если это возможно, заключается в разделении файла на несколько файлов. В идеале файл можно разделить на логические фрагменты. Например, если файл содержит данные за 20 месяцев, разделите его на 20 файлов, каждый из которых содержит данные за 1 месяц. Но есть и преимущества, даже если основной файл расщепляется произвольно. Этот подход имеет несколько преимуществ: а Это уменьшит объем памяти, необходимый для чтения файлов данных, до 1/20-го, поскольку за один раз читается только один файл. b) Часто, ERDDAP™ Он может обрабатывать запросы намного быстрее, потому что он должен искать только один или несколько файлов, чтобы найти данные для данного запроса. с) Если сбор данных продолжается, то существующие 20 файлов могут оставаться неизменными, и вам нужно только изменить один маленький новый файл, чтобы добавить данные следующего месяца в набор данных.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="ftp-troubleadvice-1">Проблемы FTP / Советы<a href="#ftp-troubleadvice-1" class="hash-link" aria-label="Прямая ссылка наПроблемы FTP / Советы" title="Прямая ссылка наПроблемы FTP / Советы" translate="no">​</a></h5>
<ul>
<li class="">Если вы FTP новые файлы данных ERDDAP™ сервера в то время как ERDDAP™ Бежит, есть шанс, что ERDDAP™ Перезагрузка набора данных во время процесса FTP. Это происходит чаще, чем вы думаете! Если это произойдет, файл будет выглядеть действительным. (имеет действительное имя) Но файл не действителен. Если ERDDAP™ пытается прочитать данные из этого недействительного файла, в результате ошибки файл будет добавлен в таблицу недействительных файлов. Это не хорошо. Чтобы избежать этой проблемы, используйте временное имя файла, например, ABC2005. .nc \_TEMP .Тогда тест FileNameRegex (см. ниже) Укажет, что это не соответствующий файл. После завершения процесса FTP переименуйте файл в правильное имя. Процесс переименования приведет к тому, что файл станет актуальным в одно мгновение.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="file-name-extracts">Файловое имя Extracts<a href="#file-name-extracts" class="hash-link" aria-label="Прямая ссылка наФайловое имя Extracts" title="Прямая ссылка наФайловое имя Extracts" translate="no">​</a></h5>
<p>\[ Эта особенность замедляется. Пожалуйста, используйте <a href="#filename-sourcenames" class="">\*\**Фильм псевдоним sourceName </a> Вместо этого. \]<br>
<!-- -->EDDTableFromFiles имеет систему для извлечения строки из каждого имени файла и использования ее для создания псевдопеременных данных. В настоящее время не существует системы для интерпретации этих строк как дат/времен. Существует несколько XML-тегов для настройки этой системы. Если вам не нужна часть или вся эта система, просто не указывайте эти теги или используйте значения «».</p>
<ul>
<li class="">PreExtractRegex является <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">регулярное выражение</a>   ( <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">учебник</a> ) Используется для идентификации текста, который должен быть удален из начала имени файла. Удаление происходит только при совпадении регекса. Обычно это начинается с «^», чтобы соответствовать началу имени файла.</li>
<li class="">пост ExtractRegex - это обычное выражение, используемое для идентификации текста, который удаляется из конца имени файла. Удаление происходит только при совпадении регекса. Обычно это заканчивается на «$», чтобы соответствовать концу имени файла.</li>
<li class="">ExtractRegex Если присутствует, это регулярное выражение используется после preExtractRegex и postExtractRegex для идентификации строки, которая должна быть извлечена из имени файла. (Например, если stationID ) . Если регекс не совпадает, используется все имя файла (минус предварительный выписка и пост выписка) . Используйте «.\*» для сопоставления всего имени файла, оставшегося после preExtractRegex и postExtractRegex.</li>
<li class="">колонка NameForExtract - это имя источника колонки данных для извлеченных строк. А. dataVariable с этим <a href="#sourcename" class=""> sourceName </a> Должно быть в dataVariable список (с любым типом данных, но обычно струна) .</li>
</ul>
<p>Например, если набор данных имеет файлы с именами, такими как XYZAble. .nc XYZBaker .nc XYZCharlie .nc Вы хотите создать новую переменную ( stationID ) при чтении каждого файла, который будет иметь значения идентификатора станции (Эйбл, Бейкер, Чарли, ...) Извлеченные из имен файлов, вы можете использовать эти теги:</p>
<ul>
<li class="">&lt;preExtractRegex&gt;^XYZ&lt;/preExtractRegex&gt;
Начальный ^ — это регулярное выражение особого характера, которое ERDDAP™ Поиск XYZ в начале имени файла. Это приводит к удалению XYZ, если он найден в начале имени файла. (Например, имя файла XYZAble .nc становится способным .nc ) .</li>
<li class="">&lt;PostExtractRegex .nc $&lt;/postExtractRegex
$ в конце - это обычное выражение особого характера. ERDDAP™ В поисках .nc В конце имени файла. Поскольку . является регулярным выражением особого характера (который соответствует любому персонажу) Он кодируется как \. здесь (потому что 2E является шестнадцатеричным числом символов для периода) . Это вызывает .nc Если он найден в конце имени файла, его нужно удалить. (Например, частичное имя файла способный .nc становится способным) .</li>
<li class="">&lt;ЭкстрактRegex&gt;.&lt;/tractRegex&gt;
Регулярное выражение совпадает со всеми остальными персонажами (Например, частичное имя файла Able становится экстрактом для первого файла) .</li>
<li class="">&lt;СтолбецNameForExtract stationID &lt;/columNameForExtract&gt;
Это говорит ERDDAP™ Создать новую колонку источника под названием stationID При чтении каждого файла. Каждая строка данных для данного файла будет иметь текст, извлеченный из его имени файла. (Например, способный) Как ценность в stationID колонна.</li>
</ul>
<p>В большинстве случаев для этих тегов экстракта существует множество значений, которые дают одинаковые результаты — регулярные выражения очень гибкие. Но в некоторых случаях есть только один способ получить желаемые результаты.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="pseudo-sourcenames">Псевдо sourceName s<a href="#pseudo-sourcenames" class="hash-link" aria-label="Прямая ссылка наПсевдо sourceName s" title="Прямая ссылка наПсевдо sourceName s" translate="no">​</a></h5>
<p>Каждая переменная в каждом наборе данных ERDDAP™ имеет [&lt; sourceName &gt; (#sourcename) который определяет имя источника переменной. EDDTableFromFiles поддерживает несколько псевдо sourceName которые извлекают ценность из другого места (Например, имя файла или значение глобального атрибута) и способствовать тому, чтобы это значение было столбцом постоянных значений для этой части данных. (Например, таблица данных этого файла) . Для этих переменных вы должны указать тип данных переменной через&lt;DataType&gt; (#тип данных) Тэг. Если извлеченная информация является строкой dateTime, вы указываете формат строки dateTime в строке dateTime. <a href="#string-time-units" class="">атрибут единицы</a> . псевдо sourceName Варианты следующие:
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="global-sourcenames">глобальный: sourceName s<a href="#global-sourcenames" class="hash-link" aria-label="Прямая ссылка наглобальный: sourceName s" title="Прямая ссылка наглобальный: sourceName s" translate="no">​</a></h6>
<p>Глобальный атрибут метаданных в каждом файле исходных данных может быть представлен в виде столбца данных. Если переменная&lt; sourceName &gt; Имеет формат</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;global:*attributeName*&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Тогда, когда ERDDAP™ считывает данные из файла, ERDDAP™ Мы будем искать глобальный атрибут этого имени. (Например, PI) и создать колонку, заполненную значением атрибута. Это полезно, когда атрибут имеет разные значения в разных исходных файлах, потому что в противном случае пользователи будут видеть только одно из этих значений для всего набора данных. Например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;global:PI&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Когда вы продвигаете атрибут, чтобы быть данными, ERDDAP™ удаляет соответствующий атрибут. Это уместно, потому что значение предположительно различно в каждом файле; в то время как в агрегированном наборе данных ERDDAP™ Он будет иметь только одну ценность. При желании можно добавить новое значение для атрибута для всего набора данных, добавив&lt;Att name=&quot;&quot; <em>атрибут Имя</em> &quot; <em>новый ценность</em> &lt;/att&gt; для глобального набора данных [&lt; addAttributes &gt; (#addattributes) . Глобальные атрибуты, которые ERDDAP™ требует, например, учреждения, необходимо добавить новое значение для атрибута.
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="variable-sourcenames">переменная: sourceName s<a href="#variable-sourcenames" class="hash-link" aria-label="Прямая ссылка напеременная: sourceName s" title="Прямая ссылка напеременная: sourceName s" translate="no">​</a></h6>
<p>Атрибут метаданных переменной в каждом файле может быть повышен до столбца данных. Если переменная&lt; <a href="#sourcename" class=""> sourceName </a> Имеет формат</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;variable:*variableName*:*attributeName*&lt;sourceName&gt;</span><br></span></code></pre></div></div>
<p>Тогда, когда ERDDAP™ считывает данные из файла, ERDDAP™ будет искать указанный атрибут (Например, ID) указанного переменного (Например, инструмент) и создать колонку, заполненную значением атрибута. Родительская переменная (Например, инструмент) Не обязательно быть одним из dataVariable s включены в определение набора данных в ERDDAP . Например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;variable:instrument:ID&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Это полезно, когда атрибут имеет разные значения в разных исходных файлах, потому что в противном случае пользователи будут видеть только одно из этих значений для всего набора данных.</p>
<p>Когда вы продвигаете атрибут, чтобы быть данными, ERDDAP™ удаляет соответствующий атрибут. Это уместно, потому что значение предположительно различно в каждом файле; в то время как в агрегированном наборе данных ERDDAP™ Он будет иметь только одну ценность. При желании можно добавить новое значение для атрибута для всего набора данных, добавив&lt;Att name=&quot;&quot; <em>атрибут Имя</em> &quot; <em>новый ценность</em> &lt;/att&gt; для переменной [&lt; addAttributes &gt; (#addattributes) . для атрибутов, которые ERDDAP™ требует, например, ioos\_category   (В зависимости от вашей настройки) Вы должны добавить новое значение для атрибута.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="filename-sourcenames">имя файла sourceName s<a href="#filename-sourcenames" class="hash-link" aria-label="Прямая ссылка наимя файла sourceName s" title="Прямая ссылка наимя файла sourceName s" translate="no">​</a></h6>
<p>Вы можете извлечь часть имени файла и продвигать его как столбец данных. Формат для этого псевдо [&lt; sourceName &gt; (#sourcename) это</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*fileName,*regex*,*captureGroupNumber*&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*fileName,A(\\d{12})\\.slcpV1.nc,1&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Когда EDDTableFromFiles считывает данные из файла, он будет следить за именем файла. (Например, A201807041442.slcpV1 .nc ) соответствует указанному регулярному выражению (&quot;регекс&quot;) и извлекать указанные (В этом случае первый) группа захвата (который является частью, окруженной скобками) Например, «201807041442». (Посмотри. <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">нормативная документация</a> и <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">учебник по регексу</a> .) Регекс может быть определен как строка с окружающими цитатами или без них. Если регекс указан как строка с окружающими котировками, строка должна быть <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer" class="">Струна в стиле JSON</a>   (с особыми персонажами, сбежавшими с персонажами) . Номер группы захвата обычно равен 1. (Первая группа захвата) Но это может быть любое число.
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="pathname-sourcenames">имя пути sourceName s<a href="#pathname-sourcenames" class="hash-link" aria-label="Прямая ссылка наимя пути sourceName s" title="Прямая ссылка наимя пути sourceName s" translate="no">​</a></h6>
<p>Вы можете извлечь часть полного пути файла Имя (/directories/fileName.ext) Пусть это будет колонка данных. Формат для этого псевдо [&lt; sourceName &gt; (#sourcename) это</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*pathName,*regex*,*captureGroupNumber*&lt;sourceName&gt;</span><br></span></code></pre></div></div>
<p>Например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*pathName,/data/myDatasetID/(\\[A-Z0-9\\]\\*)/B(\\d{12}).nc,1&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Когда EDDTableFromFiles считывает данные из файла, он гарантирует полное имя пути. (Например, /data/myDatasetID/BAY17/B201807041442 .nc . Для этого теста разделители каталогов всегда будут &#x27;/&#x27; Никогда, никогда &quot;) соответствует указанному регулярному выражению (&quot;регекс&quot;) и извлекать указанные (В этом случае первый) группа захвата (который является частью, окруженной скобками) Например, «BAY17». (Посмотри. <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">нормативная документация</a> и <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">учебник по регексу</a> .) Регекс может быть определен как строка с окружающими цитатами или без них. Если регекс указан как строка с окружающими котировками, строка должна быть <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer" class="">Струна в стиле JSON</a>   (с особыми персонажами, сбежавшими с персонажами) . Номер группы захвата обычно равен 1. (Первая группа захвата) Но это может быть любое число.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="0-files-error-message-2">&quot;0 файлов&quot; сообщение об ошибке<a href="#0-files-error-message-2" class="hash-link" aria-label="Прямая ссылка на&quot;0 файлов&quot; сообщение об ошибке" title="Прямая ссылка на&quot;0 файлов&quot; сообщение об ошибке" translate="no">​</a></h5>
<ul>
<li class="">Если бежишь <a href="#generatedatasetsxml" class="">Генерировать наборы данныхXml</a> или <a href="#dasdds" class="">DasDds</a> Если вы пытаетесь загрузить EDDTable из... Файлы Dataset in ERDDAP™ , и вы получаете сообщение об ошибке «0 файлов», указывающее, что ERDDAP™ найдено 0 совпадающих файлов в каталоге (Когда вы думаете, что в этом каталоге есть соответствующие файлы) :<!-- -->
<ul>
<li class="">Убедитесь, что файлы действительно находятся в этом каталоге.</li>
<li class="">Проверьте написание названия каталога.</li>
<li class="">Проверьте файл NameRegex. Очень, очень легко делать ошибки с регексами. Для целей тестирования попробуйте regex .\*, который должен соответствовать всем именам файлов. (Посмотри. <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">нормативная документация</a> и <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">учебник по регексу</a> .)</li>
<li class="">Убедитесь, что пользователь, который запускает программу (Пользователь=tomcat (?) Для Tomcat/ ERDDAP ) У вас есть разрешение «читать» эти файлы.</li>
<li class="">В некоторых операционных системах (Например, SELinux) В зависимости от системных настроек пользователь, который запустил программу, должен иметь разрешение «читать» для всей цепочки каталогов, ведущих в каталог, в котором есть файлы.
 </li>
</ul>
</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="standardizewhat">стандартизировать Что?<a href="#standardizewhat" class="hash-link" aria-label="Прямая ссылка настандартизировать Что?" title="Прямая ссылка настандартизировать Что?" translate="no">​</a></h5>
<ul>
<li class="">Когда любой подкласс EDDTableFromFiles объединяет набор исходных файлов, для данной переменной все исходные файлы должны иметь одинаковые значения атрибутов для нескольких атрибутов: scale\_factor , add\_offset Неподписанный, missing\_value , \_FillValue и единицы. Подумайте об этом: если один файл имеет блоки скорости ветра = узлы, а другой имеет блоки скорости ветра = m / с, то значения данных из двух файлов не должны быть включены в один и тот же агрегированный набор данных. Таким образом, когда EDDTableFromFiles сначала создает набор данных, он считывает значения атрибутов из одного файла, а затем отклоняет все файлы, которые имеют разные значения для этих важных атрибутов. Для большинства коллекций файлов это не проблема, потому что атрибуты всех переменных согласованы. Однако для других коллекций файлов это может привести к тому, что 1%, 10%, 50%, 90% или даже 99% файлов будут отклонены как «плохие» файлы. Это проблема.</li>
</ul>
<p>EDDTable From Files имеет систему для решения этой проблемы: стандартизация Что. Стандартизировать Настройка говорит EDDTableFromFiles стандартизировать файлы, как только он их читает, прежде чем EDDTableFromFiles смотрит на атрибуты, чтобы увидеть, являются ли они последовательными.</p>
<p>С другой стороны, если набор данных не имеет этой проблемы, не используйте стандартизацию. Что. стандартизировать Что такое потенциальные риски (обсужден ниже) и неэффективности. Поэтому, если вам не нужны функции стандартизации Нет необходимости сталкиваться с потенциальными рисками и неэффективностью. Самая большая неэффективность заключается в том, что различные стандарты Какие опции используются набором данных, это означает, что исходные файлы хранят данные значительно по-разному. (Например, с различными scale\_factor и add\_offset или со строками времени, использующими различные форматы) . Таким образом, для данного ограничения в запросе пользователя не существует способа для ERDDAP™ создать ограничение на уровне одного источника, которое может быть применено ко всем исходным файлам. Так ERDDAP™ Они могут применять ограничения только на более высоком уровне. Так ERDDAP™ Необходимо прочитать данные из большего количества файлов, прежде чем применять ограничения более высокого уровня назначения. Запросы на наборы данных, которые используют стандартизацию Что требует больше времени для обработки.</p>
<p>Чтобы использовать эту систему, нужно указать</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;standardizeWhat&gt;*standardizeWhat*&lt;/standardizeWhat&gt;  </span><br></span></code></pre></div></div>
<p>в <a href="#eddtablefromfiles-skeleton-xml" class=""> datasets.xml Для EDDTable из... Набор данных файлов</a> (в пределах&lt;dataset&gt; tag.</p>
<p>The <em>стандартизировать Что?</em> Значение указывает, какие изменения EDDTable FromFiles следует попытаться применить. Изменения представляют собой сумму некоторой комбинации:</p>
<ol>
<li class="">распаковать
Это делает много общих и безопасных операций для стандартизации числовых столбцов в файлах:<!-- -->
<ul>
<li class="">Если scale\_factor и/или add\_offset атрибуты присутствуют, удаляют их и применяют для распаковки значений данных.</li>
<li class="">Упакованные атрибуты (Например, real_min, actual_max, actual\_range , data\_min , data\_max , data\_range, valid\_min , valid\_max , valid\_range ) , если присутствует, если переменная была упакована, и если значения атрибутов были упакованы (Это сложно, но достаточно надежно) .</li>
<li class="">Если \_FillValue и/или missing\_value Присутствуют, преобразуют эти значения данных в ERDDAP &quot;стандартные&quot; недостающие значения: MAX\_VALUE для целых типов (например, 127 для байтов, 32 767 для коротких и 2 147 483 647 для интов, 9223372036854775807 Для длинных) Для двойников и поплавков.</li>
<li class="">Удалить старую \_FillValue и/или missing\_value атрибуты (если есть) , и заменить их просто \_FillValue= \[ тот ERDDAP™ Стандартное недостающее значение \] .
 </li>
</ul>
</li>
<li class="">Стандартизация числовых времен
Если числовая колонка имеет числовые временные единицы в стиле CF (&quot; <em>Время</em> с тех пор <em>время</em> &quot;, например, &quot;дни с 1900-01-01&quot;) Это преобразует дату Временные ценности в &quot;seconds since 1970-01-01T00:00:00Z&quot; Значения и изменения атрибутов единиц указывают на это.
Если это выбрано и есть вероятность, что эта переменная scale\_factor или add\_offset Также необходимо выбрать #1.
 </li>
<li class="">Применять струну missing\_value<br>
<!-- -->Если столбец строки имеет \_FillValue и/или missing\_value атрибуты, это преобразует эти значения в «» и удаляет атрибуты.
 </li>
<li class="">Найти числовой missing\_value<br>
<!-- -->Если числовой столбец не имеет \_FillValue missing\_value атрибуты, это пытается идентифицировать неопределенное число missing\_value   (Например, -999, 9999, 1e37f) и конвертировать его экземпляры в «стандартные» значения (MAX\_VALUE для целых типов, и NAN для двойных и плавающих) .
<strong>Этот вариант имеет риск:</strong> если наибольшее или наименьшее действительное значение данных выглядит как недостающее значение (Например, 999) Затем эти действительные значения данных преобразуются в недостающие значения. (Например, NaN) .
 </li>
<li class="">Изменить строку &quot;N/A&quot; на &quot;&quot;
Для каждого столбца струн преобразуйте несколько строк, обычно используемых для указания отсутствующего значения струны в «». В настоящее время это выглядит как «», «...», «-», «?», «???», «N/A», «NA», «None», «not applicable», «null», «unknown», «unspecified». Струнный поиск нечувствителен к регистру и применяется после того, как строки обрезаны. «Другого» и «Другого» в списке нет.
<strong>Этот вариант имеет риск:</strong> Струны, которые вы считаете действительными, могут быть преобразованы в «».
 </li>
<li class="">Стандартизация по струнам ISO 8601 DateTimes
Для каждого столбца струн попробуйте преобразовать не чисто числовые даты струн. (Например, «2 января 2018 года») Стандарт ISO 8601 String dateTimes (&quot;2018-01-02&quot;) .
<strong>Примечание</strong> Все значения данных для столбца должны использовать один и тот же формат, в противном случае эта опция не будет вносить никаких изменений в данный столбец.
<strong>Этот вариант имеет риск:</strong> Если есть столбец со значениями строк, которые просто выглядят как общая дата Они будут преобразованы в ISO 8601 String dateTimes.
 </li>
<li class="">Стандартизация компактных дат ISO 8601 DateTimes
Для каждой строки или колонки целочисленного типа попробуйте преобразовать чисто числовые даты строки. (Например, &quot;20180102&quot;) Стандарт ISO 8601 String dateTimes (&quot;2018-01-02&quot;) .
<strong>Примечание</strong> Все значения данных для столбца должны использовать один и тот же формат, в противном случае эта опция не будет вносить никаких изменений в данный столбец.
<strong>Этот вариант имеет риск:</strong> Если есть столбец со значениями, которые не являются компактной датой Времена, но похожие на компактные даты, будут преобразованы в ISO 8601 String dateTimes.
 </li>
<li class="">Стандартизировать единицы
Это пытается стандартизировать строку единиц для каждой переменной. Например, &quot;метры в секунду&quot;, &quot;метр/секунда&quot;, &quot;m.s^-1&quot; , &quot;m s-1&quot; «m.s-1» будет преобразован в «m.s-1». Это не меняет значения данных. Это хорошо работает для действительного UDUNITS единицы строк, но могут иметь проблемы с недействительными или сложными строками. Вы можете справиться с проблемами, указывая конкретные пары из одного в другой.&lt;СтандартизацияUdunits в ERDDAP ?
\[ кот \] /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml файл. Пожалуйста, напишите любые изменения, которые вы вносите в Крис. John at noaa.gov, чтобы они могли быть включены в сообщения по умолчанию.
<strong>Этот вариант имеет риск:</strong> Это может смешать некоторые сложные или недействительные единицы; однако вы можете использовать описанный выше обходной путь, чтобы обойти проблемы, если они возникают.
 </li>
</ol>
<p>Значение стандартизации по умолчанию Что такое 0, что ничего не делает.</p>
<p>Если вы меняете значение стандартизации Что, в следующий раз, когда набор данных будет перезагружен, ERDDAP™ Перечитает все файлы данных для набора данных, чтобы восстановить мини-базу данных с информацией о каждом файле. Если в наборе данных много файлов, это займет много времени.</p>
<p>Примечания:</p>
<ul>
<li class="">Сложная вещь -
Стандартизировать Какая настройка используется для всех столбцов в исходном файле. Так, например, использование #2048 может успешно преобразовать столбец компактных струнных дат в ISO 8601 String dateTimes, но он также может ошибочно преобразовать столбец со струнами, которые просто выглядят как компактные даты.
 </li>
<li class="">datasets.xml и генерировать наборы данных Xml -
Особенно сложно получить правильные настройки в datasets.xml Чтобы ваш набор данных работал так, как вы хотите. Лучший подход (как всегда) Это:</li>
</ul>
<ol>
<li class="">Использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данныхXml</a> Указать значение стандартизации Что вы хотели бы использовать.</li>
<li class="">Использовать <a href="#dasdds" class="">DasDds</a> для обеспечения правильной загрузки набора данных и отражения стандартизации; Какие настройки вы указали.</li>
<li class="">Проверьте набор данных вручную, когда он находится в ERDDAP™ Для обеспечения того, чтобы затронутые переменные работали так, как ожидалось.
 </li>
</ol>
<ul>
<li class="">Риски -
Варианты #256 и выше более рискованны, т.е. существует большая вероятность того, что ERDDAP™ Это приведет к изменениям, которые не должны быть сделаны. Например, опция #2048 может случайно преобразовать переменную со строками идентификатора станции, которые выглядят как «компактные» даты ISO 8601. (например, 20180102) Стандарт ISO 8601 &quot;extended&quot; даты (&quot;2018-01-02&quot;) .
 </li>
<li class="">Медленно после смены...
Поскольку ценность стандартизации Что изменяет значения данных, которые EDDTableFromFiles видит для каждого файла данных, если изменить стандартизацию Какая настройка, EDDTableFromFiles выкинет всю кэшированную информацию о каждом файле (который включает в себя min и max для каждой переменной данных в каждом файле) Перечитайте каждый файл данных. Если набор данных имеет большое количество файлов, это может занять много времени, поэтому для перезагрузки набора данных в первый раз потребуется много времени. ERDDAP™ Перезагружает его после внесения изменений.
 </li>
<li class="">Эвристика -
Варианты #256 и выше используют эвристику для внесения своих изменений. Если вы столкнулись с ситуацией, когда эвристика принимает плохое решение, пожалуйста, напишите Крису описание проблемы. Джон в Ноаа. Правительство, чтобы мы могли улучшить эвристику.
 </li>
<li class="">Альтернативы -
Если один из вариантов стандартизации What не решает проблему для данного набора данных, вы можете решить проблему, сделав <a href="#ncml-files" class=""> .nc мл. файл</a> Параллельно каждый файл данных и определять изменения в вещах в файлах, чтобы файлы были последовательными. Затем расскажите EDDTable... Набор данных файлов для агрегирования .nc Мл файлов.</li>
</ul>
<p>Или использовать <a href="#netcdf-operators-nco" class=""> NCO </a> Вносить изменения в файлы так, чтобы они были последовательными.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="separate-columns-for-year-month-date-hour-minute-second">Отдельные колонны на год, месяц, дату, час, минуту, секунду<a href="#separate-columns-for-year-month-date-hour-minute-second" class="hash-link" aria-label="Прямая ссылка наОтдельные колонны на год, месяц, дату, час, минуту, секунду" title="Прямая ссылка наОтдельные колонны на год, месяц, дату, час, минуту, секунду" translate="no">​</a></h5>
<p>Довольно часто табличные файлы данных имеют отдельные столбцы для года, месяца, даты, часа, минуты, секунды. Перед ERDDAP™ v2.10 единственным решением было редактирование файла данных для объединения этих столбцов в единый столбец времени. с ERDDAP™ 2.10+ Вы можете использовать
[править]&lt; sourceName &gt;= <em>выражение</em> &lt; sourceName &gt; (#sourcename) рассказывать ERDDAP™ Как объединить столбцы источника для создания унифицированного столбца времени, чтобы вам больше не приходилось редактировать исходный файл.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="skipheadertoregex">&lt;skipHeaderToRegex&gt;<a href="#skipheadertoregex" class="hash-link" aria-label="Прямая ссылка на&lt;skipHeaderToRegex&gt;" title="Прямая ссылка на&lt;skipHeaderToRegex&gt;" translate="no">​</a></h5>
<ul>
<li class="">[править]&lt;skipHeaderToRegex (#skipheadertoregex) -
Опционально. (Только для наборов данных EDDTableFromAsciiFiles и EDDTableFromColumnarAsciiFiles.)<br>
<!-- -->Когда EDDTableFromAsciiFiles считывает файл данных, он игнорирует все строки до и включая строку, которая соответствует этому обычному выражению. По умолчанию «», который не использует эту опцию. Примером является</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;skipHeaderToRegex&gt;\\\*\\\*\\\* END OF HEADER.\\*&lt;skipHeaderToRegex&gt;  </span><br></span></code></pre></div></div>
<p>которая будет игнорировать все линии до и включая линию, начинающуюся с &quot;\*\** Конец руководителя&quot;.</p>
<p>Когда вы используете этот тег,&lt;столбецNamesRow&gt; и&lt;FirstDataRow&gt; действует так, как если бы заголовок был удален до прочтения файла. Например, вы бы использовали столбецNamesRow=0, если имена столбцов находятся в строке сразу после заголовка.</p>
<p>Если вы хотите использовать генерацию Наборы данных Xml с набором данных, который нуждается в этом теге:</p>
<ol>
<li class="">Создайте новый, временный, образец файла путем копирования существующего файла и удаления заголовка.</li>
<li class="">Запуск генерирует Наборы данных Xml и указать этот образец файла.</li>
<li class="">вручную добавить&lt;skipHeaderToRegex&gt; Tag to the datasets.xml кусок.</li>
<li class="">Удалите временный образец файла.</li>
<li class="">Используйте набор данных в ERDDAP .</li>
</ol>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="skiplinesregex">&lt;skipLinesRegex&gt;<a href="#skiplinesregex" class="hash-link" aria-label="Прямая ссылка на&lt;skipLinesRegex&gt;" title="Прямая ссылка на&lt;skipLinesRegex&gt;" translate="no">​</a></h5>
<p>Опционально. (Только для наборов данных EDDTableFromAsciiFiles и EDDTableFromColumnarAsciiFiles.)<br>
<!-- -->Когда EDDTableFromAsciiFiles считывает файл данных, он игнорирует все строки, которые соответствуют этому обычному выражению. По умолчанию «», который не использует эту опцию. Примером является</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;skipLinesRegex&gt;#.\\*&lt;skipLinesRegex&gt;  </span><br></span></code></pre></div></div>
<p>Он игнорирует все строки, начинающиеся с «#».</p>
<p>Когда вы используете этот тег,&lt;столбецNamesRow&gt; и&lt;FirstDataRow&gt; действует так, как будто все соответствующие строки были удалены до прочтения файла. Например, вы можете использовать столбецNamesRow=0, даже если в начале файла есть несколько строк, начиная с «#».</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromfiles-skeleton-xml">EDDTableFromFiles скелет XML<a href="#eddtablefromfiles-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDTableFromFiles скелет XML" title="Прямая ссылка наEDDTableFromFiles скелет XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFrom...Files&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      &lt;nDimensions&gt;...&lt;/nDimensions&gt;  &lt;!-- This was used prior to ERDDAP™<br>
<!-- -->        version 1.30, but is now ignored. --&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1. For<br>
<!-- -->        EDDTableFromFiles subclasses, this uses Java&#x27;s WatchDirectory system<br>
<!-- -->        to notice new/deleted/changed files quickly and efficiently. --&gt;<br>
<!-- -->      <a href="#standardizewhat" class="">&lt;standardizeWhat&gt;</a>...&lt;/standardizeWhat&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;specialMode&gt;<em>mode</em>&lt;/specialMode&gt;  &lt;-- This rarely-used, OPTIONAL tag<br>
<!-- -->        can be used with EDDTableFromThreddsFiles to specify that special,<br>
<!-- -->        hard-coded rules should be used to determine which files should<br>
<!-- -->        be downloaded from the server. Currently, the only valid <em>mode</em><br>
<!-- -->        is SAMOS which is used with datasets from<br>
<!-- -->        <a href="https://tds.coaps.fsu.edu/thredds/catalog/samos" target="_blank" rel="noopener noreferrer" class="">https://tds.coaps.fsu.edu/thredds/catalog/samos</a> to download only the<br>
<!-- -->        files with the last version number. --&gt;<br>
<!-- -->      &lt;sourceUrl&gt;...&lt;/sourceUrl&gt;  &lt;-- For subclasses like<br>
<!-- -->        EDDTableFromHyraxFiles and EDDTableFromThreddsFiles, this is where<br>
<!-- -->        you specify the base URL for the files on the remote server.<br>
<!-- -->        For subclasses that get data from local files, ERDDAP™ doesn&#x27;t use<br>
<!-- -->        this information to get the data, but does display the<br>
<!-- -->        information to users. So I usually use &quot;(local files)&quot;. --&gt;<br>
<!-- -->      &lt;fileDir&gt;...&lt;/fileDir&gt; &lt;-- The directory (absolute) with the data<br>
<!-- -->        files. --&gt;<br>
<!-- -->      &lt;recursive&gt;true|false&lt;/recursive&gt; &lt;!-- 0 or 1. Indicates if<br>
<!-- -->        subdirectories of fileDir have data files, too. --&gt;<br>
<!-- -->      <a href="#pathregex" class="">&lt;pathRegex&gt;</a>...&lt;/pathRegex&gt;  &lt;!-- 0 or 1. Only directory names which<br>
<!-- -->        match the pathRegex (default=&quot;.\<em>&quot;) will be accepted. --&gt;<br>
<!-- -->      &lt;fileNameRegex&gt;...&lt;/fileNameRegex&gt; &lt;-- 0 or 1. A <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">regular expression</a><br>
<!-- -->        (<a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">tutorial</a>) describing valid data file names, for example,<br>
<!-- -->            &quot;.\</em>\.nc&quot; for all .nc files. --&gt;<br>
<!-- -->      <a href="#accessibleviafiles" class="">&lt;accessibleViaFiles&gt;</a>true|false(default)&lt;/accessibleViaFiles&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;metadataFrom&gt;...&lt;/metadataFrom&gt; &lt;-- The file to get metadata<br>
<!-- -->        from (&quot;first&quot; or &quot;last&quot; (the default) based on file&#x27;s<br>
<!-- -->        lastModifiedTime). --&gt;<br>
<!-- -->      &lt;charset&gt;...&lt;/charset&gt;<br>
<!-- -->        &lt;!-- (For EDDTableFromAsciiFiles and EDDTableFromColumnarAsciiFiles<br>
<!-- -->        only) This OPTIONAL tag specifies the character set (case<br>
<!-- -->        sensitive!) of the source files, for example, ISO-8859-1<br>
<!-- -->        (the default) and UTF-8.  --&gt;<br>
<!-- -->      <a href="#skipheadertoregex" class="">&lt;skipHeaderToRegex&gt;</a>...&lt;/skipHeaderToRegex&gt;<br>
<!-- -->      <a href="#skiplinesregex" class="">&lt;skipLinesRegex&gt;</a>...&lt;/skipLinesRegex&gt;<br>
<!-- -->      &lt;columnNamesRow&gt;...&lt;/columnNamesRow&gt; &lt;-- (For EDDTableFromAsciiFiles<br>
<!-- -->        only) This specifies the number of the row with the column<br>
<!-- -->        names in the files. (The first row of the file is &quot;1&quot;.<br>
<!-- -->        Default = 1.)  If you specify 0, ERDDAP™ will not look for<br>
<!-- -->        column names and will assign names: Column#1, Column#2, ... --&gt;<br>
<!-- -->      &lt;firstDataRow&gt;...&lt;/firstDataRow&gt;<br>
<!-- -->        &lt;-- (For EDDTableFromAsciiFiles and EDDTableFromColumnarAsciiFiles<br>
<!-- -->        only) This specifies the number of the first row with data in the<br>
<!-- -->        files. (The first row of the file is &quot;1&quot;. Default = 2.) --&gt;<br>
<!-- -->      &lt;dimensionsCSV&gt;...&lt;/dimensionsCSV&gt; &lt;-- (For EDDTableFromNcFiles<br>
<!-- -->        and EDDTableFromMultidimNcFiles only) This is a comma-separated<br>
<!-- -->        list of dimension fullNames. If specified, ERDDAP™ will only read<br>
<!-- -->        variables in the source files which use some or all of these<br>
<!-- -->        dimensions, plus all of the scalar variables. If a dimension<br>
<!-- -->        is in a group, you must specify its fullName,<br>
<!-- -->        e.g., &quot;<em>groupName/dimensionName</em>&quot;. --&gt;<br>
<!-- -->      &lt;-- The next four tags are DEPRECATED. For more information, see<br>
<!-- -->        <a href="#filename-sourcenames" class="">File Name Extracts</a>. --&gt;<br>
<!-- -->      &lt;preExtractRegex&gt;...&lt;/preExtractRegex&gt;<br>
<!-- -->      &lt;postExtractRegex&gt;...&lt;/postExtractRegex&gt;<br>
<!-- -->      &lt;extractRegex&gt;...&lt;/extractRegex&gt;<br>
<!-- -->      &lt;columnNameForExtract&gt;...&lt;/columnNameForExtract&gt;<br>
<!-- -->      &lt;sortedColumnSourceName&gt;...&lt;/sortedColumnSourceName&gt;<br>
<!-- -->        &lt;-- The <a href="#sourcename" class="">sourceName</a> of the numeric column that the data files are<br>
<!-- -->        usually already sorted by within each file, for example, &quot;time&quot;.<br>
<!-- -->        Don&#x27;t specify this or use an empty string if no variable is<br>
<!-- -->        suitable. It is ok if not all files are sorted by this column.<br>
<!-- -->        If present, this can greatly speed up some data requests.<br>
<!-- -->        For EDDTableFromHyraxFiles, EDDTableFromNcFiles and<br>
<!-- -->        EDDTableFromThreddsFiles, this must be the leftmost (first) axis variable.<br>
<!-- -->        EDDTableFromMultidimNcFiles ignores this because it has a better<br>
<!-- -->        system. --&gt;<br>
<!-- -->      &lt;sortFilesBySourceNames&gt;...&lt;/sortFilesBySourceNames&gt;<br>
<!-- -->        &lt;-- This is a space-separated list of <a href="#sourcename" class="">sourceName</a>s<br>
<!-- -->        which specifies how the internal list of files should be sorted<br>
<!-- -->        (in ascending order), for example &quot;id time&quot;.<br>
<!-- -->        It is the minimum value of the specified columns in each file<br>
<!-- -->        that is used for sorting.<br>
<!-- -->        When a data request is filled, data is obtained from the files<br>
<!-- -->        in this order. Thus it determines the overall order of the data<br>
<!-- -->        in the response.  If you specify more than one column name, the<br>
<!-- -->        second name is used if there is a tie for the first column; the<br>
<!-- -->        third is used if there is a tie for the first and second<br>
<!-- -->        columns; ... This is OPTIONAL (the default is<br>
<!-- -->        fileDir+fileName order). --&gt;<br>
<!-- -->        <br>
<!-- -->      <a href="#sourceneedsexpandedfp_eq" class="">&lt;sourceNeedsExpandedFP\_EQ&gt;</a>true(default)|false&lt;/sourceNeedsExpandedFP\_EQ&gt;<br>
<!-- -->      <a href="#filetableinmemory" class="">&lt;fileTableInMemory&gt;</a>...&lt;/fileTableInMemory&gt; &lt;!-- 0 or 1 (true or<br>
<!-- -->        false (the default)) --&gt;<br>
<!-- -->      <a href="#cachefromurl" class="">&lt;cacheFromUrl&gt;</a>...&lt;/cacheFromUrl&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#cachefromurl" class="">&lt;cacheSizeGB&gt;</a>...&lt;/cacheSizeGB&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->        &lt;-- For EDDTableFromHyraxFiles, EDDTableFromMultidimNcFiles,<br>
<!-- -->        EDDTableFromNcFiles, EDDTableFromNccsvFiles, and<br>
<!-- -->        EDDTableFromThreddsFiles, the source&#x27;s axis variables (for<br>
<!-- -->        example, time) needn&#x27;t be first or in any specific order. --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromasciiservice">EDDTableFromAsciiService<a href="#eddtablefromasciiservice" class="hash-link" aria-label="Прямая ссылка наEDDTableFromAsciiService" title="Прямая ссылка наEDDTableFromAsciiService" translate="no">​</a></h3>
<p><a href="#eddtablefromasciiservice" class=""> <strong>EDDTableFromAsciiService</strong> </a> По сути, это скриншот. Он предназначен для работы с источниками данных, которые имеют простой веб-сервис для запроса данных. (Часто HTML форма на веб-странице) которые могут возвращать данные в структурированном формате ASCII. (Например, запятая или столбцовый формат ASCII, часто с другой информацией до и/или после данных.) .</p>
<p>EDDTableFromAsciiService является суперклассом всех классов EDDTableFromAsciiService. Вы не можете использовать EDDTableFromAsciiService напрямую. Вместо этого используйте подкласс EDDTableFromAsciiService для обработки определенных типов услуг:</p>
<ul>
<li class=""><a href="#eddtablefromasciiservicenos" class="">EDDTableFromAsciiServiceNOS</a> получать данные из NOAA Услуги ASCII от NOS.</li>
</ul>
<p>В настоящее время другие виды услуг не поддерживаются. Но обычно относительно легко поддерживать другие услуги, если они работают аналогичным образом. Свяжитесь с нами, если у вас есть запрос.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="details">Подробности<a href="#details" class="hash-link" aria-label="Прямая ссылка наПодробности" title="Прямая ссылка наПодробности" translate="no">​</a></h4>
<p>Следующая информация относится ко всем подклассам EDDTableFromAsciiService.</p>
<ul>
<li class="">Ограничения - ERDDAP™ Запросы табличных данных могут накладывать ограничения на любую переменную. Базовая служба может допускать или не допускать ограничения для всех переменных. Например, многие службы поддерживают ограничения только на названия станций, широту, долготу и время. Поэтому, когда подкласс EDDTableFromAsciiService получает запрос на подмножество набора данных, он передает как можно больше ограничений службе исходных данных, а затем применяет оставшиеся ограничения к данным, возвращенным службой, прежде чем передать данные пользователю.</li>
<li class="">Валидный диапазон - В отличие от многих других типов наборов данных, EDDTableFromAsciiService обычно не знает диапазона данных для каждой переменной, поэтому он не может быстро отклонять запросы на данные за пределами допустимого диапазона.</li>
<li class="">Отзывы о ASCII Text Response Когда EDDTableFromAsciiService получает ответ от текстовой службы ASCII, он должен подтвердить, что ответ имеет ожидаемый формат и информацию, а затем извлечь данные. Вы можете указать формат, используя различные специальные теги в фрагменте XML для этого набора данных:<!-- -->
<ul>
<li class="">&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&lt;теги beforeData10&gt; - Вы можете указать серию фрагментов текста (сколько хотите, до 10) что EDDTableFromAsciiService должен искать в заголовке текста ASCII, возвращенного службой&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&lt;До даты 10. Например, это полезно для проверки того, что ответ включает в себя ожидаемые переменные с использованием ожидаемых единиц. Последний тег перед данными, который вы указываете, идентифицирует текст, который происходит непосредственно перед началом данных.</li>
<li class="">&lt;После данных - Это указывает текст, который EDDTableFromAsciiService будет искать в тексте ASCII, возвращенном службой, что означает конец данных.</li>
<li class="">&lt;NoData - Если EDDTableFromAsciiService находит этот текст в тексте ASCII, возвращенном службой, он приходит к выводу, что нет данных, которые соответствуют запросу.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromasciiservice-skeleton-xml">EDDTableFromAsciiService скелет XML<a href="#eddtablefromasciiservice-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDTableFromAsciiService скелет XML" title="Прямая ссылка наEDDTableFromAsciiService скелет XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromAsciiService...&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;sourceUrl&gt;...&lt;/sourceUrl&gt;<br>
<!-- -->      &lt;beforeData1&gt;...&lt;beforeData1&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      ...<br>
<!-- -->      &lt;beforeData10&gt;...&lt;beforeData10&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;afterData&gt;...&lt;afterData&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;noData&gt;...&lt;noData&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromasciiservicenos">EDDTableFromAsciiServiceNOS<a href="#eddtablefromasciiservicenos" class="hash-link" aria-label="Прямая ссылка наEDDTableFromAsciiServiceNOS" title="Прямая ссылка наEDDTableFromAsciiServiceNOS" translate="no">​</a></h3>
<p><a href="#eddtablefromasciiservicenos" class=""> <strong>EDDTableFromAsciiServiceNOS</strong> </a> делает наборы данных EDDTable из услуг текстовых данных ASCII, предлагаемых NOAA ? <a href="https://oceanservice.noaa.gov/" target="_blank" rel="noopener noreferrer" class="">Национальная океаническая служба (НОС) </a> . Для получения информации о том, как работает этот класс и как его использовать, посмотрите суперкласс этого класса. <a href="#eddtablefromasciiservice" class="">EDDTableFromAsciiService</a> . Вряд ли кому-то, кроме Боба Саймонса, понадобится использовать этот подкласс.</p>
<p>Поскольку данные в ответе от службы NOS используют столбцовый формат текста ASCII, переменные данных, отличные от широты и долготы, должны иметь специальный атрибут, который определяет, какие символы каждой строки данных содержат данные этой переменной, например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;responseSubstring&quot;&gt;17, 25&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p> </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromalldatasets">EDDTableFromAllDatasets<a href="#eddtablefromalldatasets" class="hash-link" aria-label="Прямая ссылка наEDDTableFromAllDatasets" title="Прямая ссылка наEDDTableFromAllDatasets" translate="no">​</a></h3>
<p><a href="#eddtablefromalldatasets" class=""> <strong>EDDTableFromAllDatasets</strong> </a> Это набор данных более высокого уровня, который содержит информацию обо всех других наборах данных, которые в настоящее время загружаются в ваш компьютер. ERDDAP . В отличие от других типов наборов данных, не существует спецификации для allDatasets набор данных datasets.xml . ERDDAP™ автоматически создает один набор данных EDDTableFromAllDatasets (с datasetID = allDatasets ) . Таким образом, allDatasets Данные будут создаваться в каждом ERDDAP™ Установка будет работать одинаково в каждом ERDDAP™ установка.</p>
<p>The allDatasets Dataset - это табличный набор данных. Он имеет ряд информации для каждого набора данных. Он имеет столбцы с информацией о каждом наборе данных, например, datasetID , доступно, учреждение, название, minLongitude, maxLongitude, minLatitude, maxLatitude, minTime, maxTime и т.д. Потому что allDatasets является табличным набором данных, вы можете запросить его так же, как вы можете запросить любой другой табличный набор данных в ERDDAP™ Вы можете указать тип файла для ответа. Это позволяет пользователям искать наборы данных, представляющие интерес, очень мощными способами.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromasciifiles">EDDTableFromAsciiFiles<a href="#eddtablefromasciifiles" class="hash-link" aria-label="Прямая ссылка наEDDTableFromAsciiFiles" title="Прямая ссылка наEDDTableFromAsciiFiles" translate="no">​</a></h3>
<p><a href="#eddtablefromasciifiles" class=""> <strong>EDDTableFromAsciiFiles</strong> </a> агрегирует данные из запятых, вкладок, полуколонов или разделённых по пространству табличных файлов данных ASCII.</p>
<ul>
<li class="">Чаще всего файлы будут иметь имена столбцов в первой строке и данные, начинающиеся во второй строке. (Здесь первая строка файла называется строкой номер 1.) Но вы можете использовать&lt;столбецNamesRow&gt; и&lt;FirstDataRow в вашем datasets.xml файл для указания другого номера строки.</li>
<li class="">ERDDAP™ позволяет строкам данных иметь разное количество значений данных. ERDDAP™ предполагает, что недостающие значения данных являются конечными столбцами в строке. ERDDAP™ присваивает стандартные недостающие значения для недостающих значений данных. (Добавлено v1.56)</li>
<li class="">С файлами ASCII легко работать, но они не являются наиболее эффективным способом хранения данных. Для большей эффективности сохраняйте файлы как NetCDF v3 .nc файлы (с одним измерением, «рядом», общим для всех переменных) Вместо этого. Ты можешь <a href="#millions-of-files" class="">использовать ERDDAP™ Для создания новых файлов</a> .</li>
<li class="">Смотрите суперкласс этого класса, <a href="#eddtablefromfiles" class="">EDDTable Из материалов</a> Для получения информации о том, как работает этот класс и как его использовать.</li>
<li class="">Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Из-за полного отсутствия метаданных в файлах ASCII вам всегда нужно будет редактировать результаты GenerateDatasetsXml.</li>
<li class="">Предупреждение: когда ERDDAP™ считывает файлы данных ASCII, если обнаруживает ошибку в заданной строке (Например, неправильное количество элементов) Он записывает предупреждающее сообщение (&quot;Предупреждение: плохая линия (s) &quot;... с перечнем плохих линий на последующих линиях&quot;) к <a class="" href="/ru/docs/server-admin/additional-information#log">log.txt файл</a> Затем он продолжает читать остальные файлы данных. Таким образом, вы несете ответственность за периодический просмотр. (или написать сценарий для этого) для этого сообщения в журнале. txt для устранения проблем в файлах данных. ERDDAP™ Он настроен таким образом, чтобы пользователи могли продолжать читать все доступные действительные данные, даже если некоторые строки файла имеют недостатки.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromawsxmlfiles">EDDTable From AwsXmlFiles<a href="#eddtablefromawsxmlfiles" class="hash-link" aria-label="Прямая ссылка наEDDTable From AwsXmlFiles" title="Прямая ссылка наEDDTable From AwsXmlFiles" translate="no">​</a></h3>
<p><a href="#eddtablefromawsxmlfiles" class=""> <strong>EDDTable From AwsXmlFiles</strong> </a> агрегирует данные с автоматической метеорологической станции (AWS) XML файлы данных с использованием WeatherBug Rest XML API (который больше не активен) .</p>
<ul>
<li class="">Этот тип файла является простым, но неэффективным способом хранения данных, потому что каждый файл обычно содержит наблюдение только с одной временной точки. Таким образом, может быть большое количество файлов. Если вы хотите улучшить производительность, рассмотрите консолидацию групп наблюдений. (Неделя стоит?) в NetCDF v3 .nc файлы (Лучше всего: .nc Файлы с помощью <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Дискретная геометрия выборки (DSG) Формат Ragged Array</a> ) и использовать <a href="#eddtablefrommultidimncfiles" class="">EDDTableFromMultidimNcFiles</a>   (или <a href="#eddtablefromnccffiles" class="">EDDTable FromNcCFFiles</a> ) служить данным. Ты можешь <a href="#millions-of-files" class="">использовать ERDDAP™ Для создания новых файлов</a> .</li>
<li class="">Смотрите суперкласс этого класса, <a href="#eddtablefromfiles" class="">EDDTable Из материалов</a> Для получения информации о том, как работает этот класс и как его использовать.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromcolumnarasciifiles">EDDTable FromColumnarAsciiFiles<a href="#eddtablefromcolumnarasciifiles" class="hash-link" aria-label="Прямая ссылка наEDDTable FromColumnarAsciiFiles" title="Прямая ссылка наEDDTable FromColumnarAsciiFiles" translate="no">​</a></h3>
<p><a href="#eddtablefromcolumnarasciifiles" class=""> <strong>EDDTable FromColumnarAsciiFiles</strong> </a> агрегирует данные из табличных файлов данных ASCII с столбцами фиксированной ширины.</p>
<ul>
<li class="">
<p>Чаще всего файлы будут иметь имена столбцов в первой строке и данные, начинающиеся во второй строке. Первая строка в файле называется строкой #1. Но вы можете использовать&lt;столбецNamesRow&gt; и&lt;FirstDataRow в вашем datasets.xml файл для указания другого номера строки.</p>
</li>
<li class="">
<p>The&lt; addAttributes &gt; для каждого&lt; dataVariable &gt; для этих наборов данных ДОЛЖНЫ включать эти два специальных атрибута:</p>
<ul>
<li class="">&lt;Att name=&quot;StartColumn&quot;&gt; <em>целое число</em> &lt;Att&gt; - указывает столбец символов в каждой строке, которая является началом этой переменной данных.</li>
<li class="">&lt;Att name=&quot;stopColumn&quot;&gt; <em>целое число</em> &lt;Att&gt; - указывает столбец символов в каждой строке, которая является 1 после окончания этой переменной данных.</li>
</ul>
</li>
</ul>
<p>Первая колонка символов называется колонкой #0.
Например, для этого файла, который имеет временные значения, соответствующие значениям температуры:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      0         1         2        &lt;-- character column number 10&#x27;s digit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      0123456789012345678901234567 &lt;-- character column number 1&#x27;s digit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      time                temp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      2014-12-01T12:00:00Z12.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      2014-12-02T12:00:00Z13.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      2014-12-03T12:00:00Z11.0</span><br></span></code></pre></div></div>
<p>Переменная времени должна иметь</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;att name=&quot;startColumn&quot;&gt;0&lt;att&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;att name=&quot;stopColumn&quot;&gt;20&lt;att&gt;  </span><br></span></code></pre></div></div>
<p>Переменная времени будет иметь</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;att name=&quot;startColumn&quot;&gt;20&lt;att&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;att name=&quot;stopColumn&quot;&gt;24&lt;att&gt;  </span><br></span></code></pre></div></div>
<p>Эти атрибуты должны быть указаны для всех переменных, кроме <a href="#fixed-value-sourcenames" class="">фиксированная стоимость</a> и <a href="#filename-sourcenames" class="">имя файла-источник</a> переменных.</p>
<ul>
<li class="">С файлами ASCII легко работать, но они не являются эффективным способом хранения данных. Для большей эффективности сохраняйте файлы как NetCDF v3 .nc файлы (с одним измерением, «рядом», общим для всех переменных) Вместо этого. Ты можешь <a href="#millions-of-files" class="">использовать ERDDAP™ Для создания новых файлов</a> .</li>
<li class="">Смотрите суперкласс этого класса, <a href="#eddtablefromfiles" class="">EDDTable Из материалов</a> Для получения информации о том, как работает этот класс и как его использовать.</li>
<li class="">Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Из-за сложности определения начальных и конечных позиций для каждого столбца данных и полного отсутствия метаданных в файлах ASCII вам всегда нужно будет редактировать результаты из GenerateDatasetsXml.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromhttpget">EDDTable FromHttpGet<a href="#eddtablefromhttpget" class="hash-link" aria-label="Прямая ссылка наEDDTable FromHttpGet" title="Прямая ссылка наEDDTable FromHttpGet" translate="no">​</a></h3>
<p>EDDTable FromHttpGet отличается от всех других типов наборов данных ERDDAP™ в том, что у него есть система, посредством которой конкретные «авторы» могут добавлять данные, пересматривать данные или удалять данные из набора данных обычным способом. HTTP GET или <a href="#http-post" class="">Пост</a> запросы от компьютерной программы, скрипта или браузера. Набор данных запрашивается пользователями таким же образом, как и все другие наборы данных EDDTable. ERDDAP . Посмотрите описание суперкласса этого класса. <a href="#eddtablefromfiles" class="">EDDTable Из материалов</a> Для того, чтобы почитать об особенностях, которые унаследованы от этого суперкласса.</p>
<p>Уникальные особенности EDDTableFromHttpGet описаны ниже. Вы должны прочитать весь этот начальный раздел и понять его; в противном случае у вас могут возникнуть нереалистичные ожидания или у вас могут возникнуть проблемы, которые трудно исправить.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="intended-use">Преднамеренное использование<a href="#intended-use" class="hash-link" aria-label="Прямая ссылка наПреднамеренное использование" title="Прямая ссылка наПреднамеренное использование" translate="no">​</a></h4>
<p>Эта система предназначена для:</p>
<ul>
<li class="">табличный (на месте) данные, а не сетчатые данные.</li>
<li class="">Данные реального времени -
Цель состоит в том, чтобы позволить автору (Например, датчик, автоматизированный QC-скрипт или конкретный человек.) Чтобы внести изменения в набор данных (через <a href="#insert-and-delete" class="">Вставить или удалить команду</a> ) сделать эти изменения доступными для ERDDAP™ пользователей менее чем за 1 секунду и, возможно, намного быстрее. Большая часть этой 1 секунды - сетевое время. ERDDAP™ Обработать запрос можно примерно за 1 мс, а данные сразу доступны пользователям. Это а <a href="#httpget-speed" class="">быстро</a> , <a href="#robust" class="">крепкий</a> и <a href="#system-reliability" class="">Надежная система</a> .</li>
<li class="">Почти любая частота данных -
Эта система может принимать редкие данные. (Например, ежедневно) Очень частые данные (Например, данные 100 Гц) . Если вы оптимизируете систему, она может обрабатывать данные более высокой частоты. (10 кГц, если вы идете в крайности) .</li>
<li class="">Данные от одного датчика или набора аналогичных датчиков.</li>
<li class=""><a href="#versioning" class="">Версия</a> / <a href="https://en.wikipedia.org/wiki/Reproducibility" target="_blank" rel="noopener noreferrer" class="">Воспроизводимая наука</a> / DOI с-
Ситуации, в которых нужно уметь вносить изменения в данные (Например, изменить флаг контроля качества) , знать, какой автор внес каждое изменение, знать временную метку, когда автор внес изменение, и (по запросу) Вы можете увидеть исходные данные до внесения изменений. Таким образом, эти наборы данных имеют право <a href="https://en.wikipedia.org/wiki/Digital_object_identifier" target="_blank" rel="noopener noreferrer" class=""> DOI s</a> . Потому что они встречают DOI требование, чтобы набор данных не менялся, за исключением агрегирования. Как правило, наборы данных в реальном времени не имеют права на DOI потому что данные часто изменяются задним числом (Например, для целей QA/QC) .
 </li>
</ul>
<p>Как только данные находятся в наборе данных EDDTableFromHttpGet, любой пользователь может запросить данные таким же образом, как и данные из любого другого набора данных EDDTable.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="experimental-be-careful">Экспериментальный: Будь осторожна.<a href="#experimental-be-careful" class="hash-link" aria-label="Прямая ссылка наЭкспериментальный: Будь осторожна." title="Прямая ссылка наЭкспериментальный: Будь осторожна." translate="no">​</a></h4>
<p>Поскольку эта система является новой и поскольку потерянные данные об окружающей среде не могут быть повторно получены, вы должны рассматривать EDDTable FromHttpGet как экспериментальную. Если вы переходите от другой системы, запустите старую систему и новую систему параллельно, пока вы не будете уверены, что новая система работает хорошо. (недели или месяцы, а не только часы или дни) . Во всех случаях убедитесь, что ваша система отдельно архивирует URL-адреса .insert и .delete, которые отправляются в набор данных EDDTableFromHttpGet. (Даже если только в журналах Apache и / или Tomcat) По крайней мере, на некоторое время. И во всех случаях убедитесь, что файлы данных, созданные вашим набором данных EDDTableFromHttpGet, регулярно резервируются на внешние устройства хранения данных. (Обратите внимание, что <a href="https://en.wikipedia.org/wiki/Rsync" target="_blank" rel="noopener noreferrer" class="">рысь</a> . может очень эффективно создавать резервные копии файлов данных, созданных EDDTableFromHttpGet.)<br>
<!-- --> </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="insert-and-delete">.insert and .delete<a href="#insert-and-delete" class="hash-link" aria-label="Прямая ссылка на.insert and .delete" title="Прямая ссылка на.insert and .delete" translate="no">​</a></h4>
<p>Для любого набора данных в ERDDAP™ Когда вы отправляете запрос на ERDDAP™ для подмножества данных в наборе данных вы указываете тип файла, который вы хотите для ответа, например, .csv, .htmlTable , .nc , .json . EDDTable FromHttp Get расширяет эту систему для поддержки двух дополнительных типов файлов, которые могут быть вставлены. (или изменить) или удалить данные в наборе данных:</p>
<ul>
<li class="">вставить<!-- -->
<ul>
<li class="">Запрос отформатирован как стандартный ответ формы HTML, с парами ключ = значение, разделенными на &#x27;&amp;&#x27;. Например,
https://<em>some.erddap.url</em>/erddap/tabledap/myDataset**.insert**?stationID=46088&amp;time=2016-03-30T12:37:55Z&amp;latitude=10.1&amp;longitude=-150.1&amp;airTemp=17.23&amp;waterTemp=12.3&amp;author=JohnSmith\_someKey1<br>
<!-- -->рассказывать ERDDAP™ Добавить или изменить данные для stationID =46088 за указанное время.</li>
<li class="">Автором этого изменения является Джон Смит, а ключом является SomeKey1.</li>
<li class="">URL должен содержать действительные значения. (Недостающие ценности) Для всего этого <a href="#httpgetrequiredvariables-global-attribute" class=""> http Получить требуемые переменные</a></li>
<li class="">Если значения http Требуется Переменные в запросе (например, stationID время) соответствовать значениям на строке уже в наборе данных, новые значения эффективно перезаписывают старые значения (Хотя старые значения по-прежнему доступны, если пользователь запрашивает данные из предыдущего <a href="#versioning" class="">версия</a> из набора данных) .</li>
<li class="">.insert URL никогда не должен включать &amp;timestamp ( ERDDAP™ генерирует эту ценность) или &amp;command= (Об этом сообщает .insert (Командование = 0) или .delete (Что такое командный 1 1) ) .</li>
<li class="">Если URL-адрес .insert не указывает значения для других столбцов, которые находятся в наборе данных, они считаются нативными отсутствующими значениями. (MAX\_VALUE для целочисленных типов данных, NaN для поплавков и дублеров и &quot;&quot; для строк) .
 </li>
<li class="">.delete<!-- -->
<ul>
<li class="">Запрос отформатирован как стандартный ответ формы HTML, с парами ключ = значение, разделенными на &#x27;&amp;&#x27;. Например,
https://<em>some.erddap.url</em>/erddap/tabledap/myDataset**.delete**?stationID=46088&amp;time=2016-03-30T12:37:55Z&amp;author=JohnSmith\_someKey1<br>
<!-- -->рассказывать ERDDAP™ Чтобы удалить данные для stationID =46088 в указанное время.</li>
<li class="">Автором этого изменения является Джон Смит, а ключом является SomeKey1.</li>
<li class="">URL должен указывать <a href="#httpgetrequiredvariables-global-attribute" class=""> http Получить требуемые переменные</a> в запросе (например, stationID время) . Если эти значения соответствуют значениям в строке, уже в наборе данных (которые обычно) Старые ценности эффективно удаляются. (Старые значения по-прежнему доступны, если пользователь запрашивает данные из предыдущего. <a href="#versioning" class="">версия</a> из набора данных) .</li>
<li class="">Нет необходимости указывать значения для не-HttpGetRequiredVariables, кроме автора, который необходим для аутентификации запроса.
 </li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Подробности:</p>
<ul>
<li class="">Запросы .insert и .delete отформатированы как стандартные ответы формы HTML, с парами ключ = значение, разделенными &#x27;&amp;&#x27;. Ценности должны быть <a href="https://en.wikipedia.org/wiki/Percent-encoding" target="_blank" rel="noopener noreferrer" class="">% кодируется</a> . Таким образом, необходимо закодировать специальные символы в форму %HH, где HH — 2-значное шестнадцатеричное значение символа. Обычно нужно просто преобразовать несколько символов пунктуации: % в %25, &amp; в %26, &quot;в %22,&lt;в %3C, = в %3D, &gt; в %3E, + в %2B, | в %7С, \[ в %5B, \] в %5D, в %20 и преобразовать все символы выше #127 в форму UTF-8, а затем в % кодировать каждый байт формы UTF-8 в формат %HH (Попросите программиста помочь) .</li>
<li class="">Запросы .insert и .delete должны включать <a href="#httpgetrequiredvariables-global-attribute" class=""> http Получить требуемые переменные</a> Например, stationID и время. Для запросов вставки переменные, которые не указаны в запросе, считаются отсутствующими значениями. (MAX\_VALUE для целочисленных переменных, NaN для поплавковых и двойных переменных и пустая строка для струнных переменных) . Для запросов .delete значения для не-HttpGetRequired Переменные (кроме автора, что необходимо) игнорируются.</li>
<li class="">Запросы .insert и .delete должны включать имя автора и ключ автора через параметр в форме author= <em>Автор__key</em> Последний параметр в запросе. Требование, чтобы это было последним, гарантирует, что весь запрос был получен ERDDAP . Только автор (Не ключ) Они будут храниться в файле данных. Вы должны указать список разрешенных <em>Автор__key</em> через глобальный атрибут <a href="#httpgetkeys" class=""> http GetKeys</a></li>
<li class="">.insert и .delete параметры могут быть скалярными. (одиночный) значения или массивы любой длины в виде \[ значение1, значение2, значение3, ..., значениеN \] . Для данного запроса все переменные с массивами должны иметь массивы с одинаковым числом значений. (Иначе это ошибка) . Если запрос имеет скалярные и массивные значения, скалярные значения реплицируются, чтобы стать массивами с той же длиной, что и указанные массивы, например, &amp; stationID =46088 может рассматриваться как stationID = \[ 46088,46088,46088 \] . Схемы являются ключом к <a href="#httpget-speed" class="">высокая пропускная способность</a> . Без массивов будет сложно вставить или удалить более 8 строк данных в секунду от удаленного автора. (Из-за всей накладной сети) . С помощью массивов будет легко вставить или удалить более 1000 строк данных в секунду с удаленного датчика.</li>
<li class="">.insert and .delete скачать (Без сообщения об ошибке) числа с плавающей точкой, когда ожидаются целые числа. В этих случаях набор данных округляет значения до целых чисел.</li>
<li class="">.insert and .delete скачать (Без сообщения об ошибке) целые числа и числа с плавающей точкой, которые находятся вне диапазона типа данных переменной. В этих случаях набор данных сохраняет значения как ERDDAP Родные недостающие значения для этого типа данных (MAX\_VALUE для целых типов и NaN для поплавков и двойников) .
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="response">Ответ<a href="#response" class="hash-link" aria-label="Прямая ссылка наОтвет" title="Прямая ссылка наОтвет" translate="no">​</a></h4>
<p>Если URL-адрес .insert или .delete удалится, код ответа HTTP будет 200. (Хорошо.) Ответом будет текст с .json объект, например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;status&quot;:&quot;success&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;nRowsReceived&quot;:1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;stringTimestamp&quot;:&quot;2018-11-05T22:12:19.517Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;numericTimestamp&quot;:1.541455939517+E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>Обратите внимание, что метки времени имеют миллисекундную точность.</p>
<p>Если URL-адрес .insert или .delete не работает, вы получите код ответа HTTP, отличный от 200. (Хорошо.) Например, ошибка 403 Запрещено, если вы вводите неправильное значение ключа автора. ERDDAP™ Отправляет код ответа HTTP (не, например, а .json форматированная ошибка) Потому что так делают в Интернете, и потому что ошибки могут произойти в любой точке системы. (Например, в сети, которая возвращает ошибку HTTP.) . Если ошибка произошла от ERDDAP™ Ответ может содержать текст (не .json ) Более подробное объяснение того, что пошло не так, но код ответа HTTP (200 - Хорошо, все остальное - проблема) Это правильный способ проверить, удалось ли вставить .insert или .delete. Если проверка кода ответа HTTP невозможна или неудобна, найдите в тексте ответа «статус»: «успех», который должен быть надежным показателем успеха.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="log-files">Log Files<a href="#log-files" class="hash-link" aria-label="Прямая ссылка наLog Files" title="Прямая ссылка наLog Files" translate="no">​</a></h4>
<p>Когда EDDTableFromHttpGet получает команды .insert и .delete, он просто добавляет информацию в соответствующий файл в наборе файлов журналов, каждый из которых представляет собой таблицу, хранящуюся в файле. <a href="https://jsonlines.org/examples/" target="_blank" rel="noopener noreferrer" class="">Джон Линии файла CSV</a> . Когда пользователь запрашивает данные, ERDDAP™ быстро считывает соответствующие файлы журналов, применяет изменения в наборе данных в том порядке, в котором они были сделаны, а затем фильтрует запрос через ограничения пользователя, как и любые другие ERDDAP™ Запрос данных. Разделение данных на различные файлы журналов, хранение различных фрагментов информации (Например, временная метка команды, и была ли команда вставлена или удалена.) и различные аспекты настройки набора данных, все это позволяет ERDDAP хранить и извлекать данные из этого набора данных очень быстро и очень эффективно.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="security-and-author">Безопасность и автор<a href="#security-and-author" class="hash-link" aria-label="Прямая ссылка наБезопасность и автор" title="Прямая ссылка наБезопасность и автор" translate="no">​</a></h4>
<p>Каждая команда .insert и .delete должна включать &amp;author= <em>Автор__key</em> как последний параметр, где ключ автора состоит из идентификатора автора (Вы выбрали: имя, инициалы, псевдоним, номер) Подчеркивание и секретный ключ. The ERDDAP™ Администратор будет работать с авторами для создания списка действительных значений ключей автора, которые могут быть изменены в любое время.
Когда EDDTableFromHttpGet получает команду .insert или .delete, он гарантирует, что ключ authorID является последним параметром и действителен. Поскольку это последний параметр, это указывает на то, что вся командная строка достигла ERDDAP™ и не была усечена. Секретный ключ гарантирует, что только конкретные авторы могут вставлять или удалять данные в наборе данных. ERDDAP™ Затем извлекает идентификатор автора и сохраняет его в переменной автора, чтобы каждый мог видеть, кто несет ответственность за данное изменение набора данных.
Вставить и удалить команды можно только через https:   (безопасный)   ERDDAP™ URL. Это гарантирует, что передаваемая информация будет храниться в секрете во время транзита.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="timestamp">временная метка<a href="#timestamp" class="hash-link" aria-label="Прямая ссылка навременная метка" title="Прямая ссылка навременная метка" translate="no">​</a></h4>
<p>Как часть системы журнала, EDDTableFromHttpGet добавляет метку времени (время, когда ERDDAP Получил запрос) Для каждой команды, которую он хранит в файлах журнала. Потому что ERDDAP™ генерирует временную метку, а не авторов, не имеет значения, вносят ли разные авторы изменения с компьютеров с часами, установленными в несколько разное время. Временная метка достоверно указывает время, когда было внесено изменение в набор данных.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="http-post">HTTP POST<a href="#http-post" class="hash-link" aria-label="Прямая ссылка наHTTP POST" title="Прямая ссылка наHTTP POST" translate="no">​</a></h4>
<ul>
<li class=""><a href="#http-post" class="">Как насчет HTTP POST?</a><br>
<!-- -->HTTP <a href="https://en.wikipedia.org/wiki/POST_(HTTP)" target="_blank" rel="noopener noreferrer" class="">Пост</a> является лучшей альтернативой (по сравнению с HTTP GET ) для отправки информации от клиента на HTTP-сервер. Если вы можете, или если вы действительно хотите улучшить безопасность, используйте POST вместо GET для отправки информации. ERDDAP . POST более безопасен, потому что: с GET и https URL передается безопасным способом, но весь URL (Включая параметры, включая ключ автора) будет написан для Apache, Tomcat и ERDDAP™ Файлы журналов, где кто-то может прочитать их, если файлы не защищены должным образом. С POST параметры передаются безопасным способом и не записываются в файлы журналов. POST немного сложнее для клиентов и не поддерживается так широко клиентским программным обеспечением, но языки программирования поддерживают его. Контент, который вы отправляете в набор данных через GET или POST, будет одинаковым, только отформатированным по-другому.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="httpgetrequiredvariables-global-attribute">http Требуется Переменные глобальные атрибуты<a href="#httpgetrequiredvariables-global-attribute" class="hash-link" aria-label="Прямая ссылка наhttp Требуется Переменные глобальные атрибуты" title="Прямая ссылка наhttp Требуется Переменные глобальные атрибуты" translate="no">​</a></h4>
<p>Существенной частью того, что заставляет работать всю эту систему, является необходимый глобальный атрибут. http Требуется Переменные, которые представляют собой разделенный запятой список dataVariable Имена источников, которые однозначно идентифицируют ряд данных. Это должно быть как можно меньше и почти всегда будет включать временную переменную. Вот, например, рекомендуемые http Требуется Переменные для каждого из <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Дискретная геометрия выборки (DSG) </a>   (Имена идентификаторов могут отличаться в вашем наборе данных.) :</p>
<ul>
<li class="">Для серии Time: stationID Время</li>
<li class="">Для Trajectory: trajectoryID, время</li>
<li class="">Профиль: Время (Предполагая, что время - это профиль) глубина</li>
<li class="">Для серии Time Профиль: stationID Время (Предполагая, что время - это профиль) глубина</li>
<li class="">Для траектории Профиль: траектория, время (Предполагая, что время - это профиль) глубина</li>
</ul>
<p>Взять в качестве примера TimeSeries:
Введите команду .insert, которая включает stationID =46088 и время =2016-06-23T19:53:00Z (и другие значения для других переменных) :</p>
<ul>
<li class="">Если нет существующих данных для этой станции и этого времени, то эффект будет заключаться в добавлении данных в набор данных.</li>
<li class="">Если существуют данные для этой станции и того времени, то эффект будет заключаться в замене существующего ряда данных новыми данными. (Конечно, поскольку ERDDAP™ хранит журнал каждой команды, которую он получает, старые данные все еще находятся в журнале. Если пользователь запрашивает данные из версии набора данных до этого изменения, он увидит более старые данные.)<br>
<!-- --> </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="httpgetdirectorystructure">http GetDirectoryСтруктура<a href="#httpgetdirectorystructure" class="hash-link" aria-label="Прямая ссылка наhttp GetDirectoryСтруктура" title="Прямая ссылка наhttp GetDirectoryСтруктура" translate="no">​</a></h4>
<ul>
<li class="">
<p><a href="#httpgetdirectorystructure" class=""> http Дирекция Get Структура глобальных атрибутов и данных (Лог) Файловые имена</a><br>
<!-- -->Частью того, что делает эту систему эффективной, является ERDDAP™ создает набор данных (вести) Файлы, каждый с разным фрагментом набора данных. Если они установлены хорошо, ERDDAP™ Они смогут быстро реагировать на большинство запросов. Эта установка определяется http Глобальный атрибут GetDirectoryStructure, который представляет собой строку, которая выглядит как относительное имя файла, например, &quot; stationID /10 лет», но на самом деле является спецификацией структуры каталога. Части этого указывают, как каталог и имена файлов для данных (вести) Файлы будут построены.</p>
</li>
<li class="">
<p>Если часть является целым числом (&gt;= 1 1) Плюс временный период (миллисекунда, секунда, минута, час, дата, месяц, год или их множественное число) Например, через 10 лет набор данных EDDTableFromHttpGet займет временное значение для строки данных. (например, 2016-06-23T19:53:00Z) Вычислите время, усеченное до этой точности. (например, 2010 год) , и сделать папку или имя файла из этого.</p>
</li>
</ul>
<p>Цель состоит в том, чтобы получить достаточно большой объем данных в каждый файл, но гораздо меньше, чем 2 ГБ.</p>
<ul>
<li class="">В противном случае часть спецификации должна быть dataVariable ? sourceName Например, stationID . В этом случае EDDTableFromHttpGet сделает папку или имя файла из значения этой переменной для нового ряда данных. (Например, &quot;46088&quot;) .</li>
</ul>
<p>Потому что данные команд .insert и .delete хранятся в конкретных данных. (вести) EDDTableFromHttpGet обычно должен открыть только один или несколько данных. (вести) Файлы для поиска данных для данного запроса пользователя. Потому что каждая информация (вести) Файл имеет всю соответствующую информацию для своей части набора данных, для EDDTableFromHttpGet быстро и легко сделать конкретную версию. (или текущей версии) набор данных для данных в этом файле (и не должны генерировать запрашиваемую версию всего набора данных) .</p>
<p>Общие рекомендации основаны на количестве и частоте данных. Если предположить 100 байт на строку данных, то...</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    | Frequency  &lt;br&gt;of measurements | Recommended  &lt;br&gt;httpGetDirectoryStructure |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    | --- | --- |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    | \\&gt;=1 per second | *featureID*/1year/1day |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    | \\&gt;=1 per minute | *featureID*/2months |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    | \\&gt;=1 per hour | *featureID*/10years |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    | \\&gt;=1 per day | *featureID* |</span><br></span></code></pre></div></div>
<p>Например, если структура каталога stationID 2 месяца и вы вставляете данные с двух станций (46088 и 46155) с временными значениями с декабря 2015 года по май 2016 года, EDDTableFromHttp Get будет создавать каталоги 46088 и 46155 и создавать файлы в каждом из них 2015-11. .json l, 2016-01 .json l, 2016-03 .json l, 2016-05 .json л (каждый из которых содержит данные за 2 месяца для соответствующей станции;) . В любое время в будущем, если вы используете .insert или .delete для изменения или удаления данных, например, для станции 46088 в 2016-04-05T14:45:00Z, EDDTableFromHttp Get добавит эту команду к 46088/2016-03 .json l, соответствующие данные (вести) Файл. И очевидно, что в будущем можно добавлять данные для других станций в любое время, поскольку набор данных просто создаст дополнительные каталоги, необходимые для хранения данных с новых станций.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="httpgetkeys">http GetKeys<a href="#httpgetkeys" class="hash-link" aria-label="Прямая ссылка наhttp GetKeys" title="Прямая ссылка наhttp GetKeys" translate="no">​</a></h4>
<p>Каждый EDDTable Из Http Набор данных должен иметь глобальный атрибут http GetKeys, который определяет список разрешенных авторов и их секретные ключи как список, разделенный запятой. <em>Автор__key</em> Например, JohnSmith\_someKey1, HOBOLogger\_someKey2, QCScript59\_someKey3.</p>
<ul>
<li class="">Автор_ключи чувствительны к регистру и должны быть полностью символами ASCII (#33 - #126, и без каких-либо запятых).</li>
<li class="">Ключи похожи на пароли, поэтому они должны быть &gt;=8 символов, трудно угадать и без внутренних словарных слов. Вы должны относиться к ним так, как вы относитесь к паролям - держите их в секрете.</li>
<li class="">Первый символ «\<em>» отделяет автора от ключа, поэтому имя автора не может включать символ «\</em>». (Но ключ может) .</li>
<li class="">Любой автор может иметь один или несколько ключей автора, например, JohnSmith. Key1, Джон Смит Key7 и т.д.</li>
<li class="">Вы можете изменить значение этого атрибута в любое время. Изменения вступают в силу при следующей загрузке набора данных.</li>
<li class="">Эта информация будет удалена из глобальных атрибутов набора данных до ее публикации.</li>
<li class="">Каждый запрос к набору данных для вставки или удаления данных должен включать &amp;author= <em>Автор__key</em> параметр. После проверки достоверности ключа, ERDDAP™ Сохраняет авторскую часть (Не ключ) в файле данных.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="set-up">Настройка<a href="#set-up" class="hash-link" aria-label="Прямая ссылка наНастройка" title="Прямая ссылка наНастройка" translate="no">​</a></h4>
<p>Вот рекомендуемые шаги для настройки набора данных EDDTableFromHttpGet:</p>
<ol>
<li class="">
<p>Сделайте основной каталог для хранения данных этого набора данных. Для этого воспользуемся /data/testGet/. Пользователь запускает GenerateDatasetsXml и пользователь запускает ERDDAP™ Оба должны иметь доступ к этой директории.
 </p>
</li>
<li class="">
<p>Используйте текстовый редактор, чтобы сделать образец .json Файл CSV с расширением .json В этом каталоге.
Имя не важно. Например, его можно назвать образцом. .json л
Сделайте 2 строки .json l файл CSV с именами колонок на первой строке и фиктивными/типичными значениями (Правильный тип данных) на второй линии. Вот образец файла, который подходит для сбора featureType Данные TimeSeries, измеряющие температуру воздуха и воды.
\[ Для featureType = Траектория, вы можете изменить stationID Быть траекторией. \]<br>
<!-- -->\[ Для featureType =Профиль, вы можете изменить stationID Чтобы быть профильным ID и добавить переменную глубины. \]</p>
<p>\[ &quot; stationID &quot; &quot;time&quot; , &quot;широта&quot;, &quot;долгота&quot;, &quot;воздух-темп&quot;, &quot;вода-темп&quot;, &quot;таймштамп&quot;, &quot;автор&quot;, &quot;командир&quot; \]
\[ &quot;myStation&quot;, &quot;2018-06-25T17:00:00Z&quot;, 0,0, 0,0, 0,0, 0,0, &quot;SomeBody&quot;, 0 \]</p>
</li>
</ol>
<p>Примечание:</p>
<ul>
<li class="">Фактические значения данных не имеют значения, потому что вы в конечном итоге удалите этот файл, но они должны быть правильного типа данных. Примечательно, что переменная времени должна использовать тот же формат, что и фактические данные из источника.</li>
<li class="">Для всех переменных, sourceName будет равняться destinationName Поэтому используйте правильные/окончательные имена переменных, включая время, широту, долготу и иногда глубину или высоту, если переменные с этой информацией будут включены.</li>
<li class="">Почти всегда существует переменная, называемая временем, которая записывает время, когда было сделано наблюдение. Это может быть строка типа данных с <a href="#string-time-units" class="">Единицы, подходящие для струнного времени</a>   (например, yyyy-MM-dd &#x27;T&#x27;HH:mm<!-- -->:ss<!-- -->.SSSZ) или данные Тип двойной с <a href="#time-units" class="">единицы, подходящие для численного времени</a>   (Например, секунды с 197001-01T00:00:00Z или какое-либо другое базовое время) .</li>
<li class="">Три колонны (Как правило, последние три) Должно быть временная метка, автор, команда.</li>
<li class="">Колонка метки времени будет использоваться EDDTableFromHttpGet для добавления метки времени, указывающей, когда она добавила заданную строку данных в файл данных. Он будет иметь двойной тип данных и единицы секунды с 197001-01T00:00:00Z.</li>
<li class="">Колонка автора с строкой типа данных будет использоваться для записи того, какой автор предоставил данные этой строки. Авторизованные авторы определяются <a href="#httpgetkeys" class=""> http Глобальный атрибут GetKeys</a> . Хотя ключи указаны как <em>Автор__key</em> и находятся в URL-адресе запроса в этой форме, только часть автора сохраняется в файле данных.</li>
<li class="">Колонка команд с байтом dataType укажет, являются ли данные на этой строке вставкой. (0) или удаление (1 1) .
 </li>
</ul>
<ol start="3">
<li class="">
<p>Запуск GenerateDatasets Xml и расскажи</p>
<ol>
<li class="">Тип набора данных EDDTableFromHttpGet</li>
<li class="">Директория является (В этом примере) /данные/тест Вставай.</li>
<li class="">Образцовый файл является (В этом примере) /data/testGet/startup .json л</li>
<li class="">The http Требуется Переменные являются (В этом примере)   stationID Время Смотрите описание <a href="#httpgetrequiredvariables-global-attribute" class=""> http Получить требуемые переменные</a> ниже.</li>
<li class="">Если данные собираются каждые 5 минут, http В этом примере GetDirectoryStructure stationID 2 месяца. Смотрите описание <a href="#httpgetdirectorystructure" class=""> http GetDirectoryСтруктура</a> ниже.</li>
<li class="">The <a href="#httpgetkeys" class=""> http GetKeys</a></li>
</ol>
</li>
</ol>
<p>Добавить выход (кусок от datasets.xml для набора данных) то datasets.xml .
 
4. Редактировать datasets.xml Для этого набора данных, чтобы сделать его правильным и полным.
Заменить все ???? с правильным содержанием.
 
5. Для&lt;FileTableInMemory&gt; настройка:</p>
<ul>
<li class="">Установите это, если набор данных обычно получает частые запросы .insert и / или .delete. (Например, чаще, чем один раз каждые 10 секунд) . Это помогает EDDTableFromHttpGet быстрее реагировать на запросы .insert и/или .delete. Если вы установите это, EDDTableFromHttpGet все равно будет периодически сохранять файлTable и связанную с ним информацию на диск. (по мере необходимости примерно каждые 5 секунд) .</li>
<li class="">Сделать это ложным (по умолчанию) если набор данных обычно получает нечастые запросы .insert и/или .delete (Например, менее одного раза каждые 10 секунд) .
 </li>
</ul>
<ol start="6">
<li class="">Примечание: Можно использовать&lt;CacheFromUrl&gt; и соответствующие настройки в datasets.xml для EDDTable Из Http Получить наборы данных как способ сделать и поддерживать локальную копию удаленного набора данных EDDTableFromHttpGet на другом ERDDAP . Однако в этом случае этот локальный набор данных отклонит любые запросы .insert и .delete.</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="using-eddtablefromhttpget-datasets">Использование EDDTable Наборы данных HTTPGet<a href="#using-eddtablefromhttpget-datasets" class="hash-link" aria-label="Прямая ссылка наИспользование EDDTable Наборы данных HTTPGet" title="Прямая ссылка наИспользование EDDTable Наборы данных HTTPGet" translate="no">​</a></h4>
<ul>
<li class="">Авторы могут делать «запросы», которые <a href="#insert-and-delete" class="">вставлять данные или удалять данные из набора данных</a> .
 </li>
<li class="">После того, как реальные данные были вставлены в набор данных, вы можете и должны удалить исходный образец файла данных.
 </li>
<li class="">Пользователи могут запрашивать данные из набора данных, как и для любого другого набора данных EDDTable. ERDDAP . Если запрос не содержит ограничения в столбце метки времени, то запрос получает данные из текущей версии набора данных. (файл журнала после обработки всех команд ввода и удаления и повторного сортирования http Получить требуемые переменные) .
 </li>
<li class="">Пользователи также могут делать запросы, которые относятся к наборам данных EDDTableFromHttpGet:<!-- -->
<ul>
<li class="">Если запрос включает в себя&lt;или&lt;= ограничение столбца метки времени, затем ERDDAP™ обрабатывает строки файла журнала вплоть до указанной временной метки. По сути, это временно удаляет все изменения, внесенные в набор данных после этого значения метки времени. Больше информации см. <a href="#versioning" class="">Версия</a> .</li>
<li class="">Если запрос включает в себя &gt;, &gt;= или = ограничение столбца метки времени, например, &amp;timestamp&lt;=0, то ERDDAP™ возвращает данные из файлов данных как есть, без обработки команд ввода и удаления.</li>
</ul>
</li>
<li class="">В будущем мы предполагаем, что инструменты будут созданы. (нами? тобой?) для работы с этими наборами данных. Например, может быть скрипт, который считывает необработанные файлы журнала, применяет другое уравнение калибровки и генерирует / обновляет другой набор данных с этой полученной информацией. Обратите внимание, что сценарий может получить исходные данные через запрос на ERDDAP™   (который получает данные в формате файла, с которым легче всего работать сценарию) и генерировать/обновлять новый набор данных через .insert &quot;запросы&quot; ERDDAP . Сценарий не требует прямого доступа к файлам данных, он может быть на любом авторском компьютере.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="detailed-information-about-eddtablefromhttpget">Подробная информация о EDDTableFromHttpGet<a href="#detailed-information-about-eddtablefromhttpget" class="hash-link" aria-label="Прямая ссылка наПодробная информация о EDDTableFromHttpGet" title="Прямая ссылка наПодробная информация о EDDTableFromHttpGet" translate="no">​</a></h4>
<p>Темами являются:</p>
<ul>
<li class=""><a href="#dont-change-the-setup" class="">Не меняйте настройки!</a></li>
<li class=""><a href="#crud" class="">КРУД</a></li>
<li class=""><a href="#invalidrequests" class="">Недействительные запросы</a></li>
<li class=""><a href="#httpget-speed" class="">Скорость</a></li>
<li class=""><a href="#robust" class="">Настойчивый</a></li>
<li class=""><a href="#system-reliability" class="">Системная надежность</a></li>
<li class=""><a href="#versioning" class="">Версия</a></li>
<li class=""><a href="#https-put-and-delete" class="">Как насчет HTTP PUT и Delete?</a></li>
<li class=""><a href="#httpget-notes" class="">Заметки</a></li>
<li class=""><a href="#thanks" class="">Спасибо за основную идею.</a></li>
</ul>
<p>Вот подробная информация:</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="dont-change-the-setup">Не меняйте настройки!<a href="#dont-change-the-setup" class="hash-link" aria-label="Прямая ссылка наНе меняйте настройки!" title="Прямая ссылка наНе меняйте настройки!" translate="no">​</a></h5>
<p>После того, как набор данных был создан, и вы добавили к нему данные:</p>
<ul>
<li class="">Не добавляйте и не удаляйте dataVariable С.</li>
<li class="">Не меняйте sourceName или destinationName из dataVariable С.</li>
<li class="">Не меняйте данные Тип этого dataVariable С. Но вы можете изменить dataVariable Метаданные.</li>
<li class="">Не меняйте http Требуется Переменные глобальные атрибуты.</li>
<li class="">Не меняйте http Глобальный атрибут GetDirectoryStructure.</li>
</ul>
<p>Если вам нужно изменить что-либо из этих вещей, сделайте новый набор данных и перенесите все данные в новый набор данных.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="crud">КРУД<a href="#crud" class="hash-link" aria-label="Прямая ссылка наКРУД" title="Прямая ссылка наКРУД" translate="no">​</a></h5>
<p>В информатике четыре основные команды для работы с набором данных: <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete" target="_blank" rel="noopener noreferrer" class="">Создавать, читать, обновлять, удалять (КРУД) </a> . SQL, язык для работы с реляционными базами данных, имеет эквивалент в INSERT, SELECT, UPDATE и DELETE. В EDDTableFromHttpGet</p>
<ul>
<li class="">.insert представляет собой комбинацию CREATE и UPDATE.</li>
<li class="">.delete - удаленный.</li>
<li class="">Обычная система для запроса подмножеств данных READ.</li>
</ul>
<p>Таким образом, EDDTableFromHttpGet поддерживает все основные команды для работы с набором данных.
 </p>
<ul>
<li class="">Запросы .insert или .delete без ошибок возвращают код состояния HTTP=200 и объект JSON, например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;status&quot;:&quot;success&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;nRowsReceived&quot;:1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;stringTimestamp&quot;:&quot;2018-03-26T15:34:05.552Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;numericTimestamp&quot;:1.522078445552E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>Значения двух временных меток относятся к одной и той же миллисекунде, которая является миллисекундой, которая будет храниться в переменной временных меток для строк данных, которые были вставлены или удалены. ERDDAP™ В будущем название и форматирование этих пар ключевых значений не изменятся. ERDDAP™ В будущем к объекту JSON могут быть добавлены дополнительные пары ключевых значений.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="invalidrequests">Недействительные запросы<a href="#invalidrequests" class="hash-link" aria-label="Прямая ссылка наНедействительные запросы" title="Прямая ссылка наНедействительные запросы" translate="no">​</a></h5>
<p>Недействительные запросы .insert или .delete возвращают код состояния ошибки HTTP, отличный от status=200, и в набор данных не будет внесено никаких изменений. Это включает в себя запросы с неправильной информацией об авторе, неправильные имена переменных, разные длины массивов для разных переменных, отсутствующие требуемые переменные, отсутствующие требуемые переменные значения и т. Д. Если запрос включает в себя более одного файла данных, возможно, что часть запроса будет успешной, а часть - неудачной. Однако это не должно быть проблемой, если датчик, отправляющий запрос, рассматривает любой сбой как полный сбой. Например, если вы скажете ERDDAP™ вставить (или удалить) Дважды подряд одни и те же данные, в худшем случае эта информация хранится дважды, близко друг к другу в файле журнала. Трудно понять, как это может вызвать проблемы.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="httpget-speed">HttpGet скорость<a href="#httpget-speed" class="hash-link" aria-label="Прямая ссылка наHttpGet скорость" title="Прямая ссылка наHttpGet скорость" translate="no">​</a></h5>
<p>Запросы .insert или .delete (не считать http над головой) , шариковые фигуры скорость .insert или .delete
1ms per.insert с 1 строкой данных
2 мс на .insert с 10 строками данных в массивах ( \[  \] )<br>
<!-- -->3 мс на .insert с 100 строками данных в массивах ( \[  \] )<br>
<!-- -->13 мс на вставку с 1000 строками данных в массивах ( \[  \] )<br>
<!-- -->Ясно, что массивы являются ключом к <a href="#httpget-speed" class="">высокая пропускная способность</a> . Без массивов будет сложно вставить или удалить более 8 строк данных в секунду от удаленного автора. (Из-за всей накладной сети) . С помощью массивов будет легко вставить или удалить более 1000 строк данных в секунду с удаленного датчика.</p>
<p>С очень большими объемами данных по запросу вы достигнете предела Tomcat до максимальной длины запроса. (По умолчанию 8KB?) , но это может быть увеличено путем редактирования настройки maxHttpHeaderSize в вашем <em>кот</em> /conf/server.xml HTTP/1.1 Подключение.</p>
<p>Когда ERDDAP™ Данные JSON Lines CSV (вести) Файлы, есть небольшой штраф времени по сравнению с чтением двоичных файлов данных. Мы чувствовали, что на этот раз штраф при чтении был разумной ценой, чтобы заплатить за скорость и надежность системы при записи данных. (который имеет первостепенное значение) .</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="ssd">SSD<a href="#ssd" class="hash-link" aria-label="Прямая ссылка наSSD" title="Прямая ссылка наSSD" translate="no">​</a></h5>
<p><a href="#ssd" class="">Для большей скорости,</a> использовать <a href="https://en.wikipedia.org/wiki/Solid-state_drive" target="_blank" rel="noopener noreferrer" class="">Твердотельный двигатель (SSD) </a> для хранения данных. Они имеют гораздо более быстрое время доступа к файлам.&lt;0,1 мс), чем жесткие диски (3 - 12 мс) . Они также имеют более высокую скорость передачи данных. (200 - 2500 Мб/с) чем жесткие диски (~200 Мб/с) . За последние годы их стоимость значительно снизилась. Хотя ранние SSD имели проблемы после большого количества записей в данный блок, эта проблема теперь значительно уменьшена. Если вы просто используете SSD для записи данных один раз, прочитайте его много раз, даже SSD потребительского уровня. (Это значительно дешевле, чем SSD корпоративного уровня.) Она должна длиться долго.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="robust">Настойчивый<a href="#robust" class="hash-link" aria-label="Прямая ссылка наНастойчивый" title="Прямая ссылка наНастойчивый" translate="no">​</a></h5>
<p>Мы постарались сделать эту систему максимально простой в работе и надежной.</p>
<ul>
<li class="">Система предназначена для того, чтобы иметь несколько потоков (Например, датчик, автоматизированный сценарий QC и человек.) Одновременно работает над одним и тем же набором данных и даже над одним и тем же файлом. Большая часть этого становится возможной благодаря использованию подхода к хранению данных с помощью файла журнала и очень простого типа файла. <a href="https://jsonlines.org/examples/" target="_blank" rel="noopener noreferrer" class="">Джон Линии файлов CSV</a> Для хранения данных.</li>
<li class="">Еще одним огромным преимуществом JSON Lines CSV является то, что если файл когда-либо будет поврежден (Например, недействительный из-за ошибки в строке) Легко открыть файл в текстовом редакторе и исправить проблему.</li>
<li class="">Другим преимуществом является то, что если в файле есть ошибка на строке, система все равно может прочитать все данные на строках до и после строки ошибки. И система все еще может регистрировать дополнительную информацию .insert и .delete.</li>
<li class="">Огромное преимущество использования доступных стандартных файлов (По сравнению с реляционной базой данных или Cassandra или другим программным обеспечением) : Нет другого программного обеспечения, которое должно поддерживаться и которое должно работать для хранения или извлечения данных. И легко создавать резервные копии стандартных файлов в любое время и поэтапно, потому что данные находятся в кусках. (Через некоторое время изменится только файл текущего времени для каждой станции.) . В отличие от этого, для создания внешних резервных файлов из баз данных и из Cassandra требуются значительные усилия и время простоя системы.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="system-reliability">Системная надежность<a href="#system-reliability" class="hash-link" aria-label="Прямая ссылка наСистемная надежность" title="Прямая ссылка наСистемная надежность" translate="no">​</a></h5>
<p>Разумно ожидать, что один сервер ERDDAP™ иметь время безотказной работы 99,9% - это около 9 часов простоя в год (Вы можете использовать это в одну плохую ночь!) .
Если вам повезет, вы можете получить 99,99% времени безотказной работы. (53 минуты простоя в год) Поскольку только несколько перезагрузок для обновлений займут много времени.
Придется принимать крайние меры (отдельный резервный сервер, источник бесперебойного питания, резервное кондиционирование воздуха, персонал 24x7x365 для мониторинга сайта и т.д.) У вас есть небольшой шанс на 99,999% безотказной работы (5,25 минут простоя в год) . Даже тогда крайне маловероятно, что вы достигнете 99,999% времени безотказной работы. (или 99,99%) Часто проблемы находятся вне вашего контроля. Например, Amazon Web Service и Google предлагают удивительно надежные веб-сервисы, но большая часть из них иногда не работает в течение нескольких часов.</p>
<p>Лицом к лицу, все хотят ERDDAP™ 100% безотказной работы или, по крайней мере, хваленые «шесть девяток» (99.9999% времени безотказной работы равняется 32 секундам простоя в год) Но вы не получите его, независимо от того, сколько времени, усилий и денег вы тратите.</p>
<p>Но ERDDAP™ Время безотказной работы здесь не настоящая цель. Цель – построить надежный <strong>система</strong> Тот, который не теряет данных. Это решаемая проблема.</p>
<p>Решение заключается в том, чтобы встроить отказоустойчивость в компьютерное программное обеспечение, которое отправляет данные на ERDDAP . В частности, это программное обеспечение должно поддерживать очередь данных, ожидающих, чтобы пойти к ERDDAP . Когда данные добавляются в очередь, программное обеспечение должно проверить ответ. ERDDAP . Если ответ не включает полученные данные. Никаких ошибок, тогда программное обеспечение должно оставить данные в очереди. Когда больше данных генерируется и добавляется в очередь, программное обеспечение должно снова попытаться вставить данные в очередь. (Возможно, с помощью \[  \] система) . Это будет иметь успех или провал. Если это не удастся, он попробует снова позже. Если вы пишете программное обеспечение, чтобы оно работало таким образом, и если программное обеспечение готово стоять в очереди на несколько дней данных, у вас действительно есть хороший шанс загрузить 100% данных датчика. ERDDAP . И вы сделаете это без больших усилий или затрат.</p>
<p>\[ Справочная информация: Мы не думали об этом. <a href="https://en.wikipedia.org/wiki/Reliability_(computer_networking)" target="_blank" rel="noopener noreferrer" class="">Именно так компьютерные сети достигают надежности.</a> Компьютерные сети по своей природе ненадежны. Таким образом, когда вы передаете файл с одного компьютера на другой, отправляющее программное обеспечение знает / ожидает, что некоторые пакеты могут быть потеряны. Если он не получает надлежащего подтверждения для данного пакета от получателя, он отправляет потерянный пакет. При таком подходе относительно простое программное обеспечение отправителя и получателя может создать надежную систему передачи файлов поверх ненадежной сети. \]</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-json-lines-csv-files">Почему файлы JSON Lines CSV?<a href="#why-json-lines-csv-files" class="hash-link" aria-label="Прямая ссылка наПочему файлы JSON Lines CSV?" title="Прямая ссылка наПочему файлы JSON Lines CSV?" translate="no">​</a></h5>
<p>Использование EDDTableFromHttpGet <a href="https://jsonlines.org/examples/" target="_blank" rel="noopener noreferrer" class="">Джон Линии файлов CSV</a> Для хранения данных. Причины таковы:</p>
<ul>
<li class="">Основная причина заключается в том, что простота файлов JSON Lines CSV обеспечивает быстрый, простой и надежный способ записи нескольких потоков в данный файл. (Например, путем синхронизации имени файла) .</li>
<li class="">Если файл JSON Lines CSV когда-либо был поврежден (Например, недействительный из-за ошибки в строке) EDDTable FromFromHttpGet все еще может считывать все данные на всех строках до и после строки ошибки. И система .insert и .delete может продолжать добавлять новые данные в файл данных.</li>
<li class="">Поскольку CSV-файлы JSON Lines являются файлами ASCII, если файл когда-либо был поврежден, его легко исправить. (в текстовом редакторе) .</li>
<li class="">JSON Lines поддерживает CSV Струны Unicode.</li>
<li class="">JSON Lines CSV поддерживает строки переменной длины (не ограничивается некоторой максимальной длиной) .</li>
<li class="">JSON Lines CSV поддерживает 64-битные целые числа (долго) .</li>
<li class="">Формальный характер и дополнительный синтаксис JSON Lines CSV (Старая школа CSV) Это дает дополнительную уверенность в том, что данная линия не была повреждена.</li>
</ul>
<p>Изначально мы пытались использовать .nc 3 файла с неограниченным размером. Однако были проблемы:</p>
<ul>
<li class="">Основной проблемой было: Не существует надежного способа позволить нескольким потокам писать на .nc 3 файл, даже если потоки взаимодействуют, выполняя записи синхронизированным способом.</li>
<li class="">Если .nc 3 файл становится поврежденным, система .insert и .delete не может продолжать использовать файл.</li>
<li class="">Потому что .nc 3 файла являются двоичными, если файл поврежден (Что они делают из-за многопоточной проблемы) Их чрезвычайно трудно или невозможно исправить. Нет инструментов, которые могли бы помочь с ремонтом.</li>
<li class="">CF не может указать кодировку строк, поэтому нет официального способа поддержки Unicode, например, кодирования UTF-8. Мы пытались заставить CF поддерживать атрибут \_Encoding, но не смогли добиться прогресса. ( Unidata , к их чести, поддерживает атрибут \_Encoding.)</li>
<li class="">.nc 3 файла поддерживают только строки фиксированной длины. Опять же, мы пытались получить CF и Unidata Они поддерживали струны переменной длины, но не могли добиться прогресса.</li>
<li class="">.nc 3 файла не поддерживают простой способ отличить односимвольные переменные от струнных. Опять же, мы пытались получить CF и Unidata Поддерживать систему для различения этих двух типов данных, но не удалось добиться какого-либо прогресса.</li>
<li class="">.nc 3 файла поддерживают только 8-битные символы с неопределенной кодировкой. Опять же, мы пытались получить CF и Unidata поддерживать систему для уточнения кодирования, но не смогли добиться какого-либо прогресса.</li>
<li class="">.nc 3 файла не поддерживают 64-разрядные целые числа (долго) . Опять же, мы пытались получить CF и Unidata Поддерживать систему долго, но не смогли добиться прогресса.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="versioning">Версия<a href="#versioning" class="hash-link" aria-label="Прямая ссылка наВерсия" title="Прямая ссылка наВерсия" translate="no">​</a></h5>
<p>Потому что EDDTable Из Http Получите журнал всех изменений в наборе данных с меткой времени и автором каждого изменения, он может быстро воссоздать этот набор данных в любой момент времени. В каком-то смысле есть версия на любой момент времени. Если запрос пользователя на данные включает временную метку&lt;= ограничение, например, &amp;timestamp&lt;=2016-06-23T16:32:22.128Z (любой момент времени) но без ограничения автора или приказа, ERDDAP™ ответит на запрос, сначала сгенерировав версию набора данных на данный момент времени. Тогда, ERDDAP™ применяет другие ограничения пользователя, как и при любом другом запросе данных ERDDAP . EDDTableFromHttpGet настроен так, что этот процесс очень быстрый и эффективный, даже для очень больших наборов данных.</p>
<p>Аналогичным образом, пользователь может узнать, когда набор данных был в последний раз обновлен, запросив ...?timestamp&amp;timestamp=max (временная метка) неясный ()</p>
<p>И для любого запроса данных, для любой версии набора данных пользователи могут видеть, какой автор внес какие изменения, и когда они их внесли.</p>
<p>Данная система позволяет <a href="https://en.wikipedia.org/wiki/Reproducibility" target="_blank" rel="noopener noreferrer" class="">Воспроизводимая наука</a> потому что любой человек в любое время может запросить данные из версии набора данных в любой момент времени. Эта мелкозернистая версия невозможна с любой другой системой, о которой мы знаем. Основной механизм очень эффективен, поскольку не требуется дополнительного пространства для хранения, а затраты на обработку действительно минимальны.</p>
<p>Не у всех есть потребность в этом типе мелкозернистых версий, но это чрезвычайно полезно, возможно, необходимо, в контексте большой организации управления данными. (Например, OOI, Earth Cube, Data One и NOAA NCEI) где набор данных может иметь несколько авторов (Например, датчик, автоматизированный QC-скрипт и человеческий редактор.) .</p>
<p>\[ История: Потребность в такого рода версиях впервые появилась у меня (Бобби) Когда мы читали и обсуждали OOI в 2008 году. В то время у OOI была громоздкая, медленная, неэффективная система для версий на основе Git. Git отлично подходит для того, для чего он был разработан, но не для этого. В 2008 году, во время обсуждения OOI, я разработал обширную, эффективную альтернативную OOI-систему для управления данными, включая многие функции, которые я добавил. ERDDAP™ С тех пор и в том числе эта система. В то время и с тех пор OOI была привержена своей системе версий и не интересовалась альтернативами. В 2016 году другие аспекты этого плана вступили в силу, и я начал его реализовывать. Поскольку было много перерывов в работе над другими проектами, я не заканчивал до 2018 года. Даже сейчас мне неизвестно о какой-либо другой научной системе данных, которая предлагает такой быстрый и легкий доступ к версии данных из любой точки времени, для часто меняющихся наборов данных. Простые файловые системы этого не предлагают. Относительные базы данных — нет. Кассандра - нет. \]</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="https-put-and-delete">HTTPS скачать и удалить<a href="#https-put-and-delete" class="hash-link" aria-label="Прямая ссылка наHTTPS скачать и удалить" title="Прямая ссылка наHTTPS скачать и удалить" translate="no">​</a></h5>
<ul>
<li class=""><a href="#https-put-and-delete" class="">Как насчет HTTPS PUT и Delete?</a><br>
<a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol" target="_blank" rel="noopener noreferrer" class="">Протокол передачи гипертекста (HTTP) </a> является основой Всемирной паутины и причиной того, что URL-адреса веб-страниц начинаются с &quot;http://&quot;или &quot;&quot;https://&quot;. HTTPS - это HTTP с дополнительным уровнем безопасности. Каждый день браузеры, скрипты и компьютерные программы создают миллиарды HTTP. (S)   <strong>Встать</strong> Запрос на получение информации из удаленных источников. HTTP (S) включает в себя и другие <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods" target="_blank" rel="noopener noreferrer" class="">глаголы</a> Особенно PUT (Чтобы перенести данные на сервер) и удалять (Чтобы удалить данные с сервера) . Да, PUT и DELETE — это правильный способ вставлять данные в набор данных и удалять их через HTTP. (S) . GET поддерживается любым программным обеспечением, которое может работать с HTTP. (S) . С GET действительно легко работать. Все уже знают, как работать с GET, и многие знают, как использовать POST. (которые могут быть использованы практически таким же образом, как и) Мы создали EDDTableFromHttpGet для работы с GET и POST. Очень мало людей (Немногие программисты) Мы всегда работали с PUT и DELETE. PUT и DELETE обычно поддерживаются только компьютерными языками, поэтому для их использования требуется искусная программа. Таким образом, PUT и DELETE обычно являются гораздо более громоздким подходом, учитывая то, как развивались инструменты.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="httpget-notes">HttpGet Заметки<a href="#httpget-notes" class="hash-link" aria-label="Прямая ссылка наHttpGet Заметки" title="Прямая ссылка наHttpGet Заметки" translate="no">​</a></h5>
<ul>
<li class=""><a href="#httpget-notes" class="">Заметки</a></li>
<li class="">Нет. dataVariable Можно использовать dataType=char. Вместо этого используйте dataType=String. Если вам действительно нужен dataType=char, напишите Крису. Джон на noaa.gov.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="thanks">Спасибо.<a href="#thanks" class="hash-link" aria-label="Прямая ссылка наСпасибо." title="Прямая ссылка наСпасибо." translate="no">​</a></h5>
<ul>
<li class=""><a href="#thanks" class="">Спасибо за основную идею.</a><br>
<!-- -->Основная идея для EDDTableFromHttpGet (То есть, используя HTTP GET запрос на добавление данных в набор данных) Это от UCAR (NCAR?)   <a href="https://github.com/earthcubeprojects-chords" target="_blank" rel="noopener noreferrer" class="">Облачные сервисы передачи данных в реальном времени (Слова) </a> Проект. Формат параметров в запросе (повторяющийся <em>Имя = значение</em> Разделенный &amp;&#x27;s) Это тот же стандартный формат, который используется HTML-формами на веб-страницах. Это простая и блестящая идея и тем более потому, что она идеально сочетается с ERDDAP существующая система для работы с табличными данными. Идея очевидна задним числом, но я (Бобби) Не думал об этом. EDDTable FromHttp Используйте эту основную идею в сочетании с нашими идеями о том, как ее реализовать, чтобы создать систему, которая будет работать. ERDDAP™ для загрузки данных. Помимо основной идеи использования GET для ввода данных в систему, реализация EDDTableFromHttpGet полностью отличается и полностью независима от CHORDS. (Например, файлы журналов, фрагментация данных, другая система безопасности, поддержка CRUD, воспроизводимые данные) . Наше знакомство с CHORDS было всего лишь вебинаром. Мы не смотрели на их код и не читали об их проекте, потому что сразу поняли, что хотим внедрить систему по-другому. Но мы благодарны им за основную идею. Полная ссылка на слова является
Daniels, M.D., Kerkez, B., Chandrasekar, V., Graves, S., Stamps, D.S., Martin, C., Dye, M., Gooch, R., Bartos, M., Jones, J., Keiser, K. (2014 год) . Облачные сервисы обработки данных в реальном времени для Geosciences (Слова) программное обеспечение. UCAR/NCAR — Лаборатория наблюдения Земли. <a href="https://doi.org/10.5065/d6v1236q" target="_blank" rel="noopener noreferrer" class="">https://doi.org/10.5065/d6v1236q</a><br>
<!-- --> </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromhyraxfiles">EDDTable From Hyrax Файлы<a href="#eddtablefromhyraxfiles" class="hash-link" aria-label="Прямая ссылка наEDDTable From Hyrax Файлы" title="Прямая ссылка наEDDTable From Hyrax Файлы" translate="no">​</a></h3>
<p><a href="#eddtablefromhyraxfiles" class=""> <strong>EDDTable From Hyrax Файлы</strong> </a>   (обесцененный) агрегирует файлы данных с несколькими переменными, каждая с одним или несколькими общими размерами (Например, время, высота (или глубина) Широта, долгота) и обслуживается а <a href="https://www.opendap.org/software/hyrax-data-server" target="_blank" rel="noopener noreferrer" class=""> Hyrax   OPeNDAP сервер</a> .</p>
<ul>
<li class="">Данный тип данных является <strong>Обнародовано</strong> . Новое и более общее решение заключается в использовании <a href="#cachefromurl" class="">кэш Вариант FromUrl для EDDTable Из материалов</a>   (или вариант) , который делает локальную копию удаленных файлов и обслуживает данные из локальных файлов. The&lt;Опция cacheFromUrl&gt; может использоваться с любым типом табличного файла данных. **<br>
<!-- -->Если вы не можете заставить это работать по какой-то причине, напишите Крису. Джон на noaa.gov.
Если до 2020 года жалоб не будет, этот тип набора данных может быть удален. **</li>
<li class="">Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Затем вы можете отредактировать это, чтобы настроить его.</li>
<li class="">В большинстве случаев каждый файл имеет несколько значений для самого левого. (первый) Например, измерение времени.</li>
<li class="">Файлы часто (Но не обязательно) имеют одно значение для других измерений (Например, высота (или глубина) Широта, долгота) .</li>
<li class="">Файлы могут иметь переменные символов с дополнительным измерением. (Например, nCharacters) .</li>
<li class="">Hyrax Серверы могут быть идентифицированы как «/dods-bin/nph-dods/» или «/opendap/» в URL.</li>
<li class="">Этот класс скриншотов Hyrax веб-страницы со списками файлов в каждом каталоге. В связи с этим он очень специфичен для нынешнего формата. Hyrax Веб-страницы. Мы постараемся приспособиться ERDDAP™ Если и когда будущие версии Hyrax Измените порядок перечисления файлов.</li>
<li class="">The&lt;Настройка fileDir&gt; игнорируется. Поскольку этот класс загружает и делает локальную копию каждого удаленного файла данных, ERDDAP™ Вынуждает файл Чтобы быть <em>BigParent Директория</em> /копия/ * datasetID * /.</li>
<li class="">Для&lt; sourceUrl &gt;, используйте URL базового каталога набора данных в Hyrax сервера, например,
&lt; sourceUrl &gt;<a href="http://edac-dap.northerngulfinstitute.org/dods-bin/nph-dods/WCOS/nmsp/wcos/&amp;lt;/" target="_blank" rel="noopener noreferrer" class="">http://edac-dap.northerngulfinstitute.org/dods-bin/nph-dods/WCOS/nmsp/wcos/&amp;lt;/</a> sourceUrl &gt;
(Но поставьте его на одну линию)   (К сожалению, этот сервер больше не доступен.) .
The sourceUrl Веб-страница обычно имеет &quot;&quot; OPeNDAP Серверный индекс \[ название \] &quot;наверху.</li>
<li class="">Поскольку этот класс всегда загружает и делает локальную копию каждого удаленного файла данных, вы никогда не должны заворачивать этот набор данных. <a href="#eddtablecopy" class="">EDDTableCopy</a> .</li>
<li class="">Смотрите суперкласс этого класса, <a href="#eddtablefromfiles" class="">EDDTable Из материалов</a> Для получения информации о том, как работает этот класс и как его использовать.</li>
<li class="">Смотрите примеры 1D, 2D, 3D и 4D для <a href="#eddtablefromncfiles" class="">EDDTable FromNcFiles</a> .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefrominvalidcrafiles">EDDTable FromInvalidCRAFiles<a href="#eddtablefrominvalidcrafiles" class="hash-link" aria-label="Прямая ссылка наEDDTable FromInvalidCRAFiles" title="Прямая ссылка наEDDTable FromInvalidCRAFiles" translate="no">​</a></h3>
<p><a href="#eddtablefrominvalidcrafiles" class=""> <strong>EDDTable FromInvalidCRAFiles</strong> </a> агрегированные данные от NetCDF   (v3 или v4)   .nc Файлы, которые используют конкретный, недействительный вариант CF DSG Contiguous Ragged Array (КРА) Файлы. Хотя ERDDAP™ Поддерживает этот тип файла, это недействительный тип файла, который никто не должен начинать использовать. Группы, которые в настоящее время используют этот тип файла, настоятельно рекомендуется использовать. ERDDAP™ для создания действительных файлов CF DSG CRA и прекращения использования этих файлов.</p>
<p>Подробности: Эти файлы имеют несколько переменных размера строки, каждый с атрибутом sample_dimension. Файлы не являются CF-стандартными файлами, потому что множественный образец (обс) Размеры должны быть декодированы и связаны друг с другом этим дополнительным правилом и обещанием, которое не является частью спецификации CF DSG: &quot;Вы можете связать заданное, например, значение температуры (размерность temp\obs) с заданным значением глубины (z\_obs размерность, размерность с наибольшим количеством значений) , потому что: температурный ряд\_size (Для определенного набора) будет равно либо 0, либо соответствующему ряду глубины (для этого каста)   (Это правило) . Таким образом, если температурный ряд \_size не равен 0, то значения n температуры для этого отлива непосредственно относятся к значениям n глубины для этого отлива. (Это обещание) &quot;</p>
<p>Другая проблема с этими файлами: переменная Principal\_Investigator row\_size не имеет атрибута sample\_dimension и не следует вышеупомянутому правилу.</p>
<p>Образцы файлов для этого типа набора данных можно найти в<a href="https://data.nodc.noaa.gov/thredds/catalog/ncei/wod/" target="_blank" rel="noopener noreferrer" class="">https://data.nodc.noaa.gov/thredds/catalog/ncei/wod/</a>  \[ 2020-10-21 Этот сервер больше не доступен \] .</p>
<p>Смотрите суперкласс этого класса, <a href="#eddtablefromfiles" class="">EDDTable Из материалов</a> Для получения информации о том, как работает этот класс и как его использовать.</p>
<p>Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Затем вы можете отредактировать это, чтобы настроить его.</p>
<p>Первое, что генерирует наборы данных Xml делает для этого типа набора данных после того, как вы ответите на вопросы, распечатайте ncdump-подобную структуру файла образца. Итак, если вы введете несколько глупых ответов для первого цикла через наборы данных Xml, по крайней мере, вы сможете увидеть, ERDDAP™ Вы можете прочитать файл и посмотреть, какие размеры и переменные находятся в файле. Затем вы можете дать лучшие ответы для второго цикла через GenerateDatasetsXml.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromjsonlcsvfiles">EDDTableFromJsonlCSVFiles<a href="#eddtablefromjsonlcsvfiles" class="hash-link" aria-label="Прямая ссылка наEDDTableFromJsonlCSVFiles" title="Прямая ссылка наEDDTableFromJsonlCSVFiles" translate="no">​</a></h3>
<p><a href="#eddtablefromjsonlcsvfiles" class=""> <strong>EDDTableFromJsonlCSVFiles</strong> </a> агрегированные данные от <a href="https://jsonlines.org/examples/" target="_blank" rel="noopener noreferrer" class="">Джон Линии файлов CSV</a> . Смотрите суперкласс этого класса, <a href="#eddtablefromfiles" class="">EDDTable Из материалов</a> Для получения информации о том, как работает этот класс и как его использовать.</p>
<ul>
<li class="">Как говорит jsonlines.org, этот формат «лучше, чем CSV». (И юридически, как федеральный служащий, я не могу согласиться или не согласиться с ними - насколько это безумно?) . CSV никогда не была официально определена и затруднена историческим багажом, связанным с его связью с оригинальными программами электронных таблиц. Для сравнения, JSON Lines CSV полностью определена и имеет преимущества от подключения к широко используемому стандарту JSON, который, в свою очередь, выигрывает от его подключения к стандарту JSON. Java Сценарий и Java . Примечательно, что существует полная поддержка длинных целых чисел и символов Unicode в строках, а также четкий способ включения других специальных символов. (Особенно Tabs и Newlines) внутри струн.</li>
</ul>
<p>Этот формат особенно хорош для наборов данных, где необходимо периодически добавлять дополнительные строки в конец данного файла данных. По этой причине и другие (смотреть выше) , <a href="#eddtablefromhttpget" class="">EDDTable FromHttpGet</a> Json Lines использует CSV файлы для хранения данных.</p>
<ul>
<li class="">Предполагается, что входные файлы кодируются UTF-8. Однако, учитывая, что <em>dddd</em> Формат для кодирования специальных символов (Например, \u20ac является кодировкой для символа евро.) , у вас есть возможность записывать файлы так, чтобы они содержали только 7-битные символы ASCII с помощью \u <em>dddd</em> Кодирование всех символов выше #127.
 </li>
<li class="">Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Затем вы можете отредактировать это, чтобы настроить его.</li>
</ul>
<p>Первое, что GenerateDatasetsXml делает для этого типа набора данных после того, как вы ответите на вопросы, - это распечатаете ncdump-подобную структуру файла образца. Итак, если вы введете несколько глупых ответов для первого цикла через наборы данных Xml, по крайней мере, вы сможете увидеть, ERDDAP™ Вы можете прочитать файл и посмотреть, какие размеры и переменные находятся в файле. Затем вы можете дать лучшие ответы для второго цикла через GenerateDatasetsXml.</p>
<ul>
<li class="">Предупреждение: когда ERDDAP™ читать JSON Линии файлов данных CSV, если обнаруживается ошибка на заданной строке (Например, неправильное количество элементов) Он записывает предупреждающее сообщение (&quot;Предупреждение: плохая линия (s) &quot;... с перечнем плохих линий на последующих линиях&quot;) к <a class="" href="/ru/docs/server-admin/additional-information#log">log.txt файл</a> Затем он продолжает читать остальные файлы данных. Таким образом, вы несете ответственность за периодический просмотр. (или написать сценарий для этого) для этого сообщения в журнале. txt для устранения проблем в файлах данных. ERDDAP™ Он настроен таким образом, чтобы пользователи могли продолжать читать все доступные действительные данные, даже если некоторые строки файла имеют недостатки.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefrommultidimncfiles">EDDTableFromMultidimNcFiles<a href="#eddtablefrommultidimncfiles" class="hash-link" aria-label="Прямая ссылка наEDDTableFromMultidimNcFiles" title="Прямая ссылка наEDDTableFromMultidimNcFiles" translate="no">​</a></h3>
<p><a href="#eddtablefrommultidimncfiles" class=""> <strong>EDDTableFromMultidimNcFiles</strong> </a> агрегированные данные от NetCDF   (v3 или v4)   .nc   (или <a href="#ncml-files" class=""> .nc мл</a> ) файлы с несколькими переменными, каждая из которых имеет одно или несколько общих измерений. Файлы могут иметь переменные символов с дополнительным измерением или без него. (Например, Стринг14) . Смотрите суперкласс этого класса, <a href="#eddtablefromfiles" class="">EDDTable Из материалов</a> Для получения информации о том, как работает этот класс и как его использовать.</p>
<ul>
<li class="">Если файлы являются многомерными вариантами CF DSG, используйте этот тип набора данных вместо <a href="#eddtablefromncfiles" class="">EDDTable FromNcCFFiles</a> .
 </li>
<li class="">Для новых табличных наборов данных из .nc Файлы, используйте эту опцию, прежде чем пробовать старые <a href="#eddtablefromncfiles" class="">EDDTable FromNcFiles</a> . Некоторые преимущества этого класса:<!-- -->
<ul>
<li class="">Этот класс может читать больше переменных из более широкого спектра файловых структур. Если вы указали размеры CSV (сепарированный запятой список имен измерений) Генерировать наборы данных Xml или&lt;CCV&gt; в пределах datasets.xml информацию для одного из этих наборов данных, затем ERDDAP™ Он будет читать только переменные в исходных файлах, которые используют некоторые или все из этих измерений, а также все скалярные переменные. Если измерение находится в группе, необходимо указать его полное наименование, например: &quot; <em>Название группы/измерение</em> &quot;.</li>
<li class="">Этот класс часто может очень быстро отклонить файлы, если они не соответствуют ограничениям запроса. Поэтому чтение данных из больших коллекций часто идет намного быстрее.</li>
<li class="">Этот класс обрабатывает истинные переменные (неструнные переменные) Правильно.</li>
<li class="">Этот класс может обрезать струнные переменные, когда создатель не использовал Netcdf-java. (который добавляет char #0, чтобы отметить конец строки) .</li>
<li class="">Этот класс лучше подходит для работы с отдельными файлами, в которых отсутствуют определенные переменные или размеры.</li>
<li class="">Этот класс может удалять блоки строк с отсутствующими значениями, указанными для <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#_incomplete_multidimensional_array_representation" target="_blank" rel="noopener noreferrer" class="">CF Дискретная геометрия выборки (DSG) Многомерные массивные файлы</a><br>
<!-- --> </li>
</ul>
</li>
<li class="">Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Затем вы можете отредактировать это, чтобы настроить его.</li>
</ul>
<p>Первое, что GenerateDatasetsXml делает для этого типа набора данных после того, как вы ответите на вопросы, - это распечатаете ncdump-подобную структуру файла образца. Итак, если вы введете несколько глупых ответов для первого цикла через наборы данных Xml, по крайней мере, вы сможете увидеть, ERDDAP™ Вы можете прочитать файл и посмотреть, какие размеры и переменные находятся в файле. Затем вы можете дать лучшие ответы для второго цикла через GenerateDatasetsXml.</p>
<p>Группа: Генерировать наборы данных Xml будет просить группу. Вы можете ввести «», чтобы он искал любые / все группы, <em>некоторые Группа</em> &quot;или&quot; <em>SomeGroup/SomeSubGroup</em> &quot;чтобы он искал определенную группу, или&quot; \[ корень \] &quot;чтобы он искал только корневую группу. Строка «Группа» становится&lt;В группе&gt; в datasets.xml Информация для набора данных (Хотя и \[ корень \] &quot;становится&quot;) .</p>
<p>Размеры CSV Генерировать наборы данных Xml запросит строку «DimensionsCSV». Это разделённый на запятую список имен источников набора измерений. Генерировать наборы данных Xml будет читать только переменные в выборке .nc Файлы, которые используют некоторые или все эти размеры (Никаких других измерений) плюс все скалярные переменные в файле, и сделать набор данных из этих переменных данных. Если измерение находится в группе, необходимо указать его полное наименование, например: &quot; <em>Название группы/измерение</em> &quot;.
Если ничего не указать (Пустая струна) Генерировать наборы данных Xml будет искать переменные с наибольшим количеством измерений, по теории, что они будут наиболее интересными, но могут быть моменты, когда вы захотите сделать набор данных из какой-то другой группы переменных данных, которая использует какую-то другую группу измерений.
Если просто указать имя измерения, которого не существует (Например, NO\_MATCH) , ERDDAP™ Мы найдем все скалярные переменные.
Строка «DimensionsCSV» становится&lt;CCV&gt; в пределах datasets.xml Информация для набора данных.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="treatdimensionsas">лечить отклонения<a href="#treatdimensionsas" class="hash-link" aria-label="Прямая ссылка налечить отклонения" title="Прямая ссылка налечить отклонения" translate="no">​</a></h4>
<p>Существует категория инвалидов .nc файлы (Потому что они не следуют правилам CF.) которые имеют несколько измерений (Например, лат, лон, время) когда нужно использовать только одно измерение (Например, время) Например:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    dimensions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        time = UNLIMITED ; // (1437 currently)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        depth = 10;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lat = 1437 ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lon = 1437 ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    variables:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        double time(time) ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        double lat(lat) ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        double lon(lon) ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float temperature(time, depth) ;</span><br></span></code></pre></div></div>
<p>EDDTableFromMultidimNcFiles имеет специальную функцию для работы с этими файлами: если вы добавите глобальный атрибут «treatDimensionsAs» в наборы данных по всему миру addAttributes Вы можете сказать ERDDAP™ для обработки определенных измерений (Например, лат и lon) Как будто это другое измерение. (Например, время) . Значение атрибута должно представлять собой список, разделенный запятой, в котором указываются размеры &quot;от&quot;, а затем размерность &quot;до&quot;, например,
<att name="treatDimensionsAs"> лат, лон, время </att><br>
<!-- -->Потом ERDDAP™ Прочитает файл так, как если бы он был:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    dimensions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        time = UNLIMITED ; // (1437 currently)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        depth = 10;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    variables:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        double time(time) ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        double lat(time) ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        double lon(time) ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float temperature(time, depth) ;</span><br></span></code></pre></div></div>
<p>Конечно, текущий размер каждого из измерений в списке должен быть одинаковым; в противном случае ERDDAP™ Мы будем рассматривать файл как «плохой файл».</p>
<p>Обратите внимание, что эти файлы недействительны, потому что они не следуют правилам CF. Даже если бы ERDDAP™ Мы настоятельно рекомендуем вам не создавать такие файлы, потому что другие программные средства на основе CF не смогут правильно их читать. Если у вас уже есть такие файлы, мы настоятельно рекомендуем заменить их действительными файлами как можно скорее.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromncfiles">EDDTable FromNcFiles<a href="#eddtablefromncfiles" class="hash-link" aria-label="Прямая ссылка наEDDTable FromNcFiles" title="Прямая ссылка наEDDTable FromNcFiles" translate="no">​</a></h3>
<p><a href="#eddtablefromncfiles" class=""> <strong>EDDTable FromNcFiles</strong> </a> агрегированные данные от NetCDF   (v3 или v4)   .nc   (или <a href="#ncml-files" class=""> .nc мл</a> ) файлы и <a href="https://github.com/zarr-developers/zarr-python" target="_blank" rel="noopener noreferrer" class="">Зарр</a> файлы (Версия 2.25) с несколькими переменными, каждая с одним общим измерением (Например, время) или более одного общего измерения (Например, время, высота (или глубина) Широта, долгота) . Файлы должны иметь одинаковые имена измерений. Данный файл может иметь несколько значений для каждого из измерений, и значения могут быть разными в разных исходных файлах. Файлы могут иметь переменные символов с дополнительным измерением. (Например, Стринг14) . Смотрите суперкласс этого класса, <a href="#eddtablefromfiles" class="">EDDTable Из материалов</a> Для получения информации о том, как работает этот класс и как его использовать.</p>
<p>Файлы Zarr имеют несколько иное поведение и требуют, чтобы файл NameRegex или PathRegex включали «zarr».</p>
<ul>
<li class="">Если .nc Файлы используют один из <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Дискретная геометрия выборки (DSG) </a> Форматы файлов, попробуйте использовать <a href="#eddtablefromncfiles" class="">EDDTable FromNcCFFiles</a> Прежде чем попробовать это.
 </li>
<li class="">Для новых табличных наборов данных из .nc Файлы, попробуйте новый <a href="#eddtablefrommultidimncfiles" class="">EDDTableFromMultidimNcFiles</a> Сначала.
 </li>
<li class="">Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Затем вы можете отредактировать это, чтобы настроить его.</li>
</ul>
<p>Первое, что GenerateDatasetsXml делает для этого типа набора данных после того, как вы ответите на вопросы, - это распечатаете ncdump-подобную структуру файла образца. Итак, если вы введете несколько глупых ответов для первого цикла через наборы данных Xml, по крайней мере, вы сможете увидеть, ERDDAP™ Вы можете прочитать файл и посмотреть, какие размеры и переменные находятся в файле. Затем вы можете дать лучшие ответы для второго цикла через GenerateDatasetsXml.</p>
<p>Размеры CSV Генерировать наборы данных Xml запросит строку «DimensionsCSV». Это разделённый на запятую список имен источников набора измерений. Генерировать наборы данных Xml находит переменные в данных .nc файлы, которые используют некоторые или все из этих измерений, а также все скалярные переменные, и делают набор данных из этих переменных данных. Если ничего не указать (Пустая струна) Генерировать наборы данных Xml будет искать переменные с наибольшим количеством измерений, по теории, что они будут наиболее интересными, но могут быть моменты, когда вы захотите сделать набор данных из какой-то другой группы переменных данных, которая использует какую-то другую группу измерений.</p>
<ul>
<li class="">1D Пример: 1D файлы несколько отличаются от 2D, 3D, 4D, ... файлов.<!-- -->
<ul>
<li class="">У вас может быть набор .nc Файлы данных, где каждый файл имеет данные за один месяц от одного дрейфующего буя.</li>
<li class="">Каждый файл будет иметь 1 размер, например время. (размер = \[ много \] ) .</li>
<li class="">Каждый файл будет иметь одну или более 1D переменных, которые используют это измерение, например, время, долготу, широту, температуру воздуха.</li>
<li class="">Каждый файл может иметь переменные 2D символов, например, с размерами. (Время, персонажи) .
 </li>
</ul>
</li>
<li class="">2D Пример:<!-- -->
<ul>
<li class="">У вас может быть набор .nc Файлы данных, где каждый файл имеет данные за один месяц от одного дрейфующего буя.</li>
<li class="">Каждый файл будет иметь 2 измерения, например, время. (размер = \[ много \] ) ид (Размер = 1) .</li>
<li class="">Каждый файл будет иметь 2 1D переменные с теми же именами, что и размерность, и с использованием того же имени размерность, например, время. (время) id (id) . Эти 1D переменные должны быть включены в список.&lt; dataVariable &gt; в XML наборе данных.</li>
<li class="">Каждый файл будет иметь одну или несколько 2D переменных, например, долготу, широту, температуру воздуха, температуру воды, ...</li>
<li class="">Каждый файл может иметь переменные 3D символов, например, с размерами. (Время,id,nCharacters) .
 </li>
</ul>
</li>
<li class="">3D Пример:<!-- -->
<ul>
<li class="">У вас может быть набор .nc Файлы данных, где каждый файл имеет данные за один месяц от одного стационарного буя.</li>
<li class="">Каждый файл будет иметь 3 измерения, например, время. (размер = \[ много \] ) Лат (Размер = 1) и лон (Размер = 1) .</li>
<li class="">Каждый файл будет иметь 3 1D переменные с теми же именами, что и размерность, и с использованием того же имени размерность, например, время. (время) Лат (лат) lon (один) . Эти 1D переменные должны быть включены в список.&lt; dataVariable &gt; в XML наборе данных.</li>
<li class="">Каждый файл будет иметь одну или несколько 3D переменных, например, температуру воздуха, температуру воды, температуру воды и т.д.</li>
<li class="">Каждый файл может иметь переменные 4D символов, например, с размерами. (Time,lat,lon,nCharacters) .</li>
<li class="">Имя файла может иметь имя буя в названии файла.
 </li>
</ul>
</li>
<li class="">4D Пример:<!-- -->
<ul>
<li class="">У вас может быть набор .nc Файлы данных, где каждый файл имеет данные за один месяц с одной станции. В каждый момент времени станция принимает показания на нескольких глубинах.</li>
<li class="">Каждый файл будет иметь 4 измерения, например, время. (размер = \[ много \] ) глубина (размер = \[ много \] ) Лат (Размер = 1) и лон (Размер = 1) .</li>
<li class="">Каждый файл будет иметь 4 1D переменных с теми же именами, что и размерность, и с использованием того же имени размерность, например, время. (время) глубина (глубина) Лат (лат) lon (один) . Эти 1D переменные должны быть включены в список.&lt; dataVariable &gt; в XML наборе данных.</li>
<li class="">Каждый файл будет иметь одну или несколько 4D переменных, например, температуру воздуха, температуру воды, температуру воды и т.д.</li>
<li class="">Каждый файл может иметь переменные 5D символов, например, с размерами. (время, глубина, лат,лон,nCharacters) .</li>
<li class="">Имя файла может иметь имя буя в названии файла.
 </li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromnccffiles">EDDTable FromNcCFFiles<a href="#eddtablefromnccffiles" class="hash-link" aria-label="Прямая ссылка наEDDTable FromNcCFFiles" title="Прямая ссылка наEDDTable FromNcCFFiles" translate="no">​</a></h3>
<p><a href="#eddtablefromnccffiles" class=""> <strong>EDDTable FromNcCFFiles</strong> </a> агрегаты данных агрегаты данных из NetCDF   (v3 или v4)   .nc   (или <a href="#ncml-files" class=""> .nc мл</a> ) файлы, использующие один из форматов файлов, указанных в <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Дискретная геометрия выборки (DSG) </a> конвенции. Смотрите суперкласс этого класса, <a href="#eddtablefromfiles" class="">EDDTable Из материалов</a> Для получения информации о том, как работает этот класс и как его использовать.</p>
<p>Для файлов, использующих один из многомерных вариантов CF DSG, используйте <a href="#eddtablefrommultidimncfiles" class="">EDDTableFromMultidimNcFiles</a> Вместо этого.</p>
<p>CF DSG определяет десятки форматов файлов и включает в себя множество незначительных вариаций. Этот класс имеет дело со всеми вариациями, о которых мы знаем, но мы, возможно, пропустили одну из них. (или более) . Так что если этот класс не может читать данные из ваших файлов CF DSG, пожалуйста. <a class="" href="/ru/docs/intro#support">обратиться за дополнительной поддержкой</a> .</p>
<p>Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Затем вы можете отредактировать это, чтобы настроить его.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromnccsvfiles">EDDTable FromNccsvFiles<a href="#eddtablefromnccsvfiles" class="hash-link" aria-label="Прямая ссылка наEDDTable FromNccsvFiles" title="Прямая ссылка наEDDTable FromNccsvFiles" translate="no">​</a></h3>
<p><a href="#eddtablefromnccsvfiles" class=""> <strong>EDDTable FromNccsvFiles</strong> </a> агрегированные данные от <a class="" href="/ru/docs/user/nccsv-1.00">NCCSV</a> Файлы ASCII.csv. Смотрите суперкласс этого класса, <a href="#eddtablefromfiles" class="">EDDTable Из материалов</a> Для получения информации о том, как работает этот класс и как его использовать.</p>
<ul>
<li class="">Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Затем вы можете отредактировать это, чтобы настроить его.</li>
</ul>
<p>Первое, что GenerateDatasetsXml делает для этого типа набора данных после того, как вы ответите на вопросы, - это распечатаете ncdump-подобную структуру файла образца. Итак, если вы введете несколько глупых ответов для первого цикла через наборы данных Xml, по крайней мере, вы сможете увидеть, ERDDAP™ Вы можете прочитать файл и посмотреть, какие размеры и переменные находятся в файле. Затем вы можете дать лучшие ответы для второго цикла через GenerateDatasetsXml.</p>
<ul>
<li class="">Предупреждение: когда ERDDAP™ считывает файлы данных NCCSV, если обнаруживает ошибку в заданной строке (Например, неправильное количество элементов) Он записывает предупреждающее сообщение (&quot;Предупреждение: плохая линия (s) &quot;... с перечнем плохих линий на последующих линиях&quot;) к <a class="" href="/ru/docs/server-admin/additional-information#log">log.txt файл</a> Затем он продолжает читать остальные файлы данных. Таким образом, вы несете ответственность за периодический просмотр. (или написать сценарий для этого) для этого сообщения в журнале. txt для устранения проблем в файлах данных. ERDDAP™ Он настроен таким образом, чтобы пользователи могли продолжать читать все доступные действительные данные, даже если некоторые строки файла имеют недостатки.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromnos">EDDTable FromNOS<a href="#eddtablefromnos" class="hash-link" aria-label="Прямая ссылка наEDDTable FromNOS" title="Прямая ссылка наEDDTable FromNOS" translate="no">​</a></h3>
<p><a href="#eddtablefromnos" class=""> <strong>EDDTable FromNOS</strong> </a>   (Обнародовано) обрабатывает данные из a NOAA   <a href="https://opendap.co-ops.nos.noaa.gov/axis/" target="_blank" rel="noopener noreferrer" class="">НОС</a> Источник, который использует <a href="https://www.w3schools.com/xml/xml_soap.asp" target="_blank" rel="noopener noreferrer" class=""> SOAP+XML </a> Запросы и ответы. Он очень специфичен для NOAA XML от NOS. См. образец набора данных EDDTableFromNOS в наборах данных2.xml.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromobis">EDDTable FromOBIS<a href="#eddtablefromobis" class="hash-link" aria-label="Прямая ссылка наEDDTable FromOBIS" title="Прямая ссылка наEDDTable FromOBIS" translate="no">​</a></h3>
<p><a href="#eddtablefromobis" class=""> <strong>EDDTable FromOBIS</strong> </a> Обработка данных из биогеографической информационной системы океана (БИС) сервер (был<a href="http://www.iobis.org" target="_blank" rel="noopener noreferrer" class="">http://www.iobis.org</a> ) . Возможно, больше нет активных серверов, которые используют этот устаревший тип серверной системы OBIS.</p>
<ul>
<li class="">Серверы OBIS ожидают запрос XML и возвращают ответ XML.</li>
<li class="">Все серверы OBIS обслуживают одни и те же переменные одинаково. (был<a href="http://iobis.org/tech/provider/questions" target="_blank" rel="noopener noreferrer" class="">http://iobis.org/tech/provider/questions</a>) Вам не нужно много указывать, чтобы настроить набор данных OBIS в ERDDAP .</li>
<li class="">Вы должны включить &quot; creator\_email &quot;Атрибут в глобальном масштабе addAttributes Поскольку эта информация используется в рамках лицензии. Подходящий адрес электронной почты можно найти, прочитав ответ XML от sourceURL.</li>
<li class="">Вы можете получить или не получить глобальный атрибут.&lt; subsetVariables &gt; (#subsetvariables) Работа с сервером OBIS. Если вы попытаетесь, попробуйте одну переменную. (Научные имена или гены) .</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromobis-skeleton-xml">EDDTable FromOBIS скелет XML<a href="#eddtablefromobis-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDTable FromOBIS скелет XML" title="Прямая ссылка наEDDTable FromOBIS скелет XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromOBIS&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->      &lt;sourceCode&gt;...&lt;/sourceCode&gt;<br>
<!-- -->        &lt;!-- If you read the XML response from the sourceUrl, the<br>
<!-- -->        source code (for example, GHMP) is the value from one of the<br>
<!-- -->        &lt;resource&gt;&lt;code&gt; tags. --&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;-- All ...SourceMinimum and Maximum tags are OPTIONAL --&gt;<br>
<!-- -->      &lt;longitudeSourceMinimum&gt;...&lt;/longitudeSourceMinimum&gt;<br>
<!-- -->      &lt;longitudeSourceMaximum&gt;...&lt;/longitudeSourceMaximum&gt;<br>
<!-- -->      &lt;latitudeSourceMinimum&gt;...&lt;/latitudeSourceMinimum&gt;<br>
<!-- -->      &lt;latitudeSourceMaximum&gt;...&lt;/latitudeSourceMaximum&gt;<br>
<!-- -->      &lt;altitudeSourceMinimum&gt;...&lt;/altitudeSourceMinimum&gt;<br>
<!-- -->      &lt;altitudeSourceMaximum&gt;...&lt;/altitudeSourceMaximum&gt;<br>
<!-- -->      &lt;-- For timeSource... tags, use yyyy-MM-dd&#x27;T&#x27;HH:mm<!-- -->:ssZ<!-- --> format. --&gt;<br>
<!-- -->      &lt;timeSourceMinimum&gt;...&lt;/timeSourceMinimum&gt;<br>
<!-- -->      &lt;timeSourceMaximum&gt;...&lt;/timeSourceMaximum&gt;<br>
<!-- -->      <a href="#sourceneedsexpandedfp_eq" class="">&lt;sourceNeedsExpandedFP\_EQ&gt;</a>true(default)|false&lt;/sourceNeedsExpandedFP\_EQ&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1.  This MUST include<br>
<!-- -->        &quot;creator\_email&quot; --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromparquetfiles">EDDTableFromParquetFiles<a href="#eddtablefromparquetfiles" class="hash-link" aria-label="Прямая ссылка наEDDTableFromParquetFiles" title="Прямая ссылка наEDDTableFromParquetFiles" translate="no">​</a></h3>
<p><a href="#eddtablefromparquetfiles" class=""> <strong>EDDTableFromParquetFiles</strong> </a> обрабатывать данные от <a href="https://parquet.apache.org/" target="_blank" rel="noopener noreferrer" class="">паркет</a> . Смотрите суперкласс этого класса, <a href="#eddtablefromfiles" class="">EDDTable Из материалов</a> Для получения информации о том, как работает этот класс и как его использовать.</p>
<ul>
<li class="">Parquet предназначен для очень эффективного сжатия, поэтому он может дать вам меньшие размеры файлов, чем другие форматы.</li>
<li class="">Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Затем вы можете отредактировать это, чтобы настроить его.</li>
<li class="">Предупреждение: когда ERDDAP™ читает файлы данных Parquet, если обнаруживает ошибку на заданной строке (Например, неправильное количество элементов) Он записывает предупреждающее сообщение (&quot;Предупреждение: плохая линия (s) &quot;... с перечнем плохих линий на последующих линиях&quot;) к <a class="" href="/ru/docs/server-admin/additional-information#log">log.txt файл</a> Затем он продолжает читать остальные файлы данных. Таким образом, вы несете ответственность за периодический просмотр. (или написать сценарий для этого) для этого сообщения в журнале. txt для устранения проблем в файлах данных. ERDDAP™ Он настроен таким образом, чтобы пользователи могли продолжать читать все доступные действительные данные, даже если некоторые строки файла имеют недостатки.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromsos">EDDTable From SOS<a href="#eddtablefromsos" class="hash-link" aria-label="Прямая ссылка наEDDTable From SOS" title="Прямая ссылка наEDDTable From SOS" translate="no">​</a></h3>
<p><a href="#eddtablefromsos" class=""> **EDDTable From SOS ** </a> Обработка данных от службы наблюдения датчика (SWE/ <a href="https://www.ogc.org/standards/sos" target="_blank" rel="noopener noreferrer" class=""> SOS </a> ) Сервер.</p>
<ul>
<li class="">Этот тип набора данных объединяет данные из группы станций, которые все обслуживаются одним SOS Сервер.</li>
<li class="">Все станции обслуживают один и тот же набор переменных (Хотя источник для каждой станции не должен обслуживать все переменные.) .</li>
<li class="">SOS Серверы ожидают запрос XML и возвращают ответ XML.</li>
<li class="">Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Затем вы можете отредактировать это, чтобы настроить его. Нелегко создать набор данных XML для SOS наборы данных вручную. Чтобы найти необходимую информацию, вы должны посетить sourceUrl +? обслуживание SOS &amp;request= GetCapabilities &quot;в браузере; посмотрите на XML; сделайте запрос GetObservation вручную; и посмотрите на ответ XML на запрос.</li>
<li class="">При случайном добавлении новых видов SOS Серверы и изменения в старых серверах, становится все труднее для ERDDAP™ автоматически обнаруживать тип сервера по ответам сервера. Использование&lt;SosServerType (с значением IOOS\_NDBC, IOOS\_NOS, OOSTethys или кто) В настоящее время настоятельно рекомендуется. Если у вас возникли проблемы с наборами данных этого типа, попробуйте повторно запустить наборы данных GenerateDatasets. Xml для этого SOS Сервер. генерировать Наборы данных Xml позволит вам попробовать разные&lt;Варианты sosServerType&gt;, пока вы не найдете правильный для данного сервера.</li>
<li class="">SOS Обзор:</li>
<li class="">Сви (Сенсор Web Enablement) и SOS   (Сенсорная служба наблюдения) есть <a href="https://www.ogc.org/standards" target="_blank" rel="noopener noreferrer" class="">Стандарты OpenGIS®</a> . На этом сайте есть стандартные документы.</li>
<li class="">The OGC Веб-сервисы Общая спецификация ver 1.1.0 ( OGC 06-121r3) Охватывает строительство запросов GET и POST (см. раздел 7.2.3 и раздел 9) .</li>
<li class="">Если вы отправляете запрос getCapabilities xml SOS сервер ( sourceUrl + &quot;?сервис&quot; SOS &amp;request= GetCapabilities &quot;) , вы получаете результат xml со списком станций и наблюдаемых Свойства, для которых имеются данные.</li>
<li class="">Наблюдаемая собственность является формальной ссылкой URI на собственность. Например, urn:ogc:phenomenon:longitude<!-- -->:wgs84<!-- --> или<a href="https://mmisw.org/ont/cf/parameter/sea%5C%5C_water%5C%5C_temperature" target="_blank" rel="noopener noreferrer" class="">https://mmisw.org/ont/cf/parameter/sea\\_water\\_temperature</a></li>
<li class="">Наблюдаемая собственность не является переменной.</li>
<li class="">Более чем одна переменная может иметь одинаковую наблюдаемую Собственность (Например, внутри и снаружи Темп мог наблюдаться оба Собственность<a href="https://mmisw.org/ont/cf/parameter/air%5C%5C_temperature" target="_blank" rel="noopener noreferrer" class="">https://mmisw.org/ont/cf/parameter/air\\_temperature</a>) .</li>
<li class="">Если вы отправляете запрос getObservation xml SOS Сервер, вы получаете результат xml с описаниями имен полей в ответе, полевых блоках и данных. Названия полей будут включать долготу, широту, глубину. (возможно) И время.</li>
<li class="">Каждый dataVariable Для EDDTable From SOS должен включать атрибут «наблюдаемая собственность», который идентифицирует наблюдаемую собственность, которая должна быть запрошена у сервера для получения этой переменной. Часто, несколько dataVariable s перечислит ту же составную наблюдаемую собственность.</li>
<li class="">Тип данных для каждого dataVariable Сервер может не указывать. Если это так, вы должны посмотреть ответы на XML-данные с сервера и назначить соответствующие ответы.&lt;DataType&gt;s (#тип данных) в ERDDAP™ набор данных dataVariable определения.</li>
<li class="">(На момент написания этого) некоторые SOS серверы отвечают на запросы GetObservation более чем на один наблюдаемый Собственность, просто возвращая результаты для первого из наблюдаемых свойств. (Никаких сообщений об ошибках!) См. запрос параметров конструктора Отдельно наблюдаемые свойства.</li>
<li class="">EDDTable From SOS автоматически добавляет<!-- -->
<blockquote>
<p><att name="[subsetVariables](#subsetvariables)">station\_id, longitude, latitude</att><br>
<!-- -->Глобальные атрибуты набора данных при создании набора данных.</p>
</blockquote>
</li>
<li class="">SOS Серверы обычно выражают <a href="#units" class="">единицы</a> с помощью <a href="https://unitsofmeasure.org/ucum.html" target="_blank" rel="noopener noreferrer" class="">UCUM</a> система. Большинство ERDDAP™ Серверы экспресс-единицы с <a href="https://www.unidata.ucar.edu/software/udunits/" target="_blank" rel="noopener noreferrer" class=""> UDUNITS </a> система. Если вам нужно конвертировать между двумя системами, вы можете использовать <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/units.html" target="_blank" rel="noopener noreferrer" class=""> ERDDAP Веб-сервис для преобразования UCUM в / из UDUNITS </a> .</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromsos-skeleton-xml">EDDTable From SOS скелет XML<a href="#eddtablefromsos-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDTable From SOS скелет XML" title="Прямая ссылка наEDDTable From SOS скелет XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromSOS&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;sosServerType&gt;...&lt;/sosServerType&gt; &lt;!-- 0 or 1, but STRONGLY<br>
<!-- -->        RECOMMENDED. This lets you specify the type of SOS server<br>
<!-- -->        (so ERDDAP™ doesn&#x27;t have to figure it out).<br>
<!-- -->        Valid values are: IOOS\_NDBC, IOOS\_NOS, OOSTethys, and WHOI. --&gt;<br>
<!-- -->      &lt;responseFormat&gt;...&lt;/responseFormat&gt; &lt;!-- 0 or 1. Use this only if<br>
<!-- -->        you need to override the default responseFormat for the<br>
<!-- -->        specified sosServerType.  --&gt;<br>
<!-- -->      &lt;stationIdSourceName&gt;...&lt;/stationIdSourceName&gt; &lt;!-- 0 or 1.<br>
<!-- -->        Default=&quot;station\_id&quot;. --&gt;<br>
<!-- -->      &lt;longitudeSourceName&gt;...&lt;/longitudeSourceName&gt;<br>
<!-- -->      &lt;latitudeSourceName&gt;...&lt;/latitudeSourceName&gt;<br>
<!-- -->      &lt;altitudeSourceName&gt;...&lt;/altitudeSourceName&gt;<br>
<!-- -->      &lt;altitudeSourceMinimum&gt;...&lt;/altitudeSourceMinimum&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;altitudeSourceMaximum&gt;...&lt;/altitudeSourceMaximum&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#altitudemeterspersourceunit" class="">&lt;altitudeMetersPerSourceUnit&gt;</a>...&lt;/altitudeMetersPerSourceUnit&gt;<br>
<!-- -->      &lt;timeSourceName&gt;...&lt;/timeSourceName&gt;<br>
<!-- -->      &lt;timeSourceFormat&gt;...&lt;/timeSourceFormat&gt;<br>
<!-- -->        &lt;!-- timeSourceFormat MUST be either<br>
<!-- -->        \* For numeric data: a <a href="https://www.unidata.ucar.edu/software/udunits/" target="_blank" rel="noopener noreferrer" class="">UDUnits</a>\-compatible string (with the format<br>
<!-- -->          &quot;<em>units</em> since <em>baseTime</em>&quot;) describing how to interpret<br>
<!-- -->          source time values (for example,<br>
<!-- -->          &quot;seconds since 1970-01-01T00:00:00Z&quot;), where the<br>
<!-- -->          base time is an ISO 8601:2004(E) formatted date time<br>
<!-- -->          string (yyyy-MM-dd&#x27;T&#x27;HH:mm<!-- -->:ssZ<!-- -->).<br>
<!-- -->        \* For String date time data: specify<br>
<!-- -->          <a href="#string-time-units" class="">units suitable for string times</a><br>
<!-- -->          describing how to interpret string times  (for example, the<br>
<!-- -->          ISO8601TZ\_FORMAT &quot;yyyy-MM-dd&#x27;T&#x27;HH:mm<!-- -->:ssZ<!-- -->&quot;). --&gt;<br>
<!-- -->      &lt;observationOfferingIdRegex&gt;...&lt;/observationOfferingIdRegex&gt;<br>
<!-- -->        &lt;!-- Only observationOfferings with IDs (usually the station names)<br>
<!-- -->        which match this <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">regular expression</a> (<a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">tutorial</a>) will be included<br>
<!-- -->        in the dataset (&quot;.+&quot; will catch all station names). --&gt;<br>
<!-- -->      &lt;requestObservedPropertiesSeparately&gt;true|false(default)<br>
<!-- -->        &lt;/requestObservedPropertiesSeparately&gt;<br>
<!-- -->      <a href="#sourceneedsexpandedfp_eq" class="">&lt;sourceNeedsExpandedFP\_EQ&gt;</a>true(default)|false&lt;/sourceNeedsExpandedFP\_EQ&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more.<br>
<!-- -->        \* Each dataVariable MUST include the <a href="#datatype" class="">dataType</a> tag.<br>
<!-- -->        \* Each dataVariable MUST include the observedProperty attribute.<br>
<!-- -->        \* For IOOS SOS servers, \<em>every\</em> variable returned in the text/csv<br>
<!-- -->          response MUST be included in this ERDDAP™ dataset definition. --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromthreddsfiles">Скриншоты из ThreddsFiles<a href="#eddtablefromthreddsfiles" class="hash-link" aria-label="Прямая ссылка наСкриншоты из ThreddsFiles" title="Прямая ссылка наСкриншоты из ThreddsFiles" translate="no">​</a></h3>
<p><a href="#eddtablefromthreddsfiles" class=""> <strong>Скриншоты из ThreddsFiles</strong> </a>   (обесцененный) агрегирует файлы данных с несколькими переменными, каждая с одним или несколькими общими размерами (Например, время, высота (или глубина) Широта, долгота) и обслуживается а <a href="https://www.unidata.ucar.edu/software/tds/" target="_blank" rel="noopener noreferrer" class="">ПЕРЕВОДЫ OPeNDAP сервер</a> .</p>
<ul>
<li class="">Данный тип данных является <strong>Обнародовано</strong> . Новое и более общее решение заключается в использовании <a href="#cachefromurl" class="">кэш Вариант FromUrl для EDDTable Из материалов</a>   (или вариант) , который делает локальную копию удаленных файлов и обслуживает данные из локальных файлов. The&lt;Опция cacheFromUrl&gt; может использоваться с любым типом табличного файла данных из любого веб-источника, который публикует каталог-подобный список файлов. **<br>
<!-- -->Если вы не можете заставить это работать по какой-то причине, напишите Крису. Джон на noaa.gov.
Если до 2020 года жалоб не будет, этот тип набора данных может быть удален. **</li>
<li class="">Мы настоятельно рекомендуем использовать <a href="#generatedatasetsxml" class="">Генерировать наборы данных Программа Xml</a> Чтобы составить приблизительный проект datasets.xml Кусок для этого набора данных. Затем вы можете отредактировать это, чтобы настроить его.</li>
<li class="">В большинстве случаев каждый файл имеет несколько значений для самого левого. (первый) Например, измерение времени.</li>
<li class="">Файлы часто (Но не обязательно) имеют одно значение для других измерений (Например, высота (или глубина) Широта, долгота) .</li>
<li class="">Файлы могут иметь переменные символов с дополнительным измерением. (Например, nCharacters) .</li>
<li class="">Серверы THREDDS могут быть идентифицированы «/thredds/» в URL-адресах. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    https://www.ncei.noaa.gov/thredds/catalog/uv/6h\\_strs\\_agg/catalog.html</span><br></span></code></pre></div></div>
<ul>
<li class="">Серверы THREDDS имеют каталоги в разных местах. Этот класс требует, чтобы URL включал «/thredds/catalog/». Обычно вы можете найти эту переменную, начав в браузере в корневом каталоге, а затем нажав на нужный подкаталог.</li>
<li class="">Этот класс читает файлы каталога.xml, обслуживаемые THREDDS со списками&lt;Каталог Refs&gt; (Дополнительные подфайлы catalog.xml) и&lt;набор данных&gt; (файлы данных) .</li>
<li class="">The&lt;Настройка fileDir&gt; игнорируется. Поскольку этот класс загружает и делает локальную копию каждого удаленного файла данных, ERDDAP™ Вынуждает файл Чтобы быть <em>BigParent Директория</em> /копия/ * datasetID * /.</li>
<li class="">Для&lt; sourceUrl &gt; использовать URL-адрес файла catalog.xml для набора данных на сервере THREDDS, например: для этого URL-адреса, который может использоваться в веб-браузере;
<a href="https://data.nodc.noaa.gov/thredds/catalog/nmsp/wcos/catalog.html" target="_blank" rel="noopener noreferrer" class="">https://data.nodc.noaa.gov/thredds/catalog/nmsp/wcos/catalog.html</a>  \[ 2020-10-21 Этот сервер больше не доступен. \] ,
использовать&lt; sourceUrl &gt;<a href="https://data.nodc.noaa.gov/thredds/catalog/nmsp/wcos/catalog.xml&amp;lt;/" target="_blank" rel="noopener noreferrer" class="">https://data.nodc.noaa.gov/thredds/catalog/nmsp/wcos/catalog.xml&amp;lt;/</a> sourceUrl &gt;
(Но поставьте его на одну линию) .</li>
<li class="">Поскольку этот класс всегда загружает и делает локальную копию каждого удаленного файла данных, вы никогда не должны заворачивать этот набор данных. <a href="#eddtablecopy" class="">EDDTableCopy</a> .</li>
<li class="">Этот тип набора данных поддерживает OPTIONAL, редко используемый, специальный тег.&lt;Специальный режим <em>режим</em> &lt;/specialMode&gt;, который может быть использован для указания того, что специальные, жестко закодированные правила должны использоваться для определения того, какие файлы должны быть загружены с сервера. В настоящее время единственным действительным <em>режим</em> SAMOS используется с наборами данных из<a href="https://tds.coaps.fsu.edu/thredds/catalog/samos%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B6%D0%B0%D1%82%D1%8C" target="_blank" rel="noopener noreferrer" class="">https://tds.coaps.fsu.edu/thredds/catalog/samosзагружать</a> только файлы с номером последней версии.</li>
<li class="">Смотрите суперкласс этого класса, <a href="#eddtablefromfiles" class="">EDDTable Из материалов</a> Для получения информации о том, как работает этот класс и как его использовать.</li>
<li class="">Смотрите примеры 1D, 2D, 3D и 4D для <a href="#eddtablefromncfiles" class="">EDDTable FromNcFiles</a> .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromwfsfiles">EDDTable From WFS Файлы<a href="#eddtablefromwfsfiles" class="hash-link" aria-label="Прямая ссылка наEDDTable From WFS Файлы" title="Прямая ссылка наEDDTable From WFS Файлы" translate="no">​</a></h3>
<p><a href="#eddtablefromwfsfiles" class=""> <strong>EDDTable From WFS Файлы</strong> </a>   (Обнародовано) сделать локальную копию всех данных из ArcGIS MapServer WFS сервера, чтобы данные можно было быстро восстановить ERDDAP™ пользователей.</p>
<ul>
<li class="">Необходимо указать специально отформатированный sourceUrl Глобальный атрибут Tell ERDDAP™ Как запрашивать информацию о функциях с сервера. Пожалуйста, используйте этот пример в качестве шаблона:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;sourceUrl&quot;&gt;http://*someUrl/dir1/dir2*/MapServer/WFSServer?request=GetFeature&amp;amp;service=WFS&amp;amp;typename=aasg:BoreholeTemperature&amp;amp;format=&amp;quot;text/xml;%20subType=gml/3.1.1/profiles/gmlsf/1.0.0/0&quot;&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>(Положите все на одну линию)</p>
<ul>
<li class="">Вам нужно добавить специальный глобальный атрибут, чтобы сказать: ERDDAP™ Как определить имена фрагментов данных, которые должны быть загружены. Это, вероятно, будет работать для всех EDDTableFrom WFS Файлы наборов данных:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;rowElementXPath&quot;&gt;/wfs:FeatureCollection/gml:featureMember&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Поскольку этот класс всегда загружает и делает локальную копию каждого удаленного файла данных, вы никогда не должны заворачивать этот набор данных. <a href="#eddtablecopy" class="">EDDTableCopy</a> .</li>
<li class="">Смотрите суперкласс этого класса, <a href="#eddtablefromfiles" class="">EDDTable Из материалов</a> Для получения дополнительной информации о том, как работает этот класс и как его использовать.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtableaggregaterows">EDDTableAggregateRows<a href="#eddtableaggregaterows" class="hash-link" aria-label="Прямая ссылка наEDDTableAggregateRows" title="Прямая ссылка наEDDTableAggregateRows" translate="no">​</a></h3>
<p><a href="#eddtableaggregaterows" class=""> <strong>EDDTableAggregateRows</strong> </a> Может создавать набор данных EDDTable из группы «детских» наборов данных EDDTable.</p>
<ul>
<li class="">Вот некоторые варианты использования EDDTableAggregateRows:<!-- -->
<ul>
<li class="">Вы можете создать набор данных EDDTableAggregateRows из двух различных типов файлов или источников данных, например, набор данных с данными до конца прошлого месяца, хранящимися в хранилище. .nc Файлы CF и набор данных с данными за текущий месяц хранятся в реляционной базе данных.</li>
<li class="">Вы можете создать набор данных EDDTableAggregateRows, чтобы справиться с изменением исходных файлов. (Например, изменился формат времени или переменное имя, или данные. Тип scale\_factor / add\_offset меняться) . В этом случае один ребенок получает данные из файлов, сделанных до изменения, а другой ребенок получает данные из файлов, сделанных после изменения. Использование EDDTableAggregateRows является альтернативой использованию <a href="#ncml-files" class="">NcML</a> или <a href="#netcdf-operators-nco" class=""> NCO </a> . Если нет отличительной особенности в именах файлов (чтобы вы могли использовать)&lt;Чтобы определить, какой файл принадлежит к какому набору данных ребенка, вам, вероятно, нужно хранить файлы для двух наборов данных ребенка в разных каталогах.</li>
<li class="">Вы можете создать набор данных EDDTableAggregateRows, который имеет общее подмножество переменных одного или нескольких похожих, но разных наборов данных, например, набор данных, который делает набор данных профиля из комбинации набора данных профиля, набора данных TimeSeriesProfile и набора данных TrajectoryProfile. (которые имеют несколько различных переменных и некоторые переменные в общем — в этом случае вам придется сделать специальные варианты для наборов данных о детях, только с обычными переменными) .</li>
<li class="">У вас может быть несколько отдельных наборов данных, каждый из которых имеет один и тот же тип данных, но с другой станции. Вы можете оставить эти наборы данных нетронутыми, но также создать набор данных EDDTableAggregateRows, который имеет данные со всех станций - каждый из наборов данных ребенка может быть простым. <a href="#eddfromerddap" class="">EDDTable FromErddap</a> , который указывает на один из существующих наборов данных станции. Если вы это сделаете, дайте каждому из наборов данных EDDTableFromErddap разные datasetID чем оригинальные автономные наборы данных, например, путем добавления «Дитя» к оригиналу datasetID .</li>
</ul>
</li>
<li class="">Каждый из детей&lt;Указанный набор данных должен быть полным набором данных, как если бы это был автономный набор данных. Каждый должен иметь одинаковое <a href="#datavariable" class=""> dataVariable s</a> в том же порядке, с тем же <a href="#destinationname" class=""> destinationName s</a> , <a href="#datatype" class="">данные Типы</a> , <a href="#missing_value" class=""> missing\_value s</a> , <a href="#missing_value" class="">\_FillValues</a> и <a href="#units" class="">единицы</a> . Метаданные для каждой переменной для набора данных EDDTableAggregateRows поступают от переменных в первом наборе данных для детей, но EDDTableAggregateRows обновит их. <a href="#actual_range" class=""> actual\_range </a> Метаданные являются фактическим диапазоном для всех детей.</li>
<li class="">Рекомендация: Получите каждый из наборов данных ребенка, работающих как автономные наборы данных. Затем попробуйте сделать набор данных EDDTableAggregateRows, разрезав и вставив datasets.xml Для каждого в новый EDDTableAggregate Набор данных.</li>
<li class="">Dataset Default-Sорт-ордер Порядок наборов данных ребенка определяет общий порядок сортировки результатов по умолчанию. Конечно, пользователи могут запросить другой порядок сортировки для данного набора результатов, приложив orderBy  (&quot; <em>разделенный на запятые список переменных</em> &quot;) до конца своего запроса.</li>
<li class="">Источник <a href="#global-attributes" class="">глобальный Атрибуты</a> EDDTableAggregateRows - это объединенные глобальные атрибуты из первого набора данных о детях. EDDTableAggregate Строки могут иметь глобальный&lt; addAttributes • предоставлять дополнительные глобальные атрибуты или переопределять исходные глобальные атрибуты.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtableaggregaterows-skeleton-xml">EDDTableAggregate Rows скелет XML<a href="#eddtableaggregaterows-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDTableAggregate Rows скелет XML" title="Прямая ссылка наEDDTableAggregate Rows скелет XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableAggregateRows&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviafiles" class="">&lt;accessibleViaFiles&gt;</a>true|false(default)&lt;/accessibleViaFiles&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1. --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablecopy">EDDTableCopy<a href="#eddtablecopy" class="hash-link" aria-label="Прямая ссылка наEDDTableCopy" title="Прямая ссылка наEDDTableCopy" translate="no">​</a></h3>
<p><a href="#eddtablecopy" class=""> <strong>EDDTableCopy</strong> </a> Вы можете сделать локальную копию многих типов наборов данных EDDTable, а затем быстро восстановить данные из локальной копии.</p>
<ul>
<li class="">EDDTableCopy (и для сетевых данных, <a href="#eddgridcopy" class=""> EDDGrid Копия</a> ) Это очень простой в использовании и очень эффективный <strong>Решение некоторых из самых больших проблем с обслуживанием данных из удаленных источников данных:</strong>
<ul>
<li class="">Доступ к данным из удаленного источника данных может быть медленным.<!-- -->
<ul>
<li class="">Они могут быть медленными, потому что они по своей природе медленные. (Неэффективный тип сервера) ,</li>
<li class="">Потому что они перегружены слишком большим количеством запросов.</li>
<li class="">или потому, что ваш сервер или удаленный сервер ограничен по пропускной способности.</li>
</ul>
</li>
<li class="">Удаленный набор данных иногда недоступен. (Опять же, по разным причинам) .</li>
<li class="">Полагаясь на один источник для данных не масштабируется хорошо (Например, когда многие пользователи ERDDAP использовать его) .
 </li>
</ul>
</li>
<li class="">EDDTableCopy решает эти проблемы, автоматически делая и поддерживая локальную копию данных и обслуживая данные из локальной копии. ERDDAP™ Данные из локальной копии можно передавать очень быстро. А изготовление и использование локальной копии снимает нагрузку на удаленный сервер. А локальная копия - это резервная копия оригинала, которая полезна в случае, если с оригиналом что-то случится.</li>
</ul>
<p>Нет ничего нового в создании локальной копии набора данных. Что нового в этом классе, так это то, что он\*легко\*создавать и\*поддерживать\*локальная копия данных из\*разнообразие\*Типы удаленных источников данных и\*Добавить метаданные\*При копировании данных.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablecopy-vs-cachefromurl">EDDTableCopy vs.&lt;CashFromUrl&gt;<a href="#eddtablecopy-vs-cachefromurl" class="hash-link" aria-label="Прямая ссылка наEDDTableCopy vs.&lt;CashFromUrl&gt;" title="Прямая ссылка наEDDTableCopy vs.&lt;CashFromUrl&gt;" translate="no">​</a></h4>
<p>&lt;CacheFromUrl является альтернативой EDDTableCopy. Они работают по-разному.</p>
<ul>
<li class="">EDDTable Копирование работает путем запроса кусков данных из удаленной службы и хранения этих кусков в локальных файлах. Таким образом, EDDTableCopy полезен в некоторых случаях, когда данные доступны через удаленный сервис.</li>
<li class="">[править]&lt;cacheFromUrl&gt; (#cachefromurl) загружает существующие файлы, перечисленные на удаленном веб-сайте.&lt;CacheFromUrl является более простым в использовании и более надежным, поскольку он может легко определить, когда есть новый удаленный файл данных или когда удаленный файл данных изменился и, следовательно, должен быть загружен.</li>
</ul>
<p>Если есть ситуации, когда EDDTableCopy или&lt;cacheFromUrl&gt; можно использовать&lt;cacheFromUrl&gt;, потому что это проще и надежнее.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="extractdestinationnames">&lt;экстракция Наименования&gt;<a href="#extractdestinationnames" class="hash-link" aria-label="Прямая ссылка на&lt;экстракция Наименования&gt;" title="Прямая ссылка на&lt;экстракция Наименования&gt;" translate="no">​</a></h4>
<p>EDDTable Копия делает локальную копию данных, запрашивая фрагменты данных из удаленного набора данных. EDDTable Копия определяет, какие куски запрашивать, запрашивая &amp; отличительные () ценностей для&lt;Источник: DestinationNames (Указанное в datasets.xml см. ниже) , которые являются разделенными по пространству именами назначения переменных в удаленном наборе данных. Например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;extractDestinationNames&gt;drifter profile&lt;/extractDestinationNames&gt;  </span><br></span></code></pre></div></div>
<p>могут давать различные комбинации значений drifter=tig17,profile=1017, drifter=tig17,profile=1095, ... drifter=une12,profile=1223, drifter=une12,profile=1251, ....</p>
<p>В ситуациях, когда одна колонка (Например, профиль) может быть все, что требуется для однозначной идентификации группы строк данных, если имеется очень большое количество, например, профилей, может быть полезно также указать дополнительный экстракт Направление Имя (Например, дрифтер) который служит для деления профилей. Это приводит к меньшему количеству файлов данных в данном каталоге, что может привести к более быстрому доступу.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="local-files">Локальные файлы<a href="#local-files" class="hash-link" aria-label="Прямая ссылка наЛокальные файлы" title="Прямая ссылка наЛокальные файлы" translate="no">​</a></h4>
<p>Каждая часть данных хранится в отдельном NetCDF Файл в подкаталоге <em>BigParent Директория</em> /копия/ * datasetID * / (как указано в <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> ) . Существует один подкаталоговый уровень для всех, кроме последнего извлечения. Например, данные для tig17+1017 будут храниться в
<em>BigParent Директория</em> /copy/sampleDataset/tig17/1017 .nc .
Например, данные для une12+1251 будут храниться в
<em>BigParent Директория</em> /copy/sampleDataset/une12/1251 .nc .
Каталог и имена файлов, созданные из значений данных, изменяются, чтобы сделать их безопасными для файловых имен. (Например, пространства заменяются на «x20».) - это не влияет на реальные данные.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-data">Новые данные<a href="#new-data" class="hash-link" aria-label="Прямая ссылка наНовые данные" title="Прямая ссылка наНовые данные" translate="no">​</a></h4>
<p>Каждый раз EDDTable Копия перезагружается, она проверяет удаленный набор данных, чтобы увидеть, какие отдельные куски доступны. Если файл для части данных еще не существует, запрос на получение части добавляется в очередь. ERDDAP Задача Thread обрабатывает все поставленные в очередь запросы на фрагменты данных один за другим. Вы можете увидеть статистику для задачиThread активности на <a class="" href="/ru/docs/server-admin/additional-information#status-page">Страница статуса</a> и в том, <a class="" href="/ru/docs/server-admin/additional-information#daily-report">Ежедневный отчет</a> . (Да, ERDDAP™ Он может назначать несколько задач для этого процесса, но это будет использовать большую часть пропускной способности удаленного источника данных, памяти и времени процессора, а также большую часть локального. ERDDAP пропускная способность, память и время процессора, ни одна из которых не является хорошей идеей.)</p>
<p>ПРИМЕЧАНИЕ: Первый раз, когда загружается копия EDDTable, (Если все будет хорошо) В очередь Thread будет добавлено много запросов на фрагменты данных, но локальные файлы данных не будут созданы. Таким образом, конструктор потерпит неудачу, но taskThread продолжит работать и создавать локальные файлы. Если все пойдет хорошо, задача Thread сделает некоторые локальные файлы данных и следующую попытку перезагрузить набор данных. (За 15 минут) Успешно, но изначально с очень ограниченным объемом данных.</p>
<p>ПРИМЕЧАНИЕ: После того, как локальный набор данных содержит некоторые данные и появляется в вашем ERDDAP Если удаленный набор данных временно или постоянно недоступен, локальный набор данных все равно будет работать.</p>
<p>Предупреждение: если удаленный набор данных большой и/или удаленный сервер медленный (В этом проблема, не так ли?!) Это займет много времени, чтобы сделать полную копию. В некоторых случаях необходимое время будет неприемлемым. Например, передача 1 ТБ данных по линии T1. (0,15 ГБ/с) Это займет не менее 60 дней при оптимальных условиях. Кроме того, он использует большую пропускную способность, память и время процессора на удаленных и локальных компьютерах. Решение состоит в том, чтобы отправить жесткий диск администратору удаленного набора данных, чтобы он мог сделать копию набора данных и отправить жесткий диск обратно вам. Используйте эти данные в качестве отправной точки, и EDDTableCopy добавит к ним данные. (Вот как облачный сервис Amazon EC2 справлялся с этой проблемой, несмотря на то, что его система имеет большую пропускную способность.)</p>
<p>ПРЕДУПРЕЖДЕНИЕ: Если данная комбинация значений исчезает из удаленного набора данных, EDDTableCopy НЕ удаляет локальный скопированный файл. Если вы хотите, вы можете удалить его самостоятельно.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="tablecopy-checksourcedata">Столовая копия&lt;CheckSourceData&gt;<a href="#tablecopy-checksourcedata" class="hash-link" aria-label="Прямая ссылка наСтоловая копия&lt;CheckSourceData&gt;" title="Прямая ссылка наСтоловая копия&lt;CheckSourceData&gt;" translate="no">​</a></h4>
<p>The datasets.xml для этого набора данных может иметь дополнительный тег</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;checkSourceData&gt;true&lt;/checkSourceData&gt;  </span><br></span></code></pre></div></div>
<p>Значение по умолчанию верно. Если / когда вы установите его ложным, набор данных никогда не проверит исходный набор данных, чтобы увидеть, есть ли дополнительные данные.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="recommended-use">Рекомендуемое использование<a href="#recommended-use" class="hash-link" aria-label="Прямая ссылка наРекомендуемое использование" title="Прямая ссылка наРекомендуемое использование" translate="no">​</a></h4>
<ol>
<li class="">создавать&lt;набор данных вход (Родной тип, а не EDDTableCopy) для удаленного источника данных. <strong>Заставьте его работать правильно, включая все необходимые метаданные.</strong></li>
<li class="">Если это слишком медленно, добавьте XML-код, чтобы обернуть его в набор данных EDDTableCopy.<!-- -->
<ul>
<li class="">Используйте другой datasetID   (Возможно, изменяя datasetID старого datasetID слегка) .</li>
<li class="">Копировать&lt;доступный К&gt;,&lt;перезагрузить EveryNMinutes и&lt;onChange&gt; от удаленного XML EDDTable до XML EDDTableCopy. (Их значения для EDDTableCopy, их значения для внутреннего набора данных становятся неактуальными.)</li>
<li class="">создавать&lt;extractDestinationNames&gt; tag (смотреть выше) .</li>
<li class="">&lt;orderExtractBy&gt; - это OPTIONAL разделённый список имен переменных назначения в удаленном наборе данных. Когда каждая часть данных загружается с удаленного сервера, эта часть будет сортироваться по этим переменным. (Если первая переменная связана, то вторая переменная, если первая переменная связана,) . В некоторых случаях, ERDDAP™ Вы сможете быстрее извлекать данные из локальных файлов данных, если первая переменная в списке является числовой переменной. ( &quot;time&quot; считать как числовую переменную) . Но выберите эти переменные таким образом, который подходит для набора данных.</li>
</ul>
</li>
<li class="">ERDDAP™ будет создавать и поддерживать локальную копию данных.
 </li>
</ol>
<ul>
<li class="">Предупреждение: EDDTableCopy предполагает, что значения данных для каждого фрагмента никогда не меняются. Если / когда они это делают, вам нужно вручную удалить файлы в <em>BigParent Директория</em> /копия/ * datasetID * которые изменились и <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> набор данных, подлежащий перезагрузке, чтобы удаленные фрагменты были заменены. Если у вас есть подписка на электронную почту, вы получите два письма: одно, когда набор данных сначала перезагружается и начинает копировать данные, а другое, когда набор данных снова загружается. (автоматически) и обнаруживает новые локальные файлы данных.
 </li>
<li class="">Изменение метаданных - Если вам нужно изменить любой addAttributes или изменить порядок переменных, связанных с исходным набором данных:<!-- -->
<ol>
<li class="">Изменить addAttributes Для исходных данных в datasets.xml По мере необходимости.</li>
<li class="">Удалить один из скопированных файлов.</li>
<li class="">Установить <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> немедленно перезагрузить набор данных. Если вы используете флаг и у вас есть подписка на электронную почту, вы получите два письма: одно, когда набор данных сначала перезагружается и начинает копировать данные, а другое, когда набор данных снова загружается. (автоматически) и обнаруживает новые локальные файлы данных.</li>
<li class="">Удаленный файл будет восстановлен с новыми метаданными. Если исходный набор данных когда-либо недоступен, набор данных EDDTableCopy получит метаданные из восстановленного файла, поскольку он является самым молодым файлом.
 </li>
</ol>
</li>
<li class=""><a href="#eddgridcopy" class=""> EDDGrid Копия</a> Он очень похож на EDDTableCopy, но работает с сетчатыми наборами данных.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablecopy-skeleton-xml">EDDTableCopy скелет XML<a href="#eddtablecopy-skeleton-xml" class="hash-link" aria-label="Прямая ссылка наEDDTableCopy скелет XML" title="Прямая ссылка наEDDTableCopy скелет XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableCopy&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviafiles" class="">&lt;accessibleViaFiles&gt;</a>true|false(default)&lt;/accessibleViaFiles&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;extractDestinationNames&gt;...&lt;/extractDestinationNames&gt;  &lt;!-- 1 --&gt;<br>
<!-- -->      &lt;orderExtractBy&gt;...&lt;/orderExtractBy&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#filetableinmemory" class="">&lt;fileTableInMemory&gt;</a>...&lt;/fileTableInMemory&gt; &lt;!-- 0 or 1 (true or false<br>
<!-- -->        (the default)) --&gt;<br>
<!-- -->      <a href="#tablecopy-checksourcedata" class="">&lt;checkSourceData&gt;</a>...&lt;/checkSourceData&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- 1 --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<ul>
<li class="">
<ul>
<li class=""></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="details-1">Подробности<a href="#details-1" class="hash-link" aria-label="Прямая ссылка наПодробности" title="Прямая ссылка наПодробности" translate="no">​</a></h2>
<p>Вот подробные описания общих тегов и атрибутов.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="angulardegreeunits">&lt;Угловая степеньUnits&gt;<a href="#angulardegreeunits" class="hash-link" aria-label="Прямая ссылка на&lt;Угловая степеньUnits&gt;" title="Прямая ссылка на&lt;Угловая степеньUnits&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;Угловые градусные единицы&gt; ** ] (#угловые степени) Редко используемый OPTIONAL тег в&lt;erddapDatasets метить datasets.xml который содержит разделенный запятой список строк единиц, которые ERDDAP™ следует рассматривать как угловые градусные единицы. Если переменная имеет одну из этих величин, tabledap ? orderByMean Фильтр вычисляет среднее значение особым образом, затем сообщает среднее значение как значение от -180 до 180. Видишь? ERDDAP EDStatic.java исходный код файла для текущего списка по умолчанию. Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP™ читать datasets.xml в том числе в ответ на набор данных <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> .</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="angulardegreetrueunits">&lt;Угловая степень TrueUnits&gt;<a href="#angulardegreetrueunits" class="hash-link" aria-label="Прямая ссылка на&lt;Угловая степень TrueUnits&gt;" title="Прямая ссылка на&lt;Угловая степень TrueUnits&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;угловой Степень истинности ** ] (#угловая стрелка) Редко используемый OPTIONAL тег в&lt;erddapDatasets метить datasets.xml который содержит разделенный запятой список строк единиц, которые ERDDAP™ следует рассматривать как угловые степени истинные единицы. Если переменная имеет одну из этих величин, tabledap ? orderByMean Фильтр вычисляет среднее значение особым образом, затем сообщает среднее значение как значение от 0 до 360. Видишь? ERDDAP EDStatic.java исходный файл для текущего списка по умолчанию. Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP™ читать datasets.xml в том числе в ответ на набор данных <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="commonstandardnames">&lt;CommonStandardNames&gt;<a href="#commonstandardnames" class="hash-link" aria-label="Прямая ссылка на&lt;CommonStandardNames&gt;" title="Прямая ссылка на&lt;CommonStandardNames&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;Стандартные имена ** ] (#стандартные имена) Редко используемый OPTIONAL тег в&lt;erddapDatasets метить datasets.xml Указать раздельный список общих <a href="https://cfconventions.org/Data/cf-standard-names/current/build/cf-standard-name-table.html" target="_blank" rel="noopener noreferrer" class="">Стандартные названия CF</a> . Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;commonStandardNames&gt;air\\_pressure, ..., wind\\_to\\_direction&lt;/commonStandardNames&gt;  </span><br></span></code></pre></div></div>
<p>Этот список используется в DataProviderForm3.html для удобства пользователей.
Если вы хотите предоставить эту информацию в datasets.xml Начните с копирования текущего списка по умолчанию в&lt;DEFAULT\_commonStandardNames в ERDDAP ?
\[ кот \] /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml файл.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cacheminutes">&lt;cacheMinutes&gt;<a href="#cacheminutes" class="hash-link" aria-label="Прямая ссылка на&lt;cacheMinutes&gt;" title="Прямая ссылка на&lt;cacheMinutes&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;CacheMinutes ** ] (#cacheminutes) Редко используемый OPTIONAL тег в&lt;erddapDatasets метить datasets.xml Указать возраст (В минуты) при котором файлы в кэше должны быть удалены (По умолчанию 60) . Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;cacheMinutes&gt;60&lt;/cacheMinutes&gt;  </span><br></span></code></pre></div></div>
<p>В общем, только файлы изображений (Поскольку одни и те же изображения часто запрашиваются повторно.) и .nc файлы (Они должны быть полностью созданы перед отправкой пользователю.) Они кэшированы. Хотя может показаться, что данный запрос должен всегда возвращать один и тот же ответ, это не так. Например, a tabledap Запрос, который включает время <em>некоторые Время</em> Изменится, когда появятся новые данные для набора данных. Запрос сетки, который включает \[ последний \] Изменится временной размер, когда появятся новые данные для набора данных. Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP™ читать datasets.xml в том числе в ответ на набор данных <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> . Перед ERDDAP™ v2.00, это было указано в setup.xml, что все еще разрешено, но не рекомендуется.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cacheclearminutes">&lt;cacheClearMinutes&gt;<a href="#cacheclearminutes" class="hash-link" aria-label="Прямая ссылка на&lt;cacheClearMinutes&gt;" title="Прямая ссылка на&lt;cacheClearMinutes&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;CacheClearMinutes ** ] (#cacheclearminutes) Редко используемый OPTIONAL тег в&lt;erddapDatasets метить datasets.xml указать частоту для проверки кэшированных файлов и удаления старых (В минуты)   (По умолчанию = 15) . Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;cacheClearMinutes&gt;15&lt;/cacheClearMinutes&gt;  </span><br></span></code></pre></div></div>
<p>Когда сервер завершит обработку запроса, он проверит, как давно был последний кэш. Если это было слишком давно, он будет стоять в очереди на TaskThread, чтобы очистить кэш. Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP™ читать datasets.xml в том числе в ответ на набор данных <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> . Это может быть указано в setup.xml, но это не рекомендуется.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="convertinterpolaterequestcsvexample">&lt;конвертировать InterpolateRequestCSVExample&gt;<a href="#convertinterpolaterequestcsvexample" class="hash-link" aria-label="Прямая ссылка на&lt;конвертировать InterpolateRequestCSVExample&gt;" title="Прямая ссылка на&lt;конвертировать InterpolateRequestCSVExample&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;Преобразование InterpolateRequestCSVExmple ** ] (#convertinterpolaterequestcsvexample) является опциональным тегом внутри&lt;erddapDatasets метить datasets.xml   \[ Начиная с ERDDAP™ v2.10 \] который содержит пример, который будет показан на веб-странице конвертера. Значение по умолчанию: jplMU RSS T41/Анализ. sst /Bilinear/4.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="convertinterpolatedatasetidvariablelist">&lt;конвертировать InterpolateDatasetIDVariableList&gt;<a href="#convertinterpolatedatasetidvariablelist" class="hash-link" aria-label="Прямая ссылка на&lt;конвертировать InterpolateDatasetIDVariableList&gt;" title="Прямая ссылка на&lt;конвертировать InterpolateDatasetIDVariableList&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;Переменный список InterpolateDatasetIDVariableList ** ] (#конвертинтерполированный инвариабельный список) является опциональным тегом внутри&lt;erddapDatasets метить datasets.xml   \[ Начиная с ERDDAP™ v2.10 \] Содержит список CSV datasetID вариабельность Примеры имен, которые будут использоваться в качестве предложений веб-страницы конвертера Интерпола. Значение по умолчанию: jplMU RSS T41/Анализ. sst .</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="converttopublicsourceurl">&lt;конвертироватьToPublicSourceUrl&gt;<a href="#converttopublicsourceurl" class="hash-link" aria-label="Прямая ссылка на&lt;конвертироватьToPublicSourceUrl&gt;" title="Прямая ссылка на&lt;конвертироватьToPublicSourceUrl&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;ПреобразоватьToPublic SourceUrl ** ] (#конвертный публичный ресурс) является опциональным тегом внутри&lt;erddapDatasets метить datasets.xml который содержит атрибут «от» и «к», который определяет, как преобразовать соответствующий локальный sourceUrl   (Обычно IP номер) в общественное sourceUrl   (доменное имя) &quot;от&quot; должно иметь форму \[ что-то \] // \[ что-то \] /&quot;. Там может быть 0 или больше этих меток. Дополнительную информацию см. [&lt; sourceUrl &gt; (#sourceurl) . Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;convertToPublicSourceUrl from=&quot;https://192.168.31.18/&quot; to=&quot;https://oceanwatch.pfeg.noaa.gov/&quot; /&gt;  </span><br></span></code></pre></div></div>
<p>Это приведет к совпадению местных sourceUrl   (такие как<a href="https://192.168.31.18/thredds/dodsC/satellite/BA/ssta/5day" target="_blank" rel="noopener noreferrer" class="">https://192.168.31.18/thredds/dodsC/satellite/BA/ssta/5day</a>)<br>
<!-- -->в общественное sourceUrl   (<a href="https://oceanwatch.pfeg.noaa.gov/thredds/dodsC/satellite/BA/ssta/5day" target="_blank" rel="noopener noreferrer" class="">https://oceanwatch.pfeg.noaa.gov/thredds/dodsC/satellite/BA/ssta/5day</a>) .
Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP™ читать datasets.xml в том числе в ответ на набор данных <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> .</p>
<p>Но по соображениям безопасности и причинам, связанным с системой подписки, <strong>Не используйте эту игрушку!</strong><br>
<!-- -->Вместо этого всегда используйте общественное доменное имя в&lt; sourceUrl &gt; Tag and use the <a href="https://linux.die.net/man/5/hosts" target="_blank" rel="noopener noreferrer" class="">/etc/hosts table</a> конвертировать локальные доменные имена в IP-номера без использования DNS-сервера. Вы можете проверить, правильно ли доменное имя преобразовано в номер IP, используя:
пинг <em>some.domain.name</em><br>
<!-- --> </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dataimagepngbase64">Данные: изображение/png;base64<a href="#dataimagepngbase64" class="hash-link" aria-label="Прямая ссылка наДанные: изображение/png;base64" title="Прямая ссылка наДанные: изображение/png;base64" translate="no">​</a></h3>
<ul>
<li class="">Когда пользователь просит .htmlTable Ответ из ERDDAP™ , если данные в ячейке строки содержат данные: изображение/png;base64, за которым следует закодированное изображение .png base64, ERDDAP™ Отобразится икона (чтобы пользователь мог видеть изображение, если оно нависает над ним) и кнопки для сохранения текста или изображения в буфер обмена. Эта особенность была добавлена в ERDDAP™ v2.19 Марко Альба.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="drawlandmask">drawLandMask<a href="#drawlandmask" class="hash-link" aria-label="Прямая ссылка наdrawLandMask" title="Прямая ссылка наdrawLandMask" translate="no">​</a></h3>
<ul>
<li class=""><a href="#drawlandmask" class=""> ** drawLandMask ** </a> Установка по умолчанию, которая контролирует, когда и как должна быть нарисована маска, когда ERDDAP™ Нарисовал карту. Он может быть указан в трех разных местах в datasets.xml   (от самого низкого до самого высокого приоритета) :</li>
</ul>
<ol>
<li class="">Если drawLandMask указывается в пределах&lt;erddapDatasets (не связан с каким-либо конкретным набором данных) Затем он определяет значение по умолчанию drawLandMask для всех переменных во всех наборах данных. Например,</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;drawLandMask&gt;under&lt;/drawLandMask&gt;  </span><br></span></code></pre></div></div>
<p>Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP читать datasets.xml .
Если этого тега нет, базовое значение по умолчанию ниже.
 
2. Если drawLandMask определяется как глобальный атрибут данного набора данных, затем указывает значение по умолчанию drawLandMask для всех переменных в этом наборе данных, отменяя любую более низкую настройку приоритета. Например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;drawLandMask&quot;&gt;under&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP™ Перезагружает этот набор данных.
 
3. Если drawLandMask указывается как атрибут переменной в данном наборе данных, затем указывает значение по умолчанию drawLandMask для этой переменной в этом наборе данных, отменяя любую более низкую настройку приоритета. Например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;drawLandMask&quot;&gt;under&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP™ Перезагружает этот набор данных.</p>
<p>Пользователь может переопределить по умолчанию (Где бы он ни был указан) выбрав значение «Нарисовать маску земли» из выпадающего списка на веб-странице Make A Graph набора данных или включив &amp;.land = <em>ценность</em> URL, который запрашивает карту из ERDDAP .</p>
<p>Во всех ситуациях существует 4 возможных значения для атрибута:</p>
<ul>
<li class="">«под» рисует маску до того, как она рисует данные на карте.
Для сетчатых наборов данных земля выглядит как постоянный светло-серый цвет.
Для табличных наборов данных «под» показывает топографические данные по суше и океанам.</li>
<li class="">&quot;Вверх&quot; - Для сетчатых наборов данных «over» рисует маску после того, как она рисует данные на картах, чтобы маскировать любые данные над землей. Для табличных наборов данных «сверху» показана батиметрия океана и постоянная светло-серая, где есть земля, оба рисуются под данными.</li>
<li class="">«Очертания» просто рисует очертания маски, политических границ, озер и рек.</li>
<li class="">&quot;Выключено&quot; ничего не рисует.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="emaildiagnosticstoerddata">&lt;e-mailDiagnosticsToErdData&gt;<a href="#emaildiagnosticstoerddata" class="hash-link" aria-label="Прямая ссылка на&lt;e-mailDiagnosticsToErdData&gt;" title="Прямая ссылка на&lt;e-mailDiagnosticsToErdData&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;emailDiagnosticsToErdData&gt; ** ] (#emaildiagnosticstoerddata) Редко используемый OPTIONAL тег в&lt;erddapDatasets метить datasets.xml . Значение тега может быть истинным (по умолчанию) или ложным. Если это правда, ERDDAP™ Я отправлю стековый след Крису. Джон в Ноаа. глава (тот ERDDAP™ команда разработчиков) . Это должно быть безопасно, так как нет конфиденциальной информации. (Например, запрос Url) Он включен в электронную почту. Это должно позволить поймать любые неясные, совершенно неожиданные ошибки, которые приводят к NullPointerExceptions. В противном случае пользователь видит исключения, но ERDDAP™ Команда разработчиков не (Мы не знаем, есть ли проблема, которую нужно решить.) .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="graphbackgroundcolor">&lt;graphBackgroundColor&gt;<a href="#graphbackgroundcolor" class="hash-link" aria-label="Прямая ссылка на&lt;graphBackgroundColor&gt;" title="Прямая ссылка на&lt;graphBackgroundColor&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;Источник: BackgroundColor ** ] (#graphbackgroundcolor) Редко используемый OPTIONAL тег в&lt;erddapDatasets метить datasets.xml Указать цвет фона по умолчанию на графиках. Это касается практически всех графов. Есть несколько ситуаций, которые не затронуты. Цвет определяется как 8-значное шестнадцатеричное значение в форме 0xAARRGGBB, где AA, RR, GG и BB являются непрозрачными, красными, зелеными и синими компонентами соответственно. «0x» является чувствительным к случаю, но шестнадцатеричные цифры не чувствительны к случаю. Например, полностью непрозрачный (ff) Зеленовато-голубой цвет с красным = 22, зеленый = 88, синий = ee будет 0xff2288ee. Непрозрачный белый - 0xffffffff. По умолчанию непрозрачный светло-голубой (0xffccccff) , который имеет то преимущество, что отличается от белого, который является важным цветом во многих палитрах, используемых для рисования данных. Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;graphBackgroundColor&gt;0xffffffff&lt;/graphBackgroundColor&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP™ читать datasets.xml в том числе в ответ на набор данных <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> .</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ipaddressmaxrequests">&lt;ipAddressMaxRequests&gt;<a href="#ipaddressmaxrequests" class="hash-link" aria-label="Прямая ссылка на&lt;ipAddressMaxRequests&gt;" title="Прямая ссылка на&lt;ipAddressMaxRequests&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;ipAddressMaxЗапросы ** ] (#ipaddressmaxrequests) Редко используемый дополнительный тег (Первый, поддержанный ERDDAP™ v2.12) в пределах&lt;erddapDatasets метить datasets.xml Это часть системы, которая ограничивает способность чрезмерно агрессивных законных пользователей и злонамеренных пользователей делать большое количество одновременных запросов, которые ухудшают производительность системы для других пользователей. ipAddress MaxRequests определяет максимальное количество одновременных запросов, которые будут приниматься с любого конкретного IP-адреса. Дополнительные запросы получат ошибку HTTP 429: Слишком много запросов. Небольшие статические файлы в erddap/download/ и erddap/images/ не освобождаются от этого подсчета. По умолчанию 15. Максимально допустимая - 1000, что безумно высоко - не делайте этого! ERDDAP™ не будет принимать число менее 6, потому что многие законные пользователи (В частности, веб-браузеры и WMS клиенты) Составьте до 6 запросов одновременно. The ERDDAP™ Ежедневный отчет и аналогичная информация, записанная в файл log.txt с каждой основной перезагрузкой набора данных, теперь будут включать в себя подборку запросов по этим IP-адресам под названием «IP-адрес запроса». (Слишком много запросов) &quot;.
Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP™ читать datasets.xml в том числе в ответ на набор данных <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> .</li>
</ul>
<p>Раздел «Major LoadDatasets Time Series» status.html включает в себя столбец «tooMany», в котором перечислено количество запросов, которое превысило настройку ipAddressMaxRequests пользователя и, таким образом, увидело ошибку «Too Many Requests». Это позволяет легко увидеть, когда есть активные чрезмерно агрессивные законные пользователи и злонамеренные пользователи. (необязательно) Посмотрите в файле log.txt и решите, хотите ли вы внести этих пользователей в черный список.</p>
<p>Нет ничего плохого в том, чтобы установить это на большее число. Это зависит от тебя. Но это позволяет / побуждает людей настраивать системы, которые используют большое количество потоков для работы над проектами, а затем не дает им обратной связи о том, что то, что они делают, не приносит им никакой пользы.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ipaddressmaxrequestsactive">&lt;ipAddressMaxRequestsActive&gt;<a href="#ipaddressmaxrequestsactive" class="hash-link" aria-label="Прямая ссылка на&lt;ipAddressMaxRequestsActive&gt;" title="Прямая ссылка на&lt;ipAddressMaxRequestsActive&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;ipAddressMaxRequestsActive ** ] (#ipaddressmaxrequestsactive) Редко используемый дополнительный тег (Первый, поддержанный ERDDAP™ v2.12) в пределах&lt;erddapDatasets метить datasets.xml Это часть системы, которая ограничивает способность чрезмерно агрессивных законных пользователей и злонамеренных пользователей делать большое количество одновременных запросов, которые ухудшают производительность системы для других пользователей. ipAddressMaxRequestsActive определяет максимальное количество одновременных запросов, которые будут активно обрабатываться с любого конкретного IP-адреса. Дополнительные запросы будут стоять в очереди до тех пор, пока не будут обработаны предыдущие запросы. Небольшие статические файлы в erddap/download/ и erddap/images/ ARE освобождаются от этого подсчета и соответствующего дросселирования. Дефолт составляет 2. Максимально допустимое число - 100, что безумно высоко - не делайте этого! Вы можете установить это на 1, чтобы быть строгим, особенно если у вас есть проблемы с чрезмерно агрессивными или вредоносными пользователями. Пользователи быстро получат все данные, которые они запрашивают. (Скачать ipAddressMaxRequests) Но они не смогут использовать системные ресурсы. Мы не рекомендуем устанавливать это на большее число, потому что это позволяет чрезмерно агрессивным законным пользователям и злонамеренным пользователям доминировать. ERDDAP Обрабатывающая способность.
Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP™ читать datasets.xml в том числе в ответ на набор данных <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ipaddressunlimited">&lt;ipAddressUnlimited&gt;<a href="#ipaddressunlimited" class="hash-link" aria-label="Прямая ссылка на&lt;ipAddressUnlimited&gt;" title="Прямая ссылка на&lt;ipAddressUnlimited&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;ipAddressUnlimited ** ] (#ipaddressunlimited) Редко используемый дополнительный тег (Первый, поддержанный ERDDAP™ v2.12) в пределах&lt;erddapDatasets метить datasets.xml Это часть системы, которая ограничивает способность чрезмерно агрессивных законных пользователей и злонамеренных пользователей делать большое количество одновременных запросов, которые ухудшают производительность системы для других пользователей. ipAddressUnlimited - это раздельный список IP-адресов, который вы хотите разрешить неограниченный доступ к вашему ERDDAP . Загляни в свой журнал. txt файл, чтобы увидеть, какой формат ваш сервер использует для IP-адресов. На некоторых серверах IP-адреса будут в формате #.#.#.# (где # - целое число от 0 до 255) ; тогда как на других он будет в формате #:#:#:#:#:#:#:#:# . Заявители в этом списке не подчиняются ни ipAddressMaxRequests, ни настройкам ipAddressMaxRequestsActive. Это может быть вторичным ERDDAP™ или для определенных пользователей или серверов в вашей системе. ERDDAP™ Всегда добавляет &quot; (неизвестный IP-адрес) &quot;, который ERDDAP™ использует, когда IP-адрес запрашивающего не может быть определен, например, для других процессов, выполняемых на том же сервере.
Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP™ читать datasets.xml в том числе в ответ на набор данных <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> .</li>
</ul>
<p>Если по какой-то причине все запросы пользователя получают сообщение об ошибке «Timeout waiting for your other requests to process»., то можно решить проблему, добавив IP-адрес пользователя в список ipAddressUnlimited, применив это изменение, а затем удалив его из этого списка.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="loaddatasetsminminutes">&lt;loadDatasetsMinMinutes&gt;<a href="#loaddatasetsminminutes" class="hash-link" aria-label="Прямая ссылка на&lt;loadDatasetsMinMinutes&gt;" title="Прямая ссылка на&lt;loadDatasetsMinMinutes&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;Скачать игру MinMinutes ** ] (#loaddatasetsminminutes) Редко используемый OPTIONAL тег в&lt;erddapDatasets метить datasets.xml Указать минимальное время (В минуты) между основными нагрузками Наборы данных (когда ERDDAP™ переработка datasets.xml включая проверку каждого набора данных, чтобы увидеть, нужно ли его перезагружать в соответствии с его перезагрузкой Настройка EveryNMinutes, по умолчанию = 15) . Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;loadDatasetsMinMinutes&gt;15&lt;/loadDatasetsMinMinutes&gt;  </span><br></span></code></pre></div></div>
<p>Если заданный запуск загрузочных наборов занимает меньше этого времени, загрузчик просто неоднократно просматривает каталог флага и/или спит до тех пор, пока не пройдет оставшееся время. По умолчанию 15 минут, что должно быть хорошо практически для всех. Единственным недостатком установки этого числа на меньшее число является то, что оно увеличивает частоту. ERDDAP™ возвращает наборы данных, которые имеют ошибки, которые препятствуют их загрузке (Например, удаленный сервер отключен) . Если таких наборов данных много, и они часто перепроверяются, источник данных может счесть это оскорбительным или агрессивным поведением. Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP™ читать datasets.xml в том числе в ответ на набор данных <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> . Перед ERDDAP™ v2.00, это было указано в setup.xml, что все еще разрешено, но не рекомендуется.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="loaddatasetsmaxminutes">&lt;loadDatasetsMaxMinutes&gt;<a href="#loaddatasetsmaxminutes" class="hash-link" aria-label="Прямая ссылка на&lt;loadDatasetsMaxMinutes&gt;" title="Прямая ссылка на&lt;loadDatasetsMaxMinutes&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;Обсуждение DatasetsMaxMinutes ** ] (#loaddatasetsmaxminutes) является опциональным тегом внутри&lt;erddapDatasets метить datasets.xml Указать максимальное время (В минуты) большая нагрузка Усилия по сбору данных допускаются (перед нагрузкой Нить наборов данных рассматривается как «застопорившаяся» и прерывается)   (По умолчанию 60) . Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;loadDatasetsMaxMinutes&gt;60&lt;/loadDatasetsMaxMinutes&gt;  </span><br></span></code></pre></div></div>
<p>В целом, это должно быть установлено как минимум в два раза дольше, чем вы думаете, что перезагрузка всех наборов данных. (совокупно) следует принимать (Компьютеры и сети иногда медленнее, чем ожидалось.) Это всегда должно быть намного дольше, чем загружаемые наборы данных. По умолчанию 60 минут. Некоторые люди установят это дольше. Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP™ читать datasets.xml в том числе в ответ на набор данных <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> . Перед ERDDAP™ v2.00, это было указано в setup.xml, что все еще разрешено, но не рекомендуется.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="loglevel">&lt;logLevel&gt;<a href="#loglevel" class="hash-link" aria-label="Прямая ссылка на&lt;logLevel&gt;" title="Прямая ссылка на&lt;logLevel&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;logLevel&gt;&gt; ** ] (#loglevel) является опциональным тегом внутри&lt;erddapDatasets метить datasets.xml указать, сколько диагностических сообщений отправляется в файл log.txt. Его можно настроить на «предупреждение» (Самые маленькие сообщения) &quot;Инфо&quot; (по умолчанию) или «все» (Больше всего сообщений) . Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;logLevel&gt;info&lt;/logLevel&gt;  </span><br></span></code></pre></div></div>
<p>Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP™ читать datasets.xml в том числе в ответ на набор данных <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> . Перед ERDDAP™ v2.00, это было указано в setup.xml, что все еще разрешено, но не рекомендуется.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="partialrequestmaxbytes-and-partialrequestmaxcells">&lt;PartialRequestMaxBytes&gt;&lt;PartialRequestMaxCells&gt;<a href="#partialrequestmaxbytes-and-partialrequestmaxcells" class="hash-link" aria-label="Прямая ссылка на&lt;PartialRequestMaxBytes&gt;&lt;PartialRequestMaxCells&gt;" title="Прямая ссылка на&lt;PartialRequestMaxBytes&gt;&lt;PartialRequestMaxCells&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;PartialRequestMaxBytes <strong>] (#partialrequestmaxbytes-and-partialrequestmaxcells) и</strong> &lt;PartialRequestMaxCells ** ] (#partialrequestmaxbytes-and-partialrequestmaxcells) Редко используются OPTIONAL теги в&lt;erddapDatasets метить datasets.xml . Когда это возможно (И это не всегда возможно) , ERDDAP™ Разбивает большие запросы данных на куски для сохранения памяти.</li>
</ul>
<p>32-битный Java В упрощенном смысле максимальное число одновременных <em>большой</em> запросы составляют примерно 3/4 доступной памяти; (Значение -Xmx перешло к Tomcat) разделенный на размер куска (Например, 1200 МБ / 100 МБ =&gt; 12 запросов) . Другие вещи требуют памяти, поэтому фактическое количество запросов будет меньше. На практике дробление не всегда возможно. Таким образом, один огромный или несколько очень больших одновременных несъемных запросов могут вызвать проблемы на 32 битах. Java .</p>
<p>64-битный Java Значение -Xmx может быть намного больше. Таким образом, память гораздо менее вероятно будет ограничением.</p>
<p>Вы можете переопределить размер фрагмента по умолчанию, определив эти теги в datasets.xml   (с различными значениями, показанными здесь) :
Для сетей:&lt;PartiveRequestMaxBytes&gt;100000000000&lt;/partialRequestMaxBytes
Для столов:&lt;PartialRequestMaxCells&gt;1000000&lt;/partialRequestMaxCells&gt;</p>
<p>PartialRequestMaxBytes - предпочтительное максимальное количество байтов для частичного запроса данных сетки. (Часть общего запроса) . Дефолт = 100000000 (108) . Большие размеры не обязательно лучше (и не превышать 500 Мб, потому что это предел по умолчанию для THREDDS. DAP ответы) . Но для больших размеров может потребоваться меньше доступа к тоннам файлов. (думать ERD Спутниковые данные с каждой точкой времени в отдельном файле - лучше получать больше данных из каждого файла в каждом частичном запросе) .</p>
<p>PartialRequestMaxCells — предпочтительное максимальное количество клеток. (nRows \* nКолонки в таблице данных) Частичный запрос данных TABLE (Часть общего запроса) . Дефолт = 100000. Большие размеры не обязательно лучше. Это приводит к более длительному ожиданию исходной партии данных из источника.</p>
<p>Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP™ читать datasets.xml в том числе в ответ на набор данных <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> . Перед ERDDAP™ v2.00, они были указаны в setup.xml, что все еще разрешено, но не рекомендуется.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="requestblacklist">&lt;Запрос Blacklist&gt;<a href="#requestblacklist" class="hash-link" aria-label="Прямая ссылка на&lt;Запрос Blacklist&gt;" title="Прямая ссылка на&lt;Запрос Blacklist&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;Запросить Blacklist ** ] (#запросить черный список)   <a class="" href="/ru/docs/server-admin/additional-information#frequent-crashes-or-freezes">является опциональным тегом</a> в пределах&lt;erddapDatasets метить datasets.xml который содержит отдельный список цифровых IP-адресов, которые будут внесены в черный список. Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP™ читать datasets.xml в том числе в ответ на набор данных <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> .<!-- -->
<ul>
<li class="">Это может быть использовано для защиты от <a href="https://en.wikipedia.org/wiki/Denial_of_service" target="_blank" rel="noopener noreferrer" class="">Отказ в обслуживании атаки</a> Слишком ревностный <a href="https://en.wikipedia.org/wiki/Internet_bot" target="_blank" rel="noopener noreferrer" class="">Веб робот</a> или любой другой тип проблемного пользователя.</li>
<li class="">Неудобный пользователь - Если ERDDAP™ Замедляет сканирование или замораживает / останавливает, причиной часто является проблемный пользователь, который запускает более одного сценария одновременно и / или делает большое количество очень больших, чрезвычайно неэффективных или недействительных запросов или одновременных запросов. Посмотри. <a class="" href="/ru/docs/server-admin/additional-information#log">log.txt</a> посмотреть, так ли это, и найти цифровой IP-адрес проблемного пользователя. Если это проблема, вы должны занести этого пользователя в черный список.</li>
</ul>
</li>
</ul>
<p>Когда ERDDAP™ Получив запрос с занесенного в черный список IP-адреса, он вернет HTTP Error 403: Forbidden. Сопроводительное текстовое сообщение об ошибке побуждает пользователя отправить вам электронное письмо. ERDDAP Администратор, чтобы решить проблемы. Если вам нужно время, чтобы прочитать сообщение об ошибке (Многие, по-видимому, не) Вы можете работать с ними, чтобы заставить их запускать только один сценарий за раз, делать более эффективные запросы, исправлять проблемы в их сценарии. (Например, запрос данных из удаленного набора данных, который не может ответить до истечения времени) Или что-то еще было источником проблем.</p>
<p>Пользователи часто просто не знают, что их запросы вызывают беспокойство. Они часто не знают об ошибках, грубой неэффективности или других проблемах со своими сценариями. Они часто думают, что это потому, что ERDDAP™ предлагает данные бесплатно, чтобы они могли запрашивать столько данных, сколько они хотят, например, запустив несколько сценариев или используя несколько потоков одновременно.</p>
<ul>
<li class="">Вы можете объяснить им, что каждый ERDDAP™ Как бы велика и могущественна она ни была, она обладает ограниченными ресурсами. (Время процессора, жесткий диск I/O, пропускная способность сети и т. Д.) и это несправедливо, если один пользователь запрашивает данные таким образом, что вытесняет других пользователей или перегружает их. ERDDAP .</li>
<li class="">Когда пользователь знает, как сделать 2 одновременных запроса, он часто не видит причин не делать 5, 10 или 20 одновременных запросов, поскольку дополнительные запросы ничего не стоят. Это как асимметричная война: здесь наступательное оружие имеет огромное преимущество. (нулевая стоимость) над оборонительным оружием (Конечная установка с реальными затратами) .</li>
<li class="">Обратите внимание на то, что все больше и больше одновременных запросов уменьшаются; дополнительные запросы просто еще больше блокируют запросы других пользователей; они не приносят им значительного улучшения.</li>
<li class="">Напомните им, что есть и другие пользователи. (как случайные пользователи, так и другие пользователи, запускающие скрипты) Так что это несправедливо по отношению ко всем ERDDAP Ресурсы.</li>
<li class="">Технологические гиганты заставили пользователей ожидать от веб-сервисов бесконечных ресурсов. Хотя есть способы создать <a class="" href="/ru/docs/server-admin/scaling">Сети/кластеры/федерации ERDDAP s</a> чтобы сделать ERDDAP™ с большим количеством ресурсов, большинство ERDDAP™ У администраторов нет денег или рабочей силы для создания таких систем, и такая система все равно будет конечной. в ERD Например, есть один человек (я) писать ERDDAP™ Управляя двумя ERDDAP s (С помощью моего босса) и управление несколькими источниками данных с годовым аппаратным бюджетом в 0 долл. (Мы полагаемся на случайные гранты для оплаты оборудования) . Это не Google, Facebook, Amazon и т. д. со 100 инженерами и миллионами долларов дохода для переработки во все более крупные системы. И мы не можем просто переместить наши ERDDAP™ Например, Amazon AWS, потому что затраты на хранение данных велики, а сборы за выход данных велики и изменчивы, в то время как наш бюджет на внешние услуги составляет фиксированный 0 долларов.</li>
<li class="">Мой запрос к пользователям: для невременных запросов (который является наиболее распространенным случаем) Их система должна делать только один запрос за раз. Если запросы чувствительны ко времени (Например, несколько .pngs на веб-странице, несколько плиток для WMS клиента и т.д.) Тогда, возможно, 4 одновременных запроса должны быть максимальными. (И только на очень короткое время) .</li>
<li class="">Если вы объясните ситуацию пользователю, большинство пользователей поймут и будут готовы внести необходимые изменения, чтобы вы могли удалить их IP-адрес из черного списка.
 </li>
<li class="">Чтобы внести пользователя в черный список, добавьте его цифровой IP-адрес в список IP-адресов, разделенный запятой.&lt;Черный список&gt; в вашем datasets.xml Файл. Чтобы найти проблемный IP-адрес пользователя, загляните в ERDDAP™   <em>BigParent Директория</em> /logs/log.txt файл ( <em>BigParent Директория</em> указывается в <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> ) Чтобы узнать, так ли это, и найти IP-адрес этого пользователя. IP-адрес для каждого запроса указан в строках, начинающихся с «{{{{{#» и представляет собой 4 номера, разделенные периодами, например, 123.45.67.8. Поиск «ERROR» поможет вам найти такие проблемы, как недействительные запросы.</li>
<li class="">Вы также можете заменить последний номер в IP-адресе на\<em>(например, 202.109.200).\</em>) блокировать диапазон IP-адресов 0-255.</li>
<li class="">Вы также можете заменить последние 2 номера в IP-адресе.\<em>.\</em>  (Например, 121.204.\<em>.\</em>) блокировать более широкий диапазон IP-адресов 0-255.0-255.</li>
<li class="">Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;requestBlacklist&gt;98.76.54.321, 202.109.200.\\*, 121.204.\\*.\\*&lt;/requestBlacklist&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Вам не нужно перезагружать ERDDAP™ Для изменений в&lt;«Черный список» вступает в силу. Изменения будут обнаружены в следующий раз. ERDDAP™ Проверьте, нужно ли перезагружать какие-либо наборы данных. Вы можете ускорить процесс, посетив <a class="" href="/ru/docs/server-admin/additional-information#set-dataset-flag">setDataset Флаг URL</a> для любого набора данных.</li>
<li class="">Твой ERDDAP™ Ежедневный отчет содержит список/список наиболее активных разрешенных и заблокированных заявителей.</li>
<li class="">Если вы хотите выяснить, какой домен / учреждение связано с числовым IP-адресом, вы можете использовать бесплатный обратный веб-сервис DNS. <a href="https://network-tools.com/" target="_blank" rel="noopener noreferrer" class="">https://network-tools.com/</a> .</li>
<li class="">Могут быть случаи, когда имеет смысл блокировать определенных пользователей на более высоком уровне, например, вредоносных пользователей. Например, вы можете заблокировать их доступ ко всему на вашем сервере. ERDDAP . В Linux одним из таких методов является <a href="https://www.linode.com/docs/guides/control-network-traffic-with-iptables/" target="_blank" rel="noopener noreferrer" class="">iptables</a> . Например, вы можете добавить правило, которое будет блокировать все, что исходит от 198.51.100.0 с помощью команды.
iptables - I INPUT -s 198.51.100.0 -j DROP</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="slowdowntroublemillis">&lt;DownTroubleMillis&gt;<a href="#slowdowntroublemillis" class="hash-link" aria-label="Прямая ссылка на&lt;DownTroubleMillis&gt;" title="Прямая ссылка на&lt;DownTroubleMillis&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;Медленный DownTroubleMillis ** ] (#slowdowntroublemillis) Редко используемый OPTIONAL тег в&lt;erddapDatasets метить datasets.xml который содержит целое число, определяющее число миллисекунд (Дефолт = 1000) приостановить при ответе на все несостоявшиеся запросы, например, неизвестный набор данных, запрос слишком большой, пользователь в черном списке. Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;slowDownTroubleMillis&gt;2000&lt;/slowDownTroubleMillis&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Если сценарий делает один запрос сразу после другого, он может быстро сделать один плохой запрос за другим. С помощью этой настройки вы можете замедлить неудачный сценарий, чтобы ERDDAP™ Он не переполнен плохими запросами. Если человек делает плохую просьбу, он даже не заметит этой задержки. Рекомендации:</p>
<ul>
<li class="">Если проблема - распределенный отказ в обслуживании (ДДОС) атака от 100+ злоумышленников, установить это на меньшее число (100?) . Замедление их всех слишком долго приводит к слишком большому количеству активных нитей.</li>
<li class="">Если беда из 1-10 источников, установите это на 1000 мс. (по умолчанию) , но большее число (как 10000) Это тоже разумно. Это замедляет их работу, поэтому они тратят меньше сетевых ресурсов. Кроме того, 1000 мс или около того не раздражают пользователей, которые делают плохой запрос.</li>
</ul>
<p>Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP™ читать datasets.xml в том числе в ответ на набор данных <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> .
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="subscriptionemailblacklist">&lt;подпискаEmailBlacklist&gt;<a href="#subscriptionemailblacklist" class="hash-link" aria-label="Прямая ссылка на&lt;подпискаEmailBlacklist&gt;" title="Прямая ссылка на&lt;подпискаEmailBlacklist&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;подписка Электронная почта Blacklist ** ] (#subscriptionemailblacklist) Редко используемый OPTIONAL тег в&lt;erddapDatasets метить datasets.xml который содержит разделенный запятой список адресов электронной почты, которые немедленно внесены в черный список <a href="https://coastwatch.pfeg.noaa.gov/erddap/subscriptions" target="_blank" rel="noopener noreferrer" class="">Система подписки</a> Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;subscriptionEmailBlacklist&gt;bob@badguy.com, john@badguy.com&lt;/subscriptionEmailBlacklist&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Это нечувствительная к случаю система. Если в этот список будет добавлен адрес электронной почты, если этот адрес электронной почты имеет подписки, подписки будут отменены. Если адрес электронной почты в списке пытается подписаться, запрос будет отклонен. Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP™ читать datasets.xml в том числе в ответ на набор данных <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> .
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="standard-text">Стандартный текст<a href="#standard-text" class="hash-link" aria-label="Прямая ссылка наСтандартный текст" title="Прямая ссылка наСтандартный текст" translate="no">​</a></h3>
<ul>
<li class="">
<p><a href="#standard-text" class=""> <strong>Стандартный текст</strong> </a> - Существует несколько опционных тегов (Большинство из них редко используются) в пределах&lt;erddapDatasets метить datasets.xml для указания текста, который появляется в различных местах ERDDAP . Если вы хотите изменить текст по умолчанию, скопируйте существующее значение из тега с тем же именем.
<em>кот</em> /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util.mesages.xml в datasets.xml Затем модифицируйте контент. Преимущество их в том, что datasets.xml Вы можете указать новые значения в любое время, даже если ERDDAP™ Бежит. Любые изменения в значениях этих тегов вступят в силу в следующий раз. ERDDAP™ читать datasets.xml в том числе в ответ на набор данных <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> . Имена тегов описывают их цель, но для более глубокого понимания см. контент по умолчанию в Messages.xml.</p>
</li>
<li class="">
<p>&lt;Стандартная лицензия</p>
</li>
<li class="">
<p>&lt;Стандартный контакт&gt;</p>
</li>
<li class="">
<p>&lt;Стандартные лицензии</p>
</li>
<li class="">
<p>&lt;StandardDisclaimerOfEndorsement</p>
</li>
<li class="">
<p>&lt;StandardDisclaimerOfExternalLinks&gt;</p>
</li>
<li class="">
<p>&lt;Стандартный GeneralDisclaimer</p>
</li>
<li class="">
<p>&lt;стандартный Политика конфиденциальности&gt;</p>
</li>
<li class="">
<p>&lt;Скачать HeadHtml5</p>
</li>
<li class="">
<p>&lt;StartBodyHtml5&gt; - это хороший тег для изменения, чтобы настроить внешний вид верхней части каждой веб-страницы в вашем веб-сайте. ERDDAP . В частности, вы можете использовать это, чтобы легко добавить временное сообщение на ERDDAP™ домашняя страница (Например, &quot;Проверить новый набор данных JPL MUR SST v4.1 ...&quot; или &quot;Это ERDDAP™ будет отключен для технического обслуживания 2019-05-08T17:00:00 PDT до 2019-05-08T20:00:00 PDT&quot;.) . Одна причуда поместить этот тег в datasets.xml Это: когда вы перезагружаетесь ERDDAP Первая просьба к ERDDAP™ Вернет старт по умолчанию BodyHtml5 HTML, но каждый последующий запрос будет использовать начальныйBodyHtml5 HTML, указанный в datasets.xml .</p>
</li>
<li class="">
<p>&lt;Краткое описание Html&gt; - это хороший тег для изменения, чтобы настроить описание вашего ERDDAP . Обратите внимание, что вы можете легко изменить это, чтобы добавить временное сообщение на главную страницу. (Например, &quot;Это ERDDAP™ будет отключен для технического обслуживания 2019-05-08T17:00:00 PDT до 2019-05-08T20:00:00 PDT&quot;.) .</p>
</li>
<li class="">
<p>&lt;EndBodyHtml5</p>
</li>
</ul>
<p>Перед ERDDAP™ v2.00, они были указаны в setup.xml, что все еще разрешено, но не рекомендуется.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="unusualactivity">&lt;необычное Деятельность&gt;<a href="#unusualactivity" class="hash-link" aria-label="Прямая ссылка на&lt;необычное Деятельность&gt;" title="Прямая ссылка на&lt;необычное Деятельность&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;Необычная активность ** ] (#необычная активность) Редко используемый OPTIONAL тег в&lt;erddapDatasets метить datasets.xml указать максимальное количество запросов между двумя прогонами LoadDatasets, что считается нормальным; (По умолчанию 10000) . Если это число превышено, электронное письмо отправляется на электронную почту EverythingTo (как указано в setup.xml) . Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;unusualActivity&gt;10000&lt;/unusualActivity&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP™ читать datasets.xml в том числе в ответ на набор данных <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> . Перед ERDDAP™ v2.00, это было указано в setup.xml, что все еще разрешено, но не рекомендуется.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="updatemaxevents">&lt;обновление MaxEvents&gt;<a href="#updatemaxevents" class="hash-link" aria-label="Прямая ссылка на&lt;обновление MaxEvents&gt;" title="Прямая ссылка на&lt;обновление MaxEvents&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;Обновление MaxEvents ** ] (#updatemaxevents) Редко используемый OPTIONAL тег в&lt;erddapDatasets метить datasets.xml Указать максимальное количество событий изменения файла (По умолчанию 10) Это будет решаться [..]&lt;Обновление EveryNMillis (#updateeverynmillis) система перед переключением на перезагрузку набора данных. Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;updateMaxEvents&gt;10&lt;/updateMaxEvents&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Система EveryNMillis предназначена для быстрой работы непосредственно перед обработкой запроса пользователя. Если происходит много событий, связанных с изменением файлов, то, вероятно, он не может работать быстро, поэтому вместо этого он требует перезагрузки набора данных. Если вы ERDDAP™ имеет дело с наборами данных, которые должны быть обновлены, даже если есть изменения в большом количестве файлов данных, вы можете установить это на большее количество (100?) .</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="user">&lt;пользователь&gt;<a href="#user" class="hash-link" aria-label="Прямая ссылка на&lt;пользователь&gt;" title="Прямая ссылка на&lt;пользователь&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;пользователь ** ] (пользователь) является опциональным тегом внутри&lt;erddapDatasets метить datasets.xml который идентифицирует имя пользователя, пароль (Если аутентификация=обычай) и роли (раздельный список) . Использование имени пользователя и пароля несколько отличается в зависимости от значения [&lt;аутентификация&gt; (/docs/server-admin/additional-information #authentication) в твоем ERDDAP файл setup.xml.<!-- -->
<ul>
<li class="">Это часть ERDDAP ? <a class="" href="/ru/docs/server-admin/additional-information#security">Система безопасности</a> ограничение доступа к некоторым наборам данных для некоторых пользователей.</li>
<li class="">Сделайте отдельный&lt;Тег пользователя для каждого пользователя. По желанию, если аутентификация=oauth2, можно настроить две&lt;пользователь теги для каждого пользователя: один для того, когда пользователь входит в систему через Google, когда пользователь входит в систему через Orcid, предположительно с теми же ролями.</li>
<li class="">Если нет никакого&lt;user&gt; tag для клиента, s/he будет иметь доступ только к общедоступным наборам данных, то есть наборам данных, которые не имеют&lt;Доступно&gt;&gt; (#доступность) Тэг.</li>
<li class="">имя пользователя
Для аутентификации = обычно имя пользователя представляет собой комбинацию букв, цифр, подчеркиваний и периодов.
Для аутентификации = e-mail, имя пользователя - адрес электронной почты пользователя. Это может быть любой адрес электронной почты.
Для аутентификации = Google, имя пользователя является полным адресом электронной почты пользователя Google. Это включает в себя учетные записи, управляемые Google, такие как @noaa.gov счета.
Для аутентификации = orcid имя пользователя - номер учетной записи пользователя Orcid. (с тире) .
Для аутентификации=auth2 имя пользователя - полный адрес электронной почты пользователя Google или номер учетной записи пользователя Orcid. (с тире) .</li>
<li class="">пароль
Для аутентификации=email, google, orcid или oauth2 не указывайте атрибут пароля.
Для аутентификации=обычай необходимо указать атрибут пароля для каждого пользователя.<!-- -->
<ul>
<li class="">Пароли, которые вводят пользователи, чувствительны к регистру и должны иметь 8 или более символов, чтобы их было сложнее взломать. В настоящее время даже 8 символов можно быстро и недорого взломать грубой силой, используя кластер компьютеров на AWS. ERDDAP™ 8-символьный минимум выполняется только тогда, когда пользователь пытается войти в систему (а не когда пользователь пытается войти в систему).&lt;Тег user&gt; обрабатывается, потому что этот код видит только хеш-дайджест пароля, а не пароль в простом тексте.</li>
<li class="">setup.xml&lt;Пароль Кодирование определяет, как пароли хранятся в&lt;пользователь теги в datasets.xml . В целях повышения безопасности возможны следующие варианты:<!-- -->
<ul>
<li class=""><a href="https://en.wikipedia.org/wiki/MD5" target="_blank" rel="noopener noreferrer" class="">MD5</a>   (Не используйте это!) - для атрибута пароля укажите хеш-дайджест MD5 пароля пользователя.</li>
<li class="">UEPMD5 (Не используйте это!) - для атрибута пароля укажите хеш-дайджест MD5 <em>имя пользователя</em> : ERDDAP : <em>пароль</em> . Имя пользователя и &quot; ERDDAP &quot;используется для <a href="https://en.wikipedia.org/wiki/Salt_(cryptography)" target="_blank" rel="noopener noreferrer" class="">соль</a> значение хеширования, что затрудняет его декодирование.</li>
<li class=""><a href="https://en.wikipedia.org/wiki/SHA-2" target="_blank" rel="noopener noreferrer" class="">SHA256</a>   (не рекомендуется) - для атрибута пароля укажите хеш-дайджест SHA-256 пароля пользователя.</li>
<li class="">UEPSHA256 (По умолчанию, рекомендуется кодирование паролем. Но гораздо лучше: используйте опции аутентификации google, orchid или oauth2.) - для атрибута пароля укажите хеш-дайджест SHA-256 <em>имя пользователя</em> : ERDDAP : <em>пароль</em> . Имя пользователя и &quot; ERDDAP &quot;используются для соления хеш-значения, что затрудняет его расшифровку.</li>
</ul>
</li>
<li class="">В Windows вы можете генерировать значения дайджеста паролей MD5, загрузив программу MD5. (такие как <a href="https://www.fourmilab.ch/md5/" target="_blank" rel="noopener noreferrer" class="">MD5</a> ) и использовать (Например,) :
md5 -djsmith: ERDDAP : <em>Реальный пароль</em></li>
<li class="">В Linux/Unix можно генерировать значения MD5, используя встроенную программу md5sum. (Например,) :
Эхо-н&quot; джмит: ERDDAP : <em>Реальный пароль</em> &quot; | md5sum</li>
<li class="">Хранимые пароли с простым текстом чувствительны к делу. Сохраненные формы паролей MD5 и UEPMD5 не являются конфиденциальными.</li>
<li class="">Например, (Использование UEPMD5) , если имя пользователя = &quot;jsmith&quot; и пароль = &quot;myPassword&quot;,&lt;user&gt; tag - это:</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;user username=&quot;jsmith&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            password=&quot;57AB7ACCEB545E0BEB46C4C75CEC3C30&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            roles=&quot;JASmith, JASmithGroup&quot; /&gt;  </span><br></span></code></pre></div></div>
<p>где сохраненный пароль был сгенерирован
md5 -djsmith: ERDDAP MyPassword</p>
<ul>
<li class="">Роли - это разделенный запятой список ролей, на которые авторизован пользователь. Любой&lt;Набор данных может иметь [&lt;Доступно&gt;&gt; (#доступность) тег, в котором перечислены роли, которым разрешен доступ к этому набору данных. Для данного пользователя и данного набора данных, если одна из ролей в списке ролей пользователя соответствует одной из ролей в списке набора данных&lt;Доступный&gt; ролям, то пользователь имеет право доступа к этому набору данных.</li>
</ul>
<p>Каждый пользователь, который входит в систему, автоматически получает роль. \[ кто-нибудь заплатит в \] Если существует a&lt;User&gt; Tag для них datasets.xml Или нет. Если данный набор данных имеет</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;accessibleTo&gt;\\[anyoneLoggedIn\\]&lt;/accessibleTo&gt;  </span><br></span></code></pre></div></div>
<p>Любой пользователь, который вошел в систему, будет иметь право доступа к этому набору данных, даже если его нет.&lt;User&gt; Tag для них datasets.xml .</p>
<ul>
<li class="">Любые изменения в стоимости этого тега вступят в силу в следующий раз. ERDDAP™ читать datasets.xml в том числе в ответ на набор данных <a class="" href="/ru/docs/server-admin/additional-information#flag">флаг</a> .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pathregex">&lt;PathRegex&gt;<a href="#pathregex" class="hash-link" aria-label="Прямая ссылка на&lt;PathRegex&gt;" title="Прямая ссылка на&lt;PathRegex&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;PathRegex ** ] (#патрегекс) Позволяет указать регулярное выражение, которое ограничивает, какие пути (какие подкаталоги) Они будут включены в набор данных. По умолчанию это .\*, который соответствует всем путям. Это редко используемый, редко необходимый, OPTIONAL тег для EDDGrid Наборы данных из файлов, наборы данных из файлов и несколько других типов наборов данных. Однако, когда вам это нужно, вы действительно нуждаетесь в этом.</li>
</ul>
<p>Чтобы сделать эту работу, вы должны быть действительно хороши с регулярными выражениями. Посмотри. <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">нормативная документация</a> и <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">учебник по регексу</a> . В частности, вам нужно знать о группах захвата. (Что-то внутри скобок) и символ &quot;или&quot; | &quot;.
Вместе они позволяют указать любое количество вариантов, например, (вариант 1 | вариант 2 | опция 3) .
Кроме того, любой из вариантов не может быть ничем, например, ( | вариант 2 | опция 3) .
Кроме того, вы должны знать, что группы захвата могут быть вложены, т.е. любой вариант в группе захвата может содержать другую группу захвата, например, ( | вариант 2 ( | вариант 2 b | Option2C)  | опция 3) Это означает, что за вариантом 2 не может следовать ничего, или за вариантом 2b, или за вариантом 2c.
Для pathRegexes каждый вариант будет иметь одно имя папки, за которым следует a/, например, bar/.</p>
<p>Сложная часть пути Regex: когда ERDDAP™ Рекурсивно спускается по дереву каталогов, путьRegex должен принимать все пути, которые он встречает на своем пути к каталогам с данными. Regex с вложенными группами захвата - хороший способ справиться с этим.</p>
<p>Пример:
Предположим, что мы имеем следующую структуру каталога:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/foo/bar/D0001/a/\\*.nc  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/foo/bar/D0001/b/\\*.nc  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/foo/bar/D0002/a/\\*.nc  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/foo/bar/D0002/b/\\*.nc  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/foo/bar/E0001/a/\\*.nc  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...  </span><br></span></code></pre></div></div>
<p>и указанный файлDirectory является /foo/bar/, и мы просто хотим .nc Файлы в D \[ 0-9 \] {4}/a/ подкаталоги.
Решение заключается в настройке PathRegex на /foo/bar/ ( | D \[ 0-9 \] {4} ( | а)) )<br>
<!-- -->Это говорит:
Путь должен начинаться с /foo/bar
За этим может следовать ничто или D. \[ 0-9 \] {4}
Это может сопровождаться ничем или</p>
<p>Да, PathRegex может быть невероятно трудно сформулировать. Если вы застряли, спросите у программиста (Самое близкое в реальном мире к волшебнику, извергающему заклинания?) Или отправьте письмо Крису. Джон на noaa.gov.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dataset">&lt;Dataset&gt;<a href="#dataset" class="hash-link" aria-label="Прямая ссылка на&lt;Dataset&gt;" title="Прямая ссылка на&lt;Dataset&gt;" translate="no">​</a></h3>
<ul>
<li class="">[править] ** &lt;набор данных ** ] (#набор данных) является опциональным (всегда используется) в пределах одного&lt;erddapDatasets метить datasets.xml (если вы включаете всю информацию между&lt;набор данных&gt; и&lt;/dataset&gt;) полностью описывает один набор данных. Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;dataset type=&quot;EDDGridFromDap&quot; datasetID=&quot;erdPHssta8day&quot; active=&quot;true&quot;&gt; ... &lt;/dataset&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Может быть любое количество тегов набора данных в вашем datasets.xml Файл.
Три атрибута могут появиться в&lt;dataset&gt; tag:
 </p>
<ul>
<li class=""><strong>тип=&quot;&quot; <em>а Тип</em> &quot;</strong> является обязательным атрибутом в&lt;dataset&gt; tag in datasets.xml который идентифицирует тип набора данных (Например, является ли он EDDGrid /gridded или EDDTable/tabular dataset) и источник данных (Например, база данных, файлы или пульт OPeNDAP сервер) . Видишь? <a href="#list-of-types-datasets" class=""> <strong>Список типов наборов данных</strong> </a> .
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="datasetid">набор данных Ид<a href="#datasetid" class="hash-link" aria-label="Прямая ссылка нанабор данных Ид" title="Прямая ссылка нанабор данных Ид" translate="no">​</a></h4>
<ul>
<li class=""><a href="#datasetid" class=""> ** datasetID = <em>DatasetID</em> &quot;** </a> является обязательным атрибутом в&lt;тег dataset&gt;, который присваивает короткий (обычно)&lt;15 символов), уникальный, идентифицирующий имя набору данных.</li>
<li class="">The datasetID Должно быть письмо (A-Z, a-z) За ним следует любое количество A-Z, a-z, 0-9 и \_ (но лучше всего, если это не так).&lt;Всего 32 символа.</li>
<li class="">Набор данных Идентификаторы чувствительны к случаю, но не создавайте два datasetID s, которые отличаются только верхними / нижними буквами. Это вызовет проблемы на компьютерах Windows (Ваш и/или компьютер пользователя) .</li>
<li class="">Лучшие практики: Мы рекомендуем использовать <a href="https://en.wikipedia.org/wiki/CamelCase" target="_blank" rel="noopener noreferrer" class="">верблюд Дело</a> .</li>
<li class="">Лучшие практики: Мы рекомендуем, чтобы первая часть была аббревиатурой или аббревиатурой имени учреждения-источника, а вторая часть была аббревиатурой или аббревиатурой имени набора данных. Когда это возможно, мы создаем имя, которое отражает имя источника для набора данных. Например, мы использовали datasetID = erdPH sst a8day&quot; для набора данных NOAA   NMFS   SWFSC Отдел экологических исследований ( ERD ) который определяется источником как спутник/PH/ sst 8 дней.</li>
<li class="">Если вы меняете имя набора данных, старый набор данных (со старым именем) будет жить в ERDDAP . Это «сиротский» набор данных, потому что спецификация для него datasets.xml Теперь его нет. С этим необходимо бороться:<!-- -->
<ol>
<li class="">Для ERDDAP™ v2.19 и более поздние, вам не нужно ничего делать. ERDDAP™ Мы автоматически удалим эти данные.</li>
<li class="">Для ERDDAP™ v2.18 и ранее, вам нужно сделать что-то, чтобы удалить сиротские наборы данных: Сделать активный = &quot;ложный&quot; набор данных, например,</li>
</ol>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;dataset type=&quot;EDDTableFromNcFiles&quot; datasetID=&quot;*theOldName*&quot; active=&quot;false&quot; /&gt;  </span><br></span></code></pre></div></div>
<p>После следующей большой нагрузки Наборы данных, Вы можете удалить этот тег после того, как старый набор данных неактивен.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="active">активный<a href="#active" class="hash-link" aria-label="Прямая ссылка наактивный" title="Прямая ссылка наактивный" translate="no">​</a></h4>
<ul>
<li class=""><a href="#active" class=""> <strong>Активный = <em>булевый</em> &quot;</strong> </a> является опциональным атрибутом в&lt;dataset&gt; tag in datasets.xml Что означает, что набор данных активен (пригодных для использования в ERDDAP ) Или нет.</li>
<li class="">Действительные ценности истинны (по умолчанию) и ложные.</li>
<li class="">Поскольку по умолчанию верно, вам не нужно использовать этот атрибут, пока вы не захотите временно или навсегда удалить этот набор данных из ERDDAP .</li>
<li class="">Если вы просто удалите активный = «настоящий» набор данных datasets.xml При этом данные будут активны в ERDDAP™ Но никогда не будет обновляться. Такой набор данных будет «сиротой» и будет указан в статусе. html веб-страница прямо под списком наборов данных, которые не удалось загрузить.</li>
<li class="">Если вы установили активный = &quot;ложный&quot;, ERDDAP™ Отключит набор данных в следующий раз, когда он попытается обновить набор данных. Когда ты это делаешь, ERDDAP™ не выбрасывает какую-либо информацию, которую он мог хранить о наборе данных, и, конечно, не делает ничего с фактическими данными.</li>
<li class="">Чтобы удалить набор данных из ERDDAP™ Видишь? <a class="" href="/ru/docs/server-admin/additional-information#removing-datasets">Удаление Force Dataset</a> .
 </li>
</ul>
<p>** Между ними могут появляться различные&lt;набор данных&gt; и&lt;/dataset&gt; Tags. **<br>
<!-- -->Есть некоторые вариации, в которых теги разрешены, по каким типам наборов данных. См. документацию для конкретного <a href="#list-of-types-datasets" class="">Тип набора данных</a> Для деталей.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="accessibleto">&lt;доступный To&gt;<a href="#accessibleto" class="hash-link" aria-label="Прямая ссылка на&lt;доступный To&gt;" title="Прямая ссылка на&lt;доступный To&gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt;доступный Чтобы ** ] (#доступность) является опциональным тегом в&lt;тег dataset&gt;, который определяет список, разделенный запятой <a href="#user" class="">роли</a> которые имеют доступ к этому набору данных. Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;accessibleTo&gt;RASmith, NEJones&lt;/accessibleTo&gt;  </span><br></span></code></pre></div></div>
<ul>
<li class="">Это часть ERDDAP ? <a class="" href="/ru/docs/server-admin/additional-information#security">Система безопасности</a> ограничение доступа к некоторым наборам данных для некоторых пользователей.</li>
<li class="">Если этого нет, все пользователи (Даже если они не вошли в систему) будет иметь доступ к этому набору данных.</li>
<li class="">Если этот тег присутствует, этот набор данных будет виден и доступен только зарегистрированным пользователям, которые имеют одну из указанных ролей. Этот набор данных не будет виден пользователям, которые не вошли в систему.</li>
<li class="">Каждый пользователь, который входит в систему, автоматически получает роль. \[ кто-нибудь заплатит в \] Если существует a&lt;User&gt; Tag для них datasets.xml Или нет. Если данный набор данных имеет</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;accessibleTo&gt;\\[anyoneLoggedIn\\]&lt;/accessibleTo&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Любой пользователь, который вошел в систему, будет иметь право доступа к этому набору данных, даже если его нет.&lt;User&gt; Tag для них datasets.xml .
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="graphsaccessibleto">&lt;ГрафыДоступные к &gt;<a href="#graphsaccessibleto" class="hash-link" aria-label="Прямая ссылка на&lt;ГрафыДоступные к &gt;" title="Прямая ссылка на&lt;ГрафыДоступные к &gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt;ГрафыДоступно&gt; ** ] (#графы доступны) является опциональным тегом в&lt;dataset&gt; tag in datasets.xml который определяет, доступны ли графика и метаданные для набора данных для общественности. Он предлагает способ частично отменить набор данных [&lt;Доступно&gt;&gt; (#доступность) установка. Допустимые значения:<!-- -->
<ul>
<li class="">авто- Это значение (или отсутствие а)&lt;graphsAccessibleTo&gt; tag for the dataset) делает доступ к графам и метаданным из набора данных имитирующим набор данных&lt;Доступно&gt;Настройка.
Поэтому, если набор данных является частным, его графики и метаданные будут частными.
И если набор данных является общедоступным, его графики и метаданные будут общедоступными.</li>
<li class="">публичный - Этот параметр делает графики и метаданные набора данных доступными для всех, даже для пользователей, которые не вошли в систему, даже если набор данных в противном случае является конфиденциальным, потому что у него есть&lt;Доступно&gt; Tag.
 </li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="accessibleviafiles">&lt;доступный ViaFiles&gt;<a href="#accessibleviafiles" class="hash-link" aria-label="Прямая ссылка на&lt;доступный ViaFiles&gt;" title="Прямая ссылка на&lt;доступный ViaFiles&gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt;Доступные файлы ** ] (#доступные файлы) является опциональным тегом в&lt;dataset&gt; tag in datasets.xml для <a href="#eddgridaggregateexistingdimension" class=""> EDDGrid Совокупность существующих измерений</a> , <a href="#eddgridcopy" class=""> EDDGrid Копия</a> , <a href="#eddgridfromeddtable" class=""> EDDGrid Издательство<!-- -->:EDDTable</a> , <a href="#eddfromerddap" class=""> EDDGrid Из Эрддапа</a> , <a href="#eddgridfrometopo" class=""> EDDGrid Из Этопо</a> , <a href="#eddgridfromfiles" class=""> EDDGrid Из материалов</a>   (включая все подклассы) , <a href="#eddgridsidebyside" class=""> EDDGrid SideBySide</a> , <a href="#eddtablecopy" class="">EDDTableCopy</a>   <a href="#eddfromerddap" class="">EDDTable FromErddap</a> , <a href="#eddtablefromeddgrid" class="">EDDTable From EDDGrid </a> и <a href="#eddtablefromfiles" class="">EDDTable Из материалов</a>   (включая все подклассы) наборы данных. Он может иметь значение истинного или ложного. Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;accessibleViaFiles&gt;true&lt;/accessibleViaFiles&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Если значение истинно, ERDDAP™ Это позволит пользователям просматривать и загружать файлы исходных данных набора данных через ERDDAP ? <a href="https://coastwatch.pfeg.noaa.gov/erddap/files/" target="_blank" rel="noopener noreferrer" class=""> &quot;files&quot; система</a> . Видишь? &quot;files&quot; системы <a href="https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html" target="_blank" rel="noopener noreferrer" class="">документация</a> За дополнительной информацией.</p>
<p>По умолчанию значение&lt;Доступные файлы исходит из&lt;Доступные файлы &gt; в <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> . Он имеет значение ложного по умолчанию, но мы рекомендуем добавить этот тег в ваш setup.xml со значением истинного.</p>
<p>Рекомендация - Мы рекомендуем сделать все соответствующие наборы данных доступными через файловую систему, установив&lt;По умолчанию AccessibleViaFiles&gt; соответствует действительности в setup.xml, поскольку существует группа пользователей, для которых это предпочтительный способ получения данных. Среди прочих причин, &quot;files&quot; Система позволяет пользователям легко видеть, какие файлы доступны и когда они в последний раз изменились, что облегчает пользователю сохранение собственной копии всего набора данных. Если вы обычно не хотите делать наборы данных доступными через файловую систему, установите&lt;По умолчаниюДоступные файлы&gt; Ложные. В любом случае, просто используйте&lt;* для немногих наборов данных, которые являются исключениями из общей политики, установленной&lt;Доступные файлы &gt; (Например, когда набор данных использует <a href="#ncml-files" class=""> .nc мл</a> Файлы, которые не очень полезны для пользователей) .
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="accessibleviawms">&lt;доступный Виа WMS &gt;<a href="#accessibleviawms" class="hash-link" aria-label="Прямая ссылка на&lt;доступный Виа WMS &gt;" title="Прямая ссылка на&lt;доступный Виа WMS &gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt;доступный Виа WMS &gt; ** ] (#доступные водоросли) является опциональным тегом в&lt;dataset&gt; tag in datasets.xml для всех <a href="#eddgrid" class=""> EDDGrid </a> Подклассы. Он может иметь значение истинного (по умолчанию) или ложным. Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;accessibleViaWMS&gt;true&lt;/accessibleViaWMS&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Если значение ложное, ERDDAP ? WMS Сервер не будет доступен для этого набора данных. Это обычно используется для наборов данных, которые имеют некоторые значения долготы более 180. (которые технически недействительны для WMS услуги) , и для которого вы также предлагаете вариант набора данных со значениями долготы полностью в диапазоне от -180 до 180 <a href="#eddgridlonpm180" class=""> EDDGrid LonPM180</a> .
Если значение истинно, ERDDAP™ Мы постараемся сделать набор данных доступным через ERDDAP ? WMS Сервер. Но если набор данных совершенно не подходит для WMS   (Например, нет данных о долготе или широте.) Тогда набор данных не будет доступен через ERDDAP ? WMS сервера, независимо от этого параметра.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="addvariableswhere">&lt;добавлять Переменные Где &gt;<a href="#addvariableswhere" class="hash-link" aria-label="Прямая ссылка на&lt;добавлять Переменные Где &gt;" title="Прямая ссылка на&lt;добавлять Переменные Где &gt;" translate="no">​</a></h4>
<ul>
<li class="">[править]&lt;Переменные где &gt;&gt;&gt; (#addvariables Везде) является опциональным тегом внутри&lt;Тег dataset&gt; для всех наборов данных EDDTable.</li>
</ul>
<p>Запросы на любой набор данных EDDTable могут включать &amp;add Переменные Где? (&quot; <em>атрибут Имя</em> &quot;&quot; <em>атрибут ценность</em> &quot;) Что говорит ERDDAP™ Добавить все переменные в набор данных, где <em>атрибутName = атрибутValue</em> Список запрашиваемых переменных. Например, если пользователь добавляет &amp;add Переменные Где? (&quot; ioos\_category &quot;Ветер&quot;) на запрос, ERDDAP добавит все переменные в набор данных, которые имеют ioos\_category = Атрибут ветра в списке запрашиваемых переменных (Например, WindSpeed, WindDirection, WindGustSpeed) . <em>атрибут Имя</em> и <em>атрибут ценность</em> Они чувствительны к случаям.</p>
<p>в datasets.xml если часть dataset.xml для набора данных имеет</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;addVariablesWhere&gt;*attributeNamesCSV*&lt;addVariablesWhere&gt;  </span><br></span></code></pre></div></div>
<p>Например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;addVariablesWhere&gt;ioos\\_category,units&lt;addVariablesWhere&gt;  </span><br></span></code></pre></div></div>
<p>Форма доступа к данным (.html веб-страница) для набора данных будет включать виджет (Для каждого из них в отдельном списке) Ниже списка переменных, который позволяет пользователям указывать значение атрибута. Если пользователь выбирает значение атрибута для одного или нескольких имен атрибутов, они будут добавлены в запрос через &amp;add. Переменные Где? (&quot; <em>атрибут Имя</em> &quot;&quot; <em>атрибут ценность</em> &quot;) . Таким образом, этот тег в datasets.xml Позволяет указать список имен атрибутов, которые будут отображаться в Форме доступа к данным для этого набора данных и облегчает пользователям добавление и добавление переменных. Где выполняется запрос. The <em>атрибутNamesCSV</em> Список деликатный.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="altitudemeterspersourceunit">&lt;высотометрыPerSourceUnit&gt;<a href="#altitudemeterspersourceunit" class="hash-link" aria-label="Прямая ссылка на&lt;высотометрыPerSourceUnit&gt;" title="Прямая ссылка на&lt;высотометрыPerSourceUnit&gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt;Высотные измерителиPerSourceUnit ** ] (#altitudemeterspersourceunit) является опциональным тегом внутри&lt;Тег dataset&gt; в наборах данных. xxml для EDDTableFrom SOS наборы данных (Только!) который определяет число, умноженное на значения высоты или глубины источника, чтобы преобразовать их в значения высоты. (в метрах над уровнем моря) . Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;altitudeMetersPerSourceUnit&gt;-1&lt;/altitudeMetersPerSourceUnit&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Этот тег ДОЛЖЕН использоваться, если значения вертикальной оси набора данных не являются счетчиками, положительный = вверх. В противном случае он опционален, так как значение по умолчанию равно 1. Например,</p>
<ul>
<li class="">Если источник уже измеряется в метрах над уровнем моря, используйте 1 (или не используйте этот тег, так как 1 - значение по умолчанию) .</li>
<li class="">Если источник измеряется в метрах ниже уровня моря, используйте -1.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;altitudeMetersPerSourceUnit&gt;-1&lt;/altitudeMetersPerSourceUnit&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Если источник измеряется в км над уровнем моря, используйте 0,001.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="defaultdataquery">&lt;DataQuery&gt;<a href="#defaultdataquery" class="hash-link" aria-label="Прямая ссылка на&lt;DataQuery&gt;" title="Прямая ссылка на&lt;DataQuery&gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt;По умолчанию DataQuery ** ] (#по умолчанию) является опциональным тегом в&lt;dataset&gt; tag in datasets.xml что говорит ERDDAP™ для использования указанного запроса (Часть URL после «?».) Если файл .html Тип (Форма доступа к данным) Запрашивается без запроса.<!-- -->
<ul>
<li class="">Вам, вероятно, редко придется использовать это.</li>
<li class="">Вам нужен XML-код (не процентный код) запросы по умолчанию, поскольку они находятся в XML-документе. Например, &amp; становится &amp;&lt;становится&lt;&gt; становится &gt;</li>
<li class="">Пожалуйста, проверьте свою работу. Легко ошибиться и не получить то, что хочешь. ERDDAP™ Мы постараемся исправить ваши ошибки, но не полагайтесь на это, поскольку\*как\*Он очищается, может измениться.</li>
<li class="">Для наборов данных griddap, общее использование этого заключается в том, чтобы указать другое значение глубины или высоты по умолчанию. (Например, \[ 0 \] вместо того, чтобы \[ последний \] ) .
В любом случае, вы всегда должны перечислять все переменные, всегда использовать одни и те же значения размерности для всех переменных и почти всегда использовать \[ 0 \] , \[ последний \] или \[ 0:Последний \] Для значений измерений.
Например:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;defaultDataQuery&gt;u\\[last\\]\\[0\\]\\[0:last\\]\\[0:last\\],v\\[last\\]\\[0\\]\\[0:last\\]\\[0:last\\]&lt;/defaultDataQuery&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Для tabledap Наборы данных, если вы не укажете никаких ограничений, запрос вернет весь набор данных, который может быть непрактично большим, в зависимости от набора данных. Если вы не хотите указывать какие-либо ограничения, а не иметь пустой&lt;По умолчанию DataQuery (Это то же самое, что не указывать по умолчанию DataQuery) , вам нужно явно перечислить все переменные, которые вы хотите включить в DataQuery по умолчанию.</li>
<li class="">Для tabledap наборы данных, наиболее распространенным использованием которых является указание другого диапазона времени по умолчанию (относительно max (время) Например, &amp;time&gt;=max (время) -1 день, или относительно сейчас, например, &amp;time&gt;= now- 1 день) .
Помните, что запрос переменных данных не совпадает с указанием всех переменных данных, поэтому обычно вы можете просто указать новое ограничение времени.
Например:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;defaultDataQuery&gt;&amp;amp;time&amp;gt;=max(time)-1day&lt;/defaultDataQuery&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>или</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;defaultDataQuery&gt;&amp;amp;time&amp;gt;=now-1day&lt;/defaultDataQuery&gt;  </span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="defaultgraphquery">&lt;По умолчанию GraphQuery&gt;<a href="#defaultgraphquery" class="hash-link" aria-label="Прямая ссылка на&lt;По умолчанию GraphQuery&gt;" title="Прямая ссылка на&lt;По умолчанию GraphQuery&gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt;По умолчанию GraphQuery ** ] (#defaultgraphry) является опциональным тегом в&lt;dataset&gt; tag in datasets.xml что говорит ERDDAP™ для использования указанного запроса (Часть URL после «?».) Если файл .graph Тип (Создайте графическую форму) Запрашивается без запроса.<!-- -->
<ul>
<li class="">Вам, вероятно, редко придется использовать это.</li>
<li class="">Вам нужен XML-код (не процентный код) запросы по умолчанию, поскольку они находятся в XML-документе. Например, &amp; становится &amp;&lt;становится&lt;&gt; становится &gt;</li>
<li class="">Пожалуйста, проверьте свою работу. Легко ошибиться и не получить то, что хочешь. ERDDAP™ Мы постараемся исправить ваши ошибки, но не полагайтесь на это, поскольку\*как\*Он очищается, может измениться.</li>
<li class="">Для наборов данных griddap наиболее распространенным использованием этого является определение другого значения глубины или высоты по умолчанию. (Например, \[ 0 \] вместо того, чтобы \[ последний \] ) и/или указать, что конкретная переменная должна быть отображена на графике.
В любом случае, вы почти всегда будете использовать \[ 0 \] , \[ последний \] или \[ 0:Последний \] Для значений измерений.
Например:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;defaultGraphQuery&gt;temp\\[last\\]\\[0\\]\\[0:last\\]\\[0:last\\]&amp;amp;.draw=surface&amp;amp;.vars=longitude|latitude|temp&lt;/defaultGraphQuery&gt;  </span><br></span></code></pre></div></div>
<!-- -->(Положите все на одну линию)<!-- -->
<ul>
<li class="">Для tabledap Наборы данных, если вы не указываете никаких ограничений, запрос будет отображать весь набор данных, что может занять много времени, в зависимости от набора данных.</li>
<li class="">Для tabledap наборы данных, наиболее распространенным использованием которых является указание другого диапазона времени по умолчанию (относительно max (время) Например, &amp;time&gt;=max (время) -1 день, или относительно сейчас, например, &amp;time&gt;= now- 1 день) .
Помните, что запрос переменных данных не совпадает с указанием всех переменных данных, поэтому обычно вы можете просто указать новое ограничение времени.
Например:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;defaultGraphQuery&gt;&amp;amp;time&amp;gt;=max(time)-1day&lt;/defaultGraphQuery&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>или</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;defaultGraphQuery&gt;&amp;amp;time&amp;gt;=now-1day&lt;/defaultGraphQuery&gt;  </span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="dimensionvaluesinmemory">&lt;размерностьValuesInMemory&gt;<a href="#dimensionvaluesinmemory" class="hash-link" aria-label="Прямая ссылка на&lt;размерностьValuesInMemory&gt;" title="Прямая ссылка на&lt;размерностьValuesInMemory&gt;" translate="no">​</a></h4>
<ul>
<li class="">
<p>[править] ** &lt;измерение Ценности в памяти ** ] (#dimensionvaluesinmemory)   (истинный (по умолчанию) ложный) Опциональный и редко используемый тег в&lt;Тег dataset&gt; для любого EDDGrid набор данных, который сообщает ERDDAP™ где хранить исходные значения измерений (Также известный как axisVariable s) :</p>
<ul>
<li class="">Правда = в памяти (Он быстрее, но использует больше памяти.)</li>
<li class="">Ложь = на диске (Медленнее, но не использует память)</li>
</ul>
</li>
</ul>
<p>Например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;dimensionValuesInMemory&gt;false&lt;/dimensionValuesInMemory&gt;  </span><br></span></code></pre></div></div>
<p>Вы должны использовать это только с непо умолчанию значение ложного, если вы ERDDAP™ Имеет множество наборов данных с очень большими размерами (миллионы ценностей, например, в EDDGrid Наборы данных AudioFiles) и ERDDAP Использование памяти всегда слишком высоко. Смотрите Память: в настоящее время используется линия \[ Ваш домен \]  /erddap/status.html контролировать ERDDAP™ Использование памяти.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="filetableinmemory">&lt;FileTableInMemory&gt;<a href="#filetableinmemory" class="hash-link" aria-label="Прямая ссылка на&lt;FileTableInMemory&gt;" title="Прямая ссылка на&lt;FileTableInMemory&gt;" translate="no">​</a></h4>
<ul>
<li class="">
<p>[править] ** &lt;FileTableInMemory ** ] (#filetableinmemory)   (истинный или ложный (по умолчанию) ) является опциональным тегом внутри&lt;Тег dataset&gt; для любого EDDGrid Из материалов и EDDTable Набор данных из файлов, который сообщает ERDDAP™ Где хранить файлTable (который содержит информацию о каждом файле исходных данных) :</p>
<ul>
<li class="">Правда = в памяти (Он быстрее, но использует больше памяти.)</li>
<li class="">Ложь = на диске (Медленнее, но не использует память)</li>
</ul>
</li>
</ul>
<p>Например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;fileTableInMemory&gt;true&lt;/fileTableInMemory&gt;  </span><br></span></code></pre></div></div>
<p>Если вы установите это для любого набора данных, следите за памятью: в настоящее время используется строка в \[ Ваш домен \]  /erddap/status.html обеспечить, чтобы ERDDAP™ У него много свободной памяти.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="fgdcfile">&lt;fgdcFile&gt;<a href="#fgdcfile" class="hash-link" aria-label="Прямая ссылка на&lt;fgdcFile&gt;" title="Прямая ссылка на&lt;fgdcFile&gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt;fgdcFile&gt; ** ] (#fgdcfile) является опциональным тегом в&lt;dataset&gt; tag in datasets.xml что говорит ERDDAP™ использовать готовый файл FGDC вместо ERDDAP™ Попробуйте создать файл. Использование:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;fgdcFile&gt;*fullFileName*&lt;/fgdcFile&gt;  </span><br></span></code></pre></div></div>
<p><em>полный Имя файла</em> Может ссылаться на локальный файл (где-то в файловой системе сервера) URL удаленного файла.
Если <em>полный Имя файла</em> или файл не найден, набор данных не будет иметь метаданных FGDC. Это также полезно, если вы хотите подавить метаданные FGDC для определенного набора данных.
Или вы можете поставить&lt;fgdcActive&gt;ложный&lt;/fgdcActive&gt; в setup.xml ERDDAP™ не предлагать метаданные FGDC для любого набора данных.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="iso19115file">&lt;Изо19115 File&gt;<a href="#iso19115file" class="hash-link" aria-label="Прямая ссылка на&lt;Изо19115 File&gt;" title="Прямая ссылка на&lt;Изо19115 File&gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt;Изо19115 Файл ** ] (#iso19115file) является опциональным тегом в&lt;dataset&gt; tag in datasets.xml что говорит ERDDAP™ использовать готовый файл ISO 19115 вместо ERDDAP™ Попробуйте создать файл. Использование:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;iso19115File&gt;*fullFileName*&lt;/iso19115File&gt;  </span><br></span></code></pre></div></div>
<em>полный Имя файла</em> Может ссылаться на локальный файл (где-то в файловой системе сервера) URL удаленного файла.
Если <em>полный Имя файла</em> Если файл не найден, набор данных не будет иметь метаданных ISO 19115. Это также полезно, если вы хотите подавить метаданные ISO 19115 для определенного набора данных.
Или вы можете поставить&lt;Изо19115Активный&gt;ложный&lt;/iso19115Active&gt; в setup.xml ERDDAP™ не предлагать метаданные ISO 19115 для любого набора данных.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="matchaxisndigits">&lt;ось матча NDigits&gt;<a href="#matchaxisndigits" class="hash-link" aria-label="Прямая ссылка на&lt;ось матча NDigits&gt;" title="Прямая ссылка на&lt;ось матча NDigits&gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt;matchAxisNDigits&gt; ** ] (#matchaxisndigits) является опциональным тегом внутри EDDGrid  &lt;dataset&gt; tag для EDDGrid наборы данных, которые представляют собой агрегации, например, агрегации файлов. Каждый раз, когда набор данных перезагружается, ERDDAP™ проверяет, что значения оси каждого компонента агрегации одинаковы. Точность испытаний определяется <a href="#matchaxisndigits" class="">Обсуждение AxisNDigits</a> , в котором указывается общее число цифр, которые должны совпадать при тестировании значений оси двойной точности, 0 - 18 (по умолчанию) . При тестировании значений поплавковой оси тест проводится с помощью matchAxisNDigits/2 цифр. Значение 18 или выше говорит EDDGrid Чтобы сделать точный тест. Значение 0 говорит EDDGrid Не следует делать никаких тестов, которые не рекомендуются, кроме как описано ниже.</li>
</ul>
<p>Хотя EDDGrid позволяет компонентам агрегации иметь несколько разные значения оси, пользователю показан только один набор значений оси. Набор состоит из того же компонента, который предоставляет исходные метаданные набора данных. Например, для EDDGrid Наборы данных FromFiles, которые определяются&lt;Метаданные &gt; Настройка (Дефолт - последний) .</p>
<p>Использование matchAxisNDigits\=0 в большинстве случаев сильно обескураживает, поскольку отключает всю проверку. Даже минимальная проверка полезна, потому что она гарантирует, что компоненты подходят для агрегирования. Мы все предполагаем, что все компоненты подходят, но это не всегда так. Таким образом, это важный тест на здравомыслие. Даже значения matchAxisNDigits1, 2, 3 или 4 не рекомендуется, потому что различные значения оси часто указывают на то, что компоненты были созданы. (бинд?) Иными словами, они не подходят для агрегирования.</p>
<p>Существует один случай, когда использование matchAxisNDigits\=0 полезно и рекомендуется: с агрегациями удаленных файлов, например, данных в ведрах S3. В этом случае, если набор данных использует кэш FromUrl, кэшSizeGB, matchAxisNDigits\=0, и EDDGrid Отраслевая система для <a href="#aggregation-via-file-names-or-global-metadata" class="">Агрегация через Файловые имена</a> Тогда EDDGrid Не нужно читать все удаленные файлы, чтобы выполнить агрегацию. Это позволяет наборам данных, сделанным из данных в ведрах S3, загружаться очень быстро. (В отличие от абсурдно медленного EDDGrid Необходимо скачать и прочитать все файлы) .</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="nthreads">&lt;nThreads&gt;<a href="#nthreads" class="hash-link" aria-label="Прямая ссылка на&lt;nThreads&gt;" title="Прямая ссылка на&lt;nThreads&gt;" translate="no">​</a></h4>
<ul>
<li class="">Начиная с ERDDAP™ версии 2.00, когда любой подкласс EDDTable FromFiles или EDDGrid считывает данные из своего источника, может считывать один кусок данных (Например, один исходный файл) в то время (в одной нити)   (Это дефолт) или более одной части данных (например, 2+ исходных файлов) в то время (в 2 или более потоках) при обработке каждого запроса.
 <!-- -->
<ul>
<li class="">
<p>Правило большого пальца:
Для большинства наборов данных в большинстве систем используйте nThreads=1 по умолчанию. Если у вас мощный компьютер (Много процессорных ядер, много памяти) , затем подумайте о настройке nThreads на 2, 3, 4 или выше (Но никогда больше, чем количество ядер процессора в компьютере.) Для наборов данных, которые могут принести пользу:</p>
<ul>
<li class="">Большинство наборов данных EDDTableFromFiles получат выгоду.</li>
<li class="">Наборы данных, где что-то вызывает задержку до того, как часть данных может быть обработана, выиграют, например:<!-- -->
<ul>
<li class="">Наборы данных с <a href="#externally-compressed-files" class="">сжатый снаружи (например, .gz ) </a> бинарный (например, .nc ) Файлы, потому что ERDDAP™ Необходимо декомпрессировать весь файл, прежде чем он начнет читать файл.</li>
<li class="">Наборы данных, которые используют <a href="#cachefromurl" class="">CacheSizeGB</a> Потому что ERDDAP™ Часто приходится скачивать файл, прежде чем он сможет его прочитать.</li>
<li class="">Наборы данных с файлами данных, хранящимися в параллельной файловой системе с высокой пропускной способностью, поскольку они могут доставлять больше данных, быстрее, при запросе. Примеры параллельных файловых систем включают <a href="https://en.wikipedia.org/wiki/Non-RAID_drive_architectures" target="_blank" rel="noopener noreferrer" class="">Джейбод</a> , <a href="http://www.pnfs.com/" target="_blank" rel="noopener noreferrer" class="">NFS</a> , <a href="https://en.wikipedia.org/wiki/Gluster" target="_blank" rel="noopener noreferrer" class="">ГлюстерФС</a> Amazon S3 и Google Cloud Storage.
 </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Предупреждение: При использовании nThreads&gt;1 следите за ERDDAP Использование памяти, использование потоков и общая отзывчивость (смотреть <a class="" href="/ru/docs/server-admin/additional-information#status-page"> ERDDAP Страница статуса</a> ) . См. комментарии по этим вопросам ниже.
 </p>
<ul>
<li class="">
<p>Для данного набора данных эта настройка nThreads может поступать из разных мест:</p>
<ul>
<li class="">Если datasets.xml Часть для набора данных имеет&lt;nThreads&gt; tag (в пределах&lt;тег dataset&gt;, а не глобальный атрибут с значением &gt;= 1, используется значение nThreads. Таким образом, вы можете указать разные номера для каждого набора данных.</li>
<li class="">В противном случае, если datasets.xml имеет&lt;nTableThreads&gt; tag (для EDDTable Из наборов данных Files) или&lt;nGridThreads&gt; Tag (для EDDGrid наборы данных) со значением &gt;= 1, за пределами а&lt;тег dataset&gt;, используется значение nThreads.</li>
<li class="">В противном случае используется 1 поток, что является безопасным выбором, поскольку он использует наименьшее количество памяти.
 </li>
</ul>
</li>
</ul>
<p>Для <a href="https://coastwatch.pfeg.noaa.gov/erddap/index.html" target="_blank" rel="noopener noreferrer" class="">оригинальный ERDDAP™ установка</a> Мы используем
&lt;nTableThreads&gt; 6.6&lt;/nTableThreads&gt; (Это мощный сервер.) Сложные запросы сейчас занимают 30% от предыдущего времени.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="monitor-resource-usage">Мониторинг использования ресурсов<a href="#monitor-resource-usage" class="hash-link" aria-label="Прямая ссылка наМониторинг использования ресурсов" title="Прямая ссылка наМониторинг использования ресурсов" translate="no">​</a></h5>
<p>Когда вы экспериментируете с различными настройками nThreads (и, возможно, делать сложные выборочные запросы ERDDAP ) Вы можете контролировать использование ресурсов вашего компьютера:</p>
<ul>
<li class="">На компьютерах Mac используйте Finder : Applications : Utilities : Activity Monitor</li>
<li class="">В Linux используйте top</li>
<li class="">В Windows 10, используйте <em>Ctrl + Shift + Esc</em> Откройте диспетчер задач
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="warning-decreased-responsiveness">Предупреждение: снижение отзывчивости<a href="#warning-decreased-responsiveness" class="hash-link" aria-label="Прямая ссылка наПредупреждение: снижение отзывчивости" title="Прямая ссылка наПредупреждение: снижение отзывчивости" translate="no">​</a></h5>
<p>В изоляции, ERDDAP™ Выполнит запрос к набору данных с более высокой настройкой nThreads быстрее, чем если nThreads=1. Но пока этот запрос обрабатывается, другие запросы от других пользователей будут несколько вытеснены и получат более медленный ответ. Кроме того, когда ERDDAP™ отвечает на заданный запрос, другие вычислительные ресурсы (например, доступ к дисковому диску, пропускная способность сети) Возможно ограничение, особенно при более высоких настройках nThreads. Таким образом, при более высоких настройках nThreads общая отзывчивость системы будет хуже, когда обрабатываются несколько запросов - это может очень раздражать пользователей! Из-за этого: никогда не устанавливайте nThreads больше, чем количество ядер процессора в компьютере. nThreads=1 является самой справедливой установкой с момента каждого запроса. (нескольких одновременных запросов) Получит равную долю вычислительных ресурсов. Но чем мощнее компьютер, тем меньше это будет проблемой.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="warning-higher-memory-use-for-eddgrid-datasets">Предупреждение: Высшая память Использовать для EDDGrid Наборы данных<a href="#warning-higher-memory-use-for-eddgrid-datasets" class="hash-link" aria-label="Прямая ссылка наПредупреждение: Высшая память Использовать для EDDGrid Наборы данных" title="Прямая ссылка наПредупреждение: Высшая память Использовать для EDDGrid Наборы данных" translate="no">​</a></h5>
<p>Использование памяти при обработке запросов прямо пропорционально настройке nThreads. Довольно безопасное эмпирическое правило: вам нужно установить <a class="" href="/ru/docs/server-admin/deploy-install#memory"> ERDDAP Настройки памяти</a> как минимум 2 ГБ + (2 ГБ \* nThreads) . Некоторые запросы к некоторым наборам данных требуют больше памяти, чем это. Настройка nThreads=3 для любого EDDGrid Набор данных означает, что настройка -Xmx должна быть не менее -Xmx8000M. Если эта настройка памяти больше 3/4 физической памяти компьютера, уменьшите настройку nThreads, чтобы вы могли уменьшить настройку памяти.</p>
<p>Использование памяти для обработки запросов потоков к наборам данных EDDTable почти всегда ниже, потому что файлы обычно намного меньше. Однако, если данный набор данных EDDTable имеет огромный (Например, &gt;=1 ГБ) Файлы данных, а затем комментарии выше будут применяться и к этим наборам данных.</p>
<p>Независимо от настройки nThreads, внимательно следите за статистикой использования памяти на вашем компьютере. <a class="" href="/ru/docs/server-admin/additional-information#status-page"> ERDDAP Страница статуса</a> . Вы никогда не должны приближаться к максимизации использования памяти. ERDDAP В противном случае будут серьезные ошибки и неудачи.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="temporarily-set-to-1">Временно установленный на 1<a href="#temporarily-set-to-1" class="hash-link" aria-label="Прямая ссылка наВременно установленный на 1" title="Прямая ссылка наВременно установленный на 1" translate="no">​</a></h5>
<p>Если текущее использование памяти немного выше, ERDDAP™ Установите nThreads для этого запроса на 1. Таким образом, ERDDAP™ Сохраняет память, когда памяти мало.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="diminishing-returns">Уменьшение возвратов<a href="#diminishing-returns" class="hash-link" aria-label="Прямая ссылка наУменьшение возвратов" title="Прямая ссылка наУменьшение возвратов" translate="no">​</a></h5>
<p>Уменьшаются доходы от увеличения настройки nThreads: 2 потока будут намного лучше, чем 1. (Если мы игнорируем динамический разгон) . Но 3 будет лишь куском лучше 2. И 4 будет лишь незначительно лучше, чем 3.</p>
<p>В одном тесте сложного запроса на большой набор данных EDDTable время ответа с использованием 1, 2, 3, 4, 5, 6 потоков составляло 38, 36, 20, 18, 13, 11 секунд. (На этом сервере используется nTableThreads=6.)</p>
<p>nThreads=2: Хотя часто существует значительное преимущество в определении nThreads=2 вместо nThreads=1, часто это не будет иметь большого значения в тактовом времени, необходимом для ответа на запрос данного пользователя. Причина в том, что при nThreads=1 большинство современных процессоров часто <a href="https://en.wikipedia.org/wiki/Intel_Turbo_Boost" target="_blank" rel="noopener noreferrer" class="">динамически разгон</a>   (турбонаддув) временно увеличить тактовую частоту ЦПУ. Таким образом, с nThreads=1 одно ядро часто будет работать с более высокой тактовой частотой, чем каждое из двух ядер, если использовать nThreads=2. Несмотря на это, мы по-прежнему считаем, что лучше использовать nThreads=2, а не nThreads=1, поскольку эта настройка даст лучшие результаты в более широком спектре ситуаций. И, конечно же, если на вашем компьютере достаточно ядер процессора, еще более высокая настройка nThreads должна дать лучшие результаты.</p>
<p>Как обсуждалось выше, очень высокие настройки nThreads могут привести к более быстрым ответам на некоторые запросы, но риск в целом снизился. ERDDAP™ отзывчивость и высокое использование памяти (Как отмечалось выше) Хотя эти запросы обрабатываются, это, как правило, не очень хорошая идея.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="cpu-cores">процессор ядра<a href="#cpu-cores" class="hash-link" aria-label="Прямая ссылка напроцессор ядра" title="Прямая ссылка напроцессор ядра" translate="no">​</a></h5>
<p>Вы никогда не должны устанавливать nThreads на число, превышающее количество ядер процессора в процессоре компьютера. По сути, все современные процессоры имеют несколько ядер (Например, 2, 4 или 8) . Некоторые компьютеры даже имеют несколько процессоров. (Например, 2 CPU \* 4 ядра/CPU = 8 ядер CPU) . Чтобы узнать, сколько процессоров и ядер у компьютера:</p>
<ul>
<li class="">На Mac, использовать <em>Вариант ключа</em> Меню Apple: системная информация</li>
<li class="">Для Linux используйте cat /proc/cpuinfo</li>
<li class="">В Windows 10, используйте <em>Ctrl + Shift + Esc</em> открывать Диспетчер задач: производительность (Логические процессоры показывают общее количество ядер процессора)</li>
</ul>
<p>Да, большинство процессоров в наши дни говорят, что они поддерживают 2 потока на ядро. (через <a href="https://en.wikipedia.org/wiki/Hyper-threading" target="_blank" rel="noopener noreferrer" class="">гиперпоточность</a> ) Но 2 потока разделяют вычислительные ресурсы, поэтому вы не увидите удвоенную пропускную способность на процессоре под большой нагрузкой. Например, компьютер с одним процессором с 4 ядрами может претендовать на поддержку до 8 потоков, но вы никогда не должны превышать nThreads = 4 в этом. ERDDAP . Помните:</p>
<ul>
<li class="">N-образные нити, расположенные в ERDDAP™ по запросу. ERDDAP™ Часто обрабатывает несколько запросов одновременно.</li>
<li class="">ERDDAP™ выполняет другие действия, кроме обработки запросов, например, перезагружает наборы данных.</li>
<li class="">Когда ERDDAP™ отвечает на заданный запрос, другие вычислительные ресурсы (например, доступ к дисковому диску, пропускная способность сети) может быть ограничивающим. Чем выше вы установите nThreads, тем больше вероятность того, что эти другие ресурсы будут максимизированы и замедлятся. ERDDAP Общая отзывчивость.</li>
<li class="">Операционная система делает вещи, отличные от запуска ERDDAP .</li>
</ul>
<p>Поэтому лучше не устанавливать настройку nThreads больше, чем количество ядер в процессоре компьютера.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="your-mileage-may-vary-ymmv">Ваш пробег может Варь (ИММВ)<a href="#your-mileage-may-vary-ymmv" class="hash-link" aria-label="Прямая ссылка наВаш пробег может Варь (ИММВ)" title="Прямая ссылка наВаш пробег может Варь (ИММВ)" translate="no">​</a></h5>
<p>Результаты различных настроек nThreads будут сильно различаться для разных запросов к различным наборам данных в разных системах. Если вы действительно хотите узнать влияние различных настроек nThreads, запустите реалистичные тесты.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-nthreads-per-request">Почему nThreads per request?<a href="#why-nthreads-per-request" class="hash-link" aria-label="Прямая ссылка наПочему nThreads per request?" title="Прямая ссылка наПочему nThreads per request?" translate="no">​</a></h5>
<p>Я слышу, как некоторые из вас думают: «Почему nThreads per request? Если бы я кодировал это, я бы использовал один постоянный рабочий пул потоков и очередь сообщений для повышения производительности». Проблема с использованием одного пула рабочих потоков и очереди сообщений заключается в том, что один сложный запрос заполнит очередь множеством медленных задач. Это эффективно блокирует ERDDAP™ от начала работы над задачами, связанными с другими запросами, до первоначального запроса (по существу) Закончил. Таким образом, даже простые последующие запросы будут реагировать очень медленно. ERDDAP Использование nThreads для запроса приводит к гораздо более справедливому использованию вычислительных ресурсов.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="nthreads-vs-multiple-worker-computers">nThreads vs. Несколько рабочих компьютеров<a href="#nthreads-vs-multiple-worker-computers" class="hash-link" aria-label="Прямая ссылка наnThreads vs. Несколько рабочих компьютеров" title="Прямая ссылка наnThreads vs. Несколько рабочих компьютеров" translate="no">​</a></h5>
<p>К сожалению, ERDDAP Система nThreads никогда не будет столь эффективной, как настоящая параллелизация с помощью нескольких рабочих компьютеров, каждый из которых работает над куском данных, так, как обычно используются Hadoop или Apache Spark. Когда задача действительно распараллелена/распределена на несколько компьютеров, каждый компьютер может использовать все свои ресурсы со своей стороны задачи. с ERDDAP Система nThreads, каждый из потоков конкурирует за пропускную способность одного и того же компьютера, дисководы, память и т. Д. К сожалению, у большинства из нас нет ресурсов или средств для создания или даже аренды. (Amazon Web Services (AWS) Google Cloud Platform (ГКП) ) Массивные сети компьютеров. Кроме того, в отличие от реляционной базы данных, которая может возвращать строки результатов в любом порядке, ERDDAP™ дает обещание вернуть строки результатов в последовательном порядке. Это ограничение делает ERDDAP Реализация nThreads менее эффективна. Но ERDDAP N-потоки полезны во многих случаях.</p>
<p>Однако есть способы сделать ERDDAP™ масштаб, позволяющий быстро обрабатывать огромное количество запросов, создавая <a class="" href="/ru/docs/server-admin/scaling">Сеть/кластер/федерация ERDDAP s</a> .
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="palettes">&lt;палитры &gt;<a href="#palettes" class="hash-link" aria-label="Прямая ссылка на&lt;палитры &gt;" title="Прямая ссылка на&lt;палитры &gt;" translate="no">​</a></h4>
<ul>
<li class="">Начиная с ERDDAP™ Версия 2.12, datasets.xml может включать в себя&lt;palettes&gt; tag (внутри)&lt;erddapDatasets&gt;), который перекрывает&lt;палитры &gt; значение тега от messages.xml (или возвращается к значению message.xml, если тег в datasets.xml пустой) . Это позволяет вам изменить список доступных палитр. ERDDAP™ Бежит. Он также позволяет вносить изменения и сохранять их при установке новой версии. ERDDAP .
Предупреждение: палитры, перечисленные в datasets.xml должен быть набором палитр, перечисленных в message.xml; в противном случае ERDDAP™ бросит исключение и прекратит обработку datasets.xml . Это гарантирует, что все ERDDAP™ Установки, по крайней мере, поддерживают те же основные палитры.
Предупреждение: ERDDAP™ проверяет, что файлы палитры, указанные в message.xml, действительно существуют, но не проверяет файлы палитры, перечисленные в datasets.xml . Вы несете ответственность за то, чтобы файлы присутствовали.</li>
</ul>
<p>Также начиная с ERDDAP™ Версия 2.12, если вы делаете подкаталог cptfiles ERDDAP™ каталог контента, ERDDAP™ будет копировать все файлы \*.cpt в этом каталоге в \[ кот \] /webapps/erddap/WEB-INF/cptfils каталог каждый раз ERDDAP™ Начинается. Таким образом, если вы разместите пользовательские файлы cpt в этом каталоге, эти файлы будут использоваться для ERDDAP™ без дополнительных усилий с вашей стороны, даже при установке новой версии ERDDAP .</p>
<p>ПРЕДУПРЕЖДЕНИЕ: Если вы добавляете пользовательские палитры в свои ERDDAP™ И у тебя есть EDDGrid Наборы данных FromErddap и/или EDDTableFromErddap ERDDAP™ Затем пользователи увидят ваши пользовательские опции палитры на ERDDAP™ Создайте веб-страницы A Graph, но если пользователь попытается их использовать, он получит график по умолчанию. (Обычно радуга) палитра. Это связано с тем, что изображение создается удаленным ERDDAP™ который не имеет привычной палитры. Единственным решением сейчас является электронная почта удаленного ERDDAP™ администратор, чтобы добавить свои пользовательские палитры к своему ERDDAP Или написать Крису. Джон на noaa.gov попросил добавить палитры в стандарт ERDDAP™ распределения.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="onchange">&lt;onChange&gt;<a href="#onchange" class="hash-link" aria-label="Прямая ссылка на&lt;onChange&gt;" title="Прямая ссылка на&lt;onChange&gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt;OnChange&gt; ** ] (#изменить) является опциональным тегом в&lt;dataset&gt; tag in datasets.xml который определяет действие, которое будет сделано при создании этого набора данных (когда ERDDAP™ возобновляется) и всякий раз, когда этот набор данных каким-либо образом изменяется.<!-- -->
<ul>
<li class="">В настоящее время для EDDGrid подклассы, любое изменение метаданных или переменной оси (Например, новая точка времени для данных в реальном времени) считается изменением, но перезагрузка набора данных не считается изменением. (сам по себе) .</li>
<li class="">В настоящее время для подклассов EDDTable любая перезагрузка набора данных считается изменением.</li>
<li class="">В настоящее время допускаются только два вида действий:<!-- -->
<ul>
<li class="">&quot;http://&quot;или &quot;&quot;https://&quot;- Если действие начинается с &quot;http://&quot;или &quot;&quot;https://&quot;, ERDDAP™ Отправит ли он HTTP GET Запрос на указанный URL. Ответ будет проигнорирован. Например, URL-адрес может указывать другому веб-сервису что-то делать.<!-- -->
<ul>
<li class="">Если URL имеет часть запроса (После &quot;&quot;?) Это должно быть уже <a href="https://en.wikipedia.org/wiki/Percent-encoding" target="_blank" rel="noopener noreferrer" class="">% кодируется</a> . Вам нужно кодировать специальные символы в ограничениях. (В отличие от начального и основного &#x27;=&#x27; ограничения) в форму %HH, где HH — 2-значное шестнадцатеричное значение символа. Обычно нужно просто преобразовать несколько символов пунктуации: % в %25, &amp; в %26, &quot;в %22,&lt;в %3C, = в %3D, &gt; в %3E, + в %2B, | в %7С, \[ в %5B, \] в %5D, в %20 и преобразовать все символы выше #127 в форму UTF-8, а затем в % кодировать каждый байт формы UTF-8 в формат %HH (Попросите программиста помочь) .
Например, &amp; stationID &gt;=&quot;41004&quot;
становится и stationID %3E=%2241004%22
Процент кодирования обычно требуется при доступе ERDDAP через программное обеспечение, отличное от браузера. Браузеры обычно обрабатывают процент кодирования для вас.
В некоторых ситуациях вам нужно закодировать все символы, кроме A-Za-z0-9. &quot; () \*, но все же не кодируйте начальное &#x27;&amp;&#x27; или основное &#x27;=&#x27; в ограничениях.
Языки программирования имеют инструменты для этого (например, см. Java ? <a href="https://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html" target="_blank" rel="noopener noreferrer" class=""> java.net.URLEncoder </a> и Java Сценарий [encodeURIComponent()] (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent" target="_blank" rel="noopener noreferrer" class="">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent</a>) ) и существуют
<a href="https://www.url-encode-decode.com/" target="_blank" rel="noopener noreferrer" class="">Сайты, которые закодируют / декодируют для вас</a> .</li>
<li class="">С тех пор datasets.xml XML-файл, вы должны также и кодировать все &#x27;&amp;&#x27;, &#x27;&#x27;&lt;&#x27;, и &#x27;&gt;&#x27; в URL как &#x27;&amp;&#x27;, &#x27;&lt;&#x27;, и &#x27;&gt;&#x27; после процента кодирования.</li>
<li class="">Пример: Для URL, который вы можете ввести в браузер как:
<a href="https://www.company.com/webService?department=R%26D&amp;param2=value2" target="_blank" rel="noopener noreferrer" class="">https://www.company.com/webService?department=R%26D&amp;param2=value2</a><br>
<!-- -->Вы должны указать&lt;onChange&gt; Tag via (На одной линии)</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;onChange&gt;https://www.company.com/webService?department=R%26D&amp;amp;param2=value2&lt;/onChange&gt;</span><br></span></code></pre></div></div>
</li>
<li class="">почта: - Если действие начинается с «mailto:», ERDDAP™ отправит электронное письмо на следующий адрес электронной почты, указывающий, что набор данных был обновлен / изменен.
Например:&lt;onChange&gt;mailto<!-- -->:john<a href="mailto:.smith@company.com" target="_blank" rel="noopener noreferrer" class="">.smith@company.com</a>&lt;/onChange&gt; Если у вас есть веская причина для ERDDAP™ Чтобы поддержать некоторые другие действия, отправьте нам электронное письмо с описанием того, что вы хотите.</li>
</ul>
</li>
<li class="">Этот тег является опциональным. Там может быть столько тегов, сколько вы хотите. Используйте один из этих тегов для каждого выполняемого действия.</li>
<li class="">Это аналогично ERDDAP Система подписки на электронную почту / URL, но эти действия не хранятся постоянно (То есть они хранятся только в объекте EDD.) .</li>
<li class="">Чтобы удалить подписку, просто удалите&lt;onChange&gt; Tag. Изменение будет отмечено при следующей перезагрузке набора данных.
 </li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="reloadeverynminutes">&lt;перезагрузкаEveryNMinutes&gt;<a href="#reloadeverynminutes" class="hash-link" aria-label="Прямая ссылка на&lt;перезагрузкаEveryNMinutes&gt;" title="Прямая ссылка на&lt;перезагрузкаEveryNMinutes&gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt;перезаряжать EveryNMinutes ** ] (#reloadeverynminutes) является опциональным тегом в&lt;dataset&gt; tag in datasets.xml почти всех типов наборов данных, которые определяют, как часто набор данных должен быть перезагружен. Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;reloadEveryNMinutes&gt;60&lt;/reloadEveryNMinutes&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">
<p>Как правило, наборы данных, которые часто меняются. (Например, получить новые файлы данных) Его следует часто перезагружать, например, каждые 60 минут.</p>
</li>
<li class="">
<p>Наборы данных, которые меняются нечасто, следует перезагружать нечасто, например, каждые 1440 минут. (ежедневно) 10080 минут (еженедельно) .</p>
</li>
<li class="">
<p>Этот тег опционален, но рекомендуется. По умолчанию 10080.</p>
</li>
<li class="">
<p>Примером является:&lt;Скачать EveryNMinutes&gt;1440&lt;Перезагрузка EveryNMinutes</p>
</li>
<li class="">
<p>При перезагрузке набора данных все файлы в <em>BigParent Директория</em> /кэш/ * datasetID * Каталог удаляется.</p>
</li>
<li class="">
<p>Независимо от того, что это настроено, набор данных не будет загружаться чаще, чем&lt;Скачать игру MinMinutes (дефолт = 15) Как указано в <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> . Поэтому, если вы хотите, чтобы наборы данных перезагружались очень часто, вам нужно установить как перезагрузку EveryNMinutes, так и загрузку наборов данных. Минуты до малых значений.</p>
</li>
<li class="">
<p>Не устанавливайте перезагрузку EveryNMinutes на то же значение, что и загрузка Минуты, потому что истекшее время, вероятно, будет (Например,) 14:58 или 15:02, поэтому набор данных будет перезагружен только примерно в половине основных перезагрузок. Вместо этого используйте меньший (Например, 10) или больше (Например, 20) перезаряжать Стоимость EveryNMinutes.</p>
</li>
<li class="">
<p>Независимо от перезагрузки EveryNMinutes, вы можете вручную сказать: ERDDAP™ как можно скорее перезагрузить определенный набор данных через <a class="" href="/ru/docs/server-admin/additional-information#flag">файл флага</a> .</p>
</li>
<li class="">
<p>Любопытные программисты - в ERDDAP™ Перезагрузка всех наборов данных обрабатывается двумя одноцелевыми потоками. Один поток инициирует небольшую перезагрузку, если он находит файл флага или большую перезагрузку. (который проверяет все наборы данных, чтобы увидеть, нужно ли их перезагружать) . Другой поток выполняет фактическую перезагрузку наборов данных по одному за раз. Эти потоки работают в фоновом режиме, гарантируя, что все наборы данных обновляются. Поток, который фактически выполняет перезагрузку, готовит новую версию набора данных, а затем меняет его на место. (Замена старой версии атомарно) . Поэтому вполне возможно, что происходит следующая последовательность событий. (Это хорошо) :</p>
<ol>
<li class="">ERDDAP™ начинает перезагрузку набора данных (Создание новой версии) На заднем плане.</li>
<li class="">Пользователь «А» делает запрос к набору данных. ERDDAP™ использует текущую версию набора данных для создания ответа. (Это хорошо. Для пользователя задержки не было, и текущая версия набора данных никогда не должна быть очень устаревшей.)</li>
<li class="">ERDDAP™ заканчивает создание новой перезагруженной версии набора данных и меняет эту новую версию на производство. Все последующие новые запросы обрабатываются новой версией набора данных. Для согласованности запрос пользователя А по-прежнему заполняется оригинальной версией.</li>
<li class="">Пользователь «B» делает запрос на набор данных и ERDDAP™ использует новую версию набора данных для создания ответа.</li>
<li class="">В конечном итоге запросы пользователя A и пользователя B будут выполнены. (возможно A финиширует первым, возможно B финиширует первым) .</li>
</ol>
</li>
</ul>
</li>
</ul>
<p>Я слышу, как кто-то говорит: &quot;Просто два удара! Ха! Это отстой! Он должен настроить это так, чтобы перезагрузка наборов данных использовала столько потоков, сколько необходимо, чтобы все это делалось быстрее и с небольшим отставанием или без него». Да и нет. Проблема заключается в том, что загрузка более одного набора данных за раз создает несколько новых проблем. Все они должны быть решены или решены. Действующая система работает хорошо и имеет управляемые проблемы. (Например, вероятность задержки до того, как будет замечен флаг.) . (Если вам нужна помощь в управлении ими, см. <a class="" href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a> .) связанный <a href="#updateeverynmillis" class="">обновление EveryNMillis</a> Система работает в потоках откликов, поэтому она может и приводит к обновлению нескольких наборов данных. (Не полная перезагрузка) одновременно.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="proactive-vs-reactive">Проактивный vs. реактивный<a href="#proactive-vs-reactive" class="hash-link" aria-label="Прямая ссылка наПроактивный vs. реактивный" title="Прямая ссылка наПроактивный vs. реактивный" translate="no">​</a></h5>
<p>ERDDAP Система перезагрузки активна - наборы данных перезагружаются вскоре после их перезагрузки Время EveryNMinutes истекло (То есть, они становятся «устарелыми», но никогда не очень застойными.) Получает ли набор данных запросы от пользователей или нет. Так ERDDAP™ Наборы данных всегда актуальны и готовы к использованию. Это противоречит реактивному подходу THREDDS: запрос пользователя - это то, что говорит THREDDS проверить, не устарел ли набор данных. (может быть очень устаревшим) . Если он устарел, THREDDS заставляет пользователя ждать. (Часто в течение нескольких минут) При этом набор данных перезагружается.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="updateeverynmillis">&lt;обновление EveryNMillis&gt;<a href="#updateeverynmillis" class="hash-link" aria-label="Прямая ссылка на&lt;обновление EveryNMillis&gt;" title="Прямая ссылка на&lt;обновление EveryNMillis&gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt;Обновление EveryNMillis ** ] (#updateeverynmillis) является опциональным тегом в&lt;dataset&gt; tag in datasets.xml Некоторые типы данных, которые помогают ERDDAP™ Работа с наборами данных, которые часто меняются (Чаще всего примерно каждую секунду) . отличие ERDDAP Регулярный, активный,&lt;перезаряжать EveryNMinutes &gt; (#reloadeverynminutes) Система для полной перезагрузки каждого набора данных, эта дополнительная система является реактивной. (вызванный запросом пользователя) Быстрее, потому что это постепенно (Обновление информации, которую необходимо обновить) . Например, если запрос на EDDGrid Набор данных FromDap происходит более указанного количества миллисекунд с момента последнего обновления. ERDDAP™ Посмотрим, есть ли какие-то новые ценности для левых. (Во-первых, обычно &quot;time&quot; ) размер и, если это так, просто скачайте эти новые значения перед обработкой запроса пользователя. Эта система очень хорошо поддерживает быстро меняющийся набор данных с минимальными требованиями к источнику данных, но за счет небольшого замедления обработки некоторых запросов пользователей.<!-- -->
<ul>
<li class="">Чтобы использовать эту систему, добавьте (Например,) :<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;updateEveryNMillis&gt;1000&lt;/updateEveryNMillis&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
</li>
</ul>
<p>сразу после&lt;Скачать EveryNMinutes Тег для набора данных в datasets.xml . Количество миллисекунд, которые вы указываете, может быть всего 1. (Чтобы убедиться, что набор данных всегда актуален) . Значение 0 (по умолчанию) Отрицательное число выключает систему.</p>
<ul>
<li class="">Из-за их постепенного характера обновления должны заканчиваться очень быстро, поэтому пользователям никогда не придется долго ждать.</li>
<li class="">Если второй запрос данных поступает до завершения предыдущего обновления, второй запрос не вызовет другого обновления.</li>
<li class="">Во всей документации мы постараемся использовать слово «перезагрузка» для регулярных полных перезагрузок набора данных и «обновление» для этих новых постепенных, частичных обновлений.</li>
<li class="">Для целей тестирования некоторые диагностические средства печатаются на log.txt, если [&lt;logLevel&gt; (#loglevel) в datasets.xml Настроен на «все».</li>
<li class="">Если вы используете дополнительные обновления и особенно если самые левые (первый) Например, время, ось большая, вы можете установить&lt;Перезагрузить EveryNMinutes в большее число (1440?) Таким образом, обновления выполняют большую часть работы по обновлению набора данных, а полная перезагрузка выполняется нечасто.</li>
<li class="">Примечание: эта новая система обновления обновляет метаданные (Например, время actual\_range Время _покрытие _конец, ...) но не вызывает изменения (Электронная почта или сенсорный URL) или изменить RSS кормить (Возможно, это должно...) .</li>
<li class="">Для всех наборов данных, использующих подклассы <a href="#eddgridfromfiles" class=""> EDDGrid Из материалов</a> и <a href="#eddtablefromfiles" class="">EDDTable Из материалов</a> :<!-- -->
<ul>
<li class=""><strong>Предупреждение:</strong> когда вы добавляете новый файл данных в набор данных, копируя его в каталог, который ERDDAP™ Если посмотреть, есть опасность, что ERDDAP™ заметит частично написанный файл; попытается прочитать его, но потерпит неудачу, потому что файл неполный; объявит файл «плохим» файлом и удалит его. (временно) из набора данных.
Чтобы избежать этого, мы <strong>СИЛЬНО РЕКОМЕНДУЕТСЯ</strong> что вы копируете новый файл в каталог с временным именем (Например, 20150226 .nc Трубка) Это не соответствует файлу наборов данных Имя: Regex (\*\ .nc ) Затем переименовать файл в правильное имя (Например, 20150226 .nc ) . Если использовать такой подход, ERDDAP™ Проигнорирует временный файл и заметит только правильно названный файл, когда он будет готов к использованию.</li>
<li class="">Если вы изменяете существующие файлы данных (Например, для добавления новой точки данных) ,&lt;Предыдущая статьяEveryNMillis будет работать хорошо, если изменения появятся атомарно (В одно мгновение) Файл всегда является действительным. Например, библиотека netcdf-java позволяет вносить дополнения в неограниченный размер «классической» библиотеки. .nc Файл v3 должен быть сделан атомарно.
&lt;Обновление EveryNMillis будет работать плохо, если файл недействителен во время внесения изменений.</li>
<li class="">&lt;Обновление EveryNMillis будет хорошо работать для наборов данных, где один или несколько файлов изменяются за короткий промежуток времени.</li>
<li class="">&lt;Обновление EveryNMillis будет плохо работать для наборов данных, где большое количество файлов изменяется за короткий промежуток времени. (Если изменения не проявляются атомарно) . Для этих наборов данных лучше не использовать&lt;обновить EveryNMillis&gt; и установить <a class="" href="/ru/docs/server-admin/additional-information#set-dataset-flag">флаг</a> рассказывать ERDDAP™ Перезагрузить набор данных.</li>
<li class="">&lt;Обновление EveryNMillis не обновляет информацию, связанную с [&lt; subsetVariables &gt; (#subsetvariables) . Как правило, это не проблема, так как subsetVariables У вас есть информация о вещах, которые не меняются очень часто. (Например, список названий станций, широт и долгот) . Если subsetVariables Изменение данных (Например, когда в набор данных добавляется новая станция) Затем свяжитесь с <a class="" href="/ru/docs/server-admin/additional-information#set-dataset-flag">флаг URL</a> Чтобы набор данных сообщал ERDDAP™ Перезагрузить набор данных. В противном случае ERDDAP™ Не заметит нового подмножества Переменная информация до следующей перезагрузки набора данных (&lt;Скачать EveryNMinutes.</li>
<li class="">Наша общая рекомендация заключается в использовании:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;reloadEveryNMinutes&gt;1440&lt;/reloadEveryNMinutes&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;updateEveryNMillis&gt;10000&lt;/updateEveryNMillis&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Проблемы? На компьютерах Linux, если вы используете&lt;Обновление EveryNMillis с EDDGrid В классах FromFiles или EDDTableFromFiles вы можете увидеть проблему, когда набор данных не загружается. (время от времени или последовательно) Сообщение об ошибке: «IOException: пользовательский лимит инотификационных экземпляров достиг или слишком много открытых файлов». Причиной может быть ошибка в Java Это приводит к тому, что инотифицированные экземпляры не собирают мусор. Эту проблему можно избежать в ERDDAP™ v1.66 и выше. Поэтому лучшим решением будет переключение последней версии. ERDDAP .
Если это не решает проблему (то есть, если у вас есть действительно большое количество наборов данных, использующих этот метод).&lt;Обновить EveryNMillis&gt;, исправить эту проблему можно позвонив:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo sysctl fs.inotify.max\\_user\\_watches=65536  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo sysctl fs.inotify.max\\_user\\_instances=1024  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo sysctl -p  </span><br></span></code></pre></div></div>
</li>
</ul>
</li>
</ul>
<p>Используйте более высокие цифры, если проблема сохраняется. По умолчанию для часов 8192. По умолчанию, например, 128.</p>
<ul>
<li class="">Вы можете поставить&lt;Обновление MaxEvents&gt;10&lt;/updateMaxEvents&gt; в datasets.xml   (рядом с другими вершинами,) Чтобы изменить максимальное количество изменений файла (По умолчанию 10) Обработка будет осуществляться с помощью системы EveryNMillis. Большее число может быть полезно для набора данных, где очень важно постоянно обновлять их. Видишь? <a href="#updatemaxevents" class="">Обновление документации MaxEvents</a> .</li>
<li class="">Для любопытных программистов - эти дополнительные обновления, в отличие от ERDDAP полный <a href="#reloadeverynminutes" class="">Скачать EveryNMinutes</a> Система, происходит в потоках запросов пользователя. Таким образом, любое количество наборов данных может обновляться одновременно. Есть код (и замок) Чтобы гарантировать, что только один поток работает над обновлением для любого заданного набора данных в любой данный момент. Разрешить несколько одновременных обновлений было легко; разрешить несколько одновременных полных перезагрузок было бы сложнее.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcecanconstrainstringeqne">&lt;Источник: CanConstrainStringEQNE&gt;<a href="#sourcecanconstrainstringeqne" class="hash-link" aria-label="Прямая ссылка на&lt;Источник: CanConstrainStringEQNE&gt;" title="Прямая ссылка на&lt;Источник: CanConstrainStringEQNE&gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt;Источник: CanConstrainStringEQNE ** ] (#sourcecanconstrainstringeqne) Опциональный тег в EDDTable&lt;dataset&gt; tag in datasets.xml Это указывает, может ли источник ограничивать струнные переменные операторами = и !<!-- -->
<ul>
<li class="">Для EDDTableFromDapSequence это относится только к переменным струн внешней последовательности. Предполагается, что источник не может справиться с какими-либо ограничениями на переменные внутренней последовательности.</li>
<li class="">Этот тег является опциональным. Действительные ценности истинны (по умолчанию) и ложные.</li>
<li class="">Для EDDTable FromDapSequence OPeNDAP Серверы DRDS, это должно быть установлено (по умолчанию) .</li>
<li class="">Для EDDTable FromDapSequence Даппер серверы, это должно быть установлено ложным.</li>
<li class="">Примером является:</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceCanConstrainStringEQNE&gt;true&lt;/sourceCanConstrainStringEQNE&gt;  </span><br></span></code></pre></div></div>
<p> </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcecanconstrainstringgtlt">&lt;Источник: CanConstrainStringGTLT&gt;<a href="#sourcecanconstrainstringgtlt" class="hash-link" aria-label="Прямая ссылка на&lt;Источник: CanConstrainStringGTLT&gt;" title="Прямая ссылка на&lt;Источник: CanConstrainStringGTLT&gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt;Источник: CanConstrainStringGTLT ** ] (#sourcecanconstrainstringgtlt) Опциональный тег в EDDTable&lt;тег dataset&gt;, который определяет, может ли источник ограничивать переменные String&lt;,&lt;=, &gt; и &gt;= операторы.<!-- -->
<ul>
<li class="">Для EDDTableFromDapSequence это относится только к переменным струн внешней последовательности. Предполагается, что источник не может справиться с какими-либо ограничениями на переменные внутренней последовательности.</li>
<li class="">Действительные ценности истинны (по умолчанию) и ложные.</li>
<li class="">Этот тег является опциональным. Дефолт - это правда.</li>
<li class="">Для EDDTable FromDapSequence OPeNDAP Серверы DRDS, это должно быть установлено (по умолчанию) .</li>
<li class="">Для EDDTable FromDapSequence Даппер серверы, это должно быть установлено ложным.</li>
<li class="">Примером является:</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceCanConstrainStringGTLT&gt;true&lt;/sourceCanConstrainStringGTLT&gt;  </span><br></span></code></pre></div></div>
<p> </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcecanconstrainstringregex">&lt;Источник: CanConstrainStringRegex&gt;<a href="#sourcecanconstrainstringregex" class="hash-link" aria-label="Прямая ссылка на&lt;Источник: CanConstrainStringRegex&gt;" title="Прямая ссылка на&lt;Источник: CanConstrainStringRegex&gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt;Источник: CanConstrainStringRegex ** ] (#sourcecanconstrainstringregex) Опциональный тег в EDDTable&lt;тег dataset&gt;, который определяет, может ли источник ограничивать переменные строки регулярными выражениями, и если да, то что такое оператор.<!-- -->
<ul>
<li class="">Действительные значения «=<del>» (тот DAP стандартный) &quot;</del>=&quot; (ошибочно поддерживается многими DAP серверы) или &quot;&quot; (указывает на то, что источник не поддерживает регулярные выражения) .</li>
<li class="">Этот тег является опциональным. Дефолт - это &quot;&quot;.</li>
<li class="">Для EDDTable FromDapSequence OPeNDAP Серверы DRDS должны быть настроены на &quot;&quot; (по умолчанию) .</li>
<li class="">Для EDDTable FromDapSequence Даппер серверы, это должно быть установлено на &quot;&quot; (по умолчанию) .</li>
<li class="">Примером является:</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceCanConstrainStringRegex&gt;=~&lt;/sourceCanConstrainStringRegex&gt;  </span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcecandodistinct">&lt;Источник: CanDoDistinct&gt;<a href="#sourcecandodistinct" class="hash-link" aria-label="Прямая ссылка на&lt;Источник: CanDoDistinct&gt;" title="Прямая ссылка на&lt;Источник: CanDoDistinct&gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt;Источник: CanDoD Distinct ** ] (#sourcecandodistinct) Опциональный тег в EDDTableFromDatabase&lt;тег dataset&gt;, который определяет, должна ли исходная база данных обрабатывать и отличать () ограничения в пользовательских запросах.<!-- -->
<ul>
<li class="">Этот тег является опциональным. Действительные значения не ( ERDDAP™ Отличается от других; дефолт) частично (Источник обрабатывает различные и ERDDAP™ Справляйся с этим снова) и да (Источник обрабатывает различные) .</li>
<li class="">Если вы не используете и ERDDAP™ У вас заканчивается память при работе с различными, используйте «да».</li>
<li class="">Если вы используете «да», а исходная база данных обрабатывается слишком медленно, используйте «нет».</li>
<li class="">Частичное дает вам худшее из обоих: оно медленное, потому что обработка базы данных отличается медленным и может исчерпать память. ERDDAP .</li>
<li class="">Базы данных интерпретируют DISTINCT как запрос только на уникальные строки результатов. ERDDAP™ интерпретирует его как запрос на сортированный список уникальных строк результатов. Если вы установите это частично или да, ERDDAP™ Он также автоматически сообщает базе данных сортировать результаты.</li>
<li class="">Одна небольшая разница в результатах:
без | частичный, ERDDAP™ Сортировать &quot;&quot; в начале результатов (перед «не» строками) .
Если да, то база данных может (Postgres будет) Сортировка &quot;&quot; в конце результатов (после не-&quot;&quot; струн) .
Я предполагаю, что это также повлияет на сортировку коротких слов по сравнению с более длинными словами, которые начинаются с короткого слова. Например, ERDDAP™ Сортировать «Симон» перед «Симонами».</li>
<li class="">Примером является:</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceCanDoDistinct&gt;yes&lt;/sourceCanDoDistinct&gt;  </span><br></span></code></pre></div></div>
<p> </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcecanorderby">&lt;Источник: CanOrderBy&gt;<a href="#sourcecanorderby" class="hash-link" aria-label="Прямая ссылка на&lt;Источник: CanOrderBy&gt;" title="Прямая ссылка на&lt;Источник: CanOrderBy&gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt;источник CanOrderBy ** ] (#sourcecanorder) Опциональный тег в EDDTableFromDatabase&lt;тег dataset&gt;, который определяет, должна ли исходная база данных обрабатывать и orderBy  (...) ограничения в пользовательских запросах.<!-- -->
<ul>
<li class="">Этот тег является опциональным. Действительные значения не ( ERDDAP™ ручки orderBy  (...) ; дефолт) частично (Источник обрабатывает orderBy и ERDDAP™ Справляйся с этим снова) и да (Источник обрабатывает orderBy  (...) ) .</li>
<li class="">Если вы не используете и ERDDAP™ Исчезает память при обработке orderBy  (...) Используй &quot;да&quot;.</li>
<li class="">Если вы используете «да» и исходная база данных обрабатывает orderBy  (...) Медленно, не надо.</li>
<li class="">Частичное дает вам худшее из обоих: это медленно, потому что обработка базы данных orderBy  (...) Он медленный и может исчерпать память. ERDDAP .</li>
<li class="">Одна небольшая разница в результатах:
без | частичный, ERDDAP™ Сортировать &quot;&quot; в начале результатов (перед «не» строками) .
Если да, то база данных может (Postgres будет) Сортировка &quot;&quot; в конце результатов (после не-&quot;&quot; струн) .
Это также может повлиять на сортировку коротких слов по сравнению с более длинными словами, которые начинаются с короткого слова. Например, ERDDAP™ «Симон» будет сортироваться раньше «Симонс», но я не уверен, как база данных будет сортировать их.</li>
<li class="">Примером является:</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceCanOrderBy&gt;yes&lt;/sourceCanOrderBy&gt;  </span><br></span></code></pre></div></div>
<p> </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourceneedsexpandedfp_eq">&lt;ИсточникNeedsExpandedFP\_EQ&gt;<a href="#sourceneedsexpandedfp_eq" class="hash-link" aria-label="Прямая ссылка на&lt;ИсточникNeedsExpandedFP\_EQ&gt;" title="Прямая ссылка на&lt;ИсточникNeedsExpandedFP\_EQ&gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt;Источник: NeedsExpandedFP_EQ ** ] (#sourceneedsexpandedfp_eq) Опциональный тег в EDDTable&lt;Тег dataset&gt;, который указывает (истинный (по умолчанию) ложный) Если источник нуждается в помощи с запросами&lt;числовой Переменная&gt;=&lt;FloatPointValue&gt; (и!=,&gt;=,&lt;=). Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;sourceNeedsExpandedFP\\_EQ&gt;false&lt;/sourceNeedsExpandedFP\\_EQ&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Для некоторых источников данных числовые запросы, включающие =, !=,&lt;=, или &gt;= может не работать с числами с плавающей запятой. Например, поиск по долготе = 220,2 может выйти из строя, если значение сохраняется как 220,20000000000001.</li>
<li class="">Эта проблема возникает потому, что числа с плавающей точкой являются <a href="https://randomascii.wordpress.com/2012/02/25/comparing-floating-point-numbers-2012-edition/" target="_blank" rel="noopener noreferrer" class="">не представлены точно в компьютерах</a> .</li>
<li class="">Источник: NeedsExpandedFP_EQ устанавливается на истинное (по умолчанию) , ERDDAP™ модифицирует запросы, отправленные в источник данных, чтобы избежать этой проблемы. Всегда безопасно и хорошо оставить этот набор верным.
 </li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourceurl">&lt; sourceUrl &gt;<a href="#sourceurl" class="hash-link" aria-label="Прямая ссылка на&lt; sourceUrl &gt;" title="Прямая ссылка на&lt; sourceUrl &gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt; sourceUrl &gt; ** ] (#sourceurl) является общим тегом в глобальном наборе данных&lt; addAttributes Тег, который определяет URL, который является источником данных.<!-- -->
<ul>
<li class="">Примером является:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceUrl&gt;https://oceanwatch.pfeg.noaa.gov/thredds/dodsC/satellite/VH/chla/1day&lt;/sourceUrl&gt;  </span><br></span></code></pre></div></div>
<!-- -->(Положите все на одну линию)<!-- -->
<ul>
<li class="">в ERDDAP™ Все наборы данных будут иметь &quot; sourceUrl &quot;в объединенных глобальных атрибутах, которые показаны пользователям.</li>
<li class="">Для большинства типов наборов данных этот тег требуется. Посмотрите описание типа набора данных, чтобы узнать, требуется это или нет.</li>
<li class="">Для некоторых наборов данных отдельные&lt; sourceUrl Тег не допускается. Вместо этого вы должны предоставить &quot; sourceUrl &quot; <a href="#global-attributes" class="">Глобальный атрибут</a> Как правило, в глобальном addAttributes &lt;. Если нет фактического источника URL (Например, если данные хранятся в локальных файлах.) , этот атрибут часто просто имеет значение заполнителя, например,&lt;Att name=&quot;имя&quot;&gt; (локальные файлы) &lt;/att&gt;.</li>
<li class="">Для большинства наборов данных это основа URL-адреса, который используется для запроса данных. Например, для DAP Это URL-адрес, к которому могут быть добавлены .dods, .das, .dds или .html.</li>
<li class="">С тех пор datasets.xml XML-файл, вы также должны кодировать &#x27;&amp;&#x27;, &#x27;&#x27;&lt;&#x27;, и &#x27;&gt;&#x27; в URL как &#x27;&amp;&#x27;, &#x27;&lt;и &quot;&gt;&quot;.</li>
<li class="">Для большинства типов данных, ERDDAP™ Добавить оригинал sourceUrl   («LocalSourceUrl» в исходном коде) к <a href="#global-attributes" class="">глобальные атрибуты</a>   (где он становится «publicsourceurl» в исходном коде) . Когда источником данных являются локальные файлы, ERDDAP™ добавлять sourceUrl = (локальные файлы) &quot;к глобальным атрибутам в качестве меры предосторожности. Если источником данных является база данных, ERDDAP™ добавлять sourceUrl = (База исходных данных) &quot;к глобальным атрибутам в качестве меры предосторожности. Если некоторые из ваших наборов данных используют непубличные sourceUrl ? (Как правило, потому что их компьютер находится в вашем DMZ или в локальной локальной сети.) Вы можете использовать [&lt;конвертироватьToPublicSourceUrl&gt; (#конвертный публичный ресурс) Теги, чтобы указать, как конвертировать местный sourceUrl s для общественности sourceUrl С.</li>
<li class="">А. sourceUrl Может начаться с http:// , https:// ftp:// и, возможно, другие приставки. https Связи считывают и проверяют цифровой сертификат источника, чтобы убедиться, что источник тот, кто они говорят. В редких случаях эта проверка может не сработать с ошибкой «javax.net.ssl.SSLProtocolException: handshake alert: unreconized\_name». Вероятно, это связано с тем, что доменное имя в сертификате не соответствует доменному имени, которое вы используете. Вы можете и должны прочитать подробности sourceUrl Сертификат в вашем веб-браузере, в частности, список «Имя DNS» в разделе «Объектное альтернативное имя».</li>
</ul>
</li>
</ul>
<p>В некоторых случаях, sourceUrl Используемое вами имя может быть псевдонимом доменного имени в сертификате. Например,
<a href="https://podaac-opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/%D0%AD%D1%82%D0%BE" target="_blank" rel="noopener noreferrer" class="">https://podaac-opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/Это</a> приведет к ошибке, но
<a href="https://opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/" target="_blank" rel="noopener noreferrer" class="">https://opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/</a>, который использует доменное имя в сертификате, не будет. Поэтому решение в этих случаях заключается в поиске и использовании доменного имени в сертификате. Если вы не можете найти его в сертификате, свяжитесь с поставщиком данных.</p>
<p>В других случаях доменное имя в сертификате может быть для группы имен. Если это происходит или проблема неразрешима, пожалуйста, напишите Крису. Джон на noaa.gov, чтобы сообщить о проблеме.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="addattributes">&lt;addAttributes&gt;<a href="#addattributes" class="hash-link" aria-label="Прямая ссылка на&lt;addAttributes&gt;" title="Прямая ссылка на&lt;addAttributes&gt;" translate="no">​</a></h4>
<ul>
<li class="">[править] ** &lt; addAttributes &gt; ** ] (#addattributes) Опциональный тег для каждого набора данных и для каждой переменной, которая позволяет ERDDAP Администраторы контролируют атрибуты метаданных, связанные с набором данных и его переменными.<!-- -->
<ul>
<li class="">ERDDAP™ объединяет атрибуты из источника набора данных (&quot;Атрибуты источника&quot;) и &quot; addAttributes &quot;который вы определяете в datasets.xml   (которые имеют приоритет) чтобы создать «комбинированные атрибуты», которые ERDDAP™ Пользователи видят. Таким образом, вы можете использовать addAttributes переопределять значения атрибутов источника, добавлять новые атрибуты или удалять атрибуты.</li>
<li class="">The&lt; addAttributes &gt; тег включает 0 или более ** &lt;аттестат ** субтеги, которые используются для указания индивидуальных атрибутов.</li>
<li class="">Каждый атрибут состоит из имени и значения. (который имеет определенный тип данных, например двойной) .</li>
<li class="">Может быть только один атрибут с заданным именем. Если их больше, то последний имеет приоритет.</li>
<li class="">Значение может быть единым значением или сепарированным по пространству списком значений.</li>
<li class="">синтаксис<!-- -->
<ul>
<li class="">Порядок проведения&lt;Att&gt; подтеги внутри addAttributes Это не важно.</li>
<li class="">The&lt;Att&gt; Subtag Формат</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;*name*&quot; \\[type=&quot;*type*&quot;\\] &gt;*value*&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Имя назначения всех атрибутов должно начинаться с буквы (A-Z, a-z) и должны содержать только символы A-Z, a-z, 0-9 или &#x27;\_&#x27;.</li>
<li class="">Если&lt;Подтег att&gt; не имеет значения или значения нуля, этот атрибут будет удален из объединенных атрибутов.
Например,&lt;Att name=&quot;rows&quot;/&gt; удалит строки из объединенных атрибутов.
Например,&lt;Att name=&quot;coordinates&quot;&gt;null&lt;/att&gt; удаляет координаты из объединенных атрибутов.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="attributetype">атрибут Тип<a href="#attributetype" class="hash-link" aria-label="Прямая ссылка наатрибут Тип" title="Прямая ссылка наатрибут Тип" translate="no">​</a></h5>
<ul>
<li class="">[Вариантное значение типа для&lt;Att&gt; подтеги (#атрибутив) указывает тип данных для значений. Типом по умолчанию является String. Примером атрибута струны является:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;creator\\_name&quot;&gt;NASA/GSFC OBPG&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Действительные типы для однозначных значений являются байтами (8-битное целое число) короткий (16-битное подписанное целое число) , int (32-битное подписанное целое число) Долго (64-битное подписанное целое число) Поплавать (32-битная плавающая точка) Двойной (64-битная плавающая точка) Шар и Стринг. Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;scale\\_factor&quot; type=&quot;float&quot;&gt;0.1&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
</ul>
<p>Посмотреть эти заметки о <a href="#char" class="">Тип данных Char</a> .
Посмотреть эти заметки о <a href="#long" class="">Длинный тип данных</a> .</p>
<ul>
<li class="">Действительные типы для разделённых по пространству списков значений (или единичные значения) являются byteList, shortList, unsignedShortList, charList, intList, longList, floatList, double Список. Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;actual\\_range&quot; type=&quot;doubleList&quot;&gt;10.34 23.91&lt;/att&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>UnsignedShortList позволяет указать список неподписанных шортов, но они будут преобразованы в список соответствующих символов Unicode (например, «65 67 69» будет преобразован в «A C E»).
Если вы указываете charList, кодируйте любые специальные символы (например, пространство, двойные цитаты, обратная косая черта).&lt;#32, или &gt;#127), как вы бы кодировать их в разделе данных файла NCCSV (например, &quot;, &quot;\&quot; или &quot;&quot;&quot;, &quot;\&quot;, &quot; \n &quot;, &quot;\u20ac&quot;) .
Нет никакого струнного списка. Храните значения струн как многострочные струны. Например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;history&quot;&gt;2011-08-05T08:55:02Z ATAM - made CF-1.6 compliant.  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2012-04-08T08:34:58Z ATAM - Changed &#x27;height&#x27; from double to float.&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p> </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="global-attributes">Глобальные атрибуты<a href="#global-attributes" class="hash-link" aria-label="Прямая ссылка наГлобальные атрибуты" title="Прямая ссылка наГлобальные атрибуты" translate="no">​</a></h4>
<ul>
<li class="">
<p>[править] ** Глобальные атрибуты / Global&lt; addAttributes &gt; ** ] (#глобальные атрибуты) -
&lt; addAttributes &gt; является опциональным тегом в&lt;тег dataset&gt;, который используется для изменения атрибутов, применимых ко всему набору данных.</p>
<ul>
<li class="">** Используйте глобальную&lt; addAttributes Для изменения глобальных атрибутов набора данных. **  ERDDAP™ объединяет глобальные атрибуты из источника набора данных (** Источник Атрибуты <strong>) и глобальной</strong>  addAttributes  <strong>которую вы определяете в datasets.xml   (которые имеют приоритет) Чтобы сделать глобальную</strong> Комбинированные атрибуты ** Что это такое ERDDAP™ Пользователи видят. Таким образом, вы можете использовать addAttributes переопределять значения атрибутов источника, добавлять новые атрибуты или удалять атрибуты.</li>
<li class="">Смотри. ** &lt; addAttributes &gt; <strong>информация] (#addattributes) Что относится к глобальным и переменным</strong> &lt; addAttributes &gt; ** .</li>
<li class=""><a href="https://www.fgdc.gov/standards/projects/FGDC-standards-projects/metadata/base-metadata/index_html" target="_blank" rel="noopener noreferrer" class="">ФГДК</a> и <a href="https://en.wikipedia.org/wiki/Geospatial_metadata" target="_blank" rel="noopener noreferrer" class="">ISO 19115-2/19139</a> Метаданные - Обычно, ERDDAP™ автоматически генерировать ISO 19115-2/19139 и FGDC; (FGDC-STD-001-1998) XML-файлы метаданных для каждого набора данных с использованием информации из метаданных набора данных. Итак, <strong>Хорошие метаданные набора данных приводят к хорошим ERDDAP - сгенерированные метаданные ISO 19115 и FGDC. Пожалуйста, подумайте о том, чтобы потратить много времени и усилий на улучшение метаданных ваших наборов данных. (Что хорошо делать в любом случае) .</strong> Большинство атрибутов метаданных набора данных, которые используются для генерации метаданных ISO 19115 и FGDC, являются <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">Стандарт метаданных ACDD</a> Об этом говорится ниже.</li>
<li class="">Многие глобальные атрибуты являются особенными в том, что ERDDAP™ Ищите их и используйте по-разному. Например, ссылка на infoUrl Он включен на веб-страницах со списками наборов данных и в других местах, чтобы пользователи могли узнать больше о наборе данных.</li>
<li class="">Когда пользователь выбирает подмножество данных, глобальные атрибуты связаны с долготой, широтой, высотой переменной. (или глубина) и временные диапазоны (Например, Southernmost\_Northing, Northernmost\_Northing, time\_coverage\_start, time\_coverage\_end) Они автоматически генерируются или обновляются.</li>
<li class="">Простая выборка глобальных&lt; addAttributes &gt; это:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;addAttributes&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;att name=&quot;Conventions&quot;&gt;COARDS, CF-1.6, ACDD-1.3&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;att name=&quot;infoUrl&quot;&gt;https://coastwatch.pfeg.noaa.gov/infog/PH\\_ssta\\_las.html&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;att name=&quot;institution&quot;&gt;NOAA CoastWatch, West Coast Node&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;att name=&quot;title&quot;&gt;SST, Pathfinder Ver 5.0, Day and Night, Global&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;att name=&quot;cwhdf\\_version&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/addAttributes&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
</li>
</ul>
<p>Пустой атрибут cwhdf\_version вызывает атрибут source cwhdf\_version (если есть) быть удалены из окончательного сводного списка атрибутов.</p>
<ul>
<li class="">Предоставление этой информации помогает ERDDAP™ Сделайте свою работу лучше и помогите пользователям понять наборы данных.
Хорошие метаданные делают набор данных пригодным для использования.
Недостаток метаданных делает набор данных бесполезным.
Пожалуйста, найдите время, чтобы сделать хорошую работу с атрибутами метаданных.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="особые-глобальные-атрибуты-в-erddap">Особые глобальные атрибуты в ERDDAP™<a href="#особые-глобальные-атрибуты-в-erddap" class="hash-link" aria-label="Прямая ссылка наОсобые глобальные атрибуты в ERDDAP™" title="Прямая ссылка наОсобые глобальные атрибуты в ERDDAP™" translate="no">​</a></h5>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="acknowledgement">признание<a href="#acknowledgement" class="hash-link" aria-label="Прямая ссылка напризнание" title="Прямая ссылка напризнание" translate="no">​</a></h6>
<ul>
<li class=""><a href="#acknowledgement" class=""> <strong>признание</strong> </a> и <strong>признание</strong>   (из которого <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарт метаданных) Рекомендуемый способ признания группы или групп, оказавших поддержку (В частности, финансовые) Для проекта, который создал эти данные. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;acknowledgment&quot;&gt;AVISO&lt;/att&gt;</span><br></span></code></pre></div></div>
<p>Обратите внимание, что ACDD 1.0 и 1.1 используют написание «признание». (Это обычное написание в США.) , но ACDD 1.3 изменил это на &quot;признание&quot; (Это обычное написание в Великобритании.) . Я понимаю, что изменение было по сути случайностью и что они, конечно, не осознавали последствий изменения. Какой беспорядок! Сейчас в мире существуют миллионы файлов данных, которые имеют «признание», и миллионы, которые имеют «признание». Это подчеркивает глупость «простых» изменений в стандарте и подчеркивает необходимость стабильности в стандартах. Из-за ACDD 1.3 (Это версия ACDD, которая ERDDAP™ поддержка) Он говорит «признание», вот что ERDDAP™   (В частности, генерировать наборы данных Xml) Поощряет.
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="cdm_altitude_proxy">cdm\_alitude\_proxy<a href="#cdm_altitude_proxy" class="hash-link" aria-label="Прямая ссылка наcdm\_alitude\_proxy" title="Прямая ссылка наcdm\_alitude\_proxy" translate="no">​</a></h6>
<ul>
<li class=""><a href="#cdm_altitude_proxy" class=""> <strong>cdm\_alitude\_proxy</strong> </a> Это только для наборов данных EDDTable, которые не имеют переменной высоты или глубины, но имеют переменную, которая является прокси для высоты или глубины. (Например, давление, сигма, бутылочное число) Вы можете использовать этот атрибут для идентификации этой переменной. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_altitude\\_proxy&quot;&gt;pressure&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Если <a href="#cdm_data_type" class="">cdm\_data\_type</a> Профиль или TrajectoryProfile и нет переменной высоты или глубины, cdm\_altitude\_proxy Должен быть определен. Если определяется cdm\_altitude\_proxy, ERDDAP™ Добавить в переменную следующие метаданные: \_Coordinate AxisType = высота и axis = Z.
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="cdm_data_type">cdm\_data\_type<a href="#cdm_data_type" class="hash-link" aria-label="Прямая ссылка наcdm\_data\_type" title="Прямая ссылка наcdm\_data\_type" translate="no">​</a></h6>
<ul>
<li class=""><a href="#cdm_data_type" class=""> <strong>cdm\_data\_type</strong> </a>   (из которого <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарт метаданных) является глобальным атрибутом, указывающим на Unidata   <a href="https://www.unidata.ucar.edu/software/netcdf-java/v4.6/CDM/index.html" target="_blank" rel="noopener noreferrer" class="">Общая модель данных</a> Тип данных для набора данных. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_data\\_type&quot;&gt;Point&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>МЧР все еще развивается и может снова измениться. ERDDAP™ Соответствует соответствующим и более подробным <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">Дискретная геометрия выборки (DSG) </a> Глава из этого <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF 1.6</a> конвенции о метаданных (Ранее он назывался CF Point Observation Conventions.) .</p>
<ul>
<li class="">Или глобальный набор данных <a href="#global-attributes" class="">Источник Атрибуты</a> или глобальной&lt; addAttributes &gt; Необходимо включить атрибут cdm\_data\_type. Несколько типов наборов данных (как EDDTable Из Оби) Он установит это автоматически.</li>
<li class="">Для EDDGrid Наборы данных, параметры cdm\_data\_type - Grid (По умолчанию и, безусловно, наиболее распространенный тип для EDDGrid наборы данных) , MovingGrid, Other, Point, Profile, RadialSweep, TimeSeries, TimeSeriesProfile, Swath, Trajectory и TrajectoryProfile. В настоящее время EDDGrid не требует указания каких-либо связанных метаданных и не проверяет соответствие данных типу cdm\<em>data\</em>. Это, вероятно, изменится в ближайшем будущем.</li>
<li class="">EDDTable использует cdm\_data\_type строго, следуя спецификации DSG CF, а не CDM, которая по какой-то причине не была обновлена, чтобы соответствовать DSG. Если метаданные набора данных не соответствуют ERDDAP Требования cdm\_data\_type (см. ниже) , набор данных не будет загружаться и будет генерировать <a href="#troubleshooting-tips" class="">сообщение об ошибке</a> . (Это хорошо, в том смысле, что сообщение об ошибке скажет вам, что не так, чтобы вы могли это исправить.) И если данные набора данных не соответствуют установке метаданных набора данных (Например, если для данной станции имеется более одного значения широты в наборе данных временных рядов) Некоторые запросы на данные будут возвращать неверные данные в ответ. Поэтому убедитесь, что вы все правильно поняли.</li>
</ul>
<p>Для всех этих наборов данных в Конвенциях и Metadata\_Conventions Глобальные атрибуты, пожалуйста, обратитесь к CF-1.6 (не CF-1.0, 1.1, 1.2, 1.3, 1.4 или 1.5) CF-1.6 является первой версией, которая включает изменения, связанные с дискретной геометрией выборки. (DSG) конвенции.</p>
<ul>
<li class="">** ERDDAP™ имеет непростую связь с CF DSG**</li>
<li class="">ERDDAP™ может сделать действительный набор данных DSG из исходного набора данных, который уже является действительным файлом DSG. (s) , или из исходного набора данных, который не настроен для DSG, но может быть сделан так через изменения в метаданных (Некоторые из которых являются ERDDAP - специфичный для обеспечения более общего подхода к определению установки DSG) .</li>
<li class="">ERDDAP™ делает много тестов валидности, когда загружает набор данных. Если набор данных имеет cdm\_data\_type (или featureType ) Атрибут успешно загружается в ERDDAP™ Тогда ERDDAP™ Это означает, что набор данных соответствует требованиям DSG. (В противном случае ERDDAP™ Исключение, объясняющее первую проблему, которую он нашел) .
ПРЕДУПРЕЖДЕНИЕ: Успешно загруженный набор данных отвечает требованиям DSG (имеет правильное сочетание атрибутов) но все еще может быть неправильно настроен, что приводит к неправильным результатам в .nc CF и .nc Файлы ответов CFMA. (Программное обеспечение является умным в некоторых отношениях и невежественным в других.)</li>
<li class="">Когда вы смотрите на метаданные набора данных в ERDDAP™ DSG Dataset находится в ERDDAP Внутренний формат (Гигантская таблица, похожая на базу данных) . Это не в одном из форматов DSG. (Например, размеры и метаданные неверны.) Но информация, необходимая для обработки набора данных как набора данных DSG, находится в метаданных. (Например, cdm\_data\_type=TimeSeries и cdm\_timeseries\_variables= <em>aCsvListOfStationСвязанные переменные</em> в глобальных метаданных и cf\_role=timeseries\_id для некоторой переменной) .</li>
<li class="">Если пользователь запрашивает поднабор данных в .nc CF (ан .nc Файл в формате DSG Contiguous Ragged Array) или .nc Файл CFMA (а .nc Файл в формате многомерного массива DSG) Этот файл будет действительным CF DSG.
ПРЕДУПРЕЖДЕНИЕ: Однако, если набор данных был установлен неправильно (Чтобы обещания, данные метаданных, не соответствовали действительности.) Затем файл ответа будет технически действителен, но каким-то образом будет некорректным.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtable-cdm_data_types">EDDTable cdm_data_types<a href="#eddtable-cdm_data_types" class="hash-link" aria-label="Прямая ссылка наEDDTable cdm_data_types" title="Прямая ссылка наEDDTable cdm_data_types" translate="no">​</a></h6>
<ul>
<li class="">Для наборов данных EDDTable опции cdm\_data\_type (и соответствующих требований в ERDDAP ) есть</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="point">Точка<a href="#point" class="hash-link" aria-label="Прямая ссылка наТочка" title="Прямая ссылка наТочка" translate="no">​</a></h6>
<ul>
<li class=""><a href="#point" class="">Точка</a> - для набора измерений, сделанных в несвязанные времена и места.</li>
<li class="">Как и во всех других типах cdm\<em>data\</em>, наборы данных Точки должны иметь переменные долготы, широты и времени.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="profile">профиль<a href="#profile" class="hash-link" aria-label="Прямая ссылка напрофиль" title="Прямая ссылка напрофиль" translate="no">​</a></h6>
<ul>
<li class="">
<p><a href="#profile" class="">профиль</a> - это совокупность измерений, проведенных в одно время, в одном месте широтной долготы, но на более чем одной глубине. (высота или) . Набор данных может представлять собой набор этих профилей, например, 7 профилей из разных мест. Этот тип cdm\_data\_type не подразумевает никакой логической связи между любым из профилей.</p>
</li>
<li class="">
<p>Одна из переменных (Например, профиль \_number) Необходимо иметь атрибут переменной cf\_role=profile\_id для идентификации переменной, которая однозначно идентифицирует профили.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cf\\_role&quot;&gt;profile\\_id&lt;/att&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Если нет другой подходящей переменной, рассмотрите возможность использования временной переменной.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="cdm_profile_variables">cdm\_profile\_variables<a href="#cdm_profile_variables" class="hash-link" aria-label="Прямая ссылка наcdm\_profile\_variables" title="Прямая ссылка наcdm\_profile\_variables" translate="no">​</a></h6>
<ul>
<li class="">Набор данных должен включать глобальный атрибут <a href="#cdm_profile_variables" class="">cdm\_profile\_variables</a> где значение представляет собой разделенный запятой список переменных, которые имеют информацию о каждом профиле. Для данного профиля значения этих переменных должны быть постоянными. Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_profile\\_variables&quot;&gt;profile\\_number,time,latitude,longitude&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Список должен включать переменную cf\_role=profile\_id и все другие переменные с информацией о профиле, времени, широте и долготе.
Список никогда не будет включать высоту, глубину или любые переменные наблюдения.
 </p>
<p>\[ Мнение: cdm\_data\_type=Профиль следует использовать редко. На практике, данный набор данных, как правило, является либо TimeSeriesProfile. (Профили в фиксированном положении) или траектория (Профили вдоль траектории) И поэтому должны быть правильно определены как таковые. \]</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="timeseries">Сериалы времени<a href="#timeseries" class="hash-link" aria-label="Прямая ссылка наСериалы времени" title="Прямая ссылка наСериалы времени" translate="no">​</a></h6>
<ul>
<li class=""><a href="#timeseries" class="">Сериалы времени</a> - это последовательность измерений (Например, температура морской воды) взятый на одной, фиксированной, широте, долготе, глубине (высота или) местоположение. (Думайте об этом как о «станции».) Набор данных может представлять собой совокупность этих временных рядов, например последовательность из каждого из 3 различных мест.</li>
<li class="">Одна из переменных (Например, Station_id) Необходимо иметь атрибут переменной cf\_role=timeseries\_id для идентификации переменной, которая однозначно идентифицирует станции.<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cf\\_role&quot;&gt;timeseries\\_id&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="cdm_timeseries_variables">cdm\_timeseries\_variables<a href="#cdm_timeseries_variables" class="hash-link" aria-label="Прямая ссылка наcdm\_timeseries\_variables" title="Прямая ссылка наcdm\_timeseries\_variables" translate="no">​</a></h6>
<ul>
<li class="">Набор данных должен включать глобальный атрибут <a href="#cdm_timeseries_variables" class="">cdm\_timeseries\_variables</a> где значение представляет собой разделенный запятой список переменных, которые имеют информацию о каждой станции. Для данной станции значения этих переменных должны быть постоянными. Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_timeseries\\_variables&quot;&gt;station\\_id,station\\_type,latitude,longitude&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Список должен включать переменную cf\_role=timeseries\_id и все другие переменные с информацией о станции, которая почти всегда включает широту и долготу. (и высоту или глубину, если таковые имеются) .
Список никогда не будет включать в себя время или какие-либо переменные наблюдения.</p>
<ul>
<li class="">Для некоторых пришвартованных буев набор данных может иметь два набора переменных широты и долготы:<!-- -->
<ol>
<li class="">Одна пара значений широты и долготы, которые являются постоянными (т.е. фиксированное местоположение причала) . в ERDDAP™ Дайте этим переменным destinationName s широты и долготы, и включить эти переменные в список cdm\_timeseries\_variables.</li>
<li class="">Точные значения широты и долготы, связанные с каждым наблюдением. в ERDDAP™ Дайте этим переменным разные destinationName s (Например, точный лат и точный Лон) Не включайте эти переменные в список cdm\_timeseries\_variables.
Основанием для этого является: с теоретической точки зрения, для набора данных DSG TimeSeries, широты и долготы. (и высоту или глубину, если таковые имеются) Месторасположение станции должно быть постоянным.</li>
</ol>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="timeseriesprofile">TimeSeriesПрофиль<a href="#timeseriesprofile" class="hash-link" aria-label="Прямая ссылка наTimeSeriesПрофиль" title="Прямая ссылка наTimeSeriesПрофиль" translate="no">​</a></h6>
<ul>
<li class=""><a href="#timeseriesprofile" class="">TimeSeriesПрофиль</a> - для последовательности профилей, взятых в одном фиксированном месте широты долготы. Каждый профиль представляет собой набор измерений, выполняемых на нескольких высотах или глубинах. Набор данных может представлять собой набор этих Профилей TimeSeries, например, последовательность профилей, взятых в каждом из 12 различных мест.</li>
<li class="">Одна из переменных (Например, Station_id) Необходимо иметь атрибут переменной cf\_role=timeseries\_id для идентификации переменной, которая однозначно идентифицирует станции.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;cf\\_role&quot;&gt;timeseries\\_id&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Одна из переменных (Например, профиль \_number) Необходимо иметь атрибут переменной cf\_role=profile\_id для идентификации переменной, которая однозначно идентифицирует профили.<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cf\\_role&quot;&gt;profile\\_id&lt;/att&gt;  </span><br></span></code></pre></div></div>
<!-- -->(Заданный профиль _id должен быть уникальным только для заданных временных рядов _id.) Если нет другой подходящей переменной, рассмотрите возможность использования временной переменной.</li>
<li class="">Набор данных должен включать в себя глобальные переменные атрибута cdm\_timeseries\_variables, где значение представляет собой разделенный запятой список переменных, которые имеют информацию о каждой станции. Для данной станции значения этих переменных должны быть постоянными. Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_timeseries\\_variables&quot;&gt;station\\_id,station\\_type,latitude,longitude&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Список должен включать переменную cf\_role=timeseries\_id и все другие переменные с информацией о станции, которая почти всегда включает широту и долготу.
Список никогда не будет включать в себя время, высоту, глубину или любые переменные наблюдения.</p>
<ul>
<li class="">Набор данных должен включать в себя глобальные переменные атрибута cdm\<em>profile\</em>, где значение представляет собой разделенный запятой список переменных, которые имеют информацию о каждом профиле. Для данного профиля значения этих переменных должны быть постоянными. Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_profile\\_variables&quot;&gt;profile\\_number,time&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Список должен включать переменную cf\_role=profile\_id и все другие переменные с информацией о профиле, которая почти всегда включает время.
Список никогда не будет включать широту, долготу, высоту, глубину или любые переменные наблюдения.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="trajectory">Траектория<a href="#trajectory" class="hash-link" aria-label="Прямая ссылка наТраектория" title="Прямая ссылка наТраектория" translate="no">​</a></h6>
<ul>
<li class=""><a href="#trajectory" class="">Траектория</a> - это последовательность измерений, сделанных по траектории (Путь через пространство и время)   (Например, температура моря/воды/температуры, принимаемой судном при движении по воде.) . Набор данных может представлять собой совокупность этих Траекторий, например последовательность из каждого из 4 различных кораблей.</li>
<li class="">Одна из переменных (Например, ship_id) Необходимо иметь атрибут cf\_role=trajectory\_id для идентификации переменной, которая однозначно идентифицирует траектории.<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cf\\_role&quot;&gt;trajectory\\_id&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="cdm_trajectory_variables">cdm\_trajectory\_variables<a href="#cdm_trajectory_variables" class="hash-link" aria-label="Прямая ссылка наcdm\_trajectory\_variables" title="Прямая ссылка наcdm\_trajectory\_variables" translate="no">​</a></h6>
<ul>
<li class="">Набор данных должен включать глобальный атрибут <a href="#cdm_trajectory_variables" class="">cdm\_trajectory\_variables</a> где значение представляет собой разделенный запятой список переменных, которые имеют информацию о каждой траектории. Для данной траектории значения этих переменных должны быть постоянными. Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_trajectory\\_variables&quot;&gt;ship\\_id,ship\\_type,ship\\_owner&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Список должен включать переменную cf\_role=trajectory\_id и все другие переменные с информацией о траектории.
Список никогда не будет включать время, широту, долготу или любые переменные наблюдения.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="trajectoryprofile">TrajectoryProfile<a href="#trajectoryprofile" class="hash-link" aria-label="Прямая ссылка наTrajectoryProfile" title="Прямая ссылка наTrajectoryProfile" translate="no">​</a></h6>
<ul>
<li class=""><a href="#trajectoryprofile" class="">TrajectoryProfile</a> - это последовательность профилей, взятых по траектории. Набор данных может представлять собой набор этих TrajectoryProfiles, например, последовательность профилей, взятых 14 различными судами.</li>
<li class="">Одна из переменных (Например, ship_id) Необходимо иметь переменный атрибут cf\_role=trajectory\_id для идентификации переменной, которая однозначно идентифицирует траектории.<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cf\\_role&quot;&gt;trajectory\\_id&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
<li class="">Одна из переменных (Например, профиль \_number) Необходимо иметь атрибут переменной cf\_role=profile\_id для идентификации переменной, которая однозначно идентифицирует профили.<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cf\\_role&quot;&gt;profile\\_id&lt;/att&gt;  </span><br></span></code></pre></div></div>
<!-- -->(Данный профиль должен быть уникальным только для данной траектории.) Если нет другой подходящей переменной, рассмотрите возможность использования временной переменной.</li>
<li class="">Набор данных должен включать в себя глобальные переменные атрибута cdm\<em>trajectory\</em>, где значение представляет собой разделенный запятой список переменных, которые имеют информацию о каждой траектории. Для данной траектории значения этих переменных должны быть постоянными. Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_trajectory\\_variables&quot;&gt;ship\\_id,ship\\_type,ship\\_owner&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Список должен включать переменную cf\_role=trajectory\_id и все другие переменные с информацией о траектории.
Список никогда не будет включать связанные с профилем переменные, время, широту, долготу или любые переменные наблюдения.</p>
<ul>
<li class="">Набор данных должен включать в себя глобальные переменные атрибута cdm\<em>profile\</em>, где значение представляет собой разделенный запятой список переменных, которые имеют информацию о каждом профиле. Для данного профиля значения этих переменных должны быть постоянными. Например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_profile\\_variables&quot;&gt;profile\\_number,time,latitude,longitude&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Список должен включать переменную cf\_role=profile\_id и все другие переменные с информацией о профиле, которая почти всегда включает время, широту и долготу.
Список никогда не будет включать высоту, глубину или любые переменные наблюдения.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="other">другой<a href="#other" class="hash-link" aria-label="Прямая ссылка надругой" title="Прямая ссылка надругой" translate="no">​</a></h6>
<ul>
<li class=""><a href="#other" class="">другой</a> - нет никаких требований. Используйте его, если набор данных не соответствует одному из других вариантов, особенно если набор данных не включает переменные широты, долготы и времени.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="related-notes">Связанные заметки<a href="#related-notes" class="hash-link" aria-label="Прямая ссылка наСвязанные заметки" title="Прямая ссылка наСвязанные заметки" translate="no">​</a></h6>
<ul>
<li class="">Все наборы данных EDDTable с типом cdm\_data\_type, отличным от «Другого», должны иметь переменные долготы, широты и времени.</li>
<li class="">Наборы данных с профилями должны иметь переменную высоты, переменную глубины или <a href="#cdm_altitude_proxy" class="">cdm\_alitude\_proxy</a> переменная.</li>
<li class="">Если вы не можете заставить набор данных соответствовать всем требованиям для идеального типа cdm\<em>data\</em>, используйте «Точка». (который имеет мало требований) или «другой» (который не имеет требований) Вместо этого.</li>
<li class="">Эта информация используется ERDDAP™ различными способами, например, но в основном для .nc Файлы CF ( .nc Файлы, которые соответствуют представлениям Contiguous Ragged Array, связанным с cdm\_data\_type набора данных) и .nc Файлы CFMA ( .nc файлы, которые соответствуют многомерным представлениям массива, связанным с cdm\_data\_type набора данных) как определено в <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">Дискретная геометрия выборки (DSG) </a> Глава из этого <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> Конвенции по метаданным, которые ранее назывались «Конвенции по наблюдению за точками CF».</li>
<li class="">Подсказка: Для этих наборов данных правильная настройка для <a href="#subsetvariables" class=""> subsetVariables </a> Обычно это комбинация всех переменных, перечисленных в атрибутах cdm\_...\_variables. Например, для TimeSeriesProfile используйте cdm\_timeseries\_variables плюс cdm\_profile\_variables.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="contributor_name">contributor\_name<a href="#contributor_name" class="hash-link" aria-label="Прямая ссылка наcontributor\_name" title="Прямая ссылка наcontributor\_name" translate="no">​</a></h6>
<ul>
<li class=""><a href="#contributor_name" class=""> ** contributor\_name ** </a>   (из которого <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарт метаданных) Рекомендуемый способ идентификации человека, организации или проекта, которые внесли свой вклад в этот набор данных. (Например, первоначальный создатель данных, прежде чем он был переработан создателем этого набора данных.) . Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;contributor\\_name&quot;&gt;NOAA OceanWatch - Central Pacific&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Если «вкладчик» на самом деле не относится к набору данных, опустите этот атрибут. По сравнению с <a href="#creator_name" class=""> creator\_name </a> Иногда это больше связано с источником финансирования.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="contributor_role">contributor\_role<a href="#contributor_role" class="hash-link" aria-label="Прямая ссылка наcontributor\_role" title="Прямая ссылка наcontributor\_role" translate="no">​</a></h6>
<ul>
<li class=""><a href="#contributor_role" class=""> ** contributor\_role ** </a>   (из которого <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарт метаданных) Это рекомендуемый способ определения роли <a href="#creator_name" class=""> contributor\_name </a> . Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;contributor\\_role&quot;&gt;Source of Level 2b data&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Если «вкладчик» на самом деле не относится к набору данных, опустите этот атрибут.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="conventions">Конвенции<a href="#conventions" class="hash-link" aria-label="Прямая ссылка наКонвенции" title="Прямая ссылка наКонвенции" translate="no">​</a></h6>
<ul>
<li class=""><a href="#conventions" class=""> <strong>Конвенции</strong> </a>   (из которого <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> стандарт метаданных) Он настоятельно рекомендуется. (Это может потребоваться в будущем.) Значение представляет собой разделенный запятой список стандартов метаданных, которым следует этот набор данных. Например:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;Conventions&quot;&gt;COARDS, CF-1.6, ACDD-1.3&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Общие конвенции о метаданных, используемые в ERDDAP™ это:</p>
<ul>
<li class=""><a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class=""> COARDS Конвенции</a> Является предшественником CF.</li>
<li class=""><a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">Климат и прогноз (CF) Конвенции</a> является источником многих рекомендуемых и требуемых атрибутов ERDDAP . Текущая версия CF обозначена как «CF-1.6».</li>
<li class="">The NetCDF Конвенция об атрибутах для обнаружения набора данных (ACDD) является источником многих рекомендуемых и требуемых атрибутов ERDDAP . Оригинальная версия ACDD 1.0 (Блестящая работа Итана Дэвиса) был идентифицирован как <a href="https://wiki.esipfed.org/ArchivalCopyOfVersion1" target="_blank" rel="noopener noreferrer" class=""> Unidata Набор данных Discovery v1.0</a> Нынешний (Начиная с 2015 года) 1.3 версия ACDD определяется как <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD-1.3</a> . Если ваши данные использовались Unidata Dataset Discovery v1.0 Мы рекомендуем вам <a href="#switch-to-acdd-13" class="">Переключайте наборы данных на использование ACDD-1.3</a> .</li>
</ul>
<p>Если ваш набор данных соответствует некоторому дополнительному стандарту метаданных, пожалуйста, добавьте имя в список CSV в атрибуте Конвенции.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="coverage_content_type">coverage\_content\_type<a href="#coverage_content_type" class="hash-link" aria-label="Прямая ссылка наcoverage\_content\_type" title="Прямая ссылка наcoverage\_content\_type" translate="no">​</a></h6>
<ul>
<li class=""><a href="#coverage_content_type" class=""> ** coverage\_content\_type ** </a>   (из которого <a href="https://en.wikipedia.org/wiki/Geospatial_metadata" target="_blank" rel="noopener noreferrer" class="">ISO 19115</a> стандарт метаданных) Рекомендуемый способ определения типа сетчатых данных (в EDDGrid наборы данных) . Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;coverage\\_content\\_type&quot;&gt;modelResult&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Единственными допустимыми значениями являются вспомогательная информация, изображение, модельРезультат, физическое Измерение (По умолчанию, когда генерируются метаданные ISO 19115) , информация о качестве, справочная информация и тематическая классификация. (Не используйте этот тег для наборов данных EDDTable.)</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="creator_name">creator\_name<a href="#creator_name" class="hash-link" aria-label="Прямая ссылка наcreator\_name" title="Прямая ссылка наcreator\_name" translate="no">​</a></h6>
<ul>
<li class=""><a href="#creator_name" class=""> ** creator\_name ** </a>   (из которого <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарт метаданных) Рекомендуемый способ идентификации человека, организации или проекта (Если не конкретный человек или организация) Наиболее ответственные за создание (или самая последняя переработка) этих данных. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;creator\\_name&quot;&gt;NOAA NMFS SWFSC ERD&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Если данные были тщательно обработаны (Например, спутниковые данные от уровня 2 до уровня 3 или 4.) , то обычно репроцессор указан как создатель и оригинальный создатель указан через <a href="#contributor_name" class=""> contributor\_name </a> . По сравнению с <a href="#project" class="">проект</a> Это более гибко, поскольку может идентифицировать человека, организацию или проект.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="creator_email">creator\_email<a href="#creator_email" class="hash-link" aria-label="Прямая ссылка наcreator\_email" title="Прямая ссылка наcreator\_email" translate="no">​</a></h6>
<ul>
<li class=""><a href="#creator_email" class=""> ** creator\_email ** </a>   (из которого <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарт метаданных) Это рекомендуемый способ идентифицировать адрес электронной почты (правильно отформатированный) Это дает возможность связаться с создателем. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;creator\\_email&quot;&gt;erd.data@noaa.gov&lt;/att&gt;  </span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="creator_url">creator\_url<a href="#creator_url" class="hash-link" aria-label="Прямая ссылка наcreator\_url" title="Прямая ссылка наcreator\_url" translate="no">​</a></h6>
<ul>
<li class=""><a href="#creator_url" class=""> ** creator\_url ** </a>   (из которого <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарт метаданных) РЕКОМЕНДУемый способ идентификации URL для организации, создавшей набор данных, или URL с информацией создателя об этом наборе данных. (Но это, скорее, цель <a href="#infourl" class=""> infoUrl </a> ) . Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;creator\\_url&quot;&gt;https://www.pfeg.noaa.gov&lt;/att&gt;  </span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="date_created">date\_created<a href="#date_created" class="hash-link" aria-label="Прямая ссылка наdate\_created" title="Прямая ссылка наdate\_created" translate="no">​</a></h6>
<ul>
<li class=""><a href="#date_created" class=""> ** date\_created ** </a>   (из которого <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарт метаданных) РЕКОМЕНДУемый способ определения даты, с которой данные были впервые созданы (Например, в такой форме) в формате ISO 8601. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;date\\_created&quot;&gt;2010-01-30&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Если данные периодически добавляются в набор данных, это первая дата, когда были предоставлены исходные данные.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="date_modified">date\_modified<a href="#date_modified" class="hash-link" aria-label="Прямая ссылка наdate\_modified" title="Прямая ссылка наdate\_modified" translate="no">​</a></h6>
<ul>
<li class=""><a href="#date_modified" class=""> ** date\_modified ** </a>   (из которого <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарт метаданных) РЕКОМЕНДУемый способ определения даты последнего изменения данных (Например, когда была исправлена ошибка или добавлены последние данные.) в формате ISO 8601. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;date\\_modified&quot;&gt;2012-03-15&lt;/att&gt;  </span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="date_issued">date\_issued<a href="#date_issued" class="hash-link" aria-label="Прямая ссылка наdate\_issued" title="Прямая ссылка наdate\_issued" translate="no">​</a></h6>
<ul>
<li class=""><a href="#date_issued" class=""> ** date\_issued ** </a>   (из которого <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарт метаданных) РЕКОМЕНДУЕМ способ определения даты, когда данные были впервые предоставлены другим, в формате ISO 8601, например, 2012-03-15. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;date\\_issued&quot;&gt;2010-07-30&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Например, набор данных может иметь <a href="#date_created" class=""> date\_created </a> 2010-01-30, но был выпущен в открытый доступ только 2010-07-30. date\_issued используется реже, чем date\_created и date\_modified . Если date\_issued Опущен, предполагается, что он такой же, как и date\_created .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="global-drawlandmask">глобальный drawLandMask<a href="#global-drawlandmask" class="hash-link" aria-label="Прямая ссылка наглобальный drawLandMask" title="Прямая ссылка наглобальный drawLandMask" translate="no">​</a></h6>
<ul>
<li class=""><a href="#global-drawlandmask" class=""> ** drawLandMask ** </a> - Это универсальный атрибут, используемый ERDDAP™   (Отсутствие стандартов метаданных) который определяет значение по умолчанию для опции «Draw Land Mask» в форме Make A Graph набора данных ( * datasetID * граф) и для параметра &amp;.land в URL, запрашивающем карту данных. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;drawLandMask&quot;&gt;over&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Видишь? <a href="#drawlandmask" class=""> drawLandMask обзор</a> .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="featuretype">featureType<a href="#featuretype" class="hash-link" aria-label="Прямая ссылка наfeatureType" title="Прямая ссылка наfeatureType" translate="no">​</a></h6>
<ul>
<li class=""><a href="#featuretype" class=""> ** featureType ** </a>   (из которого <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> стандарт метаданных) Игнорируется и/или заменяется. Если набор данных <a href="#cdm_data_type" class="">cdm\_data\_type</a> уместно, ERDDAP™ автоматически использовать его для создания featureType атрибут. Поэтому нет необходимости добавлять его.</li>
</ul>
<p>Однако, если вы используете <a href="#eddtablefromnccffiles" class="">EDDTable FromNcCFFiles</a> для создания набора данных из файлов, которые следуют за <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Дискретная геометрия выборки (DSG) стандартный</a> Сами файлы должны иметь featureType правильно определены, так что ERDDAP™ Вы можете прочитать файлы правильно. Это часть требований CF DSG к этому типу файлов.
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="history">история<a href="#history" class="hash-link" aria-label="Прямая ссылка наистория" title="Прямая ссылка наистория" translate="no">​</a></h6>
<ul>
<li class=""><a href="#history" class=""> <strong>история</strong> </a>   (из которого <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> и <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарты метаданных) Это РЕКОМЕНДУемый многолинейный глобальный атрибут String с линией для каждого этапа обработки данных. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;history&quot;&gt;2011-08-05T08:55:02Z CMOR: Rewrote data to comply with CF standards.  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2012-04-08T08:34:58Z CMOR: Converted &#x27;height&#x27; type from &#x27;d&#x27; to &#x27;f&#x27;.&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">В идеале каждая строка имеет ISO 8601:2004. (Е) Форматированная дата + TimeZ (Например, 2011-08-05T08:55:02Z) Затем следует описание этапа обработки.</li>
<li class="">ERDDAP™ Это происходит, если его еще не существует.</li>
<li class="">Если он уже существует, ERDDAP™ Добавить новую информацию к уже имеющейся.</li>
<li class="">История важна, потому что она позволяет клиентам вернуться к исходному источнику данных.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="infourl">infoUrl<a href="#infourl" class="hash-link" aria-label="Прямая ссылка наinfoUrl" title="Прямая ссылка наinfoUrl" translate="no">​</a></h6>
<ul>
<li class=""><a href="#infourl" class=""> ** infoUrl ** </a> Требуемый глобальный атрибут с URL веб-страницы с дополнительной информацией об этом наборе данных (обычно на сайте организации-источника) . Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;infoUrl&quot;&gt;http://www.globec.org/&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Или глобальный набор данных <a href="#global-attributes" class="">Источник Атрибуты</a> или глобальной&lt; addAttributes &gt; Необходимо включить этот атрибут.</li>
<li class="">infoUrl Это важно, потому что позволяет клиентам узнать больше о данных из исходного источника.</li>
<li class="">ERDDAP™ отображает ссылку на infoUrl Форма доступа к данным Data Access Form ( * datasetID * .html) Создайте веб-страницу Graph ( * datasetID * граф) и другие веб-страницы.</li>
<li class="">Если URL имеет часть запроса (После &quot;&quot;?) Это должно быть уже <a href="https://en.wikipedia.org/wiki/Percent-encoding" target="_blank" rel="noopener noreferrer" class="">% кодируется</a> . Вам нужно кодировать специальные символы в ограничениях. (В отличие от начального и основного &#x27;=&#x27; Если есть) в форму %HH, где HH — 2-значное шестнадцатеричное значение символа. Обычно нужно просто преобразовать несколько символов пунктуации: % в %25, &amp; в %26, &quot;в %22,&lt;в %3C, = в %3D, &gt; в %3E, + в %2B, | в %7С, \[ в %5B, \] в %5D, в %20 и преобразовать все символы выше #127 в форму UTF-8, а затем в % кодировать каждый байт формы UTF-8 в формат %HH (Попросите программиста помочь) .
Например, &amp; stationID &gt;=&quot;41004&quot;
становится и stationID %3E=%2241004%22
Процент кодирования обычно требуется при доступе ERDDAP через программное обеспечение, отличное от браузера. Браузеры обычно обрабатывают процент кодирования для вас.
В некоторых ситуациях вам нужно закодировать все символы, кроме A-Za-z0-9. &quot; () \*, но все же не кодируйте начальное &#x27;&amp;&#x27; или основное &#x27;=&#x27; .
Языки программирования имеют инструменты для этого (например, см. Java ? <a href="https://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html" target="_blank" rel="noopener noreferrer" class=""> java.net.URLEncoder </a><br>
<!-- -->и Java Сценарий [encodeURIComponent()] (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent" target="_blank" rel="noopener noreferrer" class="">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent</a>) ) и существуют
<a href="https://www.url-encode-decode.com/" target="_blank" rel="noopener noreferrer" class="">Сайты, которые закодируют / декодируют для вас</a> .</li>
<li class="">С тех пор datasets.xml XML-файл, вы должны также и кодировать все &#x27;&amp;&#x27;, &#x27;&#x27;&lt;&#x27;, и &#x27;&gt;&#x27; в URL как &#x27;&amp;&#x27;, &#x27;&lt;&#x27;, и &#x27;&gt;&#x27; после процента кодирования.</li>
<li class="">infoUrl является уникальным для ERDDAP . Это не стандарт метаданных.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="institution">учреждение<a href="#institution" class="hash-link" aria-label="Прямая ссылка научреждение" title="Прямая ссылка научреждение" translate="no">​</a></h6>
<ul>
<li class=""><a href="#institution" class=""> <strong>учреждение</strong> </a>   (из которого <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> и <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарты метаданных) Требуемый глобальный атрибут с краткой версией названия учреждения, которое является источником этих данных (обычно аббревиатура, как правило).&lt;20 персонажей. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;institution&quot;&gt;NASA GSFC&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Или глобальный набор данных <a href="#global-attributes" class="">Источник Атрибуты</a> или глобальной&lt; addAttributes &gt; Необходимо включить этот атрибут.</li>
<li class="">ERDDAP™ отображает учреждение всякий раз, когда оно отображает список наборов данных. Если имя учреждения здесь длиннее 20 символов, в списке наборов данных будут видны только первые 20 символов. (Но все учреждение можно увидеть, поместив курсор мыши над соседним значком «?») .</li>
<li class="">Если вы добавили учреждение в список&lt; categoryAttributes &gt; в ERDDAP ? <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> файл, пользователи могут легко найти наборы данных из того же учреждения через ERDDAP «Поиск наборов данных по категориям» на главной странице.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="keywords">ключевые слова<a href="#keywords" class="hash-link" aria-label="Прямая ссылка наключевые слова" title="Прямая ссылка наключевые слова" translate="no">​</a></h6>
<ul>
<li class=""><a href="#keywords" class=""> <strong>ключевые слова</strong> </a>   (из которого <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарт метаданных) Рекомендуемый список слов и коротких фраз, разделенный запятой (Например, <a href="https://wiki.earthdata.nasa.gov/display/CMR/GCMD+Keyword+Access" target="_blank" rel="noopener noreferrer" class="">GCMD Научные ключевые слова</a> ) которые описывают набор данных общим образом и не предполагают каких-либо других знаний о наборе данных (Например, океанографические данные включают океан.) . Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;keywords&quot;&gt;ano, circulation, coastwatch, currents, derived, Earth Science &amp;gt; Oceans &amp;gt; Ocean Circulation &amp;gt; Ocean Currents, eastward, eastward\\_sea\\_water\\_velocity, experimental, hf radio, meridional, noaa, northward, northward\\_sea\\_water\\_velocity, nuevo, ocean, oceans, radio, radio-derived, scan, sea, seawater, velocity, water, zonal&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>С тех пор datasets.xml XML-документ, символы и&lt;, и &gt; в атрибуте, как ключевые слова (Например, символы &gt; в ключевых словах науки GCMD) должны быть закодированы как &amp;&lt;и &gt; соответственно.
Когда набор данных загружается в ERDDAP ,</p>
<ul>
<li class="">«Наука о Земле» добавляется к началу любого ключевого слова GCMD, в котором его нет.</li>
<li class="">Ключевые слова GCMD преобразуются в Title Case (Первые буквы капитализируются) .</li>
<li class="">Ключевые слова перегруппированы в отсортированный порядок, и любые символы новой линии удаляются.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="keywords_vocabulary">keywords\_vocabulary<a href="#keywords_vocabulary" class="hash-link" aria-label="Прямая ссылка наkeywords\_vocabulary" title="Прямая ссылка наkeywords\_vocabulary" translate="no">​</a></h6>
<ul>
<li class=""><a href="#keywords_vocabulary" class=""> ** keywords\_vocabulary ** </a>   (из которого <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарт метаданных) РЕКОМЕНДУемый атрибут: если вы следуете руководству для слов / фраз в атрибуте ключевых слов (GCMD Science Ключевые слова) Назовите название этого руководства здесь. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;keywords\\_vocabulary&quot;&gt;GCMD Science Keywords&lt;/att&gt;  </span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="license">лицензия<a href="#license" class="hash-link" aria-label="Прямая ссылка налицензия" title="Прямая ссылка налицензия" translate="no">​</a></h6>
<ul>
<li class=""><a href="#license" class=""> <strong>лицензия</strong> </a>   (из которого <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарт метаданных) СТРОИТЕЛЬНО РЕКОМЕНДУЕТСЯ глобальный атрибут с лицензией и / или ограничениями использования. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;license&quot;&gt;\\[standard\\]&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Если \[ стандартный \] &quot;происходит в значении атрибута, оно будет заменено стандартом ERDDAP™ лицензии от&lt;Стандартная лицензия&gt; Tag in ERDDAP ?
\[ кот \] /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml файл.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="metadata_conventions">Metadata\_Conventions<a href="#metadata_conventions" class="hash-link" aria-label="Прямая ссылка наMetadata\_Conventions" title="Прямая ссылка наMetadata\_Conventions" translate="no">​</a></h6>
<ul>
<li class=""><a href="#metadata_conventions" class=""> ** Metadata\_Conventions ** </a> от устаревшего <a href="https://wiki.esipfed.org/ArchivalCopyOfVersion1" target="_blank" rel="noopener noreferrer" class="">ACDD 1.0</a>   (который был идентифицирован в Metadata\_Conventions как Unidata Dataset Discovery v1.0&quot;) Стандарт метаданных. Значение атрибута представляло собой разделенный запятой список конвенций метаданных, используемых этим набором данных.
Если набор данных использует ACDD 1.0, этот атрибут настоятельно рекомендуется, например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;Metadata\\_Conventions&quot;&gt;COARDS, CF-1.6, Unidata Dataset Discovery v1.0&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Но ERDDAP™ В настоящее время рекомендуется ACDD-1.3. Если у вас есть <a href="#switch-to-acdd-13" class="">Переключите наборы данных на ACDD-1.3</a> , использование Metadata\_Conventions Сильная дискредитация: просто используйте&lt;Конвенции&gt; (#конвенции) Вместо этого.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="processing_level">processing\_level<a href="#processing_level" class="hash-link" aria-label="Прямая ссылка наprocessing\_level" title="Прямая ссылка наprocessing\_level" translate="no">​</a></h6>
<ul>
<li class=""><a href="#processing_level" class=""> ** processing\_level ** </a>   (из которого <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарт метаданных) Рекомендуемое текстовое описание обработки (Например, <a href="https://www.earthdata.nasa.gov/learn/earth-observation-data-basics/data-processing-levels" target="_blank" rel="noopener noreferrer" class="">Уровни обработки данных системы наблюдения Земли и информационной системы НАСА</a> Например, уровень 3) уровень контроля качества (Например, качество науки) данных. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;processing\\_level&quot;&gt;3&lt;/att&gt;  </span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="project">проект<a href="#project" class="hash-link" aria-label="Прямая ссылка напроект" title="Прямая ссылка напроект" translate="no">​</a></h6>
<ul>
<li class=""><a href="#project" class=""> <strong>проект</strong> </a>   (из которого <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарт метаданных) Опциональный атрибут для идентификации проекта, частью которого является набор данных. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;project&quot;&gt;GTSPP&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Если набор данных не является частью проекта, не используйте этот атрибут. По сравнению с <a href="#creator_name" class=""> creator\_name </a> Это сосредоточено на проекте (не является лицом или организацией, которые могут участвовать в нескольких проектах;) .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="publisher_name">publisher\_name<a href="#publisher_name" class="hash-link" aria-label="Прямая ссылка наpublisher\_name" title="Прямая ссылка наpublisher\_name" translate="no">​</a></h6>
<ul>
<li class=""><a href="#publisher_name" class=""> ** publisher\_name ** </a>   (из которого <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарт метаданных) Рекомендуемый способ идентифицировать человека, организацию или проект, который публикует этот набор данных. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;publisher\\_name&quot;&gt;JPL&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Например, вы являетесь издателем, если другой человек или группа <a href="#creator_name" class="">созданный</a> Набор данных, и вы просто сохраняете его через ERDDAP . Если «издатель» на самом деле не относится к набору данных, опустите этот атрибут. По сравнению с <a href="#creator_name" class=""> creator\_name </a> Издатель, вероятно, существенно не модифицировал или не обрабатывал данные; издатель просто делает данные доступными в новом месте.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="publisher_email">publisher\_email<a href="#publisher_email" class="hash-link" aria-label="Прямая ссылка наpublisher\_email" title="Прямая ссылка наpublisher\_email" translate="no">​</a></h6>
<ul>
<li class=""><a href="#publisher_email" class=""> ** publisher\_email ** </a>   (из которого <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарт метаданных) Это рекомендуемый способ идентифицировать адрес электронной почты (правильно отформатированный, например, john\<a href="mailto:_smith@great.org" target="_blank" rel="noopener noreferrer" class="">_smith@great.org</a>) Это дает возможность связаться с издателем. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;publisher\\_email&quot;&gt;john\\_smith@great.org&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Если «издатель» на самом деле не относится к набору данных, опустите этот атрибут.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="publisher_url">publisher\_url<a href="#publisher_url" class="hash-link" aria-label="Прямая ссылка наpublisher\_url" title="Прямая ссылка наpublisher\_url" translate="no">​</a></h6>
<ul>
<li class=""><a href="#publisher_url" class=""> ** publisher\_url ** </a>   (из которого <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарт метаданных) РЕКОМЕНДУемый способ идентификации URL для организации, которая опубликовала набор данных, или URL с информацией издателя об этом наборе данных. (Но это, скорее, цель <a href="#infourl" class=""> infoUrl </a> ) . Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;publisher\\_url&quot;&gt;https://podaac.jpl.nasa.gov&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Если «издатель» на самом деле не относится к набору данных, опустите этот атрибут.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="real_time">real\_time<a href="#real_time" class="hash-link" aria-label="Прямая ссылка наreal\_time" title="Прямая ссылка наreal\_time" translate="no">​</a></h6>
<ul>
<li class=""><a href="#real_time" class=""> ** real\_time ** </a> Глобальный атрибут струн (Ни в одном стандарте) Укажите, является ли это набором данных в реальном времени. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;real\\_time&quot;&gt;true&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Если это ложно (по умолчанию) , ERDDAP™ будет кэшировать ответы на запросы типов файлов, где весь файл должен быть создан до ERDDAP™ Вы можете начать отправлять ответ пользователю и повторно использовать его в течение примерно 15 минут. (например, .nc .png) .
Если это истинно, ERDDAP™ Никогда не будет кэшировать файлы ответа и всегда будет возвращать вновь созданные файлы.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourceurl-attribute">sourceUrl атрибут<a href="#sourceurl-attribute" class="hash-link" aria-label="Прямая ссылка наsourceUrl атрибут" title="Прямая ссылка наsourceUrl атрибут" translate="no">​</a></h6>
<ul>
<li class=""><a href="#sourceurl-attribute" class=""> ** sourceUrl ** </a> Это глобальный атрибут с URL источника данных. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;sourceUrl&quot;&gt;https://opendap.co-ops.nos.noaa.gov/ioos-dif-sos/SOS&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>(Положите все на одну линию)</p>
<ul>
<li class="">ERDDAP™ Обычно этот глобальный атрибут создается автоматически. Два исключения – это EDDTableFrom. Hyrax Файлы и EDDTable FromThreddsFiles.</li>
<li class="">Если источником являются локальные файлы и файлы были созданы вашей организацией, используйте</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;sourceUrl&quot;&gt;(local files)&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Если источником является локальная база данных и данные были созданы вашей организацией, используйте</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;sourceUrl&quot;&gt;(local database)&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">sourceUrl Это важно, поскольку позволяет клиентам вернуться к исходному источнику данных.</li>
<li class="">sourceUrl является уникальным для ERDDAP . Это не стандарт метаданных.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="standard_name_vocabulary">standard\_name\_vocabulary<a href="#standard_name_vocabulary" class="hash-link" aria-label="Прямая ссылка наstandard\_name\_vocabulary" title="Прямая ссылка наstandard\_name\_vocabulary" translate="no">​</a></h6>
<ul>
<li class=""><a href="#standard_name_vocabulary" class=""> ** standard\_name\_vocabulary ** </a>   (из которого <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарт метаданных) РЕКОМЕНДУемый атрибут для идентификации названия контролируемой лексики, из которой переменная <a href="#standard_name" class=""> standard\_name </a> s взяты. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;standard\\_name\\_vocabulary&quot;&gt;CF Standard Name Table v77&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Для версии 77 <a href="https://cfconventions.org/Data/cf-standard-names/current/build/cf-standard-name-table.html" target="_blank" rel="noopener noreferrer" class="">Стандартная таблица имен CF</a> .
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="subsetvariables">subsetVariables<a href="#subsetvariables" class="hash-link" aria-label="Прямая ссылка наsubsetVariables" title="Прямая ссылка наsubsetVariables" translate="no">​</a></h5>
<ul>
<li class="">** subsetVariables **   (Только для EDDTable) Это РЕКОМЕНДУемый глобальный атрибут, который позволяет вам указать список, разделенный запятой.&lt; dataVariable &gt; (#datavariable)   <a href="#destinationname" class=""> destinationName </a> s для идентификации переменных, имеющих ограниченное число значений (Другой способ: переменные, для которых каждое из значений имеет много дубликатов.) . Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;subsetVariables&quot;&gt;station\\_id, longitude, latitude&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Если этот атрибут присутствует, набор данных будет иметь * datasetID * .subset web page (и ссылку на него в каждом списке наборов данных) Это позволяет пользователям быстро и легко выбирать различные подмножества данных.</p>
<ul>
<li class="">Каждый раз, когда загружается набор данных, ERDDAP Загрузка и хранение на диске стола со всеми различными () Комбинации подмножества Значения переменной переменной. ERDDAP™ Можно прочитать, что subsetVariables Стол и обработать его очень быстро (Особенно по сравнению с чтением большого количества файлов данных или получением данных из базы данных или другого внешнего сервиса.) .</li>
<li class="">Это позволяет ERDDAP™ Чтобы сделать 3 вещи:<!-- -->
<ol>
<li class="">позволяет ERDDAP™ разместить список возможных значений в раскрывающемся списке в форме доступа к данным, на веб-странице Make A Graph и на веб-страницах .subset.</li>
<li class="">позволяет ERDDAP™ Предложить веб-страницу .subset для этого набора данных. Эта страница интересна тем, что она позволяет легко найти действительные комбинации значений этих переменных, что для некоторых наборов данных и некоторых переменных очень, очень сложно. (Почти невозможно) . Все запросы пользователей на различные () подмножество Переменные данные будут очень быстрыми.</li>
<li class="">Если есть запрос пользователя, который относится только к подмножеству этих переменных, ERDDAP™ Можно быстро прочитать subsetVariables Таблица и ответ на запрос. Это может сэкономить массу времени и усилий для ERDDAP .</li>
</ol>
</li>
<li class="">Порядок проведения destinationName s вы указываете определяет порядок сортировки на * datasetID * .subset веб-страница, поэтому вы обычно указываете сначала наиболее важные переменные, а затем наименее важные. Например, для наборов данных с данными временных рядов для нескольких станций можно использовать, например,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;subsetVariables&quot;&gt;station\\_id, longitude, latitude&lt;/att&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Величины сортируются по Station_id.</p>
<ul>
<li class="">Очевидно, что это ваш выбор, какие переменные включить в subsetVariables Список, но предлагаемое использование:</li>
</ul>
<p>Включите переменные, для которых вы хотите ERDDAP™ отображать раскрывающийся список опций в форме доступа к данным набора данных (.html) Исполнитель: Make-A-Graph (граф) Веб-страницы.</p>
<p>В общем, включают переменные с информацией об особенностях набора данных. (Станции, профили и/или траектории, в частности <a href="#cdm_timeseries_variables" class="">cdm\_timeseries\_variables</a> , <a href="#cdm_profile_variables" class="">cdm\_profile\_variables</a> , <a href="#cdm_trajectory_variables" class="">cdm\_trajectory\_variables</a> ) . Для этих переменных есть только несколько различных значений, поэтому они хорошо работают с выпадающими списками.</p>
<p>Никогда не включайте переменные данных, связанные с индивидуальными наблюдениями. (Например, время, температура, соленость, текущая скорость) в subsetVariables список. Для этих переменных слишком много разных значений, поэтому выпадающий список будет медленно загружаться и с ним трудно работать. (или не работать) .</p>
<ul>
<li class="">Если число различных комбинаций этих переменных больше, чем около 1 000 000, вы должны рассмотреть вопрос об ограничении числа этих переменных. subsetVariables что вы указываете, чтобы уменьшить число различных комбинаций до менее чем 1 000 000; в противном случае * datasetID * .subset веб-страницы могут генерироваться медленно. В крайних случаях набор данных может не загружаться в ERDDAP™ Потому что создание списка различных комбинаций использует слишком много памяти. Если это так, вы должны удалить некоторые переменные из subsetVariables список.</li>
<li class="">Если число различных значений какой-либо одной подмножественной переменной превышает около 20 000, вы должны рассмотреть возможность не включать эту переменную в список. subsetVariables В противном случае требуется много времени для передачи * datasetID * .subset, * datasetID * .граф, и * datasetID * .html веб-страницы. Кроме того, на Mac очень трудно сделать выбор из выпадающего списка с более чем 500 элементами из-за отсутствия полосы прокрутки. Компромисс заключается в том, чтобы удалить переменные из списка, когда пользователи вряд ли выберут значения из выпадающего списка.</li>
<li class="">Вы должны проверить каждый набор данных, чтобы увидеть, subsetVariables Настройка в порядке. Если сервер исходных данных медленный и занимает слишком много времени (или проваливается) чтобы загрузить данные, либо уменьшить количество указанных переменных, либо удалить subsetVariables Глобальный атрибут.</li>
<li class="">Подмножество Переменные очень полезны. Если ваш набор данных подходит, пожалуйста, создайте subsetVariables атрибут.</li>
<li class="">EDDTable From SOS автоматически добавляет<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;subsetVariables&quot;&gt;station\\_id, longitude, latitude&lt;/att&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>когда создается набор данных.</p>
<ul>
<li class="">Предупреждение: если пользователь использует * datasetID * .subset web page выбирает значение, которое имеет символ carriageReturn или newline, * datasetID * .subset провалится. ERDDAP™ Не может обойти эту проблему из-за некоторых деталей HTML. В любом случае, это почти всегда хорошая идея, чтобы удалить карету Возврат и символы новой линии из данных. Чтобы помочь решить проблему, если EDDTable. subsetVariables DataTable метод в ERDDAP обнаруживает значения данных, которые вызовут проблемы, он отправит по электронной почте предупреждение со списком оскорбительных значений на электронную почту Все На адреса электронной почты, указанные в setup.xml. Таким образом, вы знаете, что нужно исправить.</li>
<li class=""><strong>Предварительно созданные таблицы подмножеств.</strong> Обычно, когда ERDDAP™ загружает набор данных, он запрашивает отдельный () Подмножество переменных таблицы данных из источника данных, просто через обычный запрос данных. В некоторых случаях эти данные не доступны из источника данных или извлечение из источника данных может быть затруднено на сервере источника данных. Если это так, вы можете предоставить таблицу с информацией в .json .csv файл с именем <em>кот</em> /content/erddap/subset/ * datasetID *  .json   (или .csv) . Если присутствует, ERDDAP™ будет читать его один раз при загрузке набора данных и использовать его в качестве источника данных подмножества.</li>
<li class="">Если при чтении есть ошибка, набор данных не будет загружаться.</li>
<li class="">Они должны иметь одинаковые названия колонок. (Например, в том же случае) как&lt; subsetVariables Но колонки могут быть в любом порядке.</li>
<li class="">Могут быть дополнительные колонки (Они будут удалены, а новые избыточные ряды будут удалены.) .</li>
<li class="">Отсутствующие ценности должны отсутствовать (Не поддельные номера, как 99) .</li>
<li class="">.json Файлы могут быть немного сложнее создавать, но хорошо работать с символами Unicode. .json Файлы легко создавать, если вы их создаете. ERDDAP .</li>
<li class="">С файлами .csv легко работать, но они подходят только для символов ISO 8859-1. .csv файлы должны иметь имена столбцов в первой строке и данные в последующих строках.</li>
<li class="">Для больших массивов данных или когда&lt; subsetVariables &gt; неправильно сконфигурирована, таблица комбинаций значений может быть достаточно большой, чтобы вызвать слишком много данных или ошибки OutOfMemory. Решение заключается в удалении переменных из списка.&lt; subsetVariables для которых имеется большое количество значений, или удалить переменные по мере необходимости, пока размер этой таблицы не станет разумным. Вне зависимости от ошибки, часть ERDDAP™ которые используют subsetVariables Система не работает хорошо (Веб-страницы загружаются очень медленно) Когда слишком много рядов (Например, более миллиона) за этим столом.</li>
<li class="">subsetVariables Это не имеет ничего общего с определением того, какие переменные пользователи могут использовать в ограничениях, то есть как пользователи могут запрашивать подмножества набора данных. ERDDAP™ Ограничения всегда позволяют ссылаться на любую из переменных.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="time-units">Единицы времени<a href="#time-units" class="hash-link" aria-label="Прямая ссылка наЕдиницы времени" title="Прямая ссылка наЕдиницы времени" translate="no">​</a></h6>
<p><a href="#time-units" class="">Время и метка времени</a> колонки должны иметь ISO 8601:2004 (Е) Форматированная дата + время Z-струны (Например, 1985-01-31T15:31:00Z) .
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">резюме<a href="#summary" class="hash-link" aria-label="Прямая ссылка нарезюме" title="Прямая ссылка нарезюме" translate="no">​</a></h6>
<ul>
<li class=""><a href="#summary" class=""> <strong>резюме</strong> </a>   (из которого <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> и <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарты метаданных) Требуемый глобальный атрибут с длинным описанием набора данных (обычно)&lt;500 символов. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;summary&quot;&gt;VIIRSN Level-3 Standard Mapped Image, Global, 4km, Chlorophyll a, Daily. The Visible and Infrared Imager/Radiometer Suite (VIIRS) is a multi-disciplinary instrument that flies on the National Polar-orbiting Operational Environmental Satellite System (NPOESS) series of spacecraft, including the NPOESS Preparatory Project (NPP).&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Или глобальный набор данных <a href="#global-attributes" class="">Источник Атрибуты</a> или глобальной&lt; addAttributes &gt; Необходимо включить этот атрибут.</li>
<li class="">Резюме очень важно, потому что оно позволяет клиентам прочитать описание набора данных, который имеет больше информации, чем заголовок, и таким образом быстро понять, что такое набор данных.</li>
<li class="">Совет: пожалуйста, напишите резюме, чтобы оно работало, чтобы описать набор данных какому-то случайному человеку, которого вы встречаете на улице или коллеге. Не забудьте включить <a href="https://en.wikipedia.org/wiki/Five_Ws" target="_blank" rel="noopener noreferrer" class="">Пять W и один H</a> Кто создал набор данных? Какая информация была собрана? Когда были собраны данные? Где он был собран? Почему он был собран? Как он был собран?</li>
<li class="">ERDDAP™ отображает резюме в форме доступа к данным набора данных ( * datasetID * .html) Создайте веб-страницу Graph ( * datasetID * граф) и другие веб-страницы. ERDDAP™ использует резюме при создании документов FGDC и ISO 19115.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="testoutofdate">testOutOfDate<a href="#testoutofdate" class="hash-link" aria-label="Прямая ссылка наtestOutOfDate" title="Прямая ссылка наtestOutOfDate" translate="no">​</a></h6>
<ul>
<li class=""><a href="#testoutofdate" class=""> ** testOutOfDate ** </a>   (необязательный ERDDAP специфический глобальный атрибут метаданных, а не из какого-либо стандарта;) Упрощенно указывает, когда данные для набора данных в реальном времени считаются устаревшими, указанными как now-  <em>единицы</em> Например, now- 2 дня для данных, которые обычно появляются через 24-48 часов после значения времени. Для прогнозных данных используйте сейчас <strong>+</strong>  <em>единицы</em> Например, сейчас +6 дней для прогнозных данных, что максимум 8 дней в будущем. (Видишь? <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#now" target="_blank" rel="noopener noreferrer" class=""> now-  <em>единицы</em> описание синтаксиса</a> .) Если максимальное значение времени для набора данных является более поздним, чем указанное время, набор данных считается актуальным. Если максимальное значение времени старше указанного времени, набор данных считается актуальным. Для устаревших наборов данных, предположительно, существует проблема с источником данных. ERDDAP™ Невозможно получить доступ к данным из более поздних временных точек.</li>
</ul>
<p>The testOutOfDate значение отображается как столбец в <a href="#eddtablefromalldatasets" class=""> allDatasets набор данных</a> в твоем ERDDAP . Он также используется для вычисления индекса OutOfDate, который является еще одним столбцом в таблице. allDatasets набор данных.
Если индекс является&lt;1 набор данных считается актуальным.
Если индекс является&lt;=1, набор данных считается устаревшим.
Если индекс является&lt;=2, набор данных считается устаревшим.</p>
<p>The testOutOfDate Ценность также используется ERDDAP™ Чтобы генерироватьhttps://<em>yourDomain</em>/erddap/outOfDateDatasets.htmlвеб-страница ( <a href="https://coastwatch.pfeg.noaa.gov/erddap/outOfDateDatasets.html" target="_blank" rel="noopener noreferrer" class="">пример</a> ) который показывает наборы данных, имеющие&lt; testOutOfDate &gt; теги, с наборами данных, ранжированными по тому, насколько они устаревшие. Если вы измените тип файла (От .html до .csv .jsonlCSV , .nc , .tsv ...) Вы можете получить эту информацию в различных форматах файлов.</p>
<p>Когда это возможно, <a href="#generatedatasetsxml" class="">Генерировать наборы данныхXml</a> Добавить a testOutOfDate Отношение к глобальному addAttributes набором данных. Это значение представляет собой предложение, основанное на информации, доступной для GenerateDatasetsXml. Если значение не подходит, измените его.</p>
<p>&quot;Out-of-date&quot; здесь сильно отличается от&lt;перезаряжать EveryNMinutes &gt; (#reloadeverynminutes) Что касается того, насколько актуально ERDDAP Знание набора данных есть. The&lt; testOutOfDate Система предполагает, что ERDDAP Знание набора данных обновлено. Вопрос&lt; testOutOfDate &gt; имеет дело с: как представляется, что-то не так с источником данных, в результате чего более свежие данные не могут быть доступны ERDDAP ?</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="title">титул<a href="#title" class="hash-link" aria-label="Прямая ссылка натитул" title="Прямая ссылка натитул" translate="no">​</a></h6>
<ul>
<li class=""><a href="#title" class=""> <strong>титул</strong> </a>   (из которого <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> и <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарты метаданных) Требуемый глобальный атрибут с кратким описанием набора данных (обычно)&lt;=95 символов. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;title&quot;&gt;VIIRSN Level-3 Mapped, Global, 4km, Chlorophyll a, Daily&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Или глобальный набор данных <a href="#global-attributes" class="">Источник Атрибуты</a> или глобальной&lt; addAttributes &gt; Необходимо включить этот атрибут.</li>
<li class="">Заголовок важен, потому что каждый список наборов данных представлен ERDDAP   (Кроме результатов поиска) перечисляет наборы данных в алфавитном порядке, по названию. Поэтому, если вы хотите указать порядок наборов данных или сгруппировать некоторые наборы данных вместе, вы должны создавать заголовки с учетом этого. Множество списков наборов данных (Например, в ответ на поиск по категориям) Покажите подмножество полного списка и в другом порядке. Таким образом, название для каждого набора данных должно стоять самостоятельно.</li>
<li class="">Если заголовок содержит слово «забытый» (Все заглавные буквы) Затем набор данных получит более низкий рейтинг в поиске.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="axisvariable">&lt; axisVariable &gt;<a href="#axisvariable" class="hash-link" aria-label="Прямая ссылка на&lt; axisVariable &gt;" title="Прямая ссылка на&lt; axisVariable &gt;" translate="no">​</a></h5>
<ul>
<li class="">[править] ** &lt; axisVariable &gt; ** ] (#переменный) Используется для описания измерения (Также называется «ось».) .
Для EDDGrid наборы данных, один или несколько axisVariable Тэги востребованы, и все <a href="#datavariable" class=""> dataVariable s</a> Всегда делитесь / используйте все переменные оси. ( <a href="#why-just-two-basic-data-structures" class="">Почему?</a>   <a href="#dimensions" class="">А если нет?</a> )<br>
<!-- -->Должна быть переменная оси для каждого измерения переменных данных.
Переменные оси должны быть указаны в порядке их использования переменными данных.
(Наборы данных EDDTable не могут использоваться)&lt; axisVariable &gt; Тэги.
Яркий пример:</li>
</ul>
<blockquote>
<p>  &lt;axisVariable&gt;<br>
<!-- -->      &lt;<a href="#sourcename" class="">sourceName</a>\&gt;MT&lt;/sourceName&gt;<br>
<!-- -->      &lt;<a href="#destinationname" class="">destinationName</a>\&gt;time&lt;/destinationName&gt;<br>
<!-- -->      &lt;addAttributes&gt;<br>
<!-- -->        &lt;att name=&quot;<a href="#units" class="">units</a>&quot;&gt;days since 1902-01-01T12:00:00Z&lt;/att&gt;<br>
<!-- -->      &lt;/addAttributes&gt;<br>
<!-- -->  &lt;/axisVariable&gt;</p>
</blockquote>
<p>&lt; axisVariable &gt; поддерживает следующие подтеги:</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcename">&lt; sourceName \&gt;<a href="#sourcename" class="hash-link" aria-label="Прямая ссылка на&lt; sourceName \&gt;" title="Прямая ссылка на&lt; sourceName \&gt;" translate="no">​</a></h6>
<ul>
<li class="">[править]&lt; sourceName \&gt; (#sourcename) - имя источника данных переменной. Это имя, которое ERDDAP™ будет использоваться при запросе данных из источника данных. Это имя, которое ERDDAP™ Мы будем искать, когда данные возвращаются из источника данных. Это дело деликатное. Это необходимо.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="destinationname">&lt; destinationName \&gt;<a href="#destinationname" class="hash-link" aria-label="Прямая ссылка на&lt; destinationName \&gt;" title="Прямая ссылка на&lt; destinationName \&gt;" translate="no">​</a></h6>
<ul>
<li class="">[править]&lt; destinationName \&gt; (#назначение) имя переменной, которая будет показана и использована ERDDAP™ пользователей.<!-- -->
<ul>
<li class="">Это опционально. Если отсутствует, то sourceName используется.</li>
<li class="">Это полезно, потому что позволяет изменить загадочный или нечетный sourceName .</li>
<li class="">destinationName Дело деликатное.</li>
<li class="">destinationName Начать нужно с письма (A-Z, a-z) За ним должно следовать 0 или более символов. (A-Z, a-z, 0-9 и) . (Допускается до ERDDAP™ Версия 1.10.) Это ограничение позволяет переменным именам оси быть одинаковыми. ERDDAP™ в файлах ответа и во всем программном обеспечении, где эти файлы будут использоваться, включая языки программирования; (как Python , Matlab и Java сценарий) где существуют аналогичные ограничения на переменные имена.</li>
<li class="">в EDDGrid наборы данных, <a href="#destinationname" class="">долгота, широта, высота, глубина и время</a> Переменные оси являются особыми.
 </li>
</ul>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="axisvariable-addattributes">axisVariable  &lt;addAttributes&gt;<a href="#axisvariable-addattributes" class="hash-link" aria-label="Прямая ссылка наaxisVariable  &lt;addAttributes&gt;" title="Прямая ссылка наaxisVariable  &lt;addAttributes&gt;" translate="no">​</a></h6>
<ul>
<li class="">[править]&lt; addAttributes &gt; (#вариабельные атрибуты) Определение опционального набора атрибутов ( <em>имя</em> = <em>ценность</em> ) которые добавляются к атрибутам источника для переменной, чтобы сделать комбинированные атрибуты для переменной.
Если переменная <a href="#variable-addattributes" class="">Источник Атрибуты</a> или&lt; addAttributes &gt; включать <a href="#scale_factor" class=""> scale\_factor и/или add\_offset </a> атрибуты, их значения будут использоваться для распаковки данных из источника перед распространением клиенту.
(результат Значение = источник Значение * scale\_factor + add\_offset ) . Неупакованная переменная будет иметь тот же тип данных. (Например, плавать) как scale\_factor и add\_offset ценностей.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="datavariable">&lt; dataVariable &gt;<a href="#datavariable" class="hash-link" aria-label="Прямая ссылка на&lt; dataVariable &gt;" title="Прямая ссылка на&lt; dataVariable &gt;" translate="no">​</a></h5>
<ul>
<li class="">[править] ** &lt; dataVariable &gt; ** ] (#datavariable) требуется (почти для всех наборов данных) Тэг в пределах&lt;тег dataset&gt;, который используется для описания переменной данных. Должен быть 1 или более экземпляров этого тега. Яркий пример:</li>
</ul>
<blockquote>
<p>  &lt;dataVariable&gt;<br>
<!-- -->      &lt;<a href="#sourcename" class="">sourceName</a>\&gt;waterTemperature&lt;/sourceName&gt;<br>
<!-- -->      &lt;<a href="#destinationname" class="">destinationName</a>\&gt;sea\_water\_temperature&lt;/destinationName&gt;<br>
<!-- -->      <a href="#datatype" class="">&lt;dataType&gt;</a>float&lt;/dataType&gt;<br>
<!-- -->      &lt;addAttributes&gt;<br>
<!-- -->        &lt;att name=&quot;<a href="#ioos_category" class="">ioos\_category</a>&quot;&gt;Temperature&lt;/att&gt;<br>
<!-- -->        &lt;att name=&quot;<a href="#long_name" class="">long\_name</a>&quot;&gt;Sea Water Temperature&lt;/att&gt;<br>
<!-- -->        &lt;att name=&quot;<a href="#standard_name" class="">standard\_name</a>&quot;&gt;sea\_water\_temperature&lt;/att&gt;<br>
<!-- -->        &lt;att name=&quot;<a href="#units" class="">units</a>&quot;&gt;degree\_C&lt;/att&gt;<br>
<!-- -->      &lt;/addAttributes&gt;<br>
<!-- -->  &lt;/dataVariable&gt;</p>
</blockquote>
<p>&lt; dataVariable &gt; поддерживает следующие подтеги:</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcename-1">&lt; sourceName &gt;<a href="#sourcename-1" class="hash-link" aria-label="Прямая ссылка на&lt; sourceName &gt;" title="Прямая ссылка на&lt; sourceName &gt;" translate="no">​</a></h6>
<ul>
<li class="">[править]&lt; sourceName &gt; (#sourcename) - имя источника данных переменной. Это имя, которое ERDDAP™ будет использоваться при запросе данных из источника данных. Это имя, которое ERDDAP™ Мы будем искать, когда данные возвращаются из источника данных. Это дело деликатное. Это необходимо.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="groups">Группы<a href="#groups" class="hash-link" aria-label="Прямая ссылка наГруппы" title="Прямая ссылка наГруппы" translate="no">​</a></h6>
<p>CF добавил поддержку для групп с CF v1.8. Начиная с 2020 года, NetCDF Инструменты, поддерживающие размещение переменных в группах .nc Файл. На практике это просто означает, что переменные имеют длинное имя, которое идентифицирует группу. (s) и переменное имя, например, group1a/group2c/varName. ERDDAP™ поддерживает группы путем преобразования «/» в переменную&lt; sourceName &gt; в &quot;\_&quot; в переменной&lt; destinationName &gt;, например, group1a\_group2c\_varName. (Когда вы видите это, вы должны понимать, что группы — это не больше, чем синтаксис.) Если переменные указаны в ERDDAP™ Все переменные в группе будут появляться вместе, имитируя основную группу. \[ Если ERDDAP™ В частности, генерировать наборы данных Xml, работает не так хорошо, как с исходными файлами, которые имеют группы, пожалуйста, отправьте образец файла Крису. Джон на noaa.gov. \]</p>
<p>Наборы данных EDDTableFromFiles могут использовать некоторые специально закодированные, псевдо- sourceName s для определения новых переменных данных, например, для продвижения глобального атрибута в качестве переменной данных. Видишь? <a href="#pseudo-sourcenames" class="">Эта документация</a> .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="hdf-structures">HDF Структуры<a href="#hdf-structures" class="hash-link" aria-label="Прямая ссылка наHDF Структуры" title="Прямая ссылка наHDF Структуры" translate="no">​</a></h6>
<p>Начиная с ERDDAP™ v2.12, EDDGrid Из NcFiles и EDDGrid Из NcFiles Неупакованные могут считывать данные из «структур» .nc 4 и .hdf 4 файла. Чтобы определить переменную, которая является структурой,&lt; sourceName &gt; Необходимо использовать формат: <em>Полное название структуры</em>  |  <em>Имя</em> Например, группа 1/myStruct | Мой член.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="fixed-value-sourcenames">Имена источников фиксированной стоимости<a href="#fixed-value-sourcenames" class="hash-link" aria-label="Прямая ссылка наИмена источников фиксированной стоимости" title="Прямая ссылка наИмена источников фиксированной стоимости" translate="no">​</a></h6>
<p>В наборе данных EDDTable, если вы хотите создать переменную (с одной фиксированной стоимостью) Этого нет в исходном наборе данных, используйте:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=*fixedValue*&lt;/sourceName&gt;  </span><br></span></code></pre></div></div>
<p>Начальный знак равенства говорит ERDDAP™ что такое фиксированный Ценность будет следовать.</p>
<ul>
<li class="">Для числовых переменных фиксированное значение должно быть единственным конечным значением или NaN. (случай нечувствительный, например, \=NaN) .</li>
<li class="">Для струнных переменных фиксированное значение должно быть единым, <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer" class="">Струна в стиле JSON</a>   (с особыми персонажами, сбежавшими с персонажами) Например, \=&quot;Моя \&quot;Особая\&quot; Струна.</li>
<li class="">Для переменной временной метки укажите фиксированное значение как число в &quot;seconds since 1970-01-01T00:00:00Z&quot; и использовать
единицы = секунды с 197001-01T00:00:00Z.</li>
</ul>
<p>Другие теги для&lt; dataVariable Работайте так, как будто это обычная переменная.
Например, создать переменную, называемую высотой, с фиксированным значением 0,0. (плавать) Используйте:</p>
<blockquote>
<p>&lt;sourceName&gt;=0&lt;/sourceName&gt;<br>
<a href="#destinationname" class="">&lt;destinationName\&gt;</a>altitude&lt;/destinationName&gt;<br>
<a href="#datatype" class="">&lt;dataType&gt;float&lt;/dataType&gt;</a></p>
</blockquote>
<p>Для необычных ситуаций можно даже указать actual\_range Добавить атрибут, который будет переопределять ожидаемые значения destinationMin и destinationMax (которая в противном случае равнялась бы фиксированной ценность) .
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="script-sourcenamesderived-variables">Источники / Производные переменные<a href="#script-sourcenamesderived-variables" class="hash-link" aria-label="Прямая ссылка наИсточники / Производные переменные" title="Прямая ссылка наИсточники / Производные переменные" translate="no">​</a></h6>
<p>Начиная с ERDDAP™ v2.10, в <a href="#eddtablefromfiles" class="">EDDTable Из материалов</a> , <a href="#eddtablefromdatabase" class="">EDDTable FromDatabase</a> или <a href="#eddtablefromfilenames" class="">EDDTable FromFileNames</a> набор данных,&lt; sourceName &gt; может быть
выражение (Уравнение, которое оценивает одно значение) , используя формат</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=*expression*&lt;/sourceName&gt;  </span><br></span></code></pre></div></div>
<p>или сценарий (Серия утверждений, возвращающих одно значение) , используя формат</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=*script*&lt;/sourceName&gt;  </span><br></span></code></pre></div></div>
<p>ERDDAP™ опираясь на <a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="">Проект Apache</a>   <a href="https://commons.apache.org/proper/commons-jexl/" target="_blank" rel="noopener noreferrer" class=""> Java Язык выражения (Джекс) </a>   (лицензия: <a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank" rel="noopener noreferrer" class="">Апач</a> ) Для оценки выражений и запуска сценариев.
Расчет для данной новой переменной производится в пределах одной строки результатов, неоднократно для всех строк.
Выражения и сценарии используют а Java - и Java Скрипт-подобный синтаксис и может использовать любой из
<a href="https://commons.apache.org/proper/commons-jexl/reference/syntax.html" target="_blank" rel="noopener noreferrer" class="">Операторы и методы, встроенные в JEXL</a> .
Скрипты также могут использовать методы (функции) Из этих классов:</p>
<ul>
<li class=""><a class="" href="/ru/docs/dokka/-e-r-d-d-a-p/com.cohort.util/-script-calendar2">Расписание2</a> , который является оберткой для некоторых статических, временных и календарных методов в com.cohort.util.Calendar2 ( <a class="" href="/ru/acknowledgements#cohort-software">лицензия</a> ) . Например,
Календарь2.parseToEpochВторое ( <em>Источник Время, дата Формат времени</em> ) Проанализирует источник Строка времени через строку TimeFormat даты и возврат &quot;seconds since 1970-01-01T00:00:00Z&quot;   (вторая эпоха) двойное значение.</li>
<li class=""><a class="" href="/ru/docs/dokka/-e-r-d-d-a-p/com.cohort.util/-script-math">математика</a> , который является оберткой для почти всех статических, математических методов в <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html" target="_blank" rel="noopener noreferrer" class="">java.lang. математика</a> . Например, Math.atan2 ( <em>y, x</em> ) принимает прямоугольные координаты (y, x) возвращает полярные координаты (Двойники с двойниками \[ r, тета \] ) .</li>
<li class=""><a class="" href="/ru/docs/dokka/-e-r-d-d-a-p/com.cohort.util/-script-math2">Математика2</a> , который является оберткой для почти всех статических, математических методов в com.cohort.util. Математика2 ( <a class="" href="/ru/acknowledgements#cohort-software">лицензия</a> ) . Например,
Математика 2. ( <em>d, nМеста</em> ) округление d до указанного числа цифр справа от десятичной точки.</li>
<li class="">Струна, которая дает вам доступ ко всем статическим методам, связанным со струной <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String" target="_blank" rel="noopener noreferrer" class="">java.lang. Струна</a> . Струнные объекты в ERDDAP™ Выражения и скрипты могут использовать любые связанные с ними Java Методы, описанные в java.lang. Струнная документация. Например, String.valueOf (d) преобразует двойное значение d в строку (Вы также можете использовать «+d») .</li>
<li class=""><a class="" href="/ru/docs/dokka/-e-r-d-d-a-p/com.cohort.util/-script-string2">Струна2</a> , который является оберткой для большинства статических, струнных и массивных методов в com.cohort.util.String2 ( <a class="" href="/ru/acknowledgements#cohort-software">лицензия</a> ) . Например, String2 .z eroPad ( <em>число, nDigits</em> ) добавит 0 в левую часть строки, так что общее число цифр будет nDigits (Например, String2 .z eroPad (&quot;6&quot;, 2) Вернется «06») .</li>
<li class=""><a class="" href="/ru/docs/dokka/-e-r-d-d-a-p/com.cohort.util/-script-row">ряд</a> , который имеет нестатические методы доступа к данным из различных столбцов в текущей строке таблицы исходных данных. Например, row.columnString (&quot;Год&quot;) читает значение из столбца «год» как строку, тогда как, row.column инти (&quot;Год&quot;) Считывает значение из столбца «год» как целое число.</li>
</ul>
<p>По соображениям безопасности выражения и скрипты не могут использовать другие классы, кроме тех 6. ERDDAP™ Это ограничение реализуется путем создания черного списка по умолчанию. (Черный список всех классов) Затем белый список (Что позволяет использовать 6 классов, описанных выше) . Если вам нужны другие методы и / или другие классы для выполнения вашей работы, пожалуйста, отправьте свои запросы Крису. Джон на noaa.gov.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="эффективность">Эффективность<a href="#эффективность" class="hash-link" aria-label="Прямая ссылка наЭффективность" title="Прямая ссылка наЭффективность" translate="no">​</a></h6>
<p>Для наборов данных EDDTableFromFiles существует только очень, очень минимальный набор данных. (Вероятно, не заметно) замедление запросов данных от этих переменных. Для EDDTableFromDatabase существует огромный штраф за скорость для запросов, которые включают ограничения на эти переменные (например, (&amp;longitude0360&gt;30&amp;longitude0360)&lt;40) потому что ограничения не могут быть переданы в базу данных, поэтому база данных должна возвращать гораздо больше данных в базу данных. ERDDAP™   (который очень трудоемкий) так что ERDDAP™ Можно создать новую переменную и применить ограничение. Чтобы избежать худшего случая (где нет ограничений, передаваемых в базу данных) , ERDDAP™ Бросает сообщение об ошибке, так что база данных не должна возвращать все содержимое таблицы. (Если вы хотите обойти это, добавьте ограничение в колонку без сценария, которая всегда будет верной, например, время).&lt;3000-01-01. По этой причине, с EDDTable FromDatabase, вероятно, всегда лучше создать производную колонку в базе данных, чем использовать ее. sourceName =script in in ERDDAP .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="оригинальное-название-how-an-expression-или-сценарий-используется">Оригинальное название: How an Expression (Или сценарий) Используется:<a href="#оригинальное-название-how-an-expression-или-сценарий-используется" class="hash-link" aria-label="Прямая ссылка наОригинальное название: How an Expression (Или сценарий) Используется:" title="Прямая ссылка наОригинальное название: How an Expression (Или сценарий) Используется:" translate="no">​</a></h6>
<p>В ответ на запрос пользователя о табличных данных, ERDDAP™ Получает данные из серии исходных файлов. Каждый исходный файл будет генерировать таблицу (прямо из источника) данные. ERDDAP™ Затем будет проходить через таблицу необработанных данных, строка за строкой, и оценивать выражение или сценарий один раз для каждой строки, чтобы создать новую колонку, которая имеет это выражение или сценарий в качестве sourceName .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="генерировать-наборы-данныхxml">Генерировать наборы данныхXml<a href="#генерировать-наборы-данныхxml" class="hash-link" aria-label="Прямая ссылка наГенерировать наборы данныхXml" title="Прямая ссылка наГенерировать наборы данныхXml" translate="no">​</a></h6>
<p>Обратите внимание, что генерировать наборы данных Xml совершенно не знает, когда возникает необходимость в создании переменной с помощью&lt; sourceName &gt;= <em>выражение</em> &lt;/ sourceName &gt;. Вы должны создать переменную в datasets.xml От руки.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="примеры-выражений">Примеры выражений:<a href="#примеры-выражений" class="hash-link" aria-label="Прямая ссылка наПримеры выражений:" title="Прямая ссылка наПримеры выражений:" translate="no">​</a></h6>
<p>Вот несколько полных примеров переменных данных, которые используют выражение для создания нового столбца данных. Мы ожидаем, что эти примеры (и их вариации) будет охватывать около 95% использования всех форм выражения sourceName С.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="сочетая-отдельные-даты-и-time-колонки-в-единую-временную-колонку">Сочетая отдельные «даты» и &quot;time&quot; колонки в единую временную колонку:<a href="#сочетая-отдельные-даты-и-time-колонки-в-единую-временную-колонку" class="hash-link" aria-label="Прямая ссылка наСочетая отдельные «даты» и &quot;time&quot; колонки в единую временную колонку:" title="Прямая ссылка наСочетая отдельные «даты» и &quot;time&quot; колонки в единую временную колонку:" translate="no">​</a></h6>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dataVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;=Calendar2.parseToEpochSeconds(row.columnString(&quot;date&quot;) + &quot;T&quot; + </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            row.columnString(&quot;time&quot;) + &quot;Z&quot;, &quot;yyyy-MM-dd&#x27;T&#x27;HH:mm:ss&#x27;Z&#x27;&quot;)&lt;/sourceName&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;time&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;dataType&gt;double&lt;/dataType&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;att name=&quot;units&quot;&gt;seconds since 1970-01-01&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dataVariable&gt;</span><br></span></code></pre></div></div>
<p>Это sourceName Выражение делает новое &quot;time&quot; столбец путем конкатенирования значений струн из &quot;даты&quot; ( yyyy-MM-dd ) и &quot;time&quot;   (HH:mm<!-- -->:ss<!-- -->) колонки в каждой строке исходного файла и путем преобразования этой строки в &quot;seconds since 1970-01-01&quot;   (вторая эпоха) двойное значение.</p>
<p>Или, конечно, вам придется настроить строку формата времени, чтобы иметь дело с конкретным форматом в колонках даты и времени источника каждого набора данных.
<a href="#string-time-units" class="">временные единицы документация</a> .</p>
<p>Технически, вы не должны использовать Календарь2.parseToEpochВторое () Преобразовать объединенную дату + время во вторую эпоху. Вы можете просто передать дату + время Струны ERDDAP™ и указать формат (например,
yyyy-MM-dd &#x27;T&#x27;HH:mm<!-- -->:ss<!-- -->&#x27;Z&#x27;) через атрибут юнитов. Но есть значительные преимущества в преобразовании в AgeSeconds - в частности, EDDTableFromFiles может легко отслеживать диапазон значений времени в каждом файле и так быстро решать, следует ли искать в данном файле при ответе на запрос, который имеет временные ограничения.</p>
<p>Связанная с этим проблема заключается в необходимости создания единой колонки «дата+время» из источника с отдельным годом, месяцем, датой, часом, минутой, секундой. Решение очень похожее, но вам часто нужно будет обнулить многие поля, чтобы, например, месяц. (1 - 12) и дата (1 - 31) Всегда есть 2 цифры. Вот пример с годом, месяцем, датой:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=Calendar2.parseToEpochSeconds(row.columnString(&quot;year&quot;) + </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String2.zeroPad(row.columnString(&quot;month&quot;), 2) + </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String2.zeroPad(row.columnString(&quot;date&quot;), 2), &quot;yyyyMMdd&quot;)&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Связанная с этим проблема заключается в необходимости создания единого столбца широты или долготы путем объединения данных в отдельных столбцах степеней, минут и секунд исходной таблицы, каждый из которых хранится в виде целых чисел. Например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=row.columnInt(&quot;deg&quot;) + row.columnInt(&quot;min&quot;)/60.0 + </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        row.columnInt(&quot;sec&quot;)/3660.0&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="преобразование-колонки-с-значениями-долготы-от-0-до-360-в-колонку-с-значениями-от--180-до-180">Преобразование колонки с значениями долготы от 0 до 360° в колонку с значениями от -180 до 180°<a href="#преобразование-колонки-с-значениями-долготы-от-0-до-360-в-колонку-с-значениями-от--180-до-180" class="hash-link" aria-label="Прямая ссылка наПреобразование колонки с значениями долготы от 0 до 360° в колонку с значениями от -180 до 180°" title="Прямая ссылка наПреобразование колонки с значениями долготы от 0 до 360° в колонку с значениями от -180 до 180°" translate="no">​</a></h6>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dataVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;=Math2.anglePM180(row.columnDouble(&quot;lon&quot;))&lt;/sourceName&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;longitude&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;dataType&gt;double&lt;/dataType&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;att name=&quot;units&quot;&gt;degrees\\_east&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dataVariable&gt;</span><br></span></code></pre></div></div>
<p>Это sourceName выражение создает новый столбец «долготы», преобразуя двойное значение из столбца «lon» в каждой строке исходного файла (предположительно с 0 - 360 значениями) и путем преобразования этого в двойное значение -180-180.</p>
<p>Если вы хотите преобразовать значения долготы источника -180 - 180° в 0 - 360°, используйте</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=Math2.angle0360(row.columnDouble(&quot;lon&quot;))&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Назовите две переменные долготы:
Если набор данных будет иметь 2 переменных долготы, мы рекомендуем использовать destinationName = долгота для переменной -180 - 180° и destinationName = долгота 0360 (Оригинальное название: Longitude 0-360°) для переменной 0 - 360°. Это важно, потому что пользователи иногда используют расширенный поиск для поиска данных в определенном диапазоне долготы. Этот поиск будет работать лучше, если долгота последовательно имеет значения -180-180° для всех наборов данных. Кроме того, глобальные атрибуты набора данных geospatial\_lon\_min, geospatial\_lon\_max, Westernmost\_Easting и Easternmost\_Eastings будут последовательно установлены. (с значениями долготы от -180 до 180°) ;</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="преобразование-колонки-под-названием-tempf-с-температурными-значениями-в-степени-f-в-колонку-под-названием-темпс-с-температурой-в-степени-с">Преобразование колонки под названием &quot;tempF&quot; с температурными значениями в степени F в колонку под названием «темпС» с температурой в степени С:<a href="#преобразование-колонки-под-названием-tempf-с-температурными-значениями-в-степени-f-в-колонку-под-названием-темпс-с-температурой-в-степени-с" class="hash-link" aria-label="Прямая ссылка наПреобразование колонки под названием &quot;tempF&quot; с температурными значениями в степени F в колонку под названием «темпС» с температурой в степени С:" title="Прямая ссылка наПреобразование колонки под названием &quot;tempF&quot; с температурными значениями в степени F в колонку под названием «темпС» с температурой в степени С:" translate="no">​</a></h6>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dataVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;=(row.columnFloat(&quot;tempF&quot;)-32)\\*5/9&lt;/sourceName&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;tempC&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;dataType&gt;float&lt;/dataType&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;att name=&quot;units&quot;&gt;degrees\\_C&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dataVariable&gt;</span><br></span></code></pre></div></div>
<p>Это sourceName выражение создает новую колонку «tempC», преобразуя степень поплавка Значение F из столбца «tempF» в каждой строке исходного файла в степень поплавка C значение.</p>
<p>Обратите внимание, что ваш набор данных может иметь как первоначальный темп. F переменная и новый темп С переменной, имея другую переменную с</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;tempF&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="преобразование-ветровых-колонн-скорость-и-направление-в-две-колонны-с-компонентами-uv">Преобразование ветровых колонн «скорость» и «направление» в две колонны с компонентами u,v<a href="#преобразование-ветровых-колонн-скорость-и-направление-в-две-колонны-с-компонентами-uv" class="hash-link" aria-label="Прямая ссылка наПреобразование ветровых колонн «скорость» и «направление» в две колонны с компонентами u,v" title="Прямая ссылка наПреобразование ветровых колонн «скорость» и «направление» в две колонны с компонентами u,v" translate="no">​</a></h6>
<ul>
<li class="">Чтобы сделать переменную, используйте</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=row.columnFloat(&quot;speed&quot;) \\* Math.cos(row.columnFloat(&quot;direction&quot;))&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Чтобы сделать переменную v, используйте</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=row.columnFloat(&quot;speed&quot;) \\* Math.sin(row.columnFloat(&quot;direction&quot;))&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>В соответствии с u,v:</p>
<ul>
<li class="">Чтобы сделать переменную скорость, используйте</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=Math.atan2(row.columnDouble(&quot;v&quot;), row.columnDouble(&quot;u&quot;))\\[0\\]&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Чтобы изменить направление, используйте</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=Math.toDegrees(Math.atan2(row.columnDouble(&quot;v&quot;), row.columnDouble(&quot;u&quot;))\\[1\\])&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="пример-сценария">Пример сценария:<a href="#пример-сценария" class="hash-link" aria-label="Прямая ссылка наПример сценария:" title="Прямая ссылка наПример сценария:" translate="no">​</a></h6>
<p>Вот пример использования сценария, а не просто выражения, как sourceName . Мы ожидаем, что сценарии, в отличие от выражений, не будут нужны часто. В этом случае цель состоит в том, чтобы вернуть недостающее значение не-NaN. (-99) для значений температуры вне определенного диапазона. Обратите внимание, что сценарий является частью после «=».</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dataVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;=var tc=row.columnFloat(&quot;tempC&quot;); return tc&amp;gt;35 || tc&amp;lt;-5? -99.0f : tc\\*9/5+32;&lt;/sourceName&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;tempF&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;dataType&gt;float&lt;/dataType&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;att name=&quot;units&quot;&gt;degrees\\_F&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dataVariable&gt;</span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="жесткий-флаг">Жесткий флаг<a href="#жесткий-флаг" class="hash-link" aria-label="Прямая ссылка наЖесткий флаг" title="Прямая ссылка наЖесткий флаг" translate="no">​</a></h6>
<p>Если вы измените выражение или сценарий, определенный в sourceName Вы должны установить <a class="" href="/ru/docs/server-admin/additional-information#hard-flag">жесткий флаг</a> Для набора данных, чтобы ERDDAP™ удаляет всю кэшированную информацию для набора данных и перечитывает каждый файл данных (Использование нового выражения или сценария) В следующий раз он загружает набор данных. В качестве альтернативы вы можете использовать <a href="#dasdds" class="">DasDds</a> Это эквивалентно установлению жесткого флага.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="процентный-код">Процентный код<a href="#процентный-код" class="hash-link" aria-label="Прямая ссылка наПроцентный код" title="Прямая ссылка наПроцентный код" translate="no">​</a></h6>
<p>Это редко бывает актуально: Потому что выражения и сценарии написаны на datasets.xml , который является XML-документом, вы должны закодировать любой&lt;, \&gt; и символы в выражениях и сценариях как&lt;&gt; и &amp;.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="общие-проблемы">Общие проблемы<a href="#общие-проблемы" class="hash-link" aria-label="Прямая ссылка наОбщие проблемы" title="Прямая ссылка наОбщие проблемы" translate="no">​</a></h6>
<p>Основная проблема заключается в том, что вы создаете переменную. sourceName = <em>выражение</em> Но полученный столбец данных просто имеет недостающие значения. Кроме того, некоторые строки новой колонки имеют недостающие значения, и вы думаете, что они не должны. Основная проблема заключается в том, что что-то не так с выражением ERDDAP Преобразует эту ошибку в недостающее значение. Чтобы решить проблему,</p>
<ul>
<li class="">Посмотрите на выражение, чтобы увидеть, что проблема может быть.</li>
<li class="">Посмотри. <a class="" href="/ru/docs/server-admin/additional-information#log">log.txt</a> , который покажет первое сообщение об ошибке, сгенерированное при создании каждой новой колонки.</li>
</ul>
<p>Общими причинами являются:</p>
<ul>
<li class="">Ты использовал не тот случай. Выражения и сценарии чувствительны к случаю.</li>
<li class="">Вы опустили название класса. Например, вы должны использовать Math.abs () Не только Абс () .</li>
<li class="">Ты не делала конверсии. Например, если тип данных значения параметра String и у вас есть двойное значение, вам нужно преобразовать двойник в String через «»+d.</li>
<li class="">Имя столбца в выражении не совпадает с именем столбца в файле. (Имя может отличаться в некоторых файлах.) .</li>
<li class="">Существует синтаксическая ошибка в выражении (Например, недостающее или дополнительное) &quot;&quot;.</li>
</ul>
<p>Если вы застряли или нуждаетесь в помощи,
Пожалуйста, укажите детали и посмотрите наш <a class="" href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a> .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="destinationname-1">&lt; destinationName &gt;<a href="#destinationname-1" class="hash-link" aria-label="Прямая ссылка на&lt; destinationName &gt;" title="Прямая ссылка на&lt; destinationName &gt;" translate="no">​</a></h6>
<ul>
<li class="">[править]&lt; destinationName &gt; (#назначение) - имя переменной, которая будет показана и использована ERDDAP™ пользователей.<!-- -->
<ul>
<li class="">Это опционально. Если отсутствует, то <a href="#sourcename" class=""> sourceName </a> используется.</li>
<li class="">Это полезно, потому что позволяет изменить загадочный или нечетный sourceName .</li>
<li class="">destinationName Дело деликатное.</li>
<li class="">destinationName Начать нужно с письма (A-Z, a-z) За ним должно следовать 0 или более символов. (A-Z, a-z, 0-9 и) . (Допускается до ERDDAP™ Версия 1.10.) Это ограничение позволяет именам переменных данных быть одинаковыми. ERDDAP™ в файлах ответа и во всем программном обеспечении, где эти файлы будут использоваться, включая языки программирования; (как Python , Matlab и Java сценарий) где существуют аналогичные ограничения на переменные имена.</li>
<li class="">В наборах данных EDDTable, <a href="#destinationname" class="">долгота, широта, высота (или глубина) и время</a> Переменные данных являются особыми.
 </li>
</ul>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="datatype">&lt;данные Type&gt;<a href="#datatype" class="hash-link" aria-label="Прямая ссылка на&lt;данные Type&gt;" title="Прямая ссылка на&lt;данные Type&gt;" translate="no">​</a></h6>
<ul>
<li class="">[править]&lt;DataType&gt; (#тип данных) - указывает тип данных, поступающих из источника. (В некоторых случаях, например, при чтении данных из файлов ASCII, указывается, как следует хранить данные, поступающие из источника.)<!-- -->
<ul>
<li class="">Это требуется некоторыми типами наборов данных и не учитывается другими. Типы данных, которые требуют этого для своих dataVariable s являются: EDDGrid FromXxxFiles, EDDTable FromXxxFiles, EDDTableFromM WFS EDDTable FromNOS, EDDTable From SOS . Другие типы наборов данных игнорируют этот тег, потому что они получают информацию из источника.
 </li>
<li class="">Действительные значения являются любыми из стандартных <a href="#data-types" class=""> ERDDAP™ Типы данных</a> плюс булеан (см. ниже) . Имена типов данных чувствительны к случаям.
 </li>
</ul>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="boolean-data">Булевы данные<a href="#boolean-data" class="hash-link" aria-label="Прямая ссылка наБулевы данные" title="Прямая ссылка наБулевы данные" translate="no">​</a></h6>
<ul>
<li class=""><a href="#boolean-data" class="">&quot;Булин&quot;</a> Это особый случай.</li>
<li class="">Внутренне, ERDDAP™ не поддерживает булевый тип, потому что булевы не могут хранить недостающие значения, и большинство типов файлов не поддерживают булевы. Кроме того, DAP не поддерживает булевы, поэтому не будет стандартного способа запроса булевых переменных.</li>
<li class="">Укажите «boolean» для данных Введите datasets.xml Это приведет к тому, что булевые значения будут храниться и представляться в виде байтов: 0 = ложно, 1 = истинно, 127 = missing\_value .</li>
<li class="">Пользователи могут определять ограничения, используя числовые значения. (Например, «Живой = 1») .</li>
<li class="">ERDDAP™ Администраторам иногда приходится использовать «булинные» данные. Введите datasets.xml рассказывать ERDDAP™ Как взаимодействовать с источником данных (Например, для считывания булевых значений из реляционной базы данных и преобразования их в 0, 1, или 127.) .
 </li>
<li class="">Если вы хотите изменить переменную данных из DataType в исходных файлах (Например, короткий) в некоторых других данных Тип в наборе данных (Например, Int) Не используйте&lt;DataType — указать, что вы хотите. (Он работает для некоторых типов наборов данных, но не для других.) Вместо этого:<!-- -->
<ul>
<li class="">Использовать&lt;DataType&gt;, чтобы указать, что находится в файлах (Например, короткий) .</li>
<li class="">В этом&lt; addAttributes Для переменной добавьте <a href="#scale_factor" class=""> scale\_factor </a> Атрибут с новыми данными Тип (Например, Int) и значение 1, например,</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;att name=&quot;scale\\_factor&quot; type=&quot;int&quot;&gt;1&lt;/att&gt;  </span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="datavariable-addattributes">dataVariable  &lt;addAttributes&gt;<a href="#datavariable-addattributes" class="hash-link" aria-label="Прямая ссылка наdataVariable  &lt;addAttributes&gt;" title="Прямая ссылка наdataVariable  &lt;addAttributes&gt;" translate="no">​</a></h6>
<ul>
<li class="">[править]&lt; addAttributes &gt; (#вариабельные атрибуты) - определяет набор атрибутов ( <em>имя</em> = <em>ценность</em> ) которые добавляются к атрибутам источника для переменной, чтобы сделать комбинированные атрибуты для переменной. Это опционально.
Если переменная <a href="#variable-addattributes" class="">Источник Атрибуты</a> или&lt; addAttributes &gt; включать <a href="#scale_factor" class=""> scale\_factor и/или add\_offset </a> атрибуты, их значения будут использоваться для распаковки данных из источника перед распространением клиенту. Неупакованная переменная будет иметь тот же тип данных. (Например, плавать) как scale\_factor и add\_offset ценностей.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="variable-addattributes">переменный&lt;addAttributes&gt;<a href="#variable-addattributes" class="hash-link" aria-label="Прямая ссылка напеременный&lt;addAttributes&gt;" title="Прямая ссылка напеременный&lt;addAttributes&gt;" translate="no">​</a></h6>
<ul>
<li class="">
<p>[править] ** Переменные атрибуты / Переменные&lt; addAttributes &gt; ** ] (#вариабельные атрибуты) -&lt; addAttributes &gt; является опциональным тегом в пределах&lt; axisVariable или&lt; dataVariable &gt; тег, который используется для изменения атрибутов переменной.</p>
<ul>
<li class="">** Используйте переменную&lt; addAttributes Для изменения атрибутов переменной. **  ERDDAP™ объединяет атрибуты переменной из источника набора данных (** Источник Атрибуты <strong>) и переменной</strong>  addAttributes  <strong>которую вы определяете в datasets.xml   (которые имеют приоритет) чтобы сделать переменную &quot;</strong> Комбинированные атрибуты ** &quot;, которые являются ERDDAP™ Пользователи видят. Таким образом, вы можете использовать addAttributes переопределять значения атрибутов источника, добавлять новые атрибуты или удалять атрибуты.</li>
<li class="">Смотри. ** &lt; addAttributes &gt; <strong>информация] (#addattributes) Что относится к глобальным и переменным</strong> &lt; addAttributes &gt; ** .</li>
<li class="">ERDDAP™ Он ищет и использует многие из этих атрибутов различными способами. Например, значения ColorBar необходимы, чтобы сделать переменную доступной через WMS , так что карты могут быть сделаны с последовательными цветными шляпами.</li>
<li class=""><a href="#destinationname" class="">Долгота, широта, высота (или глубина) и временные переменные</a> Получение большого количества метаданных автоматически (Например, <a href="#units" class="">единицы</a> ) .</li>
<li class="">Образец&lt; addAttributes Для переменной данных:</li>
</ul>
<blockquote>
<p>    &lt;addAttributes&gt;<br>
<!-- -->          &lt;att name=&quot;actual\_range&quot; type=&quot;doubleList&quot;&gt;10.34 23.91&lt;/att&gt;<br>
<!-- -->          &lt;att name=&quot;colorBarMinimum&quot; type=&quot;double&quot;&gt;0&lt;/att&gt;<br>
<!-- -->          &lt;att name=&quot;colorBarMaximum&quot; type=&quot;double&quot;&gt;32&lt;/att&gt;<br>
<!-- -->          &lt;att name=&quot;<a href="#ioos_category" class="">ioos\_category</a>&quot;&gt;Temperature&lt;/att&gt;<br>
<!-- -->          &lt;att name=&quot;<a href="#long_name" class="">long\_name</a>&quot;&gt;Sea Surface Temperature&lt;/att&gt;<br>
<!-- -->          &lt;att name=&quot;numberOfObservations&quot; /&gt;<br>
<!-- -->          &lt;att name=&quot;<a href="#units" class="">units</a>&quot;&gt;degree\_C&lt;/att&gt;<br>
<!-- -->    &lt;/addAttributes&gt;</p>
</blockquote>
</li>
</ul>
<p>Атрибут пустого числаOfObservations вызывает атрибут исходного числаOfObservations. (если есть) быть удалены из окончательного сводного списка атрибутов.</p>
<ul>
<li class="">Предоставление этой информации помогает ERDDAP™ Сделайте свою работу лучше и помогите пользователям понять наборы данных.
Хорошие метаданные делают набор данных пригодным для использования.
Недостаток метаданных делает набор данных бесполезным.
Пожалуйста, найдите время, чтобы сделать хорошую работу с атрибутами метаданных.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="комментарии-о-переменных-атрибутах-которые-являются-особенными-erddap-">Комментарии о переменных атрибутах, которые являются особенными ERDDAP :<a href="#комментарии-о-переменных-атрибутах-которые-являются-особенными-erddap-" class="hash-link" aria-label="Прямая ссылка наКомментарии о переменных атрибутах, которые являются особенными ERDDAP :" title="Прямая ссылка наКомментарии о переменных атрибутах, которые являются особенными ERDDAP :" translate="no">​</a></h6>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="actual_range">actual\_range<a href="#actual_range" class="hash-link" aria-label="Прямая ссылка наactual\_range" title="Прямая ссылка наactual\_range" translate="no">​</a></h6>
<ul>
<li class=""><a href="#actual_range" class=""> ** actual\_range ** </a> Это рекомендуемый переменный атрибут. Например,</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;actual\_range&quot; <a href="#attributetype" class="">type=&quot;floatList&quot;</a>\&gt;0.17 23.58&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">Этот атрибут принадлежит <a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class="">CDC COARDS </a> и <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF 1,7+</a> Стандарты метаданных.</li>
<li class="">При наличии он должен представлять собой массив из двух значений одного и того же типа данных, что и тип данных назначения переменной, с указанием фактического (не теоретические или допустимые) Минимальные и максимальные значения данных для этой переменной.</li>
<li class="">Если данные упакованы <a href="#scale_factor" class=""> scale\_factor и/или add\_offset </a> , actual\_range должны иметь неупакованные значения и иметь тот же тип данных, что и неупакованные значения.</li>
<li class="">Для некоторых источников данных (Например, все EDDTable From... Файлы наборов данных) , ERDDAP™ определяет actual\_range каждой переменной и устанавливает actual\_range атрибут. с другими источниками данных (Например, реляционные базы данных, Кассандра, DAP Пер, Hyrax ) Это может быть трудно или обременительно для источника, чтобы вычислить диапазон. ERDDAP™ не требует этого. В этом случае лучше всего, если вы можете установить actual\_range   (особенно для долготы, широты, высоты, глубины и временных переменных) путем добавления actual\_range Для каждой переменной [&lt; addAttributes &gt; (#addattributes) Для этого набора данных в datasets.xml Например,</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;actual\_range&quot; <a href="#attributetype" class="">type=&quot;doubleList&quot;</a>\&gt;-180 180&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">Для числового <a href="#time-units" class="">переменные времени и метки времени</a> , указанные значения должны быть соответствующим источником (Не пункт назначения) численные значения. Например, если значения времени источника хранятся как «дни с 1985-01-01», то actual\_range Уточняется в &quot;днях с 1985-01-01&quot;. И если вы хотите назвать NOW вторым значением для данных, которые периодически обновляются, вы должны использовать NaN. Например, для указания диапазона данных 1985-01-17 до СЕЙЧАС используйте</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;actual\_range&quot; <a href="#attributetype" class="">type=&quot;doubleList&quot;</a>\&gt;16 NaN&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">Если actual\_range Известен (либо ERDDAP™ Вычисление или добавление через&lt; addAttributes &gt; ERDDAP™ отобразит его пользователю в форме доступа к данным ( * datasetID * .html) Создайте веб-страницы Graph ( * datasetID * граф) для этого набора данных и использовать его при генерации метаданных FGDC и ISO 19115. Кроме того, последние 7 дней actual\_range Используются как подмножество времени по умолчанию.</li>
<li class="">Если actual\_range Известно, что пользователи могут использовать <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#min" target="_blank" rel="noopener noreferrer" class="">мин. () и макс () функции</a> В запросах, которые часто очень полезны.</li>
<li class="">Для всех EDDTable ... наборы данных, если actual\_range известен (либо путем его указания, либо ERDDAP™ вычислять) , ERDDAP™ Вы сможете быстро отклонить любые запросы на данные за пределами этого диапазона. Например, если наименьшее значение времени набора данных соответствует 1985-01-17, то запрос на все данные с 1985-01-01 по 1985-01-16 будет немедленно отклонен сообщением об ошибке «Ваш запрос не дал соответствующих результатов». Это делает actual\_range Очень важная часть метаданных, так как она может сохранить ERDDAP™ Много усилий и экономит пользователю много времени. Это свидетельствует о том, что actual\_range значения не должны быть более узкими, чем фактический диапазон данных; в противном случае ERDDAP™ может ошибочно сказать «Нет соответствующих данных», когда на самом деле есть соответствующие данные.</li>
<li class="">Когда пользователь выбирает подмножество данных и запрашивает тип файла, который включает метаданные (Например, .nc ) , ERDDAP™ изменять actual\_range в файле ответа для отражения диапазона подмножества.</li>
<li class="">Смотрите также <a href="#data_min-and-data_max" class=""> data\_min и data\_max </a> которые являются альтернативным способом определения actual\_range . Но сейчас они обесценились, так как actual\_range Определяется CF 1,7+.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="color-bar-attributes">Цветовые атрибуты бара<a href="#color-bar-attributes" class="hash-link" aria-label="Прямая ссылка наЦветовые атрибуты бара" title="Прямая ссылка наЦветовые атрибуты бара" translate="no">​</a></h6>
<p>Существует несколько ОПЦИАЛЬНЫХ переменных атрибутов, которые определяют предлагаемые атрибуты по умолчанию для цветовой полосы. (используется для преобразования значений данных в цвета на изображениях) Для этой переменной.</p>
<ul>
<li class="">
<p>При наличии эта информация используется в качестве информации по умолчанию с помощью griddap и tabledap Каждый раз, когда вы запрашиваете изображение, которое использует цветную полосу.</p>
</li>
<li class="">
<p>Например, когда сетчатые данные широты и долготы отображаются в виде покрытия на карте, цветовая полоса определяет, как значения данных преобразуются в цвета.</p>
</li>
<li class="">
<p>Наличие этих значений позволяет ERDDAP™ Для создания изображений, которые используют согласованную цветовую полосу по различным запросам, даже если время или другие значения измерения различаются.</p>
</li>
<li class="">
<p>Эти имена были созданы для использования в ERDDAP . Они не являются стандартом метаданных.</p>
</li>
<li class="">
<p>Атрибуты, связанные с цветовой гаммой:</p>
<ul>
<li class="">** colorBarMinimum ** Указывает минимальное значение на цветном шаре. Например,</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;colorBarMinimum&quot; <a href="#attributetype" class="">type=&quot;double&quot;</a>\&gt;-5&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">Если данные упакованы <a href="#scale_factor" class=""> scale\_factor и/или add\_offset </a> указать colorBarMinimum как неупакованная стоимость.</li>
<li class="">Значения данных ниже, чем colorBarMinimum Они имеют тот же цвет, что и colorBarMinimum ценностей.</li>
<li class="">Атрибут должен быть <a href="#attributetype" class="">Тип = &quot;двойной&quot;</a> независимо от типа переменной.</li>
<li class="">Обычно это хорошее круглое число.</li>
<li class="">Лучшие практики: Мы рекомендуем значение чуть выше минимального значения данных.</li>
<li class="">Не существует значения по умолчанию.</li>
</ul>
</li>
<li class="">
<p>** colorBarMaximum ** Указывается максимальное значение на цветном баре. Например,</p>
</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;colorBarMaximum&quot; <a href="#attributetype" class="">type=&quot;double&quot;</a>\&gt;5&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">Если данные упакованы <a href="#scale_factor" class=""> scale\_factor и/или add\_offset </a> указать colorBarMinimum как неупакованная стоимость.</li>
<li class="">Значения данных выше, чем colorBarMaximum Они имеют тот же цвет, что и colorBarMaximum ценностей.</li>
<li class="">Атрибут должен быть <a href="#attributetype" class="">Тип = &quot;двойной&quot;</a> независимо от типа переменной.</li>
<li class="">Обычно это хорошее круглое число.</li>
<li class="">Лучшие практики: Мы рекомендуем значение чуть ниже максимального значения данных.</li>
<li class="">Не существует значения по умолчанию.</li>
<li class=""><strong>цвет Барпалетт</strong> Указывает палитру для цветного бара. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;colorBarPalette&quot;&gt;WhiteRedBlack&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Все ERDDAP™ Установки поддерживают эти стандартные палитры: BlackBlueWhite, BlackRedWhite, BlackWhite, BlueWhiteRed, LightRainbow, Ocean, OceanDepth, Rainbow, RedWhiteBlue, ReverseRainbow, TopographyDepth \[ Добавлено в v1.74 \] , WhiteBlack, WhiteBlueBlack и WhiteRedBlack.</li>
<li class="">Если вы установили <a class="" href="/ru/docs/server-admin/additional-information#palettes">дополнительные палитры</a> Вы можете обратиться к одному из них.</li>
<li class="">Если этот атрибут отсутствует, по умолчанию используется BlueWhiteRed, если \-1\* colorBarMinimum = colorBarMaximum В противном случае по умолчанию будет радуга.</li>
<li class=""><strong>ColorBarScale</strong> Определяет шкалу для цветного бара. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;colorBarScale&quot;&gt;Log&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Действительные значения — линейные и логические.</li>
<li class="">Если значение лога, colorBarMinimum должно быть больше 0.</li>
<li class="">Если этот атрибут отсутствует, по умолчанию является линейным.</li>
<li class=""><strong>цвет Непрерывный</strong> Уточняется, имеет ли цвет Бар непрерывную палитру цветов, или же цвет Бар имеет несколько дискретных цветов. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;colorBarContinuous&quot;&gt;false&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Действительные значения — это строки истинные и ложные.</li>
<li class="">Если этого атрибута нет, по умолчанию это правда.</li>
<li class=""><strong>Цветовая гарнитура</strong> Указывает количество разделов по умолчанию на ColorBar. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;colorBarNSections&quot; type=&quot;int&quot;&gt;6&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Действительные значения являются положительными целыми числами.</li>
<li class="">Если этого атрибута нет, по умолчанию \-1, который говорит ERDDAP™ Выберите количество секций в зависимости от диапазона цветового бара.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="wms">WMS<a href="#wms" class="hash-link" aria-label="Прямая ссылка наWMS" title="Прямая ссылка наWMS" translate="no">​</a></h6>
<p>Основные требования к переменной, доступной через ERDDAP ? WMS Серверы это:</p>
<ul>
<li class="">Набор данных должен быть EDDGrid ... набор данных.</li>
<li class="">Переменная данных должна быть сетчатой переменной.</li>
<li class="">Переменная данных должна иметь переменные оси долготы и широты. (Другие переменные оси являются опциональными.)</li>
<li class="">Должно быть некоторое значение долготы между -180 и 180.</li>
<li class="">The colorBarMinimum и colorBarMaximum атрибуты должны быть указаны. (Другие цветовые атрибуты являются опциональными.)</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="data_min-and-data_max">data\_min и data\_max<a href="#data_min-and-data_max" class="hash-link" aria-label="Прямая ссылка наdata\_min и data\_max" title="Прямая ссылка наdata\_min и data\_max" translate="no">​</a></h6>
<ul>
<li class=""><a href="#data_min-and-data_max" class=""> ** data\_min ** и ** data\_max ** </a> - Это устаревшие переменные атрибуты, определенные в эксперименте по циркуляции мирового океана. (ВУЗ) Описание метаданных. Например,</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;data\_min&quot; <a href="#attributetype" class="">type=&quot;float&quot;</a>\&gt;0.17&lt;/att&gt;<br>
<!-- -->&lt;att name=&quot;data\_max&quot; <a href="#attributetype" class="">type=&quot;float&quot;</a>\&gt;23.58&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">Мы рекомендуем использовать <a href="#actual_range" class=""> actual\_range </a> вместо того, чтобы data\_min и data\_max Потому что actual\_range В настоящее время определяется спецификацией CF.</li>
<li class="">Если они присутствуют, они должны иметь тот же тип данных, что и тип данных назначения переменной, и указать фактический тип данных. (не теоретические или допустимые) Минимальные и максимальные значения данных для этой переменной.</li>
<li class="">Если данные упакованы <a href="#scale_factor" class=""> scale\_factor и/или add\_offset </a> , data\_min и data\_max должны быть неупакованными значениями с использованием неупакованного типа данных.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="variable-drawlandmask">переменный drawLandMask<a href="#variable-drawlandmask" class="hash-link" aria-label="Прямая ссылка напеременный drawLandMask" title="Прямая ссылка напеременный drawLandMask" translate="no">​</a></h6>
<ul>
<li class=""><a href="#variable-drawlandmask" class=""> ** drawLandMask ** </a> - Это опциональный атрибут переменной, используемый ERDDAP™   (Отсутствие стандартов метаданных) который определяет значение по умолчанию для опции «Draw Land Mask» в форме Make A Graph набора данных ( * datasetID * граф) и для параметра &amp;.land в URL, запрашивающем карту данных. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;drawLandMask&quot;&gt;under&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Видишь? <a href="#drawlandmask" class=""> drawLandMask обзор</a> .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="encoding">кодирование<a href="#encoding" class="hash-link" aria-label="Прямая ссылка накодирование" title="Прямая ссылка накодирование" translate="no">​</a></h6>
<ul>
<li class=""><a href="#encoding" class=""> <strong>\_ Кодирование</strong> </a></li>
<li class="">Этот атрибут может использоваться только с струнными переменными.</li>
<li class="">Этот атрибут настоятельно рекомендуется.</li>
<li class="">Этот атрибут принадлежит <a href="https://docs.unidata.ucar.edu/netcdf-java/current/userguide/index.html" target="_blank" rel="noopener noreferrer" class=""> NetCDF Руководство пользователя (Нюг) </a> .</li>
<li class="">внутренне внутри ERDDAP™ Струны представляют собой последовательность из 2-байтовых символов, которые используют <a href="https://en.wikipedia.org/wiki/UTF-16" target="_blank" rel="noopener noreferrer" class="">Уникальный код UCS-2</a> .</li>
<li class="">Многие типы файлов поддерживают только 1-байтовые символы в строках и, следовательно, нуждаются в этом атрибуте для идентификации ассоциированных символов.
<a href="https://en.wikipedia.org/wiki/Code_page" target="_blank" rel="noopener noreferrer" class="">шарсет (Кодовая страница AKA) </a> который определяет, как сопоставить 256 возможных значений с набором из 256 символов, взятых из набора символов UCS-2 и/или системы кодирования, например, <a href="https://en.wikipedia.org/wiki/UTF-8" target="_blank" rel="noopener noreferrer" class="">UTF-8</a>   (который требует от 1 до 4 байт на символ) .</li>
<li class="">Значения для \_Encoding нечувствительны к регистру.</li>
<li class="">В теории, ERDDAP™ может поддерживать идентификаторы кодирования из <a href="https://www.iana.org/assignments/character-sets/character-sets.xhtml" target="_blank" rel="noopener noreferrer" class="">Список IANA</a> Но на практике, ERDDAP™ В настоящее время только поддержка<!-- -->
<ul>
<li class="">ISO-8859-1 (Обратите внимание, что у него есть тире, а не подчеркивания) , который имеет то преимущество, что он идентичен первым 256 символам Unicode, и</li>
<li class="">UTF-8.</li>
</ul>
</li>
<li class="">При чтении исходных файлов значение по умолчанию составляет ISO-8859-1, за исключением файлов netcdf-4, где по умолчанию находится UTF-8.</li>
<li class="">Это постоянная проблема, потому что многие исходные файлы используют шарсеты или кодировки, которые отличаются от ISO-8859-1. Например, многие исходные файлы данных имеют некоторые метаданные, скопированные и вставленные из Microsoft Word в Windows, и, таким образом, имеют причудливые дефисы и апострофы из специфичного для Windows набора вместо дефисов и апострофов ASCII. Затем эти персонажи появляются как странные персонажи или «в»? ERDDAP .
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="fileaccessbaseurl">FileAccessBaseUrl<a href="#fileaccessbaseurl" class="hash-link" aria-label="Прямая ссылка наFileAccessBaseUrl" title="Прямая ссылка наFileAccessBaseUrl" translate="no">​</a></h6>
<ul>
<li class="">** <a href="#fileaccessbaseurl" class="">FileAccessBaseUrl</a> FileAccessSuffix** Очень редко используются атрибуты, которые не являются стандартными. Если колонка EDDTable имеет имена файлов веб-доступных файлов (например, изображение, видео или аудио файлы) Вы можете добавить</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;fileAccessBaseUrl&quot;&gt;*someBaseURL*&lt;/a&gt;  </span><br></span></code></pre></div></div>
<p>Указать базовый URL (Конец с /) Нужно было сделать имена файлов в полные URL. В необычных случаях, например, когда столбец имеет ссылки на файлы .png, но значения не имеют «.png», вы можете добавить:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;fileAccessSuffix&quot;&gt;*someSuffix*&lt;/a&gt;  </span><br></span></code></pre></div></div>
<p>(например,&lt;Att name=&quot;fileAccessSuffix&quot;&gt;.png&lt;/a&gt;
указать суффикс, который будет добавлен, чтобы сделать имена файлов в полные URL-адреса. Тогда для .htmlTable ответы, ERDDAP™ Отобразит имя файла как ссылку на полный URL (основание Url плюс имя файла плюс суффикс) .</p>
<p>Если ты хочешь ERDDAP™ Чтобы обслуживать связанные файлы, сделайте отдельный <a href="#eddtablefromfilenames" class="">EDDTable FromFileNames</a> набор данных для этих файлов (Это может быть частный набор данных.) .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="fileaccessarchiveurl">FileAccessArchive Урл<a href="#fileaccessarchiveurl" class="hash-link" aria-label="Прямая ссылка наFileAccessArchive Урл" title="Прямая ссылка наFileAccessArchive Урл" translate="no">​</a></h6>
<ul>
<li class=""><a href="#fileaccessarchiveurl" class=""> <strong>FileAccessArchive Урл</strong> </a> Это очень редко используемый атрибут, который не является стандартом. Если колонка EDDTable имеет имена файлов веб-доступных файлов (например, изображение, видео или аудио файлы) которые доступны через архив (например, .zip файл) доступный через URL, использовать&lt;Att name=&quot;fileAccessArchiveUrl&quot;&gt; <em>петля</em> &lt;/att&gt;, чтобы указать URL для архива.</li>
</ul>
<p>Если ты хочешь ERDDAP™ для обслуживания архивного файла, сделать отдельный <a href="#eddtablefromfilenames" class="">EDDTable FromFileNames</a> Набор данных для этого файла (Это может быть частный набор данных.) .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="ioos_category">ioos\_category<a href="#ioos_category" class="hash-link" aria-label="Прямая ссылка наioos\_category" title="Прямая ссылка наioos\_category" translate="no">​</a></h6>
<ul>
<li class="">
<p><a href="#ioos_category" class=""> ** ioos\_category ** </a> - Это обязательный атрибут переменной, если&lt;Переменные MustHaveIoosCategory&gt; устанавливаются на истинное (по умолчанию) в <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> В противном случае он опционален.
Например,&lt;Att name=&quot;&quot; ioos\_category &quot;Салинность&quot;&lt;/att&gt;
Категории являются от <a href="https://ioos.noaa.gov/" target="_blank" rel="noopener noreferrer" class=""> NOAA Интегрированная система наблюдения за океаном (ИООС) </a> .</p>
</li>
<li class="">
<p>(Как написать это) Мы не знаем формальных определений этих названий.</p>
</li>
<li class="">
<p>Оригинальное название: Zdenka Willis&#x27; .ppt &quot;Integrated Ocean Observing System (ИООС)   NOAA «Подход к созданию первоначальной операционной способности» и <a href="https://www.iooc.us/wp-content/uploads/2010/11/US-IOOS-Blueprint-for-Full-Capability-Version-1.0.pdf" target="_blank" rel="noopener noreferrer" class="">Проект US IOOS</a>   (страница 1-5) .</p>
</li>
<li class="">
<p>Вполне вероятно, что этот список будет пересмотрен в будущем. Если у вас есть запросы, пожалуйста, напишите Крису. Джон на noaa.gov.</p>
</li>
<li class="">
<p>ERDDAP™ Поддерживает больший список категорий, чем IOOS, потому что Боб Саймонс добавил дополнительные имена. (в основном на основе названий научных областей, например, биологии, экологии, метеорологии, статистики, таксономии) Для других типов данных.</p>
</li>
<li class="">
<p>Текущие действительные значения в ERDDAP™ Это Bathymetry, Biology, Bottom Character, CO2, Colored Dissolved Organic Matter, Contaminants, Currents, Dissolved Nutrients, Dissolved O2, Ecology, Fish Abundance, Fish Species, Heat Flux, Hydrology, Ice Distribution, Identifier, Location, Meteorology, Ocean Color, Optical Properties, Other, Pathogens, Phytoplankton Species, Pressure, Productivity, Quality, Salinity, Sea Level, Statistics, Stream Flow, Surface Waves, Taxonomy, Temperature, Time, Total Suspended Matter, Unknown, Wind, Zooplankton Species, and Zooplankton Abundance.</p>
</li>
<li class="">
<p>Есть некоторое совпадение и двусмысленность между различными терминами - делайте все возможное.</p>
</li>
<li class="">
<p>Если добавить ioos\_category к списку&lt; categoryAttributes &gt; в ERDDAP ? <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> файл, пользователи могут легко найти наборы данных с аналогичными данными через ERDDAP «Поиск наборов данных по категориям» на главной странице.
<a href="https://coastwatch.pfeg.noaa.gov/erddap/categorize/ioos_category/index.html?page=1&amp;itemsPerPage=1000" target="_blank" rel="noopener noreferrer" class="">Попробуйте использовать ioos\_category Поиск наборов данных, представляющих интерес.</a></p>
</li>
<li class="">
<p>Там было <a href="https://groups.google.com/forum/#!topic/erddap/TnwbgzpSS0w" target="_blank" rel="noopener noreferrer" class="">Дискуссия о ERDDAP™ и ioos\_category в ERDDAP™ Google Group.</a></p>
</li>
</ul>
<p>У вас может возникнуть соблазн установить&lt;переменных MustHaveIoosCategory&gt;, чтобы этот атрибут не требовался. (&quot;Пффт! Что это для меня?) Несколько причин оставить его верным (по умолчанию) и использовать ioos\_category это:</p>
<ul>
<li class="">Если setup.xml&lt;переменные MustHaveIoosCategory Искренне верно, <a href="#generatedatasetsxml" class="">Генерировать наборы данныхXml</a> всегда создает/предлагает ioos\_category атрибут для каждой переменной в каждом новом наборе данных. Так почему бы просто не оставить его?</li>
<li class="">ERDDAP™ Позволяет пользователям искать наборы данных по категориям. ioos\_category Это очень полезная категория поиска, потому что категории ioos (Например, температура) Они довольно широкие. Это делает ioos\_category гораздо лучше для этой цели, чем, например, гораздо более мелкозернистый CF standard\_name s (которые не так хороши для этой цели из-за всех синонимов и незначительных вариаций, например, температура моря Море_вода_температура) .
(Использование) ioos\_category С этой целью контролируется&lt; categoryAttributes В файле setup.xml.
<a href="https://coastwatch.pfeg.noaa.gov/erddap/categorize/ioos_category/index.html?page=1&amp;itemsPerPage=1000" target="_blank" rel="noopener noreferrer" class="">Попробуйте использовать ioos\_category Поиск наборов данных, представляющих интерес.</a></li>
<li class="">Эти категории от <a href="https://ioos.noaa.gov/" target="_blank" rel="noopener noreferrer" class=""> NOAA Интегрированная система наблюдения за океаном (ИООС) </a> . Эти категории имеют основополагающее значение для описания миссии УСВН. Если вы находитесь в NOAA Поддерживая ioos\_category Это хорошо Один. NOAA Что делать. (Смотри сюда. <a href="https://www.youtube.com/watch?v=nBnCsMYm2yQ" target="_blank" rel="noopener noreferrer" class="">Один NOAA видео</a> И вдохновитесь!) Если вы находитесь в каком-то другом американском или международном агентстве, или работаете с правительственными агентствами, или работаете с какой-то другой системой наблюдения за океаном, разве это не хорошая идея сотрудничать с офисом IOOS США?</li>
<li class="">Рано или поздно вам может понадобиться другой ERDDAP™ Ссылка на ваши наборы данных через <a href="#eddfromerddap" class=""> EDDGrid Из Эрддапа</a> и <a href="#eddfromerddap" class="">EDDTable FromErddap</a> . Если другой ERDDAP™ требует ioos\_category Ваши данные должны иметь ioos\_category Для того чтобы EDDGrid FromErddap и EDDTableFromErddap для работы</li>
<li class="">С психологической точки зрения его гораздо проще включить. ioos\_category Когда вы создаете набор данных (Это просто еще одна вещь, которая ERDDAP™ Требуется добавить набор данных в ERDDAP ) Чтобы добавить его после факта (Если вы решили использовать его в будущем) .
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="long_name">long\_name<a href="#long_name" class="hash-link" aria-label="Прямая ссылка наlong\_name" title="Прямая ссылка наlong\_name" translate="no">​</a></h6>
<ul>
<li class=""><a href="#long_name" class=""> ** long\_name ** </a>   ( <a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class=""> COARDS </a> , <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> и <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарты метаданных) является рекомендуемым переменным атрибутом в ERDDAP . Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;long\\_name&quot;&gt;Eastward Sea Water Velocity&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">ERDDAP™ использует long\_name для маркировки топоров на графиках.</li>
<li class="">Лучшие практики: Капитализировать слова в long\_name Как если бы это был титул (капитализировать первое слово и все нестатейные слова) . Не включайте единицы в long\_name . Долгое имя не должно быть длинным (как правило).&lt;20 символов), но должна быть более описательной, чем <a href="#destinationname" class=""> destinationName </a> , который часто бывает очень лаконичным.</li>
<li class="">Если long\_name &quot;не определено в переменной <a href="#variable-addattributes" class="">Источник Атрибуты</a> или&lt; addAttributes &gt; ERDDAP™ Он будет генерироваться путем очистки <a href="#standard_name" class=""> standard\_name </a>   (если присутствует) или destinationName .
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="missing_value">missing\_value<a href="#missing_value" class="hash-link" aria-label="Прямая ссылка наmissing\_value" title="Прямая ссылка наmissing\_value" translate="no">​</a></h6>
<ul>
<li class=""><a href="#missing_value" class=""> ** missing\_value ** </a> и <strong>\_Fill ценность</strong>   ( <a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class=""> COARDS </a> и <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> ) переменные атрибуты, описывающие число (Например, -9999) Используется для обозначения недостающего значения. Например,</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;missing\_value&quot; <a href="#attributetype" class="">type=&quot;double&quot;</a>\&gt;-9999&lt;/att&gt;</p>
</blockquote>
<p>Для струнных переменных по умолчанию для обоих является &quot;&quot; (Пустая струна) .
Для числовых переменных по умолчанию для обоих является NaN.</p>
<ul>
<li class="">ERDDAP™ поддерживает оба missing\_value и \_FillValue, так как некоторые источники данных придают им несколько иные значения.</li>
<li class="">При наличии они должны быть того же типа данных, что и переменная.</li>
<li class="">Если данные упакованы <a href="#scale_factor" class=""> scale\_factor и/или add\_offset </a> , missing\_value и \_FillValue значения должны быть также упакованы. Аналогично, для столбца со значениями даты/времени строки, в котором используется локальный <a href="#time_zone" class=""> time\_zone </a> , missing\_value и \_FillValue значения должны использовать местный часовой пояс.</li>
<li class="">Если переменная использует эти специальные значения, missing\_value и/или \_FillValue атрибуты являются обязательными.</li>
<li class="">Для <a href="#time-units" class="">переменные времени и метки времени</a>   (Является ли источник строкой или числом) , missing\_value s и \_FillValues отображаются как &quot;&quot; (Пустая струна) Когда время пишется как строка и как NaN, когда время пишется как двойное. Исходные значения для missing\_value и \_FillValue не будет отображаться в метаданных переменной.</li>
<li class="">Для струнных переменных, ERDDAP™ Всегда конвертирует любой missing\_value s или \_FillValue значения данных в &quot; (Пустая струна) . Исходные значения для missing\_value и \_FillValue не будет отображаться в метаданных переменной.</li>
<li class="">Для числовых переменных:
The missing\_value и \_FillValue появится в метаданных переменной.
Для некоторых форматов выходных данных, ERDDAP™ Эти специальные номера останутся нетронутыми, например, вы увидите -9999.
Для других форматов выходных данных (текстовые форматы, такие как .csv и .htmlTable ) , ERDDAP™ Эти специальные номера будут заменены на NaN или &quot;&quot;.</li>
<li class="">Некоторые типы данных имеют врожденные отсутствующие маркеры значений, которые не должны быть явно идентифицированы с помощью missing\_value атрибуты \_FillValue: поплавковые и двойные переменные имеют NaN (Не числом) , значения струн используют пустую строку, а значения char имеют характер \uffff   (символ #65535, значение Unicode для Not a Character) . Целые типы данных не имеют присущих им отсутствующих маркеров значений.</li>
<li class="">Если целочисленная переменная имеет недостающее значение (Например, пустая позиция в файле .csv.) , ERDDAP™ интерпретировать значение как определенное missing\_value или \_FillValue для этой переменной. Если они не определены, ERDDAP™ будет интерпретировать значение как отсутствующее значение по умолчанию для этого типа данных, которое всегда является максимальным значением, которое может удерживаться этим типом данных:
127 для байтовых переменных, 32767 для коротких, 2147483647 для int, 9223372036854775807 надолго,
255 для ubyte, 65535 для ushort, 4294967295 для uint и 18446744073709551615 для ulong.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="add-_fillvalue-attributes">ADD \_FillValue ATTRIBUTES ?<a href="#add-_fillvalue-attributes" class="hash-link" aria-label="Прямая ссылка наADD \_FillValue ATTRIBUTES ?" title="Прямая ссылка наADD \_FillValue ATTRIBUTES ?" translate="no">​</a></h6>
<ul>
<li class=""><a href="#add-_fillvalue-attributes" class=""> ADD \_FillValue ATTRIBUTES ?</a><br>
<!-- -->Каждый раз ERDDAP™ загружает набор данных, проверяет, имеют ли переменные с целыми типами исходных данных определенный missing\_value \_FillValue атрибут. Если переменной нет, то ERDDAP™ Отпечатывает сообщение в файл журнала (Начните с «Добавить атрибут \_FillValue»?) Рекомендовать, чтобы ERDDAP™ Администратор добавляет \_Fill Атрибут значения этой переменной в datasets.xml . Для каждой переменной очень полезно иметь \_FillValue или missing\_value потому что недостающие значения всегда возможны, например, если данный файл в наборе данных не имеет заданной переменной, ERDDAP™ Эта переменная должна иметь все недостающие значения для этой переменной. Если вы решите, что переменная не должна иметь атрибут \_FillValue, вы можете добавить:
&lt;Att names=&quot;\_FillValue&quot;&gt;null&lt;Вместо этого /att&gt;, который будет подавлять сообщение для этого datasetID Переменная комбинация в будущем.</li>
</ul>
<p>Каждый раз ERDDAP™ Запускается, он собирает все эти рекомендации в сообщение, которое записывается в файл журнала. (начиная с &quot; ADD \_FillValue ATTRIBUTES ?) По электронной почте к ERDDAP™ администратора, и записан в файл данных CSV \[ BigParent Директория \] /logs/ каталог. При желании можно воспользоваться программой GenerateDatasetsXml. (и опция AddFillValueAttributes) применять все предложения в файле CSV к datasets.xml Файл. Для любого из datasetID /изменные комбинации в этом файле, если вы решите, что нет необходимости добавлять атрибут, вы можете изменить атрибут на&lt;Att names=&quot;\_FillValue&quot;&gt;null&lt;/att&gt;, чтобы подавить рекомендацию для этого datasetID Переменная комбинация в будущем.</p>
<p>Это важно!
Как часто говорил Боб, это было бы плохо. (и смущает) Если некоторые из свидетельств глобального потепления были вызваны неопознанными отсутствующими значениями в данных (Например, значения температуры 99 или 127 градусов C, которые должны были быть помечены как недостающие значения и, таким образом, перекосили среднюю и/или среднюю статистику выше;) .</p>
<ul>
<li class="">Полная стоимость и missing\_value значения для данной переменной в различных исходных файлах должны быть последовательными; в противном случае ERDDAP™ Мы принимаем файлы с одним набором значений и отклоняем все другие файлы как «плохие файлы». Чтобы решить проблему,<!-- -->
<ul>
<li class="">Если файлы сетчатые .nc Файлы, которые вы можете использовать <a href="#eddgridfromncfilesunpacked" class=""> EDDGrid Из NcFilesUnpacked</a> .</li>
<li class="">Если файлы являются табличными файлами данных, вы можете использовать EDDTable From...Files &quot; <a href="#standardizewhat" class="">стандартизировать Что?</a> рассказывать ERDDAP Стандартизация исходных файлов по мере их чтения ERDDAP .</li>
<li class="">Для более сложных задач вы можете использовать <a href="#ncml-files" class="">NcML</a> или <a href="#netcdf-operators-nco" class=""> NCO </a> Чтобы решить проблему.
 </li>
</ul>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="scale_factor">scale\_factor<a href="#scale_factor" class="hash-link" aria-label="Прямая ссылка наscale\_factor" title="Прямая ссылка наscale\_factor" translate="no">​</a></h6>
<ul>
<li class=""><a href="#scale_factor" class=""> ** scale\_factor ** </a>   (Дефолт = 1) и ** add\_offset **   (Дефолт = 0)   ( <a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class=""> COARDS </a> и <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> ) Опциональные переменные атрибуты, описывающие данные, которые упакованы в более простой тип данных посредством простой трансформации.</li>
<li class="">При наличии их тип данных отличается от типа исходных данных и описывает тип данных значений назначения.
Например, источник данных мог хранить значения поплавковых данных с одной десятичной цифрой, упакованной в виде коротких интов. (Int16) используя scale\_factor = 0,1 и add\_offset = 0, например,</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;scale\_factor&quot; <a href="#attributetype" class="">type=&quot;float&quot;</a>\&gt;0.1&lt;/att&gt;<br>
<!-- -->&lt;att name=&quot;add\_offset&quot; <a href="#attributetype" class="">type=&quot;float&quot;</a>\&gt;0&lt;/att&gt;</p>
</blockquote>
<p>В этом примере, ERDDAP™ распаковывать данные и представлять их пользователю в виде плавающих значений данных.</p>
<ul>
<li class="">Если присутствует, ERDDAP™ будет извлекать значения из этих атрибутов, удалять атрибуты и автоматически распаковывать данные для пользователя:
пункт назначения Значение = источник Значение * scale\_factor + add\_offset<br>
<!-- -->Или, говоря иначе:
неупакованная ценность = упакованная Значение * scale\_factor + add\_offset</li>
<li class="">The scale\_factor и add\_offset значения для данной переменной в различных исходных файлах должны быть последовательными; в противном случае ERDDAP™ Мы принимаем файлы с одним набором значений и отклоняем все другие файлы как «плохие файлы». Чтобы решить проблему,<!-- -->
<ul>
<li class="">Если файлы сетчатые .nc Файлы, которые вы можете использовать <a href="#eddgridfromncfilesunpacked" class=""> EDDGrid Из NcFilesUnpacked</a> .</li>
<li class="">Если файлы являются табличными файлами данных, вы можете использовать EDDTable From...Files &quot; <a href="#standardizewhat" class="">стандартизировать Что?</a> рассказывать ERDDAP Стандартизация исходных файлов по мере их чтения ERDDAP .</li>
<li class="">Для более сложных задач вы можете использовать <a href="#ncml-files" class="">NcML</a> или <a href="#netcdf-operators-nco" class=""> NCO </a> Чтобы решить проблему.
 </li>
</ul>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="standard_name">standard\_name<a href="#standard_name" class="hash-link" aria-label="Прямая ссылка наstandard\_name" title="Прямая ссылка наstandard\_name" translate="no">​</a></h6>
<ul>
<li class=""><a href="#standard_name" class=""> ** standard\_name ** </a>   (из которого <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> стандарт метаданных) является рекомендуемым переменным атрибутом в ERDDAP . CF ведет список разрешенных <a href="https://cfconventions.org/Data/cf-standard-names/current/build/cf-standard-name-table.html" target="_blank" rel="noopener noreferrer" class="">Стандартные названия CF</a> . Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;standard\\_name&quot;&gt;eastward\\_sea\\_water\\_velocity&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Если добавить standard\_name атрибуты переменных и добавить standard\_name к списку&lt; categoryAttributes &gt; в ERDDAP ? <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> файл, пользователи могут легко найти наборы данных с аналогичными данными через ERDDAP «Поиск наборов данных по категориям» на главной странице.</li>
<li class="">Если вы указали CF standard\_name Для переменной атрибут единицы для переменной не должен быть идентичным каноническим единицам, указанным для стандартного имени в таблице стандартного имени CF, но единицы должны быть конвертируемыми в канонические единицы. Например, все связанные с температурой CF standard\_name У тебя есть &quot;К&quot; (Кельвин) Канонические единицы. Переменная, связанная с температурой standard\_name Должны иметь единицы K, градус \C, градус \F или некоторый вариант UDUnits этих имен, поскольку все они являются взаимопревращаемыми.</li>
<li class="">Лучшие практики: Часть власти <a href="https://en.wikipedia.org/wiki/Controlled_vocabulary" target="_blank" rel="noopener noreferrer" class="">контролируемые словари</a> Это происходит от использования только терминов в списке. Поэтому мы рекомендуем придерживаться терминов, определенных в контролируемом словаре, и мы рекомендуем не составлять термин, если в списке нет подходящего. Если вам нужны дополнительные термины, посмотрите, будет ли комитет по стандартам добавлять их в контролируемый словарь.</li>
<li class="">standard\_name Значения являются единственными значениями атрибута CF, которые чувствительны к регистру. Все они всегда ниже. Начинать с ERDDAP™ v1.82, GenerateDatasets преобразует заглавные буквы в заглавные буквы. И когда набор данных загружается в ERDDAP Верхние буквы молча меняются на нижние буквы.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="time_precision">time\_precision<a href="#time_precision" class="hash-link" aria-label="Прямая ссылка наtime\_precision" title="Прямая ссылка наtime\_precision" translate="no">​</a></h6>
<ul>
<li class="">time\_precision Опциональный атрибут, используемый ERDDAP™   (Отсутствие стандартов метаданных) для <a href="#time-units" class="">переменные времени и метки времени</a> , которые могут быть в сетчатых наборах данных или табличных наборах данных, и в axisVariable s или dataVariable С. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;time\\_precision&quot;&gt;1970-01-01&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>time\_precision Определяет точность, которую следует использовать каждый раз ERDDAP™ форматирует временные значения из этой переменной в виде строк на веб-страницах, включая .htmlTable Ответы. В форматах файлов, где ERDDAP™ Форматы time as strings (Например, .csv и .json ) , ERDDAP™ использует только time\_precision - определенный формат, если он включает дробные секунды; в противном случае ERDDAP™ использует 1970-01-01T00:00:00 Формат Z.</p>
<ul>
<li class="">Действительные значения: 1970-01, 1970-01-01, 1970-01-01T00Z, 1970-01-01T00:00Z, 1970-01-01T00:00Z (по умолчанию) , 1970-01-01T00:00:00.0Z, 1970-01-01T00:00.00Z, 1970-01-01T00:00:00.000Z. \[ 1970 год не является вариантом, потому что это одно число. ERDDAP™ Не могу понять, является ли это отформатированной строкой времени. (год) или если это некоторое количество секунд с 197001-01T00:00:00Z. \]</li>
<li class="">Если time\_precision не указано или значение не совпадает, будет использоваться значение по умолчанию.</li>
<li class="">Здесь, как и в других частях ERDDAP™ Любые поля отформатированного времени, которые не отображаются, имеют минимальное значение. Например, 1985-07, 1985-07-01, 1985-07-01T00Z, 1985-07-01T00:00Z и 1985-07-01T00:00:00. Z считаются эквивалентными, хотя подразумеваются различные уровни точности. Это соответствует <a href="https://www.iso.org/iso/date_and_time_format" target="_blank" rel="noopener noreferrer" class="">ISO 8601:2004 &quot;extended&quot; Спецификация формата времени</a> .</li>
<li class=""><strong>Предупреждение:</strong> Вы должны использовать только ограниченный time\_precision если <strong>все</strong> Значения данных для переменной имеют только минимальное значение для всех скрытых полей.</li>
<li class="">Например, вы можете использовать time\_precision 1970-01-01, если все значения данных имеют час = 0, минута = 0 и секунда = 0 (Например, 2005-03-04T00:00:00Z и 2005-03-05T00:00:00Z) .</li>
<li class="">Например, не используйте time\_precision 1970-01-01, если имеются значения, не равные 0 часам, минутам или секундам, (Например, 2005-03-05T12:00:00Z) Потому что значение не по умолчанию не будет отображаться. В противном случае, если пользователь запрашивает все данные со временем = 2005-03-05, запрос неожиданно потерпит неудачу.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="time_zone">time\_zone<a href="#time_zone" class="hash-link" aria-label="Прямая ссылка наtime\_zone" title="Прямая ссылка наtime\_zone" translate="no">​</a></h6>
<ul>
<li class=""><a href="#time_zone" class=""> ** time\_zone ** </a></li>
<li class="">time\_zone Опциональный атрибут, используемый ERDDAP™   (Отсутствие стандартов метаданных) для <a href="#time-units" class="">переменные времени и метки времени</a> , которые могут быть в сетчатых наборах данных или табличных наборах данных.</li>
<li class="">По умолчанию &quot; Zulu &quot; (Это современная версия часового пояса GMT.) .</li>
<li class="">Справочная информация: &quot;смещение времени&quot; (Тихоокеанское стандартное время, -08:00, GMT-8) фиксированные, специфические, смещения относительно Zulu   (ГМТ) . Напротив, «временные зоны» — это гораздо более сложные вещи, на которые влияет экономия дневного света. (Например, «США/Тихоокеанский регион») которые имели разные правила в разных местах в разное время. В часовых поясах всегда есть имена, так как они не могут быть суммированы простым значением смещения. (см. колонку «Имена баз данных TZ» в таблице <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones" target="_blank" rel="noopener noreferrer" class="">https://en.wikipedia.org/wiki/List\_of\_tz\_database\_time\_zones</a> ) . ERDDAP ? time\_zone Атрибут помогает обрабатывать данные о местном времени из определенного часового пояса. (например, 1987-03-25T17:32:05 Тихий океан Время) . Если у вас есть строковые или числовые данные времени (фиксированный) Смещение времени, вы должны просто настроить данные на Zulu   (Что это такое ERDDAP™ хотеть) путем указания другого базового времени в атрибуте единицы (Например, &quot;часы с 197001-01T08:00:00Z&quot;, обратите внимание на T08, чтобы указать время смещения) Всегда проверяйте результаты, чтобы убедиться, что вы получите желаемые результаты.</li>
<li class="">Для переменных временной метки с исходными данными из строк этот атрибут позволяет указать часовой пояс, который ведет ERDDAP™ Преобразование времени источника локального времени (Некоторые в стандартное время, некоторые в дневное время) в Zulu время (Что всегда в стандартное время) . Список действительных названий часовых поясов, вероятно, идентичен списку в столбце TZ. <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones" target="_blank" rel="noopener noreferrer" class="">https://en.wikipedia.org/wiki/List\_of\_tz\_database\_time\_zones</a> . Общие часовые пояса США: США / Гавайи, США / Аляска, США / Тихий океан, США / Гора, США / Аризона, США / Центральная, США / Восточная.</li>
<li class="">Для переменных временной метки с числовыми исходными данными можно указать &quot; time\_zone «Атрибут, но ценность должна быть» Zulu &quot;или &quot;UTC&quot;. Если вам нужна поддержка для других часовых поясов, пожалуйста, напишите Крису. Джон на noaa.gov.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="legacy_time_adjust">Обсуждение legacy_time_adjust<a href="#legacy_time_adjust" class="hash-link" aria-label="Прямая ссылка наОбсуждение legacy_time_adjust" title="Прямая ссылка наОбсуждение legacy_time_adjust" translate="no">​</a></h6>
<ul>
<li class=""><a href="#legacy_time_adjust" class=""> <strong>Обсуждение legacy_time_adjust</strong> </a> Начинать с ERDDAP™ 2.29.0, временные переменные работают немного по-разному. В редких случаях, скорее всего, при использовании <code>дней с тех пор</code> За год до 1582 года (так <code>дней с 0000-01-01</code> или <code>дней с 1-1-1 00:00:0.0</code> ) Вам нужно будет указать для корректировки переменной даты. Причиной этого является ERDDAP™ Использует библиотеку java.time для внутреннего управления датами. Есть некоторые наборы данных, которые требуют использования старой библиотеки Грегорианского календаря для получения правильных дат.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;axisVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;time&lt;/sourceName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;destinationName&gt;time&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;!-- sourceAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ... removed several lines ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;units&quot;&gt;days since 1-1-1 00:00:0.0&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/sourceAttributes --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ... removed several lines ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;legacy_time_adjust&quot;&gt;true&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/axisVariable&gt;</span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="units">единицы<a href="#units" class="hash-link" aria-label="Прямая ссылка наединицы" title="Прямая ссылка наединицы" translate="no">​</a></h6>
<ul>
<li class=""><a href="#units" class=""> <strong>единицы</strong> </a>   ( <a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class=""> COARDS </a> , <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> и <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> стандарт метаданных) определяет единицы значений данных. Например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;units&quot;&gt;degree\\_C&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">
<p>«Единицы» требуются либо в качестве исходного атрибута, либо в качестве дополнительного атрибута для &quot;time&quot; переменных и настоятельно рекомендуется для других переменных, когда это необходимо; (который почти всегда) .</p>
</li>
<li class="">
<p>В целом мы рекомендуем <a href="https://www.unidata.ucar.edu/software/udunits/" target="_blank" rel="noopener noreferrer" class="">UDUnits</a> Совместимые единицы, которые требуются для <a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class=""> COARDS </a> и <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> стандартов.</p>
</li>
<li class="">
<p>Другим стандартом является <a href="https://unitsofmeasure.org/ucum.html" target="_blank" rel="noopener noreferrer" class="">UCUM</a> Единый кодекс единиц измерения. <a href="https://www.ogc.org/" target="_blank" rel="noopener noreferrer" class=""> OGC </a> таких услуг, как <a href="https://www.ogc.org/standards/sos" target="_blank" rel="noopener noreferrer" class=""> SOS </a> , <a href="https://www.ogc.org/standards/wcs" target="_blank" rel="noopener noreferrer" class=""> WCS </a> и <a href="https://www.ogc.org/standards/wms" target="_blank" rel="noopener noreferrer" class=""> WMS </a> требует UCUM и часто называет UCUM UOM. (Единицы измерения) .</p>
</li>
<li class="">
<p>Мы рекомендуем вам использовать один стандарт для всех наборов данных. ERDDAP . Ты должен сказать ERDDAP™ какой стандарт вы используете&lt;Единицы\_стандарт&gt;, в вашем <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> Файл.</p>
</li>
<li class="">
<p>Единицы для данной переменной в различных исходных файлах должны быть последовательными. Если у вас есть набор файлов данных, где одно подмножество файлов использует различные значения блоков, чем одно или несколько других подмножеств файлов (например,
&quot;дни с 1985-01-01&quot; против &quot;дней с 2000-01-01&quot;,
&quot;degree\_Celsius&quot; против &quot;deg\_C&quot;, или
&quot;узелки&quot; против &quot;м/с&quot;) вам нужно найти способ стандартизировать значения единиц, иначе, ERDDAP™ Загрузит только одно подмножество файлов. Подумайте об этом: если один файл имеет WindSpeed unit=knots, а другой имеет WindSpeed unit=m/s, то значения из двух файлов не должны быть включены в один и тот же агрегированный набор данных.</p>
<ul>
<li class="">Если файлы сетчатые .nc Файлы во многих ситуациях, которые вы можете использовать <a href="#eddgridfromncfilesunpacked" class=""> EDDGrid Из NcFilesUnpacked</a> .</li>
<li class="">Если файлы являются табличными файлами данных, во многих ситуациях вы можете использовать EDDTable From...Files. &quot; <a href="#standardizewhat" class="">стандартизировать Что?</a> рассказывать ERDDAP Стандартизация исходных файлов по мере их чтения ERDDAP .</li>
<li class="">Для более сложных задач вы можете использовать <a href="#ncml-files" class="">NcML</a> или <a href="#netcdf-operators-nco" class=""> NCO </a> Чтобы решить проблему.</li>
</ul>
</li>
<li class="">
<p>Стандартный раздел 8.1 CF гласит, что если данные переменной упакованы через <a href="#scale_factor" class=""> scale\_factor и/или add\_offset </a> Единицы переменной должны быть репрезентативными для неупакованных данных.</p>
</li>
<li class="">
<p><a href="#time-units" class="">Для переменных времени и времени,</a> либо переменная <a href="#variable-addattributes" class="">Источник Атрибуты</a> или&lt; addAttributes &gt; (который имеет приоритет) Должно быть <a href="#units" class="">единицы</a> который либо</p>
</li>
<li class="">
<p>Для переменных оси времени или переменных данных времени с числовыми данными: <a href="https://www.unidata.ucar.edu/software/udunits/" target="_blank" rel="noopener noreferrer" class="">UDUnits</a> Совместимая строка (с форматом <em>единицы</em> с тех пор <em>время</em> ) Как интерпретировать значения времени источника (Например, секунды с 197001-01T00:00:00Z) .</p>
</li>
</ul>
<p><em>единицы</em> может быть любой из:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    ms, msec, msecs, millis, millisec, millisecs, millisecond, milliseconds,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    s, sec, secs, second, seconds, m, min, mins, minute, minutes, h, hr, hrs, hour, hours,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    d, day, days, week, weeks, mon, mons, month, months, yr, yrs, year, or years.  </span><br></span></code></pre></div></div>
<p>Технически, ERDDAP™ Не следует за UDUNITS Стандарт при преобразовании &quot;years since&quot; и &quot;months since&quot; Значения времени для &quot;seconds since&quot; . The UDUNITS Стандарт определяет год как фиксированное единственное значение: 3.15569259747e7 секунд. И UDUNITS Месяц определяется как год/12. К сожалению, большинство / все наборы данных, которые мы видели, которые используют &quot;years since&quot; или &quot;months since&quot; Значения должны быть календарными годами или календарными месяцами. Например, 3 &quot;months since 1970-01-01&quot; Обычно подразумевается 197004-01. Итак, ERDDAP™ толковать &quot;years since&quot; и &quot;months since&quot; как календарные годы и месяцы и не строго соблюдает UDUNITS стандарт.</p>
<p>The <em>время</em> Должен быть ISO 8601:2004 (Е) Форматированная строка времени даты ( yyyy-MM-dd &#x27;T&#x27;HH:mm<!-- -->:ssZ<!-- -->, например, 1970-01-01T00:00:00Z) или некоторые вариации этого (Например, с отсутствующими частями в конце) . ERDDAP™ Старается работать с широким спектром вариаций этого идеального формата, например, поддерживается «1970-1-1 0:0:0». Если информация о часовом поясе отсутствует, предполагается, что Zulu часовой пояс (Как GMT) . Даже если указан другой временной зачет, ERDDAP™ Никогда не используйте летнее время. Если BaseTime использует другой формат, вы должны использовать&lt; addAttributes &gt; для определения новой строки единиц, в которой используется вариация ISO 8601:2004 (Е) формат (например, изменить дни с 1 января 1985 года на дни с 1985-01-01).</p>
<p>Вы можете проверить ERDDAP Способность справляться с конкретным <em>единицы</em> с тех пор <em>время</em> с ERDDAP ? <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html" target="_blank" rel="noopener noreferrer" class="">Преобразователь времени</a> . Надеюсь, вы можете подключить номер (Первое значение из источника данных?) и строку единиц, нажмите на Конверт, и ERDDAP™ Превратить его в ISO 8601:2004 (Е) Форматированная строка времени даты. Преобразователь возвращает сообщение об ошибке, если строка блоков не распознается.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="string-time-units">струнные единицы времени<a href="#string-time-units" class="hash-link" aria-label="Прямая ссылка наструнные единицы времени" title="Прямая ссылка наструнные единицы времени" translate="no">​</a></h6>
<ul>
<li class=""><a href="#string-time-units" class="">Для единиц атрибута для переменных данных времени или временных меток с данными String,</a> Вы должны указать a <a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html" target="_blank" rel="noopener noreferrer" class="">java.time.DateTimeFormatter</a> шаблон (Совместимость с java.text. SimpleDateFormat) Описывает, как интерпретировать время строки.</li>
</ul>
<p>Для широко используемых форматов времени, которые являются вариациями ISO 8601:2004 (Е) стандартный формат (Например, 2018-01-02T00:00:00Z) Вы можете указать вариации yyyy-MM-dd &#x27;T&#x27;HH:mm<!-- -->:ssZ<!-- -->, например, использовать yyyy-MM-dd Если время строки имеет только дату. Для любого формата, который начинается с Yyyy-M, ERDDAP Использует специальный парсер, который очень прощает незначительные вариации в формате. Парсер может обрабатывать часовые пояса в форматах «Z», «UTC», «GMT», ±XX<!-- -->:XX<!-- -->, ±XXXX и ±XXX. Если части даты не указаны (Например, минуты и секунды) , ERDDAP™ принимает наименьшее значение для этого поля (Например, если секунды не указаны, предполагается, что секунды = 0) .</p>
<p>Для всех других форматов времени строки необходимо точно указать строку формата времени, совместимую с DateTimeFormatter. Как будто yyyy-MM-dd T&#x27;HH:mm<!-- -->:ssZ<!-- -->, эти строки формата построены из символов, которые идентифицируют определенный тип информации из временной строки, например, m означает минуту часа. Если вы повторяете символ формата несколько раз, он дополнительно уточняет значение, например, m означает, что значение может быть определено любым количеством цифр, мм означает, что значение должно быть указано 2 цифрами. The Java Документация для DateTimeFormatter является грубым обзором и не делает эти детали ясными. Итак, вот список вариаций символов формата и их значение внутри. ERDDAP™   (который иногда немного отличается от Java ДатаTimeFormatter) :</p>
<table><thead><tr><th>Персонажи</th><th>Примеры</th><th>значение</th></tr></thead><tbody><tr><td>У, у, у</td><td>\-4712, 0, 1, 10, 100, 2018</td><td>Годовое число, любое количество цифр. ERDDAP™ лечит y (годичный) и Y (неделя на основе года, потому что это часто ошибочно используется вместо) Как и ты, <a href="https://en.wikipedia.org/wiki/Astronomical_year_numbering" target="_blank" rel="noopener noreferrer" class="">Астрономическое число года</a> . Астрономические годы являются положительными или отрицательными целыми числами, которые не используют BCE. (BC) или CE (AD) Обозначения эпохи: 2018=2018CE, ..., 2=2CE, 1=1CE, 0=1BCE, -1=2BCE, -2=3BCE, ...</td></tr><tr><td>Уууу, уй-й, YYYYY</td><td>\-4712 0000 0001, 0010, 0100, 2018</td><td>4-значный астрономический год (Игнорирование любого предшествующего &quot;-&quot;)</td></tr><tr><td>Мм</td><td>1, 01, 12</td><td>число месяца, любое число цифр (1=январь)</td></tr><tr><td>ММ</td><td>01, 12</td><td>2 цифры (нулевой) номер месяца</td></tr><tr><td>МММ</td><td>Ян, Джан, Ян</td><td>3 буквы английское имя месяца, случай нечувствительный</td></tr><tr><td>ММММ</td><td>Ян, Ян, Ян, Январь, Январь, Январь</td><td>3 буквы или полное английское имя месяца, случай нечувствительный</td></tr><tr><td>d</td><td>1, 01, 31</td><td>число дня месяца, любое число цифр</td></tr><tr><td>dd</td><td>01, 31</td><td>2 цифры (нулевой) День месяца. Первой «цифрой» может быть пространство.</td></tr><tr><td>D</td><td>1, 001, 366</td><td>день года, любое количество цифр, 001 = 1 января</td></tr><tr><td>ДДД</td><td>001, 366</td><td>день года, 3 цифры, 001 = 1 января</td></tr><tr><td>ЭЭЭ</td><td>Ту, Ту, Ту</td><td>3 буквы в день недели, значение игнорируется при анализе</td></tr><tr><td>EEEE</td><td>Ту, Ту, Ту, четверг, четверг, четверг</td><td>3 буквы или полный английский день недели, случай нечувствительный, значение игнорируется при анализе</td></tr><tr><td>H</td><td>0, 00, 23</td><td>H час дня (0-23) , любое количество цифр</td></tr><tr><td>HH</td><td>00, 23</td><td>HH час дня (00-23) 2 цифры. Первой «цифрой» может быть пространство.</td></tr><tr><td>а</td><td>am, AM, pm, PM</td><td>АМ или ПМ, чувствительные к случаям</td></tr><tr><td>h</td><td>12, 1, 01, 11</td><td>час ночи (12, 1, 2, ... 11) , любое количество цифр</td></tr><tr><td>hh</td><td>12, 01, 11</td><td>час ночи (12, 1, 2, ... 11) 2 цифры. Первой «цифрой» может быть пространство.</td></tr><tr><td>К.</td><td>0, 1, 11</td><td>час ночи (0, 1, ...11) , любое количество цифр</td></tr><tr><td>КК</td><td>00,01,11</td><td>час ночи, 2 цифры</td></tr><tr><td>м</td><td>0, 00, 59</td><td>минута в час, любое количество цифр</td></tr><tr><td>мм</td><td>00, 59</td><td>минута в час, 2 цифры</td></tr><tr><td>s</td><td>0, 00, 59</td><td>секунда минуты, любое количество цифр</td></tr><tr><td>ss</td><td>00, 59</td><td>секунда минуты, 2 цифры</td></tr><tr><td>S</td><td>0, 000, 9, 999</td><td>доля секунды, как если бы после десятичной точки, любое число цифр</td></tr><tr><td>SS</td><td>00, 99</td><td>сотые доли секунды, 2 цифры</td></tr><tr><td>ССС</td><td>000, 999</td><td>тысячи секунд, 3 цифры</td></tr><tr><td>А.</td><td>0 0000, 86399999</td><td>Миллисекунда дня, любое количество цифр</td></tr><tr><td>AAAAAAA</td><td>00000000, 86399999</td><td>Миллисекунда дня, 8 цифр</td></tr><tr><td>N</td><td>0 000000000000000000, 86399999999999</td><td>Наносекунда дня, любое количество цифр. в ERDDAP™ Это усечено до nMillis.</td></tr><tr><td>NNNNNNNNNNNNNN</td><td>00000000000000, 86399999999999</td><td>Наносекунда дня, 14 цифр. в ERDDAP™ Это усечено до nMillis.</td></tr><tr><td>n</td><td>0 00000000000, 59999999999</td><td>Наносекунда секунды, любое количество цифр. в ERDDAP™ Это усечено до nMillis.</td></tr><tr><td>nnnnnnnnnnnn</td><td>00000000000, 59999999999</td><td>Наносекунда секунды, 11 цифр. в ERDDAP™ Это усечено до nMillis.</td></tr><tr><td>XXX, ZZZ</td><td>Z, -08:00, +01:00</td><td>часовой пояс с форматом «Z» или ± (2-значный час смещения) : (2-значная минута смещения) . Это лечит <em>пространство</em> как + (нестандартный) . Поддержка ZZZ не является стандартной, но имеет дело с распространенной ошибкой пользователя.</td></tr><tr><td>XX, ZZ</td><td>Z -0800, +0100</td><td>часовой пояс с форматом «Z» или ± (2-значный час смещения) : (2-значная минута смещения) . Это лечит <em>пространство</em> как + (нестандартный) . Поддержка ZZ не является стандартной, но имеет дело с распространенной ошибкой пользователя.</td></tr><tr><td>X, Z</td><td>Z, -08, +01</td><td>часовой пояс с форматом «Z» или ± (2-значный час смещения) : (2-значная минута смещения) . Это лечит <em>пространство</em> как + (нестандартный) . Поддержка Z не является стандартной, но имеет дело с распространенной ошибкой пользователя.</td></tr><tr><td>xxx</td><td>\-08:00, +01:00</td><td>часовой пояс с форматом ± (2-значный час смещения) : (2-значная минута смещения) . Это лечит <em>пространство</em> как + (нестандартный) .</td></tr><tr><td>xx</td><td>\-0800 +0100</td><td>часовой пояс с форматом ± (2-значный час смещения)  (2-значная минута смещения) . Это лечит <em>пространство</em> как + (нестандартный) .</td></tr><tr><td>х</td><td>\-08, +01</td><td>часовой пояс с форматом ± (2-значный час смещения) . Это лечит <em>пространство</em> как + (нестандартный) .</td></tr><tr><td>&quot;</td><td>&quot;T&quot;, &quot;Z&quot;, &quot;GMT&quot;</td><td>Начало и конец серии буквальных символов</td></tr><tr><td>&quot; &quot; (Две единичные цитаты)</td><td>&quot; &quot;</td><td>Две отдельные цитаты обозначают буквальную единственную цитату</td></tr><tr><td>\[  \]</td><td>\[   \]</td><td>начало (&quot; \[ &quot;) и конец (&quot; \] &quot;) Факультативный раздел. Эта запись поддерживается только для буквальных символов и в конце строки формата.</td></tr><tr><td>#, { }</td><td>#, { }</td><td>Зарезервировано для будущего использования</td></tr><tr><td>G,L,Q,e,c,V,z,O,p</td><td></td><td>Эти символы форматирования поддерживаются Java DateTimeFormatter, но в настоящее время не поддерживается ERDDAP . Если вам нужна поддержка, напишите Крису. Джон на noaa.gov.</td></tr></tbody></table>
<p>Примечания:</p>
<ul>
<li class="">Во время даты с пунктуацией числовые значения могут иметь переменное число цифр. (Например, в американском формате даты слэша «1/2/1985» месяц и дата могут быть 1 или 2 цифры.) Таким образом, формат должен использовать токены с 1 буквой, например, M/d/yyyy, которые принимают любое количество цифр за месяц и дату.</li>
<li class="">Если число цифр для элемента является постоянным, например, 01/02/1985, то укажите количество цифр в формате, например, MM/dd/yyyy для 2-значного месяца, 2-значной даты и 4-значного года.</li>
<li class="">С этими форматами сложно работать. Данный формат может работать для большинства, но не для всех строк времени для данной переменной. Всегда проверяйте, что указанный вами формат работает так, как ожидалось. ERDDAP Для всех струн времени переменной.</li>
<li class="">Когда это возможно, GenerateDatasetXml предложит строки формата времени.</li>
<li class="">Если вам нужна помощь в создании строки формата, пожалуйста, напишите Крису. Джон на noaa.gov.</li>
</ul>
<p>Основная переменная данных времени (для табличных наборов данных) и основной переменной оси времени (для сетчатых наборов данных) признаются в качестве <a href="#destinationname" class=""> destinationName </a> Время. Метаданные их единиц должны быть строкой UDUnits-совместимых единиц для числовых значений времени, например, «дни с 197001-01». (для табличных или сетчатых наборов данных) или <a href="#string-time-units" class="">Единицы, подходящие для струнного времени</a> Например, &quot;M/d/yyyy&quot; (для табличных наборов данных) .</p>
<p>Разные единицы времени в разных сетках .nc Файлы - Если у вас есть коллекция .nc файлы, где для переменной времени одно подмножество файлов использует разные единицы времени, чем одно или несколько других подмножеств файлов, вы можете использовать <a href="#eddgridfromncfilesunpacked" class=""> EDDGrid Из NcFilesUnpacked</a> . Преобразует временные значения в &quot;seconds since 1970-01-01T00:00:00Z&quot; на более низком уровне, тем самым скрывая различия, чтобы можно было сделать один набор данных из набора разнородных файлов.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="timestamp-variables">Переменные TimeStamp<a href="#timestamp-variables" class="hash-link" aria-label="Прямая ссылка наПеременные TimeStamp" title="Прямая ссылка наПеременные TimeStamp" translate="no">​</a></h6>
<p><a href="#timestamp-variables" class="">Переменные TimeStamp</a> - Любая другая переменная ( axisVariable или dataVariable В одном EDDGrid или EDDTable Dataset) может быть временной переменной. Переменные метки времени — это переменные, которые имеют связанные со временем единицы и данные времени, но имеют&lt; destinationName Кроме времени. Переменные TimeStamp ведут себя как основная переменная времени в том, что они преобразуют формат времени источника в &quot;seconds since 1970-01-01T00:00:00Z&quot; и/или ISO 8601:2004 (Е) формат). ERDDAP™ Признает время Штамповые переменные в зависимости от их времени&quot;. <a href="#units" class="">единицы</a> &quot;метаданные, которые должны соответствовать этому регулярному выражению&quot; \[ a-zA-Z \] + + С тех пор + \[ 0-9 \] .+&quot; (для числовой даты Времена, например, &quot;seconds since 1970-01-01T00:00:00Z&quot; ) Или быть датой Строка формата времени, содержащая «uuuu», «yyyy» или «YYYY» (Например, &quot; yyyy-MM-dd T&#x27;HH:mm<!-- -->:ssZ<!-- -->) . Пожалуйста, продолжайте использовать destinationName   &quot;time&quot; На главную дату Переменная времени.</p>
<p><strong>Всегда проверяйте свою работу, чтобы убедиться, что данные о времени, которые отображаются в вашей работе. ERDDAP™ Это правильные временные данные.</strong> Работа с данными времени всегда сложная и подвержена ошибкам.</p>
<p>Видишь? <a href="#destinationname" class="">Больше информации о переменных времени</a> .
ERDDAP™ имеет полезность для <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html" target="_blank" rel="noopener noreferrer" class="">Преобразовать числовой Время в/из струнного времени</a> .
Видишь? <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html#erddap" target="_blank" rel="noopener noreferrer" class="">Как ERDDAP™ Сделки со временем</a> .
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="valid_range">valid\_range<a href="#valid_range" class="hash-link" aria-label="Прямая ссылка наvalid\_range" title="Прямая ссылка наvalid\_range" translate="no">​</a></h6>
<ul>
<li class=""><a href="#valid_range" class=""> ** valid\_range ** или ** valid\_min ** и ** valid\_max ** </a> - Это опциональные переменные атрибуты, определенные в <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> Соглашения о метаданных. Например,</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;valid\_range&quot; <a href="#attributetype" class="">type=&quot;floatList&quot;</a>\&gt;0.0 40.0&lt;/att&gt;</p>
</blockquote>
<p>или</p>
<blockquote>
<p>&lt;att name=&quot;valid\_min&quot; <a href="#attributetype" class="">type=&quot;float&quot;</a>\&gt;0.0&lt;/att&gt;<br>
<!-- -->&lt;att name=&quot;valid\_max&quot; <a href="#attributetype" class="">type=&quot;float&quot;</a>\&gt;40.0&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">Если они присутствуют, они должны иметь тот же тип данных, что и переменная, и указать действительные минимальные и максимальные значения данных для этой переменной. Пользователи должны считать значения за пределами этого диапазона недействительными.</li>
<li class="">ERDDAP™ не применять тот valid\_range . Сказал другой способ: ERDDAP™ не преобразовывать значения данных за пределы valid\_range Заполнить \_Fill ценность или missing\_value . ERDDAP™ Просто передайте эти метаданные и оставьте приложение на ваше усмотрение.
Почему? Вот для чего нужны эти метаданные. Если бы поставщик данных хотел, поставщик данных мог бы преобразовать значения данных за пределами valid\_range Быть \_FillValues ERDDAP™ Во-вторых, не угадайте поставщика данных. Такой подход более безопасен: если впоследствии будет показано, что valid\_range была слишком узкой или неправильной; ERDDAP™ Мы не будем уничтожать данные.</li>
<li class="">Если данные упакованы <a href="#scale_factor" class=""> scale\_factor и/или add\_offset </a> , valid\_range , valid\_min и valid\_max должен быть тип и значения упакованных данных. С тех пор ERDDAP™ применяется scale\_factor и add\_offset Когда он загружает набор данных, ERDDAP™ распаковать будет valid\_range , valid\_min и valid\_max значения так, чтобы метаданные назначения (показаны пользователям) Укажет неупакованный тип и диапазон данных.
Или, если распаковать valid\_range Присутствует атрибут, он будет переименован valid\_range когда ERDDAP™ загружает набор данных.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="removemvrows">&lt;удалить MVRows&gt;<a href="#removemvrows" class="hash-link" aria-label="Прямая ссылка на&lt;удалить MVRows&gt;" title="Прямая ссылка на&lt;удалить MVRows&gt;" translate="no">​</a></h5>
<ul>
<li class="">[править] ** &lt;Скачать MVRows ** ] (#удаление) Это опциональный тег внутри тега в datasets.xml Для EDDTable FromFiles (включая все подклассы) Наборы данных используются только для EDDTableFromMultidimNcFiles. Он может иметь значение истинного или ложного. Например, истинный
Это удаляет любой блок строк в конце группы, где все значения missing\_value , \_FillValue, or the CoHort ... Array native missing value (char=#32 для CharArrays) . Это относится к типу файлов CF DSG Multidimensional Array и аналогичным файлам. Если это правда, это делает правильный тест и поэтому всегда загружает все максимальные тусклые переменные, поэтому это может занять дополнительное время.
Значение по умолчанию является ложным.
Рекомендация - Если это возможно для вашего набора данных, мы рекомендуем установить удаление MVRows на ложный. Настройка removeMVRows на истинный может значительно замедлить запросы, хотя может потребоваться для некоторых наборов данных.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/datasets.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Редактировать эту страницу</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Страницы Docs"><a class="pagination-nav__link pagination-nav__link--prev" href="/ru/docs/server-admin/deploy-update"><div class="pagination-nav__sublabel">Предыдущий</div><div class="pagination-nav__label">обновление</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ru/docs/server-admin/additional-information"><div class="pagination-nav__sublabel">Следующий</div><div class="pagination-nav__label">Дополнительная информация</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Введение</a><ul><li><a href="#some-assembly-required" class="table-of-contents__link toc-highlight">Некоторая сборка требуется</a></li><li><a href="#varaibles-in-datasetsxml" class="table-of-contents__link toc-highlight">Переменные в datasets.xml</a></li><li><a href="#data-provider-form" class="table-of-contents__link toc-highlight">Поставщик данных форма</a></li><li><a href="#tools" class="table-of-contents__link toc-highlight">Инструменты</a></li><li><a href="#generatedatasetsxml" class="table-of-contents__link toc-highlight">Генерировать наборы данныхXml</a></li><li><a href="#dasdds" class="table-of-contents__link toc-highlight">DasDds</a></li><li><a href="#bonus-third-party-tool-erddap-lint" class="table-of-contents__link toc-highlight">Бонус Инструмент третьей стороны: ERDDAP - кремень</a></li></ul></li><li><a href="#the-basic-structure-of-the-datasetsxml-file" class="table-of-contents__link toc-highlight">Основная структура этого datasets.xml Файл</a><ul><li><a href="#xinclude" class="table-of-contents__link toc-highlight">XInclude</a></li></ul></li><li><a href="#notes" class="table-of-contents__link toc-highlight">Заметки</a><ul><li><a href="#choosing-the-dataset-type" class="table-of-contents__link toc-highlight">Выбор типа набора данных</a></li><li><a href="#serving-the-data-as-is" class="table-of-contents__link toc-highlight">Обслуживание данных как есть</a></li><li><a href="#hint" class="table-of-contents__link toc-highlight">подсказка</a></li><li><a href="#encoding-special-characters" class="table-of-contents__link toc-highlight">Кодирование специальных символов</a></li><li><a href="#xml-doesnt-tolerate-syntax-errors" class="table-of-contents__link toc-highlight">XML не терпит синтаксических ошибок</a></li><li><a href="#troubleshooting-tips" class="table-of-contents__link toc-highlight">Устранение неполадок Советы</a></li><li><a href="#special-variables" class="table-of-contents__link toc-highlight">Специальные переменные</a></li><li><a href="#why-just-two-basic-data-structures" class="table-of-contents__link toc-highlight">Почему только две основные структуры данных?</a></li><li><a href="#dimensions" class="table-of-contents__link toc-highlight">Размеры</a></li><li><a href="#projected-gridded-data" class="table-of-contents__link toc-highlight">Проектируемые сетчатые данные</a></li><li><a href="#data-types" class="table-of-contents__link toc-highlight">Типы данных</a></li><li><a href="#data-type-limitations" class="table-of-contents__link toc-highlight">Ограничения типа данных</a></li><li><a href="#data-type-comments" class="table-of-contents__link toc-highlight">Комментарии типа данных</a></li><li><a href="#media-files" class="table-of-contents__link toc-highlight">Медиафайлы</a></li><li><a href="#working-with-aws-s3-files" class="table-of-contents__link toc-highlight">Работа с файлами AWS S3</a></li><li><a href="#ncml-files" class="table-of-contents__link toc-highlight">Файлы NcML</a></li><li><a href="#netcdf-operators-nco" class="table-of-contents__link toc-highlight">NetCDF Операторы ( NCO )</a></li><li><a href="#limits-to-the-size-of-a-dataset" class="table-of-contents__link toc-highlight">Ограничения размера набора данных</a></li><li><a href="#switch-to-acdd-13" class="table-of-contents__link toc-highlight">Переключение на ACDD-1.3</a></li><li><a href="#zarr" class="table-of-contents__link toc-highlight">Зарр</a></li></ul></li><li><a href="#list-of-types-datasets" class="table-of-contents__link toc-highlight">Список типов наборов данных</a><ul><li><a href="#eddgrid" class="table-of-contents__link toc-highlight">EDDGrid</a></li><li><a href="#eddtable" class="table-of-contents__link toc-highlight">EDDTable</a></li></ul></li><li><a href="#detailed-descriptions-of-dataset-types" class="table-of-contents__link toc-highlight">Подробное описание типов наборов данных</a><ul><li><a href="#eddgridfromdap" class="table-of-contents__link toc-highlight">EDDGrid Из папы</a></li><li><a href="#eddgridfromeddtable" class="table-of-contents__link toc-highlight">EDDGrid Издательство</a></li><li><a href="#eddfromerddap" class="table-of-contents__link toc-highlight">EDD* From ERDDAP</a></li><li><a href="#eddgridfrometopo" class="table-of-contents__link toc-highlight">EDDGrid Из Этопо</a></li><li><a href="#eddgridfromfiles" class="table-of-contents__link toc-highlight">EDDGrid Из материалов</a></li><li><a href="#eddfromaudiofiles" class="table-of-contents__link toc-highlight">EDD*Из аудиофайлов</a></li><li><a href="#eddgridfrommergeirfiles" class="table-of-contents__link toc-highlight">EDDGrid Изображения MergeIRFiles</a></li><li><a href="#eddgridfromncfiles" class="table-of-contents__link toc-highlight">EDDGrid Из NcFiles</a></li><li><a href="#eddgridfromncfilesunpacked" class="table-of-contents__link toc-highlight">EDDGrid Из NcFilesUnpacked</a></li><li><a href="#eddgridlonpm180" class="table-of-contents__link toc-highlight">EDDGrid LonPM180</a></li><li><a href="#eddgridlon0360" class="table-of-contents__link toc-highlight">EDDGrid Lon0360</a></li><li><a href="#eddgridsidebyside" class="table-of-contents__link toc-highlight">EDDGrid SideBySide</a></li><li><a href="#eddgridaggregateexistingdimension" class="table-of-contents__link toc-highlight">EDDGrid Совокупность существующих измерений</a></li><li><a href="#eddgridcopy" class="table-of-contents__link toc-highlight">EDDGrid Копия</a></li><li><a href="#eddtablefromcassandra" class="table-of-contents__link toc-highlight">EDDTable From Кассандра</a></li><li><a href="#eddtablefromdapsequence" class="table-of-contents__link toc-highlight">EDDTable FromDapSequence</a></li><li><a href="#eddtablefromdatabase" class="table-of-contents__link toc-highlight">EDDTable FromDatabase</a></li><li><a href="#eddtablefromeddgrid" class="table-of-contents__link toc-highlight">EDDTable From EDDGrid</a></li><li><a href="#eddtablefromfilenames" class="table-of-contents__link toc-highlight">EDDTable FromFileNames</a></li><li><a href="#eddtablefromfiles" class="table-of-contents__link toc-highlight">EDDTable Из материалов</a></li><li><a href="#eddtablefromasciiservice" class="table-of-contents__link toc-highlight">EDDTableFromAsciiService</a></li><li><a href="#eddtablefromasciiservicenos" class="table-of-contents__link toc-highlight">EDDTableFromAsciiServiceNOS</a></li><li><a href="#eddtablefromalldatasets" class="table-of-contents__link toc-highlight">EDDTableFromAllDatasets</a></li><li><a href="#eddtablefromasciifiles" class="table-of-contents__link toc-highlight">EDDTableFromAsciiFiles</a></li><li><a href="#eddtablefromawsxmlfiles" class="table-of-contents__link toc-highlight">EDDTable From AwsXmlFiles</a></li><li><a href="#eddtablefromcolumnarasciifiles" class="table-of-contents__link toc-highlight">EDDTable FromColumnarAsciiFiles</a></li><li><a href="#eddtablefromhttpget" class="table-of-contents__link toc-highlight">EDDTable FromHttpGet</a></li><li><a href="#eddtablefromhyraxfiles" class="table-of-contents__link toc-highlight">EDDTable From Hyrax Файлы</a></li><li><a href="#eddtablefrominvalidcrafiles" class="table-of-contents__link toc-highlight">EDDTable FromInvalidCRAFiles</a></li><li><a href="#eddtablefromjsonlcsvfiles" class="table-of-contents__link toc-highlight">EDDTableFromJsonlCSVFiles</a></li><li><a href="#eddtablefrommultidimncfiles" class="table-of-contents__link toc-highlight">EDDTableFromMultidimNcFiles</a></li><li><a href="#eddtablefromncfiles" class="table-of-contents__link toc-highlight">EDDTable FromNcFiles</a></li><li><a href="#eddtablefromnccffiles" class="table-of-contents__link toc-highlight">EDDTable FromNcCFFiles</a></li><li><a href="#eddtablefromnccsvfiles" class="table-of-contents__link toc-highlight">EDDTable FromNccsvFiles</a></li><li><a href="#eddtablefromnos" class="table-of-contents__link toc-highlight">EDDTable FromNOS</a></li><li><a href="#eddtablefromobis" class="table-of-contents__link toc-highlight">EDDTable FromOBIS</a></li><li><a href="#eddtablefromparquetfiles" class="table-of-contents__link toc-highlight">EDDTableFromParquetFiles</a></li><li><a href="#eddtablefromsos" class="table-of-contents__link toc-highlight">EDDTable From SOS</a></li><li><a href="#eddtablefromthreddsfiles" class="table-of-contents__link toc-highlight">Скриншоты из ThreddsFiles</a></li><li><a href="#eddtablefromwfsfiles" class="table-of-contents__link toc-highlight">EDDTable From WFS Файлы</a></li><li><a href="#eddtableaggregaterows" class="table-of-contents__link toc-highlight">EDDTableAggregateRows</a></li><li><a href="#eddtablecopy" class="table-of-contents__link toc-highlight">EDDTableCopy</a></li></ul></li><li><a href="#details-1" class="table-of-contents__link toc-highlight">Подробности</a><ul><li><a href="#angulardegreeunits" class="table-of-contents__link toc-highlight">&lt;Угловая степеньUnits&gt;</a></li><li><a href="#angulardegreetrueunits" class="table-of-contents__link toc-highlight">&lt;Угловая степень TrueUnits&gt;</a></li><li><a href="#commonstandardnames" class="table-of-contents__link toc-highlight">&lt;CommonStandardNames&gt;</a></li><li><a href="#cacheminutes" class="table-of-contents__link toc-highlight">&lt;cacheMinutes&gt;</a></li><li><a href="#cacheclearminutes" class="table-of-contents__link toc-highlight">&lt;cacheClearMinutes&gt;</a></li><li><a href="#convertinterpolaterequestcsvexample" class="table-of-contents__link toc-highlight">&lt;конвертировать InterpolateRequestCSVExample&gt;</a></li><li><a href="#convertinterpolatedatasetidvariablelist" class="table-of-contents__link toc-highlight">&lt;конвертировать InterpolateDatasetIDVariableList&gt;</a></li><li><a href="#converttopublicsourceurl" class="table-of-contents__link toc-highlight">&lt;конвертироватьToPublicSourceUrl&gt;</a></li><li><a href="#dataimagepngbase64" class="table-of-contents__link toc-highlight">Данные: изображение/png;base64</a></li><li><a href="#drawlandmask" class="table-of-contents__link toc-highlight">drawLandMask</a></li><li><a href="#emaildiagnosticstoerddata" class="table-of-contents__link toc-highlight">&lt;e-mailDiagnosticsToErdData&gt;</a></li><li><a href="#graphbackgroundcolor" class="table-of-contents__link toc-highlight">&lt;graphBackgroundColor&gt;</a></li><li><a href="#ipaddressmaxrequests" class="table-of-contents__link toc-highlight">&lt;ipAddressMaxRequests&gt;</a></li><li><a href="#ipaddressmaxrequestsactive" class="table-of-contents__link toc-highlight">&lt;ipAddressMaxRequestsActive&gt;</a></li><li><a href="#ipaddressunlimited" class="table-of-contents__link toc-highlight">&lt;ipAddressUnlimited&gt;</a></li><li><a href="#loaddatasetsminminutes" class="table-of-contents__link toc-highlight">&lt;loadDatasetsMinMinutes&gt;</a></li><li><a href="#loaddatasetsmaxminutes" class="table-of-contents__link toc-highlight">&lt;loadDatasetsMaxMinutes&gt;</a></li><li><a href="#loglevel" class="table-of-contents__link toc-highlight">&lt;logLevel&gt;</a></li><li><a href="#partialrequestmaxbytes-and-partialrequestmaxcells" class="table-of-contents__link toc-highlight">&lt;PartialRequestMaxBytes&gt;&lt;PartialRequestMaxCells&gt;</a></li><li><a href="#requestblacklist" class="table-of-contents__link toc-highlight">&lt;Запрос Blacklist&gt;</a></li><li><a href="#slowdowntroublemillis" class="table-of-contents__link toc-highlight">&lt;DownTroubleMillis&gt;</a></li><li><a href="#subscriptionemailblacklist" class="table-of-contents__link toc-highlight">&lt;подпискаEmailBlacklist&gt;</a></li><li><a href="#standard-text" class="table-of-contents__link toc-highlight">Стандартный текст</a></li><li><a href="#unusualactivity" class="table-of-contents__link toc-highlight">&lt;необычное Деятельность&gt;</a></li><li><a href="#updatemaxevents" class="table-of-contents__link toc-highlight">&lt;обновление MaxEvents&gt;</a></li><li><a href="#user" class="table-of-contents__link toc-highlight">&lt;пользователь&gt;</a></li><li><a href="#pathregex" class="table-of-contents__link toc-highlight">&lt;PathRegex&gt;</a></li><li><a href="#dataset" class="table-of-contents__link toc-highlight">&lt;Dataset&gt;</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Докс</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ru/docs/intro">Документация</a></li><li class="footer__item"><a class="footer__link-item" href="/ru/docs/contributing">Вклад</a></li><li class="footer__item"><a class="footer__link-item" href="/ru/license">Лицензия</a></li><li class="footer__item"><a class="footer__link-item" href="/ru/changes">Изменения</a></li><li class="footer__item"><a class="footer__link-item" href="/ru/cloud">облако</a></li><li class="footer__item"><a class="footer__link-item" href="/ru/docs/intro#support">Поддержка/Контакт</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">сообщество</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ru/governance">Управление</a></li><li class="footer__item"><a class="footer__link-item" href="/ru/technical-board">Технический совет</a></li><li class="footer__item"><a href="https://groups.google.com/g/erddap" target="_blank" rel="noopener noreferrer" class="footer__link-item">ERDDAP™Пользовательская группа<svg width="13.5" height="13.5" aria-label="(открывается в новой вкладке)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://groups.google.com/g/erddap-announce" target="_blank" rel="noopener noreferrer" class="footer__link-item">ERDDAP™Объявлять<svg width="13.5" height="13.5" aria-label="(открывается в новой вкладке)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/ERDDAP/erddap/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(открывается в новой вкладке)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/ru/credits">Кредиты</a></li><li class="footer__item"><a class="footer__link-item" href="/ru/acknowledgements">Признания</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Принесенные тебе</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.noaa.gov" target="_blank" rel="noopener noreferrer" class="footer__link-item">NOAA<svg width="13.5" height="13.5" aria-label="(открывается в новой вкладке)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.fisheries.noaa.gov" target="_blank" rel="noopener noreferrer" class="footer__link-item">NMFS<svg width="13.5" height="13.5" aria-label="(открывается в новой вкладке)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.fisheries.noaa.gov/about/southwest-fisheries-science-center" target="_blank" rel="noopener noreferrer" class="footer__link-item">SWFSC<svg width="13.5" height="13.5" aria-label="(открывается в новой вкладке)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.fisheries.noaa.gov/about/environmental-research-division-southwest-fisheries-science-center" target="_blank" rel="noopener noreferrer" class="footer__link-item">ERD<svg width="13.5" height="13.5" aria-label="(открывается в новой вкладке)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">ERDDAP™Версия 2.29.0. Авторское право © 2026ERDDAP™. Построен с помощью Docusaurus.</div></div></div></footer></div>
</body>
</html>