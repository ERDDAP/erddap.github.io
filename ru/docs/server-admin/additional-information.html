<!doctype html>
<html lang="ru" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-server-admin/additional-information" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Дополнительная информация | ERDDAP™ Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://erddap.github.io/ru/img/noaa_simple.gif"><meta data-rh="true" name="twitter:image" content="https://erddap.github.io/ru/img/noaa_simple.gif"><meta data-rh="true" property="og:url" content="https://erddap.github.io/ru/docs/server-admin/additional-information"><meta data-rh="true" property="og:locale" content="ru"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="bn"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" property="og:locale:alternate" content="zt"><meta data-rh="true" property="og:locale:alternate" content="cs"><meta data-rh="true" property="og:locale:alternate" content="da"><meta data-rh="true" property="og:locale:alternate" content="nl"><meta data-rh="true" property="og:locale:alternate" content="fi"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" property="og:locale:alternate" content="el"><meta data-rh="true" property="og:locale:alternate" content="hi"><meta data-rh="true" property="og:locale:alternate" content="hu"><meta data-rh="true" property="og:locale:alternate" content="id"><meta data-rh="true" property="og:locale:alternate" content="ga"><meta data-rh="true" property="og:locale:alternate" content="it"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" property="og:locale:alternate" content="ko"><meta data-rh="true" property="og:locale:alternate" content="nb"><meta data-rh="true" property="og:locale:alternate" content="pl"><meta data-rh="true" property="og:locale:alternate" content="pt"><meta data-rh="true" property="og:locale:alternate" content="ro"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="sv"><meta data-rh="true" property="og:locale:alternate" content="tl"><meta data-rh="true" property="og:locale:alternate" content="th"><meta data-rh="true" property="og:locale:alternate" content="tr"><meta data-rh="true" property="og:locale:alternate" content="uk"><meta data-rh="true" property="og:locale:alternate" content="ur"><meta data-rh="true" name="docusaurus_locale" content="ru"><meta data-rh="true" name="docsearch:language" content="ru"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Дополнительная информация | ERDDAP™ Documentation"><meta data-rh="true" name="description" content="Вещи, которые нужно знать"><meta data-rh="true" property="og:description" content="Вещи, которые нужно знать"><link data-rh="true" rel="icon" href="/ru/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://erddap.github.io/ru/docs/server-admin/additional-information"><link data-rh="true" rel="alternate" href="https://erddap.github.io/docs/server-admin/additional-information" hreflang="en"><link data-rh="true" rel="alternate" href="https://erddap.github.io/bn/docs/server-admin/additional-information" hreflang="bn"><link data-rh="true" rel="alternate" href="https://erddap.github.io/zh/docs/server-admin/additional-information" hreflang="zh"><link data-rh="true" rel="alternate" href="https://erddap.github.io/zt/docs/server-admin/additional-information" hreflang="zt"><link data-rh="true" rel="alternate" href="https://erddap.github.io/cs/docs/server-admin/additional-information" hreflang="cs"><link data-rh="true" rel="alternate" href="https://erddap.github.io/da/docs/server-admin/additional-information" hreflang="da"><link data-rh="true" rel="alternate" href="https://erddap.github.io/nl/docs/server-admin/additional-information" hreflang="nl"><link data-rh="true" rel="alternate" href="https://erddap.github.io/fi/docs/server-admin/additional-information" hreflang="fi"><link data-rh="true" rel="alternate" href="https://erddap.github.io/fr/docs/server-admin/additional-information" hreflang="fr"><link data-rh="true" rel="alternate" href="https://erddap.github.io/de/docs/server-admin/additional-information" hreflang="de"><link data-rh="true" rel="alternate" href="https://erddap.github.io/el/docs/server-admin/additional-information" hreflang="el"><link data-rh="true" rel="alternate" href="https://erddap.github.io/hi/docs/server-admin/additional-information" hreflang="hi"><link data-rh="true" rel="alternate" href="https://erddap.github.io/hu/docs/server-admin/additional-information" hreflang="hu"><link data-rh="true" rel="alternate" href="https://erddap.github.io/id/docs/server-admin/additional-information" hreflang="id"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ga/docs/server-admin/additional-information" hreflang="ga"><link data-rh="true" rel="alternate" href="https://erddap.github.io/it/docs/server-admin/additional-information" hreflang="it"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ja/docs/server-admin/additional-information" hreflang="ja"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ko/docs/server-admin/additional-information" hreflang="ko"><link data-rh="true" rel="alternate" href="https://erddap.github.io/nb/docs/server-admin/additional-information" hreflang="nb"><link data-rh="true" rel="alternate" href="https://erddap.github.io/pl/docs/server-admin/additional-information" hreflang="pl"><link data-rh="true" rel="alternate" href="https://erddap.github.io/pt/docs/server-admin/additional-information" hreflang="pt"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ro/docs/server-admin/additional-information" hreflang="ro"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ru/docs/server-admin/additional-information" hreflang="ru"><link data-rh="true" rel="alternate" href="https://erddap.github.io/es/docs/server-admin/additional-information" hreflang="es"><link data-rh="true" rel="alternate" href="https://erddap.github.io/sv/docs/server-admin/additional-information" hreflang="sv"><link data-rh="true" rel="alternate" href="https://erddap.github.io/tl/docs/server-admin/additional-information" hreflang="tl"><link data-rh="true" rel="alternate" href="https://erddap.github.io/th/docs/server-admin/additional-information" hreflang="th"><link data-rh="true" rel="alternate" href="https://erddap.github.io/tr/docs/server-admin/additional-information" hreflang="tr"><link data-rh="true" rel="alternate" href="https://erddap.github.io/uk/docs/server-admin/additional-information" hreflang="uk"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ur/docs/server-admin/additional-information" hreflang="ur"><link data-rh="true" rel="alternate" href="https://erddap.github.io/docs/server-admin/additional-information" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Управление сервером","item":"https://erddap.github.io/ru/docs/category/server-administration"},{"@type":"ListItem","position":2,"name":"Дополнительная информация","item":"https://erddap.github.io/ru/docs/server-admin/additional-information"}]}</script><link rel="stylesheet" href="/ru/assets/css/styles.c47a40ba.css">
<script src="/ru/assets/js/runtime~main.cf5bb1cc.js" defer="defer"></script>
<script src="/ru/assets/js/main.efa32e2c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/ru/img/noaab.png"><div role="region" aria-label="Пропустить основной контент"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Пропустить основной контент</a></div><nav aria-label="Главный" class="theme-layout-navbar navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Навигационная панель Toggle" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ru/"><div class="navbar__logo"><img src="/ru/img/noaab.png" alt="NOAAлоготип" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/ru/img/noaab.png" alt="NOAAлоготип" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">ERDDAP™</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Русский</a><ul class="dropdown__menu"><li><a href="/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/bn/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="bn">বাংলা</a></li><li><a href="/zh/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">中文</a></li><li><a href="/zt/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zt">Zt</a></li><li><a href="/cs/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="cs">Čeština</a></li><li><a href="/da/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="da">Dansk</a></li><li><a href="/nl/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="nl">Nederlands</a></li><li><a href="/fi/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fi">Suomi</a></li><li><a href="/fr/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/de/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="/el/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="el">Ελληνικά</a></li><li><a href="/hi/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="hi">हिन्दी</a></li><li><a href="/hu/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="hu">Magyar</a></li><li><a href="/id/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="id">Indonesia</a></li><li><a href="/ga/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ga">Gaeilge</a></li><li><a href="/it/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="it">Italiano</a></li><li><a href="/ja/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/ko/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">한국어</a></li><li><a href="/nb/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="nb">Norsk bokmål</a></li><li><a href="/pl/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pl">Polski</a></li><li><a href="/pt/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Português</a></li><li><a href="/ro/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ro">Română</a></li><li><a href="/ru/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ru">Русский</a></li><li><a href="/es/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/sv/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="sv">Svenska</a></li><li><a href="/tl/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="tl">Filipino</a></li><li><a href="/th/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="th">ไทย</a></li><li><a href="/tr/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="tr">Türkçe</a></li><li><a href="/uk/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="uk">Українська</a></li><li><a href="/ur/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ur">اردو</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ru/docs/intro">Докс</a><a class="navbar__item navbar__link" href="/ru/governance">Управление</a><a class="navbar__item navbar__link" href="/ru/cloud">облако</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Поиск" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/erddap/erddap" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(открывается в новой вкладке)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS darkNavbarColorModeToggle_X3D1" type="button" disabled="" title="режим работы системы" aria-label="Переключение между темным и светлым режимом (в настоящее время)режим работы системы)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Скачать Back to Top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Док сайдбар" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ru/docs/intro"><span title="Документация Intro" class="linkLabel_WmDU">Документация Intro</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/ru/docs/category/server-administration"><span title="Управление сервером" class="categoryLinkLabel_W154">Управление сервером</span></a><button aria-label="Категория коллапса боковой панели &quot;Управление сервером&quot;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/ru/docs/category/admin-tips"><span title="Советы администратора" class="categoryLinkLabel_W154">Советы администратора</span></a><button aria-label="Расширение категории боковой панели &quot;Советы администратора&quot;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/deploy-install"><span title="устанавливать" class="linkLabel_WmDU">устанавливать</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/deploy-update"><span title="обновление" class="linkLabel_WmDU">обновление</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/datasets"><span title="Работая с datasets.xml Файл" class="linkLabel_WmDU">Работая с datasets.xml Файл</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ru/docs/server-admin/additional-information"><span title="Дополнительная информация" class="linkLabel_WmDU">Дополнительная информация</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/scaling"><span title="масштабирование" class="linkLabel_WmDU">масштабирование</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/EDDTableFromEML"><span title="EDDTableFromEML" class="linkLabel_WmDU">EDDTableFromEML</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/display-info"><span title="дисплей информация и DisplayАтрибут Тэги" class="linkLabel_WmDU">дисплей информация и DisplayАтрибут Тэги</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/localized-metadata"><span title="Локализованные метаданные" class="linkLabel_WmDU">Локализованные метаданные</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/prometheus"><span title="Прометей" class="linkLabel_WmDU">Прометей</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/feature-flags"><span title="Особенности флагов" class="linkLabel_WmDU">Особенности флагов</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/mqtt-integration"><span title="ERDDAP Интеграция MQTT" class="linkLabel_WmDU">ERDDAP Интеграция MQTT</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/ru/docs/category/contributing"><span title="Вклад" class="categoryLinkLabel_W154">Вклад</span></a><button aria-label="Расширение категории боковой панели &quot;Вклад&quot;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/ru/docs/dokka"><span title="Dataset Scripts Code Документация" class="categoryLinkLabel_W154">Dataset Scripts Code Документация</span></a><button aria-label="Расширение категории боковой панели &quot;Dataset Scripts Code Документация&quot;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/ru/docs/category/user"><span title="Пользователь" class="categoryLinkLabel_W154">Пользователь</span></a><button aria-label="Расширение категории боковой панели &quot;Пользователь&quot;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Хлебные крошки"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Домашняя страница" class="breadcrumbs__link" href="/ru/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/ru/docs/category/server-administration"><span>Управление сервером</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Дополнительная информация</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">На этой странице</button></div><div class="theme-doc-markdown markdown"><header><h1>Дополнительная информация</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="things-you-need-to-know">Вещи, которые нужно знать<a href="#things-you-need-to-know" class="hash-link" aria-label="Прямая ссылка наВещи, которые нужно знать" title="Прямая ссылка наВещи, которые нужно знать" translate="no">​</a></h2>
<p> </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="proxy-errors">** <a href="#proxy-errors" class="">Прокси-ошибки</a> **<a href="#proxy-errors" class="hash-link" aria-label="Прямая ссылка наproxy-errors" title="Прямая ссылка наproxy-errors" translate="no">​</a></h3>
<p>Иногда просьба о ERDDAP™ Возвращается ошибка прокси, ошибка HTTP 502 Bad Gateway или подобная ошибка. Эти ошибки выбрасываются Apache или Tomcat, а не ERDDAP™ себя.</p>
<ul>
<li class="">Если каждый запрос генерирует эти ошибки, особенно когда вы впервые настраиваете свой сайт. ERDDAP™ Тогда это, вероятно, ошибка прокси или плохой шлюз, и решение, вероятно, исправить. <a class="" href="/ru/docs/server-admin/deploy-install#proxypass"> ERDDAP настройки прокси</a> . Это также может быть проблемой при установлении ERDDAP™ Внезапно начинаются эти ошибки для каждого запроса.</li>
<li class="">В противном случае ошибки «прокси» обычно являются ошибками тайм-аута, выброшенными Apache или Tomcat. Даже когда они происходят относительно быстро, это какая-то реакция от Apache или Tomcat, которая возникает, когда они появляются. ERDDAP™ Он очень занят, ограничен памятью или ограничен каким-либо другим ресурсом. В этих случаях см. советы ниже, чтобы иметь дело с <a href="#responding-slowly" class=""> ERDDAP™ медленно реагирует</a> .</li>
</ul>
<p>Запросы на длительный срок (30 временных точек) из сетчатого набора данных склонны к сбоям тайм-аута, которые часто появляются как ошибки прокси, потому что это занимает значительное время для ERDDAP™ Открыть все файлы данных один за другим. Если ERDDAP™ Если он занят во время запроса, проблема, скорее всего, возникнет. Если файлы набора данных сжаты, проблема чаще возникает, хотя пользователю трудно определить, сжаты ли файлы набора данных.
Решение состоит в том, чтобы сделать несколько запросов, каждый с меньшим временным диапазоном. Насколько мал временной диапазон? Предлагаю начать с малого (~30 временных точек?) Тогда (приблизительно) Удвоить временной диапазон до тех пор, пока запрос не выйдет из строя, а затем вернуться к удвоению. Затем сделайте все запросы (Для каждого отдельного отрезка времени) Нужно было получить все данные.
Ан ERDDAP™ администратор может уменьшить эту проблему за счет увеличения <a class="" href="/ru/docs/server-admin/deploy-install#apache-timeout">Настройки тайм-аута Apache</a> .</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="monitoring">Мониторинг<a href="#monitoring" class="hash-link" aria-label="Прямая ссылка наМониторинг" title="Прямая ссылка наМониторинг" translate="no">​</a></h3>
<p>Мы все хотим, чтобы наши службы обработки данных находили свою аудиторию и широко использовались, но иногда ваши данные могут быть удалены. ERDDAP™ Может использоваться слишком много, вызывая проблемы, включая сверхмедленные ответы на все запросы. Наш план, чтобы избежать проблем:</p>
<ul>
<li class="">Монитор ERDDAP™ через <a href="#status-page" class="">status.html веб-страница</a> .
Он содержит тонны полезной информации. Если вы видите, что поступает огромное количество запросов, или используется тонна памяти, или тонны неудавшихся запросов, или каждый крупный набор данных занимает много времени, или видите какие-либо признаки того, что вещи увязают и медленно реагируют, то посмотрите в ERDDAP ? <a href="#log" class="">log.txt файл</a> посмотреть, что происходит.</li>
</ul>
<p>Также полезно просто отметить, как быстро реагирует страница статуса. Если он реагирует медленно, это важный показатель. ERDDAP™ Очень занят.</p>
<ul>
<li class="">Монитор ERDDAP™ через <a href="#daily-report" class="">Ежедневный отчет</a> Электронная почта.
 </li>
<li class="">Следите за устаревшими наборами данных через <em>основание</em>  /erddap/outOfDateDatasets.html веб-страница, которая основана на опциональном <a class="" href="/ru/docs/server-admin/datasets#testoutofdate"> testOutOfDate </a> Глобальный атрибут.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="external-monitors">Внешние мониторы<a href="#external-monitors" class="hash-link" aria-label="Прямая ссылка наВнешние мониторы" title="Прямая ссылка наВнешние мониторы" translate="no">​</a></h4>
<p>Методы, перечисленные выше, являются ERDDAP Способы самоконтроля. Вы также можете создавать или использовать внешние системы для мониторинга. ERDDAP . Один из проектов, чтобы сделать это <a href="https://github.com/axiom-data-science/erddap-metrics" target="_blank" rel="noopener noreferrer" class="">Проект erddap-метрики Axiom</a> . Такие внешние системы имеют ряд преимуществ:</p>
<ul>
<li class="">Они могут быть настроены для предоставления необходимой вам информации, отображаемой так, как вы хотите.</li>
<li class="">Они могут включать информацию о ERDDAP™ это ERDDAP™ не может получить доступ легко или вообще (например, использование процессора, дискового пространства); ERDDAP™ время отклика, как видно с точки зрения пользователя, ERDDAP™ безотказный</li>
<li class="">Они могут предупреждать (электронные письма, телефонные звонки, тексты) администраторам, когда проблемы превышают определенный порог.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="multiple-simultaneous-requests">Несколько одновременных Запросы<a href="#multiple-simultaneous-requests" class="hash-link" aria-label="Прямая ссылка наНесколько одновременных Запросы" title="Прямая ссылка наНесколько одновременных Запросы" translate="no">​</a></h3>
<ul>
<li class=""><strong>Пользователи черного списка делают несколько одновременных запросов!</strong>
Если понятно, что какой-то пользователь делает более одного одновременного запроса, многократно и непрерывно, то добавьте свой IP-адрес к ERDDAP [&lt;Черный список&gt;&gt; (/docs/server-admin/datasets#requestblacklist) в твоем datasets.xml Файл. Иногда все запросы поступают с одного IP-адреса. Иногда они от нескольких IP-адресов, но явно одного и того же пользователя. Вы также можете занести в черный список людей, делающих тонны недействительных запросов или тонны умопомрачительно неэффективных запросов.</li>
</ul>
<p>Для каждой просьбы, которую они делают, ERDDAP™ Возврат:</p>
<blockquote>
<p>HTTP ERROR 403 - Access Forbidden --<br>
<!-- -->Your IP address is on this ERDDAP&#x27;s request blacklist.<br>
<!-- -->Did you often submit more than one request at a time?<br>
<!-- -->Did you often submit identical requests in a short period of time?<br>
<!-- -->Did you submit a large number of invalid requests?<br>
<!-- -->If you are ready to avoid these problems, please email \[ERDDAP™ administrator&#x27;s email address\] to request to be taken off of the blacklist.</p>
</blockquote>
<p>Надеемся, что пользователь увидит это сообщение и свяжется с вами, чтобы узнать, как исправить проблему и выйти из черного списка. Иногда они просто переключают IP-адреса и пытаются снова.</p>
<p>Это как баланс сил между наступательным и оборонительным оружием в войне. Здесь оборонительное оружие ( ERDDAP ) имеют фиксированную емкость, ограниченную количеством ядер в процессоре, пропускной способностью дискового доступа и пропускной способностью сети. Но наступательное оружие (Пользователи, особенно скрипты) Неограниченные возможности:</p>
<ul>
<li class="">Один запрос данных из многих временных точек может привести к ERDDAP Чтобы открыть огромное количество файлов (в последовательности или частично многопоточной) . В крайних случаях один «простой» запрос может легко связать RAID, прилагаемый к нему. ERDDAP™ на минуту, эффективно блокируя обработку других запросов.
 </li>
<li class="">Один запрос может потреблять большую часть памяти. (Даже если ERDDAP™ кодируется для минимизации памяти, необходимой для обработки больших запросов;) .
 </li>
<li class="">Параллельность -
Умному пользователю легко распараллеливать большую задачу, генерируя множество потоков, каждый из которых отправляет отдельный запрос. (который может быть большим или маленьким) . Это поведение поощряется сообществом компьютерных наук как эффективный способ решения большой проблемы. (Параллелизм эффективен в других ситуациях.) . Возвращаясь к военной аналогии: пользователи могут делать практически неограниченное количество одновременных запросов, при этом стоимость каждого из них практически равна нулю. ERDDAP™ Они могут быть большими и ERDDAP Способность реагировать конечна. Очевидно, ERDDAP™ Мы проиграем эту битву, если ERDDAP™ Администратор заносит в черный список пользователей, которые делают несколько одновременных запросов, которые несправедливо вытесняют других пользователей.
 </li>
<li class="">Несколько сценариев -
Теперь подумайте о том, что происходит, когда несколько умных пользователей запускают параллельные сценарии. Если один пользователь может генерировать так много запросов, что другие пользователи вытеснены, то несколько таких пользователей могут генерировать так много запросов. ERDDAP™ становится перегруженным и, казалось бы, не реагирующим. Фактически это a <a href="https://en.wikipedia.org/wiki/Denial-of-service_attack" target="_blank" rel="noopener noreferrer" class="">DDoS атака</a> Единственная защита для ERDDAP™ В черный список попадают пользователи, делающие несколько одновременных запросов, которые несправедливо вытесняют других пользователей.
 </li>
<li class="">Завышенные ожидания -
В этом мире крупных технологических компаний (Amazon, Google, Facebook...) Пользователи ожидают от провайдеров практически неограниченных возможностей. Поскольку эти компании зарабатывают деньги, чем больше у них пользователей, тем больше у них доходов для расширения своей ИТ-инфраструктуры. Таким образом, они могут позволить себе огромную ИТ-инфраструктуру для обработки запросов. И они хитро ограничивают количество запросов и стоимость каждого запроса от пользователей, ограничивая типы запросов, которые пользователи могут сделать, чтобы ни один запрос не был обременительным, и никогда нет причины. (или способ) Пользователи могут делать несколько одновременных запросов. Таким образом, эти огромные технологические компании могут иметь гораздо больше пользователей, чем другие. ERDDAP™ Но у них гораздо больше ресурсов и хитрых способов ограничить запросы от каждого пользователя. Это управляемая ситуация для крупных ИТ-компаний. (И они становятся богатыми!) но не для ERDDAP™ Установки. Единственная защита для ERDDAP™ В черный список попадают пользователи, делающие несколько одновременных запросов, которые несправедливо вытесняют других пользователей.
 </li>
</ul>
<p>Не делайте несколько одновременных запросов, иначе вы попадете в черный список!
 </p>
<p>Очевидно, что лучше всего, если на вашем сервере много ядер, много памяти. (Вы можете выделить много памяти для ERDDAP™ Больше, чем когда-либо нужно) и высокая пропускная способность интернет-соединения. Память редко или никогда не является ограничивающим фактором, но пропускная способность сети становится более распространенным ограничивающим фактором. В основном, по мере того, как появляется все больше и больше одновременных запросов, скорость для любого пользователя уменьшается. Это, естественно, замедляет количество поступающих запросов, если каждый пользователь отправляет только один запрос за раз.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="erddap-getting-data-from-thredds">ERDDAP™ Получение данных из THREDDS<a href="#erddap-getting-data-from-thredds" class="hash-link" aria-label="Прямая ссылка наERDDAP™ Получение данных из THREDDS" title="Прямая ссылка наERDDAP™ Получение данных из THREDDS" translate="no">​</a></h3>
<p>Если вы ERDDAP™ получает часть своих данных из THREDDS на вашем сайте, есть некоторые преимущества для создания копии файлов данных THREDDS (По крайней мере, для самых популярных наборов данных) на другой рейд, что ERDDAP™ иметь доступ к таким ERDDAP™ Они могут передавать данные из файлов напрямую. в ERD Мы делаем это для наших самых популярных наборов данных.</p>
<ul>
<li class="">ERDDAP™ Вы можете получить данные напрямую, и вам не придется ждать, пока THREDDS перезагрузит набор данных.</li>
<li class="">ERDDAP™ Вы можете сразу заметить и включить новые файлы данных, поэтому вам не нужно часто приставать к THREDDS, чтобы увидеть, изменился ли набор данных. Смотри.&lt;Обновление EveryNMillis (/docs/server-admin/datasets#updateeverynmillis) .</li>
<li class="">Загрузка разделена между 2 RAIDS и 2 серверами, вместо того, чтобы запрос был жестким для обоих. ERDDAP™ и др.</li>
<li class="">Вы избегаете проблемы несоответствия, вызванной тем, что у THREDDS есть небольшая проблема. (по умолчанию) Максимальный размер запроса. ERDDAP™ У вас есть система для устранения несоответствия, но лучше избегать проблемы.</li>
<li class="">У вас есть резервная копия данных, что всегда является хорошей идеей.</li>
</ul>
<p>В любом случае, никогда не запускайте THREDDS и ERDDAP™ В том же Томке. Запустите их в отдельных Tomcats, или лучше, на отдельных серверах.</p>
<p>Мы обнаруживаем, что THREDDS периодически попадает в состояние, когда запросы просто висят. Если вы ERDDAP™ получает данные от THREDDS, и THREDDS находится в этом состоянии, ERDDAP™ Имеет защиту (В нем говорится, что набор данных на основе THREDDS недоступен.) Но это все равно неприятно для ERDDAP™ Потому что ERDDAP™ Приходится ждать тайм-аута каждый раз, когда он пытается перезагрузить набор данных с подвешенных THREDDS. Некоторые группы (включая ERD ) Избегайте этого, активно перезагружая THREDDS (Например, ночная работа в кроне) .</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="responding-slowly">Медленно ответить<a href="#responding-slowly" class="hash-link" aria-label="Прямая ссылка наМедленно ответить" title="Прямая ссылка наМедленно ответить" translate="no">​</a></h3>
<ul>
<li class=""><strong>Если ERDDAP™ Медленно реагирует</strong> Если только некоторые запросы будут реагировать медленно,
Вы можете выяснить, является ли медлительность разумной и временной. (Например, из-за большого количества запросов от скриптов или WMS пользователи) Или, если что-то необъяснимо неправильно, и вы должны <a href="#shut-down-and-restart" class="">Отключить и перезапустить Tomcat и ERDDAP™ </a> .</li>
</ul>
<p>Если ERDDAP™ медленно реагирует, см. ниже советы, чтобы определить причину, которая, надеюсь, позволит вам решить проблему.
У вас может быть определенная отправная точка. (Например, URL конкретного запроса) или расплывчатая отправная точка (например, ERDDAP™ медленный) .
Вы можете знать, что пользователь (Например, потому что они написали вам) Или нет.
У вас могут быть другие подсказки или нет.
Поскольку все эти ситуации и все возможные причины проблем размываются вместе, нижеприведенный совет пытается решить все возможные отправные точки и все возможные проблемы, связанные с медленными ответами.</p>
<ul>
<li class="">**Ищите подсказки в <a href="#log" class=""> ERDDAP Файл журнала</a> **   ( <em>BigParent Директория</em> /logs/log.txt) .
\[ В редких случаях есть подсказки в <a href="#tomcat-logs" class="">Файл журнала Tomcat</a>   ( <em>кот</em> /logs/catalina.out) . \]<br>
<!-- -->Ищите сообщения об ошибках
Ищите большое количество запросов от одного (или несколько) Пользователей и, возможно, завладеть большим количеством ресурсов вашего сервера. (память, время процессора, доступ к диску, пропускная способность интернета) .</li>
</ul>
<p>Если проблема связана с <strong>один пользователь</strong> Вы часто можете получить представление о том, кто является пользователем через веб-сервисы. <a href="https://whatismyipaddress.com/ip-lookup" target="_blank" rel="noopener noreferrer" class="">https://whatismyipaddress.com/ip-lookup</a> которые могут предоставить вам информацию, связанную с IP-адресом пользователя (которые вы можете найти в ERDDAP ? <a href="#log" class="">log.txt</a> файл) .</p>
<ul>
<li class="">Если пользователю кажется, что <strong>бот</strong> плохо себя вести (В частности, поисковая система, пытающаяся заполнить ERDDAP™ формы со всеми возможными перестановками входных значений) Убедитесь, что вы правильно настроили свой сервер <a href="#robotstxt" class="">robots.txt</a> Файл.</li>
<li class="">Если пользователю кажется, что **сценарий (s) ** Выполняя несколько одновременных запросов, свяжитесь с пользователем, объясните, что ERDDAP™ ограниченные ресурсы (Например, память, время процессора, доступ к диску, пропускная способность Интернета) И попросите их быть внимательными к другим пользователям и просто сделать один запрос за раз. Вы также можете упомянуть, что вы занесете их в черный список, если они не отступят.</li>
<li class="">Если пользователю кажется, что <strong>сценарий</strong> Делая большое количество трудоемких запросов, попросите пользователя быть внимательным к другим пользователям, поставив небольшую паузу. (2 секунды?) В сценарии между запросами.</li>
<li class="">** WMS клиентское программное обеспечение** Может быть очень требовательным. Один клиент часто запрашивает 6 пользовательских изображений одновременно. Если пользователю кажется, что WMS Клиент, который делает законные запросы, может:</li>
<li class="">Не обращай внимания. (Рекомендовано, потому что они будут двигаться довольно скоро.)</li>
<li class="">Выключите свой сервер WMS Сервис через ERDDAP файл setup.html. (не рекомендуется)</li>
<li class="">Если запросы кажутся <strong>глупый, безумный, чрезмерный или злобный,</strong> или если вы не можете решить проблему каким-либо другим способом, подумайте о временном или постоянном добавлении IP-адреса пользователя.&lt;Черный список&gt; в вашем datasets.xml файл (/docs/server-admin/datasets#requestblacklist) .
 </li>
<li class=""><strong>Попробуйте продублировать проблему самостоятельно, с вашего компьютера.</strong><br>
<!-- -->Выясните, есть ли проблема с одним набором данных или всеми наборами данных, для одного пользователя или для всех пользователей, для определенных типов запросов и т. Д.
Если вы можете продублировать проблему, попробуйте сузить проблему.
Если вы не можете продублировать проблему, то проблема может быть связана с компьютером пользователя, интернет-соединением пользователя или интернет-соединением вашего учреждения.
 </li>
<li class="">Если бы только <strong>один набор данных</strong> Медленно реагирует (Возможно, только для <strong>Один тип запроса</strong> от одного пользователя) Проблема может быть:<!-- -->
<ul>
<li class="">ERDDAP Доступ к исходным данным набора данных (В частности, из реляционных баз данных, Кассандра и удаленных наборов данных.) Это может быть временно или постоянно медленно. Проверьте скорость источника независимо от ERDDAP . Если это медленно, вы можете улучшить его.</li>
<li class="">Связана ли проблема с конкретным запросом или общим типом запроса?
Чем больше запрашиваемое подмножество набора данных, тем больше вероятность того, что запрос потерпит неудачу. Если пользователь делает огромные запросы, попросите пользователя сделать меньшие запросы, которые с большей вероятностью получат быстрый и успешный ответ.</li>
</ul>
</li>
</ul>
<p>Почти все наборы данных лучше обрабатывают некоторые типы запросов, чем другие типы запросов. Например, когда набор данных хранит разные части времени в разных файлах, запросы на данные из огромного количества точек времени могут быть очень медленными. Если текущие запросы имеют сложный тип, рассмотрите возможность предоставления варианта набора данных, оптимизированного для этих запросов. Или просто объясните пользователю, что этот тип запроса является трудным и трудоемким, и попросите его терпения.</p>
<ul>
<li class="">
<p>Набор данных может быть не оптимально настроен. Вы можете внести изменения в набор данных datasets.xml Кусок, чтобы помочь ERDDAP™ Лучше обрабатывать набор данных. Например,</p>
<ul>
<li class="">EDDGrid Наборы данных из NcFiles, которые получают доступ к данным из сжатых файлов nc4/hdf5, медленны при получении данных для всего географического диапазона. (Например, для карты мира) Все файлы должны быть декомпрессированы. Вы можете конвертировать файлы в несжатые файлы, но тогда потребность в дисковом пространстве будет намного больше. Вероятно, лучше просто принять, что такие наборы данных будут медленными при определенных обстоятельствах.</li>
<li class="">Конфигурация []&lt; subsetVariables &gt; (/docs/server-admin/datasets#subsetvariables) Тэг оказывает огромное влияние на то, как ERDDAP™ Обрабатывает EDDTable наборы данных.</li>
<li class="">Вы можете увеличить <a class="" href="/ru/docs/server-admin/datasets#database-speed">Скорость EDDTable FromDatabase</a> набор данных.</li>
<li class="">Многие наборы данных EDDTable могут быть ускорены <a class="" href="/ru/docs/server-admin/datasets#eddtablefromfiles">хранить копию данных в NetCDF Файлы Ragged Array</a> который ERDDAP™ Можно читать очень быстро.</li>
</ul>
</li>
</ul>
<p>Если вы хотите помочь ускорить определенный набор данных, включите описание проблемы и часть набора данных. datasets.xml Увидеть наш <a class="" href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a> .
 </p>
<ul>
<li class="">Если <strong>все</strong> в ERDDAP™ это <strong>всегда</strong> Медленно, проблема может быть:<!-- -->
<ul>
<li class="">Компьютер, который работает ERDDAP™ Может не хватать памяти или вычислительной мощности. Хорошо бегать ERDDAP™ на современном многоядерном сервере. Для интенсивного использования сервер должен иметь 64-разрядную операционную систему и 8 ГБ или более памяти.</li>
<li class="">Компьютер, который работает ERDDAP™ Также могут быть запущены другие приложения, которые потребляют много системных ресурсов. Если это так, вы можете получить выделенный сервер для ERDDAP ? Например, (Это не одобрение) Вы можете получить четырехъядерный Mac Mini Server с 8 ГБ памяти за ~ 1100 долларов.
 </li>
</ul>
</li>
<li class="">Если <strong>все</strong> в ERDDAP™ это <strong>временно</strong> Медленно, смотрите ERDDAP ? <a href="#status-page" class=""> ** /erddap/status.html страница** </a> в вашем браузере.<!-- -->
<ul>
<li class="">Делает это ERDDAP™ Статус страницы не загружается?
Если да, <a href="#shut-down-and-restart" class="">возобновить ERDDAP™ </a> .</li>
<li class="">Сделал это ERDDAP™ Статус страницы загружается медленно (Например, &gt;5 секунд) ?
Это признак того, что все в ERDDAP™ Бежит медленно, но это не обязательно проблема. ERDDAP™ Может быть, просто очень занят.</li>
<li class="">&quot;Ответ неудавшегося времени&quot; (Последний крупный набор данных LoadDatasets) &quot;, n = большое число?
Это говорит о том, что в последнее время было много неудачных запросов. Это может быть проблемой или началом проблемы. Среднее время неудач часто велико. (например, 210000 мс) ,
Это означает, что были (Правда?) Много активных нитей.
Которые привязывали много ресурсов (как память, открытые файлы, открытые розетки,) ,
Что не очень хорошо.</li>
<li class="">За &quot;Ответ Успешное Время&quot; (Последний крупный набор данных LoadDatasets) &quot;, n = большое число?
Это говорит о том, что в последнее время было много успешных запросов. Это не проблема. Это просто означает ваш ERDDAP™ Получает интенсивное использование.</li>
<li class="">Является ли «Количество потоков, не ожидающих Томка», двойным типичным значением?
Это часто является серьезной проблемой, которая может привести к ERDDAP™ Притормозить и в конце концов замерзнуть. Если это продолжается в течение нескольких часов, вы можете захотеть проактивно. <a href="#shut-down-and-restart" class="">возобновить ERDDAP™ </a> .</li>
<li class="">В нижней части списка «Сводка использования памяти» последнее значение «Память: в настоящее время использование» очень высокое?
Это может просто указывать на высокое использование, или это может быть признаком проблемы.</li>
<li class="">Посмотрите на список нитей и их статус. Многие ли из них делают что-то необычное?
 </li>
</ul>
</li>
<li class="">это <strong>Интернет-соединение вашего учреждения</strong> Сейчас медленно?
Ищите в Интернете «тест скорости интернета» и используйте один из бесплатных онлайн-тестов. <a href="https://www.speakeasy.net/speedtest/" target="_blank" rel="noopener noreferrer" class="">https://www.speakeasy.net/speedtest/</a> . Если подключение к Интернету вашего учреждения медленное, то соединения между ERDDAP™ удаленные источники данных будут медленными, а соединения между ними будут ERDDAP™ Пользователь будет медленным. Иногда вы можете решить эту проблему, прекратив ненужное использование Интернета. (Например, люди, которые смотрят потоковое видео или на видеоконференции) .
 </li>
<li class="">это <strong>Интернет-соединение пользователя</strong> Сейчас медленно?
Попросите пользователя найти в Интернете «тест скорости интернета» и использовать один из бесплатных онлайн-тестов, таких как: <a href="https://www.speakeasy.net/speedtest/" target="_blank" rel="noopener noreferrer" class="">https://www.speakeasy.net/speedtest/</a> . Если интернет-соединение пользователя медленное, оно замедляет его доступ к интернету. ERDDAP . Иногда они могут решить эту проблему, прекратив ненужное использование Интернета в своем учреждении. (Например, люди, которые смотрят потоковое видео или на видеоконференции) .
 </li>
<li class=""><strong>Застрял?</strong><br>
<!-- -->Увидеть наш <a class="" href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a> .</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="shut-down-and-restart">Закрыть и перезапустить<a href="#shut-down-and-restart" class="hash-link" aria-label="Прямая ссылка наЗакрыть и перезапустить" title="Прямая ссылка наЗакрыть и перезапустить" translate="no">​</a></h3>
<ul>
<li class="">**Как закрыть и перезапустить Tomcat ERDDAP™ **<br>
<!-- -->Вам не нужно закрывать и перезапускать Tomcat. ERDDAP если ERDDAP™ временно медленно, медленно по какой-то известной причине (Как и множество запросов от скриптов или WMS пользователи) или вносить изменения в datasets.xml Файл.</li>
</ul>
<p>Вам нужно закрыть и перезапустить Tomcat и ERDDAP™ если вам необходимо внести изменения в файл setup.xml или ERDDAP™ Зависает, зависает или запирается. В экстремальных обстоятельствах, Java Может замерзнуть на минуту или две, пока он делает полный сбор мусора, но затем восстанавливается. Поэтому лучше подождать минуту или две, чтобы увидеть, Java / ERDDAP™ Он действительно заморожен или просто собирает большой мусор. (Если сбор мусора является общей проблемой, <a class="" href="/ru/docs/server-admin/deploy-install#memory">Выделите больше памяти Tomcat</a> .)</p>
<p>Я не рекомендую использовать Tomcat Web Application Manager для запуска или отключения Tomcat. Если вы не полностью отключите и не запустите Tomcat, рано или поздно у вас будут проблемы с памятью PermGen.</p>
<p>Отключить и перезапустить Tomcat ERDDAP :</p>
<ul>
<li class="">Если вы используете Linux или Mac:
(Если вы создали специального пользователя для запуска Tomcat, например, Tomcat, не забудьте выполнить следующие действия в качестве этого пользователя.)<br>
<!-- --> <!-- -->
<ol>
<li class="">Используйте CD <em>кот</em> бин
 </li>
<li class="">Используйте ps -ef | grep tomcat для поиска процесса java/tomcat ID (Будем надеяться, что будет перечислен только один процесс.) который мы будем называть <em>javaProcessID</em> ниже.
 </li>
<li class="">Если ERDDAP™ Заморожено/заперто/заперто, используйте kill -3 <em>javaProcessID</em> рассказывать Java   (Кто управляет Tomcat) Чтобы сделать сброс потока в файл журнала Tomcat: <em>кот</em> /logs/catalina.out. После перезагрузки вы можете диагностировать проблему, найдя информацию о сбросе потока (и любую другую полезную информацию выше) в <em>кот</em> /logs/catalina.out, а также путем чтения соответствующих частей <a href="#log" class=""> ERDDAP™ архив</a> . Если вы хотите, вы можете включить эту информацию и посмотреть нашу <a class="" href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a> .
 </li>
<li class="">Используйте ./shutdown. рубить
 </li>
<li class="">Используйте ps -ef | Неоднократно греп томкэт до тех пор, пока процесс java/tomcat не будет указан.</li>
</ol>
</li>
</ul>
<p>Иногда процесс Java/tomcat занимает до двух минут. Причина в следующем: ERDDAP™ Он посылает сообщение своим фоновым потокам, чтобы сказать им остановиться, но иногда требуется много времени, чтобы добраться до хорошего места остановки.</p>
<ol start="6">
<li class="">Если через минуту или около того, java/tomcat не останавливается сам по себе, вы можете использовать
Убить -9 <em>javaProcessID</em><br>
<!-- -->Заставить процесс Java/tomcat немедленно прекратиться. Если возможно, используйте это только в крайнем случае. Переключатель -9 мощный, но может вызвать различные проблемы.
 </li>
<li class="">Перезапустить ERDDAP™ Использовать ./startup.sh
 </li>
<li class="">Посмотреть ERDDAP™ В вашем браузере проверить, что перезагрузка удалась. (Иногда нужно подождать 30 секунд и попытаться загрузиться. ERDDAP™ Опять же в вашем браузере, чтобы он преуспел.)<br>
<!-- --> </li>
</ol>
<ul>
<li class="">Если вы используете Windows:
 <!-- -->
<ol>
<li class="">Используйте CD <em>кот</em> бин
 </li>
<li class="">Использовать shutdown.bat<br>
<!-- --> </li>
<li class="">Вы можете захотеть использовать диспетчер задач Windows (Доступно через Ctrl Alt Del) Чтобы гарантировать, что Java /Томкат/ ERDDAP™ Процесс/приложение полностью остановлено.
Иногда процесс/приложение отключается на две минуты. Причина в следующем: ERDDAP™ Он посылает сообщение своим фоновым потокам, чтобы сказать им остановиться, но иногда требуется много времени, чтобы добраться до хорошего места остановки.
 </li>
<li class="">Перезапустить ERDDAP™ Скачать Startup.bat
 </li>
<li class="">Посмотреть ERDDAP™ В вашем браузере проверить, что перезагрузка удалась. (Иногда нужно подождать 30 секунд и попытаться загрузиться. ERDDAP™ Опять же в вашем браузере, чтобы он преуспел.)<br>
<!-- --> </li>
</ol>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="frequent-crashes-or-freezes">Частые сбои или заморозки<a href="#frequent-crashes-or-freezes" class="hash-link" aria-label="Прямая ссылка наЧастые сбои или заморозки" title="Прямая ссылка наЧастые сбои или заморозки" translate="no">​</a></h3>
<p>Если ERDDAP™ Становится медленно, падает или замерзает, что-то не так. Посмотри. <a href="#log" class=""> ERDDAP Файл журнала</a> Чтобы попытаться выяснить причину. Если вы не можете, пожалуйста, укажите детали и посмотрите наш <a class="" href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a> .</p>
<p>Наиболее распространенной проблемой является проблемный пользователь, который запускает несколько сценариев одновременно и / или кто-то делает большое количество недействительных запросов. Если это произойдет, вы должны занести этого пользователя в черный список. Когда пользователь в черном списке делает запрос, сообщение об ошибке в ответе побуждает его отправить вам электронное письмо, чтобы решить проблемы. Затем вы можете побудить их запускать только один сценарий за раз и исправлять проблемы в своем сценарии. (Например, запрос данных из удаленного набора данных, который не может ответить до истечения времени) . Смотри.&lt;Черный список&gt; в вашем datasets.xml файл (/docs/server-admin/datasets#requestblacklist) .</p>
<p>В экстремальных обстоятельствах, Java Может замерзнуть на минуту или две, пока он делает полный сбор мусора, но затем восстанавливается. Поэтому лучше подождать минуту или две, чтобы увидеть, Java / ERDDAP™ Он действительно заморожен или просто собирает большой мусор. (Если сбор мусора является общей проблемой, <a class="" href="/ru/docs/server-admin/deploy-install#memory">Выделите больше памяти Tomcat</a> .)</p>
<p>Если ERDDAP™ Он становится медленным или замерзает, и проблема не является проблемным пользователем или длинной сборкой мусора. <a href="#shut-down-and-restart" class="">возобновление ERDDAP™ </a> . Мой опыт показывает, что ERDDAP™ Они могут работать в течение нескольких месяцев без необходимости перезапуска.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="monitor">Монитор<a href="#monitor" class="hash-link" aria-label="Прямая ссылка наМонитор" title="Прямая ссылка наМонитор" translate="no">​</a></h3>
<p>Вы можете следить за своим ERDDAP Статус, глядя на <a href="#status-page" class=""> /erddap/status.html страница</a> Особенно статистика в верхнем разделе. Если ERDDAP™ Он становится медленным или замораживается, и проблема заключается не только в чрезмерно интенсивном использовании, вы обычно можете решить проблему. <a href="#shut-down-and-restart" class="">возобновление ERDDAP™ </a> . Есть дополнительные метрики, доступные через интеграцию Prometheus в /erddap/метрики.</p>
<p>Мой опыт показывает, что ERDDAP™ Они могут работать в течение нескольких месяцев без необходимости перезапуска. Вам нужно только перезапустить его, если вы хотите применить некоторые изменения, которые вы внесли. ERDDAP Setup.xml или когда вам нужно установить новые версии ERDDAP™ , Java Tomcat или операционная система. Если вам нужно перезапустить ERDDAP™ Часто что-то не так. Посмотри. <a href="#log" class=""> ERDDAP Файл журнала</a> Чтобы попытаться выяснить причину. Если вы не можете, пожалуйста, укажите детали и посмотрите наш <a class="" href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a> . В качестве временного решения вы можете попробовать использовать <a href="https://mmonit.com/monit/" target="_blank" rel="noopener noreferrer" class="">Монит</a> следить за своим ERDDAP™ Перезагрузите его, если это необходимо. Или вы можете сделать крон работу, чтобы перезапустить ERDDAP™   (активно) периодически. Может быть немного сложно написать сценарий для автоматизации мониторинга и перезапуска. ERDDAP . Некоторые советы, которые могут помочь:</p>
<ul>
<li class="">Вы можете упростить тестирование, если процесс Tomcat все еще работает, используя переключатель -c с грэпом:
ps -u <em>кот Пользователь</em>   | грэп -c java
Это уменьшит выход до «1», если процесс томка все еще жив, или «0», если процесс остановился.
 </li>
<li class="">Если вы хорошо разбираетесь в gawk, вы можете извлечь процессID из результатов
ps -u <em>кот Пользователь</em>   | grep java и используйте processID в других строках сценария.
 </li>
</ul>
<p>Если вы настроите Monit или работу cron, было бы здорово, если бы вы могли поделиться подробностями, чтобы другие могли извлечь выгоду из нашей работы. <a class="" href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a> Где вы можете поделиться.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="permgen">Пермген<a href="#permgen" class="hash-link" aria-label="Прямая ссылка наПермген" title="Прямая ссылка наПермген" translate="no">​</a></h4>
<p>Если вы используете Tomcat Manager для перезагрузки (или остановиться и начать)   ERDDAP™ , ERDDAP™ Может не запустить и бросить java.lang. Ошибка OutOfMemory: PermGen Решение состоит в том, чтобы периодически (Или каждый раз?)   <a href="#shut-down-and-restart" class="">закрыть и перезапустить Tomcat и ERDDAP™ </a> Вместо простого перезарядки ERDDAP .
\[ Обновление: Эта проблема была сведена к минимуму или решена в ERDDAP™ Версия 1.24. \]<br>
<!-- --> </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="log">Лог<a href="#log" class="hash-link" aria-label="Прямая ссылка наЛог" title="Прямая ссылка наЛог" translate="no">​</a></h4>
<ul>
<li class="">** <a href="#log" class="">log.txt</a> **<br>
<!-- -->Если ERDDAP™ не запускается или если что-то работает не так, как ожидалось, очень полезно посмотреть на ошибки и диагностические сообщения ERDDAP™ Файл журнала.</li>
<li class="">Файл журнала является <em>BigParent Директория</em> /logs/log.txt
( <em>BigParent Директория</em> указывается в <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> ) . Если нет бревна. Файл txt или журнал. Файл txt не обновлялся с момента перезагрузки ERDDAP™ Посмотри в <a href="#tomcat-logs" class="">Файлы журнала Tomcat</a> Проверьте, есть ли там сообщение об ошибке.</li>
<li class="">Виды диагностических сообщений в файле журнала:<!-- -->
<ul>
<li class="">Слово «ошибка» используется, когда что-то пошло не так, что процедура не была завершена. Хотя это раздражает, чтобы получить ошибку, ошибка заставляет вас иметь дело с проблемой. Мы думаем, что лучше ошибиться, чем иметь ERDDAP™ Двигайтесь, работая так, как вы не ожидали.</li>
<li class="">Слово «предупреждение» используется, когда что-то пошло не так, но процедуру удалось завершить. Они довольно редкие.</li>
<li class="">Все остальное — лишь информативное сообщение. Вы можете контролировать, сколько информации зарегистрировано [&lt;logLevel&gt; (/docs/server-admin/datasets#loglevel)   datasets.xml .</li>
<li class="">Перезагрузка набора данных и ответы пользователей, которые занимают более 10 секунд (успешно или безуспешно) Помечены &quot; (&gt;10s!) &quot;. Таким образом, вы можете искать файл log.txt для этой фразы, чтобы найти наборы данных, которые медленно перезагружались, или количество запросов, которые медленно заканчивались. Затем вы можете посмотреть выше в файле log.txt, чтобы увидеть, что такое проблема набора данных или что такое запрос пользователя и от кого он был. Эти медленные нагрузки на набор данных и запросы пользователей иногда облагаются налогом. ERDDAP . Таким образом, знание этих запросов может помочь вам определить и решить проблемы.</li>
</ul>
</li>
<li class="">Информация записывается в файл журнала на дисководе в довольно больших кусках. Преимущество в том, что это очень эффективно - ERDDAP™ Никогда не будет блокировать ожидание информации, которая будет записана в файл журнала. Недостатком является то, что журнал почти всегда заканчивается частичным сообщением, которое не будет завершено, пока не будет написан следующий фрагмент. Вы можете сделать его современным (На мгновение) Посмотреть свой ERDDAP Статус страницы вhttps://<em>your.domain.org</em>/erddap/status.html  (или http:// если https не включен) .</li>
<li class="">Когда файл log.txt достигает 20 МБ,
Файл переименован в log. txt.previous и новый файл log.txt. Файлы журналов не накапливаются.</li>
</ul>
<p>В setup.xml вы можете указать другой максимальный размер файла журнала в MegaBytes. Разрешенный минимум 1 (МБ) . Максимально допустимый 2000 (МБ) . По умолчанию 20 (МБ) . Например:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;logMaxSizeMB&gt;20&lt;/logMaxSizeMB&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Всякий раз, когда вы перезагружаетесь ERDDAP™ ,
ERDDAP™ делает архивную копию log.txt и log. txt.предыдущие файлы с отметкой времени в имени файла. Если перед перезагрузкой возникли проблемы, может быть полезно проанализировать эти архивные файлы для подсказок о том, что было проблемой. Вы можете удалить архивные файлы, если они больше не нужны.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="parsing-logtxt">Парсинг log.txt<a href="#parsing-logtxt" class="hash-link" aria-label="Прямая ссылка наПарсинг log.txt" title="Прямая ссылка наПарсинг log.txt" translate="no">​</a></h5>
<p>ERDDAP Журнал. Файл txt не предназначен для анализа (Вы можете создавать регулярные выражения, которые извлекают желаемую информацию.) . Он предназначен для того, чтобы помочь человеку понять, что идет не так, когда что-то идет не так. Когда вы отправляете сообщение об ошибке или проблеме ERDDAP™ Разработчики, когда это возможно, пожалуйста, включите всю информацию из файла log.txt, связанную с неприятным запросом.</p>
<p>По соображениям эффективности, ERDDAP™ записывает информацию только для регистрации. txt после накопления большого объема информации. Так что, если вы посетите журнал. После того, как произошла ошибка, информация, связанная с ошибкой, может еще не быть записана на log.txt. Чтобы получить актуальную информацию от log.txt, посетите свой сайт. ERDDAP ? <a href="#status-page" class="">status.html</a> . Когда ERDDAP™ Процессы, которые запрашивают, смывают всю ожидающую информацию на log.txt.</p>
<p>Для ERDDAP™ Статистика использования, пожалуйста, используйте <a href="#tomcat-logs" class="">Apache и/или файлы журналов Tomcat</a> вместо того, чтобы ERDDAP log.txt. Обратите внимание, что ERDDAP ? <a href="#status-page" class="">status.html</a>   (некоторые) и <a href="#daily-report" class="">Ежедневный отчет</a>   (больше) У вас есть большое количество предварительно рассчитанной статистики использования.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="tomcat-logs">Логотип Tomcat<a href="#tomcat-logs" class="hash-link" aria-label="Прямая ссылка наЛоготип Tomcat" title="Прямая ссылка наЛоготип Tomcat" translate="no">​</a></h3>
<p>Если ERDDAP™ Не запускается, потому что ошибка произошла очень рано. ERDDAP Стартап, сообщение об ошибке появится в файлах журнала Tomcat ( <em>кот</em> /logs/Каталина. <em>сегодня</em> .log или <em>кот</em> /logs/catalina.out) не в <a href="#log" class=""> ERDDAP файл log.txt</a> .</p>
<p>Статистика использования: Для большей части информации, которую люди хотят собрать из файла журнала (Например, статистика использования) Пожалуйста, используйте файлы журналов Apache и/или Tomcat. Они хорошо отформатированы и имеют такую информацию. Существует множество инструментов для их анализа, например: <a href="https://www.awstats.org" target="_blank" rel="noopener noreferrer" class="">AWStats</a> , <a href="https://www.elastic.co/products/kibana" target="_blank" rel="noopener noreferrer" class="">Оригинальное название: ElasticSearch&#x27;s Kibana</a> и <a href="https://jmeter.apache.org" target="_blank" rel="noopener noreferrer" class="">JMeter</a> Но ищите в Интернете, чтобы найти правильный инструмент для ваших целей.</p>
<p>Обратите внимание, что файлы журналов идентифицируют пользователей только как IP-адреса. Есть веб-сайты, которые помогут вам получить информацию, связанную с данным IP-адресом, например, <a href="https://whatismyipaddress.com/ip-lookup" target="_blank" rel="noopener noreferrer" class="">Что такое MyIPAddress</a> Обычно вы не можете найти имя пользователя.</p>
<p>Кроме того, из-за <a href="https://en.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol" target="_blank" rel="noopener noreferrer" class="">ДГКП</a> IP-адрес данного пользователя может отличаться в разные дни, или разные пользователи могут иметь один и тот же IP-адрес в разное время.</p>
<p>Кроме того, вы можете использовать что-то вроде <a href="https://analytics.google.com/analytics/web/provision/?authuser=0#/provision" target="_blank" rel="noopener noreferrer" class="">Google Analytics</a> . Но будьте осторожны: когда вы используете внешние сервисы, такие как Google Analytics, вы отказываетесь от конфиденциальности своих пользователей, предоставляя Google полный доступ к их активности на вашем сайте. (и другие?) Он может храниться вечно и использоваться для любых целей. (Возможно, не технически, но на практике.) . Ваши пользователи не согласились на это и, вероятно, не знают, что они будут отслеживаться на вашем веб-сайте, так же как они, вероятно, не знают о степени их отслеживания почти на всех веб-сайтах. В наши дни многие пользователи очень обеспокоены тем, что все, что они делают в Интернете, контролируется этими крупными компаниями. (Google, Facebook и т.д.) и правительством, и найти это необоснованное вторжение в их жизнь (Как в книге, 1984) . Это заставило многих пользователей устанавливать такие продукты, как <a href="https://www.eff.org/privacybadger/faq" target="_blank" rel="noopener noreferrer" class="">Конфиденциальность Badger</a> Чтобы минимизировать отслеживание, использовать альтернативные браузеры, такие как <a href="https://www.torproject.org/" target="_blank" rel="noopener noreferrer" class="">Tor Браузер</a>   (Отключить отслеживание в традиционных браузерах) и использовать альтернативные поисковые системы, такие как <a href="https://duckduckgo.com/" target="_blank" rel="noopener noreferrer" class="">Дак Дак Го</a> . Если вы используете такую услугу, как Google Analytics, пожалуйста, задокументируйте ее использование и последствия, изменив&lt;StandardPrivacyPolicy&gt; Tag in ERDDAP ?
\[ кот \] /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml файл.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="e-mail-log">Электронная почта<a href="#e-mail-log" class="hash-link" aria-label="Прямая ссылка наЭлектронная почта" title="Прямая ссылка наЭлектронная почта" translate="no">​</a></h3>
<ul>
<li class=""><strong>emailLogYEAR-MM-DD.txt</strong><br>
<!-- -->ERDDAP™ всегда пишет текст всех текущих сообщений электронной почты в электронной почте текущего дня LogYEAR-MM-DD.txt файл <em>BigParent Директория</em> /logs ( <em>BigParent Директория</em> указывается в <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> ) .</li>
<li class="">Если сервер не может отправлять сообщения электронной почты, или если вы настроили ERDDAP™ Чтобы не отправлять сообщения электронной почты, или если вам просто любопытно, этот файл является удобным способом увидеть все сообщения электронной почты, которые были отправлены.</li>
<li class="">Вы можете удалить файлы журнала электронной почты предыдущих дней, если они больше не нужны.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="daily-report">Ежедневный отчет<a href="#daily-report" class="hash-link" aria-label="Прямая ссылка наЕжедневный отчет" title="Прямая ссылка наЕжедневный отчет" translate="no">​</a></h3>
<p>Ежедневный отчет содержит много полезной информации - всю информацию, полученную от вас. ERDDAP ? <a href="#status-page" class=""> /erddap/status.html страница</a> и многое другое.</p>
<ul>
<li class="">Это наиболее полное резюме вашего ERDDAP Статус.</li>
<li class="">Среди других статистических данных он включает в себя список наборов данных, которые не загружались, и исключения, которые они генерировали.</li>
<li class="">Он генерируется, когда вы начинаете ERDDAP™   (только после ERDDAP™ Заканчивается попытка загрузить все наборы данных) и генерируется вскоре после 7 утра по местному времени каждое утро.</li>
<li class="">Всякий раз, когда он создается, он записывается в <a href="#log" class=""> ERDDAP файл log.txt</a> .</li>
<li class="">Всякий раз, когда он генерируется, он отправляется по электронной почте.&lt;emailDailyReportsTo&gt; и&lt;Электронная почта Все Чтобы (которые указаны в <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> ) Если вы создали систему электронной почты (в setup.xml) .</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="status-page">Страница статуса<a href="#status-page" class="hash-link" aria-label="Прямая ссылка наСтраница статуса" title="Прямая ссылка наСтраница статуса" translate="no">​</a></h3>
<p>Вы можете посмотреть статус своего ERDDAP™ Из любого браузера, перейдя в&lt;Базовый URL /erddap/status.html</p>
<ul>
<li class="">Эта страница генерируется динамически, поэтому она всегда имеет актуальную статистику для вашего сайта. ERDDAP .</li>
<li class="">Он включает в себя статистику по количеству запросов, использованию памяти, следам стека потоков, задачеThread и т. Д.</li>
<li class="">Поскольку Страница Статуса может быть просмотрена кем угодно, она не содержит столько информации, сколько вы можете найти. <a href="#daily-report" class="">Ежедневный отчет</a> .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="addingchanging-datasets">Добавление/изменение наборов данных<a href="#addingchanging-datasets" class="hash-link" aria-label="Прямая ссылка наДобавление/изменение наборов данных" title="Прямая ссылка наДобавление/изменение наборов данных" translate="no">​</a></h3>
<p>ERDDAP™ обычно перечитывают datasets.xml каждый <em>Обсуждение DatasetsMinMinutes</em>   (указанный в <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> ) . Вы можете внести изменения в datasets.xml В любое время, даже если ERDDAP™ Бежит.
Новый набор данных будет обнаружен в ближайшее время, как правило, внутри <em>Обсуждение DatasetsMinMinutes</em> .
Измененный набор данных будет перезагружен, когда он будет <em>Скачать EveryNMinutes</em> старый (как указано в datasets.xml ) .</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="flag">Флаг<a href="#flag" class="hash-link" aria-label="Прямая ссылка наФлаг" title="Прямая ссылка наФлаг" translate="no">​</a></h4>
<ul>
<li class="">
<p>** <a href="#flag" class="">Флаг Файл</a> Сказки ERDDAP™ Как можно скорее перезагрузить набор данных**</p>
</li>
<li class="">
<p>ERDDAP™ не заметит никаких изменений в настройках набора данных в datasets.xml до ERDDAP™ Перезагружает набор данных.
 </p>
</li>
<li class="">
<p>Рассказать ERDDAP™ как можно скорее перезагрузить набор данных (до того, как набор данных&lt;reloadEveryNMinutes&gt; приведет к его перезагрузке, поместите файл в <em>BigParent Директория</em> флаг ( <em>BigParent Директория</em> указывается в <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> ) имеет то же название, что и набор данных datasetID .
Это говорит ERDDAP™ Попробуйте перезагрузить этот набор данных как можно скорее.
Старая версия набора данных будет оставаться доступной для пользователей до тех пор, пока новая версия не будет доступна и не будет заменена атомарно.
Для EDDGrid Из материалов и EDDTable Из файлов набор данных для перезагрузки будет искать новые или измененные файлы, читать их и включать их в набор данных. Время перезагрузки зависит от количества новых или измененных файлов.
Если набор данных активен = &quot;ложный&quot;, ERDDAP™ Мы удалим набор данных.
 </p>
</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="bad-files-flag">Флаг Bad Files<a href="#bad-files-flag" class="hash-link" aria-label="Прямая ссылка наФлаг Bad Files" title="Прямая ссылка наФлаг Bad Files" translate="no">​</a></h5>
<ul>
<li class="">
<p>Одним из вариантов каталога /flag является каталог /badFilesFlag. (Добавлено в ERDDAP™ v2.12.)<br>
<!-- -->Если вы поместите файл в <em>BigParent Директория</em> /badFilesFlag каталог с datasetID как имя файла (Содержимое файла не имеет значения) Затем, как только ERDDAP™ Посмотреть BadFiles Флаговое досье, ERDDAP™ будет:</p>
<ol>
<li class="">Удалите файл BadFilesFlag.</li>
<li class="">Удалить BadFiles .nc файл (Если есть один) , который имеет список плохих файлов для этого набора данных.
Для наборов данных как EDDGrid SideBySide, у которого есть наборы данных для детей, также удаляет плохие файлы .nc Файл для всех детских наборов данных.</li>
<li class="">Перезагрузите набор данных как можно скорее.</li>
</ol>
</li>
</ul>
<p>Таким образом, это вызывает ERDDAP™ Чтобы попытаться снова работать с файлами, которые были ранее (Ошибочно?) отмечен как плохой.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="hard-flag">Жесткий флаг<a href="#hard-flag" class="hash-link" aria-label="Прямая ссылка наЖесткий флаг" title="Прямая ссылка наЖесткий флаг" translate="no">​</a></h5>
<ul>
<li class="">
<p>Другим вариантом каталога /flag является каталог /hardFlag. (Добавлено в ERDDAP™ v1.74.)<br>
<!-- -->Если вы поместите файл в <em>BigParent Директория</em> /Флаг с а datasetID как имя файла (Содержимое файла не имеет значения) Затем, как только ERDDAP™ Видеть тяжелое Флаговое досье, ERDDAP™ будет:</p>
<ol>
<li class="">Удалите файл hardFlag.</li>
<li class="">Удалить набор данных из ERDDAP .</li>
<li class="">Удалить всю информацию, которая ERDDAP™ Сохранил об этом наборе данных.
Для EDDGrid Из материалов и EDDTable Из подклассов файлов это удаляет внутреннюю базу данных файлов данных и их содержимое.
Для наборов данных как EDDGrid SideBySide также удаляет внутреннюю базу данных файлов данных и их содержимое для всех наборов данных детей.</li>
<li class="">Перезагрузите набор данных.
Для EDDGrid Из материалов и EDDTable Из материалов подклассов это вызывает ERDDAP™ перечитать <strong>все</strong> Файлы данных. Таким образом, время перезагрузки зависит от общего количества файлов данных в наборе данных. Потому что набор данных был удален из ERDDAP™ Когда жесткий флаг был замечен, набор данных будет недоступен до тех пор, пока набор данных не завершит перезагрузку. Будь терпелив. Посмотри в себя. <a href="#log" class="">log.txt</a> Файл, если хочешь посмотреть, что происходит.</li>
</ol>
</li>
</ul>
<p>Вариант жесткого флага удаляет сохраненную информацию набора данных, даже если набор данных в настоящее время не загружается. ERDDAP .</p>
<p>Жесткий Флаги очень полезны, когда вы делаете что-то, что вызывает изменения в том, как это сделать. ERDDAP™ считывает и интерпретирует исходные данные, например, при установке новой версии ERDDAP™ или когда вы внесли изменения в определение набора данных в datasets.xml</p>
<ul>
<li class="">Содержимое флага, BadFilesFlag и файлы hardFlag не имеют значения. ERDDAP™ Просто посмотрите на имя файла, чтобы получить datasetID .
 </li>
<li class="">Между основными перезагрузками набора данных, ERDDAP™ Постоянно ищет файлы флага, badFilesFlag и hardFlag.
 </li>
<li class="">Обратите внимание, что при перезагрузке набора данных все файлы в <em>BigParent Директория</em> / <a href="#cached-responses" class="">кэш</a> / * datasetID * Каталог удаляется. Это включает .nc Файлы изображений, которые обычно кэшируются в течение 15 минут.
 </li>
<li class="">Обратите внимание, что если xml набора данных включает <a class="" href="/ru/docs/server-admin/datasets#active">Активный = «ложный»</a> Флаг сделает набор данных неактивным (Если он активен) В любом случае, не перезагружается.
 </li>
<li class="">В любое время ERDDAP™ запускает LoadDatasets для выполнения крупной перезагрузки (контролируемая по времени перезагрузка).&lt;loadDatasetsMinMinutes&gt;) или незначительная перезагрузка (В результате внешнего или внутреннего флага) , ERDDAP™ Читать все&lt;decompressedCacheMaxGB&gt;,&lt;decompressedCacheMaxMinutesOld&gt;,&lt;Пользователь&gt;,&lt;Запросить Blacklist&lt;Медленный DownTroubleMillis&lt;подпискаEmailBlacklist&gt; теги и переключатели на новые настройки. Вы можете использовать флаг, чтобы получить ERDDAP™ Заметьте изменения в этих тегах как можно скорее.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="set-dataset-flag">Флаг набора данных<a href="#set-dataset-flag" class="hash-link" aria-label="Прямая ссылка наФлаг набора данных" title="Прямая ссылка наФлаг набора данных" translate="no">​</a></h5>
<ul>
<li class="">
<p>ERDDAP™ Он имеет веб-сервис, который позволяет устанавливать флаги через URL.</p>
<ul>
<li class="">Например,
<a href="https://coastwatch.pfeg.noaa.gov/erddap/setDatasetFlag.txt?datasetID=rPmelTao&amp;flagKey=123456789" target="_blank" rel="noopener noreferrer" class="">https://coastwatch.pfeg.noaa.gov/erddap/setDatasetFlag.txt?datasetID=rPmelTao&amp;flagKey=123456789</a><br>
<!-- -->(Это фальшивый флаг. Ключ) Будет установлен флаг для набора данных rPmelTao.</li>
<li class="">Для каждого из них есть свой флаг. datasetID .</li>
<li class="">Администраторы могут видеть список URL-адресов флагов для всех наборов данных, глядя в нижней части их <a href="#daily-report" class="">Ежедневный отчет</a> Электронная почта.</li>
<li class="">Администраторы должны рассматривать эти URL-адреса как конфиденциальные, поскольку они дают кому-то право сбрасывать набор данных по желанию.</li>
<li class="">Если вы думаете, что ключи от флага попали в руки того, кто их злоупотребляет, вы можете измениться.&lt;flagKeyKey&gt; в <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> и возобновить ERDDAP принуждать ERDDAP™ Для создания и использования различных наборов flagKeys.</li>
<li class="">Если вы меняетесь&lt;flagKeyKey&gt;, удалить все старые подписки (Смотрите список в своем ежедневном отчете) Не забудьте отправить новые URL-адреса людям, которых вы хотите иметь.</li>
</ul>
</li>
</ul>
<p>Система флага может служить основой для более эффективного механизма передачи информации. ERDDAP™ Когда перезагружать набор данных. Например, вы можете установить набор данных&lt;Скачать EveryNMinutes в большом количестве (10080 = 1 неделя) . Когда вы знаете, что набор данных изменился (Возможно, потому что вы добавили файл в каталог данных набора данных.) Установите флаг так, чтобы набор данных был перезагружен как можно скорее. Флаги обычно видны быстро. Но если поток LoadDatasets уже занят, может пройти некоторое время, прежде чем он сможет действовать на флаге. Но система флага гораздо более отзывчива и намного эффективнее, чем настройка.&lt;Перезагрузить EveryNMinutes в небольшое число.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="removing-datasets">Удаление наборов данных<a href="#removing-datasets" class="hash-link" aria-label="Прямая ссылка наУдаление наборов данных" title="Прямая ссылка наУдаление наборов данных" translate="no">​</a></h4>
<p>Если данные активны в ERDDAP™ И вы хотите отключить его временно или навсегда:</p>
<ol>
<li class="">в datasets.xml Для набора данных, set <a class="" href="/ru/docs/server-admin/datasets#active">Активный = «ложный»</a> в теге Dataset.</li>
<li class="">Подожди ERDDAP™ для удаления набора данных во время следующей крупной перезагрузки или <a href="#flag" class="">Установить флаг</a> Чтобы набор данных сообщал ERDDAP™ Заметьте это изменение как можно скорее. Когда ты это делаешь, ERDDAP™ не выбрасывает какую-либо информацию, которую он мог хранить о наборе данных, и, конечно, не делает ничего с фактическими данными.</li>
<li class="">Затем вы можете оставить активный = &quot;ложный&quot; набор данных в datasets.xml или удалить его.
 </li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="when-are-datasets-reloaded">Когда перезагружаются данные?<a href="#when-are-datasets-reloaded" class="hash-link" aria-label="Прямая ссылка наКогда перезагружаются данные?" title="Прямая ссылка наКогда перезагружаются данные?" translate="no">​</a></h4>
<p>Поток, называемый RunLoadDatasets, является основным потоком, который контролирует перезагрузку наборов данных. Бежать Циклы данных навсегда:</p>
<ol>
<li class="">
<p>RunLoadDatasets отмечает текущее время.</p>
</li>
<li class="">
<p>RunLoadDatasets запускает поток LoadDatasets для выполнения «основной нагрузки». Вы можете увидеть информацию о текущей / предыдущей основной нагрузке в верхней части вашего сайта. ERDDAP ?
<a href="#status-page" class=""> /erddap/status.html страница</a>   (Например, <a href="https://coastwatch.pfeg.noaa.gov/erddap/status.html" target="_blank" rel="noopener noreferrer" class="">Пример страницы состояния</a> ) .</p>
<ol>
<li class="">LoadDatasets делает копию datasets.xml .</li>
<li class="">LoadDatasets читается через копию datasets.xml и для каждого набора данных видит, должен ли набор данных быть (повторять) заряжены или удалены.<!-- -->
<ul>
<li class="">Если <a href="#flag" class="">флаг</a> файл существует для этого набора данных, файл удаляется и набор данных удаляется, если активный = &quot;ложный&quot; или (повторять) Загрузка, если активна = &quot;правда&quot; (Независимо от возраста набора данных) .</li>
<li class="">Если часть набора данных dataset.xml активна = «ложная», и набор данных в настоящее время загружается (активный) , он разгружен (удалять) .</li>
<li class="">Если набор данных активен = «истинно», и набор данных еще не загружен, он загружен.</li>
<li class="">Если набор данных активен = «истинно» и набор данных уже загружен, набор данных перезагружается, если возраст набора данных (время с момента последней загрузки) Он больше, чем его&lt;перезаряжать EveryNMinutes (По умолчанию 10080 минут) В противном случае набор данных остается один.</li>
</ul>
</li>
<li class="">LoadDatasets заканчивается.</li>
</ol>
</li>
</ol>
<p>Поток RunLoadDatasets ожидает окончания потока LoadDatasets. Если LoadDatasets занимает больше времени, чем loadDatasets Миннуты (как указано в setup.xml) RunLoadDatasets прерывает поток LoadDatasets. В идеале, LoadDatasets замечает прерывание и заканчивает. Но если он не заметит прерывание в течение минуты, RunLoadDatasets вызывает loadDatasets. останавливаться () , что нежелательно.
3. В то время как время с момента начала последней крупной загрузки меньше, чем загрузки Миннуты (как указано в setup.xml, например, 15 минут) RunLoadDatasets постоянно ищет <a href="#flag" class="">флаг</a> файлы в <em>BigParent Директория</em> /Flag Directory. Если один или несколько файлов флага найдены, они удаляются, и RunLoadDatasets запускает поток LoadDatasets, чтобы сделать «minorLoad». (Ложь = Ложь) . Вы не можете видеть информацию о малой загрузке на вашем компьютере. ERDDAP ? <a href="#status-page" class=""> /erddap/status.html страница</a> .</p>
<ol>
<li class="">LoadDatasets делает копию datasets.xml .</li>
<li class="">LoadDatasets читается через копию datasets.xml Для каждого набора данных, для которого был файл флага:<!-- -->
<ul>
<li class="">Если часть набора данных dataset.xml активна = «ложная», и набор данных в настоящее время загружается (активный) , он разгружен (удалять) .</li>
<li class="">Если набор данных активен = «истинно», набор данных (повторять) Заряженный, независимо от возраста. Немаркированные наборы данных игнорируются.</li>
</ul>
</li>
<li class="">LoadDatasets заканчивается.</li>
<li class="">Бежать Наборы данных возвращаются к шагу 1.</li>
</ol>
<p>Примечания:</p>
<ul>
<li class="">
<p>Стартап
Когда вы перезагрузитесь ERDDAP™ Каждый набор данных с активным = &quot;истинно&quot; загружается.</p>
</li>
<li class="">
<p>Кэш
Когда набор данных (повторять) Заряженный, его кэш (включая любые файлы ответа на данные и/или файлы изображений) Он опустошен.</p>
</li>
<li class="">
<p>Много наборов данных
Если у вас много наборов данных и/или один или несколько наборов данных медленно (повторять) Загрузка, поток LoadDatasets может занять много времени, чтобы закончить свою работу, возможно, даже дольше, чем загрузка Минуты.</p>
</li>
<li class="">
<p>Один поток LoadDatasets
Никогда не бывает более одного потока LoadDatasets, работающего одновременно. Если флаг установлен, когда LoadDatasets уже работает, флаг, вероятно, не будет замечен или действовать до тех пор, пока этот поток LoadDatasets не закончит работу. Вы можете сказать: &quot;Это глупо. Почему бы вам просто не запустить кучу новых потоков для загрузки наборов данных? Но если у вас много наборов данных, которые получают данные с одного удаленного сервера, даже один поток LoadDatasets будет оказывать существенное давление на удаленный сервер. То же самое верно, если у вас много наборов данных, которые получают данные из файлов на одном RAID. Быстро уменьшаются доходы от наличия более одного потока LoadDatasets.</p>
</li>
<li class="">
<p>Флаг = быстро
Установка флага просто сигнализирует о том, что набор данных должен быть (повторять) загружается как можно скорее, не обязательно сразу. Если поток LoadDatasets в настоящее время не запущен, набор данных начнет перезагружаться в течение нескольких секунд. Но если поток LoadDatasets в настоящее время работает, набор данных, вероятно, не будет перезагружен до тех пор, пока этот поток LoadDatasets не будет завершен.</p>
</li>
<li class="">
<p>Файл флага удален
Если вы поместите файл флага в <em>BigParent Директория</em> каталог /erddap/flag (Посещение флага набора данных Url или размещение реального файла) Набор данных обычно перезагружается очень скоро после удаления файла флага.</p>
</li>
<li class="">
<p>Флаг против небольшой перезагрузки EveryNMinutes
Если у вас есть какой-то внешний способ узнать, когда набор данных должен быть перезагружен, и если он удобен для вас, лучший способ убедиться, что набор данных всегда обновлен, - это установить его перезагрузку. Каждые минуты в большом количестве (10080?) Установить флаг (С помощью сценария?) Всякий раз, когда его нужно перезарядить. Это система, которая EDDGrid FromErddap и EDDTableFromErddap используют сообщения о необходимости перезагрузки набора данных.</p>
</li>
<li class="">
<p>Посмотреть log.txt
Много соответствующей информации написано на <em>BigParent Директория</em> /logs/log.txt файл. Если дела идут не так, как вы ожидаете, посмотрите на журнал. txt позволяет диагностировать проблему, выясняя, что именно ERDDAP™ Правда.</p>
<ul>
<li class="">
<p>Поиск «majorLoad=true» для начала основных потоков LoadDataset.</p>
</li>
<li class="">
<p>Поиск «majorLoad=false» для начала небольших потоков LoadDatasets.</p>
</li>
<li class="">
<p>Поиск заданного набора данных datasetID Для информации о том, что это (повторять) загруженный или запрошенный.</p>
<p> </p>
</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cached-responses">Кэшированные ответы<a href="#cached-responses" class="hash-link" aria-label="Прямая ссылка наКэшированные ответы" title="Прямая ссылка наКэшированные ответы" translate="no">​</a></h4>
<p>В общем, ERDDAP™ не кэширует (магазин) Ответы на запросы пользователей. Обоснование заключалось в том, что большинство запросов будут немного отличаться, поэтому кэш не будет очень эффективным. Самыми большими исключениями являются запросы на файлы изображений. (которые кэшируются, поскольку браузеры и программы Google Earth Часто запрашивайте изображения) и просьбы о .nc файлы (Потому что их нельзя создать на лету) . ERDDAP™ Хранит кэшированные файлы каждого набора данных в другом каталоге: <em>BigParent Директория</em> /кэш/ * datasetID * Поскольку в одном каталоге кэша может быть огромное количество файлов, доступ к которым может стать медленным.
Файлы удаляются из кэша по одной из трех причин:</p>
<ul>
<li class="">Все файлы в этом кэше удаляются, когда ERDDAP™ Перезапущен.</li>
<li class="">Периодически любой файл более&lt;CacheMinutes - старый (как указано в <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> ) будут удалены. Удаление файлов в кэше в зависимости от возраста (не используется в последнее время) Это гарантирует, что файлы не будут оставаться в кэше очень долго. Хотя может показаться, что данный запрос должен всегда возвращать один и тот же ответ, это не так. Например, a tabledap Запрос, который включает &amp;time <em>некоторые Время</em> Изменится, если появятся новые данные для набора данных. Запрос сетки, который включает \[ последний \] Размер времени изменится, если для набора данных появятся новые данные.</li>
<li class="">Изображения, показывающие условия ошибки, кэшируются, но только в течение нескольких минут. (Это сложная ситуация.) .</li>
<li class="">Каждый раз, когда набор данных перезагружается, все файлы в кэше этого набора данных удаляются. Поскольку запросы могут быть &quot;last&quot; индекс в сетчатом наборе данных, файлы в кэше могут стать недействительными при перезагрузке набора данных.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="stored-dataset-information">Хранимая информация о наборе данных<a href="#stored-dataset-information" class="hash-link" aria-label="Прямая ссылка наХранимая информация о наборе данных" title="Прямая ссылка наХранимая информация о наборе данных" translate="no">​</a></h4>
<p>Для всех типов данных, ERDDAP™ Собирает много информации при загрузке набора данных и сохраняет ее в памяти. Это позволяет ERDDAP™ быстро реагировать на запросы, запросы на списки наборов данных и запросы на информацию о наборе данных.</p>
<p>Для нескольких типов наборов данных (особенно EDDGrid Копия, EDDTableCopy, EDDGrid из <em>Xxx</em> Файлы и EDDTableFrom <em>Xxx</em> Файлы) , ERDDAP™ сохраняет на диске некоторую информацию о наборе данных, который повторно используется при перезагрузке набора данных. Это значительно ускоряет процесс перезарядки.</p>
<ul>
<li class="">Некоторые из информационных файлов набора данных являются считываемыми человеком .json файлы и хранятся в <em>BigParent Директория</em> /dataset/ *last2LettersOfDatasetID/ datasetID * .</li>
<li class="">ERDDAP™ удаляет эти файлы только в необычных ситуациях, например, если вы добавляете или удаляете переменную из набора данных. datasets.xml кусок.</li>
<li class="">Большинство изменений в наборе данных datasets.xml кусок (Например, изменение глобального атрибута или переменного атрибута) Не требуйте удаления этих файлов. Регулярная перезагрузка набора данных будет обрабатывать эти типы изменений. Вы можете сказать ERDDAP™ Перезагрузить набор данных ASAP, установив <a href="#flag" class="">флаг</a> для набора данных.</li>
<li class="">Аналогичным образом, добавление, удаление или изменение файлов данных будут обрабатываться, когда ERDDAP™ Перезагружает набор данных. Но ERDDAP™ Заметит этот тип изменения в ближайшее время и автоматически, если набор данных использует&lt;Обновление EveryNMillis (/docs/server-admin/datasets#updateeverynmillis) система.</li>
<li class="">Вам редко нужно удалять эти файлы. Наиболее распространенная ситуация, когда нужно силой ERDDAP™ Чтобы удалить сохраненную информацию (потому что он устаревший / неправильный и не будет автоматически исправлен ERDDAP ) когда вы вносите изменения в набор данных datasets.xml Это влияет на то, как ERDDAP™ интерпретирует данные в исходных файлах данных, например, меняя строку формата переменной времени.</li>
<li class="">Чтобы удалить сохраненные информационные файлы набора данных из ERDDAP™ Это работает (Даже если набор данных в настоящее время не загружен) Установить <a href="#hard-flag" class="">твердый Флаг</a> для этого набора данных. Помните, что если набор данных представляет собой агрегацию большого количества файлов, перезагрузка набора данных может занять значительное время.</li>
<li class="">Для удаления сохраненных информационных файлов набора данных, когда ERDDAP™ Не бегать, бегать <a class="" href="/ru/docs/server-admin/datasets#dasdds">DasDds</a> для этого набора данных (что проще, чем выяснить, в какой каталог находится информация и удалить файлы вручную) . Помните, что если набор данных представляет собой агрегацию большого количества файлов, перезагрузка набора данных может занять значительное время.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="memory-status">Состояние памяти<a href="#memory-status" class="hash-link" aria-label="Прямая ссылка наСостояние памяти" title="Прямая ссылка наСостояние памяти" translate="no">​</a></h3>
<p>ERDDAP™ Никогда не стоит падать или замерзать. Если это так, то одной из наиболее вероятных причин является недостаточная память. Вы можете отслеживать использование памяти, просматривая веб-страницу status.html, которая включает в себя такую строку, как:</p>
<p>0 gc-звонков, 0 запросов и 0 опасных MemoryEmails с последнего крупного набора данных LoadData</p>
<p>(Все более серьезные события)<br>
<!-- -->и MB inUse и gc Колонки вызовов в таблице статистики. Вы можете сказать, как стресс памяти ERDDAP™ Наблюдая за этими цифрами. Более высокие цифры указывают на больший стресс.</p>
<ul>
<li class="">MB в использовании всегда должно быть меньше половины <a class="" href="/ru/docs/server-admin/deploy-install#memory">\-Xmx настройка памяти</a> . Большие цифры — плохой знак.</li>
<li class="">gc-звонки указывают количество раз ERDDAP™ Вызвали сборщик мусора, чтобы попытаться облегчить высокое использование памяти. Если это больше 100, это признак серьезных проблем.</li>
<li class="">Сброс указывает количество поступающих запросов, которые были сброшены. (HTTP-ошибка 503, сервис недоступен) Использование памяти было уже слишком высоким. В идеале не следует отбрасывать просьбы. Это нормально, если несколько запросов пролиты, но признак серьезных проблем, если многие пролиты.</li>
<li class="">опасный MemoryEmails - Если использование памяти становится опасно высоким, ERDDAP™ отправляет электронное письмо на адреса электронной почты, перечисленные в&lt;Электронная почта Все Чтобы (в setup.xml) со списком активных запросов пользователей. Как говорится в письме, пожалуйста, передайте эти письма Крису. Джон в Ноаа. Мы можем использовать эту информацию для улучшения будущих версий ERDDAP .
 </li>
</ul>
<p>Если вы ERDDAP™ Напряжена память:</p>
<ul>
<li class="">Распределите больше памяти вашего сервера на ERDDAP™ Изменить Tomcat <a class="" href="/ru/docs/server-admin/deploy-install#memory">Xmx настройка памяти</a> .</li>
<li class="">Если вы уже выделили столько памяти, сколько сможете ERDDAP™ Через -Xmx, подумайте о покупке большего количества памяти для вашего сервера. Память дешевая (Стоимость нового сервера или ваше время) ! Затем увеличить -Xmx.</li>
<li class="">в datasets.xml установленный&lt;nGridThreads &gt; 1, установленный&lt;nTableThreads&gt; до 1, и установить&lt;ipAddressMaxRequestsActive&gt; до 1.</li>
<li class="">Посмотрите на запросы в log.txt для неэффективных или проблемных (законным) просьбы. Добавить IP-адреса в&lt;Запросить Blacklist в datasets.xml . Сообщение об ошибке в черном списке содержит ERDDAP™ Адрес электронной почты администратора с надеждой, что эти пользователи свяжутся с вами, чтобы вы могли работать с ними для использования. ERDDAP™ более эффективно. Хорошо иметь список IP-адресов, которые вы заносите в черный список и почему, чтобы вы могли работать с пользователями, если они свяжутся с вами.</li>
<li class="">Посмотрите на запросы в log.txt для запросов от вредоносных пользователей. Добавить IP-адреса в&lt;Запросить Blacklist в datasets.xml . Если похожие запросы поступают с нескольких похожих IP-адресов, вы можете использовать некоторые службы. (например, <a href="https://www.whois.com/whois/" target="_blank" rel="noopener noreferrer" class="">https://www.whois.com/whois/</a> ) Чтобы узнать диапазон IP-адресов из этого источника и занести в черный список весь диапазон. Смотри.&lt;Запросить Blacklist&gt;документацию (/docs/server-admin/datasets#requestblacklist) .
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="outofmemoryerror">Ошибка OutOfMemory<a href="#outofmemoryerror" class="hash-link" aria-label="Прямая ссылка наОшибка OutOfMemory" title="Прямая ссылка наОшибка OutOfMemory" translate="no">​</a></h4>
<p>Когда вы устанавливаете ERDDAP™ Вы указываете максимальное количество памяти, которое Java Можно использовать через <a class="" href="/ru/docs/server-admin/deploy-install#memory">\-Xmx настройка</a> . Если ERDDAP™ Когда-нибудь потребуется больше памяти, чем это, он бросит Java. Лэнг. Ошибка в памяти. ERDDAP™ делает много проверок, чтобы позволить ему справиться с этой ошибкой изящно (Например, неприятный запрос не сработает, но система сохранит свою целостность.) . Но иногда ошибка повреждает целостность системы, и вам приходится перезагружаться. ERDDAP . Надеюсь, это редкость.</p>
<p>Быстрое и простое решение ошибки OutOfMemory заключается в увеличении количества <a class="" href="/ru/docs/server-admin/deploy-install#memory">\-Xmx настройка</a> Но вы никогда не должны увеличивать настройку -Xmx до более чем 80% физической памяти на сервере. (Например, для сервера 10 ГБ не устанавливайте -Xmx выше 8 ГБ) . Память относительно дешевая, поэтому может быть хорошим вариантом для увеличения памяти на сервере. Но если вы максимизировали память на сервере или по другим причинам не можете увеличить ее, вам нужно более непосредственно разобраться с причиной ошибки OutOfMemory.</p>
<p>Если вы посмотрите в <a href="#log" class="">log.txt</a> Файл, чтобы посмотреть что ERDDAP™ Когда ошибка возникла, вы обычно можете получить хорошее представление о причине ошибки OutOfMemory. Существует множество возможных причин, в том числе:</p>
<ul>
<li class="">Один огромный файл данных может вызвать ошибку OutOfMemory, в частности, огромные файлы данных ASCII. Если это проблема, то она должна быть очевидной, потому что ERDDAP™ не сможет загрузить набор данных (для табличных наборов данных) или читать данные из этого файла (для сетчатых наборов данных) . Решение, если это возможно, заключается в разделении файла на несколько файлов. В идеале файл можно разделить на логические фрагменты. Например, если файл содержит данные за 20 месяцев, разделите его на 20 файлов, каждый из которых содержит данные за 1 месяц. Но есть и преимущества, даже если основной файл расщепляется произвольно. Этот подход имеет несколько преимуществ: а Это уменьшит объем памяти, необходимый для чтения файлов данных, до 1/20-го, поскольку за один раз читается только один файл. b) Часто, ERDDAP™ Он может обрабатывать запросы намного быстрее, потому что он должен искать только один или несколько файлов, чтобы найти данные для данного запроса. с) Если сбор данных продолжается, то существующие 20 файлов могут оставаться неизменными, и вам нужно только изменить один маленький новый файл, чтобы добавить данные следующего месяца в набор данных.</li>
<li class="">Один огромный запрос может вызвать ошибку OutOfMemory. В частности, некоторые из orderBy Опции имеют весь ответ в памяти на секунду. (Например, сделать вид) . Если ответ огромен, это может привести к ошибке. Всегда будут какие-то запросы, которые по-разному слишком велики. Вы можете решить проблему, увеличив настройку -Xmx. Или вы можете побудить пользователя сделать несколько небольших запросов.</li>
<li class="">Маловероятно, что большое количество файлов приведет к индексу файла, который ERDDAP™ Он настолько велик, что этот файл может вызвать ошибку. Если предположить, что каждый файл использует 300 байт, то 1 000 000 файлов займет всего 300 МБ. Но наборы данных с огромным количеством файлов данных вызывают другие проблемы. ERDDAP В частности, это занимает много времени для ERDDAP™ открыть все эти файлы данных при ответе на запрос пользователя. В этом случае решение может заключаться в агрегировании файлов, чтобы было меньше файлов данных. Для табличных наборов данных часто здорово, если вы сохраняете данные из текущего набора данных. <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Дискретная геометрия выборки (DSG) </a> Файлы данных Ragged Array (запросить .nc Файлы CF из ERDDAP ) Затем создайте новый набор данных. Эти файлы могут быть обработаны очень эффективно. ERDDAP ? <a class="" href="/ru/docs/server-admin/datasets#eddtablefromnccffiles">EDDTable FromNcCFFiles</a> . Если они логически организованы (Каждый с данными для куска пространства и времени) , ERDDAP™ Они могут быстро извлекать из них данные.</li>
<li class="">Для табличных наборов данных, которые используют [&lt; subsetVariables &gt; (/docs/server-admin/datasets#subsetvariables) атрибут, ERDDAP™ составляет таблицу уникальных комбинаций значений этих переменных. Для больших массивов данных или когда&lt; subsetVariables Эта таблица может быть достаточно большой, чтобы вызвать ошибки OutOfMemory. Решение заключается в удалении переменных из списка.&lt; subsetVariables для которых имеется большое количество значений, или удалить переменные по мере необходимости, пока размер этой таблицы не станет разумным. части которых ERDDAP™ которые используют subsetVariables Система не работает хорошо (Веб-страницы загружаются очень медленно) Если в этой таблице более 100 000 строк.</li>
<li class="">Всегда возможно, что несколько одновременных больших запросов (На действительно занятой ERDDAP ) Может сочетаться, чтобы вызвать проблемы с памятью. Например, 8 запросов, каждый из которых использует по 1 ГБ, вызовут проблемы при установке -Xmx=8 ГБ. Но редко бывает так, что каждый запрос находится на пике использования памяти одновременно. Вы легко сможете увидеть, что ваш ERDDAP™ Он очень занят большими просьбами. Но это возможно. Трудно справиться с этой проблемой, кроме увеличения настроек -Xmx.</li>
<li class="">Есть и другие сценарии. Если вы посмотрите на <a href="#log" class="">log.txt</a> Файл, чтобы посмотреть что ERDDAP™ Когда ошибка возникла, вы обычно можете получить хорошее представление о причине. В большинстве случаев есть способ минимизировать эту проблему. (смотреть выше) Но иногда вам просто нужно больше памяти и более высокая настройка xmx.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="too-many-open-files">Слишком много открытых файлов<a href="#too-many-open-files" class="hash-link" aria-label="Прямая ссылка наСлишком много открытых файлов" title="Прямая ссылка наСлишком много открытых файлов" translate="no">​</a></h3>
<p>Начиная с ERDDAP™ v2.12, ERDDAP™ Имеет систему мониторинга количества открытых файлов (которые включают в себя розетки и некоторые другие вещи, а не только файлы) Tomcat на компьютерах Linux. Если некоторые файлы по ошибке никогда не закрываются («Утечка ресурсов») Количество открытых файлов может увеличиваться до тех пор, пока оно не превысит максимально допустимое операционной системой и не произойдет множество действительно плохих вещей. Теперь о компьютерах Linux (потому что информация недоступна для Windows) :</p>
<ul>
<li class="">На крайнем правом углу страницы status.html есть столбец «Открытые файлы», показывающий процент максимально открытых файлов. В Windows он просто показывает «?».</li>
<li class="">Когда ERDDAP™ генерирует эту информацию в конце каждой основной перезагрузки набора данных, она будет печататься в журнал. txt файл:
OpenFileCount = <em>текущий</em> max = <em>макс</em> % = <em>%</em></li>
<li class="">Если процент составляет &gt;50%, на адрес электронной почты ERDDAP™ Администратор и электронная почта Все На адреса электронной почты.</li>
</ul>
<p>Если процент составляет 100%, ERDDAP™ У него ужасные неприятности. Не позволяй этому случиться.
Если процент составляет &gt;75%, ERDDAP™ Это близко к ужасным неприятностям. Это не нормально.
Если процент составляет &gt;50%, вполне возможно, что всплеск приведет к тому, что процент достигнет 100.
Если процент составляет более 50%, вы должны:</p>
<ul>
<li class="">Увеличьте максимальное количество открытых файлов, разрешенных:<!-- -->
<ul>
<li class="">Делая эти изменения каждый раз, прежде чем вы начнете делать (Поместите их в файл Tomcat startup.sh.) :
Улимит -Hn 16384
Улимит -Sn 16384</li>
<li class="">Внесение постоянных изменений путем редактирования (как корень) /etc/security/limits.conf и добавление строк:
мягкий нофил 16384
Жесткий файл 16384
Эти команды предполагают, что пользователь под управлением Tomcat называется «tomcat».
Во многих вариантах Linux вам нужно перезапустить сервер, чтобы применить эти изменения. Для обоих вариантов приведен пример «16384». Вы выбираете число, которое считаете лучшим.</li>
</ul>
</li>
<li class="">Перезапустить ERDDAP . Операционная система закрывает все открытые файлы.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="failed-requests">Неудачные запросы<a href="#failed-requests" class="hash-link" aria-label="Прямая ссылка наНеудачные запросы" title="Прямая ссылка наНеудачные запросы" translate="no">​</a></h3>
<ul>
<li class=""><strong>Необычная активность: &gt;25% запросов не удалось</strong><br>
<!-- -->Как часть каждого перезагрузочного набора данных, который обычно каждые 15 минут, ERDDAP™ Посмотрите на процент запросов, которые потерпели неудачу с момента последней перезагрузки наборов данных. Если он составляет &gt;25%, ERDDAP™ Отправьте электронное письмо в ERDDAP™ Администратор с темой «Необычная деятельность: &gt;25% запросов не удалось». Это письмо включает в себя подсчёт в нижней части, озаглавленный «IP-адрес запрашивающего» (неудачник)   (Последний крупный пакет LoadDatasets) &quot;. Ищите это. Он сообщает вам IP-адрес компьютеров, выполняющих самые неудачные запросы. Вы можете найти эти IP-адреса в \[ BigParent Директория \] /logs/ <a href="#log" class="">log.txt</a> Посмотрите, какие типы запросов они делают.</li>
</ul>
<p>Вы можете использовать IP-адрес пользователя (Например, с <a href="https://whatismyipaddress.com/ip-lookup" target="_blank" rel="noopener noreferrer" class="">https://whatismyipaddress.com/ip-lookup</a> ) Чтобы выяснить, кто или что является пользователем. Иногда это довольно точно скажет вам, кто является пользователем. (Например, это веб-сканер поисковой системы) . Большую часть времени это просто дает вам подсказку. (Например, это компьютер амазонок, он из какого-то университета, это кто-то в каком-то конкретном городе.) .</p>
<p>Просматривая фактический запрос, номер IP и сообщение об ошибке (из всех <a href="#log" class="">log.txt</a> ) Для серии ошибок вы обычно можете понять, что происходит. По моему опыту, есть четыре распространенные причины множества неудачных запросов:</p>
<ol>
<li class="">
<p>Запросы являются злонамеренными (Например, поиск слабых мест в системе безопасности или выполнение запросов, а затем их отмена до их завершения.) . Вы должны использовать&lt;Запросить Blacklist в datasets.xml В черный список этих IP-адресов.</p>
</li>
<li class="">
<p>Поисковая система наивно пробует URL-адреса, перечисленные в ERDDAP™ Веб-страницы и документы ISO 19115. Например, есть много мест, в которых указана база. OPeNDAP URL, например,<a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST" target="_blank" rel="noopener noreferrer" class="">https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST</a>, к которому пользователь должен добавить тип файла (Например, .das, .dds, .html) . Но поисковая система этого не знает. Запрос на базовый URL не выполняется. Связанная ситуация — это когда поисковая система генерирует странные запросы или пытается заполнить формы, чтобы попасть на «скрытые» веб-страницы. Но поисковые системы часто делают плохую работу, что приводит к сбоям. Решение: создать <a href="#robotstxt" class="">robots.txt</a> Файл.</p>
</li>
<li class="">
<p>Некоторые пользователи запускают скрипт, который неоднократно запрашивает что-то, чего там нет. Возможно, это набор данных, который раньше существовал, но теперь исчез. (временно или постоянно) . Сценарии часто не ожидают этого и поэтому не имеют с этим дело разумно. Таким образом, сценарий просто продолжает делать запросы, а запросы продолжают падать. Угадайте, кто является пользователем (IP номер выше) Свяжитесь с ними и сообщите им, что набор данных больше не доступен, и попросите их изменить свой сценарий.</p>
</li>
<li class="">
<p>Что-то действительно не так с некоторым набором данных. Обычно, ERDDAP™ Это сделает проблемный набор данных неактивным. Иногда это не так, поэтому все запросы на него просто приводят к ошибкам. Если это так, устраните проблему с набором данных или (Если ты не можешь) Набор данных для <a class="" href="/ru/docs/server-admin/datasets#active">Активный = «ложный»</a> . Это может привести к проблеме #2.</p>
</li>
</ol>
<p>Иногда ошибки не так уж и плохи, особенно если ERDDAP™ Вы можете обнаружить ошибку и ответить очень быстро.&lt;=1мс). Так что вы можете решить не предпринимать никаких действий.</p>
<p>Если все остальное терпит неудачу, есть универсальное решение: добавить IP-адрес пользователя.&lt;Черный список&gt;&gt; (/docs/server-admin/datasets#requestblacklist) . Это не такой плохой или радикальный вариант, как может показаться. Затем пользователь получит сообщение об ошибке, в котором говорится, что он был в черном списке, и сообщает им о своей ошибке. (тот ERDDAP™ администратора) адрес электронной почты. Иногда пользователь свяжется с вами, и вы сможете решить проблему. Иногда пользователь не связывается с вами, и на следующий день вы увидите точно такое же поведение, исходящее от другого IP-адреса. Внесите в черный список новый номер IP и надейтесь, что они в конечном итоге получат сообщение. (Или это ваш День сурка, от которого вы никогда не убежите. Прости.)</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="robotstxt">robots.txt<a href="#robotstxt" class="hash-link" aria-label="Прямая ссылка наrobots.txt" title="Прямая ссылка наrobots.txt" translate="no">​</a></h3>
<p>Компании поисковых систем используют веб-сканеры (Например, Google Бот) изучить все страницы в Интернете, чтобы добавить контент в поисковые системы. Для ERDDAP™ Это в основном хорошо. ERDDAP™ Он имеет много ссылок между страницами, поэтому сканеры найдут все веб-страницы и добавят их в поисковые системы. Тогда пользователи поисковых систем смогут найти наборы данных на вашем ERDDAP .</p>
<p>К сожалению, некоторые веб-сканеры (Например, Google Бот) Теперь они заполняют и отправляют формы, чтобы найти дополнительный контент. Для сайтов интернет-торговли это здорово. Но это ужасно для ERDDAP™ Потому что это просто приводит к <strong>бесконечный</strong> количество нежелательных и бессмысленных попыток сканирования фактических данных. Это может привести к большему количеству запросов на данные, чем от всех других пользователей вместе взятых. И он заполняет поисковую систему глупыми, бессмысленными подмножествами фактических данных.</p>
<p>Чтобы сказать веб-сканерам прекратить заполнять формы и просто вообще не смотреть на веб-страницы, на которые им не нужно смотреть, вам нужно создать текстовый файл под названием <a href="https://en.wikipedia.org/wiki/Robots_exclusion_standard" target="_blank" rel="noopener noreferrer" class="">robots.txt</a> в корневом каталоге иерархии документов вашего сайта, чтобы его мог просматривать любой, например,http://*<a href="http://www.your.domain*/robots.txt" target="_blank" rel="noopener noreferrer" class="">www.your.domain*/robots.txt</a>.
Если вы создаете новых роботов. Файл txt, это хорошее начало:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    User-Agent: \\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /erddap/files/ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /files/ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /images/ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*?\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.asc\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.csv\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.dods\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.esriAscii\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.esriCsv\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.geoJson\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.htmlTable\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.json\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.mat\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.nc\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.odvTxt\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.tsv\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.xhtml\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.geotif\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.itx\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.kml\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.pdf\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.png\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.large\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.small\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.transparentPng\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Sitemap: http://***your.institutions.url***/erddap/sitemap.xml</span><br></span></code></pre></div></div>
<p>(Но заменить <em>Your.institutions.url</em> с твоим ERDDAP Базовый URL.)<br>
<!-- -->Поисковым системам может потребоваться несколько дней, чтобы заметить изменения и вступить в силу.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="sitemapxml">sitemap.xml<a href="#sitemapxml" class="hash-link" aria-label="Прямая ссылка наsitemap.xml" title="Прямая ссылка наsitemap.xml" translate="no">​</a></h3>
<p>Как и <a href="https://www.sitemaps.org/" target="_blank" rel="noopener noreferrer" class="">https://www.sitemaps.org</a> Сайт говорит:</p>
<blockquote>
<p>Sitemaps are an easy way for webmasters to inform search engines about pages on their sites that are available for crawling. In its simplest form, a Sitemap is an XML file that lists URLs for a site along with additional metadata about each URL (when it was last updated, how often it usually changes, and how important it is, relative to other URLs on the site) so that search engines can more intelligently crawl the site.</p>
<p>Web crawlers usually discover pages from links within the site and from other sites. Sitemaps supplement this data to allow crawlers that support Sitemaps to pick up all URLs in the Sitemap and learn about those URLs using the associated metadata. Using the Sitemap protocol does not guarantee that web pages are included in search engines, but provides hints for web crawlers to do a better job of crawling your site.</p>
</blockquote>
<p>На самом деле, поскольку ERDDAP™ это RESTful Пауки поисковых систем могут легко сканировать ваш ERDDAP . Но они склонны делать это чаще. (Ежедневно!) чем необходимо (ежемесячно?) .</p>
<ul>
<li class="">Учитывая, что каждая поисковая система может сканировать всю вашу ERDDAP™ Каждый день это может привести к множеству ненужных запросов.</li>
<li class="">Так ERDDAP™ Создает файл sitemap.xml ERDDAP™ Что говорит поисковым системам, что ваш ERDDAP™ Нужно только ползать каждый месяц.</li>
<li class="">Вы должны добавить ссылку на ERDDAP Sitemap.xml для вашего сайта <a href="https://en.wikipedia.org/wiki/Robots_exclusion_standard" target="_blank" rel="noopener noreferrer" class="">robots.txt</a> файл:
Карта сайта:http://**<a href="http://www.yoursite.org**/erddap/sitemap.xml" target="_blank" rel="noopener noreferrer" class="">www.yoursite.org**/erddap/sitemap.xml</a></li>
<li class="">Если это не похоже на получение сообщения для сканеров, вы можете рассказать различным поисковым системам о файле sitemap.xml, посетив эти URL-адреса. (но изменения <strong>Ваш институт</strong> аббревиатура или аббревиатура вашего учреждения и <strong><a href="http://www.yoursite.org" target="_blank" rel="noopener noreferrer" class="">www.yoursite.org</a></strong> к твоему ERDDAP URL) :<!-- -->
<ul>
<li class=""><a href="https://www.bing.com/webmaster/ping.aspx?siteMap=http://**www.yoursite.org**/erddap/sitemap.xml" target="_blank" rel="noopener noreferrer" class="">https://www.bing.com/webmaster/ping.aspx?siteMap=http://**www.yoursite.org**/erddap/sitemap.xml</a></li>
<li class=""><a href="https://www.google.com/ping?sitemap=http://**www.yoursite.org**/erddap/sitemap.xml(I%D0%92%D0%B0%D0%BC" target="_blank" rel="noopener noreferrer" class="">https://www.google.com/ping?sitemap=http://**www.yoursite.org**/erddap/sitemap.xml(IВам</a> просто нужно пинговать каждую поисковую систему раз и навсегда. Поисковые системы будут периодически обнаруживать изменения в sitemap.xml.
 </li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="data-dissemination--data-distribution-networks-push-and-pull-technology">Распространение данных / Data Distribution Сети: Push и Pull Технология<a href="#data-dissemination--data-distribution-networks-push-and-pull-technology" class="hash-link" aria-label="Прямая ссылка наРаспространение данных / Data Distribution Сети: Push и Pull Технология" title="Прямая ссылка наРаспространение данных / Data Distribution Сети: Push и Pull Технология" translate="no">​</a></h3>
<ul>
<li class="">Обычно, ERDDAP™ выступает в качестве посредника: принимает запрос от пользователя; получает данные из удаленного источника данных; переформатирует данные; и отправляет их пользователю.</li>
<li class=""><a href="https://en.wikipedia.org/wiki/Pull_technology" target="_blank" rel="noopener noreferrer" class=""> Pull Технология</a> : ERDDAP™ Он также имеет возможность активно получать все доступные данные из удаленного источника данных. <a class="" href="/ru/docs/server-admin/datasets#eddgridcopy">хранить локальную копию данных</a> .</li>
<li class=""><a href="https://en.wikipedia.org/wiki/Push_technology" target="_blank" rel="noopener noreferrer" class=""> Push Технология</a> : используя ERDDAP ? <a href="https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions" target="_blank" rel="noopener noreferrer" class="">Абонентские услуги</a> Другие серверы данных могут быть уведомлены, как только появятся новые данные, чтобы они могли запросить данные. (Вытаскивая данные) .</li>
<li class="">ERDDAP ? <a class="" href="/ru/docs/server-admin/datasets#eddfromerddap"> EDDGrid Из Эрддапа</a> и <a class="" href="/ru/docs/server-admin/datasets#eddfromerddap">EDDTable FromErddap</a> использовать ERDDAP Услуги подписки и <a href="#flag" class="">флаговая система</a> Он будет немедленно уведомлен, когда появятся новые данные.</li>
<li class="">Вы можете совместить их с большим эффектом: если вы завернете EDDGrid Копии вокруг одного EDDGrid Набор данных Erddap (или обернуть EDDTableCopy вокруг набора данных EDDTableFromErddap) , ERDDAP™ автоматически создавать и поддерживать локальную копию другого ERDDAP Набор данных.</li>
<li class="">Поскольку службы подписки работают, как только появляются новые данные, push-технология очень быстро распространяет данные. (в течение нескольких секунд) .</li>
</ul>
<p>Такая архитектура позволяет каждому ERDDAP™ администратор, отвечающий за определение того, где данные для него ERDDAP™ Происходит от.</p>
<ul>
<li class="">другой ERDDAP™ Администраторы могут сделать то же самое. Нет необходимости в координации действий администраторов.</li>
<li class="">Если много ERDDAP™ Администраторы связываются друг с другом ERDDAP s формируется сеть распределения данных.</li>
<li class="">Данные будут быстро, эффективно и автоматически распространяться из источников данных. ( ERDDAP s и другие серверы) Сайты перераспределения данных ( ERDDAP s) В любом месте сети.</li>
<li class="">данность ERDDAP™ может быть как источником данных для некоторых наборов данных, так и сайтом перераспределения для других наборов данных.</li>
<li class="">Полученная сеть примерно похожа на сети распределения данных, созданные с помощью таких программ, как: <a href="https://www.unidata.ucar.edu/projects/index.html#idd" target="_blank" rel="noopener noreferrer" class=""> Unidata IDD/IDM</a> менее жестко структурированы.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="security-authentication-and-authorization">Безопасность, аутентификация и авторизация<a href="#security-authentication-and-authorization" class="hash-link" aria-label="Прямая ссылка наБезопасность, аутентификация и авторизация" title="Прямая ссылка наБезопасность, аутентификация и авторизация" translate="no">​</a></h3>
<p>По умолчанию, ERDDAP™ Работает как полностью публичный сервер (использовать http и/или https ) без логина ( <a href="https://en.wikipedia.org/wiki/Authentication" target="_blank" rel="noopener noreferrer" class="">аутентификация</a> ) Система и отсутствие ограничений на доступ к данным ( <a href="https://en.wikipedia.org/wiki/Authorization" target="_blank" rel="noopener noreferrer" class="">разрешение</a> ) .</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="security">Безопасность<a href="#security" class="hash-link" aria-label="Прямая ссылка наБезопасность" title="Прямая ссылка наБезопасность" translate="no">​</a></h4>
<p>Если вы хотите ограничить доступ к некоторым или всем наборам данных для некоторых пользователей, вы можете использовать ERDDAP Встроенная система безопасности. Когда используется система безопасности:</p>
<ul>
<li class="">ERDDAP™ использование <a href="https://en.wikipedia.org/wiki/Role-based_access_control" target="_blank" rel="noopener noreferrer" class="">Ролевой контроль доступа</a> .</li>
<li class="">The ERDDAP™ Администратор определяет пользователей с помощью [...]&lt;пользователь&gt; (/docs/server-admin/datasets#user) метить datasets.xml . У каждого пользователя есть имя пользователя, пароль (Если аутентификация=обычай) и одной или нескольких ролей.</li>
<li class="">The ERDDAP™ администратор определяет, какие роли имеют доступ к заданному набору данных через&lt;Доступно&gt;&gt; (/docs/server-admin/datasets#доступно) метить datasets.xml Для любого набора данных, который не должен иметь публичный доступ.</li>
<li class="">Статус входа пользователя (и ссылка для входа / выхода) Он будет отображаться в верхней части каждой страницы. (Зарегистрированный пользователь будет выглядеть ERDDAP™ не входить в систему, если он использует http URL.)</li>
<li class="">Если&lt;baseUrl&gt;, который вы указываете в настройках.xml ** http ** URL, пользователи, которые не вошли в систему, могут использовать ERDDAP ? ** http ** URL. Если&lt;Также указывается baseHttpsUrl, пользователи, которые не вошли в систему, также могут использовать https URL.</li>
<li class="">Только HTTPS - Если&lt;baseUrl&gt;, который вы указываете в настройках.xml ** https ** URL, пользователям, которые не вошли в систему, рекомендуется (не принуждать) использовать ERDDAP ? ** https ** URL - все ссылки на ERDDAP™ Сайты будут ссылаться на https URL.</li>
</ul>
<p>Если вы хотите заставить пользователей использовать https URL, добавьте перенаправление постоянной строки внутри&lt;VirtualHost \*:80&gt; в конфигурационном файле Apache (обычно http d-conf) Например,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;VirtualHost \\*:80&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        \\[...\\]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ServerName example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Redirect permanent / https://example.com/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/VirtualHost&gt;</span><br></span></code></pre></div></div>
<p>Если вы хотите, есть дополнительный метод, чтобы заставить использование https:   <a href="https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security" target="_blank" rel="noopener noreferrer" class="">HTTP - строгая транспортная безопасность (ГСТС) </a> . Чтобы использовать:</p>
<ol>
<li class="">Модуль заголовков Apache: заголовки a2enmod</li>
<li class="">Добавьте дополнительный заголовок в директиву HTTPS VirtualHost. Макс-возраст измеряется в секундах и может быть установлен на некоторое длинное значение.</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;VirtualHost \\*:443&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            # Guarantee HTTPS for 1 Year including Sub Domains </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Header always set Strict-Transport-Security &quot;max-age=31536000; includeSubDomains&quot;</span><br></span></code></pre></div></div>
<p>Обратите внимание, что этот заголовок действителен только на виртуальном хосте HTTPS.</p>
<p>Причина не заставлять пользователей использовать https URL-адреса: базовая ссылка SSL / TLS требует времени для установки, а затем времени для шифрования и расшифровки всей информации, передаваемой между пользователем и сервером. Но некоторые институты требуют https Только.</p>
<ul>
<li class="">Пользователи, которые вошли в систему, должны использовать ERDDAP ? ** https ** URL. Если они используют http URL-адреса, кажется, ERDDAP™ Не быть зарегистрированным. Это обеспечивает конфиденциальность сообщений и помогает предотвратить <a href="https://en.wikipedia.org/wiki/Session_hijacking" target="_blank" rel="noopener noreferrer" class="">сеансовый угон и боковой угон</a> .</li>
<li class="">Любой, кто не вошел в систему, может получить доступ и использовать общедоступные наборы данных. По умолчанию частные наборы данных не отображаются в списках наборов данных, если пользователь не вошел в систему. Если администратор установил setup.xml&lt;ListPrivateDatasets&gt; на самом деле они появятся. Попытки запросить данные из частных наборов данных (Если пользователь знает URL) будет перенаправлен на страницу входа.</li>
<li class="">Любой, кто вошел в систему, сможет видеть и запрашивать данные из любого общедоступного набора данных и любого частного набора данных, к которому их роль позволяет им доступ. По умолчанию частные наборы данных, к которым у пользователя нет доступа, не отображаются в списках наборов данных. Если администратор установил setup.xml&lt;ListPrivateDatasets&gt; на самом деле они появятся. Попытки запросить данные из частных наборов данных, к которым у пользователя нет доступа, будут перенаправлены на страницу входа в систему.</li>
<li class="">The RSS Информация для полностью частных наборов данных доступна только пользователям. (и RSS читатель) которые вошли в систему и уполномочены использовать этот набор данных. Это делает RSS Это не очень полезно для полностью частных наборов данных.</li>
</ul>
<p>Если набор данных является частным, но его&lt;ГрафыДоступно&gt; (/docs/server-admin/datasets#graphsaccessibleto) является публичным, набор данных RSS Он доступен для всех.</p>
<ul>
<li class="">Подписка на электронную почту может быть настроена только тогда, когда пользователь имеет доступ к набору данных. Если пользователь подписывается на частный набор данных, подписка продолжает функционировать после выхода пользователя из системы.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="setup-security">Настройка безопасности<a href="#setup-security" class="hash-link" aria-label="Прямая ссылка наНастройка безопасности" title="Прямая ссылка наНастройка безопасности" translate="no">​</a></h5>
<p>Для создания системы безопасности/аутентификации/авторизации:</p>
<ul>
<li class="">Сделайте стандарт ERDDAP™   <a class="" href="/ru/docs/server-admin/deploy-install">начальная настройка</a> .</li>
<li class="">в <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> ,<!-- -->
<ul>
<li class="">Добавить/изменить&lt;аутентифицировать Ценность от ничего к обычаю (Не используйте это) Электронная почта (Не используйте это) Google (рекомендованный) кислота (рекомендованный) или Oauth2 (Google+Orcid (рекомендуется)) . Смотрите комментарии об этих вариантах ниже.</li>
<li class="">Добавить/изменить&lt;Базовое значение HttpsUrl.</li>
<li class="">Включить/отключить &amp;loginInfo; в&lt;startBodyHtml&gt; для отображения входа/выхода пользователя в верхней части каждой веб-страницы.</li>
</ul>
</li>
<li class="">Для тестирования на вашем персональном компьютере, <a href="https://tomcat.apache.org/tomcat-8.0-doc/ssl-howto.html" target="_blank" rel="noopener noreferrer" class="">Следуйте этим инструкциям для настройки Tomcat для поддержки SSL</a>   (Основанием для https соединения) путем создания магазина ключей с <a href="https://en.wikipedia.org/wiki/Self-signed_certificate" target="_blank" rel="noopener noreferrer" class="">самоподписанный сертификат</a> и путем изменения <em>кот</em> /conf/server.xml для разъема порта 8443. В Windows вам может потребоваться переместить .keystore из «c:\Users\» <em>ты</em> \keystore&quot; на &quot;c:\Users\Default User\.keystore&quot; или &quot;c:\.keystore&quot; (смотреть <em>кот</em> /logs/Каталина. <em>сегодня</em> .log, если приложение не загружается или пользователи не могут видеть вход на страницу) . Вы можете увидеть, когда срок действия сертификата .keystore истекает, изучив сертификат при входе в систему.</li>
</ul>
<p>Для общедоступного сервера, вместо использования самоподписанного сертификата, настоятельно рекомендуется купить и установить сертификат, подписанный <a href="https://en.wikipedia.org/wiki/Certificate_authority" target="_blank" rel="noopener noreferrer" class="">сертификационный орган</a> Это дает вашим клиентам больше уверенности в том, что они действительно связаны с вами. ERDDAP™ Не человек посередине вашей версии ERDDAP . Многие производители продают цифровые сертификаты. (Ищите в интернете.) Они не дорогие.</p>
<ul>
<li class="">На компьютерах Linux, если Tomcat работает в Apache, измените /etc/ http d/conf.d/ssl.conf файл, позволяющий HTTPS-трафик ERDDAP™ Не требуя номера порта :8443 в URL:<!-- -->
<ol>
<li class="">Изменить существующий&lt;VirtualHost&gt; Tag (Если есть один) Или добавьте один в конце файла, чтобы он, по крайней мере, имел следующие строки:</li>
</ol>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;VirtualHost \\_default\\_:443&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            SSLEngine on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            SSLProxyEngine On</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ProxyPass /erddap http://localhost:8443/erddap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ProxyPassReverse /erddap http://localhost:8443/erddap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/VirtualHost&gt;</span><br></span></code></pre></div></div>
<ol start="2">
<li class="">Перезапуск Apache: /usr/sbin/apachectl -к грациозный (Но иногда он находится в другом каталоге.) .</li>
</ol>
<ul>
<li class="">в <em>кот</em> /conf/server.xml, uncomment the port=8443&lt;Тег Connector&gt;:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;Connector port=&quot;8443&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;SSLHostConfig&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;Certificate certificateKeystoreFile=&quot;conf/localhost-rsa.jks&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type=&quot;RSA&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/SSLHostConfig&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/Connector&gt;</span><br></span></code></pre></div></div>
<p>и изменить местоположение сертификата KeystoreFile.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="authorization">разрешение<a href="#authorization" class="hash-link" aria-label="Прямая ссылка наразрешение" title="Прямая ссылка наразрешение" translate="no">​</a></h5>
<ul>
<li class=""><a href="#authorization" class="">в datasets.xml Создать a</a> [править]&lt;пользователь&gt; (/docs/server-admin/datasets#user) тег для каждого пользователя с именем пользователя, паролем (Если авторизация = обычай) и ролевой информации. Это часть авторизации ERDDAP Система безопасности.
 </li>
<li class="">в datasets.xml Добавить [&lt;Доступно&gt;&gt; (/docs/server-admin/datasets#доступно) Тег для каждого набора данных, который не должен иметь общедоступный доступ.&lt;AccessTo&gt; позволяет указать, какие роли имеют доступ к этому набору данных.
 </li>
<li class="">Перезапустить Tomcat. Проблемы? Проверьте бревна Tomcat.
 </li>
<li class="">Проверь свою работу! Любая ошибка может привести к дефекту безопасности.
 </li>
<li class="">Проверьте, что страница входа использует https   (не http ) . Попытки входа через http должен быть автоматически перенаправлен на https Порт 8443 (Номер порта может быть скрыт через прокси-сервер Apache.) . Возможно, вам придется работать с сетевым администратором, чтобы разрешить внешним веб-запросам доступ к порту 8443 на вашем сервере.
 </li>
<li class="">Вы можете изменить&lt;Пользователь и&lt;To&gt; Tags в любое время. Изменения будут применяться при следующей регулярной перезагрузке любого набора данных или ASAP, если вы используете <a href="#flag" class="">флаг</a> .</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="authentication">аутентификация<a href="#authentication" class="hash-link" aria-label="Прямая ссылка нааутентификация" title="Прямая ссылка нааутентификация" translate="no">​</a></h5>
<p><a href="#authentication" class=""> **аутентификация (входить) ** </a><br>
<!-- -->Если вы не хотите, чтобы пользователи могли войти в систему, не указывайте значение для&lt;Аутентификация в setup.xml.
Если вы хотите разрешить пользователям войти в систему, вы должны указать значение для&lt;Аутентификация. В настоящее время ERDDAP™ поддержка
<a href="#custom" class="">обычай</a>   (Не используйте это) ,
<a href="#email" class="">электронная почта</a>   (Не используйте это) ,
<a href="#google" class="">Google</a>   (рекомендованный) ,
<a href="#orcid" class="">кислотный</a>   (рекомендованный) и
<a href="#oauth2" class="">Оут2</a>   (рекомендованный) Для метода аутентификации.
Если вы хотите включить вход в систему, мы настоятельно рекомендуем варианты google, orcid или oauth2, потому что они освобождают вас от хранения и обработки паролей пользователя. (необходимый для обычаев) Они более безопасны, чем электронная почта. Помните, что пользователи часто используют один и тот же пароль на разных сайтах. Они могут использовать один и тот же пароль для вашего ERDDAP™ Как это делают в банке. Это делает их пароль очень ценным — гораздо более ценным для пользователя, чем просто данные, которые они запрашивают. Поэтому вам нужно сделать все возможное, чтобы сохранить пароли в тайне. Это большая ответственность. Варианты электронной почты, Google, orcid и oauth2 заботятся о паролях, поэтому вам не нужно собирать, хранить или работать с ними. Вы освобождаетесь от этой ответственности.</p>
<p>Все&lt;Варианты аутентификации используют <a href="https://en.wikipedia.org/wiki/HTTP_cookie" target="_blank" rel="noopener noreferrer" class="">печенье</a> на компьютере пользователя, поэтому браузер пользователя должен быть настроен, чтобы разрешить файлы cookie. Если пользователь делает ERDDAP™ Запросы из компьютерной программы (Не браузер) Файлы cookie и аутентификация сложны в работе. Это общая проблема для всех систем аутентификации. Прости.</p>
<p>Подробности этого&lt;аутентификация Варианты следующие:</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="custom">обычай<a href="#custom" class="hash-link" aria-label="Прямая ссылка наобычай" title="Прямая ссылка наобычай" translate="no">​</a></h6>
<p>обычай ERDDAP пользовательская система, позволяющая пользователям войти в систему, введя свое имя пользователя и пароль в форме на веб-странице. Если пользователь пытается и не может войти в систему 3 раза в течение 10 минут, пользователь блокируется от попытки войти в систему в течение 10 минут. Это мешает хакерам просто пробовать миллионы паролей, пока они не найдут правильный.</p>
<p>Это довольно безопасно, потому что имя пользователя и пароль передаются через https   (не http ) Но аутентификация = Google, orcid или oauth2 лучше, потому что они освобождают вас от необходимости обрабатывать пароли. Пользовательский подход требует, чтобы вы собрали имя пользователя и хеш-дайджест их пароля. (Используйте свой телефон! Электронная почта небезопасна!) и хранить их в datasets.xml в []&lt;пользователь&gt; (/docs/server-admin/datasets#user) бирки.</p>
<p>С пользовательским вариантом никто не может войти в систему, пока вы не (тот ERDDAP™ администратор) создавать&lt;тег user&gt; для пользователя, определяющий имя пользователя как имя пользователя, хеш-дайджест их пароля как пароля и их роли.</p>
<p>Не рекомендуется
Из-за неловкости генерации и передачи хеш-дайджеста пароля пользователя и из-за рисков, связанных с ERDDAP™ держа хеш-дайджесты паролей, этот вариант не рекомендуется.</p>
<p>Для повышения безопасности данного варианта:</p>
<ul>
<li class="">Вы должны убедиться, что другие пользователи на сервере (Пользователи Linux, не ERDDAP™ пользователи) Не могу читать файлы в каталоге Tomcat (Особенно если datasets.xml Файл!) или ERDDAP Большой родительский справочник.
В Linux как user=tomcat используйте:
chmod - R g-rwx <em>BigParent Директория</em><br>
<!-- -->ЧМОД -R o-rwx <em>BigParent Директория</em><br>
<!-- -->chmod - R g-rwx <em>TomcatDirectory</em><br>
<!-- -->ЧМОД -R o-rwx <em>TomcatDirectory</em><br>
<!-- --> </li>
<li class="">Использование UEPSHA256&lt;passwordEncoding&gt; in setup.xml.
 </li>
<li class="">Используйте безопасный способ передачи хеш-дайджеста пароля пользователя от пользователя к пользователю. ERDDAP™ администратор (Телефон?) .
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="email">электронная почта<a href="#email" class="hash-link" aria-label="Прямая ссылка наэлектронная почта" title="Прямая ссылка наэлектронная почта" translate="no">​</a></h6>
<p>Вариант аутентификации электронной почты использует учетную запись электронной почты пользователя для аутентификации пользователя (отправив им электронное письмо со специальной ссылкой, к которой они должны получить доступ, чтобы войти в систему;) . В отличие от других электронных писем, которые ERDDAP™ посылает, ERDDAP™ не записывает эти приглашения в файл журнала электронной почты, поскольку они содержат конфиденциальную информацию.
Теоретически это не очень безопасно, потому что электронные письма не всегда зашифрованы, поэтому плохой парень с возможностью перехвата электронных писем может злоупотреблять этой системой, используя адрес электронной почты действительного пользователя и перехватывая электронную почту приглашения.
На практике, если вы ERDDAP™ использовать учетную запись электронной почты Google для отправки электронных писем, и если вы настроили ее для использования одного из вариантов TLS для подключения, и если у пользователя есть учетная запись электронной почты Google, это несколько безопасно, потому что электронные письма зашифрованы на всем пути от ERDDAP™ Для пользователя.</p>
<p>Для повышения безопасности данного варианта:</p>
<ul>
<li class="">Убедитесь, что другие пользователи на сервере (Пользователи Linux, не ERDDAP™ пользователи) не может читать файлы в каталоге Tomcat ERDDAP Большой родительский справочник.
В Linux как user=tomcat используйте:
chmod - R g-rwx <em>BigParent Директория</em><br>
<!-- -->ЧМОД -R o-rwx <em>BigParent Директория</em><br>
<!-- -->chmod - R g-rwx <em>TomcatDirectory</em><br>
<!-- -->ЧМОД -R o-rwx <em>TomcatDirectory</em><br>
<!-- --> </li>
<li class="">Настройте вещи, чтобы получить сквозную безопасность для электронных писем, отправленных из ERDDAP™ для пользователей. Например, вы можете создать систему, ориентированную на Google, только создав&lt;теги пользователя для адресов электронной почты, управляемых Google, и путем настройки вашего ERDDAP™ для использования сервера электронной почты Google через безопасное соединение / TLS: в setup.xml используйте, например,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;emailSmtpHost&gt;smtp.gmail.com&lt;/emailSmtpHost&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;emailSmtpPort&gt;587&lt;/emailSmtpPort&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;emailProperties&gt;mail.smtp.starttls.enable|true&lt;/emailProperties&gt;</span><br></span></code></pre></div></div>
<p>Не рекомендуется
Опция аутентификации электронной почты не рекомендуется. Вместо этого используйте опцию google, orcid или oauth2.</p>
<p>Как и в случае с опциями google, orcid и oauth2, электронная почта очень удобна. ERDDAP™ администраторам - вам никогда не придется иметь дело с паролями или их хеш-дайджестами. Все, что вам нужно сделать, это [...]&lt;пользователь&gt; (/docs/server-admin/datasets#user) Тег для пользователя в datasets.xml адрес электронной почты пользователя, который ERDDAP™ Используется как имя пользователя. (Атрибут пароля не используется при аутентификации=email, google, orcid или oauth2.)</p>
<p>С опцией электронной почты только пользователи, которые имеют&lt;Пользователь&gt; Tag in datasets.xml Может попытаться войти в ERDDAP™ путем предоставления своего адреса электронной почты и нажатия на ссылку в электронном письме, которая ERDDAP™ Отправляет их.</p>
<p>ERDDAP™ рассматривает адреса электронной почты как нечувствительные к делу. Это делается путем преобразования адресов электронной почты, которые вы вводите (в)&lt;теги user&gt; или пользователи вводят (в форме login) Вся их нижняя версия.</p>
<p>Для настройки аутентификации=email:</p>
<ol>
<li class="">В setup.xml измените&lt;BaseHttpsUrl&gt; значение тега.
Для экспериментов / работы на вашем персональном компьютере, используйте
<a href="https://localhost:8443" target="_blank" rel="noopener noreferrer" class="">https://localhost:8443</a><br>
<!-- -->Для вашей публики ERDDAP™ использовать
https://<em>your.domain.org</em>:8443<br>
<!-- -->8443, если вы используете Apache <a class="" href="/ru/docs/server-admin/deploy-install#proxypass">проксипас</a> Чтобы номер порта не понадобился.
 </li>
<li class="">В setup.xml измените&lt;аутентификация Ценность тега для электронной почты:</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;authentication&gt;email&lt;/authentication&gt;  </span><br></span></code></pre></div></div>
<ol start="3">
<li class="">В setup.xml убедитесь, что система электронной почты настроена через все&lt;e-mail &gt; теги, так что ERDDAP™ Может отправлять электронные письма. Если возможно, настройте это для использования безопасного соединения. (SSL / TLS) на сервер электронной почты.
 </li>
<li class="">В твоей datasets.xml Создать [&lt;пользователь&gt; (/docs/server-admin/datasets#user) теги для каждого пользователя, который будет иметь доступ к частным наборам данных.
Используйте адрес электронной почты пользователя в качестве имени пользователя в теге.
Не указывайте атрибут пароля в теге пользователя.
 </li>
<li class="">Перезапустить ERDDAP™ Внесение изменений в setup.xml и datasets.xml действовать.
 </li>
</ol>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="google-orcid-oauth2">Google, orcid, oauth2<a href="#google-orcid-oauth2" class="hash-link" aria-label="Прямая ссылка наGoogle, orcid, oauth2" title="Прямая ссылка наGoogle, orcid, oauth2" translate="no">​</a></h6>
<ul>
<li class=""><a href="#google" class=""> <strong>Google</strong> </a> , <a href="#orcid" class=""> <strong>кислотный</strong> </a> и <a href="#oauth2" class=""> <strong>Оут2</strong> </a>    (рекомендованный)<br>
<!-- -->Все три варианта являются рекомендуемыми. ERDDAP™ Варианты аутентификации. Это все самые безопасные варианты. Другие варианты имеют значительно более слабую безопасность.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="google">Google<a href="#google" class="hash-link" aria-label="Прямая ссылка наGoogle" title="Прямая ссылка наGoogle" translate="no">​</a></h6>
<ul>
<li class="">Функция аутентификации Google использует <a href="https://developers.google.com/identity/gsi/web/guides/overview" target="_blank" rel="noopener noreferrer" class="">знак Вместе с Google</a> который является осуществлением <a href="https://oauth.net/2/" target="_blank" rel="noopener noreferrer" class="">Протокол аутентификации OAuth 2.0</a> . ERDDAP™ пользователи входят в свою учетную запись электронной почты Google, включая учетные записи, управляемые Google, такие как @noaa.gov счета. Это позволяет ERDDAP™ для проверки личности пользователя (Имя и адрес электронной почты) и доступ к их изображению профиля, но не дает ERDDAP™ доступ к их электронной почте, Google Drive или любой другой личной информации.</li>
</ul>
<p>Для ERDDAP™ v2.22 и ниже, ERDDAP™ Используется «Google Sign-In». Google заявляет, что система обесценилась после 31 марта 2023 года. Если вы еще этого не сделали, пожалуйста, переключитесь на ERDDAP™ v2.23+ для использования новой системы аутентификации «Sign In with Google».</p>
<p>Для ERDDAP™ v2.23 экземпляры с конфигурацией политики безопасности контента и использованием Google Authenticationhttps://accounts.google.comПеречень разрешенных скриптов (Сценарий-Src-Elem) . ERDDAP™ больше не используется<a href="https://apis.google.com%D0%95%D1%81%D0%BB%D0%B8" target="_blank" rel="noopener noreferrer" class="">https://apis.google.comЕсли</a> у вас есть такая возможность, вы можете удалить ее сейчас.</p>
<p>Для ERDDAP™ v2.24 + может потребоваться добавить<a href="https://accounts.google.com/gsi/style%D0%A1%D1%82%D1%83%D0%BF%D0%B5%D0%BD%D1%8C%D0%BA%D0%B0" target="_blank" rel="noopener noreferrer" class="">https://accounts.google.com/gsi/styleСтупенька</a> и<a href="https://accounts.google.com/gsi/%D0%9E%D0%B1%D1%8A%D0%B5%D0%B4%D0%B8%D0%BD%D0%B8%D1%82%D1%8C-Src" target="_blank" rel="noopener noreferrer" class="">https://accounts.google.com/gsi/Объединить-Src</a>. Для скрипта-src теперь можно использовать<a href="https://accounts.google.com/gsi/client" target="_blank" rel="noopener noreferrer" class="">https://accounts.google.com/gsi/client</a>.</p>
<p>Для получения дополнительной информации вы можете перейти в <a href="https://developers.google.com/identity/gsi/web/guides/get-google-api-clientid#content_security_policy" target="_blank" rel="noopener noreferrer" class="">Страница Google</a> Конфигурация CSP. Если у вас есть какие-либо вопросы, свяжитесь с chris.john на noaa.gov.
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="orcid">кислотный<a href="#orcid" class="hash-link" aria-label="Прямая ссылка накислотный" title="Прямая ссылка накислотный" translate="no">​</a></h6>
<ul>
<li class="">Опция аутентификации orcid использует <a href="https://members.orcid.org/api/integrate/orcid-sign-in" target="_blank" rel="noopener noreferrer" class="">Орцидная аутентификация</a> который является осуществлением <a href="https://oauth.net/2/" target="_blank" rel="noopener noreferrer" class="">Протокол аутентификации OAuth 2.0</a> . ERDDAP™ Пользователи вступают в свои <a href="https://members.orcid.org/api/integrate/orcid-sign-in" target="_blank" rel="noopener noreferrer" class="">Острый счет</a> Они обычно используются исследователями для идентификации себя. Это позволяет ERDDAP™ проверить личность пользователя и получить номер его учетной записи Orcid, но не дает ERDDAP™ доступ к другой информации учетной записи Orcid.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="oauth2">Оут2<a href="#oauth2" class="hash-link" aria-label="Прямая ссылка наОут2" title="Прямая ссылка наОут2" translate="no">​</a></h6>
<ul>
<li class="">Опция oauth2 позволяет пользователям войти в систему либо со своей учетной записью Google, либо со своей учетной записью Orcid.</li>
</ul>
<p>Опции google, orcid и oauth2 являются преемниками опции openid. ERDDAP™ Версия 1.68, которая была основана на открытой версии Идентификатор, который сейчас устарел. Пожалуйста, перейдите на опцию Google, orcid или oauth2.</p>
<p>Эти варианты очень удобны для ERDDAP™ администраторам - вам никогда не придется иметь дело с паролями или их хеш-дайджестами. Все, что вам нужно сделать, это [...]&lt;пользователь&gt; (/docs/server-admin/datasets#user) Тег для пользователя в datasets.xml который определяет адрес электронной почты пользователя Google или номер учетной записи Orcid в качестве атрибута имени пользователя. (Атрибут пароля не используется при аутентификации=email, google, orcid или oauth2.)</p>
<p>С этими опциями любой может войти в ERDDAP™ подписываясь на свою учетную запись электронной почты Google или учетную запись Orcid, но никто не будет иметь права доступа к частным наборам данных до тех пор, пока вы не получите доступ к ним. (тот ERDDAP™ администратор) создавать&lt;тег user&gt;, указав адрес электронной почты Google или номер учетной записи Orcid в качестве имени пользователя и указав их роли.</p>
<p>ERDDAP™ рассматривает адреса электронной почты как нечувствительные к делу. Это делается путем преобразования адресов электронной почты, которые вы вводите (в)&lt;теги user&gt; или пользователи вводят (в форме login) Вся их нижняя версия.</p>
<p>Чтобы настроить аутентификацию Google, orcid или oauth2:</p>
<ul>
<li class="">В setup.xml измените&lt;BaseHttpsUrl&gt; значение тега.
Для экспериментов / работы на вашем персональном компьютере, используйте
<a href="https://localhost:8443" target="_blank" rel="noopener noreferrer" class="">https://localhost:8443</a><br>
<!-- -->Для вашей публики ERDDAP™ использовать
https://<em>your.domain.org</em>:8443<br>
<!-- -->8443, если вы используете Apache <a class="" href="/ru/docs/server-admin/deploy-install#proxypass">проксипас</a> Чтобы номер порта не понадобился.
 </li>
<li class="">В setup.xml измените&lt;аутентификация Например, значение тега для Google, orcid или oauth2:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;authentication&gt;oauth2&lt;/authentication&gt;  </span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="google-setup">Настройка Google<a href="#google-setup" class="hash-link" aria-label="Прямая ссылка наНастройка Google" title="Прямая ссылка наНастройка Google" translate="no">​</a></h6>
<ul>
<li class="">Для вариантов Google и Oauth2:
Следуйте инструкциям ниже, чтобы настроить аутентификацию Google для вас. ERDDAP .
 <!-- -->
<ol>
<li class="">Если у вас нет аккаунта электронной почты Google, <a href="https://www.google.com/intl/en_us/mail/help/about.html" target="_blank" rel="noopener noreferrer" class="">создать</a><br>
<!-- --> </li>
<li class="">Следить <a href="https://developers.google.com/identity/sign-in/web/devconsole-project" target="_blank" rel="noopener noreferrer" class="">Эти инструкции</a> Создать проект Google Developers Console и получить идентификатор клиента.</li>
</ol>
</li>
</ul>
<p>Когда Google запрашивает авторизованную форму Java Происхождение сценария, введите значение из&lt;baseHttpsUrl с персонального компьютера ERDDAP™ setup.xml, например,
<a href="https://localhost:8443" target="_blank" rel="noopener noreferrer" class="">https://localhost:8443</a><br>
<!-- -->На второй строке добавьте&lt;BaseHttpsUrl &gt; для вашей публики ERDDAP™ setup.xml, например,
https://<em>your.domain.org</em>:8443</p>
<p>Не указывайте авторизованные перенаправления URI.</p>
<p>Когда вы видите свой идентификатор клиента для этого проекта, скопируйте и вставьте его в setup.xml (обычно чуть ниже).&lt;аутентификация&gt; быть упорядоченным, но размещение на самом деле не имеет значения&lt;googleClientID&gt; tag, например,
&lt;GoogleClientID&gt; <em>Ваш клиент</em> &lt;GoogleClientID
Идентификатор клиента будет состоять из 75 символов, начиная с нескольких цифр и заканчивая .apps.googleusercontent.com.
 </p>
<ol start="3">
<li class="">
<p>В твоей datasets.xml Создать [&lt;пользователь&gt; (/docs/server-admin/datasets#user) Тег для каждого пользователя, который будет иметь доступ к частным наборам данных. Для атрибута имени пользователя в теге:</p>
<ul>
<li class="">Для пользователей, которые войдут в систему с Google, используйте адрес электронной почты Google.</li>
<li class="">Для пользователей, которые войдут с orcid, используйте номер учетной записи Orcid пользователя. (с тире) .</li>
</ul>
</li>
</ol>
<p>Не указывайте атрибут пароля для тега пользователя.
 
4. Перезапустить ERDDAP™ Внесение изменений в setup.xml и datasets.xml действовать.
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="orcid-setup">Орцидная установка<a href="#orcid-setup" class="hash-link" aria-label="Прямая ссылка наОрцидная установка" title="Прямая ссылка наОрцидная установка" translate="no">​</a></h6>
<ul>
<li class="">Для вариантов Orcid и Oauth2:
Следуйте инструкциям ниже, чтобы настроить аутентификацию Orcid для вас. ERDDAP .
(Подробнее см. <a href="https://members.orcid.org/api/integrate/orcid-sign-in" target="_blank" rel="noopener noreferrer" class="">Документация Orcid по аутентификации API</a> .)<br>
<!-- --> <!-- -->
<ol>
<li class="">Если у вас нет учетной записи Orcid, <a href="https://orcid.org/signin" target="_blank" rel="noopener noreferrer" class="">создать</a><br>
<!-- --> </li>
<li class="">Войти в Orcid <a href="https://orcid.org/signin" target="_blank" rel="noopener noreferrer" class="">https://orcid.org/signin</a> Использование вашей личной учетной записи Orcid.
 </li>
<li class="">Нажмите «Инструменты разработчика» («Для исследователей» на вершине) .
 </li>
<li class="">Нажмите «Регистрация для бесплатного открытого API ORCID». Введите эту информацию:
Имя: ERDDAP™ в \[ Ваша организация \]<br>
<!-- -->Сайт: \[ твой ERDDAP домен \]<br>
<!-- -->Описание: ERDDAP™ Это сервер научных данных. Пользователи должны аутентифицироваться с Google или Orcid для доступа к непубличным наборам данных.
Перенаправить URI: \[ твой ERDDAP домен \] /erddap/loginOrcid.html
 </li>
<li class="">Нажмите на значок Save (Похоже на 3,5-дюймовый диск!) .
Затем вы можете увидеть свой идентификатор клиента ORCID APP и секрет клиента ORCID.
 </li>
<li class="">Копирование и вставка идентификатора клиента ORCID APP (Начнем с «APP-») в setup.xml в настройках&lt;orcidClientID&gt; tag, например,</li>
</ol>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;orcidClientID&gt;APP-*ALPHANUMERICCHARACTERS*&lt;/orcidClientID&gt;</span><br></span></code></pre></div></div>
<ol start="7">
<li class="">Копирование и вставка ORCID Client Secret (буквенно-цифровые знаки с тире) в setup.xml в настройках&lt;orcidClientSecret&gt; tag, например,</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;orcidClientSecret&gt;*alpha-numeric-characters-with-dashes*&lt;/orcidClientSecret&gt;</span><br></span></code></pre></div></div>
<ol start="8">
<li class="">
<p>В твоей datasets.xml Создать [&lt;пользователь&gt; (/docs/server-admin/datasets#user) Тег для каждого пользователя, который будет иметь доступ к частным наборам данных. Для атрибута имени пользователя в теге:</p>
<ul>
<li class="">Для пользователей, которые войдут в систему с Google, используйте адрес электронной почты Google.</li>
<li class="">Для пользователей, которые войдут с orcid, используйте номер учетной записи Orcid пользователя. (с тире) .</li>
</ul>
</li>
</ol>
<p>Не указывайте атрибут пароля для тега пользователя.
 
9. Перезапустить ERDDAP™ Внесение изменений в setup.xml и datasets.xml действовать.
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="log-in-either-way">Войти в любом случае<a href="#log-in-either-way" class="hash-link" aria-label="Прямая ссылка наВойти в любом случае" title="Прямая ссылка наВойти в любом случае" translate="no">​</a></h6>
<p>Если вы используете опции аутентификации google, orcid или oauth2, а Google Sign-In или Orcid&#x27;s Authentication API внезапно перестают работать. (по какой бы то ни было причине) или перестает работать как ERDDAP™ Ожидает, пользователи не смогут войти в ваш ERDDAP . Как временный (постоянный) Решение, вы можете попросить пользователей зарегистрироваться в другой системе (Получите учетную запись электронной почты Google или учетную запись Orcid) . Для этого:</p>
<ol>
<li class="">Изменить&lt;Тег аутентификации&gt; позволяет использовать другую систему аутентификации. Опция oauth2 позволяет пользователям входить в систему с любой из них.</li>
<li class="">дублировать каждый из&lt;теги user&gt; и изменить атрибут имени пользователя с адреса электронной почты Google на соответствующий номер учетной записи Orcid (или наоборот) Но сохраняйте атрибуты ролей одинаковыми.</li>
</ol>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="openid">Открытый<a href="#openid" class="hash-link" aria-label="Прямая ссылка наОткрытый" title="Прямая ссылка наОткрытый" translate="no">​</a></h6>
<p>ERDDAP™ Больше не поддерживает опцию аутентификации openid, которая была основана на версии openid. Идентификатор, который сейчас устарел. Вместо этого используйте опции google, orcid или oauth2.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="basic">базовый<a href="#basic" class="hash-link" aria-label="Прямая ссылка набазовый" title="Прямая ссылка набазовый" translate="no">​</a></h6>
<p>ERDDAP™ Не поддерживает аутентификацию, потому что:</p>
<ul>
<li class="">BASIC, по-видимому, ориентирован на предопределенные веб-страницы, требующие безопасного доступа или полного доступа ко всему сайту. ERDDAP™ разрешать (Ограниченный доступ) Наборы данных должны быть добавлены на лету.</li>
<li class="">Базовая аутентификация не дает пользователям возможности выйти из системы!</li>
<li class="">Базовая аутентификация не является безопасной.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="secure-data-sources">Безопасные источники данных<a href="#secure-data-sources" class="hash-link" aria-label="Прямая ссылка наБезопасные источники данных" title="Прямая ссылка наБезопасные источники данных" translate="no">​</a></h5>
<p>Если набор данных имеет ограниченный доступ к ERDDAP™ пользователи, источник данных (откуда ERDDAP™ получает данные) Они не должны быть общедоступными. Как можно ERDDAP™ получить данные для наборов данных с ограниченным доступом? Некоторые варианты:</p>
<ul>
<li class="">ERDDAP™ может передавать данные из локальных файлов (Например, через EDDTable из материалов или EDDGrid Из материалов) .
 </li>
<li class="">ERDDAP™ может быть в a <a href="https://en.wikipedia.org/wiki/Demilitarized_zone_(computing)" target="_blank" rel="noopener noreferrer" class="">ДМЗ</a> и источник данных (Например, OPeNDAP сервер или база данных) может находиться за а <a href="https://en.wikipedia.org/wiki/Firewall" target="_blank" rel="noopener noreferrer" class="">брандмауэр</a> где он доступен для ERDDAP™ Но не для публики.
 </li>
<li class="">Источник данных может быть на общедоступном веб-сайте, но для получения данных требуется логин. Два типа данных, которые ERDDAP™ Может войти в систему доступа <a class="" href="/ru/docs/server-admin/datasets#eddtablefromdatabase">EDDTable FromDatabase</a> и <a class="" href="/ru/docs/server-admin/datasets#eddtablefromcassandra">EDDTable From Кассандра</a> . Эти наборы данных поддерживают (Всегда следует использовать) имена пользователей (создать ERDDAP™ Пользователь, имеющий только привилегии чтения) пароли, SSL-соединения и другие меры безопасности.</li>
</ul>
<p>Но в целом в настоящее время ERDDAP™ Они не могут работать с этими источниками данных, потому что у них нет условий для входа в систему. Именно поэтому доступ к <a class="" href="/ru/docs/server-admin/datasets#eddfromerddap"> EDDGrid FromErddap и EDDTable Из Эрддапа</a> Наборы данных нельзя ограничивать. В настоящее время местное ERDDAP™ не имеет возможности войти в систему и получить доступ к метаданным из удаленного ERDDAP . И поставить &quot;удаленную&quot; ERDDAP™ За брандмауэром и удаление этого набора данных доступно Ограничения не решают проблему: поскольку пользователь запрашивает EDDXxx Данные FromErddap необходимо перенаправить на пульт ERDDAP™ , удаленный ERDDAP™ должны быть доступными.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="defenses-against-hackers">Защита от хакеров<a href="#defenses-against-hackers" class="hash-link" aria-label="Прямая ссылка наЗащита от хакеров" title="Прямая ссылка наЗащита от хакеров" translate="no">​</a></h4>
<p>Есть хакеры, которые пытаются использовать слабые места безопасности в серверном программном обеспечении. ERDDAP . ERDDAP™ Следуйте общим советам по безопасности, чтобы иметь несколько уровней защиты:</p>
<ul>
<li class="">Ограниченные привилегии - Одной из наиболее важных защитных мер является запуск Tomcat через пользователя, называемого Tomcat, у которого нет пароля. (Никто не может войти в систему, как пользователь.) Имеет ограниченные привилегии файловой системы. (Например, доступ только для чтения к данным) . Видишь? ERDDAP Инструкция для <a class="" href="/ru/docs/server-admin/deploy-install#tomcat">Настройка Tomcat</a> .</li>
<li class="">Тяжелое использование - В общем, ERDDAP™ Он создан для интенсивного использования, в том числе скриптами, которые выполняют десятки тысяч запросов один за другим. Это трудно для ERDDAP™ одновременно открыть себя для серьезного законного использования и защитить себя от злоупотреблений. Иногда трудно дифференцировать тяжелое законное использование, чрезмерное законное использование и незаконное использование. (Иногда это действительно легко) . Среди прочих защит, ERDDAP™ сознательно не допускает ни одного запроса на использование чрезмерной доли ресурсов системы; (Если система не является активной) .</li>
<li class="">Идентификация проблемных пользователей - если ERDDAP™ Замедляется или замерзает (Возможно, потому, что наивный пользователь или бот запускает несколько сценариев для отправки нескольких запросов одновременно или, возможно, из-за плохого парня. <a href="https://en.wikipedia.org/wiki/Denial-of-service_attack" target="_blank" rel="noopener noreferrer" class="">Отказ в обслуживании</a> нападение) Вы можете посмотреть на <a href="#daily-report" class="">Ежедневный e-mail</a>   (и более частой идентичной информации в <a href="#log" class=""> ERDDAP™ файл</a> ) отображает количество запросов, сделанных наиболее активными пользователями; (см. &quot;IP-адрес запроса (допускается) &quot;) . ERDDAP™ Отправляйте электронные письма администратору, когда есть <a href="#failed-requests" class="">«Необычная активность: &gt;25% запросов не удалось»</a> . Вы можете посмотреть в ERDDAP™ Файл журнала, чтобы увидеть характер их запросов. Если вы чувствуете, что кто-то делает слишком много запросов, (Ты не поверишь, что я видел, ну, может быть, ты поверишь) Или запросы типа атаки, вы можете добавить свой IP-адрес в черный список.</li>
<li class="">Черный список - Вы можете добавить IP-адрес проблемных пользователей, ботов и <a href="https://en.wikipedia.org/wiki/Denial-of-service_attack" target="_blank" rel="noopener noreferrer" class="">Отказ в обслуживании</a> Нападавшие на ERDDAP   <a class="" href="/ru/docs/server-admin/datasets#requestblacklist">черный список</a> Поэтому будущие запросы от них будут немедленно отклонены. Эта установка в datasets.xml Чтобы вы могли быстро добавить IP-адрес в список, а затем <a href="#flag" class="">флаг</a> набор данных, чтобы ERDDAP™ немедленно замечают и применяют изменения. Сообщение об ошибке, отправленное пользователям, включенным в черный список, побуждает их связаться с ERDDAP™ администратора, если он считает, что его по ошибке внесли в черный список. (По нашему опыту, несколько пользователей не знали, что они запускают несколько сценариев одновременно или что их сценарии делают бессмысленные запросы.)</li>
<li class="">Безопасность наборов данных - некоторые типы наборов данных (В частности, EDDTable FromDatabase) Дополнительные риски безопасности (Например, SQL-инъекция) имеют свои собственные меры безопасности. Смотрите информацию для этих типов наборов данных в <a class="" href="/ru/docs/server-admin/datasets">Работая с datasets.xml Файл</a> особенно <a class="" href="/ru/docs/server-admin/datasets#database-security">Безопасность EDDTableFromDatabase</a> .</li>
<li class="">Аудит безопасности - Хотя NOAA ИТ-безопасность годами отказывала нам в сканировании, теперь они регулярно сканируют мои запросы. (Боба.)   ERDDAP™ установка. Хотя при первоначальном сканировании были обнаружены некоторые проблемы, которые я затем исправил, при последующем сканировании не было обнаружено никаких проблем. ERDDAP . Сканирование беспокоит многих вещей: в частности, поскольку tabledap Запросы выглядят как запросы SQL, они беспокоятся об уязвимостях SQL-инъекций. Но эти опасения необоснованны, потому что ERDDAP™ Всегда анализирует и проверяет запросы, а затем отдельно создает запрос SQL таким образом, чтобы избежать уязвимостей. Единственное, на что они иногда жалуются, так это на то, что Java Версии Tomcat не так актуальны, как они хотят, поэтому мы обновляем их в ответ. Раньше я предлагал показать людям отчеты по безопасности, но теперь мне говорят, что я не могу этого сделать.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="questions-suggestions">Вопросы? Предложения?<a href="#questions-suggestions" class="hash-link" aria-label="Прямая ссылка наВопросы? Предложения?" title="Прямая ссылка наВопросы? Предложения?" translate="no">​</a></h4>
<p>Если у вас есть вопросы о ERDDAP Система безопасности или есть какие-либо вопросы, сомнения, проблемы или предложения о том, как она создана, см. <a class="" href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a> .</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="things-you-dont-need-to-know">Вещи, которые вам не нужно знать<a href="#things-you-dont-need-to-know" class="hash-link" aria-label="Прямая ссылка наВещи, которые вам не нужно знать" title="Прямая ссылка наВещи, которые вам не нужно знать" translate="no">​</a></h2>
<p>Это детали, которые вам не нужно знать, пока не возникнет необходимость.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="second-erddap">Второй ERDDAP™<a href="#second-erddap" class="hash-link" aria-label="Прямая ссылка наВторой ERDDAP™" title="Прямая ссылка наВторой ERDDAP™" translate="no">​</a></h3>
<ul>
<li class=""><strong>Настройка второй ERDDAP™ Для тестирования/разработки</strong><br>
<!-- -->Если вы хотите сделать это, есть два подхода:</li>
<li class="">(Лучший) Установить Tomcat и ERDDAP™ на компьютере, отличном от компьютера, который имеет вашу публичную ERDDAP . Если вы используете свой персональный компьютер:</li>
</ul>
<ol>
<li class="">Делайте установку по одному шагу за раз. Подними Томка и беги первым.
Когда Tomcat бежит, менеджер Tomcat должен
<a href="http://127.0.0.1:8080/manager/html/" target="_blank" rel="noopener noreferrer" class="">http://127.0.0.1:8080/manager/html/</a>   (или, возможно, <a href="http://localhost:8080/manager/html/" target="_blank" rel="noopener noreferrer" class="">http://localhost:8080/manager/html/</a> )</li>
<li class="">устанавливать ERDDAP .</li>
<li class="">Не используйте ProxyPass для удаления номера порта. ERDDAP™ URL.</li>
<li class="">в <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> Установите baseUrl для<a href="http://127.0.0.1:8080" target="_blank" rel="noopener noreferrer" class="">http://127.0.0.1:8080</a></li>
<li class="">После того, как вы начнете это ERDDAP™ Вы должны быть в состоянии увидеть это в
<a href="http://127.0.0.1:8080/erddap/status.html" target="_blank" rel="noopener noreferrer" class="">http://127.0.0.1:8080/erddap/status.html</a>   (или, возможно, <a href="http://localhost:8080/erddap/status.html" target="_blank" rel="noopener noreferrer" class="">http://localhost:8080/erddap/status.html</a> )</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="second-tomcat">Второй Tomcat<a href="#second-tomcat" class="hash-link" aria-label="Прямая ссылка наВторой Tomcat" title="Прямая ссылка наВторой Tomcat" translate="no">​</a></h4>
<ul>
<li class="">(Второе место) Установите другой Tomcat на том же компьютере, что и ваша публика. ERDDAP .</li>
</ul>
<ol>
<li class="">Делайте установку по одному шагу за раз. Подними Томка и беги первым.
Измените все номера портов, связанные со вторым Tomcat (Например, изменить 8080 на 8081)   (Видишь? <a href="https://tomcat.apache.org/tomcat-8.0-doc/RUNNING.txt" target="_blank" rel="noopener noreferrer" class="">Несколько Tomcat Раздел Случаи</a> на полпути к этому документу) .</li>
<li class="">устанавливать ERDDAP™ Новый Tomcat.</li>
<li class="">Не используйте ProxyPass для удаления номера порта. ERDDAP™ URL.</li>
<li class="">в <a class="" href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a> Установите baseUrl для<a href="http://www.*yourDomainName*:8081" target="_blank" rel="noopener noreferrer" class="">http://www.*yourDomainName*:8081</a></li>
<li class="">После того, как вы начнете это ERDDAP™ Вы должны быть в состоянии увидеть это в
<a href="http://www.*yourDomainName*:8081/erddap/status.html" target="_blank" rel="noopener noreferrer" class="">http://www.*yourDomainName*:8081/erddap/status.html</a><br>
<!-- --> </li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="solid-state-drives">Твердое государство ездит<a href="#solid-state-drives" class="hash-link" aria-label="Прямая ссылка наТвердое государство ездит" title="Прямая ссылка наТвердое государство ездит" translate="no">​</a></h3>
<ul>
<li class=""><strong>Твердое государство ездит (SSD) Отлично!</strong><br>
<!-- -->Самый быстрый, простой и дешевый способ ускорить ERDDAP Доступ к табличным данным заключается в размещении файлов данных на твердотельном накопителе (SSD) . Большинство табличных наборов данных относительно малы, поэтому SSD емкостью 1 или 2 ТБ, вероятно, достаточно для хранения всех файлов данных для всех ваших табличных наборов данных. SSD в конечном итоге изнашивается, если вы записываете данные в ячейку, удаляете их и записываете новые данные в эту ячейку слишком много раз. Поэтому, если вы просто используете свой SSD, чтобы записать данные один раз и прочитать их много раз, даже SSD потребительского класса должен длиться очень долго, вероятно, намного дольше, чем любой жесткий диск. (HDD) . Потребительские SSD теперь дешевы (в 2018 году ~ 200 долларов за 1 ТБ или ~ 400 долларов за 2 ТБ) И цены продолжают стремительно падать. Когда ERDDAP™ получает доступ к файлу данных, SSD предлагает как более короткую задержку (~0,1 мс против ~3 мс для HDD, против ~10 (?) ms для RAID против ~55ms для Amazon S3) более высокая пропускная способность (~500 Мб/с против ~75 Мб/с для HDD, против ~500 Мб/с для RAID) . Таким образом, вы можете получить большой прирост производительности (До 10X против HDD) За 200 долларов! По сравнению с большинством других возможных изменений в вашей системе (Новый сервер за 10 тысяч долларов? Новый рейд за 35 тысяч долларов? Новый сетевой коммутатор за $5000 и т.д.) Это, безусловно, лучший возврат инвестиций (Рой) . Когда SSD умирает (1, 2, ... 8 лет) Замените его. Не полагайтесь на это как на долгосрочное архивное хранение данных, только для фронтальной копии данных. \[ SSD также отлично подходит для сетчатых данных, но большинство сетчатых наборов данных намного больше, что делает SSD очень дорогим. \]</li>
</ul>
<p>Если ваш сервер не загружен памятью, дополнительная память для вашего сервера также является отличным и относительно недорогим способом ускорить все аспекты работы. ERDDAP .
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="heavy-loads--constraints"><a href="#heavy-loads--constraints" class="">Тяжелые грузы / ограничения</a>  **<a href="#heavy-loads--constraints" class="hash-link" aria-label="Прямая ссылка наheavy-loads--constraints" title="Прямая ссылка наheavy-loads--constraints" translate="no">​</a></h3>
<p>При интенсивном использовании, отдельно ERDDAP™ Они могут быть ограничены различными проблемами. Для получения дополнительной информации см. <a class="" href="/ru/docs/server-admin/scaling#heavy-loads--constraints">Перечень ограничений и решений</a> .
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="grids-clusters-and-federations">Сети, кластеры и федерации<a href="#grids-clusters-and-federations" class="hash-link" aria-label="Прямая ссылка наСети, кластеры и федерации" title="Прямая ссылка наСети, кластеры и федерации" translate="no">​</a></h3>
<p>При очень интенсивном использовании один отдельный ERDDAP™ Они сталкиваются с одним или несколькими ограничениями, и даже предлагаемых решений будет недостаточно. Для таких ситуаций, ERDDAP™ имеет функции, которые позволяют легко создавать масштабируемые сетки (Также называется кластерами или федерациями.) из ERDDAP s, которые позволяют системе справляться с очень тяжелым использованием; (Например, для большого центра обработки данных) . Для получения дополнительной информации см. <a class="" href="/ru/docs/server-admin/scaling">Сети, кластеры и федерации ERDDAP s</a> .
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cloud-computing">Облачные вычисления<a href="#cloud-computing" class="hash-link" aria-label="Прямая ссылка наОблачные вычисления" title="Прямая ссылка наОблачные вычисления" translate="no">​</a></h3>
<p>Несколько компаний начинают предлагать <a href="https://en.wikipedia.org/wiki/Cloud_computing" target="_blank" rel="noopener noreferrer" class="">Услуги облачных вычислений</a>   (например, <a href="https://aws.amazon.com/" target="_blank" rel="noopener noreferrer" class="">Amazon Web Services</a> ) . <a href="https://en.wikipedia.org/wiki/Web_hosting_service" target="_blank" rel="noopener noreferrer" class="">Веб-хостинговые компании</a> Начиная с середины 1990-х годов, «облачные» сервисы значительно расширили гибкость систем и спектр предлагаемых услуг. Вы можете использовать эти услуги для создания одного ERDDAP™ Сетка/кластер ERDDAP s для очень интенсивного использования. Для получения дополнительной информации см. <a class="" href="/ru/docs/server-admin/scaling#cloud-computing">облачные вычисления с ERDDAP™ </a> .</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="amazon">Amazon<a href="#amazon" class="hash-link" aria-label="Прямая ссылка наAmazon" title="Прямая ссылка наAmazon" translate="no">​</a></h3>
<ul>
<li class="">** <a href="#amazon" class="">Amazon Web Services (AWS) Обзор установки EC2</a> **<br>
<a href="https://aws.amazon.com/" target="_blank" rel="noopener noreferrer" class="">Amazon Web Services (AWS) </a> является <a href="https://en.wikipedia.org/wiki/Cloud_computing" target="_blank" rel="noopener noreferrer" class="">облачные вычисления</a> Он предлагает широкий спектр компьютерной инфраструктуры, которую вы можете арендовать по часам. Вы можете установить ERDDAP™ на <a href="https://aws.amazon.com/ec2/" target="_blank" rel="noopener noreferrer" class="">Упругое вычислительное облако (EC2) </a> пример (Имя для компьютера, который вы можете арендовать по часам) . AWS обладает отличными <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/concepts.html" target="_blank" rel="noopener noreferrer" class="">Руководство пользователя AWS</a> Вы можете использовать Google, чтобы найти ответы на конкретные вопросы. Приготовьтесь — это довольно много работы, чтобы начать. Но как только вы запустите один сервер, вы можете легко арендовать столько дополнительных ресурсов. (серверы, базы данных, SSD-пространство и т.д.) По мере необходимости, по разумной цене. \[ Это не рекомендация или одобрение Amazon Web Services. Есть и другие облачные провайдеры. \]</li>
</ul>
<p>Обзор вещей, которые вы должны сделать, чтобы получить ERDDAP™ Работает в AWS:</p>
<ul>
<li class="">Вы будете делать все, что описано в <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/concepts.html" target="_blank" rel="noopener noreferrer" class="">Руководство пользователя AWS</a> .</li>
<li class="">Создайте учетную запись AWS.</li>
<li class="">Настройте пользователя AWS в этой учетной записи с правами администратора. Войдите как этот пользователь, чтобы сделать все следующие шаги.</li>
<li class="">Упругое хранение блоков (ЭБС) AWS эквивалент жесткого диска, подключенного к вашему серверу. Некоторое пространство EBS будет выделено при первом создании экземпляра EC2. Это постоянное хранилище - информация не теряется, когда вы останавливаете свой экземпляр EC2. И если вы меняете типы экземпляров, ваше пространство EBS автоматически прикрепляется к новому экземпляру.</li>
<li class="">Создайте эластичный IP-адрес, чтобы ваш экземпляр EC2 имел стабильный общедоступный URL-адрес. (В отличие от частного URL, который меняется каждый раз, когда вы перезагружаете свой экземпляр.) .</li>
<li class="">Создание и запуск экземпляра EC2 (компьютер) . Существует широкий спектр <a href="https://aws.amazon.com/ec2/instance-types/" target="_blank" rel="noopener noreferrer" class="">Типы экземпляров</a> Каждый по другой цене. Пример m4.large или m4.xlarge является мощным и, вероятно, подходит для большинства применений, но выберите то, что соответствует вашим потребностям. Возможно, вы захотите использовать Linux от Amazon в качестве операционной системы.</li>
<li class="">Если ваш настольный компьютер / ноутбук является компьютером Windows, вы можете использовать <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/putty.html" target="_blank" rel="noopener noreferrer" class="">Путти</a> Бесплатный SSH-клиент для Windows, чтобы получить доступ к командной строке вашего экземпляра EC2. Возможно, у вас есть программа SSH, которую вы предпочитаете.</li>
<li class="">При входе в свой экземпляр EC2 вы будете зарегистрированы как административный пользователь с именем пользователя «ec2-user». Пользователь ec2 имеет привилегию sudo. Итак, когда вам нужно сделать что-то как корневой пользователь, используйте: <em>Командир</em></li>
<li class="">Если ваш настольный компьютер / ноутбук является компьютером Windows, вы можете использовать <a href="https://stackoverflow.com/questions/16744863/connect-to-amazon-ec2-file-directory-using-filezilla-and-sftp" target="_blank" rel="noopener noreferrer" class="">FileZilla</a> Бесплатная программа SFTP для передачи файлов в / из вашего экземпляра EC2. Или, возможно, у вас есть какая-то другая программа SFTP, которую вы предпочитаете.</li>
<li class=""><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/install-LAMP.html" target="_blank" rel="noopener noreferrer" class="">Установить Apache</a> На примере EC2.</li>
<li class="">Следуйте стандарту <a class="" href="/ru/docs/server-admin/deploy-install"> ERDDAP™ Инструкция по установке</a> .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="waitthentryagain-exception">В ожидании повторного исключения<a href="#waitthentryagain-exception" class="hash-link" aria-label="Прямая ссылка наВ ожидании повторного исключения" title="Прямая ссылка наВ ожидании повторного исключения" translate="no">​</a></h3>
<p>Пользователь может получить сообщение об ошибке
В ожидании повторного исключения:
Там был один (временной?) Проблема. Подожди минутку, потом попробуй еще раз. (В браузере нажмите кнопку Reload.)<br>
<!-- -->GridDataAccessor.increment: частичные результаты \[ 0 \] = &quot;123542730&quot; должно было быть &quot;123532800&quot;.</p>
<p>Общим объяснением исключения WaitThenTryAgain является:
Когда ERDDAP™ Отвечает на запрос пользователя, может возникнуть неожиданная ошибка с набором данных (Например, ошибка при чтении данных из файла или ошибка при доступе к удаленному набору данных.) . Следующая записьДалее TriAgain Signals to ERDDAP™ что запрос не был удовлетворен (пока) но это ERDDAP™ Постарайтесь быстро перезагрузить набор данных (зовет <a href="#requestreloadasap" class="">Запросить ReloadASAP</a> ) и повторите запрос. Часто это удается, и пользователь просто видит, что ответ на запрос был медленным. В других случаях перезагрузка выходит из строя или происходит слишком медленно, или последующая попытка справиться с запросом также терпит неудачу и снова бросает WaitThenTryAgain. Если это случится, ERDDAP™ отмечает набор данных для перезагрузки, но сообщает пользователю (Скачать игру WaitThenTryAgain) что произошел сбой при ответе на запрос.</p>
<p>Это нормальное поведение. Эта система может решать многие общие проблемы.
Но эта система может быть запущена чрезмерно. Наиболее распространенной причиной является то, что ERDDAP Загрузка набора данных не видит проблемы, но ERDDAP Ответ на запрос данных видит проблему. Независимо от причины, решение заключается в том, чтобы иметь дело с тем, что не так с набором данных. Посмотрите в log.txt, чтобы увидеть сообщения об ошибках и решить проблемы. Если много файлов имеют действительные заголовки, но недействительные данные (Поврежденный файл) Замените файлы некоррумпированными. Если соединение с RAID слабое, исправьте его. Если подключение к удаленному сервису является ненадежным, найдите способ сделать его ненадежным или загрузить все файлы из удаленного источника и обслуживать данные из локальных файлов.</p>
<p>Подробное объяснение этой конкретной ошибки (выше) Это:
Для каждого EDDGrid набор данных, ERDDAP™ сохраняет переменные значения оси в памяти. Они используются, например, для преобразования запрашиваемых значений оси, которые используют &quot; () &quot;формат в индексные номера. Например, если значения оси являются &quot;10, 15, 20, 25&quot;, запрос на (20) будет интерпретироваться как запрос на индекс #2 (0-базовые индексы) . Когда ERDDAP™ Получает запрос на данные и получает данные от источника, он проверяет, что значения оси, которые он получил от источника, соответствуют значениям оси в памяти. Как правило, делают. Но иногда источник данных существенно менялся: например, значения индекса с начала переменной оси могли быть удалены. (Например, &quot;10, 15, 20, 25&quot; может стать &quot;20, 25, 30&quot;.) . Если это произойдет, то ясно, что ERDDAP Толкование просьбы (например, &quot; (20) &quot;индекс #2) Теперь это неправильно. Так ERDDAP™ Выбрасывает исключение и вызывает RequestReloadASAP. ERDDAP™ Скоро обновят набор данных (часто в течение нескольких секунд, обычно в течение минуты) . Другие подобные проблемы также приводят к исключению WaitThenTryAgain.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="requestreloadasap">Запросить ReloadASAP<a href="#requestreloadasap" class="hash-link" aria-label="Прямая ссылка наЗапросить ReloadASAP" title="Прямая ссылка наЗапросить ReloadASAP" translate="no">​</a></h4>
<p>Вы можете увидеть RequestReloadASAP в файле log.txt сразу после сообщения об ошибке. <a href="#waitthentryagain-exception" class="">В ожидании повторного исключения</a> . Это, по сути, внутренний, программный способ ERDDAP™ установить <a href="#flag" class="">флаг</a> Чтобы сигнализировать, что набор данных должен быть перезагружен как можно скорее.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="files-not-being-deleted">Файлы не удаляются<a href="#files-not-being-deleted" class="hash-link" aria-label="Прямая ссылка наФайлы не удаляются" title="Прямая ссылка наФайлы не удаляются" translate="no">​</a></h3>
<p>Для некоторых ERDDAP™ Установки, возникла проблема с некоторыми временными файлами, создаваемыми ERDDAP™ оставаться открытым (ошибочно) и, таким образом, не удаляется. В некоторых случаях многие из этих файлов накопились и заняли значительное количество дискового пространства.</p>
<p>Надеюсь, что эти проблемы будут решены (как ERDDAP™ v2.00) . Если вы видите эту проблему, пожалуйста, напишите в каталог + имена оскорбительных файлов Крису. Джон на noaa.gov. У вас есть несколько вариантов решения проблемы:</p>
<ul>
<li class="">Если файлы не большие и не приводят к истощению дискового пространства, вы можете игнорировать проблему.</li>
<li class="">Самое простое решение — закрыть Tomcat. ERDDAP™   (Через несколько часов, так что меньше пользователей затронуты) . Во время отключения, если операционная система не удаляет файлы, удалите их вручную. Затем перезапустить ERDDAP .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="json-ld">ДЖОН-ЛД<a href="#json-ld" class="hash-link" aria-label="Прямая ссылка наДЖОН-ЛД" title="Прямая ссылка наДЖОН-ЛД" translate="no">​</a></h3>
<ul>
<li class="">** <a href="#json-ld" class="">Семантическая разметка наборов данных с помощью json-ld (Джон связанные данные) </a> **<br>
<!-- -->ERDDAP™ Сейчас использует <a href="https://json-ld.org" target="_blank" rel="noopener noreferrer" class="">джон-лд (Джон связанные данные) </a> чтобы сделать ваш каталог данных и наборы данных частью <a href="https://en.wikipedia.org/wiki/Semantic_Web" target="_blank" rel="noopener noreferrer" class="">Семантическая паутина</a> Это идея Тима Бернерса-Ли сделать веб-контент более машиночитаемым и машинным «понятным». Содержимое json-ld <a href="https://schema.org/" target="_blank" rel="noopener noreferrer" class="">schema.org</a> терминов и определений. Поисковые системы ( <a href="https://developers.google.com/search/docs/data-types/datasets" target="_blank" rel="noopener noreferrer" class="">Google в частности</a> ) и другие семантические инструменты могут использовать эту структурированную разметку для облегчения обнаружения и индексации. Структурированная разметка json-ld выглядит как невидимая для людей&lt;сценарий код наhttps://.../erddap/info/index.htmlвеб-страница (Что такое семантическая паутина <a href="https://schema.org/DataCatalog" target="_blank" rel="noopener noreferrer" class="">DataCatalog</a> ) и на каждойhttps://.../erddap/info/<em>datasetID</em>/index.htmlвеб-страница (Что такое семантическая паутина <a href="https://schema.org/Dataset" target="_blank" rel="noopener noreferrer" class="">Набор данных</a> ) . (Особая благодарность Адаму Лидбеттеру и Робу Фуллеру из Морского института в Ирландии за то, что они проделали трудную часть работы, чтобы сделать эту часть своей жизни. ERDDAP .)<br>
<!-- --> </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="out-of-date-urls">Out-Of-Date URL<a href="#out-of-date-urls" class="hash-link" aria-label="Прямая ссылка наOut-Of-Date URL" title="Прямая ссылка наOut-Of-Date URL" translate="no">​</a></h3>
<p>Медленно, но верно, URL-адреса, которые поставщики данных записали в файлы данных, становятся устаревшими. (Например, http становится https Реорганизованы веб-сайты, а такие организации, как NODC/NGDC/NCDC, реорганизованы в NCEI.) . В результате неработающие ссылки являются постоянной проблемой, с которой сталкиваются все веб-сайты. Чтобы справиться с этим, ERDDAP™ Теперь есть система для автоматического обновления устаревших URL-адресов. Если генерировать наборы данных Xml видит устаревший URL, он добавляет обновленный URL для&lt; addAttributes &gt;. Кроме того, когда набор данных загружается, если ERDDAP™ Увидев устаревший URL, он незаметно меняет его на обновленный URL. Изменения контролируются серией поиска / замены с парами, определенными в&lt;UpdateUrls&gt; в ERDDAP ?
\[ кот \] /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml файл. Вы можете внести изменения там. Если у вас есть предложения по изменениям, или если вы считаете, что это должно быть преобразовано в услугу (как конвертеры) Пожалуйста, напишите Крису. Джон на noaa.gov.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cors">Корсы<a href="#cors" class="hash-link" aria-label="Прямая ссылка наКорсы" title="Прямая ссылка наКорсы" translate="no">​</a></h3>
<ul>
<li class="">Корсы ( <a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing" target="_blank" rel="noopener noreferrer" class="">Кросс-оригинальный обмен ресурсами</a> )<br>
<!-- -->&quot;является механизмом, позволяющим ограничивать ресурсы (например, шрифты или ERDDAP™ данные) на веб-странице, запрашиваемой из другого домена за пределами домена, из которого был подан первый ресурс&quot;. (Арун Ранганатан) . По сути, CORS - это сообщение, которое можно поместить в HTTP-заголовок ответа, сказав по существу: &quot;Это нормально для этого сайта, если некоторые другие сайты (конкретных, или всех) хватать ресурсы (например, данные) с этого сайта и сделать его доступным на своем сайте&quot;. Таким образом, это альтернатива <a href="https://en.wikipedia.org/wiki/JSONP" target="_blank" rel="noopener noreferrer" class="">JSONP</a> .</li>
</ul>
<p>Разработчики ERDDAP™ Не претендуйте на звание эксперта по безопасности. Мы не совсем ясно понимаем проблемы безопасности, связанные с CORS. Мы не хотим делать никаких заявлений в поддержку действий, которые снижают безопасность. Так что мы останемся нейтральными и оставим это на каждого. ERDDAP™ администратор, чтобы решить, стоит ли преимущества или включение заголовка CORS рисков. Как всегда, если ваш ERDDAP™ Если у вас есть какие-либо личные наборы данных, рекомендуется быть особенно осторожным с безопасностью.</p>
<p>Если вы хотите использовать CORS для своих ERDDAP™ Есть, есть <a href="https://enable-cors.org/index.html" target="_blank" rel="noopener noreferrer" class="">Доступные инструкции</a> описание того, как администраторы веб-сайтов могут включить заголовок CORS через свое серверное программное обеспечение более низкого уровня (например, Apache или nginx) .</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="palettes">Палетки<a href="#palettes" class="hash-link" aria-label="Прямая ссылка наПалетки" title="Прямая ссылка наПалетки" translate="no">​</a></h3>
<ul>
<li class="">Палеты используются ERDDAP™ преобразовывать диапазон значений данных в диапазон цветов при создании графиков и карт.</li>
</ul>
<p>Каждая палитра определена в файле палитры в стиле .cpt, используемом <a href="https://www.soest.hawaii.edu/gmt/" target="_blank" rel="noopener noreferrer" class="">ГМТ</a> . Все ERDDAP™ Файлы .cpt являются действительными файлами GMT .cpt, но обратное неверно. Для использования в ERDDAP™ .cpt файлы имеют:</p>
<ul>
<li class="">Дополнительные строки комментариев в начале файла, начиная с «#».</li>
<li class="">Основной раздел с описанием сегментов палитры, по одному сегменту на линию. Каждая строка описания сегмента имеет 8 значений:
начинать Значение, начало, начало Зеленый, начинай. Синий, конечный цвет, красный, зеленый, синий.
Может быть любое количество сегментов. ERDDAP™ Использует линейную интерполяцию между начальным / зеленым / синим и конечным / зеленым / синим каждого сегмента.</li>
</ul>
<p>Мы рекомендуем, чтобы каждый сегмент определял начальный и конечный цвета, которые отличаются друг от друга, и чтобы начальный цвет каждого сегмента был таким же, как и конечный цвет предыдущего сегмента, чтобы палитра описывала непрерывное сочетание цветов. ERDDAP™ Имеет систему для создания на лету палитры дискретных цветов из палитры с непрерывным сочетанием цветов. Ан ERDDAP™ Пользователь может указать, хочет ли он, чтобы палитра была непрерывной. (оригинал) или дискретный (полученный из оригинала) . Но есть законные причины не следовать этим рекомендациям для некоторых палитр.</p>
<ul>
<li class="">Начальная и конечная величины должны быть целыми.
Первый сегмент должен иметь начальную ценность = 0 и конечную ценность = 1.
Второй сегмент должен иметь начальную ценность = 1 и конечную ценность = 2.
И т.д.</li>
<li class="">Красный, зеленый и синий значения должны быть целыми числами от 0. (ни одного) ...255 (полностью) .</li>
<li class="">Конец файла должен иметь 3 строки с:<!-- -->
<ol>
<li class="">Цвет фонового rgb для значений данных меньше минимума цветовой панели, например: B 128 128 128
Это часто стартовый красный, стартовый зеленый и стартовый синий первого сегмента.</li>
<li class="">Цвет передней панели rgb для значений данных, превышающих максимум цветовой панели, например: F 128 0 0
Это часто конец красный, конец зеленый и конец синий последнего сегмента.</li>
<li class="">Цвет rgb для значений данных NaN, например, N 128 128 128
Часто серый серый (128 128 128) .</li>
</ol>
</li>
<li class="">Значения на каждой линии должны быть разделены вкладками, без посторонних пространств.</li>
</ul>
<p>Образец файла .cpt - BlueWhiteRed.cpt:</p>
<h1>Это BlueWhiteRed.cpt.</h1>
<p>0 0 0 128 1 0 0 255
1 0 0 255 2 0 255 255
2 0 255 255 3 255 255 255
3 255 255 255 4 255 255 0
4 255 255 0 5 255 0 0
5 255 0 0 6 128 0 0
B 0 0 128
F 128 0 0
N 128 128 128</p>
<p>Смотрите существующие файлы .cpt для других примеров. Если есть проблемы с файлом .cpt, ERDDAP™ Скорее всего, вы допустите ошибку при анализе файла .cpt. (Что лучше, чем неправильно использовать информацию) .</p>
<p>Вы можете добавить дополнительные палитры ERDDAP . Вы можете сделать их сами или найти их в Интернете. (Например, в <a href="http://soliton.vm.bytemark.co.uk/pub/cpt-city/" target="_blank" rel="noopener noreferrer" class="">cpt-город</a> ) Хотя вам, вероятно, придется немного отредактировать их формат, чтобы соответствовать ERDDAP Требования .cpt. Чтобы получить ERDDAP™ Чтобы использовать новый файл .cpt, храните файл в <em>кот</em> /webapps/erddap/WEB-INF/cptfiles (Это нужно сделать для каждой новой версии. ERDDAP ) и либо:</p>
<ul>
<li class="">Если вы используете файл message.xml по умолчанию: добавьте имя файла в файл&lt;Palettes &gt; Tag in
<em>кот</em> /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml.
Если вы делаете это, вы должны делать это каждый раз, когда вы обновляете. ERDDAP .</li>
<li class="">Если вы используете пользовательский файл message.xml: добавьте имя файла в файл&lt;палитры&gt; тег в пользовательском файле message.xml: <em>кот</em> /content/erddap/messages.xml. Если вы делаете это, вам нужно сделать это только один раз. (Но есть и другая работа по поддержанию пользовательского файла message.xml) .</li>
</ul>
<p>Затем перезапустить ERDDAP™ так ERDDAP™ Замечает изменения. Преимущество такого подхода в том, что можно указать порядок палитр в представленном пользователям списке. Если вы добавляете коллекцию, мы рекомендуем вам добавить приставку с инициалами авторов. (например, &quot; KT\_ &quot;) название каждой палитры для идентификации коллекции и так, что может быть несколько палитр, которые в противном случае имели бы одно и то же имя.</p>
<p>Пожалуйста, не удаляйте и не меняйте ни одну из стандартных палитр. Они являются стандартной характеристикой всех ERDDAP™ Установки. Если вы считаете, что палитра или коллекция палитр должны быть включены в стандарт ERDDAP™ Распределение, потому что это / они будут общего использования, пожалуйста, отправьте их Крису. Джон на noaa.gov.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="colorbars">Колорбары<a href="#colorbars" class="hash-link" aria-label="Прямая ссылка наКолорбары" title="Прямая ссылка наКолорбары" translate="no">​</a></h3>
<ul>
<li class=""><strong>Как это сделать ERDDAP™ Создавать цвета в цветовой панели?</strong></li>
</ul>
<ol>
<li class="">Пользователь выбирает одну из предопределенных <a href="#palettes" class="">палитра</a> или использует по умолчанию, например, Rainbow. Палеты хранятся/определяются в файлах таблицы цветов в стиле GMT.cpt. Каждый из них ERDDAP Предопределенные палитры имеют простой целочисленный диапазон, например, от 0 до 1 (Если в палитре есть только одна секция) или от 0 до 4 (Если в палитре четыре секции) . Каждый сегмент файла охватывает от n до n+1, начиная с n=0.</li>
<li class="">ERDDAP™ генерирует новый файл .cpt на лету, масштабируя диапазон предопределенной палитры (Например, 0-4) диапазон палитры, необходимой пользователю (например, от 0,1 до 50) а затем генерировать раздел в новой палитре для каждого раздела новой палитры (Например, шкала журнала с клещами на 0,1, 0,5, 1, 5, 10, 50 будет иметь 5 секций.) . Цвет для конечной точки каждого раздела генерируется путем нахождения соответствующего раздела палитры в файле .cpt, затем линейно интерполируя значения R, G и B. (Это то же самое, как GMT генерирует цвета из своих файлов таблицы цветов.) Эта система позволяет ERDDAP™ Начнем с общих палитр (Например, радуга с 8 сегментами, в общей сложности от 0 до 8) и создавать на заказ палитры на лету (Например, специальная радуга, которая отображает от 0,1 до 50 мг / л до цветов радуги.) .</li>
<li class="">ERDDAP™ Затем использует этот новый файл .cpt для генерации цвета для каждого цветного пикселя в цветовой панели. (и позднее для каждой точки данных при составлении графика или карты) , снова найдя соответствующий раздел палитры в файле .cpt, затем линейно интерполируя значения R, G и B.</li>
</ol>
<p>Этот процесс может показаться излишне сложным. Но он решает проблемы, связанные с бревенчатыми шкалами, которые трудно решить другими способами.</p>
<p>Как имитировать то, что ERDDAP™ Делаешь? Это нелегко. Вы должны дублировать процесс, который ERDDAP™ Используется. Если вы являетесь a Java Программист может использовать тот же Java класс, который ERDDAP™ Использует для всего этого:
<em>кот</em> /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/coastwatch/sgt/CompoundColorMap.java.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="guidelines-for-data-distribution-systems">Руководящие принципы для систем распределения данных<a href="#guidelines-for-data-distribution-systems" class="hash-link" aria-label="Прямая ссылка наРуководящие принципы для систем распределения данных" title="Прямая ссылка наРуководящие принципы для систем распределения данных" translate="no">​</a></h3>
<p>Можно найти более общие мнения о разработке и оценке систем распределения данных. <a href="https://coastwatch.pfeg.noaa.gov/erddap/images/erddapTalk/erdData.html" target="_blank" rel="noopener noreferrer" class="">здесь</a> .
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="archiveadataset">Архив данных<a href="#archiveadataset" class="hash-link" aria-label="Прямая ссылка наАрхив данных" title="Прямая ссылка наАрхив данных" translate="no">​</a></h3>
<p>Включен в свой ERDDAP™ Установка - это инструмент командной строки под названием ArchiveADataset, который может помочь вам создать архив. (а .zip или .tar  .gz файл) часть или весь набор данных, хранящийся в серии netcdf-3; .nc файлы данных в формате файла, который подходит для представления NOAA Архив NCEI ( .nc для сетчатых наборов данных или <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#ncCFMA" target="_blank" rel="noopener noreferrer" class=""> .nc CFMA</a> для табличных наборов данных, указанных <a href="https://www.ncei.noaa.gov/data/oceans/ncei/formats/netcdf/v2.0/index.html" target="_blank" rel="noopener noreferrer" class="">НЦЭИ NetCDF Шаблоны v2.0</a> ) .</p>
<p>Архивы Набор данных может создавать два различных формата архива:</p>
<ul>
<li class="">«Оригинальный» формат следует этим <a href="https://www.ncdc.noaa.gov/atrac/guidelines.html" target="_blank" rel="noopener noreferrer" class="">Руководство NCEI по архивированию</a> Это руководство для <a href="https://sites.google.com/a/noaa.gov/ncei-ioos-archive/cookbook?pli=1" target="_blank" rel="noopener noreferrer" class="">Архив ваших данных в NCEI</a> и связанных с ним <a href="https://sites.google.com/a/noaa.gov/ncei-ioos-archive/cookbook/data-integrity" target="_blank" rel="noopener noreferrer" class="">Практика обеспечения целостности данных</a> .</li>
<li class="">Формат «BagIt» позволяет <a href="https://en.wikipedia.org/wiki/BagIt" target="_blank" rel="noopener noreferrer" class="">Файлы BagIt</a> стандартизированный формат архива, продвигаемый Библиотекой Конгресса США, как указано в <a href="https://tools.ietf.org/html/draft-kunze-bagit-14" target="_blank" rel="noopener noreferrer" class="">Спецификация BagIt v0.97</a> . NOAA NCEI может стандартизировать файлы BagIt для отправки в архив.</li>
</ul>
<p>Неудивительно, что <a class="" href="/ru/docs/server-admin/datasets#global-attributes">глобальные и переменные метаданные</a> это ERDDAP™ Поощрения/требования — это почти те же самые внутрифайловые метаданные CF и ACDD, которые поощряет/требует NCEI, поэтому все ваши наборы данных должны быть готовы к отправке в NCEI. <a href="https://www.nodc.noaa.gov/s2n/" target="_blank" rel="noopener noreferrer" class="">Отправить 2NCEI</a> или <a href="https://www.ncdc.noaa.gov/atrac/index.html" target="_blank" rel="noopener noreferrer" class="">АТРАК</a>   (Расширенный инструмент отслеживания и ресурсов NCEI для архивных коллекций) .</p>
<p>Если ты (тот ERDDAP™ администратор) использовать ArchiveADataset для отправки данных в NCEI, а затем (Не NCEI) Определите, когда отправлять часть данных в NCEI, и что это будет, потому что вы будете знать, когда появятся новые данные и как указать эту часть. (и NCEI не будет) . Таким образом, ArchiveADataset - это инструмент, который вы можете использовать для создания пакета для отправки в NCEI.</p>
<p>Архивы Набор данных может быть полезен в других ситуациях, например, для ERDDAP™ администраторы, которым необходимо конвертировать подмножество набора данных (На частном ERDDAP ) из его родного формата файла в набор <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#ncCFMA" target="_blank" rel="noopener noreferrer" class=""> .nc Файлы CF</a> Чтобы общественность ERDDAP™ может передавать данные из .nc Файлы CF вместо исходных файлов.</p>
<p>Как только вы создали ERDDAP™ и запустить его (хотя бы один раз) Вы можете найти и использовать ArchiveADataset в <em>кот</em> /webapps/erddap/WEB-INF каталог. Есть скрипт Shell (Архив данных<!-- -->:ADataset<!-- -->.sh) Linux/Unix и пакетный файл (Архив данных<!-- -->:ADataset<!-- -->.bat) Для Windows.</p>
<p>В Windows, когда вы впервые запускаете ArchiveADataset, вам нужно отредактировать ArchiveADataset. bat файл с текстовым редактором, чтобы изменить путь к java. Файл exe, чтобы Windows могла найти Java .</p>
<p>Когда вы запускаете ArchiveADataset, он задаст вам ряд вопросов. Для каждого вопроса введите ответ, затем нажмите Enter. Или нажмите ^C, чтобы выйти из программы в любое время.</p>
<p>Или же вы можете привести ответы на вопросы в порядок в командной строке. Для этого запустите программу один раз, введите и запишите свои ответы. Вы можете создать единую командную строку. (Ответы как параметры) который запускает программу и отвечает на все вопросы.
Используйте слово «по умолчанию», если вы хотите использовать значение по умолчанию для данного параметра.
Используйте &quot;&quot; (Две двойные цитаты) как заполнитель для пустой струны.
Определение параметров в командной строке может быть очень удобным, например, если вы используете ArchiveADataset один раз в месяц для архивирования данных за месяц. После того, как вы сгенерировали командную строку с параметрами и сохранили ее в заметках или в скрипте оболочки, вам просто нужно вносить небольшие изменения каждый месяц, чтобы сделать архив этого месяца.</p>
<p>Вопросы, которые задает ArchiveADataset, позволяют вам:</p>
<ul>
<li class="">Укажите оригинальную или упаковку файла Bagit. Для NCEI используйте Bagit.</li>
<li class="">Укажите zip или tar .gz Компрессия для упаковки. Для NCEI используйте смолу .gz .</li>
<li class="">Укажите контактный адрес электронной почты для этого архива (Он будет записан в файле READ\_ME.txt в архиве.) .</li>
<li class="">Укажите datasetID Набор данных, который вы хотите архивировать.</li>
<li class="">Укажите, какие переменные данных вы хотите архивировать (Обычно все) .</li>
<li class="">Укажите, какое подмножество набора данных вы хотите архивировать. Вам нужно отформатировать подмножество так же, как вы отформатировали бы подмножество для запроса данных, поэтому оно будет отличаться для сетчатых, чем для табличных наборов данных.<!-- -->
<ul>
<li class="">Для сетчатых наборов данных можно указать диапазон значений самого левого измерения, обычно это диапазон времени. ArchiveADataset делает отдельный запрос и генерирует отдельный файл данных для каждого значения в диапазоне значений. Поскольку сетчатые наборы данных обычно большие, вам почти всегда придется указывать небольшое подмножество относительно размера всего набора данных.
Например, \[  (2015-12-01) : (2015-12-31)  \]  \[  \]  \[  \]  \[  \]</li>
<li class="">Для табличных наборов данных можно указать любой набор ограничений, но это часто диапазон времени. Поскольку табличные наборы данных обычно малы, часто можно указать отсутствие ограничений, так что весь набор данных архивируется.
Например, &amp;time&gt;=2015-12-01&amp;time&lt;2016-01-01</li>
</ul>
</li>
<li class="">Для табличных наборов данных: укажите разделенный запятой список из 0 или более переменных, которые определят, как архивированные данные дополнительно помещаются в различные файлы данных. Для наборов данных, которые имеют
<a class="" href="/ru/docs/server-admin/datasets#cdm_data_type">cdm\_data\_type</a> Сериалы TimeSeries | TimeSeriesПрофиль | Траектория | TrajectoryProfile
Вы должны почти всегда указывать переменную, которая имеет cf\_role=timeseries\_id. (например, stationID ) или cf\_role=trajectory\_id атрибут. ArchiveADataset делает отдельный запрос и генерирует отдельный файл данных для каждой комбинации значений этих переменных, например, для каждой из них. stationID .
Для всех других табличных наборов данных вы, вероятно, не будете указывать какие-либо переменные для этой цели.
Предупреждение: Если подмножество набора данных, который вы архивируете, очень велико. (2GB) и нет подходящей переменной для этой цели, тогда ArchiveADataset не может использоваться с этим набором данных. Это должно быть редкостью.</li>
<li class="">Укажите формат файла для файлов данных, которые будут созданы.
Для сетчатых наборов данных, для NCEI, использование .nc .
Для табличных наборов данных, для NCEI, использовать <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#ncCFMA" target="_blank" rel="noopener noreferrer" class=""> .nc CFMA</a> если это вариант; иным образом использовать .nc .</li>
<li class="">Укажите тип дайджеста файлов, который будет создан для каждого файла данных и для всего пакета архивов: MD5, SHA-1 или SHA-256. Дайджест файлов обеспечивает путь для клиента (например, NCEI) Чтобы проверить, поврежден ли файл данных. Традиционно это были <a href="https://en.wikipedia.org/wiki/MD5" target="_blank" rel="noopener noreferrer" class="">.md5 файлы</a> Но теперь есть лучшие варианты. Для NCEI используйте SHA-256.</li>
</ul>
<p>После того, как вы ответите на все вопросы, ArchiveADataset:</p>
<ol>
<li class="">
<p>Сделайте серию запросов к набору данных и поставьте полученные файлы данных в <em>BigParent Директория</em> /ArchiveADataset/ * datasetID \_timestamp* /.
Для сетчатых наборов данных будет файл для каждого значения самого левого измерения. (Например, время) . Имя файла будет таким значением. (Например, временная стоимость) .
Для табличных наборов данных будет файл для каждого значения ... переменной (s) . Имя файла будет таким значением. Если существует более одной переменной, левые переменные будут использоваться для создания имен подкаталогов, а правая переменная будет использоваться для создания имен файлов.
Каждый файл данных должен быть&lt;2 ГБ (Максимально допустимый .nc Версия 3 Файлы) .</p>
</li>
<li class="">
<p>Сделайте файл, связанный с каждым файлом данных, с дайджестом файла данных. Например, если файл данных 46088 .nc и тип дайджеста .sha256, тогда файл дайджеста будет иметь имя 46088 .nc .sha256.</p>
</li>
<li class="">
<p>Сделайте файл READ\_ME.txt с информацией об архиве, включая список всех настроек, которые вы указали для создания этого архива.</p>
</li>
<li class="">
<p>Создайте 3 файла в <em>BigParent Директория</em> /ArchiveADataset/:</p>
<ul>
<li class="">А. .zip или .tar  .gz Архивный файл с именем * datasetID \_timestamp*  .zip   (или .tar  .gz ) содержит все постановочные файлы данных и файлы дайджеста. Этот файл может быть любого размера, ограниченного только дисковым пространством.</li>
<li class="">Дайджест-файл для архивного файла, например, * datasetID \_timestamp*  .zip .sha256.txt</li>
<li class="">Для «оригинального» типа архива используется текстовый файл с именем * datasetID \_timestamp*  .zip .listOfFiles.txt (или .tar  .gz ) который содержит все файлы в .zip   (или .tar  .gz ) Файл.</li>
</ul>
</li>
</ol>
<p>Если вы готовите архив для NCEI, это файлы, которые вы отправите в NCEI. <a href="https://www.nodc.noaa.gov/s2n/" target="_blank" rel="noopener noreferrer" class="">Отправить 2NCEI</a> или <a href="https://www.ncdc.noaa.gov/atrac/index.html" target="_blank" rel="noopener noreferrer" class="">АТРАК</a>   (Расширенный инструмент отслеживания и ресурсов NCEI для архивных коллекций) .
5. Удалите все постановочные файлы, чтобы только архивный файл (например, .zip ) , дайджест (Например, .sha256.txt) из архива и (необязательно) Файлы .listOfFiles.txt остаются.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="iso-19115-xml-metadata-files">ISO 19115.xml Файлы метаданных<a href="#iso-19115-xml-metadata-files" class="hash-link" aria-label="Прямая ссылка наISO 19115.xml Файлы метаданных" title="Прямая ссылка наISO 19115.xml Файлы метаданных" translate="no">​</a></h4>
<p>Пакет архивов ArchiveADataset не включает в себя файл метаданных ISO 19115 .xml для набора данных. Если вы хотите / должны отправить файл ISO 19115 для своего набора данных в NCEI, вы можете отправить им файл метаданных ISO 19115 .xml, который ERDDAP™ Создан для набора данных (но NMFS Люди должны получить файл ISO 19115 для своих наборов данных из InPort. ERDDAP™ уже не обслуживает этот файл) .</p>
<p>Проблемы? Предложения? ArchiveAdataset является новым. Если у вас есть проблемы или предложения, см. <a class="" href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a> .
 </p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/additional-information.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Редактировать эту страницу</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Страницы Docs"><a class="pagination-nav__link pagination-nav__link--prev" href="/ru/docs/server-admin/datasets"><div class="pagination-nav__sublabel">Предыдущий</div><div class="pagination-nav__label">Работая с datasets.xml Файл</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ru/docs/server-admin/scaling"><div class="pagination-nav__sublabel">Следующий</div><div class="pagination-nav__label">масштабирование</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#things-you-need-to-know" class="table-of-contents__link toc-highlight">Вещи, которые нужно знать</a><ul><li><a href="#proxy-errors" class="table-of-contents__link toc-highlight">** Прокси-ошибки **</a></li><li><a href="#monitoring" class="table-of-contents__link toc-highlight">Мониторинг</a></li><li><a href="#multiple-simultaneous-requests" class="table-of-contents__link toc-highlight">Несколько одновременных Запросы</a></li><li><a href="#erddap-getting-data-from-thredds" class="table-of-contents__link toc-highlight">ERDDAP™ Получение данных из THREDDS</a></li><li><a href="#responding-slowly" class="table-of-contents__link toc-highlight">Медленно ответить</a></li><li><a href="#shut-down-and-restart" class="table-of-contents__link toc-highlight">Закрыть и перезапустить</a></li><li><a href="#frequent-crashes-or-freezes" class="table-of-contents__link toc-highlight">Частые сбои или заморозки</a></li><li><a href="#monitor" class="table-of-contents__link toc-highlight">Монитор</a></li><li><a href="#tomcat-logs" class="table-of-contents__link toc-highlight">Логотип Tomcat</a></li><li><a href="#e-mail-log" class="table-of-contents__link toc-highlight">Электронная почта</a></li><li><a href="#daily-report" class="table-of-contents__link toc-highlight">Ежедневный отчет</a></li><li><a href="#status-page" class="table-of-contents__link toc-highlight">Страница статуса</a></li><li><a href="#addingchanging-datasets" class="table-of-contents__link toc-highlight">Добавление/изменение наборов данных</a></li><li><a href="#memory-status" class="table-of-contents__link toc-highlight">Состояние памяти</a></li><li><a href="#too-many-open-files" class="table-of-contents__link toc-highlight">Слишком много открытых файлов</a></li><li><a href="#failed-requests" class="table-of-contents__link toc-highlight">Неудачные запросы</a></li><li><a href="#robotstxt" class="table-of-contents__link toc-highlight">robots.txt</a></li><li><a href="#sitemapxml" class="table-of-contents__link toc-highlight">sitemap.xml</a></li><li><a href="#data-dissemination--data-distribution-networks-push-and-pull-technology" class="table-of-contents__link toc-highlight">Распространение данных / Data Distribution Сети: Push и Pull Технология</a></li><li><a href="#security-authentication-and-authorization" class="table-of-contents__link toc-highlight">Безопасность, аутентификация и авторизация</a></li></ul></li><li><a href="#things-you-dont-need-to-know" class="table-of-contents__link toc-highlight">Вещи, которые вам не нужно знать</a><ul><li><a href="#second-erddap" class="table-of-contents__link toc-highlight">Второй ERDDAP™</a></li><li><a href="#solid-state-drives" class="table-of-contents__link toc-highlight">Твердое государство ездит</a></li><li><a href="#heavy-loads--constraints" class="table-of-contents__link toc-highlight">Тяжелые грузы / ограничения  **</a></li><li><a href="#grids-clusters-and-federations" class="table-of-contents__link toc-highlight">Сети, кластеры и федерации</a></li><li><a href="#cloud-computing" class="table-of-contents__link toc-highlight">Облачные вычисления</a></li><li><a href="#amazon" class="table-of-contents__link toc-highlight">Amazon</a></li><li><a href="#waitthentryagain-exception" class="table-of-contents__link toc-highlight">В ожидании повторного исключения</a></li><li><a href="#files-not-being-deleted" class="table-of-contents__link toc-highlight">Файлы не удаляются</a></li><li><a href="#json-ld" class="table-of-contents__link toc-highlight">ДЖОН-ЛД</a></li><li><a href="#out-of-date-urls" class="table-of-contents__link toc-highlight">Out-Of-Date URL</a></li><li><a href="#cors" class="table-of-contents__link toc-highlight">Корсы</a></li><li><a href="#palettes" class="table-of-contents__link toc-highlight">Палетки</a></li><li><a href="#colorbars" class="table-of-contents__link toc-highlight">Колорбары</a></li><li><a href="#guidelines-for-data-distribution-systems" class="table-of-contents__link toc-highlight">Руководящие принципы для систем распределения данных</a></li><li><a href="#archiveadataset" class="table-of-contents__link toc-highlight">Архив данных</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Докс</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ru/docs/intro">Документация</a></li><li class="footer__item"><a class="footer__link-item" href="/ru/docs/contributing">Вклад</a></li><li class="footer__item"><a class="footer__link-item" href="/ru/license">Лицензия</a></li><li class="footer__item"><a class="footer__link-item" href="/ru/changes">Изменения</a></li><li class="footer__item"><a class="footer__link-item" href="/ru/cloud">облако</a></li><li class="footer__item"><a class="footer__link-item" href="/ru/docs/intro#support">Поддержка/Контакт</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">сообщество</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ru/governance">Управление</a></li><li class="footer__item"><a class="footer__link-item" href="/ru/technical-board">Технический совет</a></li><li class="footer__item"><a href="https://groups.google.com/g/erddap" target="_blank" rel="noopener noreferrer" class="footer__link-item">ERDDAP™Пользовательская группа<svg width="13.5" height="13.5" aria-label="(открывается в новой вкладке)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://groups.google.com/g/erddap-announce" target="_blank" rel="noopener noreferrer" class="footer__link-item">ERDDAP™Объявлять<svg width="13.5" height="13.5" aria-label="(открывается в новой вкладке)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/ERDDAP/erddap/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(открывается в новой вкладке)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/ru/credits">Кредиты</a></li><li class="footer__item"><a class="footer__link-item" href="/ru/acknowledgements">Признания</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Принесенные тебе</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.noaa.gov" target="_blank" rel="noopener noreferrer" class="footer__link-item">NOAA<svg width="13.5" height="13.5" aria-label="(открывается в новой вкладке)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.fisheries.noaa.gov" target="_blank" rel="noopener noreferrer" class="footer__link-item">NMFS<svg width="13.5" height="13.5" aria-label="(открывается в новой вкладке)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.fisheries.noaa.gov/about/southwest-fisheries-science-center" target="_blank" rel="noopener noreferrer" class="footer__link-item">SWFSC<svg width="13.5" height="13.5" aria-label="(открывается в новой вкладке)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.fisheries.noaa.gov/about/environmental-research-division-southwest-fisheries-science-center" target="_blank" rel="noopener noreferrer" class="footer__link-item">ERD<svg width="13.5" height="13.5" aria-label="(открывается в новой вкладке)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">ERDDAP™Версия 2.29.0. Авторское право © 2026ERDDAP™. Построен с помощью Docusaurus.</div></div></div></footer></div>
</body>
</html>