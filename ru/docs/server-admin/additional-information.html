<!doctype html>
<html lang="ru" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-server-admin/additional-information" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">additional-information | ERDDAP™ Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://erddap.github.io/ru/img/noaa_simple.gif"><meta data-rh="true" name="twitter:image" content="https://erddap.github.io/ru/img/noaa_simple.gif"><meta data-rh="true" property="og:url" content="https://erddap.github.io/ru/docs/server-admin/additional-information"><meta data-rh="true" property="og:locale" content="ru"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="bn"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" property="og:locale:alternate" content="zt"><meta data-rh="true" property="og:locale:alternate" content="cs"><meta data-rh="true" property="og:locale:alternate" content="da"><meta data-rh="true" property="og:locale:alternate" content="nl"><meta data-rh="true" property="og:locale:alternate" content="fi"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" property="og:locale:alternate" content="el"><meta data-rh="true" property="og:locale:alternate" content="hi"><meta data-rh="true" property="og:locale:alternate" content="hu"><meta data-rh="true" property="og:locale:alternate" content="id"><meta data-rh="true" property="og:locale:alternate" content="ga"><meta data-rh="true" property="og:locale:alternate" content="it"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" property="og:locale:alternate" content="ko"><meta data-rh="true" property="og:locale:alternate" content="nb"><meta data-rh="true" property="og:locale:alternate" content="pl"><meta data-rh="true" property="og:locale:alternate" content="pt"><meta data-rh="true" property="og:locale:alternate" content="ro"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="sv"><meta data-rh="true" property="og:locale:alternate" content="tl"><meta data-rh="true" property="og:locale:alternate" content="th"><meta data-rh="true" property="og:locale:alternate" content="tr"><meta data-rh="true" property="og:locale:alternate" content="uk"><meta data-rh="true" property="og:locale:alternate" content="ur"><meta data-rh="true" name="docusaurus_locale" content="ru"><meta data-rh="true" name="docsearch:language" content="ru"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="additional-information | ERDDAP™ Documentation"><meta data-rh="true" name="description" content="ERDDAP™- Создайте свой собственныйERDDAP™"><meta data-rh="true" property="og:description" content="ERDDAP™- Создайте свой собственныйERDDAP™"><link data-rh="true" rel="icon" href="/ru/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://erddap.github.io/ru/docs/server-admin/additional-information"><link data-rh="true" rel="alternate" href="https://erddap.github.io/docs/server-admin/additional-information" hreflang="en"><link data-rh="true" rel="alternate" href="https://erddap.github.io/bn/docs/server-admin/additional-information" hreflang="bn"><link data-rh="true" rel="alternate" href="https://erddap.github.io/zh/docs/server-admin/additional-information" hreflang="zh"><link data-rh="true" rel="alternate" href="https://erddap.github.io/zt/docs/server-admin/additional-information" hreflang="zt"><link data-rh="true" rel="alternate" href="https://erddap.github.io/cs/docs/server-admin/additional-information" hreflang="cs"><link data-rh="true" rel="alternate" href="https://erddap.github.io/da/docs/server-admin/additional-information" hreflang="da"><link data-rh="true" rel="alternate" href="https://erddap.github.io/nl/docs/server-admin/additional-information" hreflang="nl"><link data-rh="true" rel="alternate" href="https://erddap.github.io/fi/docs/server-admin/additional-information" hreflang="fi"><link data-rh="true" rel="alternate" href="https://erddap.github.io/fr/docs/server-admin/additional-information" hreflang="fr"><link data-rh="true" rel="alternate" href="https://erddap.github.io/de/docs/server-admin/additional-information" hreflang="de"><link data-rh="true" rel="alternate" href="https://erddap.github.io/el/docs/server-admin/additional-information" hreflang="el"><link data-rh="true" rel="alternate" href="https://erddap.github.io/hi/docs/server-admin/additional-information" hreflang="hi"><link data-rh="true" rel="alternate" href="https://erddap.github.io/hu/docs/server-admin/additional-information" hreflang="hu"><link data-rh="true" rel="alternate" href="https://erddap.github.io/id/docs/server-admin/additional-information" hreflang="id"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ga/docs/server-admin/additional-information" hreflang="ga"><link data-rh="true" rel="alternate" href="https://erddap.github.io/it/docs/server-admin/additional-information" hreflang="it"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ja/docs/server-admin/additional-information" hreflang="ja"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ko/docs/server-admin/additional-information" hreflang="ko"><link data-rh="true" rel="alternate" href="https://erddap.github.io/nb/docs/server-admin/additional-information" hreflang="nb"><link data-rh="true" rel="alternate" href="https://erddap.github.io/pl/docs/server-admin/additional-information" hreflang="pl"><link data-rh="true" rel="alternate" href="https://erddap.github.io/pt/docs/server-admin/additional-information" hreflang="pt"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ro/docs/server-admin/additional-information" hreflang="ro"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ru/docs/server-admin/additional-information" hreflang="ru"><link data-rh="true" rel="alternate" href="https://erddap.github.io/es/docs/server-admin/additional-information" hreflang="es"><link data-rh="true" rel="alternate" href="https://erddap.github.io/sv/docs/server-admin/additional-information" hreflang="sv"><link data-rh="true" rel="alternate" href="https://erddap.github.io/tl/docs/server-admin/additional-information" hreflang="tl"><link data-rh="true" rel="alternate" href="https://erddap.github.io/th/docs/server-admin/additional-information" hreflang="th"><link data-rh="true" rel="alternate" href="https://erddap.github.io/tr/docs/server-admin/additional-information" hreflang="tr"><link data-rh="true" rel="alternate" href="https://erddap.github.io/uk/docs/server-admin/additional-information" hreflang="uk"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ur/docs/server-admin/additional-information" hreflang="ur"><link data-rh="true" rel="alternate" href="https://erddap.github.io/docs/server-admin/additional-information" hreflang="x-default"><link rel="stylesheet" href="/ru/assets/css/styles.1015a39a.css">
<script src="/ru/assets/js/runtime~main.6a4f952f.js" defer="defer"></script>
<script src="/ru/assets/js/main.d338606b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Пропустить основной контент"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Пропустить основной контент</a></div><nav aria-label="Главный" class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Навигационная панель Toggle" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ru/"><div class="navbar__logo"><img src="/ru/img/noaab.png" alt="NOAAлоготип" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/ru/img/noaab.png" alt="NOAAлоготип" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">ERDDAP™</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Русский</a><ul class="dropdown__menu"><li><a href="/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/bn/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="bn">বাংলা</a></li><li><a href="/zh/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">中文</a></li><li><a href="/zt/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zt">Zt</a></li><li><a href="/cs/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="cs">Čeština</a></li><li><a href="/da/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="da">Dansk</a></li><li><a href="/nl/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="nl">Nederlands</a></li><li><a href="/fi/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fi">Suomi</a></li><li><a href="/fr/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/de/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="/el/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="el">Ελληνικά</a></li><li><a href="/hi/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="hi">हिन्दी</a></li><li><a href="/hu/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="hu">Magyar</a></li><li><a href="/id/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="id">Indonesia</a></li><li><a href="/ga/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ga">Gaeilge</a></li><li><a href="/it/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="it">Italiano</a></li><li><a href="/ja/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/ko/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">한국어</a></li><li><a href="/nb/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="nb">Norsk bokmål</a></li><li><a href="/pl/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pl">Polski</a></li><li><a href="/pt/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Português</a></li><li><a href="/ro/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ro">Română</a></li><li><a href="/ru/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ru">Русский</a></li><li><a href="/es/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/sv/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="sv">Svenska</a></li><li><a href="/tl/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="tl">Filipino</a></li><li><a href="/th/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="th">ไทย</a></li><li><a href="/tr/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="tr">Türkçe</a></li><li><a href="/uk/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="uk">Українська</a></li><li><a href="/ur/docs/server-admin/additional-information" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ur">اردو</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ru/docs/intro">Докс</a><a class="navbar__item navbar__link" href="/ru/governance">Управление</a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Поиск" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/erddap/erddap" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS darkNavbarColorModeToggle_X3D1" type="button" disabled="" title="Переключение между темным и светлым режимом (в настоящее время)световой режим)" aria-label="Переключение между темным и светлым режимом (в настоящее время)световой режим)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Скачать Back to Top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Док сайдбар" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ru/docs/intro">Документация Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/ru/docs/category/server-administration">Управление сервером</a><button aria-label="Категория коллапса боковой панели &quot;Управление сервером&quot;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/deploy-install">устанавливать</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/deploy-update">обновление</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/datasets">ERDDAP™ - Working with the datasets.xml File</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ru/docs/server-admin/additional-information">additional-information</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/scaling">Scaling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/EDDTableFromEML">EDDTableFromEML</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/server-admin/display-info">displayInfo and displayAttribute</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ru/docs/category/contributing">Вклад</a><button aria-label="Расширение категории боковой панели &quot;Вклад&quot;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ru/docs/dokka">Dataset Scripts Code Документация</a><button aria-label="Расширение категории боковой панели &quot;Dataset Scripts Code Документация&quot;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ru/docs/category/user">Пользователь</a><button aria-label="Расширение категории боковой панели &quot;Пользователь&quot;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Хлебные крошки"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Домашняя страница" class="breadcrumbs__link" href="/ru/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/ru/docs/category/server-administration"><span itemprop="name">Управление сервером</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">additional-information</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">На этой странице</button></div><div class="theme-doc-markdown markdown"><header><h1>additional-information</h1></header><p>ERDDAP™- Создайте свой собственныйERDDAP™</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="things-you-need-to-know">Вещи, которые нужно знать<a href="#things-you-need-to-know" class="hash-link" aria-label="Прямая ссылка наВещи, которые нужно знать" title="Прямая ссылка наВещи, которые нужно знать">​</a></h2>
<p> </p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="proxy-errors"><strong><a href="#proxy-errors">Прокси-ошибки</a></strong><a href="#proxy-errors" class="hash-link" aria-label="Прямая ссылка наproxy-errors" title="Прямая ссылка наproxy-errors">​</a></h3>
<p>Иногда просьба оERDDAP™Возвращается ошибка прокси, ошибка HTTP 502 Bad Gateway или подобная ошибка. Эти ошибки выбрасываются Apache или Tomcat, а неERDDAP™себя.</p>
<ul>
<li>Если каждый запрос генерирует эти ошибки, особенно когда вы впервые настраиваете свой сайт.ERDDAP™Тогда это, вероятно, ошибка прокси или плохой шлюз, и решение, вероятно, исправить.<a href="/ru/docs/server-admin/deploy-install#proxypass">ERDDAPнастройки прокси</a>. Это также может быть проблемой при установленииERDDAP™Внезапно начинаются эти ошибки для каждого запроса.</li>
<li>В противном случае ошибки «прокси» обычно являются ош ибками тайм-аута, выброшенными Apache или Tomcat. Даже когда они происходят относительно быстро, это какая-то реакция от Apache или Tomcat, которая возникает, когда они появляются.ERDDAP™Он очень занят, ограничен памятью или ограничен каким-либо другим ресурсом. В этих случаях см. советы ниже, чтобы иметь дело с<a href="#responding-slowly">ERDDAP™медленно реагирует</a>.</li>
</ul>
<p>Запросы на длительный срок (30 временных точек) из сетчатого набора данных склонны к сбоям тайм-аута, которые часто появляются как ошибки прокси, потому что это занимает значительное время дляERDDAP™Открыть все файлы данных один за другим. ЕслиERDDAP™Если он занят во время запроса, проблема, скорее всего, возникнет. Если файлы набора данных сжаты, проблема чаще возникает, хотя пользователю трудно определить, сжаты ли файлы набора данных.
Решение состоит в том, чтобы сделать несколько запросов, каждый с меньшим временным диапазоном. Насколько мал временной диапазон? Предлагаю начать с малого (~30 временных точек?) Тогда (приблизительно) Удвоить временной диапазон до тех пор, пока запрос не выйдет из строя, а затем вернуться к удвоению. Затем сделайте все запросы (Для каждого отдельного отрезка времени) Нужно было получить все данные.
АнERDDAP™администратор может уменьшить эту проблему за счет увеличения<a href="/ru/docs/server-admin/deploy-install#apache-timeout">Настройки тайм-аута Apache</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring">Мониторинг<a href="#monitoring" class="hash-link" aria-label="Прямая ссылка наМониторинг" title="Прямая ссылка наМониторинг">​</a></h3>
<p>Мы все хотим, чтобы наши службы обработки данных находили свою аудиторию и широко использовались, но иногда ваши данные могут быть удалены.ERDDAP™Может использоваться слишком много, вызывая проблемы, включая сверхмедленные ответы на все запросы. Наш план, чтобы избежать проблем:</p>
<ul>
<li>МониторERDDAP™через<a href="#status-page">status.html веб-страница</a>.
Он содержит тонны полезной информации. Если вы видите, что поступает огромное количество запросов, или используется тонна памяти, или тонны неудавшихся запросов, или каждый крупный набор данных занимает много времени, или видите какие-либо признаки того, что вещи увязают и медленно реагируют, то посмотрите вERDDAP?<a href="#log">log.txt файл</a>посмотреть, что происходит.</li>
</ul>
<p>Также полезно просто отметить, как быстро реагирует страница статуса. Если он реагирует медленно, это важный показатель.ERDDAP™Очень занят.</p>
<ul>
<li>МониторERDDAP™через<a href="#daily-report">Ежедневный отчет</a>Электронная почта.
 </li>
<li>Следите за устаревшими наборами данных через <em>основание</em> /erddap/outOfDateDatasets.htmlвеб-страница, которая основана на опциональном<a href="/ru/docs/server-admin/datasets#testoutofdate">testOutOfDate</a>Глобальный атрибут.
 </li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="external-monitors">Внешние мониторы<a href="#external-monitors" class="hash-link" aria-label="Прямая ссылка наВнешние мониторы" title="Прямая ссылка наВнешние мониторы">​</a></h4>
<p>Методы, перечисленные выше, являютсяERDDAPСпособы самоконтроля. Вы также можете создавать или использовать внешние системы для мониторинга.ERDDAP. Один из проектов, чтобы сделать это<a href="https://github.com/axiom-data-science/erddap-metrics" target="_blank" rel="noopener noreferrer">Проект erddap-метрики Axiom</a>. Такие внешние системы имеют ряд преимуществ:</p>
<ul>
<li>Они могут быть настроены для предоставления необходимой вам информации, отображаемой так, как вы хотите.</li>
<li>Они могут включать информацию оERDDAP™этоERDDAP™не может получить доступ легко или вообще (например, использование процессора, дискового пространства);ERDDAP™время отклика, как видно с точки зрения пользователя,ERDDAP™безотказный</li>
<li>Они могут предупреждать (электронные письма, телефонные звонки, тексты) администраторам, когда проблемы превышают определенный порог.
 </li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="multiple-simultaneous-requests">Несколько одновременных Запросы<a href="#multiple-simultaneous-requests" class="hash-link" aria-label="Прямая ссылка наНесколько одновременных Запросы" title="Прямая ссылка наНесколько одновременных Запросы">​</a></h3>
<ul>
<li><strong>Пользователи черного списка делают несколько одновременных запросов!</strong>
Если понятно, что какой-то пользователь делает более одного одновременного запроса, многократно и непрерывно, то добавьте свой IP-адрес кERDDAP[&lt;Черный список&gt;&gt; (/docs/server-admin/datasets#requestblacklist) в твоемdatasets.xmlФайл. Иногда все запросы поступают с одного IP-адреса. Иногда они от нескольких IP-адресов, но явно одного и того же пользователя. Вы также можете занести в черный список людей, делающих тонны недействительных запросов или тонны умопомрачительно неэффективных запросов.</li>
</ul>
<p>Для каждой просьбы, которую они делают,ERDDAP™Возврат:</p>
<blockquote>
<p>HTTP ERROR 403 - Access Forbidden --<br>
<!-- -->Your IP address is on this ERDDAP&#x27;s request blacklist.<br>
<!-- -->Did you often submit more than one request at a time?<br>
<!-- -->Did you often submit identical requests in a short period of time?<br>
<!-- -->Did you submit a large number of invalid requests?<br>
<!-- -->If you are ready to avoid these problems, please email \[ERDDAP™ administrator&#x27;s email address\] to request to be taken off of the blacklist.</p>
</blockquote>
<p>Надеемся, что пользователь увидит это сообщение и свяжется с вами, чтобы узнать, как исправить проблему и выйти из черного списка. Иногда они просто переключают IP-адреса и пытаются снова.</p>
<p>Это как баланс сил между наступательным и оборонительным оружием в войне. Здесь оборонительное оружие (ERDDAP) имеют фиксированную емкость, ограниченную количеством ядер в процессоре, пропускной способностью дискового доступа и пропускной способностью сети. Но наступательное оружие (Пользователи, особенно скрипты) Неограниченные возможности:</p>
<ul>
<li>Один запрос данных из многих временных точек может привести кERDDAPЧтобы открыть огромное количество файлов (в последовательности или частично многопоточной) . В крайних случаях один «простой» запрос может легко связать RAID, прилагаемый к нему.ERDDAP™на минуту, эффективно блокируя обработку других запросов.
 </li>
<li>Один запрос может потреблять большую часть памяти. (Даже еслиERDDAP™кодируется для минимизации памяти, необходимой для обработки больших запросов;) .
 </li>
<li>Параллельность -
Умному пользователю легко распараллеливать большую задачу, генерируя множество потоков, каждый из которых отправляет отдельный запрос. (который может быть большим или маленьким) . Это поведение поощряется сообществом компьютерных наук как эффективный способ решения большой проблемы. (Параллелизм эффективен в других ситуациях.) . Возвращаясь к военной аналогии: пользователи могут делать практически неограниченное количество одновременных запросов, при этом стоимость каждого из них практически равна нулю.ERDDAP™Они могут быть большими иERDDAPСпособность реагировать конечна. Очевидно,ERDDAP™Мы проиграем эту битву, еслиERDDAP™Администратор заносит в черный список пользователей, которые делают несколько одновременных запросов, которые несправедливо вытесняют других пользователей.
 </li>
<li>Несколько сценариев -
Теперь подумайте о том, что происходит, когда несколько умных пользователей запускают параллельные сценарии. Если один пользователь может генерировать так много запросов, что другие пользователи вытеснены, то несколько таких пользователей могут генерировать так много запросов.ERDDAP™становится перегруженным и, казалось бы, не реагирующим. Фактически это a<a href="https://en.wikipedia.org/wiki/Denial-of-service_attack" target="_blank" rel="noopener noreferrer">DDoS атака</a>Единственная защита дляERDDAP™В черный список попадают пользователи, делающие несколько одновременных запросов, которые несправедливо вытесняют других пользователей.
 </li>
<li>Завышенные ожидания -
В этом мире крупных технологических компаний (Amazon, Google, Facebook...) Пользователи ожидают от провайдеров практически неограниченных возможностей. Поскольку эти компании зарабатывают деньги, чем больше у них пользователей, тем больше у них доходов для расширения своей ИТ-инфраструктуры. Таким образом, они могут позволить себе огромную ИТ-инфраструктуру для обработки запросов. И они хитро ограничивают количество запросов и стоимость каждого запроса от пользователей, ограничивая типы запросов, которые пользователи могут сделать, чтобы ни один запрос не был обременительным, и никогда нет причины. (или способ) Пользователи могут делать несколько одновременных запросов. Таким образом, эти огромные технологические компании могут иметь гораздо больше пользователей, чем другие.ERDDAP™Но у них гораздо больше ресурсов и хитрых способов ограничить запросы от каждого пользователя. Это управляемая ситуация для крупных ИТ-компаний. (И они становятся богатыми!) но не дляERDDAP™Установки. Единственная защита дляERDDAP™В черный список попадают пользователи, делающие несколько одновременных запросов, которые несправедливо вытесняют других пользователей.
 </li>
</ul>
<p>Не делайте несколько одновременных запросов, иначе вы попадете в черный список!
 </p>
<p>Очевидно, что лучше всего, если на вашем сервере много ядер, много памяти. (Вы можете выделить много памяти дляERDDAP™Больше, чем когда-либо нужно) и высокая пропускная способность интернет-соединения. Память редко или никогда не является ограничивающим фактором, но пропускная способность сети становится более распространенным ограничивающим фактором. В основном, по мере того, как появляется все больше и больше одновременных запросов, скорость для любого пользователя уменьшается. Это, естественно, замедляет количество поступающих запросов, если каждый пользователь отправляет только один запрос за раз.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="erddap-getting-data-from-thredds">ERDDAP™Получение данных из THREDDS<a href="#erddap-getting-data-from-thredds" class="hash-link" aria-label="Прямая ссылка наERDDAP™Получение данных из THREDDS" title="Прямая ссылка наERDDAP™Получение данных из THREDDS">​</a></h3>
<p>Если выERDDAP™получает часть своих данных из THREDDS на вашем сайте, есть некоторые преимущества для создания копии файлов данных THREDDS (По крайней мере, для самых популярных наборов данных) на другой рейд, чтоERDDAP™иметь доступ к такимERDDAP™Они могут передавать данные из файлов напрямую. вERDМы делаем это для наших самых популярных наборов данных.</p>
<ul>
<li>ERDDAP™Вы можете получить данные напрямую, и вам не придется ждать, пока THREDDS перезагрузит набор данных.</li>
<li>ERDDAP™Вы можете сразу заметить и включить новые файлы данных, поэтому вам не нужно часто приставать к THREDDS, чтобы увидеть, изменился ли набор данных. Смотри.&lt;Обновление EveryNMillis (/docs/server-admin/datasets#updateeverynmillis) .</li>
<li>Загрузка разделена между 2 RAIDS и 2 серверами, вместо того, чтобы запрос был жестким для обоих.ERDDAP™и др.</li>
<li>Вы избегаете проблемы несоответствия, вызванной тем, что у THREDDS есть небольшая проблема. (по умолчанию) Максимальный размер запроса.ERDDAP™У вас есть система для устранения несоответствия, но лучше избегать проблемы.</li>
<li>У вас есть резервная копия данных, что всегда является хорошей идеей.</li>
</ul>
<p>В любом случае, никогда не запускайте THREDDS иERDDAP™В том же Томке. Запустите их в отдельных Tomcats, или лучше, на отдельных серверах.</p>
<p>Мы обнаруживаем, что THREDDS периодически попадает в состояние, когда запросы просто висят. Если выERDDAP™получает данны е от THREDDS, и THREDDS находится в этом состоянии,ERDDAP™Имеет защиту (В нем говорится, что набор данных на основе THREDDS недоступен.) Но это все равно неприятно дляERDDAP™Потому чтоERDDAP™Приходится ждать тайм-аута каждый раз, когда он пытается перезагрузить набор данных с подвешенных THREDDS. Некоторые группы (включаяERD) Избегайте этого, активно перезагружая THREDDS (Например, ночная работа в кроне) .</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="responding-slowly">Медленно ответить<a href="#responding-slowly" class="hash-link" aria-label="Прямая ссылка наМедленно ответить" title="Прямая ссылка наМедленно ответить">​</a></h3>
<ul>
<li><strong>ЕслиERDDAP™Медленно реагирует</strong> Если только некоторые запросы будут реагировать медленно,
Вы можете выяснить, является ли медлительность разумной и временной. (Например, из-за большого количества запросов от скриптов илиWMSпользователи) Или, если что-то необъяснимо неправильно, и вы должны<a href="#shut-down-and-restart">Отключить и перезапустить Tomcat иERDDAP™</a>.</li>
</ul>
<p>ЕслиERDDAP™медленно реагирует, см. ниже советы, чтобы определить причину, которая, надеюсь, позволит вам решить проблему.
У вас может быть определенная отправная точка. (Например, URL конкретного запроса) или расплывчатая отправная точка (например,ERDDAP™медленный) .
Вы можете знать, что пользователь (Например, потому что они написали вам) Или нет.
У вас могут быть другие подсказки или нет.
Поскольку все эти ситуации и все возможные причины проблем размываются вместе, нижеприведенный совет пытается решить все возможные отправные точки и все возможные проблемы, связанные с медленными ответами.</p>
<ul>
<li><strong>Ищите подсказки в<a href="#log">ERDDAPФайл журнала</a></strong>   ( <em>BigParent Директория</em> /logs/log.txt) .
\[В редких случаях есть подсказки в<a href="#tomcat-logs">Файл журнала Tomcat</a>  ( <em>кот</em> /logs/catalina.out) .\]<br>
<!-- -->Ищите сообщения об ошибках
Ищите большое количество запросов от одного (или несколько) Пользователей и, возможно, завладеть большим количеством ресурсов вашего сервера. (память, время процессора, доступ к диску, пропускная способность интернета) .</li>
</ul>
<p>Если проблема связана с <strong>один пользователь</strong> Вы часто можете получить представление о том, кто является пользователем через веб-сервисы.<a href="https://whatismyipaddress.com/ip-lookup" target="_blank" rel="noopener noreferrer"> https://whatismyipaddress.com/ip-lookup </a>которые могут предоставить вам информацию, связанную с IP-адресом пользователя (которые вы можете найти вERDDAP?<a href="#log">log.txt</a>файл) .</p>
<ul>
<li>Если пользователю кажется, что <strong>бот</strong> плохо себя вести (В частности, поисковая система, пытающаяся заполнитьERDDAP™формы со всеми возможными перестановками входных значений) Убедитесь, что вы правильно настроили свой сервер<a href="#robotstxt">robots.txt</a>Файл.</li>
<li>Если пользователю кажется, что **сценарий (s) ** Выполняя несколько одновременных запросов, свяжитесь с пользователем, объясните, чтоERDDAP™ограниченные ресурсы (Например, память, время процессора, доступ к диску, пропускная способность Интернета) И попросите их быть внимательными к другим пользователям и просто сделать один запрос за раз. Вы также можете упомянуть, что вы занесете их в черный список, если они не отступят.</li>
<li>Если пользователю кажется, что <strong>сценарий</strong> Делая большое количество трудоемких запросов, попросите пользователя быть внимательным к другим пользователям, поставив небольшую паузу. (2 секунды?) В сценарии между запросами.</li>
<li><strong>WMSклиентское программное обеспечение</strong> Может быть очень требовательным. Один клиент часто запрашивает 6 пользов ательских изображений одновременно. Если пользователю кажется, чтоWMSКлиент, который делает законные запросы, может:</li>
<li>Не обращай внимания. (Рекомендовано, потому что они будут двигаться довольно скоро.)</li>
<li>Выключите свой серверWMSСервис черезERDDAPфайл setup.html. (не рекомендуется)</li>
<li>Если запросы кажутся <strong>глупый, безумный, чрезмерный или злобный,</strong> или если вы не можете решить проблему каким-либо другим способом, подумайте о временном или постоянном добавлении IP-адреса пользователя.&lt;Черный список&gt; в вашемdatasets.xmlфайл (/docs/server-admin/datasets#requestblacklist) .
 </li>
<li><strong>Попробуйте продублировать проблему самостоятельно, с вашего компьютера.</strong><br>
<!-- -->Выясните, есть ли проблема с одним набором данных или всеми наборами данных, для одного пользователя или для всех пользователей, для определенных типов запросов и т. Д.
Если вы можете продублировать проблему, попробуйте сузить проблему.
Если вы не можете продублировать проблему, то проблема может быть связана с компьютером пользователя, интернет-соединением пользователя или интернет-соединением вашего учреждения.
 </li>
<li>Если бы только <strong>один набор данных</strong> Медленно реагирует (Возможно, только для <strong>Один тип запроса</strong> от одного пользователя) Проблема может быть:<!-- -->
<ul>
<li>ERDDAPДоступ к исходным данным набора данных (В частности, из реляционных баз данных, Кассандра и удаленных наборов данных.) Это может быть временно или постоянно медленно. Проверьте скорость источника независимо отERDDAP. Если это медленно, вы можете улучшить его.</li>
<li>Связана ли проблема с конкретным запросом или общим типом запроса?
Чем больше запрашиваемое подмножество набора данных, тем больше вероятность того, что запрос потерпит неудачу. Если пользователь делает огромные запросы, попросите пользователя сделать меньшие запросы, которые с большей вероятностью получат быстрый и успешный ответ.</li>
</ul>
</li>
</ul>
<p>Почти все наборы данных лучше обрабатывают некоторые типы запросов, чем другие типы запросов. Например, когда набор данных хранит разные части времени в разных файлах, запросы на данные из огромного количества точек времени могут быть очень медленными. Если текущие запросы имеют сложный тип, рассмотрите возможность предоставления варианта набора данных, оптимизированного для этих запросов. Или просто объясните пользователю, что этот тип запроса является трудным и трудоемким, и попросите его терпения.</p>
<ul>
<li>
<p>Набор данных может быть не оптимально настроен. Вы можете внести изменения в набор данныхdatasets.xmlКусок, чтобы помочьERDDAP™Лучше обрабатывать набор данных. Например,</p>
<ul>
<li>EDDGridНаборы данных из NcFiles, которые получают доступ к данным из сжатых файлов nc4/hdf5, медленны при получении данных для всего географического диапазона. (Например, для карты мира) Все файлы должны быть декомпрессированы. Вы можете конвертировать файлы в несжатые файлы, но тогда потребность в дисковом пространстве будет намного больше. Вероятно, лучше просто принять, что такие наборы данных будут медленными при определенных обстоятельствах.</li>
<li>Конфигурация []&lt;subsetVariables&gt; (/docs/server-admin/datasets#subsetvariables) Тэг оказывает огромное влияние на то, какERDDAP™Обрабатывает EDDTable наборы данных.</li>
<li>Вы можете увеличить<a href="/ru/docs/server-admin/datasets#database-speed">Скорость EDDTable FromDatabase</a>набор данных.</li>
<li>Многие наборы данных EDDTable могут быть ускорены<a href="/ru/docs/server-admin/datasets#eddtablefromfiles">хранить копию данных вNetCDFФайлы Ragged Array</a>которыйERDDAP™Можно читать очень быстро.</li>
</ul>
</li>
</ul>
<p>Если вы хотите помочь ускорить определенный набор данных, включите описание проблемы и часть набора данных.datasets.xmlУвидеть наш<a href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a>.
 </p>
<ul>
<li>Если <strong>все</strong> вERDDAP™это <strong>всегда</strong> Медленно, проблема может быть:<!-- -->
<ul>
<li>Компьютер, который работаетERDDAP™Может не хватать памяти или вычислительной мощности. Хорошо бегатьERDDAP™на современном многоядерном сервере. Для интенсивного использования сервер должен иметь 64-разрядную операционную систему и 8 ГБ или более памяти.</li>
<li>Компьютер, который работаетERDDAP™Также могут быть запущены другие приложения, которые потребляют много системных ресурсов. Если это так, вы можете получить выделенный сервер дляERDDAP? Например, (Это не одобрение) Вы можете получить четырехъядерный Mac Mini Server с 8 ГБ памяти за ~ 1100 долларов.
 </li>
</ul>
</li>
<li>Если <strong>все</strong> вERDDAP™это <strong>временно</strong> Медленно, смотритеERDDAP?<a href="#status-page"> <strong>/erddap/status.htmlстраница</strong> </a>в вашем браузере.<!-- -->
<ul>
<li>Делает этоERDDAP™Статус страницы не загружается?
Если да,<a href="#shut-down-and-restart">возобновитьERDDAP™</a>.</li>
<li>Сдела л этоERDDAP™Статус страницы загружается медленно (Например, &gt;5 секунд) ?
Это признак того, что все вERDDAP™Бежит медленно, но это не обязательно проблема.ERDDAP™Может быть, просто очень занят.</li>
<li>&quot;Ответ неудавшегося времени&quot; (Последний крупный набор данных LoadDatasets) &quot;, n = большое число?
Это говорит о том, что в последнее время было много неудачных запросов. Это может быть проблемой или началом проблемы. Среднее время неудач часто велико. (например, 210000 мс) ,
Это означает, что были (Правда?) Много активных нитей.
Которые привязывали много ресурсов (как память, открытые файлы, открытые розетки,) ,
Что не очень хорошо.</li>
<li>За &quot;Ответ Успешное Время&quot; (Последний крупный набор данных LoadDatasets) &quot;, n = большое число?
Это говорит о том, что в последнее время было много успешных запросов. Это не проблема. Это просто означает вашERDDAP™Получает интенсивное использование.</li>
<li>Является ли «Количество потоков, не ожидающих Томка», двойным типичным значением?
Это часто является серьезной проблемой, которая может привести кERDDAP™Притормозить и в конце концов замерзнуть. Если это продолжается в течение нескольких часов, вы  можете захотеть проактивно.<a href="#shut-down-and-restart">возобновитьERDDAP™</a>.</li>
<li>В нижней части списка «Сводка использования памяти» последнее значение «Память: в настоящее время использование» очень высокое?
Это может просто указывать на высокое использование, или это может быть признаком проблемы.</li>
<li>Посмотрите на список нитей и их статус. Многие ли из них делают что-то необычное?
 </li>
</ul>
</li>
<li>это <strong>Интернет-соединение вашего учреждения</strong> Сейчас медленно?
Ищите в Интернете «тест скорости интернета» и используйте один из бесплатных онлайн-тестов.<a href="https://www.speakeasy.net/speedtest/" target="_blank" rel="noopener noreferrer"> https://www.speakeasy.net/speedtest/ </a>. Если подключение к Интернету вашего учреждения медленное, то соединения междуERDDAP™удаленные источники данных будут медленными, а соединения между ними будутERDDAP™Пользователь будет медленным. Иногда вы можете решить эту проблему, прекратив ненужное использование Интернета. (Например, люди, которые смотрят потоковое видео или на видеоконференции) .
 </li>
<li>это <strong>Интернет-соединение пользователя</strong> Сейчас медленно?
Попросите пользователя найти в Интернете «тест скорости интернет а» и использовать один из бесплатных онлайн-тестов, таких как:<a href="https://www.speakeasy.net/speedtest/" target="_blank" rel="noopener noreferrer"> https://www.speakeasy.net/speedtest/ </a>. Если интернет-соединение пользователя медленное, оно замедляет его доступ к интернету.ERDDAP. Иногда они могут решить эту проблему, прекратив ненужное использование Интернета в своем учреждении. (Например, люди, которые смотрят потоковое видео или на видеоконференции) .
 </li>
<li><strong>Застрял?</strong><br>
<!-- -->Увидеть наш<a href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="shut-down-and-restart">Закрыть и перезапустить<a href="#shut-down-and-restart" class="hash-link" aria-label="Прямая ссылка наЗакрыть и перезапустить" title="Прямая ссылка наЗакрыть и перезапустить">​</a></h3>
<ul>
<li><strong>Как закрыть и перезапустить TomcatERDDAP™</strong><br>
<!-- -->Вам не нужно закрывать и перезапускать Tomcat.ERDDAPеслиERDDAP™временно медленно, медленно по какой-то известной причине (Как и множество запросов от скриптов илиWMSпользователи) или вносить изменения вdatasets.xmlФайл.</li>
</ul>
<p>Вам нужно закрыть и перезапустить Tomcat иERDDAP™если вам необходимо внести изменения в файл setup.xml илиERDDAP™Зависает, зависает или запирается. В экстр емальных обстоятельствах,JavaМожет замерзнуть на минуту или две, пока он делает полный сбор мусора, но затем восстанавливается. Поэтому лучше подождать минуту или две, чтобы увидеть,Java/ERDDAP™Он действительно заморожен или просто собирает большой мусор. (Если сбор мусора является общей проблемой,<a href="/ru/docs/server-admin/deploy-install#memory">Выделите больше памяти Tomcat</a>.)</p>
<p>Я не рекомендую использовать Tomcat Web Application Manager для запуска или отключения Tomcat. Если вы не полностью отключите и не запустите Tomcat, рано или поздно у вас будут проблемы с памятью PermGen.</p>
<p>Отключить и перезапустить TomcatERDDAP:</p>
<ul>
<li>Если вы используете Linux или Mac:
(Если вы создали специального пользователя для запуска Tomcat, например, Tomcat, не забудьте выполнить следующие действия в качестве этого пользователя.)<br>
<!-- --> <!-- -->
<ol>
<li>Используйте CD <em>кот</em> бин
 </li>
<li>Используйте ps -ef|grep tomcat для поиска процесса java/tomcat ID (Будем надеяться, что будет перечислен только один процесс.) который мы будем называть <em>javaProcessID</em> ниже.
 </li>
<li>ЕслиERDDAP™Заморожено/заперто/заперто, используйте kill -3 <em>javaProcessID</em> рассказыватьJava  (Кто управляет Tomcat) Чтобы сделать сброс потока в файл журнала Tomcat: <em>кот</em> /logs/catalina.out. После перезагрузки вы можете диагностировать проблему, найдя информацию о сбросе потока (и любую другую полезную информацию выше) в <em>кот</em> /logs/catalina.out, а также путем чтения соответствующих частей<a href="#log">ERDDAP™архив</a>. Если вы хотите, вы можете включить эту информацию и посмотреть нашу<a href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a>.
 </li>
<li>Используйте ./shutdown. рубить
 </li>
<li>Используйте ps -ef|Неоднократно греп томкэт до тех пор, пока процесс java/tomcat не будет указан.</li>
</ol>
</li>
</ul>
<p>Иногда процесс Java/tomcat занимает до двух минут. Причина в следующем<!-- -->:ERDDAP<!-- -->™Он посылает сообщение своим фоновым потокам, чтобы сказать им остановиться, но иногда требуется много времени, чтобы добраться до хорошего места остановки.</p>
<ol start="6">
<li>Если через минуту или около того, java/tomcat не останавливается сам по себе, вы можете использовать
Убить -9 <em>javaProcessID</em><br>
<!-- -->Заставить процесс Java/tomcat немедленно прекратиться. Если возможно, используйте это только в крайнем случае. Переключатель -9 мощный, но может вызвать различные проблемы.
 </li>
<li>ПерезапуститьERDDAP™Использовать ./startup.sh
 </li>
<li>ПосмотретьERDDAP™В вашем браузере проверить, что перезагрузка удалась. (Иногда нужно подождать 30 секунд и попытаться загрузиться.ERDDAP™Опять же в вашем браузере, чтобы он преуспел.)<br>
<!-- --> </li>
</ol>
<ul>
<li>Если вы используете Windows:
 <!-- -->
<ol>
<li>Используйте CD <em>кот</em> бин
 </li>
<li>Использоватьshutdown.bat<br>
<!-- --> </li>
<li>Вы можете захотеть использовать диспетчер задач Windows (Доступно через Ctrl Alt Del) Чтобы гарантировать, чтоJava/Томкат/ERDDAP™Процесс/приложение полностью остановлено.
Иногда процесс/приложение отключается на две минуты. Причина в следующем<!-- -->:ERDDAP<!-- -->™Он посылает сообщение своим фоновым потокам, чтобы сказать им остановиться, но иногда требуется много времени, чтобы добраться до хорошего места остановки.
 </li>
<li>ПерезапуститьERDDAP™Скачать Startup.bat
 </li>
<li>ПосмотретьERDDAP™В вашем браузере проверить, что перезагрузка удалась. (Иногда нужно подождать 30 секунд и попытаться загрузиться.ERDDAP™Опять же в вашем браузере, чтобы он преуспел.)<br>
<!-- --> </li>
</ol>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="frequent-crashes-or-freezes">Частые сбои или заморозки<a href="#frequent-crashes-or-freezes" class="hash-link" aria-label="Прямая ссылка наЧастые сбои или заморозки" title="Прямая ссылка наЧастые сбои или заморозки">​</a></h3>
<p>ЕслиERDDAP™Становится медленно, падает или замерзает, что-то не так. Посмотри.<a href="#log">ERDDAPФайл журнала</a>Чтобы попытаться выяснить причину. Если вы не можете, пожалуйста, укажите детали и посмотрите наш<a href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a>.</p>
<p>Наиболее распространенной проблемой является проблемный пользователь, который запускает несколько сценариев одновременно и / или кто-то делает большое количество недействительных запросов. Если это произойдет, вы должны занести этого пользователя в черный список. Когда пользователь в черном списке делает запрос, сообщение об ошибке в ответе побуждает его отправить вам электронное письмо, чтобы решить проблемы. Затем вы можете побудить их запускать только один сценарий за раз и исправлять проблемы в своем сценарии. (Например, запрос данных из удаленного набора данных, который не может ответить до истечения времени) . Смотри.&lt;Черный список&gt; в вашемdatasets.xmlфайл (/docs/server-admin/datasets#requestblacklist) .</p>
<p>В экстремальных обстоятельствах,JavaМожет замерзнуть на минуту или две, пока он делает полный сбор мусора, но затем восстанавливается. Поэтому лучше подождать минуту или две, чтобы увидеть,Java/ERDDAP™Он действительно заморожен или просто собирает большой мусор. (Если сбор мусора является общей проблемой,<a href="/ru/docs/server-admin/deploy-install#memory">Выделите больше памяти Tomcat</a>.)</p>
<p>ЕслиERDDAP™Он становится медленным или замерзает, и проблема не является проблемным пользователем или длинной сборкой мусора.<a href="#shut-down-and-restart">возобновлениеERDDAP™</a>. Мой опыт показывает, чтоERDDAP™Они могут работать в течение нескольких месяцев без необходимости перезапуска.
 </p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitor">Монитор<a href="#monitor" class="hash-link" aria-label="Прямая ссылка наМонитор" title="Прямая ссылка наМонитор">​</a></h3>
<p>Вы можете следить за своимERDDAPСтатус, глядя на<a href="#status-page">/erddap/status.htmlстраница</a>Особенно статистика в верхнем разделе. ЕслиERDDAP™Он становится медленным или замораживается, и проблема заключается не только в чрезмерно интенсивном использовании, вы обычно можете решить проблему.<a href="#shut-down-and-restart">возобновлениеERDDAP™</a>. Есть дополнительные метрики, доступные через интеграцию Prometheus в /erddap/метрики.</p>
<p>Мой опыт показывает, чтоERDDAP™Они могут работать в течение нескольких месяцев без необходимости перезапуска. Вам нужно только перезапустить его, если вы хотите применить некоторые изменения, которые вы внесли.ERDDAPSetup.xml или когда вам нужно установить новые версииERDDAP™,JavaTomcat или операционная система. Если вам нужно перезапуститьERDDAP™Часто что-то не так. Посмотри.<a href="#log">ERDDAPФайл журнала</a>Чтобы попытаться выяснить причину. Если вы не можете, пожалуйста, укажите детали и посмотрите наш<a href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a>. В качестве временного решения вы можете попробовать использовать<a href="https://mmonit.com/monit/" target="_blank" rel="noopener noreferrer">Монит</a>следить за своимERDDAP™Перезагрузите его, если это необходимо. Или вы можете сделать крон работу, чтобы перезапуститьERDDAP™  (активно) периодически. Может быть немного сложно написать сценарий для автоматизации мониторинга и перезапуска.ERDDAP. Некоторые советы, которые могут помочь:</p>
<ul>
<li>Вы можете упростить тестирование, если процесс Tomcat все еще работает, используя переключатель -c с грэпом:
ps -u <em>кот Пользователь</em>  |грэп -c java
Это уменьшит выход до «1», если процесс томка все еще жив, или «0», если процесс остановился.
 </li>
<li>Если вы хорошо разбираетесь в gawk, вы можете извлечь процессID из результатов
ps -u <em>кот Пользователь</em>  |grep java и используйте processID в других строках сценария.
 </li>
</ul>
<p>Если вы настроите Monit или работу cron, было бы здорово, если бы вы могли поделиться подробностями, чтобы другие могли извлечь выгоду из нашей работы.<a href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a>Где вы можете поделиться.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="permgen">Пермген<a href="#permgen" class="hash-link" aria-label="Прямая ссылка наПермген" title="Прямая ссылка наПермген">​</a></h4>
<p>Если вы используете Tomcat Manager для перезагрузки (или остановиться и начать)  ERDDAP™,ERDDAP™Может не запустить и бросить java.lang. Ошибка OutOfMemory: PermGen Решение состоит в том, чтобы периодически (Или каждый раз?)  <a href="#shut-down-and-restart">закрыть и перезапустить Tomcat иERDDAP™</a>Вместо простого перезарядкиERDDAP.
\[Обновление: Эта проблема была сведена к минимуму или решена вERDDAP™Версия 1.24.\]<br>
<!-- --> </p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="log">Лог<a href="#log" class="hash-link" aria-label="Прямая ссылка наЛог" title="Прямая ссы лка наЛог">​</a></h4>
<ul>
<li><strong><a href="#log">log.txt</a></strong><br>
<!-- -->ЕслиERDDAP™не запускается или если что-то работает не так, как ожидалось, очень полезно посмотреть на ошибки и диагностические сообщенияERDDAP™Файл журнала.</li>
<li>Файл журнала является <em>BigParent Директория</em> /logs/log.txt
( <em>BigParent Директория</em> указывается в<a href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a>) . Если нет бревна. Файл txt или журнал. Файл txt не обновлялся с момента перезагрузкиERDDAP™Посмотри в<a href="#tomcat-logs">Файлы журнала Tomcat</a>Проверьте, есть ли там сообщение об ошибке.</li>
<li>Виды диагностических сообщений в файле журнала:<!-- -->
<ul>
<li>Слово «ошибка» используется, когда что-то пошло не так, что процедура не была завершена. Хотя это раздражает, чтобы получить ошибку, ошибка заставляет вас иметь дело с проблемой. Мы думаем, что лучше ошибиться, чем иметьERDDAP™Двигайтесь, работая так, как вы не ожидали.</li>
<li>Слово «предупреждение» используется, когда что-то пошло не так, но процедуру удалось завершить. Они довольно редкие.</li>
<li>Все остальное — лишь информативное сообщение. Вы можете контролировать, сколько информации зарегистрировано [&lt;logLevel&gt; (/docs/server-admin/datasets#loglevel)  datasets.xml.</li>
<li>Перезагрузка набора данных и ответы пользователей, которые занимают более 10 секунд (успешно или безуспешно) Помечены &quot; (&gt;10s!) &quot;. Таким образом, вы можете искать файл log.txt для этой фразы, чтобы найти наборы данных, которые медленно перезагружались, или количество запросов, которые медленно заканчивались. Затем вы можете посмотреть выше в файле log.txt, чтобы увидеть, что такое проблема набора данных или что такое запрос пользователя и от кого он был. Эти медленные нагрузки на набор данных и запросы пользователей иногда облагаются налогом.ERDDAP. Таким образом, знание этих запросов может помочь вам определить и решить проблемы.</li>
</ul>
</li>
<li>Информация записывается в файл журнала на дисководе в довольно больших кусках. Преимущество в том, что это очень эффективно -ERDDAP™Никогда не будет блокировать ожидание информации, которая будет записана в файл журнала. Недостатком является то, что журнал почти всегда заканчивается частичным сообщением, которое не будет завершено, пока не будет написан следующий фрагмент. Вы можете сделать его современным (На мгновение) Посмотреть свойERDDAPСтатус страницы в https://<em>your.domain.org</em>/erddap/status.html   (или<a href="http://%D0%B5%D1%81%D0%BB%D0%B8https%D0%BD%D0%B5" target="_blank" rel="noopener noreferrer">http://еслиhttpsне</a> включен) .</li>
<li>Когда файл log.txt достигает 20 МБ,
Файл переименован в log. txt.previous и новый файл log.txt. Файлы журналов не накапливаются.</li>
</ul>
<p>В setup.xml вы можете указать другой максимальный размер файла журнала в MegaBytes. Разрешенный минимум 1 (МБ) . Максимально допустимый 2000 (МБ) . По умолчанию 20 (МБ) . Например:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;logMaxSizeMB&gt;20&lt;/logMaxSizeMB&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Копировать код в буфер обмена" title="Копия" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Всякий раз, когда вы перезагружаетесьERDDAP™,
ERDDAP™делает архивную копию log.txt и log. txt.предыдущие файлы с отметкой времени в имени файла. Если перед перезагрузкой возникли проблемы, может быть полезно проанализировать эти архивные файлы для подсказок о том, что было проблемой. Вы можете удалить архивные файлы, если они больше не нужны.
 </li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parsing-logtxt">Парсинг log.txt<a href="#parsing-logtxt" class="hash-link" aria-label="Прямая ссылка наПарсинг log.txt" title="Прямая ссылка наПарсинг log.txt">​</a></h5>
<p>ERDDAPЖурнал. Файл txt не предназначен для анализа (Вы можете создавать регулярные выражения, которые извлекают желаемую информацию.) . Он предназначен для того, чтобы помочь человеку понять, что идет не так, когда что-то идет не так. Когда вы отправляете сообщение об ошибке или проблемеERDDAP™Разработчики, когда это возможно, пожалуйста, включите всю информацию из файла log.txt, связанную с неприятным запросом.</p>
<p>По соображениям эффективности,ERDDAP™записывает информацию только для регистрации. txt после накопления большого объема информации. Так что, если вы посетите журнал. После того, как произошла ошибка, информация, связанная с ошибкой, может еще не быть записана на log.txt. Чтобы получить актуальную информацию от log.txt, посетите свой сайт.ERDDAP?<a href="#status-page">status.html</a>. КогдаERDDAP™Процессы, которые запрашивают, смывают всю ожидающую информацию на log.txt.</p>
<p>ДляERDDAP™Статистика использования, пожалуйста, используйте<a href="#tomcat-logs">Apache и/или файлы журналов Tomcat</a>вместо того, чтобыERDDAPlog.txt. Обратите внимание, чтоERDDAP?<a href="#status-page">status.html</a>  (некоторые) и<a href="#daily-report">Ежедневный отчет</a>  (больше) У вас есть большое количество предварительно рассчитанной статистики использования.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tomcat-logs">Логотип Tomcat<a href="#tomcat-logs" class="hash-link" aria-label="Прямая ссылка наЛоготип Tomcat" title="Прямая ссылка наЛоготип Tomcat">​</a></h3>
<p>ЕслиERDDAP™Не запускается, потому что ошибка произошла очень рано.ERDDAPСтартап, сообщение об ошибке появится в файлах журнала Tomcat ( <em>кот</em> /logs/Каталина. <em>сегодня</em> .log или <em>кот</em> /logs/catalina.out) не в<a href="#log">ERDDAPфайл log.txt</a>.</p>
<p>Статистика использования: Для большей части информации, которую люди хотят собрать из файла журнала (Например, статистика использования) Пожалуйста, используйте файлы журналов Apache и/или Tomcat. Они хорошо отформатированы и имеют такую информацию. Существует множество инструментов для их анализа, например:<a href="https://www.awstats.org" target="_blank" rel="noopener noreferrer">AWStats</a>,<a href="https://www.elastic.co/products/kibana" target="_blank" rel="noopener noreferrer">Оригинальное название: ElasticSearch&#x27;s Kibana</a>и<a href="https://jmeter.apache.org" target="_blank" rel="noopener noreferrer">JMeter</a>Но ищите в Интернете, чтобы найти правильный инструмент для ваших целей.</p>
<p>Обратите внимание, что файлы журналов идентифицируют пользователей только как IP-адреса. Есть веб-сайты, которые помогут вам получить информацию, связанную с данным IP-адресом, например,<a href="https://whatismyipaddress.com/ip-lookup" target="_blank" rel="noopener noreferrer">Что такое MyIPAddress</a>Обычно вы не можете найти имя пользователя.</p>
<p>Кроме того, из-за<a href="https://en.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol" target="_blank" rel="noopener noreferrer">ДГКП</a>IP-адрес данного пользователя может отличаться в разные дни, или разные пользователи могут иметь один и тот же IP-адрес в разное время.</p>
<p>Кроме того, вы можете использовать что-то вроде<a href="https://analytics.google.com/analytics/web/provision/?authuser=0#/provision" target="_blank" rel="noopener noreferrer">Google Analytics</a>. Но будьте осторожны: когда вы используете внешние сервисы, такие как Google Analytics, вы отказываетесь от конфиденциальности своих пользователей, предоставляя Google полный доступ к их активности на вашем сайте. (и другие?) Он может храниться вечно и использоваться для любых целей. (Возможно, не технически, но на практике.) . Ваши пользователи не согласились на это и, вероятно, не знают, что они будут отслеживаться на вашем веб-сайте, так же как они, вероятно, не знают о степени их отслеживания почти на всех веб-сайтах. В наши дни многие пользователи очень обеспокоены тем, что все, что они делают в Интернете, контролируется этими крупными компаниями. (Google, Facebook и т.д.) и правительством, и найти это необоснованное вторжение в их жизнь (Как в книге, 1984) . Это заставило многих пользователей устанавливать такие продукты, как<a href="https://www.eff.org/privacybadger/faq" target="_blank" rel="noopener noreferrer">Конфиденциальность Badger</a>Чтобы минимизировать отслеживание, использовать альтернативные браузеры, такие как<a href="https://www.torproject.org/" target="_blank" rel="noopener noreferrer">Tor Браузер</a>  (Отключить отслеживание в традиционных браузерах) и использовать альтернативные поисковые системы, такие как<a href="https://duckduckgo.com/" target="_blank" rel="noopener noreferrer">Дак Дак Го</a>. Если вы используете такую услугу, как Google Analytics, пожалуйста, задокументируйте ее использование и последствия, изменив&lt;StandardPrivacyPolicy&gt; Tag inERDDAP?
\[кот\]/webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml файл.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="e-mail-log">Электронная почта<a href="#e-mail-log" class="hash-link" aria-label="Прямая ссылка наЭлектронная почта" title="Прямая ссылка наЭлектронная почта">​</a></h3>
<ul>
<li><strong>emailLogYEAR-MM-DD.txt</strong><br>
<!-- -->ERDDAP™всегда пишет текст всех текущих сообщений электронной почты в электронной почте текущего дня LogYEAR-MM-DD.txt файл <em>BigParent Директория</em> /logs ( <em>BigParent Директория</em> указывается в<a href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a>) .</li>
<li>Если сервер не может отправлять сообщения электронной почты, или если вы настроилиERDDAP™Чтобы не отправлять сообщения  электронной почты, или если вам просто любопытно, этот файл является удобным способом увидеть все сообщения электронной почты, которые были отправлены.</li>
<li>Вы можете удалить файлы журнала электронной почты предыдущих дней, если они больше не нужны.
 </li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="daily-report">Ежедневный отчет<a href="#daily-report" class="hash-link" aria-label="Прямая ссылка наЕжедневный отчет" title="Прямая ссылка наЕжедневный отчет">​</a></h3>
<p>Ежедневный отчет содержит много полезной информации - всю информацию, полученную от вас.ERDDAP?<a href="#status-page">/erddap/status.htmlстраница</a>и многое другое.</p>
<ul>
<li>Это наиболее полное резюме вашегоERDDAPСтатус.</li>
<li>Среди других статистических данных он включает в себя список наборов данных, которые не загружались, и исключения, которые они генерировали.</li>
<li>Он генерируется, когда вы начинаетеERDDAP™  (только послеERDDAP™Заканчивается попытка загрузить все наборы данных) и генерируется вскоре после 7 утра по местному времени каждое утро.</li>
<li>Всякий раз, когда он создается, он записывается в<a href="#log">ERDDAPфайл log.txt</a>.</li>
<li>Всякий раз, когда он генерируется, он отправляется по электронной почте.&lt;emailDailyReportsTo&gt; и&lt;Электронная почта Все Чтобы (которые указаны в<a href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a>) Если вы создали систему электронной почты (в setup.xml) .</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="status-page">Страница статуса<a href="#status-page" class="hash-link" aria-label="Прямая ссылка наСтраница статуса" title="Прямая ссылка наСтраница статуса">​</a></h3>
<p>Вы можете посмотреть статус своегоERDDAP™Из любого браузера, перейдя в&lt;Базовый URL/erddap/status.html</p>
<ul>
<li>Эта страница генерируется динамически, поэтому она всегда имеет актуальную статистику для вашего сайта.ERDDAP.</li>
<li>Он включает в себя статистику по количеству запросов, использованию памяти, следам стека потоков, задачеThread и т. Д.</li>
<li>Поскольку Страница Статуса может быть просмотрена кем угодно, она не содержит столько информации, сколько вы можете найти.<a href="#daily-report">Ежедневный отчет</a>.
 </li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addingchanging-datasets">Добавление/изменение наборов данных<a href="#addingchanging-datasets" class="hash-link" aria-label="Прямая ссылка наДобавление/изменение наборов данных" title="Прямая ссылка наДобавление/изменение наборов данных">​</a></h3>
<p>ERDDAP™обычно перечитываютdatasets.xmlкаждый <em>Обсуждение DatasetsMinMinutes</em>   (указан ный в<a href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a>) . Вы можете внести изменения вdatasets.xmlВ любое время, даже еслиERDDAP™Бежит.
Новый набор данных будет обнаружен в ближайшее время, как правило, внутри <em>Обсуждение DatasetsMinMinutes</em> .
Измененный набор данных будет перезагружен, когда он будет <em>Скачать EveryNMinutes</em> старый (как указано вdatasets.xml) .</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="flag">Флаг<a href="#flag" class="hash-link" aria-label="Прямая ссылка наФлаг" title="Прямая ссылка наФлаг">​</a></h4>
<ul>
<li>
<p><strong><a href="#flag">Флаг Файл</a>СказкиERDDAP™Как можно скорее перезагрузить набор данных</strong></p>
</li>
<li>
<p>ERDDAP™не заметит никаких изменений в настройках набора данных вdatasets.xmlдоERDDAP™Перезагружает набор данных.
 </p>
</li>
<li>
<p>РассказатьERDDAP™как можно скорее перезагрузить набор данных (до того, как набор данных&lt;reloadEveryNMinutes&gt; приведет к его перезагрузке, поместите файл в <em>BigParent Директория</em> флаг ( <em>BigParent Директория</em> указывается в<a href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a>) имеет то же название, что и набор данныхdatasetID.
Это говоритERDDAP™Попробуйте перезагрузить этот набор данных как можно скорее.
Старая версия набора данных будет оставаться доступной для пользователей до тех пор, пока новая версия не будет доступна и не будет заменена атомарно.
ДляEDDGridИз материалов и EDDTable Из файлов набор данных для перезагрузки будет искать новые или измененные файлы, читать их и включать их в набор данных. Время перезагрузки зависит от количества новых или измененных файлов.
Если набор данных активен = &quot;ложный&quot;,ERDDAP™Мы удалим набор данных.
 </p>
</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="bad-files-flag">Флаг Bad Files<a href="#bad-files-flag" class="hash-link" aria-label="Прямая ссылка наФлаг Bad Files" title="Прямая ссылка наФлаг Bad Files">​</a></h5>
<ul>
<li>
<p>Одним из вариантов каталога /flag является каталог /badFilesFlag. (Добавлено вERDDAP™v2.12.)<br>
<!-- -->Если вы поместите файл в <em>BigParent Директория</em> /badFilesFlag каталог сdatasetIDкак имя файла (Содержимое файла не имеет значения) Затем, как толькоERDDAP™Посмотреть BadFiles Флаговое досье,ERDDAP™будет:</p>
<ol>
<li>Удалите файл BadFilesFlag.</li>
<li>Удалить BadFiles.ncфайл (Если есть один) , который имеет список плохих файлов для этого набора данных.
Для наборов данных какEDDGridSideBySide, у которого есть наборы данных для детей, также удаляет плохие файлы.ncФайл для всех детских наборов данных.</li>
<li>Перезагрузите набор данных как можно скорее.</li>
</ol>
</li>
</ul>
<p>Таким образом, это вызываетERDDAP™Чтобы попытаться снова работать с файлами, которые были ранее (Ошибочно?) отмечен как плохой.
 </p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="hard-flag">Жесткий флаг<a href="#hard-flag" class="hash-link" aria-label="Прямая ссылка наЖесткий флаг" title="Прямая ссылка наЖесткий флаг">​</a></h5>
<ul>
<li>
<p>Другим вариантом каталога /flag является каталог /hardFlag. (Добавлено вERDDAP™v1.74.)<br>
<!-- -->Если вы поместите файл в <em>BigParent Директория</em> /Флаг с аdatasetIDкак имя файла (Содержимое файла не имеет значения) Затем, как толькоERDDAP™Видеть тяжелое Флаговое досье,ERDDAP™будет:</p>
<ol>
<li>Удалите файл hardFlag.</li>
<li>Удалить набор данных изERDDAP.</li>
<li>Удалить всю информацию, котораяERDDAP™Сохранил об этом наборе данных.
ДляEDDGridИз материалов и EDDTable Из подклассов файлов это удаляет внутреннюю базу данных файлов данных и их содержимое.
Для наборов данных какEDDGridSideBySide также удаляет внутреннюю базу данных файлов данных и их содержимое для всех наборов данных детей.</li>
<li>Перезагрузите набор данных.
ДляEDDGridИз материалов и EDDTable Из материалов подклассов это вызываетERDDAP™перечитать <strong>все</strong> Файлы данных. Таким образом, время перезагрузки зависит от общего количества файлов данных в наборе данных. Потому что набор данных был удален изERDDAP™Когда жесткий флаг был замечен, набор данных будет недоступен до тех пор, пока набор данных не завершит перезагрузку. Будь терпелив. Посмотри в себя.<a href="#log">log.txt</a>Файл, если хочешь посмотреть, что происходит.</li>
</ol>
</li>
</ul>
<p>Вариант жесткого флага удаляет сохраненную информацию набора данных, даже если набор данных в настоящее время не загружается.ERDDAP.</p>
<p>Жесткий Флаги очень полезны, когда вы делаете что-то, что вызывает изменения в том, как это сделать.ERDDAP™считывает и интерпретирует исходные данные, например, при установке новой версииERDDAP™или когда вы внесли изменения в определение набора данных вdatasets.xml</p>
<ul>
<li>Содержимое флага, BadFilesFlag и файлы hardFlag не имеют значения.ERDDAP™Просто посмотрите на имя файла, чтобы получитьdatasetID.
 </li>
<li>Между основными перезагрузками набора данных,ERDDAP™Постоянно ищет файлы флага, badFilesFlag и hardFlag.
 </li>
<li>Обратите внимание, что при перезагрузке набора данных все файлы в <em>BigParent Директория</em> /<a href="#cached-responses">кэш</a>/ <em>datasetID</em> Каталог удаляется. Это включает.ncФайлы изображений, которые обычно кэшируются в течение 15 минут.
 </li>
<li>Обратите внимание, что если xml набора данных включает<a href="/ru/docs/server-admin/datasets#active">Активный = «ложный»</a>Флаг сделает набор данных неактивным (Если он активен) В любом случае, не перезагружается.
 </li>
<li>В любое времяERDDAP™запускает LoadDatasets для выполнения крупной перезагрузки (контролируемая по времени перезагрузка).&lt;loadDatasetsMinMinutes&gt;) или незначительная перезагрузка (В результате внешнего или внутреннего флага) ,ERDDAP™Читать все&lt;decompressedCacheMaxGB&gt;,&lt;decompressedCacheMaxMinutesOld&gt;,&lt;Пользователь&gt;,&lt;Запросить Blacklist&lt;Медленный DownTroubleMillis&lt;подпискаEmailBlacklist&gt; теги и переключатели на новые настройки. Вы можете использовать флаг, чтобы получитьERDDAP™Заметьте изменения в этих тегах как можно скорее.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="set-dataset-flag">Флаг набора данных<a href="#set-dataset-flag" class="hash-link" aria-label="Прямая ссылка наФлаг набора данных" title="Прямая ссылка наФлаг набора данных">​</a></h5>
<ul>
<li>
<p>ERDDAP™Он имеет веб-сервис, который позволяет устанавливать флаги через URL.</p>
<ul>
<li>Например,
<a href="https://coastwatch.pfeg.noaa.gov/erddap/setDatasetFlag.txt?datasetID=rPmelTao&amp;flagKey=123456789" target="_blank" rel="noopener noreferrer">https://coastwatch.pfeg.noaa.gov/erddap/setDatasetFlag.txt?datasetID=rPmelTao&amp;flagKey=123456789</a><br>
<!-- -->(Это фальшивый флаг. Ключ) Будет установлен флаг для набора данных rPmelTao.</li>
<li>Для каждого из них есть свой флаг.datasetID.</li>
<li>Администраторы могут видеть список URL-адресов флагов для всех наборов данных, глядя в нижней части их<a href="#daily-report">Ежедневный отчет</a>Электронная почта.</li>
<li>Администраторы должны рассматривать эти URL-адреса как конфиденциальные, поскольку они дают кому-то право сбрасывать набор данных по желанию.</li>
<li>Если вы думаете, что ключи от флага попали в руки того, кто их злоупотребляет, вы можете измениться.&lt;flagKeyKey&gt; в<a href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a>и возобновитьERDDAPпринуждатьERDDAP™Для создания и использования различных наборов flagKeys.</li>
<li>Если вы меняетесь&lt;flagKeyKey&gt;, удалить все старые подписки (Смотрите список в своем ежедневном отчете) Не забудьте отправить новые URL-адреса людям, которых вы хотите иметь.</li>
</ul>
</li>
</ul>
<p>Система флага может служить основой для более эффективного механизма передачи информации.ERDDAP™Когда перезагружать набор данных. Например, вы можете установить набор данных&lt;Скачать EveryNMinutes в большом количестве (10080 = 1 неделя) . Когда вы знаете, что набор данных изменился (Возможно, потому что вы добавили файл в каталог данных набора данных.) Установите флаг так, чтобы набор данных был перезагружен как можно скорее. Флаги обычно видны быстро. Но если поток LoadDatasets уже занят, может пройти некоторое время, прежде чем он сможет действовать на флаге. Но система флага гораздо более отзывчива и намного эффективнее, чем настройка.&lt;Перезагрузить EveryNMinutes в небольшое число.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="removing-datasets">Удаление наборов данных<a href="#removing-datasets" class="hash-link" aria-label="Прямая ссылка наУдаление наборов данных" title="Прямая ссылка наУдаление наборов данных">​</a></h4>
<p>Если данные активны вERDDAP™И вы хотите отключить его временно или навсегда:</p>
<ol>
<li>вdatasets.xmlДля набора данных, set<a href="/ru/docs/server-admin/datasets#active">Активный = «ложный»</a>в теге Dataset.</li>
<li>ПодождиERDDAP™для удаления набора данных во время следующей крупной перезагрузки или<a href="#flag">Установить флаг</a>Чтобы набор данных сообщалERDDAP™Заметьте это изменение как можно скорее. Когда ты это делаешь,ERDDAP™не выбрасывает какую-либо информацию, которую он мог хранить о наборе данных, и, конечно, не делает ничего с фактическими данными.</li>
<li>Затем вы можете оставить активный = &quot;ложный&quot; набор данных вdatasets.xmlили удалить его.
 </li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="when-are-datasets-reloaded">Когда перезагружаются данные?<a href="#when-are-datasets-reloaded" class="hash-link" aria-label="Прямая ссылка наКогда перезагружаются данные?" title="Прямая ссылка наКогда перезагружаются данные?">​</a></h4>
<p>Поток, называемый RunLoadDatasets, является основным потоком, который контролирует перезагрузку набор ов данных. Бежать Циклы данных навсегда:</p>
<ol>
<li>
<p>RunLoadDatasets отмечает текущее время.</p>
</li>
<li>
<p>RunLoadDatasets запускает поток LoadDatasets для выполнения «основной нагрузки». Вы можете увидеть информацию о текущей / предыдущей основной нагрузке в верхней части вашего сайта.ERDDAP?
<a href="#status-page">/erddap/status.htmlстраница</a>  (Например,<a href="https://coastwatch.pfeg.noaa.gov/erddap/status.html" target="_blank" rel="noopener noreferrer">Пример страницы состояния</a>) .</p>
<ol>
<li>LoadDatasets делает копиюdatasets.xml.</li>
<li>LoadDatasets читается через копиюdatasets.xmlи для каждого набора данных видит, должен ли набор данных быть (повторять) заряжены или удалены.<!-- -->
<ul>
<li>Если<a href="#flag">флаг</a>файл существует для этого набора данных, файл удаляется и набор данных удаляется, если активный = &quot;ложный&quot; или (повторять) Загрузка, если активна = &quot;правда&quot; (Независимо от возраста набора данных) .</li>
<li>Если часть набора данных dataset.xml активна = «ложная», и набор данных в настоящее время загружается (активный) , он разгружен (удалять) .</li>
<li>Если набор данных активен = «истинно», и набор данных еще не загружен, он загружен.</li>
<li>Если набор данных активен = «истинно» и набор данных уже загружен, набор данных перезагружается, если возраст набора данных (время с момента последней загрузки) Он больше, чем его&lt;перезаряжать EveryNMinutes (По умолчанию 10080 минут) В противном случае набор данных остается один.</li>
</ul>
</li>
<li>LoadDatasets заканчивается.</li>
</ol>
</li>
</ol>
<p>Поток RunLoadDatasets ожидает окончания потока LoadDatasets. Если LoadDatasets занимает больше времени, чем loadDatasets Миннуты (как указано в setup.xml) RunLoadDatasets прерывает поток LoadDatasets. В идеале, LoadDatasets замечает прерывание и заканчивает. Но если он не заметит прерывание в течение минуты, RunLoadDatasets вызывает loadDatasets. останавливаться () , что нежелательно.
3. В то время как время с момента начала последней крупной загрузки меньше, чем загрузки Миннуты (как указано в setup.xml, например, 15 минут) RunLoadDatasets постоянно ищет<a href="#flag">флаг</a>файлы в <em>BigParent Директория</em> /Flag Directory. Если один или несколько файлов флага найдены, они удаляются, и RunLoadDatasets запускает поток LoadDatasets, чтобы сделать «minorLoad». (Ложь = Ложь) . Вы не можете видеть информацию о малой загрузке на вашем компьютере.ERDDAP?<a href="#status-page">/erddap/status.htmlстраница</a>.</p>
<ol>
<li>LoadDatasets делает копиюdatasets.xml.</li>
<li>LoadDatasets читается через копиюdatasets.xmlДля каждого набора данных, для которого был файл флага:<!-- -->
<ul>
<li>Если часть набора данных dataset.xml активна = «ложная», и набор данных в настоящее время загружается (активный) , он разгружен (удалять) .</li>
<li>Если набор данных активен = «истинно», набор данных (повторять) Заряженный, независимо от возраста. Немаркированные наборы данных игнорируются.</li>
</ul>
</li>
<li>LoadDatasets заканчивается.</li>
<li>Бежать Наборы данных возвращаются к шагу 1.</li>
</ol>
<p>Примечания:</p>
<ul>
<li>
<p>Стартап
Когда вы перезагрузитесьERDDAP™Каждый набор данных с активным = &quot;истинно&quot; загружается.</p>
</li>
<li>
<p>Кэш
Когда набор данных (повторять) Заряженный, его кэш (включая любые файлы ответа на данные и/или файлы изображений) Он опустошен.</p>
</li>
<li>
<p>Много наборов данных
Если у вас много наборов данных и/или один или несколько наборов данных медленно (повторять) Загрузка, поток LoadDatasets может занять много времени, чтобы закончить свою работу, возможно, даже дольше, чем загрузка Минуты.</p>
</li>
<li>
<p>Один поток LoadDatasets
Никогда не бывает более одного потока LoadDatasets, работающего одновременно. Если флаг установлен, когда LoadDatasets уже работает, флаг, вероятно, не будет замечен или действовать до тех пор, пока этот поток LoadDatasets не закончит работу. Вы можете сказать: &quot;Это глупо. Почему бы вам просто не запустить кучу новых потоков для загрузки наборов данных? Но если у вас много наборов данных, которые получают данные с одного удаленного сервера, даже один поток LoadDatasets будет оказывать существенное давление на удаленный сервер. То же самое верно, если у вас много наборов данных, которые получают данные из файлов на одном RAID. Быстро уменьшаются доходы от наличия более одного потока LoadDatasets.</p>
</li>
<li>
<p>Флаг = быстро
Установка флага просто сигнализирует о том, что набор данных должен быть (повторять) загружается как можно скорее, не обязательно сразу. Если поток LoadDatasets в настоящее время не запущен, набор данных начнет перезагружаться в течение нескольких секунд. Но если поток LoadDatasets в настоящее время работает, набор данных, вероятно, не будет перезагружен до тех пор, пока этот поток LoadDatasets не будет завершен.</p>
</li>
<li>
<p>Файл флага удален
Если вы поместите файл флага в <em>BigParent Директория</em> каталог /erddap/flag (Посещение флага набора данных Url или размещение реального файла) Набор данных обычно перезагружается очень скоро после удаления файла флага.</p>
</li>
<li>
<p>Флаг против небольшой перезагрузки EveryNMinutes
Если у вас есть какой-то внешний способ узнать, когда набор данных должен быть перезагружен, и если он удобен для вас, лучший способ убедиться, что набор данных всегда обновлен, - это установить его перезагрузку. Каждые минуты в большом количестве (10080?) Установить флаг (С помощью сценария?) Всякий раз, когда его нужно перезарядить. Это система, котораяEDDGridFromErddap и EDDTableFromErddap используют сообщения о необходимости перезагрузки набора данных.</p>
</li>
<li>
<p>Посмотреть log.txt
Много соответствующей информации написано на <em>BigParent Директория</em> /logs/log.txt файл. Если дела идут не так, как вы ожидаете, посмотрите на журнал. txt позволяет диагностировать проблему, выясняя, что именноERDDAP™Правда.</p>
<ul>
<li>
<p>Поиск «majorLoad=true» для начала основных потоков LoadDataset.</p>
</li>
<li>
<p>Поиск «majorLoad=false» для начала небольших потоков LoadDatasets.</p>
</li>
<li>
<p>Поиск заданного набора данныхdatasetIDДля информации о том, что это (повторять) загруженный или запрошенный.</p>
<p> </p>
</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="cached-responses">Кэшированные ответы<a href="#cached-responses" class="hash-link" aria-label="Прямая ссылка наКэшированные ответы" title="Прямая ссылка наКэшированные ответы">​</a></h4>
<p>В общем,ERDDAP™не кэширует (магазин) Ответы на запросы пользователей. Обоснование заключалось в том, что большинство запросов будут немного отличаться, поэтому кэш не будет очень эффективным. Самыми большими исключениями являются запросы на файлы изображений. (которые кэшируются, поскольку браузеры и программыGoogle EarthЧасто запрашивайте изображения) и просьбы о.ncфайлы (Потому что их нельзя создать на лету) .ERDDAP™Хранит кэшированные файлы каждого набора данных в другом каталоге: <em>BigParent Директория</em> /кэш/ <em>datasetID</em> Поскольку в одном каталоге кэша может быть огромное количество файлов, доступ к которым может стать медленным.
Файлы удаляются из кэша по одной из трех причин:</p>
<ul>
<li>Все файлы в этом кэше удаляются, когдаERDDAP™Перезапущен.</li>
<li>Периодически любой файл более&lt;CacheMinutes - старый (как указано в<a href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a>) будут удалены. Удаление файлов в кэше в зависимости от возраста (не используется в последнее время) Это гарантирует, что файлы не будут оставаться в кэше очень долго. Хотя может показаться, что данный запрос должен всегда возвращать один и тот же ответ, это не так. Например, atabledapЗапрос, который включает &amp;time <em>некоторые Время</em> Изменится, если появятся новые данные для набора данных. Запрос сетки, который включает\[последний\]Размер времени изменится, если для набора данных появятся новые данные.</li>
<li>Изображения, показывающие условия ошибки, кэшируются, но только в течение нескольких минут. (Это сложная ситуация.) .</li>
<li>Каждый раз, когда набор данных перезагружается, все файлы в кэше этого набора данных удаляются. Поскольку запросы могут быть&quot;last&quot;индекс в сетчатом наборе данных, файлы в кэше могут стать недействительными при перезагрузке набора данных.
 </li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="stored-dataset-information">Хранимая информация о наборе данных<a href="#stored-dataset-information" class="hash-link" aria-label="Прямая ссылка наХранимая информация о наборе данных" title="Прямая ссылка наХранимая информация о наборе данных">​</a></h4>
<p>Для всех типов данных,ERDDAP™Собирает много информации при загрузке набора данных и сохраняет ее в памяти. Это позволяетERDDAP™быстро реагировать на запросы, запросы на списки наборов данных и запросы на информацию о наборе данных.</p>
<p>Для нескольких типов наборов данных (особенноEDDGridКопия, EDDTableCopy,EDDGridиз <em>Xxx</em> Файлы и EDDTableFrom <em>Xxx</em> Файлы) ,ERDDAP™сохраняет на диске некоторую информацию о наборе данных, который повторно используется при перезагрузке набора данных. Это значительно ускоряет процесс перезарядки.</p>
<ul>
<li>Некоторые из информационных файлов набора данных являются считываемыми человеком.jsonфайлы и хранятся в <em>BigParent Директория</em> /dataset/ <em>last2LettersOfDatasetID/datasetID</em> .</li>
<li>ERDDAP™удаляет эти файлы только в необычных ситуациях, например, если вы добавляете или удаляете переменную из набора данных.datasets.xmlкусок.</li>
<li>Большинство изменений в наборе данныхdatasets.xmlкусок (Например, изменение глобального атрибута или переменного атрибута) Не требуйте удаления этих файлов. Регулярная перезагрузка набора данных будет обрабатывать эти типы изменений. Вы можете сказатьERDDAP™Перезагрузить набор данных ASAP, установив<a href="#flag">флаг</a>для набора данных.</li>
<li>Аналогичным образом, добавление, удаление или изменение файлов данных будут обрабатываться, когдаERDDAP™Перезагружает набор данных. НоERDDAP™Заметит этот тип изменения в ближайшее время и автоматически, если набор данных использует&lt;Обновление EveryNMillis (/docs/server-admin/datasets#updateeverynmillis) система.</li>
<li>Вам редко нужно удалять эти файлы. Наиболее распространенная ситуация, когда нужно силойERDDAP™Чтобы удалить сохраненную информацию (потому что он устаревший / неправильный и не будет автоматически исправленERDDAP) когда вы вносите изменения в набор данныхdatasets.xmlЭто влияет на то, какERDDAP™интерпретирует данные в исходных файлах данных, например, меняя строку формата переменной времени.</li>
<li>Чтобы удалить сохраненные информационные файлы набора данных изERDDAP™Это работает (Даже если набор данных в настоящее время не загружен) Установить<a href="#hard-flag">твердый Флаг</a>для этого набора данных. Помните, что если набор данных представляет собой агрегацию большого количества файлов, перезагрузка набора данных может занять значительное время.</li>
<li>Для удаления сохраненных информационных файлов набора данных, когдаERDDAP™Не бегать, бегать<a href="/ru/docs/server-admin/datasets#dasdds">DasDds</a>для этого набора данных (что проще, чем выяснить, в какой каталог находится информация и удалить файлы вручную) . Помните, что если набор данных представляет собой агрегацию большого количества файлов, перезагрузка набора данных может занять значительное время.
 </li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="memory-status">Состояние памяти<a href="#memory-status" class="hash-link" aria-label="Прямая ссылка наСостояние памяти" title="Прямая ссылка наСостояние памяти">​</a></h3>
<p>ERDDAP™Никогда не стоит падать или замерзать. Если это так, то одной из наиболее вероятных причин является недостаточная память. Вы можете отслеживать использование памяти, просматривая веб-страницу status.html, которая включает в себя такую строку, как:</p>
<p>0 gc-звонков, 0 запросов и 0 опасных MemoryEmails с последнего крупного набора данных LoadData</p>
<p>(Все более серьезные события)<br>
<!-- -->и MB inUse и gc Колонки вызовов в таблице статистики. Вы можете сказать, как стресс памятиERDDAP™Наблюдая за этими цифрами. Более высокие цифры указывают на больший стресс.</p>
<ul>
<li>MB в использовании всегда должно быть меньше половины<a href="/ru/docs/server-admin/deploy-install#memory">\-Xmx настройка памяти</a>. Большие цифры — плохой знак.</li>
<li>gc-звонки указывают количество разERDDAP™Вызвали сборщик мусора, чтобы попытаться облегчить высокое использование памяти. Если это больше 100, это признак серьезных проблем.</li>
<li>Сброс указывает количество поступающих запросов, которые были сброшены. (HTTP-ошибка 503, сервис недоступен) Использование памяти было уже слишком высоким. В идеале не следует отбрасывать просьбы. Это нормально, если несколько запросов пролиты, но признак серьезных проблем, если многие пролиты.</li>
<li>опасный MemoryEmails - Если использование памяти становится опасно высоким,ERDDAP™отправляет электронное письмо на адреса электронной почты, перечисленные в&lt;Электронная почта Все Чтобы (в setup.xml) со списком активных запросов пользователей. Как говорится в письме, пожалуйста, передайте эти письма Крису. Джон в Ноаа. Мы можем использовать эту информацию для улучшения будущих версийERDDAP.
 </li>
</ul>
<p>Если выERDDAP™Напряжена память:</p>
<ul>
<li>Распределите больше памяти вашего сервера наERDDAP™Изменить Tomcat<a href="/ru/docs/server-admin/deploy-install#memory">Xmx настройка памяти</a>.</li>
<li>Если вы уже выделили столько памяти, сколько сможетеERDDAP™Через -Xmx, подумайте о покупке большего количества памяти для вашего сервера. Память дешевая (Стоимость нового сервера или ваше время) ! Затем увеличить -Xmx.</li>
<li>вdatasets.xmlустановленный&lt;nGridThreads &gt; 1, установленный&lt;nTableThreads&gt; до 1, и установить&lt;ipAddressMaxRequestsActive&gt; до 1.</li>
<li>Посмотрите на запросы в log.txt для неэффективных или проблемных (законным) просьбы. Добавить IP-адреса в&lt;Запросить Blacklist вdatasets.xml. Сообщение об ошибке в черном списке содержитERDDAP™Адрес электронной почты администратора с надеждой, что эти пользователи свяжутся с вами, чтобы вы могли работать с ними для использования.ERDDAP™более эффективно. Хорошо иметь список IP-адресов, которые  вы заносите в черный список и почему, чтобы вы могли работать с пользователями, если они свяжутся с вами.</li>
<li>Посмотрите на запросы в log.txt для запросов от вредоносных пользователей. Добавить IP-адреса в&lt;Запросить Blacklist вdatasets.xml. Если похожие запросы поступают с нескольких похожих IP-адресов, вы можете использовать некоторые службы. (например,<a href="https://www.whois.com/whois/" target="_blank" rel="noopener noreferrer"> https://www.whois.com/whois/ </a>) Чтобы узнать диапазон IP-адресов из этого источника и занести в черный список весь диапазон. Смотри.&lt;Запросить Blacklist&gt;документацию (/docs/server-admin/datasets#requestblacklist) .
 </li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="outofmemoryerror">Ошибка OutOfMemory<a href="#outofmemoryerror" class="hash-link" aria-label="Прямая ссылка наОшибка OutOfMemory" title="Прямая ссылка наОшибка OutOfMemory">​</a></h4>
<p>Когда вы устанавливаетеERDDAP™Вы указываете максимальное количество памяти, котороеJavaМожно использовать через<a href="/ru/docs/server-admin/deploy-install#memory">\-Xmx настройка</a>. ЕслиERDDAP™Когда-нибудь потребуется больше памяти, чем это, он бросит Java. Лэнг. Ошибка в памяти.ERDDAP™делает много проверок, чтобы позволить ему справиться с этой ошибкой изящно (Например, неприятный запрос не сработает, но система сохранит свою целостность.) . Но иногда ошибка повреждает целостность системы, и вам приходится перезагружаться.ERDDAP. Надеюсь, это редкость.</p>
<p>Быстрое и простое решение ошибки OutOfMemory заключается в увеличении количества<a href="/ru/docs/server-admin/deploy-install#memory">\-Xmx настройка</a>Но вы никогда не должны увеличивать настройку -Xmx до более чем 80% физической памяти на сервере. (Например, для сервера 10 ГБ не устанавливайте -Xmx выше 8 ГБ) . Память относительно дешевая, поэтому может быть хорошим вариантом для увеличения памяти на сервере. Но если вы максимизировали память на сервере или по другим причинам не можете увеличить ее, вам нужно более непосредственно разобраться с причиной ошибки OutOfMemory.</p>
<p>Если вы посмотрите в<a href="#log">log.txt</a>Файл, чтобы посмотреть чтоERDDAP™Когда ошибка возникла, вы обычно можете получить хорошее представление о причине ошибки OutOfMemory. Существует множество возможных причин, в том числе:</p>
<ul>
<li>Один огромный файл данных может вызвать ошибку OutOfMemory, в частности, огромные файлы данных ASCII. Если это проблема, то она должна быть очевидной, потому чтоERDDAP™не сможет загрузить набор данных (для табличных наборов данных) или читать данные из этого файла (для сетчатых наборов данных) . Решение, если это возможно, заключается в разделении файла на несколько файлов. В идеале файл можно разделить на логические фрагменты. Например, если файл содержит данные за 20 месяцев, разделите его на 20 файлов, каждый из которых содержит данные за 1 месяц. Но есть и преимущества, даже если основной файл расщепляется произвольно. Этот подход имеет несколько преимуществ: а Это уменьшит объем памяти, необходимый для чтения файлов данных, до 1/20-го, поскольку за один раз читается только один файл. b) Часто,ERDDAP™Он может обрабатывать запросы намного быстрее, потому что он должен искать только один или несколько файлов, чтобы найти данные для данного запроса. с) Если сбор данных продолжается, то существующие 20 файлов могут оставаться неизменными, и вам нужно только изменить один маленький новый файл, чтобы добавить данные следующего месяца в набор данных.</li>
<li>Один огромный запрос может вызвать ошибку OutOfMemory. В частности, некоторые изorderByОпции имеют весь ответ в памяти на секунду. (Например, сделать вид) . Если ответ огромен, это может привести к ошибке. Всегда будут какие-то запросы, которые по-разному слишком велики. Вы можете решить проблему, увеличив настройку -Xmx. Или вы можете побудить пользователя сделать несколько небольших запросов.</li>
<li>Маловероятно, что большое количество файлов приведет к индексу файла, которыйERDDAP™Он настолько велик, что этот файл может вызвать ошибку. Если предположить, что каждый файл использует 300 байт, то 1 000 000 файлов займет всего 300 МБ. Но наборы данных с огромным количеством файлов данных вызывают другие проблемы.ERDDAPВ частности, это занимает много времени дляERDDAP™открыть все эти файлы данных при ответе на запрос пользователя. В этом случае решение может заключаться в агрегировании файлов, чтобы было меньше файлов данных. Для табличных наборов данных часто здорово, если вы сохраняете данные из текущего набора данных.<a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer">CF Дискретная геометрия выборки (DSG) </a>Файлы данных Ragged Array (запросить.ncФайлы CF изERDDAP) Затем создайте новый набор данных. Эти файлы могут быть обработаны очень эффективно.ERDDAP?<a href="/ru/docs/server-admin/datasets#eddtablefromnccffiles">EDDTable FromNcCFFiles</a>. Если они логически организованы (Каждый с данными для куска пространства и времени) ,ERDDAP™Они могут быстро извлекать из них данные.</li>
<li>Для табличных наборов данных, которые используют [&lt;subsetVariables&gt; (/docs/server-admin/datasets#subsetvariables) атрибут,ERDDAP™составляет таблицу уникальных комбинаций значений этих переменных. Для больших массивов данных или когда&lt;subsetVariablesЭта таблица может быть достаточно большой, чтобы вызвать ошибки OutOfMemory. Решение заключается в удалении переменных из списка.&lt;subsetVariablesдля которых имеется большое количество значений, или удалить переменные по мере необходимости, пока размер этой таблицы не станет разумным. части которыхERDDAP™которые используютsubsetVariablesСистема не работает хорошо (Веб-страницы загружаются очень медленно) Если в этой таблице более 100 000 строк.</li>
<li>Всегда возможно, что несколько одновременных больших запросов (На действительно занятойERDDAP) Может сочетаться, чтобы вызвать проблемы с памятью. Например, 8 запросов, каждый из которых использует по 1 ГБ, вызовут проблемы при установке -Xmx=8 ГБ. Но редко бывает так, что каждый запрос находится на пике использования памяти одновременно. Вы легко сможете увидеть, что вашERDDAP™Он очень занят большими просьбами. Но это возможно. Трудно справиться с этой проблемой, кроме увеличения настроек -Xmx.</li>
<li>Есть и другие сценарии. Если вы посмотрите на<a href="#log">log.txt</a>Файл, чтобы посмотреть чтоERDDAP™Когда ошибка возникла, вы обычно можете получить хорошее представление о причине. В большинстве случаев есть способ минимизировать эту проблему. (смотреть выше) Но иногда вам просто нужно больше памяти и более высокая настройка xmx.
 </li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="too-many-open-files">Слишком много открытых файлов<a href="#too-many-open-files" class="hash-link" aria-label="Прямая ссылка наСлишком много открытых файлов" title="Прямая ссылка наСлишком много открытых файлов">​</a></h3>
<p>Начиная сERDDAP™v2.12,ERDDAP™Имеет систему мониторинга количества открытых файлов (к оторые включают в себя розетки и некоторые другие вещи, а не только файлы) Tomcat на компьютерах Linux. Если некоторые файлы по ошибке никогда не закрываются («Утечка ресурсов») Количество открытых файлов может увеличиваться до тех пор, пока оно не превысит максимально допустимое операционной системой и не произойдет множество действительно плохих вещей. Теперь о компьютерах Linux (потому что информация недоступна для Windows) :</p>
<ul>
<li>На крайнем правом углу страницы status.html есть столбец «Открытые файлы», показывающий процент максимально открытых файлов. В Windows он просто показывает «?».</li>
<li>КогдаERDDAP™генерирует эту информацию в конце каждой основной перезагрузки набора данных, она будет печататься в журнал. txt файл:
OpenFileCount = <em>текущий</em> max = <em>макс</em> % = <em>%</em></li>
<li>Если процент составляет &gt;50%, на адрес электронной почтыERDDAP™Администратор и электронная почта Все На адреса электронной почты.</li>
</ul>
<p>Если процент составляет 100%,ERDDAP™У него ужасные неприятности. Не позволяй этому случиться.
Если процент составляет &gt;75%,ERDDAP™Это близко к ужасным неприятностям. Это не нормально.
Если процент составляет &gt;50%, вполне возможно, что всплеск приведет к тому, что процент достигнет 100.
Если процент составляет более 50%, вы должны:</p>
<ul>
<li>Увеличьте максимальное количество открытых файлов, разрешенных:<!-- -->
<ul>
<li>Делая эти изменения каждый раз, прежде чем вы начнете делать (Поместите их в файл Tomcat startup.sh.) :
Улимит -Hn 16384
Улимит -Sn 16384</li>
<li>Внесение постоянных изменений путем редактирования (как корень) /etc/security/limits.conf и добавление строк:
мягкий нофил 16384
Жесткий файл 16384
Эти команды предполагают, что пользователь под управлением Tomcat называется «tomcat».
Во многих вариантах Linux вам нужно перезапустить сервер, чтобы применить эти изменения. Для обоих вариантов приведен пример «16384». Вы выбираете число, которое считаете лучшим.</li>
</ul>
</li>
<li>ПерезапуститьERDDAP. Операционная система закрывает все открытые файлы.
 </li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="failed-requests">Неудачные запросы<a href="#failed-requests" class="hash-link" aria-label="Прямая ссылка наНеудачные запросы" title="Прямая ссылка наНеудачные запросы">​</a></h3>
<ul>
<li><strong>Необычная активность: &gt;25% запросов не удалось</strong><br>
<!-- -->Как часть каждого перезагрузочного набора данных, который обычно каждые 15 минут,ERDDAP™Посмот рите на процент запросов, которые потерпели неудачу с момента последней перезагрузки наборов данных. Если он составляет &gt;25%,ERDDAP™Отправьте электронное письмо вERDDAP™Администратор с темой «Необычная деятельность: &gt;25% запросов не удалось». Это письмо включает в себя подсчёт в нижней части, озаглавленный «IP-адрес запрашивающего» (неудачник)   (Последний крупный пакет LoadDatasets) &quot;. Ищите это. Он сообщает вам IP-адрес компьютеров, выполняющих самые неудачные запросы. Вы можете найти эти IP-адреса в\[BigParent Директория\]/logs/<a href="#log">log.txt</a>Посмотрите, какие типы запросов они делают.</li>
</ul>
<p>Вы можете использовать IP-адрес пользователя (Например, с<a href="https://whatismyipaddress.com/ip-lookup" target="_blank" rel="noopener noreferrer"> https://whatismyipaddress.com/ip-lookup </a>) Чтобы выяснить, кто или что является пользователем. Иногда это довольно точно скажет вам, кто является пользователем. (Например, это веб-сканер поисковой системы) . Большую часть времени это просто дает вам подсказку. (Например, это компьютер амазонок, он из какого-то университета, это кто-то в каком-то конкретном городе.) .</p>
<p>Просматривая фактический запрос, номер IP и сообщение об ошибке (из всех<a href="#log">log.txt</a>) Для серии ошибок вы обычно можете понять, что происходит. По моему опыту, есть четыре распространенные причины множества неудачных запросов:</p>
<ol>
<li>
<p>Запросы являются злонамеренными (Например, поиск слабых мест в системе безопасности или выполнение запросов, а затем их отмена до их завершения.) . Вы должны использовать&lt;Запросить Blacklist вdatasets.xmlВ черный список этих IP-адресов.</p>
</li>
<li>
<p>Поисковая система наивно пробует URL-адреса, перечисленные вERDDAP™Веб-страницы и документы ISO 19115. Например, есть много мест, в которых указана база.OPeNDAPURL, например, <a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST" target="_blank" rel="noopener noreferrer">https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST</a> , к которому пользователь должен добавить тип файла (Например, .das, .dds, .html) . Но поисковая система этого не знает. Запрос на базовый URL не выполняется. Связанная ситуация — это когда поисковая система генерирует странные запросы или пытается заполнить формы, чтобы попасть на «скрытые» веб-страницы. Но поисковые системы часто делают плохую работу, что приводит к сбоям. Решение: создать<a href="#robotstxt">robots.txt</a>Файл.</p>
</li>
<li>
<p>Некоторые пользователи запускают скрипт, который неоднократно запрашивает что-то, чего там нет. Возможно, это набор данных, который раньше существовал, но теперь исчез. (временно или постоянно) . Сценарии часто не ожидают этого и поэтому не имеют с этим дело разумно. Таким образом, сценарий просто продолжает делать запросы, а запросы продолжают падать. Угадайте, кто является пользователем (IP номер выше) Свяжитесь с ними и сообщите им, что набор данных больше не доступен, и попросите их изменить свой сценарий.</p>
</li>
<li>
<p>Что-то действительно не так с некоторым набором данных. Обычно,ERDDAP™Это сделает проблемный набор данных неактивным. Иногда это не так, поэтому все запросы на него просто приводят к ошибкам. Если это так, устраните проблему с набором данных или (Если ты не можешь) Набор данных для<a href="/ru/docs/server-admin/datasets#active">Активный = «ложный»</a>. Это может привести к проблеме #2.</p>
</li>
</ol>
<p>Иногда ошибки не так уж и плохи, особенно еслиERDDAP™Вы можете обнаружить ошибку и ответить очень быстро.&lt;=1мс). Так что вы можете решить не предпринимать никаких действий.</p>
<p>Если все остальное терпит неудачу, есть универсальное решение: добавить IP-адрес пользователя.&lt;Черный список&gt;&gt; (/docs/server-admin/datasets#requestblacklist) . Это не такой плохой или радикальный вариант, как может показаться. Затем пользователь получит сообщение об ошибке, в котором говорится, что он был в черном списке, и сообщает им о своей ошибке. (тотERDDAP™администратора) адрес электронной почты. Иногда пользователь свяжется с вами, и вы сможете решить проблему. Иногда пользователь не связывается с вами, и на следующий день вы увидите точно такое же поведение, исходящее от другого IP-адреса. Внесите в черный список новый номер IP и надейтесь, что они в конечном итоге получат сообщение. (Или это ваш День сурка, от которого вы никогда не убежите. Прости.)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="robotstxt">robots.txt<a href="#robotstxt" class="hash-link" aria-label="Прямая ссылка наrobots.txt" title="Прямая ссылка наrobots.txt">​</a></h3>
<p>Компании поисковых систем используют веб-сканеры (Например, Google Бот) изучить все страницы в Интернете, чтобы добавить контент в поисковые системы. ДляERDDAP™Это в основном хорошо.ERDDAP™Он имеет много ссылок между страницами, поэтому сканеры найдут все веб-страницы и добавят их в поисковые системы. Тогда пользователи поисковых систем смогут найти наборы данных на вашемERDDAP.</p>
<p>К сожалению, некоторые веб-сканеры (Например, Google Бот) Теперь они заполняют и отправляют формы, чтобы найти дополнительный контент. Для сайтов интернет-торговли это здорово. Но это ужасно дляERDDAP™Потому что это просто приводит к <strong>бесконечный</strong> количество нежелательных и бессмысленных попыток сканирования фактических данных. Это может привести к большему количеству запросов на данные, чем от всех других пользователей вместе взятых. И он заполняет поисковую систему глупыми, бессмысленными подмножествами фактических данных.</p>
<p>Чтобы сказать веб-сканерам прекратить заполнять формы и просто вообще н е смотреть на веб-страницы, на которые им не нужно смотреть, вам нужно создать текстовый файл под названием<a href="https://en.wikipedia.org/wiki/Robots_exclusion_standard" target="_blank" rel="noopener noreferrer">robots.txt</a>в корневом каталоге иерархии документов вашего сайта, чтобы его мог просматривать любой, например, http://*<a href="http://www.your.domain*/robots.txt" target="_blank" rel="noopener noreferrer">www.your.domain*/robots.txt</a> .
Если вы создаете новых роботов. Файл txt, это хорошее начало:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    User-Agent: \\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /erddap/files/ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /files/ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /images/ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*?\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.asc\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.csv\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.dods\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.esriAscii\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.esriCsv\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.geoJson\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.htmlTable\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.json\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.mat\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.nc\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.odvTxt\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.tsv\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.xhtml\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.geotif\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.itx\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.kml\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.pdf\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.png\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.large\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.small\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Disallow: /\\*.transparentPng\\*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Sitemap: http://***your.institutions.url***/erddap/sitemap.xml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Копировать код в буфер обмена" title="Копия" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>(Но заменить <em>Your.institutions.url</em> с твоимERDDAPБазовый URL.)<br>
<!-- -->Поисковым системам может потребоваться несколько дней, чтобы заметить изменения и вступить в силу.
 </p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sitemapxml">sitemap.xml<a href="#sitemapxml" class="hash-link" aria-label="Прямая ссылка наsitemap.xml" title="Прямая ссылка наsitemap.xml">​</a></h3>
<p>Как и<a href="https://www.sitemaps.org/" target="_blank" rel="noopener noreferrer"> https://www.sitemaps.org </a>Сайт говорит:</p>
<blockquote>
<p>Sitemaps are an easy way for webmasters to inform search engines about pages on their sites that are available for crawling. In its simplest form, a Sitemap is an XML file that lists URLs for a site along with additional metadata about each URL (when it was last updated, how often it usually changes, and how important it is, relative to other URLs on the site) so that search engines can more intelligently crawl the site.</p>
<p>Web crawlers usually discover pages from links within the site and from other sites. Sitemaps supplement this data to allow crawlers that support Sitemaps to pick up all URLs in the Sitemap and learn about those URLs using the associated metadata. Using the Sitemap protocol does not guarantee that web pages are included in search engines, but provides hints for web crawlers to do a better job of crawling your site.</p>
</blockquote>
<p>На самом деле, посколькуERDDAP™этоRESTfulПауки поисковых систем могут легко сканировать вашERDDAP. Но они склонны делать это чаще. (Ежедневно!) чем необходимо (ежемесячно?) .</p>
<ul>
<li>
<p>Учитывая, что каждая поисковая система может сканировать всю вашуERDDAP™Каждый день это может привести к множеству ненужных запросов.</p>
</li>
<li>
<p>ТакERDDAP™Создает файл sitemap.xmlERDDAP™Что говорит поисковым системам, что вашERDDAP™Нужно только ползать каждый месяц.</p>
</li>
<li>
<p>Вы должны добавить ссылку наERDDAPSitemap.xml для вашего сайта<a href="https://en.wikipedia.org/wiki/Robots_exclusion_standard" target="_blank" rel="noopener noreferrer">robots.txt</a>файл:
Карта сайта: http://**<a href="http://www.yoursite.org**/erddap/sitemap.xml" target="_blank" rel="noopener noreferrer">www.yoursite.org**/erddap/sitemap.xml</a></p>
</li>
<li>
<p>Если это не похоже на получение сообщения для сканеров, вы можете рассказать различным поисковым системам о файле sitemap.xml, посетив эти URL-адреса. (но изменения <strong>Ваш институт</strong> аббревиатура или аббревиатура вашего учреждения и <strong><a href="http://www.yoursite.org" target="_blank" rel="noopener noreferrer">www.yoursite.org</a></strong> к твоемуERDDAPURL) :</p>
<ul>
<li>
<p><a href="https://www.bing.com/webmaster/ping.aspx?siteMap=http://**www.yoursite.org**/erddap/sitemap.xml" target="_blank" rel="noopener noreferrer">https://www.bing.com/webmaster/ping.aspx?siteMap=http://**www.yoursite.org**/erddap/sitemap.xml</a></p>
</li>
<li>
<p><a href="https://www.google.com/ping?sitemap=http://**www.yoursite.org**/erddap/sitemap.xml(I" target="_blank" rel="noopener noreferrer">https://www.google.com/ping?sitemap=http://**www.yoursite.org**/erddap/sitemap.xml(I</a> Вам просто нужно пинговать каждую поисковую систему раз и навсегда. Поисковые системы будут периодически обнаруживать изменения в sitemap.xml.
 </p>
</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-dissemination--data-distribution-networks-push-and-pull-technology">Распространение данных / Data Distribution Сети<!-- -->:Push<!-- -->иPullТехнология<a href="#data-dissemination--data-distribution-networks-push-and-pull-technology" class="hash-link" aria-label="Прямая ссылка наdata-dissemination--data-distribution-networks-push-and-pull-technology" title="Прямая ссылка наdata-dissemination--data-distribution-networks-push-and-pull-technology">​</a></h3>
<ul>
<li>Обычно,ERDDAP™выступает в качестве посредника: принимает запрос от пользователя; получает данные из удаленного источника данных; переформатирует данные; и отправляет их пользователю.</li>
<li><a href="https://en.wikipedia.org/wiki/Pull_technology" target="_blank" rel="noopener noreferrer">PullТехно логия</a>:ERDDAP<!-- -->™Он также имеет возможность активно получать все доступные данные из удаленного источника данных.<a href="/ru/docs/server-admin/datasets#eddgridcopy">хранить локальную копию данных</a>.</li>
<li><a href="https://en.wikipedia.org/wiki/Push_technology" target="_blank" rel="noopener noreferrer">PushТехнология</a>: используяERDDAP?<a href="https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions" target="_blank" rel="noopener noreferrer">Абонентские услуги</a>Другие серверы данных могут быть уведомлены, как только появятся новые данные, чтобы они могли запросить данные. (Вытаскивая данные) .</li>
<li>ERDDAP?<a href="/ru/docs/server-admin/datasets#eddfromerddap">EDDGridИз Эрддапа</a>и<a href="/ru/docs/server-admin/datasets#eddfromerddap">EDDTable FromErddap</a>использоватьERDDAPУслуги подписки и<a href="#flag">флаговая система</a>Он будет немедленно уведомлен, когда появятся новые данные.</li>
<li>Вы можете совместить их с большим эффектом: если вы завернетеEDDGridКопии вокруг одногоEDDGridНабор данных Erddap (или обернуть EDDTableCopy вокруг набора данных EDDTableFromErddap) ,ERDDAP™автоматически создавать и поддерживать локальную копию другогоERDDAPНабор данных.</li>
<li>Поскольку службы подписки работают, как только появляются новые данные, push-технология очень быстро распространяет данные. (в течение нескольких секунд) .</li>
</ul>
<p>Такая архитектура позволяет каждомуERDDAP™администратор, отвечающий за определение того, где данные для негоERDDAP™Происходит от.</p>
<ul>
<li>другойERDDAP™Администраторы могут сделать то же самое. Нет необходимости в координации действий администраторов.</li>
<li>Если многоERDDAP™Администраторы связываются друг с другомERDDAPs формируется сеть распределения данных.</li>
<li>Данные будут быстро, эффективно и автоматически распространяться из источников данных. (ERDDAPs и другие серверы) Сайты перераспределения данных (ERDDAPs) В любом месте сети.</li>
<li>данностьERDDAP™может быть как источником данных для некоторых наборов данных, так и сайтом перераспределения для других наборов данных.</li>
<li>Полученная сеть примерно похожа на сети распределения данных, созданные с помощью таких программ, как:<a href="https://www.unidata.ucar.edu/projects/index.html#idd" target="_blank" rel="noopener noreferrer">UnidataIDD/IDM</a>менее жестко структурированы.
 </li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="security-authentication-and-authorization">Безопасность, аутентификация и авторизация<a href="#security-authentication-and-authorization" class="hash-link" aria-label="Прямая ссылка наБезопасность, аутентификация и авторизация" title="Прямая ссылка наБезопас ность, аутентификация и авторизация">​</a></h3>
<p>По умолчанию,ERDDAP™Работает как полностью публичный сервер (использоватьhttpи/илиhttps) без логина (<a href="https://en.wikipedia.org/wiki/Authentication" target="_blank" rel="noopener noreferrer">аутентификация</a>) Система и отсутствие ограничений на доступ к данным (<a href="https://en.wikipedia.org/wiki/Authorization" target="_blank" rel="noopener noreferrer">разрешение</a>) .</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="security">Безопасность<a href="#security" class="hash-link" aria-label="Прямая ссылка наБезопасность" title="Прямая ссылка наБезопасность">​</a></h4>
<p>Если вы хотите ограничить доступ к некоторым или всем наборам данных для некоторых пользователей, вы можете использоватьERDDAPВстроенная система безопасности. Когда используется система безопасности:</p>
<ul>
<li>ERDDAP™использование<a href="https://en.wikipedia.org/wiki/Role-based_access_control" target="_blank" rel="noopener noreferrer">Ролевой контроль доступа</a>.<!-- -->
<ul>
<li>TheERDDAP™Администратор определяет пользователей с помощью [...]&lt;пользователь&gt; (/docs/server-admin/datasets#user) метитьdatasets.xml. У каждого пользователя есть имя пользователя, пароль (Если аутентификация=обычай) и одной или нескольких ролей.</li>
<li>TheERDDAP™администратор определяет, какие роли имеют доступ к заданному набору данных через&lt;Доступно&gt;&gt; (/docs/server-admin/datasets#доступно) метитьdatasets.xmlДля любого набора данных, который не должен иметь публичный доступ.</li>
</ul>
</li>
<li>Статус входа пользователя (и ссылка для входа / выхода) Он будет отображаться в верхней части каждой страницы. (Зарегистрированный пользователь будет выглядетьERDDAP™не входить в систему, если он используетhttpURL.)</li>
<li>Если&lt;baseUrl&gt;, который вы указываете в настройках.xml <strong>http</strong> URL, пользователи, которые не вошли в систему, могут использоватьERDDAP? <strong>http</strong> URL. Если&lt;Также указывается baseHttpsUrl, пользователи, которые не вошли в систему, также могут использоватьhttpsURL.</li>
<li>Только HTTPS - Если&lt;baseUrl&gt;, который вы указываете в настройках.xml <strong>https</strong> URL, пользователям, которые не вошли в систему, рекомендуется (не принуждать) использоватьERDDAP? <strong>https</strong> URL - все ссылки наERDDAP™Сайты будут ссылаться наhttpsURL.</li>
</ul>
<p>Если вы хотите заставить пользователей использоватьhttpsURL, добавьте перенаправление постоянной строки внутри&lt;VirtualHost \*:80&gt; в конфигурационном файле Apache (обычноhttpd-conf) Например,</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;VirtualHost \\*:80&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        \\[...\\]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ServerName example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Redirect permanent / https://example.com/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/VirtualHost&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Копировать код в буфер обмена" title="Копия" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Если вы хотите, есть дополнительный метод, чтобы заставить использованиеhttps: <a href="https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security" target="_blank" rel="noopener noreferrer">HTTP - строгая транспортная безопасность (ГСТС) </a>. Чтобы использовать:</p>
<ol>
<li>Модуль заголовков Apache: заголовки a2enmod</li>
<li>Добавьте дополнительный заголовок в директиву HTTPS VirtualHost. Макс-возраст измеряется в секундах и м ожет быть установлен на некоторое длинное значение.</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;VirtualHost \\*:443&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            # Guarantee HTTPS for 1 Year including Sub Domains </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Header always set Strict-Transport-Security &quot;max-age=31536000; includeSubDomains&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Копировать код в буфер обмена" title="Копия" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Обратите внимание, что этот заголовок действителен только на виртуальном хосте HTTPS.</p>
<p>Причина не заставлять пользователей использоватьhttpsURL-адреса: базовая ссылка SSL / TLS требует времени для установки, а затем времени для шифрования и расшифровки всей информации, передаваемой между пользователем и сервером. Но некоторые институты требуютhttpsТолько.</p>
<ul>
<li>Пользователи, которые вошли в систему, должны использоватьERDDAP? <strong>https</strong> URL. Если они используютhttpURL-адреса, кажется,ERDDAP™Не быть зарегистрированным. Это обеспечивает конфиденциальность сообщений и помогает предотвратить<a href="https://en.wikipedia.org/wiki/Session_hijacking" target="_blank" rel="noopener noreferrer">сеансовый угон и боковой угон</a>.</li>
<li>Любой, кто не вошел в систему, может получить доступ и использовать общедоступные наборы данных. По умолчанию частные наборы данных не отображаются в списках наборов данных, если пользователь не вошел в систему. Если администратор установил setup.xml&lt;ListPrivateDatasets&gt; на самом деле они появятся. Попытки запросить данные из частных наборов данных (Если пользователь знает URL) будет перенаправлен на страницу входа.</li>
<li>Любой, кто вошел в систему, сможет видеть и запрашивать данные из любого общедоступного набора данных и любого частного набора данных, к которому их роль позволяет им доступ. По умолчанию частные наборы данных, к которым у пользователя нет доступа, не отображаются в списках наборов данных. Если администратор установил setup.xml&lt;ListPrivateDatasets&gt; на самом деле они появятся. Попытки запросить данные из частных наборов данных, к которым у пользователя нет доступа, будут перенаправлены на страницу входа в систему.</li>
<li>TheRSSИнформация для полностью частных наборов данных доступна только пользователям. (иRSSчитатель) которые вошли в систему и уполномочены использовать этот набор данных. Это делаетRSSЭто не очень полезно для полностью частных наборов данных.</li>
</ul>
<p>Если набор данных является частным, но его&lt;ГрафыДоступно&gt; (/docs/server-admin/datasets#graphsaccessibleto) является публичным, набор данныхRSSОн доступен для всех.</p>
<ul>
<li>Подписка на электронную почту может быть настроена только тогда, когда пользователь имеет доступ к набору данных. Если пользователь подписывается на частный набор данных, подписка продолжает функционировать после выхода пользователя из системы.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="setup-security">Настройка безопасности<a href="#setup-security" class="hash-link" aria-label="Прямая ссылка наНастройка безопасности" title="Прямая ссылка наНастройка безопасности">​</a></h5>
<p>Для создания системы безопасности/аутентификации/авторизации:</p>
<ul>
<li>Сде лайте стандартERDDAP™ <a href="/ru/docs/server-admin/deploy-install">начальная настройка</a>.</li>
<li>в<a href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a>,<!-- -->
<ul>
<li>Добавить/изменить&lt;аутентифицировать Ценность от ничего к обычаю (Не используйте это) Электронная почта (Не используйте это) Google (рекомендованный) кислота (рекомендованный) или Oauth2 (Google+Orcid (рекомендуется)) . Смотрите комментарии об этих вариантах ниже.</li>
<li>Добавить/изменить&lt;Базовое значение HttpsUrl.</li>
<li>Включить/отключить&amp;loginInfo;в&lt;startBodyHtml&gt; для отображения входа/выхода пользователя в верхней части каждой веб-страницы.</li>
</ul>
</li>
<li>Для тестирования на вашем персональном компьютере,<a href="https://tomcat.apache.org/tomcat-8.0-doc/ssl-howto.html" target="_blank" rel="noopener noreferrer">Следуйте этим инструкциям для настройки Tomcat для поддержки SSL</a>  (Основанием дляhttpsсоединения) путем создания магазина ключей с<a href="https://en.wikipedia.org/wiki/Self-signed_certificate" target="_blank" rel="noopener noreferrer">самоподписанный сертификат</a>и путем изменения <em>кот</em> /conf/server.xml для разъема порта 8443. В Windows вам может потребоваться переместить .keystore из «c:\Users\» <em>ты</em> \keystore&quot; на &quot;c:\Users\Default User\.keystore&quot; или &quot;c:\.keystore&quot; (смотреть <em>кот</em> /logs/Каталина. <em>сегодня</em> .log, если приложение не загружается или пользователи не могут видеть вход на страницу) . Вы можете увидеть, когда срок действия сертификата .keystore истекает, изучив сертификат при входе в систему.</li>
</ul>
<p>Для общедоступного сервера, вместо использования самоподписанного сертификата, настоятельно рекомендуется купить и установить сертификат, подписанный<a href="https://en.wikipedia.org/wiki/Certificate_authority" target="_blank" rel="noopener noreferrer">сертификационный орган</a>Это дает вашим клиентам больше уверенности в том, что они действительно связаны с вами.ERDDAP™Не человек посередине вашей версииERDDAP. Многие производители продают цифровые сертификаты. (Ищите в интернете.) Они не дорогие.</p>
<ul>
<li>На компьютерах Linux, если Tomcat работает в Apache, измените /etc/httpd/conf.d/ssl.conf файл, позволяющий HTTPS-трафикERDDAP™Не требуя номера порта :8443 в URL:<!-- -->
<ol>
<li>Изменить существующий&lt;VirtualHost&gt; Tag (Если есть один) Или добавьте один в конце файла, чтобы он, по крайней мере, имел следующие строки:</li>
</ol>
</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;VirtualHost \\_default\\_:443&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            SSLEngine on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            SSLProxyEngine On</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ProxyPass /erddap http://localhost:8443/erddap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ProxyPassReverse /erddap http://localhost:8443/erddap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/VirtualHost&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Копировать код в буфер обмена" title="Копия" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>Перезапуск Apache: /usr/sbin/apachectl -к грациозный (Но иногда он находится в другом каталоге.) .</li>
</ol>
<ul>
<li>в <em>кот</em> /conf/server.xml, uncomment the port=8443&lt;Тег Connector&gt;:</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;Connector port=&quot;8443&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;SSLHostConfig&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;Certificate certificateKeystoreFile=&quot;conf/localhost-rsa.jks&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type=&quot;RSA&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/SSLHostConfig&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/Connector&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Копировать код в буфер обмена" title="Копия" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>и изменить местоположение сертификата KeystoreFile.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="authorization">разрешение<a href="#authorization" class="hash-link" aria-label="Прямая ссылка наразрешение" title="Прямая сс ылка наразрешение">​</a></h5>
<ul>
<li><a href="#authorization">вdatasets.xmlСоздать a</a>[править]&lt;пользователь&gt; (/docs/server-admin/datasets#user) тег для каждого пользователя с именем пользователя, паролем (Если авторизация = обычай) и ролевой информации. Это часть авторизацииERDDAPСистема безопасности.
 </li>
<li>вdatasets.xmlДобавить [&lt;Доступно&gt;&gt; (/docs/server-admin/datasets#доступно) Тег для каждого набора данных, который не должен иметь общедоступный доступ.&lt;AccessTo&gt; позволяет указать, какие роли имеют доступ к этому набору данных.
 </li>
<li>Перезапустить Tomcat. Проблемы? Проверьте бревна Tomcat.
 </li>
<li>Проверь свою работу! Любая ошибка может привести к дефекту безопасности.
 </li>
<li>Проверьте, что страница входа используетhttps  (неhttp) . Попытки входа черезhttpдолжен быть автоматически перенаправлен наhttpsПорт 8443 (Номер порта может быть скрыт через прокси-сервер Apache.) . Возможно, вам придется работать с сетевым администратором, чтобы разрешить внешним веб-запросам доступ к порту 8443 на вашем сервере.
 </li>
<li>Вы можете изменить&lt;Пользователь и&lt;To&gt; Tags в любое время. Изменения будут применяться при следующей регулярной перезагрузке любого набора данных или ASAP, если вы используете<a href="#flag">флаг</a>.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="authentication">аутентификация<a href="#authentication" class="hash-link" aria-label="Прямая ссылка нааутентификация" title="Прямая ссылка нааутентификация">​</a></h5>
<p><a href="#authentication"> **аутентификация (входить) ** </a><br>
<!-- -->Если вы не хотите, чтобы пользователи могли войти в систему, не указывайте значение для&lt;Аутентификация в setup.xml.
Если вы хотите разрешить пользователям войти в систему, вы должны указать значение для&lt;Аутентификация. В настоящее времяERDDAP™поддержка
<a href="#custom">обычай</a>  (Не используйте это) ,
<a href="#email">электронная почта</a>  (Не используйте это) ,
<a href="#google">Google</a>  (рекомендованный) ,
<a href="#orcid">кислотный</a>  (рекомендованный) и
<a href="#oauth2">Оут2</a>  (рекомендованный) Для метода аутентификации.
Если вы хотите включить вход в систему, мы настоятельно рекомендуем варианты google, orcid или oauth2, потому что они освобождают вас от хранения и обработки паролей пользователя. (необходимый для обычаев) Они более безопасны, чем электронная почта. Помните, что пользователи часто используют один и тот же пароль на разных сайтах. Они могут использовать один и тот же пароль для вашегоERDDAP™Как это делают в банке. Это делает их пароль очень ценным — гораздо более ценным для пользователя, чем просто данные, которые они запрашивают. Поэтому вам нужно сделать все возможное, чтобы сохранить пароли в тайне. Это большая ответственность. Варианты электронной почты, Google, orcid и oauth2 заботятся о паролях, поэтому вам не нужно собирать, хранить или работать с ними. Вы освобождаетесь от этой ответственности.</p>
<p>Все&lt;Варианты аутентификации используют<a href="https://en.wikipedia.org/wiki/HTTP_cookie" target="_blank" rel="noopener noreferrer">печенье</a>на компьютере пользователя, поэтому браузер пользователя должен быть настроен, чтобы разрешить файлы cookie. Если пользователь делаетERDDAP™Запросы из компьютерной программы (Не браузер) Файлы cookie и аутентификация сложны в работе. Это общая проблема для всех систем аутентификации. Прости.</p>
<p>Подробности этого&lt;аутентификация Варианты следующие:</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="custom">обычай<a href="#custom" class="hash-link" aria-label="Прямая ссылка наобычай" title="Прямая ссылка наобычай">​</a></h6>
<p>обычайERDDAPпользовательская система, позволяющая пользователям войти в систему, введя свое имя пользователя и пароль в форме на веб-странице. Если пользователь пытается и не может войти в систему 3 раза в течение 10 минут, пользователь блокируется от попытки войти в систему в течение 10 минут. Это мешает хакерам просто пробовать миллионы паролей, пока они не найдут правильный.</p>
<p>Это довольно безопасно, потому что имя пользователя и пароль передаются черезhttps  (неhttp) Но аутентификация = Google, orcid или oauth2 лучше, потому что они освобождают  вас от необходимости обрабатывать пароли. Пользовательский подход требует, чтобы вы собрали имя пользователя и хеш-дайджест их пароля. (Используйте свой телефон! Электронная почта небезопасна!) и хранить их вdatasets.xmlв []&lt;пользователь&gt; (/docs/server-admin/datasets#user) бирки.</p>
<p>С пользовательским вариантом никто не может войти в систему, пока вы не (тотERDDAP™администратор) создавать&lt;тег user&gt; для пользователя, определяющий имя пользователя как имя пользователя, хеш-дайджест их пароля как пароля и их роли.</p>
<p>Не рекомендуется
Из-за неловкости генерации и передачи хеш-дайджеста пароля пользователя и из-за рисков, связанных сERDDAP™держа хеш-дайджесты паролей, этот вариант не рекомендуется.</p>
<p>Для повышения безопасности данного варианта:</p>
<ul>
<li>Вы должны убедиться, что другие пользователи на сервере (Пользователи Linux, неERDDAP™пользователи) Не могу читать файлы в каталоге Tomcat (Особенно еслиdatasets.xmlФайл!) илиERDDAPБольшой родительский справочник.
В Linux как user=tomcat используйте:
chmod - R g-rwx <em>BigParent Директория</em><br>
<!-- -->ЧМОД -R o-rwx <em>BigParent Директория</em><br>
<!-- -->chmod - R g-rwx <em>TomcatDirectory</em><br>
<!-- -->ЧМОД -R o-rwx <em>TomcatDirectory</em><br>
<!-- --> </li>
<li>Использ ование UEPSHA256&lt;passwordEncoding&gt; in setup.xml.
 </li>
<li>Используйте безопасный способ передачи хеш-дайджеста пароля пользователя от пользователя к пользователю.ERDDAP™администратор (Телефон?) .
 </li>
</ul>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="email">электронная почта<a href="#email" class="hash-link" aria-label="Прямая ссылка наэлектронная почта" title="Прямая ссылка наэлектронная почта">​</a></h6>
<p>Вариант аутентификации электронной почты использует учетную запись электронной почты пользователя для аутентификации пользователя (отправив им электронное письмо со специальной ссылкой, к которой они должны получить доступ, чтобы войти в систему;) . В отличие от других электронных писем, которыеERDDAP™посылает,ERDDAP™не записывает эти приглашения в файл журнала электронной почты, поскольку они содержат конфиденциальную информацию.
Теоретически это не очень безопасно, потому что электронные письма не всегда зашифрованы, поэтому плохой парень с возможностью перехвата электронных писем может злоупотреблять этой системой, используя адрес электронной почты действительного пользователя и перехватывая электронную почту приглашения.
На практике, если выERDDAP™использовать учетную запись электронной почты Google для отправки электронных писем, и если вы настроили ее для использования одного из вариантов TLS для подключения, и если у пользователя есть учетная запись электронной почты Google, это несколько безопасно, потому что электронные письма зашифрованы на всем пути отERDDAP™Для пользователя.</p>
<p>Для повышения безопасности данного варианта:</p>
<ul>
<li>Убедитесь, что другие пользователи на сервере (Пользователи Linux, неERDDAP™пользователи) не может читать файлы в каталоге TomcatERDDAPБольшой родительский справочник.
В Linux как user=tomcat используйте:
chmod - R g-rwx <em>BigParent Директория</em><br>
<!-- -->ЧМОД -R o-rwx <em>BigParent Директория</em><br>
<!-- -->chmod - R g-rwx <em>TomcatDirectory</em><br>
<!-- -->ЧМОД -R o-rwx <em>TomcatDirectory</em><br>
<!-- --> </li>
<li>Настройте вещи, чтобы получить сквозную безопасность для электронных писем, отправленных изERDDAP™для пользователей. Например, вы можете создать систему, ориентированную на Google, только создав&lt;теги пользователя для адресов электронной почты, управляемых Google, и путем настройки вашегоERDDAP™для использования сервера электронной почты Google через безопасное соединение / TLS: в setup.xml используйте, например,</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;emailSmtpHost&gt;smtp.gmail.com&lt;/emailSmtpHost&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;emailSmtpPort&gt;587&lt;/emailSmtpPort&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;emailProperties&gt;mail.smtp.starttls.enable|true&lt;/emailProperties&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Копировать код в буфер обмена" title="Копия" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Не рекомендуется
Опция аутентификации электронной почты не рекомендуется. Вместо этого используйте опцию google, orcid или oauth2.</p>
<p>Как и в случае с опциями google, orcid и oauth2, электронная почта очень удобна.ERDDAP™администраторам - вам никогда не придется иметь дело с паролями или их хеш-дайджестами. Все, что вам нужно сделать, это [...]&lt;пользователь&gt; (/docs/server-admin/datasets#user) Тег для пользователя вdatasets.xmlадрес электронной почты пользователя, которыйERDDAP™Используется как имя пользователя. (Атрибут пароля не используется при аутентификации=email, google, orcid или oauth2.)</p>
<p>С опцией электронной почты только пользователи, которые имеют&lt;Пользователь&gt; Tag indatasets.xmlМожет попытаться во йти вERDDAP™путем предоставления своего адреса электронной почты и нажатия на ссылку в электронном письме, котораяERDDAP™Отправляет их.</p>
<p>ERDDAP™рассматривает адреса электронной почты как нечувствительные к делу. Это делается путем преобразования адресов электронной почты, которые вы вводите (в)&lt;теги user&gt; или пользователи вводят (в форме login) Вся их нижняя версия.</p>
<p>Для настройки аутентификации=email:</p>
<ol>
<li>В setup.xml измените&lt;BaseHttpsUrl&gt; значение тега.
Для экспериментов / работы на вашем персональном компьютере, используйте
<a href="https://localhost:8443" target="_blank" rel="noopener noreferrer">https://localhost:8443</a><br>
<!-- -->Для вашей публикиERDDAP™использовать
https://<em>your.domain.org</em>:8443<br>
<!-- -->8443, если вы используете Apache<a href="/ru/docs/server-admin/deploy-install#proxypass">проксипас</a>Чтобы номер порта не понадобился.
 </li>
<li>В setup.xml измените&lt;аутентификация Ценность тега для электронной почты:</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;authentication&gt;email&lt;/authentication&gt;  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Копировать код в буфер обмена" title="Копия" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>В setup.xml убедитесь, что система электронной почты настроена через все&lt;e-mail &gt; теги, так чтоERDDAP™Может отправлять электронные письма. Если возможно, настройте это для использования безопасного соединения. (SSL / TLS) на сервер электронной почты.
 </li>
<li>В твоейdatasets.xmlСоздать [&lt;пользователь&gt; (/docs/server-admin/datasets#user) теги для каждого пользователя, который будет иметь доступ к частным наборам данных.
Используйте адрес электронной почты пользователя в качестве имени пользователя в теге.
Не указывайте атрибут пароля в теге пользователя.
 </li>
<li>ПерезапуститьERDDAP™Внесение изменений в setup.xml иdatasets.xmlдействовать.
 </li>
</ol>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="google-orcid-oauth2">Google, orcid, oauth2<a href="#google-orcid-oauth2" class="hash-link" aria-label="Прямая ссылка наGoogle, orcid, oauth2" title="Прямая ссылка наGoogle, orcid, oauth2">​</a></h6>
<ul>
<li><a href="#google"> <strong>Google</strong> </a>,<a href="#orcid"> <strong>кислотный</strong> </a>и<a href="#oauth2"> <strong>Оут2</strong> </a>   (рекомендованный)<br>
<!-- -->Все три варианта являются рекомендуемыми.ERDDAP™Варианты аутентификации. Это все самые безопасные варианты. Другие варианты имеют значительно более слабую безопасность.
 </li>
</ul>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="google">Google<a href="#google" class="hash-link" aria-label="Прямая ссылка наGoogle" title="Прямая ссылка наGoogle">​</a></h6>
<ul>
<li>Функция аутентификации Google использует<a href="https://developers.google.com/identity/gsi/web/guides/overview" target="_blank" rel="noopener noreferrer">знак Вместе с Google</a>который является осуществлением<a href="https://oauth.net/2/" target="_blank" rel="noopener noreferrer">Протокол аутентификации OAuth 2.0</a>.ERDDAP™пользователи входят в свою учетную запись электронной почты Google, включая учетные записи, управляемые Google, такие как@noaa.govсчета. Это позволяетERDDAP™для проверки личности пользователя (Имя и адрес электронной почты) и доступ к их изображению профиля, но не даетERDDAP™доступ к их электронной почте, Google Drive или любой другой личной информации.</li>
</ul>
<p>ДляERDDAP™v2.22 и ниже,ERDDAP™Используется «Google Sign-In». Google заявляет, что система обесценилась после 31 марта 2023 года. Если вы еще этого не сделали, пожалуйста, переключитесь наERDDAP™v2.23+ для использования новой системы аутентификации «Sign In with Google».</p>
<p>ДляERDDAP™v2.23 экземпляры с конфигурацией политики безопасности контента и использованием Google Authentication <a href="https://accounts.google.com" target="_blank" rel="noopener noreferrer">https://accounts.google.com</a> Перечень разрешенных скриптов (Сценарий-Src-Elem) .ERDDAP™больше не используется <a href="https://apis.google.com" target="_blank" rel="noopener noreferrer">https://apis.google.com</a> Если у вас есть такая возможность, вы можете удалить ее сейчас.</p>
<p>ДляERDDAP™v2.24 + может потребоваться добавить <a href="https://accounts.google.com/gsi/style" target="_blank" rel="noopener noreferrer">https://accounts.google.com/gsi/style</a> Ступенька и <a href="https://accounts.google.com/gsi/" target="_blank" rel="noopener noreferrer">https://accounts.google.com/gsi/</a> Объединить-Src. Для скрипта-src теперь можно использовать <a href="https://accounts.google.com/gsi/client" target="_blank" rel="noopener noreferrer">https://accounts.google.com/gsi/client</a>.</p>
<p>Для получения дополнительной информации вы можете перейти в<a href="https://developers.google.com/identity/gsi/web/guides/get-google-api-clientid#content_security_policy" target="_blank" rel="noopener noreferrer">Страница Google</a>Конфигурация CSP. Если у вас есть какие-либо вопросы, свяжитесь с chris.john на noaa.gov.
 </p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="orcid">кислотный<a href="#orcid" class="hash-link" aria-label="Прямая ссылка накислотный" title="Прямая ссылка накислотный">​</a></h6>
<ul>
<li>Опция аутентификации orcid использует<a href="https://members.orcid.org/api/integrate/orcid-sign-in" target="_blank" rel="noopener noreferrer">Орцидная аутентификация</a>который является осуществлением<a href="https://oauth.net/2/" target="_blank" rel="noopener noreferrer">Протокол аутентификации OAuth 2.0</a>.ERDDAP™Пользователи вступают в свои<a href="https://members.orcid.org/api/integrate/orcid-sign-in" target="_blank" rel="noopener noreferrer">Острый счет</a>Они обычно используются исследователями для идентификации себя. Это позволяетERDDAP™проверить личность пользователя и получить номер его учетной записи Orcid, но не даетERDDAP™доступ к другой информации учетной записи Orcid.</li>
</ul>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="oauth2">Оут2<a href="#oauth2" class="hash-link" aria-label="Прямая ссылка наОут2" title="Прямая ссылка наОут2">​</a></h6>
<ul>
<li>Опция oauth2 позволяет пользователям войти в систему либо со своей учетной записью Google, либо со своей учетной записью Orcid.</li>
</ul>
<p>Опции google, orcid и oauth2 являются преемниками опции openid.ERDDAP™Версия 1.68, которая была основана на открытой версии Идентификатор, который сейчас устарел. Пожалуйста, перейдите на опцию Google, orcid или oauth2.</p>
<p>Эти варианты очень удобны дляERDDAP™администраторам - вам никогда не придется иметь дело с паролями или их хеш-дайджестами. Все, что вам нужно сделать, это [...]&lt;пользователь&gt; (/docs/server-admin/datasets#user) Тег для пользователя вdatasets.xmlкоторый определяет адрес электронной почты пользователя Google или номер учетной записи Orcid в качестве атрибута имени пользователя. (Атрибут пароля не используется при аутентификации=email, google, orcid или oauth2.)</p>
<p>С этими опциями любой может войти вERDDAP™подписываясь на свою учетную запись электронной почты Google или учетную запись Orcid, но никто не будет иметь права доступа к частным наборам данных до тех пор, пока вы не получите доступ к ним. (тотERDDAP™администратор) создавать&lt;тег user&gt;, указав адрес электронной почты Google или номер учетной записи Orcid в качестве имени пользователя и указав их роли.</p>
<p>ERDDAP™рассматривает адреса электронной почты как нечувствительные к делу. Это делается путем преобразования адресов электронной почты, которые вы вводите (в)&lt;теги user&gt; или пользователи вводят (в форме login) Вся их нижняя версия.</p>
<p>Чтобы настроить аутентификацию Google, orcid или oauth2:</p>
<ul>
<li>В setup.xml измените&lt;BaseHttpsUrl&gt; значение тега.
Для экспериментов / работы на вашем персональном компьютере, используйте
<a href="https://localhost:8443" target="_blank" rel="noopener noreferrer">https://localhost:8443</a><br>
<!-- -->Для вашей публикиERDDAP™использовать
https://<em>your.domain.org</em>:8443<br>
<!-- -->8443, если вы используете Apache<a href="/ru/docs/server-admin/deploy-install#proxypass">проксипас</a>Чтобы номер порта не понадобился.
 </li>
<li>В setup.xml измените&lt;аутентификация Например, значение тега для Google, orcid или oauth2:</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;authentication&gt;oauth2&lt;/authentication&gt;  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Копировать код в буфер обмена" title="Копия" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="google-setup">Настройка Google<a href="#google-setup" class="hash-link" aria-label="Прямая ссылка наНастройка Google" title="Прямая ссылка наНастройка Google">​</a></h6>
<ul>
<li>Для вариантов Google и Oauth2:
Следуйте инструкциям ниже, чтобы настроить аутентификацию Google для вас.ERDDAP.
 <!-- -->
<ol>
<li>Если у вас нет аккаунта электронной почты Google,<a href="https://www.google.com/intl/en_us/mail/help/about.html" target="_blank" rel="noopener noreferrer">создать</a><br>
<!-- --> </li>
<li>Следить<a href="https://developers.google.com/identity/sign-in/web/devconsole-project" target="_blank" rel="noopener noreferrer">Эти инструкции</a>Создать проект Google Developers Console и получить идентификатор клиента.</li>
</ol>
</li>
</ul>
<p>Когда Google запрашивает авторизованную формуJavaПроисхождение сценария, введите значение из&lt;baseHttpsUrl с персонального компьютераERDDAP™setup.xml, например,
<a href="https://localhost:8443" target="_blank" rel="noopener noreferrer">https://localhost:8443</a><br>
<!-- -->На второй строке добавьте&lt;BaseHttpsUrl &gt; для вашей публикиERDDAP™setup.xml, например,
https://<em>your.domain.org</em>:8443</p>
<p>Не указывайте авторизованные перенаправления URI.</p>
<p>Когда вы видите свой идентификатор клиента для этого проекта, скопируйте и вставьте его в setup.xml (обычно чуть ниже).&lt;аутентификация&gt; быть упорядоченным, но размещение на самом деле не имеет значения&lt;googleClientID&gt; tag, например,
&lt;GoogleClientID&gt; <em>Ваш клиент</em> &lt;GoogleClientID
Идентификатор клиента будет состоять из 75 символов, начиная с нескольких цифр и заканчивая .apps.googleusercontent.com.
 </p>
<ol start="3">
<li>
<p>В твоейdatasets.xmlСоздать [&lt;пользователь&gt; (/docs/server-admin/datasets#user) Тег для каждого пользователя, который будет иметь доступ к частным наборам данных. Для атрибута имени пользователя в теге:</p>
<ul>
<li>Для пользователей, которые войдут в систему с Google, используйте адрес электронной почты Google.</li>
<li>Для пользователей, которые войдут с orcid, используйте номер учетной записи Orcid пользователя. (с тире) .</li>
</ul>
</li>
</ol>
<p>Не указывайте атрибут пароля для тега пользователя.
 
4. ПерезапуститьERDDAP™Внесение изменений в setup.xml иdatasets.xmlдействовать.
 </p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="orcid-setup">Орцидная установка<a href="#orcid-setup" class="hash-link" aria-label="Прямая ссылка наОрцидная установка" title="Прямая ссылка наОрцидная установка">​</a></h6>
<ul>
<li>Для вариантов Orcid и Oauth2:
Следуйте инструкциям ниже, чтобы настроить аутентификацию Orcid для вас.ERDDAP.
(Подробнее см.<a href="https://members.orcid.org/api/integrate/orcid-sign-in" target="_blank" rel="noopener noreferrer">Документация Orcid по аутентификации API</a>.)<br>
<!-- --> <!-- -->
<ol>
<li>Если у вас нет учетной записи Orcid,<a href="https://orcid.org/signin" target="_blank" rel="noopener noreferrer">создать</a><br>
<!-- --> </li>
<li>Войти в Orcid<a href="https://orcid.org/signin" target="_blank" rel="noopener noreferrer"> https://orcid.org/signin </a>Использование вашей личной учетной записи Orcid.
 </li>
<li>Нажмите «Инструменты разработчика» («Для исследователей» на вершине) .
 </li>
<li>Нажмите «Регистрация для бесплатного открытого API ORCID». Введите эту информацию:
Имя<!-- -->:ERDDAP<!-- -->™в\[Ваша организация\]<br>
<!-- -->Сайт:\[твойERDDAPдомен\]<br>
<!-- -->Описание<!-- -->:ERDDAP<!-- -->™Это сервер научных данных. Пользователи должны аутентифицироваться с Google или Orcid для доступа к непубличным наборам данных.
Перенаправить URI:\[твойERDDAPдомен\]/erddap/loginOrcid.html
 </li>
<li>Нажмите на значок Save (Похоже на 3,5-дюймовый диск!) .
Затем вы можете увидеть свой идентификатор клиента ORCID APP и секрет клиента ORCID.
 </li>
<li>Копирование и вставка идентификатора клиента ORCID APP (Начнем с «APP-») в setup.xml в настройках&lt;orcidClientID&gt; tag, например,</li>
</ol>
</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;orcidClientID&gt;APP-*ALPHANUMERICCHARACTERS*&lt;/orcidClientID&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Копировать код в буфер обмена" title="Копия" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="7">
<li>Копирование и вставка ORCID Client Secret (буквенно-цифровые знаки с тире) в setup.xml в настройках&lt;orcidClientSecret&gt; tag, например,</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;orcidClientSecret&gt;*alpha-numeric-characters-with-dashes*&lt;/orcidClientSecret&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Копировать код в буфер обмена" title="Копия" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="8">
<li>
<p>В твоейdatasets.xmlСоздать [&lt;пользователь&gt; (/docs/server-admin/datasets#user) Тег для каждого пользователя, который будет име ть доступ к частным наборам данных. Для атрибута имени пользователя в теге:</p>
<ul>
<li>Для пользователей, которые войдут в систему с Google, используйте адрес электронной почты Google.</li>
<li>Для пользователей, которые войдут с orcid, используйте номер учетной записи Orcid пользователя. (с тире) .</li>
</ul>
</li>
</ol>
<p>Не указывайте атрибут пароля для тега пользователя.
 
9. ПерезапуститьERDDAP™Внесение изменений в setup.xml иdatasets.xmlдействовать.
 </p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="log-in-either-way">Войти в любом случае<a href="#log-in-either-way" class="hash-link" aria-label="Прямая ссылка наВойти в любом случае" title="Прямая ссылка наВойти в любом случае">​</a></h6>
<p>Если вы используете опции аутентификации google, orcid или oauth2, а Google Sign-In или Orcid&#x27;s Authentication API внезапно перестают работать. (по какой бы то ни было причине) или перестает работать какERDDAP™Ожидает, пользователи не смогут войти в вашERDDAP. Как временный (постоянный) Решение, вы можете попросить пользователей зарегистрироваться в другой системе (Получите учетную запись электронной почты Google или учетную запись Orcid) . Для этого:</p>
<ol>
<li>Изменить&lt;Тег аутентификации&gt; позволяет использовать другую систему аутентификации. Опци я oauth2 позволяет пользователям входить в систему с любой из них.</li>
<li>дублировать каждый из&lt;теги user&gt; и изменить атрибут имени пользователя с адреса электронной почты Google на соответствующий номер учетной записи Orcid (или наоборот) Но сохраняйте атрибуты ролей одинаковыми.</li>
</ol>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="openid">Открытый<a href="#openid" class="hash-link" aria-label="Прямая ссылка наОткрытый" title="Прямая ссылка наОткрытый">​</a></h6>
<p>ERDDAP™Больше не поддерживает опцию аутентификации openid, которая была основана на версии openid. Идентификатор, который сейчас устарел. Вместо этого используйте опции google, orcid или oauth2.</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="basic">базовый<a href="#basic" class="hash-link" aria-label="Прямая ссылка набазовый" title="Прямая ссылка набазовый">​</a></h6>
<p>ERDDAP™Не поддерживает аутентификацию, потому что:</p>
<ul>
<li>BASIC, по-видимому, ориентирован на предопределенные веб-страницы, требующие безопасного доступа или полного доступа ко всему сайту.ERDDAP™разрешать (Ограниченный доступ) Наборы данных должны быть добавлены на лету.</li>
<li>Базовая аутентификация не дает пользователям возможности выйти из системы!</li>
<li>Базовая аутентификация не является безопас ной.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="secure-data-sources">Безопасные источники данных<a href="#secure-data-sources" class="hash-link" aria-label="Прямая ссылка наБезопасные источники данных" title="Прямая ссылка наБезопасные источники данных">​</a></h5>
<p>Если набор данных имеет ограниченный доступ кERDDAP™пользователи, источник данных (откудаERDDAP™получает данные) Они не должны быть общедоступными. Как можноERDDAP™получить данные для наборов данных с ограниченным доступом? Некоторые варианты:</p>
<ul>
<li>ERDDAP™может передавать данные из локальных файлов (Например, через EDDTable из материалов илиEDDGridИз материалов) .
 </li>
<li>ERDDAP™может быть в a<a href="https://en.wikipedia.org/wiki/Demilitarized_zone_(computing)" target="_blank" rel="noopener noreferrer">ДМЗ</a> и источник данных (Например,OPeNDAPсервер или база данных) может находиться за а<a href="https://en.wikipedia.org/wiki/Firewall" target="_blank" rel="noopener noreferrer">брандмауэр</a>где он доступен дляERDDAP™Но не для публики.
 </li>
<li>Источник данных может быть на общедоступном веб-сайте, но для получения данных требуется логин. Два типа данных, которыеERDDAP™Может войти в систему доступа<a href="/ru/docs/server-admin/datasets#eddtablefromdatabase">EDDTable FromDatabase</a>и<a href="/ru/docs/server-admin/datasets#eddtablefromcassandra">EDDTable From Кассандра</a>. Эти наб оры данных поддерживают (Всегда следует использовать) имена пользователей (создатьERDDAP™Пользователь, имеющий только привилегии чтения) пароли, SSL-соединения и другие меры безопасности.</li>
</ul>
<p>Но в целом в настоящее времяERDDAP™Они не могут работать с этими источниками данных, потому что у них нет условий для входа в систему. Именно поэтому доступ к<a href="/ru/docs/server-admin/datasets#eddfromerddap">EDDGridFromErddap и EDDTable Из Эрддапа</a>Наборы данных нельзя ограничивать. В настоящее время местноеERDDAP™не имеет возможности войти в систему и получить доступ к метаданным из удаленногоERDDAP. И поставить &quot;удаленную&quot;ERDDAP™За брандмауэром и удаление этого набора данных доступно Ограничения не решают проблему: поскольку пользователь запрашивает EDDXxx Данные FromErddap необходимо перенаправить на пультERDDAP™, удаленныйERDDAP™должны быть доступными.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defenses-against-hackers">Защита от хакеров<a href="#defenses-against-hackers" class="hash-link" aria-label="Прямая ссылка наЗащита от хакеров" title="Прямая ссылка наЗащита от хакеров">​</a></h4>
<p>Есть хакеры, которые пытаются использовать слабые места безопасности в серверном программном обеспечении.ERDDAP.ERDDAP™Следуй те общим советам по безопасности, чтобы иметь несколько уровней защиты:</p>
<ul>
<li>Ограниченные привилегии - Одной из наиболее важных защитных мер является запуск Tomcat через пользователя, называемого Tomcat, у которого нет пароля. (Никто не может войти в систему, как пользователь.) Имеет ограниченные привилегии файловой системы. (Например, доступ только для чтения к данным) . Видишь?ERDDAPИнструкция для<a href="/ru/docs/server-admin/deploy-install#tomcat">Настройка Tomcat</a>.</li>
<li>Тяжелое использование - В общем,ERDDAP™Он создан для интенсивного использования, в том числе скриптами, которые выполняют десятки тысяч запросов один за другим. Это трудно дляERDDAP™одновременно открыть себя для серьезного законного использования и защитить себя от злоупотреблений. Иногда трудно дифференцировать тяжелое законное использование, чрезмерное законное использование и незаконное использование. (Иногда это действительно легко) . Среди прочих защит,ERDDAP™сознательно не допускает ни одного запроса на использование чрезмерной доли ресурсов системы; (Если система не является активной) .</li>
<li>Идентификация проблемных пользователей - еслиERDDAP™Замедляется или  замерзает (Возможно, потому, что наивный пользователь или бот запускает несколько сценариев для отправки нескольких запросов одновременно или, возможно, из-за плохого парня.<a href="https://en.wikipedia.org/wiki/Denial-of-service_attack" target="_blank" rel="noopener noreferrer">Отказ в обслуживании</a>нападение) Вы можете посмотреть на<a href="#daily-report">Ежедневный e-mail</a>  (и более частой идентичной информации в<a href="#log">ERDDAP™файл</a>) отображает количество запросов, сделанных наиболее активными пользователями; (см. &quot;IP-адрес запроса (допускается) &quot;) .ERDDAP™Отправляйте электронные письма администратору, когда есть<a href="#failed-requests">«Необычная активность: &gt;25% запросов не удалось»</a>. Вы можете посмотреть вERDDAP™Файл журнала, чтобы увидеть характер их запросов. Если вы чувствуете, что кто-то делает слишком много запросов, (Ты не поверишь, что я видел, ну, может быть, ты поверишь) Или запросы типа атаки, вы можете добавить свой IP-адрес в черный список.</li>
<li>Черный список - Вы можете добавить IP-адрес проблемных пользователей, ботов и<a href="https://en.wikipedia.org/wiki/Denial-of-service_attack" target="_blank" rel="noopener noreferrer">Отказ в обслуживании</a>Нападавшие наERDDAP <a href="/ru/docs/server-admin/datasets#requestblacklist">черный сп исок</a>Поэтому будущие запросы от них будут немедленно отклонены. Эта установка вdatasets.xmlЧтобы вы могли быстро добавить IP-адрес в список, а затем<a href="#flag">флаг</a>набор данных, чтобыERDDAP™немедленно замечают и применяют изменения. Сообщение об ошибке, отправленное пользователям, включенным в черный список, побуждает их связаться сERDDAP™администратора, если он считает, что его по ошибке внесли в черный список. (По нашему опыту, несколько пользователей не знали, что они запускают несколько сценариев одновременно или что их сценарии делают бессмысленные запросы.)</li>
<li>Безопасность наборов данных - некоторые типы наборов данных (В частности, EDDTable FromDatabase) Дополнительные риски безопасности (Например, SQL-инъекция) имеют свои собственные меры безопасности. Смотрите информацию для этих типов наборов данных в<a href="/ru/docs/server-admin/datasets">Работая сdatasets.xmlФайл</a>особенно<a href="/ru/docs/server-admin/datasets#database-security">Безопасность EDDTableFromDatabase</a>.</li>
<li>Аудит безопасности - ХотяNOAAИТ-безопасность годами отказывала нам в сканировании, теперь они регулярно сканируют мои запросы. (Боба.)  ERDDAP™установка. Хотя при первоначальном сканировании были обнаружены некоторые проблемы, которые я затем исправил, при последующем сканировании не было обнаружено никаких проблем.ERDDAP. Сканирование беспокоит многих вещей: в частности, посколькуtabledapЗапросы выглядят как запросы SQL, они беспокоятся об уязвимостях SQL-инъекций. Но эти опасения необоснованны, потому чтоERDDAP™Всегда анализирует и проверяет запросы, а затем отдельно создает запрос SQL таким образом, чтобы избежать уязвимостей. Единственное, на что они иногда жалуются, так это на то, чтоJavaВерсии Tomcat не так актуальны, как они хотят, поэтому мы обновляем их в ответ. Раньше я предлагал показать людям отчеты по безопасности, но теперь мне говорят, что я не могу этого сделать.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="questions-suggestions">Вопросы? Предложения?<a href="#questions-suggestions" class="hash-link" aria-label="Прямая ссылка наВопросы? Предложения?" title="Прямая ссылка наВопросы? Предложения?">​</a></h4>
<p>Если у вас есть вопросы оERDDAPСистема безопасности или есть какие-либо вопросы, сомнения, проблемы или предложения о том, как она создана, см.<a href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="things-you-dont-need-to-know">Вещи, которые вам не нужно знать<a href="#things-you-dont-need-to-know" class="hash-link" aria-label="Прямая ссылка наВещи, которые вам не нужно знать" title="Прямая ссылка наВещи, которые вам не нужно знать">​</a></h2>
<p>Это детали, которые вам не нужно знать, пока не возникнет необходимость.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="second-erddap">ВторойERDDAP™<a href="#second-erddap" class="hash-link" aria-label="Прямая ссылка наВторойERDDAP™" title="Прямая ссылка наВторойERDDAP™">​</a></h3>
<ul>
<li><strong>Настройка второйERDDAP™Для тестирования/разработки</strong><br>
<!-- -->Если вы хотите сделать это, есть два подхода:</li>
<li>(Лучший) Установить Tomcat иERDDAP™на компьютере, отличном от компьютера, который имеет вашу публичнуюERDDAP. Если вы используете свой персональный компьютер:</li>
</ul>
<ol>
<li>
<p>Делайте установку по одному шагу за раз. Подними Томка и беги первым.
Когда Tomcat бежит, менеджер Tomcat должен
<a href="http://127.0.0.1:8080/manager/html/" target="_blank" rel="noopener noreferrer"> http://127.0.0.1:8080/manager/html/ </a>  (или, возможно,<a href="http://localhost:8080/manager/html/" target="_blank" rel="noopener noreferrer"> http://localhost:8080/manager/html/ </a>)</p>
</li>
<li>
<p>устанавливатьERDDAP.</p>
</li>
<li>
<p>Не используйте ProxyPass для удаления номера порта.ERDDAP™URL.</p>
</li>
<li>
<p>в<a href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a>Установите baseUrl для <a href="http://127.0.0.1:8080" target="_blank" rel="noopener noreferrer">http://127.0.0.1:8080</a></p>
</li>
<li>
<p>После того, как вы начнете этоERDDAP™Вы должны быть в состоянии увидеть это в
<a href="http://127.0.0.1:8080/erddap/status.html" target="_blank" rel="noopener noreferrer"> http://127.0.0.1:8080/erddap/status.html </a>  (или, возможно,<a href="http://localhost:8080/erddap/status.html" target="_blank" rel="noopener noreferrer"> http://localhost:8080/erddap/status.html </a>)</p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="second-tomcat">Второй Tomcat<a href="#second-tomcat" class="hash-link" aria-label="Прямая ссылка наВторой Tomcat" title="Прямая ссылка наВторой Tomcat">​</a></h4>
<ul>
<li>(Второе место) Установите другой Tomcat на том же компьютере, что и ваша публика.ERDDAP.</li>
</ul>
<ol>
<li>
<p>Делайте установку по одному шагу за раз. Подними Томка и беги первым.
Измените все номера портов, связанные со вторым Tomcat (Например, изменить 8080 на 8081)   (Видишь?<a href="https://tomcat.apache.org/tomcat-8.0-doc/RUNNING.txt" target="_blank" rel="noopener noreferrer">Несколько Tomcat Раздел Случаи</a>на полпути к этому документу) .</p>
</li>
<li>
<p>устанавливатьERDDAP™Новый Tomcat.</p>
</li>
<li>
<p>Не используйте ProxyPass для удаления номера порта.ERDDAP™URL.</p>
</li>
<li>
<p>в<a href="/ru/docs/server-admin/deploy-install#setupxml">Настройка.xml</a>Установите baseUrl для <a href="http://www.*yourDomainName*:8081" target="_blank" rel="noopener noreferrer">http://www.*yourDomainName*:8081</a></p>
</li>
<li>
<p>После того, как вы начнете этоERDDAP™Вы должны быть в состоянии увидеть это в
<a href="http://www.*yourDomainName*:8081/erddap/status.html" target="_blank" rel="noopener noreferrer">http://www.*yourDomainName*:8081/erddap/status.html</a><br>
<!-- --> </p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="solid-state-drives">Твердое государство ездит<a href="#solid-state-drives" class="hash-link" aria-label="Прямая ссылка наТвердое государство ездит" title="Прямая ссылка наТвердое государство ездит">​</a></h3>
<ul>
<li><strong>Твердое государство ездит (SSD) Отлично!</strong><br>
<!-- -->Самый быстрый, простой и дешевый способ ускоритьERDDAPДоступ к табличным данным заключается в размещении файлов данных на твердотельном накопителе (SSD) . Большинство табличных наборов данных относительно малы, поэтому SSD емкостью 1 или 2 ТБ, вероятно, достаточно для хранения всех файлов данных для всех ваших табличных наборов данных. SSD в конечном итоге изнашивается, если вы записываете данные в ячейку, удаляете их и записываете новые данные в эту ячейку слишком много раз. Поэтому, если вы просто используете свой SSD, чтобы записать данные один раз и прочитать их много раз, даже SSD потребительского класса должен длиться очень долго, вероятно, намного дольше, чем любой жесткий диск. (HDD) . Потребительские SSD теперь дешевы (в 2018 году ~ 200 долларов за 1 ТБ или ~ 400 долларов за 2 ТБ) И цены продолжают стремительно падать. КогдаERDDAP™получает доступ к файлу данных, SSD предлагает как более короткую задержку (~0,1 мс против ~3 мс для HDD, против ~10 (?) ms для RAID против ~55ms для Amazon S3) более высокая пропускная способность (~500 Мб/с против ~75 Мб/с для HDD, против ~500 Мб/с для RAID) . Таким образом, вы можете получить большой прирост производительности (До 10X против HDD) За 200 долларов! По сравнению с большинством других возможных изменений в вашей системе (Новый сервер за 10 тысяч долларов? Новый рейд за 35 тысяч долларов? Новый сетевой коммутатор за $5000 и т.д.) Это, безусловно, лучший возврат инвестиций (Рой) . Когда SSD умирает (1, 2, ... 8 лет) Замените его. Не полагайтесь на это как на долгосрочное архивное хранение данных, только для фронтальной копии данных.\[SSD также отлично подходит для сетчатых данных, но большинство сетчатых наборов данных намного больше, что делает SSD очень дорогим.\]</li>
</ul>
<p>Если ваш сервер не загружен памятью, дополнительная память для вашего сервера также является отличным и относительно недорогим способом ускорить все аспекты работы.ERDDAP.
 </p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="heavy-loads--constraints"><a href="#heavy-loads--constraints">Тяжелые грузы / ограничения</a> **<a href="#heavy-loads--constraints" class="hash-link" aria-label="Прямая ссылка наheavy-loads--constraints" title="Прямая ссылка наheavy-loads--constraints">​</a></h3>
<p>При интенсивном использовании, отдельноERDDAP™Они могут быть ограничены различными проблемами. Для получения дополнительной информации см.<a href="/ru/docs/server-admin/scaling#heavy-loads--constraints">Перечень ограничений и решений</a>.
 </p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="grids-clusters-and-federations">Сети, кластеры и федерации<a href="#grids-clusters-and-federations" class="hash-link" aria-label="Прямая ссылка наСети, кластеры и федерации" title="Прямая ссылка наСети, кластеры и федерации">​</a></h3>
<p>При очень интенсивном использовании один отдельныйERDDAP™Они сталкиваются с одним или несколькими ограничениями, и даже предлагаемых решений будет недостаточно. Для таких ситуаций,ERDDAP™имеет функции, которые позволяют легко создавать масштабируемые сетки (Также называется кластерами или федерациями.) изERDDAPs, которые позволяют системе справляться с очень тяжелым использованием; (Например, для большого центра обработки данных) . Для получения дополнительной информации см.<a href="/ru/docs/server-admin/scaling">Сети, кластеры и федерацииERDDAPs</a>.
 </p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cloud-computing">Облачные вычисления<a href="#cloud-computing" class="hash-link" aria-label="Прямая ссылка наОблачные вычисления" title="Прямая ссылка наОблачные вычисления">​</a></h3>
<p>Несколько компаний начинают предлагать<a href="https://en.wikipedia.org/wiki/Cloud_computing" target="_blank" rel="noopener noreferrer">Услуги облачных вычислений</a>  (например,<a href="https://aws.amazon.com/" target="_blank" rel="noopener noreferrer">Amazon Web Services</a>) .<a href="https://en.wikipedia.org/wiki/Web_hosting_service" target="_blank" rel="noopener noreferrer">Веб-хостинговые компании</a>Начиная с середины 1990-х годов, «облачные» сервисы значительно расширили гибкость систем и спектр предлагаемых услуг. Вы можете использовать эти услуги для создания одногоERDDAP™Сетка/кластерERDDAPs для очень интенсивного использования. Для получения дополнительной информации см.<a href="/ru/docs/server-admin/scaling#cloud-computing">облачные вычисления сERDDAP™</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon">Amazon<a href="#amazon" class="hash-link" aria-label="Прямая ссылка наAmazon" title="Прямая ссылка наAmazon">​</a></h3>
<ul>
<li><strong><a href="#amazon">Amazon Web Services (AWS) Обзор установки EC2</a></strong><br>
<a href="https://aws.amazon.com/" target="_blank" rel="noopener noreferrer">Amazon Web Services (AWS) </a>является<a href="https://en.wikipedia.org/wiki/Cloud_computing" target="_blank" rel="noopener noreferrer">облачные вычисления</a>Он предлагает широкий спектр компьютерной инфраструктуры, которую вы можете арендовать по часам. Вы можете установитьERDDAP™на<a href="https://aws.amazon.com/ec2/" target="_blank" rel="noopener noreferrer">Упругое вычислительное облако (EC2) </a>пример (Имя для компьютера, который вы можете арендовать по часам) . AWS обладает отличными<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/concepts.html" target="_blank" rel="noopener noreferrer">Руководство пользователя AWS</a>Вы можете использовать Google, чтобы найти ответы на конкретные вопросы. Приготовьтесь — это довольно много работы, чтобы начать. Но как только вы запустите один сервер, вы можете легко арендовать столько дополнительных ресурсов. (серверы, базы данных, SSD-пространство и т.д.) По мере необходимости, по разумной цене.\[Это не рекомендация или одобрение Amazon Web Services. Есть и другие облачные провайдеры.\]</li>
</ul>
<p>Обзор вещей, которые вы должны сделать, чтобы получитьERDDAP™Работает в AWS:</p>
<ul>
<li>Вы будете делать все, что опи сано в<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/concepts.html" target="_blank" rel="noopener noreferrer">Руководство пользователя AWS</a>.</li>
<li>Создайте учетную запись AWS.</li>
<li>Настройте пользователя AWS в этой учетной записи с правами администратора. Войдите как этот пользователь, чтобы сделать все следующие шаги.</li>
<li>Упругое хранение блоков (ЭБС) AWS эквивалент жесткого диска, подключенного к вашему серверу. Некоторое пространство EBS будет выделено при первом создании экземпляра EC2. Это постоянное хранилище - информация не теряется, когда вы останавливаете свой экземпляр EC2. И если вы меняете типы экземпляров, ваше пространство EBS автоматически прикрепляется к новому экземпляру.</li>
<li>Создайте эластичный IP-адрес, чтобы ваш экземпляр EC2 имел стабильный общедоступный URL-адрес. (В отличие от частного URL, который меняется каждый раз, когда вы перезагружаете свой экземпляр.) .</li>
<li>Создание и запуск экземпляра EC2 (компьютер) . Существует широкий спектр<a href="https://aws.amazon.com/ec2/instance-types/" target="_blank" rel="noopener noreferrer">Типы экземпляров</a>Каждый по другой цене. Пример m4.large или m4.xlarge является мощным и, вероятно, подходит для большинства применений, но выберите то, что соответствует вашим потребностям. Возможно, вы захотите использовать Linux от Amazon в качестве операционной системы.</li>
<li>Если ваш настольный компьютер / ноутбук является компьютером Windows, вы можете использовать<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/putty.html" target="_blank" rel="noopener noreferrer">Путти</a>Бесплатный SSH-клиент для Windows, чтобы получить доступ к командной строке вашего экземпляра EC2. Возможно, у вас есть программа SSH, которую вы предпочитаете.</li>
<li>При входе в свой экземпляр EC2 вы будете зарегистрированы как административный пользователь с именем пользователя «ec2-user». Пользователь ec2 имеет привилегию sudo. Итак, когда вам нужно сделать что-то как корневой пользователь, используйте: <em>Командир</em></li>
<li>Если ваш настольный компьютер / ноутбук является компьютером Windows, вы можете использовать<a href="https://stackoverflow.com/questions/16744863/connect-to-amazon-ec2-file-directory-using-filezilla-and-sftp" target="_blank" rel="noopener noreferrer">FileZilla</a>Бесплатная программа SFTP для передачи файлов в / из вашего экземпляра EC2. Или, возможно, у вас есть какая-то другая программа SFTP, которую вы предпочитаете.</li>
<li><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/install-LAMP.html" target="_blank" rel="noopener noreferrer">Установить Apache</a>На примере EC2.</li>
<li>Следуйте стандарту<a href="/ru/docs/server-admin/deploy-install">ERDDAP™Инструкция по установке</a>.
 </li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="waitthentryagain-exception">В ожидании повторного исключения<a href="#waitthentryagain-exception" class="hash-link" aria-label="Прямая ссылка наВ ожидании повторного исключения" title="Прямая ссылка наВ ожидании повторного исключения">​</a></h3>
<p>Пользователь может получить сообщение об ошибке
В ожидании повторного исключения:
Там был один (временной?) Проблема. Подожди минутку, потом попробуй еще раз. (В браузере нажмите кнопку Reload.)<br>
<!-- -->GridDataAccessor.increment: частичные результаты\[0\]= &quot;123542730&quot; должно было быть &quot;123532800&quot;.</p>
<p>Общим объяснением исключения WaitThenTryAgain является:
КогдаERDDAP™Отвечает на запрос пользователя, может возникнуть неожиданная ошибка с набором данных (Например, ошибка при чтении данных из файла или ошибка при доступе к удаленному набору данных.) . Следующая записьДалее TriAgain Signals toERDDAP™что запрос не был удовлетворен (пока) но этоERDDAP™Постарайтесь быстро перезагрузить набор данных (зовет<a href="#requestreloadasap">Запросить ReloadASAP</a>) и повторите запрос. Часто это удается, и пользователь просто видит, что ответ на запрос был медленным. В других случаях перезагрузка выходит из строя или происходит слишком медленно, или последующая попытка справиться с запросом также терпит неудачу и снова бросает WaitThenTryAgain. Если это случится,ERDDAP™отмечает набор данных для перезагрузки, но сообщает пользователю (Скачать игру WaitThenTryAgain) что произошел сбой при ответе на запрос.</p>
<p>Это нормальное поведение. Эта система может решать многие общие проблемы.
Но эта система может быть запущена чрезмерно. Наиболее распространенной причиной является то, чтоERDDAPЗагрузка набора данных не видит проблемы, ноERDDAPОтвет на запрос данных видит проблему. Независимо от причины, решение заключается в том, чтобы иметь дело с тем, что не так с набором данных. Посмотрите в log.txt, чтобы увидеть сообщения об ошибках и решить проблемы. Если много файлов имеют действительные заголовки, но недействительные данные (Поврежденный файл) Замените файлы некоррумпированными. Если соединение с RAID слабое, исправьте его. Если подключение к удаленному сервису является ненадежным, найдите способ сделать его ненадежным или загрузить все файлы из удаленного источника и обслуживать данные из локальных файлов.</p>
<p>Подробное объяснение этой конкретной ошибки (выше) Это:
Для каждогоEDDGridнабор данных,ERDDAP™сохраняет переменные значения оси в памяти. Они используются, например, для преобразования запрашиваемых значений оси, которые используют &quot; () &quot;формат в индексные номера. Например, если значения оси являются &quot;10, 15, 20, 25&quot;, запрос на (20) будет интерпретироваться как запрос на индекс #2 (0-базовые индексы) . КогдаERDDAP™Получает запрос на данные и получает данные от источника, он проверяет, что значения оси, которые он получил от источника, соответствуют значениям оси в памяти. Как правило, делают. Но иногда источник данных существенно менялся: например, значения индекса с начала переменной оси могли быть удалены. (Например, &quot;10, 15, 20, 25&quot; может стать &quot;20, 25, 30&quot;.) . Если это произойдет, то ясно, чтоERDDAPТолкование просьбы (например, &quot; (20) &quot;индекс #2) Теперь это неправильно. ТакERDDAP™Выбрасывает исключение и вызывает RequestReloadASAP.ERDDAP™Скоро обновят набор данных (часто в течение нескольких секунд, обычно в течение минуты) . Другие подобные проблемы также приводят к исключению WaitThenTryAgain.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="requestreloadasap">Запросить ReloadASAP<a href="#requestreloadasap" class="hash-link" aria-label="Прямая ссылка наЗапросить ReloadASAP" title="Прямая ссылка наЗапросить ReloadASAP">​</a></h4>
<p>Вы можете увидеть RequestReloadASAP в файле log.txt сразу после сообщения об ошибке.<a href="#waitthentryagain-exception">В ожидании повторного исключения</a>. Это, по сути, внутренний, программный способERDDAP™установить<a href="#flag">флаг</a>Чтобы сигнализировать, что набор данных должен быть перезагружен как можно скорее.
 </p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="files-not-being-deleted">Файлы не удаляются<a href="#files-not-being-deleted" class="hash-link" aria-label="Прямая ссылка наФайлы не удаляются" title="Прямая ссылка наФайлы не удаляются">​</a></h3>
<p>Для некоторыхERDDAP™Установки, возникла проблема с некоторыми временными файлами, создаваемымиERDDAP™оставаться открытым (ошибочно) и, таким образом, не удаляется. В некоторых случаях многие из этих файлов накопились и заняли значительное количество дискового пространства.</p>
<p>Надеюсь, что эти проблемы будут решены (какERDDAP™v2.00) . Если вы видите эту проблему, пожалуйста, напишите в каталог + имена оскорбительных файлов Крису. Джон на noaa.gov. У вас есть несколько вариантов решения проблемы:</p>
<ul>
<li>Если файлы не большие и не приводят к истощению дискового пространства, вы можете игнорировать проблему.</li>
<li>Самое простое решение — закрыть Tomcat.ERDDAP™  (Через несколько часов, так что меньше пользователей затронуты) . Во время отключения, если операционная система не удаляет файлы, удалите их вручную. Затем перезапуститьERDDAP.
 </li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="json-ld">ДЖОН-ЛД<a href="#json-ld" class="hash-link" aria-label="Прямая ссылка наДЖОН-ЛД" title="Прямая ссылка наДЖОН-ЛД">​</a></h3>
<ul>
<li><strong><a href="#json-ld">Семантическая разметка наборов данных с помощью json-ld (Джон связанные данные) </a></strong><br>
<!-- -->ERDDAP™Сейчас использует<a href="https://json-ld.org" target="_blank" rel="noopener noreferrer">джон-лд (Джон связанные данные) </a>чтобы сделать ваш каталог данных и наборы данных частью<a href="https://en.wikipedia.org/wiki/Semantic_Web" target="_blank" rel="noopener noreferrer">Семантическая паутина</a>Это идея Тима Бернерса-Ли сделать веб-контент более машиночитаемым и машинным «понятным». Содержимое json-ld<a href="https://schema.org/" target="_blank" rel="noopener noreferrer">schema.org</a>терминов и определений. Поисковые системы (<a href="https://developers.google.com/search/docs/data-types/datasets" target="_blank" rel="noopener noreferrer">Google в частности</a>) и другие семантические инструменты могут использовать эту структурированную разметку для облегчения обнаружения и индексации. Структурированная разметка json-ld выглядит как невидимая для людей&lt;сценарий код на <a href="https://.../erddap/info/index.html" target="_blank" rel="noopener noreferrer">https://.../erddap/info/index.html</a> веб-страница (Что такое семантическая паутина<a href="https://schema.org/DataCatalog" target="_blank" rel="noopener noreferrer">DataCatalog</a>) и на каждой <a href="https://.../erddap/info/" target="_blank" rel="noopener noreferrer">https://.../erddap/info/</a><em>datasetID</em>/index.html веб-страница (Что такое семантическая паутина<a href="https://schema.org/Dataset" target="_blank" rel="noopener noreferrer">Набор данных</a>) . (Особая благодарность Адаму Лидбеттеру и Робу Фуллеру из Морского института в Ирландии за то, что они проделали трудную часть работы, чтобы сделать эту часть своей жизни.ERDDAP.)<br>
<!-- --> </li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="out-of-date-urls">Out-Of-Date URL<a href="#out-of-date-urls" class="hash-link" aria-label="Прямая ссылка наOut-Of-Date URL" title="Прямая ссылка наOut-Of-Date URL">​</a></h3>
<p>Медленно, но верно, URL-адреса, которые поставщики данных записали в файлы данных, становятся устаревшими. (Например,httpстановитсяhttpsРеорганизованы веб-сайты, а такие организации, как NODC/NGDC/NCDC, реорганизованы в NCEI.) . В результате неработающие ссылки являются постоянной проблемой, с которой сталкиваются все веб-сайты. Чтобы справиться с этим,ERDDAP™Теперь есть система для автоматического обновления устаревших URL-адресов. Если генерировать наборы данных Xml видит устаревший URL, он добавляет обновленный URL для&lt;addAttributes&gt;. Кроме того, когда набор данных загружается, еслиERDDAP™Увидев устаревший URL, он незаметно меняет его на обновленный URL. Изменения контролируются серией поиска / замены с парами, определенными в&lt;UpdateUrls&gt; вERDDAP?
\[кот\]/webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml файл. Вы можете внести изменения там. Если у вас есть предложения по изменениям, или если вы считаете, что это должно быть преобразовано в услугу (как конвертеры) Пожалуйста, напишите Крису. Джон на noaa.gov.
 </p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cors">Корсы<a href="#cors" class="hash-link" aria-label="Прямая ссылка наКорсы" title="Прямая ссылка наКорсы">​</a></h3>
<ul>
<li>Корсы (<a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing" target="_blank" rel="noopener noreferrer">Кросс-оригинальный обмен ресурсами</a>)<br>
<!-- -->&quot;является механизмом, позволяющим ограничивать ресурсы (например, шрифты илиERDDAP™данные) на веб-странице, запрашиваемой из другого домена за пределами домена, из которого был подан первый ресурс&quot;. (Арун Ранганатан) . По сути, CORS - это сообщение, которое можно поместить в HTTP-заголовок ответа, сказав по существу: &quot;Это нормально для этого сайта, если некоторые другие сайты (конкретных, или всех) хватать ресурсы (например, данные) с этого сайта и сделать его доступным на своем сайте&quot;. Таким образом, это альтернатива<a href="https://en.wikipedia.org/wiki/JSONP" target="_blank" rel="noopener noreferrer">JSONP</a>.</li>
</ul>
<p>РазработчикиERDDAP™Не претендуйте на звание эксперта по безопасности. Мы не совсем ясно понимаем проблемы безопасности, связанные с CORS. Мы не хотим делать никаких заявлений в поддержку действий, которые снижают безопасность. Так что мы останемся нейтральными и оставим это на каждого.ERDDAP™админис тратор, чтобы решить, стоит ли преимущества или включение заголовка CORS рисков. Как всегда, если вашERDDAP™Если у вас есть какие-либо личные наборы данных, рекомендуется быть особенно осторожным с безопасностью.</p>
<p>Если вы хотите использовать CORS для своихERDDAP™Есть, есть<a href="https://enable-cors.org/index.html" target="_blank" rel="noopener noreferrer">Доступные инструкции</a>описание того, как администраторы веб-сайтов могут включить заголовок CORS через свое серверное программное обеспечение более низкого уровня (например, Apache или nginx) .</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="palettes">Палетки<a href="#palettes" class="hash-link" aria-label="Прямая ссылка наПалетки" title="Прямая ссылка наПалетки">​</a></h3>
<ul>
<li>Палеты используютсяERDDAP™преобразовывать диапазон значений данных в диапазон цветов при создании графиков и карт.</li>
</ul>
<p>Каждая палитра определена в файле палитры в стиле .cpt, используемом<a href="https://www.soest.hawaii.edu/gmt/" target="_blank" rel="noopener noreferrer">ГМТ</a>. ВсеERDDAP™Файлы .cpt являются действительными файлами GMT .cpt, но обратное неверно. Для использования вERDDAP™.cpt файлы имеют:</p>
<ul>
<li>Дополнительные строки комментариев в начале файла, начиная с «#».</li>
<li>Основной раздел с описанием сегментов палитры, по одному сегменту на линию. Каждая строка описания сегмента имеет 8 значений:
начинать Значение, начало, начало Зеленый, начинай. Синий, конечный цвет, красный, зеленый, синий.
Может быть любое количество сегментов.ERDDAP™Использует линейную интерполяцию между начальным / зеленым / синим и конечным / зеленым / синим каждого сегмента.</li>
</ul>
<p>Мы рекомендуем, чтобы каждый сегмент определял начальный и конечный цвета, которые отличаются друг от друга, и чтобы начальный цвет каждого сегмента был таким же, как и конечный цвет предыдущего сегмента, чтобы палитра описывала непрерывное сочетание цветов.ERDDAP™Имеет систему для создания на лету палитры дискретных цветов из палитры с непрерывным сочетанием цветов. АнERDDAP™Пользователь может указать, хочет ли он, чтобы палитра была непрерывной. (оригинал) или дискретный (полученный из оригинала) . Но есть законные причины не следовать этим рекомендациям для некоторых палитр.</p>
<ul>
<li>Начальная и конечная величины должны быть целыми.
Первый сегмент должен иметь начальную ценность = 0 и конечную ценность = 1.
Второй сегмент должен иметь начальную ценность = 1 и конечную ценность = 2.
И т.д.</li>
<li>Красный, зеленый и синий значения должны быть целыми числами от 0. (ни одного) ...255 (полностью) .</li>
<li>Конец файла должен иметь 3 строки с:<!-- -->
<ol>
<li>Цвет фонового rgb для значений данных меньше минимума цветовой панели, например: B 128 128 128
Это часто стартовый красный, стартовый зеленый и стартовый синий первого сегмента.</li>
<li>Цвет передней панели rgb для значений данных, превышающих максимум цветовой панели, например: F 128 0 0
Это часто конец красный, конец зеленый и конец синий последнего сегмента.</li>
<li>Цвет rgb для значений данных NaN, например, N 128 128 128
Часто серый серый (128 128 128) .</li>
</ol>
</li>
<li>Значения на каждой линии должны быть разделены вкладками, без посторонних пространств.</li>
</ul>
<p>Образец файла .cpt - BlueWhiteRed.cpt:</p>
<h1>Это BlueWhiteRed.cpt.</h1>
<p>0 0 0 128 1 0 0 255
1 0 0 255 2 0 255 255
2 0 255 255 3 255 255 255
3 255 255 255 4 255 255 0
4 255 255 0 5 255 0 0
5 255 0 0 6 128 0 0
B 0 0 128
F 128 0 0
N 128 128 128</p>
<p>Смотрите существующие файлы .cpt для других примеров. Если есть проблемы с файлом .cpt,ERDDAP™Скорее всего, вы допустите ошибку при анализе файла .cpt. (Что лучше, чем неправильно использовать информацию) .</p>
<p>Вы можете добавить дополнительные палитрыERDDAP. Вы можете сделать их сами или найти их в Интернете. (Например, в<a href="http://soliton.vm.bytemark.co.uk/pub/cpt-city/" target="_blank" rel="noopener noreferrer">cpt-город</a>) Хотя вам, вероятно, придется немного отредактировать их формат, чтобы соответствоватьERDDAPТребования .cpt. Чтобы получитьERDDAP™Чтобы использовать новый файл .cpt, храните файл в <em>кот</em> /webapps/erddap/WEB-INF/cptfiles (Это нужно сделать для каждой новой версии.ERDDAP) и либо:</p>
<ul>
<li>Если вы используете файл message.xml по умолчанию: добавьте имя файла в файл&lt;Palettes &gt; Tag in
<em>кот</em> /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml.
Если вы делаете это, вы должны делать это каждый раз, когда вы обновляете.ERDDAP.</li>
<li>Если вы используете пользовательский файл message.xml: добавьте имя файла в файл&lt;палитры&gt; тег в пользовательском файле message.xml: <em>кот</em> /content/erddap/messages.xml. Если вы делаете это, вам нужно сделать это только один раз. (Но есть и другая работа по поддержанию пользовательского файла message.xml) .</li>
</ul>
<p>Затем перезапуститьERDDAP™такERDDAP™Замечает изменения. Преимущество такого подхода в том, что можно указать порядок палитр в представленном пользователям списке. Если вы добавляете коллекцию, мы рекомендуем вам добавить приставку с инициалам и авторов. (например, &quot;KT\_&quot;) название каждой палитры для идентификации коллекции и так, что может быть несколько палитр, которые в противном случае имели бы одно и то же имя.</p>
<p>Пожалуйста, не удаляйте и не меняйте ни одну из стандартных палитр. Они являются стандартной характеристикой всехERDDAP™Установки. Если вы считаете, что палитра или коллекция палитр должны быть включены в стандартERDDAP™Распределение, потому что это / они будут общего использования, пожалуйста, отправьте их Крису. Джон на noaa.gov.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="colorbars">Колорбары<a href="#colorbars" class="hash-link" aria-label="Прямая ссылка наКолорбары" title="Прямая ссылка наКолорбары">​</a></h3>
<ul>
<li><strong>Как это сделатьERDDAP™Создавать цвета в цветовой панели?</strong></li>
</ul>
<ol>
<li>Пользователь выбирает одну из предопределенных<a href="#palettes">палитра</a>или использует по умолчанию, например, Rainbow. Палеты хранятся/определяются в файлах таблицы цветов в стиле GMT.cpt. Каждый из нихERDDAPПредопределенные палитры имеют простой целочисленный диапазон, например, от 0 до 1 (Если в палитре есть только одна секция) или от 0 до 4 (Если в палитре четыре секции) . Каждый сегмент файла охватывает от n до n+1, начиная с n=0.</li>
<li>ERDDAP™генерирует новый файл .cpt на лету, масштабируя диапазон предопределенной палитры (Например, 0-4) диапазон палитры, необходимой пользователю (например, от 0,1 до 50) а затем генерировать раздел в новой палитре для каждого раздела новой палитры (Например, шкала журнала с клещами на 0,1, 0,5, 1, 5, 10, 50 будет иметь 5 секций.) . Цвет для конечной точки каждого раздела генерируется путем нахождения соответствующего раздела палитры в файле .cpt, затем линейно интерполируя значения R, G и B. (Это то же самое, как GMT генерирует цвета из своих файлов таблицы цветов.) Эта система позволяетERDDAP™Начнем с общих палитр (Например, радуга с 8 сегментами, в общей сложности от 0 до 8) и создавать на заказ палитры на лету (Например, специальная радуга, которая отображает от 0,1 до 50 мг / л до цветов радуги.) .</li>
<li>ERDDAP™Затем использует этот новый файл .cpt для генерации цвета для каждого цветного пикселя в цветовой панели. (и позднее для каждой точки данных при составлении графика или карты) , снова найдя соответствующий раздел палитры в файле .cpt, затем линейно интерполируя значения R, G и B.</li>
</ol>
<p>Этот процесс может показаться излишне сложным. Но он решает проблемы, связанные с бревенчатыми шкалами, которые трудно решить другими способами.</p>
<p>Как имитировать то, чтоERDDAP™Делаешь? Это нелегко. Вы должны дублировать процесс, которыйERDDAP™Используется. Если вы являетесь aJavaПрограммист может использовать тот жеJavaкласс, которыйERDDAP™Использует для всего этого:
<em>кот</em> /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/coastwatch/sgt/CompoundColorMap.java.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="guidelines-for-data-distribution-systems">Руководящие принципы для систем распределения данных<a href="#guidelines-for-data-distribution-systems" class="hash-link" aria-label="Прямая ссылка наРуководящие принципы для систем распределения данных" title="Прямая ссылка наРуководящие принципы для систем распределения данных">​</a></h3>
<p>Можно найти более общие мнения о разработке и оценке систем распределения данных.<a href="https://coastwatch.pfeg.noaa.gov/erddap/images/erddapTalk/erdData.html" target="_blank" rel="noopener noreferrer">здесь</a>.
 </p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="archiveadataset">Архив данных<a href="#archiveadataset" class="hash-link" aria-label="Прямая ссылка наАрхив данных" title="Прямая ссылка наАрхив данных">​</a></h3>
<p>Включен в свойERDDAP™Установка - это инструмент командной строки под названием ArchiveADataset, который может помочь вам создать архив. (а.zipили.tar.gzфайл) часть или весь набор данных, хранящийся в серии netcdf-3;.ncфайлы данных в формате файла, который подходит для представленияNOAAАрхив NCEI (.ncдля сетчатых наборов данных или<a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#ncCFMA" target="_blank" rel="noopener noreferrer">.ncCFMA</a>для табличных наборов данных, указанных<a href="https://www.ncei.noaa.gov/data/oceans/ncei/formats/netcdf/v2.0/index.html" target="_blank" rel="noopener noreferrer">НЦЭИNetCDFШаблоны v2.0</a>) .</p>
<p>Архивы Набор данных может создавать два различных формата архива:</p>
<ul>
<li>«Оригинальный» формат следует этим<a href="https://www.ncdc.noaa.gov/atrac/guidelines.html" target="_blank" rel="noopener noreferrer">Руководство NCEI по архивированию</a>Это руководство для<a href="https://sites.google.com/a/noaa.gov/ncei-ioos-archive/cookbook?pli=1" target="_blank" rel="noopener noreferrer">Архив ваших данных в NCEI</a>и связанных с ним<a href="https://sites.google.com/a/noaa.gov/ncei-ioos-archive/cookbook/data-integrity" target="_blank" rel="noopener noreferrer">Практика обеспечения целостности данных</a>.</li>
<li>Формат «BagIt» позволяет<a href="https://en.wikipedia.org/wiki/BagIt" target="_blank" rel="noopener noreferrer">Файлы BagIt</a>стандартизированный формат архива, продвигаемый Библиотекой Конгресса США, как указано в<a href="https://tools.ietf.org/html/draft-kunze-bagit-14" target="_blank" rel="noopener noreferrer">Спецификация BagIt v0.97</a>.NOAANCEI может стандартизировать файлы BagIt для отправки в архив.</li>
</ul>
<p>Неудивительно, что<a href="/ru/docs/server-admin/datasets#global-attributes">глобальные и переменные метаданные</a>этоERDDAP™Поощрения/требования — это почти те же самые внутрифайловые метаданные CF и ACDD, которые поощряет/требует NCEI, поэтому все ваши наборы данных должны быть готовы к отправке в NCEI.<a href="https://www.nodc.noaa.gov/s2n/" target="_blank" rel="noopener noreferrer">Отправить 2NCEI</a>или<a href="https://www.ncdc.noaa.gov/atrac/index.html" target="_blank" rel="noopener noreferrer">АТРАК</a>  (Расширенный инструмент отслеживания и ресурсов NCEI для архивных коллекций) .</p>
<p>Если ты (тотERDDAP™администратор) использовать ArchiveADataset для отправки данных в NCEI, а затем (Не NCEI) Определите, когда отправлять часть данных в NCEI, и что это будет, потому что вы будете знать, когда появятся новые данные и как указать эту часть. (и NCEI не будет) . Таким образо м, ArchiveADataset - это инструмент, который вы можете использовать для создания пакета для отправки в NCEI.</p>
<p>Архивы Набор данных может быть полезен в других ситуациях, например, дляERDDAP™администраторы, которым необходимо конвертировать подмножество набора данных (На частномERDDAP) из его родного формата файла в набор<a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#ncCFMA" target="_blank" rel="noopener noreferrer">.ncФайлы CF</a>Чтобы общественностьERDDAP™может передавать данные из.ncФайлы CF вместо исходных файлов.</p>
<p>Как только вы создалиERDDAP™и запустить его (хотя бы один раз) Вы можете найти и использовать ArchiveADataset в <em>кот</em> /webapps/erddap/WEB-INF каталог. Есть скрипт Shell (Архив данных<!-- -->:ADataset<!-- -->.sh) Linux/Unix и пакетный файл (Архив данных<!-- -->:ADataset<!-- -->.bat) Для Windows.</p>
<p>В Windows, когда вы впервые запускаете ArchiveADataset, вам нужно отредактировать ArchiveADataset. bat файл с текстовым редактором, чтобы изменить путь к java. Файл exe, чтобы Windows могла найтиJava.</p>
<p>Когда вы запускаете ArchiveADataset, он задаст вам ряд вопросов. Для каждого вопроса введите ответ, затем нажмите Enter. Или нажмите ^C, чтобы выйти из программы в любое время.</p>
<p>Или же вы можете привести ответы на вопросы в порядок в командной строке. Для этого запустите программу один раз, введите и запишите свои ответы. Вы можете создать единую командную строку. (Ответы как параметры) который запускает программу и отвечает на все вопросы.
Используйте слово «по умолчанию», если вы хотите использовать значение по умолчанию для данного параметра.
Используйте &quot;&quot; (Две двойные цитаты) как заполнитель для пустой струны.
Определение параметров в командной строке может быть очень удобным, например, если вы используете ArchiveADataset один раз в месяц для архивирования данных за месяц. После того, как вы сгенерировали командную строку с параметрами и сохранили ее в заметках или в скрипте оболочки, вам просто нужно вносить небольшие изменения каждый месяц, чтобы сделать архив этого месяца.</p>
<p>Вопросы, которые задает ArchiveADataset, позволяют вам:</p>
<ul>
<li>Укажите оригинальную или упаковку файла Bagit. Для NCEI используйте Bagit.</li>
<li>Укажите zip или tar.gzКомпрессия для упаковки. Для NCEI используйте смолу.gz.</li>
<li>Укажите контактный адрес электронной почты для этого архива (Он будет записан в файле READ\_ME.txt в архиве.) .</li>
<li>УкажитеdatasetIDНабор данных, который вы хотите архивировать.</li>
<li>Укажите, какие переменные данных вы хотите архивировать (Обычно все) .</li>
<li>Укажите, какое подмножество набора данных вы хотите архивировать. Вам нужно отформатировать подмножество так же, как вы отформатировали бы подмножество для запроса данных, поэтому оно будет отличаться для сетчатых, чем для табличных наборов данных.<!-- -->
<ul>
<li>Для сетчатых наборов данных можно указать диапазон значений самого левого измерения, обычно это диапазон времени. ArchiveADataset делает отдельный запрос и генерирует отдельный файл данных для каждого значения в диапазоне значений. Поскольку сетчатые наборы данных обычно большие, вам почти всегда придется указывать небольшое подмножество относительно размера всего набора данных.
Например,\[ (2015-12-01) : (2015-12-31) \]\[\]\[\]\[\]</li>
<li>Для табличных наборов данных можно указать любой набор ограничений, но это часто диапазон времени. Поскольку табличные наборы данных обычно малы, часто можно указать отсутствие ограничений, так что весь набор данных архивируется.
Например, &amp;time&gt;=2015-12-01&amp;time&lt;2016-01-01</li>
</ul>
</li>
<li>Для табличных наборов данных: укажите разделенный запятой список из 0 или более переменных, которые определят, как архивированные данные дополнительно помещаются в различные файлы данных. Для наборов данных, которые имеют
<a href="/ru/docs/server-admin/datasets#cdm_data_type">cdm\_data\_type</a>Сериалы TimeSeries|TimeSeriesПрофиль|Траектория|TrajectoryProfile
Вы должны почти всегда указывать переменную, которая имеет cf\_role=timeseries\_id. (например,stationID) или cf\_role=trajectory\_id атрибут. ArchiveADataset делает отдельный запрос и генерирует отдельный файл данных для каждой комбинации значений этих переменных, например, для каждой из них.stationID.
Для всех других табличных наборов данных вы, вероятно, не будете указывать какие-либо переменные для этой цели.
Предупреждение: Если подмножество набора данных, который вы архивируете, очень велико. (2GB) и нет подходящей переменной для этой цели, тогда ArchiveADataset не может использоваться с этим набором данных. Это должно быть редкостью.</li>
<li>Укажите формат файла для файлов данных, которые будут созданы.
Для сетчатых наборов данных, для NCEI, использование.nc.
Для табличных наборов данных, для NCEI, использовать<a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#ncCFMA" target="_blank" rel="noopener noreferrer">.ncCFMA</a>если это вариант; иным образом использовать.nc.</li>
<li>Укажите тип дайджеста файлов, который будет создан для каждого файла данных и для всего пакета архивов: MD5, SHA-1 или SHA-256. Дайджест файлов обеспечивает путь для клиента (например, NCEI) Чтобы проверить, поврежден ли файл данных. Традиционно это были<a href="https://en.wikipedia.org/wiki/MD5" target="_blank" rel="noopener noreferrer">.md5 файлы</a>Но теперь есть лучшие варианты. Для NCEI используйте SHA-256.</li>
</ul>
<p>После того, как вы ответите на все вопросы, ArchiveADataset:</p>
<ol>
<li>
<p>Сделайте серию запросов к набору данных и поставьте полученные файлы данных в <em>BigParent Директория</em> /ArchiveADataset/ <em>datasetID\_timestamp</em> /.
Для сетчатых наборов данных будет файл для каждого значения самого левого измерения. (Например, время) . Имя файла будет таким значением. (Например, временная стоимость) .
Для табличных наборов данных будет файл для каждого значения ... переменной (s) . Имя файла будет т аким значением. Если существует более одной переменной, левые переменные будут использоваться для создания имен подкаталогов, а правая переменная будет использоваться для создания имен файлов.
Каждый файл данных должен быть&lt;2 ГБ (Максимально допустимый.ncВерсия 3 Файлы) .</p>
</li>
<li>
<p>Сделайте файл, связанный с каждым файлом данных, с дайджестом файла данных. Например, если файл данных 46088.ncи тип дайджеста .sha256, тогда файл дайджеста будет иметь имя 46088.nc.sha256.</p>
</li>
<li>
<p>Сделайте файл READ\_ME.txt с информацией об архиве, включая список всех настроек, которые вы указали для создания этого архива.</p>
</li>
<li>
<p>Создайте 3 файла в <em>BigParent Директория</em> /ArchiveADataset/:</p>
<ul>
<li>А..zipили.tar.gzАрхивный файл с именем <em>datasetID\_timestamp</em> .zip  (или.tar.gz) содержит все постановочные файлы данных и файлы дайджеста. Этот файл может быть любого размера, ограниченного только дисковым пространством.</li>
<li>Дайджест-файл для архивного файла, например, <em>datasetID\_timestamp</em> .zip.sha256.txt</li>
<li>Для «оригинального» типа архива используется текстовый файл с именем <em>datasetID\_timestamp</em> .zip.listOfFiles.txt (или.tar.gz) который содержит все файлы в.zip  (или.tar.gz) Файл.</li>
</ul>
</li>
</ol>
<p>Если вы го товите архив для NCEI, это файлы, которые вы отправите в NCEI.<a href="https://www.nodc.noaa.gov/s2n/" target="_blank" rel="noopener noreferrer">Отправить 2NCEI</a>или<a href="https://www.ncdc.noaa.gov/atrac/index.html" target="_blank" rel="noopener noreferrer">АТРАК</a>  (Расширенный инструмент отслеживания и ресурсов NCEI для архивных коллекций) .
5. Удалите все постановочные файлы, чтобы только архивный файл (например,.zip) , дайджест (Например, .sha256.txt) из архива и (необязательно) Файлы .listOfFiles.txt остаются.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="iso-19115-xml-metadata-files">ISO 19115.xml Файлы метаданных<a href="#iso-19115-xml-metadata-files" class="hash-link" aria-label="Прямая ссылка наISO 19115.xml Файлы метаданных" title="Прямая ссылка наISO 19115.xml Файлы метаданных">​</a></h4>
<p>Пакет архивов ArchiveADataset не включает в себя файл метаданных ISO 19115 .xml для набора данных. Если вы хотите / должны отправить файл ISO 19115 для своего набора данных в NCEI, вы можете отправить им файл метаданных ISO 19115 .xml, которыйERDDAP™Создан для набора данных (ноNMFSЛюди должны получить файл ISO 19115 для своих наборов данных из InPort.ERDDAP™уже не обслуживает этот файл) .</p>
<p>Проблемы? Предложения? ArchiveAdataset является новым. Если у вас есть проблемы или предложения, см.<a href="/ru/docs/intro#support">Раздел о дополнительной поддержке</a>.
 </p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/additional-information.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Редактировать эту страницу</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Страницы Docs"><a class="pagination-nav__link pagination-nav__link--prev" href="/ru/docs/server-admin/datasets"><div class="pagination-nav__sublabel">Предыдущий</div><div class="pagination-nav__label">ERDDAP™ - Working with the datasets.xml File</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ru/docs/server-admin/scaling"><div class="pagination-nav__sublabel">Следующий</div><div class="pagination-nav__label">Scaling</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#things-you-need-to-know" class="table-of-contents__link toc-highlight">Вещи, которые нужно знать</a><ul><li><a href="#proxy-errors" class="table-of-contents__link toc-highlight"><strong>Прокси-ошибки</strong></a></li><li><a href="#monitoring" class="table-of-contents__link toc-highlight">Мониторинг</a></li><li><a href="#multiple-simultaneous-requests" class="table-of-contents__link toc-highlight">Несколько одновременных Запросы</a></li><li><a href="#erddap-getting-data-from-thredds" class="table-of-contents__link toc-highlight">ERDDAP™Получение данных из THREDDS</a></li><li><a href="#responding-slowly" class="table-of-contents__link toc-highlight">Медленно ответить</a></li><li><a href="#shut-down-and-restart" class="table-of-contents__link toc-highlight">Закрыть и перезапустить</a></li><li><a href="#frequent-crashes-or-freezes" class="table-of-contents__link toc-highlight">Частые сбои или заморозки</a></li><li><a href="#monitor" class="table-of-contents__link toc-highlight">Монитор</a></li><li><a href="#tomcat-logs" class="table-of-contents__link toc-highlight">Логотип Tomcat</a></li><li><a href="#e-mail-log" class="table-of-contents__link toc-highlight">Электронная почта</a></li><li><a href="#daily-report" class="table-of-contents__link toc-highlight">Ежедневный отчет</a></li><li><a href="#status-page" class="table-of-contents__link toc-highlight">Страница статуса</a></li><li><a href="#addingchanging-datasets" class="table-of-contents__link toc-highlight">Добавление/изменение наборов данных</a></li><li><a href="#memory-status" class="table-of-contents__link toc-highlight">Состояние памяти</a></li><li><a href="#too-many-open-files" class="table-of-contents__link toc-highlight">Слишком много открытых файлов</a></li><li><a href="#failed-requests" class="table-of-contents__link toc-highlight">Неудачные запросы</a></li><li><a href="#robotstxt" class="table-of-contents__link toc-highlight">robots.txt</a></li><li><a href="#sitemapxml" class="table-of-contents__link toc-highlight">sitemap.xml</a></li><li><a href="#data-dissemination--data-distribution-networks-push-and-pull-technology" class="table-of-contents__link toc-highlight">Распространение данных / Data Distribution СетииPullТехнология</a></li><li><a href="#security-authentication-and-authorization" class="table-of-contents__link toc-highlight">Безопасность, аутентификация и авторизация</a></li></ul></li><li><a href="#things-you-dont-need-to-know" class="table-of-contents__link toc-highlight">Вещи, которые вам не нужно знать</a><ul><li><a href="#second-erddap" class="table-of-contents__link toc-highlight">ВторойERDDAP™</a></li><li><a href="#solid-state-drives" class="table-of-contents__link toc-highlight">Твердое государство ездит</a></li><li><a href="#heavy-loads--constraints" class="table-of-contents__link toc-highlight">Тяжелые грузы / ограничения **</a></li><li><a href="#grids-clusters-and-federations" class="table-of-contents__link toc-highlight">Сети, кластеры и федерации</a></li><li><a href="#cloud-computing" class="table-of-contents__link toc-highlight">Облачные вычисления</a></li><li><a href="#amazon" class="table-of-contents__link toc-highlight">Amazon</a></li><li><a href="#waitthentryagain-exception" class="table-of-contents__link toc-highlight">В ожидании повторного исключения</a></li><li><a href="#files-not-being-deleted" class="table-of-contents__link toc-highlight">Файлы не удаляются</a></li><li><a href="#json-ld" class="table-of-contents__link toc-highlight">ДЖОН-ЛД</a></li><li><a href="#out-of-date-urls" class="table-of-contents__link toc-highlight">Out-Of-Date URL</a></li><li><a href="#cors" class="table-of-contents__link toc-highlight">Корсы</a></li><li><a href="#palettes" class="table-of-contents__link toc-highlight">Палетки</a></li><li><a href="#colorbars" class="table-of-contents__link toc-highlight">Колорбары</a></li><li><a href="#guidelines-for-data-distribution-systems" class="table-of-contents__link toc-highlight">Руководящие принципы для систем распределения данных</a></li><li><a href="#archiveadataset" class="table-of-contents__link toc-highlight">Архив данных</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Докс</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ru/docs/intro">Документация</a></li><li class="footer__item"><a class="footer__link-item" href="/ru/docs/contributing">Вклад</a></li><li class="footer__item"><a class="footer__link-item" href="/ru/license">Лицензия</a></li><li class="footer__item"><a class="footer__link-item" href="/ru/changes">Изменения</a></li></ul></div><div class="col footer__col"><div class="footer__title">сообщество</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ru/governance">Управление</a></li><li class="footer__item"><a class="footer__link-item" href="/ru/technical-board">Технический совет</a></li><li class="footer__item"><a href="https://groups.google.com/g/erddap" target="_blank" rel="noopener noreferrer" class="footer__link-item">ERDDAP™Пользовательская группа<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://groups.google.com/g/erddap-announce" target="_blank" rel="noopener noreferrer" class="footer__link-item">ERDDAP™Объявлять<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/ERDDAP/erddap/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/ru/credits">Кредиты</a></li><li class="footer__item"><a class="footer__link-item" href="/ru/acknowledgements">Признания</a></li></ul></div><div class="col footer__col"><div class="footer__title">Принесенные тебе</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.noaa.gov" target="_blank" rel="noopener noreferrer" class="footer__link-item">NOAA<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.fisheries.noaa.gov" target="_blank" rel="noopener noreferrer" class="footer__link-item">NMFS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.fisheries.noaa.gov/about/southwest-fisheries-science-center" target="_blank" rel="noopener noreferrer" class="footer__link-item">SWFSC<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.fisheries.noaa.gov/about/environmental-research-division-southwest-fisheries-science-center" target="_blank" rel="noopener noreferrer" class="footer__link-item">ERD<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">ERDDAP™Версия 2.25. Авторское право © 2024ERDDAP™. Построен с помощью Docusaurus.</div></div></div></footer></div>
</body>
</html>