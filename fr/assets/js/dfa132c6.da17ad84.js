"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[451],{28453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>d});var i=n(96540);const r={},t=i.createContext(r);function a(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(t.Provider,{value:s},e.children)}},45464:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>d,default:()=>c,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"server-admin/scaling","title":"\xc9largissement","description":"ERDDAP\u2122- Charges lourdes, Grilles, Clusters, F\xe9d\xe9rations et Cloud Computing","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/server-admin/scaling.md","sourceDirName":"server-admin","slug":"/server-admin/scaling","permalink":"/fr/docs/server-admin/scaling","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/scaling.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"docSidebar","previous":{"title":"Renseignements suppl\xe9mentaires","permalink":"/fr/docs/server-admin/additional-information"},"next":{"title":"EDDTableFromEML","permalink":"/fr/docs/server-admin/EDDTableFromEML"}}');var r=n(74848),t=n(28453);const a={sidebar_position:5},d="\xc9largissement",o={},l=[{value:"ERDDAP\u2122- Charges lourdes, Grilles, Clusters, F\xe9d\xe9rations et Cloud Computing",id:"erddap---heavy-loads-grids-clusters-federations-and-cloud-computing",level:2},{value:"ERDDAP:",id:"erddap",level:2},{value:"DISCLAIMER",id:"disclaimer",level:2},{value:"Charges lourdes / contraintes",id:"heavy-loads--constraints",level:2},{value:"Bande passante \xe0 source distante",id:"remote-source-bandwidth",level:3},{value:"ERDDAPLa bande passante du serveur",id:"erddaps-server-bandwidth",level:3},{value:"M\xe9moire",id:"memory",level:3},{value:"La bande passante de Drive",id:"had-drive-bandwidth",level:3},{value:"Trop de fichiers class\xe9s",id:"too-many-files-cached",level:3},{value:"CPU",id:"cpu",level:3},{value:"Plusieurs identiquesERDDAPavec Load Balancing ?",id:"multiple-identical-erddaps-with-load-balancing",level:2},{value:"<strong>Grilles, groupements et f\xe9d\xe9rations</strong>",id:"grids-clusters-and-federations",level:2},{value:"Objectifs",id:"goals",level:3},{value:"Recommandations",id:"recommendations",level:3},{value:"Pi\xe8ces de grille",id:"grid-parts",level:3},{value:"CompositeERDDAP",id:"composite-erddap",level:4},{value:"Mise \xe0 jour max (heure) ?",id:"up-to-date-maxtime",level:5},{value:"Composite multipleERDDAPs",id:"multiple-composite-erddaps",level:4},{value:"Donn\xe9es en tr\xe8s forte demande",id:"datasets-in-very-high-demand",level:3},{value:"RAID versus disques durs r\xe9guliers",id:"raids-versus-regular-hard-drives",level:3},{value:"D\xe9fauts",id:"failures",level:3},{value:"Simple, \xe9volutive",id:"simple-scalable",level:3},{value:"Bande passante",id:"bandwidth",level:3},{value:"Comme les Legos",id:"like-legos",level:3},{value:"Types de demandes",id:"different-types-of-requests",level:3},{value:"Ce sont mes opinions.",id:"these-are-my-opinions",level:3},{value:"<strong>Informatique en nuage</strong>",id:"cloud-computing",level:2},{value:"Sous-position",id:"subsetting",level:3},{value:"Donn\xe9es h\xe9berg\xe9es",id:"hosted-data",level:3},{value:"R\xe9plication \xe0 distance des ensembles de donn\xe9es",id:"remote-replication-of-datasets",level:2},{value:"<strong>ObjetERDDAP\u2122Outils</strong>",id:"relevant-erddap-tools",level:3},{value:"Solutions",id:"solutions",level:3},{value:"Solutions personnalis\xe9es, Brute Force",id:"custom-brute-force-solutions",level:4},{value:"Rsync",id:"rsync",level:4},{value:"Cache de Url",id:"cache-from-url",level:4},{value:"ArchiveADataset",id:"archiveadataset",level:4},{value:"ERDDAP\u2122Le syst\xe8me de demande standard",id:"erddaps-standard-request-system",level:4},{value:"EDDTableFromHttpGet",id:"eddtablefromhttpget",level:4},{value:"Donn\xe9es distribu\xe9es",id:"distributed-data",level:4},{value:"Conclusion",id:"conclusion",level:3}];function u(e){const s={a:"a",br:"br",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"\xe9largissement",children:"\xc9largissement"})}),"\n",(0,r.jsx)(s.h2,{id:"erddap---heavy-loads-grids-clusters-federations-and-cloud-computing",children:"ERDDAP\u2122- Charges lourdes, Grilles, Clusters, F\xe9d\xe9rations et Cloud Computing"}),"\n",(0,r.jsx)(s.p,{children:"\xa0"}),"\n",(0,r.jsx)(s.h2,{id:"erddap",children:"ERDDAP:"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/index.html",children:"ERDDAP\u2122"}),"est une application web et un service web qui regroupe des donn\xe9es scientifiques provenant de diverses sources locales et distantes et offre un moyen simple et coh\xe9rent de t\xe9l\xe9charger des sous-ensembles de donn\xe9es dans des formats de fichiers communs et de faire des graphiques et des cartes. Cette page Web traite des questions li\xe9es \xe0ERDDAP\u2122l'utilisation charge et explore les possibilit\xe9s de faire face \xe0 des charges extr\xeamement lourdes via des r\xe9seaux, des grappes, des f\xe9d\xe9rations et l'informatique en nuage."]}),"\n",(0,r.jsx)(s.p,{children:"La version originale a \xe9t\xe9 \xe9crite en juin 2009. Il n'y a eu aucun changement significatif. Derni\xe8re mise \xe0 jour: 2019-04-15."}),"\n",(0,r.jsx)(s.h2,{id:"disclaimer",children:"DISCLAIMER"}),"\n",(0,r.jsx)(s.p,{children:"Le contenu de cette page Web est l'opinion personnelle de Bob Simons et ne refl\xe8te pas n\xe9cessairement la position du gouvernement ou de laNational Oceanic and Atmospheric Administration. Les calculs sont simplistes, mais je pense que les conclusions sont correctes. Ai-je utilis\xe9 une logique erron\xe9e ou fait une erreur dans mes calculs? Si oui, la faute est la mienne seule. Veuillez envoyer un email avec la correctionerd dot data at noaa dot gov.\n\xa0"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Oui."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"heavy-loads--constraints",children:"Charges lourdes / contraintes"}),"\n",(0,r.jsx)(s.p,{children:"Avec un usage intensif, un standaloneERDDAP\u2122sera limit\xe9 (de la plus \xe0 la moins probable) par:"}),"\n",(0,r.jsx)(s.h3,{id:"remote-source-bandwidth",children:"Bande passante \xe0 source distante"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["La bande passante d'une source de donn\xe9es distante \u2014 M\xeame avec une connexion efficace (Par exemple, viaOPeNDAP) , sauf si une source de donn\xe9es distante poss\xe8de une connexion Internet \xe0 bande passante tr\xe8s \xe9lev\xe9e,ERDDAP's r\xe9ponses seront limit\xe9es par la rapidit\xe9ERDDAP\u2122peut obtenir des donn\xe9es de la source de donn\xe9es. Une solution est de copier l'ensemble de donn\xe9es surERDDAPle disque dur, peut-\xeatre avec",(0,r.jsx)(s.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridCopier"}),"ou",(0,r.jsx)(s.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDTableCopy"}),".\n\xa0"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"erddaps-server-bandwidth",children:"ERDDAPLa bande passante du serveur"}),"\n",(0,r.jsxs)(s.ol,{start:"2",children:["\n",(0,r.jsx)(s.li,{children:"SaufERDDAPLe serveur a une connexion Internet tr\xe8s haute bande passante,ERDDAP's r\xe9ponses seront limit\xe9es par la rapidit\xe9ERDDAP\u2122peut obtenir des donn\xe9es des sources de donn\xe9es et \xe0 quelle vitesseERDDAP\u2122peut retourner des donn\xe9es aux clients. La seule solution est d'obtenir une connexion Internet plus rapide.\n\xa0"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"memory",children:"M\xe9moire"}),"\n",(0,r.jsxs)(s.ol,{start:"3",children:["\n",(0,r.jsxs)(s.li,{children:["S'il y a de nombreuses demandes simultan\xe9es,ERDDAP\u2122peut manquer de m\xe9moire et refuser temporairement de nouvelles requ\xeates. (ERDDAP\u2122a quelques m\xe9canismes pour \xe9viter cela et minimiser les cons\xe9quences si cela se produit.) Donc plus de m\xe9moire dans le serveur le mieux. Sur un serveur 32 bits, 4 Go+ est vraiment bon, 2 Go est correct, moins n'est pas recommand\xe9. Sur un serveur 64 bits, vous pouvez presque enti\xe8rement \xe9viter le probl\xe8me en obtenant beaucoup de m\xe9moire. Voir",(0,r.jsx)(s.a,{href:"/docs/server-admin/deploy-install",children:"Param\xe8tres \\-Xmx et -Xms"}),"pourERDDAPC'est Tomcat. UneERDDAP\u2122L'utilisation lourde sur un ordinateur avec un serveur 64 bits avec 8 Go de m\xe9moire et -Xmx r\xe9gl\xe9 \xe0 4000M est rarement, voire jamais, limit\xe9e par la m\xe9moire.\n\xa0"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"had-drive-bandwidth",children:"La bande passante de Drive"}),"\n",(0,r.jsxs)(s.ol,{start:"4",children:["\n",(0,r.jsx)(s.li,{children:"L'acc\xe8s aux donn\xe9es stock\xe9es sur le disque dur du serveur est beaucoup plus rapide que l'acc\xe8s aux donn\xe9es distantes. Malgr\xe9 cela, siERDDAP\u2122serveur a une connexion Internet tr\xe8s haute bande passante, il est possible que l'acc\xe8s aux donn\xe9es sur le disque dur sera un goulot d'\xe9tranglement. Une solution partielle est d'utiliser plus rapidement (Par exemple, 10 000 RPM) disques durs magn\xe9tiques ou disques SSD (si cela a un sens en termes de co\xfbts) . Une autre solution est de stocker diff\xe9rents ensembles de donn\xe9es sur diff\xe9rents disques, de sorte que la bande passante cumul\xe9e du disque dur est beaucoup plus \xe9lev\xe9e.\n\xa0"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"too-many-files-cached",children:"Trop de fichiers class\xe9s"}),"\n",(0,r.jsxs)(s.ol,{start:"5",children:["\n",(0,r.jsxs)(s.li,{children:["Trop de fichiers dans un",(0,r.jsx)(s.a,{href:"/docs/server-admin/additional-information#cached-responses",children:"cache"}),"r\xe9pertoire \u2014ERDDAP\u2122cache toutes les images, mais ne cache que les donn\xe9es pour certains types de requ\xeates de donn\xe9es. Il est possible que le r\xe9pertoire cache d'un jeu de donn\xe9es ait un grand nombre de fichiers temporairement. Cela ralentira les requ\xeates pour voir si un fichier est dans le cache (Vraiment !) .<cache Compte rendu et compte rendu",(0,r.jsx)(s.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"configuration.xml"}),"vous permet de d\xe9finir combien de temps un fichier peut \xeatre dans le cache avant qu'il ne soit supprim\xe9. La fixation d'un nombre plus petit permettrait de r\xe9duire au minimum ce probl\xe8me.\n\xa0"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"cpu",children:"CPU"}),"\n",(0,r.jsxs)(s.ol,{start:"6",children:["\n",(0,r.jsxs)(s.li,{children:["Seulement deux choses prennent beaucoup de temps CPU:","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"NetCDF4 etHDF5 supporte d\xe9sormais la compression interne des donn\xe9es. D\xe9compression d'un grand comprim\xe9NetCDF4 /HDF5 fichiers de donn\xe9es peuvent prendre 10 secondes ou plus. (Ce n'est pas une faute d'impl\xe9mentation. C'est la nature de la compression.) Ainsi, plusieurs requ\xeates simultan\xe9es aux ensembles de donn\xe9es avec des donn\xe9es stock\xe9es dans des fichiers compress\xe9s peuvent mettre une pression s\xe9v\xe8re sur n'importe quel serveur. Si c'est un probl\xe8me, la solution est de stocker des ensembles de donn\xe9es populaires dans des fichiers non compress\xe9s, ou obtenir un serveur avec un processeur avec plus de c\u0153urs."}),"\n",(0,r.jsx)(s.li,{children:"Cr\xe9ation de graphiques (y compris les cartes) : environ 0,2 \xe0 1 seconde par graphique. Donc, s'il y avait beaucoup de demandes simultan\xe9es uniques de graphiques (WMSclients font souvent 6 demandes simultan\xe9es!) , il pourrait y avoir une limitation CPU. Lorsque plusieurs utilisateurs fonctionnentWMSclients, cela devient un probl\xe8me.\n\xa0"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Oui."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"multiple-identical-erddaps-with-load-balancing",children:"Plusieurs identiquesERDDAPavec Load Balancing ?"}),"\n",(0,r.jsx)(s.p,{children:'La question se pose souvent: "Pour faire face aux charges lourdes, puis-je configurer plusieurs identiquesERDDAPs avec \xe9quilibrage de charge?" C\'est une question int\xe9ressante car elle arrive rapidement au c\u0153ur deERDDAPLa conception. La r\xe9ponse rapide est "non". Je sais que c\'est une r\xe9ponse d\xe9cevante, mais il y a quelques raisons directes et quelques raisons fondamentales plus importantes pour lesquelles j\'ai con\xe7uERDDAP\u2122utiliser une approche diff\xe9rente (une f\xe9d\xe9ration deERDDAPs, d\xe9crits dans la majeure partie du pr\xe9sent document) , qui, je crois, est une meilleure solution.'}),"\n",(0,r.jsx)(s.p,{children:"Quelques raisons directes pour lesquelles vous ne pouvez pas/ne devriez pas configurer plusieurs identiquesERDDAPs sont:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"A donn\xe9ERDDAP\u2122lit chaque fichier de donn\xe9es lorsqu'il devient d'abord disponible afin de trouver les gammes de donn\xe9es dans le fichier. Il stocke ensuite ces informations dans un fichier index. Plus tard, quand une demande de donn\xe9es de l'utilisateur arrive,ERDDAP\u2122utilise cet index pour d\xe9terminer quels fichiers rechercher les donn\xe9es demand\xe9es. S'il y avait plusieurs identiquesERDDAPs, ils feraient chacun cette indexation, qui est un effort gaspill\xe9. Avec le syst\xe8me f\xe9d\xe9r\xe9 d\xe9crit ci-dessous, l'indexation n'est faite qu'une fois, par l'un desERDDAPPar."}),"\n",(0,r.jsx)(s.li,{children:"Pour certains types de requ\xeates d'utilisateurs (Par exemple, pour.nc, .png, .pdf fichiers)  ERDDAP\u2122doit faire le fichier entier avant que la r\xe9ponse puisse \xeatre envoy\xe9e. AlorsERDDAP\u2122cache ces fichiers pour une courte p\xe9riode. Si une demande identique est pr\xe9sent\xe9e (comme il le fait souvent, en particulier pour les images o\xf9 l'URL est int\xe9gr\xe9e dans une page Web) ,ERDDAP\u2122peut r\xe9utiliser ce fichier mis en cache. Dans un syst\xe8me de multiples identiquesERDDAPs, ces fichiers mis en cache ne sont pas partag\xe9s, donc chaqueERDDAP\u2122serait inutilement et gaspill\xe9 recr\xe9er le.ncLes fichiers .png ou .pdf. Avec le syst\xe8me f\xe9d\xe9r\xe9 d\xe9crit ci-dessous, les fichiers ne sont faits qu'une seule fois, par l'un desERDDAPs, et r\xe9utilis\xe9."}),"\n",(0,r.jsx)(s.li,{children:"ERDDAPle syst\xe8me d'abonnement n'est pas mis en place pour \xeatre partag\xe9 par plusieursERDDAPPar. Par exemple, si l'\xe9quilibreur de charge envoie un utilisateur \xe0 unERDDAP\u2122et l'utilisateur s'inscrit \xe0 un jeu de donn\xe9es, puis l'autreERDDAPs ne sera pas au courant de cet abonnement. Plus tard, si l'\xe9quilibreur de charge envoie l'utilisateur \xe0 un autreERDDAP\u2122et demande une liste de ses abonnements,ERDDAP\u2122Dire qu'il n'y en a pas (lui permettant de faire un double abonnement sur l'autre EREDDAP) . Avec le syst\xe8me f\xe9d\xe9r\xe9 d\xe9crit ci-dessous, le syst\xe8me d'abonnement est simplement g\xe9r\xe9 par le principal, public, compositeERDDAP."}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Oui, pour chacun de ces probl\xe8mes, je pourrais (avec un grand effort) concevoir une solution (de partager les informations entreERDDAPs) Mais je pense que",(0,r.jsx)(s.a,{href:"#grids-clusters-and-federations",children:"F\xe9d\xe9ration deERDDAPapproche"}),"  (d\xe9crit dans la majeure partie du pr\xe9sent document) est une meilleure solution globale, en partie parce qu'elle traite d'autres probl\xe8mes que lesERDDAPL'approche s-with-a-load-balancer ne commence m\xeame pas \xe0 aborder, notamment la nature d\xe9centralis\xe9e des sources de donn\xe9es dans le monde."]}),"\n",(0,r.jsxs)(s.p,{children:["Il est pr\xe9f\xe9rable d'accepter le simple fait que je n'ai pas con\xe7uERDDAP\u2122\xe0 d\xe9ployer en tant que multiple identiqueERDDAPs avec un r\xe9gulateur de charge. J'ai con\xe7u consciemmentERDDAP\u2122de bien travailler au sein d'une f\xe9d\xe9ration deERDDAPs, qui, je crois, pr\xe9sente de nombreux avantages. En particulier, une f\xe9d\xe9ration deERDDAPs est parfaitement align\xe9 avec le syst\xe8me d\xe9centralis\xe9 et distribu\xe9 de centres de donn\xe9es que nous avons dans le monde r\xe9el (pensez aux diff\xe9rentes r\xe9gions de l'IOOS, ou aux diff\xe9rentes r\xe9gions de CoastWatch, ou aux diff\xe9rentes parties de l'INCE, ou aux 100 autres centres de donn\xe9esNOAA, ou les diff\xe9rents DAAC de la NASA, ou les 1000 de centres de donn\xe9es dans le monde entier) . Au lieu de dire \xe0 tous les centres de donn\xe9es du monde qu'ils doivent abandonner leurs efforts et mettre toutes leurs donn\xe9es dans un \xab lac de donn\xe9es \xbb centralis\xe9 (m\xeame si c'\xe9tait possible, c'est une id\xe9e horrible pour de nombreuses raisons -- voir les diff\xe9rentes analyses montrant les nombreux avantages de",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Decentralised_system",children:"syst\xe8mes d\xe9centralis\xe9s"}),") ,ERDDAPLe design fonctionne avec le monde tel qu'il est. Chaque centre de donn\xe9es qui produit des donn\xe9es peut continuer de maintenir, de gu\xe9rir et de servir leurs donn\xe9es (comme ils devraient) Et pourtant, avecERDDAP\u2122, les donn\xe9es peuvent \xe9galement \xeatre instantan\xe9ment disponibles \xe0 partir d'unERDDAP, sans la n\xe9cessit\xe9 de transmettre les donn\xe9es auERDDAP\u2122ou de stocker des copies en double des donn\xe9es. En effet, un ensemble de donn\xe9es peut \xeatre simultan\xe9ment disponible\nd ' unERDDAP\u2122aupr\xe8s de l'organisation qui a produit et stock\xe9 les donn\xe9es (Par exemple, GoMOOS) ,\nd ' unERDDAP\u2122aupr\xe8s de l ' organisation m\xe8re (Par exemple, IOS central) ,\nd'un...NOAA ERDDAP\u2122,\nd'un gouvernement f\xe9d\xe9ral am\xe9ricainERDDAP\u2122,\nd ' un syst\xe8me mondialERDDAP\u2122  (OBJET) ,\net desERDDAPs (Par exemple,ERDDAP\u2122dans un \xe9tablissement consacr\xe9 \xe0 la recherche HAB) ,\ntous essentiellement instantan\xe9ment, et efficacement parce que seules les m\xe9tadonn\xe9es sont transf\xe9r\xe9es entreERDDAPs, pas les donn\xe9es. Mieux que tout, apr\xe8s l'initialeERDDAP\u2122\xe0 l'organisme d'origine, tous les autresERDDAPs peut \xeatre configur\xe9 rapidement (quelques heures de travail) , avec des ressources minimales (un serveur qui n'a pas besoin de RAID pour le stockage des donn\xe9es car il ne stocke pas de donn\xe9es localement) , et donc \xe0 un co\xfbt vraiment minimal. Comparez cela au co\xfbt de la mise en place et de la maintenance d'un centre de donn\xe9es centralis\xe9 avec un lac de donn\xe9es et la n\xe9cessit\xe9 d'une connexion Internet r\xe9ellement massive, vraiment co\xfbteuse, plus le probl\xe8me qui accompagne le centre de donn\xe9es centralis\xe9 \xe9tant un seul point d'\xe9chec. Pour moi,ERDDAPL'approche d\xe9centralis\xe9e et f\xe9d\xe9r\xe9e est loin, bien sup\xe9rieure."]}),"\n",(0,r.jsxs)(s.p,{children:["Dans les situations o\xf9 un centre de donn\xe9es donn\xe9 a besoin de plusieursERDDAPs pour r\xe9pondre \xe0 une demande \xe9lev\xe9e,ERDDAP's conception est enti\xe8rement capable d'apparier ou de d\xe9passer l'efficacit\xe9 du multiple-identique-ERDDAPl'approche s-with-a-load-balancer. Vous avez toujours la possibilit\xe9 de mettre en place",(0,r.jsx)(s.a,{href:"#multiple-composite-erddaps",children:"multiples compositesERDDAPs (comme indiqu\xe9 ci-apr\xe8s) "}),", dont chacun obtient toutes leurs donn\xe9es de l'autreERDDAPs, sans \xe9quilibre de charge. Dans ce cas, je recommande que vous fassiez un point de donner chacun des compositesERDDAPs un nom / identit\xe9 diff\xe9rent et si possible les mettre en place dans diff\xe9rentes parties du monde (Par exemple, diff\xe9rentes r\xe9gions de l'AWS) , par exemple,ERD\\_US\\_Est,ERD\\_US\\_Ouest,ERD\\_IE,ERD\\_FR,ERD\\_IT, de sorte que les utilisateurs consciemment, \xe0 plusieurs reprises, travaillent avec unERDDAP, avec l'avantage suppl\xe9mentaire que vous avez retir\xe9 le risque d'un seul point d'\xe9chec.\n\xa0"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Oui."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"grids-clusters-and-federations",children:(0,r.jsxs)(s.a,{href:"#grids-clusters-and-federations",children:[" ",(0,r.jsx)(s.strong,{children:"Grilles, groupements et f\xe9d\xe9rations"})," "]})}),"\n",(0,r.jsxs)(s.p,{children:["Sous tr\xe8s forte utilisation, une seuleERDDAP\u2122rencontrera un ou plusieurs des",(0,r.jsx)(s.a,{href:"#heavy-loads--constraints",children:"contraintes"}),"et m\xeame les solutions propos\xe9es seront insuffisantes. Pour de telles situations,ERDDAP\u2122a des fonctionnalit\xe9s qui le rendent facile \xe0 construire des grilles \xe9volutives (\xe9galement appel\xe9s groupements ou f\xe9d\xe9rations) desERDDAPs qui permettent au syst\xe8me de g\xe9rer une utilisation tr\xe8s lourde (Par exemple, pour un grand centre de donn\xe9es) ."]}),"\n",(0,r.jsxs)(s.p,{children:["J'utilise",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Grid_computing",children:"grille"}),"comme terme g\xe9n\xe9ral pour indiquer un type de",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Computer_cluster",children:"cluster informatique"}),"o\xf9 toutes les parties peuvent ou non \xeatre physiquement situ\xe9es dans une installation et peuvent ou non \xeatre administr\xe9es centralement. Un avantage de grilles communes, centralis\xe9es et administr\xe9es (Groupes) est qu'ils b\xe9n\xe9ficient d'\xe9conomies d'\xe9chelle (en particulier la charge de travail humaine) et simplifient le bon fonctionnement des parties du syst\xe8me. Un avantage des grilles non colocalis\xe9es, non centralis\xe9es et administr\xe9es (f\xe9d\xe9rations) est qu'ils r\xe9partissent la charge de travail humaine et le co\xfbt, et peut fournir une certaine tol\xe9rance de faute suppl\xe9mentaire. La solution que je propose ci-dessous fonctionne bien pour toutes les topographies de grille, de grappe et de f\xe9d\xe9ration."]}),"\n",(0,r.jsxs)(s.p,{children:["L'id\xe9e de base de la conception d'un syst\xe8me modulable est d'identifier les goulets d'\xe9tranglement potentiels et de concevoir ensuite le syst\xe8me afin que des parties du syst\xe8me puissent \xeatre reproduites au besoin pour att\xe9nuer ces goulets d'\xe9tranglement. Id\xe9alement, chaque pi\xe8ce reproduite augmente la capacit\xe9 de cette partie du syst\xe8me lin\xe9airement (efficacit\xe9 de l'\xe9chelle) . Le syst\xe8me n'est pas \xe9volutif sauf s'il existe une solution \xe9volutive pour chaque goulot d'\xe9tranglement.",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Scalability",children:"\xc9chelle"}),"est diff\xe9rent de l'efficacit\xe9 (l'efficacit\xe9 des pi\xe8ces) . L'\xe9volutivit\xe9 permet au syst\xe8me de cro\xeetre pour faire face \xe0 n'importe quel niveau de demande. ",(0,r.jsx)(s.strong,{children:"Efficacit\xe9"}),"   (et des parties) d\xe9termine combien de serveurs, etc., seront n\xe9cessaires pour r\xe9pondre \xe0 un niveau de demande donn\xe9. L'efficacit\xe9 est tr\xe8s importante, mais a toujours des limites. La scalabilit\xe9 est la seule solution pratique pour construire un syst\xe8me capable de g\xe9rer ",(0,r.jsx)(s.strong,{children:"Tr\xe8s"})," Utilisation intensive. Id\xe9alement, le syst\xe8me sera \xe9volutif et efficace."]}),"\n",(0,r.jsx)(s.h3,{id:"goals",children:"Objectifs"}),"\n",(0,r.jsx)(s.p,{children:"Les objectifs de cette conception sont les suivants :"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Faire une architecture \xe9volutive (une qui est facilement extensible en reproduisant toute partie qui devient surcharg\xe9e) . \xc9tablir un syst\xe8me efficace qui maximise la disponibilit\xe9 et le d\xe9bit des donn\xe9es compte tenu des ressources informatiques disponibles. (Le co\xfbt est presque toujours un probl\xe8me.)"}),"\n",(0,r.jsx)(s.li,{children:"Pour \xe9quilibrer les capacit\xe9s des parties du syst\xe8me afin qu'une partie du syst\xe8me ne submerge pas une autre partie."}),"\n",(0,r.jsx)(s.li,{children:"Faire une architecture simple pour que le syst\xe8me soit facile \xe0 configurer et \xe0 administrer."}),"\n",(0,r.jsx)(s.li,{children:"Faire une architecture qui fonctionne bien avec toutes les topographies de grille."}),"\n",(0,r.jsx)(s.li,{children:"Faire un syst\xe8me qui \xe9choue gracieusement et de mani\xe8re limit\xe9e si une partie devient surcharg\xe9e. (Le temps n\xe9cessaire \xe0 la copie d'un grand ensemble de donn\xe9es limitera toujours la capacit\xe9 du syst\xe8me \xe0 faire face \xe0 l'augmentation soudaine de la demande d'un ensemble de donn\xe9es sp\xe9cifique.)"}),"\n",(0,r.jsxs)(s.li,{children:["(Si possible) Pour faire une architecture qui n'est li\xe9e \xe0 aucune",(0,r.jsx)(s.a,{href:"#cloud-computing",children:"calcul en nuage"}),"services ou autres services externes (parce qu'il n'en a pas besoin) ."]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"recommendations",children:"Recommandations"}),"\n",(0,r.jsxs)(s.p,{children:["Nos recommandations sont\n",(0,r.jsx)(s.img,{alt:"diagramme de grille/groupe",src:n(88623).A+"",width:"701",height:"516"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["En gros, je sugg\xe8re de mettre en place un CompositeERDDAP\u2122  ( ",(0,r.jsx)(s.strong,{children:"D"})," dans le diagramme) , qui est unERDDAP\u2122sauf qu'il sert seulement des donn\xe9es d'autresERDDAPPar. L'architecture de la grille est con\xe7ue pour d\xe9placer le plus de travail possible (Utilisation du processeur, utilisation de la m\xe9moire, utilisation de la bande passante) du CompositeERDDAP\u2122\xe0 l'autreERDDAPPar."]}),"\n",(0,r.jsxs)(s.li,{children:["ERDDAP\u2122a deux types de donn\xe9es sp\xe9cifiques,",(0,r.jsx)(s.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDGridDeErddap"}),"et",(0,r.jsx)(s.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDTableDeErddap"}),", qui se r\xe9f\xe8rent \xe0\nensembles de donn\xe9es sur les autresERDDAPPar."]}),"\n",(0,r.jsxs)(s.li,{children:["Lorsque le compositeERDDAP\u2122re\xe7oit une demande de donn\xe9es ou d'images de ces ensembles de donn\xe9es, le compositeERDDAP\u2122 ",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/URL_redirection",children:"redirections"}),"la demande de donn\xe9es \xe0 l'autreERDDAP\u2122serveur. Le r\xe9sultat est:","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["C'est tr\xe8s efficace (CPU, m\xe9moire et bande passante) , parce que autrement","\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Le compositeERDDAP\u2122doit envoyer la demande de donn\xe9es \xe0 l'autreERDDAP."}),"\n",(0,r.jsx)(s.li,{children:"L'autreERDDAP\u2122doit obtenir les donn\xe9es, les reformater et les transmettre au compositeERDDAP."}),"\n",(0,r.jsx)(s.li,{children:"Le compositeERDDAP\u2122doit recevoir les donn\xe9es (utilisant une bande passante suppl\xe9mentaire) , reformater (utilisant le temps et la m\xe9moire CPU suppl\xe9mentaires) , et transmettre les donn\xe9es \xe0 l'utilisateur (utilisant une bande passante suppl\xe9mentaire) . En redirigeant la demande de donn\xe9es et en autorisant l'autreERDDAP\u2122pour envoyer la r\xe9ponse directement \xe0 l'utilisateur, le compositeERDDAP\u2122d\xe9pense essentiellement aucun temps CPU, m\xe9moire ou bande passante sur les demandes de donn\xe9es."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"La redirection est transparente pour l'utilisateur quel que soit le logiciel client (un navigateur ou tout autre logiciel ou outil de ligne de commande) ."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"grid-parts",children:"Pi\xe8ces de grille"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"#grid-parts",children:"Les parties de la grille sont:"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"A"})," : Pour chaque source de donn\xe9es distante ayant une largeur de bande \xe9lev\xe9eOPeNDAPserveur, vous pouvez vous connecter directement au serveur distant. Si le serveur distant est unERDDAP\u2122, utiliserEDDGridDeErddap ou EDDTableDeERDDAPpour servir les donn\xe9es dans le CompositeERDDAP. Si le serveur distant est un autre type deDAPserveur, p.ex.Hyrax, ou GrADS, utiliserEDDGridDe Dap."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"B"})," : Pour chaqueERDDAP- source de donn\xe9es utilisable (une source de donn\xe9es \xe0 partir de laquelleERDDAPpeut lire des donn\xe9es) qui a un serveur haut d\xe9bit,ERDDAP\u2122dans la grille qui est charg\xe9e de fournir les donn\xe9es de cette source de donn\xe9es."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Si plusieursERDDAPs ne re\xe7oivent pas beaucoup de demandes de donn\xe9es, vous pouvez les regrouper en une seuleERDDAP."}),"\n",(0,r.jsxs)(s.li,{children:["SiERDDAP\u2122d\xe9di\xe9e \xe0 obtenir des donn\xe9es d'une source distante est obtenir trop de requ\xeates, il ya une tentation d'ajouterERDDAPs pour acc\xe9der \xe0 la source de donn\xe9es distante. Dans des cas particuliers, cela peut avoir un sens, mais il est plus probable que cela submergera la source de donn\xe9es distante (qui se d\xe9fait) et emp\xeache \xe9galement les autres utilisateurs d'acc\xe9der \xe0 la source de donn\xe9es distante (ce qui n'est pas gentil) . Dans un tel cas, envisager de cr\xe9er une autreERDDAP\u2122pour servir cet ensemble de donn\xe9es et copier l'ensemble de donn\xe9es sur ceERDDAPLe disque dur (voir ",(0,r.jsx)(s.strong,{children:"C"})," ) , peut-\xeatre avec",(0,r.jsx)(s.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridCopier"}),"et/ou",(0,r.jsx)(s.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDTableCopy"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"B"})," les serveurs doivent \xeatre accessibles au public."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"C"})," : Pour chaqueERDDAP-source de donn\xe9es \xe0 faible bande (ou est un service lent pour d'autres raisons) , envisager de cr\xe9er une autreERDDAP\u2122et stockant une copie de l'ensemble de donn\xe9esERDDAPles disques durs, peut-\xeatre avec",(0,r.jsx)(s.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridCopier"}),"et/ou",(0,r.jsx)(s.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDTableCopy"}),". Si plusieursERDDAPs ne re\xe7oivent pas beaucoup de demandes de donn\xe9es, vous pouvez les regrouper en une seuleERDDAP.\n",(0,r.jsx)(s.strong,{children:"C"})," les serveurs doivent \xeatre accessibles au public."]}),"\n",(0,r.jsx)(s.h4,{id:"composite-erddap",children:"CompositeERDDAP"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"D"})," : Le compositeERDDAP\u2122est un r\xe9gulierERDDAP\u2122sauf qu'il sert seulement des donn\xe9es d'autresERDDAPPar."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Parce que le compositeERDDAP\u2122a des informations en m\xe9moire de tous les ensembles de donn\xe9es, il peut r\xe9pondre rapidement aux demandes de listes de ensembles de donn\xe9es (recherche texte complet, recherche de cat\xe9gorie, la liste de tous les ensembles de donn\xe9es) , et les demandes pour un formulaire d'acc\xe8s aux donn\xe9es d'un ensemble de donn\xe9es, faire un formulaire graphique, ouWMSpage d'information. Ce sont toutes de petites pages HTML, g\xe9n\xe9r\xe9es dynamiquement, bas\xe9es sur des informations qui sont conserv\xe9es en m\xe9moire. Les r\xe9ponses sont donc tr\xe8s rapides."}),"\n",(0,r.jsx)(s.li,{children:"Parce que les demandes de donn\xe9es r\xe9elles sont rapidement redirig\xe9es vers l'autreERDDAPs, le compos\xe9ERDDAP\u2122peut r\xe9pondre rapidement aux demandes de donn\xe9es r\xe9elles sans utiliser de temps, de m\xe9moire ou de bande passante CPU."}),"\n",(0,r.jsx)(s.li,{children:"En d\xe9pla\xe7ant autant de travail que possible (CPU, m\xe9moire, bande passante) du CompositeERDDAP\u2122\xe0 l'autreERDDAPs, le compos\xe9ERDDAP\u2122peut sembler servir des donn\xe9es de tous les ensembles de donn\xe9es et n\xe9anmoins se tenir au courant d'un tr\xe8s grand nombre de demandes de donn\xe9es \xe9manant d'un grand nombre d'utilisateurs."}),"\n",(0,r.jsx)(s.li,{children:"Les essais pr\xe9liminaires indiquent que lesERDDAP\u2122peut r\xe9pondre \xe0 la plupart des demandes dans ~1ms de temps CPU, ou 1000 requ\xeates/seconde. Un processeur de 8 c\u0153urs devrait donc pouvoir r\xe9pondre \xe0 environ 8000 requ\xeates/seconde. Bien qu'il soit possible d'envisager des explosions d'activit\xe9 plus \xe9lev\xe9e qui provoqueraient des ralentissements, c'est beaucoup de rendement. Il est probable que la bande passante du centre de donn\xe9es sera le goulot d'\xe9tranglement bien avant le compositeERDDAP\u2122devient le goulot d'\xe9tranglement."}),"\n"]}),"\n",(0,r.jsx)(s.h5,{id:"up-to-date-maxtime",children:"Mise \xe0 jour max (heure) ?"}),"\n",(0,r.jsxs)(s.p,{children:["LesEDDGrid/TableFromErddap dans le compositeERDDAP\u2122ne change que les informations stock\xe9es sur chaque ensemble de donn\xe9es source lorsque l'ensemble de donn\xe9es source est",(0,r.jsx)(s.a,{href:"/docs/server-admin/datasets#reloadeverynminutes",children:'"recharger"'}),"et quelques modifications de m\xe9tadonn\xe9es (Par exemple, la variable temporelleactual\\_range) , g\xe9n\xe9rant ainsi une notification d'abonnement. Si l'ensemble de donn\xe9es source a des donn\xe9es qui changent fr\xe9quemment (Par exemple, de nouvelles donn\xe9es chaque seconde) et utilise les",(0,r.jsx)(s.a,{href:"/docs/server-admin/datasets#updateeverynmillis",children:'"mise \xe0 jour"'}),"syst\xe8me pour remarquer les changements fr\xe9quents aux donn\xe9es sous-jacentes,EDDGrid/TableFromErddap ne sera pas inform\xe9 de ces changements fr\xe9quents jusqu'\xe0 ce que le prochain jeu de donn\xe9es \"recharge\", donc leEDDGrid/TableFromErddap ne sera pas parfaitement \xe0 jour. Vous pouvez minimiser ce probl\xe8me en modifiant les donn\xe9es source<recharger chaque NMinutes> \xe0 une valeur moindre (60 ? 15 ?) pour qu'il y ait plus de notifications d'abonnementEDDGrid/TableFromErddap pour mettre \xe0 jour ses informations sur l'ensemble de donn\xe9es source."]}),"\n",(0,r.jsx)(s.p,{children:"Ou, si votre syst\xe8me de gestion des donn\xe9es sait quand l'ensemble de donn\xe9es source a de nouvelles donn\xe9es (Par exemple, via un script qui copie un fichier de donn\xe9es en place) , et si ce n'est pas super fr\xe9quent (Par exemple, toutes les 5 minutes ou moins) , il y a une meilleure solution:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Ne pas utiliser<mettre \xe0 jour chaque NMillis> pour tenir l'ensemble de donn\xe9es source \xe0 jour."}),"\n",(0,r.jsx)(s.li,{children:"D\xe9finir les donn\xe9es de la source<recharger chaque NMinutes> \xe0 un plus grand nombre (1440 ?) ."}),"\n",(0,r.jsxs)(s.li,{children:["Demandez au script de contacter l'ensemble de donn\xe9es source",(0,r.jsx)(s.a,{href:"/docs/server-admin/additional-information#set-dataset-flag",children:"URL du drapeau"}),"juste apr\xe8s avoir copi\xe9 un nouveau fichier de donn\xe9es en place.\nCela permettra \xe0 l'ensemble de donn\xe9es source d'\xeatre parfaitement \xe0 jour et de g\xe9n\xe9rer une notification d'abonnement, qui sera envoy\xe9e auEDDGrid/TableFromErddap dataset. Cela conduira \xe0EDDGrid/TableFromErddap dataset pour \xeatre parfaitement \xe0 jour (Eh bien, dans les 5 secondes de l'ajout de nouvelles donn\xe9es) . Et tout ce qui sera fait efficacement (sans recharge de donn\xe9es inutiles) ."]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"multiple-composite-erddaps",children:"Composite multipleERDDAPs"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Dans des cas tr\xe8s extr\xeames, ou pour la tol\xe9rance aux d\xe9fauts, vous pouvez vouloir mettre en place plus d'un compositeERDDAP. Il est probable que d'autres parties du syst\xe8me (notamment, la bande passante du centre de donn\xe9es) deviendra un probl\xe8me bien avant le compositeERDDAP\u2122devient un goulot d'\xe9tranglement. Donc la solution est probablement de mettre en place des centres de donn\xe9es suppl\xe9mentaires, g\xe9ographiquement divers (miroirs) , chacun avec un compositeERDDAP\u2122et serveurs avecERDDAPs et (au moins) des copies miroirs des ensembles de donn\xe9es qui sont en forte demande. Une telle configuration fournit \xe9galement la tol\xe9rance aux d\xe9fauts et la sauvegarde des donn\xe9es (par copie) . Dans ce cas, il est pr\xe9f\xe9rable que le compositeERDDAPs ont des URLs diff\xe9rentes."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Si vous voulez vraiment tout le compositeERDDAPs pour avoir la m\xeame URL, utilisez un syst\xe8me frontal qui assigne un utilisateur donn\xe9 \xe0 un seul des compositesERDDAPs (bas\xe9 sur l'adresse IP) , de sorte que toutes les demandes de l'utilisateur vont \xe0 une seule desERDDAPPar. Il y a deux raisons:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Lorsqu'un ensemble de donn\xe9es sous-jacent est recharg\xe9 et que les m\xe9tadonn\xe9es changent (Par exemple, un nouveau fichier de donn\xe9es dans un ensemble de donn\xe9es maill\xe9es provoque la variation de tempsactual\\_rangechanger) , leERDDAPs sera temporairement l\xe9g\xe8rement hors de synch, mais avec",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Eventual_consistency",children:"coh\xe9rence \xe9ventuelle"}),". Normalement, ils r\xe9-synchent dans les 5 secondes, mais parfois ce sera plus long. Si un utilisateur fait un syst\xe8me automatis\xe9 qui s'appuie sur",(0,r.jsx)(s.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/subscriptions/index.html",children:"ERDDAP\u2122abonnements"}),"qui d\xe9clenchent des actions, les brefs probl\xe8mes de synchronisation deviendront importants."]}),"\n",(0,r.jsx)(s.li,{children:"Le compos\xe9 2+ERDDAPs chacun tient ses propres abonnements (en raison du probl\xe8me de synchronisation d\xe9crit ci-dessus) ."}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Donc, un utilisateur donn\xe9 devrait \xeatre dirig\xe9 vers un seul des compositesERDDAPs pour \xe9viter ces probl\xe8mes. Si l'un des compos\xe9sERDDAPs descend, le syst\xe8me frontal peut redirigerERDDAPLes utilisateurs \xe0 un autreERDDAP\u2122C'est fini. Cependant, s'il s'agit d'un probl\xe8me de capacit\xe9 qui cause le premier compositeERDDAP\u2122\xe0 \xe9chouer (un utilisateur trop z\xe9l\xe9 ? a",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Denial-of-service_attack",children:"attaque de d\xe9ni de service"}),"?) , ce qui rend tr\xe8s probable que la r\xe9orientation de ses utilisateurs vers d'autres compositesERDDAPs provoquera",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Cascading_failure",children:"d\xe9faillance en cascade"}),". Ainsi, la configuration la plus robuste est d'avoir compositeERDDAPs avec diff\xe9rentes URLs."]}),"\n",(0,r.jsx)(s.p,{children:"Ou, peut-\xeatre mieux, installer plusieurs compositesERDDAPs sans \xe9quilibre de charge. Dans ce cas, vous devriez faire un point de donner chacun desERDDAPs un nom / identit\xe9 diff\xe9rent et si possible les mettre en place dans diff\xe9rentes parties du monde (Par exemple, diff\xe9rentes r\xe9gions de l'AWS) , par exemple,ERD\\_US\\_Est,ERD\\_US\\_Ouest,ERD\\_IE,ERD\\_FR,ERD\\_IT, de sorte que les utilisateurs travaillent consciemment avec unERDDAP."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\\[Pour une conception fascinante d'un syst\xe8me haute performance fonctionnant sur un serveur, voir ceci",(0,r.jsx)(s.a,{href:"https://mailinator.blogspot.com/2007/01/architecture-of-mailinator.html",children:"description d\xe9taill\xe9e de Mailinator"}),".\\]"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"datasets-in-very-high-demand",children:"Donn\xe9es en tr\xe8s forte demande"}),"\n",(0,r.jsxs)(s.p,{children:["Dans le cas vraiment inhabituel que l'un des ",(0,r.jsx)(s.strong,{children:"A"})," , ",(0,r.jsx)(s.strong,{children:"B"})," ou ",(0,r.jsx)(s.strong,{children:"C"}),"  ERDDAPs ne peut pas suivre les demandes en raison des limitations de bande passante ou de disque dur, il est logique de copier les donn\xe9es (encore) sur un autre serveur+hard D\xe9marrer+ERDDAP, peut-\xeatre avec",(0,r.jsx)(s.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridCopier"}),"et/ou",(0,r.jsx)(s.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDTableCopy"}),". Bien qu'il puisse sembler id\xe9al d'avoir l'ensemble de donn\xe9es original et l'ensemble de donn\xe9es copi\xe9 apparaissent parfaitement comme un ensemble de donn\xe9es dans le compositeERDDAP\u2122, c'est difficile parce que les deux ensembles de donn\xe9es seront dans des \xe9tats l\xe9g\xe8rement diff\xe9rents \xe0 des moments diff\xe9rents (notamment, apr\xe8s que l'original obtient de nouvelles donn\xe9es, mais avant que l'ensemble de donn\xe9es copi\xe9 obtient sa copie) . Par cons\xe9quent, je recommande que les ensembles de donn\xe9es soient donn\xe9s des titres l\xe9g\xe8rement diff\xe9rents (Par exemple, \"... (copie #1) \"et \"... (exemplaire #2) \", ou peut - \xeatre \" (miroir ",(0,r.jsx)(s.em,{children:"N"}),' ) " ou " (serveur # ',(0,r.jsx)(s.em,{children:"N"}),' ) ") et apparaissent comme ensembles de donn\xe9es s\xe9par\xe9s dans le compositeERDDAP. Les utilisateurs sont habitu\xe9s \xe0 voir des listes de',(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Website#mirror_site",children:"sites miroirs"}),"sur les sites de t\xe9l\xe9chargement de fichiers populaires, donc cela ne devrait pas les surprendre ou les d\xe9cevoir. En raison des limites de bande passante sur un site donn\xe9, il peut \xeatre logique d'avoir le miroir situ\xe9 sur un autre site. Si la copie miroir se trouve dans un centre de donn\xe9es diff\xe9rent, accessible uniquement par le composite de ce centre de donn\xe9esERDDAP\u2122, les diff\xe9rents titres (Par exemple, \"miroir #1) ne sont pas n\xe9cessaires."]}),"\n",(0,r.jsx)(s.h3,{id:"raids-versus-regular-hard-drives",children:"RAID versus disques durs r\xe9guliers"}),"\n",(0,r.jsxs)(s.p,{children:["Si un grand jeu de donn\xe9es ou un groupe de ensembles de donn\xe9es ne sont pas fortement utilis\xe9s, il peut \xeatre logique de stocker les donn\xe9es sur un RAID puisqu'il offre une tol\xe9rance aux d\xe9fauts et que vous n'avez pas besoin de la puissance de traitement ou de la bande passante d'un autre serveur. Mais si un ensemble de donn\xe9es est fortement utilis\xe9, il peut \xeatre plus logique de copier les donn\xe9es sur un autre serveur +ERDDAP\u2122+ disque dur (similaire \xe0",(0,r.jsx)(s.a,{href:"https://storagemojo.com/2007/02/19/googles-disk-failure-experience/",children:"ce que Google fait"}),") plut\xf4t que d'utiliser un serveur et un RAID pour stocker plusieurs ensembles de donn\xe9es puisque vous pouvez utiliser les deux serveurs+hardDrive+ERDDAPs dans la grille jusqu'\xe0 ce que l'un d'eux \xe9choue."]}),"\n",(0,r.jsx)(s.h3,{id:"failures",children:"D\xe9fauts"}),"\n",(0,r.jsx)(s.p,{children:"Et si..."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Il y a une explosion de demandes pour un ensemble de donn\xe9es (Par exemple, tous les \xe9l\xe8ves d'une classe demandent simultan\xe9ment des donn\xe9es similaires) ?\nSeul leERDDAP\u2122servir cet ensemble de donn\xe9es sera submerg\xe9 et ralentira ou refusera les demandes. Le compositeERDDAP\u2122et autresERDDAPS ne sera pas affect\xe9. Puisque le facteur limite pour un ensemble de donn\xe9es donn\xe9 dans le syst\xe8me est le disque dur avec les donn\xe9es (pasERDDAP) , la seule solution (pas imm\xe9diatement) est de faire une copie de l'ensemble de donn\xe9es sur un serveur diff\xe9rent+hardDrive+ERDDAP."}),"\n",(0,r.jsxs)(s.li,{children:["Une ",(0,r.jsx)(s.strong,{children:"A"})," , ",(0,r.jsx)(s.strong,{children:"B"})," ou ",(0,r.jsx)(s.strong,{children:"C"}),"  ERDDAP\u2122\xe9choue (Par exemple, d\xe9faillance du disque dur) ?\nSeul l'ensemble de donn\xe9es (s) servi par celaERDDAP\u2122sont affect\xe9s. Si l'ensemble de donn\xe9es (s) est en miroir sur un autre serveur+hardDrive+ERDDAP, l'effet est minime. Si le probl\xe8me est une panne de disque dur dans un niveau 5 ou 6 RAID, vous remplacez simplement le disque et faites reconstruire les donn\xe9es RAID sur le disque."]}),"\n",(0,r.jsxs)(s.li,{children:["Le compositeERDDAP\u2122\xe9choue ?\nSi vous voulez faire un syst\xe8me avec tr\xe8s",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/High_availability",children:"haute disponibilit\xe9"}),", vous pouvez installer",(0,r.jsx)(s.a,{href:"#multiple-composite-erddaps",children:"multiples compositesERDDAPs (comme indiqu\xe9 ci-dessus) "}),", en utilisant quelque chose comme",(0,r.jsx)(s.a,{href:"https://www.nginx.com/",children:"NGINX"}),"ou",(0,r.jsx)(s.a,{href:"https://traefik.io/",children:"Traefik"}),"pour g\xe9rer l'\xe9quilibrage de la charge. Noter qu'un composite donn\xe9ERDDAP\u2122peut traiter un tr\xe8s grand nombre de demandes d'un grand nombre d'utilisateurs parce que\nles demandes de m\xe9tadonn\xe9es sont petites et sont trait\xe9es par des informations qui sont en m\xe9moire;\nDemandes de donn\xe9es (qui peuvent \xeatre grandes) sont redirig\xe9s vers l'enfantERDDAPPar."]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"simple-scalable",children:"Simple, \xe9volutive"}),"\n",(0,r.jsx)(s.p,{children:"Ce syst\xe8me est facile \xe0 mettre en place et \xe0 administrer, et facilement extensible quand une partie de celui-ci devient surcharg\xe9e. Les seules limites r\xe9elles pour un centre de donn\xe9es donn\xe9 sont la bande passante du centre de donn\xe9es et le co\xfbt du syst\xe8me."}),"\n",(0,r.jsx)(s.h3,{id:"bandwidth",children:"Bande passante"}),"\n",(0,r.jsx)(s.p,{children:"Remarquez la bande passante approximative des composants couramment utilis\xe9s du syst\xe8me:"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Composante"}),(0,r.jsx)(s.th,{children:"Bande passante approximative (Goytes/s)"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"M\xe9moire DDR"}),(0,r.jsx)(s.td,{children:"2,5"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Lecteur SSD"}),(0,r.jsx)(s.td,{children:"1"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Disque dur SATA"}),(0,r.jsx)(s.td,{children:"0,3"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Ethernet Gigabit"}),(0,r.jsx)(s.td,{children:"0,1"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"OC-12"}),(0,r.jsx)(s.td,{children:"0,06"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"OC-3"}),(0,r.jsx)(s.td,{children:"0,015"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"T1"}),(0,r.jsx)(s.td,{children:"0,0002"})]})]})]}),"\n",(0,r.jsxs)(s.p,{children:["Donc, un disque dur SATA (0,3 Go/s) sur un serveur avec unERDDAP\u2122peut probablement saturer un LAN Ethernet Gigabit (0,1 Go/s) . Et un r\xe9seau Ethernet Gigabit (0,1 Go/s) peut probablement saturer une connexion Internet OC-12 (0,06 Go/s) . Et au moins une source \xe9num\xe8re les lignes OC-12 qui co\xfbtent environ 100 000 $ par mois. (Oui, ces calculs sont bas\xe9s sur le fait de pousser le syst\xe8me \xe0 ses limites, ce qui n'est pas bon parce qu'il conduit \xe0 des r\xe9ponses tr\xe8s lentes. Mais ces calculs sont utiles pour la planification et l'\xe9quilibrage des parties du syst\xe8me.)   ",(0,r.jsx)(s.strong,{children:"De toute \xe9vidence, une connexion Internet suffisamment rapide pour votre centre de donn\xe9es est de loin la partie la plus ch\xe8re du syst\xe8me."})," Vous pouvez facilement et relativement bon march\xe9 construire une grille avec une douzaine de serveurs fonctionnant une douzaineERDDAPs qui est capable de pomper beaucoup de donn\xe9es rapidement, mais une connexion Internet suffisamment rapide sera tr\xe8s, tr\xe8s cher. Les solutions partielles sont:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Encourager les clients \xe0 demander des sous-ensembles de donn\xe9es si c'est tout ce qui est n\xe9cessaire. Si le client a seulement besoin de donn\xe9es pour une petite r\xe9gion ou \xe0 une r\xe9solution inf\xe9rieure, c'est ce qu'il devrait demander. La subs truction est au centre des protocolesERDDAP\u2122soutien pour demander des donn\xe9es."}),"\n",(0,r.jsxs)(s.li,{children:["Encourager la transmission de donn\xe9es compress\xe9es.ERDDAP\u2122 ",(0,r.jsx)(s.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#compression",children:"compresses"}),'une transmission de donn\xe9es si elle trouve "encodage d\'acceptation"HTTP GETen-t\xeate de demande. Tous les navigateurs web utilisent le "encodage d\'acceptation" et d\xe9compressent automatiquement la r\xe9ponse. Autres clients (Par exemple, programmes informatiques) doivent l\'utiliser explicitement.']}),"\n",(0,r.jsx)(s.li,{children:"Colocatez vos serveurs sur un FAI ou un autre site qui offre des co\xfbts de bande passante relativement moins \xe9lev\xe9s."}),"\n",(0,r.jsx)(s.li,{children:"Dispersez les serveurs avec leERDDAPs \xe0 diff\xe9rentes institutions afin que les co\xfbts soient dispers\xe9s. Vous pouvez alors lier votre compositeERDDAP\u2122\xe0 leurERDDAPPar."}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Notez que",(0,r.jsx)(s.a,{href:"#cloud-computing",children:"Informatique en nuage"}),"et les services d'h\xe9bergement web offrent toute la bande passante Internet dont vous avez besoin, mais ne r\xe9solvez pas le probl\xe8me de prix."]}),"\n",(0,r.jsxs)(s.p,{children:["Pour des informations g\xe9n\xe9rales sur la conception de syst\xe8mes \xe9volutifs, de haute capacit\xe9, tol\xe9rants aux d\xe9fauts, voir le livre de Michael T. Nygard",(0,r.jsx)(s.a,{href:"https://www.amazon.com/Release-Production-Ready-Software-Pragmatic-Programmers/dp/0978739213",children:"Lib\xe9rez-le"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"like-legos",children:"Comme les Legos"}),"\n",(0,r.jsxs)(s.p,{children:["Les concepteurs de logiciels essaient souvent d'utiliser le bon",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Software_design_pattern",children:"mod\xe8les de conception de logiciels"}),"r\xe9soudre des probl\xe8mes. De bons mod\xe8les sont bons parce qu'ils encapsulent bon, facile \xe0 cr\xe9er et \xe0 travailler avec, des solutions d'usage g\xe9n\xe9ral qui conduisent \xe0 des syst\xe8mes avec de bonnes propri\xe9t\xe9s. Les noms de mod\xe8les ne sont pas standardis\xe9s, donc je vais appeler le mod\xe8le quiERDDAP\u2122utilise le mod\xe8le Lego. Chaque Lego (chaqueERDDAP) est un simple, petit, standard, autonome, brique (serveur de donn\xe9es) avec une interface d\xe9finie qui lui permet d'\xeatre li\xe9 \xe0 d'autres legos (ERDDAPs) . Les parties deERDDAP\u2122qui composent ce syst\xe8me sont: les syst\xe8mes d'abonnement et flagURL (qui permet la communication entreERDDAPs) L'EDD... De syst\xe8me de redirection d'Erddap, et le syst\xe8me deRESTfuldemandes de donn\xe9es pouvant \xeatre g\xe9n\xe9r\xe9es par des utilisateurs ou d'autresERDDAPPar. Ainsi, avec deux ou plusieurs legos (ERDDAPs) , vous pouvez cr\xe9er un grand nombre de formes diff\xe9rentes (topologies du r\xe9seauERDDAPs) . Bien s\xfbr, le design et les caract\xe9ristiques deERDDAP\u2122aurait pu \xeatre fait diff\xe9remment, pas comme Lego, peut-\xeatre juste pour permettre et optimiser pour une topologie sp\xe9cifique. Mais nous sentons queERDDAP's Lego-like design offre une bonne, la solution d'usage g\xe9n\xe9ral qui permetERDDAP\u2122administrateur (ou groupe d'administrateurs) cr\xe9er toutes sortes de topologies de f\xe9d\xe9ration diff\xe9rentes. Par exemple, une seule organisation pourrait cr\xe9er trois (ou plus)  ERDDAPs comme indiqu\xe9 dans",(0,r.jsx)(s.a,{href:"#recommendations",children:"ERDDAP\u2122Diagramme Grid/Cluster ci-dessus"}),". Ou un groupe distribu\xe9 (\xc7a va ? Garde-c\xf4te ? NCEI ? Les NWS ?NOAA? Les USGS ? DataONE ? Neon ? Plus tard ? - Oui ? C'est \xe7a ? Oui ? JRC ? L'OMM ?) peut mettre en place unERDDAP\u2122dans chaque petit avant-poste (pour que les donn\xe9es restent proches de la source) puis mettre en place un compositeERDDAP\u2122dans le bureau central avec des ensembles de donn\xe9es virtuels (qui sont toujours parfaitement \xe0 jour) de chaque petit avant-posteERDDAPPar. En effet, tous lesERDDAPs, install\xe9s dans diverses institutions \xe0 travers le monde, qui obtiennent des donn\xe9es d'autresERDDAPs et/ou fournir des donn\xe9es \xe0 d'autresERDDAPs, forment un r\xe9seau g\xe9ant deERDDAPPar. C'est cool ?! Ainsi, comme pour Lego, les possibilit\xe9s sont infinies. C'est pourquoi c'est un bon mod\xe8le. C'est pourquoi c'est un bon design pourERDDAP."]}),"\n",(0,r.jsx)(s.h3,{id:"different-types-of-requests",children:"Types de demandes"}),"\n",(0,r.jsx)(s.p,{children:"L'une des complications r\xe9elles de cette discussion des topologies des serveurs de donn\xe9es est qu'il existe diff\xe9rents types de requ\xeates et diff\xe9rentes fa\xe7ons d'optimiser les diff\xe9rents types de requ\xeates. Il s'agit essentiellement d'une question distincte. (Combien de temps leERDDAP\u2122avec les donn\xe9es r\xe9pondre \xe0 la demande de donn\xe9es?) de la discussion topologique (qui traite des relations entre les serveurs de donn\xe9es et quel serveur poss\xe8de les donn\xe9es r\xe9elles) .ERDDAP\u2122, bien s\xfbr, essaie de traiter tous les types de demandes efficacement, mais traite certaines mieux que d'autres."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"De nombreuses demandes sont simples.\nPar exemple: Quelles sont les m\xe9tadonn\xe9es de cet ensemble de donn\xe9es? Ou : Quelles sont les valeurs de la dimension temporelle de cet ensemble de donn\xe9es maill\xe9es ?ERDDAP\u2122est con\xe7u pour les manipuler le plus rapidement possible (habituellement dans<=2 ms) en conservant cette information en m\xe9moire.\n\xa0"}),"\n",(0,r.jsx)(s.li,{children:"Certaines demandes sont mod\xe9r\xe9ment difficiles.\nPar exemple: Donnez-moi ce sous-ensemble de donn\xe9es (qui est dans un fichier de donn\xe9es) . Ces demandes peuvent \xeatre trait\xe9es relativement rapidement parce qu'elles ne sont pas si difficiles.\n\xa0"}),"\n",(0,r.jsxs)(s.li,{children:["Certaines demandes sont difficiles et exigent donc beaucoup de temps.\nPar exemple: Donnez-moi ce sous-ensemble de donn\xe9es (qui pourrait \xeatre dans l'un des 10 000 fichiers de donn\xe9es, ou pourrait \xeatre \xe0 partir de fichiers de donn\xe9es compress\xe9s qui prennent chacun 10 secondes pour d\xe9compresser) .ERDDAP\u2122v2.0 a introduit de nouvelles fa\xe7ons plus rapides de traiter ces demandes, notamment en permettant au thread de traitement des requ\xeates de g\xe9n\xe9rer plusieurs threads de travailleurs qui abordent diff\xe9rents sous-ensembles de la demande. Mais il y a une autre approche de ce probl\xe8me quiERDDAP\u2122ne supporte pas encore : des sous-ensembles de fichiers de donn\xe9es pour un ensemble de donn\xe9es donn\xe9 pourraient \xeatre stock\xe9s et analys\xe9s sur des ordinateurs s\xe9par\xe9s, puis les r\xe9sultats combin\xe9s sur le serveur original. Cette approche s'appelle",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/MapReduce",children:"CarteR\xe9duire"}),"et est illustr\xe9 par",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Apache_Hadoop",children:"Hadoop"}),", le premier (?) open-source MapReduce programme, qui \xe9tait bas\xe9 sur des id\xe9es d'un papier Google. (Si vous avez besoin de MapReduce dansERDDAP, merci d'envoyer une demande par e-mail \xe0erd.data at noaa.gov.) Google",(0,r.jsx)(s.a,{href:"https://cloud.google.com/bigquery/",children:"BigQuery"}),"est int\xe9ressant parce qu'il semble \xeatre une mise en \u0153uvre de MapReduce appliqu\xe9e \xe0 des ensembles de donn\xe9es tabulaires subsetting, qui est l'un desERDDAPLes principaux objectifs. Il est probable que vous pouvez cr\xe9er unERDDAP\u2122dataset d'un jeu de donn\xe9es BigQuery via",(0,r.jsx)(s.a,{href:"/docs/server-admin/datasets#eddtablefromdatabase",children:"EDDTableFromDatabase"}),"car BigQuery est accessible via une interface JDBC."]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"these-are-my-opinions",children:"Ce sont mes opinions."}),"\n",(0,r.jsx)(s.p,{children:"Oui, les calculs sont simplistes. (et maintenant l\xe9g\xe8rement dat\xe9) , mais je pense que les conclusions sont correctes. Ai-je utilis\xe9 une logique erron\xe9e ou fait une erreur dans mes calculs? Si oui, la faute est la mienne seule. Veuillez envoyer un email avec la correctionerd dot data at noaa dot gov."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Oui."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"cloud-computing",children:(0,r.jsxs)(s.a,{href:"#cloud-computing",children:[" ",(0,r.jsx)(s.strong,{children:"Informatique en nuage"})," "]})}),"\n",(0,r.jsxs)(s.p,{children:["Plusieurs entreprises offrent des services de cloud computing (Par exemple,",(0,r.jsx)(s.a,{href:"https://aws.amazon.com/",children:"Services Web Amazon"}),"et",(0,r.jsx)(s.a,{href:"https://cloud.google.com/",children:"Plateforme Google Cloud"}),") .",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Web_hosting_service",children:"Entreprises d'h\xe9bergement Web"}),"ont offert des services plus simples depuis le milieu des ann\xe9es 1990, mais les services \xabcloud\xbb ont consid\xe9rablement \xe9largi la flexibilit\xe9 des syst\xe8mes et la gamme de services offerts. Depuis leERDDAP\u2122quadrillage se compose deERDDAPs et depuisERDDAPs sontJavaapplications web qui peuvent fonctionner dans Tomcat (le serveur d'applications le plus courant) ou d'autres serveurs d'application, il devrait \xeatre relativement facile de configurer unERDDAP\u2122r\xe9seau sur un service cloud ou un site web d'h\xe9bergement. Les avantages de ces services sont les suivants:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Ils offrent un acc\xe8s \xe0 des connexions Internet \xe0 tr\xe8s haute bande passante. Cela seul peut justifier l'utilisation de ces services."}),"\n",(0,r.jsx)(s.li,{children:"Ils ne facturent que les services que vous utilisez. Par exemple, vous avez acc\xe8s \xe0 une connexion Internet \xe0 bande passante tr\xe8s \xe9lev\xe9e, mais vous ne payez que pour les donn\xe9es r\xe9ellement transf\xe9r\xe9es. Cela vous permet de construire un syst\xe8me qui est rarement submerg\xe9 (m\xeame \xe0 la demande maximale) , sans devoir payer pour une capacit\xe9 rarement utilis\xe9e."}),"\n",(0,r.jsx)(s.li,{children:"Ils sont facilement extensibles. Vous pouvez modifier les types de serveurs ou ajouter autant de serveurs ou de stockage que vous le souhaitez, en moins d'une minute. Cela seul peut justifier l'utilisation de ces services."}),"\n",(0,r.jsx)(s.li,{children:"Ils vous lib\xe8rent de nombreuses t\xe2ches administratives de l'exploitation des serveurs et des r\xe9seaux. Cela seul peut justifier l'utilisation de ces services."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Les inconv\xe9nients de ces services sont les suivants:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Ils facturent pour leurs services, parfois beaucoup (en termes absolus; pas qu'il ne soit pas une bonne valeur) . Les prix indiqu\xe9s ici sont pour",(0,r.jsx)(s.a,{href:"https://aws.amazon.com/ec2/pricing",children:"Amazone CE2"}),". Ces prix (en juin 2015) Je vais descendre.\nDans le pass\xe9, les prix \xe9taient plus \xe9lev\xe9s, mais les fichiers de donn\xe9es et le nombre de demandes \xe9taient plus faibles.\n\xc0 l'avenir, les prix seront plus bas, mais les fichiers de donn\xe9es et le nombre de demandes seront plus importants.\nDonc les d\xe9tails changent, mais la situation reste relativement constante.\nEt ce n'est pas que le service est trop cher, c'est que nous utilisons et achetons beaucoup de service.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Transfert de donn\xe9es \u2014 Les transferts de donn\xe9es dans le syst\xe8me sont d\xe9sormais gratuits (Ouais !) .\nLes transferts de donn\xe9es hors du syst\xe8me sont $0.09/GB.\nUn disque dur SATA (0,3 Go/s) sur un serveur avec unERDDAP\u2122peut probablement saturer un LAN Ethernet Gigabit (0,1 Go/s) .\nUn r\xe9seau local Ethernet Gigabit (0,1 Go/s) peut probablement saturer une connexion Internet OC-12 (0,06 Go/s) .\nSi une connexion OC-12 peut transmettre environ 150 000 Go/mois, les co\xfbts de transfert de donn\xe9es pourraient atteindre 150 000 Go @ 0,09/ Go = 13 500 $/mois, ce qui repr\xe9sente un co\xfbt important. De toute \xe9vidence, si vous avez une douzaine de travailleursERDDAPs sur un service cloud, vos frais mensuels de transfert de donn\xe9es pourraient \xeatre importants (jusqu ' \xe0 162 000 dollars par mois) . (Encore une fois, ce n'est pas que le service est sur\xe9valu\xe9, c'est que nous utilisons et achetons beaucoup de service.)"}),"\n",(0,r.jsxs)(s.li,{children:["Stockage des donn\xe9es \u2014 Amazon facture 50 $ par mois par TB. (Comparez cela \xe0 l'achat d'une entreprise de 4TB conduire carr\xe9ment pour ~50$/TB, bien que le RAID de mettre dans et les co\xfbts administratifs ajoutent au co\xfbt total.) Donc, si vous avez besoin de stocker beaucoup de donn\xe9es dans le cloud, il pourrait \xeatre assez cher (100 TB co\xfbterait 5 000 $ par mois.) . Mais \xe0 moins d'avoir une grande quantit\xe9 de donn\xe9es, il s'agit d'un probl\xe8me plus petit que les co\xfbts de transfert de bande passante/donn\xe9es. (Encore une fois, ce n'est pas que le service est sur\xe9valu\xe9, c'est que nous utilisons et achetons beaucoup de service.)",(0,r.jsx)(s.br,{}),"\n","\xa0"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"subsetting",children:"Sous-position"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Le probl\xe8me de subsistance: La seule fa\xe7on de distribuer efficacement les donn\xe9es des fichiers de donn\xe9es est d'avoir le programme qui distribue les donn\xe9es (Par exemple,ERDDAP) ex\xe9cuter sur un serveur qui a les donn\xe9es stock\xe9es sur un disque dur local (ou un acc\xe8s aussi rapide \xe0 un RAID local ou SAN) . Les syst\xe8mes de fichiers locaux permettentERDDAP\u2122  (et biblioth\xe8ques sous-jacentes, comme netcdf-java) pour demander des octets sp\xe9cifiques vont des fichiers et obtenir des r\xe9ponses tr\xe8s rapidement. De nombreux types de demandes de donn\xe9esERDDAP\u2122dans le fichier (notamment les demandes de donn\xe9es maill\xe9es o\xf9 la valeur de la marche est > 1) ne peut pas \xeatre fait efficacement si le programme doit demander le fichier entier ou gros morceaux d'un fichier \xe0 partir d'un non-local (donc plus lentement) syst\xe8me de stockage de donn\xe9es, puis extraire un sous-ensemble. Si la configuration du cloud ne donne pasERDDAP\u2122acc\xe8s rapide aux gammes d'octets des fichiers (aussi vite qu'avec les fichiers locaux) ,ERDDAP'l'acc\xe8s aux donn\xe9es sera un goulot d'\xe9tranglement s\xe9v\xe8re et de nier d'autres avantages de l'utilisation d'un service cloud."}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"hosted-data",children:"Donn\xe9es h\xe9berg\xe9es"}),"\n",(0,r.jsx)(s.p,{children:"Une alternative \xe0 l'analyse co\xfbts-avantages ci-dessus (qui est bas\xe9 sur le propri\xe9taire des donn\xe9es (Par exemple,NOAA) payer pour que leurs donn\xe9es soient stock\xe9es dans le cloud) est arriv\xe9 vers 2012, quand Amazon (et dans une moindre mesure, certains autres fournisseurs de cloud) a commenc\xe9 \xe0 h\xe9berger certains ensembles de donn\xe9es dans leur cloud (AWS S3) gratuitement (probablement avec l'espoir qu'ils pourraient r\xe9cup\xe9rer leurs co\xfbts si les utilisateurs louaient des instances de calcul AWS EC2 pour travailler avec ces donn\xe9es) . De toute \xe9vidence, cela rend l'informatique en nuage beaucoup plus rentable, car le temps et les co\xfbts de t\xe9l\xe9chargement des donn\xe9es et d'h\xe9bergement sont d\xe9sormais nuls. AvecERDDAP\u2122v2.0, il existe de nouvelles fonctionnalit\xe9s pour faciliter l'ex\xe9cutionERDDAPdans un nuage:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Maintenant, unEDDGridFromFiles ou EDDTableFromFiles peuvent \xeatre cr\xe9\xe9s \xe0 partir de fichiers de donn\xe9es qui sont distants et accessibles via Internet (Par exemple, les seaux AWS S3) en utilisant<cacheFromUrl> et<Taille du cache GB> options.ERDDAP\u2122conservera un cache local des fichiers de donn\xe9es les plus r\xe9cemment utilis\xe9s."}),"\n",(0,r.jsx)(s.li,{children:"Maintenant, si les fichiers sources EDDTableFromFiles sont compress\xe9s (Par exemple,.tgz) ,ERDDAP\u2122va automatiquement les d\xe9compresser quand il les lit."}),"\n",(0,r.jsx)(s.li,{children:"Maintenant, lesERDDAP\u2122le fil r\xe9pondant \xe0 une demande donn\xe9e cr\xe9era des fils de travail pour travailler sur les sous-sections de la demande si vous utilisez le<nThreads> options. Cette parall\xe9lisation devrait permettre de r\xe9pondre plus rapidement aux demandes difficiles."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Ces changements r\xe9solvent le probl\xe8me de AWS S3 n'offrant pas de stockage de fichiers local, de niveau bloc et le (vieux) probl\xe8me d'acc\xe8s aux donn\xe9es S3 avec un d\xe9calage important. (Il y a des ann\xe9es (~2014) , ce d\xe9calage \xe9tait significatif, mais il est maintenant beaucoup plus court et n'est pas aussi significatif.) Dans l'ensemble, cela signifie que la mise en placeERDDAP\u2122dans le nuage fonctionne beaucoup mieux maintenant."}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Je vous remercie."})," \u2014 Merci beaucoup \xe0 Matthew Arrott et \xe0 son groupe dans l'effort original OOI pour leur travail sur la miseERDDAP\u2122dans le nuage et les discussions qui en r\xe9sultent.\n\xa0"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Oui."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"remote-replication-of-datasets",children:(0,r.jsx)(s.a,{href:"#remote-replication-of-datasets",children:"R\xe9plication \xe0 distance des ensembles de donn\xe9es"})}),"\n",(0,r.jsx)(s.p,{children:"Il y a un probl\xe8me commun qui est li\xe9 \xe0 la discussion ci-dessus des grilles et f\xe9d\xe9rations deERDDAPs: r\xe9plication \xe0 distance des ensembles de donn\xe9es. Le probl\xe8me de base est : un fournisseur de donn\xe9es maintient un ensemble de donn\xe9es qui change occasionnellement et un utilisateur veut maintenir une copie locale \xe0 jour de cet ensemble de donn\xe9es (pour une vari\xe9t\xe9 de raisons) . De toute \xe9vidence, il y a un grand nombre de variations. Certaines variations sont beaucoup plus difficiles \xe0 g\xe9rer que d'autres."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Mises \xe0 jour rapides\nC'est plus difficile de tenir les donn\xe9es locales \xe0 jour ",(0,r.jsx)(s.em,{children:"imm\xe9diatement"}),"   (Par exemple, dans les 3 secondes) apr\xe8s chaque changement de la source, plut\xf4t que, par exemple, en quelques heures.\n\xa0"]}),"\n",(0,r.jsx)(s.li,{children:"Changements fr\xe9quents\nLes changements fr\xe9quents sont plus difficiles \xe0 g\xe9rer que les changements peu fr\xe9quents. Par exemple, les changements une fois par jour sont beaucoup plus faciles \xe0 g\xe9rer que les changements toutes les 0,1 seconde.\n\xa0"}),"\n",(0,r.jsx)(s.li,{children:"Petits changements\nLes petites modifications apport\xe9es \xe0 un fichier source sont plus difficiles \xe0 traiter qu'un fichier enti\xe8rement nouveau. Ceci est particuli\xe8rement vrai si les petits changements peuvent \xeatre n'importe o\xf9 dans le fichier. De petits changements sont plus difficiles \xe0 d\xe9tecter et rendent difficile l'isolement des donn\xe9es \xe0 reproduire. De nouveaux fichiers sont faciles \xe0 d\xe9tecter et efficaces \xe0 transf\xe9rer.\n\xa0"}),"\n",(0,r.jsx)(s.li,{children:"Ensemble de donn\xe9es\nIl est plus difficile de tenir un ensemble de donn\xe9es \xe0 jour que de maintenir des donn\xe9es r\xe9centes. Certains utilisateurs ont juste besoin de donn\xe9es r\xe9centes (Par exemple, la valeur des 8 derniers jours) .\n\xa0"}),"\n",(0,r.jsx)(s.li,{children:"Copies multiples\nIl est plus difficile de conserver plusieurs copies distantes \xe0 diff\xe9rents sites que de conserver une copie distante. C'est le probl\xe8me de l'\xe9chelle.\n\xa0"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Il y a \xe9videmment un grand nombre de variations des types possibles de modifications de l'ensemble de donn\xe9es source et des besoins et attentes de l'utilisateur. Beaucoup de ces variations sont tr\xe8s difficiles \xe0 r\xe9soudre. La meilleure solution pour une situation n'est souvent pas la meilleure solution pour une autre situation \u2014 il n'y a pas encore une grande solution universelle."}),"\n",(0,r.jsx)(s.h3,{id:"relevant-erddap-tools",children:(0,r.jsxs)(s.a,{href:"#relevant-erddap-tools",children:[" ",(0,r.jsx)(s.strong,{children:"ObjetERDDAP\u2122Outils"})," "]})}),"\n",(0,r.jsx)(s.p,{children:"ERDDAP\u2122offre plusieurs outils qui peuvent \xeatre utilis\xe9s dans le cadre d'un syst\xe8me qui cherche \xe0 maintenir une copie \xe0 distance d'un ensemble de donn\xe9es:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["ERDDAP's",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/RSS",children:"RSS  (Sommaire du site riche?) service"}),(0,r.jsx)(s.br,{}),"\n","offre un moyen rapide de v\xe9rifier si un jeu de donn\xe9es sur une t\xe9l\xe9commandeERDDAP\u2122a chang\xe9.\n\xa0"]}),"\n",(0,r.jsxs)(s.li,{children:["ERDDAP's",(0,r.jsx)(s.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions",children:"service d'abonnement"}),(0,r.jsx)(s.br,{}),"\n","est plus efficace (queRSS) approche : elle enverra imm\xe9diatement un courriel ou contactera une URL \xe0 chaque abonn\xe9 chaque fois que l'ensemble de donn\xe9es est mis \xe0 jour et que la mise \xe0 jour entra\xeene un changement. Il est efficace dans la mesure o\xf9 il se produit au plus vite et il n'y a pas d'effort gaspill\xe9 (comme pour le scrutinRSSservice) . Les utilisateurs peuvent utiliser d'autres outils (comme",(0,r.jsx)(s.a,{href:"https://ifttt.com/",children:"IFTTT"}),") r\xe9agir aux notifications par courriel du syst\xe8me d'abonnement. Par exemple, un utilisateur pourrait s'abonner \xe0 un jeu de donn\xe9es sur une t\xe9l\xe9commandeERDDAP\u2122et utiliser IFTTT pour r\xe9agir aux notifications par e-mail d'abonnement et d\xe9clencher la mise \xe0 jour de l'ensemble de donn\xe9es locales.\n\xa0"]}),"\n",(0,r.jsxs)(s.li,{children:["ERDDAP's",(0,r.jsx)(s.a,{href:"/docs/server-admin/additional-information#flag",children:"Syst\xe8me de drapeau"}),(0,r.jsx)(s.br,{}),"\n","fournit un moyen pourERDDAP\u2122administrateur de dire un ensemble de donn\xe9es sur son/saERDDAPpour recharger au plus vite. La forme URL d'un drapeau peut facilement \xeatre utilis\xe9e dans les scripts. La forme URL d'un drapeau peut \xe9galement \xeatre utilis\xe9e comme action pour un abonnement.\n\xa0"]}),"\n",(0,r.jsxs)(s.li,{children:["ERDDAP's",(0,r.jsx)(s.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html",children:'"files"syst\xe8me'}),(0,r.jsx)(s.br,{}),"\n","peut offrir un acc\xe8s aux fichiers sources pour un ensemble de donn\xe9es donn\xe9, y compris une liste de r\xe9pertoires de style Apache des fichiers (un \"dossier accessible au Web\") qui a l'URL de t\xe9l\xe9chargement de chaque fichier, la derni\xe8re heure modifi\xe9e, et la taille. Un inconv\xe9nient de l'utilisation de\"files\"syst\xe8me est que les fichiers source peuvent avoir des noms de variables et des m\xe9tadonn\xe9es diff\xe9rentes de l'ensemble de donn\xe9es tel qu'il appara\xeet dansERDDAP. Si une t\xe9l\xe9commandeERDDAP\u2122dataset offre un acc\xe8s \xe0 ses fichiers sources, qui ouvre la possibilit\xe9 d'une version de rsync d'un pauvre homme: il devient facile pour un syst\xe8me local de voir quels fichiers distants ont chang\xe9 et doivent \xeatre t\xe9l\xe9charg\xe9s. (Voir",(0,r.jsx)(s.a,{href:"#cache-from-url",children:"option cacheFromUrl"}),"ci-dessous qui peut faire usage de ceci.)",(0,r.jsx)(s.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"solutions",children:(0,r.jsx)(s.a,{href:"#solutions",children:"Solutions"})}),"\n",(0,r.jsx)(s.p,{children:"Bien qu'il y ait un grand nombre de variations au probl\xe8me et un nombre infini de solutions possibles, il n'y a qu'une poign\xe9e d'approches de base pour les solutions:"}),"\n",(0,r.jsx)(s.h4,{id:"custom-brute-force-solutions",children:"Solutions personnalis\xe9es, Brute Force"}),"\n",(0,r.jsx)(s.p,{children:"Une solution \xe9vidente est de fabriquer \xe0 la main une solution personnalis\xe9e, qui est donc optimis\xe9e pour une situation donn\xe9e: faire un syst\xe8me qui d\xe9tecte/identifie quelles donn\xe9es ont chang\xe9, et envoyer ces informations \xe0 l'utilisateur afin que l'utilisateur puisse demander les donn\xe9es modifi\xe9es. Vous pouvez le faire, mais il y a des inconv\xe9nients :"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Les solutions personnalis\xe9es sont beaucoup de travail."}),"\n",(0,r.jsx)(s.li,{children:"Les solutions personnalis\xe9es sont g\xe9n\xe9ralement si personnalis\xe9es \xe0 un ensemble de donn\xe9es donn\xe9 et au syst\xe8me de l'utilisateur qu'elles ne peuvent pas \xeatre facilement r\xe9utilis\xe9es."}),"\n",(0,r.jsx)(s.li,{children:"Des solutions personnalis\xe9es doivent \xeatre construites et entretenues par vous. (Ce n'est jamais une bonne id\xe9e. C'est toujours une bonne id\xe9e d'\xe9viter le travail et d'amener quelqu'un d'autre \xe0 faire le travail!)"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Je d\xe9conseille cette approche parce qu'il est presque toujours pr\xe9f\xe9rable de chercher des solutions g\xe9n\xe9rales, construites et entretenues par quelqu'un d'autre, qui peuvent \xeatre facilement r\xe9utilis\xe9es dans diff\xe9rentes situations.\n\xa0"}),"\n",(0,r.jsx)(s.h4,{id:"rsync",children:"Rsync"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Rsync",children:"Rsync"}),"est la solution existante, \xe9tonnamment bonne, d'usage g\xe9n\xe9ral pour garder une collection de fichiers sur un ordinateur source en synchronisation sur l'ordinateur distant d'un utilisateur. Son fonctionnement est le suivant :"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"un \xe9v\xe9nement (Par exemple,ERDDAP\u2122\xe9v\xe9nement du syst\xe8me d'abonnement) d\xe9clenche rsync,\n(ou, un travail cron ex\xe9cute rsync \xe0 des moments sp\xe9cifiques tous les jours sur l'ordinateur de l'utilisateur)"}),"\n",(0,r.jsx)(s.li,{children:"qui contacte rsync sur l'ordinateur source,"}),"\n",(0,r.jsx)(s.li,{children:"qui calcule une s\xe9rie de haches pour des morceaux de chaque fichier et transmet ces haches au rsync de l'utilisateur,"}),"\n",(0,r.jsx)(s.li,{children:"qui compare ces informations aux informations similaires pour la copie des fichiers par l'utilisateur,"}),"\n",(0,r.jsx)(s.li,{children:"qui demande ensuite les morceaux de fichiers qui ont chang\xe9."}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Consid\xe9rant tout ce qu'il fait, rsync fonctionne tr\xe8s rapidement (Par exemple, 10 secondes plus le temps de transfert de donn\xe9es) et tr\xe8s efficace. Il y a",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Rsync#Variations",children:"variations de rsync"}),"qui optimisent pour diff\xe9rentes situations (Par exemple, en pr\xe9calculant et en tachant les haches des morceaux de chaque fichier source) ."]}),"\n",(0,r.jsx)(s.p,{children:"Les principales faiblesses de rsync sont les suivantes: (questions de s\xe9curit\xe9) ; il y a des probl\xe8mes d'\xe9chelle; et ce n'est pas bon pour garder les ensembles de donn\xe9es NRT vraiment \xe0 jour (Par exemple, il est g\xeanant d'utiliser Rsync plus d'environ toutes les 5 minutes) . Si vous pouvez faire face aux faiblesses, ou si elles n'affectent pas votre situation, rsync est une excellente solution \xe0 usage g\xe9n\xe9ral que tout le monde peut utiliser d\xe8s maintenant pour r\xe9soudre de nombreux sc\xe9narios impliquant la r\xe9plication \xe0 distance des ensembles de donn\xe9es."}),"\n",(0,r.jsx)(s.p,{children:"Il y a un article sur leERDDAP\u2122Pour faire la liste pour essayer d'ajouter le support des services rsync \xe0ERDDAP  (probablement une t\xe2che assez difficile) , afin que tout client puisse utiliser rsync (ou une variante) maintenir une copie \xe0 jour d'un ensemble de donn\xe9es. Si quelqu'un veut travailler dessus, s'il vous pla\xeet emailerd.data at noaa.gov."}),"\n",(0,r.jsxs)(s.p,{children:["Il y a d'autres programmes qui font plus ou moins ce que rsync fait, parfois orient\xe9s vers la r\xe9plication des ensembles de donn\xe9es (bien que souvent au niveau de la copie de fichiers) , par exemple,Unidata's",(0,r.jsx)(s.a,{href:"https://www.unidata.ucar.edu/projects/index.html#idd",children:"DJA"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"cache-from-url",children:"Cache de Url"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"/docs/server-admin/datasets#cachefromurl",children:"Le cacheFromUrl"}),"r\xe9glage est disponible (commen\xe7ant parERDDAP\u2122v2.0) pour tous lesERDDAPles types de donn\xe9es qui font des ensembles de donn\xe9es \xe0 partir de fichiers (fondamentalement, toutes les sous-classes",(0,r.jsx)(s.a,{href:"/docs/server-admin/datasets#eddgridfromfiles",children:"EDDGridFichiers"}),"et",(0,r.jsx)(s.a,{href:"/docs/server-admin/datasets#eddtablefromfiles",children:"EDDTableFromFiles"}),") . cache FromUrl rend trivial de t\xe9l\xe9charger automatiquement et de maintenir les fichiers de donn\xe9es locales en les copiant \xe0 partir d'une source distante via le cache De la configuration d'Url. Les fichiers distants peuvent \xeatre dans un dossier Web Accessible ou une liste de fichiers de type r\xe9pertoire propos\xe9e par THREDDS,Hyrax, un seau S3, ouERDDAP's\"files\"syst\xe8me."]}),"\n",(0,r.jsxs)(s.p,{children:['Si la source des fichiers distants est une t\xe9l\xe9commandeERDDAP\u2122dataset qui offre les fichiers source via leERDDAP\u2122 "files"syst\xe8me, alors vous pouvez',(0,r.jsx)(s.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions",children:"abonnement"}),"\xe0 l'ensemble de donn\xe9es distant, et utiliser",(0,r.jsx)(s.a,{href:"/docs/server-admin/additional-information#flag",children:"URL du drapeau"}),"pour votre ensemble de donn\xe9es local comme action pour l'abonnement. Ensuite, chaque fois que l'ensemble de donn\xe9es \xe0 distance change, il contactera l'URL du drapeau pour votre ensemble de donn\xe9es, qui lui dira de recharger ASAP, qui d\xe9tectera et t\xe9l\xe9chargera les fichiers de donn\xe9es \xe0 distance modifi\xe9s. Tout cela arrive tr\xe8s rapidement (habituellement ~5 secondes plus le temps n\xe9cessaire pour t\xe9l\xe9charger les fichiers modifi\xe9s) . Cette approche fonctionne bien si les modifications de l'ensemble de donn\xe9es source sont de nouveaux fichiers \xe9tant ajout\xe9s p\xe9riodiquement et lorsque les fichiers existants ne changent jamais. Cette approche ne fonctionne pas bien si les donn\xe9es sont fr\xe9quemment jointes \xe0 tous (ou plus) des fichiers de donn\xe9es source existants, parce que votre ensemble de donn\xe9es local est fr\xe9quemment t\xe9l\xe9charger l'ensemble des donn\xe9es distantes. (C'est l\xe0 qu'une approche de type rsync est n\xe9cessaire.)"]}),"\n",(0,r.jsx)(s.h4,{id:"archiveadataset",children:"ArchiveADataset"}),"\n",(0,r.jsxs)(s.p,{children:["ERDDAP\u2122's",(0,r.jsx)(s.a,{href:"/docs/server-admin/additional-information#archiveadataset",children:"ArchiveADataset"}),"est une bonne solution lorsque les donn\xe9es sont ajout\xe9es fr\xe9quemment \xe0 un ensemble de donn\xe9es, mais les donn\xe9es plus anciennes ne sont jamais modifi\xe9es. En gros,ERDDAP\u2122administrateur peut ex\xe9cuter ArchiveADataset (Peut-\xeatre dans un script, peut-\xeatre dirig\xe9 par cron) et sp\xe9cifier un sous-ensemble de donn\xe9es qu'ils veulent extraire (Peut-\xeatre dans plusieurs fichiers) et emballage.zipou.tgzfichier, afin que vous puissiez envoyer le fichier aux personnes ou groupes int\xe9ress\xe9s (Par exemple, l'INCE pour l'archivage) ou le rendre disponible pour t\xe9l\xe9chargement. Par exemple, vous pouvez ex\xe9cuter ArchiveADataset tous les jours \xe0 12h10 et le faire faire une.zipde toutes les donn\xe9es de 12h00 la veille jusqu'\xe0 12h00 aujourd'hui. (Ou, faites cela chaque semaine, chaque mois ou chaque ann\xe9e, au besoin.) Parce que le fichier est g\xe9n\xe9r\xe9 hors ligne, il n'y a aucun danger de d\xe9lai ou trop de donn\xe9es, comme il y aurait pour une normeERDDAP\u2122demande.\n\xa0"]}),"\n",(0,r.jsx)(s.h4,{id:"erddaps-standard-request-system",children:"ERDDAP\u2122Le syst\xe8me de demande standard"}),"\n",(0,r.jsx)(s.p,{children:"ERDDAP\u2122Le syst\xe8me standard de demande est une solution alternative quand les donn\xe9es sont ajout\xe9es fr\xe9quemment \xe0 un ensemble de donn\xe9es, mais les donn\xe9es plus anciennes ne sont jamais modifi\xe9es. Fondamentalement, n'importe qui peut utiliser des demandes standard pour obtenir des donn\xe9es pour une plage de temps sp\xe9cifique. Par exemple, \xe0 12h10 tous les jours, vous pouvez faire une demande pour toutes les donn\xe9es d'un ensemble de donn\xe9es distant de 12h00 \xe0 12h00 aujourd'hui. La limitation (par rapport \xe0 l'approche ArchiveADataset) est le risque d'un d\xe9lai ou il y a trop de donn\xe9es pour un seul fichier. Vous pouvez \xe9viter la limitation en faisant des demandes plus fr\xe9quentes pour des p\xe9riodes plus courtes.\n\xa0"}),"\n",(0,r.jsx)(s.h4,{id:"eddtablefromhttpget",children:"EDDTableFromHttpGet"}),"\n",(0,r.jsxs)(s.p,{children:["\\[Cette option n'existe pas encore, mais semble possible \xe0 construire dans un avenir proche.\\]",(0,r.jsx)(s.br,{}),"\n","La nouvelle",(0,r.jsx)(s.a,{href:"/docs/server-admin/datasets#eddtablefromhttpget",children:"EDDTableFromHttpGet"}),"type d'ensemble de donn\xe9esERDDAP\u2122v2.0 permet d'envisager une autre solution. Les fichiers sous-jacents maintenus par ce type d'ensemble de donn\xe9es sont essentiellement des fichiers journaux qui enregistrent les changements \xe0 l'ensemble de donn\xe9es. Il devrait \xeatre possible de construire un syst\xe8me qui maintient un ensemble de donn\xe9es (ou sur la base d'un d\xe9clencheur) demander toutes les modifications qui ont \xe9t\xe9 apport\xe9es \xe0 l'ensemble de donn\xe9es distant depuis cette derni\xe8re demande. Cela devrait \xeatre aussi efficace (ou plus) que rsync et g\xe9rerait de nombreux sc\xe9narios difficiles, mais ne fonctionnerait que si les ensembles de donn\xe9es distants et locaux sont EDDTableFromHttpGet datasets."]}),"\n",(0,r.jsx)(s.p,{children:"Si quelqu'un veut travailler dessus, veuillez contactererd.data at noaa.gov."}),"\n",(0,r.jsx)(s.h4,{id:"distributed-data",children:"Donn\xe9es distribu\xe9es"}),"\n",(0,r.jsx)(s.p,{children:"Aucune des solutions ci-dessus ne fait un grand travail de r\xe9soudre les variations difficiles du probl\xe8me parce que la r\xe9plication de temps quasi r\xe9el (NRT) Les ensembles de donn\xe9es sont tr\xe8s difficiles, en partie \xe0 cause de tous les sc\xe9narios possibles."}),"\n",(0,r.jsx)(s.p,{children:"Il y a une excellente solution : n'essayez m\xeame pas de reproduire les donn\xe9es.\nUtiliser plut\xf4t la seule source faisant autorit\xe9 (un ensemble de donn\xe9es sur unERDDAP) , tenue par le fournisseur de donn\xe9es (Par exemple, un bureau r\xe9gional) . Tous les utilisateurs qui veulent des donn\xe9es de cet ensemble de donn\xe9es les obtiennent toujours de la source. Par exemple, les applications bas\xe9es sur le navigateur obtiennent les donn\xe9es d'une requ\xeate bas\xe9e sur l'URL, donc il ne devrait pas importe que la requ\xeate soit \xe0 la source originale sur un serveur distant (pas le m\xeame serveur qui h\xe9berge le MES) . Beaucoup de gens d\xe9fendent cette approche des donn\xe9es distribu\xe9es depuis longtemps (Par exemple, Roy Mendelssohn depuis plus de 20 ans) .ERDDAPLe mod\xe8le de grille/f\xe9d\xe9ration (le plus haut 80% de ce document) est bas\xe9 sur cette approche. Cette solution est comme une \xe9p\xe9e pour un noeud gordien \u2014 tout le probl\xe8me dispara\xeet."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Cette solution est \xe9tonnamment simple."}),"\n",(0,r.jsx)(s.li,{children:"Cette solution est \xe9tonnamment efficace car aucun travail n'est fait pour conserver un ensemble de donn\xe9es r\xe9pliqu\xe9es (s) \xe0 jour."}),"\n",(0,r.jsx)(s.li,{children:"Les utilisateurs peuvent obtenir les derni\xe8res donn\xe9es \xe0 tout moment (Par exemple, avec une latence de seulement ~0,5 seconde) ."}),"\n",(0,r.jsxs)(s.li,{children:["Il s'\xe9chelle assez bien et il y a des moyens d'am\xe9liorer l'\xe9chelle. (Voir la discussion au sommet de 80% de ce document.)",(0,r.jsx)(s.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Non, ce n'est pas une solution pour toutes les situations possibles, mais c'est une excellente solution pour la grande majorit\xe9. S'il y a des probl\xe8mes ou des faiblesses avec cette solution dans certaines situations, il est souvent utile de travailler pour r\xe9soudre ces probl\xe8mes ou vivre avec ces faiblesses en raison des avantages \xe9tonnants de cette solution. Si/lorsque cette solution est vraiment inacceptable pour une situation donn\xe9e, par exemple quand vous devez vraiment avoir une copie locale des donn\xe9es, alors consid\xe9rez les autres solutions discut\xe9es ci-dessus.\n\xa0"}),"\n",(0,r.jsx)(s.h3,{id:"conclusion",children:"Conclusion"}),"\n",(0,r.jsx)(s.p,{children:"Bien qu'il n'y ait pas de solution simple et unique qui r\xe9sout parfaitement tous les probl\xe8mes dans tous les sc\xe9narios (comme rsync et les donn\xe9es distribu\xe9es sont presque) , esp\xe9rons qu'il y a suffisamment d'outils et d'options pour que vous puissiez trouver une solution acceptable pour votre situation particuli\xe8re."})]})}function c(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},88623:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/cluster-73996a04326fe63934754f994e09f63f.png"}}]);