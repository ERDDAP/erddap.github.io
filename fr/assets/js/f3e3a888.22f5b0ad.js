"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[205],{28453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>l});var r=n(96540);const i={},t=r.createContext(i);function a(e){const s=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(t.Provider,{value:s},e.children)}},97375:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>u,contentTitle:()=>l,default:()=>c,frontMatter:()=>a,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"server-admin/additional-information","title":"additional-information","description":"ERDDAP\u2122- Mettez en place votre propreERDDAP\u2122","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/server-admin/additional-information.md","sourceDirName":"server-admin","slug":"/server-admin/additional-information","permalink":"/fr/docs/server-admin/additional-information","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/additional-information.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"docSidebar","previous":{"title":"ERDDAP\u2122 - Working with the datasets.xml File","permalink":"/fr/docs/server-admin/datasets"},"next":{"title":"Scaling","permalink":"/fr/docs/server-admin/scaling"}}');var i=n(74848),t=n(28453);const a={sidebar_position:4},l=void 0,u={},o=[{value:"Ce que vous devez savoir",id:"things-you-need-to-know",level:2},{value:"<strong>Erreurs de proxy</strong>",id:"proxy-errors",level:3},{value:"Surveillance",id:"monitoring",level:3},{value:"Moniteurs externes",id:"external-monitors",level:4},{value:"Plusieurs simultan\xe9s Demandes",id:"multiple-simultaneous-requests",level:3},{value:"ERDDAP\u2122Obtenir des donn\xe9es de THREDS",id:"erddap-getting-data-from-thredds",level:3},{value:"R\xe9pondre lentement",id:"responding-slowly",level:3},{value:"Fermez et red\xe9marrez",id:"shut-down-and-restart",level:3},{value:"Crashes ou gels fr\xe9quents",id:"frequent-crashes-or-freezes",level:3},{value:"Moniteur",id:"monitor",level:3},{value:"Permgen",id:"permgen",level:4},{value:"Journal",id:"log",level:4},{value:"Parsing log.txt",id:"parsing-logtxt",level:5},{value:"Registres de Tomcat",id:"tomcat-logs",level:3},{value:"Registre des courriels",id:"e-mail-log",level:3},{value:"Rapport quotidien",id:"daily-report",level:3},{value:"Page d&#39;\xe9tat",id:"status-page",level:3},{value:"Ajout/modification des ensembles de donn\xe9es",id:"addingchanging-datasets",level:3},{value:"Drapeau",id:"flag",level:4},{value:"Flag des fichiers d\xe9fectueux",id:"bad-files-flag",level:5},{value:"Drapeau dur",id:"hard-flag",level:5},{value:"D\xe9finir l&#39;option Dataset",id:"set-dataset-flag",level:5},{value:"Suppression des ensembles de donn\xe9es",id:"removing-datasets",level:4},{value:"Quand les ensembles de donn\xe9es sont-ils recharg\xe9s?",id:"when-are-datasets-reloaded",level:4},{value:"R\xe9ponses cach\xe9es",id:"cached-responses",level:4},{value:"Informations stock\xe9es sur le jeu de donn\xe9es",id:"stored-dataset-information",level:4},{value:"\xc9tat de la m\xe9moire",id:"memory-status",level:3},{value:"De m\xe9moire",id:"outofmemoryerror",level:4},{value:"Trop de fichiers ouverts",id:"too-many-open-files",level:3},{value:"Demandes rejet\xe9es",id:"failed-requests",level:3},{value:"robots.txt",id:"robotstxt",level:3},{value:"sitemap.xml",id:"sitemapxml",level:3},{value:"Diffusion des donn\xe9es / Distribution des donn\xe9es R\xe9seaux",id:"data-dissemination--data-distribution-networks-push-and-pull-technology",level:3},{value:"S\xe9curit\xe9, authentification et autorisation",id:"security-authentication-and-authorization",level:3},{value:"S\xe9curit\xe9",id:"security",level:4},{value:"Configuration de la s\xe9curit\xe9",id:"setup-security",level:5},{value:"Autorisation",id:"authorization",level:5},{value:"Authentification",id:"authentication",level:5},{value:"Personnalis\xe9",id:"custom",level:6},{value:"Courriel",id:"email",level:6},{value:"Google, orcide, oauth2",id:"google-orcid-oauth2",level:6},{value:"Google",id:"google",level:6},{value:"Orcide",id:"orcid",level:6},{value:"Oauth2",id:"oauth2",level:6},{value:"Configuration de Google",id:"google-setup",level:6},{value:"Configuration Orcide",id:"orcid-setup",level:6},{value:"Connectez-vous de toute fa\xe7on",id:"log-in-either-way",level:6},{value:"OpenId",id:"openid",level:6},{value:"BASE",id:"basic",level:6},{value:"Sources de donn\xe9es s\xe9curis\xe9es",id:"secure-data-sources",level:5},{value:"D\xe9fenses contre les pirates",id:"defenses-against-hackers",level:4},{value:"Des questions ? Des suggestions ?",id:"questions-suggestions",level:4},{value:"Ce que vous n&#39;avez pas besoin de savoir",id:"things-you-dont-need-to-know",level:2},{value:"Deuxi\xe8meERDDAP\u2122",id:"second-erddap",level:3},{value:"Deuxi\xe8me Tomcat",id:"second-tomcat",level:4},{value:"Disques solides",id:"solid-state-drives",level:3},{value:"Charges lourdes / contraintes **",id:"heavy-loads--constraints",level:3},{value:"Grilles, groupements et f\xe9d\xe9rations",id:"grids-clusters-and-federations",level:3},{value:"Informatique en nuage",id:"cloud-computing",level:3},{value:"Amazonie",id:"amazon",level:3},{value:"WaitHelTryAgain Exception",id:"waitthentryagain-exception",level:3},{value:"DemandeRechargerASAP",id:"requestreloadasap",level:4},{value:"Fichiers non supprim\xe9s",id:"files-not-being-deleted",level:3},{value:"JSON-ld",id:"json-ld",level:3},{value:"URLs hors date",id:"out-of-date-urls",level:3},{value:"CORS",id:"cors",level:3},{value:"Palettes",id:"palettes",level:3},{value:"Barres de couleurs",id:"colorbars",level:3},{value:"Lignes directrices pour les syst\xe8mes de distribution de donn\xe9es",id:"guidelines-for-data-distribution-systems",level:3},{value:"ArchiveADataset",id:"archiveadataset",level:3},{value:"ISO 19115 .xml Fichiers de m\xe9tadonn\xe9es",id:"iso-19115-xml-metadata-files",level:4}];function d(e){const s={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.p,{children:"ERDDAP\u2122- Mettez en place votre propreERDDAP\u2122"}),"\n",(0,i.jsx)(s.h2,{id:"things-you-need-to-know",children:"Ce que vous devez savoir"}),"\n",(0,i.jsx)(s.p,{children:"\xa0"}),"\n",(0,i.jsx)(s.h3,{id:"proxy-errors",children:(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.a,{href:"#proxy-errors",children:"Erreurs de proxy"})})}),"\n",(0,i.jsx)(s.p,{children:"Parfois, une demande deERDDAP\u2122retournera une erreur Proxy, une erreur HTTP 502 Bad Gateway, ou une erreur similaire. Ces erreurs sont lanc\xe9es par Apache ou Tomcat, pasERDDAP\u2122lui-m\xeame."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Si chaque requ\xeate g\xe9n\xe8re ces erreurs, surtout lorsque vous \xeates en train de configurer votreERDDAP\u2122, alors c'est probablement un proxy ou une mauvaise erreur de passerelle, et la solution est probablement \xe0 corriger",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#proxypass",children:"ERDDAPLes param\xe8tres proxy"}),". C'est peut-\xeatre aussi le probl\xe8me lorsqu'unERDDAP\u2122soudainement commence \xe0 jeter ces erreurs pour chaque demande."]}),"\n",(0,i.jsxs)(s.li,{children:["Autrement, les erreurs \"proxy\" sont g\xe9n\xe9ralement en fait des erreurs de sortie de temps lanc\xe9es par Apache ou Tomcat. M\xeame quand ils se produisent relativement rapidement, c'est une sorte de r\xe9ponse d'Apache ou de Tomcat qui se produit lorsqueERDDAP\u2122est tr\xe8s occup\xe9, la m\xe9moire limit\xe9e, ou limit\xe9e par une autre ressource. Dans ces cas, voir les conseils ci-dessous pour traiter",(0,i.jsx)(s.a,{href:"#responding-slowly",children:"ERDDAP\u2122r\xe9pondre lentement"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Demandes de longue dur\xe9e (> 30 points de temps) d'un ensemble de donn\xe9es maill\xe9es sont sujettes \xe0 des d\xe9faillances de temps, qui apparaissent souvent comme des erreurs proxy, parce qu'il faut beaucoup de temps pourERDDAP\u2122pour ouvrir tous les fichiers de donn\xe9es un par un. SiERDDAP\u2122est autrement occup\xe9 pendant la demande, le probl\xe8me est plus susceptible de se produire. Si les fichiers de l'ensemble de donn\xe9es sont compress\xe9s, le probl\xe8me est plus probable, bien qu'il soit difficile pour un utilisateur de d\xe9terminer si les fichiers d'un ensemble de donn\xe9es sont compress\xe9s.\nLa solution est de faire plusieurs requ\xeates, chacune avec une plus petite plage de temps. Combien de temps ? Je sugg\xe8re de commencer tr\xe8s petit (~30 points de temps ?) Alors (environ) doubler la plage de temps jusqu'\xe0 ce que la demande \xe9choue, puis revenir un doublement. Puis faites toutes les demandes (chacun pour un autre morceau de temps) n\xe9cessaire pour obtenir toutes les donn\xe9es.\nUneERDDAP\u2122administrateur peut att\xe9nuer ce probl\xe8me en augmentant le",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#apache-timeout",children:"Param\xe8tres de timeout Apache"}),"."]}),"\n",(0,i.jsx)(s.h3,{id:"monitoring",children:"Surveillance"}),"\n",(0,i.jsx)(s.p,{children:"Nous voulons tous que nos services de donn\xe9es trouvent leur public et soient largement utilis\xe9s, mais parfois votreERDDAP\u2122peut \xeatre utilis\xe9 trop, causant des probl\xe8mes, y compris des r\xe9ponses super lentes pour toutes les demandes. Notre plan pour \xe9viter les probl\xe8mes est :"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["MoniteurERDDAP\u2122par",(0,i.jsx)(s.a,{href:"#status-page",children:"page web status.html"}),".\nIl a des tonnes d'informations utiles. Si vous voyez qu'un grand nombre de demandes arrivent, ou des tonnes de m\xe9moire sont utilis\xe9es, ou des tonnes de demandes \xe9chou\xe9es, ou que chaque Major LoadDatasets prend beaucoup de temps, ou voir tout signe de choses se coincer et r\xe9pondre lentement, alors regardez dansERDDAP's",(0,i.jsx)(s.a,{href:"#log",children:"fichier log.txt"}),"pour voir ce qui se passe."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Il est \xe9galement utile de noter \xe0 quelle vitesse la page d'\xe9tat r\xe9pond. Si elle r\xe9agit lentement, c'est un indicateur important quiERDDAP\u2122est tr\xe8s occup\xe9."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["MoniteurERDDAP\u2122par",(0,i.jsx)(s.a,{href:"#daily-report",children:"Rapport quotidien"}),"E-mail.\n\xa0"]}),"\n",(0,i.jsxs)(s.li,{children:["Surveillez les ensembles de donn\xe9es p\xe9rim\xe9s via le ",(0,i.jsx)(s.em,{children:"baseUrl"})," /erddap/outOfDateDatasets.htmlpage Web qui est bas\xe9e sur le optionnel",(0,i.jsx)(s.a,{href:"/docs/server-admin/datasets#testoutofdate",children:"testOutOfDate"}),"attribut global.\n\xa0"]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"external-monitors",children:"Moniteurs externes"}),"\n",(0,i.jsxs)(s.p,{children:["Les m\xe9thodes \xe9num\xe9r\xe9es ci-dessus sont",":ERDDAPles"," moyens de surveillance. Il est \xe9galement possible de faire ou d'utiliser des syst\xe8mes externes pour surveiller votreERDDAP. Un projet pour ce faire est",(0,i.jsx)(s.a,{href:"https://github.com/axiom-data-science/erddap-metrics",children:"Projet de mesure erddap d'Axiom"}),". Ces syst\xe8mes externes pr\xe9sentent certains avantages:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Ils peuvent \xeatre personnalis\xe9s pour fournir les informations que vous voulez, affich\xe9es comme vous voulez."}),"\n",(0,i.jsx)(s.li,{children:"Ils peuvent inclure des informations surERDDAP\u2122quiERDDAP\u2122ne peut pas acc\xe9der facilement ou du tout (par exemple, utilisation du processeur, espace libre de disque,ERDDAP\u2122le temps de r\xe9ponse vu du point de vue de l'utilisateur,ERDDAP\u2122disponibilit\xe9,"}),"\n",(0,i.jsx)(s.li,{children:"Ils peuvent fournir des alertes (e-mails, appels t\xe9l\xe9phoniques, SMS) aux administrateurs lorsque les probl\xe8mes d\xe9passent un certain seuil.\n\xa0"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"multiple-simultaneous-requests",children:"Plusieurs simultan\xe9s Demandes"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Les utilisateurs de la liste noire font plusieurs requ\xeates simultan\xe9es!"}),"\nS'il est clair que certains utilisateurs font plusieurs requ\xeates simultan\xe9es, de fa\xe7on r\xe9p\xe9t\xe9e et continue, alors ajoutez leur adresse IP \xe0ERDDAPC'est...<requ\xeateBlacklist>] (/docs/serveur-admin/donn\xe9es#requestblacklist) dans votredatasets.xmlfichier. Parfois, les requ\xeates proviennent toutes d'une seule adresse IP. Parfois, ils proviennent de plusieurs adresses IP, mais clairement le m\xeame utilisateur. Vous pouvez \xe9galement blacklist personnes faisant des tonnes de demandes invalides ou des tonnes de demandes mentalement inefficaces."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Puis, pour chaque demande,ERDDAP\u2122retourne :"}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["HTTP ERROR 403 - Access Forbidden --",(0,i.jsx)(s.br,{}),"\n","Your IP address is on this ERDDAP's request blacklist.",(0,i.jsx)(s.br,{}),"\n","Did you often submit more than one request at a time?",(0,i.jsx)(s.br,{}),"\n","Did you often submit identical requests in a short period of time?",(0,i.jsx)(s.br,{}),"\n","Did you submit a large number of invalid requests?",(0,i.jsx)(s.br,{}),"\n","If you are ready to avoid these problems, please email \\[ERDDAP\u2122 administrator's email address\\] to request to be taken off of the blacklist."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Esp\xe9rons que l'utilisateur verra ce message et vous contactera pour savoir comment r\xe9soudre le probl\xe8me et sortir de la liste noire. Parfois, ils changent d'adresses IP et r\xe9essayent."}),"\n",(0,i.jsx)(s.p,{children:"C'est comme l'\xe9quilibre du pouvoir entre les armes offensives et d\xe9fensives en guerre. Ici, les armes d\xe9fensives (ERDDAP) ont une capacit\xe9 fixe, limit\xe9e par le nombre de c\u0153urs dans le processeur, la bande passante d'acc\xe8s au disque et la bande passante du r\xe9seau. Mais les armes offensives (utilisateurs, notamment les scripts) ont une capacit\xe9 illimit\xe9e:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:'Une seule demande de donn\xe9es \xe0 partir de beaucoup de temps peut causerERDDAPpour ouvrir un grand nombre de fichiers (en s\xe9quence ou en partie multifil\xe9s) . Dans les cas extr\xeames, une requ\xeate "simple" peut facilement relier le RAIDERDDAP\u2122pendant une minute, bloquer efficacement le traitement d\'autres demandes.\n\xa0'}),"\n",(0,i.jsx)(s.li,{children:"Une seule demande peut consommer un gros morceau de m\xe9moire (m\xeame siERDDAP\u2122est cod\xe9 pour minimiser la m\xe9moire n\xe9cessaire pour traiter les grandes requ\xeates) .\n\xa0"}),"\n",(0,i.jsx)(s.li,{children:"Parall\xe9lisation - Oui.\nIl est facile pour un utilisateur intelligent de parall\xe9liser une grande t\xe2che en g\xe9n\xe9rant beaucoup de threads, chacun d'eux pr\xe9sentant une demande s\xe9par\xe9e (qui peuvent \xeatre grandes ou petites) . Ce comportement est encourag\xe9 par la communaut\xe9 informatique comme un moyen efficace de faire face \xe0 un probl\xe8me important (et parall\xe9lisation est efficace dans d'autres circonstances) . Revenir \xe0 l'analogie de guerre: les utilisateurs peuvent faire un nombre essentiellement illimit\xe9 de demandes simultan\xe9es avec le co\xfbt de chacune \xe9tant essentiellement z\xe9ro, mais le co\xfbt de chaque demande entrant dansERDDAP\u2122peut \xeatre grand etERDDAPLa capacit\xe9 de r\xe9ponse est limit\xe9e. Clairement,ERDDAP\u2122perdra cette bataille, \xe0 moins que leERDDAP\u2122administrateur listes noires utilisateurs qui font plusieurs requ\xeates simultan\xe9es qui sont injustement \xe9vincer les autres utilisateurs.\n\xa0"}),"\n",(0,i.jsxs)(s.li,{children:["Scripts multiples -\nMaintenant pensez \xe0 ce qui se passe quand il y a plusieurs utilisateurs intelligents chacun ex\xe9cutant des scripts parall\xe9lis\xe9s. Si un utilisateur peut g\xe9n\xe9rer tellement de requ\xeates que d'autres utilisateurs sont surcharg\xe9s, alors plusieurs de ces utilisateurs peuvent g\xe9n\xe9rer tellement de requ\xeates queERDDAP\u2122devient submerg\xe9 et apparemment insensible. Il s'agit d'une",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Denial-of-service_attack",children:"Attaque DDOS"}),"Encore une fois, la seule d\xe9fense pourERDDAP\u2122c'est aux utilisateurs de la liste noire de faire plusieurs requ\xeates simultan\xe9es qui \xe9loignent injustement les autres utilisateurs.\n\xa0"]}),"\n",(0,i.jsx)(s.li,{children:"Attentes gonfl\xe9es -\nDans ce monde d'entreprises technologiques massives (Amazon, Google, Facebook, ...) , les utilisateurs sont venus \xe0 s'attendre \xe0 des capacit\xe9s essentiellement illimit\xe9es de la part des fournisseurs. Comme ces entreprises font des op\xe9rations financi\xe8res, plus elles ont d'utilisateurs, plus elles ont de revenus pour d\xe9velopper leur infrastructure informatique. Ils peuvent donc se permettre une infrastructure informatique massive pour traiter les demandes. Et ils limitent astucieusement le nombre de demandes et le co\xfbt de chaque demande des utilisateurs en limitant le type de demandes que les utilisateurs peuvent faire afin qu'aucune demande ne soit lourde, et il n'y a jamais de raison (ou d'un moyen) pour les utilisateurs de faire plusieurs requ\xeates simultan\xe9es. Donc, ces grandes entreprises technologiques peuvent avoir beaucoup plus d'utilisateurs queERDDAP\u2122, mais ils ont massivement plus de ressources et des moyens intelligents pour limiter les demandes de chaque utilisateur. C'est une situation g\xe9rable pour les grandes entreprises informatiques (Et ils deviennent riches !) mais pas pourERDDAP\u2122les installations. Encore une fois, la seule d\xe9fense pourERDDAP\u2122c'est aux utilisateurs de la liste noire de faire plusieurs requ\xeates simultan\xe9es qui \xe9loignent injustement les autres utilisateurs.\n\xa0"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Donc utilisateurs: Ne faites pas de multiples requ\xeates simultan\xe9es ou vous serez sur la liste noire!\n\xa0"}),"\n",(0,i.jsx)(s.p,{children:"De toute \xe9vidence, il est pr\xe9f\xe9rable que votre serveur ait beaucoup de c\u0153urs, beaucoup de m\xe9moire (pour que vous puissiez allouer beaucoup de m\xe9moire \xe0ERDDAP\u2122, plus qu'il n'a jamais besoin) , et une connexion internet haute bande passante. Ensuite, la m\xe9moire est rarement ou jamais un facteur limitatif, mais la bande passante du r\xe9seau devient le facteur limitatif le plus courant. Fondamentalement, comme il y a de plus en plus de requ\xeates simultan\xe9es, la vitesse pour un utilisateur donn\xe9 diminue. Cela ralentit naturellement le nombre de demandes qui arrivent si chaque utilisateur ne pr\xe9sente qu'une seule demande \xe0 la fois."}),"\n",(0,i.jsx)(s.h3,{id:"erddap-getting-data-from-thredds",children:"ERDDAP\u2122Obtenir des donn\xe9es de THREDS"}),"\n",(0,i.jsx)(s.p,{children:"Si votreERDDAP\u2122obtient certaines de ses donn\xe9es \xe0 partir d'un THREDDS sur votre site, il ya quelques avantages \xe0 faire une copie des fichiers de donn\xe9es THREDDS (au moins pour les ensembles de donn\xe9es les plus populaires) sur un autre RAID queERDDAP\u2122a acc\xe8s \xe0 de sorte queERDDAP\u2122peut servir les donn\xe9es des fichiers directement. \xc0ERD, nous le faisons pour nos ensembles de donn\xe9es les plus populaires."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"ERDDAP\u2122peut obtenir les donn\xe9es directement et ne pas avoir \xe0 attendre que THREDDS recharge l'ensemble de donn\xe9es ou ..."}),"\n",(0,i.jsx)(s.li,{children:"ERDDAP\u2122peut remarquer et int\xe9grer de nouveaux fichiers de donn\xe9es imm\xe9diatement, de sorte qu'il n'a pas \xe0 pi\xe9ger THREDDS fr\xe9quemment pour voir si l'ensemble de donn\xe9es a chang\xe9. Voir [<mise \xe0 jour de EveryNMillis>] (/docs/serveur-admin/datasets#updateeverynnmillis) ."}),"\n",(0,i.jsx)(s.li,{children:"La charge est r\xe9partie entre 2 serveurs RAIDS et 2 serveurs, au lieu que la requ\xeate soit difficile sur les deuxERDDAP\u2122et des THREDS."}),"\n",(0,i.jsx)(s.li,{children:"Vous \xe9vitez le probl\xe8me d'inad\xe9quation caus\xe9 par THREDS ayant un petit (par d\xe9faut) taille maximale de la demande.ERDDAP\u2122a un syst\xe8me pour g\xe9rer l'inad\xe9quation, mais \xe9viter le probl\xe8me est mieux."}),"\n",(0,i.jsx)(s.li,{children:"Vous avez une copie de sauvegarde des donn\xe9es qui est toujours une bonne id\xe9e."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Dans tous les cas, ne lancez jamais THREDS etERDDAP\u2122dans le m\xeame Tomcat. Ex\xe9cutez-les dans des Tomcats s\xe9par\xe9s, ou mieux, sur des serveurs s\xe9par\xe9s."}),"\n",(0,i.jsx)(s.p,{children:"Nous trouvons que THREDDS arrive p\xe9riodiquement dans un \xe9tat o\xf9 les demandes sont suspendues. Si votreERDDAP\u2122est d'obtenir des donn\xe9es d'un THREDDS et le THREDDS est dans cet \xe9tat,ERDDAP\u2122a une d\xe9fense (il dit que l'ensemble de donn\xe9es bas\xe9 sur THREDS n'est pas disponible) , mais c'est toujours g\xeanant pourERDDAP\u2122parce queERDDAP\u2122doit attendre le timeout chaque fois qu'il essaie de recharger un jeu de donn\xe9es d'un THREDS accroch\xe9. Certains groupes (y comprisERD) \xe9viter cela en red\xe9marrant proactifment les THREDS fr\xe9quemment (Par exemple, la nuit dans un travail de cron) ."}),"\n",(0,i.jsx)(s.h3,{id:"responding-slowly",children:"R\xe9pondre lentement"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"SiERDDAP\u2122R\xe9ponse lente"})," ou si seulement certaines demandes r\xe9pondent lentement,\nvous pourriez \xeatre en mesure de comprendre si la lenteur est raisonnable et temporaire (Par exemple, en raison de nombreuses demandes de scripts ouWMSutilisateurs) , ou si quelque chose est inexplicablement faux et que vous devez",(0,i.jsx)(s.a,{href:"#shut-down-and-restart",children:"arr\xeater et red\xe9marrer Tomcat etERDDAP\u2122"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"SiERDDAP\u2122est de r\xe9pondre lentement, voir le conseil ci-dessous pour d\xe9terminer la cause, qui esp\xe9rons vous permettra de r\xe9soudre le probl\xe8me.\nVous pouvez avoir un point de d\xe9part sp\xe9cifique (Par exemple, une URL de requ\xeate sp\xe9cifique) ou un point de d\xe9part vague (Par exemple,ERDDAP\u2122est lent) .\nVous connaissez peut-\xeatre l'utilisateur concern\xe9 (Par exemple, parce qu'ils vous ont envoy\xe9 un courriel) Ou pas.\nVous pouvez avoir d'autres indices, ou pas.\n\xc9tant donn\xe9 que toutes ces situations et toutes les causes possibles des probl\xe8mes sont floues, les conseils ci-dessous tentent de traiter tous les points de d\xe9part possibles et tous les probl\xe8mes possibles li\xe9s aux r\xe9ponses lentes."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsxs)(s.strong,{children:["Cherchez des indices",(0,i.jsx)(s.a,{href:"#log",children:"ERDDAPLe fichier journal"})]}),"   ( ",(0,i.jsx)(s.em,{children:"BigParent Directory"})," /logs/log.txt) .\n\\[En de rares occasions, il y a des indices dans",(0,i.jsx)(s.a,{href:"#tomcat-logs",children:"Le fichier journal de Tomcat"}),"  ( ",(0,i.jsx)(s.em,{children:"Tomcat"})," /logs/catalina.out) .\\]",(0,i.jsx)(s.br,{}),"\n","Cherchez les messages d'erreur.\nRechercher un grand nombre de demandes provenant d'une (ou quelques-uns) utilisateurs et peut-\xeatre hogging beaucoup de ressources de votre serveur (m\xe9moire, temps CPU, acc\xe8s disque, bande passante internet) ."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Si le probl\xe8me est li\xe9 \xe0 ",(0,i.jsx)(s.strong,{children:"un utilisateur"})," , vous pouvez souvent obtenir un indice sur qui l'utilisateur est via des services web comme",(0,i.jsx)(s.a,{href:"https://whatismyipaddress.com/ip-lookup",children:" https://whatismyipaddress.com/ip-lookup "}),"qui peut vous donner des informations relatives \xe0 l'adresse IP de l'utilisateur (que vous pouvez trouver dansERDDAP's",(0,i.jsx)(s.a,{href:"#log",children:"Log.txt"}),"fichier) ."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Si l'utilisateur semble \xeatre un ",(0,i.jsx)(s.strong,{children:"bot"})," mal se comporter (notamment, un moteur de recherche essayant de remplir leERDDAP\u2122formes avec chaque permutation possible des valeurs d'entr\xe9e) , assurez-vous que vous avez correctement configur\xe9 le serveur",(0,i.jsx)(s.a,{href:"#robotstxt",children:"robots.txt"}),"fichier."]}),"\n",(0,i.jsx)(s.li,{children:"Si l'utilisateur semble \xeatre un **script (s) ** qui fait plusieurs requ\xeates simultan\xe9es, contactez l'utilisateur, expliquez que votreERDDAP\u2122dispose de ressources limit\xe9es (Par exemple, m\xe9moire, temps du processeur, acc\xe8s au disque, bande passante Internet) , et leur demander d'\xeatre attentionn\xe9s des autres utilisateurs et juste faire une demande \xe0 la fois. Vous pourriez aussi mentionner que vous allez les blacklist s'ils ne reculent pas."}),"\n",(0,i.jsxs)(s.li,{children:["Si l'utilisateur semble \xeatre un ",(0,i.jsx)(s.strong,{children:"script"})," faire un grand nombre de demandes longues, demander \xe0 l'utilisateur d'\xeatre attentionn\xe9 des autres utilisateurs en mettant une petite pause (Deux secondes ?) dans le script entre les requ\xeates."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"WMSlogiciel client"})," peut \xeatre tr\xe8s exigeant. Un client demandera souvent 6 images personnalis\xe9es \xe0 la fois. Si l'utilisateur semble \xeatre unWMSclient qui fait des demandes l\xe9gitimes, vous pouvez:"]}),"\n",(0,i.jsx)(s.li,{children:"Ignore-le. (recommand\xe9, parce qu'ils vont bient\xf4t avancer)"}),"\n",(0,i.jsx)(s.li,{children:"\xc9teignez le serveurWMSservice viaERDDAPLe fichier setup.html. (non recommand\xe9)"}),"\n",(0,i.jsxs)(s.li,{children:["Si les demandes semblent ",(0,i.jsx)(s.strong,{children:"stupide, fou, excessif, ou malveillant,"})," ou si vous ne pouvez pas r\xe9soudre le probl\xe8me autrement, envisager d'ajouter temporairement ou d\xe9finitivement l'adresse IP de l'utilisateur \xe0 la [<requ\xeateBlacklist> dans votredatasets.xmlfichier] (/docs/serveur-admin/donn\xe9es#requestblacklist) .\n\xa0"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Essayez de reproduire le probl\xe8me vous-m\xeame, depuis votre ordinateur."}),(0,i.jsx)(s.br,{}),"\n","D\xe9terminez si le probl\xe8me concerne un ensemble de donn\xe9es ou tous les ensembles de donn\xe9es, pour un utilisateur ou tous les utilisateurs, pour seulement certains types de requ\xeates, etc.\nSi vous pouvez reproduire le probl\xe8me, essayez de le r\xe9duire.\nSi vous ne pouvez pas reproduire le probl\xe8me, alors le probl\xe8me peut \xeatre li\xe9 \xe0 l'ordinateur de l'utilisateur, la connexion Internet de l'utilisateur, ou la connexion Internet de votre institution.\n\xa0"]}),"\n",(0,i.jsxs)(s.li,{children:["Si juste ",(0,i.jsx)(s.strong,{children:"un ensemble de donn\xe9es"})," r\xe9pond lentement (peut-\xeatre seulement pour ",(0,i.jsx)(s.strong,{children:"un type de demande"})," d'un utilisateur) , le probl\xe8me peut \xeatre:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"ERDDAPL'acc\xe8s aux donn\xe9es sources de l'ensemble de donn\xe9es (notamment \xe0 partir de bases de donn\xe9es relationnelles, de Cassandra et de ensembles de donn\xe9es \xe0 distance) peut \xeatre temporairement ou d\xe9finitivement lent. Essayez de v\xe9rifier la vitesse de la source ind\xe9pendamment deERDDAP. Si c'est lent, vous pouvez peut-\xeatre l'am\xe9liorer."}),"\n",(0,i.jsx)(s.li,{children:"Le probl\xe8me est-il li\xe9 \xe0 la demande sp\xe9cifique ou au type g\xe9n\xe9ral de demande?\nPlus le sous-ensemble de donn\xe9es demand\xe9 est grand, plus la demande \xe9chouera probablement. Si l'utilisateur fait d'\xe9normes demandes, demandez \xe0 l'utilisateur de faire des demandes plus petites qui sont plus susceptibles d'obtenir une r\xe9ponse rapide et r\xe9ussie."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Presque tous les ensembles de donn\xe9es sont meilleurs pour traiter certains types de demandes que d'autres types de demandes. Par exemple, lorsqu'un jeu de donn\xe9es stocke diff\xe9rents morceaux de temps dans diff\xe9rents fichiers, les demandes de donn\xe9es \xe0 partir d'un grand nombre de points de temps peuvent \xeatre tr\xe8s lentes. Si les demandes actuelles sont de type difficile, envisagez d'offrir une variante de l'ensemble de donn\xe9es optimis\xe9 pour ces demandes. Ou expliquez simplement \xe0 l'utilisateur que ce type de requ\xeate est difficile et prend du temps, et demandez leur patience."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"L'ensemble de donn\xe9es peut ne pas \xeatre configur\xe9 de mani\xe8re optimale. Vous pouvez peut-\xeatre apporter des modifications \xe0 l'ensemble de donn\xe9esdatasets.xmlpour aiderERDDAP\u2122mieux g\xe9rer l'ensemble de donn\xe9es. Par exemple,"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"EDDGridLes ensembles de donn\xe9es de NcFiles qui acc\xe8dent aux donn\xe9es des fichiers nc4/hdf5 compress\xe9s sont lents lors de l'obtention des donn\xe9es pour toute la gamme g\xe9ographique (Par exemple, pour une carte du monde) car le fichier entier doit \xeatre d\xe9comprim\xe9. Vous pouvez convertir les fichiers en fichiers non compress\xe9s, mais alors l'espace disque requis sera beaucoup, beaucoup plus grand. Il est probablement pr\xe9f\xe9rable de simplement accepter que ces ensembles de donn\xe9es seront lents dans certaines circonstances."}),"\n",(0,i.jsx)(s.li,{children:"La configuration du [<subsetVariables>] (/docs/serveur-admin/datasets#subsetvariables) tag a une \xe9norme influence sur commentERDDAP\u2122g\xe8re les ensembles de donn\xe9es EDDTable."}),"\n",(0,i.jsxs)(s.li,{children:["Vous pourriez \xeatre en mesure d'augmenter le",(0,i.jsx)(s.a,{href:"/docs/server-admin/datasets#database-speed",children:"vitesse d'une EDDTableFromDatabase"}),"ensemble de donn\xe9es."]}),"\n",(0,i.jsxs)(s.li,{children:["De nombreux ensembles de donn\xe9es EDDTable peuvent \xeatre d\xe9velopp\xe9s par",(0,i.jsx)(s.a,{href:"/docs/server-admin/datasets#eddtablefromfiles",children:"stockage d'une copie des donn\xe9es dansNetCDFDossiers d'array pi\xe9g\xe9s"}),", quiERDDAP\u2122peut lire tr\xe8s rapidement."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Si vous voulez aider \xe0 acc\xe9l\xe9rer un ensemble de donn\xe9es sp\xe9cifique, inclure une description du probl\xe8me et le morceau de l'ensemble de donn\xe9esdatasets.xmlet de voir notre",(0,i.jsx)(s.a,{href:"/docs/intro#support",children:"section sur l'obtention d'un soutien suppl\xe9mentaire"}),".\n\xa0"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Si ",(0,i.jsx)(s.strong,{children:"tout"})," enERDDAP\u2122est ",(0,i.jsx)(s.strong,{children:"toujours"})," lent, le probl\xe8me peut \xeatre:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"L'ordinateur qui tourneERDDAP\u2122peut ne pas avoir assez de m\xe9moire ou de puissance de traitement. C'est bon de courirERDDAP\u2122sur un serveur multi-c\u0153ur moderne. Pour une utilisation lourde, le serveur devrait avoir un syst\xe8me d'exploitation 64 bits et 8 Go ou plus de m\xe9moire."}),"\n",(0,i.jsx)(s.li,{children:"L'ordinateur qui tourneERDDAP\u2122Il se peut aussi que d'autres applications consomment beaucoup de ressources du syst\xe8me. Si oui, pouvez-vous obtenir un serveur d\xe9di\xe9 pourERDDAP? Par exemple (ce n'est pas une approbation) , vous pouvez obtenir un serveur Mac Mini quad-core avec 8 Go de m\xe9moire pour ~1100 $.\n\xa0"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["Si ",(0,i.jsx)(s.strong,{children:"tout"})," enERDDAP\u2122est ",(0,i.jsx)(s.strong,{children:"temporaire"})," Lent, regardez votreERDDAP's",(0,i.jsxs)(s.a,{href:"#status-page",children:[" ",(0,i.jsx)(s.strong,{children:"/erddap/status.htmlpage"})," "]}),"dans votre navigateur.","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["LesERDDAP\u2122La page d'\xe9tat ne se charge pas?\nSi oui,",(0,i.jsx)(s.a,{href:"#shut-down-and-restart",children:"red\xe9marrerERDDAP\u2122"}),"."]}),"\n",(0,i.jsx)(s.li,{children:"Est-ce queERDDAP\u2122charger la page d'\xe9tat lentement (Par exemple, >5 secondes) ?\nC'est un signe que tout enERDDAP\u2122est lente, mais ce n'est pas forc\xe9ment un probl\xe8me.ERDDAP\u2122C'est peut-\xeatre tr\xe8s occup\xe9."}),"\n",(0,i.jsx)(s.li,{children:"Pour \"La r\xe9ponse a \xe9chou\xe9 (depuis les derniers grands ensembles de donn\xe9es de chargement) \", est n= un grand nombre?\nCela indique qu'il y a eu r\xe9cemment beaucoup de demandes rejet\xe9es. \xc7a peut \xeatre un probl\xe8me ou un d\xe9but de probl\xe8me. Le temps m\xe9dian pour les \xe9checs est souvent important (Par exemple, 210000 ms) ,\nce qui signifie qu'il y avait (Vraiment ?) Beaucoup de fils actifs.\nqui liaient beaucoup de ressources (Comme la m\xe9moire, les fichiers ouverts, les sockets ouverts, ...) ,\nCe qui n'est pas bon."}),"\n",(0,i.jsx)(s.li,{children:"Pour \"R\xe9ponse Temps r\xe9ussi (depuis les derniers grands ensembles de donn\xe9es de chargement) \", est n= un grand nombre?\nCela indique qu'il y a eu r\xe9cemment beaucoup de demandes retenues. Ce n'est pas un probl\xe8me. \xc7a veut juste dire que votreERDDAP\u2122\xc7a devient tr\xe8s utile."}),"\n",(0,i.jsxs)(s.li,{children:["Le \"Nombre de fils d'attente non-Tombat\" est-il le double d'une valeur typique?\nC'est souvent un probl\xe8me grave qui causeraERDDAP\u2122pour ralentir et finir par geler. Si cela persiste pendant des heures, vous voudrez peut-\xeatre",(0,i.jsx)(s.a,{href:"#shut-down-and-restart",children:"red\xe9marrerERDDAP\u2122"}),"."]}),"\n",(0,i.jsx)(s.li,{children:'Au bas de la liste "R\xe9sum\xe9 de l\'utilisation de la m\xe9moire", la derni\xe8re valeur "Memory: currently using" est-elle tr\xe8s \xe9lev\xe9e?\nCela peut simplement indiquer une utilisation \xe9lev\xe9e, ou cela peut \xeatre un signe de probl\xe8me.'}),"\n",(0,i.jsx)(s.li,{children:"Regardez la liste des fils et leur statut. Un nombre inhabituel d'entre eux font quelque chose d'inhabituel ?\n\xa0"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["Est ",(0,i.jsx)(s.strong,{children:"la connexion Internet de votre institution"}),' actuellement lent ?\nRechercher sur Internet "test de vitesse Internet" et utiliser l\'un des tests en ligne gratuits, tels que',(0,i.jsx)(s.a,{href:"https://www.speakeasy.net/speedtest/",children:" https://www.speakeasy.net/speedtest/ "}),". Si la connexion Internet de votre institution est lente, alors les connexions entreERDDAP\u2122les sources de donn\xe9es \xe0 distance seront lentes et les connexions entreERDDAP\u2122et l'utilisateur sera lent. Parfois, vous pouvez r\xe9soudre cela en arr\xeatant l'utilisation inutile d'Internet (Par exemple, les personnes qui regardent des vid\xe9os en streaming ou des conf\xe9rences t\xe9l\xe9phoniques vid\xe9o) .\n\xa0"]}),"\n",(0,i.jsxs)(s.li,{children:["Est ",(0,i.jsx)(s.strong,{children:"la connexion Internet de l'utilisateur"})," actuellement lent ?\nDemandez \xe0 l'utilisateur de faire une recherche sur Internet pour \"test de vitesse Internet\" et d'utiliser l'un des tests gratuits en ligne, comme",(0,i.jsx)(s.a,{href:"https://www.speakeasy.net/speedtest/",children:" https://www.speakeasy.net/speedtest/ "}),". Si la connexion Internet de l'utilisateur est lente, elle ralentit leur acc\xe8s \xe0ERDDAP. Parfois, ils peuvent r\xe9soudre cela en arr\xeatant l'utilisation inutile d'Internet dans leur institution (Par exemple, les personnes qui regardent des vid\xe9os en streaming ou des conf\xe9rences t\xe9l\xe9phoniques vid\xe9o) .\n\xa0"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Cass\xe9 ?"}),(0,i.jsx)(s.br,{}),"\n","Voir notre",(0,i.jsx)(s.a,{href:"/docs/intro#support",children:"section sur l'obtention d'un soutien suppl\xe9mentaire"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"shut-down-and-restart",children:"Fermez et red\xe9marrez"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Comment fermer et red\xe9marrer Tomcat etERDDAP\u2122"}),(0,i.jsx)(s.br,{}),"\n","Vous n'avez pas besoin d'arr\xeater et de red\xe9marrer Tomcat etERDDAPsiERDDAP\u2122est temporairement lent, lent pour une raison connue (comme beaucoup de requ\xeates de scripts ouWMSutilisateurs) , ou d'appliquer des changementsdatasets.xmlfichier."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Vous devez arr\xeater et red\xe9marrer Tomcat etERDDAP\u2122si vous devez appliquer des modifications au fichier setup.xml, ou siERDDAP\u2122gele, pend ou verrouille. Dans des circonstances extr\xeames,Javapeut geler pendant une minute ou deux pendant qu'il fait une collecte compl\xe8te des ordures, mais ensuite r\xe9cup\xe9rer. Donc c'est bon d'attendre une minute ou deux pour voir siJava/ERDDAP\u2122est vraiment congel\xe9 ou si elle fait juste une longue collecte des ordures. (Si la collecte des ordures est un probl\xe8me courant,",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#memory",children:"attribuer plus de m\xe9moire \xe0 Tomcat"}),".)"]}),"\n",(0,i.jsx)(s.p,{children:"Je ne recommande pas d'utiliser le Tomcat Web Application Manager pour d\xe9marrer ou arr\xeater Tomcat. Si vous ne vous arr\xeatez pas compl\xe8tement et ne d\xe9marrez pas Tomcat, t\xf4t ou tard vous aurez des probl\xe8mes de m\xe9moire PermGen."}),"\n",(0,i.jsx)(s.p,{children:"Pour arr\xeater et red\xe9marrer Tomcat etERDDAP:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Si vous utilisez Linux ou un Mac :\n(Si vous avez cr\xe9\xe9 un utilisateur sp\xe9cial pour ex\xe9cuter Tomcat, par exemple, tomcat, n'oubliez pas de faire les \xe9tapes suivantes en tant qu'utilisateur.)",(0,i.jsx)(s.br,{}),"\n","\xa0","\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["Utiliser cd ",(0,i.jsx)(s.em,{children:"Tomcat"})," /bin\n\xa0"]}),"\n",(0,i.jsxs)(s.li,{children:["Utiliser ps -ef|tomcat grep pour trouver le processus java/tomcat Num\xe9ro (J'esp\xe8re qu'un seul processus sera \xe9num\xe9r\xe9) , que nous appellerons ",(0,i.jsx)(s.em,{children:"javaProcessID"})," ci-dessous.\n\xa0"]}),"\n",(0,i.jsxs)(s.li,{children:["SiERDDAP\u2122est congel\xe9/humide/verrouill\xe9, utiliser tuer -3 ",(0,i.jsx)(s.em,{children:"javaProcessID"})," \xe0 direJava  (qui dirige Tomcat) pour faire une sauvegarde de thread dans le fichier journal Tomcat: ",(0,i.jsx)(s.em,{children:"Tomcat"})," /logs/catalina.out . Apr\xe8s avoir red\xe9marr\xe9, vous pouvez diagnostiquer le probl\xe8me en trouvant l'information de la d\xe9charge thread (et toute autre information utile ci-dessus) en ",(0,i.jsx)(s.em,{children:"Tomcat"})," /logs/catalina.out et aussi en lisant les parties pertinentes de la",(0,i.jsx)(s.a,{href:"#log",children:"ERDDAP\u2122archive journal"}),". Si vous voulez, vous pouvez inclure cette information et voir notre",(0,i.jsx)(s.a,{href:"/docs/intro#support",children:"section sur l'obtention d'un soutien suppl\xe9mentaire"}),".\n\xa0"]}),"\n",(0,i.jsx)(s.li,{children:"Utilisez ./shutdown. sh\n\xa0"}),"\n",(0,i.jsx)(s.li,{children:"Utiliser ps -ef|grep tomcat \xe0 plusieurs reprises jusqu'\xe0 ce que le processus java/tomcat ne soit pas list\xe9."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Parfois, le processus java/tomcat prend jusqu'\xe0 deux minutes pour s'arr\xeater compl\xe8tement. La raison en est ",":ERDDAP","\u2122envoie un message \xe0 ses fils d'arri\xe8re-plan pour leur dire de s'arr\xeater, mais parfois il faut beaucoup de temps \xe0 ces fils pour arriver \xe0 un bon endroit d'arr\xeat."]}),"\n",(0,i.jsxs)(s.ol,{start:"6",children:["\n",(0,i.jsxs)(s.li,{children:["Si apr\xe8s une minute, java/tomcat ne s'arr\xeate pas seul, vous pouvez utiliser\ntuer -9 ",(0,i.jsx)(s.em,{children:"javaProcessID"}),(0,i.jsx)(s.br,{}),"\n","forcer le processus java/tomcat \xe0 s'arr\xeater imm\xe9diatement. Si possible, n'utilisez ceci qu'en dernier recours. Le commutateur -9 est puissant, mais il peut causer divers probl\xe8mes.\n\xa0"]}),"\n",(0,i.jsx)(s.li,{children:"Pour red\xe9marrerERDDAP\u2122, utiliser ./startup.sh\n\xa0"}),"\n",(0,i.jsxs)(s.li,{children:["AffichageERDDAP\u2122dans votre navigateur pour v\xe9rifier que le red\xe9marrage a r\xe9ussi. (Parfois, vous devez attendre 30 secondes et essayer de chargerERDDAP\u2122\xe0 nouveau dans votre navigateur pour qu'il r\xe9ussisse.)",(0,i.jsx)(s.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Si vous utilisez Windows:\n\xa0","\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["Utiliser cd ",(0,i.jsx)(s.em,{children:"Tomcat"})," /bin\n\xa0"]}),"\n",(0,i.jsxs)(s.li,{children:["Utilisationshutdown.bat",(0,i.jsx)(s.br,{}),"\n","\xa0"]}),"\n",(0,i.jsxs)(s.li,{children:["Vous pouvez vouloir/avoir besoin d'utiliser le Gestionnaire des t\xe2ches Windows (accessible via Ctrl Alt Del) de veiller \xe0 ce queJava/Tomcat/ERDDAP\u2122processus/application a compl\xe8tement cess\xe9.\nParfois, le processus/la demande prend jusqu'\xe0 deux minutes pour s'arr\xeater. La raison en est ",":ERDDAP","\u2122envoie un message \xe0 ses fils d'arri\xe8re-plan pour leur dire de s'arr\xeater, mais parfois il faut beaucoup de temps \xe0 ces fils pour arriver \xe0 un bon endroit d'arr\xeat.\n\xa0"]}),"\n",(0,i.jsx)(s.li,{children:"Pour red\xe9marrerERDDAP\u2122, utilisez startup.bat\n\xa0"}),"\n",(0,i.jsxs)(s.li,{children:["AffichageERDDAP\u2122dans votre navigateur pour v\xe9rifier que le red\xe9marrage a r\xe9ussi. (Parfois, vous devez attendre 30 secondes et essayer de chargerERDDAP\u2122\xe0 nouveau dans votre navigateur pour qu'il r\xe9ussisse.)",(0,i.jsx)(s.br,{}),"\n","\xa0"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"frequent-crashes-or-freezes",children:"Crashes ou gels fr\xe9quents"}),"\n",(0,i.jsxs)(s.p,{children:["SiERDDAP\u2122devient lent, s'\xe9crase ou g\xe8le, quelque chose ne va pas. Regardez.",(0,i.jsx)(s.a,{href:"#log",children:"ERDDAPLe fichier journal"}),"pour essayer de trouver la cause. Si vous ne pouvez pas, veuillez inclure les d\xe9tails et voir notre",(0,i.jsx)(s.a,{href:"/docs/intro#support",children:"section sur l'obtention d'un soutien suppl\xe9mentaire"}),"."]}),"\n",(0,i.jsx)(s.p,{children:"Le probl\xe8me le plus courant est un utilisateur g\xeanant qui ex\xe9cute plusieurs scripts \xe0 la fois et/ou quelqu'un qui effectue un grand nombre de requ\xeates non valides. Si cela se produit, vous devriez probablement blacklist cet utilisateur. Lorsqu'un utilisateur sur la liste noire fait une demande, le message d'erreur dans la r\xe9ponse les encourage \xe0 vous envoyer un courriel pour r\xe9soudre les probl\xe8mes. Ensuite, vous pouvez les encourager \xe0 ex\xe9cuter un seul script \xe0 la fois et \xe0 r\xe9soudre les probl\xe8mes dans leur script (Par exemple, demander des donn\xe9es \xe0 partir d'un ensemble de donn\xe9es \xe0 distance qui ne peuvent pas r\xe9pondre avant de s'arr\xeater) . Voir [<requ\xeateBlacklist> dans votredatasets.xmlfichier] (/docs/serveur-admin/donn\xe9es#requestblacklist) ."}),"\n",(0,i.jsxs)(s.p,{children:["Dans des circonstances extr\xeames,Javapeut geler pendant une minute ou deux pendant qu'il fait une collecte compl\xe8te des ordures, mais ensuite r\xe9cup\xe9rer. Donc c'est bon d'attendre une minute ou deux pour voir siJava/ERDDAP\u2122est vraiment congel\xe9 ou si elle fait juste une longue collecte des ordures. (Si la collecte des ordures est un probl\xe8me courant,",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#memory",children:"attribuer plus de m\xe9moire \xe0 Tomcat"}),".)"]}),"\n",(0,i.jsxs)(s.p,{children:["SiERDDAP\u2122devient lent ou g\xe8le et le probl\xe8me n'est pas un utilisateur g\xeanant ou une longue collecte des ordures, vous pouvez g\xe9n\xe9ralement r\xe9soudre le probl\xe8me par",(0,i.jsx)(s.a,{href:"#shut-down-and-restart",children:"red\xe9marrageERDDAP\u2122"}),". Mon exp\xe9rience est queERDDAP\u2122peut courir pendant des mois sans avoir besoin d'un red\xe9marrage.\n\xa0"]}),"\n",(0,i.jsx)(s.h3,{id:"monitor",children:"Moniteur"}),"\n",(0,i.jsxs)(s.p,{children:["Vous pouvez surveiller votreERDDAP's statut en regardant",(0,i.jsx)(s.a,{href:"#status-page",children:"/erddap/status.htmlpage"}),", notamment les statistiques dans la section sup\xe9rieure. SiERDDAP\u2122devient lent ou gele et le probl\xe8me n'est pas seulement une utilisation extr\xeamement lourde, vous pouvez g\xe9n\xe9ralement r\xe9soudre le probl\xe8me par",(0,i.jsx)(s.a,{href:"#shut-down-and-restart",children:"red\xe9marrageERDDAP\u2122"}),". Il y a d'autres mesures disponibles gr\xe2ce \xe0 l'int\xe9gration Prom\xe9th\xe9e \xe0 /erddap/metrics."]}),"\n",(0,i.jsxs)(s.p,{children:["Mon exp\xe9rience est queERDDAP\u2122peut courir pendant des mois sans avoir besoin d'un red\xe9marrage. Vous ne devriez avoir besoin de le red\xe9marrer que si vous voulez appliquer certaines modifications que vous avez faites \xe0ERDDAP's setup.xml ou quand vous devez installer de nouvelles versions deERDDAP\u2122,Java, Tomcat, ou le syst\xe8me d'exploitation. Si vous devez red\xe9marrerERDDAP\u2122Souvent, quelque chose ne va pas. Regardez.",(0,i.jsx)(s.a,{href:"#log",children:"ERDDAPLe fichier journal"}),"pour essayer de trouver la cause. Si vous ne pouvez pas, veuillez inclure les d\xe9tails et voir notre",(0,i.jsx)(s.a,{href:"/docs/intro#support",children:"section sur l'obtention d'un soutien suppl\xe9mentaire"}),". Comme solution temporaire, vous pourriez essayer d'utiliser",(0,i.jsx)(s.a,{href:"https://mmonit.com/monit/",children:"Moniteur"}),"pour surveiller votreERDDAP\u2122et le red\xe9marrer si n\xe9cessaire. Ou, vous pourriez faire un travail de cron pour red\xe9marrerERDDAP\u2122  (proactivement) p\xe9riodiquement. Il peut \xeatre un peu difficile d'\xe9crire un script pour automatiser la surveillance et le red\xe9marrageERDDAP. Quelques conseils qui pourraient aider:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Vous pouvez simplifier les tests si le processus Tomcat fonctionne toujours en utilisant le commutateur -c avec grep:\nAutres ",(0,i.jsx)(s.em,{children:"Tomcat Utilisateur"}),'  |c java\nCela r\xe9duira la sortie \xe0 "1" si le processus tomcat est toujours en vie, ou "0" si le processus s\'est arr\xeat\xe9.\n\xa0']}),"\n",(0,i.jsxs)(s.li,{children:["Si vous \xeates bon avec gawk, vous pouvez extraire le processID des r\xe9sultats de\nAutres ",(0,i.jsx)(s.em,{children:"Tomcat Utilisateur"}),"  |grep java, et utiliser le processID dans d'autres lignes du script.\n\xa0"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Si vous mettez en place Monit ou un travail de cron, ce serait super si vous pouviez partager les d\xe9tails afin que d'autres puissent profiter de notre",(0,i.jsx)(s.a,{href:"/docs/intro#support",children:"section sur l'obtention d'un soutien suppl\xe9mentaire"}),"o\xf9 vous pouvez partager."]}),"\n",(0,i.jsx)(s.h4,{id:"permgen",children:"Permgen"}),"\n",(0,i.jsxs)(s.p,{children:["Si vous utilisez Tomcat Manager \xe0 plusieurs reprises pour recharger (ou Stop et Start)  ERDDAP\u2122,ERDDAP\u2122Peut ne pas d\xe9marrer et lancer java.lang. De m\xe9moireErreur: PermGen. La solution est de p\xe9riodiquement (Ou \xe0 chaque fois ?)  ",(0,i.jsx)(s.a,{href:"#shut-down-and-restart",children:"fermer et red\xe9marrer tomcat etERDDAP\u2122"}),", au lieu de simplement rechargerERDDAP.\n\\[Mise \xe0 jour : Ce probl\xe8me a \xe9t\xe9 grandement minimis\xe9 ou corrig\xe9ERDDAP\u2122de la version 1.24.\\]",(0,i.jsx)(s.br,{}),"\n","\xa0"]}),"\n",(0,i.jsx)(s.h4,{id:"log",children:"Journal"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.a,{href:"#log",children:"Log.txt"})}),(0,i.jsx)(s.br,{}),"\n","SiERDDAP\u2122ne d\xe9marre pas ou si quelque chose ne fonctionne pas comme pr\xe9vu, il est tr\xe8s utile de regarder les messages d'erreur et de diagnostic dans leERDDAP\u2122fichier journal."]}),"\n",(0,i.jsxs)(s.li,{children:["Le fichier journal est ",(0,i.jsx)(s.em,{children:"BigParent Directory"})," /logs/log.txt\n( ",(0,i.jsx)(s.em,{children:"BigParent Directory"})," est sp\xe9cifi\xe9 dans",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"configuration.xml"}),") . S'il n'y a pas de journal. fichier txt ou si le journal. Le fichier txt n'a pas \xe9t\xe9 mis \xe0 jour depuis le red\xe9marrageERDDAP\u2122, regardez dans le",(0,i.jsx)(s.a,{href:"#tomcat-logs",children:"Fichiers de journaux Tomcat"}),"pour voir s'il y a un message d'erreur."]}),"\n",(0,i.jsxs)(s.li,{children:["Types de messages de diagnostic dans le fichier journal:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Le mot \"erreur\" est utilis\xe9 quand quelque chose s'est tellement mal pass\xe9 que la proc\xe9dure n'a pas abouti. Bien qu'il soit ennuyeux d'obtenir une erreur, l'erreur vous force \xe0 traiter le probl\xe8me. Nous pensons qu'il est pr\xe9f\xe9rable de jeter une erreur, que d'avoirERDDAP\u2122Vous ne vous attendiez pas \xe0 travailler."}),"\n",(0,i.jsx)(s.li,{children:'Le mot "avertissement" est utilis\xe9 quand quelque chose a mal tourn\xe9, mais la proc\xe9dure a pu \xeatre achev\xe9e. C\'est assez rare.'}),"\n",(0,i.jsx)(s.li,{children:"Tout le reste n'est qu'un message informatif. Vous pouvez contr\xf4ler la quantit\xe9 d'informations enregistr\xe9es avec [<niveau de log>] (/docs/serveur-admin/donn\xe9es#loglevel)  datasets.xml."}),"\n",(0,i.jsx)(s.li,{children:"Le jeu de donn\xe9es recharge et les r\xe9ponses de l'utilisateur qui prennent >10 secondes pour terminer (succ\xe8s ou \xe9chec) sont marqu\xe9s par \" (Plus de 10 !) \". Ainsi, vous pouvez rechercher le fichier log.txt pour trouver les ensembles de donn\xe9es qui ont \xe9t\xe9 lents \xe0 recharger ou le num\xe9ro de requ\xeate des requ\xeates qui ont \xe9t\xe9 lents \xe0 terminer. Vous pouvez alors regarder plus haut dans le fichier log.txt pour voir quel \xe9tait le probl\xe8me de l'ensemble de donn\xe9es ou ce que la demande de l'utilisateur \xe9tait et de qui il \xe9tait. Ces charges de donn\xe9es lentes et les demandes des utilisateurs sont parfois taxant surERDDAP. En savoir plus sur ces demandes peut donc vous aider \xe0 identifier et \xe0 r\xe9soudre les probl\xe8mes."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["L'information est \xe9crite au fichier journal sur le lecteur de disque dans des morceaux assez grands. L'avantage est que c'est tr\xe8s efficace --ERDDAP\u2122ne bloquera jamais en attendant que l'information soit \xe9crite dans le fichier journal. L'inconv\xe9nient est que le journal se termine presque toujours par un message partiel, qui ne sera pas termin\xe9 avant que le prochain morceau soit \xe9crit. Vous pouvez le mettre \xe0 jour (pour un instant) en regardant votreERDDAPla page Web de l'\xe9tat \xe0 https://",(0,i.jsx)(s.em,{children:"your.domain.org"}),"/erddap/status.html   (ouhttp://sihttpsn'est pas activ\xe9) ."]}),"\n",(0,i.jsx)(s.li,{children:"Lorsque les fichiers log.txt atteignent 20 Mo,\nle fichier est renomm\xe9 journal. txt.previous et un nouveau fichier log.txt est cr\xe9\xe9. Donc les fichiers journaux ne s'accumulent pas."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Dans setup.xml, vous pouvez sp\xe9cifier une taille maximale diff\xe9rente pour le fichier journal, dans MegaBytes. Le minimum autoris\xe9 est 1 (Pays) . Le maximum autoris\xe9 est de 2000 (Pays) . Par d\xe9faut : 20 (Pays) . Par exemple:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"        <logMaxSizeMB>20</logMaxSizeMB>\n"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Quand vous red\xe9marrezERDDAP\u2122,\nERDDAP\u2122fait une copie d'archive du log.txt et du log. txt.fichiers pr\xe9c\xe9dents avec un timbre-temps dans le nom du fichier. S'il y a eu des probl\xe8mes avant le red\xe9marrage, il peut \xeatre utile d'analyser ces fichiers archiv\xe9s pour trouver des indices sur le probl\xe8me. Vous pouvez supprimer les fichiers d'archive s'ils ne sont plus n\xe9cessaires.\n\xa0"}),"\n"]}),"\n",(0,i.jsx)(s.h5,{id:"parsing-logtxt",children:"Parsing log.txt"}),"\n",(0,i.jsx)(s.p,{children:"ERDDAPLe journal de bord. Le fichier txt n'est pas con\xe7u pour l'analyse (bien que vous pourriez \xeatre en mesure de cr\xe9er des expressions r\xe9guli\xe8res qui extraire l'information souhait\xe9e) . Il est con\xe7u pour aider un humain \xe0 comprendre ce qui se passe quand quelque chose se passe mal. Lorsque vous soumettez un bogue ou un rapport de probl\xe8me \xe0ERDDAP\u2122les d\xe9veloppeurs, si possible, veuillez inclure toutes les informations du fichier log.txt relatives \xe0 la requ\xeate g\xeanante."}),"\n",(0,i.jsxs)(s.p,{children:["Pour des raisons d'efficacit\xe9,ERDDAP\u2122seulement \xe9crit des informations \xe0 enregistrer. txt apr\xe8s une grande partie de l'information s'est accumul\xe9e. Donc si vous visitez le journal. txt juste apr\xe8s qu'une erreur est survenue, les informations li\xe9es \xe0 l'erreur peuvent ne pas avoir encore \xe9t\xe9 \xe9crites sur log.txt. Afin d'obtenir des informations parfaitement \xe0 jour de log.txt, visitez votreERDDAP's",(0,i.jsx)(s.a,{href:"#status-page",children:"page status.html"}),". QuandERDDAP\u2122processus qui demande, il chasse toutes les informations en attente \xe0 log.txt."]}),"\n",(0,i.jsxs)(s.p,{children:["PourERDDAP\u2122statistiques d'utilisation, veuillez utiliser le",(0,i.jsx)(s.a,{href:"#tomcat-logs",children:"Fichiers journaux Apache et/ou Tomcat"}),"au lieu deERDDAPLe log.txt. Notez queERDDAP's",(0,i.jsx)(s.a,{href:"#status-page",children:"page status.html"}),"  (certains) et",(0,i.jsx)(s.a,{href:"#daily-report",children:"Rapport quotidien"}),"  (plus) avoir un grand nombre de statistiques d'utilisation pr\xe9calcul\xe9es pour vous."]}),"\n",(0,i.jsx)(s.h3,{id:"tomcat-logs",children:"Registres de Tomcat"}),"\n",(0,i.jsxs)(s.p,{children:["SiERDDAP\u2122ne d\xe9marre pas parce qu'une erreur est survenue tr\xe8s t\xf4t dansERDDAP's startup, le message d'erreur appara\xeetra dans les fichiers journaux de Tomcat ( ",(0,i.jsx)(s.em,{children:"Tomcat"})," /logs/catalina. ",(0,i.jsx)(s.em,{children:"Aujourd'hui"})," .log ou ",(0,i.jsx)(s.em,{children:"Tomcat"})," /logs/catalina.out) Pas dans",(0,i.jsx)(s.a,{href:"#log",children:"ERDDAPLe fichier log.txt"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["Statistiques d'utilisation : Pour la plupart des informations que les gens veulent recueillir \xe0 partir d'un fichier journal (Par exemple, statistiques d'utilisation) , veuillez utiliser les fichiers journaux Apache et/ou Tomcat. Ils sont bien format\xe9s et ont ce type d'information. Il existe de nombreux outils pour les analyser, par exemple,",(0,i.jsx)(s.a,{href:"https://www.awstats.org",children:"AWStats"}),",",(0,i.jsx)(s.a,{href:"https://www.elastic.co/products/kibana",children:"Kibana de ElasticSearch"}),"et",(0,i.jsx)(s.a,{href:"https://jmeter.apache.org",children:"JMeter"}),", mais recherchez le web pour trouver le bon outil pour vos fins."]}),"\n",(0,i.jsxs)(s.p,{children:["Notez que les fichiers journaux identifient uniquement les utilisateurs comme adresses IP. Il existe des sites Web pour vous aider \xe0 obtenir des informations relatives \xe0 une adresse IP donn\xe9e, par exemple,",(0,i.jsx)(s.a,{href:"https://whatismyipaddress.com/ip-lookup",children:"Ce qu'estMyIPAdresse"}),", mais vous ne pourrez normalement pas trouver le nom de l'utilisateur."]}),"\n",(0,i.jsxs)(s.p,{children:["Aussi, \xe0 cause de",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol",children:"DHCP"}),", l'adresse IP d'un utilisateur donn\xe9 peut \xeatre diff\xe9rente \xe0 des jours diff\xe9rents, ou diff\xe9rents utilisateurs peuvent avoir la m\xeame adresse IP \xe0 des moments diff\xe9rents."]}),"\n",(0,i.jsxs)(s.p,{children:["Sinon, vous pouvez utiliser quelque chose comme",(0,i.jsx)(s.a,{href:"https://analytics.google.com/analytics/web/provision/?authuser=0#/provision",children:"Google Analytique"}),". Mais attention : lorsque vous utilisez des services externes comme Google Analytics, vous renoncez \xe0 la vie priv\xe9e de vos utilisateurs en donnant \xe0 Google un acc\xe8s complet \xe0 leur activit\xe9 sur votre site que Google (et d'autres ?) peut garder pour toujours et utiliser \xe0 n'importe quelle fin (peut-\xeatre pas techniquement, mais probablement dans la pratique) . Vos utilisateurs n'ont pas consenti \xe0 cela et ne sont probablement pas conscients qu'ils seront suivis sur votre site Web, tout comme ils ne sont probablement pas conscients de la mesure dans laquelle ils sont suivis sur presque tous les sites Web. De nos jours, beaucoup d'utilisateurs sont tr\xe8s inquiets que tout ce qu'ils font sur le web soit surveill\xe9 par ces grandes entreprises (Google, Facebook, etc.) et par le gouvernement, et trouver ceci une intrusion injustifi\xe9e dans leur vie (comme dans le livre, 1984) . Cela a conduit de nombreux utilisateurs \xe0 installer des produits comme",(0,i.jsx)(s.a,{href:"https://www.eff.org/privacybadger/faq",children:"Insigne de confidentialit\xe9"}),"pour minimiser le suivi, utiliser des navigateurs alternatifs comme",(0,i.jsx)(s.a,{href:"https://www.torproject.org/",children:"Navigateur Tor"}),"  (ou d\xe9sactiver le suivi dans les navigateurs traditionnels) , et d'utiliser des moteurs de recherche alternatifs comme",(0,i.jsx)(s.a,{href:"https://duckduckgo.com/",children:"Plong\xe9e de canard"}),". Si vous utilisez un service comme Google Analytics, veuillez au moins documenter son utilisation et les cons\xe9quences en modifiant le<standardPolitique de confidentialit\xe9> balise dansERDDAP's\n\\[Tomcat\\]/webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml fichier."]}),"\n",(0,i.jsx)(s.h3,{id:"e-mail-log",children:"Registre des courriels"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"CourrielLogYEAR-MM-JJ.txt"}),(0,i.jsx)(s.br,{}),"\n","ERDDAP\u2122\xe9crit toujours le texte de tous les courriels sortants dans le courriel actuel Fichier LogYEAR-MM-DD.txt dans ",(0,i.jsx)(s.em,{children:"BigParent Directory"})," /logs ( ",(0,i.jsx)(s.em,{children:"BigParent Directory"})," est sp\xe9cifi\xe9 dans",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"configuration.xml"}),") ."]}),"\n",(0,i.jsx)(s.li,{children:"Si le serveur ne peut pas envoyer des messages \xe9lectroniques, ou si vous avez configur\xe9ERDDAP\u2122ne pas envoyer des messages \xe9lectroniques, ou si vous \xeates simplement curieux, ce fichier est un moyen pratique de voir tous les messages \xe9lectroniques qui ont \xe9t\xe9 envoy\xe9s."}),"\n",(0,i.jsx)(s.li,{children:"Vous pouvez supprimer les fichiers de journaux des jours pr\xe9c\xe9dents s'ils ne sont plus n\xe9cessaires.\n\xa0"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"daily-report",children:"Rapport quotidien"}),"\n",(0,i.jsxs)(s.p,{children:["Le rapport quotidien contient de nombreuses informations utiles -- toutes les informations de votreERDDAP's",(0,i.jsx)(s.a,{href:"#status-page",children:"/erddap/status.htmlpage"}),"et plus encore."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"C'est le r\xe9sum\xe9 le plus complet de votreERDDAPLe statut."}),"\n",(0,i.jsx)(s.li,{children:"Entre autres statistiques, il comprend une liste des ensembles de donn\xe9es qui n'ont pas \xe9t\xe9 charg\xe9s et les exceptions qu'ils ont g\xe9n\xe9r\xe9es."}),"\n",(0,i.jsx)(s.li,{children:"Il est g\xe9n\xe9r\xe9 lorsque vous d\xe9marrezERDDAP\u2122  (juste apr\xe8sERDDAP\u2122fini d'essayer de charger tous les ensembles de donn\xe9es) et g\xe9n\xe9r\xe9 peu apr\xe8s 7 heures du matin."}),"\n",(0,i.jsxs)(s.li,{children:["Chaque fois qu'il est g\xe9n\xe9r\xe9, il est \xe9crit \xe0",(0,i.jsx)(s.a,{href:"#log",children:"ERDDAPLe fichier log.txt"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Chaque fois qu'il est g\xe9n\xe9r\xe9, il est envoy\xe9 \xe0<e-mailRapports quotidiens\xe0> et<e-mailTout Pour> (qui sont sp\xe9cifi\xe9s dans",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"configuration.xml"}),") \xe0 condition que vous ayez configur\xe9 le syst\xe8me de messagerie (dans setup.xml) ."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"status-page",children:"Page d'\xe9tat"}),"\n",(0,i.jsx)(s.p,{children:"Vous pouvez voir le statut de votreERDDAP\u2122de n'importe quel navigateur en allant \xe0<baseUrl>/erddap/status.html"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Cette page est g\xe9n\xe9r\xe9e dynamiquement, de sorte qu'elle a toujours des statistiques \xe0 jour pour votreERDDAP."}),"\n",(0,i.jsx)(s.li,{children:"Il comprend des statistiques sur le nombre de requ\xeates, l'utilisation de la m\xe9moire, les traces de la pile de thread, la t\xe2cheThread, etc."}),"\n",(0,i.jsxs)(s.li,{children:["Comme la page d'\xe9tat peut \xeatre vue par n'importe qui, elle n'inclut pas autant d'informations que la",(0,i.jsx)(s.a,{href:"#daily-report",children:"Rapport quotidien"}),".\n\xa0"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"addingchanging-datasets",children:"Ajout/modification des ensembles de donn\xe9es"}),"\n",(0,i.jsxs)(s.p,{children:["ERDDAP\u2122relise habituellementdatasets.xmlchaque ",(0,i.jsx)(s.em,{children:"loadDatasetsMinMinutes"}),"   (sp\xe9cifi\xe9e dans",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"configuration.xml"}),") . Pour que vous puissiez apporter des changementsdatasets.xml\xe0 tout moment, m\xeame pendantERDDAP\u2122est en train de courir.\nUn nouvel ensemble de donn\xe9es sera rapidement d\xe9tect\xe9, g\xe9n\xe9ralement dans les ",(0,i.jsx)(s.em,{children:"loadDatasetsMinMinutes"})," .\nUn ensemble de donn\xe9es modifi\xe9 sera recharg\xe9 quand il est ",(0,i.jsx)(s.em,{children:"recharger tous les NMinutes"})," vieux (comme sp\xe9cifi\xe9 dansdatasets.xml) ."]}),"\n",(0,i.jsx)(s.h4,{id:"flag",children:"Drapeau"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsxs)(s.strong,{children:[(0,i.jsx)(s.a,{href:"#flag",children:"Un fichier d'affichage"}),"DitERDDAP\u2122pour essayer de recharger un ensemble de donn\xe9es aussi rapidement que possible"]})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"ERDDAP\u2122ne remarquera aucune modification \xe0 la configuration d'un jeu de donn\xe9es dansdatasets.xmljusqu'\xe0ERDDAP\u2122recharge l'ensemble de donn\xe9es.\n\xa0"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Pour direERDDAP\u2122pour recharger un ensemble de donn\xe9es d\xe8s que possible (avant<reloadeChaque NMinutes> ferait en sorte qu'il soit reload\xe9), mettre un fichier dans ",(0,i.jsx)(s.em,{children:"BigParent Directory"})," /flag ( ",(0,i.jsx)(s.em,{children:"BigParent Directory"})," est sp\xe9cifi\xe9 dans",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"configuration.xml"}),") qui a le m\xeame nom que l'ensemble de donn\xe9esdatasetID.\nCela indiqueERDDAP\u2122pour essayer de recharger cet ensemble de donn\xe9es d\xe8s que possible.\nL'ancienne version de l'ensemble de donn\xe9es restera \xe0 la disposition des utilisateurs jusqu'\xe0 ce que la nouvelle version soit disponible et \xe9chang\xe9e atomiquement.\nPourEDDGridFromFiles et EDDTable \xc0 partir deFiles, l'ensemble de donn\xe9es de rechargement cherchera des fichiers nouveaux ou modifi\xe9s, les lira et les incorporera dans l'ensemble de donn\xe9es. Le temps de rechargement d\xe9pend donc du nombre de fichiers nouveaux ou modifi\xe9s.\nSi l'ensemble de donn\xe9es est actif,ERDDAP\u2122supprimera l'ensemble de donn\xe9es.\n\xa0"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h5,{id:"bad-files-flag",children:"Flag des fichiers d\xe9fectueux"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Une variante du r\xe9pertoire /flag est le r\xe9pertoire /badFilesFlag. (Ajout\xe9 dansERDDAP\u2122v2.12.)",(0,i.jsx)(s.br,{}),"\n","Si vous mettez un fichier dans le ",(0,i.jsx)(s.em,{children:"BigParent Directory"})," /badFilesFlag r\xe9pertoire avec undatasetIDcomme nom du fichier (le contenu du fichier n'a aucune importance) , alors d\xe8sERDDAP\u2122voit les mauvaisFiles Fichier d'affichage,ERDDAP\u2122sera :"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Supprimer le fichier badFilesFlag."}),"\n",(0,i.jsx)(s.li,{children:"Supprimer les fichiers d\xe9fectueux.ncfichier (s'il y en a un) , qui a la liste des mauvais fichiers pour cet ensemble de donn\xe9es.\nPour des ensembles de donn\xe9es commeEDDGridSideBySide qui ont des jeux de donn\xe9es pour enfants, cela supprime \xe9galement les badFiles.ncfichier pour tous les ensembles de donn\xe9es pour enfants."}),"\n",(0,i.jsx)(s.li,{children:"Rechargez l'ensemble de donn\xe9es d\xe8s que possible."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Ainsi, cela provoqueERDDAP\u2122pour essayer de nouveau de travailler avec les fichiers pr\xe9c\xe9demment (Par erreur ?) marqu\xe9 comme mauvais.\n\xa0"}),"\n",(0,i.jsx)(s.h5,{id:"hard-flag",children:"Drapeau dur"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Une autre variante du r\xe9pertoire /flag est le r\xe9pertoire /hardFlag. (Ajout\xe9 dansERDDAP\u2122v1.74.)",(0,i.jsx)(s.br,{}),"\n","Si vous mettez un fichier dans ",(0,i.jsx)(s.em,{children:"BigParent Directory"})," /hardFlag avec undatasetIDcomme nom du fichier (le contenu du fichier n'a aucune importance) , alors d\xe8sERDDAP\u2122voit le dur Fichier d'affichage,ERDDAP\u2122sera :"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Supprimer le fichier hardFlag."}),"\n",(0,i.jsx)(s.li,{children:"Supprimer l'ensemble de donn\xe9esERDDAP."}),"\n",(0,i.jsx)(s.li,{children:"Supprimer toutes les informationsERDDAP\u2122a enregistr\xe9 \xe0 propos de cet ensemble de donn\xe9es.\nPourEDDGridFromFiles et EDDTable DeFiles sous-classes, cela supprime la base de donn\xe9es interne des fichiers de donn\xe9es et leur contenu.\nPour des ensembles de donn\xe9es commeEDDGridSideBySide qui ont des jeux de donn\xe9es enfants, cela supprime \xe9galement la base de donn\xe9es interne des fichiers de donn\xe9es et leur contenu pour tous les jeux de donn\xe9es enfants."}),"\n",(0,i.jsxs)(s.li,{children:["Rechargez l'ensemble de donn\xe9es.\nPourEDDGridFromFiles et EDDTable DeFiles sous-classes, cela provoqueERDDAP\u2122pour relire ",(0,i.jsx)(s.strong,{children:"Tous"})," des fichiers de donn\xe9es. Ainsi, le temps de rechargement d\xe9pend du nombre total de fichiers de donn\xe9es dans l'ensemble de donn\xe9es. Parce que l'ensemble de donn\xe9es a \xe9t\xe9 supprim\xe9 deERDDAP\u2122lorsque le hardFlag a \xe9t\xe9 remarqu\xe9, l'ensemble de donn\xe9es ne sera pas disponible jusqu'\xe0 la fin du rechargement. Soyez patient. Regardez dans le",(0,i.jsx)(s.a,{href:"#log",children:"Log.txt"}),"Si vous voulez voir ce qui se passe."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"La variante hardFlag supprime les informations stock\xe9es de l'ensemble de donn\xe9es m\xeame si l'ensemble de donn\xe9es n'est pas actuellement charg\xe9 dansERDDAP."}),"\n",(0,i.jsx)(s.p,{children:"Dur Les drapeaux sont tr\xe8s utiles lorsque vous faites quelque chose qui provoque un changement dans la fa\xe7on dontERDDAP\u2122lit et interpr\xe8te les donn\xe9es source, par exemple, lorsque vous installez une nouvelle version deERDDAP\u2122ou lorsque vous avez modifi\xe9 la d\xe9finition d'un ensemble de donn\xe9esdatasets.xml"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Le contenu du drapeau, badFilesFlag et les fichiers hardFlag ne sont pas pertinents.ERDDAP\u2122il suffit de regarder le nom du fichier pour obtenir ledatasetID.\n\xa0"}),"\n",(0,i.jsx)(s.li,{children:"Entre les recharges majeures,ERDDAP\u2122recherche continuellement les fichiers drapeau, badFilesFlag et hardFlag.\n\xa0"}),"\n",(0,i.jsxs)(s.li,{children:["Notez que lorsqu'un jeu de donn\xe9es est recharg\xe9, tous les fichiers ",(0,i.jsx)(s.em,{children:"BigParent Directory"})," /",(0,i.jsx)(s.a,{href:"#cached-responses",children:"cache"}),"/ ",(0,i.jsx)(s.em,{children:"datasetID"})," r\xe9pertoire sont supprim\xe9s. Cela comprend:.ncet les fichiers d'image qui sont normalement mis en cache pendant ~15 minutes.\n\xa0"]}),"\n",(0,i.jsxs)(s.li,{children:["Notez que si l'ensemble de donn\xe9es xml comprend",(0,i.jsx)(s.a,{href:"/docs/server-admin/datasets#active",children:"actif"}),", un drapeau provoque l'inactivit\xe9 de l'ensemble de donn\xe9es (si elle est active) , et en tout cas, pas recharg\xe9.\n\xa0"]}),"\n",(0,i.jsx)(s.li,{children:"\xc0 tout momentERDDAP\u2122ex\xe9cute LoadDatasets pour effectuer un rechargement majeur (le rechargement programm\xe9 contr\xf4l\xe9 par<loadDatasetsMinMinutes>) ou un rechargement mineur (\xe0 la suite d'un drapeau externe ou interne) ,ERDDAP\u2122lit tout<d\xe9compress\xe9CacheMaxGB>,<D\xe9compress\xe9CacheMaxMinutesOld>,<utilisateur>,<requ\xeateBlacklist>,<LentDownTroubleMillis>, et<abonnementEmailBlacklist> tags et passe aux nouveaux param\xe8tres. Donc vous pouvez utiliser un drapeau comme un moyen d'obtenirERDDAP\u2122pour signaler les changements \xe0 ces \xe9tiquettes d\xe8s que possible."}),"\n"]}),"\n",(0,i.jsx)(s.h5,{id:"set-dataset-flag",children:"D\xe9finir l'option Dataset"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"ERDDAP\u2122dispose d'un service web afin que les drapeaux puissent \xeatre d\xe9finis via des URL."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Par exemple,\n",(0,i.jsx)(s.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/setDatasetFlag.txt?datasetID=rPmelTao&flagKey=123456789",children:"https://coastwatch.pfeg.noaa.gov/erddap/setDatasetFlag.txt?datasetID=rPmelTao&flagKey=123456789"}),(0,i.jsx)(s.br,{}),"\n","(C'est un faux drapeau Cl\xe9) d\xe9finira un drapeau pour l'ensemble de donn\xe9es rPmelTao."]}),"\n",(0,i.jsx)(s.li,{children:"Il y a une cl\xe9 de drapeau diff\xe9rente pour chaquedatasetID."}),"\n",(0,i.jsxs)(s.li,{children:["Les administrateurs peuvent voir une liste d'URL de drapeau pour tous les ensembles de donn\xe9es en regardant au bas de leur",(0,i.jsx)(s.a,{href:"#daily-report",children:"Rapport quotidien"}),"E-mail."]}),"\n",(0,i.jsx)(s.li,{children:"Les administrateurs devraient traiter ces URL comme confidentielles, car ils donnent \xe0 quelqu'un le droit de r\xe9initialiser un ensemble de donn\xe9es \xe0 volont\xe9."}),"\n",(0,i.jsxs)(s.li,{children:["Si vous pensez que les cl\xe9s du drapeau sont tomb\xe9es entre les mains de quelqu'un qui les abuse, vous pouvez changer<flagKeyKey> dans",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"configuration.xml"}),"et red\xe9marrerERDDAPForcerERDDAP\u2122pour g\xe9n\xe9rer et utiliser un ensemble diff\xe9rent de flagKeys."]}),"\n",(0,i.jsx)(s.li,{children:"Si vous changez<flagKeyKey>, supprimer tous les anciens abonnements (voir la liste dans votre rapport quotidien) et n'oubliez pas d'envoyer les nouvelles URL aux personnes que vous voulez avoir."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Le syst\xe8me du drapeau peut servir de base \xe0 un m\xe9canisme plus efficace de signalementERDDAP\u2122quand recharger un jeu de donn\xe9es. Par exemple, vous pouvez d\xe9finir un ensemble de donn\xe9es<recharger chaque NMinutes> \xe0 un grand nombre (Par exemple, 10080 = 1 semaine) . Ensuite, quand vous savez que l'ensemble de donn\xe9es a chang\xe9 (peut-\xeatre parce que vous avez ajout\xe9 un fichier au r\xe9pertoire de donn\xe9es de l'ensemble de donn\xe9es) , d\xe9finissez un drapeau pour que l'ensemble de donn\xe9es soit recharg\xe9 d\xe8s que possible. Les drapeaux sont g\xe9n\xe9ralement vus rapidement. Mais si le thread LoadDatasets est d\xe9j\xe0 occup\xe9, il peut \xeatre un moment avant qu'il soit disponible pour agir sur le drapeau. Mais le syst\xe8me de drapeau est beaucoup plus r\xe9actif et beaucoup plus efficace que le r\xe9glage<recharger chaque NMinutes> en un petit nombre."}),"\n",(0,i.jsx)(s.h4,{id:"removing-datasets",children:"Suppression des ensembles de donn\xe9es"}),"\n",(0,i.jsx)(s.p,{children:"Si un ensemble de donn\xe9es est actifERDDAP\u2122et vous voulez le d\xe9sactiver temporairement ou d\xe9finitivement :"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["Endatasets.xmlpour l'ensemble de donn\xe9es, ensemble",(0,i.jsx)(s.a,{href:"/docs/server-admin/datasets#active",children:"actif"}),"dans la balise dataset."]}),"\n",(0,i.jsxs)(s.li,{children:["AttendezERDDAP\u2122pour supprimer l'ensemble de donn\xe9es lors du prochain rechargement majeur ou",(0,i.jsx)(s.a,{href:"#flag",children:"d\xe9finir un drapeau"}),"pour l'ensemble de donn\xe9es \xe0 indiquerERDDAP\u2122de noter ce changement d\xe8s que possible. Quand tu fais \xe7a,ERDDAP\u2122ne jette aucune information qu'il peut avoir stock\xe9e sur l'ensemble de donn\xe9es et ne fait certainement rien aux donn\xe9es r\xe9elles."]}),"\n",(0,i.jsx)(s.li,{children:"Ensuite, vous pouvez laisser l'ensemble de donn\xe9es actifdatasets.xmlou le retirer.\n\xa0"}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"when-are-datasets-reloaded",children:"Quand les ensembles de donn\xe9es sont-ils recharg\xe9s?"}),"\n",(0,i.jsx)(s.p,{children:"Un thread appel\xe9 RunLoadDatasets est le thread ma\xeetre qui contr\xf4le lorsque les datasets sont recharg\xe9s. Ex\xe9cution Des boucles de donn\xe9es pour toujours :"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"RunLoadDatasets note l'heure actuelle."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:['RunLoadDatasets lance un thread LoadDatasets pour faire un "majorLoad". Vous pouvez voir des informations sur le majorLoad actuel/pr\xe9c\xe9dent en haut de votreERDDAP\'s\n',(0,i.jsx)(s.a,{href:"#status-page",children:"/erddap/status.htmlpage"}),"  (par exemple,",(0,i.jsx)(s.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/status.html",children:"exemple de page d'\xe9tat"}),") ."]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"LoadDatasets fait une copie dedatasets.xml."}),"\n",(0,i.jsxs)(s.li,{children:["LoadDatasets lit par la copie dedatasets.xmlet, pour chaque ensemble de donn\xe9es, voir si l'ensemble de donn\xe9es doit \xeatre (re) charg\xe9 ou enlev\xe9.","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Si",(0,i.jsx)(s.a,{href:"#flag",children:"drapeau"}),"le fichier existe pour cet ensemble de donn\xe9es, le fichier est supprim\xe9 et l'ensemble de donn\xe9es est supprim\xe9 si actif (re) charg\xe9 si actif (ind\xe9pendamment de l'\xe2ge de l'ensemble de donn\xe9es) ."]}),"\n",(0,i.jsx)(s.li,{children:"Si le groupe dataset.xml de l'ensemble de donn\xe9es a actif (false)\" et que l'ensemble de donn\xe9es est actuellement charg\xe9 (actif) , il est d\xe9charg\xe9 (enlev\xe9) ."}),"\n",(0,i.jsx)(s.li,{children:"Si l'ensemble de donn\xe9es est actif et que l'ensemble de donn\xe9es n'est pas d\xe9j\xe0 charg\xe9, il est charg\xe9."}),"\n",(0,i.jsx)(s.li,{children:"Si le jeu de donn\xe9es est actif et que le jeu de donn\xe9es est d\xe9j\xe0 charg\xe9, le jeu de donn\xe9es est recharg\xe9 si l'\xe2ge du jeu de donn\xe9es (temps depuis la derni\xe8re charge) est sup\xe9rieur \xe0<recharger Chaque NMinutes> (par d\xe9faut = 10080 minutes) , sinon, l'ensemble de donn\xe9es est laiss\xe9 seul."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.li,{children:"LoadDatasets se termine."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Le fil RunLoadDatasets attend que le fil LoadDatasets finisse. Si LoadDatasets prend plus de temps que loadDatasets Minutes (comme sp\xe9cifi\xe9 dans setup.xml) , RunLoadDatasets interrompt le thread LoadDatasets. Id\xe9alement, LoadDatasets remarque l'interruption et se termine. Mais si elle ne remarque pas l'interruption en une minute, RunLoadDatasets appelle loadDatasets. Arr\xeater () , ce qui est ind\xe9sirable.\n3. Alors que le temps depuis le d\xe9but du dernier majorLoad est inf\xe9rieur \xe0 la chargeDatasets Minutes (comme sp\xe9cifi\xe9 dans setup.xml, p.ex. 15 minutes) , RunLoadDatasets recherche \xe0 plusieurs reprises",(0,i.jsx)(s.a,{href:"#flag",children:"drapeau"}),"fichiers dans le ",(0,i.jsx)(s.em,{children:"BigParent Directory"}),' r\xe9pertoire /flag. Si un ou plusieurs fichiers drapeau sont trouv\xe9s, ils sont supprim\xe9s, et RunLoadDatasets lance un thread LoadDatasets pour faire un "minorLoad" (MajorLoad=false) . Vous ne pouvez pas voir des informations mineures sur votreERDDAP\'s',(0,i.jsx)(s.a,{href:"#status-page",children:"/erddap/status.htmlpage"}),"."]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"LoadDatasets fait une copie dedatasets.xml."}),"\n",(0,i.jsxs)(s.li,{children:["LoadDatasets lit par la copie dedatasets.xmlet, pour chaque ensemble de donn\xe9es pour lequel il y avait un fichier drapeau:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Si le groupe dataset.xml de l'ensemble de donn\xe9es a actif (false)\" et que l'ensemble de donn\xe9es est actuellement charg\xe9 (actif) , il est d\xe9charg\xe9 (enlev\xe9) ."}),"\n",(0,i.jsx)(s.li,{children:"Si l'ensemble de donn\xe9es est actif, (re) charg\xe9, quel que soit son \xe2ge. Les ensembles de donn\xe9es non marqu\xe9s sont ignor\xe9s."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.li,{children:"LoadDatasets se termine."}),"\n",(0,i.jsx)(s.li,{children:"Ex\xe9cution Les ensembles de donn\xe9es remontent \xe0 l'\xe9tape 1."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Remarques:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:'D\xe9but\nQuand vous red\xe9marrezERDDAP\u2122, chaque jeu de donn\xe9es avec actif \u201etrue" est charg\xe9.'}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Cache\nQuand un ensemble de donn\xe9es est (re) charg\xe9, sa cache (y compris les fichiers de r\xe9ponse de donn\xe9es et/ou les fichiers image) est vid\xe9."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Nombreux ensembles de donn\xe9es\nSi vous avez beaucoup de jeux de donn\xe9es et/ou un ou plusieurs jeux de donn\xe9es sont lents \xe0 (re) charge, un thread LoadDatasets peut prendre beaucoup de temps pour terminer son travail, peut-\xeatre m\xeame plus longtemps que loadDatasets Minutes."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Un fil de donn\xe9es de chargement\nIl n'y a jamais plus d'un thread LoadDatasets en cours d'ex\xe9cution. Si un drapeau est d\xe9fini lorsque LoadDatasets est d\xe9j\xe0 en cours d'ex\xe9cution, le drapeau ne sera probablement pas remarqu\xe9 ou activ\xe9 jusqu'\xe0 ce que le thread LoadDatasets se termine. Tu pourrais dire : \"C'est stupide. Pourquoi ne pas simplement d\xe9marrer un tas de nouveaux threads pour charger des ensembles de donn\xe9es?\" Mais si vous avez beaucoup de datasets qui obtiennent des donn\xe9es d'un serveur distant, m\xeame un thread LoadDatasets mettra une pression importante sur le serveur distant. La m\xeame chose est vraie si vous avez beaucoup de jeux de donn\xe9es qui obtiennent des donn\xe9es \xe0 partir de fichiers sur un RAID. Il y a une diminution rapide des retours d'avoir plus d'un thread LoadDatasets."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Drapeau = SAP\nD\xe9finir un drapeau indique simplement que l'ensemble de donn\xe9es doit \xeatre (re) charg\xe9 d\xe8s que possible, pas n\xe9cessairement imm\xe9diatement. Si aucun thread LoadDatasets n'est en cours d'ex\xe9cution, le jeu de donn\xe9es commencera \xe0 \xeatre recharg\xe9 en quelques secondes. Mais si un thread LoadDatasets est en cours d'ex\xe9cution, l'ensemble de donn\xe9es ne sera probablement pas recharg\xe9 avant que le thread LoadDatasets ne soit termin\xe9."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Fichier d'affichage supprim\xe9\nEn g\xe9n\xe9ral, si vous mettez un fichier drapeau dans le ",(0,i.jsx)(s.em,{children:"BigParent Directory"})," r\xe9pertoire /erddap/flag (en visitant le drapeau de l'ensemble de donn\xe9es Url ou y mettre un fichier r\xe9el) , l'ensemble de donn\xe9es sera habituellement recharg\xe9 tr\xe8s peu apr\xe8s que ce fichier drapeau est supprim\xe9."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Drapeau versus Petit rechargement Tous les NMinutes\nSi vous avez un moyen externe de savoir quand un ensemble de donn\xe9es doit \xeatre recharg\xe9 et si cela vous convient, le meilleur moyen de vous assurer qu'un ensemble de donn\xe9es est toujours \xe0 jour est de configurer son rechargement Chaque NMinutes \xe0 un grand nombre (10080 ?) et fixe un drapeau (via un script ?) chaque fois qu'il faut le recharger. C'est le syst\xe8me quiEDDGridDeErddap et EDDTableDeErddap utilisent recevoir des messages que l'ensemble de donn\xe9es doit \xeatre recharg\xe9."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Regardez dans log.txt\nBeaucoup d'informations pertinentes sont \xe9crites au ",(0,i.jsx)(s.em,{children:"BigParent Directory"})," fichier /logs/log.txt. Si les choses ne marchent pas comme pr\xe9vu, regardez le journal. txt vous permet de diagnostiquer le probl\xe8me en trouvant exactement ceERDDAP\u2122Oui."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:'Rechercher "majorLoad=true" pour le d\xe9but des principaux threads LoadDataset.'}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:'Rechercher "majorLoad=false" pour le d\xe9but des threads LoadDatasets mineurs.'}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Rechercher un ensemble de donn\xe9es donn\xe9datasetIDpour information \xe0 ce sujet \xe9tant (re) charg\xe9 ou interrog\xe9."}),"\n",(0,i.jsx)(s.p,{children:"\xa0"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"cached-responses",children:"R\xe9ponses cach\xe9es"}),"\n",(0,i.jsxs)(s.p,{children:["En g\xe9n\xe9ral,ERDDAP\u2122ne cache pas (magasin) r\xe9ponses aux demandes des utilisateurs. La justification \xe9tait que la plupart des demandes seraient l\xe9g\xe8rement diff\xe9rentes afin que le cache ne serait pas tr\xe8s efficace. Les plus grandes exceptions sont les requ\xeates de fichiers image (qui sont mis en cache depuis les navigateurs et les programmes commeGoogle Earthsouvent demander des images) et demandes.ncfichiers (parce qu'ils ne peuvent pas \xeatre cr\xe9\xe9s \xe0 la vol\xe9e) .ERDDAP\u2122stocke les fichiers mis en cache dans un r\xe9pertoire diff\xe9rent : ",(0,i.jsx)(s.em,{children:"BigParent Directory"})," Cache/ ",(0,i.jsx)(s.em,{children:"datasetID"})," car un seul r\xe9pertoire cache peut avoir un grand nombre de fichiers qui pourraient devenir lents \xe0 acc\xe9der.\nLes fichiers sont supprim\xe9s du cache pour l'une des trois raisons suivantes :"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Tous les fichiers de ce cache sont supprim\xe9s lorsqueERDDAP\u2122est red\xe9marr\xe9."}),"\n",(0,i.jsxs)(s.li,{children:["P\xe9riodiquement, tout dossier plus que<cacheMinutes> vieux (comme sp\xe9cifi\xe9 dans",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"configuration.xml"}),") sera supprim\xe9. Suppression des fichiers dans le cache en fonction de l'\xe2ge (pas le moins utilis\xe9) veille \xe0 ce que les fichiers ne restent pas dans le cache tr\xe8s longtemps. Bien que cela puisse sembler comme une demande donn\xe9e devrait toujours renvoyer la m\xeame r\xe9ponse, ce n'est pas vrai. Par exemple,tabledaprequ\xeate qui inclut &time> ",(0,i.jsx)(s.em,{children:"certains Heure"})," changera si de nouvelles donn\xe9es arrivent pour l'ensemble de donn\xe9es. Et une demande de griddap qui comprend\\[dernier\\]pour la dimension temporelle changera si de nouvelles donn\xe9es arrivent pour l'ensemble de donn\xe9es."]}),"\n",(0,i.jsx)(s.li,{children:"Les images montrant les conditions d'erreur sont mises en cache, mais seulement pendant quelques minutes (C'est une situation difficile) ."}),"\n",(0,i.jsx)(s.li,{children:"Chaque fois qu'un jeu de donn\xe9es est recharg\xe9, tous les fichiers du cache de cet ensemble de donn\xe9es sont supprim\xe9s. Parce que les demandes peuvent \xeatre\"last\"index dans un ensemble de donn\xe9es maill\xe9es, les fichiers dans le cache peuvent devenir invalides lorsqu'un ensemble de donn\xe9es est recharg\xe9.\n\xa0"}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"stored-dataset-information",children:"Informations stock\xe9es sur le jeu de donn\xe9es"}),"\n",(0,i.jsx)(s.p,{children:"Pour tous les types de ensembles de donn\xe9es,ERDDAP\u2122recueille beaucoup d'informations lorsqu'un jeu de donn\xe9es est charg\xe9 et garde cela en m\xe9moire. Cela permetERDDAP\u2122r\xe9pondre tr\xe8s rapidement aux recherches, aux demandes de listes de ensembles de donn\xe9es et aux demandes d'informations sur un ensemble de donn\xe9es."}),"\n",(0,i.jsxs)(s.p,{children:["Pour quelques types de s\xe9ries de donn\xe9es (notammentEDDGridBien re\xe7u, EDDTableCopy,EDDGridDe ",(0,i.jsx)(s.em,{children:"Xxx"})," Fichiers, et EDDTableFrom ",(0,i.jsx)(s.em,{children:"Xxx"})," Fichiers) ,ERDDAP\u2122stocke sur le disque certaines informations sur l'ensemble de donn\xe9es qui est r\xe9utilis\xe9 lorsque l'ensemble de donn\xe9es est recharg\xe9. Cela acc\xe9l\xe8re grandement le processus de rechargement."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Certains des fichiers d'information des ensembles de donn\xe9es sont lisibles par l'homme.jsonfichiers et sont stock\xe9s dans ",(0,i.jsx)(s.em,{children:"BigParent Directory"})," /ensemble de donn\xe9es/ ",(0,i.jsx)(s.em,{children:"last2LettersOfDatasetID/datasetID"})," ."]}),"\n",(0,i.jsx)(s.li,{children:"ERDDAP\u2122ne supprime ces fichiers que dans des situations inhabituelles, par exemple, si vous ajoutez ou supprimez une variable de l'ensemble de donn\xe9esdatasets.xmlUn morceau."}),"\n",(0,i.jsxs)(s.li,{children:["La plupart des changements \xe0 un ensemble de donn\xe9esdatasets.xmlmorceaux (Par exemple, modifier un attribut global ou un attribut variable) ne n\xe9cessite pas que vous supprimiez ces fichiers. Un rechargement r\xe9gulier de donn\xe9es permettra de g\xe9rer ces types de modifications. Vous pouvez le direERDDAP\u2122pour recharger un jeu de donn\xe9es d\xe8s que possible en d\xe9finissant un",(0,i.jsx)(s.a,{href:"#flag",children:"drapeau"}),"pour l'ensemble de donn\xe9es."]}),"\n",(0,i.jsx)(s.li,{children:"De m\xeame, l'ajout, la suppression ou le changement de fichiers de donn\xe9es seront trait\xe9s lorsqueERDDAP\u2122recharge un ensemble de donn\xe9es. MaisERDDAP\u2122remarquera ce type de changement rapidement et automatiquement si l'ensemble de donn\xe9es utilise le [<mise \xe0 jour de EveryNMillis>] (/docs/serveur-admin/datasets#updateeverynnmillis) syst\xe8me."}),"\n",(0,i.jsx)(s.li,{children:"Il ne devrait que rarement \xeatre n\xe9cessaire pour vous de supprimer ces fichiers. La situation la plus courante o\xf9 vous devez forcerERDDAP\u2122pour supprimer les informations stock\xe9es (parce qu'il est obsol\xe8te/incorrect et ne sera pas automatiquement corrig\xe9 parERDDAP) est lorsque vous apportez des modifications \xe0 l'ensemble de donn\xe9esdatasets.xmlun morceau qui affecte commentERDDAP\u2122interpr\xe8te les donn\xe9es dans les fichiers de donn\xe9es sources, par exemple, en modifiant la cha\xeene de format de la variable de temps."}),"\n",(0,i.jsxs)(s.li,{children:["Pour supprimer les fichiers d'informations stock\xe9es d'un ensemble de donn\xe9esERDDAP\u2122qui court (m\xeame si l'ensemble de donn\xe9es n'est pas actuellement charg\xe9) , d\xe9finir un",(0,i.jsx)(s.a,{href:"#hard-flag",children:"dur Drapeau"}),"pour cet ensemble de donn\xe9es. Rappelez-vous que si un ensemble de donn\xe9es est une agr\xe9gation d'un grand nombre de fichiers, recharger l'ensemble de donn\xe9es peut prendre beaucoup de temps."]}),"\n",(0,i.jsxs)(s.li,{children:["Pour supprimer les fichiers d'informations stock\xe9s d'un ensemble de donn\xe9es lorsqueERDDAP\u2122ne cours pas, cours",(0,i.jsx)(s.a,{href:"/docs/server-admin/datasets#dasdds",children:"DasDds"}),"pour cet ensemble de donn\xe9es (ce qui est plus facile que de d\xe9terminer dans quel r\xe9pertoire l'info est situ\xe9e et de supprimer les fichiers \xe0 la main) . Rappelez-vous que si un ensemble de donn\xe9es est une agr\xe9gation d'un grand nombre de fichiers, recharger l'ensemble de donn\xe9es peut prendre beaucoup de temps.\n\xa0"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"memory-status",children:"\xc9tat de la m\xe9moire"}),"\n",(0,i.jsx)(s.p,{children:"ERDDAP\u2122ne devrait jamais s'\xe9craser ou geler. Si c'est le cas, l'une des causes les plus probables est l'insuffisance de m\xe9moire. Vous pouvez surveiller l'utilisation de la m\xe9moire en regardant la page web status.html, qui comprend une ligne comme"}),"\n",(0,i.jsx)(s.p,{children:"0 gc appels, 0 d\xe9p\xf4t de demandes et 0 danger MemoryEmails depuis le dernier grand ensemble de donn\xe9es de chargement"}),"\n",(0,i.jsxs)(s.p,{children:["(ces \xe9v\xe9nements sont progressivement plus graves)",(0,i.jsx)(s.br,{}),"\n","et MB inUse et gc Colonnes Appels dans le tableau des statistiques. Vous pouvez dire comment la m\xe9moire a stress\xe9 votreERDDAP\u2122C'est en regardant ces chiffres. Des nombres plus \xe9lev\xe9s indiquent plus de stress."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["MB inUse devrait toujours \xeatre moins de la moiti\xe9 de la",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#memory",children:"Configuration de la m\xe9moire \\-Xmx"}),". Les chiffres plus importants sont mauvais signe."]}),"\n",(0,i.jsx)(s.li,{children:"gc appels indique le nombre de foisERDDAP\u2122appel\xe9 le collecteur d'ordures pour essayer d'att\xe9nuer l'utilisation de la m\xe9moire \xe9lev\xe9e. Si \xe7a doit \xeatre >100, c'est un signe de s\xe9rieux probl\xe8mes."}),"\n",(0,i.jsx)(s.li,{children:"remise indique le nombre de demandes re\xe7ues (avec l'erreur HTTP 503, Service Indisponible) parce que l'utilisation de la m\xe9moire \xe9tait d\xe9j\xe0 trop \xe9lev\xe9e. Id\xe9alement, aucune demande ne devrait \xeatre d\xe9pos\xe9e. C'est bon si quelques demandes sont vers\xe9es, mais un signe de s\xe9rieux probl\xe8mes si beaucoup sont vers\xe9es."}),"\n",(0,i.jsx)(s.li,{children:"dangereux MemoryEmails - Si l'utilisation de la m\xe9moire devient dangereusement \xe9lev\xe9e,ERDDAP\u2122envoie un e-mail aux adresses e-mail \xe9num\xe9r\xe9es dans<e-mailTout Pour> (dans setup.xml) avec une liste des requ\xeates actives de l'utilisateur. Comme le dit le courriel, veuillez transmettre ces courriels \xe0 Chris. John \xe0 Noaa. nous pouvons utiliser l'information pour am\xe9liorer les versions futures deERDDAP.\n\xa0"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Si votreERDDAP\u2122est stress\xe9 par la m\xe9moire:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Envisagez d'affecter davantage de m\xe9moire de votre serveur \xe0ERDDAP\u2122en changeant le Tomcat",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#memory",children:"R\xe9glage de la m\xe9moire \u2010Xmx"}),"."]}),"\n",(0,i.jsx)(s.li,{children:"Si vous avez d\xe9j\xe0 allou\xe9 autant de m\xe9moire que vous pouvez \xe0ERDDAP\u2122via -Xmx, envisagez d'acheter plus de m\xe9moire pour votre serveur. La m\xe9moire est bon march\xe9 (compar\xe9 au prix d'un nouveau serveur ou de votre temps) - Oui. Puis augmenter -Xmx."}),"\n",(0,i.jsx)(s.li,{children:"Endatasets.xml, ensemble<nGridThreads> \xe0 1, ensemble<nTableThreads> \xe0 1, et ensemble<ipAddressMaxDemandesActives> \xe0 1."}),"\n",(0,i.jsx)(s.li,{children:"Regardez les demandes dans log.txt pour inefficace ou g\xeanant (mais l\xe9gitime) les demandes. Ajouter leurs adresses IP \xe0<requ\xeateBlacklist> endatasets.xml. Le message d'erreur de la liste noire inclutERDDAP\u2122adresse e-mail de l'administrateur avec l'espoir que ces utilisateurs vous contacteront afin que vous puissiez travailler avec eux \xe0 utiliserERDDAP\u2122plus efficacement. Il est bon de conserver une liste des adresses IP que vous avez sur la liste noire et pourquoi, afin que vous puissiez travailler avec les utilisateurs s'ils vous contactent."}),"\n",(0,i.jsxs)(s.li,{children:["Regardez les requ\xeates dans log.txt pour les demandes des utilisateurs malveillants. Ajouter leurs adresses IP \xe0<requ\xeateBlacklist> endatasets.xml. Si des requ\xeates similaires proviennent de plusieurs adresses IP similaires, vous pouvez utiliser certains services qui-est (Par exemple,",(0,i.jsx)(s.a,{href:"https://www.whois.com/whois/",children:" https://www.whois.com/whois/ "}),") pour d\xe9couvrir la gamme d'adresses IP de cette source et blacklist toute la gamme. Voir [<requestBlacklist> documentation] (/docs/serveur-admin/donn\xe9es#requestblacklist) .\n\xa0"]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"outofmemoryerror",children:"De m\xe9moire"}),"\n",(0,i.jsxs)(s.p,{children:["Quand vous avez install\xe9ERDDAP\u2122, vous sp\xe9cifiez la quantit\xe9 maximale de m\xe9moire queJavapeut utiliser via le",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#memory",children:"Configuration \\-Xmx"}),". SiERDDAP\u2122Il a besoin de plus de m\xe9moire que \xe7a, il lancera une java. Lang. De la m\xe9moire Error.ERDDAP\u2122fait beaucoup de v\xe9rification pour lui permettre de g\xe9rer cette erreur gracieusement (Par exemple, une demande g\xeanante \xe9chouera, mais le syst\xe8me conservera son int\xe9grit\xe9.) . Mais parfois, l'erreur nuit \xe0 l'int\xe9grit\xe9 du syst\xe8me et vous devez red\xe9marrerERDDAP. J'esp\xe8re que c'est rare."]}),"\n",(0,i.jsxs)(s.p,{children:["La solution rapide et facile \xe0 un OutOfMemoryError est d'augmenter le",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#memory",children:"Configuration \\-Xmx"}),", mais vous ne devriez jamais augmenter le r\xe9glage -Xmx \xe0 plus de 80% de la m\xe9moire physique dans le serveur (Par exemple, pour un serveur de 10 Go, ne d\xe9finissez pas -Xmx au-dessus de 8 Go) . La m\xe9moire est relativement bon march\xe9, donc il peut \xeatre une bonne option pour augmenter la m\xe9moire dans le serveur. Mais si vous avez maximis\xe9 la m\xe9moire dans le serveur ou pour d'autres raisons ne peut pas l'augmenter, vous devez traiter plus directement avec la cause de l'OutOfMemoryError."]}),"\n",(0,i.jsxs)(s.p,{children:["Si vous regardez dans le",(0,i.jsx)(s.a,{href:"#log",children:"Log.txt"}),"fichier pour voir quoiERDDAP\u2122a \xe9t\xe9 fait lorsque l'erreur est apparue, vous pouvez g\xe9n\xe9ralement obtenir un bon indice sur la cause de l'OutOfMemoryError. Il y a beaucoup de causes possibles, notamment:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Un seul \xe9norme fichier de donn\xe9es peut causer l'OutOfMemoryError, notamment, d'\xe9normes fichiers de donn\xe9es ASCII. Si c'est le probl\xe8me, il devrait \xeatre \xe9vident parce queERDDAP\u2122ne chargera pas l'ensemble de donn\xe9es (pour les ensembles de donn\xe9es tabulaires) ou lire les donn\xe9es de ce fichier (pour les ensembles de donn\xe9es maill\xe9s) . La solution, si possible, est de diviser le fichier en plusieurs fichiers. Id\xe9alement, vous pouvez diviser le fichier en morceaux logiques. Par exemple, si le fichier a une valeur de 20 mois de donn\xe9es, le diviser en 20 fichiers, chacun avec une valeur de 1 mois de donn\xe9es. Mais il y a des avantages m\xeame si le fichier principal est s\xe9par\xe9 arbitrairement. Cette approche pr\xe9sente de multiples avantages : a) Cela r\xe9duira la m\xe9moire n\xe9cessaire pour lire les fichiers de donn\xe9es \xe0 1/20\xe8me, car un seul fichier est lu \xe0 la fois. b) Souvent,ERDDAP\u2122peut traiter les demandes beaucoup plus rapidement parce qu'il n'a qu'\xe0 regarder dans un ou quelques fichiers pour trouver les donn\xe9es pour une demande donn\xe9e. c) Si la collecte de donn\xe9es est en cours, alors les 20 fichiers existants peuvent rester inchang\xe9s, et vous devez seulement modifier un, petit, nouveau fichier pour ajouter la valeur de donn\xe9es du mois suivant \xe0 l'ensemble de donn\xe9es."}),"\n",(0,i.jsx)(s.li,{children:"Une seule demande \xe9norme peut causer l'OutOfMemoryError. En particulier,orderByles options ont la r\xe9ponse enti\xe8re en m\xe9moire pendant une seconde (Par exemple, faire une sorte) . Si la r\xe9ponse est \xe9norme, elle peut conduire \xe0 l'erreur. Il y aura toujours des demandes qui, de diverses mani\xe8res, sont trop grandes. Vous pouvez r\xe9soudre le probl\xe8me en augmentant le param\xe8tre -Xmx. Ou, vous pouvez encourager l'utilisateur \xe0 faire une s\xe9rie de petites requ\xeates."}),"\n",(0,i.jsxs)(s.li,{children:["Il est peu probable qu'un grand nombre de fichiers causeraient l'index des fichiersERDDAP\u2122cr\xe9e pour \xeatre si grand que ce fichier causerait l'erreur. Si nous supposons que chaque fichier utilise 300 octets, alors 1 000 000 de fichiers ne prend que 300 Mo. Mais les ensembles de donn\xe9es avec un grand nombre de fichiers de donn\xe9es causent d'autres probl\xe8mes pourERDDAP, notamment, il faut beaucoup de temps pourERDDAP\u2122pour ouvrir tous ces fichiers de donn\xe9es lors de la r\xe9ponse \xe0 une demande de donn\xe9es de l'utilisateur. Dans ce cas, la solution peut \xeatre d'agr\xe9ger les fichiers afin qu'il y ait moins de fichiers de donn\xe9es. Pour les ensembles de donn\xe9es tabulaires, il est souvent g\xe9nial si vous enregistrez les donn\xe9es \xe0 partir de l'ensemble de donn\xe9es actuel dans",(0,i.jsx)(s.a,{href:"https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries",children:"FC G\xe9om\xe9tries d'\xe9chantillonnage discr\xe8tes (DSG) "}),"Fichiers de donn\xe9es d'array en mouvement (demande.ncFichiers CF \xe0 partirERDDAP) puis faire un nouvel ensemble de donn\xe9es. Ces fichiers peuvent \xeatre trait\xe9s tr\xe8s efficacement avecERDDAP's",(0,i.jsx)(s.a,{href:"/docs/server-admin/datasets#eddtablefromnccffiles",children:"EDDTableFromNcCFFiles"}),". S'ils sont organis\xe9s logiquement (avec des donn\xe9es pour un morceau d'espace et de temps) ,ERDDAP\u2122peut extraire les donn\xe9es tr\xe8s rapidement."]}),"\n",(0,i.jsx)(s.li,{children:"Pour les ensembles de donn\xe9es tabulaires qui utilisent le [<subsetVariables>] (/docs/serveur-admin/datasets#subsetvariables) attribut,ERDDAP\u2122fait une table de combinaisons uniques des valeurs de ces variables. Pour des ensembles de donn\xe9es \xe9normes ou lorsque<subsetVariables> est mal configur\xe9e, cette table peut \xeatre assez grande pour provoquer OutOfMemoryErrors. La solution est de supprimer les variables de la liste des<subsetVariables> pour lesquels il y a un grand nombre de valeurs, ou supprimer les variables au besoin jusqu'\xe0 ce que la taille de ce tableau soit raisonnable. Les parties deERDDAP\u2122qui utilisent lessubsetVariablessyst\xe8me ne fonctionne pas bien (Par exemple, les pages Web se chargent tr\xe8s lentement) lorsqu'il y a plus de 100 000 lignes dans ce tableau."}),"\n",(0,i.jsx)(s.li,{children:"Il est toujours possible que plusieurs grandes requ\xeates simultan\xe9es (sur un tr\xe8s occup\xe9ERDDAP) peut se combiner pour causer des probl\xe8mes de m\xe9moire. Par exemple, 8 requ\xeates, chacune utilisant 1 Go chacune, causeraient des probl\xe8mes pour une configuration -Xmx=8 Go. Mais il est rare que chaque demande soit au maximum de son utilisation de m\xe9moire simultan\xe9ment. Et vous pourriez facilement voir que votreERDDAP\u2122est vraiment occup\xe9 avec de grandes demandes. Mais c'est possible. Il est difficile de r\xe9soudre ce probl\xe8me autrement qu'en augmentant le r\xe9glage -Xmx."}),"\n",(0,i.jsxs)(s.li,{children:["Il y a d'autres sc\xe9narios. Si vous regardez la",(0,i.jsx)(s.a,{href:"#log",children:"Log.txt"}),"fichier pour voir quoiERDDAP\u2122a \xe9t\xe9 fait lorsque l'erreur a surgi, vous pouvez g\xe9n\xe9ralement obtenir un bon indice de la cause. Dans la plupart des cas, il existe un moyen de minimiser ce probl\xe8me (voir ci-dessus) , mais parfois vous avez juste besoin de plus de m\xe9moire et un r\xe9glage plus haut -Xmx.\n\xa0"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"too-many-open-files",children:"Trop de fichiers ouverts"}),"\n",(0,i.jsx)(s.p,{children:"En commen\xe7ant parERDDAP\u2122v2.12,ERDDAP\u2122a un syst\xe8me pour surveiller le nombre de fichiers ouverts (qui inclut des sockets et d'autres choses, pas seulement des fichiers) dans Tomcat sur les ordinateurs Linux. Si certains fichiers ne sont jamais ferm\xe9s par erreur (une \"fuite de ressources\") , le nombre de fichiers ouverts peut augmenter jusqu'\xe0 ce qu'il d\xe9passe le maximum autoris\xe9 par le syst\xe8me d'exploitation et de nombreuses choses vraiment mauvaises se produisent. Donc maintenant, sur les ordinateurs Linux (car les informations ne sont pas disponibles pour Windows) :"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:'Il y a une colonne "Open Files" \xe0 l\'extr\xeame droite de la page web status.html montrant le pourcentage de fichiers maximum ouverts. Sur Windows, \xe7a montre juste "?".'}),"\n",(0,i.jsxs)(s.li,{children:["QuandERDDAP\u2122g\xe9n\xe8re ces informations \xe0 la fin de chaque grand jeu de donn\xe9es recharge, il va imprimer dans le journal. Fichier txt & #160;:\nopenFileCount= ",(0,i.jsx)(s.em,{children:"actuel"})," de max= ",(0,i.jsx)(s.em,{children:"max"})," %= ",(0,i.jsx)(s.em,{children:"Pourcentage"})]}),"\n",(0,i.jsx)(s.li,{children:"Si le pourcentage est > 50%, un email est envoy\xe9 \xe0 laERDDAP\u2122administrateur et l'email Tout Aux adresses e-mail."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Si le pourcentage est de 100%,ERDDAP\u2122est dans de terribles ennuis. Ne laisse pas \xe7a arriver.\nSi le pourcentage est >75%,ERDDAP\u2122est proche de terribles probl\xe8mes. \xc7a ne va pas.\nSi le pourcentage est sup\xe9rieur \xe0 50%, il est tr\xe8s possible qu'un pic provoque le pourcentage \xe0 frapper 100.\nSi le pourcentage est jamais sup\xe9rieur \xe0 50%, vous devez:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Augmenter le nombre maximum de fichiers ouverts autoris\xe9s par :","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Faire ces changements chaque fois avant de commencer tomcat (les mettre dans le fichier startup.sh de Tomcat ?) :\nulimit -Hn 16384\nulimit -Sn 16384"}),"\n",(0,i.jsx)(s.li,{children:'Ou faire un changement permanent en \xe9ditant (comme racine) /etc/security/limits.conf et ajouter les lignes:\ntomcat soft nofile 16384\ntomcat dur aucun fichier 16384\nCes commandes supposent que l\'utilisateur ex\xe9cutant Tomcat est appel\xe9 "tomcat".\nSur de nombreuses variantes Linux, vous devez red\xe9marrer le serveur pour appliquer ces modifications. Pour les deux options, le "16384" ci-dessus est un exemple. Vous choisissez le num\xe9ro qui vous semble le mieux.'}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.li,{children:"Red\xe9marrerERDDAP. Le syst\xe8me d'exploitation fermera tous les fichiers ouverts.\n\xa0"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"failed-requests",children:"Demandes rejet\xe9es"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Activit\xe9 inhabituelle: >25% des demandes ont \xe9chou\xe9"}),(0,i.jsx)(s.br,{}),"\n","Dans le cadre de chaque rechargementDatasets, qui est g\xe9n\xe9ralement toutes les 15 minutes,ERDDAP\u2122examine le pourcentage de demandes qui ont \xe9chou\xe9 depuis le dernier rechargementDatasets. Si elle est > 25 %,ERDDAP\u2122envoie un email auERDDAP\u2122administrateur avec le sujet \xab Activit\xe9 inhabituelle : > 25 % des demandes ont \xe9chou\xe9 \xbb. Ce courriel comprend un d\xe9compte situ\xe9 pr\xe8s du bas intitul\xe9 \xab Adresse IP du demandeur \xbb (\xc9chec)   (depuis les derniers grands ensembles de donn\xe9es de charge) \". Cherchez \xe7a. Il vous indique l'adresse IP des ordinateurs qui ont fait les requ\xeates les plus rat\xe9es. Vous pouvez ensuite rechercher ces adresses IP dans le\\[BigParent Directory\\]/logs/",(0,i.jsx)(s.a,{href:"#log",children:"Log.txt"}),"fichier et voir quel type de requ\xeates ils font."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Vous pouvez utiliser le num\xe9ro IP de l'utilisateur (par exemple, avec",(0,i.jsx)(s.a,{href:"https://whatismyipaddress.com/ip-lookup",children:" https://whatismyipaddress.com/ip-lookup "}),") essayer de savoir qui ou ce que l'utilisateur est. Parfois cela vous dira assez exactement qui est l'utilisateur (Par exemple, c'est un moteur de recherche) . La plupart du temps, \xe7a te donne juste un indice (Par exemple, c'est un ordinateur d'amazonaws, c'est une universit\xe9, c'est quelqu'un dans une ville sp\xe9cifique.) ."]}),"\n",(0,i.jsxs)(s.p,{children:["En regardant la requ\xeate r\xe9elle, le num\xe9ro IP, et le message d'erreur (tous des",(0,i.jsx)(s.a,{href:"#log",children:"Log.txt"}),") Pour une s\xe9rie d'erreurs, vous pouvez g\xe9n\xe9ralement comprendre ce qui va mal. D'apr\xe8s mon exp\xe9rience, il y a quatre causes communes de nombreuses demandes rejet\xe9es :"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Les demandes sont malveillantes (Par exemple, \xe0 la recherche de faiblesses en mati\xe8re de s\xe9curit\xe9 ou \xe0 la pr\xe9sentation de demandes, puis \xe0 leur annulation avant leur ach\xe8vement.) . Vous devriez utiliser<requ\xeateBlacklist> endatasets.xmlpour noircir ces adresses IP."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Un moteur de recherche est na\xefvement essayer les URL list\xe9es dansERDDAP\u2122pages Web et documents ISO 19115. Par exemple, il ya beaucoup d'endroits qui listent la baseOPeNDAPURL, par exemple, ",(0,i.jsx)(s.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST",children:"https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST"})," , auquel l'utilisateur est cens\xe9 ajouter un type de fichier (Par exemple, .das, .dds, .html) . Mais le moteur de recherche ne le sait pas. Et la requ\xeate \xe0 l'URL de base \xe9choue. Une situation connexe est lorsque le moteur de recherche g\xe9n\xe8re des requ\xeates bizarres ou tente de remplir des formulaires afin d'acc\xe9der \xe0 des pages Web \"cach\xe9es\". Mais les moteurs de recherche font souvent un mauvais travail de cela, conduisant \xe0 des \xe9checs. La solution est : cr\xe9er un",(0,i.jsx)(s.a,{href:"#robotstxt",children:"robots.txt"}),"fichier."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Certains utilisateurs lancent un script qui demande \xe0 plusieurs reprises quelque chose qui n'est pas l\xe0. Peut-\xeatre est-ce un ensemble de donn\xe9es qui existait, mais est parti maintenant (temporairement ou d\xe9finitivement) . Souvent, les Scripts ne s'attendent pas \xe0 cela et donc ne le traitent pas intelligemment. Donc le script continue de faire des requ\xeates et les demandes continuent \xe0 \xe9chouer. Si vous pouvez deviner qui est l'utilisateur (\xe0 partir du num\xe9ro IP ci-dessus) , contactez-les et dites-leur que l'ensemble de donn\xe9es n'est plus disponible et demandez-leur de modifier leur script."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Quelque chose ne va vraiment pas avec certains ensembles de donn\xe9es. Habituellement,ERDDAP\u2122rendra l'ensemble de donn\xe9es perturb\xe9 inactif. Parfois, ce n'est pas le cas, donc toutes les requ\xeates \xe0 elle conduisent juste \xe0 des erreurs. Si oui, corrigez le probl\xe8me avec l'ensemble de donn\xe9es ou (si vous ne pouvez pas) d\xe9finir l'ensemble de donn\xe9es \xe0",(0,i.jsx)(s.a,{href:"/docs/server-admin/datasets#active",children:"actif"}),". Bien s\xfbr, cela peut conduire au probl\xe8me no 2."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Parfois, les erreurs ne sont pas si mauvaises, notamment siERDDAP\u2122peut d\xe9tecter l'erreur et r\xe9pondre tr\xe8s rapidement (<=1ms). Vous pouvez donc d\xe9cider de ne rien faire."}),"\n",(0,i.jsx)(s.p,{children:"Si tout le reste \xe9choue, il y a une solution universelle : ajouter le num\xe9ro IP de l'utilisateur au [<requ\xeateBlacklist>] (/docs/serveur-admin/donn\xe9es#requestblacklist) . Ce n'est pas une option aussi mauvaise ou aussi radicale qu'elle pourrait le para\xeetre. L'utilisateur obtiendra alors un message d'erreur disant qu'il a \xe9t\xe9 sur la liste noire et leur disant votre (desERDDAP\u2122de l'administrateur) adresse \xe9lectronique. Parfois, l'utilisateur vous contactera et vous pourrez r\xe9soudre le probl\xe8me. Parfois, l'utilisateur ne vous contacte pas et vous verrez exactement le m\xeame comportement venant d'un num\xe9ro IP diff\xe9rent le lendemain. Blacklist le nouveau num\xe9ro IP et esp\xe8re qu'ils obtiendront le message. (Ou c'est ton Jour de la Gorge, dont tu ne t'\xe9chapperas jamais. D\xe9sol\xe9.)"}),"\n",(0,i.jsx)(s.h3,{id:"robotstxt",children:"robots.txt"}),"\n",(0,i.jsx)(s.p,{children:"Les entreprises de moteurs de recherche utilisent des rampeurs web (Par exemple, Google Bot) d'examiner toutes les pages du web pour ajouter le contenu aux moteurs de recherche. PourERDDAP\u2122, c'est fondamentalement bon.ERDDAP\u2122a beaucoup de liens entre les pages, de sorte que les rampeurs trouveront toutes les pages Web et les ajouteront aux moteurs de recherche. Ensuite, les utilisateurs des moteurs de recherche seront en mesure de trouver des ensembles de donn\xe9es sur votreERDDAP."}),"\n",(0,i.jsxs)(s.p,{children:["Malheureusement, certains rampeurs de toile (Par exemple, Google Bot) sont maintenant en train de remplir et de soumettre des formulaires afin de trouver du contenu suppl\xe9mentaire. Pour les sites Web de commerce, c'est g\xe9nial. Mais c'est terrible pourERDDAP\u2122parce que \xe7a m\xe8ne \xe0 une ",(0,i.jsx)(s.strong,{children:"infini"})," nombre de tentatives ind\xe9sirables et inutiles pour ramper les donn\xe9es r\xe9elles. Cela peut conduire \xe0 plus de demandes de donn\xe9es que de tous les autres utilisateurs combin\xe9s. Et il remplit le moteur de recherche avec des sous-ensembles inutile des donn\xe9es r\xe9elles."]}),"\n",(0,i.jsxs)(s.p,{children:["Pour dire aux crawlers web d'arr\xeater de remplir des formulaires et simplement g\xe9n\xe9ralement ne pas regarder les pages Web qu'ils n'ont pas besoin de regarder, vous devez cr\xe9er un fichier texte appel\xe9",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Robots_exclusion_standard",children:"robots.txt"}),"dans le r\xe9pertoire racine de la hi\xe9rarchie de documents de votre site Web afin qu'il puisse \xeatre vu par n'importe qui comme, par exemple, http://*",(0,i.jsx)(s.a,{href:"http://www.your.domain*/robots.txt",children:"www.your.domain*/robots.txt"})," .\nSi vous cr\xe9ez de nouveaux robots. fichier txt, c'est un bon d\xe9but:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"    User-Agent: \\\\*\n    Disallow: /erddap/files/ \n    Disallow: /files/ \n    Disallow: /images/ \n    Disallow: /\\\\*?\n    Disallow: /\\\\*?\\\\*\n    Disallow: /\\\\*.asc\\\\*\n    Disallow: /\\\\*.csv\\\\*\n    Disallow: /\\\\*.dods\\\\*\n    Disallow: /\\\\*.esriAscii\\\\*\n    Disallow: /\\\\*.esriCsv\\\\*\n    Disallow: /\\\\*.geoJson\\\\*\n    Disallow: /\\\\*.htmlTable\\\\*\n    Disallow: /\\\\*.json\\\\*\n    Disallow: /\\\\*.mat\\\\*\n    Disallow: /\\\\*.nc\\\\*\n    Disallow: /\\\\*.odvTxt\\\\*\n    Disallow: /\\\\*.tsv\\\\*\n    Disallow: /\\\\*.xhtml\\\\*\n    Disallow: /\\\\*.geotif\\\\*\n    Disallow: /\\\\*.itx\\\\*\n    Disallow: /\\\\*.kml\\\\*\n    Disallow: /\\\\*.pdf\\\\*\n    Disallow: /\\\\*.png\\\\*\n    Disallow: /\\\\*.large\\\\*\n    Disallow: /\\\\*.small\\\\*\n    Disallow: /\\\\*.transparentPng\\\\*\n    Sitemap: http://***your.institutions.url***/erddap/sitemap.xml\n"})}),"\n",(0,i.jsxs)(s.p,{children:["(Mais remplacer ",(0,i.jsx)(s.em,{children:"Votre.institutions.url"})," avec votreERDDAPURL de base.)",(0,i.jsx)(s.br,{}),"\n","Il peut prendre quelques jours pour que les moteurs de recherche remarquent et pour que les changements prennent effet.\n\xa0"]}),"\n",(0,i.jsx)(s.h3,{id:"sitemapxml",children:"sitemap.xml"}),"\n",(0,i.jsxs)(s.p,{children:["Comme",(0,i.jsx)(s.a,{href:"https://www.sitemaps.org/",children:" https://www.sitemaps.org "}),"site web dit:"]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Sitemaps are an easy way for webmasters to inform search engines about pages on their sites that are available for crawling. In its simplest form, a Sitemap is an XML file that lists URLs for a site along with additional metadata about each URL (when it was last updated, how often it usually changes, and how important it is, relative to other URLs on the site) so that search engines can more intelligently crawl the site."}),"\n",(0,i.jsx)(s.p,{children:"Web crawlers usually discover pages from links within the site and from other sites. Sitemaps supplement this data to allow crawlers that support Sitemaps to pick up all URLs in the Sitemap and learn about those URLs using the associated metadata. Using the Sitemap protocol does not guarantee that web pages are included in search engines, but provides hints for web crawlers to do a better job of crawling your site."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"En fait, depuisERDDAP\u2122estRESTful, araign\xe9es moteur de recherche peut facilement ramper votreERDDAP. Mais ils ont tendance \xe0 le faire plus souvent (Tous les jours !) que n\xe9cessaire (mensuel ?) ."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"\xc9tant donn\xe9 que chaque moteur de recherche peut ramper votre entierERDDAP\u2122Chaque jour, cela peut conduire \xe0 beaucoup de demandes inutiles."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"AlorsERDDAP\u2122g\xe9n\xe8re un fichier sitemap.xml pour votreERDDAP\u2122qui dit aux moteurs de recherche que votreERDDAP\u2122Il suffit de ramper tous les mois."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Vous devriez ajouter une r\xe9f\xe9rence \xe0ERDDAP's sitemap.xml \xe0 votre",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Robots_exclusion_standard",children:"robots.txt"}),"fichier & #160;:\nSitemap: http://**",(0,i.jsx)(s.a,{href:"http://www.yoursite.org**/erddap/sitemap.xml",children:"www.yoursite.org**/erddap/sitemap.xml"})]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Si cela ne semble pas obtenir le message aux rampeurs, vous pouvez dire aux diff\xe9rents moteurs de recherche sur le fichier sitemap.xml en visitant ces URLs (mais change ",(0,i.jsx)(s.strong,{children:"Votre institution"})," \xe0 l'acronyme ou \xe0 l'abr\xe9viation de votre institution ",(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.a,{href:"http://www.votresite.org",children:"www.votresite.org"})})," \xe0 votreERDDAPURL) :"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://www.bing.com/webmaster/ping.aspx?siteMap=http://**www.yoursite.org**/erddap/sitemap.xml",children:"https://www.bing.com/webmaster/ping.aspx?siteMap=http://**www.yoursite.org**/erddap/sitemap.xml"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.a,{href:"https://www.google.com/ping?sitemap=http://**www.yoursite.org**/erddap/sitemap.xml(I",children:"https://www.google.com/ping?sitemap=http://**www.yoursite.org**/erddap/sitemap.xml(I"})," penser) vous avez juste besoin de ping chaque moteur de recherche une fois, pour tout le temps. Les moteurs de recherche d\xe9tectent ensuite p\xe9riodiquement les changements \xe0 sitemap.xml.\n\xa0"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.h3,{id:"data-dissemination--data-distribution-networks-push-and-pull-technology",children:["Diffusion des donn\xe9es / Distribution des donn\xe9es R\xe9seaux",":PushetPullTechnologie"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Normalement,ERDDAP\u2122agit comme interm\xe9diaire: il prend une demande d'un utilisateur; obtient des donn\xe9es d'une source de donn\xe9es distante; reformate les donn\xe9es; et les envoie \xe0 l'utilisateur."}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Pull_technology",children:"PullTechnologie"}),":ERDDAP","\u2122a \xe9galement la capacit\xe9 d'obtenir activement toutes les donn\xe9es disponibles \xe0 partir d'une source de donn\xe9es distante et",(0,i.jsx)(s.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"stocker une copie locale des donn\xe9es"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Push_technology",children:"PushTechnologie"}),": En utilisantERDDAP's",(0,i.jsx)(s.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions",children:"services d'abonnement"}),", d'autres serveurs de donn\xe9es peuvent \xeatre notifi\xe9s d\xe8s que de nouvelles donn\xe9es sont disponibles afin qu'ils puissent demander les donn\xe9es (en tirant les donn\xe9es) ."]}),"\n",(0,i.jsxs)(s.li,{children:["ERDDAP's",(0,i.jsx)(s.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDGridDeErddap"}),"et",(0,i.jsx)(s.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDTableDeErddap"}),"UtilisationERDDAPservices d'abonnement et",(0,i.jsx)(s.a,{href:"#flag",children:"Syst\xe8me de drapeau"}),"afin qu'elle soit notifi\xe9e imm\xe9diatement lorsque de nouvelles donn\xe9es sont disponibles."]}),"\n",(0,i.jsx)(s.li,{children:"Vous pouvez les combiner \xe0 grand effet: si vous enveloppez unEDDGridCopier autour d'unEDDGridEnsemble de donn\xe9es d'Erddap (ou envelopper un EDDTableCopy autour d'un ensemble de donn\xe9es EDDTableFromErddap) ,ERDDAP\u2122cr\xe9er et maintenir automatiquement une copie locale d'un autreERDDAPl'ensemble de donn\xe9es."}),"\n",(0,i.jsx)(s.li,{children:"Parce que les services d'abonnement fonctionnent d\xe8s que de nouvelles donn\xe9es sont disponibles, la technologie pousse \xe0 diffuser les donn\xe9es tr\xe8s rapidement (dans les secondes) ."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Cette architecture met chaqueERDDAP\u2122administrateur charg\xe9 de d\xe9terminer o\xf9 les donn\xe9esERDDAP\u2122vient de."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"AutresERDDAP\u2122les administrateurs peuvent faire de m\xeame. La coordination entre les administrateurs n'est pas n\xe9cessaire."}),"\n",(0,i.jsx)(s.li,{children:"Si plusieursERDDAP\u2122administrateurs lien \xe0 l'autreERDDAPs, un r\xe9seau de distribution de donn\xe9es est form\xe9."}),"\n",(0,i.jsx)(s.li,{children:"Les donn\xe9es seront diffus\xe9es rapidement, efficacement et automatiquement \xe0 partir de sources de donn\xe9es. (ERDDAPs et autres serveurs) aux sites de redistribution des donn\xe9es (ERDDAPs) n'importe o\xf9 dans le r\xe9seau."}),"\n",(0,i.jsx)(s.li,{children:"A donn\xe9ERDDAP\u2122peut \xeatre \xe0 la fois une source de donn\xe9es pour certains ensembles de donn\xe9es et un site de redistribution pour d'autres ensembles de donn\xe9es."}),"\n",(0,i.jsxs)(s.li,{children:["Le r\xe9seau r\xe9sultant est \xe0 peu pr\xe8s similaire aux r\xe9seaux de distribution de donn\xe9es mis en place avec des programmes comme",(0,i.jsx)(s.a,{href:"https://www.unidata.ucar.edu/projects/index.html#idd",children:"UnidataIDD/IDM"}),", mais moins rigidement structur\xe9.\n\xa0"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"security-authentication-and-authorization",children:"S\xe9curit\xe9, authentification et autorisation"}),"\n",(0,i.jsxs)(s.p,{children:["Par d\xe9faut,ERDDAP\u2122fonctionne comme un serveur enti\xe8rement public (utilisanthttpet/ouhttps) sans connexion (",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Authentication",children:"authentification"}),") syst\xe8me et aucune restriction \xe0 l'acc\xe8s aux donn\xe9es (",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Authorization",children:"autorisation"}),") ."]}),"\n",(0,i.jsx)(s.h4,{id:"security",children:"S\xe9curit\xe9"}),"\n",(0,i.jsx)(s.p,{children:"Si vous voulez restreindre l'acc\xe8s \xe0 certains ou \xe0 tous les ensembles de donn\xe9es \xe0 certains utilisateurs, vous pouvez utiliserERDDAPLe syst\xe8me de s\xe9curit\xe9 int\xe9gr\xe9. Lorsque le syst\xe8me de s\xe9curit\xe9 est utilis\xe9:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["ERDDAP\u2122Utilisations",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Role-based_access_control",children:"contr\xf4le de l'acc\xe8s fond\xe9 sur le r\xf4le"}),".","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"LesERDDAP\u2122administrateur d\xe9finit les utilisateurs avec le [<utilisateur>] (/docs/serveur-admin/donn\xe9es#utilisateur) tag indatasets.xml. Chaque utilisateur a un nom d'utilisateur, un mot de passe (si authentification=client) , et un ou plusieurs r\xf4les."}),"\n",(0,i.jsx)(s.li,{children:"LesERDDAP\u2122administrateur d\xe9finit quels r\xf4les ont acc\xe8s \xe0 un ensemble de donn\xe9es donn\xe9 via le [<accessible\xc0>] (/docs/serveur-admin/donn\xe9es#accessible\xe0) tag indatasets.xmlpour tout ensemble de donn\xe9es qui ne devrait pas avoir acc\xe8s au public."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.li,{children:"Statut de connexion de l'utilisateur (et un lien pour se connecter/d\xe9connecter) sera affich\xe9 en haut de chaque page Web. (Mais un utilisateur connect\xe9 appara\xeetra \xe0ERDDAP\u2122pour ne pas \xeatre connect\xe9 s'il utilise unhttpURL.)"}),"\n",(0,i.jsxs)(s.li,{children:["Si<baseUrl> que vous sp\xe9cifiez dans votre setup.xml est un ",(0,i.jsx)(s.strong,{children:"http"})," URL, les utilisateurs qui ne sont pas connect\xe9s peuvent utiliserERDDAP's ",(0,i.jsx)(s.strong,{children:"http"})," URLs. Si<baseHttpsUrl> est \xe9galement sp\xe9cifi\xe9, les utilisateurs qui ne sont pas connect\xe9s peuvent \xe9galement utiliserhttpsURLs."]}),"\n",(0,i.jsxs)(s.li,{children:["HTTPS seulement -- Si<baseUrl> que vous sp\xe9cifiez dans votre setup.xml est un ",(0,i.jsx)(s.strong,{children:"https"})," URL, les utilisateurs qui ne sont pas connect\xe9s sont encourag\xe9s (pas forc\xe9) \xe0 utiliserERDDAP's ",(0,i.jsx)(s.strong,{children:"https"})," URL -- tous les liens surERDDAP\u2122les pages Web se r\xe9f\xe9reront \xe0httpsURLs."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Si vous voulez forcer les utilisateurs \xe0 utiliserhttpsURL, ajouter une ligne permanente Redirect dans la<VirtualHost \\*:80> section dans le fichier de configuration de votre Apache (g\xe9n\xe9ralementhttpd.conf) , par exemple,"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"    <VirtualHost \\\\*:80>\n        \\\\[...\\\\]\n        ServerName example.com\n        Redirect permanent / https://example.com/\n    </VirtualHost>\n"})}),"\n",(0,i.jsxs)(s.p,{children:["Si vous le souhaitez, il existe une m\xe9thode suppl\xe9mentaire pour forcer l'utilisation dehttps: ",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security",children:"S\xe9curit\xe9 de transport stricte HTTP (TVH) "}),". Pour l'utiliser :"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Activer le module En-t\xeates Apache : en-t\xeates a2enmod"}),"\n",(0,i.jsx)(s.li,{children:"Ajouter l'en-t\xeate suppl\xe9mentaire \xe0 la directive HTTPS VirtualHost. L'\xe2ge maximal est mesur\xe9 en secondes et peut \xeatre r\xe9gl\xe9 \xe0 une valeur longue."}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:'        <VirtualHost \\\\*:443>\n            # Guarantee HTTPS for 1 Year including Sub Domains \n            Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains"\n'})}),"\n",(0,i.jsx)(s.p,{children:"Veuillez noter que cet en-t\xeate n'est valide que sur un VirtualHost HTTPS."}),"\n",(0,i.jsx)(s.p,{children:"Une raison de ne pas forcer les utilisateurs \xe0 utiliserhttpsURLs est : le lien SSL/TLS sous-jacent prend du temps pour \xe9tablir puis prend du temps pour chiffrer et d\xe9chiffrer toutes les informations transmises entre l'utilisateur et le serveur. Mais certaines institutions exigenthttpsSeulement."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Les utilisateurs qui sont connect\xe9s DOIVENT utiliserERDDAP's ",(0,i.jsx)(s.strong,{children:"https"})," URLs. S'ils utilisenthttpURLs, elles semblent \xe0ERDDAP\u2122\xe0 ne pas \xeatre connect\xe9. Cela garantit la confidentialit\xe9 des communications et aide \xe0 pr\xe9venir",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Session_hijacking",children:"d\xe9tournement de session et d\xe9tournement de fonds"}),"."]}),"\n",(0,i.jsx)(s.li,{children:"Quiconque n'est pas connect\xe9 peut acc\xe9der et utiliser les ensembles de donn\xe9es publics. Par d\xe9faut, les datasets priv\xe9s n'apparaissent pas dans les listes de datasets si un utilisateur n'est pas connect\xe9. Si l'administrateur a d\xe9fini set.xml<listPrivateDatasets> \xe0 true, ils appara\xeetront. Tentatives de demander des donn\xe9es \xe0 des ensembles de donn\xe9es priv\xe9s (si l'utilisateur conna\xeet l'URL) sera redirig\xe9 vers la page de connexion."}),"\n",(0,i.jsx)(s.li,{children:"Toute personne connect\xe9e pourra voir et demander des donn\xe9es \xe0 partir de tout ensemble de donn\xe9es public et de tout ensemble de donn\xe9es priv\xe9 auquel son r\xf4le lui permet d'acc\xe9der. Par d\xe9faut, les ensembles de donn\xe9es priv\xe9s auxquels un utilisateur n'a pas acc\xe8s n'apparaissent pas dans les listes de ensembles de donn\xe9es. Si l'administrateur a d\xe9fini set.xml<listPrivateDatasets> \xe0 true, ils appara\xeetront. Les tentatives de demander des donn\xe9es \xe0 partir de ensembles de donn\xe9es priv\xe9s auxquels l'utilisateur n'a pas acc\xe8s seront redirig\xe9es vers la page de connexion."}),"\n",(0,i.jsx)(s.li,{children:"LesRSSdes informations pour des ensembles de donn\xe9es enti\xe8rement priv\xe9s sont disponibles uniquement pour les utilisateurs (etRSSlecteurs) qui sont connect\xe9s et autoris\xe9s \xe0 utiliser cet ensemble de donn\xe9es. Cela rendRSSpas tr\xe8s utile pour les ensembles de donn\xe9es enti\xe8rement priv\xe9s."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Si un ensemble de donn\xe9es est priv\xe9 mais que celui-ci [<graphiquesAccessible \xe0>] (/docs/serveur-admin/datasets#graphsaccessible\xe0) est mis en public,RSSest accessible \xe0 tous."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Les abonnements par courriel ne peuvent \xeatre configur\xe9s que lorsqu'un utilisateur a acc\xe8s \xe0 un ensemble de donn\xe9es. Si un utilisateur s'inscrit \xe0 un jeu de donn\xe9es priv\xe9, l'abonnement continue de fonctionner apr\xe8s que l'utilisateur s'est d\xe9connect\xe9."}),"\n"]}),"\n",(0,i.jsx)(s.h5,{id:"setup-security",children:"Configuration de la s\xe9curit\xe9"}),"\n",(0,i.jsx)(s.p,{children:"Pour mettre en place le syst\xe8me de s\xe9curit\xe9/authentification/autorisation:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Faites la normeERDDAP\u2122 ",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install",children:"configuration initiale"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["En",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"configuration.xml"}),",","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Ajouter/modifier<authentifi\xe9> valeur de rien \xe0 la coutume (n'utilise pas \xe7a) , courriel (n'utilise pas \xe7a) , google (recommand\xe9) , orcide (recommand\xe9) , ou oauth2 (qui est google+orcide, recommand\xe9) . Voir les commentaires sur ces options ci-dessous."}),"\n",(0,i.jsx)(s.li,{children:"Ajouter/modifier<valeur baseHttpsUrl>."}),"\n",(0,i.jsx)(s.li,{children:"Ins\xe9rer/d\xe9commenter&loginInfo;en<startBodyHtml> pour afficher les informations de connexion/sortie de l'utilisateur en haut de chaque page Web."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["Pour les tests sur votre ordinateur personnel,",(0,i.jsx)(s.a,{href:"https://tomcat.apache.org/tomcat-8.0-doc/ssl-howto.html",children:"suivre ces instructions pour configurer tomcat pour soutenir SSL"}),"  (sur la base dehttpsconnexions) en cr\xe9ant un keystore avec un",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Self-signed_certificate",children:"certificat autosign\xe9"}),"et en modifiant ",(0,i.jsx)(s.em,{children:"Tomcat"}),' /conf/server.xml pour d\xe9commenter le connecteur pour le port 8443. Sous Windows, vous pouvez avoir besoin de d\xe9placer .keystore de "c:\\Users\\ ',(0,i.jsx)(s.em,{children:"vous"}),' \\.keystore" \xe0 "c:\\Users\\Default User\\.keystore" ou "c:\\.keystore" (voir ',(0,i.jsx)(s.em,{children:"Tomcat"})," /logs/catalina. ",(0,i.jsx)(s.em,{children:"Aujourd'hui"})," .log si l'application ne charge pas ou si les utilisateurs ne peuvent pas voir la page de connexion) . Vous pouvez voir quand le certificat .keystore expirera en examinant le certificat lorsque vous vous connectez."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Pour un serveur accessible au public, au lieu d'utiliser un certificat autosign\xe9, il est fortement recommand\xe9 d'acheter et d'installer un certificat sign\xe9 par un",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Certificate_authority",children:"autorit\xe9 de certification"}),", parce qu'il donne \xe0 vos clients plus d'assurance qu'ils sont en fait li\xe9s \xe0 votreERDDAP\u2122, pas un homme dans la version de votreERDDAP. De nombreux vendeurs vendent des certificats num\xe9riques. (Rechercher le web.) Ils ne sont pas chers."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Sur les ordinateurs Linux, si Tomcat fonctionne dans Apache, modifiez le /etc/httpfichier d/conf.d/ssl.conf permettant le trafic HTTPS vers/depuisERDDAP\u2122sans exiger le num\xe9ro de port :8443 dans l'URL :","\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Modifier l'actuel<Tag VirtualHost> (s'il y en a un) , ou en ajouter un \xe0 la fin du fichier afin qu'il ait au moins ces lignes:"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"        <VirtualHost \\\\_default\\\\_:443>\n            SSLEngine on\n            SSLProxyEngine On\n            ProxyPass /erddap http://localhost:8443/erddap\n            ProxyPassReverse /erddap http://localhost:8443/erddap\n        </VirtualHost>\n"})}),"\n",(0,i.jsxs)(s.ol,{start:"2",children:["\n",(0,i.jsx)(s.li,{children:"Puis red\xe9marrez Apache: /usr/sbin/apachectl -K gracieux (mais parfois il est dans un r\xe9pertoire diff\xe9rent) ."}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["En ",(0,i.jsx)(s.em,{children:"Tomcat"})," /conf/server.xml, d\xe9commenter le port=8443<Connecteur> balise & #160;:"]}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:'    <Connector port="8443" \n        protocol="org.apache.coyote.http11.Http11NioProtocol"\n        maxThreads="150" SSLEnabled="true">\n        <SSLHostConfig>\n        <Certificate certificateKeystoreFile="conf/localhost-rsa.jks" \n            type="RSA" />\n        </SSLHostConfig>\n    </Connector>\n'})}),"\n",(0,i.jsx)(s.p,{children:"et changer l'emplacement du certificatKeystoreFile."}),"\n",(0,i.jsx)(s.h5,{id:"authorization",children:"Autorisation"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"#authorization",children:"Endatasets.xml, cr\xe9er un"}),"[<utilisateur>] (/docs/serveur-admin/donn\xe9es#utilisateur) balise pour chaque utilisateur avec nom d'utilisateur, mot de passe (si autorisation=douane) , et l'information sur les r\xf4les. C'est la partie de l'autorisationERDDAPLe syst\xe8me de s\xe9curit\xe9.\n\xa0"]}),"\n",(0,i.jsx)(s.li,{children:"Endatasets.xml, ajouter un [<accessible\xc0>] (/docs/serveur-admin/donn\xe9es#accessible\xe0) tag \xe0 chaque ensemble de donn\xe9es qui ne devrait pas avoir acc\xe8s au public.<accessibleTo> vous permet de sp\xe9cifier quels r\xf4les ont acc\xe8s \xe0 cet ensemble de donn\xe9es.\n\xa0"}),"\n",(0,i.jsx)(s.li,{children:"Red\xe9marrez Tomcat. Des probl\xe8mes ? V\xe9rifiez les registres Tomcat.\n\xa0"}),"\n",(0,i.jsx)(s.li,{children:"V\xe9rifiez votre travail! Toute erreur pourrait conduire \xe0 un d\xe9faut de s\xe9curit\xe9.\n\xa0"}),"\n",(0,i.jsx)(s.li,{children:"V\xe9rifiez que la page de connexion utilisehttps  (pashttp) . Tentatives de connexion viahttpdevrait \xeatre automatiquement redirig\xe9 vershttpset le port 8443 (bien que le num\xe9ro de port puisse \xeatre cach\xe9 via un proxy Apache) . Vous devrez peut-\xeatre travailler avec votre administrateur r\xe9seau pour permettre aux requ\xeates externes d'acc\xe9der au port 8443 sur votre serveur.\n\xa0"}),"\n",(0,i.jsxs)(s.li,{children:["Vous pouvez changer<utilisateur> et<accessible\xc0> tags \xe0 tout moment. Les modifications seront appliqu\xe9es au prochain rechargement r\xe9gulier de tout ensemble de donn\xe9es, ou ASAP si vous utilisez un",(0,i.jsx)(s.a,{href:"#flag",children:"drapeau"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.h5,{id:"authentication",children:"Authentification"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.a,{href:"#authentication",children:" **Authentification (l'exploitation) ** "}),(0,i.jsx)(s.br,{}),"\n","Si vous ne voulez pas permettre aux utilisateurs de se connecter, ne sp\xe9cifiez pas de valeur pour<Authentification> dans setup.xml.\nSi vous voulez permettre aux utilisateurs de se connecter, vous devez sp\xe9cifier une valeur pour<Authentification>. Actuellement,ERDDAP\u2122soutien\n",(0,i.jsx)(s.a,{href:"#custom",children:"personnalis\xe9"}),"  (n'utilise pas \xe7a) ,\n",(0,i.jsx)(s.a,{href:"#email",children:"Courriel"}),"  (n'utilise pas \xe7a) ,\n",(0,i.jsx)(s.a,{href:"#google",children:"Google"}),"  (recommand\xe9) ,\n",(0,i.jsx)(s.a,{href:"#orcid",children:"orcide"}),"  (recommand\xe9) et\n",(0,i.jsx)(s.a,{href:"#oauth2",children:"oauth2"}),"  (recommand\xe9) pour la m\xe9thode d'authentification.\nSi vous voulez activer la connexion, nous vous recommandons fortement les options google, orcid ou oauth2 car elles vous lib\xe8rent de stocker et de g\xe9rer les mots de passe de l'utilisateur (n\xe9cessaire pour la coutume) et sont plus s\xe9curis\xe9s que l'option de messagerie. Rappelez-vous que les utilisateurs utilisent souvent le m\xeame mot de passe sur diff\xe9rents sites. Ils peuvent donc utiliser le m\xeame mot de passe pour votreERDDAP\u2122comme \xe0 leur banque. Cela rend leur mot de passe tr\xe8s pr\xe9cieux -- beaucoup plus pr\xe9cieux pour l'utilisateur que les seules donn\xe9es qu'ils demandent. Donc vous devez faire autant que vous pouvez pour garder les mots de passe priv\xe9s. C'est une grande responsabilit\xe9. Les options e-mail, google, orcid, et oauth2 prennent soin des mots de passe, de sorte que vous n'avez pas \xe0 rassembler, stocker ou travailler avec eux. Donc vous \xeates lib\xe9r\xe9 de cette responsabilit\xe9."]}),"\n",(0,i.jsxs)(s.p,{children:["Tous<authentification> les options utilisent un",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/HTTP_cookie",children:"cookie"}),"sur l'ordinateur de l'utilisateur, de sorte que le navigateur de l'utilisateur doit \xeatre configur\xe9 pour permettre les cookies. Si un utilisateur faitERDDAP\u2122requ\xeates d'un programme informatique (pas un navigateur) , les cookies et l'authentification sont difficiles \xe0 utiliser. C'est un probl\xe8me courant avec tous les syst\xe8mes d'authentification. D\xe9sol\xe9."]}),"\n",(0,i.jsx)(s.p,{children:"Les d\xe9tails de la<authentification> Les options sont les suivantes:"}),"\n",(0,i.jsx)(s.h6,{id:"custom",children:"Personnalis\xe9"}),"\n",(0,i.jsx)(s.p,{children:"personnalis\xe9 estERDDAP's syst\xe8me personnalis\xe9 pour permettre aux utilisateurs de se connecter en entrant leur nom d'utilisateur et mot de passe dans un formulaire sur une page Web. Si un utilisateur essaie et ne se connecte pas 3 fois en 10 minutes, l'utilisateur est bloqu\xe9 d'essayer de se connecter pendant 10 minutes. Cela emp\xeache les pirates de simplement essayer des millions de mots de passe jusqu'\xe0 ce qu'ils trouvent le bon."}),"\n",(0,i.jsx)(s.p,{children:"Ceci est quelque peu s\xe9curis\xe9 parce que le nom d'utilisateur et le mot de passe sont transmis parhttps  (pashttp) , mais authentification=google, orcid, ou oauth2 sont meilleurs parce qu'ils vous lib\xe8rent d'avoir \xe0 g\xe9rer les mots de passe. L'approche personnalis\xe9e vous oblige \xe0 collecter le nom d'un utilisateur et un digest de hachage de leur mot de passe (Utilisez votre t\xe9l\xe9phone ! e-mail n'est pas s\xe9curis\xe9!) et les stocker dansdatasets.xmldans [<utilisateur>] (/docs/serveur-admin/donn\xe9es#utilisateur) des \xe9tiquettes."}),"\n",(0,i.jsx)(s.p,{children:"Avec l'option personnalis\xe9e, personne ne peut se connecter jusqu'\xe0 ce que vous (desERDDAP\u2122administrateur) cr\xe9er un<user> tag pour l'utilisateur, en sp\xe9cifiant le nom de l'utilisateur comme nom d'utilisateur, le hash digest de leur mot de passe comme mot de passe, et leurs r\xf4les."}),"\n",(0,i.jsx)(s.p,{children:"Non recommand\xe9\nEn raison de la difficult\xe9 de g\xe9n\xe9rer et de transmettre le digest de hachage du mot de passe de l'utilisateur et des risques associ\xe9s \xe0ERDDAP\u2122tenant les digests de hachage des mots de passe, cette option n'est pas recommand\xe9e."}),"\n",(0,i.jsx)(s.p,{children:"Pour renforcer la s\xe9curit\xe9 de cette option :"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Vous devez vous assurer que d'autres utilisateurs sur le serveur (i.e., utilisateurs Linux, pasERDDAP\u2122utilisateurs) ne peut pas lire les fichiers dans le r\xe9pertoire Tomcat (en particulierdatasets.xmlDossier !) ouERDDAPLe grand r\xe9pertoire Parent.\nSur Linux, en tant qu'utilisateur=tomcat, utilisez :\n-R -R-rwx ",(0,i.jsx)(s.em,{children:"BigParent Directory"}),(0,i.jsx)(s.br,{}),"\n","-R o-rwx ",(0,i.jsx)(s.em,{children:"BigParent Directory"}),(0,i.jsx)(s.br,{}),"\n","-R -R-rwx ",(0,i.jsx)(s.em,{children:"tomcatDirectory"}),(0,i.jsx)(s.br,{}),"\n","-R o-rwx ",(0,i.jsx)(s.em,{children:"tomcatDirectory"}),(0,i.jsx)(s.br,{}),"\n","\xa0"]}),"\n",(0,i.jsx)(s.li,{children:"Utiliser UEPSHA256 pour<mot de passeEncoding> dans setup.xml.\n\xa0"}),"\n",(0,i.jsx)(s.li,{children:"Utilisez une m\xe9thode as-secure-as-possible pour transmettre le digest de hachage du mot de passe de l'utilisateur \xe0 l'utilisateurERDDAP\u2122administrateur (t\xe9l\xe9phone ?) .\n\xa0"}),"\n"]}),"\n",(0,i.jsx)(s.h6,{id:"email",children:"Courriel"}),"\n",(0,i.jsx)(s.p,{children:"L'option d'authentification de l'email utilise le compte email d'un utilisateur pour authentifier l'utilisateur (en leur envoyant un email avec un lien sp\xe9cial auquel ils doivent acc\xe9der pour se connecter) . Contrairement \xe0 d'autres emails queERDDAP\u2122envoie,ERDDAP\u2122n'\xe9crivent pas ces courriels d'invitation au fichier du journal des courriels parce qu'ils contiennent des renseignements confidentiels.\nEn th\xe9orie, ce n'est pas tr\xe8s s\xfbr, parce que les courriels ne sont pas toujours crypt\xe9s, donc un mauvais gars avec la capacit\xe9 d'intercepter des courriels pourrait abuser de ce syst\xe8me en utilisant l'adresse e-mail d'un utilisateur valide et en interceptant le courriel d'invitation.\nDans la pratique, si vous cr\xe9ezERDDAP\u2122pour utiliser un compte email de Google pour envoyer des emails, et si vous l'avez configur\xe9 pour utiliser l'une des options TLS pour la connexion, et si l'utilisateur a un compte email de Google, ceci est quelque peu s\xe9curis\xe9 parce que les emails sont crypt\xe9s tout le chemin deERDDAP\u2122\xe0 l'utilisateur."}),"\n",(0,i.jsx)(s.p,{children:"Pour renforcer la s\xe9curit\xe9 de cette option :"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Assurez-vous que les autres utilisateurs sur le serveur (i.e., utilisateurs Linux, pasERDDAP\u2122utilisateurs) ne peut pas lire des fichiers dans le r\xe9pertoire Tomcat ouERDDAPLe grand r\xe9pertoire Parent.\nSur Linux, en tant qu'utilisateur=tomcat, utilisez :\n-R -R-rwx ",(0,i.jsx)(s.em,{children:"BigParent Directory"}),(0,i.jsx)(s.br,{}),"\n","-R o-rwx ",(0,i.jsx)(s.em,{children:"BigParent Directory"}),(0,i.jsx)(s.br,{}),"\n","-R -R-rwx ",(0,i.jsx)(s.em,{children:"tomcatDirectory"}),(0,i.jsx)(s.br,{}),"\n","-R o-rwx ",(0,i.jsx)(s.em,{children:"tomcatDirectory"}),(0,i.jsx)(s.br,{}),"\n","\xa0"]}),"\n",(0,i.jsx)(s.li,{children:"Installez les choses pour obtenir la s\xe9curit\xe9 de bout en bout pour les courriels envoy\xe9s deERDDAP\u2122aux utilisateurs. Par exemple, vous pouvez faire un syst\xe8me Google-centr\xe9 en cr\xe9ant seulement<tags user> pour les adresses e-mail g\xe9r\xe9es par GoogleERDDAP\u2122pour utiliser un serveur de messagerie Google via une connexion s\xe9curis\xe9e/TLS: dans votre setup.xml, utilisez par exemple:"}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"    <emailSmtpHost>smtp.gmail.com</emailSmtpHost>  \n    <emailSmtpPort>587</emailSmtpPort>  \n    <emailProperties>mail.smtp.starttls.enable|true</emailProperties>\n"})}),"\n",(0,i.jsx)(s.p,{children:"Non recommand\xe9\nL'option d'authentification par courriel n'est pas recommand\xe9e. Utilisez plut\xf4t l'option google, orcid ou oauth2."}),"\n",(0,i.jsx)(s.p,{children:"Comme pour les options google, orcid et oauth2, l'email est tr\xe8s pratique pourERDDAP\u2122administrateurs -- vous n'avez jamais \xe0 traiter avec les mots de passe ou leurs digests de hachage. Tout ce que vous devez cr\xe9er est un [<utilisateur>] (/docs/serveur-admin/donn\xe9es#utilisateur) tag pour un utilisateur dansdatasets.xmlest l'adresse email de l'utilisateur, quiERDDAP\u2122utilise comme nom de l'utilisateur. (L'attribut mot de passe n'est pas utilis\xe9 lors de l'authentification=email, google, orcid, ou oauth2.)"}),"\n",(0,i.jsx)(s.p,{children:"Avec l'option e-mail, seuls les utilisateurs qui ont<user> tag indatasets.xmlpeut essayer de se connecter \xe0ERDDAP\u2122en fournissant leur adresse e-mail et en cliquant sur le lien dans le courrielERDDAP\u2122les envoie."}),"\n",(0,i.jsx)(s.p,{children:"ERDDAP\u2122traite les adresses e-mail comme insensibles aux cas. Il le fait en convertissant les adresses email que vous entrez (dans<user> tags) ou les utilisateurs entrent (sur le formulaire de connexion) \xe0 leur version minuscule."}),"\n",(0,i.jsx)(s.p,{children:"Pour configurer authentification=email :"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["Dans votre setup.xml, changez le<baseHttpsUrl> valeur de la balise.\nPour exp\xe9rimenter/travailler sur votre ordinateur personnel, utilisez\n",(0,i.jsx)(s.a,{href:"https://localhost:8443",children:"https://localhost:8443"}),(0,i.jsx)(s.br,{}),"\n","Pour votre publicERDDAP\u2122, utiliser\nhttps://",(0,i.jsx)(s.em,{children:"your.domain.org"}),":8443",(0,i.jsx)(s.br,{}),"\n","ou sans le :8443 si vous utilisez un Apache",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#proxypass",children:"proxypass"}),"pour que le num\xe9ro de port ne soit pas n\xe9cessaire.\n\xa0"]}),"\n",(0,i.jsx)(s.li,{children:"Dans votre setup.xml, changez le<authentification> valeur de l'\xe9tiquette pour l'email :"}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"    <authentication>email</authentication>  \n"})}),"\n",(0,i.jsxs)(s.ol,{start:"3",children:["\n",(0,i.jsx)(s.li,{children:"Dans votre setup.xml, assurez-vous que le syst\xe8me d'email est configur\xe9 via tous les<e-mail...> tags, de sorte queERDDAP\u2122peut envoyer des courriels. Si possible, configurer ceci pour utiliser une connexion s\xe9curis\xe9e (SSL / TLS) vers le serveur de messagerie.\n\xa0"}),"\n",(0,i.jsx)(s.li,{children:"Dans votredatasets.xml, cr\xe9er [<utilisateur>] (/docs/serveur-admin/donn\xe9es#utilisateur) tags pour chaque utilisateur qui aura acc\xe8s \xe0 des ensembles de donn\xe9es priv\xe9s.\nUtilisez l'adresse e-mail de l'utilisateur comme nom d'utilisateur dans la balise.\nNe sp\xe9cifiez pas l'attribut mot de passe dans la balise utilisateur.\n\xa0"}),"\n",(0,i.jsx)(s.li,{children:"Red\xe9marrerERDDAP\u2122pour que les modifications \xe0 setup.xml etdatasets.xmlprendre effet.\n\xa0"}),"\n"]}),"\n",(0,i.jsx)(s.h6,{id:"google-orcid-oauth2",children:"Google, orcide, oauth2"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsxs)(s.a,{href:"#google",children:[" ",(0,i.jsx)(s.strong,{children:"Google"})," "]}),",",(0,i.jsxs)(s.a,{href:"#orcid",children:[" ",(0,i.jsx)(s.strong,{children:"orcide"})," "]}),"et",(0,i.jsxs)(s.a,{href:"#oauth2",children:[" ",(0,i.jsx)(s.strong,{children:"oauth2"})," "]}),"\xa0  (recommand\xe9)",(0,i.jsx)(s.br,{}),"\n","Les trois options sont les suivantes ",":ERDDAP","\u2122les options d'authentification. Ce sont toutes les options les plus s\xe9curis\xe9es. Les autres options ont une s\xe9curit\xe9 nettement plus faible.\n\xa0"]}),"\n"]}),"\n",(0,i.jsx)(s.h6,{id:"google",children:"Google"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["L'option d'authentification Google utilise",(0,i.jsx)(s.a,{href:"https://developers.google.com/identity/gsi/web/guides/overview",children:"Signe Avec Google"}),", qui est une mise en \u0153uvre de",(0,i.jsx)(s.a,{href:"https://oauth.net/2/",children:"Protocole d'authentification OAuth 2.0"}),".ERDDAP\u2122les utilisateurs se connectent \xe0 leur compte de messagerie Google, y compris les comptes g\xe9r\xe9s par ",(0,i.jsx)(s.a,{href:"mailto:Google@noaa.govcomptes",children:"Google@noaa.govcomptes"}),". Cela permetERDDAP\u2122v\xe9rifier l'identit\xe9 de l'utilisateur (nom et adresse \xe9lectronique) et d'acc\xe9der \xe0 leur image de profil, mais ne donne pasERDDAP\u2122acc\xe8s \xe0 leurs courriels, leur Google Drive, ou toute autre information priv\xe9e."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"PourERDDAP\u2122v2.22 et ci-dessous,ERDDAP\u2122utilis\xe9 \"Google Sign-In\". Google dit que le syst\xe8me est obsol\xe8te apr\xe8s le 31 mars 2023. Si vous ne l'avez pas encore fait, veuillez passer \xe0ERDDAP\u2122v2.23+ pour utiliser le nouveau syst\xe8me d'authentification bas\xe9 sur \xab Se connecter avec Google \xbb."}),"\n",(0,i.jsxs)(s.p,{children:["PourERDDAP\u2122v2.23 instances avec une politique de s\xe9curit\xe9 de contenu configur\xe9e et utilisant Google Authentification, vous devez ajouter ",(0,i.jsx)(s.a,{href:"https://accounts.google.com",children:"https://accounts.google.com"})," \xe0 la liste des script-src autoris\xe9s (ou script-src-elem) .ERDDAP\u2122ne plus utiliser ",(0,i.jsx)(s.a,{href:"https://apis.google.com",children:"https://apis.google.com"})," , donc si vous avez ce permis, vous pourriez \xeatre en mesure de le retirer maintenant."]}),"\n",(0,i.jsxs)(s.p,{children:["PourERDDAP\u2122v2.24+ vous pouvez \xe9galement avoir besoin d'ajouter ",(0,i.jsx)(s.a,{href:"https://accounts.google.com/gsi/style",children:"https://accounts.google.com/gsi/style"})," \xe0 stlye-src et ",(0,i.jsx)(s.a,{href:"https://accounts.google.com/gsi/",children:"https://accounts.google.com/gsi/"})," pour se connecter. Pour le script-src vous pouvez maintenant utiliser ",(0,i.jsx)(s.a,{href:"https://accounts.google.com/gsi/client",children:"https://accounts.google.com/gsi/client"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["Pour plus d'informations, vous pouvez aller au",(0,i.jsx)(s.a,{href:"https://developers.google.com/identity/gsi/web/guides/get-google-api-clientid#content_security_policy",children:"Page Google"}),"sur la configuration du CSP. Si vous avez des questions, contactez chris.john \xe0 noaa.gov.\n\xa0"]}),"\n",(0,i.jsx)(s.h6,{id:"orcid",children:"Orcide"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["L'option d'authentification orcide utilise",(0,i.jsx)(s.a,{href:"https://members.orcid.org/api/integrate/orcid-sign-in",children:"Authentification Orcide"}),", qui est une mise en \u0153uvre de",(0,i.jsx)(s.a,{href:"https://oauth.net/2/",children:"Protocole d'authentification OAuth 2.0"}),".ERDDAP\u2122les utilisateurs signent dans leur",(0,i.jsx)(s.a,{href:"https://members.orcid.org/api/integrate/orcid-sign-in",children:"Compte Orcide"}),", qui est couramment utilis\xe9 par les chercheurs pour s'identifier. Cela permetERDDAP\u2122pour v\xe9rifier l'identit\xe9 Orcide de l'utilisateur et obtenir son num\xe9ro de compte Orcide, mais ne donne pasERDDAP\u2122acc\xe8s \xe0 leurs autres informations de compte Orcid."]}),"\n"]}),"\n",(0,i.jsx)(s.h6,{id:"oauth2",children:"Oauth2"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"L'option oauth2 permet aux utilisateurs de se connecter avec leur compte Google ou leur compte Orcid."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Les options google, orcid, et oauth2 sont les successeurs de l'option openid, qui a \xe9t\xe9 arr\xeat\xe9 apr\xe8sERDDAP\u2122version 1.68 et qui \xe9tait bas\xe9e sur une version ouverte La carte d'identit\xe9 est p\xe9rim\xe9e. Veuillez passer \xe0 l'option google, orcide ou auth2."}),"\n",(0,i.jsx)(s.p,{children:"Ces options sont tr\xe8s pratiques pourERDDAP\u2122administrateurs -- vous n'avez jamais \xe0 traiter avec les mots de passe ou leurs digests de hachage. Tout ce que vous devez cr\xe9er est un [<utilisateur>] (/docs/serveur-admin/donn\xe9es#utilisateur) tag pour un utilisateur dansdatasets.xmlqui sp\xe9cifie l'adresse e-mail de l'utilisateur ou le num\xe9ro de compte Orcid comme attribut de nom d'utilisateur. (L'attribut mot de passe n'est pas utilis\xe9 lors de l'authentification=email, google, orcid ou oauth2.)"}),"\n",(0,i.jsx)(s.p,{children:"Avec ces options, tout le monde peut se connecter \xe0ERDDAP\u2122en vous inscrivant dans leur compte email Google ou compte Orcid, mais personne n'aura le droit d'acc\xe9der \xe0 des ensembles de donn\xe9es priv\xe9s jusqu'\xe0 ce que vous (desERDDAP\u2122administrateur) cr\xe9er un<user> tag, en sp\xe9cifiant leur adresse e-mail Google ou leur num\xe9ro de compte Orcid comme nom d'utilisateur, et en sp\xe9cifiant leurs r\xf4les."}),"\n",(0,i.jsx)(s.p,{children:"ERDDAP\u2122traite les adresses e-mail comme insensibles aux cas. Il le fait en convertissant les adresses email que vous entrez (dans<user> tags) ou les utilisateurs entrent (sur le formulaire de connexion) \xe0 leur version minuscule."}),"\n",(0,i.jsx)(s.p,{children:"Pour configurer l'authentification google, orcid ou oauth2 :"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Dans votre setup.xml, changez le<baseHttpsUrl> valeur de la balise.\nPour exp\xe9rimenter/travailler sur votre ordinateur personnel, utilisez\n",(0,i.jsx)(s.a,{href:"https://localhost:8443",children:"https://localhost:8443"}),(0,i.jsx)(s.br,{}),"\n","Pour votre publicERDDAP\u2122, utiliser\nhttps://",(0,i.jsx)(s.em,{children:"your.domain.org"}),":8443",(0,i.jsx)(s.br,{}),"\n","ou, mieux, sans le :8443 si vous utilisez un Apache",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#proxypass",children:"proxypass"}),"pour que le num\xe9ro de port ne soit pas n\xe9cessaire.\n\xa0"]}),"\n",(0,i.jsx)(s.li,{children:"Dans votre setup.xml, changez le<authentification> valeur de la balise pour google, orcid, ou oauth2, par exemple:"}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"    <authentication>oauth2</authentication>  \n"})}),"\n",(0,i.jsx)(s.h6,{id:"google-setup",children:"Configuration de Google"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Pour les options google et auth2 :\nSuivez les instructions ci-dessous pour configurer l'authentification Google pour votreERDDAP.\n\xa0","\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["Si vous n'avez pas de compte de messagerie Google,",(0,i.jsx)(s.a,{href:"https://www.google.com/intl/en_us/mail/help/about.html",children:"cr\xe9er un"}),(0,i.jsx)(s.br,{}),"\n","\xa0"]}),"\n",(0,i.jsxs)(s.li,{children:["Suivre",(0,i.jsx)(s.a,{href:"https://developers.google.com/identity/sign-in/web/devconsole-project",children:"les pr\xe9sentes instructions"}),"pour cr\xe9er un projet Console Google Developers et obtenir un identifiant client."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Lorsque le formulaire Google demande une autorisationJavaScript origines, entrez la valeur de<baseHttpsUrl> de votre ordinateur personnelERDDAP\u2122setup.xml, par exemple,\n",(0,i.jsx)(s.a,{href:"https://localhost:8443",children:"https://localhost:8443"}),(0,i.jsx)(s.br,{}),"\n","Sur une deuxi\xe8me ligne, ajouter le<baseHttpsUrl> de votre publicERDDAP\u2122setup.xml, par exemple,\nhttps://",(0,i.jsx)(s.em,{children:"your.domain.org"}),":8443"]}),"\n",(0,i.jsx)(s.p,{children:"Ne sp\xe9cifiez aucun URI de redirection autoris\xe9."}),"\n",(0,i.jsxs)(s.p,{children:["Lorsque vous voyez votre identifiant client pour ce projet, copiez-le et collez-le dans votre setup.xml (g\xe9n\xe9ralement juste en dessous<authentification> \xeatre ordonn\xe9, mais le placement n'a pas vraiment d'importance), dans le<\xe9tiquette googleClientID>, p.ex.,\n<GoogleClientID> ",(0,i.jsx)(s.em,{children:"votreClientID"})," </googleClientID>\nL'ID client sera une cha\xeene d'environ 75 caract\xe8res, commen\xe7ant probablement par plusieurs chiffres et se terminant par .apps.googleusercontent.com .\n\xa0"]}),"\n",(0,i.jsxs)(s.ol,{start:"3",children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Dans votredatasets.xml, cr\xe9er un [<utilisateur>] (/docs/serveur-admin/donn\xe9es#utilisateur) tag pour chaque utilisateur qui aura acc\xe8s \xe0 des ensembles de donn\xe9es priv\xe9s. Pour l'attribut nom d'utilisateur dans la balise :"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Pour les utilisateurs qui se connecteront avec google, utilisez l'adresse e-mail Google de l'utilisateur."}),"\n",(0,i.jsx)(s.li,{children:"Pour les utilisateurs qui se connecteront avec orcid, utilisez le num\xe9ro de compte Orcid de l'utilisateur (avec des tirets) ."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Ne sp\xe9cifiez pas l'attribut mot de passe pour la balise utilisateur.\n\xa0\n4. Red\xe9marrerERDDAP\u2122pour que les modifications \xe0 setup.xml etdatasets.xmlprendre effet.\n\xa0"}),"\n",(0,i.jsx)(s.h6,{id:"orcid-setup",children:"Configuration Orcide"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Pour les options orcide et oauth2 :\nSuivez les instructions ci-dessous pour configurer l'authentification Orcid pour votreERDDAP.\n(Pour plus de d\xe9tails, voir",(0,i.jsx)(s.a,{href:"https://members.orcid.org/api/integrate/orcid-sign-in",children:"Documentation API d'authentification d'Orcid"}),".)",(0,i.jsx)(s.br,{}),"\n","\xa0","\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["Si vous n'avez pas de compte Orcid,",(0,i.jsx)(s.a,{href:"https://orcid.org/signin",children:"cr\xe9er un"}),(0,i.jsx)(s.br,{}),"\n","\xa0"]}),"\n",(0,i.jsxs)(s.li,{children:["Connectez-vous \xe0 Orcid",(0,i.jsx)(s.a,{href:"https://orcid.org/signin",children:" https://orcid.org/signin "}),"en utilisant votre compte personnel Orcid.\n\xa0"]}),"\n",(0,i.jsx)(s.li,{children:'Cliquez sur \xab Outils de d\xe9veloppement \xbb (sous "Pour les chercheurs" en haut) .\n\xa0'}),"\n",(0,i.jsxs)(s.li,{children:['Cliquez sur "Enregistrez-vous pour l\'API publique ORCID gratuite". Saisissez cette information :\nNom',":ERDDAP","\u2122au\\[votre organisation\\]",(0,i.jsx)(s.br,{}),"\n","Site web:\\[VotreERDDAPLe domaine\\]",(0,i.jsx)(s.br,{}),"\n","Expos\xe9 succinct",":ERDDAP","\u2122est un serveur de donn\xe9es scientifiques. Les utilisateurs doivent s'authentifier avec Google ou Orcid pour acc\xe9der \xe0 des ensembles de donn\xe9es non publics.\nRediriger les URI :\\[VotreERDDAPLe domaine\\]/erddap/loginOrcid.html\n\xa0"]}),"\n",(0,i.jsx)(s.li,{children:"Cliquez sur l'ic\xf4ne Enregistrer (\xe7a ressemble \xe0 un disque de 3,5\" !) .\nVous pouvez alors voir votre ID client ORCID APP et votre secret client ORCID.\n\xa0"}),"\n",(0,i.jsx)(s.li,{children:'Copiez et collez l\'identifiant client ORCID APP (qui commencera par "APP-") dans setup.xml dans le<tag orcidClientID>, p.ex.,'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"        <orcidClientID>APP-*ALPHANUMERICCHARACTERS*</orcidClientID>\n"})}),"\n",(0,i.jsxs)(s.ol,{start:"7",children:["\n",(0,i.jsx)(s.li,{children:"Copiez et collez le secret client ORCID (caract\xe8res alphanum\xe9riques minuscules avec tirets) dans setup.xml dans le<tag orcidClientSecret>, p.ex.,"}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"        <orcidClientSecret>*alpha-numeric-characters-with-dashes*</orcidClientSecret>\n"})}),"\n",(0,i.jsxs)(s.ol,{start:"8",children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Dans votredatasets.xml, cr\xe9er un [<utilisateur>] (/docs/serveur-admin/donn\xe9es#utilisateur) tag pour chaque utilisateur qui aura acc\xe8s \xe0 des ensembles de donn\xe9es priv\xe9s. Pour l'attribut nom d'utilisateur dans la balise :"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Pour les utilisateurs qui se connecteront avec google, utilisez l'adresse e-mail Google de l'utilisateur."}),"\n",(0,i.jsx)(s.li,{children:"Pour les utilisateurs qui se connecteront avec orcid, utilisez le num\xe9ro de compte Orcid de l'utilisateur (avec des tirets) ."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Ne sp\xe9cifiez pas l'attribut mot de passe pour la balise utilisateur.\n\xa0\n9. Red\xe9marrerERDDAP\u2122pour que les modifications \xe0 setup.xml etdatasets.xmlprendre effet.\n\xa0"}),"\n",(0,i.jsx)(s.h6,{id:"log-in-either-way",children:"Connectez-vous de toute fa\xe7on"}),"\n",(0,i.jsx)(s.p,{children:"Si vous utilisez les options d'authentification google, orcid ou oauth2, et que l'API d'authentification Google Sign-In ou Orcid cesse de fonctionner (pour quelque raison que ce soit) ou cesse de travaillerERDDAP\u2122les utilisateurs ne pourront pas se connecter \xe0 votreERDDAP. \xc0 titre temporaire (permanente) solution, vous pouvez demander aux utilisateurs de s'inscrire avec l'autre syst\xe8me (obtenir un compte de messagerie Google, ou obtenir un compte Orcid) . Pour ce faire :"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Modifier le<authentification> tag de sorte qu'il permet l'autre syst\xe8me d'authentification. L'option oauth2 permet aux utilisateurs de se connecter \xe0 l'un ou l'autre syst\xe8me."}),"\n",(0,i.jsx)(s.li,{children:"Dupliquer chacune des<user> tags et changer l'attribut nom d'utilisateur de l'adresse email de Google au num\xe9ro de compte Orcid correspondant (ou vice-versa) , mais gardez le m\xeame attribut de r\xf4les."}),"\n"]}),"\n",(0,i.jsx)(s.h6,{id:"openid",children:"OpenId"}),"\n",(0,i.jsx)(s.p,{children:"ERDDAP\u2122ne supporte plus l'option d'authentification openid, qui \xe9tait bas\xe9e sur une version de open La carte d'identit\xe9 est p\xe9rim\xe9e. Utilisez plut\xf4t les options google, orcid ou oauth2."}),"\n",(0,i.jsx)(s.h6,{id:"basic",children:"BASE"}),"\n",(0,i.jsx)(s.p,{children:"ERDDAP\u2122ne supporte pas l'authentification BASIC car:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"BASIC semble orient\xe9 vers des pages Web pr\xe9d\xe9finies n\xe9cessitant un acc\xe8s s\xe9curis\xe9 ou une couverture sur/hors acc\xe8s \xe0 l'ensemble du site, maisERDDAP\u2122permet (Acc\xe8s restreint) les ensembles de donn\xe9es \xe0 ajouter au vol."}),"\n",(0,i.jsx)(s.li,{children:"L'authentification BASIC ne permet pas aux utilisateurs de se d\xe9connecter !"}),"\n",(0,i.jsx)(s.li,{children:"L'authentification BASIC n'est pas s\xe9curis\xe9e."}),"\n"]}),"\n",(0,i.jsx)(s.h5,{id:"secure-data-sources",children:"Sources de donn\xe9es s\xe9curis\xe9es"}),"\n",(0,i.jsx)(s.p,{children:"Si un ensemble de donn\xe9es doit avoir un acc\xe8s restreint \xe0ERDDAP\u2122utilisateurs, la source de donn\xe9es (d'o\xf9ERDDAP\u2122obtient les donn\xe9es) ne devrait pas \xeatre accessible au public. Alors commentERDDAP\u2122obtenir les donn\xe9es pour les ensembles de donn\xe9es \xe0 acc\xe8s restreint? Voici quelques options :"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"ERDDAP\u2122peut servir des donn\xe9es \xe0 partir de fichiers locaux (par exemple, via EDDTable Fichiers ouEDDGridFichiers) .\n\xa0"}),"\n",(0,i.jsxs)(s.li,{children:["ERDDAP\u2122peut \xeatre dans un",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Demilitarized_zone_(computing)",children:"ZDM"})," et la source des donn\xe9es (Par exemple,OPeNDAPserveur ou base de donn\xe9es) peut \xeatre derri\xe8re un",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Firewall",children:"Pare-feu"}),", o\xf9 il est accessible \xe0ERDDAP\u2122mais pas au public.\n\xa0"]}),"\n",(0,i.jsxs)(s.li,{children:["La source de donn\xe9es peut \xeatre sur un site Web public, mais n\xe9cessite une connexion pour obtenir les donn\xe9es. Les deux types de donn\xe9esERDDAP\u2122peuvent se connecter pour acc\xe9der sont",(0,i.jsx)(s.a,{href:"/docs/server-admin/datasets#eddtablefromdatabase",children:"EDDTableFromDatabase"}),"et",(0,i.jsx)(s.a,{href:"/docs/server-admin/datasets#eddtablefromcassandra",children:"EDDTableDeCassandra"}),". Ces ensembles de donn\xe9es supportent (et doit toujours utiliser) nom d'utilisateur (cr\xe9er unERDDAP\u2122utilisateur qui n'a que des privil\xe8ges en lecture seule) , mots de passe, connexions SSL et autres mesures de s\xe9curit\xe9."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Mais en g\xe9n\xe9ral, actuellement,ERDDAP\u2122ne peut pas traiter avec ces sources de donn\xe9es parce qu'il n'a aucune disposition pour se connecter \xe0 la source de donn\xe9es. C'est la raison pour laquelle l'acc\xe8s",(0,i.jsx)(s.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDGridDeErddap et EDDTable DeErddap"}),"Les ensembles de donn\xe9es ne peuvent pas \xeatre restreints. Actuellement, lesERDDAP\u2122n'a aucun moyen de se connecter et d'acc\xe9der aux informations de m\xe9tadonn\xe9es de la t\xe9l\xe9commandeERDDAP. Et mettre \"\xe0 distance\"ERDDAP\u2122derri\xe8re votre pare-feu et en supprimant ce jeu de donn\xe9es accessible Aux restrictions ne r\xe9sout pas le probl\xe8me : puisque les utilisateurs demandent EDDXxx Les donn\xe9es d'Erddap doivent \xeatre redirig\xe9es vers la t\xe9l\xe9commandeERDDAP\u2122, la t\xe9l\xe9commandeERDDAP\u2122doivent \xeatre accessibles."]}),"\n",(0,i.jsx)(s.h4,{id:"defenses-against-hackers",children:"D\xe9fenses contre les pirates"}),"\n",(0,i.jsx)(s.p,{children:"Il y a des pirates de mauvais gars qui essaient d'exploiter les faiblesses de s\xe9curit\xe9 dans les logiciels de serveur commeERDDAP.ERDDAP\u2122suit les conseils de s\xe9curit\xe9 communs pour avoir plusieurs niveaux de d\xe9fense:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Privil\xe8ges limit\xe9s Une des d\xe9fenses les plus importantes est d'ex\xe9cuter Tomcat via un utilisateur appel\xe9 tomcat qui n'a pas de mot de passe (personne ne peut se connecter en tant qu'utilisateur) et a limit\xe9 les privil\xe8ges du syst\xe8me de fichiers (Par exemple, acc\xe8s en lecture seule aux donn\xe9es) . VoirERDDAPLes instructions pour",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#tomcat",children:"la mise en place de Tomcat"}),"."]}),"\n",(0,i.jsx)(s.li,{children:"Utilisation lourde - En g\xe9n\xe9ral,ERDDAP\u2122est construit pour un usage intensif, y compris par des scripts qui font des dizaines de milliers de requ\xeates, l'une apr\xe8s l'autre. C'est dur pourERDDAP\u2122de s'ouvrir simultan\xe9ment \xe0 une utilisation l\xe9gitime et de se prot\xe9ger des abus. Il est parfois difficile de diff\xe9rencier une utilisation l\xe9gitime lourde, une utilisation l\xe9gitime excessive et une utilisation ill\xe9gitime (et parfois c'est vraiment facile) . Entre autres d\xe9fenses,ERDDAP\u2122ne permet consciemment pas qu'une seule demande utilise une fraction d\xe9mesur\xe9e des ressources du syst\xe8me (\xe0 moins que le syst\xe8me ne soit autrement inactif) ."}),"\n",(0,i.jsxs)(s.li,{children:["Identifier les utilisateurs probl\xe9matiques - SiERDDAP\u2122ralentit ou g\xe8le (peut-\xeatre parce qu'un utilisateur na\xeff ou un bot ex\xe9cute plusieurs scripts pour soumettre plusieurs requ\xeates simultan\xe9ment ou peut-\xeatre \xe0 cause d'un mauvais gars",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Denial-of-service_attack",children:"Refus de service"}),"attaque) , vous pouvez regarder",(0,i.jsx)(s.a,{href:"#daily-report",children:"Rapport quotidien courriel"}),"  (et des informations identiques plus fr\xe9quentes",(0,i.jsx)(s.a,{href:"#log",children:"ERDDAP\u2122fichier journal"}),") qui affiche le nombre de requ\xeates faites par les utilisateurs les plus actifs (Voir \xab Adresse IP du demandeur \xbb (Autoris\xe9) \") .ERDDAP\u2122envoie \xe9galement des courriels \xe0 l'administrateur chaque fois qu'il y a",(0,i.jsx)(s.a,{href:"#failed-requests",children:'"Activit\xe9s inhabituelles: > 25 % des demandes ont \xe9chou\xe9"'}),". Vous pouvez alors regarder dans leERDDAP\u2122fichier journal pour voir la nature de leurs demandes. Si vous sentez que quelqu'un fait trop de demandes, des demandes bizarres (Tu ne croirais pas ce que j'ai vu, peut-\xeatre) , ou des requ\xeates de type attaque, vous pouvez ajouter leur adresse IP \xe0 la liste noire."]}),"\n",(0,i.jsxs)(s.li,{children:["Liste noire... Vous pouvez ajouter l'adresse IP des utilisateurs, des robots et",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Denial-of-service_attack",children:"Refus de service"}),"agresseurs \xe0 laERDDAP ",(0,i.jsx)(s.a,{href:"/docs/server-admin/datasets#requestblacklist",children:"liste noire"}),", afin que les demandes futures d'eux soient imm\xe9diatement rejet\xe9es. Ce r\xe9glage est dansdatasets.xmlafin que vous puissiez ajouter rapidement une adresse IP \xe0 la liste, puis",(0,i.jsx)(s.a,{href:"#flag",children:"drapeau"}),"un ensemble de donn\xe9es permettantERDDAP\u2122avise imm\xe9diatement et applique le changement. Le message d'erreur envoy\xe9 aux utilisateurs de la liste noire les encourage \xe0 contacterERDDAP\u2122administrateur s'ils pensent avoir \xe9t\xe9 mis par erreur sur la liste noire. (D'apr\xe8s notre exp\xe9rience, plusieurs utilisateurs ne savaient pas qu'ils avaient lanc\xe9 plusieurs scripts simultan\xe9ment, ou que leurs scripts faisaient des requ\xeates absurdes.)"]}),"\n",(0,i.jsxs)(s.li,{children:["S\xe9curit\xe9 des ensembles de donn\xe9es - Certains types de ensembles de donn\xe9es (notamment, EDDTableFromDatabase) pr\xe9sentent des risques suppl\xe9mentaires pour la s\xe9curit\xe9 (Par exemple, injection SQL) et ont leurs propres mesures de s\xe9curit\xe9. Voir les informations concernant ces types de s\xe9ries de donn\xe9es dans",(0,i.jsx)(s.a,{href:"/docs/server-admin/datasets",children:"Travailler avec lesdatasets.xmlFichier"}),", notamment",(0,i.jsx)(s.a,{href:"/docs/server-admin/datasets#database-security",children:"EDDTableFromDatabase security"}),"."]}),"\n",(0,i.jsx)(s.li,{children:"V\xe9rification de s\xe9curit\xe9 -- Bien queNOAALa s\xe9curit\xe9 informatique a refus\xe9 nos demandes de scans pendant des ann\xe9es. (Chez Bob)  ERDDAP\u2122installation. Bien que les premiers scans aient trouv\xe9 quelques probl\xe8mes que j'ai ensuite corrig\xe9s, les scans suivants n'ont pas trouv\xe9 de probl\xe8mes avecERDDAP. Les scans s'inqui\xe8tent de beaucoup de choses: notamment, depuistabledaples requ\xeates ressemblent \xe0 des requ\xeates SQL, elles s'inqui\xe8tent des vuln\xe9rabilit\xe9s d'injection SQL. Mais ces pr\xe9occupations ne sont pas fond\xe9es parce queERDDAP\u2122Toujours analyser et valider les requ\xeates et ensuite construire s\xe9par\xe9ment la requ\xeate SQL d'une mani\xe8re qui \xe9vite les vuln\xe9rabilit\xe9s d'injection. L'autre chose dont ils se plaignent parfois est que notreJavaversions ou Tomcat ne sont pas aussi \xe0 jour qu'ils veulent, donc nous les mettons \xe0 jour en r\xe9ponse. J'avais d\xe9j\xe0 propos\xe9 de montrer aux gens les rapports de s\xe9curit\xe9, mais on me dit maintenant que je ne peux pas faire \xe7a."}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"questions-suggestions",children:"Des questions ? Des suggestions ?"}),"\n",(0,i.jsxs)(s.p,{children:["Si vous avez des questions surERDDAP's syst\xe8me de s\xe9curit\xe9 ou ont des questions, des doutes, des pr\xe9occupations ou des suggestions sur la fa\xe7on dont il est mis en place, voir notre",(0,i.jsx)(s.a,{href:"/docs/intro#support",children:"section sur l'obtention d'un soutien suppl\xe9mentaire"}),"."]}),"\n",(0,i.jsx)(s.h2,{id:"things-you-dont-need-to-know",children:"Ce que vous n'avez pas besoin de savoir"}),"\n",(0,i.jsx)(s.p,{children:"Ce sont des d\xe9tails que vous n'avez pas besoin de conna\xeetre jusqu'\xe0 ce qu'un besoin se produise."}),"\n",(0,i.jsx)(s.h3,{id:"second-erddap",children:"Deuxi\xe8meERDDAP\u2122"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Mise en place d'une secondeERDDAP\u2122pour les essais/d\xe9veloppement"}),(0,i.jsx)(s.br,{}),"\n","Si vous voulez le faire, il y a deux approches :"]}),"\n",(0,i.jsx)(s.li,{children:"(Meilleur) Installer Tomcat etERDDAP\u2122sur un ordinateur autre que l'ordinateur qui a votre publicERDDAP. Si vous utilisez votre ordinateur personnel:"}),"\n"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Faites l'installation une \xe9tape \xe0 la fois. Mettez Tomcat en route.\nLorsque Tomcat court, le gestionnaire de Tomcat devrait \xeatre \xe0\n",(0,i.jsx)(s.a,{href:"http://127.0.0.1:8080/manager/html/",children:" http://127.0.0.1:8080/manager/html/ "}),"  (ou peut-\xeatre",(0,i.jsx)(s.a,{href:"http://localhost:8080/manager/html/",children:" http://localhost:8080/manager/html/ "}),")"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"InstallerERDDAP."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"N'utilisez pas ProxyPass pour \xe9liminer le num\xe9ro de port de laERDDAP\u2122URL."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["En",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"configuration.xml"}),", mettre baseUrl \xe0 ",(0,i.jsx)(s.a,{href:"http://127.0.0.1:8080",children:"http://127.0.0.1:8080"})]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Apr\xe8s avoir commenc\xe9 \xe7aERDDAP\u2122, vous devriez \xeatre en mesure de le voir \xe0\n",(0,i.jsx)(s.a,{href:"http://127.0.0.1:8080/erddap/status.html",children:" http://127.0.0.1:8080/erddap/status.html "}),"  (ou peut-\xeatre",(0,i.jsx)(s.a,{href:"http://localhost:8080/erddap/status.html",children:" http://localhost:8080/erddap/status.html "}),")"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"second-tomcat",children:"Deuxi\xe8me Tomcat"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"(Deuxi\xe8me meilleur) Installez un autre Tomcat sur le m\xeame ordinateur que votre publicERDDAP."}),"\n"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Faites l'installation une \xe9tape \xe0 la fois. Mettez Tomcat en route.\nChanger tous les num\xe9ros de port associ\xe9s au deuxi\xe8me Tomcat (Par exemple, changement 8080 \xe0 8081)   (voir",(0,i.jsx)(s.a,{href:"https://tomcat.apache.org/tomcat-8.0-doc/RUNNING.txt",children:"Tomcat multiple Section des affaires"}),"\xe0 mi-parcours de ce document) ."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"InstallerERDDAP\u2122dans le nouveau Tomcat."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"N'utilisez pas ProxyPass pour \xe9liminer le num\xe9ro de port de laERDDAP\u2122URL."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["En",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"configuration.xml"}),", mettre baseUrl \xe0 ",(0,i.jsx)(s.a,{href:"http://www.*yourDomainName*:8081",children:"http://www.*yourDomainName*:8081"})]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Apr\xe8s avoir commenc\xe9 \xe7aERDDAP\u2122, vous devriez \xeatre en mesure de le voir \xe0\n",(0,i.jsx)(s.a,{href:"http://www.*yourDomainName*:8081/erddap/status.html",children:"http://www.*yourDomainName*:8081/erddap/status.html"}),(0,i.jsx)(s.br,{}),"\n","\xa0"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"solid-state-drives",children:"Disques solides"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Disques solides (DTS) C'est g\xe9nial !"}),(0,i.jsx)(s.br,{}),"\n","Le moyen le plus rapide, le plus facile et le moins cher d'acc\xe9l\xe9rerERDDAP'l'acc\xe8s aux donn\xe9es tabulaires est de mettre les fichiers de donn\xe9es sur un Solid State Drive (SSD) . La plupart des ensembles de donn\xe9es tabulaires sont relativement petits, de sorte qu'un SSD 1 ou 2 To est probablement suffisant pour contenir tous les fichiers de donn\xe9es pour tous vos ensembles de donn\xe9es tabulaires. SSD finit par s'user si vous \xe9crivez des donn\xe9es \xe0 une cellule, le supprimer, et \xe9crire de nouvelles donn\xe9es \xe0 cette cellule trop souvent. Donc, si vous utilisez simplement votre SSD pour \xe9crire les donn\xe9es une fois et le lire plusieurs fois, m\xeame un SSD de qualit\xe9 consommateur devrait durer tr\xe8s longtemps, probablement beaucoup plus longtemps que n'importe quel disque dur (HDD) . Les SSD de qualit\xe9 consommateur sont maintenant bon march\xe9 (en 2018, ~200 $ pour 1 TB ou ~400 $ pour 2 TB) et les prix continuent de baisser rapidement. QuandERDDAP\u2122acc\xe8s \xe0 un fichier de donn\xe9es, un SSD offre deux latences plus courtes (~0,1ms, versus ~3ms pour un disque dur, versus ~10 (?) ms pour un RAID, contre ~55ms pour Amazon S3) et plus haut d\xe9bit (~500 Mo/S, contre ~75 Mo/s pour un disque dur, contre ~500 Mo/s pour un RAID) . Donc vous pouvez obtenir un grand coup de pouce de performance (jusqu'\xe0 10X versus un disque dur) pour 200 dollars ! Par rapport \xe0 la plupart des autres changements possibles \xe0 votre syst\xe8me (un nouveau serveur pour 10 000 $ ? un nouveau RAID pour 35 000 $ ? un nouveau commutateur r\xe9seau pour $5000? etc.) , c'est de loin le meilleur retour sur investissement (ROI) . Si/lorsque le SSD meurt (dans 1, 2, ... 8 ans) , remplacez-le. Ne comptez pas sur elle comme pour le stockage archivistique \xe0 long terme des donn\xe9es, juste pour la copie frontale des donn\xe9es.\\[SSD's serait id\xe9al pour les donn\xe9es maill\xe9es, aussi, mais la plupart des ensembles de donn\xe9es maill\xe9s sont beaucoup plus grands, ce qui rend le SSD tr\xe8s cher.\\]"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Si votre serveur n'est pas charg\xe9 de m\xe9moire, la m\xe9moire suppl\xe9mentaire pour votre serveur est \xe9galement un excellent moyen relativement peu co\xfbteux d'acc\xe9l\xe9rer tous les aspects deERDDAP.\n\xa0"}),"\n",(0,i.jsxs)(s.h3,{id:"heavy-loads--constraints",children:[(0,i.jsx)(s.a,{href:"#heavy-loads--constraints",children:"Charges lourdes / contraintes"})," **"]}),"\n",(0,i.jsxs)(s.p,{children:["Avec un usage intensif, un standaloneERDDAP\u2122peut \xeatre limit\xe9e par divers probl\xe8mes. Pour plus d'informations, voir le",(0,i.jsx)(s.a,{href:"/docs/server-admin/scaling#heavy-loads--constraints",children:"liste des contraintes et des solutions"}),".\n\xa0"]}),"\n",(0,i.jsx)(s.h3,{id:"grids-clusters-and-federations",children:"Grilles, groupements et f\xe9d\xe9rations"}),"\n",(0,i.jsxs)(s.p,{children:["Sous tr\xe8s forte utilisation, une seuleERDDAP\u2122se heurtera \xe0 une ou plusieurs contraintes et m\xeame les solutions propos\xe9es seront insuffisantes. Pour de telles situations,ERDDAP\u2122a des fonctionnalit\xe9s qui le rendent facile \xe0 construire des grilles \xe9volutives (\xe9galement appel\xe9s groupements ou f\xe9d\xe9rations) desERDDAPs qui permettent au syst\xe8me de g\xe9rer une utilisation tr\xe8s lourde (Par exemple, pour un grand centre de donn\xe9es) . Pour plus d'informations, voir",(0,i.jsx)(s.a,{href:"/docs/server-admin/scaling",children:"les r\xe9seaux, les groupements et les f\xe9d\xe9rationsERDDAPs"}),".\n\xa0"]}),"\n",(0,i.jsx)(s.h3,{id:"cloud-computing",children:"Informatique en nuage"}),"\n",(0,i.jsxs)(s.p,{children:["Plusieurs entreprises commencent \xe0 offrir",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Cloud_computing",children:"Services d'informatique en nuage"}),"  (Par exemple,",(0,i.jsx)(s.a,{href:"https://aws.amazon.com/",children:"Services Web Amazon"}),") .",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Web_hosting_service",children:"Entreprises d'h\xe9bergement Web"}),"ont offert des services plus simples depuis le milieu des ann\xe9es 1990, mais les services \xabcloud\xbb ont consid\xe9rablement \xe9largi la flexibilit\xe9 des syst\xe8mes et la gamme de services offerts. Vous pouvez utiliser ces services pour configurer un seulERDDAP\u2122ou une grille ou un groupeERDDAPs pour une utilisation tr\xe8s importante. Pour plus d'informations, voir",(0,i.jsx)(s.a,{href:"/docs/server-admin/scaling#cloud-computing",children:"cloud computing avecERDDAP\u2122"}),"."]}),"\n",(0,i.jsx)(s.h3,{id:"amazon",children:"Amazonie"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.a,{href:"#amazon",children:"Services Web Amazon (AWS) EC2 Aper\xe7u de l'installation"})}),(0,i.jsx)(s.br,{}),"\n",(0,i.jsx)(s.a,{href:"https://aws.amazon.com/",children:"Services Web Amazon (AWS) "}),"est",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Cloud_computing",children:"service de calcul en nuage"}),"qui offre une large gamme d'infrastructure informatique que vous pouvez louer \xe0 l'heure. Vous pouvez installerERDDAP\u2122sur un",(0,i.jsx)(s.a,{href:"https://aws.amazon.com/ec2/",children:"Nuage de calcul \xe9lastique (CE2) "}),"instance (leur nom pour un ordinateur que vous pouvez louer \xe0 l'heure) . AWS a un excellent",(0,i.jsx)(s.a,{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/concepts.html",children:"Guide de l'utilisateur AWS"}),"et vous pouvez utiliser Google pour trouver des r\xe9ponses \xe0 des questions sp\xe9cifiques que vous pourriez avoir. Brace-toi -- c'est une bonne quantit\xe9 de travail pour commencer. Mais une fois que vous obtenez un serveur en cours d'ex\xe9cution, vous pouvez facilement louer autant de ressources suppl\xe9mentaires (serveurs, bases de donn\xe9es, espace SSD, etc.) \xe0 un prix raisonnable.\\[Ce n'est pas une recommandation ou une approbation de Amazon Web Services. Il y a d'autres fournisseurs de cloud.\\]"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Un aper\xe7u des choses que vous devez faire pour obtenirERDDAP\u2122ex\xe9cuter sur AWS est:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["En g\xe9n\xe9ral, vous ferez toutes les choses d\xe9crites dans le",(0,i.jsx)(s.a,{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/concepts.html",children:"Guide de l'utilisateur AWS"}),"."]}),"\n",(0,i.jsx)(s.li,{children:"Cr\xe9er un compte AWS."}),"\n",(0,i.jsx)(s.li,{children:"Configurez un utilisateur AWS dans ce compte avec les privil\xe8ges de l'administrateur. Connectez-vous en tant qu'utilisateur pour faire toutes les \xe9tapes suivantes."}),"\n",(0,i.jsx)(s.li,{children:"Stockage par blocs \xe9lastiques (EBS) est l'\xe9quivalent AWS d'un disque dur attach\xe9 \xe0 votre serveur. Certains espaces EBS seront attribu\xe9s lorsque vous cr\xe9erez une instance EC2. C'est un stockage persistant -- l'information n'est pas perdue lorsque vous arr\xeatez votre instance EC2. Et si vous changez de type d'instance, votre espace EBS est automatiquement attach\xe9 \xe0 la nouvelle instance."}),"\n",(0,i.jsx)(s.li,{children:"Cr\xe9ez une adresse IP \xe9lastique pour que votre instance EC2 ait une URL publique stable (par opposition \xe0 une URL priv\xe9e qui change chaque fois que vous red\xe9marrez votre instance) ."}),"\n",(0,i.jsxs)(s.li,{children:["Cr\xe9er et d\xe9marrer une instance EC2 (ordinateur) . Il y a un large \xe9ventail de",(0,i.jsx)(s.a,{href:"https://aws.amazon.com/ec2/instance-types/",children:"types d'instance"}),", chacun \xe0 un prix diff\xe9rent. Une instance m4.large ou m4.xlarge est puissante et est probablement adapt\xe9e \xe0 la plupart des utilisations, mais choisissez tout ce qui r\xe9pond \xe0 vos besoins. Vous voudrez probablement utiliser Linux d'Amazon comme syst\xe8me d'exploitation."]}),"\n",(0,i.jsxs)(s.li,{children:["Si votre ordinateur de bureau / portable est un ordinateur Windows, vous pouvez utiliser",(0,i.jsx)(s.a,{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/putty.html",children:"PUTTY"}),", un client SSH gratuit pour Windows, pour acc\xe9der \xe0 la ligne de commande de votre instance EC2. Ou, vous pouvez avoir un autre programme SSH que vous pr\xe9f\xe9rez."]}),"\n",(0,i.jsxs)(s.li,{children:["Lorsque vous vous connectez \xe0 votre instance EC2, vous serez connect\xe9 en tant qu'utilisateur administratif avec le nom d'utilisateur \"ec2-user\". ec2-user a des privil\xe8ges de sudo. Donc, lorsque vous devez faire quelque chose comme l'utilisateur root, utilisez: sudo ",(0,i.jsx)(s.em,{children:"certains commandants"})]}),"\n",(0,i.jsxs)(s.li,{children:["Si votre ordinateur de bureau / portable est un ordinateur Windows, vous pouvez utiliser",(0,i.jsx)(s.a,{href:"https://stackoverflow.com/questions/16744863/connect-to-amazon-ec2-file-directory-using-filezilla-and-sftp",children:"FichierZilla"}),", un programme SFTP gratuit, pour transf\xe9rer des fichiers vers/depuis votre instance EC2. Ou, vous pouvez avoir un autre programme SFTP que vous pr\xe9f\xe9rez."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/install-LAMP.html",children:"Installer Apache"}),"sur votre instance EC2."]}),"\n",(0,i.jsxs)(s.li,{children:["Suivre la norme",(0,i.jsx)(s.a,{href:"/docs/server-admin/deploy-install",children:"ERDDAP\u2122instructions d'installation"}),".\n\xa0"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"waitthentryagain-exception",children:"WaitHelTryAgain Exception"}),"\n",(0,i.jsxs)(s.p,{children:["Un utilisateur peut obtenir un message d'erreur comme\nWaitHelTryAgainException:\nIl y avait une (temporaire ?) probl\xe8me. Attendez une minute, puis essayez encore. (Dans un navigateur, cliquez sur le bouton Recharger.)",(0,i.jsx)(s.br,{}),"\n",'D\xe9tails: GridDataAccessor.increment: partiellementR\xe9sultats\\[0\\]="123542730" devrait \xeatre "123532800".']}),"\n",(0,i.jsxs)(s.p,{children:["L'explication g\xe9n\xe9rale de la WaitHeinTryAgainException est:\nQuandERDDAP\u2122r\xe9pond \xe0 une demande de l'utilisateur, il peut y avoir une erreur inattendue avec l'ensemble de donn\xe9es (Par exemple, une erreur lors de la lecture des donn\xe9es du fichier, ou une erreur d'acc\xe8s \xe0 un ensemble de donn\xe9es distant) . Attendez alorsEssayez encore les signauxERDDAP\u2122que la demande a \xe9chou\xe9 (Jusqu'\xe0 pr\xe9sent) mais \xe7aERDDAP\u2122devrait essayer de recharger rapidement l'ensemble de donn\xe9es (il appelle",(0,i.jsx)(s.a,{href:"#requestreloadasap",children:"DemandeRechargerASAP"}),") et r\xe9essayer la demande. Souvent, cela r\xe9ussit, et l'utilisateur voit juste que la r\xe9ponse \xe0 la demande \xe9tait lente. D'autres fois, le rechargement \xe9choue ou est trop lent, ou la tentative ult\xe9rieure de traiter la demande \xe9choue \xe9galement et lance un autre WaitHelTryAgain. Si \xe7a arrive,ERDDAP\u2122marque l'ensemble de donn\xe9es pour recharger mais indique \xe0 l'utilisateur (via une exception WaitHelTryAgain) qu'il y a eu un \xe9chec en r\xe9pondant \xe0 la demande."]}),"\n",(0,i.jsx)(s.p,{children:"C'est le comportement normal. Ce syst\xe8me peut traiter de nombreux probl\xe8mes communs.\nMais il est possible que ce syst\xe8me se d\xe9clenche excessivement. La cause la plus courante est queERDDAPLe chargement de l'ensemble de donn\xe9es ne voit pas de probl\xe8me, maisERDDAP'la r\xe9ponse \xe0 une demande de donn\xe9es voit le probl\xe8me. Peu importe la cause, la solution est que vous traitiez avec ce qui ne va pas avec l'ensemble de donn\xe9es. Regardez dans log.txt pour voir les messages d'erreur r\xe9els et traiter les probl\xe8mes. Si beaucoup de fichiers ont des en-t\xeates valides mais des donn\xe9es non valides (un fichier corrompu) , remplacer les fichiers par des fichiers non corrompus. Si la connexion \xe0 un RAID est flakey, corrigez-la. Si la connexion \xe0 un service distant est flakey, trouvez un moyen de ne pas flakey ou t\xe9l\xe9chargez tous les fichiers de la source distante et servez les donn\xe9es des fichiers locaux."}),"\n",(0,i.jsx)(s.p,{children:"L'explication d\xe9taill\xe9e de cette erreur sp\xe9cifique (ci-dessus) est:\nPour chaqueEDDGridensemble de donn\xe9es,ERDDAP\u2122garde les valeurs variables de l'axe en m\xe9moire. Ils sont utilis\xe9s, par exemple, pour convertir les valeurs d'axe demand\xe9es qui utilisent le \" () \" format\xe9 en num\xe9ros d'index. Par exemple, si les valeurs de l'axe sont \"10, 15, 20, 25\", (20) sera interpr\xe9t\xe9 comme une demande d'index #2 (Indices bas\xe9s sur 0) . QuandERDDAP\u2122obtient une demande de donn\xe9es et obtient les donn\xe9es de la source, il v\xe9rifie que les valeurs de l'axe qu'il a obtenu de la source correspondent aux valeurs de l'axe en m\xe9moire. Normalement, oui. Mais parfois la source des donn\xe9es a chang\xe9 de mani\xe8re significative: par exemple, les valeurs d'indice depuis le d\xe9but de la variable axe peuvent avoir \xe9t\xe9 supprim\xe9es. (Par exemple, \"10, 15, 20, 25\" peut \xeatre devenu \"20, 25, 30\") . Si cela se produit, il est clair queERDDAPL'interpr\xe9tation de la demande (Par exemple, \" (20) \" est l ' indice no 2) est maintenant faux. AlorsERDDAP\u2122lance une exception et appelle RequestReloadASAP.ERDDAP\u2122mettra prochainement \xe0 jour l'ensemble de donn\xe9es (souvent en quelques secondes, g\xe9n\xe9ralement en une minute) . D'autres probl\xe8mes similaires lancent \xe9galement l'exception WaitHelTryAgain."}),"\n",(0,i.jsx)(s.h4,{id:"requestreloadasap",children:"DemandeRechargerASAP"}),"\n",(0,i.jsxs)(s.p,{children:["Vous pouvez voir RequestReloadASAP dans le fichier log.txt juste apr\xe8s un message d'erreur et souvent pr\xe8s d'un",(0,i.jsx)(s.a,{href:"#waitthentryagain-exception",children:"WaitHelTryAgain Exception"}),". Il s'agit essentiellement d'une fa\xe7on interne et programmatique pourERDDAP\u2122pour d\xe9finir une",(0,i.jsx)(s.a,{href:"#flag",children:"drapeau"}),"pour signaler que l'ensemble de donn\xe9es doit \xeatre recharg\xe9 d\xe8s que possible.\n\xa0"]}),"\n",(0,i.jsx)(s.h3,{id:"files-not-being-deleted",children:"Fichiers non supprim\xe9s"}),"\n",(0,i.jsx)(s.p,{children:"Pour quelquesERDDAP\u2122installations, il y a eu un probl\xe8me avec certains fichiers temporaires cr\xe9\xe9s parERDDAP\u2122Rester ouvert (Par erreur) et donc ne pas \xeatre supprim\xe9. Dans quelques cas, beaucoup de ces fichiers ont accumul\xe9 et pris une quantit\xe9 importante d'espace disque."}),"\n",(0,i.jsx)(s.p,{children:"J'esp\xe8re que ces probl\xe8mes seront r\xe9solus. (\xe0 partir deERDDAP\u2122v2.00) . Si vous voyez ce probl\xe8me, veuillez envoyer le r\xe9pertoire + noms des fichiers offensants \xe0 Chris. John \xe0 noaa.gov. Vous avez quelques options pour traiter le probl\xe8me:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Si les fichiers ne sont pas gros et ne vous font pas manquer d'espace disque, vous pouvez ignorer le probl\xe8me."}),"\n",(0,i.jsx)(s.li,{children:"La solution la plus simple est d'arr\xeater tomcat/ERDDAP\u2122  (apr\xe8s des heures si peu d'utilisateurs sont touch\xe9s) . Pendant l'arr\xeat, si le syst\xe8me d'exploitation ne supprime pas les fichiers, supprimez-les \xe0 la main. Puis red\xe9marrezERDDAP.\n\xa0"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"json-ld",children:"JSON-ld"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.a,{href:"#json-ld",children:"Marquage s\xe9mantique des donn\xe9es avec json-ld (JSON Donn\xe9es li\xe9es) "})}),(0,i.jsx)(s.br,{}),"\n","ERDDAP\u2122utilise maintenant",(0,i.jsx)(s.a,{href:"https://json-ld.org",children:"Json-ld (JSON Donn\xe9es li\xe9es) "}),"pour faire de votre catalogue de donn\xe9es et de vos ensembles de donn\xe9es une partie du",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Semantic_Web",children:"web s\xe9mantique"}),", qui est l'id\xe9e de Tim Berners-Lee de rendre le contenu web plus lisible par machine et plus compr\xe9hensible par machine. Le contenu de json-ld utilise",(0,i.jsx)(s.a,{href:"https://schema.org/",children:"sch\xe9ma.org"}),"termes et d\xe9finitions. Moteurs de recherche (",(0,i.jsx)(s.a,{href:"https://developers.google.com/search/docs/data-types/datasets",children:"Google en particulier"}),") et d'autres outils s\xe9mantiques peuvent utiliser ce marquage structur\xe9 pour faciliter la d\xe9couverte et l'indexation. Le balisage structur\xe9 json-ld appara\xeet comme invisible \xe0 l'humain<script> code sur le ",(0,i.jsx)(s.a,{href:"https://.../erddap/info/index.html",children:"https://.../erddap/info/index.html"})," page Web (qui est une toile s\xe9mantique",(0,i.jsx)(s.a,{href:"https://schema.org/DataCatalog",children:"DataCatalog"}),") et sur chaque ",(0,i.jsx)(s.a,{href:"https://.../erddap/info/",children:"https://.../erddap/info/"}),(0,i.jsx)(s.em,{children:"datasetID"}),"/index.html page Web (qui est une toile s\xe9mantique",(0,i.jsx)(s.a,{href:"https://schema.org/Dataset",children:"Ensemble de donn\xe9es"}),") . (Merci tout particuli\xe8rement \xe0 Adam Leadbetter et Rob Fuller de l'Institut marin d'Irlande pour les efforts qu'ils ont d\xe9ploy\xe9s pourERDDAP.)",(0,i.jsx)(s.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"out-of-date-urls",children:"URLs hors date"}),"\n",(0,i.jsx)(s.p,{children:"Lentement mais s\xfbrement, les URL que les fournisseurs de donn\xe9es ont \xe9crites dans les fichiers de donn\xe9es deviennent obsol\xe8tes (par exemple,httpdevienthttps, les sites Web sont r\xe9organis\xe9s, et les organisations comme NODC/NGDC/NCDC sont r\xe9organis\xe9es en NECI) . Les liens rompus qui en r\xe9sultent sont un probl\xe8me toujours pr\xe9sent pour tous les sites Web. Pour g\xe9rer \xe7a,ERDDAP\u2122a maintenant un syst\xe8me pour mettre \xe0 jour automatiquement les URLs obsol\xe8tes. Si g\xe9n\xe9rer des ensembles de donn\xe9es Xml voit une URL obsol\xe8te, il ajoute l'URL actualis\xe9e \xe0<addAttributes>. Aussi, quand un ensemble de donn\xe9es se charge, siERDDAP\u2122voit une URL obsol\xe8te, elle la change silencieusement \xe0 l'URL actualis\xe9e. Les changements sont contr\xf4l\xe9s par une s\xe9rie de recherches/remplacements avec des paires d\xe9finies dans<mise \xe0 jourUrls> enERDDAP's\n\\[Tomcat\\]/webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml fichier. Vous pouvez y apporter des changements. Si vous avez des suggestions de changements, ou si vous pensez que cela devrait \xeatre transform\xe9 en un service (comme les convertisseurs) S'il vous pla\xeet, envoyez un mail \xe0 Chris. John \xe0 noaa.gov.\n\xa0"}),"\n",(0,i.jsx)(s.h3,{id:"cors",children:"CORS"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["CORS (",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Cross-origin_resource_sharing",children:"Partage crois\xe9 des ressources d'origine"}),")",(0,i.jsx)(s.br,{}),"\n","\"est un m\xe9canisme qui permet des ressources limit\xe9es (Par exemple, polices ouERDDAP\u2122donn\xe9es) sur une page Web \xe0 demander \xe0 partir d'un autre domaine en dehors du domaine \xe0 partir duquel la premi\xe8re ressource a \xe9t\xe9 desservie\" (Arun Ranganathan) . Fondamentalement, CORS est un message qui peut \xeatre mis dans l'en-t\xeate HTTP d'une r\xe9ponse, disant essentiellement, \"il est correct avec ce site si certains autres sites (sp\xe9cifiques, ou tous) saisir les ressources (Par exemple, donn\xe9es) de ce site et le rendre disponible sur leur site\". C'est donc une alternative \xe0",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/JSONP",children:"JSONP"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Les d\xe9veloppeurs deERDDAP\u2122ne pr\xe9tendent pas \xeatre des experts en s\xe9curit\xe9. Nous ne sommes pas tout \xe0 fait clairs sur les questions de s\xe9curit\xe9 li\xe9es au CORS. Nous ne voulons pas faire de d\xe9claration approuvant une action qui diminue la s\xe9curit\xe9. Donc, nous allons rester neutres et laisser \xe0 chaqueERDDAP\u2122administrateur de d\xe9cider si les avantages ou d'activer un en-t\xeate CORS valent les risques. Comme toujours, si votreERDDAP\u2122a des ensembles de donn\xe9es priv\xe9s, c'est une bonne id\xe9e d'\xeatre tr\xe8s prudent sur la s\xe9curit\xe9."}),"\n",(0,i.jsxs)(s.p,{children:["Si vous voulez activer CORS pour votreERDDAP\u2122, il y a",(0,i.jsx)(s.a,{href:"https://enable-cors.org/index.html",children:"instructions facilement disponibles"}),"d\xe9crivant comment les administrateurs de site Web peuvent activer un en-t\xeate CORS via leur logiciel serveur de niveau inf\xe9rieur (Par exemple, Apache ou nginx) ."]}),"\n",(0,i.jsx)(s.h3,{id:"palettes",children:"Palettes"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Les palettes sont utilis\xe9es parERDDAP\u2122pour convertir une gamme de valeurs de donn\xe9es en une gamme de couleurs lors de la fabrication de graphiques et de cartes."}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Chaque palette est d\xe9finie dans un fichier de palette de style .cpt tel qu'utilis\xe9 par",(0,i.jsx)(s.a,{href:"https://www.soest.hawaii.edu/gmt/",children:"GMT"}),". TousERDDAP\u2122Les fichiers .cpt sont des fichiers GMT .cpt valides, mais l'inverse n'est pas vrai. Pour utilisation dansERDDAP\u2122, les fichiers .cpt ont:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:'Les lignes de commentaires optionnels au d\xe9but du fichier, commen\xe7ant par "#".'}),"\n",(0,i.jsx)(s.li,{children:"Une section principale avec une description des segments de la palette, un segment par ligne. Chaque ligne de description de segment a 8 valeurs:\nd\xe9but Valeur, startRed, start Vert, commence. Bleu, finValue, finRouge, finVert, fin Bleu.\nIl peut y avoir un certain nombre de segments.ERDDAP\u2122utilise une interpolation lin\xe9aire entre le startRed/Green/Blue et le endRed/Green/Blue de chaque segment."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Nous recommandons que chaque segment sp\xe9cifie une couleur de d\xe9but et de fin qui sont diff\xe9rentes, et que la couleur de d\xe9but de chaque segment soit la m\xeame que la couleur de fin du segment pr\xe9c\xe9dent, de sorte que la palette d\xe9crit un m\xe9lange continu de couleurs.ERDDAP\u2122a un syst\xe8me pour cr\xe9er \xe0 la vol\xe9e une palette de couleurs discr\xe8tes d'une palette avec un m\xe9lange continu de couleurs. UneERDDAP\u2122l'utilisateur peut sp\xe9cifier s'il veut que la palette soit continue (l'original) ou discrets (d\xe9riv\xe9s de l'original) . Mais il y a des raisons l\xe9gitimes de ne pas suivre ces recommandations pour certaines palettes."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Le startValue et endValues doivent \xeatre entiers.\nLe premier segment doit avoir startValue=0 et endValue=1.\nLe deuxi\xe8me segment doit avoir startValue=1 et endValue=2.\nEtc."}),"\n",(0,i.jsx)(s.li,{children:"Les valeurs rouges, vertes et bleues doivent \xeatre des entiers de 0 (aucune) ... 255 (complet le) ."}),"\n",(0,i.jsxs)(s.li,{children:["La fin du fichier doit comporter 3 lignes avec :","\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Couleur de fond rgb pour des valeurs de donn\xe9es inf\xe9rieures au minimum de la barre de couleurs, par exemple: B 128 128 128\nC'est souvent le startRed, startGreen et startBlue du premier segment."}),"\n",(0,i.jsx)(s.li,{children:"Une couleur rgb de premier plan pour des valeurs de donn\xe9es sup\xe9rieures au maximum de la barre de couleurs, par exemple: F 128 0 0\nC'est souvent la fin rouge, fin verte et fin bleue du dernier segment."}),"\n",(0,i.jsx)(s.li,{children:"Une couleur rgb pour les valeurs de donn\xe9es NaN, p.ex. N 128 128 128\nIl est souvent gris moyen (128 128 128) ."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.li,{children:"Les valeurs de chaque ligne doivent \xeatre s\xe9par\xe9es par des onglets, sans espaces \xe9trangers."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Un exemple de fichier .cpt est BlueWhiteRed.cpt:"}),"\n",(0,i.jsx)(s.p,{children:"Num\xe9ro Ici BlueWhiteRed.cpt.\n0 0 0 128 1 0 0 255\n1 0 0 255 2 0 255 255\n2 0 255 255 3 255 255 255\n3 255 255 255 4 255 255 0\n4 255 255 0 5 255 0 0\n5 255 0 0 6 128 0 0\nB 0 0 128\nF 128 0 0\nN 128 128 128"}),"\n",(0,i.jsx)(s.p,{children:"Consultez les fichiers .cpt existants pour d'autres exemples. S'il y a des probl\xe8mes avec un fichier .cpt,ERDDAP\u2122va probablement lancer une erreur lorsque le fichier .cpt est analys\xe9 (mieux que de mal utiliser l'information) ."}),"\n",(0,i.jsxs)(s.p,{children:["Vous pouvez ajouter des palettes suppl\xe9mentaires \xe0ERDDAP. Vous pouvez les faire vous-m\xeame ou les trouver sur le web (par exemple, \xe0",(0,i.jsx)(s.a,{href:"http://soliton.vm.bytemark.co.uk/pub/cpt-city/",children:"cpt ville"}),") bien que vous devrez probablement modifier leur format l\xe9g\xe8rement pour se conformer \xe0ERDDAPLes prescriptions du .cpt. Pour obtenirERDDAP\u2122pour utiliser un nouveau fichier .cpt, stocker le fichier dans ",(0,i.jsx)(s.em,{children:"Tomcat"})," /webapps/erddap/WEB-INF/cptfiles (pour chaque nouvelle version deERDDAP) et soit:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Si vous utilisez le fichier message.xml par d\xe9faut : ajoutez le nom du fichier<palettes> balise dans\n",(0,i.jsx)(s.em,{children:"Tomcat"})," /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml.\nSi vous faites cela, vous devez le faire chaque fois que vous mettez \xe0 niveauERDDAP."]}),"\n",(0,i.jsxs)(s.li,{children:["Si vous utilisez un fichier message.xml personnalis\xe9 : ajoutez le nom du fichier<palettes> tag dans votre fichier message.xml personnalis\xe9: ",(0,i.jsx)(s.em,{children:"Tomcat"})," /content/erddap/messages.xml . Si vous faites cela, vous n'avez qu'\xe0 le faire une fois (mais il y a d'autres travaux pour maintenir un fichier message.xml personnalis\xe9) ."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:'Puis red\xe9marrezERDDAP\u2122doncERDDAP\u2122remarque les changements. Un avantage de cette approche est que vous pouvez sp\xe9cifier l\'ordre des palettes dans la liste pr\xe9sent\xe9e aux utilisateurs. Si vous ajoutez une collection, nous vous encourageons \xe0 ajouter un pr\xe9fixe avec les initiales des auteurs (Par exemple, "KT\\_") au nom de chaque palette pour identifier la collection et ainsi il peut y avoir plusieurs palettes qui auraient autrement le m\xeame nom.'}),"\n",(0,i.jsx)(s.p,{children:"Veuillez ne pas supprimer ou modifier les palettes standard. Ils sont une caract\xe9ristique standard de tousERDDAP\u2122les installations. Si vous pensez qu'une palette ou une collection de palettes doit \xeatre incluse dans la normeERDDAP\u2122la distribution parce qu'elle/ils seraient d'usage g\xe9n\xe9ral, s'il vous pla\xeet les envoyer \xe0 Chris. John \xe0 noaa.gov."}),"\n",(0,i.jsx)(s.h3,{id:"colorbars",children:"Barres de couleurs"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.strong,{children:"Comment faireERDDAP\u2122g\xe9n\xe9rer les couleurs dans une barre de couleurs?"})}),"\n"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["L'utilisateur s\xe9lectionne l'un des param\xe8tres pr\xe9d\xe9finis",(0,i.jsx)(s.a,{href:"#palettes",children:"palettes"}),"ou utilise la valeur par d\xe9faut, par exemple Rainbow. Les palettes sont stock\xe9es/d\xe9finies dans des fichiers de type GMT.cpt Color Palette Table. ChaqueERDDAPLes palettes pr\xe9d\xe9finies ont une gamme enti\xe8re simple, par exemple 0 \xe0 1 (s'il n'y a qu'une section dans la palette) , ou 0 \xe0 4 (s'il y a quatre sections dans la palette) . Chaque segment du fichier couvre n \xe0 n+1, \xe0 partir de n=0."]}),"\n",(0,i.jsx)(s.li,{children:"ERDDAP\u2122g\xe9n\xe8re un nouveau fichier .cpt \xe0 la vol\xe9e, en \xe9talant la gamme de palette pr\xe9d\xe9finie (Par exemple, 0 \xe0 4) \xe0 la gamme de la palette requise par l'utilisateur (Par exemple, 0,1 \xe0 50) puis g\xe9n\xe9rer une section dans la nouvelle palette pour chaque section de la nouvelle palette (Par exemple, une \xe9chelle logarithmique avec des tiques \xe0 0,1, 0,5, 1, 5, 10, 50 comportera 5 sections) . La couleur pour le point de fin de chaque section est g\xe9n\xe9r\xe9e en trouvant la section pertinente de la palette dans le fichier .cpt, puis en interpolant lin\xe9airement les valeurs R, G et B. (C'est la m\xeame fa\xe7on dont GMT g\xe9n\xe8re des couleurs \xe0 partir de ses fichiers Color Palette Table.) Ce syst\xe8me permetERDDAP\u2122pour commencer par les palettes g\xe9n\xe9riques (Par exemple, Arc-en-ciel avec 8 segments, en total de 0 \xe0 8) et cr\xe9er des palettes personnalis\xe9es \xe0 la vol\xe9e (Par exemple, un arc-en-ciel personnalis\xe9, qui cartographie de 0,1 \xe0 50 mg/L aux couleurs arc-en-ciel) ."}),"\n",(0,i.jsx)(s.li,{children:"ERDDAP\u2122puis utilise ce nouveau fichier .cpt pour g\xe9n\xe9rer la couleur de chaque pixel color\xe9 dans la barre de couleurs (et plus tard pour chaque point de donn\xe9es lors du trac\xe9 des donn\xe9es sur un graphique ou une carte) , encore une fois en trouvant la section pertinente de la palette dans le fichier .cpt, puis en interpolant lin\xe9airement les valeurs R, G et B."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Ce processus peut sembler inutilement compliqu\xe9. Mais il r\xe9sout les probl\xe8mes li\xe9s aux \xe9chelles de log qui sont difficiles \xe0 r\xe9soudre d'autres fa\xe7ons."}),"\n",(0,i.jsxs)(s.p,{children:["Alors comment peux-tu imiterERDDAP\u2122\xc7a va ? Ce n'est pas facile. Fondamentalement, vous devez dupliquer le processus quiERDDAP\u2122est utilis\xe9. Si vous \xeates unJavaprogrammateur, vous pouvez utiliser la m\xeameJavaclasse quiERDDAP\u2122utilise pour faire tout cela:\n",(0,i.jsx)(s.em,{children:"Tomcat"})," /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/coastwatch/sgt/CompoundColorMap.java."]}),"\n",(0,i.jsx)(s.h3,{id:"guidelines-for-data-distribution-systems",children:"Lignes directrices pour les syst\xe8mes de distribution de donn\xe9es"}),"\n",(0,i.jsxs)(s.p,{children:["Des avis plus g\xe9n\xe9raux sur la conception et l'\xe9valuation des syst\xe8mes de distribution des donn\xe9es sont disponibles.",(0,i.jsx)(s.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/images/erddapTalk/erdData.html",children:"ici"}),".\n\xa0"]}),"\n",(0,i.jsx)(s.h3,{id:"archiveadataset",children:"ArchiveADataset"}),"\n",(0,i.jsxs)(s.p,{children:["Inclus dans votreERDDAP\u2122installation est un outil en ligne de commande appel\xe9 ArchiveADataset qui peut vous aider \xe0 cr\xe9er une archive (a.zipou.tar.gzfichier) avec une partie ou la totalit\xe9 d'un ensemble de donn\xe9es stock\xe9es dans une s\xe9rie de netcdf-3.ncfichiers de donn\xe9es dans un format de fichier qui convient \xe0 la soumission \xe0NOAAArchives des RCEI (.ncpour les ensembles de donn\xe9es maill\xe9s ou",(0,i.jsx)(s.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#ncCFMA",children:".ncCFMA"}),"pour les ensembles de donn\xe9es tabulaires, comme sp\xe9cifi\xe9 par la",(0,i.jsx)(s.a,{href:"https://www.ncei.noaa.gov/data/oceans/ncei/formats/netcdf/v2.0/index.html",children:"NCEINetCDFMod\xe8les v2.0"}),") ."]}),"\n",(0,i.jsx)(s.p,{children:"ArchiveA Dataset peut faire deux formats d'archives diff\xe9rents:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:['Le format "original" suit ces',(0,i.jsx)(s.a,{href:"https://www.ncdc.noaa.gov/atrac/guidelines.html",children:"Lignes directrices sur l'archivage des RCEI"}),", ce guide pour",(0,i.jsx)(s.a,{href:"https://sites.google.com/a/noaa.gov/ncei-ioos-archive/cookbook?pli=1",children:"Archivage de vos donn\xe9es au CNEI"}),", et les",(0,i.jsx)(s.a,{href:"https://sites.google.com/a/noaa.gov/ncei-ioos-archive/cookbook/data-integrity",children:"Pratiques visant \xe0 assurer l'int\xe9grit\xe9 des donn\xe9es"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:['Le format "BagIt" fait',(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/BagIt",children:"Dossiers BagIt"}),", un format d'archives normalis\xe9 promu par la biblioth\xe8que du Congr\xe8s des \xc9tats-Unis, tel que sp\xe9cifi\xe9 par le",(0,i.jsx)(s.a,{href:"https://tools.ietf.org/html/draft-kunze-bagit-14",children:"Sp\xe9cifications BagIt v0.97"}),".NOAAL'INCE peut normaliser les dossiers BagIt pour les pr\xe9sentations aux archives."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Sans surprise,",(0,i.jsx)(s.a,{href:"/docs/server-admin/datasets#global-attributes",children:"m\xe9tadonn\xe9es mondiales et variables"}),"quiERDDAP\u2122Les m\xe9tadonn\xe9es des FC et de l'ACDD sont presque exactement les m\xeames que celles de l'INCE, de sorte que tous vos ensembles de donn\xe9es devraient \xeatre pr\xeats \xe0 \xeatre soumis \xe0 l'INCE.",(0,i.jsx)(s.a,{href:"https://www.nodc.noaa.gov/s2n/",children:"Send2NCEI"}),"ou",(0,i.jsx)(s.a,{href:"https://www.ncdc.noaa.gov/atrac/index.html",children:"ATRAC"}),"  (L'outil avanc\xe9 de suivi et de ressources du CNEI pour les collections d'archives) ."]}),"\n",(0,i.jsx)(s.p,{children:"Si vous (desERDDAP\u2122administrateur) utiliser ArchiveADataset pour soumettre les donn\xe9es \xe0 l'INCE, puis vous (pas des RCEI) d\xe9terminera quand soumettre une partie des donn\xe9es \xe0 l'INCE et ce qu'elle sera, parce que vous saurez quand il y a de nouvelles donn\xe9es et comment sp\xe9cifier cette partie (et les NCEI ne) . Ainsi, ArchiveADataset est un outil \xe0 utiliser pour cr\xe9er un paquet \xe0 soumettre \xe0 l'INCE."}),"\n",(0,i.jsxs)(s.p,{children:["ArchiveA Les donn\xe9es peuvent \xeatre utiles dans d'autres situations, par exemple pourERDDAP\u2122administrateurs qui doivent convertir un sous-ensemble de donn\xe9es (sur uneERDDAP) de son format de fichier natif dans un ensemble de",(0,i.jsx)(s.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#ncCFMA",children:".ncFichiers CF"}),", pour qu'un publicERDDAP\u2122peut servir les donn\xe9es de la.ncFichiers CF au lieu des fichiers originaux."]}),"\n",(0,i.jsxs)(s.p,{children:["Une fois que vous avez install\xe9ERDDAP\u2122et lance-le (au moins une fois) , vous pouvez trouver et utiliser ArchiveADataset dans le ",(0,i.jsx)(s.em,{children:"Tomcat"})," r\xe9pertoire /webapps/erddap/WEB-INF. Il y a un script shell (ArchiveADataset.sh) pour Linux/Unix et un fichier batch (ArchiveADataset.bat) pour Windows."]}),"\n",(0,i.jsx)(s.p,{children:"Sous Windows, la premi\xe8re fois que vous ex\xe9cutez ArchiveADataset, vous devez modifier l'archiveADataset. fichier bat avec un \xe9diteur de texte pour changer le chemin vers le java. exe fichier pour que Windows puisse trouverJava."}),"\n",(0,i.jsx)(s.p,{children:"Lorsque vous lancez ArchiveADataset, il vous posera une s\xe9rie de questions. Pour chaque question, tapez une r\xe9ponse, puis appuyez sur Entr\xe9e. Ou appuyez sur ^C pour quitter un programme \xe0 tout moment."}),"\n",(0,i.jsx)(s.p,{children:"Ou, vous pouvez mettre les r\xe9ponses aux questions, dans l'ordre, sur la ligne de commande. Pour ce faire, ex\xe9cutez le programme une fois et saisissez et \xe9crivez vos r\xe9ponses. Ensuite, vous pouvez cr\xe9er une seule ligne de commande (avec les r\xe9ponses comme param\xe8tres) qui g\xe8re le programme et r\xe9pond \xe0 toutes les questions.\nUtilisez le mot par d\xe9faut si vous voulez utiliser la valeur par d\xe9faut pour un param\xe8tre donn\xe9.\nUtiliser \"\" (deux guillemets) comme support pour une cha\xeene vide.\nSp\xe9cifier les param\xe8tres sur la ligne de commande peut \xeatre tr\xe8s pratique, par exemple, si vous utilisez ArchiveADataset une fois par mois pour archiver la valeur mensuelle des donn\xe9es. Une fois que vous avez g\xe9n\xe9r\xe9 la ligne de commande avec des param\xe8tres et enregistr\xe9 cela dans vos notes ou dans un script shell, vous avez juste besoin d'effectuer de petites modifications chaque mois pour faire l'archive de ce mois."}),"\n",(0,i.jsx)(s.p,{children:"Les questions pos\xe9es par ArchiveADataset vous permettent :"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Sp\xe9cifiez l'emballage du fichier original ou Bagit. Pour l'INCE, utilisez Bagit."}),"\n",(0,i.jsx)(s.li,{children:"Indiquer le zip ou le goudron.gzcompression pour le paquet. Pour les RCEI, utiliser le goudron.gz."}),"\n",(0,i.jsx)(s.li,{children:"Sp\xe9cifier une adresse email de contact pour cette archive (il sera \xe9crit dans le fichier READ\\_ME.txt dans l'archive) ."}),"\n",(0,i.jsx)(s.li,{children:"Pr\xe9ciserdatasetIDde l'ensemble de donn\xe9es \xe0 archiver."}),"\n",(0,i.jsx)(s.li,{children:"Sp\xe9cifiez les variables de donn\xe9es \xe0 archiver (g\xe9n\xe9ralement tous) ."}),"\n",(0,i.jsxs)(s.li,{children:["Sp\xe9cifiez le sous-ensemble de donn\xe9es que vous souhaitez archiver. Vous devez formater le sous-ensemble de la m\xeame mani\xe8re que vous formateriez un sous-ensemble pour une demande de donn\xe9es, donc il sera diff\xe9rent pour matriqu\xe9 que pour les ensembles de donn\xe9es tabulaires.","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Pour les ensembles de donn\xe9es maill\xe9s, vous pouvez sp\xe9cifier une plage de valeurs de la dimension la plus gauche, g\xe9n\xe9ralement une plage de temps. ArchiveDataset fera une requ\xeate s\xe9par\xe9e et g\xe9n\xe9rera un fichier de donn\xe9es s\xe9par\xe9 pour chaque valeur dans la gamme de valeurs. Puisque les ensembles de donn\xe9es maill\xe9s sont g\xe9n\xe9ralement grands, vous devrez presque toujours sp\xe9cifier un petit sous-ensemble par rapport \xe0 la taille de l'ensemble des donn\xe9es.\nPar exemple,\\[ (Ann\xe9e 2015-12-01) : (2015-12-31) \\]\\[\\]\\[\\]\\[\\]"}),"\n",(0,i.jsx)(s.li,{children:"Pour les ensembles de donn\xe9es tabulaires, vous pouvez sp\xe9cifier toute collecte de contraintes, mais c'est souvent une plage de temps. \xc9tant donn\xe9 que les ensembles de donn\xe9es tabulaires sont g\xe9n\xe9ralement petits, il est souvent possible de ne sp\xe9cifier aucune contrainte, de sorte que l'ensemble des ensembles de donn\xe9es soit archiv\xe9.\nPar exemple, &time>=2015-12-01&time<Ann\xe9e"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["Pour les ensembles de donn\xe9es tabulaires : sp\xe9cifiez une liste s\xe9par\xe9e par virgule de 0 variables ou plus qui d\xe9terminera comment les donn\xe9es archiv\xe9es sont ensuite regroup\xe9es dans diff\xe9rents fichiers de donn\xe9es. Pour les ensembles de donn\xe9es\n",(0,i.jsx)(s.a,{href:"/docs/server-admin/datasets#cdm_data_type",children:"cdm\\_data\\_type"}),"\\=S\xe9ries horaires|TimeSeriesProfile|Trajectoire|Profil de trajectoire\nvous devez presque toujours sp\xe9cifier la variable qui poss\xe8de le cf\\_role=timeseries\\_id (Par exemple,stationID) ou l'attribut cf\\_role=trajectory\\_id. ArchiveADataset fera une requ\xeate s\xe9par\xe9e et g\xe9n\xe9rera un fichier de donn\xe9es s\xe9par\xe9 pour chaque combinaison des valeurs de ces variables, par exemple, pour chaquestationID.\nPour tous les autres ensembles de donn\xe9es tabulaires, vous ne sp\xe9cifierez probablement aucune variable \xe0 cette fin.\nAvertissement : Si le sous-ensemble de donn\xe9es que vous archivez est tr\xe8s important (> 2 Go) et il n'y a pas de variable appropri\xe9e \xe0 cette fin, alors ArchiveADataset n'est pas utilisable avec cet ensemble de donn\xe9es. \xc7a devrait \xeatre rare."]}),"\n",(0,i.jsxs)(s.li,{children:["Sp\xe9cifiez le format de fichier pour les fichiers de donn\xe9es qui seront cr\xe9\xe9s.\nPour les ensembles de donn\xe9es maill\xe9s, pour l'INCE, utiliser.nc.\nPour les ensembles de donn\xe9es tabulaires, pour l'INCE, utiliser",(0,i.jsx)(s.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#ncCFMA",children:".ncCFMA"}),"si c'est une option; autrement utiliser.nc."]}),"\n",(0,i.jsxs)(s.li,{children:["Sp\xe9cifiez le type de digest \xe0 cr\xe9er pour chaque fichier de donn\xe9es et pour l'ensemble du paquet d'archive : MD5, SHA-1 ou SHA-256. Le fichier digest fournit un moyen pour le client (p.ex.) pour v\xe9rifier si le fichier de donn\xe9es est devenu corrompu. Traditionnellement, ces",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/MD5",children:"Fichiers .md5"}),", mais maintenant il y a de meilleures options. Pour les RCEI, utilisez SHA-256."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Apr\xe8s avoir r\xe9pondu \xe0 toutes les questions, ArchiveADataset:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Effectuer une s\xe9rie de requ\xeates \xe0 l'ensemble de donn\xe9es et mettre en sc\xe8ne les fichiers de donn\xe9es r\xe9sultants dans ",(0,i.jsx)(s.em,{children:"BigParent Directory"})," /ArchiveADataset/ ",(0,i.jsx)(s.em,{children:"datasetID\\_timestamp"})," - Oui.\nPour les ensembles de donn\xe9es maill\xe9s, il y aura un fichier pour chaque valeur de la dimension la plus gauche (Par exemple, heure) . Le nom du fichier sera cette valeur (Par exemple, la valeur temporelle) .\nPour les ensembles de donn\xe9es tabulaires, il y aura un fichier pour chaque valeur de la variable ... (s) . Le nom du fichier sera cette valeur. S'il y a plus d'une variable, les variables de gauche seront utilis\xe9es pour faire des noms de sous-r\xe9pertoires, et la variable la plus droite sera utilis\xe9e pour faire les noms de fichiers.\nChaque fichier de donn\xe9es doit \xeatre<2 Go (le maximum autoris\xe9 par.ncfichiers de la version 3) ."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Cr\xe9ez un fichier li\xe9 \xe0 chaque fichier de donn\xe9es avec le digest du fichier de donn\xe9es. Par exemple, si le fichier de donn\xe9es est 46088.ncet le type digest est .sha256, puis le fichier digest aura le nom 46088.nc.sha256 ."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Cr\xe9ez un fichier READ\\_ME.txt avec des informations sur l'archive, y compris une liste de tous les param\xe8tres que vous avez sp\xe9cifi\xe9s pour g\xe9n\xe9rer cette archive."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Faites 3 fichiers dans ",(0,i.jsx)(s.em,{children:"BigParent Directory"})," /ArchiveADataset/ :"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["A.zipou.tar.gzfichier d'archive nomm\xe9 ",(0,i.jsx)(s.em,{children:"datasetID\\_timestamp"})," .zip  (ou.tar.gz) contenant tous les fichiers de donn\xe9es par \xe9tapes et dig\xe9rer les fichiers. Ce fichier peut \xeatre n'importe quelle taille, limit\xe9 uniquement par l'espace disque."]}),"\n",(0,i.jsxs)(s.li,{children:["Un fichier digest pour le fichier d'archive, par exemple, ",(0,i.jsx)(s.em,{children:"datasetID\\_timestamp"})," .zip.sha256.txt"]}),"\n",(0,i.jsxs)(s.li,{children:['Pour le type d\'archive "original", un fichier texte nomm\xe9 ',(0,i.jsx)(s.em,{children:"datasetID\\_timestamp"})," .zip.listOfFiles.txt (ou.tar.gz) qui \xe9num\xe8re tous les fichiers dans le.zip  (ou.tar.gz) fichier."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Si vous pr\xe9parez les archives pour l'INCE, ce sont les fichiers que vous allez envoyer \xe0 l'INCE, peut-\xeatre via",(0,i.jsx)(s.a,{href:"https://www.nodc.noaa.gov/s2n/",children:"Send2NCEI"}),"ou",(0,i.jsx)(s.a,{href:"https://www.ncdc.noaa.gov/atrac/index.html",children:"ATRAC"}),"  (L'outil avanc\xe9 de suivi et de ressources du CNEI pour les collections d'archives) .\n5. Supprimer tous les fichiers mis en sc\xe8ne de sorte que seul le fichier d'archive (Par exemple,.zip) , le digest (Par exemple, .sha256.txt) des archives, et (facultativement) les fichiers .listOfFiles.txt restent."]}),"\n",(0,i.jsx)(s.h4,{id:"iso-19115-xml-metadata-files",children:"ISO 19115 .xml Fichiers de m\xe9tadonn\xe9es"}),"\n",(0,i.jsx)(s.p,{children:"Le paquet ArchiveADataset archive n'inclut pas le fichier de m\xe9tadonn\xe9es ISO 19115 .xml pour l'ensemble de donn\xe9es. Si vous souhaitez/avez besoin de soumettre un fichier ISO 19115 pour votre ensemble de donn\xe9es \xe0 l'INCE, vous pouvez leur envoyer le fichier de m\xe9tadonn\xe9es ISO 19115 .xml quiERDDAP\u2122cr\xe9\xe9 pour l'ensemble de donn\xe9es (maisNMFSles personnes devraient obtenir le fichier ISO 19115 pour leurs ensembles de donn\xe9es d'InPort siERDDAP\u2122ne sert pas d\xe9j\xe0 ce fichier) ."}),"\n",(0,i.jsxs)(s.p,{children:["Des probl\xe8mes ? Des suggestions ? ArchiveADataset est nouveau. Si vous avez des probl\xe8mes ou des suggestions, consultez notre",(0,i.jsx)(s.a,{href:"/docs/intro#support",children:"section sur l'obtention d'un soutien suppl\xe9mentaire"}),".\n\xa0"]})]})}function c(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);