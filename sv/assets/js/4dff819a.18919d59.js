"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[9592],{28453:(e,a,n)=>{n.d(a,{R:()=>i,x:()=>l});var r=n(96540);const t={},s=r.createContext(t);function i(e){const a=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(s.Provider,{value:a},e.children)}},29470:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>l,default:()=>g,frontMatter:()=>i,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"server-admin/scaling","title":"Scaling","description":"ERDDAP\u2122Heavy Loads, Grids, Clusters, Federations och Cloud Computing","source":"@site/i18n/sv/docusaurus-plugin-content-docs/current/server-admin/scaling.md","sourceDirName":"server-admin","slug":"/server-admin/scaling","permalink":"/sv/docs/server-admin/scaling","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/scaling.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Scaling","sidebar_position":5},"sidebar":"docSidebar","previous":{"title":"additional-information","permalink":"/sv/docs/server-admin/additional-information"},"next":{"title":"EDDTableFromEML","permalink":"/sv/docs/server-admin/EDDTableFromEML"}}');var t=n(74848),s=n(28453);const i={title:"Scaling",sidebar_position:5},l="Scaling",d={},o=[{value:"ERDDAP\u2122Heavy Loads, Grids, Clusters, Federations och Cloud Computing",id:"erddap---heavy-loads-grids-clusters-federations-and-cloud-computing",level:2},{value:"Disclaier",id:"disclaimer",level:2},{value:"Tunga laster / begr\xe4nsningar",id:"heavy-loads--constraints",level:2},{value:"Fj\xe4rrk\xe4lla bandbredd",id:"remote-source-bandwidth",level:3},{value:"ERDDAPServer Bandwidth",id:"erddaps-server-bandwidth",level:3},{value:"Minne",id:"memory",level:3},{value:"Had Drive Bandwidth",id:"had-drive-bandwidth",level:3},{value:"F\xf6r m\xe5nga filer cachade",id:"too-many-files-cached",level:3},{value:"CPU",id:"cpu",level:3},{value:"Multipel identiskERDDAPmed lastbalansering?",id:"multiple-identical-erddaps-with-load-balancing",level:2},{value:" <strong>Gridar, kluster och federationer</strong> ",id:"grids-clusters-and-federations",level:2},{value:"M\xe5l",id:"goals",level:3},{value:"rekommendationer",id:"recommendations",level:3},{value:"Grid Parts",id:"grid-parts",level:3},{value:"KompositERDDAP",id:"composite-erddap",level:4},{value:"Upp-to-date max (Tid) ??",id:"up-to-date-maxtime",level:5},{value:"Multipel kompositERDDAPs",id:"multiple-composite-erddaps",level:4},{value:"Dataset i mycket h\xf6g efterfr\xe5gan",id:"datasets-in-very-high-demand",level:3},{value:"Raids kontra regelbundna h\xe5rddiskar",id:"raids-versus-regular-hard-drives",level:3},{value:"Misslyckanden",id:"failures",level:3},{value:"Enkel, skalbar",id:"simple-scalable",level:3},{value:"Bandbredd",id:"bandwidth",level:3},{value:"Som Legos",id:"like-legos",level:3},{value:"Olika typer av beg\xe4ran",id:"different-types-of-requests",level:3},{value:"Detta \xe4r mina \xe5sikter.",id:"these-are-my-opinions",level:3},{value:" <strong>Cloud Computing</strong> ",id:"cloud-computing",level:2},{value:"Subsetting",id:"subsetting",level:3},{value:"Hosted Data",id:"hosted-data",level:3},{value:"Fj\xe4rrreplikering av datam\xe4ngder",id:"remote-replication-of-datasets",level:2},{value:" <strong>RelevantERDDAP\u2122Verktyg</strong> ",id:"relevant-erddap-tools",level:3},{value:"L\xf6sningar",id:"solutions",level:3},{value:"Anpassade, Brute Force Solutions",id:"custom-brute-force-solutions",level:4},{value:"Rsync",id:"rsync",level:4},{value:"Cache fr\xe5n Url",id:"cache-from-url",level:4},{value:"ArchiveADataset",id:"archiveadataset",level:4},{value:"ERDDAP\u2122Standardf\xf6rfr\xe5ganssystem",id:"erddaps-standard-request-system",level:4},{value:"EDDTableFromHttpGet",id:"eddtablefromhttpget",level:4},{value:"Distribuerade data",id:"distributed-data",level:4},{value:"Slutsats",id:"conclusion",level:3}];function m(e){const a={a:"a",br:"br",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.header,{children:(0,t.jsx)(a.h1,{id:"scaling",children:"Scaling"})}),"\n",(0,t.jsx)(a.h2,{id:"erddap---heavy-loads-grids-clusters-federations-and-cloud-computing",children:"ERDDAP\u2122Heavy Loads, Grids, Clusters, Federations och Cloud Computing"}),"\n",(0,t.jsx)(a.p,{children:"\xa0"}),"\n",(0,t.jsx)(a.h1,{id:"erddapfr\xe5n",children:"ERDDAPFr\xe5n:"}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/index.html",children:"ERDDAP\u2122"}),"\xe4r en webbapplikation och en webbtj\xe4nst som samlar vetenskapliga data fr\xe5n olika lokala och avl\xe4gsna k\xe4llor och erbjuder ett enkelt, konsekvent s\xe4tt att ladda ner delm\xe4ngder av data i vanliga filformat och g\xf6ra grafer och kartor. Denna webbsida diskuterar fr\xe5gor som r\xf6r tungaERDDAP\u2122anv\xe4ndning laster och utforskar m\xf6jligheter f\xf6r att hantera extremt tunga laster via n\xe4t, kluster, federationer och cloud computing."]}),"\n",(0,t.jsx)(a.p,{children:"Den ursprungliga versionen skrevs i juni 2009. Det har inte skett n\xe5gra betydande f\xf6r\xe4ndringar. Detta uppdaterades senast 2019-04-15."}),"\n",(0,t.jsx)(a.h2,{id:"disclaimer",children:"Disclaier"}),"\n",(0,t.jsx)(a.p,{children:"Inneh\xe5llet p\xe5 denna webbsida \xe4r Bob Simons personliga \xe5sikter och reflekterar inte n\xf6dv\xe4ndigtvis n\xe5gon st\xe4llning f\xf6r regeringen ellerNational Oceanic and Atmospheric Administration. Ber\xe4kningarna \xe4r f\xf6renklade, men jag tror att slutsatserna \xe4r korrekta. Har jag anv\xe4nt felaktig logik eller gjort ett misstag i mina ber\xe4kningar? Om s\xe5 \xe4r fallet \xe4r felet min ensam. Skicka ett e-postmeddelande med r\xe4ttelsen tillerd dot data at noaa dot gov.\r\n\xa0"}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h2,{id:"heavy-loads--constraints",children:"Tunga laster / begr\xe4nsningar"}),"\n",(0,t.jsx)(a.p,{children:"Med tung anv\xe4ndning, en frist\xe5endeERDDAP\u2122kommer att begr\xe4nsas (fr\xe5n de flesta till minst sannolikt) av:"}),"\n",(0,t.jsx)(a.h3,{id:"remote-source-bandwidth",children:"Fj\xe4rrk\xe4lla bandbredd"}),"\n",(0,t.jsxs)(a.ol,{children:["\n",(0,t.jsxs)(a.li,{children:["En fj\xe4rrdatak\xe4lla bandbredd - \xc4ven med en effektiv anslutning (t.ex. viaOPeNDAP) om inte en fj\xe4rrdatak\xe4lla har en mycket h\xf6g bandbredd Internetanslutning,ERDDAPsvaren kommer att begr\xe4nsas av hur snabbtERDDAP\u2122kan f\xe5 data fr\xe5n datak\xe4llan. En l\xf6sning \xe4r att kopiera datasetet tillERDDAPh\xe5rddisk, kanske med",(0,t.jsx)(a.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridKopiera"}),"eller",(0,t.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDTableCopy"}),".\r\n\xa0"]}),"\n"]}),"\n",(0,t.jsx)(a.h3,{id:"erddaps-server-bandwidth",children:"ERDDAPServer Bandwidth"}),"\n",(0,t.jsxs)(a.ol,{start:"2",children:["\n",(0,t.jsx)(a.li,{children:"Om inteERDDAPserver har en mycket h\xf6g bandbredd Internet-anslutning,ERDDAPsvaren kommer att begr\xe4nsas av hur snabbtERDDAP\u2122kan f\xe5 data fr\xe5n datak\xe4llorna och hur snabbtERDDAP\u2122kan returnera data till kunderna. Den enda l\xf6sningen \xe4r att f\xe5 en snabbare internetanslutning.\r\n\xa0"}),"\n"]}),"\n",(0,t.jsx)(a.h3,{id:"memory",children:"Minne"}),"\n",(0,t.jsxs)(a.ol,{start:"3",children:["\n",(0,t.jsxs)(a.li,{children:["Om det finns m\xe5nga samtidiga f\xf6rfr\xe5gningar,ERDDAP\u2122kan komma ur minnet och tillf\xe4lligt v\xe4gra nya f\xf6rfr\xe5gningar. (ERDDAP\u2122har ett par mekanismer f\xf6r att undvika detta och minimera konsekvenserna om det h\xe4nder.) Ju mer minne i servern desto b\xe4ttre. P\xe5 en 32-bitars server \xe4r 4 + GB riktigt bra, 2 GB \xe4r okej, mindre rekommenderas inte. P\xe5 en 64-bitars server kan du n\xe4stan helt undvika problemet genom att f\xe5 massor av minne. Se",(0,t.jsx)(a.a,{href:"/docs/server-admin/deploy-install",children:"Xmx och -Xms inst\xe4llningar"}),"F\xf6rERDDAP/Tomcat. EttERDDAP\u2122Att f\xe5 tung anv\xe4ndning p\xe5 en dator med en 64-bitars server med 8 GB minne och -Xmx inst\xe4lld p\xe5 4000M \xe4r s\xe4llan, om n\xe5gonsin, begr\xe4nsas av minnet.\r\n\xa0"]}),"\n"]}),"\n",(0,t.jsx)(a.h3,{id:"had-drive-bandwidth",children:"Had Drive Bandwidth"}),"\n",(0,t.jsxs)(a.ol,{start:"4",children:["\n",(0,t.jsx)(a.li,{children:"Att komma \xe5t data som lagras p\xe5 serverns h\xe5rddisk \xe4r mycket snabbare \xe4n att komma \xe5t fj\xe4rrdata. \xc4ven s\xe5, omERDDAP\u2122Servern har en mycket h\xf6g bandbredd Internetanslutning, det \xe4r m\xf6jligt att komma \xe5t data p\xe5 h\xe5rddisken kommer att vara en flaskhals. En partiell l\xf6sning \xe4r att anv\xe4nda snabbare (Till exempel 10 000 RPM) magnetiska h\xe5rddiskar eller SSD-enheter (Om det \xe4r meningsfullt kostnadsm\xe4ssigt) . En annan l\xf6sning \xe4r att lagra olika datam\xe4ngder p\xe5 olika enheter, s\xe5 att den kumulativa h\xe5rddisk bandbredd \xe4r mycket h\xf6gre.\r\n\xa0"}),"\n"]}),"\n",(0,t.jsx)(a.h3,{id:"too-many-files-cached",children:"F\xf6r m\xe5nga filer cachade"}),"\n",(0,t.jsxs)(a.ol,{start:"5",children:["\n",(0,t.jsxs)(a.li,{children:["F\xf6r m\xe5nga filer i en",(0,t.jsx)(a.a,{href:"/docs/server-admin/additional-information#cached-responses",children:"Cache"}),"katalog -ERDDAP\u2122cachar alla bilder, men bara cachar data f\xf6r vissa typer av dataf\xf6rfr\xe5gningar. Det \xe4r m\xf6jligt f\xf6r cache-katalogen f\xf6r en datam\xe4ngd att ha ett stort antal filer tillf\xe4lligt. Detta kommer att sakta ner f\xf6rfr\xe5gningar f\xf6r att se om en fil \xe4r i cache (verkligen!) .<Cache Minutes & gt; i",(0,t.jsx)(a.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),"l\xe5ter dig ange hur l\xe4nge en fil kan vara i cachen innan den raderas. Att st\xe4lla in ett mindre antal skulle minimera detta problem.\r\n\xa0"]}),"\n"]}),"\n",(0,t.jsx)(a.h3,{id:"cpu",children:"CPU"}),"\n",(0,t.jsxs)(a.ol,{start:"6",children:["\n",(0,t.jsxs)(a.li,{children:["Endast tv\xe5 saker tar mycket CPU-tid:","\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"NetCDF4 ochHDF5 st\xf6der nu intern komprimering av data. Dekomprimera en stor komprimeradNetCDF4/HDF5 datafil kan ta 10 eller fler sekunder. (Det \xe4r inte ett genomf\xf6rande fel. Det \xe4r komprimeringens natur.) S\xe5 flera samtidiga f\xf6rfr\xe5gningar till datam\xe4ngder med data som lagras i komprimerade filer kan s\xe4tta en allvarlig belastning p\xe5 n\xe5gon server. Om detta \xe4r ett problem \xe4r l\xf6sningen att lagra popul\xe4ra datam\xe4ngder i okomprimerade filer, eller f\xe5 en server med en CPU med fler k\xe4rnor."}),"\n",(0,t.jsx)(a.li,{children:"G\xf6ra grafer (inklusive kartor) Ungef\xe4r 0,2 - 1 sekund per graf. S\xe5 om det fanns m\xe5nga samtidiga unika f\xf6rfr\xe5gningar om grafer (WMSKunder g\xf6r ofta 6 samtidiga f\xf6rfr\xe5gningar!) Det kan finnas en CPU-begr\xe4nsning. N\xe4r flera anv\xe4ndare k\xf6rWMSkunder, detta blir ett problem.\r\n\xa0"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h2,{id:"multiple-identical-erddaps-with-load-balancing",children:"Multipel identiskERDDAPmed lastbalansering?"}),"\n",(0,t.jsx)(a.p,{children:'Fr\xe5gan kommer ofta upp: "Att hantera tunga laster, kan jag st\xe4lla in flera identiskaERDDAPmed lastbalansering?" Det \xe4r en intressant fr\xe5ga eftersom det snabbt kommer till k\xe4rnan iERDDAP"S design. Det snabba svaret \xe4r "nej". Jag vet att det \xe4r ett besvikande svar, men det finns ett par direkta sk\xe4l och n\xe5gra st\xf6rre grundl\xe4ggande sk\xe4l till varf\xf6r jag designade.ERDDAP\u2122att anv\xe4nda en annan metod (en federation avERDDAPs, beskrivs i huvuddelen av detta dokument) Som jag tror \xe4r en b\xe4ttre l\xf6sning.'}),"\n",(0,t.jsx)(a.p,{children:"N\xe5gra direkta anledningar till att du inte / borde inte st\xe4lla in flera identiskaERDDAPs \xe4r:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"En givenERDDAP\u2122l\xe4ser varje datafil n\xe4r den f\xf6rst blir tillg\xe4nglig f\xf6r att hitta raderna av data i filen. Den lagrar sedan den informationen i en indexfil. Senare n\xe4r en anv\xe4ndares beg\xe4ran om data kommer in,ERDDAP\u2122anv\xe4nder det indexet f\xf6r att r\xe4kna ut vilka filer som ska titta in f\xf6r de beg\xe4rda uppgifterna. Om det fanns flera identiskaERDDAPDe skulle var och en g\xf6ra detta indexering, vilket \xe4r bortkastad anstr\xe4ngning. Med det federerade systemet som beskrivs nedan g\xf6rs indexeringen endast en g\xe5ng, av en avERDDAPs."}),"\n",(0,t.jsx)(a.li,{children:"F\xf6r vissa typer av anv\xe4ndarf\xf6rfr\xe5gningar (t.ex. f\xf6r.nc.png, .pdf-filer)  ERDDAP\u2122m\xe5ste g\xf6ra hela filen innan svaret kan skickas. S\xe5ERDDAP\u2122caches dessa filer under en kort tid. Om en identisk beg\xe4ran kommer in (som det ofta g\xf6r, s\xe4rskilt f\xf6r bilder d\xe4r webbadressen \xe4r inb\xe4ddad p\xe5 en webbsida) ,ERDDAP\u2122kan \xe5teranv\xe4nda den cachade filen. I ett system med flera identiskaERDDAPDessa cachade filer delas inte, s\xe5 var och enERDDAP\u2122skulle on\xf6digt och sl\xf6saktigt \xe5terskapa.nc, .png eller .pdf filer. Med det federerade systemet som beskrivs nedan g\xf6rs filerna endast en g\xe5ng, av en avERDDAPoch \xe5teranv\xe4nd."}),"\n",(0,t.jsx)(a.li,{children:"ERDDAPabonnemangssystemet \xe4r inte inst\xe4llt f\xf6r att delas av fleraERDDAPs. Till exempel, om lastbalansen skickar en anv\xe4ndare till enERDDAP\u2122och anv\xe4ndaren prenumererar p\xe5 en dataset, sedan den andraERDDAPs kommer inte att vara medveten om den prenumerationen. Senare, om lastbalansen skickar anv\xe4ndaren till en annanERDDAP\u2122och ber om en lista \xf6ver hans/hennes prenumerationer, den andraERDDAP\u2122s\xe4ger att det inte finns n\xe5gon (leda honom/henne att g\xf6ra en dubbel prenumeration p\xe5 den andra EREDDAP) . Med det federerade systemet som beskrivs nedan hanteras abonnemangssystemet helt enkelt av den huvudsakliga, offentliga, sammansattaERDDAP."}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["Ja, f\xf6r var och en av dessa problem kunde jag (med stor anstr\xe4ngning) ingenj\xf6r en l\xf6sning (att dela informationen mellanERDDAPs) Men jag tror",(0,t.jsx)(a.a,{href:"#grids-clusters-and-federations",children:"Federation-of-ERDDAPs approach"}),"  (beskrivs i huvuddelen av detta dokument) \xe4r en mycket b\xe4ttre helhetsl\xf6sning, dels f\xf6r att den hanterar andra problem som multi-identiskaERDDAPs-med-a-load-balancer strategi inte ens b\xf6rja ta itu med, s\xe4rskilt den decentraliserade naturen av datak\xe4llor i v\xe4rlden."]}),"\n",(0,t.jsxs)(a.p,{children:["Det \xe4r b\xe4st att acceptera det enkla faktum att jag inte designadeERDDAP\u2122att distribueras som flera identiskaERDDAPmed en lastbalanser. Jag designade medvetetERDDAP\u2122att arbeta bra inom en federation avERDDAPSom jag tror har m\xe5nga f\xf6rdelar. I synnerhet en federation avERDDAPs \xe4r helt i linje med det decentraliserade, distribuerade datacenter som vi har i den verkliga v\xe4rlden. (T\xe4nk p\xe5 de olika IOOS-regionerna, eller de olika regionerna CoastWatch, eller de olika delarna av NCEI, eller de 100 andra datacentren iNOAA, eller de olika NASA DAACs, eller 1000-talets datacenter \xf6ver hela v\xe4rlden) . Ist\xe4llet f\xf6r att ber\xe4tta f\xf6r alla datacenter i v\xe4rlden att de m\xe5ste \xf6verge sina anstr\xe4ngningar och l\xe4gga all sin data i en centraliserad datasj\xf6n. (\xc4ven om det var m\xf6jligt, \xe4r det en hemsk id\xe9 av m\xe5nga sk\xe4l - se de olika analyserna som visar de m\xe5nga f\xf6rdelarna med",(0,t.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Decentralised_system",children:"Decentraliserade system"}),') ,ERDDAP"S design fungerar med v\xe4rlden som den \xe4r. Varje datacenter som producerar data kan forts\xe4tta att beh\xe5lla, kurera och tj\xe4na sina data (som de borde) Och \xe4nd\xe5, medERDDAP\u2122Uppgifterna kan ocks\xe5 vara direkt tillg\xe4ngliga fr\xe5n en centraliseradERDDAPutan behov av att \xf6verf\xf6ra data till centraliseradeERDDAP\u2122eller lagra duplicerade kopior av data. Faktum \xe4r att en viss dataset kan vara tillg\xe4nglig samtidigt\r\nfr\xe5n enERDDAP\u2122i den organisation som producerade och faktiskt lagrar data (t.ex. GoMOOS) ,\r\nfr\xe5n enERDDAP\u2122p\xe5 moderorganisationen (t.ex. IOOS central) ,\r\nfr\xe5n en all-NOAA ERDDAP\u2122,\r\nfr\xe5n en all-US-federal regeringERDDAP\u2122,\r\nfr\xe5n en globalERDDAP\u2122  (GOOS) ,\r\noch fr\xe5n specialiseradeERDDAPs (t.ex. enERDDAP\u2122p\xe5 en institution som \xe4gnas \xe5t HAB-forskning) ,\r\ni huvudsak omedelbart och effektivt eftersom endast metadata \xf6verf\xf6rs mellanERDDAPs, inte data. B\xe4st av allt, efter den f\xf6rstaERDDAP\u2122i den ursprungliga organisationen, alla andraERDDAPKan st\xe4llas in snabbt (N\xe5gra timmars arbete) med minimala resurser (En server som inte beh\xf6ver n\xe5gra RAID f\xf6r datalagring eftersom den lagrar inga data lokalt) och d\xe4rmed till verkligt minimal kostnad. J\xe4mf\xf6r det med kostnaden f\xf6r att st\xe4lla in och uppr\xe4tth\xe5lla ett centraliserat datacenter med en data sj\xf6 och behovet av en verkligt massiv, verkligt dyr, Internetanslutning, plus deltagarnas problem med det centraliserade datacentret \xe4r en enda punkt av misslyckande. F\xf6r mig,ERDDAPDecentraliserat, federerat tillv\xe4gag\xe5ngss\xe4tt \xe4r l\xe5ngt, l\xe5ngt \xf6verl\xe4gset.']}),"\n",(0,t.jsxs)(a.p,{children:["I situationer d\xe4r ett visst datacenter beh\xf6ver fleraERDDAPf\xf6r att m\xf6ta h\xf6g efterfr\xe5gan,ERDDAPdesign \xe4r fullt kapabel att matcha eller \xf6vertr\xe4ffa prestandan hos multi-identiskaERDDAPs-med-a-load-balancer strategi. Du har alltid m\xf6jlighet att st\xe4lla in",(0,t.jsx)(a.a,{href:"#multiple-composite-erddaps",children:"multipel kompositERDDAPs (som diskuteras nedan) "}),"Var och en f\xe5r all sin data fr\xe5n andraERDDAPutan lastbalansering. I det h\xe4r fallet rekommenderar jag att du g\xf6r en punkt f\xf6r att ge var och en av kompositen.ERDDAPett annat namn/identitet och om m\xf6jligt s\xe4tta upp dem i olika delar av v\xe4rlden (till exempel olika AWS-regioner) t.ex.,ERD\\_US\\_\xd6st,ERD\\_US\\_V\xe4st,ERDIE,ERDFR,ERD\\_IT, s\xe5 att anv\xe4ndare medvetet, upprepade g\xe5nger, arbetar med en specifikERDDAP, med den extra f\xf6rdelen att du har tagit bort risken fr\xe5n en enda felpunkt.\r\n\xa0"]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h2,{id:"grids-clusters-and-federations",children:(0,t.jsxs)(a.a,{href:"#grids-clusters-and-federations",children:[" ",(0,t.jsx)(a.strong,{children:"Gridar, kluster och federationer"})," "]})}),"\n",(0,t.jsxs)(a.p,{children:["Under mycket tung anv\xe4ndning, en enda frist\xe5endeERDDAP\u2122kommer att bli en eller flera av",(0,t.jsx)(a.a,{href:"#heavy-loads--constraints",children:"begr\xe4nsningar"}),"listade ovan och \xe4ven de f\xf6reslagna l\xf6sningarna kommer att vara otillr\xe4ckliga. F\xf6r s\xe5dana situationer,ERDDAP\u2122har funktioner som g\xf6r det enkelt att bygga skalbara n\xe4t (\xe4ven kallade kluster eller federationer) avERDDAPs som g\xf6r att systemet kan hantera mycket tung anv\xe4ndning (till exempel f\xf6r ett stort datacenter) ."]}),"\n",(0,t.jsxs)(a.p,{children:["Jag anv\xe4nder",(0,t.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Grid_computing",children:"N\xe4t"}),"som en allm\xe4n term f\xf6r att ange en typ av",(0,t.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Computer_cluster",children:"Datorkluster"}),"d\xe4r alla delar kan eller inte kan vara fysiskt placerade i en anl\xe4ggning och kan eller inte kan administreras centralt. En f\xf6rdel med samlokaliserade, centralt \xe4gda och administrerade n\xe4t (Kluster) De gynnas av stordriftsf\xf6rdelar (S\xe4rskilt m\xe4nsklig arbetsbelastning) F\xf6renkla att g\xf6ra delar av systemet fungerar bra tillsammans. En f\xf6rdel med icke-kolokaliserade n\xe4t, icke-centralt \xe4gda och administrerade (Federationer) \xe4r att de distribuerar den m\xe4nskliga arbetsbelastningen och kostnaden, och kan ge ytterligare feltolerans. L\xf6sningen jag f\xf6resl\xe5r nedan fungerar bra f\xf6r alla rutn\xe4t, kluster och federationstopografer."]}),"\n",(0,t.jsxs)(a.p,{children:["Den grundl\xe4ggande id\xe9n att utforma ett skalbart system \xe4r att identifiera de potentiella flaskhalsarna och sedan utforma systemet s\xe5 att delar av systemet kan replikeras efter behov f\xf6r att lindra flaskhalsarna. Idealiskt \xf6kar varje replikerad del kapaciteten hos den delen av systemet linj\xe4rt (effektivitet av skalning) . Systemet \xe4r inte skalbart om det inte finns en skalbar l\xf6sning f\xf6r varje flaskhals.",(0,t.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Scalability",children:"Skalbarhet"}),"skiljer sig fr\xe5n effektivitet (hur snabbt en uppgift kan g\xf6ras \u2013 effektiviteten i delarna) . Skalbarhet g\xf6r det m\xf6jligt f\xf6r systemet att v\xe4xa f\xf6r att hantera alla niv\xe5er av efterfr\xe5gan. ",(0,t.jsx)(a.strong,{children:"Effektiv"}),"   (av skalning och av delar) avg\xf6r hur m\xe5nga servrar, etc., som beh\xf6vs f\xf6r att m\xf6ta en viss efterfr\xe5gan. Effektivitet \xe4r mycket viktigt, men har alltid gr\xe4nser. Skalbarhet \xe4r den enda praktiska l\xf6sningen f\xf6r att bygga ett system som kan hantera ",(0,t.jsx)(a.strong,{children:"v\xe4ldigt mycket v\xe4ldigt mycket"})," tung anv\xe4ndning. Helst kommer systemet att vara skalbart och effektivt."]}),"\n",(0,t.jsx)(a.h3,{id:"goals",children:"M\xe5l"}),"\n",(0,t.jsx)(a.p,{children:"M\xe5len f\xf6r denna design \xe4r:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"F\xf6r att g\xf6ra en skalbar arkitektur (En som l\xe4tt kan f\xf6rl\xe4ngas genom att replikera n\xe5gon del som blir \xf6verbelastad) . F\xf6r att g\xf6ra ett effektivt system som maximerar tillg\xe4ngligheten och genomstr\xf6mningen av de data som ges tillg\xe4ngliga datorresurser. (Kostnaden \xe4r n\xe4stan alltid ett problem.)"}),"\n",(0,t.jsx)(a.li,{children:"Att balansera kapaciteten hos delar av systemet s\xe5 att en del av systemet inte kommer att \xf6verv\xe4ldiga en annan del."}),"\n",(0,t.jsx)(a.li,{children:"F\xf6r att g\xf6ra en enkel arkitektur s\xe5 att systemet \xe4r l\xe4tt att installera och administrera."}),"\n",(0,t.jsx)(a.li,{children:"F\xf6r att g\xf6ra en arkitektur som fungerar bra med alla rutn\xe4t."}),"\n",(0,t.jsx)(a.li,{children:"F\xf6r att g\xf6ra ett system som misslyckas graci\xf6st och p\xe5 ett begr\xe4nsat s\xe4tt om n\xe5gon del blir \xf6verbelastad. (Den tid som kr\xe4vs f\xf6r att kopiera en stor datam\xe4ngd kommer alltid att begr\xe4nsa systemets f\xf6rm\xe5ga att hantera pl\xf6tsliga \xf6kningar av efterfr\xe5gan p\xe5 en viss datam\xe4ngd.)"}),"\n",(0,t.jsxs)(a.li,{children:["(Om m\xf6jligt) F\xf6r att g\xf6ra en arkitektur som inte \xe4r knuten till n\xe5gon specifik",(0,t.jsx)(a.a,{href:"#cloud-computing",children:"cloud computing"}),"Tj\xe4nster eller andra externa tj\xe4nster (eftersom det inte beh\xf6ver dem) ."]}),"\n"]}),"\n",(0,t.jsx)(a.h3,{id:"recommendations",children:"rekommendationer"}),"\n",(0,t.jsxs)(a.p,{children:["V\xe5ra rekommendationer \xe4r\r\n",(0,t.jsx)(a.img,{alt:"rutn\xe4t / kluster diagram",src:n(88623).A+"",width:"701",height:"516"})]}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["I grund och botten f\xf6resl\xe5r jag att du st\xe4ller in en kompositERDDAP\u2122  ( ",(0,t.jsx)(a.strong,{children:"D D D D D"})," i diagrammet) , vilket \xe4r en vanligERDDAP\u2122f\xf6rutom att det bara tj\xe4nar data fr\xe5n andraERDDAPs. N\xe4tets arkitektur \xe4r utformad f\xf6r att flytta s\xe5 mycket arbete som m\xf6jligt (CPU anv\xe4ndning, minnesanv\xe4ndning, bandbredd anv\xe4ndning) fr\xe5n kompositenERDDAP\u2122till den andraERDDAPs."]}),"\n",(0,t.jsxs)(a.li,{children:["ERDDAP\u2122har tv\xe5 s\xe4rskilda datasettyper,",(0,t.jsx)(a.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDGridFr\xe5nErddap"}),"och",(0,t.jsx)(a.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDTableFromErddap"}),"som h\xe4nvisar till\r\nDataset p\xe5 andraERDDAPs."]}),"\n",(0,t.jsxs)(a.li,{children:["N\xe4r kompositenERDDAP\u2122f\xe5r en beg\xe4ran om data eller bilder fr\xe5n dessa datam\xe4ngder, kompositenERDDAP\u2122 ",(0,t.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/URL_redirection",children:"omdirigeringar"}),"Databeg\xe4ran till den andraERDDAP\u2122Server. Resultatet \xe4r:","\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["Detta \xe4r mycket effektivt (CPU, minne och bandbredd) f\xf6r annars","\n",(0,t.jsxs)(a.ol,{children:["\n",(0,t.jsx)(a.li,{children:"Komposit\xf6rERDDAP\u2122m\xe5ste skicka databeg\xe4ran till den andraERDDAP."}),"\n",(0,t.jsx)(a.li,{children:"Den andraERDDAP\u2122m\xe5ste f\xe5 data, reformera den och \xf6verf\xf6ra data till kompositenERDDAP."}),"\n",(0,t.jsx)(a.li,{children:"Komposit\xf6rERDDAP\u2122m\xe5ste ta emot data (med extra bandbredd) Reformatera den (Anv\xe4nd extra CPU tid och minne) och \xf6verf\xf6ra data till anv\xe4ndaren (med extra bandbredd) . Genom att omdirigera databeg\xe4ran och till\xe5ta den andraERDDAP\u2122att skicka svaret direkt till anv\xe4ndaren, kompositenERDDAP\u2122spenderar i huvudsak ingen CPU-tid, minne eller bandbredd p\xe5 dataf\xf6rfr\xe5gningar."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(a.li,{children:"Omdirigeringen \xe4r transparent f\xf6r anv\xe4ndaren oavsett kundens programvara (en webbl\xe4sare eller annan programvara eller kommandorad verktyg) ."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(a.h3,{id:"grid-parts",children:"Grid Parts"}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.a,{href:"#grid-parts",children:"De delar av n\xe4tet \xe4r:"})}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"Ett"})," Fr\xe5n: F\xf6r varje fj\xe4rrdatak\xe4lla som har en h\xf6g bandbreddOPeNDAPServer, du kan ansluta direkt till fj\xe4rrservern. Om fj\xe4rrservern \xe4r enERDDAP\u2122Anv\xe4ndEDDGridFromErddap eller EDDTableFromERDDAPatt betj\xe4na data i kompositenERDDAP. Om fj\xe4rrservern \xe4r n\xe5gon annan typ avDAPserver, t.ex. TREDDS,Hyraxeller GrADS, anv\xe4ndEDDGridFr\xe5nDap."]}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"B"})," F\xf6r varjeERDDAP-able data source (en datak\xe4lla fr\xe5n vilkenERDDAPkan l\xe4sa data) som har en h\xf6g bandbreddserver, skapa en annanERDDAP\u2122i det n\xe4t som ansvarar f\xf6r att betj\xe4na data fr\xe5n denna datak\xe4lla."]}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"Om flera s\xe5danaERDDAPs f\xe5r inte m\xe5nga f\xf6rfr\xe5gningar om data, du kan konsolidera dem till enERDDAP."}),"\n",(0,t.jsxs)(a.li,{children:["OmERDDAP\u2122dedikerad till att f\xe5 data fr\xe5n en fj\xe4rrk\xe4lla f\xe5r f\xf6r m\xe5nga f\xf6rfr\xe5gningar, det finns en frestelse att l\xe4gga till ytterligareERDDAPs f\xf6r att komma \xe5t fj\xe4rrdatak\xe4llan. I s\xe4rskilda fall kan detta vara meningsfullt, men det \xe4r mer troligt att detta kommer att \xf6verv\xe4ldiga fj\xe4rrdatak\xe4llan. (som \xe4r sj\xe4lvdefeating) och \xe4ven hindra andra anv\xe4ndare fr\xe5n att komma \xe5t fj\xe4rrdatak\xe4llan (Det \xe4r inte trevligt) . I ett s\xe5dant fall, \xf6verv\xe4ga att inr\xe4tta en annanERDDAP\u2122att tj\xe4na den ena dataset och kopiera datasetet p\xe5 detERDDAPH\xe5rddisk (se ",(0,t.jsx)(a.strong,{children:"C"})," ) kanske med",(0,t.jsx)(a.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridKopiera"}),"och/eller",(0,t.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDTableCopy"}),"."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"B"})," Servrar m\xe5ste vara allm\xe4nt tillg\xe4ngliga."]}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"C"})," F\xf6r varjeERDDAP-able datak\xe4lla som har en l\xe5g bandbreddsserver (eller \xe4r en l\xe5ngsam tj\xe4nst av andra sk\xe4l) \xf6verv\xe4ga att inr\xe4tta en annanERDDAP\u2122och lagra en kopia av datasetet p\xe5 detERDDAPh\xe5rddiskar, kanske med",(0,t.jsx)(a.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridKopiera"}),"och/eller",(0,t.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDTableCopy"}),". Om flera s\xe5danaERDDAPs f\xe5r inte m\xe5nga f\xf6rfr\xe5gningar om data, du kan konsolidera dem till enERDDAP.\r\n",(0,t.jsx)(a.strong,{children:"C"})," Servrar m\xe5ste vara allm\xe4nt tillg\xe4ngliga."]}),"\n",(0,t.jsx)(a.h4,{id:"composite-erddap",children:"KompositERDDAP"}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"D D D D D"})," Fr\xe5n: Komposit\xf6rERDDAP\u2122\xe4r en vanligERDDAP\u2122f\xf6rutom att det bara tj\xe4nar data fr\xe5n andraERDDAPs."]}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"F\xf6r kompositenERDDAP\u2122har information i minnet om alla datam\xe4ngder, det kan snabbt svara p\xe5 f\xf6rfr\xe5gningar om listor \xf6ver datam\xe4ngder (fullst\xe4ndiga texts\xf6kningar, kategoris\xf6kningar, listan \xf6ver alla dataset) , och f\xf6rfr\xe5gningar om en enskild dataset\u2019s Data Access Form, G\xf6r en Graph-formul\xe4r, ellerWMSinfo page. Dessa \xe4r alla sm\xe5, dynamiskt genererade, HTML-sidor baserade p\xe5 information som h\xe5lls i minnet. S\xe5 svaren \xe4r mycket snabba."}),"\n",(0,t.jsx)(a.li,{children:"Eftersom beg\xe4ran om faktiska data snabbt omdirigeras till den andraERDDAPs, kompositERDDAP\u2122kan snabbt svara p\xe5 f\xf6rfr\xe5gningar om faktiska data utan att anv\xe4nda n\xe5gon CPU-tid, minne eller bandbredd."}),"\n",(0,t.jsx)(a.li,{children:"Genom att flytta s\xe5 mycket arbete som m\xf6jligt (CPU, minne, bandbredd) fr\xe5n kompositenERDDAP\u2122till den andraERDDAPs, kompositERDDAP\u2122kan visas f\xf6r att tj\xe4na data fr\xe5n alla datam\xe4ngder och \xe4nd\xe5 h\xe5lla j\xe4mna steg med ett stort antal dataf\xf6rfr\xe5gningar fr\xe5n ett stort antal anv\xe4ndare."}),"\n",(0,t.jsx)(a.li,{children:"Prelimin\xe4ra tester indikerar att kompositenERDDAP\u2122kan svara p\xe5 de flesta f\xf6rfr\xe5gningar i ~1ms CPU tid, eller 1000 f\xf6rfr\xe5gningar / sekund. En 8-k\xe4rnprocessor ska kunna svara p\xe5 cirka 8000 f\xf6rfr\xe5gningar/sekunder. \xc4ven om det \xe4r m\xf6jligt att f\xf6rest\xe4lla sig brister av h\xf6gre aktivitet som skulle orsaka avmattningar, \xe4r det mycket genomstr\xf6mning. Det \xe4r troligt att datacenterbandbredd kommer att vara flaskhalsen l\xe5ngt f\xf6re kompositen.ERDDAP\u2122Blir flaskhalsen."}),"\n"]}),"\n",(0,t.jsx)(a.h5,{id:"up-to-date-maxtime",children:"Upp-to-date max (Tid) ??"}),"\n",(0,t.jsxs)(a.p,{children:["ochEDDGrid/TableFromErddap i kompositenERDDAP\u2122endast \xe4ndrar lagrad information om varje k\xe4lldatam\xe4ngd n\xe4r k\xe4lldatam\xe4ngden \xe4r",(0,t.jsx)(a.a,{href:"/docs/server-admin/datasets#reloadeverynminutes",children:'"Reload"'}),"och en del metadataf\xf6r\xe4ndringar (t.ex. tidsvariabelnsactual\\_range) och d\xe4rigenom skapa en abonnemangsanm\xe4lan. Om k\xe4lldatam\xe4ngden har data som \xe4ndras ofta (Till exempel nya data varje sekund) och anv\xe4nder",(0,t.jsx)(a.a,{href:"/docs/server-admin/datasets#updateeverynmillis",children:'"Uppdatering"'}),'system f\xf6r att m\xe4rka frekventa \xe4ndringar av de underliggande uppgifterna,EDDGrid/TableFromErddap kommer inte att meddelas om dessa frekventa \xe4ndringar tills n\xe4sta dataset "reload", s\xe5EDDGrid/TableFromErddap kommer inte att vara helt uppdaterad. Du kan minimera detta problem genom att \xe4ndra k\xe4lldatas\xe4ttets<reloadEveryNMinutes & gt; till ett mindre v\xe4rde (60? 15?) s\xe5 att det finns fler abonnemangsmeddelanden f\xf6r att ber\xe4tta f\xf6rEDDGrid/TableFromErddap f\xf6r att uppdatera sin information om k\xe4lldatam\xe4ngden.']}),"\n",(0,t.jsxs)(a.p,{children:["Eller om ditt datahanteringssystem vet n\xe4r k\xe4lldatam\xe4ngden har nya data (t.ex. via ett skript som kopierar en datafil p\xe5 plats) Och om det inte \xe4r super frekvent (t.ex. var 5",":e"," minut eller mindre frekvent) Det finns en b\xe4ttre l\xf6sning:"]}),"\n",(0,t.jsxs)(a.ol,{children:["\n",(0,t.jsx)(a.li,{children:"Anv\xe4nd inte<updateEveryNMillis & gt; att h\xe5lla k\xe4lldataupps\xe4ttningen uppdaterad."}),"\n",(0,t.jsx)(a.li,{children:"St\xe4ll in k\xe4lldatasetets<reloadEveryNMinutes & gt; till ett st\xf6rre antal (1440?) ."}),"\n",(0,t.jsxs)(a.li,{children:["Har manuset kontakta k\xe4lldatasetets",(0,t.jsx)(a.a,{href:"/docs/server-admin/additional-information#set-dataset-flag",children:"Flagga URL"}),"strax efter det kopierar en ny datafil p\xe5 plats.\r\nDet kommer att leda till att k\xe4lldatam\xe4ngden \xe4r helt uppdaterad och orsakar att den genererar en abonnemangsmeddelande, som kommer att skickas till k\xe4lldatam\xe4ngden.EDDGrid/TableFromErddap dataset. Detta lederEDDGrid/TableFromErddap dataset f\xf6r att vara helt uppdaterad (inom 5 sekunder efter att nya data l\xe4ggs till) . Allt som kommer att g\xf6ras effektivt (utan on\xf6diga datam\xe4ngder) ."]}),"\n"]}),"\n",(0,t.jsx)(a.h4,{id:"multiple-composite-erddaps",children:"Multipel kompositERDDAPs"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"I extrema fall, eller f\xf6r feltolerans, kanske du vill st\xe4lla in mer \xe4n en komposit.ERDDAP. Det \xe4r troligt att andra delar av systemet (I synnerhet datacentrets bandbredd) blir ett problem l\xe5ngt innan kompositenERDDAP\u2122Blir en flaskhals. L\xf6sningen \xe4r f\xf6rmodligen att skapa ytterligare geografiskt olika datacenter. (Speglar) Var och en med en kompositERDDAP\u2122och servrar medERDDAPs och (\xe5tminstone) spegelkopior av datam\xe4ngderna som \xe4r i h\xf6g efterfr\xe5gan. En s\xe5dan inst\xe4llning ger ocks\xe5 feltolerans och databackup (via kopiering) . I det h\xe4r fallet \xe4r det b\xe4st om kompositenERDDAPs har olika URL."}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"Om du verkligen vill ha all kompositERDDAPs att ha samma URL, anv\xe4nd ett fr\xe4mre \xe4ndsystem som tilldelar en viss anv\xe4ndare till bara en av kompositenERDDAPs (baserat p\xe5 IP-adressen) s\xe5 att alla anv\xe4ndarens f\xf6rfr\xe5gningar g\xe5r till bara en av kompositenERDDAPs. Det finns tv\xe5 sk\xe4l:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["N\xe4r en underliggande dataset laddas om och metadata \xe4ndras (t.ex. en ny datafil i ett ruttet dataset orsakar tidsvariabelnsactual\\_rangeatt f\xf6r\xe4ndra) Komposit\xf6rERDDAPs kommer att vara tillf\xe4lligt n\xe5got ur synkronisering, men med",(0,t.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Eventual_consistency",children:"Eventuell konsekvens"}),". Normalt kommer de att synkronisera inom 5 sekunder, men ibland blir det l\xe4ngre. Om en anv\xe4ndare g\xf6r ett automatiserat system som bygger p\xe5",(0,t.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/subscriptions/index.html",children:"ERDDAP\u2122Prenumerationer"}),"som utl\xf6ser \xe5tg\xe4rder kommer de korta synkronicitetsproblemen att bli betydande."]}),"\n",(0,t.jsx)(a.li,{children:"2+ kompositERDDAPVar och en uppr\xe4tth\xe5ller sin egen upps\xe4ttning abonnemang (p\xe5 grund av synkroniseringsproblemet som beskrivs ovan) ."}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["S\xe5 en viss anv\xe4ndare b\xf6r riktas till bara en av kompositenERDDAPF\xf6r att undvika dessa problem. Om en av kompositenERDDAPs g\xe5r ner, det fr\xe4mre \xe4ndsystemet kan omdirigera attERDDAPAnv\xe4ndare till en annanERDDAP\u2122Det \xe4r upp. Men om det \xe4r ett kapacitetsproblem som orsakar den f\xf6rsta kompositenERDDAP\u2122att misslyckas (en \xf6verdriven anv\xe4ndare? en",(0,t.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Denial-of-service_attack",children:"Denial-of-service attack"}),"??) Detta g\xf6r det mycket troligt att omdirigera sina anv\xe4ndare till annan kompositERDDAPS kommer att orsaka en",(0,t.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Cascading_failure",children:"Cascading misslyckande"}),". S\xe5ledes \xe4r den mest robusta inst\xe4llningen att ha kompositERDDAPs med olika URL."]}),"\n",(0,t.jsx)(a.p,{children:"Eller kanske b\xe4ttre, skapa flera kompositerERDDAPutan lastbalansering. I det h\xe4r fallet b\xf6r du g\xf6ra en punkt f\xf6r att ge var och en av deERDDAPett annat namn/identitet och om m\xf6jligt s\xe4tta upp dem i olika delar av v\xe4rlden (till exempel olika AWS-regioner) t.ex.,ERD\\_US\\_\xd6st,ERD\\_US\\_V\xe4st,ERDIE,ERDFR,ERD\\_IT, s\xe5 att anv\xe4ndarna medvetet arbetar upprepade g\xe5nger med en specifikERDDAP."}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["\\[F\xf6r en fascinerande design av ett h\xf6gt prestandasystem som k\xf6rs p\xe5 en server, se detta",(0,t.jsx)(a.a,{href:"https://mailinator.blogspot.com/2007/01/architecture-of-mailinator.html",children:"detaljerad beskrivning av Mailinator"}),".\\]"]}),"\n"]}),"\n",(0,t.jsx)(a.h3,{id:"datasets-in-very-high-demand",children:"Dataset i mycket h\xf6g efterfr\xe5gan"}),"\n",(0,t.jsxs)(a.p,{children:["I det riktigt ovanliga fallet \xe4r det en av ",(0,t.jsx)(a.strong,{children:"Ett"})," , ",(0,t.jsx)(a.strong,{children:"B"})," eller ",(0,t.jsx)(a.strong,{children:"C"}),"  ERDDAPs kan inte h\xe5lla j\xe4mna steg med f\xf6rfr\xe5gningarna p\xe5 grund av bandbredd eller h\xe5rddiskbegr\xe4nsningar, det \xe4r vettigt att kopiera data (igen igen) till en annan server+h\xe5rd Drive+ERDDAPkanske med",(0,t.jsx)(a.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridKopiera"}),"och/eller",(0,t.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDTableCopy"}),'. \xc4ven om det kan verka idealiskt att ha den ursprungliga datam\xe4ngden och kopierade datam\xe4ngden visas s\xf6ml\xf6st som en datam\xe4ngd i kompositen.ERDDAP\u2122Detta \xe4r sv\xe5rt eftersom de tv\xe5 datam\xe4ngderna kommer att vara i n\xe5got olika tillst\xe5nd vid olika tidpunkter. (Speciellt efter att originalet f\xe5r nya data, men innan den kopierade datam\xe4ngden f\xe5r sin kopia) . D\xe4rf\xf6r rekommenderar jag att datam\xe4ngderna ges n\xe5got olika titlar. (t.ex. \u201d... (Kopiera #1) Och "... (Kopiera #2) Eller kanske " (Spegel # ',(0,t.jsx)(a.em,{children:"n"}),' ) "eller" (Server # ',(0,t.jsx)(a.em,{children:"n"}),' ) ") och visas som separata datam\xe4ngder i kompositenERDDAP. Anv\xe4ndare anv\xe4nds f\xf6r att se listor \xf6ver',(0,t.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Website#mirror_site",children:"Spegelplatser"}),"p\xe5 popul\xe4ra filnedladdningswebbplatser, s\xe5 detta borde inte \xf6verraska eller g\xf6ra dem besvikna. P\xe5 grund av bandbredd begr\xe4nsningar p\xe5 en viss plats, kan det vara meningsfullt att ha spegeln ligger p\xe5 en annan plats. Om spegelkopian \xe4r p\xe5 ett annat datacenter, n\xe5s bara av datacentrets kompositERDDAP\u2122De olika titlarna (\u201dFel #1) \xe4r inte n\xf6dv\xe4ndigt."]}),"\n",(0,t.jsx)(a.h3,{id:"raids-versus-regular-hard-drives",children:"Raids kontra regelbundna h\xe5rddiskar"}),"\n",(0,t.jsxs)(a.p,{children:["Om en stor datam\xe4ngd eller en grupp datam\xe4ngder inte anv\xe4nds kraftigt kan det vara meningsfullt att lagra data p\xe5 en RAID eftersom det erbjuder feltolerans och eftersom du inte beh\xf6ver bearbetningskraft eller bandbredd p\xe5 en annan server. Men om en dataset anv\xe4nds kraftigt kan det vara mer meningsfullt att kopiera data p\xe5 en annan server +ERDDAP\u2122+ h\xe5rddisk (liknar",(0,t.jsx)(a.a,{href:"https://storagemojo.com/2007/02/19/googles-disk-failure-experience/",children:"Vad Google g\xf6r"}),") I st\xe4llet f\xf6r att anv\xe4nda en server och en RAID f\xf6r att lagra flera datam\xe4ngder eftersom du f\xe5r anv\xe4nda b\xe5de server+hardDrive+ERDDAPs i n\xe4tet tills en av dem misslyckas."]}),"\n",(0,t.jsx)(a.h3,{id:"failures",children:"Misslyckanden"}),"\n",(0,t.jsx)(a.p,{children:"Vad h\xe4nder om..."}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"Det finns en brist p\xe5 f\xf6rfr\xe5gningar om en dataset (Alla elever i en klass beg\xe4r samtidigt liknande data) ??\r\nEndastERDDAP\u2122Att betj\xe4na datam\xe4ngden kommer att \xf6verv\xe4ldigas och sakta ner eller v\xe4gra f\xf6rfr\xe5gningar. Komposit\xf6rERDDAP\u2122och andraERDDAPS kommer inte att p\xe5verkas. Eftersom den begr\xe4nsande faktorn f\xf6r en viss datam\xe4ngd inom systemet \xe4r h\xe5rddisken med data (Inte inteERDDAP) Den enda l\xf6sningen (Inte omedelbar) \xe4r att g\xf6ra en kopia av datasetet p\xe5 en annan server+hardDrive+ERDDAP."}),"\n",(0,t.jsxs)(a.li,{children:["Ett ",(0,t.jsx)(a.strong,{children:"Ett"})," , ",(0,t.jsx)(a.strong,{children:"B"})," eller ",(0,t.jsx)(a.strong,{children:"C"}),"  ERDDAP\u2122misslyckas (t.ex. h\xe5rddiskfel) ??\r\nEndast dataset (s) tj\xe4nat av detERDDAP\u2122p\xe5verkas. Om dataset (s) Speglas p\xe5 en annan server+hardDrive+ERDDAPEffekten \xe4r minimal. Om problemet \xe4r ett h\xe5rddiskfel p\xe5 en niv\xe5 5 eller 6 RAID, byter du bara enheten och har RAID \xe5teruppbygga data p\xe5 enheten."]}),"\n",(0,t.jsxs)(a.li,{children:["Komposit\xf6rERDDAP\u2122misslyckas?\r\nOm du vill g\xf6ra ett system med mycket",(0,t.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/High_availability",children:"h\xf6g tillg\xe4nglighet"}),"Du kan st\xe4lla in",(0,t.jsx)(a.a,{href:"#multiple-composite-erddaps",children:"multipel kompositERDDAPs (som diskuterats ovan) "}),"Anv\xe4nda n\xe5got liknande",(0,t.jsx)(a.a,{href:"https://www.nginx.com/",children:"NGINX"}),"eller",(0,t.jsx)(a.a,{href:"https://traefik.io/",children:"Traefik"}),"f\xf6r att hantera lastbalansering. Observera att en given kompositERDDAP\u2122kan hantera ett stort antal f\xf6rfr\xe5gningar fr\xe5n ett stort antal anv\xe4ndare eftersom\r\nf\xf6rfr\xe5gningar om metadata \xe4r sm\xe5 och hanteras av information som \xe4r i minnet, och\r\nF\xf6rfr\xe5gningar om data (som kan vara stor) omdirigeras till barnetERDDAPs."]}),"\n"]}),"\n",(0,t.jsx)(a.h3,{id:"simple-scalable",children:"Enkel, skalbar"}),"\n",(0,t.jsx)(a.p,{children:"Detta system \xe4r l\xe4tt att st\xe4lla in och administrera, och l\xe4tt utt\xf6mmande n\xe4r n\xe5gon del av det blir \xf6verbelastad. De enda verkliga begr\xe4nsningarna f\xf6r ett visst datacenter \xe4r datacentrets bandbredd och kostnaden f\xf6r systemet."}),"\n",(0,t.jsx)(a.h3,{id:"bandwidth",children:"Bandbredd"}),"\n",(0,t.jsx)(a.p,{children:"Notera den ungef\xe4rliga bandbredd av vanliga komponenter i systemet:"}),"\n",(0,t.jsxs)(a.table,{children:[(0,t.jsx)(a.thead,{children:(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.th,{children:"Komponent"}),(0,t.jsx)(a.th,{children:"Cirka bandbredd (GBytes/s)"})]})}),(0,t.jsxs)(a.tbody,{children:[(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:"DDR minne"}),(0,t.jsx)(a.td,{children:"2,5"})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:"SSD-enhet"}),(0,t.jsx)(a.td,{children:"1 1"})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:"SATA h\xe5rddisk"}),(0,t.jsx)(a.td,{children:"0.3"})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:"Gigabit Ethernet"}),(0,t.jsx)(a.td,{children:"0.1"})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:"OC-12"}),(0,t.jsx)(a.td,{children:"0,06"})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:"OC-3"}),(0,t.jsx)(a.td,{children:"0,015"})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:"T1"}),(0,t.jsx)(a.td,{children:"0.0002"})]})]})]}),"\n",(0,t.jsxs)(a.p,{children:["S\xe5 en SATA h\xe5rddisk (0,3 GB/s) p\xe5 en server med enERDDAP\u2122Kan nog m\xe4tta en Gigabit Ethernet LAN (0,1 GB/s) . En Gigabit Ethernet LAN (0,1 GB/s) Kan f\xf6rmodligen m\xe4tta en OC-12 Internetanslutning (0,06 GB/s) . Och minst en k\xe4lla listar OC-12 linjer kostar ca $ 100.000 per m\xe5nad. (Ja, dessa ber\xe4kningar \xe4r baserade p\xe5 att driva systemet till dess gr\xe4nser, vilket inte \xe4r bra eftersom det leder till mycket tr\xf6ga svar. Men dessa ber\xe4kningar \xe4r anv\xe4ndbara f\xf6r planering och balansering av delar av systemet.)   ",(0,t.jsx)(a.strong,{children:"Det \xe4r uppenbart att en l\xe4mpligt snabb internetanslutning f\xf6r ditt datacenter \xe4r den \xf6verl\xe4gset dyraste delen av systemet."})," Du kan enkelt och relativt billigt bygga ett n\xe4t med ett dussin servrar som k\xf6r ett dussinERDDAPs som kan pumpa ut massor av data snabbt, men en l\xe4mpligt snabb internetanslutning kommer att vara mycket, mycket dyrt. De partiella l\xf6sningarna \xe4r:"]}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"Uppmuntra kunder att beg\xe4ra delm\xe4ngder av data om det \xe4r allt som beh\xf6vs. Om kunden bara beh\xf6ver data f\xf6r en liten region eller en l\xe4gre uppl\xf6sning, \xe4r det vad de ska beg\xe4ra. Subsetting \xe4r ett centralt fokus f\xf6r protokollenERDDAP\u2122st\xf6d f\xf6r att beg\xe4ra data."}),"\n",(0,t.jsxs)(a.li,{children:["Uppmuntra \xf6verf\xf6ring av komprimerade data.ERDDAP\u2122 ",(0,t.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#compression",children:"Kompressorer"}),'en data\xf6verf\xf6ring om den finner "accept-kodning" iHTTP GETF\xf6rfr\xe5ga header. Alla webbl\xe4sare anv\xe4nder "accept-kodning" och dekomprimerar automatiskt svaret. Andra kunder (t.ex. datorprogram) m\xe5ste anv\xe4nda den explicit.']}),"\n",(0,t.jsx)(a.li,{children:"Kolla dina servrar p\xe5 en ISP eller annan webbplats som erbjuder relativt billigare bandbreddskostnader."}),"\n",(0,t.jsx)(a.li,{children:"Sprid servrarna medERDDAPs till olika institutioner s\xe5 att kostnaderna sprids. Du kan sedan l\xe4nka din kompositERDDAP\u2122till derasERDDAPs."}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["Observera att",(0,t.jsx)(a.a,{href:"#cloud-computing",children:"Cloud Computing"}),"och webbhotelltj\xe4nster erbjuder all Internet bandbredd du beh\xf6ver, men l\xf6s inte prisproblemet."]}),"\n",(0,t.jsxs)(a.p,{children:["F\xf6r allm\xe4n information om utformning av skalbar, h\xf6g kapacitet, feltolerantsystem, se Michael T. Nygards bok",(0,t.jsx)(a.a,{href:"https://www.amazon.com/Release-Production-Ready-Software-Pragmatic-Programmers/dp/0978739213",children:"Sl\xe4pp det"}),"."]}),"\n",(0,t.jsx)(a.h3,{id:"like-legos",children:"Som Legos"}),"\n",(0,t.jsxs)(a.p,{children:["Programvarudesigners f\xf6rs\xf6ker ofta anv\xe4nda bra",(0,t.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Software_design_pattern",children:"mjukvarudesignm\xf6nster"}),"F\xf6r att l\xf6sa problem. Bra m\xf6nster \xe4r bra eftersom de inkapslar bra, l\xe4tt att skapa och arbeta med generella l\xf6sningar som leder till system med bra egenskaper. M\xf6nsternamn \xe4r inte standardiserade, s\xe5 jag kallar det m\xf6nster somERDDAP\u2122anv\xe4nder Lego Pattern. Varje Lego (var och enERDDAP) \xe4r en enkel, liten, standard, frist\xe5ende, tegel (Dataserver) med ett definierat gr\xe4nssnitt som g\xf6r att det kan kopplas till andra legos (ERDDAPs) . De delar avERDDAP\u2122som utg\xf6r detta system \xe4r: abonnemangs- och flagURL-system (som m\xf6jligg\xf6r kommunikation mellanERDDAPs) EDD... FromErddap omdirigeringssystem och systemet f\xf6rRESTfulf\xf6rfr\xe5gningar om data som kan genereras av anv\xe4ndare eller andraERDDAPs. Med tv\xe5 eller fler legos (ERDDAPs) Du kan skapa ett stort antal olika former (N\xe4tverk topologier avERDDAPs) . Visst, designen och funktionerna iERDDAP\u2122kunde ha gjorts annorlunda, inte Lego-liknande, kanske bara f\xf6r att m\xf6jligg\xf6ra och optimera f\xf6r en specifik topologi. Men vi k\xe4nner attERDDAPLego-liknande design erbjuder en bra, allm\xe4n l\xf6sning som m\xf6jligg\xf6r allaERDDAP\u2122Administrat\xf6r (eller grupp av administrat\xf6rer) skapa alla typer av olika federation topologier. Till exempel kan en enskild organisation inr\xe4tta tre (eller mer)  ERDDAPSom visas i",(0,t.jsx)(a.a,{href:"#recommendations",children:"ERDDAP\u2122Grid/Cluster Diagram ovan"}),". Eller en distribuerad grupp (IOOS? CoastWatch? NCEI? NWS?NOAA?? USGS? Dataone? NEON? Senare? OOI? BODC? ONC? JRC? WMO?) kan st\xe4lla in enERDDAP\u2122i varje liten utpost (S\xe5 data kan stanna n\xe4ra k\xe4llan) och sedan skapa en kompositERDDAP\u2122i det centrala kontoret med virtuella dataset (som alltid \xe4r helt uppdaterade) fr\xe5n var och en av de sm\xe5ERDDAPs. AllaERDDAPinstallerad p\xe5 olika institutioner runt om i v\xe4rlden, som f\xe5r data fr\xe5n andraERDDAPoch/eller tillhandah\xe5lla data till andraERDDAPbildar ett gigantiskt n\xe4tverk avERDDAPs. Hur cool \xe4r det?! Som med Legos \xe4r m\xf6jligheterna o\xe4ndliga. Det \xe4r d\xe4rf\xf6r detta \xe4r ett bra m\xf6nster. D\xe4rf\xf6r \xe4r detta en bra design f\xf6rERDDAP."]}),"\n",(0,t.jsx)(a.h3,{id:"different-types-of-requests",children:"Olika typer av beg\xe4ran"}),"\n",(0,t.jsx)(a.p,{children:"En av de verkliga komplikationerna av denna diskussion av dataserver topologier \xe4r att det finns olika typer av f\xf6rfr\xe5gningar och olika s\xe4tt att optimera f\xf6r olika typer av f\xf6rfr\xe5gningar. Detta \xe4r oftast en separat fr\xe5ga (Hur snabbt kanERDDAP\u2122med uppgifterna svara p\xe5 beg\xe4ran om data?) fr\xe5n topologidebatten (som handlar om relationerna mellan dataservrar och vilken server som har den faktiska datan) .ERDDAP\u2122Sj\xe4lvklart f\xf6rs\xf6ker man hantera alla typer av f\xf6rfr\xe5gningar effektivt, men hanterar n\xe5gra b\xe4ttre \xe4n andra."}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"M\xe5nga f\xf6rfr\xe5gningar \xe4r enkla.\r\nTill exempel: Vad \xe4r metadata f\xf6r denna dataset? Eller: Vad \xe4r v\xe4rdena p\xe5 tidsdimensionen f\xf6r detta rutn\xe4tverk?ERDDAP\u2122\xe4r utformad f\xf6r att hantera dessa s\xe5 snabbt som m\xf6jligt (vanligtvis i<= 2 ms) genom att h\xe5lla denna information i minnet.\r\n\xa0"}),"\n",(0,t.jsx)(a.li,{children:"Vissa f\xf6rfr\xe5gningar \xe4r m\xe5ttligt sv\xe5ra.\r\nTill exempel: Ge mig denna delm\xe4ngd av en dataset (som finns i en datafil) . Dessa f\xf6rfr\xe5gningar kan hanteras relativt snabbt eftersom de inte \xe4r s\xe5 sv\xe5ra.\r\n\xa0"}),"\n",(0,t.jsxs)(a.li,{children:["Vissa f\xf6rfr\xe5gningar \xe4r sv\xe5ra och d\xe4rf\xf6r \xe4r tidskr\xe4vande.\r\nTill exempel: Ge mig denna delm\xe4ngd av en dataset (som kan vara i n\xe5gon av de 10 000 + datafilerna, eller kan vara fr\xe5n komprimerade datafiler som varje tar 10 sekunder att dekomprimera.) .ERDDAP\u2122v2.0 introducerade n\xe5gra nya, snabbare s\xe4tt att hantera dessa f\xf6rfr\xe5gningar, s\xe4rskilt genom att l\xe5ta beg\xe4ra hantering tr\xe5d att leka flera arbetartr\xe5dar som hanterar olika delm\xe4ngder av beg\xe4ran. Men det finns en annan inst\xe4llning till detta problem somERDDAP\u2122St\xf6d \xe4nnu inte: delm\xe4ngder av datafilerna f\xf6r en viss datam\xe4ngd kan lagras och analyseras p\xe5 separata datorer, och sedan kombineras resultaten p\xe5 den ursprungliga servern. Denna metod kallas",(0,t.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/MapReduce",children:"MapReduce"}),"och exemplifieras av",(0,t.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Apache_Hadoop",children:"Hadoop"}),"Den f\xf6rsta (??) Open-source MapReduce-programmet, som var baserat p\xe5 id\xe9er fr\xe5n ett Google-papper. (Om du beh\xf6ver MapReduce iERDDAP, skicka en e-postbeg\xe4ran tillerd.data at noaa.gov.) Googles",(0,t.jsx)(a.a,{href:"https://cloud.google.com/bigquery/",children:"BigQuery"}),"\xe4r intressant eftersom det verkar vara ett genomf\xf6rande av MapReduce som till\xe4mpas p\xe5 subsetting tabular dataset, som \xe4r en avERDDAPHuvudm\xe5l. Det \xe4r troligt att du kan skapa enERDDAP\u2122dataset fr\xe5n en BigQuery dataset via",(0,t.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablefromdatabase",children:"EDDTableFromDatabase"}),"Eftersom BigQuery kan n\xe5s via ett JDBC-gr\xe4nssnitt."]}),"\n"]}),"\n",(0,t.jsx)(a.h3,{id:"these-are-my-opinions",children:"Detta \xe4r mina \xe5sikter."}),"\n",(0,t.jsx)(a.p,{children:"Ja, ber\xe4kningarna \xe4r f\xf6renklade (och nu lite daterad) Men jag tror att slutsatserna \xe4r korrekta. Har jag anv\xe4nt felaktig logik eller gjort ett misstag i mina ber\xe4kningar? Om s\xe5 \xe4r fallet \xe4r felet min ensam. Skicka ett e-postmeddelande med r\xe4ttelsen tillerd dot data at noaa dot gov."}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h2,{id:"cloud-computing",children:(0,t.jsxs)(a.a,{href:"#cloud-computing",children:[" ",(0,t.jsx)(a.strong,{children:"Cloud Computing"})," "]})}),"\n",(0,t.jsxs)(a.p,{children:["Flera f\xf6retag erbjuder molntj\xe4nster (t.ex.,",(0,t.jsx)(a.a,{href:"https://aws.amazon.com/",children:"Amazon Web Services"}),"och",(0,t.jsx)(a.a,{href:"https://cloud.google.com/",children:"Google Cloud Platform"}),") .",(0,t.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Web_hosting_service",children:"Web hosting f\xf6retag"}),'har erbjudit enklare tj\xe4nster sedan mitten av 1990-talet, men "moln" tj\xe4nster har kraftigt ut\xf6kat flexibiliteten i systemen och utbudet av tj\xe4nster som erbjuds. Sedan dessERDDAP\u2122n\xe4t best\xe5r bara avERDDAPoch sedanERDDAP\xe4rJavawebbapplikationer som kan k\xf6ras i Tomcat (Den vanligaste programservern) eller andra applikationsservrar, b\xf6r det vara relativt l\xe4tt att st\xe4lla in enERDDAP\u2122rutn\xe4t p\xe5 en molntj\xe4nst eller webbhotell. F\xf6rdelarna med dessa tj\xe4nster \xe4r:']}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"De erbjuder tillg\xe5ng till mycket h\xf6g bandbredd Internetanslutningar. Detta ensam kan motivera att anv\xe4nda dessa tj\xe4nster."}),"\n",(0,t.jsx)(a.li,{children:"De tar bara ut f\xf6r de tj\xe4nster du anv\xe4nder. Till exempel f\xe5r du tillg\xe5ng till en mycket h\xf6g bandbreddsinternetanslutning, men du betalar bara f\xf6r faktiska data som \xf6verf\xf6rs. Det l\xe5ter dig bygga ett system som s\xe4llan blir \xf6verv\xe4ldigad (\xe4ven p\xe5 topp efterfr\xe5gan) utan att beh\xf6va betala f\xf6r kapacitet som s\xe4llan anv\xe4nds."}),"\n",(0,t.jsx)(a.li,{children:"De \xe4r l\xe4tt uth\xe5lliga. Du kan \xe4ndra servertyper eller l\xe4gga till s\xe5 m\xe5nga servrar eller s\xe5 mycket lagring som du vill, p\xe5 mindre \xe4n en minut. Detta ensam kan motivera att anv\xe4nda dessa tj\xe4nster."}),"\n",(0,t.jsx)(a.li,{children:"De frig\xf6r dig fr\xe5n m\xe5nga av de administrativa uppgifterna f\xf6r att k\xf6ra servrar och n\xe4tverk. Detta ensam kan motivera att anv\xe4nda dessa tj\xe4nster."}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"Nackdelarna med dessa tj\xe4nster \xe4r:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["De tar betalt f\xf6r sina tj\xe4nster, ibland mycket (i absoluta termer; inte att det inte \xe4r ett bra v\xe4rde) . Priserna som anges h\xe4r \xe4r f\xf6r",(0,t.jsx)(a.a,{href:"https://aws.amazon.com/ec2/pricing",children:"Amazon EC2"}),". Dessa priser (fr\xe5n och med juni 2015) kommer ner.\r\nTidigare var priserna h\xf6gre, men datafiler och antalet f\xf6rfr\xe5gningar var mindre.\r\nI framtiden blir priserna l\xe4gre, men datafiler och antalet f\xf6rfr\xe5gningar blir st\xf6rre.\r\nS\xe5 detaljerna f\xf6r\xe4ndras, men situationen f\xf6rblir relativt konstant.\r\nOch det \xe4r inte att tj\xe4nsten \xe4r \xf6verv\xe4rderad, det \xe4r att vi anv\xe4nder och k\xf6per mycket av tj\xe4nsten.","\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"Data\xf6verf\xf6ring \u2013 Data\xf6verf\xf6ringar till systemet \xe4r nu gratis (Ja!) .\r\nData\xf6verf\xf6ringar fr\xe5n systemet \xe4r $ 0,09/GB.\r\nEn SATA h\xe5rddisk (0,3 GB/s) p\xe5 en server med enERDDAP\u2122Kan nog m\xe4tta en Gigabit Ethernet LAN (0,1 GB/s) .\r\nEn Gigabit Ethernet LAN (0,1 GB/s) Kan f\xf6rmodligen m\xe4tta en OC-12 Internetanslutning (0,06 GB/s) .\r\nOm en OC-12-anslutning kan \xf6verf\xf6ra ~ 150.000 GB / m\xe5nad, kan data\xf6verf\xf6ringskostnaderna vara s\xe5 mycket som 150.000 GB @ $ 0,09 / GB = $ 13,500 / m\xe5nad, vilket \xe4r en betydande kostnad. Tydligt, om du har ett dussin h\xe5rt arbetandeERDDAPs p\xe5 en molntj\xe4nst, dina m\xe5natliga data\xf6verf\xf6ringsavgifter kan vara betydande (upp till $162 000/m\xe5nad) . (\xc5terigen \xe4r det inte att tj\xe4nsten \xe4r \xf6verv\xe4rderad, det \xe4r att vi anv\xe4nder och k\xf6per mycket av tj\xe4nsten.)"}),"\n",(0,t.jsxs)(a.li,{children:["Datalagring \u2013 Amazon tar ut $ 50/m\xe5nad per TB. (J\xe4mf\xf6r det med att k\xf6pa en 4TB f\xf6retag k\xf6ra direkt f\xf6r ~ $ 50 / TB, \xe4ven om RAID att s\xe4tta in och administrativa kostnader l\xe4gga till den totala kostnaden.) S\xe5 om du beh\xf6ver lagra massor av data i molnet kan det vara ganska dyrt (100TB skulle kosta 5000 USD/m\xe5nad) . Men om du inte har en riktigt stor m\xe4ngd data, \xe4r detta en mindre fr\xe5ga \xe4n bandbredd / data\xf6verf\xf6ringskostnader. (\xc5terigen \xe4r det inte att tj\xe4nsten \xe4r \xf6verv\xe4rderad, det \xe4r att vi anv\xe4nder och k\xf6per mycket av tj\xe4nsten.)",(0,t.jsx)(a.br,{}),"\n","\xa0"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(a.h3,{id:"subsetting",children:"Subsetting"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:'Subsettingproblemet: Det enda s\xe4ttet att effektivt distribuera data fr\xe5n datafiler \xe4r att ha programmet som distribuerar data. (t.ex.,ERDDAP) k\xf6r p\xe5 en server som har data lagrad p\xe5 en lokal h\xe5rddisk (eller liknande snabb tillg\xe5ng till en SAN eller lokal RAID) . Lokala filsystem till\xe5terERDDAP\u2122  (och underliggande bibliotek, s\xe5som netcdf-java) att beg\xe4ra specifika bytesintervall fr\xe5n filerna och f\xe5 svar mycket snabbt. M\xe5nga typer av dataf\xf6rfr\xe5gningar fr\xe5nERDDAP\u2122till filen (s\xe4rskilt ruttna dataf\xf6rfr\xe5gningar d\xe4r stegv\xe4rdet \xe4r > 1 1) Kan inte g\xf6ras effektivt om programmet m\xe5ste beg\xe4ra hela filen eller stora bitar av en fil fr\xe5n en icke-lokal (D\xe4rf\xf6r l\xe5ngsammare) datalagringssystem och sedan extrahera en delm\xe4ngd. Om molninst\xe4llningen inte gerERDDAP\u2122snabb \xe5tkomst till bytesintervall av filerna (S\xe5 fort som med lokala filer) ,ERDDAP"Tillg\xe5ng till data kommer att vara en sv\xe5r flaskhals och negera andra f\xf6rdelar med att anv\xe4nda en molntj\xe4nst.'}),"\n"]}),"\n",(0,t.jsx)(a.h3,{id:"hosted-data",children:"Hosted Data"}),"\n",(0,t.jsx)(a.p,{children:"Ett alternativ till ovanst\xe5ende kostnadsf\xf6rm\xe5nsanalys (som \xe4r baserat p\xe5 data\xe4garen (t.ex.,NOAA) betala f\xf6r att deras data ska lagras i molnet) kom runt 2012, n\xe4r Amazon (och i mindre utstr\xe4ckning andra molnleverant\xf6rer) b\xf6rjade hosting n\xe5gra dataset i deras moln (AWS S3) gratis gratis (antagligen med f\xf6rhoppningen att de skulle kunna \xe5terh\xe4mta sina kostnader om anv\xe4ndarna skulle hyra AWS EC2-ber\xe4kningsinstanser f\xf6r att arbeta med dessa data) . Det g\xf6r klart att cloud computing mycket mer kostnadseffektivt, eftersom tiden och kostnaden f\xf6r att ladda upp data och hosting det \xe4r nu noll. MedERDDAP\u2122v2.0, det finns nya funktioner f\xf6r att underl\xe4tta k\xf6rningERDDAPI ett moln:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"Nu, enEDDGridFr\xe5nFiles eller EDDTableFromFiles dataset kan skapas fr\xe5n datafiler som \xe4r avl\xe4gsna och tillg\xe4ngliga via internet (t.ex. AWS S3 hink) genom att anv\xe4nda<cacheFromUrl> och<CacheSize GB> alternativ.ERDDAP\u2122kommer att beh\xe5lla en lokal cache av de senast anv\xe4nda datafilerna."}),"\n",(0,t.jsx)(a.li,{children:"Nu, om n\xe5gon EDDTableFromFiles k\xe4llfiler komprimeras (t.ex.,.tgz) ,ERDDAP\u2122Dekomprimera dem automatiskt n\xe4r de l\xe4ser dem."}),"\n",(0,t.jsx)(a.li,{children:"Nu, denERDDAP\u2122tr\xe5d som svarar p\xe5 en viss beg\xe4ran kommer att leka arbetstagare tr\xe5dar f\xf6r att arbeta p\xe5 underavsnitt av beg\xe4ran om du anv\xe4nder<nThreads & gt; alternativ. Denna parallellisering b\xf6r m\xf6jligg\xf6ra snabbare svar p\xe5 sv\xe5ra \xf6nskem\xe5l."}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"Dessa \xe4ndringar l\xf6ser problemet med AWS S3 som inte erbjuder lokal, block-niv\xe5 fillagring och (gamla gamla) problem med tillg\xe5ng till S3-data som har en betydande f\xf6rdr\xf6jning. (F\xf6r \xe5r sedan (~2014) Denna f\xf6rdr\xf6jning var betydande, men \xe4r nu mycket kortare och s\xe5 inte lika betydande.) Sammantaget betyder det att inr\xe4ttaERDDAP\u2122i molnet fungerar mycket b\xe4ttre nu."}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"Tack"})," M\xe5nga tack vare Matthew Arrott och hans grupp i den ursprungliga OOI-insatsen f\xf6r deras arbete med att s\xe4ttaERDDAP\u2122i molnet och de resulterande diskussionerna.\r\n\xa0"]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h2,{id:"remote-replication-of-datasets",children:(0,t.jsx)(a.a,{href:"#remote-replication-of-datasets",children:"Fj\xe4rrreplikering av datam\xe4ngder"})}),"\n",(0,t.jsx)(a.p,{children:"Det finns ett vanligt problem som \xe4r relaterat till ovanst\xe5ende diskussion om n\xe4t och federationer.ERDDAPs: fj\xe4rrreplikering av dataset. Det grundl\xe4ggande problemet \xe4r: en dataleverant\xf6r uppr\xe4tth\xe5ller en datam\xe4ngd som \xe4ndras ibland och en anv\xe4ndare vill beh\xe5lla en aktuell lokal kopia av denna datam\xe4ngd (av n\xe5gon av olika sk\xe4l) . Det \xe4r uppenbart att det finns ett stort antal variationer av detta. Vissa variationer \xe4r mycket sv\xe5rare att hantera \xe4n andra."}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["Snabba uppdateringar\r\nDet \xe4r sv\xe5rare att h\xe5lla den lokala datam\xe4ngden uppdaterad ",(0,t.jsx)(a.em,{children:"omedelbart"}),"   (t ex inom 3 sekunder) efter varje \xe4ndring av k\xe4llan, snarare \xe4n till exempel inom n\xe5gra timmar.\r\n\xa0"]}),"\n",(0,t.jsx)(a.li,{children:"Frekventa f\xf6r\xe4ndringar\r\nOfta \xe4r f\xf6r\xe4ndringar sv\xe5rare att hantera \xe4n s\xe4llan f\xf6r\xe4ndringar. Till exempel, en g\xe5ng per dag f\xf6r\xe4ndringar \xe4r mycket l\xe4ttare att hantera \xe4n f\xf6r\xe4ndringar var 0,1 sekund.\r\n\xa0"}),"\n",(0,t.jsx)(a.li,{children:"Sm\xe5 f\xf6r\xe4ndringar\r\nSm\xe5 \xe4ndringar i en k\xe4llfil \xe4r sv\xe5rare att hantera \xe4n en helt ny fil. Detta g\xe4ller s\xe4rskilt om de sm\xe5 \xe4ndringarna kan vara n\xe5gonstans i filen. Sm\xe5 f\xf6r\xe4ndringar \xe4r sv\xe5rare att uppt\xe4cka och g\xf6ra det sv\xe5rt att isolera data som m\xe5ste replikeras. Nya filer \xe4r l\xe4tta att uppt\xe4cka och effektiva att \xf6verf\xf6ra.\r\n\xa0"}),"\n",(0,t.jsx)(a.li,{children:"Hela dataset\r\nAtt h\xe5lla en hel dataset up-to-date \xe4r sv\xe5rare \xe4n att uppr\xe4tth\xe5lla ny data. Vissa anv\xe4ndare beh\xf6ver bara senaste data (t.ex. den sista 8 dagens v\xe4rde) .\r\n\xa0"}),"\n",(0,t.jsx)(a.li,{children:"Flera kopior\r\nAtt uppr\xe4tth\xe5lla flera fj\xe4rrkopior p\xe5 olika platser \xe4r sv\xe5rare \xe4n att uppr\xe4tth\xe5lla en fj\xe4rrkopia. Detta \xe4r skalproblemet.\r\n\xa0"}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"Det finns uppenbarligen ett stort antal variationer av m\xf6jliga typer av f\xf6r\xe4ndringar i k\xe4lldataset och anv\xe4ndarens behov och f\xf6rv\xe4ntningar. M\xe5nga av variationerna \xe4r mycket sv\xe5ra att l\xf6sa. Den b\xe4sta l\xf6sningen f\xf6r en situation \xe4r ofta inte den b\xe4sta l\xf6sningen f\xf6r en annan situation - det finns inte en universell bra l\xf6sning."}),"\n",(0,t.jsx)(a.h3,{id:"relevant-erddap-tools",children:(0,t.jsxs)(a.a,{href:"#relevant-erddap-tools",children:[" ",(0,t.jsx)(a.strong,{children:"RelevantERDDAP\u2122Verktyg"})," "]})}),"\n",(0,t.jsx)(a.p,{children:"ERDDAP\u2122erbjuder flera verktyg som kan anv\xe4ndas som en del av ett system som syftar till att uppr\xe4tth\xe5lla en fj\xe4rrkopia av ett dataset:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:['ERDDAP"S',(0,t.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/RSS",children:"RSS  (Rich Site Sammanfattning?) Serviceservice"}),(0,t.jsx)(a.br,{}),"\n","erbjuder ett snabbt s\xe4tt att kontrollera om en dataset p\xe5 en fj\xe4rrkontrollERDDAP\u2122har f\xf6r\xe4ndrats.\r\n\xa0"]}),"\n",(0,t.jsxs)(a.li,{children:['ERDDAP"S',(0,t.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions",children:"Prenumerationstj\xe4nst"}),(0,t.jsx)(a.br,{}),"\n","\xe4r en effektivare (\xe4nRSS) tillv\xe4gag\xe5ngss\xe4tt: det kommer omedelbart att skicka ett e-postmeddelande eller kontakta en URL till varje abonnent n\xe4r datam\xe4ngden uppdateras och uppdateringen resulterade i en f\xf6r\xe4ndring. Det \xe4r effektivt genom att det h\xe4nder ASAP och det finns ingen bortkastad anstr\xe4ngning. (som med polling enRSSServiceservice) . Anv\xe4ndare kan anv\xe4nda andra verktyg (som liknar",(0,t.jsx)(a.a,{href:"https://ifttt.com/",children:"IFTTT"}),") att reagera p\xe5 e-postmeddelanden fr\xe5n prenumerationssystemet. Till exempel kan en anv\xe4ndare prenumerera p\xe5 en dataset p\xe5 en fj\xe4rrkontrollERDDAP\u2122och anv\xe4nda IFTTT f\xf6r att reagera p\xe5 abonnemanget e-postmeddelanden och utl\xf6sa uppdatering av den lokala datam\xe4ngden.\r\n\xa0"]}),"\n",(0,t.jsxs)(a.li,{children:['ERDDAP"S',(0,t.jsx)(a.a,{href:"/docs/server-admin/additional-information#flag",children:"Flagga system"}),(0,t.jsx)(a.br,{}),"\n","ger ett s\xe4tt f\xf6r enERDDAP\u2122administrat\xf6r f\xf6r att ber\xe4tta en dataset p\xe5 hans/hennesERDDAPf\xf6r att ladda om ASAP. URL-formen f\xf6r en flagga kan enkelt anv\xe4ndas i skript. URL-formen f\xf6r en flagga kan ocks\xe5 anv\xe4ndas som \xe5tg\xe4rd f\xf6r en prenumeration.\r\n\xa0"]}),"\n",(0,t.jsxs)(a.li,{children:['ERDDAP"S',(0,t.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html",children:'"files"Systemsystem'}),(0,t.jsx)(a.br,{}),"\n",'kan erbjuda \xe5tkomst till k\xe4llfilerna f\xf6r en viss dataset, inklusive en Apache-stil katalog notering av filerna (En "Web Accessible Folder") som har varje fils nedladdningsadress, senast \xe4ndrad tid och storlek. En nackdel med att anv\xe4nda"files"system \xe4r att k\xe4llfilerna kan ha olika variabla namn och olika metadata \xe4n datam\xe4ngden som visas iERDDAP. Om en fj\xe4rrkontrollERDDAP\u2122dataset erbjuder tillg\xe5ng till sina k\xe4llfiler, som \xf6ppnar upp m\xf6jligheten av en fattig-man version av rsync: det blir l\xe4tt f\xf6r ett lokalt system att se vilka fj\xe4rrfiler som har \xe4ndrats och beh\xf6ver laddas ner. (Se',(0,t.jsx)(a.a,{href:"#cache-from-url",children:"cacheFromUrl alternativet"}),"nedan som kan anv\xe4nda detta.)",(0,t.jsx)(a.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,t.jsx)(a.h3,{id:"solutions",children:(0,t.jsx)(a.a,{href:"#solutions",children:"L\xf6sningar"})}),"\n",(0,t.jsx)(a.p,{children:"\xc4ven om det finns ett stort antal variationer i problemet och ett o\xe4ndligt antal m\xf6jliga l\xf6sningar finns det bara en handfull grundl\xe4ggande l\xf6sningar p\xe5 l\xf6sningar:"}),"\n",(0,t.jsx)(a.h4,{id:"custom-brute-force-solutions",children:"Anpassade, Brute Force Solutions"}),"\n",(0,t.jsx)(a.p,{children:"En uppenbar l\xf6sning \xe4r att skapa en anpassad l\xf6sning som d\xe4rf\xf6r \xe4r optimerad f\xf6r en given situation: g\xf6ra ett system som uppt\xe4cker/identifierar vilka data som har \xe4ndrats och skickar den informationen till anv\xe4ndaren s\xe5 att anv\xe4ndaren kan beg\xe4ra \xe4ndrade data. Du kan g\xf6ra detta, men det finns nackdelar:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"Anpassade l\xf6sningar \xe4r mycket arbete."}),"\n",(0,t.jsx)(a.li,{children:"Anpassade l\xf6sningar \xe4r vanligtvis s\xe5 anpassade till en viss datam\xe4ngd och givet anv\xe4ndarens system att de inte l\xe4tt kan \xe5teranv\xe4ndas."}),"\n",(0,t.jsx)(a.li,{children:"Anpassade l\xf6sningar m\xe5ste byggas och underh\xe5llas av dig. (Det \xe4r aldrig en bra id\xe9. Det \xe4r alltid en bra id\xe9 att undvika arbete och f\xe5 n\xe5gon annan att g\xf6ra jobbet!)"}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"Jag avskr\xe4cker att ta detta tillv\xe4gag\xe5ngss\xe4tt eftersom det n\xe4stan alltid \xe4r b\xe4ttre att leta efter allm\xe4nna l\xf6sningar, byggda och underh\xe5llna av n\xe5gon annan, som l\xe4tt kan \xe5teranv\xe4ndas i olika situationer.\r\n\xa0"}),"\n",(0,t.jsx)(a.h4,{id:"rsync",children:"Rsync"}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Rsync",children:"Rsync"}),"\xe4r den befintliga, fantastiskt bra, allm\xe4nt \xe4ndam\xe5l l\xf6sning f\xf6r att h\xe5lla en samling filer p\xe5 en k\xe4lldator synkroniseras p\xe5 en anv\xe4ndares fj\xe4rrdator. Hur det fungerar \xe4r:"]}),"\n",(0,t.jsxs)(a.ol,{children:["\n",(0,t.jsx)(a.li,{children:"N\xe5gra event (t.ex. enERDDAP\u2122abonnemangssystem h\xe4ndelse) utl\xf6sare som k\xf6r rsync,\r\n(eller ett cronjobb k\xf6rs rsync vid specifika tidpunkter varje dag p\xe5 anv\xe4ndarens dator)"}),"\n",(0,t.jsx)(a.li,{children:"som kontaktar rsync p\xe5 k\xe4lldatorn,"}),"\n",(0,t.jsx)(a.li,{children:"som ber\xe4knar en serie hashes f\xf6r bitar av varje fil och \xf6verf\xf6r dessa hashes till anv\xe4ndarens rsync,"}),"\n",(0,t.jsx)(a.li,{children:"som j\xe4mf\xf6r denna information med liknande information f\xf6r anv\xe4ndarens kopia av filerna,"}),"\n",(0,t.jsx)(a.li,{children:"som sedan beg\xe4r bitar av filer som har \xe4ndrats."}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["Med tanke p\xe5 allt det g\xf6r fungerar rsync mycket snabbt (t.ex. 10 sekunder plus data\xf6verf\xf6ringstid) och mycket effektivt. Det finns",(0,t.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Rsync#Variations",children:"variationer av rsync"}),"som optimerar f\xf6r olika situationer (t.ex. genom att precalculating och caching hashes av bitarna i varje k\xe4llfil) ."]}),"\n",(0,t.jsx)(a.p,{children:"De viktigaste svagheterna i rsync \xe4r: det kr\xe4vs lite anstr\xe4ngning att inr\xe4tta (S\xe4kerhetsfr\xe5gor) ; Det finns n\xe5gra skalproblem; och det \xe4r inte bra f\xf6r att h\xe5lla NRT-datam\xe4ngder verkligen uppdaterade (t.ex. \xe4r det besv\xe4rligt att anv\xe4nda rsync mer \xe4n ca var 5: e minut) . Om du kan hantera svagheterna, eller om de inte p\xe5verkar din situation, \xe4r rsync en utm\xe4rkt, allm\xe4n l\xf6sning som alla kan anv\xe4nda just nu f\xf6r att l\xf6sa m\xe5nga scenarier som involverar fj\xe4rrreplikering av datam\xe4ngder."}),"\n",(0,t.jsx)(a.p,{children:"Det finns ett objekt p\xe5ERDDAP\u2122F\xf6r att g\xf6ra lista f\xf6r att f\xf6rs\xf6ka l\xe4gga till st\xf6d f\xf6r rsync-tj\xe4nster tillERDDAP  (f\xf6rmodligen en ganska sv\xe5r uppgift) S\xe5 att varje klient kan anv\xe4nda rsync (eller en variant) f\xf6r att uppr\xe4tth\xe5lla en uppdaterad kopia av en dataset. Om n\xe5gon vill arbeta p\xe5 detta, v\xe4nligen e-posterd.data at noaa.gov."}),"\n",(0,t.jsxs)(a.p,{children:['Det finns andra program som g\xf6r mer eller mindre vad rsync g\xf6r, ibland inriktad p\xe5 dataset replikering (men ofta p\xe5 en filkopieringsniv\xe5) t.ex.,Unidata"S',(0,t.jsx)(a.a,{href:"https://www.unidata.ucar.edu/projects/index.html#idd",children:"IDD"}),"."]}),"\n",(0,t.jsx)(a.h4,{id:"cache-from-url",children:"Cache fr\xe5n Url"}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.a,{href:"/docs/server-admin/datasets#cachefromurl",children:"CacheFromUrl"}),'Inst\xe4llningen \xe4r tillg\xe4nglig (B\xf6rja medERDDAP\u2122v2.0) f\xf6r allaERDDAP"S dataset typer som g\xf6r dataset fr\xe5n filer (i princip alla underklasser av',(0,t.jsx)(a.a,{href:"/docs/server-admin/datasets#eddgridfromfiles",children:"EDDGridFr\xe5nFiles"}),"och",(0,t.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablefromfiles",children:"EDDTableFromFiles"}),') . Cache FromUrl g\xf6r det trivialt att automatiskt ladda ner och beh\xe5lla de lokala datafilerna genom att kopiera dem fr\xe5n en fj\xe4rrk\xe4lla via cache Fr\xe5nUrl inst\xe4llning. Fj\xe4rrfilerna kan vara i en Web Accessible Folder eller en katalogliknande fillista som erbjuds av THREDDS,Hyraxen S3 hink, ellerERDDAP"S"files"system.']}),"\n",(0,t.jsxs)(a.p,{children:['Om k\xe4llan till fj\xe4rrfilerna \xe4r en fj\xe4rrkontrollERDDAP\u2122dataset som erbjuder k\xe4llfilerna viaERDDAP\u2122 "files"system, d\xe5 kan du',(0,t.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions",children:"Prenumerera"}),"till fj\xe4rrdataset och anv\xe4nd",(0,t.jsx)(a.a,{href:"/docs/server-admin/additional-information#flag",children:"Flagga URL"}),"f\xf6r din lokala dataset som \xe5tg\xe4rd f\xf6r prenumerationen. N\xe4r fj\xe4rrdatam\xe4ngden \xe4ndras kommer den att kontakta flagg-URL f\xf6r din datam\xe4ngd, som kommer att ber\xe4tta f\xf6r den att ladda om ASAP, som kommer att uppt\xe4cka och ladda ner de \xe4ndrade fj\xe4rrdatafilerna. Allt detta h\xe4nder mycket snabbt (vanligtvis ~ 5 sekunder plus den tid som beh\xf6vs f\xf6r att ladda ner de \xe4ndrade filerna) . Detta tillv\xe4gag\xe5ngss\xe4tt fungerar bra om k\xe4lldatam\xe4ngden \xe4ndras \xe4r nya filer som regelbundet l\xe4ggs till och n\xe4r de befintliga filerna aldrig \xe4ndras. Detta tillv\xe4gag\xe5ngss\xe4tt fungerar inte bra om data ofta l\xe4ggs till alla (eller de flesta) av de befintliga k\xe4lldatafilerna, eftersom din lokala dataset ofta laddar ner hela fj\xe4rrdatasetet. (Det \xe4r h\xe4r ett rsync-liknande tillv\xe4gag\xe5ngss\xe4tt beh\xf6vs.)"]}),"\n",(0,t.jsx)(a.h4,{id:"archiveadataset",children:"ArchiveADataset"}),"\n",(0,t.jsxs)(a.p,{children:['ERDDAP\u2122"S',(0,t.jsx)(a.a,{href:"/docs/server-admin/additional-information#archiveadataset",children:"ArchiveADataset"}),"\xe4r en bra l\xf6sning n\xe4r data l\xe4ggs till i en datam\xe4ngd ofta, men \xe4ldre data \xe4ndras aldrig. I grund och botten, enERDDAP\u2122Administrat\xf6r kan k\xf6ra ArchiveADataset (Kanske i ett manus, kanske springa av cron) och ange en delm\xe4ngd av en datam\xe4ngd som de vill extrahera (Kanske i flera filer) och paket i en.zipeller.tgzfil, s\xe5 att du kan skicka filen till intresserade personer eller grupper (t.ex. NCEI f\xf6r arkivering) eller g\xf6ra den tillg\xe4nglig f\xf6r nedladdning. Till exempel kan du k\xf6ra ArchiveADataset varje dag kl 12:10 och f\xe5 det att g\xf6ra en.zipav alla data fr\xe5n 12:00 \xe4r f\xf6reg\xe5ende dag fram till kl 12:00 idag. (Eller, g\xf6r denna veckovisa, m\xe5natliga eller \xe5rliga, efter behov.) Eftersom den f\xf6rpackade filen genereras offline finns det ingen risk f\xf6r en timeout eller f\xf6r mycket data, eftersom det skulle finnas f\xf6r en standard.ERDDAP\u2122beg\xe4ran.\r\n\xa0"]}),"\n",(0,t.jsx)(a.h4,{id:"erddaps-standard-request-system",children:"ERDDAP\u2122Standardf\xf6rfr\xe5ganssystem"}),"\n",(0,t.jsx)(a.p,{children:"ERDDAP\u2122Standardf\xf6rfr\xe5ganssystem \xe4r en alternativ bra l\xf6sning n\xe4r data l\xe4ggs till ofta, men \xe4ldre data \xe4ndras aldrig. I grund och botten kan vem som helst anv\xe4nda standardf\xf6rfr\xe5gningar f\xf6r att f\xe5 data f\xf6r en viss tid. Till exempel, kl 12:10 varje dag, kan du g\xf6ra en beg\xe4ran om alla data fr\xe5n en fj\xe4rrdatam\xe4ngd fr\xe5n 12:00 \xe4r f\xf6reg\xe5ende dag fram till kl 12:00 idag. Begr\xe4nsningen (j\xe4mf\xf6rt med ArchiveADataset-metoden) \xe4r risken f\xf6r en timeout eller det finns f\xf6r mycket data f\xf6r en enda fil. Du kan undvika begr\xe4nsningen genom att g\xf6ra mer frekventa f\xf6rfr\xe5gningar f\xf6r mindre tidsperioder.\r\n\xa0"}),"\n",(0,t.jsx)(a.h4,{id:"eddtablefromhttpget",children:"EDDTableFromHttpGet"}),"\n",(0,t.jsxs)(a.p,{children:["\\[Det h\xe4r alternativet finns \xe4nnu inte, men verkar m\xf6jligt att bygga inom en snar framtid.\\]",(0,t.jsx)(a.br,{}),"\n","Den nya",(0,t.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablefromhttpget",children:"EDDTableFromHttpGet"}),"Datasettyp iERDDAP\u2122v2.0 g\xf6r det m\xf6jligt att f\xf6rutse en annan l\xf6sning. De underliggande filer som uppr\xe4tth\xe5lls av denna typ av datam\xe4ngd \xe4r i huvudsak loggfiler som registrerar \xe4ndringar i datam\xe4ngden. Det b\xf6r vara m\xf6jligt att bygga ett system som uppr\xe4tth\xe5ller en lokal datam\xe4ngd per periodiskt (eller baserat p\xe5 en trigger) beg\xe4ra alla \xe4ndringar som har gjorts till fj\xe4rrdataset sedan den senaste beg\xe4ran. Det b\xf6r vara lika effektivt (eller mer) \xe4n rsync och skulle hantera m\xe5nga sv\xe5ra scenarier, men skulle bara fungera om fj\xe4rr- och lokala datam\xe4ngder \xe4r EDDTableFromHttpGet datam\xe4ngder."]}),"\n",(0,t.jsx)(a.p,{children:"Om n\xe5gon vill arbeta p\xe5 detta, v\xe4nligen kontaktaerd.data at noaa.gov."}),"\n",(0,t.jsx)(a.h4,{id:"distributed-data",children:"Distribuerade data"}),"\n",(0,t.jsx)(a.p,{children:"Ingen av l\xf6sningarna ovan g\xf6r ett bra jobb med att l\xf6sa de h\xe5rda variationerna av problemet eftersom replikering av n\xe4stan realtid. (NRT) Dataset \xe4r mycket sv\xe5rt, dels p\xe5 grund av alla m\xf6jliga scenarier."}),"\n",(0,t.jsx)(a.p,{children:"Det finns en bra l\xf6sning: f\xf6rs\xf6k inte ens att replikera data.\r\nAnv\xe4nd ist\xe4llet en auktoritativ k\xe4lla (En dataset p\xe5 enERDDAP) uppr\xe4tth\xe5lls av dataleverant\xf6ren (t.ex. ett regionalt kontor) . Alla anv\xe4ndare som vill ha data fr\xe5n datam\xe4ngden f\xe5r alltid det fr\xe5n k\xe4llan. Till exempel, webbl\xe4sarbaserade appar f\xe5r data fr\xe5n en URL-baserad beg\xe4ran, s\xe5 det b\xf6r inte spela n\xe5gon roll att beg\xe4ran \xe4r till den ursprungliga k\xe4llan p\xe5 en fj\xe4rrserver. (inte samma server som \xe4r v\xe4rd f\xf6r ESM) . M\xe5nga har l\xe4nge f\xf6respr\xe5kat detta distribuerade datatillv\xe4gag\xe5ngss\xe4tt. (Roy Mendelssohn de senaste 20+ \xe5ren) .ERDDAPGrid/federationsmodell (Topp 80% av detta dokument) bygger p\xe5 detta tillv\xe4gag\xe5ngss\xe4tt. Denna l\xf6sning \xe4r som ett sv\xe4rd till en Gordian Knot \u2013 hela problemet f\xf6rsvinner."}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"Denna l\xf6sning \xe4r fantastiskt enkel."}),"\n",(0,t.jsx)(a.li,{children:"Denna l\xf6sning \xe4r fantastiskt effektiv eftersom inget arbete g\xf6rs f\xf6r att h\xe5lla en replikerad dataset (s) up-to-date."}),"\n",(0,t.jsx)(a.li,{children:"Anv\xe4ndare kan f\xe5 de senaste uppgifterna n\xe4r som helst (t.ex. med en latens p\xe5 endast 0,5 sekunder) ."}),"\n",(0,t.jsxs)(a.li,{children:["Det skalar ganska bra och det finns s\xe4tt att f\xf6rb\xe4ttra skalning. (Se diskussionen p\xe5 topp 80% av detta dokument.)",(0,t.jsx)(a.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"Nej, det h\xe4r \xe4r inte en l\xf6sning f\xf6r alla m\xf6jliga situationer, men det \xe4r en bra l\xf6sning f\xf6r de allra flesta. Om det finns problem/svagheter med denna l\xf6sning i vissa situationer, \xe4r det ofta v\xe4rt att arbeta f\xf6r att l\xf6sa dessa problem eller leva med dessa svagheter p\xe5 grund av de fantastiska f\xf6rdelarna med denna l\xf6sning. Om/n\xe4r den h\xe4r l\xf6sningen verkligen \xe4r oacceptabel f\xf6r en viss situation, t.ex. n\xe4r du verkligen m\xe5ste ha en lokal kopia av data, \xf6verv\xe4ga de andra l\xf6sningarna som diskuteras ovan.\r\n\xa0"}),"\n",(0,t.jsx)(a.h3,{id:"conclusion",children:"Slutsats"}),"\n",(0,t.jsx)(a.p,{children:"Det finns ingen enkel l\xf6sning som l\xf6ser alla problem i alla scenarier. (som rsync och distribuerade data n\xe4stan \xe4r) F\xf6rhoppningsvis finns det tillr\xe4ckliga verktyg och alternativ s\xe5 att du kan hitta en acceptabel l\xf6sning f\xf6r din situation."})]})}function g(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(m,{...e})}):m(e)}},88623:(e,a,n)=>{n.d(a,{A:()=>r});const r=n.p+"assets/images/cluster-73996a04326fe63934754f994e09f63f.png"}}]);