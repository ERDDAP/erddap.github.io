"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[291],{23705(e,a,n){n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>s,default:()=>f,frontMatter:()=>i,metadata:()=>t,toc:()=>m});const t=JSON.parse('{"id":"server-admin/EDDTableFromEML","title":"EDDTableFromEML","description":"\\\\\\\\[ Denna webbsida kommer endast att vara av intresse f\xf6r ERDDAP\u2122 administrat\xf6rer som arbetar med EML-filer.","source":"@site/i18n/sv/docusaurus-plugin-content-docs/current/server-admin/EDDTableFromEML.md","sourceDirName":"server-admin","slug":"/server-admin/EDDTableFromEML","permalink":"/sv/docs/server-admin/EDDTableFromEML","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/EDDTableFromEML.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"EDDTableFromEML","sidebar_position":6},"sidebar":"docSidebar","previous":{"title":"Scaling","permalink":"/sv/docs/server-admin/scaling"},"next":{"title":"display Info och displayAttribute Taggar","permalink":"/sv/docs/server-admin/display-info"}}');var r=n(74848),l=n(28453);const i={title:"EDDTableFromEML",sidebar_position:6},s="EDDTableFromEML och EDDTableFromEMLBatch Alternativ i GenerateDatasets Xml",d={},m=[{value:"Fr\xe5gor",id:"questions",level:2},{value:"Designdetaljer",id:"design-details",level:2},{value:"En datatabell blir en ERDDAP\u2122 Dataset",id:"one-datatable-becomes-one-erddap-dataset",level:3},{value:"EML kontra CF+ACDD",id:"eml-versus-cfacdd",level:3},{value:"Sm\xe5 f\xf6r\xe4ndringar",id:"small-changes",level:3},{value:"Docbook",id:"docbook",level:3},{value:"Datafiler",id:"data-files",level:3},{value:".zip D-datafiler",id:"zipd-data-files",level:3},{value:"StorageType",id:"storagetype",level:3},{value:"Enheter",id:"units",level:3},{value:"EML version 2.1.1",id:"eml-version-211",level:3},{value:"Problem med EML-filerna",id:"issues-with-the-eml-files",level:2},{value:"Separat datum och tid kolumner",id:"separate-date-and-time-columns",level:3},{value:"Inkonsekventa kolumnnamn",id:"inconsistent-column-names",level:3},{value:"Olika kolumnorder",id:"different-column-order",level:3},{value:"Felaktigt numHeaderLines",id:"incorrect-numheaderlines",level:3},{value:"NumHeaderLines = 0",id:"numheaderlines--0",level:3},{value:"DateTime Format Strings",id:"datetime-format-strings",level:3},{value:"Datum men ingen tidszon",id:"datetime-but-no-time-zone",level:3},{value:"Saknar missing\\_value",id:"missing-missing_value",level:3},{value:"Sm\xe5 problem",id:"small-problems",level:3},{value:"Invalid Unicode karakt\xe4rer",id:"invalid-unicode-characters",level:3},{value:"Olika kolumn enheter] (#differentColumnUnits)",id:"different-column-unitsdifferentcolumnunits",level:3},{value:"Olika versioner av EML",id:"different-versions-of-eml",level:3},{value:"Problem Parsing the Data File",id:"trouble-parsing-the-data-file",level:3}];function o(e){const a={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.header,{children:(0,r.jsx)(a.h1,{id:"eddtablefromeml-och-eddtablefromemlbatch-alternativ-i-generatedatasets-xml",children:"EDDTableFromEML och EDDTableFromEMLBatch Alternativ i GenerateDatasets Xml"})}),"\n",(0,r.jsx)(a.p,{children:"\\[ Denna webbsida kommer endast att vara av intresse f\xf6r ERDDAP\u2122 administrat\xf6rer som arbetar med EML-filer.\nDetta dokument skapades ursprungligen 2016. Det senast redigerades 2020-11-30. \\]"}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/index.html",children:" ** ERDDAP\u2122 ** "})," \xe4r en dataserver som ger anv\xe4ndarna ett enkelt, konsekvent s\xe4tt att ladda ner delm\xe4ngder av ruttna och tabell vetenskapliga datam\xe4ngder i vanliga filformat och g\xf6ra grafer och kartor. ERDDAP\u2122 fungerar med en viss datam\xe4ngd som antingen en grupp multidimensionella rutn\xe4tsvariabler (t.ex. satellit- eller modelldata) eller som en databasliknande tabell (med en kolumn f\xf6r varje typ av information och rad f\xf6r varje observation) . ERDDAP\u2122 \xe4r fri och \xf6ppen programvara, s\xe5 vem som helst kan ",(0,r.jsx)(a.a,{href:"/docs/server-admin/deploy-install",children:"Ladda ner och installera ERDDAP\u2122 "})," att tj\xe4na sina data."]}),"\n",(0,r.jsxs)(a.p,{children:["F\xf6r att l\xe4gga till en dataset till en ERDDAP\u2122 installation, ERDDAP\u2122 administrat\xf6ren m\xe5ste l\xe4gga till en bit av XML som beskriver datam\xe4ngden till en fil som kallas datasets.xml . (Det finns ",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets",children:"grundlig dokumentation f\xf6r datasets.xml "})," .) \xc4ven om det \xe4r m\xf6jligt att generera biten av XML f\xf6r datasets.xml helt f\xf6r hand, ERDDAP\u2122 Kommer med ett verktyg som kallas ",(0,r.jsxs)(a.a,{href:"/docs/server-admin/datasets#tools",children:[" ",(0,r.jsx)(a.strong,{children:"GenerateDatasetsXml"})," "]})," som kan generera det grova utkastet av XML-kanalen som beh\xf6vs f\xf6r en viss datam\xe4ngd baserat p\xe5 n\xe5gon informationsk\xe4lla om datam\xe4ngden."]}),"\n",(0,r.jsxs)(a.p,{children:["Det f\xf6rsta GenerateDatasets Xml fr\xe5gar \xe4r vilken typ av dataset du vill skapa. GenerateDatasets Xml har ett speciellt alternativ, ",(0,r.jsx)(a.strong,{children:"EDDTableFromEML"})," som anv\xe4nder informationen i en ",(0,r.jsx)(a.a,{href:"https://knb.ecoinformatics.org/external//emlparser/docs/index.html",children:"Ekologisk metadataspr\xe5k (EML) "})," XML-fil f\xf6r att generera biten av XML f\xf6r datasets.xml att skapa en ",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablefromasciifiles",children:"EDDTableFromAsciiFiles"})," datam\xe4ngd fr\xe5n varje datatabell i en EML-fil. Detta fungerar mycket bra f\xf6r de flesta EML-filer, fr\xe4mst eftersom EML-filer g\xf6r ett utm\xe4rkt jobb med att lagra alla n\xf6dv\xe4ndiga metadata f\xf6r en datam\xe4ngd i ett l\xe4ttanv\xe4nt format. Den information som GenerateDatasetsXml beh\xf6ver f\xf6r att skapa datam\xe4ngden finns i EML-filen, inklusive URL f\xf6r datafilen, som GenerateDatasetsXml nedladdningar, parses och j\xe4mf\xf6r med beskrivningen i EML-filen. (M\xe5nga grupper skulle g\xf6ra det bra att byta till EML, vilket \xe4r ett bra system f\xf6r att dokumentera n\xe5gon tabell vetenskaplig datam\xe4ngd, inte bara ekologisk data. Och m\xe5nga grupper som skapar XML-scheman skulle g\xf6ra bra f\xf6r att anv\xe4nda EML som en fallstudie f\xf6r XML-schema som \xe4r tydliga, till den punkten, inte alltf\xf6r djupa. (dvs f\xf6r m\xe5nga niv\xe5er) och l\xe4tt f\xf6r m\xe4nniskor och datorer att arbeta med.)"]}),"\n",(0,r.jsx)(a.h2,{id:"questions",children:"Fr\xe5gor"}),"\n",(0,r.jsx)(a.p,{children:"H\xe4r \xe4r alla fr\xe5gor GenerateDatasets Xml kommer att fr\xe5ga, med kommentarer om hur du ska svara om du vill behandla bara en EML-fil eller ett parti EML-filer:"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"Vilken EDDType?\nOm du vill behandla bara en fil, svara: EDDTableFromEML\nOm du vill behandla en grupp filer, svara: EDDTableFromEMLBatch"}),"\n",(0,r.jsx)(a.li,{children:"Katalog f\xf6r att lagra filer?\nAnge namnet p\xe5 katalogen som kommer att anv\xe4ndas f\xf6r att lagra nedladdade EML- och/eller datafiler.\nOm katalogen inte existerar kommer den att skapas."}),"\n",(0,r.jsx)(a.li,{children:"(F\xf6r EDDTableFromEML endast endast) EML URL eller lokal filnamn?\nAnge URL- eller lokalt filnamn f\xf6r en EML-fil."}),"\n",(0,r.jsxs)(a.li,{children:["(F\xf6r EDDTableFromEMLBatch endast) EML Dir (URL eller lokal) ??\nAnge namnet p\xe5 katalogen med EML-filerna (En URL eller en lokal smuts) .\nTill exempel:",(0,r.jsx)(a.a,{href:"http://sbc.lternet.edu/data/eml/files/",children:"http://sbc.lternet.edu/data/eml/files/"})]}),"\n",(0,r.jsx)(a.li,{children:"(F\xf6r EDDTableFromEMLBatch endast) Filename regex?\nAnge det vanliga uttrycket som kommer att anv\xe4ndas f\xf6r att identifiera \xf6nskade EML-filer i EML-katalogen.\nTill exempel: knb-lter-sbc\\.\\d+"}),"\n",(0,r.jsx)(a.li,{children:"Anv\xe4nd lokala filer om det finns (sanning sant | falska l\xf6gner) ??\nAnge dig f\xf6r att anv\xe4nda de befintliga lokala EML-filerna och datafilerna, om de finns.\nAnge falskt f\xf6r att alltid ladda ner EML-filer och/eller datafiler."}),"\n",(0,r.jsxs)(a.li,{children:['tillg\xe4nglig tillg\xe4nglig Till?\nOm du vill att de nya datam\xe4ngderna ska vara privata datam\xe4ngder i ERDDAP ange namnet p\xe5 gruppen (s) Det kommer att till\xe5tas \xe5tkomst.\nRekommenderas f\xf6r LTER-grupper: kombinera "lter" plus gruppen, t.ex. lter Sbc.\nOm du g\xe5r in i "Null", kommer det inte att finnas n\xe5gon<tillg\xe4nglig tillg\xe4nglig To & gt; tagga i utg\xe5ngen.\nSe ',(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#accessibleto",children:"tillg\xe4nglig tillg\xe4nglig f\xf6r att"})," ."]}),"\n",(0,r.jsxs)(a.li,{children:["lokalt Timezon (t.ex. US/Pacific) ??\nOm en tidsvariabel indikerar att den har lokala tidsv\xe4rden kommer denna tidszon att tilldelas.\nDetta m\xe5ste vara ett v\xe4rde fr\xe5n ",(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones",children:"TZ kolumn lista \xf6ver tidszon namn"}),' .\nObservera alla l\xe4ttanv\xe4nda "US / ..." namn i slutet av listan.\nOm du senare uppt\xe4cker att vara felaktig kan du \xe4ndra time\\_zone i biten av datasets.xml .']}),"\n"]}),"\n",(0,r.jsxs)(a.p,{children:["EML plus ERDDAP\u2122 \xe4r en bra kombination, eftersom ERDDAP\u2122 kan ge anv\xe4ndarna mer direkt tillg\xe5ng till rikedomen ",(0,r.jsx)(a.a,{href:"https://knb.ecoinformatics.org/",children:"Kunskapsn\xe4tverk f\xf6r biokomplexitet (KNB) "})," och ",(0,r.jsx)(a.a,{href:"https://lternet.edu/",children:"L\xe5ngsiktig ekologisk forskning (Senare) "})," data och hj\xe4lpa dessa projekt att m\xf6ta den amerikanska regeringens ",(0,r.jsx)(a.a,{href:"https://nosc.noaa.gov/EDMC/PD.DSP.php",children:"Offentlig tillg\xe5ng till forskningsresultat (Parr) krav"})," genom att g\xf6ra data tillg\xe4ngliga via en webbtj\xe4nst. EML plus ERDDAP\u2122 verkar som en bra bro mellan forskare i den akademiska / NSF-finansierade v\xe4rlden och forskare i den federala byr\xe5n. ( NOAA NASA, USGS) Realm."]}),"\n",(0,r.jsxs)(a.p,{children:["Se v\xe5r ",(0,r.jsx)(a.a,{href:"/docs/intro#support",children:"sektion om att f\xe5 ytterligare st\xf6d"})," .\n\xa0"]}),"\n",(0,r.jsx)(a.h2,{id:"design-details",children:"Designdetaljer"}),"\n",(0,r.jsx)(a.p,{children:"H\xe4r \xe4r designdetaljerna f\xf6r alternativet EDDTableFromEML i GenerateDatasetsXml.\nVissa \xe4r relaterade till skillnader i hur EML och ERDDAP\u2122 G\xf6r saker och hur GenerateDatasets Xml hanterar dessa problem."}),"\n",(0,r.jsx)(a.h3,{id:"one-datatable-becomes-one-erddap-dataset",children:"En datatabell blir en ERDDAP\u2122 Dataset"}),"\n",(0,r.jsxs)(a.p,{children:["En EML-fil kan ha flera<Datadata data Tabell & gt;s. ERDDAP\u2122 g\xf6r en ERDDAP\u2122 dataset per EML dataTable. och datasetID f\xf6r dataset \xe4r\n",(0,r.jsx)(a.em,{children:"EMLName"})," \\_t ",(0,r.jsx)(a.em,{children:"TableNumber"}),"   (N\xe4r EMLname \xe4r text) eller\n",(0,r.jsx)(a.em,{children:"System_EMLName"})," \\_t ",(0,r.jsx)(a.em,{children:"TableNumber"}),"   (N\xe4r EMLname \xe4r ett nummer) .\nTabell #1 i filen knb-lter-sbc.28 blir ERDDAP\u2122   datasetID =knb\\_lter\\_sbc\\_28\\_t1,\n\xa0"]}),"\n",(0,r.jsx)(a.h3,{id:"eml-versus-cfacdd",children:"EML kontra CF+ACDD"}),"\n",(0,r.jsxs)(a.p,{children:["N\xe4stan alla metadata i EML-filerna kommer in ERDDAP Men i ett annat format. ERDDAP\u2122 Anv\xe4nder ",(0,r.jsx)(a.a,{href:"https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html",children:"CF"})," och ",(0,r.jsx)(a.a,{href:"https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3",children:"ACDD"})," metadatastandarder. De \xe4r kompletterande metadatasystem som anv\xe4nder nyckel = v\xe4rdepar f\xf6r global metadata och f\xf6r varje variabels metadata.\nJa, EML-representationen av metadata \xe4r trevligare \xe4n CF+ACDD-representationen. Jag f\xf6resl\xe5r inte att jag anv\xe4nder CF+ACDD-representationen som en ers\xe4ttning f\xf6r EML. T\xe4nk p\xe5 CF+ACDD som en del av bron fr\xe5n EML-v\xe4rlden till OPeNDAP /CF/ACDD v\xe4rlden.\n\xa0"]}),"\n",(0,r.jsx)(a.h3,{id:"small-changes",children:"Sm\xe5 f\xf6r\xe4ndringar"}),"\n",(0,r.jsx)(a.p,{children:"ERDDAP\u2122 g\xf6r m\xe5nga sm\xe5 f\xf6r\xe4ndringar. Till exempel, ERDDAP\u2122 anv\xe4nder EML icke- DOI Alternativt Identifier plus ett dataTabellnummer som ERDDAP\u2122   datasetID Men n\xe5got f\xf6r\xe4ndras v\xe4xelvis Identifier f\xf6r att g\xf6ra det till ett giltigt variabelt namn p\xe5 de flesta datorspr\xe5k, t.ex. knb-lter-sbc.33 data Tabell #1 blir knb\\_lter\\_sbc\\_33\\_t1.\n\xa0"}),"\n",(0,r.jsx)(a.h3,{id:"docbook",children:"Docbook"}),"\n",(0,r.jsx)(a.p,{children:"EML anv\xe4nder DocBooks markupsystem f\xf6r att ge struktur till textblock i EML-filer. CF och ACDD kr\xe4ver att metadata \xe4r vanlig text. S\xe5 GenerateDatasets Xml konverterar den markerade texten till vanlig text som ser ut som den formaterade versionen av texten. Inline-taggarna \xe4r sanerade med fyrkantiga f\xe4sten, t.ex. \\[ betonas \\] och l\xe4mnas i den vanliga texten.\n\xa0"}),"\n",(0,r.jsx)(a.h3,{id:"data-files",children:"Datafiler"}),"\n",(0,r.jsx)(a.p,{children:"Eftersom EML dataTable inneh\xe5ller URL f\xf6r den faktiska datafilen, GenerateDatasets Xml kommer:"}),"\n",(0,r.jsxs)(a.ol,{children:["\n",(0,r.jsx)(a.li,{children:"Ladda ner datafilen."}),"\n",(0,r.jsx)(a.li,{children:"Lagra den i samma katalog som EML-filen."}),"\n",(0,r.jsx)(a.li,{children:"L\xe4s data."}),"\n",(0,r.jsx)(a.li,{children:"J\xe4mf\xf6r beskrivningen av data i EML med de faktiska uppgifterna i filen."}),"\n",(0,r.jsx)(a.li,{children:"Om GenerateDatasets Xml hittar skillnader, det handlar om dem eller fr\xe5gar operat\xf6ren om skillnaderna \xe4r okej eller returnerar ett felmeddelande. Detaljerna finns i olika artiklar nedan.\n\xa0"}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"zipd-data-files",children:".zip D-datafiler"}),"\n",(0,r.jsxs)(a.p,{children:["Om den refererade datafilen \xe4r en .zip fil, det m\xe5ste inneh\xe5lla bara en fil. Den filen kommer att anv\xe4ndas f\xf6r ERDDAP\u2122 dataset. Om det finns mer \xe4n 1 fil. ERDDAP\u2122 kommer att avvisa detta dataset. Vid behov kan detta \xe4ndras. (I praktiken har alla SBC LTER zip-filer bara en datafil.)",(0,r.jsx)(a.br,{}),"\n","\xa0"]}),"\n",(0,r.jsx)(a.h3,{id:"storagetype",children:"StorageType"}),"\n",(0,r.jsx)(a.p,{children:"Om en kolumn lagring Typ anges inte, ERDDAP\u2122 anv\xe4nder sin b\xe4sta gissning baserat p\xe5 data i datafilen. Detta fungerar ganska bra.\n\xa0"}),"\n",(0,r.jsx)(a.h3,{id:"units",children:"Enheter"}),"\n",(0,r.jsxs)(a.p,{children:["ERDDAP\u2122 Anv\xe4ndning ",(0,r.jsx)(a.a,{href:"https://www.unidata.ucar.edu/software/udunits/",children:" UDUNITS formatering f\xf6r enheter"}),' . GenerateDatasets Xml kan konvertera EML-enheter till UDUNITS Rent ca 95% av tiden. De \xe5terst\xe5ende 5% resultat i en l\xe4sbar beskrivning av enheterna, t.ex. "biomassDensityUnitPerAbundanceUnit" i EML blir "biomass densitet enhet per \xf6verfl\xf6d enhet" i ERDDAP . Tekniskt \xe4r detta inte till\xe5tet. Jag tror inte att det \xe4r s\xe5 d\xe5ligt under omst\xe4ndigheterna. \\[ Om det beh\xf6vs, enheter som inte kan g\xf6ras UDUNITS kompatibel kan flyttas till variabelns kommentarattribut. \\]',(0,r.jsx)(a.br,{}),"\n","\xa0"]}),"\n",(0,r.jsx)(a.h3,{id:"eml-version-211",children:"EML version 2.1.1"}),"\n",(0,r.jsx)(a.p,{children:"Detta st\xf6d f\xf6r EML v2.1.1 filer lades till i GenerateDatasets Xml i 2016 med hopp om att det skulle bli lite upptag i EML-samh\xe4llet. Fr\xe5n och med 2020 har det inte h\xe4nt. och ERDDAP\u2122 utvecklare skulle g\xe4rna l\xe4gga till st\xf6d f\xf6r nyare versioner av EML, men bara om de nya funktionerna faktiskt kommer att anv\xe4ndas. V\xe4nligen email erd.data at noaa.gov Om du vill ha st\xf6d f\xf6r nyare versioner av EML och faktiskt anv\xe4nder den h\xe4r funktionen.\n\xa0"}),"\n",(0,r.jsx)(a.h2,{id:"issues-with-the-eml-files",children:"Problem med EML-filerna"}),"\n",(0,r.jsx)(a.p,{children:"Det finns n\xe5gra problem/problem med EML-filerna som orsakar problem n\xe4r en mjukvaruklient (som alternativet EDDTableFromEML i GenerateDatasetsXML) f\xf6rs\xf6ker tolka/processa EML-filerna."}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"\xc4ven om det finns flera fr\xe5gor listade h\xe4r, \xe4r de mestadels sm\xe5, l\xf6sliga problem. I allm\xe4nhet \xe4r EML ett bra system och det har varit mitt n\xf6je att arbeta med det."}),"\n",(0,r.jsx)(a.li,{children:"Dessa \xe4r ungef\xe4r sorterade fr\xe5n v\xe4rsta / vanligaste till minst d\xe5liga / mindre vanliga."}),"\n",(0,r.jsxs)(a.li,{children:["De flesta \xe4r relaterade till sm\xe5 problem i specifika EML-filer (som inte \xe4r EML",":s"," fel) ."]}),"\n",(0,r.jsx)(a.li,{children:"De flesta kan \xe5tg\xe4rdas genom enkla \xe4ndringar i EML-filen eller datafilen."}),"\n",(0,r.jsx)(a.li,{children:"Med tanke p\xe5 att LTER m\xe4nniskor bygger en EML-kontroller f\xf6r att testa giltigheten av EML-filer, har jag lagt till n\xe5gra f\xf6rslag nedan om funktioner som kan l\xe4ggas till i checkern."}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:"H\xe4r \xe4r fr\xe5gorna:"}),"\n",(0,r.jsx)(a.h3,{id:"separate-date-and-time-columns",children:"Separat datum och tid kolumner"}),"\n",(0,r.jsx)(a.p,{children:"Vissa datafiler har separata kolumner f\xf6r datum och f\xf6r tid, men ingen enhetlig datum + tid kolumn. F\xf6r n\xe4rvarande GenerateDatasets Xml skapar en dataset med dessa separata kolumner, men det \xe4r inte idealiskt eftersom:"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:'Det \xe4r b\xe4st om datam\xe4ngder i ERDDAP\u2122 ha en kombinerad datum + tid kolumn kallas "time" .'}),"\n",(0,r.jsx)(a.li,{children:'Ofta kommer datam\xe4ngden inte att laddas in ERDDAP\u2122 f\xf6r att "time" Kolumn har inte datum + tidsdata.'}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:"Det finns tv\xe5 m\xf6jliga l\xf6sningar:"}),"\n",(0,r.jsxs)(a.ol,{children:["\n",(0,r.jsx)(a.li,{children:"Redigera k\xe4lldatafilen f\xf6r att l\xe4gga till en ny kolumn i datafilen (och beskriva den i EML) d\xe4r datum- och tidskolumnerna sl\xe5s samman i en kolumn. Sedan rerun GenerateDatasets Xml s\xe5 det hittar den nya kolumnen."}),"\n",(0,r.jsxs)(a.li,{children:["Anv\xe4nda ",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#script-sourcenamesderived-variables",children:"H\xe4rledda variabler"})," funktion i ERDDAP\u2122 att definiera en ny variabel i datasets.xml som skapas genom att sammanfoga datum och tidskolumner. Ett exempel handlar specifikt om denna situation.\n\xa0"]}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"inconsistent-column-names",children:"Inkonsekventa kolumnnamn"}),"\n",(0,r.jsx)(a.p,{children:'EML-filerna listar datafilens kolumner och deras namn. Tyv\xe4rr skiljer de sig ofta fr\xe5n kolumnnamnen i den faktiska datafilen. Normalt \xe4r kolumnordern i EML-filen densamma som kolumnordern i datafilen, \xe4ven om namnen varierar n\xe5got, men inte alltid. GenerateDatasets Xml f\xf6rs\xf6ker matcha kolumnnamnen. N\xe4r det inte kan (som \xe4r vanligt) Det kommer att sluta, visa dig EML / data-filnamnpar och fr\xe5ga om de \xe4r korrekt anpassade. Om du anger "s" f\xf6r att hoppa \xf6ver en tabell, kommer GeneratedDatasetsXml att skriva ut ett felmeddelande och g\xe5 vidare till n\xe4sta tabell.\nL\xf6sningen \xe4r att \xe4ndra felaktiga kolumnnamn i EML-filen f\xf6r att matcha kolumnnamnen i datafilen.\n\xa0'}),"\n",(0,r.jsx)(a.h3,{id:"different-column-order",children:"Olika kolumnorder"}),"\n",(0,r.jsx)(a.p,{children:"Det finns flera fall d\xe4r EML specificerade kolumnerna i en annan ordning \xe4n de finns i datafilen. GenerateDatasets Xml kommer att stoppa och fr\xe5ga operat\xf6ren om matchningarna \xe4r okej eller om datam\xe4ngden ska hoppas \xf6ver. Om den \xe4r hoppad kommer det att finnas ett felmeddelande i resultatfilen, t.ex.:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{children:"      &lt;-- SKIPPED (USUALLY BECAUSE THE COLUMN NAMES IN THE DATAFILE ARE IN\n      A DIFFERENT ORDER OR HAVE DIFFERENT UNITS THAN IN THE EML file):\n      datasetID=knb\\\\_lter\\\\_sbc\\\\_17\\\\_t1\n      dataFile=all\\\\_fish\\\\_all\\\\_years\\\\_20140903.csv\n      The data file and EML file have different column names.\n      ERDDAP\u2122 would like to equate these pairs of names:\n        SURVEY\\\\_TIMING        = notes\n        NOTES                = survey\\\\_timing\n      --&gt;\n"})}),"\n",(0,r.jsx)(a.p,{children:"L\xf6sningen \xe4r att fixa kolumnordningen i dessa EML-filer s\xe5 att de matchar ordern i datafilerna."}),"\n",(0,r.jsx)(a.p,{children:"Det skulle vara trevligt om EML-kontrollen kontrollerade att kolumnerna och kolumnordern i k\xe4llfilen matchar kolumnerna och kolumnordern i EML-filen."}),"\n",(0,r.jsx)(a.h3,{id:"incorrect-numheaderlines",children:"Felaktigt numHeaderLines"}),"\n",(0,r.jsx)(a.p,{children:"Flera data Tabeller anger felaktigt numHeaderLines=1, t.ex. ...sbc.4011. Detta orsakar ERDDAP\u2122 f\xf6r att l\xe4sa den f\xf6rsta raden av data som kolumnnamnen. Jag f\xf6rs\xf6kte manuellt SKIP alla dessa dataTables. De \xe4r uppenbara eftersom de o\xf6vertr\xe4ffade k\xe4llkodsnamnen \xe4r alla datav\xe4rden. Och om det finns filer som felaktigt har numHeaderLines = 0, g\xf6r mitt system inte det sj\xe4lvklart. H\xe4r \xe4r ett exempel fr\xe5n SBC LTER-felfilen:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{children:"      &lt;-- SKIPPED (USUALLY BECAUSE THE COLUMN NAMES IN THE DATAFILE ARE IN\n      A DIFFERENT ORDER OR HAVE DIFFERENT UNITS THAN IN THE EML file):\n       datasetID=knb\\\\_lter\\\\_sbc\\\\_3017\\\\_t1\n      dataFile=MC06\\\\_allyears\\\\_2012-03-03.txt\n      The data file and EML file have different column names.\n      ERDDAP\u2122 would like to equate these pairs of names:\n        2008-10-01T00:00     = timestamp\\\\_local\n        2008-10-01T07:00     = timestamp\\\\_UTC\n        2.27                 = discharge\\\\_lps\n        -999.0               = water\\\\_temperature\\\\_celsius\n      --&gt;\n"})}),"\n",(0,r.jsx)(a.p,{children:"S\xe5 felet kan visas som om GenerateDatasets Xml anser att den f\xf6rsta raden med data i filen (t.ex. med 2008-10-01T00:00 etc.) \xe4r linjen med kolumnnamn (som om 2008-10-01T00:00 var ett kolumnnamn) ."}),"\n",(0,r.jsx)(a.p,{children:"Det skulle vara trevligt om EML checker kontrollerade numHeaderLines v\xe4rde."}),"\n",(0,r.jsx)(a.h3,{id:"numheaderlines--0",children:"NumHeaderLines = 0"}),"\n",(0,r.jsx)(a.p,{children:"Vissa k\xe4llfiler har inte kolumnnamn. ERDDAP\u2122 accepterar att om EML beskriver samma antal kolumner."}),"\n",(0,r.jsx)(a.p,{children:"Enligt min mening verkar detta mycket farligt. Det kan finnas kolumner i en annan ordning eller med olika enheter (Se nedan) Det finns inget s\xe4tt att f\xe5nga dessa problem. Det \xe4r mycket b\xe4ttre om alla ASCII datafiler har en rad med kolumnnamn."}),"\n",(0,r.jsx)(a.h3,{id:"datetime-format-strings",children:"DateTime Format Strings"}),"\n",(0,r.jsxs)(a.p,{children:["EML har ett standard s\xe4tt att beskriva datumtidsformat. Men det finns stor variation i dess anv\xe4ndning i EML-filer. (Jag hade tidigare fel om detta. Jag ser EML-dokumentationen f\xf6r formatString som verkar matcha ",(0,r.jsx)(a.a,{href:"https://docs.oracle.com/javase/8/docs/api/index.html?java/time/format/DateTimeFomatter.html",children:" Java DateTimeFormatter specifikation"})," , men som saknar de viktiga riktlinjerna om dess anv\xe4ndning, med resultatet att formatString ofta / vanligtvis felaktigt anv\xe4nds.) Det finns flera fall med felaktigt fall och/eller felaktig duplicering av ett brev och/eller icke-standardformatering. Det s\xe4tter en orimlig b\xf6rda p\xe5 kunder, s\xe4rskilt mjukvaruklienter som GenerateDatasetsXml. GenerateDatasets Xml f\xf6rs\xf6ker konvertera felaktigt definierade format i EML-filerna till\n",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#string-time-units",children:"datum/tidsformat som ERDDAP\u2122 Kraven"})," Det \xe4r n\xe4stan identiskt med f\xf6r Java /Joda tidsformat specifikation, men \xe4r n\xe5got mer f\xf6rl\xe5tande."]}),"\n",(0,r.jsx)(a.p,{children:"Det skulle vara trevligt om EML-kontrollen kr\xe4vde strikt anslutning till Java /Joda/ ERDDAP tidsenhetsspecifikation och verifierade datumtidsv\xe4rdena i datatabellen kan j\xe4mf\xf6ras korrekt med det angivna formatet."}),"\n",(0,r.jsx)(a.h3,{id:"datetime-but-no-time-zone",children:"Datum men ingen tidszon"}),"\n",(0,r.jsx)(a.p,{children:'GenerateDatasets Xml letar efter en kolumn med datum Tid och en specificerad tidszon (antingen Zulu Fr\xe5n tidsenheter som slutar i "Z" eller en kolumnnamn eller attributdefinition som inneh\xe5ller "gmt" eller "utc", eller lokal: fr\xe5n "lokal" i kolumnnamn eller attributdefinition) . Ocks\xe5 acceptabelt \xe4r en fil med en datumkolumn men ingen tidskolumn. Ocks\xe5 acceptabel \xe4r en fil utan datum eller tidsinformation.'}),"\n",(0,r.jsx)(a.p,{children:'GenerateDatasets Xml behandlar alla "lokala" tider som fr\xe5n den tidszon som du kan ange f\xf6r en viss sats av filer, t.ex. f\xf6r SBC LTER, anv\xe4nd US/Pacific. Informationen \xe4r ibland i kommentarerna, men inte i ett formul\xe4r som \xe4r l\xe4tt f\xf6r ett datorprogram att r\xe4kna ut.'}),"\n",(0,r.jsx)(a.p,{children:'Filer som inte uppfyller dessa kriterier avvisas med meddelandet "Inget bra datum (Tid) VARIABLE\u201d. Vanliga problem \xe4r:'}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"Det finns en kolumn med datum och en kolumn med tider, men inte datum Tidskolumn."}),"\n",(0,r.jsx)(a.li,{children:"Det finns tidsenheter, men tidszonen \xe4r inte specificerad."}),"\n"]}),"\n",(0,r.jsxs)(a.p,{children:['Andra kommentarer:\nOm det finns ett bra datum + tid med tidszon kolumn, kommer den kolumnen att namnges. "time" in i ERDDAP . ERDDAP\u2122 kr\xe4ver att tidskolumndata \xe4r begripliga/konvertibla Zulu /UTC / GMT tidszon datumTimes. \\[ Min tro \xe4r: att anv\xe4nda lokala tider och olika datum/tidsformat (2-siffriga \xe5r! mm/dd/yy vs dd/mm/yy vs...) i datafiler tvingar slutanv\xe4ndaren att g\xf6ra komplicerade konverteringar till Zulu tid f\xf6r att j\xe4mf\xf6ra data fr\xe5n en datam\xe4ngd med data fr\xe5n en annan. S\xe5 ERDDAP\u2122 standardiserar alla tidsdata: f\xf6r str\xe4ngtider, ERDDAP\u2122 Anv\xe4nder alltid ISO 8601:2004 (E E E E) standardformat, till exempel 1985-01-02T00:00:00Z. F\xf6r numeriska tider, ERDDAP\u2122 Anv\xe4nd alltid "seconds since 1970-01-01T00:00:00Z" . ERDDAP\u2122 Anv\xe4nder alltid Zulu   (UTC, GMT) tidszon f\xf6r att ta bort sv\xe5righeterna med att arbeta med olika tidszoner och standardtid mot dagsljussparande tid. S\xe5 GenerateDatasets Xml s\xf6ker en EML dataTable-kolumn med datum + tid Zulu . Detta \xe4r sv\xe5rt eftersom EML inte anv\xe4nder ett formellt ordf\xf6rr\xe5d/system (som liknar ',(0,r.jsx)(a.a,{href:"https://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormat.html",children:" Java /Joda tidsformat"}),' ) f\xf6r att ange data Time format:\nOm det finns en kol med numeriska tidsv\xe4rden (t.ex., Matlab g\xe5nger) och Zulu Tidszon (eller bara datum, utan tid kolumner) Den anv\xe4nds som "time" .\nOm det finns en kol med datum och tidsdata, med hj\xe4lp av Zulu tidszon, den anv\xe4nds som "time" och alla andra datum eller tidskolumner tas bort.\nAnna om en kol med bara datuminformation hittas, anv\xe4nds den som "time" Variabel (utan tidszon) .\nOm det finns en datakolumn och en tidskolumn och inget kombinerat datum Tidskolumn, datam\xe4ngden \xe4r REJECTED - men datam\xe4ngden kan g\xf6ras anv\xe4ndbar genom att l\xe4gga till ett kombinerat datum Tidskolumn (helst, Zulu Tidszon) till datafilen och l\xe4gga till dess beskrivning i EML-filen.\nExempel fr\xe5n SBC LTER: ',(0,r.jsx)(a.a,{href:"https://sbclter.msi.ucsb.edu/external/InformationManagement/eml_2018_erddap/",children:"https://sbclter.msi.ucsb.edu/external/InformationManagement/eml\\_2018\\_erddap/"})," DataTable #2."]}),"\n",(0,r.jsxs)(a.p,{children:["Det skulle vara trevligt om EML/LTER kr\xe4vde inkludering av en kolumn med Zulu   (UTC, GMT) tidszon i alla relevanta k\xe4lldatafiler. N\xe4sta b\xe4sta \xe4r att l\xe4gga till ett system till EML f\xf6r att ange ett time\\_zone attribut med standardnamn (fr\xe5n ",(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones",children:"TZ kolumn"})," ) ."]}),"\n",(0,r.jsx)(a.h3,{id:"missing-missing_value",children:"Saknar missing\\_value"}),"\n",(0,r.jsx)(a.p,{children:"Vissa kolumner anv\xe4nder en missing\\_value men inte lista det i EML metadata, t.ex. nederb\xf6rd \\_mm i knb-lter-sbc.5011 anv\xe4nder -999. Om inget saknat v\xe4rde anges i EML s\xf6ker GenerateDatasetsXml automatiskt efter gemensamma saknade v\xe4rden (t.ex. 99, -99, 999, -999, 9999, -9999, etc.) och skapar denna metadata. Men andra saknade missing\\_value \xe4r inte f\xe5ngade."}),"\n",(0,r.jsx)(a.p,{children:"Det skulle vara trevligt om EML-kontrollen letade efter saknad missing\\_value s."}),"\n",(0,r.jsx)(a.h3,{id:"small-problems",children:"Sm\xe5 problem"}),"\n",(0,r.jsx)(a.p,{children:"Det finns m\xe5nga sm\xe5 problem (stavning, punktering) som f\xf6rmodligen bara kommer att hittas av en m\xe4nniska som inspekterar varje datam\xe4ngd."}),"\n",(0,r.jsx)(a.p,{children:"Det skulle vara trevligt om EML-kontrollen letade efter stavning och grammatiska fel. Detta \xe4r ett sv\xe5rt problem eftersom ord i vetenskapen ofta flaggas av stavningskontroller. M\xe4nsklig redigering beh\xf6vs f\xf6rmodligen."}),"\n",(0,r.jsx)(a.h3,{id:"invalid-unicode-characters",children:"Invalid Unicode karakt\xe4rer"}),"\n",(0,r.jsx)(a.p,{children:"N\xe5gra av EML-inneh\xe5llet inneh\xe5ller ogiltiga Unicode-tecken. Dessa \xe4r f\xf6rmodligen tecken fr\xe5n Windows-karset som felaktigt kopierades och klistrade in i UTF-8 EML-filerna. GenerateDatasets Xml saniterar dessa tecken till t.ex. \\[ #128 \\] S\xe5 de \xe4r l\xe4tta att s\xf6ka efter i ERDDAP\u2122   datasets.xml fil."}),"\n",(0,r.jsx)(a.p,{children:"Det skulle vara trevligt om EML checker kontrolleras f\xf6r detta. Det \xe4r l\xe4tt att hitta och l\xe4tt att fixa."}),"\n",(0,r.jsx)(a.h3,{id:"different-column-unitsdifferentcolumnunits",children:"Olika kolumn enheter] (#differentColumnUnits)"}),"\n",(0,r.jsx)(a.p,{children:'Vissa EML dataTables definierar kolumner som \xe4r of\xf6renliga med kolumnerna i datafilen, s\xe4rskilt eftersom de har olika enheter. GenerateDatasets Xml flaggar dessa. Det \xe4r upp till operat\xf6ren att avg\xf6ra om skillnaderna \xe4r okej eller inte. Dessa visas i felfilen som "SKIPPED" dataTables. EXAMPLE i SBC LTER-felfil:'}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{children:"      < SKIPPED (USUALLY BECAUSE THE COLUMN NAMES IN THE DATAFILE ARE IN\n      A DIFFERENT ORDER OR HAVE DIFFERENT UNITS THAN IN THE EML file):\n       datasetID=knb\\\\_lter\\\\_sbc\\\\_3\\\\_t1\n      dataFile=SBCFC\\\\_Precip\\\\_Daily\\\\_active\\\\_logger.csv\n      The data file and EML file have different column names.\n      ERDDAP\u2122 would like to equate these pairs of names:\n        Daily\\\\_Precipitation\\\\_Total\\\\_mm = Daily\\\\_Precipitation\\\\_Total\\\\_inch\n        Flag\\\\_Daily\\\\_Precipitation\\\\_Total\\\\_mm = Flag\\\\_Daily\\\\_Precipitation\\\\_Total\\\\_inch\n      --\x3e\n"})}),"\n",(0,r.jsx)(a.p,{children:"Det skulle vara trevligt om EML-kontrollen kontrollerade att enheterna matchar. Tyv\xe4rr \xe4r detta f\xf6rmodligen om\xf6jligt att f\xe5nga och sedan om\xf6jligt att l\xf6sa utan att kontakta dataset-skaparen, eftersom k\xe4llfilen inte inneh\xe5ller enheter. Avvikelsen f\xf6r exemplet ovan var endast m\xe4rkbar eftersom enheterna inkluderades i k\xe4llkolumnnamnet och EML-kolumnnamnet. Hur m\xe5nga andra dataTables har detta problem men \xe4r odetekterbara?"}),"\n",(0,r.jsx)(a.h3,{id:"different-versions-of-eml",children:"Olika versioner av EML"}),"\n",(0,r.jsx)(a.p,{children:"GenerateDatasets Xml \xe4r utformad f\xf6r att arbeta med EML 2.1.1. Andra versioner av EML kommer att fungera i den m\xe5n de matchar 2.1.1 eller att GenerateDatasetsXml har s\xe4rskild kod f\xf6r att hantera den. Detta \xe4r ett s\xe4llsynt problem. N\xe4r det intr\xe4ffar \xe4r l\xf6sningen att konvertera dina filer till EML 2.1.1 eller skicka EML-filen till erd.data at noaa.gov Jag kan g\xf6ra \xe4ndringar i GenerateDatasets Xml hanterar skillnaderna."}),"\n",(0,r.jsx)(a.p,{children:"Bob lade till st\xf6d f\xf6r EML-filer till GenerateDatasets Xml 2016 med hoppet om att det skulle bli lite upptag i EML-samh\xe4llet. Fr\xe5n och med 2020 har det inte h\xe4nt. Bob \xe4r glad att l\xe4gga till st\xf6d f\xf6r nyare versioner av EML, men bara om de nya funktionerna faktiskt kommer att anv\xe4ndas. V\xe4nligen email erd.data at noaa.gov Om du vill ha st\xf6d f\xf6r nyare versioner av EML och faktiskt anv\xe4nder den h\xe4r funktionen."}),"\n",(0,r.jsx)(a.h3,{id:"trouble-parsing-the-data-file",children:"Problem Parsing the Data File"}),"\n",(0,r.jsxs)(a.p,{children:['S\xe4llan kan en datatabell avvisas med felet "ov\xe4ntat antal objekt p\xe5 rad # 120 (observerad = 52, f\xf6rv\xe4ntad = 50) " Ett felmeddelande som detta inneb\xe4r att en rad i datafilen hade ett annat antal v\xe4rden \xe4n de andra raderna. Det kan vara ett problem i ERDDAP\u2122   (t.ex. inte parsing filen korrekt) eller i filen. Exempel fr\xe5n SBC LTER:\n',(0,r.jsx)(a.a,{href:"https://sbclter.msi.ucsb.edu/external/InformationManagement/eml_2018_erddap/",children:"https://sbclter.msi.ucsb.edu/external/InformationManagement/eml\\_2018\\_erddap/"})," dataTabell #3, se datafile=LTER\\_monthly\\_bottledata\\_registered\\_stations\\_20140429.txt"]})]})}function f(e={}){const{wrapper:a}={...(0,l.R)(),...e.components};return a?(0,r.jsx)(a,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},28453(e,a,n){n.d(a,{R:()=>i,x:()=>s});var t=n(96540);const r={},l=t.createContext(r);function i(e){const a=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function s(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(l.Provider,{value:a},e.children)}}}]);