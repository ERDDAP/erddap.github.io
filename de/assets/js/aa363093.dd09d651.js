"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[3695],{28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var i=t(96540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}},65556:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"user/AccessToPrivateDatasets","title":"Access to Private Datasets","description":"VieleERDDAP\u2122Installationen haben keine Authentifizierung aktiviert und bieten somit keine M\xf6glichkeit, sich anzumelden, noch haben sie private Datens\xe4tze.","source":"@site/i18n/de/docusaurus-plugin-content-docs/current/user/AccessToPrivateDatasets.md","sourceDirName":"user","slug":"/user/AccessToPrivateDatasets","permalink":"/de/docs/user/AccessToPrivateDatasets","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/user/AccessToPrivateDatasets.md","tags":[],"version":"current","frontMatter":{"title":"Access to Private Datasets"},"sidebar":"docSidebar","previous":{"title":"User","permalink":"/de/docs/category/user"},"next":{"title":"NCCSV 1.00","permalink":"/de/docs/user/nccsv-1.00"}}');var s=t(74848),r=t(28453);const o={title:"Access to Private Datasets"},a="Zugang zu privaten Datens\xe4tzen inERDDAP\u2122",c={},d=[{value:"Aktualisierte Anweisungen",id:"updated-instructions",level:2},{value:"Menschen mit Browsern",id:"humans-with-browsers",level:2},{value:"Schriften",id:"scripts",level:2}];function l(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"zugang-zu-privaten-datens\xe4tzen-inerddap",children:"Zugang zu privaten Datens\xe4tzen inERDDAP\u2122"})}),"\n",(0,s.jsx)(n.p,{children:"VieleERDDAP\u2122Installationen haben keine Authentifizierung aktiviert und bieten somit keine M\xf6glichkeit, sich anzumelden, noch haben sie private Datens\xe4tze."}),"\n",(0,s.jsx)(n.p,{children:"EinigeERDDAP\u2122Installationen haben die Authentifizierung aktiviert. Derzeit,ERDDAP\u2122nur unterst\xfctzt die Authentifizierung \xfcber Google-managed E-Mail-Konten, die E-Mail-Konten beiNOAAund viele Universit\xe4ten. WennERDDAP\u2122hat die Authentifizierung aktiviert, jeder mit einem Google-managed E-Mail-Konto kann sich anmelden, aber sie haben nur Zugriff auf die privaten Datens\xe4tze, dieERDDAP\u2122Administrator hat sie ausdr\xfccklich zum Zugriff berechtigt."}),"\n",(0,s.jsx)(n.h2,{id:"updated-instructions",children:"Aktualisierte Anweisungen"}),"\n",(0,s.jsxs)(n.p,{children:["Einige der untenstehenden Informationen sind nicht verf\xfcgbar. Bis dies aktualisiert wird k\xf6nnen Sie verwenden",(0,s.jsx)(n.a,{href:"https://shospital.github.io/blog/posts/blog-post/erddap_private_dataset.html",children:"Diesen Blog-Post"}),"f\xfcr die letzten Schritte, um Daten von einem privaten Datensatz mit Skripten zu erhalten."]}),"\n",(0,s.jsx)(n.h2,{id:"humans-with-browsers",children:"Menschen mit Browsern"}),"\n",(0,s.jsx)(n.p,{children:"Menschliche NutzerERDDAP\u2122kann sich anmeldenERDDAP\u2122in einem Browser, um Zugang zu privaten Datens\xe4tzen zu erhalten, die sie zum Zugriff berechtigt sind."}),"\n",(0,s.jsx)(n.p,{children:"Einloggen:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Klicken Sie auf das Log in Link oben links von jedemERDDAP\u2122Seite.\r\nWenn es keinen Login-Link gibt, dieERDDAP\u2122Installation hat keine Authentifizierung aktiviert und es gibt keine privaten Datens\xe4tze.\r\n\xa0"}),"\n",(0,s.jsx)(n.li,{children:'Klicken Sie auf die Schaltfl\xe4che Anmelden, um sich in Ihr Google-Konto einzutragen.\r\nDer Text der Schaltfl\xe4che sollte auf "Eingew\xe4hlt" \xe4ndern.\r\n\xa0'}),"\n",(0,s.jsxs)(n.li,{children:["Klicken Sie auf das AnmeldenERDDAPKnopf.\r\nDie Webseite sollte sich \xe4ndern Sie sind eingeloggt ",(0,s.jsx)(n.em,{children:"Ihr E-Mail senden"})," .\r\nWenn nicht, warten Sie 5 Sekunden und klicken Sie auf das Log inERDDAPKnopf wieder.\r\nIn extremen F\xe4llen m\xfcssen Sie vielleicht warten und dann wieder ein paar Mal versuchen.\r\n\xa0"]}),"\n",(0,s.jsx)(n.li,{children:'Verwenden Sie nicht den Back-Button Ihres Browsers. Verwenden Sie die "ERDDAP" link an der Spitze der oben, dann verwenden Sie andere Links zu gehenERDDAP\u2122Seiten, an denen Sie interessiert sind. Wenn eine ge\xe4tzte Webseite sagt, dass Sie nicht eingeloggt sind, laden Sie die Seite neu.\r\n\xa0'}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"scripts",children:"Schriften"}),"\n",(0,s.jsx)(n.p,{children:"\\[Dies wird leicht durch Informationen von Lynn DeWitt, die hart daran gearbeitet haben, dies herauszubilden, ge\xe4ndert. Lynn, vielen Dank!\r\nWenn Sie Korrekturen oder Vorschl\xe4ge haben, mailen Sie bitte erd.data @ noaaa.gov .\\]"}),"\n",(0,s.jsx)(n.p,{children:"Es ist auch m\xf6glich, sich einzuloggen,ERDDAP\u2122und Zugriff auf private Datens\xe4tze \xfcber ein Skript. Hier ein Beispiel, das verwendetcurl:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Diese Anweisungen gehen davon aus, dass Sie eine Mail-Adresse verwenden, in der die 2-Faktor-Authentifizierung nicht eingeschaltet ist. Wenn Ihre Haupt-Gmail-Adresse eine 2-Faktor-Authentifizierung aktiviert hat, betrachten Sie die Erstellung einer anderen Gmail-Adresse mit 2-Faktor-Authentifizierung ausgeschaltet.\r\n\xa0"}),"\n",(0,s.jsx)(n.li,{children:"EinloggenERDDAP\u2122manuell mit der Mail-Adresse, die Sie in Ihrem Skript verwenden m\xf6chten, und akzeptieren Sie alle erforderlichen Berechtigungen, dann melden Sie sich vollst\xe4ndig zur\xfcck.\r\n\xa0"}),"\n",(0,s.jsx)(n.li,{children:"\xd6ffnen Sie den Browser Developer Tools und gehen Sie auf die Registerkarte Netzwerk.\r\n\xa0"}),"\n",(0,s.jsx)(n.li,{children:'Klicken Sie auf dieERDDAP\u2122"log in" link, dann die "Sign in" Taste und w\xe4hlen Sie die entsprechende E-Mail-Adresse, wenn Sie aufgefordert.\r\n\xa0'}),"\n",(0,s.jsx)(n.li,{children:'Nachdem die Schaltfl\xe4che "Sign in" auf "Signed in" wechselt, zeigt die Registerkarte Developer Tools Network zwei Eintr\xe4ge, die wie folgt aussehen: (Beispiel aus Firefox) :'}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"    iframerpc?action=issueToken&response loginGoogle.html  \n"})}),"\n",(0,s.jsx)(n.p,{children:'Verwenden Sie das Kontextmen\xfc der Maus mit der rechten Maustaste, um "kopieren als cURL" beide dieser URLs und f\xfcgen Sie sie in einen Klartext-Editor ein\r\n\xa0\r\n6. Klicken Sie auf das "Log inERDDAP"Taste und "kopieren als cURL" der Link, der aussieht:'}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"    login.html  \n"})}),"\n",(0,s.jsxs)(n.p,{children:["und das dritte klebencurlBefehl in die Textdatei.\r\n\xa0\r\n7. In der Textdatei haben Sie nun 3 Zeilen wie die folgenden, wo Sie sich in eineERDDAP\u2122Server bei ' * ",(0,s.jsx)(n.a,{href:"https://host.somewhere.com/erddap",children:"https://host.somewhere.com/erddap"}),' * \'. Die erstecurlBefehl erh\xe4lt Ihr Benutzerprofil in "login\\_hint" und erzeugt ein "id\\_token". Der zweite verwendet das id\\_token, um sich in Google anzumelden, und das dritte protokolliert sich dann zuERDDAP.']}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"    curl 'https://accounts.google.com/o/oauth2/iframerpc?action=issueToken&response\\\\_type=token%20id\\\\_token&scope=openid%20profile%20email&client\\\\_id=ABCDEFG.apps.googleusercontent.com&login\\\\_hint=XXXXXXXXXX&ss\\\\_domain=https%3A%2F%2Fhost.somewhere.com&origin=https%3A%2F%2Fhost.somewhere.com' --2.0 -H 'Host: accounts.google.com' -H 'User-Agent: useragentstuff' -H 'Accept: \\\\*/\\\\*' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://accounts.google.com/o/oauth2/iframe' -H 'Cookie: lotsofcookiestuff' -H 'Connection: keep-alive' curl 'https://host.somewhere.com/erddap/loginGoogle.html' -H 'Host: host.somewhere.com' -H 'User-Agent: useragentstuff' -H 'Accept: \\\\*/\\\\*' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://host.somewhere.com/erddap/login.html' -H 'Content-Type: application/x-www-form-urlencoded' -H 'Cookie: cookiestuff' -H 'Connection: keep-alive' --data 'idtoken=HUGELONGIDTOKEN' curl 'https://host.somewhere.com/erddap/login.html' -H 'Host: host.somewhere.com' -H 'User-Agent: useragentstuff' -H 'Accept: typeacceptstuff' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://host.somewhere.com/erddap/login.html' -H 'Cookie: cookiestuff' -H 'Connection: keep-alive' -H 'Upgrade-Insecure-Requests: 1'\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"8",children:["\n",(0,s.jsx)(n.li,{children:"Die obigen 3 Zeilen, wenn sie sequentiell von einer Befehlszeile aus ausgef\xfchrt werden, werden Sie inERDDAP. Um diese in einem Skript zu verwenden, m\xfcssen Sie das id\\_token aus der ersten Zeile erfassen, in die zweite Zeile einspeisen und ein Cookie schreiben, das durch nachfolgende Zeilen gelesen werden soll.\r\n\xa0"}),"\n",(0,s.jsxs)(n.li,{children:["Um ein Skript zu entwickeln, f\xfchren Sie das erste (' ",(0,s.jsx)(n.a,{href:"https://accounts.google.com",children:"https://accounts.google.com"}),' )  curlLinie genau wie es von den Entwickler-Tools kopiert wurde, und erfassen Sie die Antwort (du k\xf6nntestcurlfehler \xfcber die flagge "-2.0" einfach entfernen) . In php sieht es wie folgt aus:']}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"    $gcurlstuff=\"curl 'https://accounts.google.com/o/oauth2/iframerpc?action=issueToken&response\\\\_type=token%20id\\\\_token&scope=openid%20profile%20email&client\\\\_id=ABCDEFG.apps.googleusercontent.com&login\\\\_hint=XXXXXXXXXX&ss\\\\_domain=https%3A%2F%2Fhost.somewhere.com&origin=https%3A%2F%2Fhost.somewhere.com' -H 'Host: accounts.google.com' -H 'User-Agent: useragentstuff' -H 'Accept: \\\\*/\\\\*' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://accounts.google.com/o/oauth2/iframe' -H 'Cookie: lotsofcookiestuff' -H 'Connection: keep-alive'\"; //execute the curl command: exec($gcurlstuff,$output,$status); //the response is a json array in $output $response=json\\\\_decode($output\\\\[0\\\\],true); //the part you need is in \"id\\\\_token\": $id\\\\_token=$response\\\\[\"id\\\\_token\"\\\\];\n"})}),"\n",(0,s.jsx)(n.p,{children:"Loggen Sie sich bei Google ein, indem Sie die zweite Zeile mit $id\\_token ausf\xfchren, zuerst entfernen Sie den Parameter \"-H 'Cookie: stuff'\" und stattdessen erz\xe4hlencurlein Cookie zu schreiben:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"    $glcurlstuff=\"curl 'https://host.somewhere.com/erddap/loginGoogle.html' -H 'Host: host.somewhere.com' -H 'User-Agent: useragentstuff' -H 'Accept: \\\\*/\\\\*' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://host.somewhere.com/erddap/login.html' -H 'Content-Type: application/x-www-form-urlencoded' -H 'Cookie: cookiestuff' -H 'Connection: keep-alive' --data 'idtoken=\".$id\\\\_token.\"' -b cookies.txt -c cookies.txt\" exec($glcurlstuff,$output1,$status);\n"})}),"\n",(0,s.jsx)(n.p,{children:"EinloggenERDDAP\u2122, wieder entfernen Sie den Parameter \"-H 'Cookie: stuff'\" und verwenden Sie den zuvor geschriebenen Cookie:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"    $ecurlstuff=\"curl 'https://host.somewhere.com/erddap/login.html' -H 'Host: host.somewhere.com' -H 'User-Agent: useragentstuff' -H 'Accept: typeacceptstuff' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://host.somewhere.com/erddap/login.html' -H 'Connection: keep-alive' -H 'Upgrade-Insecure-Requests: 1 -b cookies.txt\"' exec($ecurlstuff,$output2,$status);\n"})}),"\n",(0,s.jsx)(n.p,{children:"Sie sollten nun in der Lage sein, Daten vom Server zu verlangen, indem Sie denselben Cookie verwenden:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"    $curlstuff=\"curl -s 'https://host.somewhere.com/erddap/tabledap/datasetid.csv?variablelist' -H 'Host: host.somewhere.com' -H 'User-Agent: useragentstuff' -H 'Accept: typeacceptstuff' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Connection: keep-alive' -H 'Upgrade-Insecure-Requests: 1' -b cookies.txt\"; exec($curlstuff,$output3,$status); //$output3 will be data in csv!\n"})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);