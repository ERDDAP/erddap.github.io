"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[7622],{28453:(e,i,t)=>{t.d(i,{R:()=>o,x:()=>l});var a=t(96540);const n={},s=a.createContext(n);function o(e){const i=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),a.createElement(s.Provider,{value:i},e.children)}},56142:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>r,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"server-admin/deploy-install","title":"Asentaminen","description":"Miten tehd\xe4 ensimm\xe4inen asennus ERDDAP\u2122 Sinun palvelijasi","source":"@site/i18n/fi/docusaurus-plugin-content-docs/current/server-admin/deploy-install.md","sourceDirName":"server-admin","slug":"/server-admin/deploy-install","permalink":"/fi/docs/server-admin/deploy-install","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/deploy-install.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docSidebar","previous":{"title":"Server Administration","permalink":"/fi/docs/category/server-administration"},"next":{"title":"P\xe4ivitys","permalink":"/fi/docs/server-admin/deploy-update"}}');var n=t(74848),s=t(28453);const o={sidebar_position:1},l="Asentaminen",r={},d=[{value:"Java",id:"java",level:2},{value:"Tomca",id:"tomcat",level:2},{value:"palvelin.xml",id:"serverxml",level:3},{value:"Sis\xe4lt\xf6.xml",id:"contentxml",level:3},{value:"Apace Timeout",id:"apache-timeout",level:3},{value:"Turvallisuusturvallisuus",id:"security",level:3},{value:"Muisti",id:"memory",level:3},{value:"Garbage kokoelma",id:"garbage-collection",level:4},{value:"Luvat",id:"permissions",level:3},{value:"Fonts",id:"fonts",level:3},{value:"Testaa Tomcat",id:"test-tomcat",level:3},{value:"Ongelmia Tomcatin asennuksen kanssa?",id:"troubles-with-the-tomcat-installation",level:3},{value:"ERDDAP\u2122 Sis\xe4lt\xf6",id:"erddap-content",level:3},{value:"Muu ohjaus",id:"other-directory",level:4},{value:"Asennus.xml",id:"setupxml",level:3},{value:"Ymp\xe4rist\xf6muuttujat",id:"environment-variables",level:3},{value:"datasets.xml",id:"datasetsxml",level:3},{value:"Asenna erddap. War tiedostot",id:"install-the-erddapwar-file",level:3},{value:"Konfiguroi proxy (Erityinen k\xe4ytt\xf6\xf6notto)",id:"proxy",level:3},{value:"Apasseja",id:"apache",level:4},{value:"Yhdess\xe4",id:"nginx",level:4},{value:"Aloita Tomcat",id:"start-tomcat",level:3},{value:"on ERDDAP\u2122 juoksemaan?",id:"is-erddap-running",level:2},{value:"Troubleshoot",id:"troubleshooting",level:3},{value:"Vaikeus: Vanha versio Java",id:"trouble-old-version-of-java",level:3},{value:"Slow startup ensimm\xe4ist\xe4 kertaa",id:"trouble-slow-startup-first-time",level:3},{value:"Sulje ja k\xe4ynnist\xe4 uudelleen",id:"shut-down-and-restart",level:2},{value:"Ongelmia?",id:"trouble",level:2},{value:"S\xe4hk\xf6postiilmoitus uusista versioista ERDDAP",id:"email-notification-of-new-versions-of-erddap",level:2},{value:"Mukautettu",id:"customize",level:2}];function c(e){const i={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.header,{children:(0,n.jsx)(i.h1,{id:"asentaminen",children:"Asentaminen"})}),"\n",(0,n.jsx)(i.p,{children:"Miten tehd\xe4 ensimm\xe4inen asennus ERDDAP\u2122 Sinun palvelijasi"}),"\n",(0,n.jsx)(i.p,{children:"ERDDAP\u2122 Voit k\xe4ytt\xe4\xe4 mit\xe4 tahansa palvelinta, joka tukee Java Tomcat (muut sovelluspalvelimet, kuten Jetty, mutta emme tue niit\xe4.) .\r\nERDDAP\u2122 on testattu Linuxilla (L\xe4hde: Amazon's AWS) Mac ja Windows-tietokoneet."}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Docker"})," ----- Tarjoamme ",(0,n.jsx)(i.a,{href:"https://hub.docker.com/r/erddap/erddap",children:" ERDDAP\u2122 Docker-s\xe4ili\xf6"}),"\r\nIOOS tarjoaa nyt ",(0,n.jsx)(i.a,{href:"https://ioos.github.io/erddap-gold-standard/index.html",children:"Nopea aloitusopas ERDDAP\u2122 Docker Container"})," .\r\nSe on standardi ERDDAP\u2122 Asentaminen Docker-s\xe4ili\xf6\xf6n.\r\nDockerin kautta Kompleksi tarjoaa helppoja tapoja luoda sl ja seuranta, lue lis\xe4\xe4 ",(0,n.jsx)(i.a,{href:"https://github.com/ERDDAP/erddap/blob/main/DOCKER.md",children:"Dockerin dokumentointi"})," .\r\nJos k\xe4yt\xe4t Dockeria, pid\xe4t todenn\xe4k\xf6isesti Docker-versiosta.\r\nJos haluat k\xe4ytt\xe4\xe4 pilvipalveluita, pid\xe4t todenn\xe4k\xf6isesti Docker-versiosta."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Amazon Amazon"})," ----- Jos olet asennuksessa ERDDAP\u2122 Amazon Web Services EC2",":ssa",", katso t\xe4m\xe4 ",(0,n.jsx)(i.a,{href:"/docs/server-admin/additional-information#amazon",children:"Amazon Web Services yleiskatsaus"})," Ensimm\xe4inen."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Linux ja Macit"})," ----- ERDDAP\u2122 Toimii erinomaisesti Linux- ja Mac-tietokoneissa. Katso ohjeet alta."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Windows Windows"})," ----- Windows on hyv\xe4 testata ERDDAP\u2122 henkil\xf6kohtaiseen k\xe4ytt\xf6\xf6n (Katso ohjeet alta) ,\r\nEmme suosittele k\xe4ytt\xe4m\xe4\xe4n sit\xe4 julkisesti. ERDDAP\u2122 k\xe4ytt\xf6\xf6nottoa. Juokseminen ERDDAP\u2122 Windowsissa voi olla ongelmia:\r\nerityisesti, ERDDAP\u2122 Et voi poistaa ja/tai nimet\xe4 tiedostoja nopeasti. T\xe4m\xe4 johtuu todenn\xe4k\xf6isesti virustorjuntaohjelmistosta.\r\n(L\xe4hde: McAfee and Norton) T\xe4m\xe4 tarkistaa tiedostoja viruksia. Jos t\xf6rm\xe4\xe4t t\xe4h\xe4n ongelmaan\r\n(joka n\xe4kyy virheviestin\xe4) ",(0,n.jsx)(i.a,{href:"/docs/server-admin/additional-information#log",children:"log.txt"}),' tiedostot, kuten\r\n"Voi poistaa ..."), virustorjuntaohjelmiston asetusten muuttaminen voi osittain lievitt\xe4\xe4 ongelmaa. K\xe4ytt\xe4\xe4 Linux- tai Mac-palvelinta.']}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.strong,{children:"Standardi ERDDAP\u2122 Linux-, Mac- ja Windows-tietokoneiden asennusohjeet ovat:"})}),"\n",(0,n.jsxs)(i.ol,{start:"0",children:["\n",(0,n.jsxs)(i.li,{children:["Varmista, ett\xe4 kaikki riippuvuudet on asennettu. Ei-Windows koneita (Linux ja Mac) Tarvitset csh",":t","\xe4."]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"java",children:"Java"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.a,{href:"#java",children:"For For ERDDAP\u2122 V2.19+, perustettu Java 21."}),"\r\nTurvallisuussyist\xe4 on l\xe4hes aina parempi k\xe4ytt\xe4\xe4 uusinta versiota. Java 21.\r\nLataa ja asenna uusin versio\r\n",(0,n.jsx)(i.a,{href:"https://adoptium.net/temurin/releases/?version=21",children:"Adoptiumin OpenJDK (Temurin) 21 21 (LTS) "})," .\r\nTarkista asennuksen, suorita ",(0,n.jsx)(i.code,{children:"/javaJreBinDirectory / Java k\xe4\xe4nn\xf6kset"})," Esimerkiksi\r\n",(0,n.jsx)(i.code,{children:"K\xe4ytt\xe4j\xe4/paikallinen/jdk-21.0.3+9/jre/bin/java k\xe4\xe4nn\xf6kset"})," ."]}),"\n",(0,n.jsx)(i.p,{children:"ERDDAP\u2122 Teosten kanssa Java muista l\xe4hteist\xe4, mutta suosittelemme Adoptiumia, koska se on t\xe4rkein, yhteis\xf6llist\xe4 tukea.\r\nIlma ilmaiseksi ilmaiseksi (Olut ja puhe) versiosta Java 21, joka tarjoaa pitk\xe4aikaista tukea (Ilmaiset p\xe4ivitykset jo vuosia ennen alkuper\xe4ist\xe4 julkaisua) .\r\nTurvallisuussyist\xe4 p\xe4ivit\xe4 ERDDAP versiosta Java s\xe4\xe4nn\xf6llisesti uusina versioina Java 21 on saatavana Adoptiumilta."}),"\n",(0,n.jsxs)(i.p,{children:["ERDDAP\u2122 Sit\xe4 on testattu ja k\xe4ytetty laajasti 21",":ll","\xe4, ei muilla versioilla. Erilaisista syist\xe4 emme testaa tai tue muita versioita. Java .\r\n\xa0"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"tomcat",children:"Tomca"}),"\n",(0,n.jsxs)(i.ol,{start:"2",children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"#tomcat",children:"Aseta yl\xf6s"}),"   ",(0,n.jsx)(i.a,{href:"https://tomcat.apache.org",children:"Tomca"})," . Tomcat on yleisimmin k\xe4ytetty Java Palveluntarjoaja,\r\njoka on Java ohjelmisto, joka on k\xe4ytt\xf6j\xe4rjestelm\xe4n verkkopalveluiden ja Java palvelinohjelmisto, kuten ERDDAP\u2122 .\r\nVapaa ja avoin l\xe4hdekoodi (FOSS) ."]}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"Voit k\xe4ytt\xe4\xe4 toista Java Sovelluspalvelin (Esimerkki: Jetty) Testaamme ja tuemme Tomcatia."}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Lataa Tomcat ja pakkaa se palvelimellesi tai PC",":lle",".\r\nTurvallisuussyist\xe4 on l\xe4hes aina parempi k\xe4ytt\xe4\xe4 Tomcat 10",":n"," uusinta versiota. (9 ja alapuolella ei ole hyv\xe4ksytt\xe4v\xe4\xe4)\r\njoka on suunniteltu toimimaan Java 21 tai uudempi. Alla olevaa Tomcat-hakemistoa kutsutaan ",(0,n.jsx)(i.code,{children:"Tom"})," ."]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["Varokaa! Jos sinulla on jo Tomcat, jolla on jokin muu verkkosovellus (Erityisesti kolme) Suosittelemme, ett\xe4 asennat ERDDAP\u2122 Sis\xe4ll\xe4\r\n",(0,n.jsx)(i.a,{href:"/docs/server-admin/additional-information#second-tomcat",children:"Toinen Tomcat"})," koska ERDDAP\u2122 Tarvitset erilaisia Tomcat-asetuksia\r\nEi tarvitse olla mukana muissa muistisovelluksissa."]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Linuxissa, ",(0,n.jsx)(i.a,{href:"https://tomcat.apache.org/download-10.cgi",children:'Download "T\xe4hti" .gz Tomcatin jakelu'})," Pakkaa se pois.\r\nSuosittelemme pakkaamaan sen sis\xe4\xe4n ",(0,n.jsx)(i.code,{children:"K\xe4ytt\xe4j\xe4/Paikallinen"})," ."]}),"\n",(0,n.jsxs)(i.li,{children:["Macissa Tomcat on jo asennettu ",(0,n.jsx)(i.code,{children:"Kirjasto / Tomcat"})," Tomcat 10",":n"," uusimpaan versioon.\r\nJos lataat sen, ",(0,n.jsx)(i.a,{href:"https://tomcat.apache.org/download-10.cgi",children:'Download "T\xe4hti" .gz Tomcatin jakelu'})," Pakkaa se sis\xe4\xe4n ",(0,n.jsx)(i.code,{children:"Kirjasto / Tomcat"})," ."]}),"\n",(0,n.jsxs)(i.li,{children:["Windowsissa voit ",(0,n.jsx)(i.a,{href:"https://tomcat.apache.org/download-10.cgi",children:'Download "Core" "Zip" Tomcat'}),'\r\n(joka ei sotke Windows-rekisteri\xe4 ja jota hallitset DOS-komentorivill\xe4) Pakkaa se sopivaan hakemistoon.\r\n(Kehitt\xe4mist\xe4 varten k\xe4yt\xe4mme "Core" "zip" -jakelua. Me teemme ',(0,n.jsx)(i.code,{children:"Ohjelmat"}),' Pakkaa ja pakkaa se sinne.)\r\nVoit ladata "Core" "64-bittinen Windows zip" -jakelun, joka sis\xe4lt\xe4\xe4 enemm\xe4n ominaisuuksia.\r\nJos jakelu on Windows-asennus, se saattaa esimerkiksi Tomcatin. ',(0,n.jsx)(i.code,{children:"Ohjelmatiedostot / apache-tomcat-10.0.23"})," .\r\n\xa0"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"serverxml",children:"palvelin.xml"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"#serverxml",children:"palvelin.xml"})," - Sis\xe4ll\xe4 ",(0,n.jsx)(i.code,{children:"Tomcat/conf/server.xml"})," On olemassa kaksi muutosta, jotka sinun tulisi tehd\xe4 kullekin ",(0,n.jsx)(i.code,{children:"<Connector>"})," Tagit\r\n(Yksi ",(0,n.jsx)(i.code,{children:"&lt;Connector Port = 8080"})," Yksi ",(0,n.jsx)(i.code,{children:'&lt;Conector Port="8443"'})," ) .","\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{children:["(Suositellaan) Lis\xe4\xe4m\xe4ll\xe4 ",(0,n.jsx)(i.code,{children:"yhteysyhteys Timeout"})," Parametriarvo ehk\xe4 300 000 (Millisekuntia, joka on 5 minuuttia) ."]}),"\n",(0,n.jsxs)(i.li,{children:["(Suositellaan) Lis\xe4\xe4 uusi parametri: ",(0,n.jsx)(i.code,{children:'Rentoutuneisuus =" | """'})," . Se on valinnainen ja hieman ep\xe4varma,\r\nmutta poistaa k\xe4ytt\xe4jien tarvetta prosenttikoodiin, kun ne esiintyv\xe4t k\xe4ytt\xe4j\xe4n pyynn\xf6n URL-osoitteen parametreissa.\r\n\xa0"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"contentxml",children:"Sis\xe4lt\xf6.xml"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Konteksti.xml ----- Resurssit - In ",(0,n.jsx)(i.code,{children:"Tomcat/conf/context.xml"})," Juuri ennen ",(0,n.jsx)(i.code,{children:"</Context>"})," Muuta Resursseja Tag\r\n(tai lis\xe4t\xe4, jos se ei ole jo siell\xe4) Aseta k\xe4tk\xf6n MaxSize-parametri 80000:","\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:'<Resources cachingAllowed="true" cacheMaxSize="80000" />\n'})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"N\xe4in v\xe4ltet\xe4\xe4n lukuisia varoituksia katalinassa. Kaikki alkaa"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"WARNING [main] org.apache.catalina.webresources.Cache.getResource Unable to add the resource at [/WEB-INF/classes/...]\n"})}),"\n",(0,n.jsx)(i.p,{children:"\xa0"}),"\n",(0,n.jsx)(i.h3,{id:"apache-timeout",children:"Apace Timeout"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:['Linux-tietokoneissa Apache-aikatauluasetukset muutetaan niin, ett\xe4 aikaa viev\xe4t k\xe4ytt\xe4j\xe4pyynn\xf6t eiv\xe4t aikatauluta.\r\n(Se, mit\xe4 usein kutsutaan "Proxy" tai "Bad Gateway" -virheeksi.) . K\xe4ytt\xe4j\xe4n\xe4:',"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Muokkaa apassia ",(0,n.jsx)(i.code,{children:" http d.conf"})," tiedostotiedosto (Yleens\xe4 ",(0,n.jsx)(i.code,{children:"/etc/ http d/conf/"})," ) :","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Muuta olemassa olevaa ",(0,n.jsx)(i.code,{children:"<Timeout>"})," asetukset (tai lis\xe4t\xe4 tiedoston lopussa) 3600 (Sekunnit) Oletusarvon sijaan 60 tai 120 sekuntia."]}),"\n",(0,n.jsxs)(i.li,{children:["Muuta olemassa olevaa ",(0,n.jsx)(i.code,{children:"<ProxyTimeout>"})," asetukset (tai lis\xe4t\xe4 tiedoston lopussa) 3600 (Sekunnit) Oletusarvon sijaan 60 tai 120 sekuntia."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["K\xe4ynnist\xe4 Apache uudelleen: ",(0,n.jsx)(i.code,{children:"K\xe4ytt\xe4j\xe4/sbin/apachectl K Graceful"}),"   (Joskus se on toisessa hakemistossa.) ."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"security",children:"Turvallisuusturvallisuus"}),"\n",(0,n.jsx)(i.p,{children:"\xa0"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Turvallisuussuositus: N\xe4yt\xe4 ",(0,n.jsx)(i.a,{href:"https://tomcat.apache.org/tomcat-10.0-doc/security-howto.html",children:"N\xe4m\xe4 ohjeet"})," lis\xe4t\xe4 turvallisuuden\r\nTomcat-asennus, erityisesti julkisille palvelimille.\r\n\xa0"]}),"\n",(0,n.jsxs)(i.li,{children:["Yleis\xf6lle ERDDAP\u2122 Linux- ja Mac-laitteissa on parasta perustaa Tomcat. (Ohjelman) K\xe4ytt\xe4j\xe4n kuuluminen ",(0,n.jsx)(i.code,{children:"Tom"}),"\r\n(erillinen k\xe4ytt\xe4j\xe4, jolla on rajalliset luvat ja ",(0,n.jsx)(i.a,{href:"https://unix.stackexchange.com/questions/56765/creating-an-user-without-a-password",children:"Ei salasanaa"})," ) .\r\nVain k\xe4ytt\xe4j\xe4 voi siirty\xe4 toimimaan k\xe4ytt\xe4j\xe4n\xe4 ",(0,n.jsx)(i.code,{children:"Tom"})," . N\xe4in hakkerit voivat kirjautua sis\xe4\xe4n palvelimeesi k\xe4ytt\xe4j\xe4n\xe4 ",(0,n.jsx)(i.code,{children:"Tom"})," .\r\nJoka tapauksessa sinun pit\xe4isi tehd\xe4 se niin, ett\xe4 ",(0,n.jsx)(i.code,{children:"Tom"})," K\xe4ytt\xe4j\xe4ll\xe4 on hyvin rajalliset k\xe4ytt\xf6oikeudet palvelimen tiedostoj\xe4rjestelm\xe4\xe4n (lue + kirjoita + suorita etuoikeudet)\r\nSill\xe4 ",(0,n.jsx)(i.code,{children:"Apache-tomcat"})," Hakemistopuu ja ",(0,n.jsx)(i.code,{children:"<bigParentDirectory>"})," Vain luku-oikeudet hakemistoihin, joissa on tietoja, jotka ERDDAP\u2122 tarvitaan p\xe4\xe4sy\xe4).","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Voit luoda ",(0,n.jsx)(i.code,{children:"Tom"})," K\xe4ytt\xe4j\xe4tili (jolla ei ole salasanaa) K\xe4ytt\xe4m\xe4ll\xe4 k\xe4sky\xe4:","\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"sudo useradd tomcat -s /bin/bash -p '*'\n"})}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["Voit siirty\xe4 toimimaan k\xe4ytt\xe4j\xe4n\xe4 ",(0,n.jsx)(i.code,{children:"Tom"})," K\xe4ytt\xe4m\xe4ll\xe4 k\xe4sky\xe4","\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"sudo su - tomcat\n"})}),"\n","(Se pyyt\xe4\xe4 sinulta superk\xe4ytt\xe4j\xe4n salasanan, jotta voit tehd\xe4 t\xe4m\xe4n.)","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Voit lopettaa k\xe4ytt\xe4jien tomcatin k\xe4yt\xf6n komennolla"}),"\n"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"exit\n"})}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Suurin osa Tomcatista ja ERDDAP\u2122 K\xe4ytt\xe4j\xe4n ohjeet ",(0,n.jsx)(i.code,{children:"Tom"})," . My\xf6hemmin juoksemaan ",(0,n.jsx)(i.code,{children:"Startup."})," ja ",(0,n.jsx)(i.code,{children:"sulku. S\xe4v."})," K\xe4sikirjoitukset k\xe4ytt\xe4j\xe4n\xe4 ",(0,n.jsx)(i.code,{children:"Tom"}),"\r\nTomcatilla on oikeus kirjoittaa lokitiedostoihinsa."]}),"\n",(0,n.jsxs)(i.li,{children:["Tomcatin pakkaamisen j\xe4lkeen, vanhempien ",(0,n.jsx)(i.code,{children:"Apache-tomcat"})," Hakemisto:","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Muuta apache-tomcat-hakemistopuun omistajuutta tomcatin k\xe4ytt\xe4j\xe4ksi.","\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"chown -R tomcat apache-tomcat-10.0.23\n"})}),"\n","(Korvaa Tomcat-hakemiston todellinen nimi) ."]}),"\n",(0,n.jsxs)(i.li,{children:['Muuta "ryhm\xe4" tomcatiksi, k\xe4ytt\xe4j\xe4nimeksi tai pienen ryhm\xe4n nimeksi, joka sis\xe4lt\xe4\xe4 tomcatin ja kaikki Tomcatin yll\xe4pit\xe4j\xe4t ERDDAP :',"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"chgrp -R yourUserName apache-tomcat-10.0.23\n"})}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["Muuta lupia, jotta Tomcat ja ryhm\xe4 ovat lukeneet, kirjoittaneet ja toteuttaneet etuoikeuksia:","\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"chmod -R ug+rwx apache-tomcat-10.0.23\n"})}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:['Poista "muut" k\xe4ytt\xe4j\xe4n lukemis-, kirjoitus- tai suoritusoikeudet:',"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"chmod -R o-rwx apache-tomcat-10.0.23\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"T\xe4m\xe4 on t\xe4rke\xe4\xe4, koska se est\xe4\xe4 muita k\xe4ytt\xe4ji\xe4 lukemasta mahdollisesti arkaluonteisia tietoja. ERDDAP\u2122 asennustiedostoja."}),"\n",(0,n.jsx)(i.h3,{id:"memory",children:"Muisti"}),"\n",(0,n.jsx)(i.p,{children:"Tomcatin ymp\xe4rist\xf6muuttujat"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:["Linux ja Mac:\r\nLuo tiedosto ",(0,n.jsx)(i.code,{children:"Tomcat/bin/setenv.sh"}),"   (P\xe4\xe4osat Red Hat Enterprise Linux \\[ Ryhm\xe4 \\] edit ",(0,n.jsx)(i.code,{children:"Tomcat/conf/tomcat10.conf"})," ) Tomcatin ymp\xe4rist\xf6muuttujat.\r\nT\xe4t\xe4 tiedostoa k\xe4ytet\xe4\xe4n ",(0,n.jsx)(i.code,{children:"Tomcat/bin/startup.sh"})," ja ",(0,n.jsx)(i.code,{children:"sulku. S\xe4v."})," . Tiedosto sis\xe4lt\xe4\xe4 jotain:"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"export JAVA_HOME=/usr/local/jdk-21.0.3+9\r\nexport JAVA_OPTS='-server -Djava.awt.headless=true -Xmx1500M -Xms1500M'\r\nexport TOMCAT_HOME=/usr/local/apache-tomcat-10.0.23\r\nexport CATALINA_HOME=/usr/local/apache-tomcat-10.0.23\n"})}),"\n",(0,n.jsxs)(i.p,{children:["(Korvaa hakemiston nimet tietokoneeltasi) .\r\n(Jos olet aiemmin m\xe4\xe4ritt\xe4nyt ",(0,n.jsx)(i.code,{children:"Jre_home"})," Voit poistaa sen.)\r\nMacsissa sinun ei v\xe4ltt\xe4m\xe4tt\xe4 tarvitse asettaa ",(0,n.jsx)(i.code,{children:"JAVA - Koti"})," ."]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:["Windowsissa:\r\nLuo tiedosto ",(0,n.jsx)(i.code,{children:"Tomcat: Setenv.bat"})," Tomcatin ymp\xe4rist\xf6muuttujat.\r\nT\xe4t\xe4 tiedostoa k\xe4ytet\xe4\xe4n ",(0,n.jsx)(i.code,{children:"Tomcat\\bin\\\\startup.bat"})," ja ",(0,n.jsx)(i.code,{children:"shutdown.bat"})," .\r\nTiedosto sis\xe4lt\xe4\xe4 jotain:"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:'SET "JAVA_HOME=\\\\someDirectory\\\\jdk-21.0.3+9"\r\nSET "JAVA_OPTS=-server -Xmx1500M -Xms1500M"\r\nSET "TOMCAT_HOME=\\\\Program Files\\\\apache-tomcat-10.0.23"\r\nSET "CATALINA_HOME=\\\\Program Files\\\\apache-tomcat-10.0.23"\n'})}),"\n",(0,n.jsxs)(i.p,{children:['(Korvaa hakemiston nimet tietokoneeltasi) .\r\nJos t\xe4m\xe4 koskee vain paikallista testi\xe4, poista "palvelin".\r\n(Jos olet aiemmin m\xe4\xe4ritt\xe4nyt ',(0,n.jsx)(i.code,{children:"Jre_home"})," Voit poistaa sen.)"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["The ",(0,n.jsx)(i.code,{children:"XMX"})," ja ",(0,n.jsx)(i.code,{children:"xms"})," Muisti on t\xe4rke\xe4, koska ERDDAP\u2122 toimii paremmin enemm\xe4n muistin kanssa.\r\nAina asetettu ",(0,n.jsx)(i.code,{children:"xms"})," sama arvo kuin ",(0,n.jsx)(i.code,{children:"XMX"})," ."]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:["32 bitti\xe4 ja 32 bitti\xe4 Java :\r\n64 bitti\xe4 Java Paljon parempi kuin 32 Java 32 bit Java Toimii niin kauan kuin palvelin ei ole kiireinen.\r\nMit\xe4 enemm\xe4n fyysist\xe4 muistia palvelimessa on, sit\xe4 parempi: 4+ GB on hyv\xe4, 2 GB on kunnossa, v\xe4hemm\xe4n ei suositella.\r\n32 bitti\xe4 Java fyysinen muisti, Tomcat ja Java \xc4l\xe4 juokse, jos yrit\xe4t ",(0,n.jsx)(i.code,{children:"XMX"})," Yli 1500 M (1200 m joissakin tietokoneissa) .\r\nJos palvelimellasi on alle 2 Gt muistia, v\xe4henn\xe4 ",(0,n.jsx)(i.code,{children:"XMX"})," Arvon arvo (Sis\xe4lt\xe4\xe4 M'egaBytes) 1/2 tietokoneen fyysisest\xe4 muistista."]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"64 bitti\xe4 ja 64 bitti\xe4 Java :\r\n64 bitti\xe4 Java Toimii vain 64-bittisess\xe4 k\xe4ytt\xf6j\xe4rjestelm\xe4ss\xe4."}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["kanssa Java 8. Sinun on lis\xe4tt\xe4v\xe4 ",(0,n.jsx)(i.code,{children:"d64"})," Tomcatille ",(0,n.jsx)(i.code,{children:"CATALINA_OPTS"})," parametri\xe4 ",(0,n.jsx)(i.code,{children:"Televisio.bat"})," ."]}),"\n",(0,n.jsx)(i.li,{children:'kanssa Java Valitse 64 bitti\xe4 Java Kun lataat version Java "64 bitti\xe4"'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["64 bitti\xe4 Java Tomcat ja Java voi k\xe4ytt\xe4\xe4 eritt\xe4in korkea ",(0,n.jsx)(i.code,{children:"XMX"})," ja ",(0,n.jsx)(i.code,{children:"xms"})," asetuksia. Mit\xe4 enemm\xe4n fyysist\xe4 muistia palvelimessa on, sit\xe4 parempi.\r\nYksinkertainen ehdotus: suosittelemme, ett\xe4 asetat ",(0,n.jsx)(i.code,{children:"XMX"})," ja ",(0,n.jsx)(i.code,{children:"xms"}),' ett\xe4 (Sis\xe4lt\xe4\xe4 M\'egaBytes) 1/2 (tai v\xe4hemm\xe4n) tietokoneen fyysinen muisti.\r\nSaa n\xe4hd\xe4, onko Tomcat Java ja ERDDAP\u2122 64-bittisess\xe4 tilassa etsit\xe4\xe4n "v\xe4h\xe4n" ERDDAP P\xe4ivitt\xe4inen s\xe4hk\xf6posti\r\ntai sis\xe4ll\xe4 ',(0,n.jsx)(i.code,{children:"BigParentDirectory/logs N\xe4yt\xe4 tarkat tiedot [log.txt](/docs/server-admin/additional-information#log) "})," tiedostotiedosto ( ",(0,n.jsx)(i.code,{children:"isovanhemmat"})," on m\xe4\xe4ritelty ",(0,n.jsx)(i.a,{href:"#setupxml",children:"Asennus.xml"})," ) ."]}),"\n",(0,n.jsx)(i.h4,{id:"garbage-collection",children:"Garbage kokoelma"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Sis\xe4ll\xe4 ERDDAP\u2122 > ",(0,n.jsx)(i.a,{href:"/docs/server-admin/additional-information#log",children:"log.txt"}),' N\xe4et monia "GC" (Jakamisen ep\xe4onnistuminen) "Viestit.\r\nT\xe4m\xe4 ei yleens\xe4 ole ongelma. Se on usein viesti normaalista toiminnasta. Java Sanotaan, ett\xe4 se on juuri p\xe4\xe4ttynyt pieneen roskaan.\r\nKokoelma, koska se loppui huoneesta Eedeniss\xe4 (osion Java Hyvin nuoret esineet) . Yleens\xe4 viesti n\xe4ytt\xe4\xe4\r\n',(0,n.jsx)(i.code,{children:"MemoryUseAfter"})," . Jos n\xe4m\xe4 kaksi numeroa ovat l\xe4hell\xe4 toisiaan, se tarkoittaa, ett\xe4 roskat eiv\xe4t ole tuottavia.\r\nViesti on vain merkki ongelmasta, jos se on hyvin usein (joka sekunti) eiv\xe4t ole tuottavia, ja m\xe4\xe4r\xe4t ovat suuria eiv\xe4tk\xe4 kasva,\r\njotka yhdess\xe4 osoittavat, ett\xe4 Java Tarvitset enemm\xe4n muistia, kamppailee vapauttaa muistia, ja ei voi vapauttaa muistia.\r\nT\xe4m\xe4 voi tapahtua stressaavana aikana ja sitten menn\xe4 pois. Jos se jatkuu, se on merkki ongelmasta."]}),"\n",(0,n.jsxs)(i.li,{children:["Jos n\xe4et ",(0,n.jsx)(i.code,{children:"Java.lang.OutOfMemory Virhe"})," s sis\xe4\xe4n ERDDAP\u2122 > ",(0,n.jsx)(i.a,{href:"/docs/server-admin/additional-information#log",children:"log.txt"})," tiedosto,\r\nKatso n\xe4hk\xe4\xe4 ",(0,n.jsx)(i.a,{href:"/docs/server-admin/additional-information#outofmemoryerror",children:"OutMemory-virhe"})," vinkkej\xe4 siit\xe4, miten diagnosoida ja ratkaista ongelmat.\r\n\xa0"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"permissions",children:"Luvat"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"#permissions",children:"Linux ja Macs muuttavat k\xe4ytt\xf6oikeuksia"})," kaikista ",(0,n.jsx)(i.code,{children:"*Shh."})," tiedostot sis\xe4\xe4n ",(0,n.jsx)(i.code,{children:"Tomcat/bin/"})," Omistajan suoritettavaksi:"]}),"\n"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"chmod +x *.sh\n"})}),"\n",(0,n.jsx)(i.h3,{id:"fonts",children:"Fonts"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"#fonts",children:"Kuvat:"})," Pid\xe4mme enemm\xe4n vapaista ",(0,n.jsx)(i.a,{href:"https://dejavu-fonts.github.io/",children:"DejaVu-fontit"})," toiseen Java fontteja.\r\nN\xe4iden fonttien k\xe4ytt\xf6 on suositeltavaa, mutta sit\xe4 ei tarvita."]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["Jos p\xe4\xe4t\xe4t olla k\xe4ytt\xe4m\xe4tt\xe4 DejaVu-fontteja, sinun on muutettava fontFamily-asetus asennuksessa.xml. ",(0,n.jsx)(i.code,{children:"<fontFamily> Sansserif </fontFamily>"})," ,\r\njoka on kaikkien saatavilla Java jakelua. Jos asetat ",(0,n.jsx)(i.code,{children:"<fontFamily>"})," sellaisen fontin nimi, jota ei ole saatavilla, ERDDAP\u2122 ei kuormita\r\nja tulostaa luettelon k\xe4ytett\xe4viss\xe4 olevista fonteista ",(0,n.jsx)(i.code,{children:"log.txt"})," tiedosto. Sinun on k\xe4ytett\xe4v\xe4 yht\xe4 n\xe4ist\xe4 fonteista."]}),"\n",(0,n.jsxs)(i.p,{children:["Jos haluat k\xe4ytt\xe4\xe4 DejaVu-fontteja, varmista, ett\xe4 ",(0,n.jsx)(i.code,{children:"<fontFamily>"})," asennus.xml on ",(0,n.jsx)(i.code,{children:"<fontFamily> DejaVu Sans </fontFamily>"})," ."]}),"\n",(0,n.jsxs)(i.p,{children:["DejaVu-fonttien asentaminen, lataa ",(0,n.jsx)(i.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:t(62900).A+"",children:"DejaVuFonts .zip "}),"   (5 522 795 tavua, MD5=33E1E61FAB06A547851ED308B4FFF42)\r\nja poista fonttitiedostot v\xe4liaikaiseen hakemistoon."]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Linuxissa:","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Linux Adoptium Java jakelua, katso ",(0,n.jsx)(i.a,{href:"https://blog.adoptopenjdk.net/2021/01/prerequisites-for-font-support-in-adoptopenjdk/",children:"N\xe4m\xe4 ohjeet"})," ."]}),"\n",(0,n.jsxs)(i.li,{children:["toisen kanssa Java Jakelu: Kuten ",(0,n.jsx)(i.code,{children:"Tom"})," K\xe4ytt\xe4j\xe4, kopioi fonttitiedostot ",(0,n.jsx)(i.code,{children:"$JAVA_HOME/Lib/Fonts"})," niin Java L\xf6yd\xe4 fontit.\r\nMuista: jos/kun p\xe4ivit\xe4t uudempaan versioon Java Sinun on asennettava n\xe4m\xe4 fontit uudelleen."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.li,{children:"Kunkin fonttitiedoston kohdalla, kaksinkertaista napsauttamalla sit\xe4 ja valitse sitten Asenna Font."}),"\n",(0,n.jsx)(i.li,{children:"Windows 7 ja 10: Windows Explorerissa valitse kaikki fonttitiedostot. Klikkaa oikein. Klikkaa asennusta.\r\n\xa0"}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"test-tomcat",children:"Testaa Tomcat"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Testaa Tomcat-asennus.","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Linux:","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:['K\xe4ytt\xe4j\xe4 "tomcat" ',(0,n.jsx)(i.code,{children:"Tomcat/bin/startup.sh"})," ."]}),"\n",(0,n.jsxs)(i.li,{children:['Katso URL + ":80/" selaimessasi (esim. ',(0,n.jsx)(i.a,{href:"http://coastwatch.pfeg.noaa.gov:8080/",children:"http://coastwatch.pfeg.noaa.gov:8080/"})," ) ."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["Mac Mac Mac (Tomcat toimii j\xe4rjestelm\xe4nvalvojana) :","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Juokseminen ",(0,n.jsx)(i.code,{children:"Tomcat/bin/startup.sh"})," ."]}),"\n",(0,n.jsxs)(i.li,{children:['Katso URL + ":80/" selaimessasi (esim. ',(0,n.jsx)(i.a,{href:"http://coastwatch.pfeg.noaa.gov:8080/",children:"http://coastwatch.pfeg.noaa.gov:8080/"})," ) .\r\nHuomaa, ett\xe4 oletusarvoisesti Tomcat on vain k\xe4ytett\xe4viss\xe4si. Se ei ole julkisesti saatavilla."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["Windows paikalliset:","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:'Napsauta Tomcat-kuvaketta j\xe4rjestelm\xe4n lokerossa ja valitse "Aloita palvelu".'}),"\n",(0,n.jsxs)(i.li,{children:["N\xe4kym\xe4 ",(0,n.jsx)(i.a,{href:"http://127.0.0.1:8080/",children:"http://127.0.0.1:8080/"})," Tai ehk\xe4 ",(0,n.jsx)(i.a,{href:"http://localhost:8080/",children:"http://localhost:8080/"})," Selaimessasi. Huomaa, ett\xe4 oletusarvoisesti Tomcat on vain k\xe4ytett\xe4viss\xe4si. Se ei ole julkisesti saatavilla."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:'Tomcat "Onnittelut" -sivulla.'}),"\n",(0,n.jsxs)(i.p,{children:["Jos on ongelmia, katso Tomcat-lokitiedosto ",(0,n.jsx)(i.code,{children:"Tomcat/logs/catalina.out"})," ."]}),"\n",(0,n.jsx)(i.h3,{id:"troubles-with-the-tomcat-installation",children:"Ongelmia Tomcatin asennuksen kanssa?"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"Linux ja Mac, jos et p\xe4\xe4se Tomcatiin ERDDAP\u2122   (Tai ehk\xe4 et p\xe4\xe4se tietokoneelta palomuurin ulkopuolella.) ,\r\nVoit testata, jos Tomcat kuuntelee porttia 8080 kirjoittamalla (kuin juuret) palvelimen komentorivill\xe4:"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"netstat -tuplen | grep 8080\n"})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"T\xe4m\xe4n pit\xe4isi palauttaa yksi rivi jollakin tavalla:"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"tcp 0 0 :::8080 :::* LISTEN ## ##### ####/java\n"})}),"\n",(0,n.jsxs)(i.p,{children:["(miss\xe4 miss\xe4 ",(0,n.jsx)(i.code,{children:"#"})," Jokin digi) osoittaa, ett\xe4 a ",(0,n.jsx)(i.code,{children:"Jaava"}),' Prosessiprosessi (Ep\xe4ilem\xe4tt\xe4 Tomcat) Satama 8080 tarkoittaa "Tcp"-liikennett\xe4.\r\nJos rivi\xe4 ei palautettu, jos linja on merkitt\xe4v\xe4sti erilainen tai jos kaksi tai useampia rivej\xe4 on palautettu, satamaasetukset voivat olla ongelma.']}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:["Katso Tomcat-lokitiedosto ",(0,n.jsx)(i.code,{children:"Tomcat/logs/catalina.out"})," . Tomcan ongelmat ja jotkut ERDDAP\u2122 K\xe4ynnistysongelmat ovat l\xe4hes aina esill\xe4.\r\nT\xe4m\xe4 on yleist\xe4, kun aloitat ERDDAP\u2122 ."]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:["N\xe4hd\xe4\xe4n ",(0,n.jsx)(i.a,{href:"https://tomcat.apache.org/",children:"Tomca"})," Verkkosivut tai hae apua, mutta kerro meille ongelmat, joita sinulla on ja l\xf6yt\xe4m\xe4si ratkaisut."]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:["Katso meid\xe4n ",(0,n.jsx)(i.a,{href:"/docs/intro#support",children:"Lis\xe4tuen saaminen"})," .\r\n\xa0"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"erddap-content",children:"ERDDAP\u2122 Sis\xe4lt\xf6"}),"\n",(0,n.jsxs)(i.ol,{start:"3",children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsxs)(i.a,{href:"#erddap-content",children:["Aseta yl\xf6s ",(0,n.jsx)(i.code,{children:"Tomcat/Sis\xe4lt\xf6/erdap"})," tiedostojen m\xe4\xe4rittely."]}),"\r\nLinux, Mac ja Windows, lataa ",(0,n.jsx)(i.a,{href:"https://github.com/ERDDAP/erddapContent/releases/download/content1.0.0/erddapContent.zip",children:"erdapContent .zip "}),"\r\nja purkaa sit\xe4 ",(0,n.jsx)(i.code,{children:"Tom"})," Hakemisto, luominen ",(0,n.jsx)(i.code,{children:"Tomcat/Sis\xe4lt\xf6/erdap"})," ."]}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"__Version 1.0.0, 20333 tavua, MD5=2B8D2A5AE5ED73E3A42B529C168C60B5, p\xe4iv\xe4tty 2024-10-14"}),"\n",(0,n.jsx)(i.p,{children:"My\xf6s aiemmat versiot ovat saatavilla:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.17/erddapContent.zip",children:"2.17"}),"   (19 792 tavua, MD5=8F892616BAEEF2DF0F4B036DCB4AD7C, p\xe4iv\xe4tty 2022-02-16)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.18/erddapContent.zip",children:"2.18"}),"   (19 792 tavua, MD5=8F892616BAEEF2DF0F4B036DCB4AD7C, p\xe4iv\xe4tty 2022-02-16)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.21/erddapContent.zip",children:"2.2."}),"   (19 810 tavua, MD5=1E26F62E7A06191EE68C40B9A29362, p\xe4iv\xe4tty 2022-10-09)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.22/erddapContent.zip",children:"2.22"}),"   (19 810 tavua, MD5=1E26F62E7A06191EE68C40B9A29362, p\xe4iv\xe4tty 2022-12-08)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.23/erddapContent.zip",children:"2.23"}),"   (19 810 tavua, MD5=1E26F62E7A06191EE68C40B9A29362, p\xe4iv\xe4tty 2023-02-27)"]}),"\n"]}),"\n",(0,n.jsx)(i.h4,{id:"other-directory",children:"Muu ohjaus"}),"\n",(0,n.jsxs)(i.p,{children:["Edelt\xe4j\xe4 Red Hat Enterprise Linux (Ryhm\xe4) muissa tilanteissa, joissa et saa muuttaa Tomcat-hakemistoa tai miss\xe4 haluat/tarvitset\r\nLaittaa ERDDAP\u2122 Sis\xe4lt\xf6hakemisto jostain muusta syyst\xe4 (Jos k\xe4yt\xe4t Jetty\xe4 Tomcatin sijaan) ,\r\nUnzip ",(0,n.jsx)(i.code,{children:"erdapContent .zip "})," haluttuun hakemistoon (johon vain ",(0,n.jsx)(i.code,{children:"Tom"})," K\xe4ytt\xe4j\xe4ll\xe4 on p\xe4\xe4sy) ja asettaa ",(0,n.jsx)(i.code,{children:"erddapContentDirectory"})," J\xe4rjestelm\xe4n omaisuus\r\n(esim. ",(0,n.jsx)(i.code,{children:"erddapContentDirectory  =~tomcat/content/erddap"})," ) niin ERDDAP\u2122 L\xf6yd\xe4 t\xe4m\xe4 uusi sis\xe4lt\xf6hakemisto."]}),"\n",(0,n.jsx)(i.h3,{id:"setupxml",children:"Asennus.xml"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsxs)(i.a,{href:"#setupxml",children:["Lue kommentit sis\xe4\xe4n ",(0,n.jsx)(i.code,{children:"Tomcat/content/erddap/setup.xml"})," "]})," Tee pyydetyt muutokset. setup.xml on tiedosto, jossa on kaikki asetukset, jotka m\xe4\xe4ritt\xe4v\xe4t, miten ERDDAP\u2122 k\xe4ytt\xe4yty\xe4."]}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"Alkuvaiheessa sinun on ainakin muutettava n\xe4it\xe4 asetuksia:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.code,{children:"<bigParentDirectory>"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.code,{children:"<emailEverythingTo>"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.code,{children:"<baseUrl>"})}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"<email...>"})," asetukset"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"<admin...>"})," asetukset"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"<baseHttpsUrl>"}),"   (Kun olet asentanut https )"]}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"Kun luot BigParentDirectoryn, BigParentDirectoryn emohakemistosta:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Tee siit\xe4 ",(0,n.jsx)(i.code,{children:"Tom"})," K\xe4ytt\xe4j\xe4n omistaja ",(0,n.jsx)(i.code,{children:"isovanhemmat"})," :","\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"chown -R tomcat bigParentDirectory\n"})}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:['Muuta "ryhm\xe4" tomcatiksi, k\xe4ytt\xe4j\xe4nimeksi tai pienen ryhm\xe4n nimeksi, joka sis\xe4lt\xe4\xe4 tomcatin ja kaikki Tomcatin yll\xe4pit\xe4j\xe4t ERDDAP :',"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"chgrp -R yourUserName bigParentDirectory\n"})}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["Muuta lupia, jotta Tomcat ja ryhm\xe4 ovat lukeneet, kirjoittaneet ja toteuttaneet etuoikeuksia:","\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"chmod -R ug+rwx bigParentDirectory\n"})}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:['Poista "muut" k\xe4ytt\xe4j\xe4n lukemis-, kirjoitus- tai toteutusoikeudet. T\xe4m\xe4 on t\xe4rke\xe4\xe4 ehk\xe4ist\xe4 mahdollisesti arkaluonteisten tietojen lukemista.\r\nSis\xe4ll\xe4 ERDDAP\u2122 kirjaa tiedostoja ja tiedostoja yksityisist\xe4 tietoaineistoista.',"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"chmod -R o-rwx bigParentDirectory\n"})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"environment-variables",children:"Ymp\xe4rist\xf6muuttujat"}),"\n",(0,n.jsxs)(i.p,{children:["Aloitetaan ERDDAP\u2122 v2.13, ERDDAP\u2122 J\xe4rjest\xe4j\xe4t voivat ylitt\xe4\xe4 mink\xe4 tahansa arvon asennus.xml m\xe4\xe4ritt\xe4m\xe4ll\xe4 ymp\xe4rist\xf6muuttujan.\r\nNime\xe4 ",(0,n.jsx)(i.code,{children:" ERDDAP _arvonimi"})," ennen juoksemista ERDDAP\u2122 . Esimerkiksi k\xe4ytt\xf6 ",(0,n.jsx)(i.code,{children:" ERDDAP _baseUrl"})," Ylitt\xe4\xe4 ",(0,n.jsx)(i.code,{children:"<baseUrl>"})," arvoa.\r\nT\xe4m\xe4 voi olla k\xe4tev\xe4\xe4, kun k\xe4yt\xe4t ERDDAP\u2122 Dockerin kaltaisella s\xe4ili\xf6ll\xe4, koska voit asettaa asennusasetukset.xml\r\nToimita erityisasetuksia ymp\xe4rist\xf6muuttujan kautta. Jos toimitat salaisia tietoja ERDDAP\u2122 t\xe4m\xe4n menetelm\xe4n kautta,\r\nTarkista, ett\xe4 tiedot pysyv\xe4t salaisina. ERDDAP\u2122 Lue ymp\xe4rist\xf6muuttujat vain kerran k\xe4ynnistysvaiheessa.\r\nk\xe4ynnistyksen ensimm\xe4isess\xe4 sekunnissa, joten yksi tapa k\xe4ytt\xe4\xe4 t\xe4t\xe4 on: aseta ymp\xe4rist\xf6muuttujat, aloita ERDDAP ,\r\nOdota kunnes ERDDAP\u2122 Se on aloitettu ja sitten ymp\xe4rist\xf6muuttujia."]}),"\n",(0,n.jsx)(i.h3,{id:"datasetsxml",children:"datasets.xml"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Lue kommentit sis\xe4\xe4n ",(0,n.jsxs)(i.a,{href:"/docs/server-admin/datasets",children:[" ",(0,n.jsx)(i.strong,{children:"Ty\xf6skentely\xe4 yhdess\xe4 datasets.xml Tiedosto"})," "]})," . My\xf6hemmin, kun olet saanut ERDDAP\u2122 Juoksen juoksemassa\r\nensimm\xe4ist\xe4 kertaa (yleens\xe4 vain oletustietojen kanssa) Muutat XML:\xe4\xe4 ",(0,n.jsx)(i.code,{children:"Tomcat/content/erddap datasets.xml "}),"\r\nm\xe4\xe4ritt\xe4\xe4 kaikki haluamasi tietoaineistot ERDDAP\u2122 palvelemaan. N\xe4in viet\xe4t suurimman osan ajastasi\r\nKun perustat ERDDAP\u2122 ja my\xf6hemmin s\xe4ilytt\xe4en ERDDAP\u2122 ."]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["Voit n\xe4hd\xe4 esimerkin ",(0,n.jsx)(i.a,{href:"https://github.com/ERDDAP/erddap/blob/main/development/jetty/config/datasets.xml",children:" datasets.xml Kirjoittanut GitHub"})," .\r\n\xa0"]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["(ep\xe4todenn\xe4k\xf6ist\xe4) Nyt tai (hieman todenn\xe4k\xf6isemmin) tulevaisuudessa, jos haluat muuttaa erddapin CSS-tiedostoa, kopioi\r\n",(0,n.jsx)(i.code,{children:"Tomcat/content/erddap/images/erdapStart2.css"})," ett\xe4 ",(0,n.jsx)(i.code,{children:"Tomcat/content/erddap/images/erddap2.css"})," Sitten tehd\xe4\xe4n muutoksia siihen.\r\nMuutoksia ",(0,n.jsx)(i.code,{children:"Erddap2.css"})," Vain silloin, kun ERDDAP\u2122 K\xe4ynnistet\xe4\xe4n uudelleen ja usein my\xf6s k\xe4ytt\xe4j\xe4n on puhdistettava selaimen v\xe4limuistitiedostot.\r\n\xa0\r\nERDDAP\u2122 ei toimi oikein, jos asennus.xml tai datasets.xml tiedosto ei ole hyvin muotoiltu XML-tiedosto. Kun olet muokannut n\xe4it\xe4 tiedostoja,\r\nOn hyv\xe4 tarkistaa, ett\xe4 tulos on hyvin muotoiltu XML liitt\xe4m\xe4ll\xe4 XML-teksti XML-testiin, kuten ",(0,n.jsx)(i.a,{href:"https://www.xmlvalidation.com/",children:"xmlvalidaatio"})," .\r\n\xa0"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"install-the-erddapwar-file",children:"Asenna erddap. War tiedostot"}),"\n",(0,n.jsxs)(i.ol,{start:"4",children:["\n",(0,n.jsxs)(i.li,{children:["Linux, Mac ja Windows, _download ",(0,n.jsx)(i.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.28.1/erddap.war",children:"Erddap.sota"})," Sis\xe4\xe4n ",(0,n.jsx)(i.code,{children:"Tomcat/webapps"})," :"]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["_",(0,n.jsx)(i.em,{children:"Version 2.28.1, 622,676,238 tavua, MD5=48b4226045f950c8d69ef9521b9bc9, p\xe4iv\xe4tty 2025-09-05"})]}),"\n",(0,n.jsx)(i.p,{children:".war-tiedosto on suuri, koska se sis\xe4lt\xe4\xe4 korkean resoluution rantaviivaa, rajoja ja korkeustietoja, joita tarvitaan karttojen luomiseen."}),"\n",(0,n.jsx)(i.p,{children:"My\xf6s aiempia versioita on saatavilla."}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.17/erddap.war",children:"2.17"}),"   (551 068 245 tavua, MD5=5FEA912B5D42E50EAB9591F773EA848D, p\xe4iv\xe4tty 2022-02-16)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.18/erddap.war",children:"2.18"}),"   (551 069 844 tavua, MD5=461325E97E7577EC671D50246CCFB8B, p\xe4iv\xe4tty 2022-02-23)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.21/erddap.war",children:"2.2."}),"   (568 6644 411 tavua, MD5=F2CFF805893146E932E498FDDBD519B6, p\xe4iv\xe4tty 2022-10-09)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.22/erddap.war",children:"2.22"}),"   (567,742,765 tavua, MD5=2B33354F633294213AE2AFDCF4DA6D0, p\xe4iv\xe4tty 2022-12-08)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.23/erddap.war",children:"2.23"}),"   (572 124,953 tavua, MD5=D843A043C506725EBD6F8FDCCA8FD5F, p\xe4iv\xe4tty 2023-03-03)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.24/erddap.war",children:"2.24"}),"   (568 748 187 tavua, MD5=970fbee172e28b0b8a07756eecbc898e, p\xe4iv\xe4tty 2024-06-07)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.25.1/erddap.war",children:"2.25"}),"   (592 292 039 tavua, MD5=652AFC9D1421F00B5F789DA2C4732D4C, p\xe4iv\xe4tty 2024-11-07)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.26.0/erddap.war",children:"2.26"}),"   (607 404 032 tavua, MD5=99a725108b37708e5420986c16a119, p\xe4iv\xe4tty 2025-03-31)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.27.0/erddap.war",children:"2.2.0"}),"   (620 554 403 tavua, MD5=3b2086c659ee4145ca2dff447bf4ef7, p\xe4iv\xe4tty 2025-06-11)"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"proxy",children:"Konfiguroi proxy (Erityinen k\xe4ytt\xf6\xf6notto)"}),"\n",(0,n.jsx)(i.p,{children:"ERDDAP\u2122 on tyypillisesti sijoitettu webserverin k\xe4\xe4nteisen v\xe4lityspalvelimen taakse, jotta sit\xe4 voidaan palvella tavallisilla HTTP-porteilla. (80 ja 443) .\r\nSSL/TLS-terminaatio on usein hajallaan my\xf6s webserver-proxy-kerroksessa. Riippuu kunkin k\xe4ytt\xf6\xf6noton vaatimuksista."}),"\n",(0,n.jsx)(i.h4,{id:"apache",children:"Apasseja"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{children:["Varmista, ett\xe4 ",(0,n.jsx)(i.code,{children:"Mod_proxy"})," ja ",(0,n.jsx)(i.code,{children:"Mod_proxy http "})," on ladattu:"]}),"\n"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"LoadModule proxy_module modules/mod_proxy.so\r\nLoadModule proxy_http_module modules/mod_proxy_http.so\n"})}),"\n",(0,n.jsxs)(i.ol,{start:"2",children:["\n",(0,n.jsxs)(i.li,{children:["Muokkaa olemassa olevaa ",(0,n.jsx)(i.code,{children:"<VirtualHost>"})," Tag (Jos on yksi) tai lis\xe4t\xe4 tiedoston lopussa:"]}),"\n"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"<VirtualHost *:80>\r\n   ServerName YourDomain.org\r\n   ProxyRequests Off\r\n   ProxyPreserveHost On\r\n   ProxyPass /erddap http://localhost:8080/erddap\r\n   ProxyPassReverse /erddap http://localhost:8080/erddap\r\n</VirtualHost>\n"})}),"\n",(0,n.jsxs)(i.p,{children:["Jos ERDDAP\u2122 tarjoillaan muulla tiell\xe4 kuin ",(0,n.jsx)(i.code,{children:"Eddap"})," my\xf6s asettaa ",(0,n.jsx)(i.code,{children:"X-Forwarded-Prefix"})," Otsikko kohti\r\nL\xe4hde: Before_ ",(0,n.jsx)(i.code,{children:"Eddap"})," . T\xe4m\xe4 asetus olisi sopiva ERDDAP\u2122 Palvellen\r\n",(0,n.jsx)(i.code,{children:"L\xe4hde/erddap"})," :"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"RequestHeader set X-Forwarded-Prefix /subpath\n"})}),"\n",(0,n.jsxs)(i.ol,{start:"3",children:["\n",(0,n.jsxs)(i.li,{children:["Aloita Apache uudelleen: ",(0,n.jsx)(i.code,{children:"K\xe4ytt\xe4j\xe4/sbin/apachectl K Graceful"}),"   (Joskus se on toisessa hakemistossa.) .\r\n\xa0"]}),"\n"]}),"\n",(0,n.jsx)(i.h4,{id:"nginx",children:"Yhdess\xe4"}),"\n",(0,n.jsx)(i.p,{children:"nginx config -tiedostossa aseta n\xe4m\xe4 otsikot:"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"proxy_set_header Host              $http_host;\r\nproxy_set_header X-Real-IP         $remote_addr;\r\nproxy_set_header REMOTE_ADDR       $remote_addr;\r\nproxy_set_header HTTP_CLIENT_IP    $remote_addr;\r\nproxy_set_header X-Forwarded-For   $proxy_add_x_forwarded_for;\r\nproxy_set_header X-Forwarded-Proto $scheme;\n"})}),"\n",(0,n.jsxs)(i.p,{children:["Jos ERDDAP\u2122 tarjoillaan muulla tiell\xe4 kuin ",(0,n.jsx)(i.code,{children:"Eddap"})," my\xf6s asettaa ",(0,n.jsx)(i.code,{children:"X-Forwarded-Prefix"})," Otsikko kohti\r\nL\xe4hde: Before_ ",(0,n.jsx)(i.code,{children:"Eddap"})," . T\xe4m\xe4 asetus olisi sopiva ERDDAP\u2122 Palvellen\r\n",(0,n.jsx)(i.code,{children:"L\xe4hde/erddap"})," :"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"proxy_set_header X-Forwarded-Prefix /subpath\n"})}),"\n",(0,n.jsxs)(i.p,{children:["Jotta NGINX ja ERDDAP\u2122 toimimaan oikein https Sinun t\xe4ytyy laittaa seuraava snippet sis\xe4\xe4n Tomcat-palvelin.xml ",(0,n.jsx)(i.code,{children:"<Host>"})," Blokki:"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:'<Valve className="org.apache.catalina.valves.RemoteIpValve"\r\n  remoteIpHeader="X-Forwarded-For"\r\n  protocolHeader="X-Forwarded-Proto"\r\n  protocolHeaderHttpsValue="https" />\n'})}),"\n",(0,n.jsx)(i.p,{children:"\xa0"}),"\n",(0,n.jsx)(i.h3,{id:"start-tomcat",children:"Aloita Tomcat"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"(En suosittele Tomcat Web Application Managerin k\xe4ytt\xf6\xe4. Jos et ole t\xe4ysin suljettu ja k\xe4ynnistys Tomcat, ennemmin tai my\xf6hemmin sinulla on PermGen muistiongelmia.)"}),"\n",(0,n.jsxs)(i.li,{children:["(Linuxissa tai Mac OS",":ss","\xe4, jos olet luonut Tomcat-k\xe4ytt\xe4j\xe4n, esimerkiksi tomcat, muista tehd\xe4 seuraavat vaiheet k\xe4ytt\xe4j\xe4n\xe4.)"]}),"\n",(0,n.jsxs)(i.li,{children:["Jos Tomcat jo juoksee, sulje Tomcat (Linux tai Mac OS)   ",(0,n.jsx)(i.code,{children:"Tomcat/bin/shutdown"}),"\r\ntai tai (Windowsissa)   ",(0,n.jsx)(i.code,{children:"Tomcat \\bin shutdown.bat "})]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["Linux, K\xe4yt\xe4 ",(0,n.jsx)(i.code,{children:"ps -ef | Tomcat"})," ennen ja j\xe4lkeen ",(0,n.jsx)(i.code,{children:"sulku. S\xe4v."})," Varmista, ett\xe4 tomcat-prosessi on pys\xe4htynyt.\r\nProsessi on lueteltava ennen sulkeutumista, eik\xe4 sit\xe4 lopulta ole listattu sulkeutumisen j\xe4lkeen.\r\nSe voi kest\xe4\xe4 minuutin tai kaksi. ERDDAP\u2122 T\xe4ysin suljettu. Ole k\xe4rsiv\xe4llinen. Jos se ei n\xe4yt\xe4 pys\xe4htyv\xe4n itsest\xe4\xe4n, k\xe4yt\xe4:\r\n",(0,n.jsx)(i.code,{children:"tappaa -9 <processID> "})]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Aloita Tomcat (Linux tai Mac OS)   ",(0,n.jsx)(i.code,{children:"Tomcat/bin/startup.sh"})," tai tai (Windowsissa)   ",(0,n.jsx)(i.code,{children:"Tomcat\\bin\\\\startup.bat"})]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"is-erddap-running",children:"on ERDDAP\u2122 juoksemaan?"}),"\n",(0,n.jsxs)(i.p,{children:["K\xe4yt\xe4 selainta n\xe4hd\xe4ksesihttp://",(0,n.jsx)(i.a,{href:"http://www.YourServer.org/erddap/status.html",children:"www.YourServer.org/erddap/status.html"}),".","\r\nERDDAP\u2122 K\xe4ynnistet\xe4\xe4n ilman tiedostoja. Datasetit ladataan taustas\xe4ikeeseen, joten ne ovat saatavilla yksi kerrallaan."]}),"\n",(0,n.jsx)(i.h3,{id:"troubleshooting",children:"Troubleshoot"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Kun k\xe4ytt\xe4j\xe4n pyynt\xf6 tulee sis\xe4\xe4n, se menee Apacheen. (Linux- ja Mac OS -tietokoneissa) Sitten Tomcat, ERDDAP\u2122 ."}),"\n",(0,n.jsx)(i.li,{children:"N\xe4et, mit\xe4 tulee Apache (liittyvi\xe4 virheit\xe4) Apache-lokitiedostoissa."}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"/docs/server-admin/additional-information#tomcat-logs",children:"Sin\xe4"})," Katso, mit\xe4 Tomcat (liittyvi\xe4 virheit\xe4)\r\nTomcat-lokitiedostot ( ",(0,n.jsx)(i.code,{children:"Tomcat/logs/catalina.out"})," Muut tiedostot t\xe4ss\xe4 hakemistossa) ."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"/docs/server-admin/additional-information#log",children:"Sin\xe4"})," Saa n\xe4hd\xe4, mit\xe4 tulee ERDDAP diagnostisia viestej\xe4 ERDDAP ,\r\nViestien virheet ERDDAP Sis\xe4ll\xe4 ERDDAP\u2122   ",(0,n.jsx)(i.code,{children:" <bigParentDirectory> Tekij\xe4t/log.txt"})," tiedosto."]}),"\n",(0,n.jsx)(i.li,{children:"Tomcat ei aloita ERDDAP\u2122 Kun Tomcat saa pyynn\xf6n ERDDAP\u2122 . Voit katsoa Tomcat-lokitiedostoja, jos\r\nAlku alkoi ERDDAP\u2122 tai jos t\xe4h\xe4n yritykseen liittyy virheilmoitus."}),"\n",(0,n.jsxs)(i.li,{children:["Milloin ERDDAP\u2122 Aloita, se nime\xe4\xe4 vanhan ERDDAP\u2122 log.txt-tiedosto ( ",(0,n.jsx)(i.code,{children:"logiikka <CurrentTime> .txt"})," ) Luo uusi log.txt-tiedosto.\r\nJos siis ",(0,n.jsx)(i.code,{children:"log.txt"})," tiedosto on vanha, se on merkki siit\xe4, ett\xe4 ERDDAP\u2122 Ei ole hiljattain aloitettu uudelleen. ERDDAP\u2122 Kirjoita lokitiedot puskuriin\r\nja kirjoittaa puskurin lokitiedostoon s\xe4\xe4nn\xf6llisesti, mutta voit pakottaa ERDDAP\u2122 Kirjoita puskuri lokitiedostoon vierailemalla\r\n",(0,n.jsx)(i.code,{children:"/erddap/status.html"})," ."]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"trouble-old-version-of-java",children:"Vaikeus: Vanha versio Java"}),"\n",(0,n.jsx)(i.p,{children:"Jos k\xe4yt\xe4t versiota Java Se on liian vanha ERDDAP , ERDDAP\u2122 Et juokse ja n\xe4et virheilmoituksen Tomcatin lokitiedostossa"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:'Exception in thread "main" java.lang.UnsupportedClassVersionError:\r\n_some/class/name_: Unsupported major.minor version _someNumber_\n'})}),"\n",(0,n.jsx)(i.p,{children:"Ratkaisu on p\xe4ivitt\xe4\xe4 uusin versio Java Varmista, ett\xe4 Tomcat k\xe4ytt\xe4\xe4 sit\xe4."}),"\n",(0,n.jsx)(i.h3,{id:"trouble-slow-startup-first-time",children:"Slow startup ensimm\xe4ist\xe4 kertaa"}),"\n",(0,n.jsxs)(i.p,{children:["Tomcatin on teht\xe4v\xe4 paljon ty\xf6t\xe4 ensimm\xe4isen kerran, kun sovellus on ERDDAP\u2122 on aloitettu; varsinkin sen on purettava ",(0,n.jsx)(i.code,{children:"Erddap.sota"})," tiedostotiedosto\r\n(joka on kuin .zip tiedostotiedosto) . Joillakin palvelimilla ensimm\xe4inen yritys n\xe4hd\xe4 ERDDAP\u2122 Tanssit (30 sekuntia?) kunnes t\xe4m\xe4 ty\xf6 on valmis.\r\nMuilla palvelimilla ensimm\xe4inen yritys ep\xe4onnistuu v\xe4litt\xf6m\xe4sti. Jos odotat 30 sekuntia ja yrit\xe4 uudelleen, se onnistuu, jos ERDDAP\u2122 asennettiin oikein."]}),"\n",(0,n.jsx)(i.p,{children:"T\xe4h\xe4n ei ole korjausta. N\xe4in Tomcat toimii. T\xe4m\xe4 tapahtuu vasta ensimm\xe4isen kerran, kun olet asentanut uuden version. ERDDAP\u2122 ."}),"\n",(0,n.jsx)(i.h2,{id:"shut-down-and-restart",children:"Sulje ja k\xe4ynnist\xe4 uudelleen"}),"\n",(0,n.jsxs)(i.p,{children:["Tulevaisuudessa suljetaan (uudelleenk\xe4ynnistys)   ERDDAP\u2122 n\xe4ht\xe4v\xe4 ",(0,n.jsx)(i.a,{href:"/docs/server-admin/additional-information#shut-down-and-restart",children:"Miten lopettaa ja k\xe4ynnist\xe4\xe4 Tomcat ERDDAP "})," ."]}),"\n",(0,n.jsx)(i.h2,{id:"trouble",children:"Ongelmia?"}),"\n",(0,n.jsxs)(i.p,{children:["Tomcatin tai ERDDAP\u2122 ?? Katso meid\xe4n ",(0,n.jsx)(i.a,{href:"/docs/intro#support",children:"Lis\xe4tuen saaminen"})," ."]}),"\n",(0,n.jsx)(i.h2,{id:"email-notification-of-new-versions-of-erddap",children:"S\xe4hk\xf6postiilmoitus uusista versioista ERDDAP"}),"\n",(0,n.jsxs)(i.p,{children:["Jos haluat saada s\xe4hk\xf6postiviestin aina, kun uusi versio ERDDAP\u2122 Saatavilla tai muu t\xe4rke\xe4 ERDDAP\u2122 ilmoitukset,\r\nVoit liitty\xe4 ERDDAP\u2122 Ilmoituslistat ",(0,n.jsx)(i.a,{href:"https://groups.google.com/g/erddap-announce",children:"t\xe4\xe4ll\xe4 t\xe4\xe4ll\xe4 t\xe4\xe4ll\xe4"})," . Luettelossa on noin yksi s\xe4hk\xf6posti kolmen kuukauden v\xe4lein."]}),"\n",(0,n.jsx)(i.h2,{id:"customize",children:"Mukautettu"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"#customize",children:"Mukauta itse\xe4si ERDDAP\u2122 korostaa organisaatiotasi (Ei ei ei NOAA   ERD ) ."})}),"\n",(0,n.jsxs)(i.li,{children:["Vaihda lippu, joka n\xe4kyy kaikkien huipulla ERDDAP\u2122 .html-sivut muokkaamalla ",(0,n.jsx)(i.code,{children:"<startBodyHtml5>"})," Tag in your ",(0,n.jsx)(i.code,{children:"datasets.xml"})," tiedosto.\r\n(Jos ei ole yht\xe4, kopioi oletus ERDDAP\u2122 > ",(0,n.jsx)(i.code,{children:"Tomcat/webapps/erddap/WEB-INF/Classes/Gov/noaa/pfel/erddap/util/viestej\xe4.xml"})," tiedostotiedosto\r\nsis\xe4\xe4n ",(0,n.jsx)(i.code,{children:"datasets.xml"})," ja editoida sit\xe4.) Voit esimerkiksi:","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"K\xe4yt\xe4 erilaista kuvaa (\u2022 organisaation logo) ."}),"\n",(0,n.jsx)(i.li,{children:"Muuta taustav\xe4ri\xe4."}),"\n",(0,n.jsx)(i.li,{children:'Muutos" ERDDAP\u2122 "Organisaatiosi" ERDDAP\u2122 """'}),"\n",(0,n.jsx)(i.li,{children:'Vaihda "Tieteellisten tietojen helpompi saatavuus" "Sinun organisaatiosi tietojen helpompi saatavuus".'}),"\n",(0,n.jsx)(i.li,{children:'Vaihda "Brought to You by" -linkkej\xe4 ollaksesi linkkej\xe4 organisaatioosi ja rahoitusl\xe4hteisiin.'}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["Muuta kotisivun vasemmalla puolella olevaa tietoa muokkaamalla ",(0,n.jsx)(i.code,{children:"<theShortDescriptionHtml>"})," Tag in your ",(0,n.jsx)(i.code,{children:"datasets.xml"})," tiedosto.\r\n(Jos ei ole yht\xe4, kopioi oletus ERDDAP\u2122 > ",(0,n.jsx)(i.code,{children:"Tomcat/webapps/erddap/WEB-INF/Classes/Gov/noaa/pfel/erddap/util/viestej\xe4.xml"})," tiedostotiedosto\r\nsis\xe4\xe4n ",(0,n.jsx)(i.code,{children:"datasets.xml"})," ja editoida sit\xe4.) Voit esimerkiksi:","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Kerro, mit\xe4 organisaatiosi ja/tai ryhm\xe4si tekee."}),"\n",(0,n.jsx)(i.li,{children:"Selvit\xe4, millaisia tietoja t\xe4m\xe4 ERDDAP\u2122 on."}),"\n",(0,n.jsxs)(i.li,{children:["Muuttaa ikoni, joka n\xe4kyy selaimen v\xe4lilehti\xe4, laittaa organisaation favicon. Ico sis\xe4\xe4n ",(0,n.jsx)(i.code,{children:"Tomcat/content/erddap/images/"})," .\r\nN\xe4yt\xe4",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Favicon",children:"https://en.wikipedia.org/wiki/Favicon"}),"."]}),"\n"]}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},62900:(e,i,t)=>{t.d(i,{A:()=>a});const a=t.p+"assets/files/DejaVuFonts-9be3895e6d216d0fc9bb8f3520f765c6.zip"}}]);