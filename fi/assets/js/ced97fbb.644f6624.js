"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[1381],{28453:(t,i,a)=>{a.d(i,{R:()=>o,x:()=>l});var e=a(96540);const s={},n=e.createContext(s);function o(t){const i=e.useContext(n);return e.useMemo((function(){return"function"==typeof t?t(i):{...i,...t}}),[i,t])}function l(t){let i;return i=t.disableParentContext?"function"==typeof t.components?t.components(s):t.components||s:o(t.components),e.createElement(n.Provider,{value:i},t.children)}},88623:(t,i,a)=>{a.d(i,{A:()=>e});const e=a.p+"assets/images/cluster-73996a04326fe63934754f994e09f63f.png"},94148:(t,i,a)=>{a.r(i),a.d(i,{assets:()=>k,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>e,toc:()=>r});const e=JSON.parse('{"id":"server-admin/scaling","title":"Scaling","description":"ERDDAP\u2122- raskaat vuodot, verkot, klusterit, liitot ja pilvipalvelut","source":"@site/i18n/fi/docusaurus-plugin-content-docs/current/server-admin/scaling.md","sourceDirName":"server-admin","slug":"/server-admin/scaling","permalink":"/fi/docs/server-admin/scaling","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/scaling.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Scaling","sidebar_position":5},"sidebar":"docSidebar","previous":{"title":"additional-information","permalink":"/fi/docs/server-admin/additional-information"},"next":{"title":"EDDTableFromEML","permalink":"/fi/docs/server-admin/EDDTableFromEML"}}');var s=a(74848),n=a(28453);const o={title:"Scaling",sidebar_position:5},l="Scaling",k={},r=[{value:"ERDDAP\u2122- raskaat vuodot, verkot, klusterit, liitot ja pilvipalvelut",id:"erddap---heavy-loads-grids-clusters-federations-and-cloud-computing",level:2},{value:"DISCLAIMER",id:"disclaimer",level:2},{value:"Raskaita paikkoja / Constraints",id:"heavy-loads--constraints",level:2},{value:"L\xe4hde Bandwidth",id:"remote-source-bandwidth",level:3},{value:"ERDDAPPalvelija Bandwidth",id:"erddaps-server-bandwidth",level:3},{value:"Muisti",id:"memory",level:3},{value:"Ajaminen Bandwidth",id:"had-drive-bandwidth",level:3},{value:"Liian monta tiedostoa kiinni",id:"too-many-files-cached",level:3},{value:"CPU",id:"cpu",level:3},{value:"Monipuolinen identtinenERDDAPLainatasapaino?",id:"multiple-identical-erddaps-with-load-balancing",level:2},{value:" <strong>Grids, Clusters ja Federations</strong> ",id:"grids-clusters-and-federations",level:2},{value:"Tavoitteet",id:"goals",level:3},{value:"Suositukset",id:"recommendations",level:3},{value:"Hyv\xe4t osat",id:"grid-parts",level:3},{value:"KomposiittiERDDAP",id:"composite-erddap",level:4},{value:"P\xe4ivitetty max (Aika-aika) ??",id:"up-to-date-maxtime",level:5},{value:"Monipuolinen komposiittiERDDAPs",id:"multiple-composite-erddaps",level:4},{value:"Tietoja eritt\xe4in korkeasta kysynn\xe4st\xe4",id:"datasets-in-very-high-demand",level:3},{value:"RAIDs vs. s\xe4\xe4nn\xf6lliset kovat ajot",id:"raids-versus-regular-hard-drives",level:3},{value:"Ep\xe4onnistuminen",id:"failures",level:3},{value:"yksinkertainen, skaalautuva",id:"simple-scalable",level:3},{value:"Bandwid",id:"bandwidth",level:3},{value:"Kuten Legos",id:"like-legos",level:3},{value:"Erilaisia pyynt\xf6j\xe4",id:"different-types-of-requests",level:3},{value:"N\xe4m\xe4 ovat mielipiteit\xe4ni.",id:"these-are-my-opinions",level:3},{value:" <strong>Pilvitietokone</strong> ",id:"cloud-computing",level:2},{value:"Subsetointi",id:"subsetting",level:3},{value:"Is\xe4nn\xf6idyt tiedot",id:"hosted-data",level:3},{value:"Rekister\xf6idyt et\xe4yhteydet",id:"remote-replication-of-datasets",level:2},{value:" <strong>relevanttiaERDDAP\u2122Ty\xf6kalut</strong> ",id:"relevant-erddap-tools",level:3},{value:"Ratkaisuja",id:"solutions",level:3},{value:"Brute Force -ratkaisut",id:"custom-brute-force-solutions",level:4},{value:"rsync",id:"rsync",level:4},{value:"L\xe4hde: Url",id:"cache-from-url",level:4},{value:"ArchiveaDataset",id:"archiveadataset",level:4},{value:"ERDDAP\u2122Vakiopyynt\xf6j\xe4rjestelm\xe4",id:"erddaps-standard-request-system",level:4},{value:"EdDTableFromHttpGet",id:"eddtablefromhttpget",level:4},{value:"Jaettu data",id:"distributed-data",level:4},{value:"Johtaminen",id:"conclusion",level:3}];function u(t){const i={a:"a",br:"br",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...t.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"scaling",children:"Scaling"})}),"\n",(0,s.jsx)(i.h2,{id:"erddap---heavy-loads-grids-clusters-federations-and-cloud-computing",children:"ERDDAP\u2122- raskaat vuodot, verkot, klusterit, liitot ja pilvipalvelut"}),"\n",(0,s.jsx)(i.p,{children:"\xa0"}),"\n",(0,s.jsx)(i.h1,{id:"erddap",children:"ERDDAP:"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/index.html",children:"ERDDAP\u2122"}),"on verkkosovellus ja verkkopalvelu, joka yhdist\xe4\xe4 tieteellisi\xe4 tietoja erilaisista paikallisista ja kaukol\xe4hteist\xe4 ja tarjoaa yksinkertaisen ja johdonmukaisen tavan ladata tietoja yhteisiss\xe4 tiedostomuodoissa ja tehd\xe4 kaavioita ja karttoja. T\xe4m\xe4 sivu k\xe4sittelee raskaita asioitaERDDAP\u2122K\xe4yt\xe4 kuormia ja tutkii mahdollisuuksia k\xe4sitell\xe4 eritt\xe4in raskaita kuormia verkkojen, klusterien, liittojen ja pilvipalveluiden kautta."]}),"\n",(0,s.jsx)(i.p,{children:"Alkuper\xe4inen versio on kirjoitettu kes\xe4kuussa 2009. Merkitt\xe4vi\xe4 muutoksia ei ole tapahtunut. Se p\xe4ivitettiin viimeksi 2019-04-15."}),"\n",(0,s.jsx)(i.h2,{id:"disclaimer",children:"DISCLAIMER"}),"\n",(0,s.jsx)(i.p,{children:"T\xe4m\xe4n sivun sis\xe4lt\xf6 on Bob Simonsin henkil\xf6kohtainen mielipide, eik\xe4 se v\xe4ltt\xe4m\xe4tt\xe4 heijasta hallituksen tai sen asemaa.National Oceanic and Atmospheric Administration. Laskelmat ovat yksinkertaisia, mutta mielest\xe4ni johtop\xe4\xe4t\xf6kset ovat oikein. Olenko k\xe4ytt\xe4nyt virheellist\xe4 logiikkaa tai tehnyt virheen laskelmissani? Jos on, vika on yksin. L\xe4het\xe4 s\xe4hk\xf6posti korjauksellaerd dot data at noaa dot gov.\r\n\xa0"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"heavy-loads--constraints",children:"Raskaita paikkoja / Constraints"}),"\n",(0,s.jsx)(i.p,{children:"Raskaalla k\xe4yt\xf6ll\xe4, standaloneERDDAP\u2122rajoitetaan (v\xe4hiten todenn\xe4k\xf6isesti) By:"}),"\n",(0,s.jsx)(i.h3,{id:"remote-source-bandwidth",children:"L\xe4hde Bandwidth"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:['et\xe4tietol\xe4hteen kaistanleveys - Jopa tehokkaalla yhteydell\xe4 (Esim. kauttaOPeNDAP) jos et\xe4tietol\xe4hteell\xe4 on eritt\xe4in korkea kaistanleveys Internet-yhteys,ERDDAP"Vastaukset rajoittuvat siihen, kuinka nopeastiERDDAP\u2122Voit saada tietoja tietol\xe4hteest\xe4. Ratkaisu on kopioida tietoaineistoaERDDAP"Vaikea matka, ehk\xe4',(0,s.jsx)(i.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridKopio"}),"tai tai",(0,s.jsx)(i.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EdDTableCopy"}),".\r\n\xa0"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"erddaps-server-bandwidth",children:"ERDDAPPalvelija Bandwidth"}),"\n",(0,s.jsxs)(i.ol,{start:"2",children:["\n",(0,s.jsx)(i.li,{children:'ElleiERDDAPpalvelimella on eritt\xe4in korkea kaistanleveys Internet-yhteys,ERDDAP"Vastaukset rajoittuvat siihen, kuinka nopeastiERDDAP\u2122voi saada tietoja tietol\xe4hteist\xe4 ja kuinka nopeastiERDDAP\u2122Tietoja voidaan palauttaa asiakkaille. Ainoa ratkaisu on nopeampi Internet-yhteys.\r\n\xa0'}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"memory",children:"Muisti"}),"\n",(0,s.jsxs)(i.ol,{start:"3",children:["\n",(0,s.jsxs)(i.li,{children:["Jos pyynt\xf6j\xe4 on useita,ERDDAP\u2122voi poistaa muistin ja tilap\xe4isesti kielt\xe4yty\xe4 uusista pyynn\xf6ist\xe4. (ERDDAP\u2122On olemassa muutamia keinoja, joilla v\xe4ltet\xe4\xe4n t\xe4m\xe4 ja minimoidaan seuraukset, jos n\xe4in tapahtuu.) Mit\xe4 suurempi muisti palvelimessa on, sit\xe4 parempi. 32-bittisess\xe4 palvelimessa 4+GB on todella hyv\xe4, 2 GB on kunnossa, mutta sit\xe4 ei suositella. 64-bittisess\xe4 palvelimessa voit melkein v\xe4ltt\xe4\xe4 ongelman saamalla paljon muistia. N\xe4hd\xe4\xe4n",(0,s.jsx)(i.a,{href:"/docs/server-admin/deploy-install",children:"\\-Xmx ja -Xms asetukset"}),"forERDDAPTomcat. YksiERDDAP\u212264-bittinen palvelin, jolla on 8 Gt muistia ja -Xmx 4000M on harvoin, jos koskaan, rajoittaa muistia.\r\n\xa0"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"had-drive-bandwidth",children:"Ajaminen Bandwidth"}),"\n",(0,s.jsxs)(i.ol,{start:"4",children:["\n",(0,s.jsx)(i.li,{children:"Palvelimen kiintolevylle tallennettujen tietojen k\xe4ytt\xf6 on huomattavasti nopeampaa kuin et\xe4tietojen k\xe4ytt\xf6. Niin, josERDDAP\u2122Palvelimella on eritt\xe4in korkea kaistanleveys Internet-yhteys, on mahdollista, ett\xe4 datan k\xe4ytt\xf6 kiintolevyll\xe4 on pullonkaula. Osittainen ratkaisu on k\xe4ytt\xe4\xe4 nopeammin (10 000 RPM) magneettinen kiintolevy tai SSD (Jos on j\xe4rkev\xe4\xe4 kustannusviisautta) . Toinen ratkaisu on tallentaa erilaisia aineistoja eri liikkeisiin, joten kumulatiivinen kiintolevy on paljon korkeampi.\r\n\xa0"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"too-many-files-cached",children:"Liian monta tiedostoa kiinni"}),"\n",(0,s.jsxs)(i.ol,{start:"5",children:["\n",(0,s.jsxs)(i.li,{children:["Liikaa tiedostoja a",(0,s.jsx)(i.a,{href:"/docs/server-admin/additional-information#cached-responses",children:"Cash"}),"Hakemisto -ERDDAP\u2122tallentaa kaikki kuvat, mutta vain tallentaa tiedot tietyntyyppisi\xe4 tietopyynt\xf6j\xe4. V\xe4limuistin hakemistossa on mahdollista saada suuri m\xe4\xe4r\xe4 tiedostoja tilap\xe4isesti. T\xe4m\xe4 hidastaa pyynt\xf6j\xe4 n\xe4hd\xe4, onko tiedosto k\xe4tk\xf6ss\xe4. (Todellakin!) .<Cash Minutes > in",(0,s.jsx)(i.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"Asennus.xml"}),"Voit m\xe4\xe4ritt\xe4\xe4, kuinka kauan tiedosto voi olla v\xe4limuistissa ennen kuin se poistetaan. Pienempi m\xe4\xe4r\xe4 minimoi ongelman.\r\n\xa0"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"cpu",children:"CPU"}),"\n",(0,s.jsxs)(i.ol,{start:"6",children:["\n",(0,s.jsxs)(i.li,{children:["Vain kaksi asiaa vie paljon aikaa:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"NetCDF4 jaHDF5 tukee nyt datan sis\xe4ist\xe4 puristusta. Masennus suuri puristusNetCDF4 /HDF5 tiedostoa voi kest\xe4\xe4 10 tai enemm\xe4n sekuntia. (Se ei ole toteutuksen vika. Se on kompression luonne.) Joten useat samanaikaiset pyynn\xf6t tietoaineistoille, joilla on pakattuihin tiedostoihin tallennettuja tietoja, voivat aiheuttaa vakavan rasituksen palvelimelle. Jos t\xe4m\xe4 on ongelma, ratkaisu on tallentaa suosittuja tietoaineistoja pakkaamattomissa tiedostoissa tai saada palvelin CPU: lla, jossa on enemm\xe4n ytimi\xe4."}),"\n",(0,s.jsx)(i.li,{children:"Tehd\xe4\xe4n kuvia (mukaan lukien kartat) Noin 0,2 - 1 sekunti per grafiikka. Jos grafiikoita on useita yht\xe4aikaisia pyynt\xf6j\xe4 (WMSAsiakkaat tekev\xe4t usein 6 samanaikaista pyynt\xf6\xe4.) CPU-rajoituksia voi olla. Kun useat k\xe4ytt\xe4j\xe4t toimivatWMSAsiakkaat, t\xe4st\xe4 tulee ongelma.\r\n\xa0"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"multiple-identical-erddaps-with-load-balancing",children:"Monipuolinen identtinenERDDAPLainatasapaino?"}),"\n",(0,s.jsx)(i.p,{children:'Kysymys kuuluu usein: \u201dRaskaiden kuormien k\xe4sittelemiseksi voin asettaa useita identtisi\xe4ERDDAP"Tasapainoa?" Mielenkiintoinen kysymys, koska se tulee nopeasti ytimeen.ERDDAPsuunnittelua. Nopea vastaus on \u201dei\u201d. Tied\xe4n, ett\xe4 t\xe4m\xe4 on pettymys, mutta on olemassa muutamia syit\xe4 ja syit\xe4, miksi suunnittelin.ERDDAP\u2122k\xe4ytt\xe4\xe4 erilaista l\xe4hestymistapaa (LiittovaltioERDDAPs, kuvattu suurimmassa osassa t\xe4st\xe4 asiakirjasta) T\xe4m\xe4 on mielest\xe4ni parempi ratkaisu.'}),"\n",(0,s.jsx)(i.p,{children:"Jotkut suorat syyt siihen, miksi et voi / ei pit\xe4isi luoda useita identtisi\xe4ERDDAPs ovat:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"annettuERDDAP\u2122lukee jokaisen tietotiedoston, kun se tulee ensin saataville, jotta voidaan l\xf6yt\xe4\xe4 tiedoston tietoalueet. Se tallentaa n\xe4m\xe4 tiedot indeksitiedostoon. Kun k\xe4ytt\xe4j\xe4n tietopyynt\xf6 tulee,ERDDAP\u2122k\xe4ytt\xe4\xe4 t\xe4t\xe4 indeksi\xe4 selvitt\xe4\xe4kseen, mit\xe4 tiedostoja etsi\xe4 pyydettyj\xe4 tietoja. Jos olisi useita identtisi\xe4ERDDAPJokainen tekee t\xe4m\xe4n indeksoinnin, mik\xe4 on hukkaan heitetty\xe4 ty\xf6t\xe4. Alla kuvatulla liittovaltioj\xe4rjestelm\xe4ll\xe4 indeksointi tehd\xe4\xe4n vain kerran, yhdell\xe4ERDDAPs."}),"\n",(0,s.jsx)(i.li,{children:"Joidenkin k\xe4ytt\xe4j\xe4pyynt\xf6jen osalta (E.G., for.nc.png, .pdf-tiedostot)  ERDDAP\u2122Koko tiedosto on teht\xe4v\xe4 ennen kuin vastaus voidaan l\xe4hett\xe4\xe4. Niinp\xe4ERDDAP\u2122Ota n\xe4m\xe4 tiedostot lyhyeksi aikaa. Jos identtinen pyynt\xf6 tulee (kuten usein, erityisesti kuvissa, joissa URL-osoite on upotettu sivulle) ,ERDDAP\u2122Voit k\xe4ytt\xe4\xe4 t\xe4t\xe4 tiedostoa uudelleen. Useiden identtistenERDDAPN\xe4it\xe4 tiedostoja ei jaeta, joten jokainenERDDAP\u2122olisi tarpeetonta ja tuhlattavaa.nc.png tai .pdf-tiedostot. Alla kuvatun liittovaltion j\xe4rjestelm\xe4n avulla tiedostot tehd\xe4\xe4n vain kerran, yhdell\xe4ERDDAPja uudelleenk\xe4ytetty."}),"\n",(0,s.jsx)(i.li,{children:"ERDDAP\u2019tilausj\xe4rjestelm\xe4\xe4 ei ole perustettu jaettavaksi useanERDDAPs. Esimerkiksi, jos kuormansalpaaja l\xe4hett\xe4\xe4 k\xe4ytt\xe4j\xe4n yhteenERDDAP\u2122K\xe4ytt\xe4j\xe4n on tilattava tietoaineisto, sitten toinenERDDAPS ei ole tietoinen t\xe4st\xe4 tilauksesta. My\xf6hemmin, jos kuorman tasapainotin l\xe4hett\xe4\xe4 k\xe4ytt\xe4j\xe4n toiseenERDDAP\u2122ja pyyt\xe4\xe4 listan h\xe4nen tilauksistaan, toinenERDDAP\u2122Sanotaan, ettei ole ket\xe4\xe4n (johtaa h\xe4net / h\xe4n tehd\xe4 kaksinkertainen tilaus toiseen EREDDAP) . Alla kuvatun liittovaltion j\xe4rjestelm\xe4n avulla tilausj\xe4rjestelm\xe4\xe4 k\xe4sittelee vain p\xe4\xe4asiallinen, julkinen, komposiitti.ERDDAP."}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["Jokaisesta n\xe4ist\xe4 ongelmista voin (suurella ponnistuksella) Insin\xf6\xf6ri ratkaisu (jakaa tietoja kesken\xe4\xe4nERDDAPs) mutta mielest\xe4ni",(0,s.jsx)(i.a,{href:"#grids-clusters-and-federations",children:"Liittovaltio-of-ERDDAPL\xe4hestymistapa"}),"  (kuvattu suurimmassa osassa t\xe4st\xe4 asiakirjasta) on paljon parempi kokonaisratkaisu, osittain siksi, ett\xe4 se k\xe4sittelee muita ongelmia, jotka ovat identtisi\xe4.ERDDAPs-a-load-tasapainon l\xe4hestymistapa ei edes ala puuttua, erityisesti hajautettu luonne tietol\xe4hteiden maailmassa."]}),"\n",(0,s.jsxs)(i.p,{children:["On parempi hyv\xe4ksy\xe4 se, ett\xe4 en ole suunnitellutERDDAP\u2122K\xe4ytett\xe4v\xe4 useana identtisen\xe4ERDDAPS",":ll","\xe4 on kuormatasapaino. Olen tietoisesti suunnitellutERDDAP\u2122toimia hyvin liittovaltion sis\xe4ll\xe4ERDDAPs, jolla on monia etuja. Erityisesti liittovaltioERDDAPs on t\xe4ysin sopusoinnussa hajautetun ja hajautetun tietoj\xe4rjestelm\xe4n kanssa, joka meill\xe4 on todellisessa maailmassa. (Ajattele eri IOOS-alueita tai eri rannikkoalueita tai NCEI",":n",' eri osia tai 100 muuta datakeskusta.NOAANASA DAACs eli 1000 datakeskusta ymp\xe4ri maailmaa) . Sen sijaan, ett\xe4 he kertovat kaikille maailman datakeskuksille, ett\xe4 heid\xe4n t\xe4ytyy luopua ponnisteluistaan ja laittaa kaikki tietonsa keskitettyyn "data-j\xe4rveen". (Vaikka se olisi mahdollista, se on kauhea ajatus monista syist\xe4 - katso eri analyysit osoittavat lukuisia etuja.',(0,s.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Decentralised_system",children:"hajautetut j\xe4rjestelm\xe4t"}),") ,ERDDAPSuunnittelu toimii maailman kanssa sellaisena kuin se on. Jokainen tietokeskus, joka tuottaa tietoja, voi jatkaa tietojen yll\xe4pitoa, kuratointia ja palvella niiden tietoja. (kuin heid\xe4n pit\xe4isi) ja kuitenkin,ERDDAP\u2122Tiedot voivat olla my\xf6s v\xe4litt\xf6m\xe4sti saatavilla keskitetyst\xe4ERDDAPilman tarvetta siirt\xe4\xe4 tiedot keskitetylleERDDAP\u2122tai tallentaa kaksoiskappaleita tiedoista. Tietyt tiedot voivat olla samanaikaisesti saatavilla.\r\nYhdest\xe4ERDDAP\u2122organisaatiossa, joka tuottaa ja tallentaa tietoja (Esimerkki: Gomos) ,\r\nYhdest\xe4ERDDAP\u2122Emoyhti\xf6ss\xe4 (Esimerkki: IOOS Central) ,\r\nKaikki-NOAA ERDDAP\u2122,\r\nUSA",":n"," liittovaltion hallitusERDDAP\u2122,\r\nMaailmanlaajuisestiERDDAP\u2122  (GOOS) ,\r\nerikoistuneitaERDDAPs (Esimerkki: AERDDAP\u2122HAB-tutkimukselle omistettu laitos) ,\r\nkaikki olennaisesti v\xe4litt\xf6m\xe4sti ja tehokkaasti, koska vain metatiedot siirtyv\xe4tERDDAPs, ei tietoja. Parasta, alkuvaiheen j\xe4lkeenERDDAP\u2122Alkuper\xe4isess\xe4 organisaatiossa kaikki muutERDDAPS voidaan perustaa nopeasti (Muutama ty\xf6tunti) minimaaliset resurssit (yksi palvelin, joka ei tarvitse RAIDia tietojen tallennukseen, koska se ei tallenna tietoja paikallisesti) ja siten minimaalisesti. Verrata sit\xe4 kustannuksiin keskitetyn datakeskuksen perustamisesta ja yll\xe4pidosta dataj\xe4rvell\xe4 ja todellisen massiivisen, todella kalliin Internet-yhteyden tarpeesta sek\xe4 keskitetyn datakeskuksen ongelmasta yhten\xe4 ep\xe4onnistumispisteen\xe4. minulle,ERDDAPHajautettu, liittovaltiollinen l\xe4hestymistapa on paljon parempi."]}),"\n",(0,s.jsxs)(i.p,{children:['Tilanteissa, joissa tietokeskus tarvitsee useitaERDDAPvastaamaan korkeaan kysynt\xe4\xe4n,ERDDAP"suunnittelu pystyy t\xe4ydellisesti vastaamaan tai ylitt\xe4m\xe4\xe4n moni-identtisenERDDAPs-a-load-balancer l\xe4hestymistapa. Sinulla on aina mahdollisuus perustaa',(0,s.jsx)(i.a,{href:"#multiple-composite-erddaps",children:"Monipuolinen komposiittiERDDAPs (Kuten alla kerrotaan) "}),"Jokainen saa kaikki tietonsa muistaERDDAPs, ilman kuormitusta. T\xe4ss\xe4 tapauksessa suosittelen, ett\xe4 teet pisteen jokaiselle komposiitille.ERDDAPeri nimi / identiteetti ja jos se on mahdollista eri puolilla maailmaa (Esimerkkej\xe4 eri AWS-alueista) esim.ERDa. . . .ERD> >ERD> ,ERDFR,ERDK\xe4ytt\xe4j\xe4t tietoisesti, toistuvasti, ty\xf6skentelev\xe4t tietynERDDAPlis\xe4hy\xf6ty\xe4, ett\xe4 olet poistanut riskin yhdest\xe4 ep\xe4onnistumispisteest\xe4.\r\n\xa0"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"grids-clusters-and-federations",children:(0,s.jsxs)(i.a,{href:"#grids-clusters-and-federations",children:[" ",(0,s.jsx)(i.strong,{children:"Grids, Clusters ja Federations"})," "]})}),"\n",(0,s.jsxs)(i.p,{children:["Eritt\xe4in raskaassa k\xe4yt\xf6ss\xe4 yksi erillinenERDDAP\u2122Yhdess\xe4 tai useammassa",(0,s.jsx)(i.a,{href:"#heavy-loads--constraints",children:"Rajoitukset"}),"Edell\xe4 mainitut ratkaisut eiv\xe4t riit\xe4. t\xe4llaisissa tilanteissa,ERDDAP\u2122on ominaisuuksia, jotka helpottavat skaalautuvien verkkojen rakentamista (Kutsutaan my\xf6s klustereita tai federaatioita) jostaERDDAPjotka mahdollistavat j\xe4rjestelm\xe4n eritt\xe4in raskaan k\xe4yt\xf6n (esimerkiksi suurelle datakeskukselle) ."]}),"\n",(0,s.jsxs)(i.p,{children:["Min\xe4 k\xe4yt\xe4n",(0,s.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Grid_computing",children:"Verkko"}),"Yleinen termi kuvaamaan er\xe4\xe4nlaista",(0,s.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Computer_cluster",children:"Tietokoneen klusteri"}),"jos kaikki osat voivat tai eiv\xe4t ole fyysisesti sijoittautuneet yhteen laitokseen, ja niit\xe4 voidaan tai ei saa antaa keskitetysti. Yhteisomisteisten, keskitetysti omistettujen ja hallinnoitujen verkkojen etu (Klusterit) He hy\xf6tyv\xe4t mittakaavaetuista (Erityisesti ihmisen ty\xf6m\xe4\xe4r\xe4) Yksinkertaistaa j\xe4rjestelm\xe4n osien toimivuutta yhdess\xe4. Ei-yhteissijaisten verkkojen, ei-keskeisesti omistamien ja hallinnoitujen (Liittoja) He jakavat ihmisen ty\xf6m\xe4\xe4r\xe4n ja kustannukset, ja voivat antaa lis\xe4vikoja suvaitsevaisuutta. Ratkaisu, jota ehdotan alla, toimii hyvin kaikkiin verkko-, klusteri- ja liittovaltion topografioihin."]}),"\n",(0,s.jsxs)(i.p,{children:["Skaalattavan j\xe4rjestelm\xe4n suunnittelun perusajatuksena on tunnistaa mahdolliset pullonkaulat ja suunnitella j\xe4rjestelm\xe4 siten, ett\xe4 j\xe4rjestelm\xe4n osat voidaan toistaa tarpeen mukaan pullonkaulojen lievitt\xe4miseksi. Ihannetapauksessa jokainen kopioitu osa lis\xe4\xe4 j\xe4rjestelm\xe4n osan kapasiteettia lineaarisesti. (Skaalauksen tehokkuus) . J\xe4rjestelm\xe4 ei ole skaalautuva, ellei jokaiselle pullonkaulalle ole skaalautuvaa ratkaisua.",(0,s.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Scalability",children:"skaalautuvuus"}),"Erilainen kuin tehokkuus (Kuinka nopeasti teht\xe4v\xe4 voidaan tehd\xe4 \u2013 osien tehokkuus) . Skaalattavuus mahdollistaa sen, ett\xe4 j\xe4rjestelm\xe4 pystyy vastaamaan kysynt\xe4\xe4n. ",(0,s.jsx)(i.strong,{children:"Tehokkuus"}),"   (skaalaus ja osat) M\xe4\xe4ritt\xe4\xe4, kuinka monta palvelinta tarvitaan tietyn kysynn\xe4n saavuttamiseksi. Tehokkuus on t\xe4rke\xe4\xe4, mutta sill\xe4 on aina rajansa. skaalautuvuus on ainoa k\xe4yt\xe4nn\xf6llinen ratkaisu j\xe4rjestelm\xe4n rakentamiseen, joka pystyy ",(0,s.jsx)(i.strong,{children:"eritt\xe4in"})," raskasta k\xe4ytt\xf6\xe4. Ihannetapauksessa j\xe4rjestelm\xe4 on skaalautuva ja tehokas."]}),"\n",(0,s.jsx)(i.h3,{id:"goals",children:"Tavoitteet"}),"\n",(0,s.jsx)(i.p,{children:"T\xe4m\xe4n suunnittelun tavoitteet ovat:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"skaalautuvaa arkkitehtuuria (se, joka on helposti laajeneva, kopioimalla mink\xe4 tahansa osan, josta tulee ylikuormitettu.) . Tehokas j\xe4rjestelm\xe4, joka maksimoi k\xe4ytett\xe4viss\xe4 olevien laskentaresurssien tietojen saatavuuden ja tuloksen. (Kustannukset ovat l\xe4hes aina ongelma.)"}),"\n",(0,s.jsx)(i.li,{children:"J\xe4rjestelm\xe4n osien ominaisuuksien tasapainottaminen siten, ettei yksi osa j\xe4rjestelm\xe4st\xe4 ylit\xe4 toista osaa."}),"\n",(0,s.jsx)(i.li,{children:"Tehd\xe4 yksinkertainen arkkitehtuuri niin, ett\xe4 j\xe4rjestelm\xe4 on helppo asentaa ja hallinnoida."}),"\n",(0,s.jsx)(i.li,{children:"Tehd\xe4 arkkitehtuuri, joka toimii hyvin kaikkien topografioiden kanssa."}),"\n",(0,s.jsx)(i.li,{children:"Tehd\xe4 j\xe4rjestelm\xe4, joka ep\xe4onnistuu armollisesti ja rajoitetusti, jos jokin osa on ylikuormitettu. (Suurien tietoaineistojen kopioimiseen tarvittava aika rajoittaa aina j\xe4rjestelm\xe4n kyky\xe4 k\xe4sitell\xe4 tiettyjen tietoaineistojen kysynt\xe4\xe4 \xe4killisesti.)"}),"\n",(0,s.jsxs)(i.li,{children:["(jos mahdollista) tehd\xe4 arkkitehtuuri, joka ei ole sidottu mihink\xe4\xe4n tiettyyn",(0,s.jsx)(i.a,{href:"#cloud-computing",children:"Pilvitietokone"}),"Palvelu tai muut ulkoiset palvelut (Koska se ei tarvitse niit\xe4) ."]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"recommendations",children:"Suositukset"}),"\n",(0,s.jsxs)(i.p,{children:["Suosituksemme ovat\r\n",(0,s.jsx)(i.img,{alt:"Verkko/klusterikaavi",src:a(88623).A+"",width:"701",height:"516"})]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Suosittelen perustamaan komposiitin.ERDDAP\u2122  ( ",(0,s.jsx)(i.strong,{children:"D"})," Kaaviossa) joka on s\xe4\xe4nn\xf6llinenERDDAP\u2122Paitsi, ett\xe4 se vain palvelee muita tietoja.ERDDAPs. Verkon arkkitehtuuri on suunniteltu muuttamaan mahdollisimman paljon ty\xf6t\xe4. (CPU",":n"," k\xe4ytt\xf6, muistin k\xe4ytt\xf6, kaistanleveys) KomposiitistaERDDAP\u2122toiseenERDDAPs."]}),"\n",(0,s.jsxs)(i.li,{children:["ERDDAP\u2122sis\xe4lt\xe4\xe4 kaksi erilaista tietotyyppi\xe4,",(0,s.jsx)(i.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDGridL\xe4hde: Eddap"}),"ja",(0,s.jsx)(i.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EdDTableFromDap"}),"joka viittaa\r\nTietoja muistaERDDAPs."]}),"\n",(0,s.jsxs)(i.li,{children:["Kun komposiittiERDDAP\u2122vastaanottaa tietojen tai kuvien pyynn\xf6n n\xe4ist\xe4 tietoaineistoista, komposiittiERDDAP\u2122 ",(0,s.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/URL_redirection",children:"Ohjaus"}),"Tietopyynt\xf6 toiselleERDDAP\u2122palvelin. Lopputulos on:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["T\xe4m\xe4 on eritt\xe4in tehokasta (CPU, muisti ja kaistanleveys) koska muuten","\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"KomposiittiERDDAP\u2122Tietopyynt\xf6 on l\xe4hetett\xe4v\xe4 toiseenERDDAP."}),"\n",(0,s.jsx)(i.li,{children:"ToinenERDDAP\u2122on saatava tiedot, uudistettava ne ja siirrett\xe4v\xe4 tiedot komposiitille.ERDDAP."}),"\n",(0,s.jsx)(i.li,{children:"KomposiittiERDDAP\u2122Tietojen on saatava (Ylim\xe4\xe4r\xe4inen kaistanleveys) uudistaa sit\xe4 (K\xe4yt\xe4 ylim\xe4\xe4r\xe4ist\xe4 CPU-aikaa ja muistia) ja siirt\xe4\xe4 tiedot k\xe4ytt\xe4j\xe4lle (Ylim\xe4\xe4r\xe4inen kaistanleveys) . Ohjaamalla pyynt\xf6\xe4 ja sallimalla toisenERDDAP\u2122l\xe4hett\xe4\xe4 vastauksen suoraan k\xe4ytt\xe4j\xe4lle, komposiitilleERDDAP\u2122K\xe4ytt\xe4\xe4 pohjimmiltaan CPU-aikaa, muistia tai kaistanleveytt\xe4 tietopyynt\xf6ihin."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"Uudelleenohjaus on k\xe4ytt\xe4j\xe4lle l\xe4pin\xe4kyv\xe4 asiakasohjelmistosta riippumatta. (selain tai jokin muu ohjelmisto tai komentorivity\xf6kalu) ."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"grid-parts",children:"Hyv\xe4t osat"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.a,{href:"#grid-parts",children:"Verkon osat ovat:"})}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"A"})," : jokaisesta et\xe4tietol\xe4hteest\xe4, jolla on korkea kaistanleveysOPeNDAPVoit muodostaa yhteyden suoraan et\xe4palvelimeen. Jos et\xe4palvelin onERDDAP\u2122k\xe4ytt\xe4\xe4EDDGridFromErddap tai EDDTableFromERDDAPTietojen toimittaminen komposiitissaERDDAP. Jos et\xe4palvelin on jonkinlainenDAPpalvelin, esim. kolme,Hyraxtai GrADS, k\xe4yt\xe4EDDGridFromDap."]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"B"})," : JokaiselleERDDAPK\xe4ytett\xe4viss\xe4 oleva tietol\xe4hde (tietol\xe4hde, jostaERDDAPVoi lukea dataa) jolla on korkea kaistanleveys, toinenERDDAP\u2122verkkoon, joka vastaa tietojen toimittamisesta t\xe4lt\xe4 tietol\xe4hteelt\xe4."]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Jos useita t\xe4llaisiaERDDAPs ei saa paljon pyynt\xf6j\xe4 tietoja, voit yhdist\xe4\xe4 ne yhteen.ERDDAP."}),"\n",(0,s.jsxs)(i.li,{children:['JosERDDAP\u2122Omistettu saada tietoja yhdest\xe4 kaukol\xe4hteest\xe4 on saada liikaa pyynt\xf6j\xe4, on kiusaus lis\xe4t\xe4 lis\xe4\xe4ERDDAPk\xe4ytt\xe4\xe4 et\xe4tietol\xe4hdett\xe4. Erityistapauksissa t\xe4m\xe4 voi olla j\xe4rkev\xe4\xe4, mutta on todenn\xe4k\xf6isemp\xe4\xe4, ett\xe4 t\xe4m\xe4 ylitt\xe4\xe4 et\xe4tietol\xe4hteen. (joka on itsetuhoinen) my\xf6s est\xe4\xe4 muita k\xe4ytt\xe4ji\xe4 p\xe4\xe4sem\xe4st\xe4 et\xe4tietol\xe4hteeseen (Mik\xe4 ei ole kivaa) . T\xe4ss\xe4 tapauksessa harkitse toisen perustamistaERDDAP\u2122palvella t\xe4t\xe4 yht\xe4 tietoaineistoa ja kopioida tietoaineistoa siit\xe4ERDDAP"Vaikea ajaminen (Katso n\xe4hk\xe4\xe4 ',(0,s.jsx)(i.strong,{children:"C"})," ) Ehk\xe4, ehk\xe4",(0,s.jsx)(i.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridKopio"}),"ja/tai",(0,s.jsx)(i.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EdDTableCopy"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"B"})," Palvelimien on oltava julkisesti saatavilla."]}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"C"}),' : JokaiselleERDDAP- k\xe4ytett\xe4viss\xe4 oleva tietol\xe4hde, jolla on alhainen kaistanleveyspalvelin (Hidas palvelu muista syist\xe4) Harkitse toisen perustamistaERDDAP\u2122ja tallentaa j\xe4ljenn\xf6ksen t\xe4st\xe4ERDDAP"Vaikeita ajoja, ehk\xe4',(0,s.jsx)(i.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridKopio"}),"ja/tai",(0,s.jsx)(i.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EdDTableCopy"}),". Jos useita t\xe4llaisiaERDDAPs ei saa paljon pyynt\xf6j\xe4 tietoja, voit yhdist\xe4\xe4 ne yhteen.ERDDAP.\r\n",(0,s.jsx)(i.strong,{children:"C"})," Palvelimien on oltava julkisesti saatavilla."]}),"\n",(0,s.jsx)(i.h4,{id:"composite-erddap",children:"KomposiittiERDDAP"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"D"})," : KomposiittiERDDAP\u2122on s\xe4\xe4nn\xf6llinenERDDAP\u2122Paitsi, ett\xe4 se vain palvelee muita tietoja.ERDDAPs."]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Koska komposiittiERDDAP\u2122sis\xe4lt\xe4\xe4 muistiinpanoja kaikista tietoaineistoista, se voi nopeasti vastata tietoaineistoluetteloiden pyynt\xf6ihin. (t\xe4ydellinen tekstihaku, kategoriahaku, kaikkien tietoaineistojen luettelo) , ja pyynn\xf6t yksitt\xe4isen tietoaineiston tiedonsaantimuodosta, tehd\xe4 Graph-lomake taiWMSInfosivu. N\xe4m\xe4 ovat kaikki pieni\xe4, dynaamisesti tuotettuja, HTML-sivuja, jotka perustuvat muistiin tallennettuihin tietoihin. Vastaukset ovat eritt\xe4in nopeita."}),"\n",(0,s.jsx)(i.li,{children:"Koska todellisia tietoja koskevat pyynn\xf6t ohjataan nopeasti toiseen.ERDDAPS, komposiittiERDDAP\u2122voi nopeasti vastata todellisiin tietopyynt\xf6ihin k\xe4ytt\xe4m\xe4tt\xe4 mit\xe4\xe4n CPU-aikaa, muistia tai kaistanleveytt\xe4."}),"\n",(0,s.jsx)(i.li,{children:"siirt\xe4m\xe4ll\xe4 mahdollisimman paljon ty\xf6t\xe4 (CPU, muisti, kaistanleveys) KomposiitistaERDDAP\u2122toiseenERDDAPS, komposiittiERDDAP\u2122voi n\xe4ytt\xe4\xe4 palvelevan tietoja kaikista tietokannoista ja silti pysy\xe4 hyvin suuri m\xe4\xe4r\xe4 tietopyynt\xf6j\xe4 useilta k\xe4ytt\xe4jilt\xe4."}),"\n",(0,s.jsx)(i.li,{children:"Alustavat testit osoittavat, ett\xe4 komposiittiERDDAP\u2122Voit vastata useimpiin pyynt\xf6ihin ~1ms CPU-aikaa tai 1000 pyynt\xf6\xe4/toinen. Kahdeksan prosessorin pit\xe4isi pysty\xe4 vastaamaan noin 8000 pyynt\xf6\xf6n. Vaikka on mahdollista kuvitella korkeamman toiminnan purkauksia, jotka aiheuttavat hidastumista, se on paljon l\xe4pimenoa. On todenn\xe4k\xf6ist\xe4, ett\xe4 kaistanleveys on pullonkaula pitk\xe4\xe4n ennen komposiittia.ERDDAP\u2122Siit\xe4 tulee pullonkaula."}),"\n"]}),"\n",(0,s.jsx)(i.h5,{id:"up-to-date-maxtime",children:"P\xe4ivitetty max (Aika-aika) ??"}),"\n",(0,s.jsxs)(i.p,{children:["TheEDDGridTableFromErddap komposiitissaERDDAP\u2122muuttaa tallennettuja tietojaan vain, kun l\xe4hdeaineisto on",(0,s.jsx)(i.a,{href:"/docs/server-admin/datasets#reloadeverynminutes",children:'"reload"'}),"Muutama metatieto muuttuu (mm. aikamuuttujatactual\\_range) N\xe4in luodaan tilausilmoitus. Jos l\xe4hdeaineistossa on tietoja, jotka muuttuvat usein (Uusia tietoja joka sekunti) ja k\xe4ytt\xe4\xe4",(0,s.jsx)(i.a,{href:"/docs/server-admin/datasets#updateeverynmillis",children:'"p\xe4ivitetty"'}),'j\xe4rjestelm\xe4, joka havaitsee usein taustalla olevia tietoja,EDDGrid/TableFromErddap ei ilmoita n\xe4ist\xe4 usein tehdyist\xe4 muutoksista, kunnes seuraava aineisto "lataa"EDDGridTableFromErddap ei ole t\xe4ysin ajan tasalla. Voit minimoida ongelman muuttamalla l\xe4hdeaineistoa.<Reload EveryNMinutes > pienemp\xe4\xe4n arvoon (50?) niin, ett\xe4 tilausilmoituksia on lis\xe4tt\xe4v\xe4EDDGrid/TableFromErddap p\xe4ivitt\xe4\xe4 tietojaan l\xe4hdeaineistosta.']}),"\n",(0,s.jsx)(i.p,{children:"Jos tietoj\xe4rjestelm\xe4si tiet\xe4\xe4, milloin l\xe4hdeaineistossa on uusia tietoja (esimerkiksi k\xe4sikirjoituksen kautta, joka kopioi datatiedoston) Jos se ei ole liian usein (joka viides minuutti tai harvemmin) On olemassa parempi ratkaisu:"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"\xc4l\xe4 k\xe4yt\xe4<p\xe4ivitt\xe4\xe4 EveryNMillis> pit\xe4\xe4 l\xe4hdetiedot ajan tasalla."}),"\n",(0,s.jsx)(i.li,{children:'Aseta l\xe4hdeaineisto<Reload "EveryNMinutes > suurempaan m\xe4\xe4r\xe4\xe4n" (1440?) .'}),"\n",(0,s.jsxs)(i.li,{children:["Ota yhteytt\xe4 l\xe4hdeaineistoon",(0,s.jsx)(i.a,{href:"/docs/server-admin/additional-information#set-dataset-flag",children:"Lippu URL"}),"heti, kun se kopioi uuden datatiedoston.\r\nT\xe4m\xe4 johtaa siihen, ett\xe4 l\xe4hdeaineisto on t\xe4ysin ajan tasalla ja saa sen luomaan tilausilmoituksen, joka l\xe4hetet\xe4\xe4nEDDGridTableFromErddap-tietokanta. T\xe4m\xe4 johtaaEDDGrid/TableFromErddap-tietokanta on t\xe4ysin ajan tasalla (5 sekunnin kuluessa uusien tietojen lis\xe4\xe4misest\xe4) . Kaikki, mit\xe4 tehd\xe4\xe4n tehokkaasti (Ilman tarpeetonta tiedonsiirtoa) ."]}),"\n"]}),"\n",(0,s.jsx)(i.h4,{id:"multiple-composite-erddaps",children:"Monipuolinen komposiittiERDDAPs"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Eritt\xe4in \xe4\xe4rimm\xe4isiss\xe4 tapauksissa tai vikatoleranssin vuoksi haluat ehk\xe4 perustaa useamman kuin yhden komposiitin.ERDDAP. On todenn\xe4k\xf6ist\xe4, ett\xe4 j\xe4rjestelm\xe4n muut osat (Tietokeskuksen kaistanleveys) Tulee ongelmia jo kauan ennen komposiittia.ERDDAP\u2122Siit\xe4 tulee pullonkaula. Ratkaisu on todenn\xe4k\xf6isesti perustaa lis\xe4\xe4, maantieteellisesti monipuolisia, datakeskuksia. (Peilej\xe4) Jokaisella on yksi komposiittiERDDAP\u2122palvelimet, joilla onERDDAPS ja (v\xe4hint\xe4\xe4n) peilikopiot tiedoista, jotka ovat eritt\xe4in kysyttyj\xe4. T\xe4llainen asennus tarjoaa my\xf6s vikatoleranssin ja tietojen varmuuskopioinnin. (kopioinnin kautta) . T\xe4ss\xe4 tapauksessa on parempi, jos komposiittiERDDAPHeill\xe4 on erilaisia URL-osoitteita."}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Jos todella haluat koko komposiitinERDDAPk\xe4ytt\xe4\xe4 etup\xe4\xe4n j\xe4rjestelm\xe4\xe4, joka m\xe4\xe4ritt\xe4\xe4 tietyn k\xe4ytt\xe4j\xe4n vain yhteen komposiitistaERDDAPs (IP-osoitteen perusteella) jotta kaikki k\xe4ytt\xe4j\xe4n pyynn\xf6t menev\xe4t vain yhteen komposiitistaERDDAPs. On kaksi syyt\xe4:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Kun taustalla oleva tietoaineisto ladataan uudelleen ja metatiedot muuttuvat (esim. uusi tietotiedosto verkkotietoaineistossa aiheuttaa aikamuuttujanactual\\_rangeMuutosta) KomposiittiERDDAPS on tilap\xe4isesti hieman synkronoitu, mutta",(0,s.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Eventual_consistency",children:"Mahdollista johdonmukaisuutta"}),". Normaalisti se kytkeytyy uudelleen viiden sekunnin kuluessa, mutta joskus se on pidempi. Jos k\xe4ytt\xe4j\xe4 tekee automaattisen j\xe4rjestelm\xe4n, joka perustuu",(0,s.jsx)(i.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/subscriptions/index.html",children:"ERDDAP\u2122allekirjoitukset"}),"Lyhyet synkronismiongelmat tulevat merkitt\xe4viksi."]}),"\n",(0,s.jsx)(i.li,{children:"2+ komposiittiERDDAPJokainen s\xe4ilytt\xe4\xe4 omat tilauksensa (edell\xe4 kuvattu synkronointiongelma) ."}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["K\xe4ytt\xe4j\xe4n tulisi ohjata vain yhteen komposiitista.ERDDAPN\xe4iden ongelmien v\xe4ltt\xe4miseksi. Jos yksi komposiittiERDDAPEtup\xe4\xe4n j\xe4rjestelm\xe4 voi ohjataERDDAPK\xe4ytt\xe4j\xe4t toiseenERDDAP\u2122Se on yl\xf6s. Jos kyseess\xe4 on kapasiteettiongelma, joka aiheuttaa ensimm\xe4isen komposiitin.ERDDAP\u2122ep\xe4onnistua (Liiallinen k\xe4ytt\xe4j\xe4? A",(0,s.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Denial-of-service_attack",children:"Palvelun hy\xf6kk\xe4ys"}),"??) T\xe4m\xe4 mahdollistaa sen, ett\xe4 k\xe4ytt\xe4j\xe4t ohjataan toiseen komposiittiin.ERDDAPS aiheuttaa",(0,s.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Cascading_failure",children:"Ep\xe4onnistuminen"}),". Kaikkein vahvin asennus on komposiitti.ERDDAPeri URL-osoitteita."]}),"\n",(0,s.jsx)(i.p,{children:"Tai ehk\xe4 parempi, perustaa monikomposiittiERDDAPilman kuormitusta. T\xe4ss\xe4 tapauksessa sinun pit\xe4isi antaa jokaiselleERDDAPeri nimi / identiteetti ja jos se on mahdollista eri puolilla maailmaa (Esimerkkej\xe4 eri AWS-alueista) esim.ERDa. . . .ERD> >ERD> ,ERDFR,ERDK\xe4ytt\xe4j\xe4t tietoisesti toimivat toistuvasti tietynERDDAP."}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\\[Yhdell\xe4 palvelimella toimivan korkean suorituskyvyn j\xe4rjestelm\xe4n kiehtova suunnittelu, katso t\xe4m\xe4",(0,s.jsx)(i.a,{href:"https://mailinator.blogspot.com/2007/01/architecture-of-mailinator.html",children:"Kuvaus Mailinatorista"}),".\\]"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"datasets-in-very-high-demand",children:"Tietoja eritt\xe4in korkeasta kysynn\xe4st\xe4"}),"\n",(0,s.jsxs)(i.p,{children:["Ep\xe4tavallisessa tapauksessa yksi ",(0,s.jsx)(i.strong,{children:"A"})," , ",(0,s.jsx)(i.strong,{children:"B"})," tai ",(0,s.jsx)(i.strong,{children:"C"}),"  ERDDAPs ei voi vastata pyynt\xf6ihin kaistanleveyden tai kiintolevyn rajoitusten vuoksi, on j\xe4rkev\xe4\xe4 kopioida tietoja. (j\xe4lleen j\xe4lleen j\xe4lleen) Lis\xe4\xe4 palvelinta + Hard Ajo+ERDDAPEhk\xe4, ehk\xe4",(0,s.jsx)(i.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridKopio"}),"ja/tai",(0,s.jsx)(i.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EdDTableCopy"}),'. Vaikka saattaa tuntua ihanteelliselta saada alkuper\xe4inen tietoaineisto ja kopioitu tietoaineisto n\xe4ytt\xe4v\xe4t saumattomasti yhten\xe4 tietoaineistona komposiitissa.ERDDAP\u2122T\xe4m\xe4 on vaikeaa, koska n\xe4m\xe4 kaksi aineistoa ovat hieman eri maissa eri aikoina. (erityisesti sen j\xe4lkeen, kun alkuper\xe4inen saa uusia tietoja, mutta ennen kuin kopioitu tietoaineisto saa kopion.) . Suosittelen, ett\xe4 aineistot annetaan hieman eri otsikoissa. (esim. "... (Kopio #1) > ja > (Kopio #2) Tai ehk\xe4 " (Peili # ',(0,s.jsx)(i.em,{children:"n"}),' ) Tai " (Palvelin # ',(0,s.jsx)(i.em,{children:"n"}),' ) """) ja n\xe4kyv\xe4t erillisin\xe4 tietoaineistoina komposiitissaERDDAP. K\xe4ytt\xe4j\xe4t ovat tottuneet n\xe4kem\xe4\xe4n luetteloita',(0,s.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Website#mirror_site",children:"Peilisivustot"}),"Suosittujen tiedostojen lataaminen, joten t\xe4m\xe4n ei pit\xe4isi yll\xe4tt\xe4\xe4 tai petty\xe4. Koska kaistanleveys rajoitukset tietyll\xe4 sivustolla, voi olla j\xe4rkev\xe4\xe4, ett\xe4 peili sijaitsee toisella sivustolla. Jos peilikopio on eri datakeskuksessa, siihen p\xe4\xe4see vain kyseisen datakeskuksen komposiitti.ERDDAP\u2122Eri otsikot (Esim. \u201dpeili\u201d #1) Ei ole v\xe4ltt\xe4m\xe4t\xf6nt\xe4."]}),"\n",(0,s.jsx)(i.h3,{id:"raids-versus-regular-hard-drives",children:"RAIDs vs. s\xe4\xe4nn\xf6lliset kovat ajot"}),"\n",(0,s.jsxs)(i.p,{children:["Jos suurta tietoaineistoa tai tietoaineistoryhm\xe4\xe4 ei k\xe4ytet\xe4 raskaasti, saattaa olla j\xe4rkev\xe4\xe4 tallentaa tietoja RAIDiin, koska se tarjoaa vikatoleranssia ja koska et tarvitse toisen palvelimen k\xe4sittelyvirtaa tai kaistanleveytt\xe4. Mutta jos aineistoa k\xe4ytet\xe4\xe4n voimakkaasti, voi olla j\xe4rkev\xe4mp\xe4\xe4 kopioida tietoja toisella palvelimella.ERDDAP\u2122+ kiintolevy (Samanlainen kuin",(0,s.jsx)(i.a,{href:"https://storagemojo.com/2007/02/19/googles-disk-failure-experience/",children:"Mit\xe4 Google tekee"}),") Sen sijaan, ett\xe4 k\xe4ytt\xe4isit yht\xe4 palvelinta ja RAIDia tallentaaksesi useita tietoaineistoja, koska voit k\xe4ytt\xe4\xe4 sek\xe4 palvelinta + HardDrive+.ERDDAPVerkossa, kunnes toinen ep\xe4onnistuu."]}),"\n",(0,s.jsx)(i.h3,{id:"failures",children:"Ep\xe4onnistuminen"}),"\n",(0,s.jsx)(i.p,{children:"Mit\xe4 tapahtuu, jos..."}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Yhden tietoaineiston pyynt\xf6j\xe4 on runsaasti (mm. kaikki oppilaat samaan aikaan pyyt\xe4v\xe4t samanlaisia tietoja.) ??\r\nVainERDDAP\u2122N\xe4iden tietojen k\xe4ytt\xf6 on ylikuormitettua ja hidasta tai kielt\xe4ytyy pyynn\xf6ist\xe4. KomposiittiERDDAP\u2122ja muutERDDAPs ei vaikuta. Koska rajoittava tekij\xe4 tietyn tietoaineiston j\xe4rjestelm\xe4ss\xe4 on kiintolevy datan kanssa. (Ei ei eiERDDAP) Ainoa ratkaisu (Ei v\xe4lit\xf6nt\xe4) Tehd\xe4\xe4n kopio tietoaineistosta eri palvelimella +hardDrive+ERDDAP."}),"\n",(0,s.jsxs)(i.li,{children:["Yksi ",(0,s.jsx)(i.strong,{children:"A"})," , ",(0,s.jsx)(i.strong,{children:"B"})," tai ",(0,s.jsx)(i.strong,{children:"C"}),"  ERDDAP\u2122ep\xe4onnistuminen (Esimerkki: Hard Drive Ep\xe4onnistuminen) ??\r\nVain tietoaineisto (s) Palvelemme sit\xe4ERDDAP\u2122k\xe4rsiv\xe4t. Jos aineisto (s) K\xe4yt\xf6ss\xe4 on toinen palvelin+hardDrive+ERDDAPVaikutus on minimaalinen. Jos ongelma on kiintolevyn ep\xe4onnistuminen tasolla 5 tai 6 RAID, vaihdat vain aseman ja RAID rakentaa tiedot uudelleen."]}),"\n",(0,s.jsxs)(i.li,{children:["KomposiittiERDDAP\u2122Ep\xe4onnistunut?\r\nJos haluat tehd\xe4 j\xe4rjestelm\xe4n, jossa on eritt\xe4in",(0,s.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/High_availability",children:"Korkea saatavuus"}),"Voit perustaa",(0,s.jsx)(i.a,{href:"#multiple-composite-erddaps",children:"Monipuolinen komposiittiERDDAPs (Kuten edell\xe4 mainittiin) "}),"k\xe4ytt\xe4\xe4 jotain, kuten",(0,s.jsx)(i.a,{href:"https://www.nginx.com/",children:"Yhdess\xe4"}),"tai tai",(0,s.jsx)(i.a,{href:"https://traefik.io/",children:"Traefik"}),"kuorman tasapainottamiseen. Huomaa, ett\xe4 tietty komposiittiERDDAP\u2122voi k\xe4sitell\xe4 paljon pyynt\xf6j\xe4 useilta k\xe4ytt\xe4jilt\xe4, koska\r\nMetadataa koskevat pyynn\xf6t ovat pieni\xe4 ja niit\xe4 k\xe4sitell\xe4\xe4n muistissa olevilla tiedoilla.\r\nTietopyynn\xf6t (joka voi olla suuri) ohjataan lapselle uudelleenERDDAPs."]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"simple-scalable",children:"yksinkertainen, skaalautuva"}),"\n",(0,s.jsx)(i.p,{children:"J\xe4rjestelm\xe4 on helppo asentaa ja hallinnoida, ja se on helposti laajennettava, kun mik\xe4 tahansa osa siit\xe4 on ylikuormitettu. Ainoa todellinen rajoitukset tietylle datakeskukselle ovat datakeskuksen kaistanleveys ja j\xe4rjestelm\xe4n kustannukset."}),"\n",(0,s.jsx)(i.h3,{id:"bandwidth",children:"Bandwid"}),"\n",(0,s.jsx)(i.p,{children:"Huomaa j\xe4rjestelm\xe4n yleisesti k\xe4ytettyjen komponenttien kaistanleveys:"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Komponentti"}),(0,s.jsx)(i.th,{children:"L\xe4hell\xe4 Bandwidth (GBytes/s)"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"DDR-muisti"}),(0,s.jsx)(i.td,{children:"2.5"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"SSD-asema"}),(0,s.jsx)(i.td,{children:"1 1"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"SATA kovalla ajalla"}),(0,s.jsx)(i.td,{children:"0,3"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"Gigabit Ethernet"}),(0,s.jsx)(i.td,{children:"0,1"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"OC-12"}),(0,s.jsx)(i.td,{children:"0,06"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"OC-3"}),(0,s.jsx)(i.td,{children:"0,015"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"T1"}),(0,s.jsx)(i.td,{children:"0 0002"})]})]})]}),"\n",(0,s.jsxs)(i.p,{children:["Yksi SATA-kiintolevy (0,3 GB/s) Yhdell\xe4 palvelimella yhdell\xe4ERDDAP\u2122Voiko Gigabit Ethernet LAN (0,1 GB/s) . Gigabit Ethernet LAN (0,1 GB/s) OC-12 Internet-yhteys (0,06GB/s) . V\xe4hint\xe4\xe4n yksi l\xe4hde listaa OC-12-linjat, jotka maksavat noin 100 000 dollaria kuukaudessa. (Kyll\xe4, n\xe4m\xe4 laskelmat perustuvat j\xe4rjestelm\xe4n ty\xf6nt\xe4miseen sen rajoihin, mik\xe4 ei ole hyv\xe4, koska se johtaa hyvin hidas vaste. N\xe4m\xe4 laskelmat ovat hy\xf6dyllisi\xe4 j\xe4rjestelm\xe4n osien suunnittelussa ja tasapainottamisessa.)   ",(0,s.jsx)(i.strong,{children:"Tietenkin nopea Internet-yhteys datakeskuksellesi on j\xe4rjestelm\xe4n kallein osa."})," Voit helposti ja suhteellisen halvalla rakentaa verkkoa, jossa on kymmeni\xe4 palvelimia.ERDDAPs, joka pystyy pumppaamaan paljon dataa nopeasti, mutta sopivan nopea Internet-yhteys on eritt\xe4in, eritt\xe4in kallista. Osittainen ratkaisu on:"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Kannusta asiakkaita pyyt\xe4m\xe4\xe4n tietojen alijoukkoja, jos se on kaikki mit\xe4 tarvitaan. Jos asiakas tarvitsee tietoja vain pienelle alueelle tai pienemm\xe4lle resoluutiolle, niin h\xe4n pyyt\xe4\xe4. Alihankinta on protokollien keskipisteERDDAP\u2122tukee tietojen pyyt\xe4mist\xe4."}),"\n",(0,s.jsxs)(i.li,{children:["Kannusta siirt\xe4m\xe4\xe4n pakattuja tietoja.ERDDAP\u2122 ",(0,s.jsx)(i.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#compression",children:"Pakkaukset"}),'tietojen siirto, jos se l\xf6yt\xe4\xe4 "hyv\xe4ksynt\xe4koodin"HTTP GETPyyd\xe4 otsikkoa. Kaikki selaimet k\xe4ytt\xe4v\xe4t "hyv\xe4ksynt\xe4koodia" ja poistavat automaattisesti vasteen. Muut asiakkaat (mm. tietokoneohjelmat) Sit\xe4 on k\xe4ytett\xe4v\xe4 nimenomaisesti.']}),"\n",(0,s.jsx)(i.li,{children:"Yhdist\xe4 palvelimet ISP: ss\xe4 tai muulla sivustolla, joka tarjoaa suhteellisen halvempia kaistanleveyskustannuksia."}),"\n",(0,s.jsx)(i.li,{children:"Erota palvelimet palvelimillaERDDAPeri toimielimille, jotta kustannukset jakautuvat. Voit linkitt\xe4\xe4 komposiitinERDDAP\u2122heid\xe4nERDDAPs."}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["Huomaa, ett\xe4",(0,s.jsx)(i.a,{href:"#cloud-computing",children:"Pilvitietokone"}),"Verkkohotellipalvelut tarjoavat kaiken tarvitsemasi kaistanleveyden, mutta \xe4l\xe4 ratkaise hintaongelmaa."]}),"\n",(0,s.jsxs)(i.p,{children:["Yleist\xe4 tietoa skaalautuvan, korkean kapasiteetin, vika-sieluj\xe4rjestelmien suunnittelusta, katso Michael T. Nygardin kirja.",(0,s.jsx)(i.a,{href:"https://www.amazon.com/Release-Production-Ready-Software-Pragmatic-Programmers/dp/0978739213",children:"Vapauta se"}),"."]}),"\n",(0,s.jsx)(i.h3,{id:"like-legos",children:"Kuten Legos"}),"\n",(0,s.jsxs)(i.p,{children:["Ohjelmistosuunnittelijat yritt\xe4v\xe4t usein k\xe4ytt\xe4\xe4 hyv\xe4\xe4",(0,s.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Software_design_pattern",children:"Ohjelmiston suunnittelumallit"}),"ongelmien ratkaisemiseksi. Hyv\xe4t mallit ovat hyvi\xe4, koska ne luovat hyvi\xe4, helppoja luoda ja ty\xf6skennell\xe4, yleisk\xe4ytt\xf6isi\xe4 ratkaisuja, jotka johtavat j\xe4rjestelmiin, joilla on hyv\xe4t ominaisuudet. Pattern-nimet eiv\xe4t ole standardoituja, joten kutsun niit\xe4 kuvioiksi.ERDDAP\u2122K\xe4yt\xe4 Lego Patternia. Jokainen Lego (Jokainen jokainenERDDAP) Yksinkertainen, pieni, standardi, stand-alone, tiili (Tietopalvelin) m\xe4\xe4ritellyll\xe4 k\xe4ytt\xf6liittym\xe4ll\xe4, jonka avulla se voidaan liitt\xe4\xe4 muihin lainoihin (ERDDAPs) . osienERDDAP\u2122T\xe4m\xe4n j\xe4rjestelm\xe4n muodostavat: tilaus- ja lippulaitej\xe4rjestelm\xe4t (joka mahdollistaa yhteydenpidonERDDAPs) Edd... FromErddapin uudelleenohjausj\xe4rjestelm\xe4 jaRESTfultiedot, jotka k\xe4ytt\xe4j\xe4t tai muut voivat tuottaaERDDAPs. Kaksi tai useampia legoja (ERDDAPs) Voit luoda valtavan m\xe4\xe4r\xe4n erilaisia muotoja (Verkon topologitERDDAPs) . Suunnittelu ja ominaisuudetERDDAP\u2122Olisi voinut tehd\xe4 eri tavalla, ei Lego-kuin vain mahdollistaa ja optimoida yksi tietty topologia. Me tunnemme, ett\xe4ERDDAPLego-mainen design tarjoaa hyv\xe4n, yleisk\xe4ytt\xf6isen ratkaisun, joka mahdollistaa kaiken.ERDDAP\u2122Hallinnollinen (tai j\xe4rjestelm\xe4nvalvojien ryhm\xe4) Kaikenlaisia liittovaltion topologioita. Yksi organisaatio voi perustaa kolme (tai enemm\xe4n)  ERDDAPkuten on esitetty",(0,s.jsx)(i.a,{href:"#recommendations",children:"ERDDAP\u2122Grid/Cluster Diagram yll\xe4"}),". Jaettu ryhm\xe4 (IOOS? CoastWatch? NCEI? NWS?NOAA?? USGS? Dataa? Ei kukaan? Lter? Oi? BODC? ONC? JRC? WMO?) voi perustaa yhdenERDDAP\u2122Jokaisessa pieness\xe4 p\xf6yd\xe4ss\xe4 (Tiedot voivat pysy\xe4 l\xe4hell\xe4 l\xe4hdett\xe4) Sen j\xe4lkeen rakennetaan komposiittiERDDAP\u2122keskustoimistossa virtuaalisten tietoaineistojen kanssa (jotka ovat aina ajan tasalla) Jokaisesta pienest\xe4 p\xf6yd\xe4st\xe4ERDDAPs. Itse asiassa kaikkiERDDAPs, joka on asennettu erilaisiin laitoksiin ymp\xe4ri maailmaa, jotka saavat tietoja muistaERDDAPs ja/tai antaa tietoja muilleERDDAPmuodostaa j\xe4ttim\xe4inen verkostoERDDAPs. Kuinka hienoa se on?! Kuten Legonkin kohdalla, mahdollisuudet ovat loputtomat. Siksi t\xe4m\xe4 on hyv\xe4 malli. Siksi t\xe4m\xe4 on hyv\xe4 designERDDAP."]}),"\n",(0,s.jsx)(i.h3,{id:"different-types-of-requests",children:"Erilaisia pyynt\xf6j\xe4"}),"\n",(0,s.jsx)(i.p,{children:"Yksi t\xe4m\xe4n keskustelun todellisista komplikaatioista palvelimen topologioista on, ett\xe4 on olemassa erilaisia pyynt\xf6j\xe4 ja erilaisia tapoja optimoida erilaisia pyynt\xf6j\xe4. T\xe4m\xe4 on enimm\xe4kseen erillinen ongelma. (Kuinka nopeasti voiERDDAP\u2122Vastaavatko tiedot tietopyynt\xf6\xf6n?) Topologian keskustelu (jotka k\xe4sittelev\xe4t palvelinten v\xe4lisi\xe4 suhteita ja joilla palvelimella on todelliset tiedot) .ERDDAP\u2122Tietenkin, yritt\xe4\xe4 k\xe4sitell\xe4 kaikenlaisia pyynt\xf6j\xe4 tehokkaasti, mutta k\xe4sittelee joitakin parempia kuin toiset."}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Monet pyynn\xf6t ovat yksinkertaisia.\r\nEsimerkiksi: Mik\xe4 on metatieto t\xe4lle aineistolle? Tai: Mitk\xe4 ovat t\xe4m\xe4n verkkoaineiston aikamitan arvot?ERDDAP\u2122on suunniteltu toimimaan mahdollisimman nopeasti (yleens\xe4<= 2 ms) tallentamalla n\xe4m\xe4 tiedot muistiin.\r\n\xa0"}),"\n",(0,s.jsx)(i.li,{children:"Jotkut pyynn\xf6t ovat kohtalaisen vaikeita.\r\nEsimerkiksi: Antakaa minulle t\xe4m\xe4 tietoaineiston osa (Mik\xe4 on One Data tiedosto) . Pyynt\xf6j\xe4 voidaan k\xe4sitell\xe4 suhteellisen nopeasti, koska ne eiv\xe4t ole niin vaikeita.\r\n\xa0"}),"\n",(0,s.jsxs)(i.li,{children:["Jotkin pyynn\xf6t ovat hankalia, joten aikaa kulutetaan.\r\nEsimerkiksi: Antakaa minulle t\xe4m\xe4 tietoaineiston osa (joka voi olla jossakin 10 000+ datatiedostosta, tai se voi olla pakattujen tiedostojen pohjalta, jotka kukin viev\xe4t 10 sekuntia masennuksen poistamiseen.) .ERDDAP\u2122v2.0 on ottanut k\xe4ytt\xf6\xf6n joitakin uusia, nopeampia tapoja k\xe4sitell\xe4 n\xe4it\xe4 pyynt\xf6j\xe4 erityisesti sallimalla pyynn\xf6nk\xe4sittelyn kierros useiden pyynn\xf6n eri osa-alueita k\xe4sittelevien ty\xf6ntekij\xf6iden lankoja. On kuitenkin olemassa toinen l\xe4hestymistapa t\xe4h\xe4n ongelmaan, jokaERDDAP\u2122ei viel\xe4 tue: Tietyn tietoaineiston datatiedostojen osajoukot voidaan tallentaa ja analysoida erillisill\xe4 tietokoneilla ja sitten tulokset yhdistettyn\xe4 alkuper\xe4iseen palvelimeen. T\xe4t\xe4 l\xe4hestymistapaa kutsutaan",(0,s.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/MapReduce",children:"Kartta v\xe4hent\xe4\xe4"}),"ja on esimerkillinen",(0,s.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Apache_Hadoop",children:"Hadoop"}),"Ensimm\xe4inen (??) avoimen l\xe4hdekoodin MapReduce-ohjelma, joka perustuu Google-paperin ideoihin. (Jos tarvitset karttojaERDDAPL\xe4het\xe4 s\xe4hk\xf6postipyynt\xf6erd.data at noaa.gov.) Googlen",(0,s.jsx)(i.a,{href:"https://cloud.google.com/bigquery/",children:"BigQue"}),"on mielenkiintoinen, koska se n\xe4ytt\xe4\xe4 olevan MapReducen toteutus, jota k\xe4ytet\xe4\xe4n tabulaaristen tietoaineistojen alisijoittamiseen, mik\xe4 on yksi niist\xe4.ERDDAPt\xe4rkeimm\xe4t tavoitteet. On todenn\xe4k\xf6ist\xe4, ett\xe4 voit luodaERDDAP\u2122tietoja BigQuery-tietokannasta",(0,s.jsx)(i.a,{href:"/docs/server-admin/datasets#eddtablefromdatabase",children:"EDDTableFromDatabase"}),"BigQuery on saatavilla JDBC-liit\xe4nn\xe4ll\xe4."]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"these-are-my-opinions",children:"N\xe4m\xe4 ovat mielipiteit\xe4ni."}),"\n",(0,s.jsx)(i.p,{children:"Laskelmat ovat yksinkertaisia (Ja nyt hieman p\xe4iv\xe4tty) Mutta mielest\xe4ni johtop\xe4\xe4t\xf6kset ovat oikein. Olenko k\xe4ytt\xe4nyt virheellist\xe4 logiikkaa tai tehnyt virheen laskelmissani? Jos on, vika on yksin. L\xe4het\xe4 s\xe4hk\xf6posti korjauksellaerd dot data at noaa dot gov."}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"cloud-computing",children:(0,s.jsxs)(i.a,{href:"#cloud-computing",children:[" ",(0,s.jsx)(i.strong,{children:"Pilvitietokone"})," "]})}),"\n",(0,s.jsxs)(i.p,{children:["Useat yritykset tarjoavat pilvipalveluita (esim.",(0,s.jsx)(i.a,{href:"https://aws.amazon.com/",children:"Amazonin verkkopalvelut"}),"ja",(0,s.jsx)(i.a,{href:"https://cloud.google.com/",children:"Google Cloud Platform"}),") .",(0,s.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Web_hosting_service",children:"Web hosting yritykset"}),"1990-luvun puoliv\xe4list\xe4 l\xe4htien on tarjottu yksinkertaisempia palveluja, mutta pilvipalvelut ovat laajentaneet huomattavasti tarjottujen j\xe4rjestelmien joustavuutta. KoskaERDDAP\u2122Verkko koostuu vainERDDAPS ja siit\xe4 l\xe4htienERDDAPs ovatJavaWeb-sovellukset, joita voi k\xe4ytt\xe4\xe4 Tomcatissa (Yleisin sovelluspalvelin) tai muita sovelluspalvelimia on helppo m\xe4\xe4ritt\xe4\xe4ERDDAP\u2122Verkko pilvipalvelussa tai web hosting-sivustossa. N\xe4iden palveluiden edut ovat:"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Ne tarjoavat p\xe4\xe4syn eritt\xe4in korkean kaistanleveyden Internet-yhteyksiin. Pelk\xe4st\xe4\xe4n t\xe4m\xe4 voi oikeuttaa n\xe4iden palvelujen k\xe4yt\xf6n."}),"\n",(0,s.jsx)(i.li,{children:"Ne maksavat vain k\xe4ytt\xe4mist\xe4si palveluista. Saat esimerkiksi eritt\xe4in korkean kaistanleveyden Internet-yhteyden, mutta maksat vain siirretyist\xe4 tiedoista. Sen avulla voit rakentaa j\xe4rjestelm\xe4n, joka harvoin ylittyy. (Jopa huippukysynn\xe4ss\xe4) Ei tarvitse maksaa kapasiteettia, jota k\xe4ytet\xe4\xe4n harvoin."}),"\n",(0,s.jsx)(i.li,{children:"Ne ovat helposti laajenevia. Voit muuttaa palvelintyyppej\xe4 tai lis\xe4t\xe4 niin monta palvelinta kuin haluat, alle minuutissa. Pelk\xe4st\xe4\xe4n t\xe4m\xe4 voi oikeuttaa n\xe4iden palvelujen k\xe4yt\xf6n."}),"\n",(0,s.jsx)(i.li,{children:"Ne vapauttavat sinut useista palvelinten ja verkostojen hallinnointiteht\xe4vist\xe4. Pelk\xe4st\xe4\xe4n t\xe4m\xe4 voi oikeuttaa n\xe4iden palvelujen k\xe4yt\xf6n."}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"N\xe4iden palveluiden haitat ovat:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["He maksavat palveluistaan, joskus paljon (absoluuttisesti, ei siksi, ett\xe4 se ei ole hyv\xe4 arvo.) . T\xe4ss\xe4 luetellut hinnat ovat",(0,s.jsx)(i.a,{href:"https://aws.amazon.com/ec2/pricing",children:"Amazon EC2"}),". N\xe4m\xe4 hinnat (Kes\xe4kuussa 2015) tulee alas.\r\nAiemmin hinnat olivat korkeammat, mutta tiedostot ja pyynt\xf6jen m\xe4\xe4r\xe4 olivat pienempi\xe4.\r\nTulevaisuudessa hinnat ovat alhaisemmat, mutta datatiedostot ja pyynt\xf6jen m\xe4\xe4r\xe4 ovat suuremmat.\r\nYksityiskohdat muuttuvat, mutta tilanne pysyy suhteellisen vakiona.\r\nPalvelu ei ole ylihinnoiteltu, se on, ett\xe4 k\xe4yt\xe4mme ja ostamme paljon palvelua.","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Tietojen siirto \u2013 Tietojen siirrot j\xe4rjestelm\xe4\xe4n ovat nyt ilmaisia (Kyll\xe4!) .\r\nTietojen siirrot j\xe4rjestelm\xe4st\xe4 ovat 0,09 dollaria.\r\nYksi SATA-kiintolevy (0,3 GB/s) Yhdell\xe4 palvelimella yhdell\xe4ERDDAP\u2122Voiko Gigabit Ethernet LAN (0,1 GB/s) .\r\nGigabit Ethernet LAN (0,1 GB/s) OC-12 Internet-yhteys (0,06GB/s) .\r\nJos yksi OC-12-yhteys voi siirt\xe4\xe4 noin 150 000 GB/kk, tiedonsiirron kustannukset voivat olla jopa 150 000 GB @ 0,09/GB = 13,500 dollaria kuukaudessa. Jos sinulla on kymmenkunta kovaa ty\xf6t\xe4ERDDAPpilvipalvelussa kuukausittaiset tiedonsiirtomaksut voivat olla merkitt\xe4vi\xe4 (162 000 dollaria kuukaudessa) . (J\xe4lleen ei ole kyse siit\xe4, ett\xe4 palvelu on ylihinnoiteltu, vaan siit\xe4, ett\xe4 k\xe4yt\xe4mme ja ostamme paljon palvelua.)"}),"\n",(0,s.jsxs)(i.li,{children:["Tietojen tallennus - Amazon veloittaa 50 dollaria kuukaudessa TB",":t","\xe4 kohden. (Vertaile sit\xe4, ett\xe4 4TB-yrityksen ostaminen ajaa suoraan noin 50/TB: lle, vaikka RAID: n k\xe4ytt\xf6\xf6notto ja hallinnolliset kustannukset lis\xe4\xe4v\xe4t kokonaiskustannuksia.) Jos haluat tallentaa paljon tietoa pilveen, se voi olla melko kallista. (100 TB maksaa 5000 dollaria kuukaudessa) . Mutta jos sinulla on todella suuri m\xe4\xe4r\xe4 tietoja, t\xe4m\xe4 on pienempi ongelma kuin kaistanleveys / tiedonsiirtokustannukset. (J\xe4lleen ei ole kyse siit\xe4, ett\xe4 palvelu on ylihinnoiteltu, vaan siit\xe4, ett\xe4 k\xe4yt\xe4mme ja ostamme paljon palvelua.)",(0,s.jsx)(i.br,{}),"\n","\xa0"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"subsetting",children:"Subsetointi"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Aliasetusongelma: Ainoa tapa levitt\xe4\xe4 datatiedostoja tehokkaasti on saada tietoa jakava ohjelma. (esim.ERDDAP) palvelimella, jolla on paikallisella kiintolevyll\xe4 tallennettuja tietoja (tai yht\xe4 nopea p\xe4\xe4sy SAN tai Paikallinen RAID) . Paikalliset tiedostoj\xe4rjestelm\xe4t sallivatERDDAP\u2122  (kirjastot, kuten netcdf-java) pyyt\xe4\xe4 tiettyj\xe4 tavuja tiedostoista ja saada vastauksia eritt\xe4in nopeasti. Useita tietopyynt\xf6j\xe4ERDDAP\u2122tiedostoon (Erityisesti verkottuneet tiedot pyyt\xe4v\xe4t, jos stride-arvo on > 1 1) Ei voida tehd\xe4 tehokkaasti, jos ohjelman on pyydett\xe4v\xe4 koko tiedostoa tai suuria tiedostoja ei-paikalliselta. (hitaammin) Tietojen tallennusj\xe4rjestelm\xe4 ja sen j\xe4lkeen osajoukko. Jos pilvi ei annaERDDAP\u2122nopea p\xe4\xe4sy tiedostojen sivuvalikoimaan (Yht\xe4 nopeasti kuin paikalliset tiedostot) ,ERDDAPTietojen saatavuus on vakava pullonkaula ja negata muita hy\xf6tyj\xe4 pilvipalvelun k\xe4yt\xf6st\xe4."}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"hosted-data",children:"Is\xe4nn\xf6idyt tiedot"}),"\n",(0,s.jsx)(i.p,{children:"Vaihtoehto yll\xe4 mainittuun kustannushy\xf6tyanalyysiin (joka perustuu tietojen omistajaan (esim.NOAA) maksamaan tietonsa pilveen tallennettavaksi) Vuonna 2012, kun Amazon (V\xe4hemm\xe4n, jotkut muut pilvipalvelut) Alkoi is\xe4nn\xf6id\xe4 joitakin tietoja pilvess\xe4 (AWS S3) Ilmaiseksi (Oletetaan, ett\xe4 he voisivat palauttaa kustannukset, jos k\xe4ytt\xe4j\xe4t vuokraisivat AWS EC2 -laskentatapauksia ty\xf6skennell\xe4kseen n\xe4iden tietojen kanssa.) . T\xe4m\xe4 tekee pilvipalvelusta huomattavasti tehokkaamman, koska datan lataaminen ja yll\xe4pito on nyt nolla. kanssaERDDAP\u2122V2.0 on uusia ominaisuuksia, jotka helpottavat juoksemistaERDDAPPilvess\xe4:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Nyt, aEDDGridFromFiles tai EDDTableFromFiles-tietoaineisto voidaan luoda tietotiedostoista, jotka ovat et\xe4isi\xe4 ja helposti saatavilla Internetin kautta. (Esimerkki: AWS S3) k\xe4ytt\xe4m\xe4ll\xe4<CacheFromUrl > ja<Cache GB> vaihtoehtojaERDDAP\u2122s\xe4ilytt\xe4\xe4 viimeksi k\xe4ytettyjen tiedostojen paikallisen v\xe4limuistin."}),"\n",(0,s.jsx)(i.li,{children:"Jos EDDTableFromFiles-l\xe4hdetiedostot on pakattu (esim..tgz) ,ERDDAP\u2122Masentaa ne automaattisesti, kun ne luetaan."}),"\n",(0,s.jsx)(i.li,{children:"Nyt,ERDDAP\u2122Lanka, joka vastaa tiettyyn pyynt\xf6\xf6n, levitt\xe4\xe4 ty\xf6ntekij\xe4lankoja pyynn\xf6n alaosiin, jos k\xe4yt\xe4t pyynt\xf6\xe4.<nThreads > vaihtoehtoja T\xe4m\xe4 rinnakkaisratkaisu mahdollistaa nopeammat vastaukset vaikeisiin pyynt\xf6ihin."}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["N\xe4m\xe4 muutokset ratkaisevat AWS S3",":n"," ongelman, joka ei tarjoa paikallista, lohkotasoista tiedostojen tallennustilaa ja (Vanha vanha vanha) S3-tietoihin p\xe4\xe4syn ongelma on merkitt\xe4v\xe4. (Vuosia sitten (~ 2014) T\xe4m\xe4 viive oli t\xe4rke\xe4, mutta nyt se on paljon lyhyempi eik\xe4 niin merkitt\xe4v\xe4.) Kaiken kaikkiaan se tarkoittaa, ett\xe4ERDDAP\u2122Pilvi toimii nyt paljon paremmin."]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Kiitos"})," Kiitos Matthew Arrottille ja h\xe4nen ryhm\xe4lleen alkuper\xe4isess\xe4 OOI-ty\xf6ss\xe4 heid\xe4n ty\xf6st\xe4\xe4n.ERDDAP\u2122pilvess\xe4 ja sen aiheuttamissa keskusteluissa.\r\n\xa0"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"remote-replication-of-datasets",children:(0,s.jsx)(i.a,{href:"#remote-replication-of-datasets",children:"Rekister\xf6idyt et\xe4yhteydet"})}),"\n",(0,s.jsx)(i.p,{children:"On olemassa yleinen ongelma, joka liittyy edell\xe4 mainittuun keskusteluun verkoista ja liittovaltioista.ERDDAPs: Rekister\xf6ityjen aineistojen et\xe4k\xe4ytt\xf6. Perusongelma on: Tietojen tarjoaja s\xe4ilytt\xe4\xe4 tietoaineiston, joka muuttuu ajoittain ja k\xe4ytt\xe4j\xe4 haluaa s\xe4ilytt\xe4\xe4 ajan tasalla olevan paikallisen kopion t\xe4st\xe4 tietoaineistosta. (mist\xe4 tahansa syyst\xe4) . On selv\xe4\xe4, ett\xe4 t\xe4st\xe4 on paljon variaatioita. Joitakin variaatioita on vaikeampi k\xe4sitell\xe4 kuin toisia."}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Nopeat p\xe4ivitykset\r\nOn vaikeampaa pit\xe4\xe4 paikalliset tiedot ajan tasalla. ",(0,s.jsx)(i.em,{children:"v\xe4litt\xf6m\xe4sti"}),"   (Esimerkiksi kolmessa sekunnissa) jokaisesta muutoksesta, ei esimerkiksi muutamassa tunnissa.\r\n\xa0"]}),"\n",(0,s.jsx)(i.li,{children:"Useita muutoksia\r\nUsein muutokset ovat vaikeampia k\xe4sitell\xe4 kuin harvinaisia muutoksia. Esimerkiksi kerran vuorokaudessa tehdyt muutokset ovat paljon helpompia kuin 0,1 sekunnin v\xe4lein.\r\n\xa0"}),"\n",(0,s.jsx)(i.li,{children:"Pieni\xe4 muutoksia\r\nPieni\xe4 muutoksia l\xe4hdetiedostoon on vaikeampi k\xe4sitell\xe4 kuin kokonaan uusi tiedosto. T\xe4m\xe4 on erityisen t\xe4rke\xe4\xe4, jos pieni\xe4 muutoksia voi olla miss\xe4 tahansa. Pienet muutokset ovat vaikeampia havaita ja niiden erist\xe4minen on vaikeaa. Uusia tiedostoja on helppo havaita ja siirt\xe4\xe4 tehokkaasti.\r\n\xa0"}),"\n",(0,s.jsx)(i.li,{children:"Koko data\r\nKoko tietoaineiston pit\xe4minen ajan tasalla on vaikeampaa kuin vain viimeaikaisten tietojen s\xe4ilytt\xe4minen. Jotkut k\xe4ytt\xe4j\xe4t tarvitsevat viimeaikaisia tietoja (Esimerkiksi viimeisen kahdeksan p\xe4iv\xe4n arvo) .\r\n\xa0"}),"\n",(0,s.jsx)(i.li,{children:"Useita kopioita\r\nUseiden et\xe4kopioiden s\xe4ilytt\xe4minen eri sivustoilla on vaikeampaa kuin yhden et\xe4kopion s\xe4ilytt\xe4minen. T\xe4m\xe4 on skaalausongelma.\r\n\xa0"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"L\xe4hteen tietoaineiston mahdollisista muutoksista sek\xe4 k\xe4ytt\xe4j\xe4n tarpeista ja odotuksista on suuri m\xe4\xe4r\xe4 variaatioita. Monia variaatioita on vaikea ratkaista. Paras ratkaisu yhdelle tilanteelle ei useinkaan ole paras ratkaisu toiseen tilanteeseen."}),"\n",(0,s.jsx)(i.h3,{id:"relevant-erddap-tools",children:(0,s.jsxs)(i.a,{href:"#relevant-erddap-tools",children:[" ",(0,s.jsx)(i.strong,{children:"relevanttiaERDDAP\u2122Ty\xf6kalut"})," "]})}),"\n",(0,s.jsx)(i.p,{children:"ERDDAP\u2122tarjoaa useita ty\xf6kaluja, joita voidaan k\xe4ytt\xe4\xe4 osana j\xe4rjestelm\xe4\xe4, joka pyrkii s\xe4ilytt\xe4m\xe4\xe4n et\xe4kopion tietoaineistosta:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["ERDDAP>",(0,s.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/RSS",children:"RSS  (Rikas sivusto yhteenveto?) Palvelupalvelu"}),(0,s.jsx)(i.br,{}),"\n","Tarjoaa nopean tavan tarkistaa, onko et\xe4n\xe4 oleva tietoaineistoERDDAP\u2122on muuttunut.\r\n\xa0"]}),"\n",(0,s.jsxs)(i.li,{children:["ERDDAP>",(0,s.jsx)(i.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions",children:"Tilauspalvelu"}),(0,s.jsx)(i.br,{}),"\n","on tehokkaampi (kuinRSS) L\xe4het\xe4mme v\xe4litt\xf6m\xe4sti s\xe4hk\xf6postiviestin tai otamme yhteytt\xe4 URL-osoitteeseen jokaiselle tilaajalle aina, kun tiedot on p\xe4ivitetty ja p\xe4ivitys on muuttunut. Se on tehokasta, kun se tapahtuu ASAP ja ei ole tuhlattu vaivaa. (kuin \xe4\xe4nestyksess\xe4RSSPalvelupalvelu) . K\xe4ytt\xe4j\xe4t voivat k\xe4ytt\xe4\xe4 muita ty\xf6kaluja (kuin",(0,s.jsx)(i.a,{href:"https://ifttt.com/",children:"IFTTT"}),") vastaamaan tilausj\xe4rjestelm\xe4n s\xe4hk\xf6posti-ilmoituksiin. K\xe4ytt\xe4j\xe4 voi esimerkiksi tilata et\xe4n\xe4 olevan tietoaineistonERDDAP\u2122ja k\xe4ytt\xe4\xe4 IFTTT",":t","\xe4 reagoimaan tilauss\xe4hk\xf6postiilmoituksiin ja k\xe4ynnist\xe4m\xe4\xe4n paikallisen tietoaineiston p\xe4ivitt\xe4misen.\r\n\xa0"]}),"\n",(0,s.jsxs)(i.li,{children:["ERDDAP>",(0,s.jsx)(i.a,{href:"/docs/server-admin/additional-information#flag",children:"Lippuj\xe4rjestelm\xe4"}),(0,s.jsx)(i.br,{}),"\n","Yksi tapa antaa yksiERDDAP\u2122J\xe4rjestelm\xe4nvalvoja ilmoittaa tietoaineistonsaERDDAPLataa ASAP uudelleen. Lipun URL-muotoa voidaan helposti k\xe4ytt\xe4\xe4 k\xe4sikirjoituksissa. Lipun URL-muotoa voidaan k\xe4ytt\xe4\xe4 my\xf6s tilauksena.\r\n\xa0"]}),"\n",(0,s.jsxs)(i.li,{children:["ERDDAP>",(0,s.jsx)(i.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html",children:'"files"J\xe4rjestelm\xe4j\xe4rjestelm\xe4'}),(0,s.jsx)(i.br,{}),"\n",'voi tarjota p\xe4\xe4syn l\xe4hdetiedostoihin tiettyyn tietoaineistoon, mukaan lukien tiedostojen Apache-tyylinen hakemistoluettelo ("Verkkokansio") joka sis\xe4lt\xe4\xe4 jokaisen tiedoston latausURL-osoitteen, viimeisen muokatun ajan ja koon. Yksi haittapuoli k\xe4ytt\xe4\xe4"files"J\xe4rjestelm\xe4 on, ett\xe4 l\xe4hdetiedostoilla voi olla erilaiset muuttujanimet ja erilaiset metatiedot kuin tietoaineistolla.ERDDAP. Jos et\xe4isyysERDDAP\u2122Dataset tarjoaa p\xe4\xe4syn l\xe4hdetiedostoihin, jotka avaavat huonon miehen version rsyncist\xe4: paikallisen j\xe4rjestelm\xe4n on helppo n\xe4hd\xe4, mitk\xe4 et\xe4tiedostot ovat muuttuneet ja on ladattava. (N\xe4hd\xe4\xe4n',(0,s.jsx)(i.a,{href:"#cache-from-url",children:"CacheFromUrl vaihtoehto"}),"alla, joka voi k\xe4ytt\xe4\xe4 t\xe4t\xe4.)",(0,s.jsx)(i.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"solutions",children:(0,s.jsx)(i.a,{href:"#solutions",children:"Ratkaisuja"})}),"\n",(0,s.jsx)(i.p,{children:"Vaikka ongelmaan on olemassa valtava m\xe4\xe4r\xe4 muunnelmia ja mahdollisten ratkaisujen \xe4\xe4ret\xf6n m\xe4\xe4r\xe4, ratkaisuihin on vain muutamia perusmenetelmi\xe4:"}),"\n",(0,s.jsx)(i.h4,{id:"custom-brute-force-solutions",children:"Brute Force -ratkaisut"}),"\n",(0,s.jsx)(i.p,{children:"Ilmeinen ratkaisu on r\xe4\xe4t\xe4l\xf6ity ratkaisu, joka on optimoitu tietylle tilanteelle: tehd\xe4 j\xe4rjestelm\xe4, joka havaitsee / tunnistaa, mitk\xe4 tiedot ovat muuttuneet, ja l\xe4hett\xe4\xe4 n\xe4m\xe4 tiedot k\xe4ytt\xe4j\xe4lle, jotta k\xe4ytt\xe4j\xe4 voi pyyt\xe4\xe4 muutettuja tietoja. Voit tehd\xe4 t\xe4m\xe4n, mutta haittoja on:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Mukavat ratkaisut ovat paljon ty\xf6t\xe4."}),"\n",(0,s.jsx)(i.li,{children:"Mukautetut ratkaisut ovat yleens\xe4 niin mukautettu tiettyyn tietoaineistoon ja k\xe4ytt\xe4j\xe4n j\xe4rjestelm\xe4\xe4n, ettei niit\xe4 voi k\xe4ytt\xe4\xe4 uudelleen."}),"\n",(0,s.jsx)(i.li,{children:"Ratkaisuja pit\xe4\xe4 rakentaa ja yll\xe4pit\xe4\xe4. (Se ei ole koskaan hyv\xe4 idea. On aina hyv\xe4 v\xe4ltt\xe4\xe4 ty\xf6t\xe4 ja saada joku muu tekem\xe4\xe4n ty\xf6t\xe4!)"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"V\xe4lttelen t\xe4t\xe4 l\xe4hestymistapaa, koska on l\xe4hes aina parempi etsi\xe4 yleisi\xe4 ratkaisuja, joita joku muu rakentaa ja yll\xe4pit\xe4\xe4.\r\n\xa0"}),"\n",(0,s.jsx)(i.h4,{id:"rsync",children:"rsync"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Rsync",children:"rsync"}),"on olemassa oleva, h\xe4mm\xe4stytt\xe4v\xe4n hyv\xe4, yleinen k\xe4ytt\xf6tarkoitus ratkaisu, joka pit\xe4\xe4 tiedostokokoelman l\xe4hdetietokoneessa synkronoituna k\xe4ytt\xe4j\xe4n et\xe4tietokoneeseen. Se miten se toimii on:"]}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"Jotain tapahtumaa (Esimerkki: AERDDAP\u2122Tilausj\xe4rjestelm\xe4tapahtuma) rynn\xe4kk\xf6nen,\r\n(tai krooninen ty\xf6 py\xf6rii tiettyin\xe4 p\xe4ivin\xe4 tietokoneella)"}),"\n",(0,s.jsx)(i.li,{children:"joka ottaa yhteytt\xe4 rsync-tietokoneeseen,"}),"\n",(0,s.jsx)(i.li,{children:"joka laskee kunkin tiedoston tuoksujen sarjan hasheja ja v\xe4litt\xe4\xe4 ne k\xe4ytt\xe4j\xe4n rsyncille,"}),"\n",(0,s.jsx)(i.li,{children:"jotka vertaavat n\xe4it\xe4 tietoja k\xe4ytt\xe4j\xe4n tiedostojen kopion vastaaviin tietoihin,"}),"\n",(0,s.jsx)(i.li,{children:"Sitten pyydet\xe4\xe4n tiedostoja, jotka ovat muuttuneet."}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["Kun otetaan huomioon kaikki mit\xe4 se tekee, rsync toimii nopeasti. (10 sekuntia ja tiedonsiirtoaikaa) eritt\xe4in tehokkaasti. On olemassa",(0,s.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Rsync#Variations",children:"Variaatiot rsync"}),"Optimointi eri tilanteissa (esim. laskemalla ja kiinnitt\xe4m\xe4ll\xe4 kunkin l\xe4hdetiedoston ketjujen tiivistelm\xe4t) ."]}),"\n",(0,s.jsx)(i.p,{children:"T\xe4rkeimm\xe4t heikkoudet rsync ovat: se vaatii jonkin verran ponnistusta perustaa. (Turvallisuuskysymykset) ; on joitakin skaalausongelmia; eik\xe4 ole hyv\xe4 pit\xe4\xe4 NRT-tietoaineistoja ajan tasalla. (Esimerkiksi rsynci\xe4 on vaikea k\xe4ytt\xe4\xe4 yli 5 minuutin v\xe4lein.) . Jos pystyt selviytym\xe4\xe4n heikkouksista tai jos ne eiv\xe4t vaikuta tilanteeseesi, rsync on erinomainen, yleinen k\xe4ytt\xf6tarkoitus, jota kuka tahansa voi k\xe4ytt\xe4\xe4 juuri nyt ratkaistakseen monia skenaarioita, joihin liittyy aineistojen et\xe4kopiointi."}),"\n",(0,s.jsx)(i.p,{children:"Tuotteesta on olemassaERDDAP\u2122Tehd\xe4 lista yritt\xe4\xe4 lis\xe4t\xe4 tukea rsync palvelutERDDAP  (Ehk\xe4 melko vaikea teht\xe4v\xe4) Jotta kuka tahansa asiakas voi k\xe4ytt\xe4\xe4 rsync (tai variantti) yll\xe4pit\xe4\xe4 ajantasaista kopiota tietoaineistosta. Jos joku haluaa tehd\xe4 t\xf6it\xe4, pyyd\xe4n s\xe4hk\xf6postia.erd.data at noaa.gov."}),"\n",(0,s.jsxs)(i.p,{children:["On muita ohjelmia, jotka tekev\xe4t enemm\xe4n tai v\xe4hemm\xe4n mit\xe4 rsync tekee, joskus suuntautunut tietoaineiston replikaatio. (usein tiedostokopiotasolla) esim.Unidata>",(0,s.jsx)(i.a,{href:"https://www.unidata.ucar.edu/projects/index.html#idd",children:"IDD"}),"."]}),"\n",(0,s.jsx)(i.h4,{id:"cache-from-url",children:"L\xe4hde: Url"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.a,{href:"/docs/server-admin/datasets#cachefromurl",children:"CacheFromUrl"}),"Asetus on k\xe4ytett\xe4viss\xe4 (AloitetaanERDDAP\u2122V2.0) KaikilleERDDAPtiedostotyypit, jotka tekev\xe4t tiedostoista tietoaineistoja (Pohjimmiltaan kaikki alaluokat",(0,s.jsx)(i.a,{href:"/docs/server-admin/datasets#eddgridfromfiles",children:"EDDGridFilej\xe4"}),"ja",(0,s.jsx)(i.a,{href:"/docs/server-admin/datasets#eddtablefromfiles",children:"EDDTableFromfiilit"}),") . Cash FromUrl tekee siit\xe4 triviaalia ladata ja yll\xe4pit\xe4\xe4 paikallisia tietotiedostoja kopioimalla ne et\xe4l\xe4hteest\xe4 v\xe4limuistin kautta. Url-asetukset. Et\xe4tiedostot voivat olla Web Accessible -kansiossa tai THREDS",":n"," tarjoamassa hakemiston kaltaisessa tiedostoluettelossa.HyraxS3",":n",' taiERDDAP>"files"j\xe4rjestelm\xe4.']}),"\n",(0,s.jsxs)(i.p,{children:['Jos et\xe4tiedostojen l\xe4hde on et\xe4inenERDDAP\u2122tietoaineisto, joka tarjoaa l\xe4hdetiedostojaERDDAP\u2122 "files"J\xe4rjestelm\xe4, sitten voit',(0,s.jsx)(i.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions",children:"allekirjoittaa"}),"et\xe4tietoihin ja k\xe4yt\xe4",(0,s.jsx)(i.a,{href:"/docs/server-admin/additional-information#flag",children:"Lippu URL"}),"Paikallinen tietoaineistosi tilauksen toimenpiteen\xe4. Sitten, kun et\xe4tietoaineisto muuttuu, se ottaa yhteytt\xe4 lippu-URL-osoitteeseen tietoaineistossasi, joka kertoo sen lataavan ASAP",":n"," uudelleen, joka havaitsee ja lataa muuttuneet et\xe4tiedostot. Kaikki t\xe4m\xe4 tapahtuu hyvin nopeasti (yleens\xe4 ~5 sekuntia ja aika, joka tarvitaan tiedostojen lataamiseen) . T\xe4m\xe4 l\xe4hestymistapa toimii hyvin, jos l\xe4hdeaineiston muutokset ovat uusia tiedostoja, jotka lis\xe4t\xe4\xe4n s\xe4\xe4nn\xf6llisesti ja kun olemassa olevat tiedostot eiv\xe4t muutu. T\xe4m\xe4 l\xe4hestymistapa ei toimi, jos tiedot liitet\xe4\xe4n usein kaikkiin. (tai eniten) olemassa olevista l\xe4hdetiedostoista, koska paikalliset tietoaineistosi lataavat usein koko et\xe4tietoaineiston. (T\xe4ss\xe4 tarvitaan rsync-tyyppist\xe4 l\xe4hestymistapaa.)"]}),"\n",(0,s.jsx)(i.h4,{id:"archiveadataset",children:"ArchiveaDataset"}),"\n",(0,s.jsxs)(i.p,{children:["ERDDAP\u2122>",(0,s.jsx)(i.a,{href:"/docs/server-admin/additional-information#archiveadataset",children:"ArchiveaDataset"}),"Se on hyv\xe4 ratkaisu, kun tietoja lis\xe4t\xe4\xe4n tietoaineistoon usein, mutta vanhempia tietoja ei koskaan muuteta. Periaatteessa yksiERDDAP\u2122J\xe4rjest\xe4j\xe4 voi ohjata ArchiveADataset (ehk\xe4 k\xe4sikirjoituksessa, kenties cron) t\xe4sment\xe4\xe4 tietoaineiston osajoukko, jonka he haluavat ottaa (Ehk\xe4 useissa tiedostoissa) Pakkaus alla.ziptai tai.tgztiedosto, jotta voit l\xe4hett\xe4\xe4 tiedoston kiinnostuneille ihmisille tai ryhmille (Esimerkkin\xe4 NCEI arkistoinnista) Lataa se ladattavaksi. Voit esimerkiksi k\xe4ytt\xe4\xe4 ArchiveADatasetia joka p\xe4iv\xe4 klo 12.10 ja tehd\xe4 sen..zipKaikki tiedot klo 12:00 edellisen\xe4 p\xe4iv\xe4n\xe4 klo 12:00. (Tee t\xe4m\xe4 viikoittain, kuukausittain tai vuosittain tarpeen mukaan.) Koska pakattu tiedosto luodaan offline-tilassa, ei ole olemassa vaaraa aikataulun tai liikaa tietoja, koska on olemassa standardi.ERDDAP\u2122Pyynt\xf6.\r\n\xa0"]}),"\n",(0,s.jsx)(i.h4,{id:"erddaps-standard-request-system",children:"ERDDAP\u2122Vakiopyynt\xf6j\xe4rjestelm\xe4"}),"\n",(0,s.jsx)(i.p,{children:"ERDDAP\u2122Vakiopyynt\xf6j\xe4rjestelm\xe4 on vaihtoehtoinen hyv\xe4 ratkaisu, kun tiedot lis\xe4t\xe4\xe4n tietoaineistoon usein, mutta vanhemmat tiedot eiv\xe4t koskaan muutu. K\xe4yt\xe4nn\xf6ss\xe4 kuka tahansa voi k\xe4ytt\xe4\xe4 vakiopyynt\xf6j\xe4 saadakseen tietoja tietyn ajan. Esimerkiksi klo 12:10 p\xe4iv\xe4ss\xe4, voit tehd\xe4 pyynn\xf6n kaikki tiedot et\xe4tietokannasta klo 12.00 edellisen\xe4 p\xe4iv\xe4n\xe4 klo 12.00. Rajoitukset (ArchiveADataset l\xe4hestymistapa) on aikalis\xe4n riski tai yht\xe4 tiedostoa on liikaa. Rajoitusta voidaan v\xe4ltt\xe4\xe4 tekem\xe4ll\xe4 pienempi\xe4 ajanjaksoja useammin.\r\n\xa0"}),"\n",(0,s.jsx)(i.h4,{id:"eddtablefromhttpget",children:"EdDTableFromHttpGet"}),"\n",(0,s.jsxs)(i.p,{children:["\\[T\xe4t\xe4 vaihtoehtoa ei ole viel\xe4 olemassa, mutta se on mahdollista rakentaa l\xe4hitulevaisuudessa.\\]",(0,s.jsx)(i.br,{}),"\n","Uusi",(0,s.jsx)(i.a,{href:"/docs/server-admin/datasets#eddtablefromhttpget",children:"EdDTableFromHttpGet"}),"Tietojen tyyppiERDDAP\u2122V2.0 mahdollistaa uuden ratkaisun. T\xe4m\xe4n tyyppisen tietoaineiston yll\xe4pit\xe4m\xe4t taustalla olevat tiedostot ovat olennaisesti lokitiedostoja, jotka tallentavat muutoksia tietoaineistoon. Paikallista dataa yll\xe4pit\xe4v\xe4n j\xe4rjestelm\xe4n olisi voitava luoda s\xe4\xe4nn\xf6llisesti (Perustuu laukaisuun) pyyt\xe4\xe4 kaikki et\xe4tietoaineistoon tehdyt muutokset edellisest\xe4 pyynn\xf6st\xe4. T\xe4m\xe4n pit\xe4isi olla yht\xe4 tehokasta (tai enemm\xe4n) kuin rsync ja k\xe4sittelisi monia vaikeita skenaarioita, mutta toimisi vain, jos et\xe4- ja paikalliset tietoaineistot ovat EDDTableFromHttpGet-tietoaineistoja."]}),"\n",(0,s.jsx)(i.p,{children:"Jos joku haluaa tehd\xe4 t\xf6it\xe4, ota yhteytt\xe4erd.data at noaa.gov."}),"\n",(0,s.jsx)(i.h4,{id:"distributed-data",children:"Jaettu data"}),"\n",(0,s.jsx)(i.p,{children:"Mik\xe4\xe4n edell\xe4 mainituista ratkaisuista ei tee suurta ty\xf6t\xe4 ongelman vaikeiden vaihteluiden ratkaisemiseksi, koska reaaliaikaisen replikoinnin vuoksi. (NRT) Tiedot ovat eritt\xe4in vaikeita, osittain kaikkien mahdollisten skenaarioiden vuoksi."}),"\n",(0,s.jsx)(i.p,{children:"On olemassa hyv\xe4 ratkaisu: \xe4l\xe4 edes yrit\xe4 kopioida tietoja.\r\nK\xe4yt\xe4 yht\xe4 arvovaltaista l\xe4hdett\xe4 (Yksi tietokanta yhdell\xe4ERDDAP) Tietojen tarjoajan yll\xe4pit\xe4m\xe4 (esimerkiksi aluetoimisto) . Kaikki k\xe4ytt\xe4j\xe4t, jotka haluavat tietoja kyseisest\xe4 aineistosta, saavat sen aina l\xe4hteest\xe4. Esimerkiksi selainpohjaiset sovellukset saavat tiedot URL-pohjaisesta pyynn\xf6st\xe4, joten ei ole v\xe4li\xe4, ett\xe4 pyynt\xf6 on alkuper\xe4iselle l\xe4hteelle et\xe4palvelimella. (Ei sama palvelin, joka is\xe4nn\xf6i ESM:\xe4\xe4) . Monet ovat jo pitk\xe4\xe4n kannattaneet t\xe4t\xe4 jaettua dataa. (Roy Mendelssohn viimeiset 20 vuotta) .ERDDAPVerkko/liittomalli (Top 80 % t\xe4st\xe4 asiakirjasta) perustuu t\xe4h\xe4n l\xe4hestymistapaan. Ratkaisu on kuin miekka Gordian Knotille - koko ongelma katoaa."}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"T\xe4m\xe4 ratkaisu on h\xe4mm\xe4stytt\xe4v\xe4n yksinkertainen."}),"\n",(0,s.jsx)(i.li,{children:"Ratkaisu on h\xe4mm\xe4stytt\xe4v\xe4n tehokas, koska mit\xe4\xe4n ty\xf6t\xe4 ei ole tehty s\xe4ilytt\xe4\xe4kseen kopioitua dataa. (s) ajan tasalla."}),"\n",(0,s.jsx)(i.li,{children:"K\xe4ytt\xe4j\xe4t voivat saada uusimmat tiedot milloin tahansa (Esim. viiveell\xe4 vain ~0,5 sekuntia) ."}),"\n",(0,s.jsxs)(i.li,{children:["Se skaalautuu hyvin ja on olemassa tapoja parantaa skaalausta. (Katso t\xe4st\xe4 artikkelista 80%.)",(0,s.jsx)(i.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"T\xe4m\xe4 ei ole ratkaisu kaikkiin mahdollisiin tilanteisiin, mutta se on hyv\xe4 ratkaisu enemmist\xf6\xf6n. Jos t\xe4h\xe4n ratkaisuun liittyy ongelmia/heikkouksia tietyiss\xe4 tilanteissa, kannattaa usein ratkaista n\xe4m\xe4 ongelmat tai el\xe4\xe4 n\xe4iden heikkouksien kanssa t\xe4m\xe4n ratkaisun upeiden etujen vuoksi. Jos/kun t\xe4m\xe4 ratkaisu ei ole hyv\xe4ksytt\xe4viss\xe4 tietyss\xe4 tilanteessa, esim. silloin, kun sinulla todella on paikallinen kopio tiedoista, harkitse muita edell\xe4 mainittuja ratkaisuja.\r\n\xa0"}),"\n",(0,s.jsx)(i.h3,{id:"conclusion",children:"Johtaminen"}),"\n",(0,s.jsx)(i.p,{children:"Ei ole olemassa yksinkertaista ratkaisua, joka ratkaisee kaikki ongelmat kaikissa tilanteissa. (rsync ja jaettu data ovat l\xe4hes) Toivottavasti on olemassa riitt\xe4v\xe4sti ty\xf6kaluja ja vaihtoehtoja, jotta voit l\xf6yt\xe4\xe4 sopivan ratkaisun tilanteeseesi."})]})}function d(t={}){const{wrapper:i}={...(0,n.R)(),...t.components};return i?(0,s.jsx)(i,{...t,children:(0,s.jsx)(u,{...t})}):u(t)}}}]);