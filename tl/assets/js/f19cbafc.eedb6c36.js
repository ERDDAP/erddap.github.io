"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[2106],{28453:(a,n,i)=>{i.d(n,{R:()=>t,x:()=>r});var e=i(96540);const g={},s=e.createContext(g);function t(a){const n=e.useContext(s);return e.useMemo(function(){return"function"==typeof a?a(n):{...n,...a}},[n,a])}function r(a){let n;return n=a.disableParentContext?"function"==typeof a.components?a.components(g):a.components||g:t(a.components),e.createElement(s.Provider,{value:n},a.children)}},58110:(a,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>m,frontMatter:()=>t,metadata:()=>e,toc:()=>d});const e=JSON.parse('{"id":"server-admin/prometheus","title":"Prometheus","description":"Mga metrikong Prometheusay makukuha sa /erddap/metrics. Ang JVM core metriko ay idinagdag noong 2.25 sa maramiERDDAP\u2122Idinagdag ang mga metriko sa bersyong 2.26. Kung nais mong gamitin ang mga metriko ay tiyakin na ikaw ay nasa kahit papaanong bersyon 2.26. Hindi nila nagawa, maaari mo silang sirain sa pamamagitan ng pagdaragdag","source":"@site/i18n/tl/docusaurus-plugin-content-docs/current/server-admin/prometheus.md","sourceDirName":"server-admin","slug":"/server-admin/prometheus","permalink":"/tl/docs/server-admin/prometheus","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/prometheus.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9},"sidebar":"docSidebar","previous":{"title":"Lokalisadong Metadata","permalink":"/tl/docs/server-admin/localized-metadata"},"next":{"title":"Contributing","permalink":"/tl/docs/category/contributing"}}');var g=i(74848),s=i(28453);const t={sidebar_position:9},r="Prometheus",o={},d=[{value:"Pagtakbo sa Prometheus server",id:"pagtakbo-sa-prometheus-server",level:2},{value:"ERDDAP\u2122metriko",id:"erddapmetriko",level:2},{value:"JVM",id:"jvm",level:3},{value:"ERDDAP\u2122espesipiko",id:"erddapespesipiko",level:3},{value:"ERDDAP_Magtayo ng_info",id:"erddap_magtayo-ng_info",level:4},{value:"tampok na mga_flag",id:"tampok-na-mga_flag",level:4},{value:"Hinango Larawan",id:"hinango-larawan",level:4},{value:"http_Magtanong_duriation_seconds",id:"http_magtanong_duriation_seconds",level:4},{value:"touch_thread_duriation_seconds",id:"touch_thread_duriation_seconds",level:4},{value:"gawain_thread_duration_pangalawa",id:"gawain_thread_duration_pangalawa",level:4},{value:"karga_datasets_duration_seconds",id:"karga_datasets_duration_seconds",level:4},{value:"Mga postmail_thread_duriation_seconds",id:"mga-postmail_thread_duriation_seconds",level:4},{value:"Ibinibilang ang mail_untrasyon",id:"ibinibilang-ang-mail_untrasyon",level:4},{value:"datos_bilang",id:"datos_bilang",level:4},{value:"datos_failed_load_count",id:"datos_failed_load_count",level:4},{value:"na mga_requests_deady",id:"na-mga_requests_deady",level:4},{value:"Mapanganib na_memory_emails_Subject",id:"mapanganib-na_memory_emails_subject",level:4},{value:"Mapanganib na_memory_failures_Subject",id:"mapanganib-na_memory_failures_subject",level:4},{value:"topo_request_Sential",id:"topo_request_sential",level:4},{value:"Mga Kontra sa Hangganan",id:"mga-kontra-sa-hangganan",level:4}];function l(a){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...a.components};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(n.header,{children:(0,g.jsx)(n.h1,{id:"prometheus",children:"Prometheus"})}),"\n",(0,g.jsxs)(n.p,{children:[(0,g.jsx)(n.a,{href:"https://prometheus.io/",children:"Mga metrikong Prometheus"}),"ay makukuha sa /erddap/metrics. Ang JVM core metriko ay idinagdag noong 2.25 sa maramiERDDAP\u2122Idinagdag ang mga metriko sa bersyong 2.26. Kung nais mong gamitin ang mga metriko ay tiyakin na ikaw ay nasa kahit papaanong bersyon 2.26. Hindi nila nagawa, maaari mo silang sirain sa pamamagitan ng pagdaragdag"]}),"\n",(0,g.jsx)(n.pre,{children:(0,g.jsx)(n.code,{className:"language-xml",children:"<usePrometheusMetrics>false</usePrometheusMetrics>\n"})}),"\n",(0,g.jsx)(n.p,{children:"sa iyong setup.xml."}),"\n",(0,g.jsx)(n.p,{children:"Ang mga metrikong ito ay dinisenyo upang mabasa ang makina. Bagaman maaari mong suriin nang manu - mano ang metrics page, sapagkat sa masusing pagsubaybay iminumungkahi na gumamit ng isang Prometheus server. Ang isang Prometheus server ay mag - iimbak ng makasaysayang mga metriko na nagpapangyari sa higit na masusing pagsubaybay (gaya ng bilang at pagbabago mula sa nakaraang mga pamantayan) , at madalas ding pinapatakbo gamit ang isang grafana server. Naglalaan tayo ng mga dashboard na magagamit ng mga admin sa pagsubaybay sa kanilang mga server."}),"\n",(0,g.jsx)(n.h2,{id:"pagtakbo-sa-prometheus-server",children:"Pagtakbo sa Prometheus server"}),"\n",(0,g.jsxs)(n.p,{children:["Ang pinakamahusay na dokumentasyon para sa pagpapatakbo ng salansan ng pagsubaybay (Prometheus + Gramana) nasa Prometheus",(0,g.jsx)(n.a,{href:"https://github.com/ERDDAP/erddap/blob/main/docker/prometheus/README.md",children:"basahin"}),"."]}),"\n",(0,g.jsx)(n.h2,{id:"erddapmetriko",children:"ERDDAP\u2122metriko"}),"\n",(0,g.jsx)(n.h3,{id:"jvm",children:"JVM"}),"\n",(0,g.jsxs)(n.p,{children:["ERDDAP\u2122Magluwas ng maraming metriko na maaaring masumpungan mong kapaki - pakinabang (pasimula saERDDAP\u21222.25) . Para sa pangkalahatang pagsubaybay sa kalusugan ng JVM ginagamit natin ang mga metrikong tinipon ng kliyenteng Prometheus. Kabilang dito ang mga datos tungkol sa pangongolekta ng basura, paggamit ng memorya, mga sinulid, at higit pa. Para sa higit pang impormasyon tingnan ang",(0,g.jsx)(n.a,{href:"https://prometheus.github.io/client_java/instrumentation/jvm/",children:"PrometheusJavaClient JVM dokuments"}),"."]}),"\n",(0,g.jsx)(n.h3,{id:"erddapespesipiko",children:"ERDDAP\u2122espesipiko"}),"\n",(0,g.jsxs)(n.p,{children:["Iniluluwas din namin ang ilang bansaERDDAP\u2122espesipikong mga metriko (pasimula saERDDAP\u21222.26) . Kung nais mong saliksikin ang kodigo, masusumpungan mo ang mga metriko na natipon",(0,g.jsx)(n.a,{href:"https://github.com/ERDDAP/erddap/blob/main/WEB-INF/classes/gov/noaa/pfel/erddap/util/Metrics.java",children:"Mertrics.java"}),"."]}),"\n",(0,g.jsx)(n.h4,{id:"erddap_magtayo-ng_info",children:"ERDDAP_Magtayo ng_info"}),"\n",(0,g.jsx)(n.p,{children:"Ito ang info sa pagtatayo para saERDDAP\u2122server. Kasama rito ang bersyon (Malaki.minor) , bersyon_full (Pangunahin.minor.patch) , at ang paglalagay ng_info (na ginagamit upang ipakita kung paano ginagamit ang server, gaya ng 'Docker ') ."}),"\n",(0,g.jsx)(n.h4,{id:"tampok-na-mga_flag",children:"tampok na mga_flag"}),"\n",(0,g.jsx)(n.p,{children:"Ito ay isang metric na info na nagpapakita ng kasalukuyang estado ng tampok na mga bandila. Ang karamihan sa mga mapagpipiliang pagsasaayos ng buto ay itinuturing na tampok na mga bandila."}),"\n",(0,g.jsx)(n.h4,{id:"hinango-larawan",children:"Hinango Larawan"}),"\n",(0,g.jsx)(n.p,{children:"Ito ay isang metric na info na nagpapakita kung mayroon bang graphics spark."}),"\n",(0,g.jsx)(n.h4,{id:"http_magtanong_duriation_seconds",children:"http_Magtanong_duriation_seconds"}),"\n",(0,g.jsx)(n.p,{children:"Ito ay isang hitogram ng tugong request sa loob ng mga segundo. Ang mga etiketa ay humihiling ng_type (halimbawa ng griddap,tabledap, files, wms) , dataset_id (Kung angkop, ulitin ang uri ng hinihiling) , talaksan_type (anyo ng output para sa kahilingan e.g. '.html', '.csv', '.iso19115 ') , Bang_code (wika para sa kahilingan, o walang laman na string kung default) , kalagayan_code (httpstatus code ng request e.g. 200, 302, 404) ."}),"\n",(0,g.jsx)(n.p,{children:"Ito ay maaaring gamitin upang matunton ang mga kahilingan ng dataset id upang malaman ang mga popular na dataset ng server. Makatutulong din na malaman kung may partikular na mga uri ng kahilingan na mabagal sa iyong server."}),"\n",(0,g.jsx)(n.h4,{id:"touch_thread_duriation_seconds",children:"touch_thread_duriation_seconds"}),"\n",(0,g.jsx)(n.p,{children:"Ang isang hestogram ng touch sinulid na gawain ay tumatagal. Ang mga ito ay tinatawag na matagumpay (tunay/mali) ."}),"\n",(0,g.jsx)(n.h4,{id:"gawain_thread_duration_pangalawa",children:"gawain_thread_duration_pangalawa"}),"\n",(0,g.jsx)(n.p,{children:"Isang hestogram na sinulid ang tumatagal. Ang mga ito ay tinatawag na matagumpay (tunay/mali) at gawain_type (integer) ."}),"\n",(0,g.jsx)(n.h4,{id:"karga_datasets_duration_seconds",children:"karga_datasets_duration_seconds"}),"\n",(0,g.jsx)(n.p,{children:"Isang histagram ng tagal para sa pagkarga ng mga gawaing dataset. Ang mga ito ay tinatagurian ng major (tunay/mali) ."}),"\n",(0,g.jsx)(n.h4,{id:"mga-postmail_thread_duriation_seconds",children:"Mga postmail_thread_duriation_seconds"}),"\n",(0,g.jsx)(n.p,{children:"Natagalan ang isang stagram ng gawaing email sinulid. Ang mga ito ay tinatawag na matagumpay (tunay/mali) ."}),"\n",(0,g.jsx)(n.h4,{id:"ibinibilang-ang-mail_untrasyon",children:"Ibinibilang ang mail_untrasyon"}),"\n",(0,g.jsx)(n.p,{children:"Isang histagram ng mga email bawat gawain."}),"\n",(0,g.jsx)(n.h4,{id:"datos_bilang",children:"datos_bilang"}),"\n",(0,g.jsx)(n.p,{children:"Isang gauge ng datasets, na itinakda pagkatapos ng bawat load datasets call. Ito ay tinatagurian ng kategorya (Pidyo, mesa) ."}),"\n",(0,g.jsx)(n.h4,{id:"datos_failed_load_count",children:"datos_failed_load_count"}),"\n",(0,g.jsx)(n.p,{children:"Isang gauge ng datasets na hindi nakapagkarga, na itinakda pagkatapos ng bawat kargang datasets call."}),"\n",(0,g.jsx)(n.h4,{id:"na-mga_requests_deady",children:"na mga_requests_deady"}),"\n",(0,g.jsx)(n.p,{children:"Labag sa mga kahilingan. Ang server ay mag - aalis ng kahilingan kapag ito ay naniniwala na ang server ay mababa sa memorya (RAM) at ang kahilingan ay magdudulot ng mga problema. Hindi kabilang dito ang mga kahilingan na ang pagkakamaling iyon ay dahil sa mababang RAM o disk space sa panahon ng paghawak ng kahilingan."}),"\n",(0,g.jsx)(n.h4,{id:"mapanganib-na_memory_emails_subject",children:"Mapanganib na_memory_emails_Subject"}),"\n",(0,g.jsx)(n.p,{children:"Kontra ng mga beses sinusubukan ng server na magpadala ng email sa admin na ang memorya ay mapanganib na mababa."}),"\n",(0,g.jsx)(n.h4,{id:"mapanganib-na_memory_failures_subject",children:"Mapanganib na_memory_failures_Subject"}),"\n",(0,g.jsx)(n.p,{children:"Kontra ng mga kahilingan na nabigo dahil sa makina na nauubos sa memorya. Kadalasan ito'y dahil sa ang makina ay tumatanggap ng maraming mamahaling kahilingan o ang kahilingan ng indibiduwal ay napakalaki."}),"\n",(0,g.jsx)(n.h4,{id:"topo_request_sential",children:"topo_request_Sential"}),"\n",(0,g.jsx)(n.p,{children:"Kontra ng mga kahilingan para sa data ng topo. Ito ay may tatak na cache (Hinango/hindi_cached) ."}),"\n",(0,g.jsx)(n.h4,{id:"mga-kontra-sa-hangganan",children:"Mga Kontra sa Hangganan"}),"\n",(0,g.jsx)(n.p,{children:"Mayroon ding koleksiyon ng mga kontrasyo para sa mga kahilingan para sa mga hangganan:"}),"\n",(0,g.jsxs)(n.ul,{children:["\n",(0,g.jsx)(n.li,{children:"Pambansang_Alvaries_request_Sentrequest"}),"\n",(0,g.jsx)(n.li,{children:"state_untries_request_diverse"}),"\n",(0,g.jsx)(n.li,{children:"Ilog_Lakas_Republies_request_Sential"}),"\n",(0,g.jsx)(n.li,{children:"gshhs_request_fix"}),"\n"]}),"\n",(0,g.jsx)(n.p,{children:"Ang mga ito ay tinatagurian ng katayuan (magaspang, tagumpay, hagis) ."})]})}function m(a={}){const{wrapper:n}={...(0,s.R)(),...a.components};return n?(0,g.jsx)(n,{...a,children:(0,g.jsx)(l,{...a})}):l(a)}}}]);