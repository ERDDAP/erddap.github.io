"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[3998],{28453:(e,t,a)=>{a.d(t,{R:()=>i,x:()=>n});var s=a(96540);const l={},r=s.createContext(l);function i(e){const t=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function n(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),s.createElement(r.Provider,{value:t},e.children)}},69753:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>n,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"server-admin/prometheus","title":"Prometheus","description":"Prometheus metrik\xe1krendelkez\xe9sre \xe1llnak /erddap / metrikus. A JVM alapm\xe9r\u0151it 2,25-ben adt\xe1k hozz\xe1, sokERDDAP\u2122a 2.26-os verzi\xf3ban hozz\xe1adott metrik\xe1k. Ha a metrikusokat szeretn\xe9 haszn\xe1lni, gy\u0151z\u0151dj\xf6n meg r\xf3la, hogy legal\xe1bb 2.26 verzi\xf3ban van. Alap\xe9rtelmezettek, hogy lehet\u0151v\xe9 tegy\xe9k, tilthatj\xe1tok \u0151ket azzal, hogy hozz\xe1adj\xe1tok \u0151ket.","source":"@site/i18n/hu/docusaurus-plugin-content-docs/current/server-admin/prometheus.md","sourceDirName":"server-admin","slug":"/server-admin/prometheus","permalink":"/hu/docs/server-admin/prometheus","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/prometheus.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9},"sidebar":"docSidebar","previous":{"title":"Helyi Metadata","permalink":"/hu/docs/server-admin/localized-metadata"},"next":{"title":"Contributing","permalink":"/hu/docs/category/contributing"}}');var l=a(74848),r=a(28453);const i={sidebar_position:9},n="Prometheus",d={},o=[{value:"Fut\xe1s Prometheus szerver",id:"fut\xe1s-prometheus-szerver",level:2},{value:"ERDDAP\u2122metrik\xe1k",id:"erddapmetrik\xe1k",level:2},{value:"JVM",id:"jvm",level:3},{value:"ERDDAP\u2122specifikus",id:"erddapspecifikus",level:3},{value:"ERDDAP_build_info",id:"erddap_build_info",level:4},{value:"funkci\xf3_ z\xe1szl\xf3k",id:"funkci\xf3_-z\xe1szl\xf3k",level:4},{value:"puffadt K\xe9pek",id:"puffadt-k\xe9pek",level:4},{value:"http_request_duration_ m\xe1sodpercek",id:"http_request_duration_-m\xe1sodpercek",level:4},{value:"touch_thread_duration_ m\xe1sodpercek",id:"touch_thread_duration_-m\xe1sodpercek",level:4},{value:"feladat_thread_duration_ m\xe1sodpercek",id:"feladat_thread_duration_-m\xe1sodpercek",level:4},{value:"load_datasets_duration_seconds",id:"load_datasets_duration_seconds",level:4},{value:"e-mail_thread_duration_seconds",id:"e-mail_thread_duration_seconds",level:4},{value:"e-mail_count_distribution",id:"e-mail_count_distribution",level:4},{value:"adatset_count",id:"adatset_count",level:4},{value:"adatset_failed_load_count",id:"adatset_failed_load_count",level:4},{value:"Shed_requests_total",id:"shed_requests_total",level:4},{value:"vesz\xe9lyes_memory_emails_total",id:"vesz\xe9lyes_memory_emails_total",level:4},{value:"vesz\xe9lyes_memory_failures_total",id:"vesz\xe9lyes_memory_failures_total",level:4},{value:"topo_request_total",id:"topo_request_total",level:4},{value:"hat\xe1rsz\xe1ml\xe1l\xf3k",id:"hat\xe1rsz\xe1ml\xe1l\xf3k",level:4}];function m(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.header,{children:(0,l.jsx)(t.h1,{id:"prometheus",children:"Prometheus"})}),"\n",(0,l.jsxs)(t.p,{children:[(0,l.jsx)(t.a,{href:"https://prometheus.io/",children:"Prometheus metrik\xe1k"}),"rendelkez\xe9sre \xe1llnak /erddap / metrikus. A JVM alapm\xe9r\u0151it 2,25-ben adt\xe1k hozz\xe1, sokERDDAP\u2122a 2.26-os verzi\xf3ban hozz\xe1adott metrik\xe1k. Ha a metrikusokat szeretn\xe9 haszn\xe1lni, gy\u0151z\u0151dj\xf6n meg r\xf3la, hogy legal\xe1bb 2.26 verzi\xf3ban van. Alap\xe9rtelmezettek, hogy lehet\u0151v\xe9 tegy\xe9k, tilthatj\xe1tok \u0151ket azzal, hogy hozz\xe1adj\xe1tok \u0151ket."]}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-xml",children:"<usePrometheusMetrics>false</usePrometheusMetrics>\n"})}),"\n",(0,l.jsx)(t.p,{children:"a setup.xml."}),"\n",(0,l.jsx)(t.p,{children:"Ezeket a metrik\xe1kat \xfagy tervezt\xe9k, hogy g\xe9ppel olvashat\xf3k legyenek. B\xe1r manu\xe1lisan ellen\u0151rizheti a metrikus oldalt, a m\xe9lys\xe9g ellen\u0151rz\xe9se \xe9rdek\xe9ben aj\xe1nlott egy Prometheus szerver haszn\xe1lat\xe1ra. A Prometheus szerver t\xf6rt\xe9nelmi metrik\xe1kat t\xe1rol, amelyek lehet\u0151v\xe9 teszik a m\xe9lys\xe9g ellen\u0151rz\xe9s\xe9t (mint az \xe1rak \xe9s a m\xfaltbeli \xe9rt\xe9kek v\xe1ltoz\xe1sai) \xc9s gyakran fut egy Grafana szerverrel. Biztos\xedtunk n\xe9h\xe1ny el\u0151\xe9p\xedtett dashboardokat, amelyek az adminok hasznosak lehetnek a szervereik megkezd\xe9s\xe9hez."}),"\n",(0,l.jsx)(t.h2,{id:"fut\xe1s-prometheus-szerver",children:"Fut\xe1s Prometheus szerver"}),"\n",(0,l.jsxs)(t.p,{children:["A legjobb dokument\xe1ci\xf3 a monitoring csomag m\u0171k\xf6dtet\xe9s\xe9hez (Prometheus + Grafana) a Prometheusban van",(0,l.jsx)(t.a,{href:"https://github.com/ERDDAP/erddap/blob/main/docker/prometheus/README.md",children:"olvas\xf3"}),"..."]}),"\n",(0,l.jsx)(t.h2,{id:"erddapmetrik\xe1k",children:"ERDDAP\u2122metrik\xe1k"}),"\n",(0,l.jsx)(t.h3,{id:"jvm",children:"JVM"}),"\n",(0,l.jsxs)(t.p,{children:["ERDDAP\u2122sz\xe1mos metrik\xe1t export\xe1l, amelyeket hasznosnak tal\xe1lhat (Kezd\u0151lapERDDAP\u21222.25) ... A JVM eg\xe9szs\xe9g\xe9nek \xe1ltal\xe1nos figyelemmel k\xeds\xe9r\xe9s\xe9re a Prometheus \xfcgyf\xe9l \xe1ltal gy\u0171jt\xf6tt metrik\xe1kat haszn\xe1ljuk. Ez mag\xe1ban foglalja a szem\xe9tgy\u0171jt\xe9sr\u0151l, a mem\xf3riafelhaszn\xe1l\xe1sr\xf3l, a sz\xe1lakr\xf3l \xe9s m\xe9g t\xf6bbet. Tov\xe1bbi inform\xe1ci\xf3k\xe9rt l\xe1sd:",(0,l.jsx)(t.a,{href:"https://prometheus.github.io/client_java/instrumentation/jvm/",children:"PrometheusJava\xdcgyf\xe9l JVM dokument\xe1ci\xf3"}),"..."]}),"\n",(0,l.jsx)(t.h3,{id:"erddapspecifikus",children:"ERDDAP\u2122specifikus"}),"\n",(0,l.jsxs)(t.p,{children:["T\xf6bbet is export\xe1lunkERDDAP\u2122konkr\xe9t metrik\xe1k (Kezd\u0151lapERDDAP\u21222.26) ... Ha bele akarsz \xe1sni a k\xf3dba, megtal\xe1lhatod a begy\u0171jt\xf6tt metrik\xe1kat",(0,l.jsx)(t.a,{href:"https://github.com/ERDDAP/erddap/blob/main/WEB-INF/classes/gov/noaa/pfel/erddap/util/Metrics.java",children:"Metrics.java"}),"..."]}),"\n",(0,l.jsx)(t.h4,{id:"erddap_build_info",children:"ERDDAP_build_info"}),"\n",(0,l.jsx)(t.p,{children:'Ez az \xe9p\xedt\xe9si inform\xe1ci\xf3 aERDDAP\u2122szerver. Tartalmazza a verzi\xf3t (f\u0151.minor) , verzi\xf3_full (f\u0151.minor.patch) , \xe9s telep\xedt\xe9s_info (jelzi, hogy a szerver hogyan telep\xedtve van, mint a "Docker" "...") ...'}),"\n",(0,l.jsx)(t.h4,{id:"funkci\xf3_-z\xe1szl\xf3k",children:"funkci\xf3_ z\xe1szl\xf3k"}),"\n",(0,l.jsx)(t.p,{children:"Ez egy inform\xe1ci\xf3s metrika, amely megmutatja a jelenlegi jellemz\u0151 z\xe1szl\xf3k \xe1llapot\xe1t. A legt\xf6bb boolean konfigur\xe1ci\xf3s lehet\u0151s\xe9g jellemz\u0151 z\xe1szl\xf3nak tekinthet\u0151."}),"\n",(0,l.jsx)(t.h4,{id:"puffadt-k\xe9pek",children:"puffadt K\xe9pek"}),"\n",(0,l.jsx)(t.p,{children:"Ez egy inform\xe1ci\xf3s metrika, amely azt jelzi, hogy a grafikai gyorsul\xe1s el\xe9rhet\u0151-e."}),"\n",(0,l.jsx)(t.h4,{id:"http_request_duration_-m\xe1sodpercek",children:"http_request_duration_ m\xe1sodpercek"}),"\n",(0,l.jsx)(t.p,{children:'Ez egy titokzatos k\xe9relemre v\xe1laszid\u0151 m\xe1sodpercekben. A c\xedmk\xe9k k\xe9relem_t\xedpus (p\xe9ld\xe1ul griddap,tabledap, f\xe1jlok, wms) , adatset_id (ha alkalmazhat\xf3, egy\xe9bk\xe9nt megism\xe9tli a k\xe9relem t\xedpus\xe1t) , f\xe1jl_t\xedpus (kimeneti form\xe1tum k\xe9r\xe9sre pl. ".html", ".csv", ".iso19115 "...") , lang_code (nyelv a k\xe9r\xe9sre, vagy \xfcres sztring, ha az alap\xe9rtelmezett) status_code (httpa k\xe9relem \xe1llapotk\xf3dja, p\xe9ld\xe1ul 200, 302, 404) ...'}),"\n",(0,l.jsx)(t.p,{children:"Ez felhaszn\xe1lhat\xf3 a k\xe9relmek nyomon k\xf6vet\xe9s\xe9re az adatk\xe9szlet seg\xedts\xe9g\xe9vel, hogy meghat\xe1rozza a szerver n\xe9pszer\u0171 adatk\xe9szleteit. Seg\xedthet azonos\xedtani, hogy vannak-e olyan k\xe9r\xe9sek, amelyek lass\xfaak a szerveren."}),"\n",(0,l.jsx)(t.h4,{id:"touch_thread_duration_-m\xe1sodpercek",children:"touch_thread_duration_ m\xe1sodpercek"}),"\n",(0,l.jsx)(t.p,{children:"A mytogram \xe9rint\u0151k\xe9perny\u0151s feladat id\u0151tartama. \u0150k c\xedmk\xe9zve sikerrel (Igazi / hamis) ..."}),"\n",(0,l.jsx)(t.h4,{id:"feladat_thread_duration_-m\xe1sodpercek",children:"feladat_thread_duration_ m\xe1sodpercek"}),"\n",(0,l.jsx)(t.p,{children:"A feladatmeneti sz\xe1l id\u0151tartama. \u0150k c\xedmk\xe9zve sikerrel (Igazi / hamis) feladat_t\xedpus (Intetger) ..."}),"\n",(0,l.jsx)(t.h4,{id:"load_datasets_duration_seconds",children:"load_datasets_duration_seconds"}),"\n",(0,l.jsx)(t.p,{children:"A mytogram id\u0151tartama a terhel\xe9s adatk\xe9szlet feladatok. \u0150k c\xedmk\xe9zve nagy (Igazi / hamis) ..."}),"\n",(0,l.jsx)(t.h4,{id:"e-mail_thread_duration_seconds",children:"e-mail_thread_duration_seconds"}),"\n",(0,l.jsx)(t.p,{children:"Az e-mail sz\xe1las feladat id\u0151tartama. \u0150k c\xedmk\xe9zve sikerrel (Igazi / hamis) ..."}),"\n",(0,l.jsx)(t.h4,{id:"e-mail_count_distribution",children:"e-mail_count_distribution"}),"\n",(0,l.jsx)(t.p,{children:"A mytogram e-mailek feladatonk\xe9nt."}),"\n",(0,l.jsx)(t.h4,{id:"adatset_count",children:"adatset_count"}),"\n",(0,l.jsx)(t.p,{children:"Az adatk\xe9szletek fel\xfcgyelete, amelyet minden egyes terhel\xe9si adatk\xe9szlet h\xedv. Ez kateg\xf3ria c\xedmk\xe9z\xe9se (h\xe1l\xf3, asztal) ..."}),"\n",(0,l.jsx)(t.h4,{id:"adatset_failed_load_count",children:"adatset_failed_load_count"}),"\n",(0,l.jsx)(t.p,{children:"Az adatk\xe9szletek egy m\xe9r\u0151eszk\xf6ze, amely nem tudta bet\xf6lteni, amelyet minden egyes terhel\xe9si adatk\xe9szlet h\xedv."}),"\n",(0,l.jsx)(t.h4,{id:"shed_requests_total",children:"Shed_requests_total"}),"\n",(0,l.jsx)(t.p,{children:"Azok a k\xe9r\xe9sek, amelyek lefek\xfcdtek. A kiszolg\xe1l\xf3 felveszi a k\xe9r\xe9st, amikor \xfagy v\xe9li, hogy a szerver alacsony a mem\xf3ri\xe1n (RAM) \xe9s a k\xe9r\xe9s probl\xe9m\xe1kat okozna. Ez nem tartalmaz olyan k\xe9r\xe9seket, amelyek az alacsony RAM vagy a lemezter\xfclet miatti hiba a k\xe9relem kezel\xe9se sor\xe1n."}),"\n",(0,l.jsx)(t.h4,{id:"vesz\xe9lyes_memory_emails_total",children:"vesz\xe9lyes_memory_emails_total"}),"\n",(0,l.jsx)(t.p,{children:"Id\u0151nk\xe9nt a szerver megpr\xf3b\xe1l e-mailt k\xfcldeni az adminisztr\xe1ci\xf3nak, hogy az eml\xe9k vesz\xe9lyesen alacsony."}),"\n",(0,l.jsx)(t.h4,{id:"vesz\xe9lyes_memory_failures_total",children:"vesz\xe9lyes_memory_failures_total"}),"\n",(0,l.jsx)(t.p,{children:"Azok a k\xe9r\xe9sek, amelyek kudarcot vallottak a g\xe9p miatt, ami a mem\xf3ri\xe1b\xf3l indult. Gyakran ez az\xe9rt van, mert a g\xe9p sok dr\xe1ga k\xe9r\xe9st kap, vagy az egy\xe9ni k\xe9r\xe9s rendk\xedv\xfcl nagy volt."}),"\n",(0,l.jsx)(t.h4,{id:"topo_request_total",children:"topo_request_total"}),"\n",(0,l.jsx)(t.p,{children:"A topo adatok ir\xe1nti k\xe9relmek sz\xe1ml\xe1ja. Ez a c\xedmk\xe9zett cache (cached/not_cached) ..."}),"\n",(0,l.jsx)(t.h4,{id:"hat\xe1rsz\xe1ml\xe1l\xf3k",children:"hat\xe1rsz\xe1ml\xe1l\xf3k"}),"\n",(0,l.jsx)(t.p,{children:"Van egy gy\u0171jtem\xe9ny a hat\xe1rok k\xe9r\xe9s\xe9re:"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"nacional_boundaries_request_total"}),"\n",(0,l.jsx)(t.li,{children:"State_boundaries_request_total"}),"\n",(0,l.jsx)(t.li,{children:"dalsz\xf6veg: Rock_boundaries_request_total"}),"\n",(0,l.jsx)(t.li,{children:"gshhs_request_total"}),"\n"]}),"\n",(0,l.jsx)(t.p,{children:"Ezek statusszal vannak c\xedmk\xe9zve (coarse, siker, megsz\xe1llott) ..."})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(m,{...e})}):m(e)}}}]);