<!doctype html>
<html lang="nb" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-server-admin/datasets" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Arbeide med datasets.xml Fil | ERDDAP™ Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://erddap.github.io/nb/img/noaa_simple.gif"><meta data-rh="true" name="twitter:image" content="https://erddap.github.io/nb/img/noaa_simple.gif"><meta data-rh="true" property="og:url" content="https://erddap.github.io/nb/docs/server-admin/datasets"><meta data-rh="true" property="og:locale" content="nb"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="bn"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" property="og:locale:alternate" content="zt"><meta data-rh="true" property="og:locale:alternate" content="cs"><meta data-rh="true" property="og:locale:alternate" content="da"><meta data-rh="true" property="og:locale:alternate" content="nl"><meta data-rh="true" property="og:locale:alternate" content="fi"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" property="og:locale:alternate" content="el"><meta data-rh="true" property="og:locale:alternate" content="hi"><meta data-rh="true" property="og:locale:alternate" content="hu"><meta data-rh="true" property="og:locale:alternate" content="id"><meta data-rh="true" property="og:locale:alternate" content="ga"><meta data-rh="true" property="og:locale:alternate" content="it"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" property="og:locale:alternate" content="ko"><meta data-rh="true" property="og:locale:alternate" content="pl"><meta data-rh="true" property="og:locale:alternate" content="pt"><meta data-rh="true" property="og:locale:alternate" content="ro"><meta data-rh="true" property="og:locale:alternate" content="ru"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="sv"><meta data-rh="true" property="og:locale:alternate" content="tl"><meta data-rh="true" property="og:locale:alternate" content="th"><meta data-rh="true" property="og:locale:alternate" content="tr"><meta data-rh="true" property="og:locale:alternate" content="uk"><meta data-rh="true" property="og:locale:alternate" content="ur"><meta data-rh="true" name="docusaurus_locale" content="nb"><meta data-rh="true" name="docsearch:language" content="nb"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Arbeide med datasets.xml Fil | ERDDAP™ Documentation"><meta data-rh="true" name="description" content="\\[ Denne nettsiden vil bare være av interesse for ERDDAP™ Administratorer. \\]"><meta data-rh="true" property="og:description" content="\\[ Denne nettsiden vil bare være av interesse for ERDDAP™ Administratorer. \\]"><link data-rh="true" rel="icon" href="/nb/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://erddap.github.io/nb/docs/server-admin/datasets"><link data-rh="true" rel="alternate" href="https://erddap.github.io/docs/server-admin/datasets" hreflang="en"><link data-rh="true" rel="alternate" href="https://erddap.github.io/bn/docs/server-admin/datasets" hreflang="bn"><link data-rh="true" rel="alternate" href="https://erddap.github.io/zh/docs/server-admin/datasets" hreflang="zh"><link data-rh="true" rel="alternate" href="https://erddap.github.io/zt/docs/server-admin/datasets" hreflang="zt"><link data-rh="true" rel="alternate" href="https://erddap.github.io/cs/docs/server-admin/datasets" hreflang="cs"><link data-rh="true" rel="alternate" href="https://erddap.github.io/da/docs/server-admin/datasets" hreflang="da"><link data-rh="true" rel="alternate" href="https://erddap.github.io/nl/docs/server-admin/datasets" hreflang="nl"><link data-rh="true" rel="alternate" href="https://erddap.github.io/fi/docs/server-admin/datasets" hreflang="fi"><link data-rh="true" rel="alternate" href="https://erddap.github.io/fr/docs/server-admin/datasets" hreflang="fr"><link data-rh="true" rel="alternate" href="https://erddap.github.io/de/docs/server-admin/datasets" hreflang="de"><link data-rh="true" rel="alternate" href="https://erddap.github.io/el/docs/server-admin/datasets" hreflang="el"><link data-rh="true" rel="alternate" href="https://erddap.github.io/hi/docs/server-admin/datasets" hreflang="hi"><link data-rh="true" rel="alternate" href="https://erddap.github.io/hu/docs/server-admin/datasets" hreflang="hu"><link data-rh="true" rel="alternate" href="https://erddap.github.io/id/docs/server-admin/datasets" hreflang="id"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ga/docs/server-admin/datasets" hreflang="ga"><link data-rh="true" rel="alternate" href="https://erddap.github.io/it/docs/server-admin/datasets" hreflang="it"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ja/docs/server-admin/datasets" hreflang="ja"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ko/docs/server-admin/datasets" hreflang="ko"><link data-rh="true" rel="alternate" href="https://erddap.github.io/nb/docs/server-admin/datasets" hreflang="nb"><link data-rh="true" rel="alternate" href="https://erddap.github.io/pl/docs/server-admin/datasets" hreflang="pl"><link data-rh="true" rel="alternate" href="https://erddap.github.io/pt/docs/server-admin/datasets" hreflang="pt"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ro/docs/server-admin/datasets" hreflang="ro"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ru/docs/server-admin/datasets" hreflang="ru"><link data-rh="true" rel="alternate" href="https://erddap.github.io/es/docs/server-admin/datasets" hreflang="es"><link data-rh="true" rel="alternate" href="https://erddap.github.io/sv/docs/server-admin/datasets" hreflang="sv"><link data-rh="true" rel="alternate" href="https://erddap.github.io/tl/docs/server-admin/datasets" hreflang="tl"><link data-rh="true" rel="alternate" href="https://erddap.github.io/th/docs/server-admin/datasets" hreflang="th"><link data-rh="true" rel="alternate" href="https://erddap.github.io/tr/docs/server-admin/datasets" hreflang="tr"><link data-rh="true" rel="alternate" href="https://erddap.github.io/uk/docs/server-admin/datasets" hreflang="uk"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ur/docs/server-admin/datasets" hreflang="ur"><link data-rh="true" rel="alternate" href="https://erddap.github.io/docs/server-admin/datasets" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Serveradministrasjon","item":"https://erddap.github.io/nb/docs/category/server-administration"},{"@type":"ListItem","position":2,"name":"Arbeide med datasets.xml Fil","item":"https://erddap.github.io/nb/docs/server-admin/datasets"}]}</script><link rel="stylesheet" href="/nb/assets/css/styles.c47a40ba.css">
<script src="/nb/assets/js/runtime~main.c3d43a2e.js" defer="defer"></script>
<script src="/nb/assets/js/main.02a2c387.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/nb/img/noaab.png"><div role="region" aria-label="Hopp til hovedinnhold"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Hopp til hovedinnhold</a></div><nav aria-label="Hoved" class="theme-layout-navbar navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="navigationsbar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/nb/"><div class="navbar__logo"><img src="/nb/img/noaab.png" alt="NOAAlogo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/nb/img/noaab.png" alt="NOAAlogo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">ERDDAP™</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Norsk bokmål</a><ul class="dropdown__menu"><li><a href="/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/bn/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="bn">বাংলা</a></li><li><a href="/zh/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">中文</a></li><li><a href="/zt/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zt">Zt</a></li><li><a href="/cs/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="cs">Čeština</a></li><li><a href="/da/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="da">Dansk</a></li><li><a href="/nl/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="nl">Nederlands</a></li><li><a href="/fi/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fi">Suomi</a></li><li><a href="/fr/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/de/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="/el/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="el">Ελληνικά</a></li><li><a href="/hi/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="hi">हिन्दी</a></li><li><a href="/hu/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="hu">Magyar</a></li><li><a href="/id/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="id">Indonesia</a></li><li><a href="/ga/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ga">Gaeilge</a></li><li><a href="/it/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="it">Italiano</a></li><li><a href="/ja/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/ko/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">한국어</a></li><li><a href="/nb/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="nb">Norsk bokmål</a></li><li><a href="/pl/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pl">Polski</a></li><li><a href="/pt/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Português</a></li><li><a href="/ro/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ro">Română</a></li><li><a href="/ru/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ru">Русский</a></li><li><a href="/es/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/sv/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="sv">Svenska</a></li><li><a href="/tl/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="tl">Filipino</a></li><li><a href="/th/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="th">ไทย</a></li><li><a href="/tr/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="tr">Türkçe</a></li><li><a href="/uk/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="uk">Українська</a></li><li><a href="/ur/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ur">اردو</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/nb/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/nb/governance">Governance</a><a class="navbar__item navbar__link" href="/nb/cloud">Sky</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Søk" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/erddap/erddap" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(Åpner i ny fane)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS darkNavbarColorModeToggle_X3D1" type="button" disabled="" title="systemmodus" aria-label="Bytt mellom mørk og lys modus (for tidensystemmodus)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Rull tilbake til toppen" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidepanel" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/nb/docs/intro"><span title="Dokumentasjon Intro" class="linkLabel_WmDU">Dokumentasjon Intro</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/nb/docs/category/server-administration"><span title="Serveradministrasjon" class="categoryLinkLabel_W154">Serveradministrasjon</span></a><button aria-label="Collap sidepanel kategori &quot;Serveradministrasjon&quot;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/nb/docs/category/admin-tips"><span title="Admin Tips" class="categoryLinkLabel_W154">Admin Tips</span></a><button aria-label="Utvid sidestolpekategori &quot;Admin Tips&quot;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nb/docs/server-admin/deploy-install"><span title="Installer" class="linkLabel_WmDU">Installer</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nb/docs/server-admin/deploy-update"><span title="Oppdater" class="linkLabel_WmDU">Oppdater</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/nb/docs/server-admin/datasets"><span title="Arbeide med datasets.xml Fil" class="linkLabel_WmDU">Arbeide med datasets.xml Fil</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nb/docs/server-admin/additional-information"><span title="Tilleggsinformasjon" class="linkLabel_WmDU">Tilleggsinformasjon</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nb/docs/server-admin/scaling"><span title="Skalering" class="linkLabel_WmDU">Skalering</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nb/docs/server-admin/EDDTableFromEML"><span title="EDDTableFromEML" class="linkLabel_WmDU">EDDTableFromEML</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nb/docs/server-admin/display-info"><span title="skjerm Info og skjermAttribute Tags" class="linkLabel_WmDU">skjerm Info og skjermAttribute Tags</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nb/docs/server-admin/localized-metadata"><span title="Lokaliserte metadata" class="linkLabel_WmDU">Lokaliserte metadata</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nb/docs/server-admin/prometheus"><span title="Prometheus" class="linkLabel_WmDU">Prometheus</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nb/docs/server-admin/feature-flags"><span title="Funksjonsflagg" class="linkLabel_WmDU">Funksjonsflagg</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nb/docs/server-admin/mqtt-integration"><span title="ERDDAP MQTT-integrasjon" class="linkLabel_WmDU">ERDDAP MQTT-integrasjon</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/nb/docs/category/contributing"><span title="Bidrag" class="categoryLinkLabel_W154">Bidrag</span></a><button aria-label="Utvid sidestolpekategori &quot;Bidrag&quot;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/nb/docs/dokka"><span title="Datasett skriptkodedokumentasjon" class="categoryLinkLabel_W154">Datasett skriptkodedokumentasjon</span></a><button aria-label="Utvid sidestolpekategori &quot;Datasett skriptkodedokumentasjon&quot;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/nb/docs/category/user"><span title="Bruker" class="categoryLinkLabel_W154">Bruker</span></a><button aria-label="Utvid sidestolpekategori &quot;Bruker&quot;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Hjemmeside" class="breadcrumbs__link" href="/nb/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/nb/docs/category/server-administration"><span>Serveradministrasjon</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Arbeide med datasets.xml Fil</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">På denne siden</button></div><div class="theme-doc-markdown markdown"><header><h1>Arbeide med datasets.xml Fil</h1></header>
<p>\[ Denne nettsiden vil bare være av interesse for ERDDAP™ Administratorer. \]</p>
<p>Etter at du har fulgt ERDDAP™   <a class="" href="/nb/docs/server-admin/deploy-install">installasjonsinstruksjoner</a> Du må redigere datasets.xml fil i <em>tomcat</em> /innhold/erddap/ å beskrive datasettene dine ERDDAP™ installasjon vil tjene.</p>
<p>Du kan se et eksempel <a href="https://github.com/ERDDAP/erddap/blob/main/development/jetty/config/datasets.xml" target="_blank" rel="noopener noreferrer" class=""> datasets.xml på GitHub</a> ..</p>
<ul>
<li class="">
<ul>
<li class=""></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="introduction"><a href="#introduction" class="">Introduksjon</a><a href="#introduction" class="hash-link" aria-label="Direkte lenke tilintroduction" title="Direkte lenke tilintroduction" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="some-assembly-required">En samling kreves<a href="#some-assembly-required" class="hash-link" aria-label="Direkte lenke tilEn samling kreves" title="Direkte lenke tilEn samling kreves" translate="no">​</a></h3>
<p>Sette opp et datasett i ERDDAP™ er ikke bare et spørsmål om å peke på datasettets katalog eller URL. Du må skrive en bit XML for datasets.xml som beskriver datasettet.</p>
<ul>
<li class="">For nettbaserte datasett, for å gjøre datasettet i samsvar med ERDDAP Datastrukturen for rutenettede data, må du identifisere en undergruppe av datasettets variabler som deler de samme dimensjonene. ( <a href="#why-just-two-basic-data-structures" class="">Hvorfor?</a>   <a href="#dimensions" class="">Hvordan?</a> )</li>
<li class="">Datasettets nåværende metadata importeres automatisk. Men hvis du vil endre metadata eller legge til andre metadata, må du angi det i datasets.xml .. Og ERDDAP™ trenger andre metadata, inkludert <a href="#global-attributes" class="">globale attributter</a>   (som infoUrl , institusjon, sourceUrl , sammendrag og tittel) og <a href="#variable-addattributes" class="">variabele attributter</a>   (som long\_name og enheter) .. Akkurat som metadataene som er i datasettet legger til beskrivende informasjon til datasettet, spør metadataene fra ERDDAP™ Legg til beskrivende informasjon til datasettet. De ekstra metadataene er et godt tillegg til datasettet og hjelper ERDDAP™ Gjør en bedre jobb med å presentere dataene dine til brukere som ikke er kjent med det.</li>
<li class="">ERDDAP™ trenger å gjøre spesielle ting med <a href="#destinationname" class="">lengdegrad, breddegrad, høyde (eller dybde) , og tidsvariabler</a> ..</li>
</ul>
<p>Hvis du kjøper i disse ideene og bruker innsatsen på å opprette XML for datasets.xml Du får alle fordelene med ERDDAP™ , inkludert:</p>
<ul>
<li class="">Søk etter datasett i fulltekst</li>
<li class="">Søk etter datasett etter kategori</li>
<li class="">Datatilgangsskjemaer ( * datasetID * .html) slik at du kan be om en undergruppe av data i mange forskjellige filformater</li>
<li class="">Skjema for å be om grafer og kart ( * datasetID * .graph)</li>
<li class="">Web Map Service ( WMS ) for nettbaserte datasett</li>
<li class="">RESTful tilgang til dine data</li>
</ul>
<p>Gjøre datasets.xml legger stor vekt på de første datasettene, men <strong>Det blir lettere</strong> .. Etter det første datasettet kan du ofte gjenbruke mye av arbeidet ditt for det neste datasettet. Heldigvis, ERDDAP™ Kommer med to <a href="#tools" class="">Verktøy</a> for å hjelpe deg med å opprette XML for hvert datasett i datasets.xml ..
Hvis du sitter fast, se vår <a class="" href="/nb/docs/intro#support">Seksjon om å få ekstra støtte</a> ..</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="varaibles-in-datasetsxml">Variabler i datasets.xml<a href="#varaibles-in-datasetsxml" class="hash-link" aria-label="Direkte lenke tilVariabler i datasets.xml" title="Direkte lenke tilVariabler i datasets.xml" translate="no">​</a></h3>
<p>som ERDDAP™ versjon 2.29.0, datasets.xml er nå (Valgfritt) bearbeides av en <a href="https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringSubstitutor.html" target="_blank" rel="noopener noreferrer" class="">StringSubstitor</a> .. Dette har mange bruksområder inkludert å sette private verdier (som passord) bruk av miljøvariabler. Dette kan deaktiveres ved å innstilling av EnvParsing til falsk i setup.xml.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="data-provider-form">Dataleverandør Form<a href="#data-provider-form" class="hash-link" aria-label="Direkte lenke tilDataleverandør Form" title="Direkte lenke tilDataleverandør Form" translate="no">​</a></h3>
<p>Når en dataleverandør kommer til deg i håp om å legge til noen data i din ERDDAP , kan det være vanskelig og tidkrevende å samle alle metadata (Informasjon om datasettet) nødvendig å legge til datasettet i ERDDAP .. Mange datakilder (for eksempel .csv-filer, Excel-filer, databaser) har ingen interne metadata, så ERDDAP™ har et dataleverandørskjema som samler metadata fra dataleverandøren og gir dataleverandøren annen veiledning, inkludert omfattende veiledning for <a href="https://coastwatch.pfeg.noaa.gov/erddap/dataProviderForm1.html#databases" target="_blank" rel="noopener noreferrer" class="">Data i databaser</a> .. De innsendte opplysningene konverteres til datasets.xml format og deretter e-post til ERDDAP™ administrator (du) og skrevet (Legg til) til <em>bigParentDirectory</em> /logs/dataProviderForm.log. Formen semi-automatiserer prosessen med å få et datasett i ERDDAP Men det ERDDAP™ administratoren må fortsatt fullføre datasets.xml bit og håndtere å få datafilen (s) fra leverandøren eller tilkobling til databasen.</p>
<p>Innlevering av faktiske datafiler fra eksterne kilder er en stor sikkerhetsrisiko, så ERDDAP™ tar seg ikke av det. Du må finne ut en løsning som fungerer for deg og dataleverandøren, for eksempel e-post (for små filer) Trekk fra skyen (For eksempel DropBox eller Google Drive) , en sftp nettsted (med passord) , eller sneaker Netto (en USB tommelfingerstasjon eller ekstern harddisk) .. Du bør sannsynligvis bare akseptere filer fra folk du kjenner. Du må skanne filene for virus og ta andre sikkerhetstiltak.</p>
<p>Det er ingen link i ERDDAP™ til dataleverandørskjemaet (For eksempel på ERDDAP™ hjemmeside) .. I stedet, når noen forteller deg at de ønsker å ha sine opplysninger servert av din ERDDAP Du kan sende dem en e-post som sier noe som:
Ja, vi kan få dine data inn i ERDDAP .. For å komme i gang, vennligst fyll ut skjemaet påhttps://<em>yourUrl</em>/erddap/dataProviderForm.html  (eller http:// hvis https:// er ikke aktivert) ..
Når du er ferdig, kontakter jeg deg for å finne ut de siste detaljene.
Hvis du bare vil se på skjemaet (Uten å fylle den ut) Du kan se skjemaet på ERD &#x27;s ERDDAP :) <a href="https://coastwatch.pfeg.noaa.gov/erddap/dataProviderForm.html" target="_blank" rel="noopener noreferrer" class="">Introduksjon</a> , <a href="https://coastwatch.pfeg.noaa.gov/erddap/dataProviderForm1.html" target="_blank" rel="noopener noreferrer" class="">Del 1</a> , <a href="https://coastwatch.pfeg.noaa.gov/erddap/dataProviderForm2.html" target="_blank" rel="noopener noreferrer" class="">Del 2</a> , <a href="https://coastwatch.pfeg.noaa.gov/erddap/dataProviderForm3.html" target="_blank" rel="noopener noreferrer" class="">Del 3</a> , og <a href="https://coastwatch.pfeg.noaa.gov/erddap/dataProviderForm4.html" target="_blank" rel="noopener noreferrer" class="">Del 4</a> .. Disse linkene på ERD   ERDDAP™ Send informasjon til meg, ikke deg, så ikke send informasjon med dem med mindre du faktisk vil legge til data til ERD   ERDDAP ..</p>
<p>Hvis du vil fjerne skjemaet for dataleverandør fra din ERDDAP™ , sette</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;dataProviderFormActive&gt;false&lt;/dataProviderFormActive&gt;  </span><br></span></code></pre></div></div>
<p>i config.xml-filen.</p>
<p>Fremdriften til dette var NOAA 2014 <a href="https://www.glerl.noaa.gov/review2016/reviewer_docs/NOAA_PARR_Plan_v5.04.pdf" target="_blank" rel="noopener noreferrer" class="">Offentlig tilgang til forskningsresultater (PARR) direktiv</a> som krever at alle NOAA miljødata som finansieres gjennom skattepliktige dollar gjøres tilgjengelig via en datatjeneste (ikke bare filer) innen 12 måneder etter opprettelsen. Det er økt interesse for bruk ERDDAP™ å gjøre datasett tilgjengelig via en tjeneste ASAP. Vi trengte en mer effektiv måte å håndtere et stort antall dataleverandører på.</p>
<p>Feedback/forslag? Dette skjemaet er nytt, så vennligst e-post erd dot data at noaa dot gov Hvis du har noen tilbakemeldinger eller forslag til forbedring av dette.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="tools">Verktøy<a href="#tools" class="hash-link" aria-label="Direkte lenke tilVerktøy" title="Direkte lenke tilVerktøy" translate="no">​</a></h3>
<p>ERDDAP™ kommer med to kommandolinjeprogrammer som er verktøy for å hjelpe deg å opprette XML for hvert datasett som du vil ha din ERDDAP™ å tjene. Når du har satt opp ERDDAP™ og kjøre den (minst en gang) Du kan finne og bruke disse programmene i <em>tomcat</em> /webapps/erddap/WEB-INF-katalog. Det er Linux/Unix skall skript (med utvidelsen .sh) Windows-skripter (med utvidelsen .bat) For hvert program. \[ På Linux, kjøre disse verktøyene som samme bruker (Tomcat?) Det vil kjøre Tomcat. \] Når du kjører hvert program, vil det stille deg spørsmål. For hvert spørsmål, skriv inn et svar, trykk deretter Enter. Eller trykk ^ C for å avslutte et program når som helst.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="program-wont-run">Programmet vil ikke løpe?<a href="#program-wont-run" class="hash-link" aria-label="Direkte lenke tilProgrammet vil ikke løpe?" title="Direkte lenke tilProgrammet vil ikke løpe?" translate="no">​</a></h4>
<ul>
<li class="">Hvis du får et ukjent program (eller lignende) feilmelding, problemet er sannsynligvis at operativsystemet ikke fant Java .. Du må finne ut hvor Java er på datamaskinen, og deretter redigere java referanse i .bat eller .sh-filen som du prøver å bruke.</li>
<li class="">Hvis du ikke har funnet eller ikke fant feilmelding i klassen, så Java klarte ikke å finne en av klassene som er oppført i .bat eller .sh-filen du prøver å bruke. Løsningen er å finne ut hvor den .jar filen er, og redigere java referanse til det i .bat eller .sh fil.</li>
<li class="">Hvis du bruker en versjon av Java som er for gammelt for et program, programmet vil ikke kjøre og du vil se en feilmelding som
Unntak i tråd &quot;main&quot; java.lang.U støttetClassVersionError:
<em>noen/klasse/navn</em> : Ustøttet major.minor versjon <em>noenNumber</em><br>
<!-- -->Løsningen er å oppdatere den siste versjonen av Java og sørg for at .sh eller .bat-filen for programmet bruker den.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-tools-print-various-diagnostic-messages">Verktøyene skriver ut ulike diagnostiske meldinger:<a href="#the-tools-print-various-diagnostic-messages" class="hash-link" aria-label="Direkte lenke tilVerktøyene skriver ut ulike diagnostiske meldinger:" title="Direkte lenke tilVerktøyene skriver ut ulike diagnostiske meldinger:" translate="no">​</a></h4>
<ul>
<li class="">Ordet &quot;Error&quot; brukes når noe gikk så galt at prosedyren ikke klarte å fullføre. Selv om det er irriterende å få en feil, tvinger feilen deg til å håndtere problemet.</li>
<li class="">Ordet «varning» brukes når noe gikk galt, men prosedyren var i stand til å bli fullført. De er ganske sjeldne.</li>
<li class="">Alt annet er bare en informativ melding. Du kan legge til --verbose til <a href="#generatedatasetsxml" class="">Generer DatasetsXml</a> eller <a href="#dasdds" class="">DasDds</a> kommandolinje for å få ytterligere informative meldinger, som noen ganger bidrar til å løse problemer.</li>
</ul>
<p>De to verktøyene er en stor hjelp, men du må fortsatt lese alle disse instruksjonene nøye på denne siden og ta viktige beslutninger selv.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="generatedatasetsxml">Generer DatasetsXml<a href="#generatedatasetsxml" class="hash-link" aria-label="Direkte lenke tilGenerer DatasetsXml" title="Direkte lenke tilGenerer DatasetsXml" translate="no">​</a></h3>
<ul>
<li class=""><strong>Generer DatasetsXml</strong> er et kommandolinjeprogram som kan generere et grovt utkast av datasett XML for nesten alle typer datasett.</li>
</ul>
<p>Vi STRONGLY REQUERER at du bruker Genererer Datasett Xml i stedet for å lage biter av datasets.xml For hånd fordi:</p>
<ul>
<li class="">Opprett datasett Xml fungerer i sekunder. Å gjøre dette for hånd er minst en times arbeid, selv når du vet hva du gjør.</li>
<li class="">Opprett datasett Xml gjør en bedre jobb. Å gjøre dette for hånd krever omfattende kunnskap om hvordan ERDDAP™ Fungerer. Det er usannsynlig at du vil gjøre en bedre jobb for hånd. (Bob Simons bruker alltid Genererer Datasett Xml for det første utkastet, og han skrev ERDDAP ..)</li>
<li class="">Opprett datasett Xml genererer alltid en gyldig del av datasets.xml .. Alle deler av datasets.xml du skriver vil sannsynligvis ha minst noen feil som hindrer ERDDAP™ fra å laste datasettet. Det tar ofte timer å diagnostisere disse problemene. Ikke kast bort tiden din. La generere Datasett Xml gjør hardt arbeid. Deretter kan du raffinere .xml for hånd hvis du vil.</li>
</ul>
<p>Når du bruker Genererer Datasett Xml-programmet:</p>
<ul>
<li class="">På Windows, første gang du kjører GenerererDatasetsXml, må du redigere GenerererDatasetsXml.bat-filen med en tekstredigeringseditor for å endre banen til java. exe-fil slik at Windows kan finne Java ..</li>
<li class="">Opprett datasett Xml ber deg først om å angi EDDType (Erd Dap Dataset Type) av datasettet. Se <a href="#list-of-types-datasets" class="">Liste over datasetttyper</a>   (i dette dokumentet) å finne ut hvilken type som passer for datasettet du jobber med. I tillegg til vanlige EDDTypes er det også noen få <a href="#specialpseudo-dataset-types" class="">Spesial/Pseudo Datasett Typer</a>   (f.eks. en som kryper en TREDDS-katalog for å generere en bit av datasets.xml for hvert datasett i katalogen) ..</li>
<li class="">Opprett datasett Xml stiller deg så en rekke spørsmål som er spesifikke for den EDDType. Spørsmålene samler informasjon som trengs for ERDDAP™ å få tilgang til datasettets kilde. For å forstå hva ERDDAP™ se dokumentasjonen for EDDType som du spesifiserte ved å klikke på den samme datasetttypen i <a href="#list-of-types-datasets" class="">Liste over datasetttyper</a> ..</li>
</ul>
<p>Hvis du må skrive inn en streng med spesielle tegn (For eksempel tomme tegn i begynnelsen eller slutten, ikke-ASCII tegn) Enter a <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer" class="">JSON-stil streng</a>   (med spesielle tegn rømt med \ tegn) .. For eksempel, for å skrive inn bare en fane tegn, skriv inn &quot;\t&quot; (med de omgivende doble sitatene, som forteller ERDDAP™ Dette er en JSON-stil-streng.</p>
<ul>
<li class="">Ofte vil et av dine svar ikke være det GenerererDatasetsXml trenger. Du kan deretter prøve igjen, med reviderte svar på spørsmålene, til CreateDatasetts Xml finner og forstår kildedataene.</li>
<li class="">Hvis du svarer på spørsmålene riktig (eller tilstrekkelig riktig) , Opprett datasett Xml vil koble til datasettets kilde og samle inn grunnleggende informasjon (For eksempel variable navn og metadata) ..
For datasett som er fra lokal NetCDF   .nc og relaterte filer, Genererer datasett Xml vil ofte skrive ut ncdump-lignende strukturen til filen etter at den først leser filen. Dette kan gi deg informasjon for å svare på spørsmålene bedre på en etterfølgende sløyfe gjennom GenerateDatasetsXml.</li>
<li class="">Opprett datasett Xml vil da generere et grovt utkast av datasett XML for det datasettet.</li>
<li class="">Diagnostisk informasjon og det grove utkastet til datasett XML vil bli skrevet til <em>bigParentDirectory</em> /logs/GreateDatasetsXml.log .</li>
<li class="">Det grove utkastet til datasett XML vil bli skrevet til <em>bigParentDirectory</em> /logs/GreateDatasetsXml.out .</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="0-files-error-message">&quot;0 filer&quot; Feilmelding<a href="#0-files-error-message" class="hash-link" aria-label="Direkte lenke til&quot;0 filer&quot; Feilmelding" title="Direkte lenke til&quot;0 filer&quot; Feilmelding" translate="no">​</a></h4>
<p>Hvis du kjører Genererer Datasett Xml eller <a href="#dasdds" class="">DasDds</a> , eller hvis du prøver å laste en EDDGrid Fra... Filer eller EDDTableFra... Filer datasett i ERDDAP™ , og du får en  &quot;0 filer&quot; feilmelding som indikerer at ERDDAP™ funnet 0 samsvarende filer i katalogen (når du tror det er samsvarende filer i den katalogen) :)</p>
<ul>
<li class="">
<p>Sjekk at du har angitt hele navnet på katalogen. Og hvis du oppgav prøvenavnet, sørg for at du spesifiserte filens fulle navn, inkludert hele katalognavnet.</p>
</li>
<li class="">
<p>Sjekk at filene virkelig er i den katalogen.</p>
</li>
<li class="">
<p>Kontroller stavingen av mappenavnet.</p>
</li>
<li class="">
<p>Sjekk filenNameRegex. Det er virkelig, veldig enkelt å gjøre feil med regulære. For testformål, prøv regulær .\* som bør matche alle filnavn. (Se dette <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">Regulatorisk dokumentasjon</a> og <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">Regular tutorial</a> ..)</p>
</li>
<li class="">
<p>Sjekk at brukeren som kjører programmet (For eksempel bruker=tomcat (?) for Tomcat/ ERDDAP ) Har &quot;lese&quot; tillatelse til disse filene.</p>
</li>
<li class="">
<p>I noen operativsystemer (For eksempel SELinux) og avhengig av systeminnstillinger, må brukeren som kjørte programmet ha &quot;lese&quot; tillatelse til hele kjede av mapper som fører til katalogen som har filene.</p>
</li>
<li class="">
<p>Hvis du har problemer som du ikke kan løse, <a class="" href="/nb/docs/intro#support">forespørselsstøtte</a> Med så mye informasjon som mulig. Hvis det ser ut som den riktige EDDType for et gitt datasett ikke fungerer med det datasettet, eller hvis det ikke er riktig EDDType, vennligst fil en <a href="https://github.com/ERDDAP/erddap/issues" target="_blank" rel="noopener noreferrer" class="">Spørsmål om GitHub</a> Med detaljene (og en prøvefil hvis det er relevant) ..
 </p>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="you-need-to-edit-the-output-from-generatedatasetsxml-to-make-it-better">Du må redigere utdata fra Genererer Datasett Xml for å gjøre det bedre.<a href="#you-need-to-edit-the-output-from-generatedatasetsxml-to-make-it-better" class="hash-link" aria-label="Direkte lenke tilDu må redigere utdata fra Genererer Datasett Xml for å gjøre det bedre." title="Direkte lenke tilDu må redigere utdata fra Genererer Datasett Xml for å gjøre det bedre." translate="no">​</a></h4>
<p> </p>
<ul>
<li class="">
<p>Disclaimer:
KUNKEN AV datasets.xml MADE BE GenerationDatasett Xml er ikke perfekt. Du må lese og eddit XML før du bruker den i en OFFENTLIG ERDDAP .. Opprett datasett Xml RELIES På mye av KORRECT. Du er ansvarlig for å sørge for at XML-verdiene som du legger til ERDDAP &#x27;S datasets.xml FIL.</p>
<p>(Fun Fakta: Jeg roper ikke. Av historiske juridiske grunner må fraskrivere være skrevet i alle caps.)</p>
</li>
</ul>
<p>Utgangen av GenerationDatasetsXml er et grovt utkast.
Du trenger nesten alltid å redigere den.
Vi har gjort og fortsetter å gjøre en enorm innsats for å gjøre produksjonen så klar til å gå som mulig, men det er grenser. Ofte er nødvendig informasjon ikke tilgjengelig fra kildemetadata.</p>
<p>Et viktig problem er at vi spør et dataprogram (Generer DatasetsXml) å gjøre en oppgave der, hvis du ga samme oppgave til 100 personer, ville du få 100 forskjellige resultater. Det finnes ikke noe enkelt answer riktig&quot; svar. Selvfølgelig kommer programmet nærmest å lese Bobs sinn (Ikke din) , men selv om det er det ikke et all-forståelig AI-program, bare en haug heuristics cobbled sammen for å gjøre en AI-lignende oppgave. (Den dagen av et all-forståelig AI-program kan komme, men det har ikke ennå. Hvis det gjør det, kan vi mennesker ha større problemer. Vær forsiktig med hva du ønsker.)</p>
<ul>
<li class="">
<p>For informative formål viser utgangen den globale kildenAttributes og variabel kildeAttributes som kommentarer. ERDDAP™ kombinerer kildeAttributes og addAttributes   (som har forrang) å gjøre den kombinerte Attribut som er vist til brukeren. (Og andre attributter legges automatisk til lengdegrad, breddegrad, høyde, dybde og tidsvariabler når ERDDAP™ Faktisk gjør datasettet) ..
 </p>
</li>
<li class="">
<p>Hvis du ikke liker en kildeAttribute, overskriv den ved å legge til en addAttribute med samme navn, men en annen verdi (eller ingen verdi, hvis du vil fjerne den) ..
 </p>
</li>
<li class="">
<p>Alle addAttributes er datagenererte forslag. Rediger dem! Hvis du ikke liker en addAttribute, endre det.
 </p>
</li>
<li class="">
<p>Hvis du vil legge til andre addAttributes Legg dem til.
 </p>
</li>
<li class="">
<p>Hvis du vil endre en destinationName Endre det. Men ikke endre sourceName S.
 </p>
</li>
<li class="">
<p>Du kan endre rekkefølgen på dataVariable eller fjerne noen av dem.</p>
<ul>
<li class="">Du kan deretter bruke <a href="#dasdds" class="">DasDds</a>   (Se nedenfor) å gjentatte ganger teste XML for det datasettet for å sikre at det resulterende datasettet vises som du vil det skal i ERDDAP ..</li>
<li class="">Du kan gjerne gjøre små endringer i datasets.xml Del som ble generert, for eksempel, gir en bedre infoUrl Sammendrag eller tittel.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="donotaddstandardnames">Legg ikke til standardNames<a href="#donotaddstandardnames" class="hash-link" aria-label="Direkte lenke tilLegg ikke til standardNames" title="Direkte lenke tilLegg ikke til standardNames" translate="no">​</a></h4>
<p>Hvis du har \ doNotAddStandardNames som en kommandolinjeparameter når du kjører genererer Datasett Xml, generer Datasett Xml vil ikke legge til standard\_name til addAttributes for andre variabler enn variabler som heter breddegrad, lengdegrad, høyde, dybde eller tid (som har åpenbare standard\_name s) .. Dette kan være nyttig hvis du bruker utgangen fra å generere Datasett Xml direkte i ERDDAP™ uten å redigere utdata, fordi generere Datasett Xml gjetter ofte standard\_name feil. (Merk at vi alltid anbefaler at du redigerer utdata før du bruker det i ERDDAP ..) Bruk av denne parameteren vil ha andre mindre relaterte effekter fordi gjettet standard\_name brukes ofte til andre formål, f.eks. til å skape en ny long\_name , og for å opprette fargelinjen innstillinger.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="scripting">Scripting<a href="#scripting" class="hash-link" aria-label="Direkte lenke tilScripting" title="Direkte lenke tilScripting" translate="no">​</a></h4>
<p>Som et alternativ til å svare på spørsmålene interaktivt på tastaturet og looping for å generere ytterligere datasett, kan du gi kommandolinjeargumenter for å svare på alle spørsmålene for å generere ett datasett. Opprett datasett Xml vil behandle disse parametrene, skrive utgangen til utdatafilen og avslutte programmet.</p>
<p>For å konfigurere dette, kan du først bruke programmet i interaktiv modus og skrive ned dine svar. Her er et delvis eksempel:
La oss si at du kjører manus: ./GreateDatasetsXml.sh
Deretter skriv inn: EDDTableFromAsciiFiles
Skriv deretter inn: /u00/data/
Deretter skriv inn: . . . . . . .
Skriv deretter inn: /u00/data/sampleFile.asc
Skriv deretter inn: ISO-8859-1</p>
<p>Hvis du vil kjøre dette på en ikke-interaktiv måte, kan du bruke denne kommandolinjen:
./GreateDatasetsXml.sh EDDTableFra AsciiFiles /u00/data/ .\*\.asc /u00/data/ampleFile.asc ISO-8859-1
Så i utgangspunktet, du bare liste alle svarene på kommandolinjen.
Dette bør være nyttig for datasett som endres ofte på en måte som krever omkjøring Genererer Datasett Xml (spesielt EDDGrid FraThreddsCatalog) ..</p>
<p>Detaljer:</p>
<ul>
<li class="">Hvis en parameter inneholder et mellomrom eller noe spesielt tegn, så koder parameteren som en <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer" class="">JSON-stil streng</a> f.eks. min parameter med mellomrom og to \n linjer&quot;.</li>
<li class="">Hvis du vil angi en tom streng som parameter, bruk: ingenting</li>
<li class="">Hvis du vil angi standardverdien til en parameter, bruk: standard
 </li>
<li class="">Opprett datasett Xml støtter en -i <em>Datasett XmlName</em> # <em>TaggName</em> kommandolinjeparameter som setter utgangen i den angitte datasets.xml fil (Standarden er <em>tomcat</em> /innhold/erddap/ datasets.xml ) .. Opprett datasett Xml ser etter to linjer i datasett XmlName</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;!-- Begin GenerateDatasetsXml #*tagName someDatetime* --&gt;  </span><br></span></code></pre></div></div>
<p>og</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;!-- End GenerateDatasetsXml #*tagName someDatetime* --&gt;  </span><br></span></code></pre></div></div>
<p>og erstatter alt mellom disse linjene med det nye innholdet, og endrer noenDatetime.</p>
<ul>
<li class="">-i-bryteren behandles bare (og endringer i datasets.xml er bare laget) hvis du kjører Genererer Datasett Xml med kommandolinjeargumenter som angir alle svarene på alle spørsmålene for en løkke av programmet. (Se &quot;Skrift&quot; ovenfor.)   (Tenkningen er: Denne parameteren er for bruk med skript. Hvis du bruker programmet i interaktiv modus (Skrive informasjon på tastaturet) , du er sannsynlig å generere noen feil biter av XML før du generere den du vil.)</li>
<li class="">Hvis Start- og Sluttlinjene ikke er funnet, blir disse linjene og det nye innholdet satt inn rett før&lt;/erddapDatasett&gt;.</li>
<li class="">Det finnes også en -I (kapital i) bryter for testformål som fungerer som -i, men oppretter en fil kalt datasets.xml  <em>Datotid</em> og gjør ikke endringer i datasets.xml ..</li>
<li class="">Ikke kjør Genererer Datasett Xml i to prosesser samtidig. Det er en sjanse for at det vil bli holdt én endring. Det kan være alvorlige problemer (For eksempel skadde filer) ..</li>
</ul>
<p>Hvis du bruker -GreateDatasetsXml -verbose - vil det skrive ut mer diagnostiske meldinger enn vanlig.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="specialpseudo-dataset-types">Spesial/Pseudo Datasett Typer<a href="#specialpseudo-dataset-types" class="hash-link" aria-label="Direkte lenke tilSpesial/Pseudo Datasett Typer" title="Direkte lenke tilSpesial/Pseudo Datasett Typer" translate="no">​</a></h4>
<p>Generelt, EDDType-alternativene i Genererer Datasett Xml-match av EDD-typene beskrevet i dette dokumentet (Se <a href="#list-of-types-datasets" class="">Liste over datasetttyper</a> ) og generere en datasets.xml bit for å opprette ett datasett fra én bestemt datakilde. Det er noen unntak og spesielle tilfeller:</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromerddap">EDDGrid FraErddap<a href="#eddgridfromerddap" class="hash-link" aria-label="Direkte lenke tilEDDGrid FraErddap" title="Direkte lenke tilEDDGrid FraErddap" translate="no">​</a></h5>
<p>Denne EDDType genererer alle datasets.xml Biter som trengs for å lage <a href="#eddfromerddap" class=""> EDDGrid FraErddap</a> Datasett fra alle EDDGrid datasett i fjernkontrollen ERDDAP .. Du vil ha muligheten til å holde den opprinnelige datasetID s (som kan duplisere noen datasetID allerede i din ERDDAP ) eller å generere nye navn som vil være unike (Men vanligvis ikke som menneskeleselig) ..
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromerddap">EDDTableFraErddap<a href="#eddtablefromerddap" class="hash-link" aria-label="Direkte lenke tilEDDTableFraErddap" title="Direkte lenke tilEDDTableFraErddap" translate="no">​</a></h5>
<p>Denne EDDType genererer alle datasets.xml Biter som trengs for å lage <a href="#eddfromerddap" class="">EDDTableFraErddap</a> datasett fra alle EDDTable-datasett i en ekstern ERDDAP .. Du vil ha muligheten til å holde den opprinnelige datasetID s (som kan duplisere noen datasetID allerede i din ERDDAP ) eller å generere nye navn som vil være unike (Men vanligvis ikke som menneskeleselig) ..
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromthreddscatalog">EDDGrid FraThreddsCatalog<a href="#eddgridfromthreddscatalog" class="hash-link" aria-label="Direkte lenke tilEDDGrid FraThreddsCatalog" title="Direkte lenke tilEDDGrid FraThreddsCatalog" translate="no">​</a></h5>
<p>Denne EDDType genererer alle datasets.xml Knebb som trengs for alle <a href="#eddgridfromdap" class=""> EDDGrid FraDap</a> datasett som det kan finne ved å krype rekursivt gjennom en TREDDS (sub) Katalog. Det er mange former for THREDDS katalog-adresser. Dette alternativet REQUIRES a THREDDS .xml URL med / catalog / i det, for eksempel,
<a href="https://oceanwatch.pfeg.noaa.gov/thredds/catalog/catalog.xmleller" target="_blank" rel="noopener noreferrer" class="">https://oceanwatch.pfeg.noaa.gov/thredds/catalog/catalog.xmleller</a>
<a href="https://oceanwatch.pfeg.noaa.gov/thredds/catalog/Satellite/aggregsatMH/chla/catalog.xml" target="_blank" rel="noopener noreferrer" class="">https://oceanwatch.pfeg.noaa.gov/thredds/catalog/Satellite/aggregsatMH/chla/catalog.xml</a><br>
<!-- -->(en relatert .html katalog er på
<a href="https://oceanwatch.pfeg.noaa.gov/thredds/Satellite/aggregsatMH/chla/catalog.htmlsom" target="_blank" rel="noopener noreferrer" class="">https://oceanwatch.pfeg.noaa.gov/thredds/Satellite/aggregsatMH/chla/catalog.htmlsom</a> ikke er akseptabelt for EDDGrid Fra ThreddsCatalog).
Hvis du har problemer med EDDGrid FraThredds Katalog:</p>
<ul>
<li class="">Kontroller at URL-adressen du bruker er gyldig, inkluderer / catalog/, og slutter med / catalog.xml .</li>
<li class="">Hvis det er mulig, bruk en offentlig IP-adresse (For eksempelhttps://oceanwatch.pfeg.noaa.gov) i URLen, ikke en lokal numerisk IP-adresse (For eksempelhttps://12.34.56.78) .. Hvis THREDDS er kun tilgjengelig via den lokale numeriske IP-adressen, kan du bruke [&lt;convertToPublicSourceUrl&gt;] (#converttopublicsourceurl) så ERDDAP™ brukere ser offentlig adresse, selv om ERDDAP™ får data fra den lokale numeriske adressen.</li>
<li class="">Hvis du har problemer som du ikke kan løse, <a href="#troubleshooting-tips" class="">Sjekk feilsøking tips</a> ..</li>
<li class="">Den lave nivåkoden for dette bruker nå Unidata netcdf-java katalog crawler kode (treder. katalogklasser) slik at det kan håndtere alle THREDDS kataloger (som kan være overraskende komplekse) Takket være Unidata For den koden.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridlonpm180fromerddapcatalog">EDDGrid LonPM180FraErddapKatalog<a href="#eddgridlonpm180fromerddapcatalog" class="hash-link" aria-label="Direkte lenke tilEDDGrid LonPM180FraErddapKatalog" title="Direkte lenke tilEDDGrid LonPM180FraErddapKatalog" translate="no">​</a></h5>
<p>Denne EDDType genererer datasets.xml å lage <a href="#eddgridlonpm180" class=""> EDDGrid LonPM180</a> Datasett fra alle EDDGrid Datasett i et ERDDAP som har noen lengdeverdier høyere enn 180.</p>
<ul>
<li class="">Hvis det er mulig, bruk en offentlig IP-adresse (For eksempelhttps://oceanwatch.pfeg.noaa.gov) i URLen, ikke en lokal numerisk IP-adresse (For eksempelhttps://12.34.56.78) .. Hvis ERDDAP™ er kun tilgjengelig via den lokale numeriske IP-adressen, kan du bruke [&lt;convertToPublicSourceUrl&gt;] (#converttopublicsourceurl) så ERDDAP™ brukere ser offentlig adresse, selv om ERDDAP™ får data fra den lokale numeriske adressen.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridlon0360fromerddapcatalog">EDDGrid Lon0360FraErddapCatalog<a href="#eddgridlon0360fromerddapcatalog" class="hash-link" aria-label="Direkte lenke tilEDDGrid Lon0360FraErddapCatalog" title="Direkte lenke tilEDDGrid Lon0360FraErddapCatalog" translate="no">​</a></h5>
<p>Denne EDDType genererer datasets.xml å lage <a href="#eddgridlon0360" class=""> EDDGrid Dreier0360</a> Datasett fra alle EDDGrid Datasett i et ERDDAP som har noen lengdeverdier mindre enn 0.</p>
<ul>
<li class="">Hvis det er mulig, bruk en offentlig IP-adresse (For eksempelhttps://oceanwatch.pfeg.noaa.gov) i URLen, ikke en lokal numerisk IP-adresse (For eksempelhttps://12.34.56.78) .. Hvis ERDDAP™ er kun tilgjengelig via den lokale numeriske IP-adressen, kan du bruke [&lt;convertToPublicSourceUrl&gt;] (#converttopublicsourceurl) så ERDDAP™ brukere ser offentlig adresse, selv om ERDDAP™ får data fra den lokale numeriske adressen.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddsfromfiles">EDDsFra Filer<a href="#eddsfromfiles" class="hash-link" aria-label="Direkte lenke tilEDDsFra Filer" title="Direkte lenke tilEDDsFra Filer" translate="no">​</a></h5>
<p>Gitt en startmappe, dette krysser katalogen og alle undermapper og prøver å opprette et datasett for hver gruppe av datafiler som den finner.</p>
<ul>
<li class="">Dette antar at når et datasett er funnet, inneholder datasettet alle underkataloger.</li>
<li class="">Hvis et datasett finnes, vil lignende søskenmapper bli behandlet som separate datasett (For eksempel vil kataloger på 1990-tallet, 2000-tallet, 2010-tallet, generere separate datasett) .. De bør være enkle å kombinere for hånd - bare endre det første datasettet&lt;filDir&gt; til forelderkatalogen og slette alle de påfølgende søskendatasettene.</li>
<li class="">Dette vil bare prøve å generere en del av datasets.xml for den vanligste filtypen i en katalog (ikke teller .md5, som ignoreres) .. Så gitt en katalog med 10 .nc filer og 5 .txt-filer, en datasett genereres for .nc Bare filer.</li>
<li class="">Dette antar at alle filer i en katalog med samme utvidelse hører til i samme datasett. Hvis en katalog har noen .nc filer med SST-data og noen .nc filer med klorofylldata, bare én prøve .nc filen vil bli lest (SST? Klorofyll?) og bare ett datasett vil bli opprettet for den filtypen. Det datasettet vil sannsynligvis ikke laste på grunn av komplikasjoner fra å prøve å laste to typer filer inn i det samme datasettet.</li>
<li class="">Hvis det er færre enn 4 filer med den vanligste utvidelsen i en mappe, antar dette at de ikke er datafiler og bare hopper over katalogen.</li>
<li class="">Hvis det er 4 eller flere filer i en katalog, men dette kan ikke generere en bit av datasets.xml for filene (For eksempel en filtype som ikke støttes) Dette vil generere et <a href="#eddtablefromfilenames" class="">EDDTableFromFileNames</a> datasett for filene.</li>
<li class="">På slutten av diagnosen som dette skriver til loggfilen, like før datasets.xml bunter, vil dette skrive ut en tabell med et sammendrag av informasjon samlet ved å krysse alle underkataloger. Tabellen vil liste hver underkatalog og angi den vanligste filtypen, det totale antall filer, og hvilken type datasett ble opprettet for disse filene (dersom noen) .. Hvis du står overfor en kompleks, dypt resirkulert filstruktur, vurdere å kjøre Genererer Datasett Xml med EDDType=EDDsFromFiles bare for å generere denne informasjonen,</li>
<li class="">Dette alternativet kan ikke gjøre en god jobb å gjette den beste EDDType for en gitt gruppe datafiler, men det er raskt, enkelt og verdt et forsøk. Hvis kildefilene er egnet, fungerer det bra og er et godt første skritt i å generere datasets.xml for et filsystem med mange underkataloger, hver med datafiler fra forskjellige datasett.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromeml-and-eddtablefromemlbatch">EDDTableFromeML og EDDTableFromEMLBatch<a href="#eddtablefromeml-and-eddtablefromemlbatch" class="hash-link" aria-label="Direkte lenke tilEDDTableFromeML og EDDTableFromEMLBatch" title="Direkte lenke tilEDDTableFromeML og EDDTableFromEMLBatch" translate="no">​</a></h5>
<p>Disse spesielle EDDType genererer datasets.xml å lage en <a href="#eddtablefromasciifiles" class="">EDDTableFraAsciiFiler</a> datasett fra hver av tabellene beskrevet i en <a href="https://knb.ecoinformatics.org/external//emlparser/docs/index.html" target="_blank" rel="noopener noreferrer" class="">Økologisk metadataspråk</a> XML-fil. varianten &quot;Batch&quot; fungerer på alle EML-filene i en lokal eller ekstern katalog. Se den separate <a class="" href="/nb/docs/server-admin/EDDTableFromEML">dokumentasjon for EDDTableFromEML</a> ..
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefrominport">EDDTableFra InPort<a href="#eddtablefrominport" class="hash-link" aria-label="Direkte lenke tilEDDTableFra InPort" title="Direkte lenke tilEDDTableFra InPort" translate="no">​</a></h5>
<p>Denne spesielle EDDType genererer datasets.xml å lage en <a href="#eddtablefromasciifiles" class="">EDDTableFraAsciiFiler</a> Datasett fra informasjonen i et <a href="https://inport.nmfs.noaa.gov/inport" target="_blank" rel="noopener noreferrer" class="">inport-xml</a> fil. Hvis du kan få tilgang til kildedatafilen (inport-xml-filen bør ha spor for hvor den skal finnes) Du kan lage et arbeidsdatasett i ERDDAP ..</p>
<p>Følgende trinn omriss hvordan du bruker Genererer Datasett Xml med en inport-xml-fil for å få et fungerende datasett i ERDDAP ..</p>
<ol>
<li class="">Når du har tilgang til inport-xml-filen (enten som URL eller en lokal fil) kjør Generer datasett Xml, angi EDDType=EDDTableFromInPort, angi inport-xml URL eller fullstendig filnamn, angi hvilkenChild=0, og angi den andre etterspurte informasjonen (hvis kjent) .. (På dette punktet trenger du ikke ha kildedatafilen eller angi navnet.) Den som Child=0 innstillingen forteller Genererer Datasett Xml å skrive ut informasjonen for <strong>alle</strong> av&lt;Entry-adtribute-informasjon &gt;&lt;enhet&gt; er i inport-xml-filen (Hvis det er noen) .. Det skriver også ut et sammendrag av bakgrunnsinformasjon, inkludert alle nedlastings-url som er oppført i inport-xml-filen.</li>
<li class="">Se gjennom all denne informasjonen (inkludert bakgrunnsinformasjon som genererer datasett Xml-utskrifter) og besøk nedlastningsadressen (s) for å finne kildedatafilen (s) .. Hvis du finner den (dem) Last ned den (dem) i en katalog som er tilgjengelig for ERDDAP .. (Hvis du ikke finner noen kildedatafiler, er det ikke noe poeng i å fortsette.)</li>
<li class="">Kjør Generer Datasett Xml igjen.
Hvis kildedatafilen tilsvarer en av inport-xml-filens&lt;Entry-adtribute-informasjon &gt;&lt;Entitet&gt;s, angi hvilken Child= <em>At Entity&#x27;sNumber</em>   (f.eks. 1, 2, 3, ...) .. ERDDAP™ vil forsøke å matche kolonnenavnene i kildedatafilen til navn i enhetsinformasjonen, og be om å godta/avvise/fikse eventuelle ulikheter.
Hvis inport-xml-filen ikke har noen&lt;Entry-adtribute-informasjon &gt;&lt;Entitet&gt; er, angi hvilken Child=0.</li>
<li class="">I biten av datasets.xml som ble laget av GenerateDatasets Xml, revidere [Global&lt; addAttributes &gt;] (#global-adtributer) etter behov/nedbrutt.</li>
<li class="">I biten av datasets.xml som ble laget av GenerationDatasetsXml, legg til/revider [&lt; dataVariable &gt;] (#datavariable) Informasjon etter behov/avledet for å beskrive hver av variablene. Vær sikker på at du identifiserer hver variabel riktig
[&lt; sourceName &gt;] (#kildenavn)   (Som det vises i kilden) ,
[&lt; destinationName &gt;] (#destinasjonsnavn)   (som har flere begrensninger på tillatte tegn enn sourceName ) ,
[&lt;enheter&gt;] (#units)   (Spesielt om det er <a href="#timestamp-variables" class="">Tid eller tidsstempelvariabel</a> hvor enhetene må angi formatet) , og
[&lt; missing\_value &gt;] (#missing_value) ,</li>
<li class="">Når du er nær ferdig, bruk gjentatte ganger <a href="#dasdds" class="">DasDds</a> verktøy for å raskt se om datasett beskrivelsen er gyldig og om datasettet vises i ERDDAP™ Som du vil.
 </li>
</ol>
<p>Det ville være flott hvis grupper som bruker InPort til å dokumentere sine datasett også vil bruke ERDDAP™ å gjøre de faktiske dataene tilgjengelige:</p>
<ul>
<li class="">ERDDAP™ er en løsning som kan brukes akkurat nå slik at du kan oppfylle NOAA &#x27;s <a href="https://nosc.noaa.gov/EDMC/PD.DSP.php" target="_blank" rel="noopener noreferrer" class="">Offentlig tilgang til forskningsresultater (PARR) Krav</a> Akkurat nå, ikke på noe vage tidspunkt i fremtiden.</li>
<li class="">ERDDAP™ gjør de faktiske dataene tilgjengelige for brukerne, ikke bare metadata. (Hva er bra med metadata uten data?)</li>
<li class="">ERDDAP™ støtter metadata (Spesielt variabler) , i motsetning til noen andre dataserver programvare blir vurdert. (Hva er bra med data uten metadata?) Å bruke programvare som ikke støtter metadata er å invitere dataene til å bli misforstått og misbrukt.</li>
<li class="">ERDDAP™ er gratis og åpen kildekode programvare i motsetning til noen annen programvare som vurderes. Fremtidig utvikling av ERDDAP™ allerede betalt. Støtte til ERDDAP™ Brukerne er gratis.</li>
<li class="">ERDDAP utseendet kan enkelt tilpasses for å reflektere og markere gruppen din (ikke ERD eller ERDDAP ) ..</li>
<li class="">ERDDAP™ Tilbyr en konsekvent måte å få tilgang til alle datasett.</li>
<li class="">ERDDAP™ kan lese data fra mange typer datafiler og fra relasjonelle databaser.</li>
<li class="">ERDDAP™ kan håndtere store datasett, inkludert datasett der kildedataene er i mange datafiler.</li>
<li class="">ERDDAP™ kan skrive data til mange typer datafiler, på brukerens forespørsel, inkludert vitenskapelige datafiler som netCDF, ESRI .csv, og ODV .txt ..</li>
<li class="">ERDDAP™ kan gjøre egendefinerte grafer og kart over undergrupper av dataene, basert på brukerens spesifikasjoner.</li>
<li class="">ERDDAP™ kan håndtere ikke-data datasett som samlinger av bilder, video eller lydfiler.</li>
<li class="">ERDDAP™ har blitt installert og brukt på <a class="" href="/nb/#who-uses-erddap">Mer enn 60 institusjoner over hele verden</a> ..</li>
<li class="">ERDDAP™ er oppført som en av dataserverne som anbefales til bruk i NOAA i <a href="https://www.ngdc.noaa.gov/wiki/index.php/Data_Access_Technical_Recommendations#Software_implementations" target="_blank" rel="noopener noreferrer" class=""> NOAA Datatilgangsdirektivet</a> I motsetning til noen annen programvare som vurderes.</li>
<li class="">ERDDAP™ er et produkt av NMFS / NOAA Så bruk den i NMFS og NOAA Bør være et punkt av stolthet for NMFS og NOAA ..</li>
</ul>
<p>Vennligst gi ERDDAP™ Et forsøk. Hvis du trenger hjelp, vennligst send en melding i ERDDAP™ Google Group.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="addfillvalueattributes">addFillValueAttributes<a href="#addfillvalueattributes" class="hash-link" aria-label="Direkte lenke tiladdFillValueAttributes" title="Direkte lenke tiladdFillValueAttributes" translate="no">​</a></h5>
<p>Dette spesielle EDDType-alternativet er ikke en type datasett. Det er et verktøy som kan legge til \_FillValue-attributter til noen variabler i noen datasett. Se <a href="#add-_fillvalue-attributes" class="">addFillValueAttributes</a> ..
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="findduplicatetime">findDuplikat Tid<a href="#findduplicatetime" class="hash-link" aria-label="Direkte lenke tilfindDuplikat Tid" title="Direkte lenke tilfindDuplikat Tid" translate="no">​</a></h5>
<p>Dette spesielle EDDType-alternativet er ikke en type datasett. I stedet forteller det Genererer Datasett Xml å søke gjennom en samling av rutenett .nc   (og relatert) filer for å finne og skrive ut en liste over filer med dupliserte tidsverdier. Når den ser på tidsverdiene, konverterer den dem fra de opprinnelige enhetene til &quot;seconds since 1970-01-01&quot; i tilfelle forskjellige filer bruker forskjellige enheter strenger. Du må oppgi startkatalogen (med eller uten etterfølgende skråstrek) , filnavnet regulært uttrykk (f.eks. .nc  ) Navnet på tidsvariabelen i filene.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="ncdump">ncdump<a href="#ncdump" class="hash-link" aria-label="Direkte lenke tilncdump" title="Direkte lenke tilncdump" translate="no">​</a></h5>
<p>Dette spesielle EDDType-alternativet er ikke en type datasett. I stedet forteller det Genererer Datasett Xml å skrive ut en <a href="https://linux.die.net/man/1/ncdump" target="_blank" rel="noopener noreferrer" class="">ncdump</a> \ Som å skrive ut en .nc , .nc ml eller .hdf fil. Den bruker faktisk netcdf-java <a href="https://docs.unidata.ucar.edu/netcdf-java/5.4/javadoc/ucar/nc2/write/Ncdump.html" target="_blank" rel="noopener noreferrer" class="">NCdump</a> , som er et mer begrenset verktøy enn C-versjonen av NCdump. Hvis du bruker dette alternativet, vil CreateDatasetsXml be deg om å bruke en av alternativene: &quot;-h&quot; (overskrift) ,c &quot; (Koordinater vars) ,  &quot;-vall&quot; (standard) ,  &quot;-v var1;var2&quot;,  &quot;-v var1 (0,0:10,0:20)  &quot;. Dette er nyttig fordi uten ncdump det er vanskelig å vite hva som er i en .nc , .nc ml eller .hdf fil og dermed hvilken EDDType du bør spesifisere for Genererer Datasett Xml. For en .nc ml fil, vil dette skrive ut ncdump utdata for resultatet av .nc ml filendringer påført de underliggende .nc eller .hdf fil.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dasdds">DasDds<a href="#dasdds" class="hash-link" aria-label="Direkte lenke tilDasDds" title="Direkte lenke tilDasDds" translate="no">​</a></h3>
<ul>
<li class=""><a href="#dasdds" class=""> <strong>DasDds</strong> </a> er et kommandolinjeprogram som du kan bruke etter at du har opprettet et første forsøk på XML for et nytt datasett i datasets.xml .. Med DasDds kan du gjentatte ganger teste og raffinere XML. Når du bruker DasDds-programmet:</li>
</ul>
<ol>
<li class="">På Windows, første gang du kjører DasDds, må du redigere DasDds. flaggermusfil med en tekstredigering for å endre banen til java. exe-fil slik at Windows kan finne Java ..</li>
<li class="">DasDds ber deg om datasetID for datasettet du jobber med.</li>
<li class="">DasDds prøver å opprette datasettet med det datasetID ..<!-- -->
<ul>
<li class="">DasDds skriver alltid ut mange diagnostiske meldinger.
Hvis du bruker &quot; DasDds -verbose&quot;, DasDds vil skrive ut mer diagnostiske meldinger enn vanlig.</li>
<li class="">For sikkerhet sletter DasDds alltid all datasettinformasjonen som blir lagret (filer) for datasettet før du prøver å opprette datasettet. Dette svarer til å sette en <a class="" href="/nb/docs/server-admin/additional-information#hard-flag">hard flagg</a> Så for aggregerte datasett kan du justere filenNameRegex midlertidig for å begrense antall filer som datakonstruktøren finner.</li>
<li class="">Hvis datasettet ikke lastes (uansett grunn) DasDds vil stoppe og vise deg feilmeldingen for den første feilen den finner.
<strong>Ikke prøv å gjette hva problemet kan være. Les feilmeldingen nøye.</strong><br>
<!-- -->Hvis nødvendig, les de foregående diagnostiske meldingene for å finne mer spor og informasjon også.</li>
<li class=""><strong>Gjør en endring i datasettets XML for å prøve å løse problemet</strong><br>
<!-- -->og la DasDds prøve å opprette datasettet igjen.</li>
<li class=""><strong>Hvis du gjentatte ganger løser hvert problem, vil du til slutt løse alle problemene</strong><br>
<!-- -->og datasettet vil laste.</li>
</ul>
</li>
<li class="">Alle DasDds-utgang (diagnostikk og resultater) er skrevet på skjermen og til <em>bigParentDirectory</em> /logg/DasDds.log.</li>
<li class="">Hvis DasDds kan opprette datasettet, vil DasDds vise deg det <a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#fileType_das" target="_blank" rel="noopener noreferrer" class="">.das (Datasett-attributtsstruktur) </a> , <a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#fileType_dds" target="_blank" rel="noopener noreferrer" class="">.dds (Datasett Descriptor Struktur) </a> , og <a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#timeGaps" target="_blank" rel="noopener noreferrer" class="">.timeGaps (tidsforskjell) </a> informasjon for datasettet på skjermen og skrive dem til <em>bigParentDirectory</em> /logg/DasDds.out.</li>
<li class="">Ofte vil du gjøre noen små endringer i datasettets XML for å rydde opp datasettets metadata og kjøre om DasDds.</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="bonus-third-party-tool-erddap-lint">Bonus Tredjepartsverktøy: ERDDAP -lint<a href="#bonus-third-party-tool-erddap-lint" class="hash-link" aria-label="Direkte lenke tilBonus Tredjepartsverktøy: ERDDAP -lint" title="Direkte lenke tilBonus Tredjepartsverktøy: ERDDAP -lint" translate="no">​</a></h3>
<p>ERDDAP -lint er et program fra Rob Fuller og Adam Leadbetter fra Irish Marine Institute som du kan bruke til å forbedre metadataene til din ERDDAP™ Datasett. ERDDAP -lint &quot; inneholder regler og en enkel statisk webapplikasjon for å kjøre noen verifikasjonstester mot din ERDDAP™ server. Alle testene kjører i nettleseren.&quot; som <a href="https://en.wikipedia.org/wiki/Lint_(software)" target="_blank" rel="noopener noreferrer" class="">Unix/Linux lint verktøy</a>, kan du redigere eksisterende regler eller legge til nye regler. Se <a href="https://github.com/IrishMarineInstitute/erddap-lint" target="_blank" rel="noopener noreferrer" class=""> ERDDAP -lint</a> For mer informasjon.</p>
<p>Dette verktøyet er spesielt nyttig for datasett som du opprettet for noen tid siden og nå ønsker å få oppdatert med dine gjeldende metadatainnstillinger. For eksempel tidlige versjoner av Genererer Datasett Xml gjorde ingen innsats for å skape global creator\_name , creator\_email , skaper\_type, eller creator\_url metadata. Du kan bruke ERDDAP -fast for å identifisere datasett som mangler disse metadata attributtene.</p>
<p>Takk til Rob og Adam for å lage dette verktøyet og gjøre det tilgjengelig for ERDDAP™ Samfunn.
 </p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-basic-structure-of-the-datasetsxml-file">Grunnleggende struktur av datasets.xml Fil<a href="#the-basic-structure-of-the-datasetsxml-file" class="hash-link" aria-label="Direkte lenke tilGrunnleggende struktur av datasets.xml Fil" title="Direkte lenke tilGrunnleggende struktur av datasets.xml Fil" translate="no">​</a></h2>
<p>De nødvendige og valgfrie taggene er tillatt i en datasets.xml fil (og antall ganger de kan vises) vises nedenfor. I praksis, din datasets.xml vil ha mye&lt;datasett&gt;s tags og bare bruk de andre taggene i&lt;ErddapDatasett &gt; etter behov.</p>
<blockquote>
<p> &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;<br>
<!-- --> &lt;erddapDatasets&gt;<br>
<!-- -->   <a href="#angulardegreeunits" class="">&lt;angularDegreeUnits&gt;</a>...&lt;/angularDegreeUnits&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#angulardegreetrueunits" class="">&lt;angularDegreeTrueUnits&gt;</a>...&lt;/angularDegreeTrueUnits&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#cacheminutes" class="">&lt;cacheMinutes&gt;</a>...&lt;/cacheMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#commonstandardnames" class="">&lt;commonStandardNames&gt;</a>...&lt;/commonStandardNames&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#convertinterpolaterequestcsvexample" class="">&lt;convertInterpolateRequestCSVExample /&gt;</a> &lt;!-- 0 or more --&gt;<br>
<!-- -->   <a href="#convertinterpolatedatasetidvariablelist" class="">&lt;convertInterpolateDatasetIDVariableList /&gt;</a> &lt;!-- 0 or more --&gt;<br>
<!-- -->   <a href="#converttopublicsourceurl" class="">&lt;convertToPublicSourceUrl /&gt;</a> &lt;!-- 0 or more --&gt;<br>
<!-- -->   <a href="#decompressed-cache" class="">&lt;decompressedCacheMaxGB&gt;</a>...&lt;/decompressedCacheMaxGB&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#decompressed-cache" class="">&lt;decompressedCacheMaxMinutesOld&gt;</a>...&lt;/decompressedCacheMaxMinutesOld&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#drawlandmask" class="">&lt;drawLandMask&gt;</a>...&lt;/drawLandMask&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#emaildiagnosticstoerddata" class="">&lt;emailDiagnosticsToErdData&gt;</a>...&lt;/emailDiagnosticsToErdData&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#graphbackgroundcolor" class="">&lt;graphBackgroundColor&gt;</a>...&lt;/graphBackgroundColor&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#ipaddressmaxrequests" class="">&lt;ipAddressMaxRequests&gt;</a>...&lt;/ipAddressMaxRequests&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#ipaddressmaxrequestsactive" class="">&lt;ipAddressMaxRequestsActive&gt;</a>...&lt;ipAddressMaxRequestsActive&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#ipaddressunlimited" class="">&lt;ipAddressUnlimited&gt;</a>...&lt;ipAddressUnlimited&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#loaddatasetsminminutes" class="">&lt;loadDatasetsMinMinutes&gt;</a>...&lt;/loadDatasetsMinMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#loaddatasetsmaxminutes" class="">&lt;loadDatasetsMaxMinutes&gt;</a>...&lt;/loadDatasetsMaxMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#loglevel" class="">&lt;logLevel&gt;</a>...&lt;/logLevel&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#nthreads" class="">&lt;nGridThreads&gt;</a>...&lt;/nGridThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#nthreads" class="">&lt;nTableThreads&gt;</a>...&lt;/nTableThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#palettes" class="">&lt;palettes&gt;</a>...&lt;/palettes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#partialrequestmaxbytes-and-partialrequestmaxcells" class="">&lt;partialRequestMaxBytes&gt;</a>...&lt;/partialRequestMaxBytes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#partialrequestmaxbytes-and-partialrequestmaxcells" class="">&lt;partialRequestMaxCells&gt;</a>...&lt;/partialRequestMaxCells&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#requestblacklist" class="">&lt;requestBlacklist&gt;</a>...&lt;/requestBlacklist&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#slowdowntroublemillis" class="">&lt;slowDownTroubleMillis&gt;</a>...&lt;/slowDownTroubleMillis&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#subscriptionemailblacklist" class="">&lt;subscriptionEmailBlacklist&gt;</a>...&lt;/subscriptionEmailBlacklist&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#unusualactivity" class="">&lt;unusualActivity&gt;</a>...&lt;/unusualActivity&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#updatemaxevents" class="">&lt;updateMaxEvents&gt;</a>...&lt;/updateMaxEvents&gt; &lt;!-- 0 or 1 --&gt;</p>
<p>   <a href="#standard-text" class="">&lt;standardLicense&gt;</a>...&lt;/standardLicense&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;standardContact&gt;</a>...&lt;/standardContact&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;standardDataLicenses&gt;</a>...&lt;/standardDataLicenses&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;standardDisclaimerOfEndorsement&gt;</a>...&lt;/standardDisclaimerOfEndorsement&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;standardDisclaimerOfExternalLinks&gt;</a>...&lt;/standardDisclaimerOfExternalLinks&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;standardGeneralDisclaimer&gt;</a>...&lt;/standardGeneralDisclaimer&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;standardPrivacyPolicy&gt;</a>...&lt;/standardPrivacyPolicy&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;startHeadHtml5&gt;</a>...&lt;/startHeadHtml5&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;startBodyHtml5&gt;</a>...&lt;/startBodyHtml5&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;theShortDescriptionHtml&gt;</a>...&lt;/theShortDescriptionHtml&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;endBodyHtml5&gt;</a>...&lt;/endBodyHtml5&gt; &lt;!-- 0 or 1 --&gt;</p>
<p>   <a href="#user" class="">&lt;user username=&quot;...&quot; password=&quot;...&quot; roles=&quot;...&quot; /&gt;</a> &lt;!-- 0 or more --&gt;</p>
<p>   <a href="#list-of-types-datasets" class="">&lt;dataset&gt;</a>...&lt;/dataset&gt; &lt;!-- 1 or more --&gt;<br>
<!-- --> &lt;/erddapDatasets&gt;</p>
</blockquote>
<p>Det er mulig at andre koder vil bli tillatt i fremtiden, men for nå anbefales det bare ISO-8859-1.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="xinclude">XInclude<a href="#xinclude" class="hash-link" aria-label="Direkte lenke tilXInclude" title="Direkte lenke tilXInclude" translate="no">​</a></h3>
<p>Nytt i versjon 2.25 er støtte for XInclude. Dette krever at du bruker SAX-tolkeren&lt;brukSaxParser&gt;true&lt;/useSaxParser&gt; i setup.xml. Dette kan la deg skrive hvert datasett i sin egen fil, og deretter inkludere dem alle i hovedsak datasets.xml , gjenbruke deler av datasettdefinisjoner, eller begge deler. Hvis du vil se et eksempel, <a href="https://github.com/ERDDAP/erddap/blob/main/src/test/java/testDataset/EDDTestDataset.java" target="_blank" rel="noopener noreferrer" class="">EDDTestDataset.java</a> konfigurerer XInclude til å gjenbruke variable definisjoner.
 </p>
<ul>
<li class="">
<ul>
<li class=""></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="notes">Noter<a href="#notes" class="hash-link" aria-label="Direkte lenke tilNoter" title="Direkte lenke tilNoter" translate="no">​</a></h2>
<p>Arbeide med datasets.xml Filen er et ikke-trivielt prosjekt. Les alle disse notatene nøye. Når du velger en <a href="#list-of-types-datasets" class="">type datasett</a> Les den detaljerte beskrivelsen nøye.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="choosing-the-dataset-type">Valg av datasetttype<a href="#choosing-the-dataset-type" class="hash-link" aria-label="Direkte lenke tilValg av datasetttype" title="Direkte lenke tilValg av datasetttype" translate="no">​</a></h3>
<p>I de fleste tilfeller er det bare én ERDDAP™ datasett som er egnet for en gitt datakilde. I noen tilfeller (f.eks. .nc filer) Det er noen muligheter, men vanligvis er en av dem definitivt best. Den første og største beslutningen du må gjøre er: er det hensiktsmessig å behandle datasett som en gruppe flerdimensjonale rekker (Hvis så se <a href="#eddgrid" class=""> EDDGrid datasetttyper</a> ) eller som en databaselignende tabell over data (Hvis så se <a href="#eddtable" class="">EDDTable datasett</a> ) ..
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="serving-the-data-as-is">Å tjene dataene som er<a href="#serving-the-data-as-is" class="hash-link" aria-label="Direkte lenke tilÅ tjene dataene som er" title="Direkte lenke tilÅ tjene dataene som er" translate="no">​</a></h3>
<p>Vanligvis er det ikke nødvendig å endre datakilden (For eksempel konvertere filene til en annen filtype) slik at ERDDAP™ kan tjene det. En av antagelsene om ERDDAP™ er at datakilden vil bli brukt som det er. Vanligvis fungerer dette bra. Noen unntak er:</p>
<ul>
<li class="">Relasjonelle databaser og Cassandra -- ERDDAP™ kan betjene data direkte fra relasjonelle databaser og Cassandra. Men for sikkerhet, belastningsbalansering og ytelsesproblemer kan du velge å opprette en annen database med samme data eller lagre data til NetCDF v3 .nc filer og har ERDDAP™ servere data fra den nye datakilden. Se <a href="#eddtablefromdatabase" class="">EDDTableFraDatabase</a> og <a href="#eddtablefromcassandra" class="">EDDTableFraCassandra</a> ..</li>
<li class="">Ikke støttede datakilder -- ERDDAP™ kan støtte et stort antall typer datakilder, men verden er fylt med 1000-tallets (Millioner?) forskjellige datakilder (spesielt datafilstrukturer) .. Hvis ERDDAP™ Støtter ikke datakilden:<!-- -->
<ul>
<li class="">Hvis datakilden er NetCDF   .nc filer, du kan bruke <a href="#ncml-files" class="">NcML</a> å endre datafilene på flyet eller bruke <a href="#netcdf-operators-nco" class=""> NCO </a> å permanent endre datafilene.</li>
<li class="">Du kan skrive data til en datakildetype som ERDDAP™ støtte. NetCDF -3 .nc filer er en god, generell anbefaling fordi de er binære filer som ERDDAP™ Kan leses veldig raskt. For tabelldata, vurdere å lagre dataene i en samling av .nc filer som bruker <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Diskret prøvetakingsgeometri (DSG) </a> Contiguous Tagge Array datastrukturer og så kan håndteres med ERDDAP &#x27;s <a href="#eddtablefromnccffiles" class="">EDDTableFraNcCFFiler</a> ). Hvis de er logisk organisert (hver med data for en bit plass og tid) , ERDDAP™ kan raskt trekke ut data fra dem.</li>
<li class="">Du kan be om at støtte for denne datakilden legges til i ERDDAP™ via e-post til Chris. John på noaa.gov.</li>
<li class="">Du kan legge til støtte for den datakilden ved å skrive koden for å håndtere den selv. Se <a class="" href="/nb/docs/contributing/programmer-guide">den ERDDAP™ Programmørens veiledning</a></li>
</ul>
</li>
<li class="">Hastighet -- ERDDAP™ kan lese data fra noen datakilder mye raskere enn andre. For eksempel å lese NetCDF v3 .nc filer er raske og å lese ASCII-filer er langsommere. Hvis det er en stor (&gt; 1000) eller stor (&gt;10 000) antall kildedatafiler, ERDDAP™ vil svare på noen dataforespørsler sakte. Vanligvis er forskjellen ikke merkbar for mennesker. Men hvis du tror ERDDAP™ er langsom for et gitt datasett, kan du velge å løse problemet ved å skrive dataene til en mer effektiv installasjon (Vanligvis: noen, velstrukturert, NetCDF v3 .nc filer) .. For tabelldata, se <a href="#millions-of-files" class="">Dette rådet</a> ..
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="hint">Tips<a href="#hint" class="hash-link" aria-label="Direkte lenke tilTips" title="Direkte lenke tilTips" translate="no">​</a></h3>
<p>Det er ofte enklere å generere XML for et datasett ved å gjøre en kopi av en arbeidsdatasett beskrivelse i dataset.xml og deretter endre det.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="encoding-special-characters">Koding av spesielle tegn<a href="#encoding-special-characters" class="hash-link" aria-label="Direkte lenke tilKoding av spesielle tegn" title="Direkte lenke tilKoding av spesielle tegn" translate="no">​</a></h3>
<p>Siden datasets.xml er en XML-fil, du må <a href="https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Predefined_entities_in_XML" target="_blank" rel="noopener noreferrer" class="">&amp; kode</a> &quot;&amp;&quot;, &quot;&lt;&quot;, og &quot;&gt;&quot; i ethvert innhold som &quot;&amp;&quot;, &quot;&lt;&quot;, og &quot;&gt;&quot;.
Feil:&lt;tittel&gt; Tid &amp; Tider&lt;/title&gt;
Høyre:&lt;tittel&gt; Tid &amp; amp; Tider&lt;/title&gt;
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="xml-doesnt-tolerate-syntax-errors">XML tolererer ikke syntaksfeil<a href="#xml-doesnt-tolerate-syntax-errors" class="hash-link" aria-label="Direkte lenke tilXML tolererer ikke syntaksfeil" title="Direkte lenke tilXML tolererer ikke syntaksfeil" translate="no">​</a></h3>
<p>Når du redigerer filen dataset.xml, er det en god ide å bekrefte at resultatet er <a href="https://www.w3schools.com/xml/xml_dtd.asp" target="_blank" rel="noopener noreferrer" class="">velformet XML</a> ved å lime XML-teksten inn i en XML-kontroll som <a href="https://www.xmlvalidation.com/" target="_blank" rel="noopener noreferrer" class="">xmlvalidering</a> ..
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="troubleshooting-tips">Feilsøking Tips<a href="#troubleshooting-tips" class="hash-link" aria-label="Direkte lenke tilFeilsøking Tips" title="Direkte lenke tilFeilsøking Tips" translate="no">​</a></h3>
<ul>
<li class=""><strong>Andre måter å diagnostisere problemer med datasett</strong><br>
<!-- -->I tillegg til de to viktigste <a href="#tools" class="">Verktøy</a> ,</li>
<li class=""><a class="" href="/nb/docs/server-admin/additional-information#log">log.txt</a> er en loggfil med hele ERDDAP De diagnostiske meldingene.</li>
<li class="">Den <a class="" href="/nb/docs/server-admin/additional-information#daily-report">Daglig rapport</a> har mer informasjon enn statussiden, inkludert en liste over datasett som ikke lastet og unntakene (feil) De genererte.</li>
<li class="">Den <a class="" href="/nb/docs/server-admin/additional-information#status-page">Statusside</a> En rask måte å sjekke på ERDDAP Status fra enhver nettleser. Det inneholder en liste over datasett som ikke lastes (Men ikke de relaterte unntakene) Les statistikk (å vise fremdriften av <a href="#eddgridcopy" class=""> EDDGrid Kopier</a> og <a href="#eddtablecopy" class="">EDDTableCopy</a> Datasett og alle <a href="#eddgridfromfiles" class=""> EDDGrid FraFiles</a> eller <a href="#eddtablefromfiles" class="">EDDTableFra Filer</a> Datasett som bruker <a href="#cachefromurl" class="">cacheFromUrl</a>   (Men ikke cache SizeGB) ) ..</li>
<li class="">Hvis du sitter fast, se vår <a class="" href="/nb/docs/intro#support">Seksjon om å få ekstra støtte</a> ..
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="special-variables">Spesialvariabler<a href="#special-variables" class="hash-link" aria-label="Direkte lenke tilSpesialvariabler" title="Direkte lenke tilSpesialvariabler" translate="no">​</a></h3>
<ul>
<li class="">** <a href="#destinationname" class="">Lengdegrad, bredde, høyde, dybde, trykk og tid (LLAT) variabel</a>   <a href="#destinationname" class=""> destinationName </a> S er spesielle.**</li>
<li class="">Generelt:<!-- -->
<ul>
<li class="">LLAT-variabler er kjent for ERDDAP™ dersom aksevariabelen er (for EDDGrid Datasett) eller datavariabelens (for EDDTable datasett)   <a href="#destinationname" class=""> destinationName </a> er &quot;langdide&quot;,latitude breddegrad &quot; &quot;alaltitude &quot; &quot;dybde&quot;, eller &quot;time&quot; ..</li>
<li class="">Vi oppfordrer deg til å bruke disse standardnavnene på disse variablene når det er mulig. Ingen av dem er nødvendig. Hvis du ikke bruker disse spesielle variabelnavnene, ERDDAP™ vil ikke gjenkjenne deres betydning. For eksempel behandles LLAT-variabler spesielt av Make A Graph ( * datasetID * .graph) : Hvis X-aksevariabelen er - lengdegrad - og Y-aksevariabelen er - breddegrad - får du et kart (ved hjelp av standardprojeksjon, og med landmaske, politiske grenser osv.) I stedet for en graf.</li>
<li class="">ERDDAP™ vil automatisk legge til mange metadata til LLAT-variabler (For eksempel: <a href="#ioos_category" class=""> ioos\_category </a> &quot;, &quot; <a href="#units" class="">enheter</a> &quot; og flere standardrelaterte attributter som &quot;__CoordinateAxisType&quot;) ..</li>
<li class="">ERDDAP™ vil automatisk legge til mange globale metadata knyttet til LLAT-verdiene i den valgte datagruppen (For eksempel &quot;geospatial\_lon\_min&quot;) ..</li>
<li class="">Kunder som støtter disse metadatastandardene, vil kunne dra nytte av de tilsatte metadataene for å plassere dataene i tid og rom.</li>
<li class="">Kundene finner det lettere å generere forespørsler som inkluderer LLAT-variabler fordi variabelens navn er de samme i alle relevante datasett.</li>
</ul>
</li>
<li class="">For variabelen &quot; lengdegrad&quot; og breddegrad&quot; variabelen:<!-- -->
<ul>
<li class="">Bruk <a href="#destinationname" class=""> destinationName </a> s &quot; lengdegrad&quot; og &quot; breddegrad&quot; bare hvis <a href="#units" class="">enheter</a> er grader\_øst og grader__nord, henholdsvis. Hvis dataene dine ikke passer til disse kravene, bruk forskjellige variabelnavn (For eksempel x, y, lonRadians, latRadians) ..</li>
<li class="">Hvis du har lengdegrad og breddegrad data uttrykt i forskjellige enheter og dermed med forskjellig destinationName s, for eksempel lonRadians og latRadians, lage en graf ( * datasetID * .graph) vil lage grafer (For eksempel tidsserier) I stedet for kart.</li>
</ul>
</li>
<li class="">For &quot;altitude &quot; &quot;presure&quot;, eller &quot;dybde&quot; variabel:<!-- -->
<ul>
<li class="">Bruk <a href="#destinationname" class=""> destinationName </a> Høyde&quot; å identifisere dataenes avstand over havet (positive=-up-verdier) .. Valgfritt kan du bruke &quot;altitude&quot; for avstander under havnivå hvis verdiene er negative under havet (eller hvis du for eksempel bruker,
[&lt;navn=&quot; scale\_factor &quot; type=&quot;int&quot;&gt;- 1&lt;/att&gt;] (#scale_factor) å konvertere dybdeverdier til høydeverdier.</li>
<li class="">Bruk destinationName &quot;dybde&quot; å identifisere dataenes avstand under havnivå (positive=&quot; ned&quot; verdier) ..</li>
<li class="">Alternativt for forhøyelser definert av lufttrykknivåene (som <a href="https://en.wikipedia.org/wiki/Contour_line#Barometric_pressure" target="_blank" rel="noopener noreferrer" class="">isobar</a> ) Du bør sette destinationName å trykke Dette støtter enheter i &quot;hPa &quot; &quot; &quot;Pa&quot;, og &quot;mbar&quot; (positive=&quot; ned&quot; verdier) ..</li>
<li class="">En datasett kan ha bare én &quot;altitude &quot;pressure trykk&quot;, eller &quot;dybde&quot; variabel.</li>
<li class="">For disse &quot;altitude&quot; og &quot;dybde&quot; variabler, <a href="#units" class="">enheter</a> må være &quot;m &quot; &quot;meter&quot;, eller &quot;meter&quot;. Hvis enhetene er forskjellige (For eksempel fathoms) Du kan bruke
[&lt;navn=&quot; scale\_factor &quot;&gt; <em>Noen Verdi</em> &lt;/att&gt;] (#scale_factor) og&lt;Att name=&quot; enheter&quot;&gt; meter&lt;/att&gt;] (#units) å konvertere enhetene til meter.</li>
<li class="">Hvis dataene ikke passer til disse kravene, bruk en annen destinationName   (For eksempel, overGround, avstand Til Bottom) ..</li>
<li class="">Hvis du vet det vertikale CRS vennligst angi det i metadata, for eksempel, &quot;EPSG:5829&quot; (øyeblikkelig høyde over havet) ,  &quot;EPSG:5831&quot; (øyeblikkelig dybde under havet) , eller  &quot;EPSG:5703&quot; (NAVD88 høyde) ..</li>
</ul>
</li>
<li class="">For &quot;time&quot; variabel:<!-- -->
<ul>
<li class="">Bruk <a href="#destinationname" class=""> destinationName </a>   &quot;time&quot; Bare for variabler som inkluderer hele datoen + tid (eller dato, hvis det er alt det er) .. Hvis det for eksempel er separate kolonner for dato og tidOfDay, ikke bruk variabelnavnet &quot;time&quot; ..</li>
<li class="">Se <a href="#time-units" class="">enheter</a> for mer informasjon om enhetene attributt for tid og tidStamp variabler.</li>
<li class="">Tidsvariabelen og relatert <a href="#timestamp-variables" class="">tid Stempelvariabler</a> er unike ved at de alltid konverterer dataverdier fra kildens tidsformat (Hva det enn er) i en numerisk verdi (sekunder siden 1970-01-01T00:00:00Z) eller en strengverdi (ISO 8601:2004 (E) format) avhengig av situasjonen.</li>
<li class="">Når en bruker ber om tidsdata, kan de be om det ved å angi tiden som en numerisk verdi (sekunder siden 1970-01-01T00:00:00Z) eller en strengverdi (ISO 8601:2004 (E) format) ..</li>
<li class="">ERDDAP™ har et verktøy til <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html" target="_blank" rel="noopener noreferrer" class="">Konverter et tall Tid til/fra en strengtid</a> ..</li>
<li class="">Se <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html#erddap" target="_blank" rel="noopener noreferrer" class="">Hvordan ERDDAP Avtaler med tiden</a> ..</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-just-two-basic-data-structures">Hvorfor bare to grunnleggende datastrukturer?<a href="#why-just-two-basic-data-structures" class="hash-link" aria-label="Direkte lenke tilHvorfor bare to grunnleggende datastrukturer?" title="Direkte lenke tilHvorfor bare to grunnleggende datastrukturer?" translate="no">​</a></h3>
<ul>
<li class="">Siden det er vanskelig for menneskelige klienter og datamaskinkunder å håndtere et komplekst sett av mulige datasettstrukturer, ERDDAP™ bruker bare to grunnleggende datastrukturer:<!-- -->
<ul>
<li class="">a <a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#dataModel" target="_blank" rel="noopener noreferrer" class="">Netteded datastruktur</a>   (For eksempel for satellittdata og modelldata) og</li>
<li class="">a <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#dataModel" target="_blank" rel="noopener noreferrer" class="">tabelldatastruktur</a>   (For eksempel, for in-situ bøy, stasjon og banedata) ..</li>
</ul>
</li>
<li class="">Selvfølgelig kan ikke alle data uttrykkes i disse strukturene, men mye av det kan. Tabellene er spesielt svært fleksible datastrukturer (Se på suksessen til relasjonelle databaseprogrammer) ..</li>
<li class="">Dette gjør det enklere å bygge data.</li>
<li class="">Dette gjør dataresponsene enkle, noe som gjør det lettere å betjene dataene i et bredere utvalg av standard filtyper. (som ofte bare støtter enkle datastrukturer) .. Dette er hovedårsaken til at vi opprettet ERDDAP™ Denne veien.</li>
<li class="">Dette gjør det igjen veldig enkelt for oss (eller noen) å skrive klientprogramvare som fungerer med alle ERDDAP™ Datasett.</li>
<li class="">Dette gjør det lettere å sammenligne data fra forskjellige kilder.</li>
<li class="">Vi er svært klar over at hvis du er vant til å jobbe med data i andre datastrukturer kan du i utgangspunktet tro at denne tilnærmingen er enkel eller utilstrekkelig. Men alle datastrukturer har avdrag. Ingen er perfekt. Selv do-it-alle strukturer har sine ulemper: å jobbe med dem er komplekst og filene kan bare skrives eller leses med spesielle programvarebiblioteker. Hvis du godtar ERDDAP &#x27;s tilnærming nok til å prøve å jobbe med det, kan du finne ut at det har sine fordeler (spesielt støtte for flere filtyper som kan holde datasvarene) .. Den <a href="https://coastwatch.pfeg.noaa.gov/erddap/images/erddapTalk/erddapTechTalk.html" target="_blank" rel="noopener noreferrer" class=""> ERDDAP™ lysbildeshow</a>   (spesielt <a href="https://coastwatch.pfeg.noaa.gov/erddap/images/erddapTalk/erddapTechTalk.html#dataStructures" target="_blank" rel="noopener noreferrer" class="">Datastrukturer lysbilde</a> ) Snakker mye om disse problemene.</li>
<li class="">Og selv om denne tilnærmingen høres merkelig ut for deg, de fleste ERDDAP™ klienter vil aldri merke - de vil bare se at alle datasettene har en fin enkel struktur, og de vil være takknemlige for at de kan få data fra et bredt utvalg av kilder returnert i en rekke ulike filformater.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dimensions">Dimensjoner<a href="#dimensions" class="hash-link" aria-label="Direkte lenke tilDimensjoner" title="Direkte lenke tilDimensjoner" translate="no">​</a></h3>
<ul>
<li class="">
<p><strong>Hva om rutenettvariabler i kildedatasettet DON&#x27;T deler de samme aksevariabler?</strong><br>
<!-- -->I EDDGrid datasett, alle datavariabler må brukes (aksje) alle aksevariabler. Så hvis et kildedatasett har noen variabler med ett sett dimensjoner, og andre variabler med et annet sett dimensjoner, må du gjøre to datasett i ERDDAP .. Du kan for eksempel lage en ERDDAP™ Datasett entitled En tittel (på overflaten) to å holde variabler som bare bruker \[ tid \]  \[ breddegrad \]  \[ Lengdegrad \] dimensjoner og lage en annen ERDDAP™ Datasett entitled En tittel (på dyp) &quot; å holde variabler som brukes \[ tid \]  \[ høyde \]  \[ breddegrad \]  \[ Lengdegrad \] .. Eller kanskje du kan endre datakilden for å legge til en dimensjon med en enkelt verdi (For eksempel høyde=0) For å gjøre variablene konsekvente.</p>
<p>ERDDAP™ håndterer ikke mer kompliserte datasett (For eksempel modeller som bruker en mesh av trekanter) Vel. Du kan betjene disse datasettene i ERDDAP™ ved å opprette to eller flere datasett i ERDDAP™   (slik at alle datavariabler i hvert nytt datasett deler det samme sett av aksevariabler) Men det er ikke det brukerne vil. For noen datasett kan du vurdere å lage en regelmessig nettbasert versjon av datasettet og tilby det i tillegg til originale data. Noen klient programvare kan bare håndtere et vanlig rutenett, så ved å gjøre dette, når du ytterligere kunder.
 </p>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="projected-gridded-data">Prosjektert Gristed Data<a href="#projected-gridded-data" class="hash-link" aria-label="Direkte lenke tilProsjektert Gristed Data" title="Direkte lenke tilProsjektert Gristed Data" translate="no">​</a></h3>
<p>En del av dataene har en kompleks struktur. For eksempel satellittnivå 2 (Langt spor&quot;) Data bruker ikke en enkel projeksjon. Modeller (andre) Ofte jobber med gitte data om ulike ikke-cylindriske fremspring (For eksempel konisk, polar stereografi, tripolar) eller i ustrukturerte rutenett (En mer kompleks datastruktur) .. Noen av sluttbrukere vil ha disse dataene som er, så det er ingen tap av informasjon. For disse kundene, ERDDAP™ kan tjene dataene, som det er, bare hvis ERDDAP™ administrator bryter det opprinnelige datasettet i noen få datasett, med hver del inkludert variabler som deler de samme aksevariabler. Ja, det virker rart for folk involvert, og det er forskjellig fra de fleste OPeNDAP servere. Men ERDDAP™ legger vekt på å gjøre dataene tilgjengelige i mange formater. Det er mulig fordi ERDDAP™ bruk / krever en mer ensartet datastruktur. Selv om det er litt vanskelig (Det vil si annerledes enn forventet) , ERDDAP™ kan distribuere de forventede dataene.</p>
<p>\[ Ja, ERDDAP™ kan ha løsere krav til datastrukturen, men holde kravene til utgangsformatene. Men det vil føre til forvirring blant mange brukere, spesielt nybegynnere, siden mange tilsynelatende gyldige forespørsler om data med ulike strukturer ville være ugyldig fordi dataene ikke ville passe inn i filtypen. Vi kommer tilbake til dagens design. \]</p>
<p>Noen sluttbrukere ønsker data i en lat-lon sylindrisk projeksjon som Equirektangulær / platekarrée eller Mercator) for enkel bruk i forskjellige situasjoner. For disse situasjonene oppfordrer vi ERDDAP™ administrator å bruke noe annet programvare ( NCO ? Matlab ? R? IDV? ...?) å reprosjektere dataene på et geografisk (Equirektangulær projeksjon / plate carrée) eller annen sylindrisk projeksjon og tjener den formen av dataene i ERDDAP™ som et annet datasett. Dette ligner på hva folk gjør når de konverterer satellittnivå 2 data til nivå 3 data. Et slikt verktøy er <a href="https://nco.sourceforge.net/nco.html#Regridding" target="_blank" rel="noopener noreferrer" class=""> NCO </a> som tilbyr utvidelsesalternativer for omarbeiding av data.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="gis-and-reprojecting-data">GIS og reprosjektering av data<a href="#gis-and-reprojecting-data" class="hash-link" aria-label="Direkte lenke tilGIS og reprosjektering av data" title="Direkte lenke tilGIS og reprosjektering av data" translate="no">​</a></h4>
<p>Siden GIS-verdenen ofte er kartorientert, tilbyr GIS-programmer vanligvis støtte for omprosjektering av dataene, dvs. planlegging av dataene på et kart med en annen projeksjon.</p>
<p>I dag, ERDDAP™ har ikke verktøy for å reprosjektere data. I stedet anbefaler vi at du bruker et eksternt verktøy til å gjøre en variant av datasettet, der data er reprojisert fra det opprinnelige skjemaet på en rektangulær (lengdegrad) array egnet for ERDDAP ..</p>
<p>Vi mener CF/ DAP verden er litt annerledes enn GIS-verdenen og jobber på et litt lavere nivå. ERDDAP™ reflekterer det. Generelt, ERDDAP™ Utformet for å jobbe hovedsakelig med data (ikke kart) og ønsker ikke å endre (f.eks. omprosjekt) De dataene. For ERDDAP™ , gitte data er ofte/vanligvis/fortrinnsvis forbundet med latlonverdier og en sylindrisk projeksjon, og ikke noen projeksjons x,y-verdier. Uansett, ERDDAP™ gjør ikke noe med dataenes projeksjon; det passerer bare dataene gjennom, som med sin nåværende projeksjon, på teorien om at en reprojeksjon er en betydelig endring i dataene og ERDDAP™ Ønsker ikke å være involvert i viktige endringer. Også etterfølgende brukere kan naivt reprosjektere dataene igjen, noe som ikke ville være så bra som bare å gjøre en reprojeksjon. (Hvis ERDDAP™ administrator ønsker å tilby data i en annen projeksjon, fint; bare reprojeksjon dataene offline og tilby det som et annet datasett i ERDDAP .. Mange satellittbaserte datasett tilbys som det NASA kaller nivå 2 (swath) og som nivå 3 (Equirektangulær projeksjon) versjoner.) Når ERDDAP™ gjør kart (direkte eller via WMS eller KML) , ERDDAP™ for tiden tilbyr bare å gjøre kart med Equirektangular / plate carrée-projeksjon som heldigvis er akseptert av de fleste kartleggingsprogrammer.</p>
<p>Vi oppfordrer ERDDAP™ administratorer å bruke noe annet programvare ( NCO ? Matlab ? R? IDV? ...?) å reprosjektere dataene på et geografisk (Equirektangulær projeksjon / plate carrée) eller annen sylindrisk projeksjon og tjener den formen av dataene i ERDDAP™ som et annet datasett. Dette ligner på hva folk gjør når de konverterer satellittnivå 2 data til nivå 3 data. Et slikt verktøy er <a href="https://nco.sourceforge.net/nco.html#Regridding" target="_blank" rel="noopener noreferrer" class=""> NCO </a> som tilbyr utvidelsesalternativer for omarbeiding av data.</p>
<p>Vi håper det ERDDAP™ vil ha innebygde verktøy for å tilby kart med andre projeksjoner i fremtiden. Vi håper også å ha bedre forbindelser til GIS verden i fremtiden (bortsett fra den nåværende WMS service) .. Det er forferdelig at i denne moderne verden, sammenhengene mellom CF/ DAP Verden og GIS verden er fortsatt så svak. Begge disse tingene står på listen å gjøre. (Hvis du vil hjelpe, spesielt ved å koble til ERDDAP™ til MapServer, vennligst e-post Chris. John på noaa.gov.)</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="data-types">Datatyper<a href="#data-types" class="hash-link" aria-label="Direkte lenke tilDatatyper" title="Direkte lenke tilDatatyper" translate="no">​</a></h3>
<p>ERDDAP™ støtter følgende datatyper
(Navnene er sensitive; &#x27;u&#x27; prefiks står for &quot;usignet&quot;; antall mange av navnene i andre systemer er antall biter) :)</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="byte">Byte<a href="#byte" class="hash-link" aria-label="Direkte lenke tilByte" title="Direkte lenke tilByte" translate="no">​</a></h4>
<ul>
<li class=""><strong>Byte</strong> har signert heltallsverdier med en rekke -128 til 127.
I andre systemer kalles dette ofte int8.
Dette kalles &quot;tinyint&quot; av SQL og Cassandra.
ERDDAP™ Konverterer <a href="#boolean-data" class="">boolsk</a> fra noen kilder (For eksempel SQL og Cassandra) i byte i ERDDAP™ med en verdi på 0=feil, 1=sann og 127= missing\_value ..</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ubyte">ubyte<a href="#ubyte" class="hash-link" aria-label="Direkte lenke tilubyte" title="Direkte lenke tilubyte" translate="no">​</a></h4>
<ul>
<li class=""><strong>ubyte</strong> har ubetegnede heltallsverdier med et område på 0 til 255.
I andre systemer kalles det noen ganger uint8.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="short">kort<a href="#short" class="hash-link" aria-label="Direkte lenke tilkort" title="Direkte lenke tilkort" translate="no">​</a></h4>
<ul>
<li class=""><strong>kort</strong> har signert heltallsverdier med et område på -32768 til 32767.
I andre systemer kalles dette ofte int16.
Dette kalles «smallint» av SQL og Cassandra.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ushort">ushort<a href="#ushort" class="hash-link" aria-label="Direkte lenke tilushort" title="Direkte lenke tilushort" translate="no">​</a></h4>
<ul>
<li class=""><strong>ushort</strong> har ubestemte heltallsverdier med et område på 0 til 65535.
I andre systemer kalles dette ofte uint16.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="int">Interessert<a href="#int" class="hash-link" aria-label="Direkte lenke tilInteressert" title="Direkte lenke tilInteressert" translate="no">​</a></h4>
<ul>
<li class=""><strong>Interessert</strong> har signert heltallsverdier med et område på -2147483648 til 2147483647.
I andre systemer kalles det noen ganger int32.
Dette kalles &quot; Integer | tall (?) &quot; av SQL og &quot;int&quot; av Cassandra.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="uint">uint<a href="#uint" class="hash-link" aria-label="Direkte lenke tiluint" title="Direkte lenke tiluint" translate="no">​</a></h4>
<ul>
<li class=""><strong>uint</strong> har ubestemte heltallsverdier med et område på 0 til 4294967295.
I andre systemer kalles dette noen ganger uint32.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="long">lang<a href="#long" class="hash-link" aria-label="Direkte lenke tillang" title="Direkte lenke tillang" translate="no">​</a></h4>
<ul>
<li class=""><strong>lang</strong> har signert heltallsverdier med et område på -9223372036854775808 til 9223372036854775807.
I andre systemer kalles dette noen ganger int64.
Dette kalles - bigint | tall (?) &quot; av SQL og &quot;bigint&quot; av Cassandra.
Fordi mange filtyper ikke støtter lange data, er bruken mislykket. Når det er mulig, bruk dobbelt i stedet (Se nedenfor) ..</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ulong">ulong<a href="#ulong" class="hash-link" aria-label="Direkte lenke tilulong" title="Direkte lenke tilulong" translate="no">​</a></h4>
<ul>
<li class=""><strong>ulong</strong> har ubestemte heltallsverdier med et område på 0 til 18446744073709551615
I andre systemer kalles dette noen ganger uint64.
Fordi mange filtyper ikke støtter ulong data, er bruken av dem mislykket. Når det er mulig, bruk dobbelt i stedet (Se nedenfor) ..</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="float">flyte<a href="#float" class="hash-link" aria-label="Direkte lenke tilflyte" title="Direkte lenke tilflyte" translate="no">​</a></h4>
<ul>
<li class=""><strong>flyte</strong> er en IEEE 754 flyte med et område på omtrent +/- 3.402823466e+38.
I andre systemer kalles dette ofte float32.
Dette kalles virkelig | flyte (?)  | desimal (?)  | tall (?) &quot; av SQL og &quot;flytende&quot; av Cassandra.
Den spesielle verdien NaN betyr Not-a-Number.
ERDDAP™ Konverterer positive og negative uendelige verdier til NaN.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="double">dobbel<a href="#double" class="hash-link" aria-label="Direkte lenke tildobbel" title="Direkte lenke tildobbel" translate="no">​</a></h4>
<ul>
<li class=""><strong>dobbel</strong> er en IEEE 754 dobbel med et område på omtrent
+/- 1.7976931348623157E+308.
I andre systemer kalles dette ofte float64.
Dette kalles &quot; dobbel presisjon | flyte (?)  | desimal (?)  | tall (?) &quot; ved SQL og dobbel&quot; av Cassandra.
Den spesielle verdien NaN betyr Not-a-Number.
ERDDAP™ Konverterer positive og negative uendelige verdier til NaN.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="char">tegn<a href="#char" class="hash-link" aria-label="Direkte lenke tiltegn" title="Direkte lenke tiltegn" translate="no">​</a></h4>
<ul>
<li class=""><strong>tegn</strong> er en enkelt 2-byte (16-bits)   <a href="https://en.wikipedia.org/wiki/UTF-16" target="_blank" rel="noopener noreferrer" class="">Unicode UCS-2 tegn</a> fra \u0000   (#0) gjennom \uffff   (#65535) ..
\uffff Definisjonen er ikke-a-Character, analog med en dobbel verdi av NaN.
Bruken av tegn er avslått fordi mange filtyper enten ikke støtter tegn eller bare støtter 1-byte tegn (Se nedenfor) .. Tenk å bruke streng i stedet.
Brukere kan bruke tegnvariabler for å lage grafer. ERDDAP™ vil konvertere tegnene til deres Unicode kodepunktnummer, som kan brukes som numeriske data.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="string">Streng<a href="#string" class="hash-link" aria-label="Direkte lenke tilStreng" title="Direkte lenke tilStreng" translate="no">​</a></h4>
<ul>
<li class=""><strong>Streng</strong> er en sekvens på 0 eller mer, 2-byte (16-bits)   <a href="https://en.wikipedia.org/wiki/UTF-16" target="_blank" rel="noopener noreferrer" class="">Unicode UCS-2 tegn</a> ..
ERDDAP™ bruker/tolker en 0-lengdestreng som en manglende verdi. ERDDAP™ støtter ikke en ekte nullstreng.
Den teoretiske maksimale strenglengde er 2147483647 tegn, men det er sannsynligvis ulike problemer på ulike steder selv med noe kortere strenger.
Bruk ERDDAP String for SQL tegn, varchar, tegn varierende, binær, varbinær, intervall, array, multiset, xml, og andre databasedatatyper som ikke passer rent med noen annen ERDDAP™ Datatype.
Bruk ERDDAP &#x27;s String for Cassandras -tekst - og enhver annen Cassandra-datatype som ikke passer rent med andre ERDDAP™ Datatype.
 </li>
</ul>
<p>Før ERDDAP™ v2.10, ERDDAP™ støttet ikke ubetalte heltallstyper internt og tilbød begrenset støtte i sine datalesere og forfattere.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="data-type-limitations">Datatypebegrensning<a href="#data-type-limitations" class="hash-link" aria-label="Direkte lenke tilDatatypebegrensning" title="Direkte lenke tilDatatypebegrensning" translate="no">​</a></h3>
<p>Du kan tenke på ERDDAP™ som et system som har virtuelle datasett, og som fungerer ved å lese data fra et datasetts kilde til en intern datamodell og skrive data til ulike tjenester (f.eks.(OPeN)DAP, WMS ) og filtyper som svar på brukerforespørsler.</p>
<ul>
<li class="">Hver inputleser støtter en undergruppe av datatypene som ERDDAP™ støtte. Lese data inn i ERDDAP Interne datastrukturer er ikke noe problem.</li>
<li class="">Hver utgangsskribent støtter også en undergruppe av datatyper. Det er et problem fordi ERDDAP må for eksempel presse lange data til filtyper som ikke støtter lange data.
 </li>
</ul>
<p>Nedenfor er forklaringer på begrensningene (eller ingen) ulike utgivelsesskrivere og hvordan ERDDAP™ tar seg av problemene. Slike komplikasjoner er en iboende del av ERDDAP Målet er å gjøre forskjellige systemer interoperable.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ascii">ASCII<a href="#ascii" class="hash-link" aria-label="Direkte lenke tilASCII" title="Direkte lenke tilASCII" translate="no">​</a></h4>
<ul>
<li class="">ASCII (.csv, .tsv , etc.) tekstfiler -<!-- -->
<ul>
<li class="">Alle numeriske data skrives via strengrepresentasjon (med manglende dataverdier som vises som 0-lengde strenger) ..</li>
<li class="">Selv om ERDDAP™ skriver lange og ulange verdier riktig til ASCII tekstfiler, mange lesere (For eksempel regnearkprogrammer) kan ikke riktig håndtere lange og ulange verdier og i stedet konvertere dem til doble verdier (med tap av presisjon i noen tilfeller) ..</li>
<li class="">Char and String data er skrevet via JSON Strings, som håndterer alle Unicode tegn (Spesielt de uvanlige tegnene utover ASCII #127, f.eks. vises Euro-tegnet som -\u20ac -) ..</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="json">JSON<a href="#json" class="hash-link" aria-label="Direkte lenke tilJSON" title="Direkte lenke tilJSON" translate="no">​</a></h4>
<ul>
<li class="">JSON ( .json , .jsonlCSV , etc.) tekstfiler -<!-- -->
<ul>
<li class="">Alle numeriske data skrives via sin strengrepresentasjon.</li>
<li class="">Char and String data er skrevet som JSON Strings, som håndterer alle Unicode tegn (Spesielt de uvanlige tegnene utover ASCII #127, f.eks. vises Euro-tegnet som -\u20ac -) ..</li>
<li class="">Manglende verdier for alle numeriske datatyper vises som null.
 </li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="nc3-files">.nc 3 filer<a href="#nc3-files" class="hash-link" aria-label="Direkte lenke til.nc 3 filer" title="Direkte lenke til.nc 3 filer" translate="no">​</a></h4>
<ul>
<li class="">.nc 3 filer støtter ikke innfødte heltallsdatatyper. Før CF v1.9 støttet ikke CF udefinerte heltallstyper. For å håndtere dette, ERDDAP™ 2.10+ følger NUG-standarden og legger alltid til en &quot;__Usignert&quot;-attribut med en verdi av &quot;sann&quot; eller &quot;falsk&quot; for å indikere om dataene er fra en usignert eller signert variabel. Alle heltallsattributter er skrevet som signerte attributter (For eksempel byte) med signerte verdier (f.eks. en ubyte actual\_range attributt med verdier 0 til 255, vises som en byte-attributt med verdier 0 til -1 (invers av de tos komplementverdi av den ut-fra-range verdien). Det er ingen enkel måte å vite hvilke (signerte) heltallsattributter som skal leses som usignerte attributter. ERDDAP™ støtter egenskapen &quot;__Usignert when når den leser .nc 3 filer.</li>
<li class="">.nc 3 filer støtter ikke lange eller avlange datatyper. ERDDAP™ håndtere dette ved å midlertidig konvertere dem til å være doble variabler. Doubles kan nøyaktig representere alle verdier opp til +/- 9,007,199,254,740,992 som er 2^53. Dette er en ufullkommen løsning. Unidata nekter å gjøre en mindre oppgradering til .nc 3 å håndtere dette og relaterte problemer, sitering .nc 4 (En stor endring) som løsningen.</li>
<li class="">CF-spesifikasjonen (før v1.9) den støtter en tegndatatype, men det er uklart om tegn er bare ment som byggeblokker av tegnarranger, som er effektive strenger. Spørsmål til deres postliste ga bare forvirrende svar. På grunn av disse komplikasjonene er det best å unngå karvariabler i ERDDAP™ og bruk strengvariabler når det er mulig.</li>
<li class="">Tradisjonelt, .nc 3 filer støttes bare strenger med ASCII-kodet (7-bit, #0 - #127) tegn. NUG (og ERDDAP ) forlenge det (starter ~2017) ved å inkludere attributten &quot;\_koding&quot; med en verdi av &quot;ISO-8859-1&quot; (En utvidelse av ASCII som definerer alle 256 verdier av hvert 8-biters tegn) eller &quot;UTF- for å indikere hvordan strengdata er kodet. Andre koder kan være lovlige, men er motløse.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="nc4-files">.nc 4 filer<a href="#nc4-files" class="hash-link" aria-label="Direkte lenke til.nc 4 filer" title="Direkte lenke til.nc 4 filer" translate="no">​</a></h4>
<ul>
<li class="">.nc 4 filer støtter hele ERDDAP Datatypene.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="nccsv-files">NCCSV-filer<a href="#nccsv-files" class="hash-link" aria-label="Direkte lenke tilNCCSV-filer" title="Direkte lenke tilNCCSV-filer" translate="no">​</a></h4>
<p>NCCSV 1.0 filer støtter ikke uoppklarte heltallsdatatyper.
<a class="" href="/nb/docs/user/nccsv-1.00">NCCSV 1.1+ filer</a> støtte alle usignerte heltallsdatatyper.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="dap">DAP<a href="#dap" class="hash-link" aria-label="Direkte lenke tilDAP" title="Direkte lenke tilDAP" translate="no">​</a></h4>
<ul>
<li class="">(OPeN)DAP  (.das, .dds, .asc ASCII-filer, og .dods binære filer) -<!-- -->
<ul>
<li class="">(OPeN)DAPhåndtere korte, ushort, inten, uint, flyte og dobbel verdier riktig.</li>
<li class="">(OPeN)DAPhar en data byte&quot; datatype som den definerer som udefinert, mens historisk, THREDDS og ERDDAP™ har behandlet - byte - som signert i deres(OPeN)DAPTjenester. For å håndtere dette bedre, ERDDAP™ 2.10+ følger NUG-standarden og legger alltid til en &quot;_Usignert&quot; attributt med en verdi av &quot;sann&quot; eller &quot;falsk&quot; for å indikere om dataene er hva ERDDAP™ Ring byte eller ubyte. Alle byte- og ubyte-attributter er skrevet som &quot;byte&quot; attributter med signerte verdier (f.eks. en ubyte actual\_range attributt med verdier 0 til 255, vises som en byte-attributt med verdier 0 til -1 (invers av de tos komplementverdi av den ut-fra-range verdien). Det er ingen enkel måte å vite hvilke - byte - attributter bør leses som ubyte attributter.</li>
<li class="">(OPeN)DAPikke støtte signert eller ubegrenset lengsel. ERDDAP™ håndtere dette ved å midlertidig konvertere dem til å være doble variabler og attributter. Doubles kan representere alle verdier opp til 9,007,199,254,740,992 som er 2^53. Dette er en ufullkommen løsning. OPeNDAP   (organisasjonen) nekter å gjøre en mindre oppgradering til DAP 2.0 å håndtere dette og relaterte problemer, sitere DAP 4 (En stor endring) som løsningen.</li>
<li class="">Fordi(OPeN)DAPhar ingen separat tegndatatype og teknisk bare støtter 1-byte ASCII tegn (#0 - #127) i Strenger vil tegndatavariabler vises som 1-tegn-lange strenger i(OPeN)DAP.das, .dds, og .dods svar.</li>
<li class="">Teknisk sett(OPeN)DAPSpesifikasjon støtter bare strenger med ASCII-kodede tegn (#0 - #127) .. NUG (og ERDDAP ) forlenge det (starter ~2017) ved å inkludere attributten &quot;\_koding&quot; med en verdi av &quot;ISO-8859-1&quot; (En utvidelse av ASCII som definerer alle 256 verdier av hvert 8-biters tegn) eller &quot;UTF- for å indikere hvordan strengdata er kodet. Andre koder kan være lovlige, men er motløse.
 </li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="data-type-comments">Datatype Kommentarer<a href="#data-type-comments" class="hash-link" aria-label="Direkte lenke tilDatatype Kommentarer" title="Direkte lenke tilDatatype Kommentarer" translate="no">​</a></h3>
<ul>
<li class="">På grunn av den dårlige støtten for lange, avlange og tegndata i mange filtyper, avviser vi bruken av disse datatypene i ERDDAP .. Når det er mulig, bruk doble i stedet for lange og avlange, og bruk streng i stedet for tegn.
 </li>
<li class="">Metadata - Fordi(OPeN)DAP.das og .dds-svar støtter ikke lange eller ulange attributter eller datatyper (I stedet vise dem som dobbel) Du kan i stedet ønske å bruke ERDDAP tabuar representasjon av metadata som sett i http .../erddap/ <strong>info</strong> / * datasetID * .html nettside (For eksempel <a href="https://coastwatch.pfeg.noaa.gov/erddap/info/cwwcNDBCMet/index.html" target="_blank" rel="noopener noreferrer" class="">https://coastwatch.pfeg.noaa.gov/erddap/info/cwwcNDBCMet/index.html</a>  )   (som du også kan komme i andre filtyper, f.eks. .htmlTable , .itx , .json , .jsonlCSV1 , .jsonlCSV , .jsonlKVP , .mat , .nc , .nccsv , .tsv , .xhtml ) eller .nccsv Metadatarespons (For eksempel <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/cwwcNDBCMet.nccsvMetadata" target="_blank" rel="noopener noreferrer" class="">https://coastwatch.pfeg.noaa.gov/erddap/tabledap/cwwcNDBCMet.nccsvMetadata</a> selv om .nccsv Metadata er kun tilgjengelig for tabelldatasett) Begge deler støtter alle datatyper (Spesielt lang, avlang og char) ..
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="media-files">Mediefiler<a href="#media-files" class="hash-link" aria-label="Direkte lenke tilMediefiler" title="Direkte lenke tilMediefiler" translate="no">​</a></h3>
<p>Ikke alle data er tabeller med tall eller tekst. Noen datasett består av eller inkluderer mediefiler, for eksempel bilder, lyd- og videofiler. ERDDAP™ har noen spesielle funksjoner for å gjøre det lettere for brukerne å få tilgang til mediefiler. Det er en to-trinns prosess:
 </p>
<ol>
<li class="">Gjør hver fil tilgjengelig via egen URL, via et system som støtter forespørsler om byteområde.
Den enkleste måten å gjøre dette på er å sette filene i en katalog som ERDDAP™ Har tilgang til. (Hvis de befinner seg i en beholder som en .zip fil, unzip dem, selv om du kanskje vil tilby .zip fil til brukere også.) Gjør en <a href="#eddtablefromfilenames" class="">EDDTableFromFileNames</a> datasett som gjør disse filene tilgjengelige via ERDDAP™ særlig via ERDDAP &#x27;s <a href="https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html" target="_blank" rel="noopener noreferrer" class=""> &quot;files&quot; systemet</a> ..</li>
</ol>
<p>Alle filer som er gjort tilgjengelige via EDDTableFromFileNames og ERDDAP &#x27;s &quot;files&quot; systemstøtte <a href="https://en.wikipedia.org/wiki/Byte_serving" target="_blank" rel="noopener noreferrer" class="">Byte rekkevidde forespørsler</a> .. Vanligvis når en klient (For eksempel en nettleser) gjør en forespørsel til en URL, den får hele filen som respons. Men med en byteområdeforespørsel, angir forespørselen et område av byte fra filen, og serveren returnerer kun disse bytene. Dette er relevant her fordi lyd- og videospillere i nettlesere bare fungerer hvis filen kan nås via byteområdeforespørsler.</p>
<p>Valgfritt: Hvis du har mer enn ett datasett med tilhørende mediefiler, kan du gjøre bare én EDDTableFromFileNames som har en undermappe for hver gruppe filer. Fordelen er at når du vil legge til nye mediefiler for et nytt datasett, alt du trenger å gjøre er å opprette en ny mappe og legge filene i den mappen. Mappen og filene vil automatisk bli lagt til i EDDTableFromFileNames datasett.</p>
<ol start="2">
<li class="">Valgfritt: Hvis du har et datasett som inkluderer referanser til mediefiler, legger det til i ERDDAP ..
For eksempel kan du ha en .csv-fil med en rad hver gang noen så en hval og en kolonne som inkluderer navnet på en bildefil relatert til den seing. Hvis navnet på bildefilen er bare filnamnet, for eksempel Img20141024T192403Z, ikke en full URL, må du legge til <a href="#fileaccessbaseurl" class="">filAccessBase Url og/eller filAccessSuffix</a> attributter til metadata for det dataVariable som angir baseURL og suffiks for disse filnavnene. Hvis du gjorde filene tilgjengelige via EDDTableFromFileNames, vil URL-adressen være i skjemaet
<em>baseUrl</em> /erddap/filer/ * datasetID * /
For eksempel</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;fileAccessBaseUrl&quot;&gt;*someBaseURL*&lt;/a&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;fileAccessSuffix&quot;&gt;.png&lt;/a&gt;</span><br></span></code></pre></div></div>
<p>Hvis det finnes en .zip eller annen containerfil med alle mediefilene relatert til en datavariabel, anbefaler vi at du også gjør filen tilgjengelig for brukerne. (se trinn 1 ovenfor) og deretter identifisere det med en <a href="#fileaccessarchiveurl" class="">filAccessArchive Url</a> attributt.</p>
<p>\[ Starter i ERDDAP™ v1.82 \] Hvis du gjør det første steget ovenfor (eller begge trinn) Når en bruker ser ERDDAP™   &quot;files&quot; system for det datasettet (eller spør om å se en undergruppe av datasettet via en .htmlTable Forespørsel om du gjorde det andre steget) , ERDDAP™ vil vise et «?»-ikon til venstre for filnamnet. Hvis brukeren sveves over ikonet, vil de se en popup som viser bildet, en lydspiller eller en videospiller. Nettlesere støtter bare et begrenset antall typer</p>
<ul>
<li class="">bilde (vanligvis .gif, .jpg, og .png) ,</li>
<li class="">lyd (vanligvis .mp3, .ogg, og .wav) , og</li>
<li class="">videofiler (vanligvis .mp4, .ogv, og . webm) ..</li>
</ul>
<p>Støtten varierer med ulike versjoner av forskjellige nettlesere på ulike operativsystemer. Så hvis du har et valg av hvilken filtype å tilby, det er fornuftig å tilby disse typene.</p>
<p>Eller hvis en bruker klikker på filnamnet som vises på en ERDDAP™ Nettleseren vil vise bildet, lyd- eller videofilen som en separat nettside. Dette er for det meste nyttig å se et veldig stort bilde eller video skalert til fullskjerm i stedet for i en popup.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="working-with-aws-s3-files">Arbeider med AWS S3 Filer<a href="#working-with-aws-s3-files" class="hash-link" aria-label="Direkte lenke tilArbeider med AWS S3 Filer" title="Direkte lenke tilArbeider med AWS S3 Filer" translate="no">​</a></h3>
<p><a href="https://aws.amazon.com" target="_blank" rel="noopener noreferrer" class="">Amazon Web Service (AWS) </a> er selger av <a href="https://en.wikipedia.org/wiki/Cloud_computing" target="_blank" rel="noopener noreferrer" class="">sky databehandling</a> Tjenester. <a href="https://aws.amazon.com/s3/" target="_blank" rel="noopener noreferrer" class="">S3</a> er et objektlagringssystem som tilbys av AWS. I stedet for det hierarkiske systemet med kataloger og filer av et tradisjonelt filsystem (som en harddisk i PCen) , S3 tilbyr bare &quot;buketter&quot; som holder &quot; objekter&quot; (Vi ringer dem &quot;files&quot; ) ..</p>
<p>For ASCII-filer (f.eks.) , ERDDAP™ kan jobbe med filene i bøtter direkte. Det eneste du trenger å gjøre er å spesifisere&lt;filDir&gt; for datasettet ved hjelp av et bestemt format for AWS-bøtte, f.eks.https://<em>bucketName</em>.s3.<em>aws-region</em>.amazonaws.com/<em>subdirectory</em>/.. Du bør ikke bruke&lt;cacheFromUrl&gt; . Se nedenfor for detaljer.</p>
<p>Men for binære filer (f.eks. .nc , .grib, .bufr, og .hdf filer) Du trenger å bruke&lt;cacheFromUrl&gt; system beskrevet nedenfor. ERDDAP , netcdf-java (som ERDDAP™ bruker til å lese data fra disse filene) , og annen vitenskapelig dataprogramvare er designet for å jobbe med filer i et tradisjonelt filsystem som tilbyr <a href="https://en.wikipedia.org/wiki/Block-level_storage" target="_blank" rel="noopener noreferrer" class="">blokknivå</a> tilgang til filer (som tillater å lese deler av en fil) , men S3 tilbyr kun <a href="https://en.wikipedia.org/wiki/Block-level_storage" target="_blank" rel="noopener noreferrer" class="">filnivå (objekt) </a> tilgang til filer (som bare tillater å lese hele filen) .. AWS tilbyr et alternativ til S3, <a href="https://aws.amazon.com/ebs/" target="_blank" rel="noopener noreferrer" class="">Elastisk blokkbutikk (EBS) </a> ), som støtter blokknivå tilgang til filer, men det er dyrere enn S3, så det brukes sjelden til bulk lagring av store mengder datafiler. (Når folk sier å lagre data i skyen (S3) er billig, det er vanligvis en epler til appelsiner sammenligning.)</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="s3-buckets">S3 Buckets<a href="#s3-buckets" class="hash-link" aria-label="Direkte lenke tilS3 Buckets" title="Direkte lenke tilS3 Buckets" translate="no">​</a></h4>
<p><strong>Innholdet i en bucket. Nøkkelene. Objekter.</strong><br>
<!-- -->Teknisk sett er S3 bøtter ikke organisert i en hierarkisk filstruktur som et filsystem på en datamaskin. I stedet inneholder bøtter kun &quot; objekter&quot; (filer) som alle har en nøkkel (navn) .. Et eksempel på en nøkkel i at noaa-goes17 bøtte er</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ABI-L1b-RadC/2019/235/22/OR\\_ABI-L1b-RadC-M6C01\\_G17\\_s20192352201196\\_e20192352203569\\_c20192352204013.nc</span><br></span></code></pre></div></div>
<p>Den tilsvarende URl for det objektet er</p>
<p><a href="https://noaa-goes17.s3.us-east-1.amazonaws.com/ABI-L1b-RadC/2019/235/22/OR_ABI-L1b-RadC-M6C01_G17_s20192352201196_e20192352203569_c20192352204013.nc" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com/ABI-L1b-RadC/2019/235/22/OR\_ABI-L1b-RadC-M6C01\_G17\_s20192352201196\_e20192352203569\_c20192352204013.nc</a></p>
<p>AWS støtter litt variasjon i hvordan URL er konstruert, men ERDDAP™ krever dette spesifikke formatet:
  https://<em>bucketName</em>.s3.<em>region</em>.amazonaws.com/<em>key</em></p>
<p>som ERDDAP v2.29, kan du nå bruke <code>s3://</code> URI-format i stedet for nettadresse. Dette er det formatet som brukes av <a href="https://docs.aws.amazon.com/cli/latest/reference/s3/" target="_blank" rel="noopener noreferrer" class="">AWS s3 cli</a> ..
s3:// <em>bøtteName</em> / <em>nøkkel</em></p>
<p>Den <em>regionen</em> for S3-adressen kan angis på én av tre måter:</p>
<ul>
<li class="">Den <em>regionen</em> i Tomcat-brukerens <code>~/.aws/config</code> profil</li>
<li class="">Den <code>AWS_DEFAULT_REGION</code> miljøvariabel</li>
<li class="">Den <code>aws.region</code> JVM variabel (i setenv.sh for Tomcat)</li>
</ul>
<p>Det er vanlig å praktisere, som med dette eksempelet, å få nøkkelnavn til å se ut som en hierarkisk bane pluss et filnavn, men teknisk sett ikke. Siden det er vanlig og nyttig, ERDDAP™ behandler nøkler med / er som om de er en hierarkisk sti pluss filnavn, og denne dokumentasjonen vil referere til dem som sådan. Hvis en bøttes nøkler ikke bruker /s (f.eks. en nøkkel som
ABI-Lib.2018.052.2.OR\_ABI-L1b-RadM2-M3C10\_G16\_s20180522247575), deretter ERDDAP™ vil bare behandle hele nøkkelen som et langt filnamn.</p>
<p>Privat vs Offentlige Buckets -- Administratoren for S3 bøtte kan gjøre bøtte og dets innhold offentlig eller privat. Hvis offentlig, kan en fil i bøtte lastes ned av alle som bruker URL-adressen til filen. Amazon har en <a href="https://aws.amazon.com/opendata/" target="_blank" rel="noopener noreferrer" class="">Åpne data</a> program som er vert for offentlige datasett (inkludert data fra NOAA NASA og USGS) gratis og ikke belaste for noen å laste ned filene fra disse bøtter. Hvis en bøtte er privat, er filer i skuffen bare tilgjengelig for autoriserte brukere og AWS tar en avgift (vanligvis betalt av eieren av bøtte) for å laste ned filer til en ikke-AWS S3 datamaskin. ERDDAP™ kan jobbe med data i offentlige og private bøtter.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="aws-credentials">AWS-bekreftelse<a href="#aws-credentials" class="hash-link" aria-label="Direkte lenke tilAWS-bekreftelse" title="Direkte lenke tilAWS-bekreftelse" translate="no">​</a></h4>
<p>For å gjøre det slik at ERDDAP™ kan lese innholdet i private bøtter, du trenger AWS-informasjon og du trenger å lagre en legitimasjonsfil på standard sted så ERDDAP™ finner informasjonen. Se AWS SDK for Java 2.x dokumentasjon: <a href="https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/setup.html#setup-credentials" target="_blank" rel="noopener noreferrer" class="">Sett standardinformasjon</a> .. (Muligheten til å lagre verdiene som Java kommandolinjeparametere i \[ tomcat \] /bin/setenv.sh kan være et godt alternativ.)</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="aws-files">AWS/filer/<a href="#aws-files" class="hash-link" aria-label="Direkte lenke tilAWS/filer/" title="Direkte lenke tilAWS/filer/" translate="no">​</a></h4>
<ul>
<li class="">/files/ system -- Den ERDDAP™   <a href="#accessibleviafiles" class="">/filer/system</a> tillater brukere å laste ned kildefilene for et datasett. Vi anbefaler at du slår på dette for alle datasett med kildefiler fordi mange brukere vil laste ned de opprinnelige kildefilene.<!-- -->
<ul>
<li class="">Hvis filene er i en privat S3 bøtte, vil brukerens forespørsel om å laste ned en fil bli behandlet av ERDDAP™ , som vil lese data fra filen og deretter overføre den til brukeren, og dermed øke belastningen på din ERDDAP™ , ved å bruke innkommende og utgående båndbredde, og gjøre deg (den ERDDAP™ administrator) Betal data egress gebyr til AWS.</li>
<li class="">Hvis filene er i en offentlig S3-bøtte, vil brukerens forespørsel om å laste ned en fil bli videresendt til AWS S3-adressen for den filen, slik at dataene ikke vil strømme gjennom ERDDAP™ , dermed redusere belastningen på ERDDAP .. Og hvis filene er i en Amazon Open Data (gratis) offentlig bøtte, så du (den ERDDAP™ administrator) vil ikke trenge å betale noe data egress gebyr til AWS. Derfor er det en stor fordel å betjene data fra offentlig (ikke privat) S3 bøtter, og en stor fordel å betjene data fra Amazon Open Data (gratis) Bøtter.</li>
</ul>
</li>
</ul>
<p>ERDDAP Støtter også anonyme legitimasjoner til offentlige bøtter. Hvis du vil bruke anonyme legitimasjoner, må du legge til <code>&lt;useAwsAnonymous&gt; sant &lt;/useAwsAnonymous&gt;</code> til setup.xml.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="custom-s3-endpoints">Tilpassede S3-endepunkter<a href="#custom-s3-endpoints" class="hash-link" aria-label="Direkte lenke tilTilpassede S3-endepunkter" title="Direkte lenke tilTilpassede S3-endepunkter" translate="no">​</a></h4>
<p>For S3 kompatibelt objektlagring som ikke er hostet av Amazon, må du konfigurere <a href="https://docs.aws.amazon.com/sdkref/latest/guide/feature-ss-endpoints.html" target="_blank" rel="noopener noreferrer" class="">endpoint_url</a> sammen med å spekulere på bøtte/nøkkel ved hjelp av en <code>s3://</code> Adresse.</p>
<p>Den <em>endpoint_url</em> kan angis på én av tre måter:</p>
<ul>
<li class="">Den <em>endpoint_url</em> i Tomcat-brukerens <code>~/.aws/config</code> profil</li>
<li class="">Den <code>AWS_ENDPOINT_URL</code> miljøvariabel</li>
<li class="">Den <code>aws.endpoint Url</code> JVM variabel (i setenv.sh for Tomcat)</li>
</ul>
<p>For en fullstendig liste av S3-konfigurasjonsvariabler, <a href="https://docs.aws.amazon.com/cli/latest/topic/config-vars.html" target="_blank" rel="noopener noreferrer" class="">Se Amazon-dokumentasjonen</a> ..</p>
<p><strong>Selvsignerte sertifikater</strong>
For selvstyrte S3-bøtter vil du ofte ha selvsignerte SSL-sertifikater. For ERDDAP å lese fra disse bøtter, må du legge til sertifikatkjeden i JVM tillitstore på <code>$JAVA_HOME/Jre/lib/sikkerhet/cacerts</code> .. I tillegg, ERDDAP bruker <a href="https://docs.aws.amazon.com/sdkref/latest/guide/common-runtime.html" target="_blank" rel="noopener noreferrer" class="">AWS Common Runtime</a> å få tilgang til bøtte asynkront. Dette øker ytelse, men krever også at selvsignerte sertifikater blir lagt til OS-spesifikk tillitsbutikk. Hvis du vil unngå å gjøre dette, kan du deaktivere AWS CRT med <code>&lt;useAwsCrt&gt; falsk &lt;/useAwsCrt&gt;</code> i din setup.xml.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="erddap-and-aws-s3-buckets">ERDDAP™ AWS S3 Buckets<a href="#erddap-and-aws-s3-buckets" class="hash-link" aria-label="Direkte lenke tilERDDAP™ AWS S3 Buckets" title="Direkte lenke tilERDDAP™ AWS S3 Buckets" translate="no">​</a></h4>
<p><a href="#erddap-and-aws-s3-buckets" class=""> ** ERDDAP™ AWS S3 Buckets** </a><br>
<!-- -->Heldigvis etter mye innsats, ERDDAP™ har en rekke funksjoner som tillater det å håndtere de iboende problemene med å jobbe med S3s blokknivå tilgang til filer på en rimelig effektiv måte:</p>
<ul>
<li class="">\[ Disclaimer: Å jobbe med AWS S3 bøtter er mye ekstra arbeid. AWS er et stort økosystem av tjenester og funksjoner. Det er mye å lære. Det tar tid og innsats, men det kan gjøres. Vær tålmodig og du får ting til å fungere. Se / spør om hjelp
( <a href="https://aws.amazon.com/documentation/gettingstarted/" target="_blank" rel="noopener noreferrer" class="">AWS dokumentasjon</a> Nettsteder som <a href="https://stackoverflow.com/" target="_blank" rel="noopener noreferrer" class="">Stack Overflow</a> og det vanlige
<a class="" href="/nb/docs/intro#support"> ERDDAP™ støttealternativer</a> Hvis/når du sitter fast. \]<br>
<!-- --> </li>
<li class="">Det kan være vanskelig å finne ut katalogstrukturen og filnavnene på filene i en S3 bøtte. ERDDAP™ har en løsning på dette problemet: EDDTableFromFileNames har en spesiell <a href="#fromonthefly" class="">\*\** fraOnTheFly</a> alternativet som lar deg lage et EDDTableFromFileNames datasett som lar brukerne bla gjennom innholdet i en S3-bøtte (og laste ned filer) via datasettets &quot;files&quot; Valg. Det er en <a href="#viewing-the-contents-of-a-bucket" class="">Eksempler på dette nedenfor</a> ..
 </li>
<li class="">ERDDAP™ Kan lese data fra <a href="#externally-compressed-files" class="">eksternt komprimerte datafiler</a> , så det er fint hvis filene på S3 lagres som .gz , .gzip , .bz2 , .Z eller andre typer eksterne komprimerte datafiler som kan dramatisk (2-20X) kuttet ned på fillagringskostnader. Det er ofte ingen tidsstraff for å bruke eksterne komprimerte filer, siden tiden lagret ved å overføre en mindre fil fra S3 til ERDDAP balanserer den ekstra tiden som trengs for ERDDAP™ å dekomprimere filen. For å bruke denne funksjonen må du bare sørge for at datasettet er&lt;filNameRegex&gt; tillater den komprimerte filtypen (For eksempel ved å legge til ( |  .gz ) til slutten av regulatoriet) ..
 </li>
<li class="">I det vanligste tilfellet, hvor du har et ERDDAP™ installert på PC-en for test/utvikling og hvor datasettet har binære datafiler som lagres som objekter i en S3-bøtte, en tilnærming til å få datasettet i ERDDAP™ er:<!-- -->
<ol>
<li class="">
<p>Lag en mappe på PC-en for å holde noen testdatafiler.</p>
</li>
<li class="">
<p>Last ned to datafiler fra kilden til katalogen du nettopp opprettet.</p>
</li>
<li class="">
<p>Bruk <a href="#generatedatasetsxml" class="">Generer DatasetsXml</a> å generere delen av datasets.xml for datasettet basert på de to lokale datafiler.</p>
</li>
<li class="">
<p>Sjekk at datasettet fungerer som ønsket <a href="#dasdds" class="">DasDds</a> og/eller din lokale ERDDAP ..</p>
<p><strong>Følgende trinn gjør en kopi av dette datasettet (som vil få data fra S3 bøtte) på offentlig ERDDAP ..</strong></p>
</li>
<li class="">
<p>Kopier biten av datasets.xml for datasettet til datasets.xml for publikum ERDDAP™ Dette vil tjene dataene.</p>
</li>
<li class="">
<p>Lag en katalog på offentligheten ERDDAP Lokal harddisk for å holde en cache av midlertidige filer. Katalogen vil ikke bruke mye diskplass (se cacheSizeGB under) ..</p>
</li>
<li class="">
<p>Endre verdien av datasettets&lt;filDir&gt; tag slik at det peker til katalogen du nettopp opprettet (Selv om katalogen er tom) ..</p>
</li>
<li class="">
<p>Legg til en <a href="#cachefromurl" class="">cacheFromUrl</a> Tag som angir datasettets bøttenavn og valgfritt prefiks (dvs. katalog) i spesifikke <a href="#accessing-files-in-an-aws-s3-bucket" class="">Aws S3 URL-format som ERDDAP™ krever</a> ..</p>
</li>
<li class="">
<p>Legg til [&lt;cacheSizeGB&gt;] (#cachefromurl) Tagg til datasettets xml (For eksempel er 10 en god verdi for de fleste datasett.) å fortelle ERDDAP™ begrense størrelsen på den lokale cache (Ikke prøv å cache alle de eksterne filene) ..</p>
</li>
<li class="">
<p>Se om det fungerer i publikum ERDDAP .. Merk at første gang ERDDAP™ laster datasettet, det vil ta lang tid å laste, fordi ERDDAP™ må laste ned og lese alle datafilene.</p>
</li>
</ol>
</li>
</ul>
<p>Hvis datasettet er en enorm samling av enorme datafiler, vil dette ta svært lang tid og være upraktisk. I noen tilfeller for rutenettede datafiler, ERDDAP™ kan trekke ut den nødvendige informasjonen (F.eks. tidspunktet for dataene i en gitt datafil) fra filnavnet og unngå dette problemet. Se <a href="#aggregation-via-file-names-or-global-metadata" class="">aggregering via Filnavn</a> ..</p>
<ol start="11">
<li class="">Valgfritt (men spesielt for EDDTableFromFiles datasett) Du kan legge til en <a href="#nthreads" class="">nThreds</a> Tagge til datasettet å fortelle ERDDAP å bruke mer enn 1 tråd når du svarer på en brukers anmodning om data. Dette minimerer effekten av forsinkelsen som oppstår når ERDDAP™ leser datafiler fra (fjernkontroll) AWS S3 bøtter i lokal cache og (Kanskje) Dekomprimere dem.</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="aws-s3-open-data">AWS S3 Open Data<a href="#aws-s3-open-data" class="hash-link" aria-label="Direkte lenke tilAWS S3 Open Data" title="Direkte lenke tilAWS S3 Open Data" translate="no">​</a></h4>
<p>Som en del av NOAA &#x27;s <a href="https://www.noaa.gov/nodd/about" target="_blank" rel="noopener noreferrer" class="">Big Data Program</a> , NOAA har partnerskap med fem organisasjoner, inkludert AWS, &quot; for å utforske potensielle fordeler ved å lagre kopier av viktige observasjoner og modellutganger i Skyen for å tillate databehandling direkte på dataene uten å kreve ytterligere distribusjon&quot;. AWS inkluderer datasettene det kommer fra NOAA som en del av programmet for å tilby offentlig tilgang til en stor samling <a href="https://registry.opendata.aws/" target="_blank" rel="noopener noreferrer" class="">Åpne data på AWS S3</a> fra alle datamaskiner, om det er en Amazon beregnende instans (en leid datamaskin) på AWS-nettverket eller din egen PC på ethvert nettverk. Eksemplet nedenfor antar at du jobber med et offentlig tilgjengelig datasett.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="accessing-files-in-an-aws-s3-bucket">Tilgang til filer i en AWS S3 Bucket<a href="#accessing-files-in-an-aws-s3-bucket" class="hash-link" aria-label="Direkte lenke tilTilgang til filer i en AWS S3 Bucket" title="Direkte lenke tilTilgang til filer i en AWS S3 Bucket" translate="no">​</a></h4>
<p>For en privat S3-databøtte må bøtteens eier gi deg tilgang til bøtten. (Se AWS-dokumentasjonen.)</p>
<p>I alle tilfeller trenger du en AWS-konto fordi AWS SDK for Java   (som ERDDAP™ bruker til å hente informasjon om innholdet i en bøtte) krever AWS kontoinformasjon. (Mer om dette nedenfor)</p>
<p>ERDDAP™ kan kun få tilgang til AWS S3 bøtter hvis du angir [&lt;cacheFromUrl&gt;] (#cachefromurl) (eller&lt;filDir&gt;) i et bestemt format:
https://<em>bucketName</em>.s3.<em>aws-region</em>.amazonaws.com/<em>prefix/</em><br>
<!-- -->hvor</p>
<ul>
<li class="">Bøttenavnet er den korte formen for bøttenavnet, for eksempel noaa-goes17.</li>
<li class="">Aws-region, for eksempel us-aust-1, er fra &quot;regionen&quot; kolonnen i en av tabellene i <a href="https://docs.aws.amazon.com/general/latest/gr/rande.html" target="_blank" rel="noopener noreferrer" class="">AWS Service Endepunkter</a> Hvor bøtte er faktisk plassert.</li>
<li class="">Prefikset er valgfritt. Hvis det er til stede, må det slutte med &#x27;/&#x27; ..</li>
</ul>
<p>For eksempelhttps://noaa-goes17.s3.us-east-1.amazonaws.com/ABI-L1b-RadC/<br>
<!-- -->Dette URL-formatet er en av AWS S3-anbefalingene: se <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html" target="_blank" rel="noopener noreferrer" class="">Få tilgang til en Bucket</a> og <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/ListingKeysHierarchy.html" target="_blank" rel="noopener noreferrer" class="">denne beskrivelsen av prefiks</a> .. ERDDAP™ krever at du kombinerer bucket URL og det valgfrie prefikset i en URL for å angi&lt;cacheFra Url&gt; (eller&lt;filDir&gt;) der filene er plassert.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="test-public-aws-s3-buckets">Test Offentlige AWS S3 Buckets<a href="#test-public-aws-s3-buckets" class="hash-link" aria-label="Direkte lenke tilTest Offentlige AWS S3 Buckets" title="Direkte lenke tilTest Offentlige AWS S3 Buckets" translate="no">​</a></h4>
<p>For offentlige bøtter kan du og bør teste buckle URL i AWS S3-katalogen i nettleseren din, f.eks.
<a href="https://noaa-goes17.s3.us-east-1.amazonaws.com" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com</a> Hvis nettadressen er riktig og egnet for ERDDAP , vil det returnere et XML-dokument som har (delvis) Liste over innholdet i den bøylen. Dessverre, hele URL (bucket URL pluss prefiks) som ERDDAP™ Ønsker for et gitt datasett fungerer ikke i en nettleser. AWS tilbyr ikke et system for å bla gjennom hierarkiet i en bøtte enkelt i nettleseren din. (Hvis det er feil, vennligst send en e-post til Chris. John på noaa.gov. Ellers Amazon, vennligst legg til støtte for dette!)</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="viewing-the-contents-of-a-bucket">Se innholdet i en bucket<a href="#viewing-the-contents-of-a-bucket" class="hash-link" aria-label="Direkte lenke tilSe innholdet i en bucket" title="Direkte lenke tilSe innholdet i en bucket" translate="no">​</a></h4>
<p>S3 bøtter inneholder ofte et par kategorier av filer, i et par pseudo underkataloger, som kan bli et par av ERDDAP™ Datasett. å gjøre ERDDAP™ datasett, må du vite startkatalogen for&lt;cacheFra Url&gt; (eller&lt;filDir&gt;) og filformatet til filnavnene som identifiserer den undergruppen av filer. Hvis du prøver å vise hele innholdet i en bøtte i en nettleser, vil S3 bare vise deg de første 1000 filene, noe som er utilstrekkelig. For øyeblikket, den beste måten for deg å se alt innholdet i en bøtte er å lage en <a href="#eddtablefromfilenames" class="">EDDTableFromFileNames</a> Datasett (på din PCs ERDDAP™ og/eller offentlig ERDDAP ) , som også gir deg en enkel måte å bla gjennom katalogstrukturen og laste ned filer. Den&lt;filDir&gt; for det vil være URL du laget ovenfor, f.eks.<a href="https://noaa-goes17.s3.us-east-1.amazonaws.com" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com</a>.. \[ Hvorfor tilbyr ikke AWS S3 en rask og enkel måte for alle å gjøre dette uten en AWS-konto? \] Legg merke til at når jeg gjør dette på PCen min på et ikke-Amazon-nettverk, ser det ut til at Amazon senker responsen på en trickle (Rundt 100 (?) filer per bit) etter de første bitene (1000 av filer per bit) er lastet ned. Siden bøtter kan ha et stort antall filer (noaa-goes17 har 26 millioner) , å få alt innholdet i en bøtte kan ta EDDTableFromFileNames flere timer (For eksempel 12!) For å fullføre. \[ Amazon, er det sant? \]</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="making-an-eddtablefromfilenames-dataset-with-an-aws-s3-bucket">Å lage en EDD-tabell FraFileNames datasett med AWS S3 Bucket<a href="#making-an-eddtablefromfilenames-dataset-with-an-aws-s3-bucket" class="hash-link" aria-label="Direkte lenke tilÅ lage en EDD-tabell FraFileNames datasett med AWS S3 Bucket" title="Direkte lenke tilÅ lage en EDD-tabell FraFileNames datasett med AWS S3 Bucket" translate="no">​</a></h4>
<p>Hvis du har et bøndenavn, men ikke allerede har en liste over filer i S3-bøtten eller prefikset som identifiserer plasseringen av de relevante filene i bøtten, bruk instruksjonene nedenfor for å lage en EDDTableFromFileNames datasett slik at du kan bla gjennom kataloghierarkiet til S3-bøtten via ERDDAP &#x27;s &quot;files&quot; systemet.</p>
<ol>
<li class="">Åpne AWS-konto
ERDDAP™ bruker <a href="https://docs.aws.amazon.com/sdk-for-java/index.html" target="_blank" rel="noopener noreferrer" class="">AWS SDK for Java </a> å få bøtteinformasjon fra AWS, så du må <a href="https://aws.amazon.com/premiumsupport/knowledge-center/create-and-activate-aws-account/" target="_blank" rel="noopener noreferrer" class="">opprette og aktivere en AWS-konto</a> .. Det er en ganske stor jobb med mye å lære.
 </li>
<li class="">Sett dine AWS-bekreftelser der ERDDAP™ kan finne dem.
Følg instruksjonene på <a href="https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/setup.html#setup-credentials" target="_blank" rel="noopener noreferrer" class="">Opprette AWS-bekreftelse og region for utvikling</a> så ERDDAP™   (Spesielt AWS SDK for Java ) vil kunne finne og bruke AWS-opplysningene dine. Hvis ERDDAP™ kan ikke finne legitimasjonene, vil du se en
Java.lang. UlovligArgumentException: profilfil kan ikke være null feil i ERDDAP log.txt-fil.</li>
</ol>
<p>Tips til Linux og Mac OS: legitimasjonsfilen må være i hjemmekatalogen til brukeren som kjører Tomcat (og ERDDAP )   (For dette avsnittet antar vi bruker=tomcat) i en fil som heter ~/.aws/credentials. Ikke anta at ~ er /home/tomcat -- faktisk bruke cd ~ til å finne ut hvor operativsystemet tenker ~ for user=tomcat er. Lag katalogen hvis den ikke eksisterer. Når du har satt legitimasjonsfilen på plass, må du også sørge for at brukeren og gruppen til filen er tomcat og deretter bruke chmod 400 legitimasjoner for å sikre at filen er skrivebar for bruker=tomcat.</p>
<ol start="3">
<li class="">Opprett bucket URL i <a href="#accessing-files-in-an-aws-s3-bucket" class="">format som ERDDAP™ krever</a> f.eks.
<a href="https://noaa-goes17.s3.us-east-1.amazonaws.com" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com</a> , og (For offentlige bøtter) test den i en nettleser for å sørge for at den returnerer et XML-dokument som har en delvis oppføring av innholdet i den bøtten.
 </li>
<li class="">Bruk <a href="#generatedatasetsxml" class="">Generer DatasetsXml</a> å skape en <a href="#eddtablefromfilenames" class="">EDDTableFromFileNames</a> datasett:<!-- -->
<ul>
<li class="">Bruk denne syntaksen for å starte mappen:
\<em>\</em>\ <em>fra OnTheFly,</em> dinBucketUrl*
For eksempel
\*\**fraOnTheFly,<a href="https://noaa-goes17.s3.us-east-1.amazonaws.com/" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com/</a></li>
<li class="">Filnavn regulært? .\*</li>
<li class="">Rekursivt? sant</li>
<li class="">Last på nytt Hver minute? 10080</li>
<li class="">infoUrl ?<a href="https://registry.opendata.aws/noaa-goes/" target="_blank" rel="noopener noreferrer" class="">https://registry.opendata.aws/noaa-goes/</a></li>
<li class="">institusjon? NOAA</li>
<li class="">Sammendrag? ingenting ( ERDDAP™ vil opprette et anstendig sammendrag automatisk.)</li>
<li class="">Tittel? ingenting ( ERDDAP™ vil opprette en god tittel automatisk.) Som vanlig bør du redigere den resulterende XML for å verifisere riktighet og gjøre forbedringer før biten av datasett ved hjelp av den i datasets.xml ..</li>
</ul>
</li>
<li class="">Hvis du følger instruksjonene ovenfor og laster datasettet i ERDDAP , har du opprettet et EDDTableFromFiles datasett. Som et eksempel, og for å gjøre det lettere for alle å bla gjennom og laste ned filer fra AWS Open Data-bøtter, har vi opprettet EDDTableFromFileNames datasett (se listen på
<a href="https://upwell.pfeg.noaa.gov/erddap/search/index.html?searchFor=awsS3Files_" target="_blank" rel="noopener noreferrer" class="">https://upwell.pfeg.noaa.gov/erddap/search/index.html?searchFor=awsS3Files\_</a> For nesten alle <a href="https://registry.opendata.aws/" target="_blank" rel="noopener noreferrer" class="">AWS S3 Åpne databøtter</a> ..
\[ De få bøtter som vi ikke inkluderte enten har et stort antall filer i rotkatalogen (Mer enn kan lastes ned på rimelig tid) eller ikke tillater offentlig tilgang (Skal ikke alle være offentlige?) , eller er forespører betaler bøtter (For eksempel Sentinel) .. \]<br>
<!-- -->Hvis du klikker på &quot;files&quot; lenke for et av disse datasettene, kan du bla gjennom katalogtreet og filene i den S3 bøtte. På grunn av veien\*\**FraOnTheFly EDDTableFraFiles fungerer, disse kataloglistene er alltid helt oppdaterte fordi ERDDAP™ Få dem på flyet. Hvis du klikker ned katalogtreet til et faktisk filnamn og klikker på filnamnet, ERDDAP™ vil omdirigere forespørselen din til AWS S3 slik at du kan laste ned filen direkte fra AWS. Du kan så inspisere den filen.</li>
</ol>
<p>Problemer?
Hvis EDDTableFromFiles ikke lastes inn ERDDAP™   (eller DasDds) , se i log.txt-filen for en feilmelding. Hvis du ser en
Java.lang. UlovligArgumentException: profilfilen kan ikke være null feil, problemet er at AWS SDK for Java   (Brukes av ERDDAP ) Finner ikke legitimasjonsfilen. Se instruksjonene ovenfor.
 </p>
<p>Det er uheldig at AWS ikke bare tillater folk å bruke en nettleser til å se innholdet i en offentlig bøtte.</p>
<p><strong>Da kan du lage ERDDAP™ datasett som gir brukerne tilgang til dataene i filene.</strong><br>
<!-- -->Se instruksjonene i <a href="#erddap-and-aws-s3-buckets" class=""> ERDDAP™ S3 Buckets</a>   (over) ..
For prøven EDDTableFromFileNames datasett som du laget ovenfor, hvis du gjør en liten poking rundt med mappen og filnavnene i katalogtreet, blir det klart at toppnivåkatalognavnene (For eksempel ABI-L1b-RadC) svarer til hva ERDDAP™ Skulle kalle separate datasett. Boksen du jobber med kan være lignende. Du kan deretter forfølge å skape separate datasett i ERDDAP™ for hvert av disse datasettene, f.eks.
<a href="https://noaa-goes17.s3.us-east-1.amazonaws.com/ABI-L1b-RadC/" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com/ABI-L1b-RadC/</a><br>
<!-- -->som&lt;cacheFromUrl&gt;. Dessverre synes alle datasettene i bøtte å være nivå 1 eller nivå 2 datasett, som ERDDAP™   <a href="#dimensions" class="">Er ikke spesielt bra på</a> , fordi datasettet er en mer komplisert samling av variabler som bruker ulike dimensjoner.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ncml-files">NcML-filer<a href="#ncml-files" class="hash-link" aria-label="Direkte lenke tilNcML-filer" title="Direkte lenke tilNcML-filer" translate="no">​</a></h3>
<p>NcML-filer kan du angi endringer i en eller flere opprinnelige kilde på flyet NetCDF   (v3 eller v4)   .nc , .grib, .bufr, eller .hdf   (v4 eller v5) Filer, og deretter har ERDDAP™ behandle .nc ml filer som kildefiler. ERDDAP™ Datasett vil akseptere .nc ml filer når som helst .nc Filene er forventet. NcML-filene må ha utvidelsen .nc ml. Se <a href="https://docs.unidata.ucar.edu/netcdf-java/current/userguide/ncml_overview.html" target="_blank" rel="noopener noreferrer" class=""> Unidata NcML-dokumentasjon</a> .. NcML er nyttig fordi du kan gjøre noen ting med det (For eksempel gjør forskjellige endringer i ulike filer i en samling, inkludert å legge til en dimensjon med en bestemt verdi i en fil) som du ikke kan gjøre med ERDDAP &#x27;s datasets.xml ..</p>
<ul>
<li class="">Endringer i en .nc ml-filens siste modifiserte tid vil føre til at filen lastes på nytt når datasettet lastes på nytt, men endringer i det underliggende .nc Datafiler vil ikke bli direkte lagt merke til.</li>
<li class="">Tips: NcML er\*meget\*sensitive for rekkefølgen av noen elementer i NcML-filen. Tenk på NcML som å spesifisere en rekke instruksjoner i den angitte rekkefølgen, med hensikt å endre kildefilene (tilstanden i start/toppen av NcML-filen) i destinasjonsfilene (tilstanden på slutten/bunn av NcML-filen) ..</li>
</ul>
<p>Et alternativ til NcML er <a href="#netcdf-operators-nco" class=""> NetCDF Operatører ( NCO ) </a> .. Den store forskjellen er at NcML er et system for å gjøre endringer på flyet (så kildefilene er ikke endret) , mens NCO kan brukes til å gjøre endringer i (nye versjoner av) Filene. Begge NCO Og NcML er veldig, veldig fleksibel og lar deg gjøre nesten alle endringer du kan tenke på til filene. For begge kan det være utfordrende å finne ut nøyaktig hvordan du gjør det du vil gjøre - sjekk nettet for lignende eksempler. Begge er nyttige verktøy for å forberede netCDF og HDF filer til bruk med ERDDAP spesielt å gjøre endringer utover hva ERDDAP Manipuleringssystemet kan gjøre det.</p>
<p>Eksempel 1: Legg til en tidsdimensjon med en enkelt verdi
Her er en .nc ml fil som skaper en ny ytre dimensjon (tid, med 1 verdi: 1041379200) og legger den dimensjonen til bildevariabelen i filen kalt A2003001.L3m\_DAY\_PIC\_pic\_4km .nc :)</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;netcdf xmlns=&#x27;https://www.unidata.ucar.edu/namespaces/netcdf/ncml-2.2&#x27;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;variable name=&#x27;time&#x27; type=&#x27;int&#x27; shape=&#x27;time&#x27; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;aggregation dimName=&#x27;time&#x27; type=&#x27;joinNew&#x27;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;variableAgg name=&#x27;pic&#x27;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;netcdf location=&#x27;A2003001.L3m\\_DAY\\_PIC\\_pic\\_4km.nc&#x27; coordValue=&#x27;1041379200&#x27;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/aggregation&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/netcdf&gt;</span><br></span></code></pre></div></div>
<p>Eksempel #2: Endre eksisterende tidsverdi
Noen ganger kilden .nc filen har allerede en tidsdimensjon og tidsverdi, men verdien er feil (til dine formål) .. Dette .nc ml fil sier: for datafilen som heter&quot;198119810825230030-NCEI...&quot;, for dimensjonsvariabelen &quot;time&quot; , angi enhetene attributt til å være &#x27;sekunder siden 1970-01-01T00:00:00Z&#x27; og angi tidsverdien til å være 367588800.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;netcdf xmlns=&#x27;https://www.unidata.ucar.edu/namespaces/netcdf/ncml-2.2&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      location=&quot;19810825230030-NCEI-L3C\\_GHRSST-SSTskin-AVHRR\\_Pathfinder-PFV5.3\\_NOAA07\\_G\\_1981237\\_day-v02.0-fv01.0.nc&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;variable name=&quot;time&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;attribute name=&#x27;units&#x27; value=&#x27;seconds since 1970-01-01T00:00:00Z&#x27; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;values&gt;367588800&lt;/values&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/variable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/netcdf&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="netcdf-operators-nco">NetCDF Operatører ( NCO )<a href="#netcdf-operators-nco" class="hash-link" aria-label="Direkte lenke tilNetCDF Operatører ( NCO )" title="Direkte lenke tilNetCDF Operatører ( NCO )" translate="no">​</a></h3>
<p>&quot;NetCDF-operatørene ( NCO ) omfatter et dusin frittstående, kommandolinjeprogrammer som tar netCDF \[ v3 eller v4 \] , HDF   \[ v4 eller v5 \] , \[ .grib, .bufr, \] og/eller DAP filer som input, deretter operere (f.eks. utlede nye data, beregne statistikk, skrive ut, hyperslab, manipulere metadata) og skriv ut resultatene til skjerm eller filer i tekst, binære eller netCDF-formater. NCO Bistandsanalyse av nettbaserte vitenskapelige data. Skal-kommando stilen til NCO gjør det mulig for brukerne å manipulere og analysere filer interaktivt, eller med ekspressive skript som unngår noen overhead av høyere nivå programmeringsmiljøer.&quot; (fra <a href="https://nco.sourceforge.net/" target="_blank" rel="noopener noreferrer" class=""> NCO </a> hjemmeside) ..</p>
<p>Et alternativ til NCO er <a href="#ncml-files" class="">NcML</a> .. Den store forskjellen er at NcML er et system for å gjøre endringer på flyet (så kildefilene er ikke endret) , mens NCO kan brukes til å gjøre endringer i (nye versjoner av) Filene. Begge NCO Og NcML er veldig, veldig fleksibel og lar deg gjøre nesten alle endringer du kan tenke på til filene. For begge kan det være utfordrende å finne ut nøyaktig hvordan du gjør det du vil gjøre - sjekk nettet for lignende eksempler. Begge er nyttige verktøy for å forberede netCDF og HDF filer til bruk med ERDDAP spesielt å gjøre endringer utover hva ERDDAP Manipuleringssystemet kan gjøre det.</p>
<p>Du kan for eksempel bruke NCO å gjøre enhetene i tidsvariabelen konsekvent i en gruppe av filer der de ikke var konsekvent opprinnelig. Eller du kan bruke NCO å søke scale\_factor og add\_offset i en gruppe filer hvor scale\_factor og add\_offset har forskjellige verdier i forskjellige kildefiler.
(Eller du kan nå håndtere disse problemene i ERDDAP™ via <a href="#eddgridfromncfilesunpacked" class=""> EDDGrid FraNcFilesUpakket</a> som er en variant av EDDGrid FraNcFiles som pakker ut pakkede data og standardiserer tidsverdier på et lavt nivå for å håndtere en samlingsfil som har forskjellige scale\_factor S og add\_offset Eller ulike tidsenheter.)</p>
<p>NCO er gratis og åpen kilde programvare som bruker <a href="https://www.gnu.org/licenses/gpl-3.0.html" target="_blank" rel="noopener noreferrer" class="">GPL 3.0</a> lisens.</p>
<p>Eksempel #1: Å gjøre enheter konsekvente
EDDGrid Fra Filer og EDDTable Fra Filer insisterer på at enhetene for en gitt variabel er identiske i alle filene. Hvis noen av filene er trivielt (Ikke funksjonelt) forskjellig fra andre (f.eks. tidsenheter av
&quot; sekunder siden 1970-01-01 00:00 UTC&quot; versus
&quot;seconds since 1970-01-01T00:00:00Z&quot; Du kan bruke NCO &#x27;s <a href="https://nco.sourceforge.net/nco.html#ncatted-netCDF-Attribute-Editor" target="_blank" rel="noopener noreferrer" class="">ncatted</a> å endre enhetene i alle filene som skal være identiske med
nco/ncatted -a units, time,o,c,&#x27;sekunder siden 1970-01-01T00:00:00Z&#x27; \* .nc<br>
<!-- -->\[ For mange problemer som dette i... Filer datasett, du kan nå bruke <a href="#standardizewhat" class="">standardisering Hva</a> å fortelle ERDDAP å standardisere kildefiler som de leses inn i ERDDAP .. \]</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="limits-to-the-size-of-a-dataset">Grenser til størrelsen på et datasett<a href="#limits-to-the-size-of-a-dataset" class="hash-link" aria-label="Direkte lenke tilGrenser til størrelsen på et datasett" title="Direkte lenke tilGrenser til størrelsen på et datasett" translate="no">​</a></h3>
<p>Du vil se mange referanser til &quot;2 milliarder&quot; under. Mer nøyaktig, det er en referanse til 2.147.483 647 (2^31-1) , som er den maksimale verdien av et 32-bits signert heiltal. På enkelte språk, for eksempel Java   (som ERDDAP™ er skrevet i) det er den største datatypen som kan brukes til mange datastrukturer (For eksempel størrelsen på en tabell) ..</p>
<p>For strengverdier (For eksempel for variable navn, attributtnavn, strenge attributtverdier og strengedataverdier) , det maksimale antall tegn per streng i ERDDAP™ 2 milliarder. Men i nesten alle tilfeller vil det være små eller store problemer hvis en streng overstiger en rimelig størrelse (For eksempel 80 tegn for variable navn og attributtnavn, og 255 tegn for de fleste strenge attributtverdier og dataverdier) .. For eksempel vil nettsider som viser lange variable navn være vanskelig brede og lange variable navn bli avkortet hvis de overstiger grensen for responsfiltypen.</p>
<p>For gitte datasett:</p>
<ul>
<li class="">Det maksimale antall axisVariable S er 2 milliarder.
Det maksimale antall dataVariable S er 2 milliarder.
Men hvis et datasett har &gt; 100 variabler, vil det være tungt for brukerne å bruke.
Og hvis et datasett har &gt; 1 million variabler, vil serveren din trenge mye fysisk minne, og det vil bli andre problemer.</li>
<li class="">Den maksimale størrelsen på hver dimensjon ( axisVariable ) 2 milliarder verdier.</li>
<li class="">Det maksimale antall celler (Produktet av alle dimensjonsstørrelser) er ubegrenset, men det kan være ~ 9e18.</li>
</ul>
<p>For tabelldatasett:</p>
<ul>
<li class="">Det maksimale antall dataVariable S er 2 milliarder.
Men hvis et datasett har &gt; 100 variabler, vil det være tungt for brukerne å bruke.
Og hvis et datasett har &gt; 1 million variabler, vil serveren din trenge mye fysisk minne, og det vil bli andre problemer.</li>
<li class="">Det maksimale antall kilder (For eksempel filer) Det kan aggregeres er ~ 2 milliarder.</li>
<li class="">I noen tilfeller det maksimale antall rader fra en individuell kilde (For eksempel en fil, men ikke en database) Det er 2 milliarder rader.</li>
<li class="">Jeg tror ikke det er andre grenser.</li>
</ul>
<p>For både rutenetts- og tabelldatasett er det noen interne grenser for størrelsen på undergruppen som en bruker kan be om i en enkelt forespørsel. (ofte knyttet til &gt; 2 milliarder av noe eller ~ 9e18 av noe) , men det er langt mer sannsynlig at en bruker vil treffe filtype-spesifikke grenser.</p>
<ul>
<li class="">NetCDF versjon 3 .nc Filene er begrenset til 2GB byte. (Hvis dette virkelig er et problem for noen, gi meg beskjed: Jeg kan legge til støtte for NetCDF versjon 3 .nc 64-bits forlengelse eller NetCDF Versjon 4, som vil øke grensen betydelig, men ikke uendelig.)</li>
<li class="">Nettlesere krasjer etter bare ~ 500 MB data, så ERDDAP™ begrenser responsen til .htmlTable Forespørsler til ~ 400 MB av data.</li>
<li class="">Mange dataanalyseprogrammer har lignende grenser (For eksempel er den maksimale størrelsen på en dimensjon ofte ~ 2 milliarder verdier) , så det er ingen grunn til å jobbe hardt for å komme rundt filtype-spesifikke grenser.</li>
<li class="">Filtypespesifikke grenser er nyttige ved at de forhindrer naive forespørsler om virkelig store mengder data (For eksempel, gi meg alle disse datasettene&quot; når datasettet har 20 TB data) som tar uker eller måneder å laste ned. Jo lenger nedlastingen, jo mer sannsynlig vil det mislykkes av en rekke grunner.</li>
<li class="">Filtypespesifikke grenser er nyttige ved at de tvinger brukeren til å håndtere rimelige undergrupper (For eksempel, å håndtere et stort rutenettet datasett via filer med data fra ett tidspunkt hver) ..
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="switch-to-acdd-13">Bytt til ACDD-1.3<a href="#switch-to-acdd-13" class="hash-link" aria-label="Direkte lenke tilBytt til ACDD-1.3" title="Direkte lenke tilBytt til ACDD-1.3" translate="no">​</a></h3>
<p>Vi (spesielt <a href="#generatedatasetsxml" class="">Generer DatasetsXml</a> ) For tiden anbefaler <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD versjon 1.3</a> , som ble ratifisert i begynnelsen av 2015 og som kalles &quot;ACDD-1.3&quot; i den globale konvensjonen. Før ERDDAP™ versjon 1.62 (utgitt i juni 2015) , ERDDAP™ Brukt/anbefalt den opprinnelige, versjon 1.0 av <a href="https://wiki.esipfed.org/ArchivalCopyOfVersion1" target="_blank" rel="noopener noreferrer" class=""> NetCDF Attributkonvensjon for datasett Discovery</a> som kalles Unidata Datasett Discovery v1.0&quot; i de globale konvensjonene og Metadata\_Conventions attributter.</p>
<p>Hvis datasettene dine bruker tidligere versjoner av ACDD, overfører vi til ACDD-1.3. Det er ikke vanskelig. ACDD-1.3 er svært bakoverkompatibel med versjon 1.0. å bytte, for alle datasett (unntatt EDDGrid FraErddap og EDDTable FraErddap datasett) :)</p>
<ol>
<li class="">Fjern den nylig utdaterte globale Metadata\_Conventions attributt ved å legge til (eller ved å endre eksisterende Metadata\_Conventions attributt)</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;Metadata\\_Conventions&quot;&gt;null&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>til datasettets globale&lt; addAttributes &gt;.
 
2. Hvis datasettet har en konvensjon i det globale&lt; addAttributes Endre alle Unidata Datasett Discovery v1.0&quot; referanser til &quot;ACDD-1.3&quot;.
Hvis datasettet ikke har en konvensjon i den globale&lt; addAttributes Legg til en som refererer til ACDD-1.3. For eksempel</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;Conventions&quot;&gt;COARDS, CF-1.6, ACDD-1.3&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p> 
3. Hvis datasettet har en global standard\_name\_vocabulary attributt, vennligst endre format av verdien til for eksempel,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;standard\\_name\\_vocabulary&quot;&gt;CF Standard Name Table v65&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Hvis referansen er til en eldre versjon av <a href="https://cfconventions.org/Data/cf-standard-names/current/build/cf-standard-name-table.html" target="_blank" rel="noopener noreferrer" class="">CF standard navn tabell</a> .. Det er nok en god ide å bytte til den aktuelle versjonen (65 som vi skriver dette) , siden nye standardnavn legges til i tabellen med påfølgende versjoner, men gamle standardnavn er sjelden foreldet og aldri fjernet.
 
4. Selv om ACDD-1.0 inkluderte globale attributter for creator\_name , creator\_email , creator\_url , <a href="#generatedatasetsxml" class="">Generer DatasetsXml</a> Legg dem ikke automatisk til før noen gang rundt ERDDAP™ v1.50. Dette er viktig informasjon:</p>
<ul>
<li class="">creator\_name La brukerne vite / sitere skaperen av datasettet.</li>
<li class="">creator\_email forteller brukerne den foretrukne e-postadressen for å kontakte skaperen av datasettet, for eksempel hvis de har spørsmål om datasettet.</li>
<li class="">creator\_url Gi brukere en måte å finne ut mer om skaperen.</li>
<li class="">ERDDAP™ bruker all denne informasjonen når du genererer FGDC og ISO 19115-2/19139 metadatadokumenter for hvert datasett. Disse dokumentene brukes ofte av eksterne søketjenester.</li>
</ul>
<p>Legg til disse attributtene i datasettets globale&lt; addAttributes &gt;.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;creator\\_name&quot;&gt;NOAA NMFS SWFSC ERD&lt;/att&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;creator\\_email&quot;&gt;erd.data@noaa.gov&lt;/att&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;creator\\_url&quot;&gt;https://www.pfeg.noaa.gov&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Det er det. Jeg håper det ikke var for vanskelig.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="zarr">Zarr<a href="#zarr" class="hash-link" aria-label="Direkte lenke tilZarr" title="Direkte lenke tilZarr" translate="no">​</a></h3>
<p>Fra versjon 2.25 ERDDAP™ kan lese lokalt Zarr-filer som bruker <a href="#eddtablefromncfiles" class="">EDDTableFraNcFiler</a> og <a href="#eddgridfromncfiles" class=""> EDDGrid FraNcFiles</a> ..</p>
<p>(Fra august 2019) Vi kan lett ta feil, men vi er ennå ikke overbevist om at <a href="https://github.com/zarr-developers/zarr-python" target="_blank" rel="noopener noreferrer" class="">Zarr</a> , eller lignende systemer som bryter datafiler opp i mindre deler, er gode løsninger på problemet med ERDDAP™ Les data lagret i skytjenester som Amazon AWS S3. Zarr er en god teknologi som har vist sin nytte i en rekke situasjoner, vi er bare ikke sikker på at ERDDAP +S3 vil være en av disse situasjonene. For det meste sier vi: Før vi skynder oss å gjøre innsatsen for å lagre all vår data i Zarrr, la oss gjøre noen tester for å se om det faktisk er en bedre løsning.</p>
<p>Problemene med tilgang til data i skyen er latens (Laget til å først få data) og filnivå tilgang (i stedet for tilgang på blokknivå) .. Zarr løser problem med tilgang til filnivå, men gjør ingenting med latens. Sammenlignet med bare å laste ned filen (Så det kan leses som en lokal fil med blokknivå tilgang) , kan Zarr til og med forverre latensproblemet fordi, med Zarr, å lese en fil nå innebærer en rekke flere samtaler for å lese ulike deler av filen (Hver med sitt eget lag) .. Latency problemet kan løses ved å parallellisere forespørsler, men det er en høyere nivå løsning, ikke avhengig av Zarr.</p>
<p>Og med Zarr (som med relasjonelle databaser) , mister vi bekvemheten av å ha en datafil er en enkel, enkelt fil som du enkelt kan verifisere integriteten til, eller gjøre/nedlaste en kopi av.</p>
<p>ERDDAP™   (fra v2) har et system for å opprettholde en lokal buffer av filer fra en URL-kilde (f.eks. S3) (se [&lt;cacheFra Url&gt; og&lt;cacheMaxGB&gt;] (#cachefromurl) ). og den nye&lt;nThreads&gt;] (#ntreads) bør minimere latensproblemet ved å parallelisere datainnhentingen på et høyt nivå.&lt;cacheFromUrl&gt; virker veldig bra for mange scenarier. (Vi vet ikke hvor fordelaktig&lt;nThreads&gt; er uten ytterligere tester.) Vi innrømmer vi ikke har gjort timing tester på en AWS-instans med en god nettverkstilkobling, men vi har vellykket testet med ulike eksterne URL-kilder av filer. Og ERDDAP &#x27;s&lt;cacheFromUrl&gt; fungerer med enhver type datafil (f.eks. .nc , .hdf .csv, .jsonlCSV ) Selv om eksternt komprimert (f.eks. .gz ) uten endringer i filene (f.eks. omskriver dem som Zarr samlinger) ..</p>
<p>Det er sannsynlig at ulike scenarier vil favorisere ulike løsninger, for eksempel trenger bare å lese en del av en fil én gang (Zarr vil vinne) , vs. må lese hele en fil en gang, vs. trenger å lese deler eller hele en fil gjentatte ganger (&lt;cacheFromUrl&gt; vil vinne).</p>
<p>For det meste sier vi: Før vi skynder oss å gjøre innsatsen for å lagre all vår data i Zarrr, la oss gjøre noen tester for å se om det faktisk er en bedre løsning.</p>
<ul>
<li class="">
<ul>
<li class=""></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="list-of-types-datasets">Liste over typer datasett<a href="#list-of-types-datasets" class="hash-link" aria-label="Direkte lenke tilListe over typer datasett" title="Direkte lenke tilListe over typer datasett" translate="no">​</a></h2>
<p>Hvis du trenger hjelp til å velge riktig type datasett, se <a href="#choosing-the-dataset-type" class="">Valg av datasetttype</a> ..</p>
<p>Typen datasett faller i to kategorier. ( <a href="#why-just-two-basic-data-structures" class="">Hvorfor?</a> )</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgrid">EDDGrid<a href="#eddgrid" class="hash-link" aria-label="Direkte lenke tilEDDGrid" title="Direkte lenke tilEDDGrid" translate="no">​</a></h3>
<ul>
<li class=""><a href="#eddgrid" class=""> ** EDDGrid ** </a> Datasett håndterer gitte data.</li>
<li class="">I EDDGrid datasett, datavariabler er flerdimensjonale datagrupper.</li>
<li class="">Det må være en aksevariabel for hver dimensjon. Akselvariabler må spesifiseres i den rekkefølgen datavariabler bruker dem.</li>
<li class="">I EDDGrid datasett, alle datavariabler må brukes (aksje) alle aksevariabler.
( <a href="#why-just-two-basic-data-structures" class="">Hvorfor?</a>   <a href="#dimensions" class="">Hva om de ikke gjør det?</a> )
Ny i ERDDAP™ versjon 2.29.0 med EDDGrid FromNcFiles er eksperimentell støtte for datavariabler som ikke støtter alle aksevariabler (eller som noen har kalt det 1D og 2D data i samme datasett) ..</li>
<li class="">Sorterte dimensjonsverdier - I alt EDDGrid datasett, hver dimensjon må være i sortert rekkefølge (Stigende eller nedadgående) .. Hver kan være uregelmessig adskilt. Det kan ikke være noen bånd. Dette er et krav fra <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF metadata standard</a> .. Hvis dimensjonens verdier ikke er i sortert rekkefølge, vil datasettet ikke bli lastet inn og ERDDAP™ vil identifisere den første usorterte verdien i loggfilen, <em>bigParentDirectory</em> /logs/log.txt .</li>
</ul>
<p>Noen underklasser har ytterligere begrensninger (bemerkelsesverdigvis, EDDGrid AggregateExistingDimension krever at den ytre (venstre, første) dimensjonen stiger.</p>
<p>Usorterte dimensjonsverdier indikerer nesten alltid et problem med kildedatasettet. Dette skjer oftest når en feilnavngitt eller upassende fil er inkludert i sammenslåingen, som fører til en usortert tidsdimensjon. Hvis du vil løse dette problemet, kan du se feilmeldingen i ERDDAP™ log.txt-fil for å finne den fornærmende tidsverdien. Så se i kildefilene for å finne den tilsvarende filen (eller før eller etter) Det tilhører ikke i sammenslåingen.</p>
<ul>
<li class="">Se mer fullstendig beskrivelse av <a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#dataModel" target="_blank" rel="noopener noreferrer" class=""> EDDGrid Datamodell</a> ..</li>
<li class="">Den EDDGrid Datasett er:<!-- -->
<ul>
<li class=""><a href="#eddfromaudiofiles" class=""> EDDGrid FraAudioFiles</a> aggregerer data fra en gruppe av lokale lydfiler.</li>
<li class=""><a href="#eddgridfromdap" class=""> EDDGrid FraDap</a> håndterer rutenettede data fra DAP servere.</li>
<li class=""><a href="#eddgridfromeddtable" class=""> EDDGrid Fra EDDTable</a> lar deg konvertere en tabell datasett til et gitt datasett.</li>
<li class=""><a href="#eddfromerddap" class=""> EDDGrid FraErddap</a> håndterer rutenettede data fra en fjernkontroll ERDDAP ..</li>
<li class=""><a href="#eddgridfrometopo" class=""> EDDGrid FraEtopo</a> Bare håndtere innebygd ETOPO topografi data.</li>
<li class=""><a href="#eddgridfromfiles" class=""> EDDGrid FraFiles</a> er superklassen til alle EDDGrid Fra... Filer klasser.</li>
<li class=""><a href="#eddgridfrommergeirfiles" class=""> EDDGrid Fra FlightIRFiles</a> aggregerer data fra en gruppe av lokale fusioner .gz Filer.</li>
<li class=""><a href="#eddgridfromncfiles" class=""> EDDGrid FraNcFiles</a> samler data fra en lokal gruppe NetCDF   (v3 eller v4)   .nc og relaterte filer.</li>
<li class=""><a href="#eddgridfromncfilesunpacked" class=""> EDDGrid FraNcFilesUpakket</a> En variant hvis EDDGrid FraNcFiles som også samler data fra en gruppe lokale NetCDF   (v3 eller v4)   .nc og relaterte filer som ERDDAP™ pakker ut på lavt nivå.</li>
<li class=""><a href="#eddgridlonpm180" class=""> EDDGrid LonPM180</a> modifiserer lengdegraden til et barn EDDGrid så de er i området - 180 til 180.</li>
<li class=""><a href="#eddgridlon0360" class=""> EDDGrid Dreier0360</a> modifiserer lengdegraden til et barn EDDGrid så de er i området 0 til 360.</li>
<li class=""><a href="#eddgridsidebyside" class=""> EDDGrid SideBySide</a> aggregerer to eller flere EDDGrid Datasett side om side.</li>
<li class=""><a href="#eddgridaggregateexistingdimension" class=""> EDDGrid Aggregate</a> aggregerer to eller flere EDDGrid datasett, som hver har et annet verdiområde for den første dimensjonen, men identiske verdier for de andre dimensjonene.</li>
<li class=""><a href="#eddgridcopy" class=""> EDDGrid Kopier</a> kan lage en lokal kopi av en annen EDDGrid data og servere data fra den lokale kopien.
 </li>
</ul>
</li>
<li class="">Alle EDDGrid datasett støtter en nThreads innstilling, som forteller ERDDAP™ Hvor mange tråder du skal bruke når du svarer på en forespørsel. Se <a href="#nthreads" class="">nThreds</a> dokumentasjon for detaljer.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtable">EDDTable<a href="#eddtable" class="hash-link" aria-label="Direkte lenke tilEDDTable" title="Direkte lenke tilEDDTable" translate="no">​</a></h3>
<ul>
<li class=""><a href="#eddtable" class=""> <strong>EDDTable</strong> </a> datasett håndtere tabelldata.</li>
<li class="">Tabelldata kan representeres som en databaselignende tabell med rader og kolonner. Hver kolonne (en datavariabel) har et navn, et sett attributter og lagrer bare én type data. Hver rad har en observasjon (eller gruppe av relaterte verdier) .. Datakilden kan ha dataene i en annen datastruktur, en mer komplisert datastruktur og/eller flere datafiler, men ERDDAP™ må kunne flate kildedataene i en databaselignende tabell for å presentere data som et tabelldatasett til brukere av ERDDAP ..</li>
<li class="">Se mer fullstendig beskrivelse av <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#dataModel" target="_blank" rel="noopener noreferrer" class="">EDDTable-datamodell</a> ..</li>
<li class="">EDDTable datasett er:<!-- -->
<ul>
<li class=""><a href="#eddtablefromalldatasets" class="">EDDTableFraAllDatasett</a> er et datasett på høyere nivå som har informasjon om alle de andre datasettene i din ERDDAP ..</li>
<li class=""><a href="#eddtablefromasciifiles" class="">EDDTableFraAsciiFiler</a> aggregerer data fra komma-, fane-, semikolon- eller mellomromsdelte ASCII-datafiler.</li>
<li class=""><a href="#eddtablefromasciiservice" class="">EDDTableFraAsciiService</a> er superklasse av alle EDDTableFromAsciiService... klasser.</li>
<li class=""><a href="#eddtablefromasciiservicenos" class="">EDDTableFraAsciiServiceNOS</a> håndterer data fra noen av NOAA NOS webtjenester.</li>
<li class=""><a href="#eddfromaudiofiles" class="">EDDTableFraAudioFiler</a> aggregerer data fra en gruppe av lokale lydfiler.</li>
<li class=""><a href="#eddtablefromawsxmlfiles" class="">EDDTableFra AwsXmlFiles</a> aggregerer data fra et sett av automatisk værstasjon (AWS) XML-filer.</li>
<li class=""><a href="#eddtablefromcassandra" class="">EDDTableFraCassandra</a> håndterer tabelldata fra en Cassandra-tabell.</li>
<li class=""><a href="#eddtablefromcolumnarasciifiles" class="">EDDTableFraColumnarAsciiFiler</a> aggregerer data fra tabell ASCII-datafiler med faste breddedatakolonner.</li>
<li class=""><a href="#eddtablefromdapsequence" class="">EDDTableFra DapSekvens</a> håndtere tabelldata fra DAP sekvensservere.</li>
<li class=""><a href="#eddtablefromdatabase" class="">EDDTableFraDatabase</a> håndtere tabelldata fra én databasetabell.</li>
<li class=""><a href="#eddtablefromeddgrid" class="">EDDTableFra EDDGrid </a> lar deg opprette et EDDTable-datasett fra et EDDGrid - Datasett.</li>
<li class=""><a href="#eddfromerddap" class="">EDDTableFraErddap</a> håndterer tabelldata fra en ekstern ERDDAP ..</li>
<li class=""><a href="#eddtablefromfilenames" class="">EDDTableFromFileNames</a> oppretter et datasett fra informasjon om en gruppe filer i serverens filsystem, men det tjener ikke data fra inne i filene.</li>
<li class=""><a href="#eddtablefromfiles" class="">EDDTableFra Filer</a> er superklasse av alle EDDTableFra...Filer klasser.</li>
<li class=""><a href="#eddtablefromhttpget" class="">EDDTableFraHttpGet</a> er ERDDAP Det eneste systemet for import av data samt eksport av data.</li>
<li class=""><a href="#eddtablefromhyraxfiles" class="">EDDTableFra Hyrax Filer</a>   (Deprekert) aggregerer data fra filer med flere variabler med delte dimensjoner som betjenes av en <a href="https://www.opendap.org/software/hyrax-data-server" target="_blank" rel="noopener noreferrer" class=""> Hyrax   OPeNDAP server</a> ..</li>
<li class=""><a href="#eddtablefrominvalidcrafiles" class="">EDDTableFraInvalidCRAFiler</a> aggregerer data fra NetCDF   (v3 eller v4)   .nc filer som bruker en spesifikk, ugyldig variant av CF DSG Contigous Tagged Array (CRA) Filer. Selv om ERDDAP™ støtter denne filtypen, det er en ugyldig filtype som ingen bør begynne å bruke. Grupper som for tiden bruker denne filtypen oppfordres sterkt til å bruke ERDDAP™ å generere gyldige CF DSG CRA-filer og slutte å bruke disse filene.</li>
<li class=""><a href="#eddtablefromjsonlcsvfiles" class="">EDDTableFraJsonlCSVFiler</a> aggregerer data fra <a href="https://jsonlines.org/examples/" target="_blank" rel="noopener noreferrer" class="">JSON Linjer CSV-filer</a> ..</li>
<li class=""><a href="#eddtablefrommultidimncfiles" class="">EDDTableFraMultidimNcFiler</a> aggregerer data fra NetCDF   (v3 eller v4)   .nc filer med flere variabler med delt dimensjon.</li>
<li class=""><a class="" href="/nb/docs/server-admin/mqtt-integration">EDDTableFraMqtt</a> Konstruerer et datasett basert på MQTT-meldinger. Legg merke til dokumentasjonen på en dedikert side. Merk at det er mange likheter med <a href="#eddtablefromhttpget" class="">EDDTableFraHttpGet</a> ..</li>
<li class=""><a href="#eddtablefromncfiles" class="">EDDTableFraNcFiler</a> aggregerer data fra NetCDF   (v3 eller v4)   .nc filer med flere variabler med delt dimensjon. Det er fint å fortsette å bruke denne datasettstypen for eksisterende datasett, men for nye datasett anbefaler vi å bruke EDDTableFromMultidimNcFiles i stedet.</li>
<li class=""><a href="#eddtablefromnccffiles" class="">EDDTableFraNcCFFiler</a> aggregerer data fra NetCDF   (v3 eller v4)   .nc filer som bruker et av filformatene som er spesifisert av <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Diskret prøvetakingsgeometri (DSG) </a> Konvensjoner. Men for filer som bruker en av de flerdimensjonale CF DSG varianter, bruk <a href="#eddtablefrommultidimncfiles" class="">EDDTableFraMultidimNcFiler</a> I stedet.</li>
<li class=""><a href="#eddtablefromnccsvfiles" class="">EDDTableFraNccsvFiler</a> aggregerer data fra <a class="" href="/nb/docs/user/nccsv-1.00">NCCSV</a> ASCII .csv-filer.</li>
<li class=""><a href="#eddtablefromnos" class="">EDDTableFra NOS</a>   (Deprekert) håndterer tabelldata fra NOS XML-servere.</li>
<li class=""><a href="#eddtablefromobis" class="">EDDTableFromOBIS</a> håndtere tabelldata fra OBIS-servere.</li>
<li class=""><a href="#eddtablefromparquetfiles" class="">EDDTableFraParquetFiler</a> håndterer data fra <a href="https://parquet.apache.org/" target="_blank" rel="noopener noreferrer" class="">Parquet</a> ..</li>
<li class=""><a href="#eddtablefromsos" class="">EDDTableFra SOS </a> håndtere tabelldata fra SOS servere.</li>
<li class=""><a href="#eddtablefromthreddsfiles" class="">EDDTableFraTreddsFiler</a>   (Deprekert) aggregerer data fra filer med flere variabler med delte dimensjoner som betjenes av en <a href="https://www.unidata.ucar.edu/software/tds/" target="_blank" rel="noopener noreferrer" class="">TREDDS OPeNDAP server</a> ..</li>
<li class=""><a href="#eddtablefromwfsfiles" class="">EDDTableFra WFS Filer</a>   (Deprekert) gjør en lokal kopi av alle data fra en ArcGIS KartServer WFS server slik at dataene kan lagres raskt ERDDAP™ brukere.</li>
<li class=""><a href="#eddtableaggregaterows" class="">EDDTable</a> kan lage et EDDTable-datasett fra en gruppe av EDDTable-datasett.</li>
<li class=""><a href="#eddtablecopy" class="">EDDTableCopy</a> kan gjøre en lokal kopi av mange typer EDDTable datasett og deretter lagre dataene raskt fra den lokale kopien.</li>
</ul>
</li>
</ul>
<ul>
<li class="">
<ul>
<li class=""></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="detailed-descriptions-of-dataset-types">Detaljerte beskrivelser av Datasett Typer<a href="#detailed-descriptions-of-dataset-types" class="hash-link" aria-label="Direkte lenke tilDetaljerte beskrivelser av Datasett Typer" title="Direkte lenke tilDetaljerte beskrivelser av Datasett Typer" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromdap">EDDGrid FraDap<a href="#eddgridfromdap" class="hash-link" aria-label="Direkte lenke tilEDDGrid FraDap" title="Direkte lenke tilEDDGrid FraDap" translate="no">​</a></h3>
<p><a href="#eddgridfromdap" class=""> ** EDDGrid FraDap** </a> håndterer rutenettvariabler fra <a href="https://www.opendap.org/" target="_blank" rel="noopener noreferrer" class=""> DAP </a> servere.</p>
<ul>
<li class="">Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. Du kan samle inn informasjonen du trenger for å justere det eller opprette din egen XML for en EDDGrid FraDap datasett ved å se på kildedatasettets DDS- og DAS-filer i nettleseren din (ved å legge til .das og .dds til sourceUrl For eksempel: <a href="https://thredds1.pfeg.noaa.gov/thredds/dodsC/satellite/BA/ssta/5day.dds" target="_blank" rel="noopener noreferrer" class="">https://thredds1.pfeg.noaa.gov/thredds/dodsC/satellite/BA/ssta/5day.dds</a> ) ..
 </li>
<li class="">EDDGrid FromDap kan få data fra alle multidimensjonale variabel fra en DAP Dataserver. (Tidligere, EDDGrid FraDap var begrenset til variabler betegnet som &quot;grid&quot;s, men det er ikke lenger et krav.)<br>
<!-- --> </li>
<li class="">Sorterte dimensjonsverdier - Verdiene for hver dimensjon må være i sortert rekkefølge (Stigende eller nedadgående) .. Verdiene kan være uregelmessig fordelt. Det kan ikke være noen bånd. Dette er et krav fra <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF metadata standard</a> .. Hvis dimensjonens verdier ikke er i sortert rekkefølge, vil datasettet ikke bli lastet inn og ERDDAP™ vil identifisere den første usorterte verdien i loggfilen, <em>bigParentDirectory</em> /logs/log.txt .</li>
</ul>
<p>Usorterte dimensjonsverdier indikerer nesten alltid et problem med kildedatasettet. Dette skjer oftest når en feilnavngitt eller upassende fil er inkludert i sammenslåingen, som fører til en usortert tidsdimensjon. Hvis du vil løse dette problemet, kan du se feilmeldingen i ERDDAP™ log.txt-fil for å finne den fornærmende tidsverdien. Så se i kildefilene for å finne den tilsvarende filen (eller før eller etter) Det tilhører ikke i sammenslåingen.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromdap-skeleton-xml">EDDGrid FraDap skjelett XML<a href="#eddgridfromdap-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDGrid FraDap skjelett XML" title="Direkte lenke tilEDDGrid FraDap skjelett XML" translate="no">​</a></h4>
<blockquote>
<p>    &lt;dataset type=&quot;EDDGridFromDap&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1.<br>
<!-- -->        For EDDGridFromDap, this gets the remote .dds and then gets the new<br>
<!-- -->        leftmost (first) dimension values. --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#axisvariable" class="">&lt;axisVariable&gt;</a>...&lt;/axisVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->    &lt;/dataset&gt;</p>
</blockquote>
<p> </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromeddtable">EDDGrid Fra EDDTable<a href="#eddgridfromeddtable" class="hash-link" aria-label="Direkte lenke tilEDDGrid Fra EDDTable" title="Direkte lenke tilEDDGrid Fra EDDTable" translate="no">​</a></h3>
<p><a href="#eddgridfromeddtable" class=""> ** EDDGrid Fra EDDTable** </a> lar deg konvertere et EDDTable-tabelldatasett til en EDDGrid Nettede datasett. Husk det ERDDAP™ behandler datasett som også <a href="#why-just-two-basic-data-structures" class="">Nettede datasett (underklasser av EDDGrid ) eller tabelldatasett (underklasser av EDDTable) </a> ..</p>
<ul>
<li class="">Vanligvis, hvis du har rutenettet data, du bare konfigurere en EDDGrid Datasett direkte. Noen ganger er dette ikke mulig, for eksempel når du har data lagret i en relasjonsdatabase som ERDDAP™ kan kun få tilgang via EDDTableFromDatabase. EDDGrid FraEDDTabell klasse kan du løse den situasjonen.
 </li>
<li class="">Selvfølgelig må dataene i det underliggende EDDTable datasettet være (i utgangspunktet) Nettede data, men i tabellform. For eksempel kan EDDTable datasettet ha CTD-data: målinger av østover og nordoverstrøm, på flere dybder, til flere ganger. Ettersom dybdene er de samme hver gang, EDDGrid FraEDDTable kan opprette et rutenettet datasett med en tid og en dybdedimensjon som får tilgang til dataene via det underliggende EDDTable-datasettet.
 </li>
<li class="">Opprett datasett Xml -- Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. Du kan samle informasjonen du trenger for å forbedre det grove utkastet.
 </li>
<li class="">Kildeattributter -- Som med alle andre typer datasett, EDDGrid FraTable har ideen om at det er globale kilderAttributes og <a href="#global-attributes" class="">global addAttributes </a>   (angitt i datasets.xml ) , som kombineres for å gjøre det globale kombinert Egenskaper, som er hva brukerne ser. For globale kilderAttributes, EDDGrid FraEDDTable bruker den globale kombinerte Attributene til det underliggende EDDTable-datasettet. (Hvis du tenker på det et øyeblikk, er det fornuftig.)</li>
</ul>
<p>På samme måte for hver axisVariable og dataVariable &#x27;s <a href="#addattributes" class=""> addAttributes </a> , EDDGrid FraEDDTable bruker variabelens kombinert Attribut fra det underliggende EDDTable-datasettet som den EDDGrid Fra EDDTable variabelens kildeAttributes. (Hvis du tenker på det et øyeblikk, er det fornuftig.)</p>
<p>Hvis EDD-tabellen har gode metadata, EDDGrid FromEDTable trenger ofte svært lite addAttributes Metadata - bare noen få tweaks her og der.</p>
<ul>
<li class="">
<p>dataVariable s versus axisVariable s-- Den underliggende EDDTable har kun dataVariable S. An EDDGrid FraEDDTable datasett vil ha noen axisVariable s (laget av noen av EDD-tabellen dataVariable s) og noen dataVariable s (opprettet fra den gjenværende EDDTable dataVariable s) .. <a href="#generatedatasetsxml" class="">Generer DatasetsXml</a> vil gjette på hvilken EDDTable dataVariable S skal bli EDDGrid Fra EDDTable axisVariable Men det er bare et gjett. Du må endre utdata fra GenerationDatasetsXml for å angi hvilket dataVariable S vil bli axisVariable I hvilken rekkefølge.
 </p>
</li>
<li class="">
<p>aksenValues -- Det er ingenting om den underliggende EDDTable å fortelle EDDGrid FraEDDTabell de mulige verdiene til axisVariable s i den rutenettede versjonen av datasettet, så du må gi den informasjonen for hver axisVariable via en av disse egenskapene:</p>
<ul>
<li class="">aksenValues - kan du angi en liste over verdier. For eksempel
&lt;Att name=&quot;akseValues&quot; <a href="#attributetype" class="">type=&quot; doubleList&quot;</a> \&gt;2, 2,5, 3, 3,5, 4&lt;/att&gt;
Legg merke til bruken av et <a href="#data-types" class="">Datatype</a> pluss ordlisten. Også typen liste (For eksempel dobbel) Må matche dataene Type variabel i EDD-tabellen og EDDGrid FraEDDtabell datasett.</li>
<li class="">aksenValuesStartStrideStop -- lar deg angi en sekvens av regelmessige avstandsverdier ved å angi start-, trinn- og stoppverdier. Her er et eksempel som tilsvarer aksenValues eksemplet ovenfor:
&lt;at name=&quot;axisValuesStartStrideStop&quot; <a href="#attributetype" class="">type=&quot; doubleList&quot;</a> \&gt;2, 0,5, 4&lt;/att&gt;
Legg merke til bruken av en listedatatype. Også typen liste (For eksempel dobbel) Må matche dataene Type variabel i EDD-tabellen og EDDGrid FraEDDtabell datasett.
 </li>
</ul>
</li>
</ul>
<p>Oppdateringer -- Akkurat som det ikke finnes noen måte for EDDGrid Fra EDDTable for å bestemme akseverdiene fra EDDTable i utgangspunktet, er det heller ingen pålitelig måte for EDDGrid Fra EDD-tabellen for å bestemme fra EDD-tabellen når akseverdiene har endret seg (spesielt når det er nye verdier for tidsvariabelen) .. For tiden er den eneste løsningen å endre aksenValues-attributten i datasets.xml Last datasettet på nytt. Du kan for eksempel skrive et skript til</p>
<ol>
<li class="">Søk datasets.xml for
datasetID = &quot; <em>DatasetID</em> &quot;
Du jobber med riktig datasett.</li>
<li class="">Søk datasets.xml for neste forekomst av
<sourcename>  <em>variablesSourceName</em>  </sourcename><br>
<!-- -->Du jobber med riktig variabel.</li>
<li class="">Søk datasets.xml for neste forekomst av</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;axisValuesStartStrideStop&quot; type=&quot;doubleList&quot;&gt;  </span><br></span></code></pre></div></div>
<p>Du vet startposisjonen til merket.
4. Søk datasets.xml for neste forekomst av</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Så du kjenner sluttposisjonen til akseverdiene.
5. Bytt ut den gamle starten, strider, stoppverdier med de nye verdiene.
6. Kontakt <a class="" href="/nb/docs/server-admin/additional-information#set-dataset-flag">flagg URL</a> for datasett å fortelle ERDDAP™ Last datasettet på nytt.</p>
<p>Dette er ikke ideelt, men det fungerer.
 </p>
<ul>
<li class="">presisjon -- Når EDDGrid FraEDDTable reagerer på en brukers forespørsel om data, den beveger en rekke data fra EDDTable-responstabellen i tabellen EDDGrid responsnett. For å gjøre dette må det finne ut om akseverdiene på en gitt rad i tabellen samsvarer med en kombinasjon av akseverdier i rutenettet. For heltallsdatatyper er det enkelt å bestemme om to verdier er lik. Men for flyter og dobler, dette bringer opp det forferdelige problemet med flytende punkt tall <a href="https://randomascii.wordpress.com/2012/02/25/comparing-floating-point-numbers-2012-edition/" target="_blank" rel="noopener noreferrer" class="">Ikke matcher nøyaktig</a> .. (for eksempel 0,2 versus 0.199999999999996) .. Til (Prøv å) håndtere dette, EDDGrid Fra Tabell kan du angi en presisjonsattributt for noen av axisVariable s, som angir det totale antall desimalsiffer som må være identiske.<!-- -->
<ul>
<li class="">For eksempel&lt;at name=&quot; presisjon&quot; type=&quot;int&quot;&gt;5&lt;/att&gt;</li>
<li class="">For ulike typer datavariabler er det forskjellige standard presisjonsverdier. Standardene er vanligvis passende. Hvis de ikke er det, må du angi ulike verdier.</li>
<li class="">For axisVariable som er <a href="#timestamp-variables" class="">Tid eller tid Stempelvariabler</a> , standarden er full presisjon (En nøyaktig match) ..</li>
<li class="">For axisVariable S som flyter, standard presisjon er 5.</li>
<li class="">For axisVariable S som er doubles, standard presisjon er 9.</li>
<li class="">For axisVariable som har heltallsdatatyper, EDDGrid FraEDDTable ignorerer presisjonsattributten og bruker alltid full presisjon (En nøyaktig match) ..
 </li>
<li class=""><strong>ADVARSEL!</strong> Ved omdannelse av en del av tabelldata til en del av rutenettet data, dersom EDDGrid FraEDDTable kan ikke matche en EDDTable &quot; akse&quot; verdi til en av de forventede EDDGrid Fra EDD-tabellakseverdier, EDDGrid FraEDDTable stille (ingen feil) Kaster dataene fra den raden i tabellen. For eksempel kan det være andre data (Ikke på nettet) i EDDTable datasett. (Og hvis strider &gt; 1 Det er ikke åpenbart å EDDGrid Fra tabell hvilke akseverdier som er ønsket verdier og hvilke som er de som skal hoppes på grunn av striden.) Så hvis presisjonsverdiene er for høye, vil brukeren se manglende verdier i dataresponsen når gyldige dataverdier faktisk eksisterer.</li>
</ul>
</li>
</ul>
<p>Hvis presisjonsverdiene er satt for lave, EDDTable-akse-verdier som ikke bør matche EDDGrid FraEDDTable-akseverdier vil (Feilaktig) match.</p>
<p>Disse potensielle problemene er forferdelige, fordi brukeren får feil data (eller manglende verdier) Når de skal få riktige data (eller i det minste en feilmelding) ..
Dette er ikke en feil i EDDGrid Fra tabell. EDDGrid Fra tabellen kan ikke løse dette problemet. Problemet er iboende i konverteringen av tabelldata til gitte data (med mindre andre antakelser kan gjøres, men de kan ikke gjøres her) ..
Det er opp til deg, ERDDAP™ administrator til <strong>test din EDDGrid FraEDDTable grundig</strong> For å sikre at presisjonsverdiene er satt for å unngå disse potensielle problemene.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="gapthreshold">gapTreshold<a href="#gapthreshold" class="hash-link" aria-label="Direkte lenke tilgapTreshold" title="Direkte lenke tilgapTreshold" translate="no">​</a></h4>
<ul>
<li class=""><a href="#gapthreshold" class="">gapTreshold</a> -- Dette er en veldig uvanlig type datasett. Siden de typer spørsmål som kan gjøres til (Håndtert av) en EDDGrid Datasett (relatert til intervaller og straider av axisVariable s) er svært forskjellig fra de typene spørsmål som kan gjøres til (Håndtert av) et EDDTable datasett (Bare relatert til intervallene til noen variabler) , ytelsen til EDDGrid FraEDDTable datasett vil variere sterkt avhengig av den nøyaktige forespørsel som er gjort og hastigheten på det underliggende EDDTable datasett. For forespørsler som har en strideverdi &gt; 1, EDDGrid FraEDDTable kan be den underliggende EDDTable om en relativt stor del av data (som om stride=1) og deretter snu gjennom resultatene, holde data fra noen rader og kaste bort data fra andre. Hvis det trenger å snu gjennom mye data for å få dataene den trenger, vil forespørselen ta lengre tid å fylle ut.</li>
</ul>
<p>Hvis EDDGrid FraEDDTabell kan fortelle at det vil være store hull (med rekker av uønskede data) mellom radene med ønsket data, EDDGrid FraEDDTable kan velge å gjøre flere underspørsmål til den underliggende EDDTable i stedet for én stor forespørsel, og dermed hoppe over de uønskede rekkene av data i de store hullene. Sensitiviteten for denne beslutning styres av gapTreshold-verdien som angitt i&lt;gapTreshold&gt; tag (standard=1000 rader av kildedata) .. Å sette gapTreshold til et mindre tall vil føre til datasettet gjør (generelt) Flere spørsmål. Å sette gapTreshold til et større antall vil føre til datasettet gjør (generelt) færre underspørsmål.</p>
<p>Hvis gapTreshold er satt for lite, EDDGrid FraEDDTable vil fungere sakte fordi overskuddet av flere forespørsler vil være større enn tiden lagret ved å få noen overflødige data. Hvis gapTreshold er satt for stort, EDDGrid FraEDDTable vil fungere saktere fordi så mye overflødige data vil bli hentet fra EDDTable, bare for å bli kassert. (Som Goldilocks oppdaget, er midten - rett til høyre -) Overhead for ulike typer EDDTable datasett varierer mye, så den eneste måten å vite den faktiske beste innstillingen for datasettet er via eksperimentering. Men du vil ikke gå for langt feil å holde seg til standard.</p>
<p>Et enkelt eksempel er: Tenk deg en EDDGrid Fra Tabell med bare én axisVariable   (tid, med en størrelse på 10000) , én dataVariable   (temperatur) , og standard gapTreshold på 1000.</p>
<ul>
<li class="">Hvis en bruker ber om temperatur \[ 0<!-- -->💯<!-- -->5000 \] , strid er 100 så gapstørrelsen er 99, som er mindre enn gapTreshold. Så EDDGrid Fratabell vil bare gjøre én forespørsel til EDDTable for alle data som trengs for forespørselen (Tilsvarende temperatur \[ 0:5000 \] ) og kast bort alle radene av data det ikke trenger.</li>
<li class="">Hvis en bruker ber om temperatur \[ 0:2500:5000 \] , det trinn er 2500 så gapstørrelsen er 2499, som er større enn gapTreshold. Så EDDGrid Fratabellen vil gjøre separate forespørsler til EDDTable som tilsvarer temperatur \[ 0 \] , temperatur \[ 2500 \] , temperatur \[ 5000 \] ..</li>
</ul>
<p>Beregning av gapstørrelsen er mer komplisert når det er flere akser.</p>
<p>For hver brukerforespørsel, EDDGrid FraEDDTable skriver ut diagnostiske meldinger relatert til dette i <a class="" href="/nb/docs/server-admin/additional-information#log">log.txt</a> fil.</p>
<ul>
<li class="">Hvis [&lt;loggnivå&gt;] (#loglevel) i datasets.xml er satt til info, dette skriver ut en melding som
\* nOuterAxes=1 av 4 nOuterRequests=22
Hvis nOuterAxes=0, ble ikke gapTreshold overskredet og bare én forespørsel vil bli gjort til EDDTable.
Hvis nOuterAxes&gt;0, gapTreshold ble overskredet og nOuterRequests vil bli gjort til EDDTable, tilsvarende hver forespurt kombinasjon av de venstre nOuterAxes. For eksempel hvis datasettet har 4 axisVariable S og dataVariable som østover \[ tid \]  \[ breddegrad \]  \[ Lengdegrad \]  \[ dybde \] Den venstre mest (først) aksen variabel er tid.</li>
<li class="">Hvis&lt;logLevel&gt; i datasets.xml er satt til alle, ekstra informasjon er skrevet til log.txt-filen.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromeddtable-skeleton-xml">EDDGrid FraEDDTable skjelett XML<a href="#eddgridfromeddtable-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDGrid FraEDDTable skjelett XML" title="Direkte lenke tilEDDGrid FraEDDTable skjelett XML" translate="no">​</a></h4>
<blockquote>
<p> &lt;dataset type=&quot;EDDGridFromEDDTable&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->    <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1.<br>
<!-- -->     For EDDGridFromEDDTable, this only works if the underlying EDDTable<br>
<!-- -->     supports updateEveryNMillis. --&gt;<br>
<!-- -->    <a href="#gapthreshold" class="">&lt;gapThreshold&gt;</a>...&lt;/gapThreshold&gt; &lt;!-- 0 or 1. The default is 1000. &gt;<br>
<!-- -->    <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->    <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#axisvariable" class="">&lt;axisVariable&gt;</a>...&lt;/axisVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->    <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->    &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- The underlying source EDDTable dataset. --&gt;<br>
<!-- --> &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddfromerddap">EDD*Fra ERDDAP<a href="#eddfromerddap" class="hash-link" aria-label="Direkte lenke tilEDD*Fra ERDDAP" title="Direkte lenke tilEDD*Fra ERDDAP" translate="no">​</a></h3>
<p>** EDDGrid FraErddap** håndterer rutenettede data fra en fjernkontroll ERDDAP™ server.
<strong>EDDTableFraErddap</strong> håndterer tabelldata fra en ekstern ERDDAP™ server.</p>
<ul>
<li class="">EDDGrid FraErddap og EDDTableFraErddap oppfører seg annerledes enn alle andre typer datasett i ERDDAP ..</li>
<li class="">Som andre typer datasett får disse datasettene informasjon om datasettet fra kilden og holder det i minnet.</li>
<li class="">Som andre typer datasett, når ERDDAP™ Søk etter datasett, viser datatilgangsskjemaet ( * datasetID * .html) , eller viser Make A Graph skjema ( * datasetID * .graph) , ERDDAP™ bruker informasjonen om datasettet som er i minne.</li>
<li class="">EDDGrid FraErddap og EDDTable FraErddap er grunnlaget for <a class="" href="/nb/docs/server-admin/scaling">nett/clustere/federasjoner</a> av ERDDAP s, som effektivt distribuerer CPU-bruk (Mest for å lage kart) , minnebruk, datasettlagring og båndbreddebruk av et stort datasenter.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="redirect">Omdiriger<a href="#redirect" class="hash-link" aria-label="Direkte lenke tilOmdiriger" title="Direkte lenke tilOmdiriger" translate="no">​</a></h4>
<ul>
<li class="">I motsetning til andre typer datasett, når ERDDAP™ mottar en anmodning om data eller bilder fra disse datasettene, ERDDAP   <a href="https://en.wikipedia.org/wiki/URL_redirection" target="_blank" rel="noopener noreferrer" class="">omdirigerer</a> Forespørselen til fjernkontrollen ERDDAP™ server. Resultatet er:<!-- -->
<ul>
<li class="">Dette er meget effektivt (CPU, minne og båndbredde) fordi ellers<!-- -->
<ol>
<li class="">Sammensetningen ERDDAP™ må sende forespørselen til den andre ERDDAP™   (som tar tid) ..</li>
<li class="">Den andre ERDDAP™ må få dataene, reformatere dem og overføre dataene til sammensetningen ERDDAP ..</li>
<li class="">Sammensetningen ERDDAP™ må motta dataene (bruk båndbredde) , reformatere det (bruk av CPU og minne) og overføre dataene til brukeren (bruk båndbredde) .. Ved å omdirigere forespørselen og tillate den andre ERDDAP™ å sende responsen direkte til brukeren, sammensetningen ERDDAP™ bruker i det vesentlige ingen CPU-tid, minne eller båndbredde på forespørselen.</li>
</ol>
</li>
<li class="">Omdirigeringen er gjennomsiktig for brukeren uansett klientprogramvaren (en nettleser eller andre programvare eller kommandolinjeverktøy) ..</li>
</ul>
</li>
<li class=""><a href="#redirect" class="">Du kan fortelle ERDDAP™ </a> ikke å omdirigere noen brukerforespørsler ved å sette&lt;omdirigere&gt;falske&lt;/redirect&gt;, men dette nekter de fleste fordelene med ...FraErddap datasett type (Spesielt disperger belastningen på fronten ERDDAP™ til avsides/backend ERDDAP ) ..
 
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="subscriptions">Abonnement<a href="#subscriptions" class="hash-link" aria-label="Direkte lenke tilAbonnement" title="Direkte lenke tilAbonnement" translate="no">​</a></h4>
<p>Vanligvis når en EDDGrid FraErddap og EDDTable FraErddap er (re) Lastet på din ERDDAP , de prøver å legge til et abonnement på fjerndatasettet via fjernkontrollen ERDDAP e-post/URL abonnementssystem. På den måten, når fjerndatasettet endres, fjernkontrollen ERDDAP™ Kontakter <a class="" href="/nb/docs/server-admin/additional-information#set-dataset-flag">setDataset Flag URL</a> på din ERDDAP™ slik at det lokale datasettet lastes på nytt ASAP og slik at det lokale datasettet alltid er helt oppdatert og etterlikner fjerndatasettet. Så første gang dette skjer, bør du få en e-post som ber om at du validerer abonnementet. Hvis det lokale ERDDAP™ kan ikke sende en e-post eller hvis fjernkontrollen ERDDAP abonnementssystemet e-post/URL er ikke aktivt, du bør e-post fjernkontrollen ERDDAP™ administrator og be om at s/han manuelt legger til [&lt;onChange&gt;] (#onchange) ...&lt;/onChange&gt; tagger til alle relevante datasett for å ringe datasettets <a class="" href="/nb/docs/server-admin/additional-information#set-dataset-flag">setDataset Flaggadresser</a> .. Se din ERDDAP™ daglig rapport for en liste over settdatasett Flag URLs, men bare sende dem for EDDGrid FraErddap og EDDTableFraErddap datasett til fjernkontrollen ERDDAP™ administrator.</p>
<p>Fungerer ikke dette? Er dine lokale datasett ikke synkronisert med de eksterne datasettene?
Flere ting må alle fungere riktig for at dette systemet skal fungere slik at datasettene holder seg oppdaterte. Sjekk alle disse tingene i rekkefølge:</p>
<ol>
<li class="">Din ERDDAP™ Må kunne sende ut e-post. Se e-postinnstillingene i config.xml.</li>
<li class="">Generelt (Men ikke alltid) , din ERDDAP &#x27;s&lt;baseUrl&gt; og&lt;baseHttpsUrl&gt;må ikke ha et portnummer (f.eks. :8080, :8443) .. Hvis de gjør det, bruk en <a class="" href="/nb/docs/server-admin/deploy-install#proxypass">proxypass</a> å fjerne havnen fra Url.</li>
<li class="">I setup.xml,&lt;abonnentToRemoteErddapDataset&gt; må settes til sant.</li>
<li class="">Når din lokale EDD... FraErddap-datasettet lastes på nytt, det bør sende en forespørsel til fjernkontrollen ERDDAP™ å abonnere på fjerndatasettet. Se logg.txt for å se om dette skjer.</li>
<li class="">Du bør få en e-post som ber deg om å validere abonnementsforespørselen.</li>
<li class="">Du må klikke på lenken i e-posten for å validere abonnementsforespørselen.</li>
<li class="">Fjernkontrollen ERDDAP™ Det bør sis at valideringen var vellykket. Når som helst kan du be om en e-post fra fjernkontrollen ERDDAP™ med en liste over de ventende og gyldige abonnementene dine. Se skjemaet på <em>avsideErddapBase Url</em> /erddap/subscriptions/list.html .</li>
<li class="">Når fjerndatasettet endres (For eksempel får du ekstra data) , fjernkontrollen ERDDAP™ bør prøve å kontakte flagget URL på din ERDDAP .. Du kan ikke sjekke dette, men du kan spørre administratoren på fjernkontrollen ERDDAP™ for å sjekke dette.</li>
<li class="">Din ERDDAP™ bør motta en forespørsel om å angi denne flaggadressen. Se i din log.txt for &quot;setDatasetFlag.txt?&quot; forespørsel (s) og se om det er en feilmelding knyttet til forespørsler.</li>
<li class="">Din ERDDAP™ bør så prøve å laste datasettet på nytt (Kanskje ikke umiddelbart, men ASAP) ..
 </li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="up-to-date-maxtime">Oppdatert max (tid) ?<a href="#up-to-date-maxtime" class="hash-link" aria-label="Direkte lenke tilOppdatert max (tid) ?" title="Direkte lenke tilOppdatert max (tid) ?" translate="no">​</a></h4>
<p>EDDGrid /TableFraErddap datasett bare endrer sin lagrede informasjon om hvert kildedatasett når kildedatasettet er <a href="#reloadeverynminutes" class="">reload-ed</a> Noen metadata endringer (For eksempel tidsvariabelens actual\_range ) og dermed generere et abonnementsvarsel. Hvis kildedatasettet har data som endres ofte (For eksempel nye data hvert sekund) og bruker <a href="#updateeverynmillis" class="">&quot;update&quot;</a> system for å merke hyppige endringer i de underliggende dataene, EDDGrid /TabellFromErddap vil ikke bli varslet om disse hyppige endringene før neste datasett &quot; reload&quot;, så den EDDGrid /TabellFraErddap vil ikke være helt oppdatert. Du kan minimere dette problemet ved å endre kildedatasettets&lt;reloadEveryNMinutes&gt; til en mindre verdi (60? 15?) slik at det er flere abonnementsvarsler å fortelle EDDGrid /TabellFraErddap å oppdatere sin informasjon om kildedatasettet.</p>
<p>Hvis datahåndteringssystemet vet når kildedatasettet har nye data (f.eks. via et skript som kopierer en datafil på plass) , og hvis det ikke er super hyppig (f.eks. hvert 5. minutt eller mindre hyppig) Det finnes en bedre løsning:</p>
<ol>
<li class="">Ikke bruk&lt;oppdaterEveryNMillis&gt; for å holde kildedata satt oppdatert.</li>
<li class="">Angi kildedatasettets&lt;reloadEveryNMinutes&gt; til et større antall (1440?) ..</li>
<li class="">Ta kontakt med kildedatasettet <a class="" href="/nb/docs/server-admin/additional-information#set-dataset-flag">flagg URL</a> rett etter det kopierer en ny datafil på plass.
 </li>
</ol>
<p>Det vil føre til at kildedatasettet er helt oppdatert og får det til å generere et abonnementsvarsel, som vil bli sendt til EDDGrid /TableFraErddap datasett. Det vil lede EDDGrid /TableFraErddap datasett å være perfekt oppdatert (innen 5 sekunder etter at nye data er lagt til) .. Alt som vil bli gjort effektivt (uten unødvendige datasett) ..
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="no-addattributes-axisvariable-or-datavariable">Nei addAttributes , axisVariable , eller dataVariable<a href="#no-addattributes-axisvariable-or-datavariable" class="hash-link" aria-label="Direkte lenke tilNei addAttributes , axisVariable , eller dataVariable" title="Direkte lenke tilNei addAttributes , axisVariable , eller dataVariable" translate="no">​</a></h4>
<p>I motsetning til andre typer datasett, EDDTableFromErddap og EDDGrid FraErddap-datasett tillater ikke globale&lt;addAttributes&gt;,&lt; axisVariable &gt;, eller&lt; dataVariable &gt; seksjoner i datasets.xml For det datasettet. Problemet er at det å la dem føre til uoverensstemmelser:</p>
<ol>
<li class="">La oss si det var tillatt og du har lagt til en ny global attributt.</li>
<li class="">Når en bruker spør din ERDDAP™ For de globale attributtene vil den nye egenskapen vises.</li>
<li class="">Men når en bruker spør ERDDAP™ for en datafil, din ERDDAP™ omdirigerer forespørselen til kilden ERDDAP .. Det ERDDAP™ er uvitende om den nye egenskapen. Så hvis det oppretter en datafil med metadata, f.eks. .nc fil, metadata vil ikke ha den nye attributten.</li>
</ol>
<p>Det er to arbeidsomganger:</p>
<ol>
<li class="">Konvinner administratoren av kilden ERDDAP™ For å gjøre endringer som du vil ha metadata.</li>
<li class="">I stedet for EDDTableFromErddap, bruk <a href="#eddtablefromdapsequence" class="">EDDTableFra DapSekvens</a> .. Eller i stedet for EDDGrid FraErddap, bruk <a href="#eddgridfromdap" class=""> EDDGrid FraDap</a> .. Disse EDD-typene lar deg koble effektivt til et datasett på en ekstern ERDDAP™   (uten å omdirigere dataforespørsler) De lar deg inkludere globalt&lt;addAttributes&gt;,&lt; axisVariable &gt;, eller&lt; dataVariable &gt; seksjoner i datasets.xml .. En annen forskjell: Du må manuelt abonnere på fjerndatasettet, slik at datasettet på din ERDDAP™ vil bli varslet (via <a class="" href="/nb/docs/server-admin/additional-information#set-dataset-flag">flagg URL</a> ) når det er endringer i fjerndatasettet. Derfor oppretter du et nytt datasett i stedet for å koble til et fjernt datasett.
 </li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="other-notes">Andre notater<a href="#other-notes" class="hash-link" aria-label="Direkte lenke tilAndre notater" title="Direkte lenke tilAndre notater" translate="no">​</a></h4>
<ul>
<li class="">Av sikkerhetsgrunner, EDDGrid FraErddap og EDDTable Fra Erddap støtter ikke [&lt;tilgjengeligTil&gt;] (#accessibleto) tagg og kan ikke brukes med eksterne datasett som krever å logge inn (fordi de bruker [&lt;tilgjengeligTil&gt;] (#accessibleto) .. Se ERDDAP &#x27;s <a class="" href="/nb/docs/server-admin/additional-information#security">sikkerhetssystem</a> for å begrense tilgangen til noen datasett til noen brukere.
 </li>
<li class="">Begynner med ERDDAP™ v2.10, EDDGrid FraErddap og EDDTableFromErddap støtter [&lt;tilgjengeligViaFiles&gt;] (#accessibleviafiles) Tag. I motsetning til andre typer datasett, er standarden sant, men datasettets filer vil være tilgjengeligeViaFiles bare hvis kildedatasettet også har&lt;tilgjengeligViaFiles&gt; satt til sant.
 </li>
<li class="">Du kan bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å gjøre datasets.xml bit for denne typen datasett. Men du kan gjøre disse typer datasett lett for hånd.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromerddap-skeleton-xml">EDDGrid FraErddap skjelett XML<a href="#eddgridfromerddap-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDGrid FraErddap skjelett XML" title="Direkte lenke tilEDDGrid FraErddap skjelett XML" translate="no">​</a></h4>
<ul>
<li class="">EDDGrid FraErddap skjelett XML-datasettet er veldig enkelt, fordi hensikten bare er å etterlikne fjerndatasettet som allerede er egnet for bruk i ERDDAP :)</li>
</ul>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridFromErddap&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviafiles" class="">&lt;accessibleViaFiles&gt;</a>...&lt;/accessibleViaFiles&gt; &lt;!-- 0 or 1, default=true. --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1<br>
<!-- -->        For EDDGridFromErddap, this gets the remote .dds and then gets<br>
<!-- -->        the new leftmost (first) dimension values. --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#redirect" class="">&lt;redirect&gt;</a>true(default)|false&lt;/redirect&gt; &lt;!-- 0 or 1; --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromerddap-skeleton-xml">EDDTableFra Erddap skjelett XML<a href="#eddtablefromerddap-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDTableFra Erddap skjelett XML" title="Direkte lenke tilEDDTableFra Erddap skjelett XML" translate="no">​</a></h4>
<ul>
<li class="">Skelett XML for et EDDTableFraErddap-datasett er svært enkelt, fordi hensikten bare er å etterlikne fjerndatasettet, som allerede er egnet for bruk i ERDDAP :)</li>
</ul>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromErddap&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#redirect" class="">&lt;redirect&gt;</a>true(default)|false&lt;/redirect&gt; &lt;!-- 0 or 1; --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfrometopo">EDDGrid FraEtopo<a href="#eddgridfrometopo" class="hash-link" aria-label="Direkte lenke tilEDDGrid FraEtopo" title="Direkte lenke tilEDDGrid FraEtopo" translate="no">​</a></h3>
<p><a href="#eddgridfrometopo" class=""> ** EDDGrid FraEtopo** </a> Bare tjener <a href="https://www.ngdc.noaa.gov/mgg/global/global.html" target="_blank" rel="noopener noreferrer" class="">ETOPO1 Global 1-minute grepet hevelsesdatasett</a>   (Ice Surface, gitter registrert, binær, 2byte intensjon: etopo1\_ice\_g\_i2 .zip ) som distribueres med ERDDAP ..</p>
<ul>
<li class="">Bare to datasetID S støttes for EDDGrid Fra Etopo, slik at du kan få tilgang til data med lengdegradsverdier -180 til 180, eller lengdegradsverdier 0 til 360.</li>
<li class="">Det er aldri noen undermerker, siden dataene allerede er beskrevet i ERDDAP ..</li>
<li class="">Så de to alternativene for EDDGrid FraEtopo datasett er (bokstavelig talt) :)</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;!-- etopo180 serves the data from longitude -180 to 180 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;dataset type=&quot;EDDGridFromEtopo&quot; datasetID=&quot;etopo180&quot; /&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;!-- etopo360 serves the data from longitude 0 to 360 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;dataset type=&quot;EDDGridFromEtopo&quot; datasetID=&quot;etopo360&quot; /&gt; </span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromfiles">EDDGrid FraFiles<a href="#eddgridfromfiles" class="hash-link" aria-label="Direkte lenke tilEDDGrid FraFiles" title="Direkte lenke tilEDDGrid FraFiles" translate="no">​</a></h3>
<p><a href="#eddgridfromfiles" class=""> ** EDDGrid FraFiles** </a> er superklassen til alle EDDGrid Fra... Filer klasser. Du kan ikke bruke EDDGrid Fra Filer direkte. Bruk i stedet en underklasse EDDGrid Fra Filer for å håndtere den spesifikke filtypen:</p>
<ul>
<li class=""><a href="#eddgridfrommergeirfiles" class=""> EDDGrid Fra FlightIRFiles</a> håndtere data fra gitt <a href="https://www.cpc.ncep.noaa.gov/products/global_precip/html/README" target="_blank" rel="noopener noreferrer" class="">MergeIR .gz </a> Filer.</li>
<li class=""><a href="#eddfromaudiofiles" class=""> EDDGrid FraAudioFiles</a> aggregerer data fra en gruppe av lokale lydfiler.</li>
<li class=""><a href="#eddgridfromncfiles" class=""> EDDGrid FraNcFiles</a> håndtere data fra gitt <a href="https://en.wikipedia.org/wiki/GRIB" target="_blank" rel="noopener noreferrer" class="">GRIB .grb</a> filer, <a href="https://www.hdfgroup.org/" target="_blank" rel="noopener noreferrer" class=""> HDF   (v4 eller v5)   .hdf </a> filer, <a href="#ncml-files" class=""> .nc ml</a> filer, og <a href="https://www.unidata.ucar.edu/software/netcdf/" target="_blank" rel="noopener noreferrer" class=""> NetCDF   (v3 eller v4)   .nc </a> Filer. Dette kan fungere med andre filtyper (For eksempel BUFR) , vi har ikke testet det - vennligst send oss noen prøvefiler hvis du er interessert.</li>
<li class=""><a href="#eddgridfromncfilesunpacked" class=""> EDDGrid FraNcFilesUpakket</a> En variant av EDDGrid FraNcFiles som håndterer data fra rutenettet NetCDF   (v3 eller v4)   .nc og relaterte filer som ERDDAP™ pakker ut på lavt nivå.</li>
</ul>
<p>For tiden støttes ingen andre filtyper. Men det er vanligvis relativt enkelt å legge til støtte for andre filtyper. Kontakt oss hvis du har en forespørsel. Eller hvis dataene dine er i et gammelt filformat som du vil flytte fra, anbefaler vi å konvertere filene til å være NetCDF v3 .nc Filer. NetCDF er et bredt støttet binærformat, gir rask tilfeldig tilgang til dataene, og er allerede støttet av ERDDAP ..</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="from-files-details">Fra fildetaljer<a href="#from-files-details" class="hash-link" aria-label="Direkte lenke tilFra fildetaljer" title="Direkte lenke tilFra fildetaljer" translate="no">​</a></h4>
<p>Følgende opplysninger gjelder alle underklasser av EDDGrid Fra Filer.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="aggregation-of-an-existing-dimension">aggregering av en eksisterende dimensjon<a href="#aggregation-of-an-existing-dimension" class="hash-link" aria-label="Direkte lenke tilaggregering av en eksisterende dimensjon" title="Direkte lenke tilaggregering av en eksisterende dimensjon" translate="no">​</a></h5>
<p>Alle variasjoner av EDDGrid FraFiles kan samle data fra lokale filer, der hver fil har 1 (eller mer) forskjellige verdier for venstre (først) dimensjon, vanligvis \[ tid \] som vil bli aggregert. For eksempel kan dimensjonene være \[ tid \]  \[ høyde \]  \[ breddegrad \]  \[ Lengdegrad \] , og filene kan ha data for en (eller noen få) tidsverdi (s) per fil. Det resulterende datasettet vises som om alle fildataene var kombinert. De store fordelene ved sammenslåing er:</p>
<ul>
<li class="">Størrelsen på det samlede datasettet kan være mye større enn en enkelt fil kan være praktisk (~2GB) ..</li>
<li class="">For nær-real-time data, er det enkelt å legge til en ny fil med den nyeste delen av data. Du trenger ikke å omskrive hele datasettet.</li>
</ul>
<p>Kravene til sammenslåing er:</p>
<ul>
<li class="">De lokale filene trenger ikke ha det samme dataVariable s (som definert i datasettets datasets.xml ) .. Datasettet vil ha dataVariable definert i datasets.xml .. Hvis en gitt fil ikke har en gitt dataVariable , ERDDAP™ vil legge til manglende verdier etter behov.</li>
<li class="">Alle dataVariable Må bruke det samme axisVariable s/dimensioner (som definert i datasettets datasets.xml ) .. Filene vil bli samlet ut fra den første (venstre-mest) dimensjon, sortert i stigende rekkefølge.</li>
<li class="">Hver fil kan ha data for en eller flere verdier i første dimensjon, men det kan ikke være noen overlapp mellom filer. Hvis en fil har mer enn én verdi for den første dimensjonen, må verdiene sorteres i stigende rekkefølge, uten bånd.</li>
<li class="">Alle filer må ha nøyaktig de samme verdiene for alle andre dimensjoner. Nøyaktigheten i testen bestemmes av <a href="#matchaxisndigits" class="">matchAxisNDigits</a> ..</li>
<li class="">Alle filer må ha akkurat det samme <a href="#units" class="">enheter</a> Metadata for alle axisVariable S og dataVariable S. Hvis dette er et problem, kan du kanskje bruke <a href="#ncml-files" class="">NcML</a> eller <a href="#netcdf-operators-nco" class=""> NCO </a> å løse problemet.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="aggregation-via-file-names-or-global-metadata">aggregering via Filnavn eller Global Metadata<a href="#aggregation-via-file-names-or-global-metadata" class="hash-link" aria-label="Direkte lenke tilaggregering via Filnavn eller Global Metadata" title="Direkte lenke tilaggregering via Filnavn eller Global Metadata" translate="no">​</a></h5>
<p>Alle variasjoner av EDDGrid FromFiles kan også samle en gruppe filer ved å legge til et nytt venstre lengst (først) dimensjon, vanligvis tid, basert på en verdi avledet fra hvert filnavn eller fra verdien av en global attributt som er i hver fil. Filnavnet kan for eksempel inneholde tidsverdien for dataene i filen. ERDDAP™ Da vil vi skape en ny tidsdimensjon.</p>
<p>I motsetning til den samme funksjonen i THREDDS, ERDDAP™ Oppretter alltid en axisVariable med numeriske verdier (som kreves av CF) , aldri strengverdier (som ikke er tillatt av CF) .. Også, ERDDAP™ vil sortere filene i samlingen basert på tallene axisVariable verdi som tildeles hver fil, slik at aksevariabelen alltid vil ha sorterte verdier som kreves av CF. THREDDS tilnærming til å gjøre en leksikografisk sort basert på filnavnene fører til aggregeringer der akseverdiene ikke er sortert (som ikke er tillatt av CF) Når filnavnene sorteres annerledes enn avledet axisVariable verdier.</p>
<p>Å etablere en av disse sammenslåingene i ERDDAP™ , vil du definere et nytt venstre lengst (først)   <a href="#axisvariable" class=""> axisVariable </a> med en spesiell pseudo&lt; sourceName &gt; som forteller ERDDAP™ hvor og hvordan du finner verdien for den nye dimensjonen fra hver fil.</p>
<ul>
<li class="">Format for pseudoen sourceName som får verdien fra et filnavn (bare filename.ext) er
\<em>\</em>\ <em>filName</em>  <a href="#data-types" class="">Data Type</a>  <em>,</em> ekstraktRegex <em>,</em> catchGruppenummer*</li>
<li class="">Format for pseudoen sourceName som får verdien fra en fils absolutte stinavn er
\<em>\</em>\ <em>stiName,</em>  <a href="#data-types" class="">Data Type</a>  <em>,</em> ekstraktRegex <em>,</em> catchGruppenummer*
\[ For dette bruker stinavnet alltid &#x27;/&#x27; som katalogsepareringstegnet, aldri &quot;\&quot;. \]</li>
<li class="">Format for pseudoen sourceName som får verdien fra en global egenskap er
\<em>\</em>\ <em>Global:</em> attributt Navn <em>,</em>  <a href="#data-types" class="">Data Type</a>  <em>,</em> ekstraktRegex <em>,</em> catchGruppenummer*</li>
<li class="">Denne pseudoen sourceName alternativet fungerer annerledes enn de andre: i stedet for å skape et nytt venstre mest (først)   axisVariable Dette erstatter verdien av dagens axisVariable med en verdi ekstrahert fra filnavnet (bare filename.ext) .. Formatet er
\<em>\</em>\ <em>erstatte FraFileName,</em>  <a href="#data-types" class="">Data Type</a>  <em>,</em> ekstraktRegex <em>,</em> catchGruppenummer*
 </li>
</ul>
<p>Beskrivelsene av de delene du trenger å gi er:</p>
<ul>
<li class=""><em>attributt Navn</em> -- navnet på den globale attributten som er i hver fil og som inneholder dimensjonsverdien.</li>
<li class=""><em>Data Type</em> -- Dette angir datatypen som vil bli brukt til å lagre verdiene. Se standardlisten til <a href="#data-types" class="">Data Typer</a> som ERDDAP™ støtter, bortsett fra at streng ikke er tillatt her siden aksevariabler i ERDDAP™ Det kan ikke være strengvariabler.</li>
</ul>
<p>Det finnes en ekstra pseudodataType, timeFormat= <em>streng Tidsformat</em> som forteller ERDDAP™ at verdien er en streng timeStamp <a href="#string-time-units" class="">enheter egnet for strengtider</a> .. I de fleste tilfeller vil strengTimeFormat du trenger være en variasjon av ett av disse formatene:</p>
<ul>
<li class="">yyyy-MM-dd &#x27;T&#x27;HH:mm<!-- -->:ss<!-- -->.SSSZ - som ISO 8601:2004 (E) Datotidsformat. Du kan trenge en forkortet versjon av dette, f.eks. yyyy-MM-dd &#x27;T&#x27;HH:mm<!-- -->:ss<!-- --> eller yyyy-MM-dd ..</li>
<li class="">YYMMddHHmmss.SSS - som er den kompakte versjonen av ISO 8601 datotid format. Du kan trenge en forkortet versjon av dette, f.eks.</li>
<li class="">M/d/YYY H:mm<!-- -->:ss<!-- -->.SSS - som er det amerikanske klippedatoformatet. Du kan trenge en forkortet versjon av dette, f.eks. M/d/YYY.</li>
<li class="">YYDDDHmmssSSS - som er året pluss null-polert dag i året (f.eks. 001 = jan 1, 365 = dec 31 i et ikke-leap år; dette kalles noen ganger feilaktig den julianske datoen) .. Du kan trenge en forkortet versjon av dette, f.eks.</li>
</ul>
<p>Hvis du bruker denne pseudodatatypen, legger du til dette i den nye variabelen&lt; addAttributes &gt;:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;units&quot;&gt;seconds since 1970-01-01T00:00:00Z&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Hvis du vil flytte alle tidsverdier, skift tidsverdien i enheter, f.eks.
1970-01-01T12:00:00Z.</p>
<ul>
<li class=""><em>ekstraktRegex</em> -- Dette er <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">regulært uttrykk</a>   ( <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">tutorial</a> ) som inkluderer en fangstgruppe (i parentes) som beskriver hvordan du uttrekker verdien fra filnavnet eller den globale attributtverdien. For eksempel gitt et filnavn som S19980011998031.L3b\_MO\_CHL .nc , fange gruppe #1, \ \dtutorial &quot; i det regulære uttrykket S (\ \dtutorial ) \ \dtutorial \.L3b.\* vil fange de første 7 sifferene etter &#x27;S&#x27;: 1998001.</li>
<li class=""><em>catchGroupNumber</em> -- Dette er antall fangstgruppen (innenfor et par parenteser) i det regulære uttrykket som inneholder informasjon av interesse. Det er vanligvis 1, den første fangegruppen. Noen ganger må du bruke fangstgrupper til andre formål i regulært, så det viktige fangstgruppen nummer vil være 2 (den andre fangstgruppen) eller 3 (den tredje) , etc.</li>
</ul>
<p>Et fullt eksempel på et axisVariable som gjør et samlet datasett med en ny tidsakse som får tidsverdiene fra filnavnet til hver fil er</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;axisVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*fileName,timeFormat=yyyyDDD,S(\\d{7})\\.L3m.\\*,1&lt;/sourceName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;time&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/axisVariable&gt;</span><br></span></code></pre></div></div>
<p>Når du bruker tidsformat=&quot; pseudodata Type, ERDDAP™ vil legge til 2 attributter i axisVariable Så de ser ut til å komme fra kilden:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;standard\\_name&quot;&gt;time&lt;/att&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;units&quot;&gt;seconds since 1970-01-01T00:00:00Z&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>I dette tilfellet, ERDDAP™ vil skape en ny akse som heter &quot;time&quot; med doble verdier (sekunder siden 1970-01-01T00:00:00Z) ved å trekke ut 7 sifre etter &quot;S&quot; og før .L3m i filnavnet og tolke dem som tidsverdier formatert som YYDDD.</p>
<p>Du kan overstyre standard basistid (1970-01-01T00:00:00Z) ved å legge til en <a href="#addattributes" class="">addAttribute</a> som angir en annen enhet attributt med en annen basistid. En vanlig situasjon er: det er grupper av datafiler, hver med en 1 dag kompositt av et satellittdatasett, der du vil at tidsverdien skal være på ettermiddagen på dagen som er nevnt i filnavnet (Sentrert tid på hver dag) og ønsker variabelens long\_name å være &quot;Centered Time&quot;. Et eksempel som gjør dette er:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;axisVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*fileName,timeFormat=yyyyDDD,S(\\d{7})\\.L3m.\\*,1&lt;/sourceName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;time&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;att name=&quot;long\\_name&quot;&gt;Centered Time&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;att name=&quot;units&quot;&gt;seconds since 1970-01-01T12:00:00Z&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/axisVariable&gt;</span><br></span></code></pre></div></div>
<p>Merk timer=12 i basistiden, som legger til 12 timer i forhold til den opprinnelige basistiden 1970-01-01T00:00:00Z.</p>
<p>Et fullt eksempel på et axisVariable som gjør et samlet datasett med en ny &quot;run&quot; akse (med intense verdier) som får løpsverdier fra den globale egenskapen &quot;runID&quot; i hver fil (med verdier som &quot;r17\_global&quot;, der 17 er kjøringsnummeret) er</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;axisVariable&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*global:runID,int,(r|s)(\\d+)\\_global,2&lt;/sourceName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;run&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;att name=&quot;ioos\\_category&quot;&gt;Other&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;att name=&quot;units&quot;&gt;count&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/axisVariable&gt;</span><br></span></code></pre></div></div>
<p>Legg merke til bruken av opptaksgruppens nummer 2 for å fange sifferene som oppstår etter &#x27;r&#x27; eller &#x27;s&#x27;, og før &quot;_global&quot;. Dette eksemplet viser også hvordan du legger til ekstra attributter (f.eks. ioos\_category og enheter) til aksevariabelen.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="externally-compressed-files">Eksternt komprimerte filer<a href="#externally-compressed-files" class="hash-link" aria-label="Direkte lenke tilEksternt komprimerte filer" title="Direkte lenke tilEksternt komprimerte filer" translate="no">​</a></h4>
<ul>
<li class="">
<p>Datasett som er undergrupper av EDDGrid Fra Filer og EDDTable FromFiles kan betjene data direkte fra eksterne komprimerte datafiler, inkludert .tgz , .tar  .gz , .tar  .gzip , .gz , .gzip , .zip , .bz2 , og .Z-filer.
 </p>
</li>
<li class="">
<p><strong>Dette fungerer overraskende bra!</strong><br>
<!-- -->I de fleste tilfeller er nedgangen relatert til å dekomprimere små og mellomstore datafiler mindre. Hvis du trenger å spare diskplass, oppfordrer vi sterkt til å bruke denne funksjonen, spesielt for eldre filer som sjelden er tilgjengelig.
 </p>
</li>
<li class="">
<p><strong>Spar penger!</strong><br>
<!-- -->Dette er en av de få funksjonene i ERDDAP™ Det gir deg muligheten til å spare mye penger (Selv om på bekostning av noe redusert ytelse) .. Hvis kompresjonsforholdet er f.eks. 6:1 (Noen ganger vil det bli mye høyere) Da vil datasettets datafiler bare trenge 1/6 diskplassen. Så kan du komme forbi med 1 RAID (av en gitt størrelse) I stedet for 6 RAIS (av samme størrelse) .. Det er en enorm kostnadsbesparelse. Forhåpentligvis evnen til å komprimere noen filer i en samling (De eldre?) og ikke komprimer andre (De nyere?) , og for å endre det når som helst, la oss minimere nedsiden for å komprimere noen av filene (langsommere tilgang) .. Og hvis valget er mellom å lagre filene på bånd (og kun tilgjengelig etter forespørsel, etter forsinkelse) vs å lagre dem komprimert på en RAID (og tilgjengelig via ERDDAP ) , så det er en stor fordel å bruke kompresjon slik at brukerne blir interaktive og (relativt) rask tilgang til dataene. Og hvis dette kan spare deg fra å kjøpe en ekstra RAID, kan denne funksjonen spare deg rundt $ 30 000.
 </p>
</li>
<li class="">
<p>For alle EDDGrid FraFiles underklasser, hvis datafilene har en utvidelse som indikerer at de er eksternt komprimerte filer (i dag: .tgz , .tar  .gz , .tar  .gzip , .gz , .gzip , .zip , .bz2 , eller .Z) , ERDDAP™ vil dekomprimere filene til datasettets buffermappe når det leser dem (Hvis de ikke allerede er i cache) .. Det samme gjelder for binær fil (f.eks. .nc ) Underklasser av EDDTableFromFiles.
 </p>
</li>
<li class="">
<p>For EDDTableFromFiles underklasser for ikke-binære filer (f.eks.) , datafiler med en utvidelse som indikerer at de er eksternt komprimerte filer vil bli dekomprimert på flugen som filen leses.
 </p>
</li>
<li class="">
<p>Beskriving: Hvis typen eksternt komprimert fil som brukes (f.eks. .tgz eller .zip ) støtter mer enn 1 fil i den komprimerte filen, den komprimerte filen må inneholde bare 1 fil.
 </p>
</li>
<li class="">
<p>Denne funksjonen antar at innholdet i de eksterne komprimerte filene ikke endres, slik at en cached dekomprimert fil kan gjenbrukes. Hvis noen eller alle datasettets datafiler noen ganger endres, ikke komprimer disse filene. Dette er i samsvar med vanlig bruk, siden folk normalt ikke komprimere filer som de noen ganger trenger å endre.
 </p>
</li>
<li class="">
<p>&lt;filNameRegex&gt; For å gjøre dette arbeidet, datasettets&lt;filNameRegex&gt; må passe til navnene på komprimerte filer. Det er klart at regulære regulasjoner som.\<em>vil matche alle filnavn. Hvis du angir en bestemt filtype, f.eks.\</em>\ .nc , så må du endre regulært for å inkludere kompresjonsutvidelsen også, for eksempel . . . <em>\ .nc \ .gz (Hvis alle filene vil være</em> noe* .nc  .gz filer) .
 </p>
</li>
<li class="">
<p>Det er fint hvis datasettet inneholder en blanding av komprimerte og ikke komprimerte filer. Dette kan være nyttig hvis du tror at noen filer (f.eks. eldre filer) vil bli brukt mindre ofte og derfor vil det være nyttig å spare diskplass ved å komprimere dem. For å gjøre dette arbeidet&lt;filNameRegex&gt; må matche komprimerte og ikke komprimerte filnavn, for eksempel .\<em>eller.\</em>\ .nc  ( | \ .gz ) (der fangstgruppen på slutten av det angir at .gz Det er valgfritt.
 </p>
</li>
<li class="">
<p>Det er bra hvis du komprimerer eller dekompresser spesifikke filer i samlingen når som helst.
Hvis datasettet ikke bruker [&lt;OppdaterEveryNMillis&gt;] (#updatevardenmillis) Sett datasettets <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> å fortelle ERDDAP™ å laste datasettet på nytt og dermed legge merke til endringene. Interessant kan du bruke ulike kompresjonsalgoritmer og innstillinger for ulike filer i samme datasett (f.eks. .bz2 for sjelden brukte filer, .gz for ikke ofte brukte filer, og ingen komprimering for ofte brukte filer) , bare sørg for at regulært støtter alle filendelser som er i bruk, f.eks. .nc  ( | \ .gz  | \ .bz2 ) ..
 </p>
</li>
<li class="">
<p>Selvfølgelig varierer kompresjonsforholdene og hastighetene for de ulike kompresjonsalgoritmene med kildefilen og innstillingene (f.eks. kompresjonsnivå) .. Hvis du ønsker å optimalisere dette systemet for filene dine, gjør du en test av de forskjellige kompresjonsmetodene med filene dine og med en rekke kompresjonsinnstillinger. Hvis du vil ha en pålitelig god (Ikke nødvendigvis det beste) installasjon, vil vi litt anbefale gzip   ( .gz ) .. gzip gjør ikke den minste komprimerte filen (Det er rimelig nært) , men det komprimerer filen veldig raskt og (Viktigere for ERDDAP™ brukere) Dekomprimerer filen raskt. Pluss, gzip programvare leveres standard med hver Linux og Mac OS installasjon og er lett tilgjengelig for Windows via gratis verktøy som 7Zip og Linux tillegg som Git Bash. For eksempel for å komprimere en kildefil i .gz versjon av filen (samme filnavn, men med .gz Legg til) , bruk (i Linux, Mac OS og Git Bash)<br>
<!-- -->gzip   * sourceName *<br>
<!-- -->å dekomprimere en .gz fil tilbake til originalen, bruk
gunzip * sourceName  .gz *<br>
<!-- -->Hvis du vil komprimere hver av kildefilene i katalogen og dens undermapper, bruk rekursivt
gzip -r <em>DirektørName</em><br>
<!-- -->å dekomprimere hver av .gz filer i mappen og underkatalogene , rekursivt, bruk
gunzip-r <em>DirektørName</em><br>
<!-- --> </p>
</li>
<li class="">
<p>ADVARSEL: Ikke komprimer eksternt ( gzip ) filer som allerede er internt komprimert!
Mange filer har allerede komprimert data internt. Hvis du gzip disse filene, de resulterende filene vil ikke være mye mindre (&lt;5%) og ERDDAP™ vil kaste bort tid på å presse dem når det trenger å lese dem. For eksempel:</p>
<ul>
<li class="">Datafiler: f.eks. .nc 4 og .hdf 5 filer: Noen filer bruker intern kompresjon, noen ikke. Hvordan fortelle: komprimerte variabler har &quot;\_ChunkSize&quot; attributter. Også, hvis en gruppe gitt .nc eller .hdf filer er alle ulike størrelser, de er sannsynligvis internt komprimert. Hvis de alle er like store, er de ikke internt komprimert.</li>
<li class="">bildefiler: f.eks. gif, .jpg og .png</li>
<li class="">lydfiler: f.eks. .mp3, og .ogg.</li>
<li class="">videofiler: f.eks. .mp4, .ogv og .webm.</li>
</ul>
</li>
</ul>
<p>En uheldig merkelig tilfelle: .wav lydfiler er enorme og ikke internt komprimert. Det ville vært fint å komprimere ( gzip ) dem, men generelt bør du ikke fordi hvis du gjør det, vil brukerne ikke kunne spille komprimerte filer i nettleseren.
 </p>
<ul>
<li class="">
<p>Test Case: komprimering (med gzip ) et datasett med 1523 gitt .nc Filer.</p>
<ul>
<li class="">Dataene i kildefilene var sparsomme (Mange manglende verdier) ..</li>
<li class="">Total diskplass gikk fra 57 GB før kompresjon til 7 GB etterpå.</li>
<li class="">En forespørsel om mye data fra et tidspunkt er&lt;1 s før og etter kompresjon.</li>
<li class="">En forespørsel om 1 datapunkt for 365 tidspunkter (den verste saken) gikk fra 4 s til 71 s.
 </li>
</ul>
</li>
</ul>
<p>For meg er det en rimelig avlevering for alle datasett, og absolutt for datasett som sjelden brukes.
 </p>
<ul>
<li class="">
<p>Intern versus ekstern komprimering --
Sammenlignet med den interne filkomprimering som tilbys av .nc 4 og .hdf 5 filer, ERDDAP Tilnærmingen til eksterne komprimerte binære filer har fordeler og ulemper. Ulempen er: For en gangs lesing av en liten del av en fil, intern kompresjon er bedre fordi EDDGrid FraFiles trenger bare å dekompressere noen stykker (s) av filen, ikke hele filen. Men ERDDAP Tilnærmingen har noen fordeler:</p>
<ul>
<li class="">ERDDAP™ støtter komprimering av alle typer datafiler (binær og ikke-binær, f.eks. .nc 3 og csv) Ikke bare .nc 4 og .hdf 4.</li>
<li class="">Hvis hovedparten av en fil må leses mer enn én gang på kort tid, sparer det tid til å dekomprimere filen en gang og lese den mange ganger. Dette skjer i ERDDAP™ når en bruker bruker Make-A-Graph for datasettet og gjør en rekke små endringer i grafen.</li>
<li class="">Evnen til å ha komprimerte filer og ikke komprimerte filer i samme samling, tillater deg mer kontroll over hvilke filer som er komprimert og som ikke er det. Og denne ekstra kontrollen kommer uten virkelig å endre kildefilen (siden du kan komprimere en fil med f.eks. .gz og deretter dekomprimere den for å få den opprinnelige filen) ..</li>
<li class="">Evnen til å endre når som helst om en gitt fil er komprimert og hvordan den komprimeres (forskjellige algoritmer og innstillinger) gir deg mer kontroll over systemets ytelse. Og du kan enkelt gjenopprette den originale ukomprimerte filen når som helst.</li>
</ul>
</li>
</ul>
<p>Mens ingen tilnærming er en vinner i alle situasjoner, er det klart at ERDDAP evne til å betjene data fra eksternt komprimerte filer gjør ekstern kompresjon et rimelig alternativ til den interne kompresjon som tilbys av .nc 4 og .hdf 5. Det er viktig fordi intern kompresjon er en av hovedårsakene til at folk velger å bruke .nc 4 og .hdf 5.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="decompressed-cache">Dekomprimert cache<a href="#decompressed-cache" class="hash-link" aria-label="Direkte lenke tilDekomprimert cache" title="Direkte lenke tilDekomprimert cache" translate="no">​</a></h5>
<p>ERDDAP™ gjør en dekomprimert versjon av alle komprimerte binære (f.eks. .nc ) datafil når den må lese filen. Dekomprimerte filene holdes i datasettets mappe i <em>bigParentDirectory</em> /dekomprimert/ . Dekomprimerte filer som ikke har blitt brukt nylig vil bli slettet for å frigjøre plass når den kumulative filstørrelsen er &gt; 10GB. Du kan endre det ved å sette&lt;dekomprimertCacheMaxGB&gt; (standard=10) i datasett Xml.xml, f.eks.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;decompressedCacheMaxGB&gt;40&lt;/decompressedCacheMaxGB&gt;  </span><br></span></code></pre></div></div>
<p>Også dekomprimerte filer som ikke har blitt brukt i løpet av de siste 15 minuttene vil bli slettet i begynnelsen av hver større datasett reload. Du kan endre det ved å sette&lt;dekomprimertCacheMaxMinutesGamle&gt; (standard=15) i datasett Xml.xml, f.eks.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;decompressedCacheMaxMinutesOld&gt;60&lt;/decompressedCacheMaxMinutesOld&gt;  </span><br></span></code></pre></div></div>
<p>Større tall er hyggelige, men den kumulative størrelsen på dekomprimerte filene kan forårsake <em>bigParentDirectory</em> å gå tom for diskplass, noe som forårsaker alvorlige problemer.
 </p>
<ul>
<li class="">Fordi dekomprimering av en fil kan ta en betydelig tid (0.1 til 10 sekunder) , datasett med komprimerte filer kan dra nytte av å sette datasettets [&lt;nThreads&gt;] (#ntreads) innstilling til et høyere antall (2? 3? 4?) .. Nedgangene til enda høyere tall (For eksempel 5? 6? 7?) reduserer avkastningen, og at en brukers forespørsel deretter kan bruke en høy prosentandel av systemets ressurser, og dermed betydelig bremse behandlingen av andre brukeres forespørsler. Således er det ingen ideell nThreads innstilling, bare forskjellige konsekvenser i ulike situasjoner med forskjellige innstillinger.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sorted-dimension-values">Sorterte dimensjonsverdier<a href="#sorted-dimension-values" class="hash-link" aria-label="Direkte lenke tilSorterte dimensjonsverdier" title="Direkte lenke tilSorterte dimensjonsverdier" translate="no">​</a></h4>
<p>Verdiene for hver dimensjon må være i sortert rekkefølge (Stiger eller synker, bortsett fra den første (venstre-mest) dimensjon som må stige) .. Verdiene kan være uregelmessig fordelt. Det kan ikke være bånd. Dette er et krav fra <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF metadata standard</a> .. Hvis dimensjonens verdier ikke er i sortert rekkefølge, vil datasettet ikke bli lastet inn og ERDDAP™ vil identifisere den første usorterte verdien i loggfilen, <em>bigParentDirectory</em> /logs/log.txt .</p>
<p>Usorterte dimensjonsverdier indikerer nesten alltid et problem med kildedatasettet. Dette skjer oftest når en feilnavngitt eller upassende fil er inkludert i sammenslåingen, som fører til en usortert tidsdimensjon. Hvis du vil løse dette problemet, kan du se feilmeldingen i ERDDAP™ log.txt-fil for å finne den fornærmende tidsverdien. Så se i kildefilene for å finne den tilsvarende filen (eller før eller etter) Det tilhører ikke i sammenslåingen.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="directories">Direktører<a href="#directories" class="hash-link" aria-label="Direkte lenke tilDirektører" title="Direkte lenke tilDirektører" translate="no">​</a></h4>
<p>Filene kan være i én mappe, eller i en mappe og dens undermapper (Rekursivt) .. Hvis det er et stort antall filer (For eksempel &gt; 1000) , operativsystemet (og dermed EDDGrid FraFiles) vil fungere mye mer effektivt hvis du lagrer filene i en rekke underkataloger (én per år, eller én i måneden for datasett med svært hyppige filer) , slik at det aldri er et stort antall filer i en gitt katalog.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cachefromurl">&lt;cacheFromUrl&gt;<a href="#cachefromurl" class="hash-link" aria-label="Direkte lenke til&lt;cacheFromUrl&gt;" title="Direkte lenke til&lt;cacheFromUrl&gt;" translate="no">​</a></h4>
<p>Alle EDDGrid Fra Filer og alle EDDTableFromFiles datasett støtter et sett tagger som forteller ERDDAP™ å laste ned og vedlikeholde en kopi av alle eksterne datasetts filer, eller en cache av noen få filer (Last ned etter behov) .. Dette kan være utrolig nyttig. Se <a href="#cachefromurl" class="">cache FraUrl dokumentasjon</a> ..</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="remote-directories-and-http-range-requests">Eksterne kataloger og HTTP Range-forespørsler<a href="#remote-directories-and-http-range-requests" class="hash-link" aria-label="Direkte lenke tilEksterne kataloger og HTTP Range-forespørsler" title="Direkte lenke tilEksterne kataloger og HTTP Range-forespørsler" translate="no">​</a></h4>
<p>(AKA Byte Service, Byte Range forespørsler, aksepter-Ranges http overskrift)<br>
<!-- -->EDDGrid FraNcFiles, EDDTableFromMultidimNcFiles, EDDTableFromNcFiles og EDDTableFromNcCFFiles, kan <em>Noen ganger</em> servere data fra .nc filer på eksterne servere og tilgjengelig via HTTP hvis serveren støtter <a href="https://en.wikipedia.org/wiki/Byte_serving" target="_blank" rel="noopener noreferrer" class="">Byte servering</a> via HTTP-områdeforespørsler (HTTP-mekanismen for byte-tjeneste) .. Dette er mulig fordi netcdf-java (som ERDDAP™ Bruker til å lese .nc filer) støtter lesing av data fra fjernkontrollen .nc filer via HTTP range forespørsler.</p>
<p><strong>Ikke gjør dette!</strong> Det er forferdelig ineffektivt og sakte.
Bruk i stedet&lt;cacheFromUrl&gt; system] (#cachefromurl) ..</p>
<p>Tilgang ERDDAP™ Datasett som filer via byteområdeforespørsler --
Flipping dette rundt, gitt at du kan (i teorien) Tenk på et datasett i ERDDAP™ Som en kjempe .nc fil ved å legge til &quot; .nc &quot; til basen OPen DAP URL til et gitt datasett (f.eks.<a href="https://myserver.org/erddap/griddap/datasetID.ncog" target="_blank" rel="noopener noreferrer" class="">https://myserver.org/erddap/griddap/datasetID.ncog</a> også ved å legge til en ?query etter det for å spesifisere en undergruppe) , det er kanskje rimelig å spørre om du kan bruke netcdf-java, Ferret eller noen andre NetCDF Kundeprogramvare å lese data via HTTP Range forespørsler fra ERDDAP .. Svaret er nei, for det er egentlig ikke noe stort. .nc - Fil. Hvis du vil gjøre dette, gjør du i stedet et av disse alternativene:</p>
<ul>
<li class="">Bruk(OPeN)DAPkundeprogramvare til å koble til netadap-tjenester som tilbys av ERDDAP .. Det er det som DAP   (og dermed ERDDAP ) var designet for. Det er svært effektivt.</li>
<li class="">Eller last ned kildefilen (s) fra &quot;files&quot; systemet (eller en undergruppefil via en .nc ? spørring) til datamaskinen og bruk netcdf-java, Ferret eller noen andre NetCDF Kundeprogramvare å lese (Nå) lokal fil (s) ..
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cached-file-information">Cached filinformasjon<a href="#cached-file-information" class="hash-link" aria-label="Direkte lenke tilCached filinformasjon" title="Direkte lenke tilCached filinformasjon" translate="no">​</a></h4>
<p>Når en EDDGrid FraFiles-datasettet lastes først, EDDGrid FromFiles leser informasjon fra alle relevante filer og skaper tabeller (En rad for hver fil) med informasjon om hver gyldig fil og hver &quot;bad&quot; (forskjellige eller ugyldige) fil.</p>
<ul>
<li class="">Tabellene lagres også på disk, som NetCDF v3 .nc filer i <em>bigParentDirectory</em> /datasett/ <em>Last2CharsOfDatasetID</em> / * datasetID * / i filer som heter:
dirTable .nc   (som har en liste over unike katalognavn) ,
fil Tabell .nc   (som holder tabellen med hver gyldig fils informasjon) ,
BadFiles .nc   (som holder tabellen med hver dårlig fils informasjon) ..</li>
<li class="">For å øke tilgangen til en EDDGrid FraFiles datasett (Men på bekostning av å bruke mer minne) Du kan bruke [&lt;filTableInMemory&gt;true&lt;/filTableInMemory&gt;] (#filetablein memory) å fortelle ERDDAP™ å holde en kopi av filinformasjonstabellene i minnet.</li>
<li class="">Kopiering av filinformasjonstabellene på disken er også nyttig når ERDDAP™ er stengt ned og startet på nytt: det sparer EDDGrid Fra Filer fra å måtte lese om alle datafilene.</li>
<li class="">Når et datasett lastes på nytt, ERDDAP™ Bare trenger å lese data i nye filer og filer som har endret seg.</li>
<li class="">Hvis en fil har en annen struktur fra de andre filene (For eksempel en annen datatype for en av variablene, eller en annen verdi for &quot; <a href="#units" class="">enheter</a> &quot; Attribut) , ERDDAP Legger filen til listen over -bad - filer. Informasjon om problemet med filen vil bli skrevet til <em>bigParentDirectory</em> /logs/log.txt fil.</li>
<li class="">Du bør aldri trenger å slette eller jobbe med disse filene. Et unntak er: Hvis du fortsatt gjør endringer i et datasett datasets.xml setup, kan du kanskje slette disse filene for å tvinge ERDDAP™ å lese alle filene på nytt siden filene vil leses/fortolkes annerledes. Hvis du noen gang trenger å slette disse filene, kan du gjøre det når ERDDAP™ Jeg løper. (Så sett en <a class="" href="/nb/docs/server-admin/additional-information#set-dataset-flag">flagg</a> Last datasettet på nytt ASAP.) Men ERDDAP™ vanligvis merker at datasets.xml Informasjonen samsvarer ikke med filen Tabellinformasjon og sletter filtabellene automatisk.</li>
<li class="">Hvis du ønsker å oppmuntre ERDDAP™ å oppdatere den lagrede datasettinformasjonen (Hvis du for eksempel nettopp har lagt til, fjernet eller endret noen filer til datasettets datakatalog) , bruk <a class="" href="/nb/docs/server-admin/additional-information#flag">flaggsystem</a> å tvinge ERDDAP™ å oppdatere informasjonen om den cachede filen.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="handling-requests">Forespørsler om håndtering<a href="#handling-requests" class="hash-link" aria-label="Direkte lenke tilForespørsler om håndtering" title="Direkte lenke tilForespørsler om håndtering" translate="no">​</a></h4>
<p>Når en klients anmodning om data behandles, EDDGrid FraFiles kan raskt se i tabellen med gyldig filinformasjon for å se hvilke filer som har de ønskede dataene.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="updating-the-cached-file-information">Oppdaterer informasjon om Cached fil<a href="#updating-the-cached-file-information" class="hash-link" aria-label="Direkte lenke tilOppdaterer informasjon om Cached fil" title="Direkte lenke tilOppdaterer informasjon om Cached fil" translate="no">​</a></h4>
<p>Når datasettet lastes på nytt, oppdateres den cachede filinformasjonen.</p>
<ul>
<li class="">Datasettet lastes opp regelmessig som bestemt av&lt;reloadEveryNMinutes&gt; i datasettets informasjon i datasets.xml ..</li>
<li class="">Datasettet lastes på nytt så snart som mulig ERDDAP™ oppdager at du har lagt til, fjernet, <a href="https://en.wikipedia.org/wiki/Touch_(Unix)" target="_blank" rel="noopener noreferrer" class="">Touch&#x27;d</a> (å endre filens siste Endret tid) eller endret en datafil.</li>
<li class="">Datasettet lastes på nytt så snart som mulig hvis du bruker <a class="" href="/nb/docs/server-admin/additional-information#flag">flaggsystem</a> ..</li>
</ul>
<p>Når datasettet lastes på nytt, ERDDAP™ sammenligner de tilgjengelige filene med de cachede filinformasjonstabellene. Nye filer leses og legges til i den gyldige filtabellen. Filer som ikke eksisterer lenger, slippes fra den gyldige filtabellen. Filer der filtidsstemplet har endret seg leses og informasjonen oppdateres. De nye tabellene erstatter de gamle tabellene i minnet og på disken.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="bad-files">Dårlige filer<a href="#bad-files" class="hash-link" aria-label="Direkte lenke tilDårlige filer" title="Direkte lenke tilDårlige filer" translate="no">​</a></h4>
<p>Tabellen over dårlige filer og grunnene til at filene ble erklært dårlige (ødelagt fil, manglende variabler osv.) e-post til e-post Alt Til e-postadresse (Kanskje du) Hver gang datasettet lastes på nytt. Du bør erstatte eller reparere disse filene så snart som mulig.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="missing-variables">Manglende variabler<a href="#missing-variables" class="hash-link" aria-label="Direkte lenke tilManglende variabler" title="Direkte lenke tilManglende variabler" translate="no">​</a></h4>
<p>Hvis noen av filene ikke har noen av dataVariable definert i datasettets datasets.xml Det er ok. Når EDDGrid FraFiles leser en av disse filene, vil det fungere som om filen hadde variabelen, men med alle manglende verdier.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ftp-troubleadvice">FTP-problem/advice<a href="#ftp-troubleadvice" class="hash-link" aria-label="Direkte lenke tilFTP-problem/advice" title="Direkte lenke tilFTP-problem/advice" translate="no">​</a></h4>
<p>Hvis du FTP nye datafiler til ERDDAP™ server mens ERDDAP™ løper, det er muligheten til at ERDDAP™ vil laste datasettet på nytt under FTP-prosessen. Det skjer oftere enn du kanskje tror! Hvis det skjer, vises filen å være gyldig (Den har et gyldig navn) , men filen er ikke gyldig ennå. Hvis ERDDAP™ prøver å lese data fra den ugyldige filen, vil den resulterende feilen gjøre filen lagt til i tabellen over ugyldige filer. Dette er ikke bra. For å unngå dette problemet, bruk et midlertidig filnavn når FTP&#x27;ing filen, for eksempel ABC2005 .nc  \_TEMP . Deretter filenNameRegex test (Se nedenfor) vil vise til at dette ikke er en relevant fil. Når FTP-prosessen er fullført, endrer du filen til riktig navn. Omdøpingsprosessen vil gjøre filen relevant på et øyeblikk.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="0-files-error-message-1">&quot;0 filer&quot; Feilmelding<a href="#0-files-error-message-1" class="hash-link" aria-label="Direkte lenke til&quot;0 filer&quot; Feilmelding" title="Direkte lenke til&quot;0 filer&quot; Feilmelding" translate="no">​</a></h4>
<p>Hvis du løper <a href="#generatedatasetsxml" class="">Generer DatasetsXml</a> eller <a href="#dasdds" class="">DasDds</a> , eller hvis du prøver å laste en EDDGrid Fra... Filer datasett i ERDDAP™ , og du får en  &quot;0 filer&quot; feilmelding som indikerer at ERDDAP™ funnet 0 samsvarende filer i katalogen (når du tror det er samsvarende filer i den katalogen) :)</p>
<ul>
<li class="">Sjekk at filene virkelig er i den katalogen.</li>
<li class="">Kontroller stavingen av mappenavnet.</li>
<li class="">Sjekk filenNameRegex. Det er virkelig, veldig enkelt å gjøre feil med regulære. For testformål, prøv regulær .\* som bør matche alle filnavn. (Se dette <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">Regulatorisk dokumentasjon</a> og <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">Regular tutorial</a> ..)</li>
<li class="">Sjekk at brukeren som kjører programmet (For eksempel bruker=tomcat (?) for Tomcat/ ERDDAP ) Har &quot;lese&quot; tillatelse til disse filene.</li>
<li class="">I noen operativsystemer (For eksempel SELinux) og avhengig av systeminnstillinger, må brukeren som kjørte programmet ha &quot;lese&quot; tillatelse til hele kjede av mapper som fører til katalogen som har filene.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromfiles-skeleton-xml">EDDGrid FraFiles skjelett XML<a href="#eddgridfromfiles-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDGrid FraFiles skjelett XML" title="Direkte lenke tilEDDGrid FraFiles skjelett XML" translate="no">​</a></h4>
<ul>
<li class=""><strong>Skjelett XML</strong> For alle EDDGrid Fra Files underklasser er:</li>
</ul>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridFrom...Files&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1. For<br>
<!-- -->        EDDGridFromFiles subclasses, this uses Java&#x27;s WatchDirectory system<br>
<!-- -->        to notice new/deleted/changed files quickly and efficiently. --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#matchaxisndigits" class="">&lt;matchAxisNDigits&gt;</a>...&lt;/matchAxisNDigits&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;fileDir&gt;...&lt;/fileDir&gt; &lt;-- The directory (absolute) with the<br>
<!-- -->        data files. --&gt;<br>
<!-- -->      &lt;recursive&gt;true|false&lt;/recursive&gt; &lt;!-- 0 or 1. Indicates if<br>
<!-- -->        subdirectories of fileDir have data files, too. --&gt;<br>
<!-- -->      <a href="#pathregex" class="">&lt;pathRegex&gt;</a>...&lt;/pathRegex&gt;  &lt;!-- 0 or 1. Only directory names which<br>
<!-- -->        match the pathRegex (default=&quot;.\<em>&quot;) will be accepted. --&gt;<br>
<!-- -->      &lt;fileNameRegex&gt;...&lt;/fileNameRegex&gt; &lt;-- 0 or 1. A<br>
<!-- -->        <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">regular expression</a> (<a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">tutorial</a>) describing valid data<br>
<!-- -->        file names, for example, &quot;.\</em>\.nc&quot; for all .nc files. --&gt;<br>
<!-- -->      <a href="#accessibleviafiles" class="">&lt;accessibleViaFiles&gt;</a>true|false(default)&lt;/accessibleViaFiles&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;metadataFrom&gt;...&lt;/metadataFrom&gt; &lt;-- The file to get<br>
<!-- -->        metadata from (&quot;first&quot; or &quot;last&quot; (the default) based on file&#x27;s<br>
<!-- -->        lastModifiedTime). --&gt;<br>
<!-- -->      <a href="#filetableinmemory" class="">&lt;fileTableInMemory&gt;</a>...&lt;/fileTableInMemory&gt; &lt;!-- 0 or 1 (true or<br>
<!-- -->        false (the default)) --&gt;<br>
<!-- -->      <a href="#cachefromurl" class="">&lt;cacheFromUrl&gt;</a>...&lt;/cacheFromUrl&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#cachefromurl" class="">&lt;cacheSizeGB&gt;</a>...&lt;/cacheSizeGB&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#axisvariable" class="">&lt;axisVariable&gt;</a>...&lt;/axisVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddfromaudiofiles">EDD*FraAudioFiles<a href="#eddfromaudiofiles" class="hash-link" aria-label="Direkte lenke tilEDD*FraAudioFiles" title="Direkte lenke tilEDD*FraAudioFiles" translate="no">​</a></h3>
<p>** EDDGrid FraAudioFiles** og <strong>EDDTableFraAudioFiler</strong> aggregerte data fra en samling av lokale lydfiler. (Disse kom først i ERDDAP™ v1.82.) Forskjellen er at EDDGrid FraAudioFiles behandler data som et flerdimensjonalt datasett (Vanligvis med 2 dimensjoner: \[ filstart Tid \] og \[ utløpt Tid i en fil \] ) , mens EDDTableFraAudioFiles behandler data som tabelldata (vanligvis med kolonner for filen startTime, den forfallneTime med filen, og data fra lydkanalene) .. EDDGrid FraAudioFiles krever at alle filer har samme antall prøver, så hvis det ikke er sant, må du bruke EDDTableFromAudioFiles. Ellers er valget av hvilken EDD-type å bruke helt ditt valg. En fordel med EDDTableFromAudioFiles: Du kan legge til andre variabler med annen informasjon, f.eks. stationID stasjonType. I begge tilfeller gjør mangelen på en samlet tidsvariabel det vanskeligere å jobbe med data fra disse EDD-typene, men det var ingen god måte å sette opp en enhetlig tidsvariabel.</p>
<p>Se disse klassenes superklasser, <a href="#eddgridfromfiles" class=""> EDDGrid FraFiles</a> og <a href="#eddtablefromfiles" class="">EDDTableFra Filer</a> for generell informasjon om hvordan denne klassen fungerer og hvordan du bruker den.</p>
<p>Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. Siden lydfiler ikke har andre metadata enn informasjon relatert til koding av lyddataene, må du redigere utdata fra Genererer Datasett Xml for å gi viktig informasjon (f.eks. tittel, sammendrag, creator\_name , institusjon, historie) ..</p>
<p>Detaljer:</p>
<ul>
<li class="">Det er et stort antall lydfiler. I dag, ERDDAP™ kan lese data fra de fleste .wav og .au-filer. Den kan for øyeblikket ikke lese andre typer lydfiler, for eksempel .aiff eller .mp3. Hvis du trenger støtte for andre lydfiler eller andre varianter av .wav og .au, vennligst send din forespørsel til Chris. John på noaa.gov. Eller som en løsning du kan bruke akkurat nå, kan du konvertere lydfilene til PCM\_ SIGNED (for heltallsdata) eller PCM-_FLOAT (for flytende punktdata) .wav-filer slik at ERDDAP™ kan jobbe med dem.</li>
<li class="">I dag, ERDDAP™ kan lese lydfiler med hva Java AudioFormat-klasse kaller PCM-_FLOAT, PCM-_SIGNED, PCM-_UNSIGNED, ALAW og ULAW-kodinger. ERDDAP™ konverterer PCM-_UNSIGNED-verdier (f.eks. 0 til 255) til signerte verdier (f.eks. -128 til 128) ved å omforme bitene i dataverdiene. ERDDAP™ konverterer ALAW og ULAW kodet fra deres opprinnelige kodede byteformat til kort (it16) verdier. Siden Java vil ha bigEndian = ekte data, ERDDAP™ omorganiserer bytene av data lagret med bigEndian=falsk (liten endian) for å lese verdiene riktig. For alle andre koder (PCM) , ERDDAP™ Lese data som det er.</li>
<li class="">Når ERDDAP™ leser data fra lydfiler, det konverterer filens tilgjengelige lydmetadata til globale attributter. Dette vil alltid inkludere (med viste prøveverdier)</li>
</ul>
<p>String audioBigEndian &quot;falsk&quot;; // sant eller falsk
intenst lyd Kanal 1;
Streng lydkoding &quot; PCM\_SIGNED&quot;;
flyt lydrammeRate 96000.0; // per sekund
intenst lydrammestørrelse 2; //# databyte per ramme
flyt lydSampleRate 96000.0; // per sekund
intenst lydSampleSizeInBits 16; // # bits per kanal per prøve</p>
<p>For ERDDAP Dess formål er en ramme synonymt med en prøve, som er dataene for ett punkt i tid.
Attributene i ERDDAP™ vil ha informasjonen som beskriver data som den var i kildefilene. ERDDAP™ vil ofte ha endret dette mens du leser data, f.eks. PCM-_UNSIGNED, ALAW og ULAW-kodede data konverteres til PCM-_SIGNED, og bigEndian=falske data konverteres til bigEndian=true data (som er hvordan Java Vil lese den) .. Til slutt dataverdier i ERDDAP™ vil alltid være <a href="https://en.wikipedia.org/wiki/Pulse-code_modulation" target="_blank" rel="noopener noreferrer" class="">PCM-kodet</a> Dataverdier (dvs. enkle digitaliserte prøver av lydbølgen) ..</p>
<ul>
<li class="">Når ERDDAP™ leser data fra lydfiler, det leser hele filen. ERDDAP™ kan lese så mange som 2 milliarder prøver per kanal. For eksempel, hvis prøvehastigheten er 44,100 prøver per sekund, oversettes 2 milliarder prøver til ca. 756 minutter lyddata per fil. Hvis du har lydfiler med mer enn denne mengden data, må du bryte opp filene i mindre deler slik at ERDDAP™ kan lese dem.</li>
<li class="">Fordi ERDDAP™ leser hele lydfiler, ERDDAP™ må ha tilgang til en stor mengde minne å jobbe med store lydfiler. Se <a class="" href="/nb/docs/server-admin/deploy-install#memory"> ERDDAP minneinnstillinger</a> .. Igjen, hvis dette er et problem, er en løsning som du kan bruke akkurat nå å bryte opp filene i mindre deler slik at ERDDAP™ Jeg kan lese dem med mindre minne.</li>
<li class="">Noen lydfiler ble skrevet feil. ERDDAP™ gjør en liten innsats for å håndtere slike tilfeller. Men generelt når det er en feil, ERDDAP™ vil kaste unntak (og forkaste den filen) eller (dersom feilen ikke kan oppdages) Les dataene (Men dataene vil være feil) ..</li>
<li class="">ERDDAP™ ikke kontrollere eller endre lydens volum. Ideelt sett skaleres heltalslyddata for å bruke hele spekteret av datatypen.</li>
<li class="">Lydfiler og lydspillere har ikke noe system for manglende verdier (f.eks. -999 eller Float.Nan) .. Lyddata bør ikke ha noen manglende verdier. Hvis det mangler verdier (For eksempel, hvis du trenger å forlenge en lydfil) Bruk en serie på 0 som vil bli tolket som perfekt stillhet.</li>
<li class="">Når ERDDAP™ leser data fra lydfiler, det oppretter alltid en kolonne som kalles utløpt Tid med tiden for hver prøve, i sekunder (lagret som doubles) i forhold til første prøve (som er tildelt utløpt Time=0.0 s) .. Med EDDGrid FraAudioFiles blir dette den forløpte tidsaksevariabelen.</li>
<li class="">EDDGrid FraAudioFiles krever at alle filer har samme antall prøver. Hvis det ikke er sant, må du bruke EDDTableFromAudioFiles.</li>
<li class="">For EDDGrid FraAudioFiles, anbefaler vi at du setter [&lt;dimensjonValuesInMemory&gt;] (#dimensjonverdisinminne) til falsk (som anbefales av Genererer Datasets Xml) Fordi tidsdimensjonen ofte har et stort antall verdier.</li>
<li class="">For EDDGrid Fra lydfiler, bør du nesten alltid bruke EDDGrid FraFiles system for <a href="#aggregation-via-file-names-or-global-metadata" class="">aggregering via Filnavn</a> , nesten alltid ved å trekke opptakets startdato Tid fra filnavnene. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;\\*\\*\\*fileName,&quot;timeFormat=yyyyMMdd&#x27;\\_&#x27;HHmmss&quot;,aco\\_acoustic\\.(\\[0-9\\]{8}\\_\\[0-9\\]{6})\\.wav,1&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Opprett datasett Xml vil oppmuntre dette og hjelpe deg med dette.</p>
<ul>
<li class="">For EDDTableFromAudioFiles, bør du nesten alltid bruke EDDTableFromFiles systemet for <a href="#filename-sourcenames" class="">\<em>\</em> \* filName pseudo sourceName s</a> å hente ut informasjon fra filnavnet (Nesten alltid startdato Tid for opptak) og fremme det til å være en kolonne av data. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;\\*\\*\\*fileName,aco\\_acoustic\\.(\\[0-9\\]{8}\\_\\[0-9\\]{6})\\.wav,1&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Tidsformatet skal deretter angis som enhetenes attributt:&lt;Att name=&quot; enheter&quot;&gt;yyMMdd&#x27;\_&#x27;Hmmss&lt;/att&gt;
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfrommergeirfiles">EDDGrid Fra FlightIRFiles<a href="#eddgridfrommergeirfiles" class="hash-link" aria-label="Direkte lenke tilEDDGrid Fra FlightIRFiles" title="Direkte lenke tilEDDGrid Fra FlightIRFiles" translate="no">​</a></h3>
<p><a href="#eddgridfrommergeirfiles" class=""> ** EDDGrid Fra FlightIRFiles** </a> aggregerer data fra lokal, <a href="https://www.cpc.ncep.noaa.gov/products/global_precip/html/README" target="_blank" rel="noopener noreferrer" class="">MergeIR</a> Filer som er fra <a href="https://trmm.gsfc.nasa.gov" target="_blank" rel="noopener noreferrer" class="">Tropisk regnfallsmåleroppdrag (TRMM) </a> , som er et felles oppdrag mellom NASA og Japan Aerospace Exploration Agency (JAXA) .. Slå sammen IR-filer kan lastes ned fra <a href="ftp://disc2.nascom.nasa.gov/data/s4pa/TRMM_ANCILLARY/MERG/" target="_blank" rel="noopener noreferrer" class="">NASA</a> ..</p>
<p>EDDGrid Fra FlightIRFiles.java ble skrevet og bidratt til ERDDAP™ prosjekt av Jonathan Lafite og Philippe Makowski fra R.Tech Engineering (lisens: opphavsrettslig åpen kilde) ..</p>
<p>EDDGrid Fra FlameIRFiles er litt uvanlig:</p>
<ul>
<li class="">EDDGrid Fra FlightIRFiles støtter komprimerte eller ukomprimerte kildedatafiler, i alle kombinasjoner, i samme datasett. Dette gir deg for eksempel mulighet til å komprimere eldre filer som sjelden er tilkoblet, men trykk ut nye filer som ofte er tilgjengelig. Eller du kan endre typen kompresjon fra den opprinnelige. Z for eksempel, .gz ..</li>
<li class="">Hvis du har komprimert og ukomprimert versjoner av de samme datafilene i samme mappe, må du sørge for at&lt;filNameRegex&gt; for datasettet samsvarer med filnavnene du vil at det skal matche, og ikke samsvarer med filnavnene som du ikke vil at det skal matche.</li>
<li class="">Ukomprimerte kildedatafiler må ikke ha filtype (i filnavnet) ..</li>
<li class="">Komprimerte kildedatafiler må ha en filtype, men ERDDAP™ bestemme type kompresjon ved å inspisere innholdet i filen, ikke ved å se på filtypen til filen (For eksempel:) .. De støttede kompresjonstypene inkluderer &quot;gz &quot; &quot;bzip2&quot;, &quot;xz &quot; &quot; &quot;lzma &quot; &quot;ssnappy-raw &quot; &quot;snappy-rammet&quot;, &quot;pack200&quot;, og &quot;z&quot;. Når ERDDAP™ Leser komprimerte filer, dekomprimerer den på flugen, uten å skrive til en midlertidig fil.</li>
<li class="">Alle kildedatafiler må bruke det opprinnelige filnavnssystemet: dvs. merg\_ <em>ÅÅÅÅMMDDH</em> \_4km-piksel (hvor <em>ÅÅÅÅMMDDH</em> angi tiden som er tilknyttet dataene i filen) , pluss en filtype hvis filen er komprimert.</li>
</ul>
<p>Se denne klassens superklasse, <a href="#eddgridfromfiles" class=""> EDDGrid FraFiles</a> for generell informasjon om hvordan denne klassen fungerer og hvordan du bruker den.</p>
<p>Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. Deretter kan du redigere det for å finjustere det.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromncfiles">EDDGrid FraNcFiles<a href="#eddgridfromncfiles" class="hash-link" aria-label="Direkte lenke tilEDDGrid FraNcFiles" title="Direkte lenke tilEDDGrid FraNcFiles" translate="no">​</a></h3>
<p><a href="#eddgridfromncfiles" class=""> ** EDDGrid FraNcFiles** </a> samler data fra lokale, nettbaserte, <a href="https://en.wikipedia.org/wiki/GRIB" target="_blank" rel="noopener noreferrer" class="">GRIB.grb og .grb2</a> filer, <a href="https://www.hdfgroup.org/" target="_blank" rel="noopener noreferrer" class=""> HDF   (v4 eller v5)   .hdf </a> filer, <a href="#ncml-files" class=""> .nc ml</a> filer, <a href="https://www.unidata.ucar.edu/software/netcdf/" target="_blank" rel="noopener noreferrer" class=""> NetCDF   (v3 eller v4)   .nc </a> filer, og <a href="https://github.com/zarr-developers/zarr-python" target="_blank" rel="noopener noreferrer" class="">Zarr</a> filer (fra versjon 2.25) .. Zarr-filer har litt forskjellig oppførsel og krever enten filenNameRegex eller pathRegex å inkludere &quot;zarr&quot;.</p>
<p>Ny i ERDDAP™ versjon 2.29.0 er eksperimentell støtte for datavariabler som ikke støtter alle aksevariabler (eller som noen har kalt det 1D og 2D data i samme datasett) .. Vennligst kontakt på GitHub (diskusjoner eller problemer) med tilbakemeldinger og feil.</p>
<p>Dette kan fungere med andre filtyper (For eksempel BUFR) , vi har ikke testet det - vennligst send oss noen prøvefiler.</p>
<ul>
<li class="">For GRIB-filer, ERDDAP™ vil gjøre en .gbx indeksfil første gang den leser hver GRIB-fil. Så GRIB-filene må være i en katalog der &quot; brukeren&quot; som kjørte Tomcat har lese+skrive tillatelse.</li>
<li class="">Se denne klassens superklasse, <a href="#eddgridfromfiles" class=""> EDDGrid FraFiles</a> For informasjon om hvordan denne klassen fungerer og hvordan du bruker den.</li>
<li class="">Begynner med ERDDAP™ v2.12, EDDGrid Fra NcFiles og EDDGrid FraNcFiles Upakket kan lese data fra &quot;strukturer&quot; i .nc 4 og .hdf 4 filer. For å identifisere en variabel som er fra en struktur,&lt; sourceName &gt; Må bruke formatet: <em>FullstrekningName</em>  |  <em>medlemName</em> , for eksempel gruppe1/myStruct | Min medlem.</li>
<li class="">Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. Deretter kan du redigere det for å finjustere det.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="groups-in-gridded-nc-files">Grupper i Gridded Nc-filer<a href="#groups-in-gridded-nc-files" class="hash-link" aria-label="Direkte lenke tilGrupper i Gridded Nc-filer" title="Direkte lenke tilGrupper i Gridded Nc-filer" translate="no">​</a></h4>
<p><a href="#groups-in-gridded-nc-files" class="">Netcdf4-filer kan inneholde grupper.</a>   ERDDAP™ Bare gjør et datasett fra variablene i én gruppe og alle dens foreldregrupper. Du kan angi et bestemt gruppenavn i Genererer Datasett Xml (ut av den etterfølgende skråstrek) , eller bruk &quot; å ha Genererer Datasett Xml søker alle grupper for variabler som bruker de fleste dimensjoner, eller bruk &quot; \[ rot \] &quot; å ha GenerererDatasett bare se etter variabler i rotgruppen.</p>
<p>Det første GenererDatasetsXml gjør for denne typen datasett etter at du har svart på spørsmålene er å skrive ut den ncdump-lignende strukturen til prøvefilen. Så hvis du skriver inn noen goofy svar for den første loopen gjennom Genererer Datasett Xml, i det minste kan du se om ERDDAP™ kan lese filen og se hvilke dimensjoner og variabler i filen. Deretter kan du gi bedre svar for den andre løkken gjennom Genererer DatasetsXml.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromncfilesunpacked">EDDGrid FraNcFilesUpakket<a href="#eddgridfromncfilesunpacked" class="hash-link" aria-label="Direkte lenke tilEDDGrid FraNcFilesUpakket" title="Direkte lenke tilEDDGrid FraNcFilesUpakket" translate="no">​</a></h3>
<p><a href="#eddgridfromncfilesunpacked" class=""> ** EDDGrid FraNcFilesUpakket** </a> En variant av <a href="#eddgridfromncfiles" class=""> EDDGrid FraNcFiles</a> som samler sammen data fra lokal, gitt NetCDF   (v3 eller v4)   .nc og relaterte filer. Forskjellen er at denne klassen pakker ut hver datafil før EDDGrid FraFiles ser på filene:</p>
<ul>
<li class="">Det pakker ut variabler som er pakket med <a href="#scale_factor" class=""> scale\_factor og/eller add\_offset </a> ..</li>
<li class="">Den konverterer \_FillValue og missing\_value verdier som skal være NaNs (eller MAX\_VALUE for heltallsdatatyper) ..</li>
<li class="">Det konverterer tid og tidsstempelverdier til &quot;seconds since 1970-01-01T00:00:00Z&quot; ..</li>
</ul>
<p>Den store fordelen med denne klassen er at det gir en måte å håndtere ulike verdier på scale\_factor , add\_offset ,  \_FallValue, missing\_value , eller tidsenheter i ulike kildefiler i en samling. Ellers må du bruke et verktøy som <a href="#ncml-files" class="">NcML</a> eller <a href="#netcdf-operators-nco" class=""> NCO </a> å endre hver fil for å fjerne forskjellene slik at filene kan håndteres av EDDGrid Fra NcFiles. For at denne klassen skal fungere riktig, må filene følge CF-standardene for de relaterte attributtene.</p>
<ul>
<li class="">Hvis du prøver å lage en EDDGrid FraNcFiles Utpakket fra en gruppe filer som du tidligere prøvde og ikke brukte EDDGrid FraNcFiles, CD til
<em>bigParentDirectory</em> /datasett/ <em>Last2Letters</em> / * datasetID * /
hvor <em>Last2Letters</em> De siste 2 bokstavene i datasetID ,
og slette alle filene i den katalogen.</li>
<li class="">Begynner med ERDDAP™ v2.12, EDDGrid Fra NcFiles og EDDGrid FraNcFiles Upakket kan lese data fra &quot;strukturer&quot; i .nc 4 og .hdf 4 filer. For å identifisere en variabel som er fra en struktur,&lt; sourceName &gt; Må bruke formatet: <em>FullstrekningName</em>  |  <em>medlemName</em> , for eksempel gruppe1/myStruct | Min medlem.</li>
<li class="">Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. Deretter kan du redigere det for å finjustere det.</li>
</ul>
<p>Netcdf4-filer kan inneholde grupper. Se <a href="#groups-in-gridded-nc-files" class="">denne dokumentasjonen</a> ..</p>
<p>Det første Generer DatasetsXml gjør for denne typen datasett etter at du har svart på spørsmålene er å skrive ut den ncdump-lignende strukturen til prøvefilen <strong>Før</strong> Det er pakket ut. Så hvis du skriver inn noen goofy svar for den første loopen gjennom Genererer Datasett Xml, i det minste kan du se om ERDDAP™ kan lese filen og se hvilke dimensjoner og variabler i filen. Deretter kan du gi bedre svar for den andre løkken gjennom Genererer DatasetsXml.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridlonpm180">EDDGrid LonPM180<a href="#eddgridlonpm180" class="hash-link" aria-label="Direkte lenke tilEDDGrid LonPM180" title="Direkte lenke tilEDDGrid LonPM180" translate="no">​</a></h3>
<p><a href="#eddgridlonpm180" class=""> ** EDDGrid LonPM180** </a> modifiserer lengdegraden til et barn (lukket)   EDDGrid datasett som har noen lengdeverdier større enn 180 (0 til 360) slik at de er i området -180 til 180 (Longitude Plus eller Minus 180, dermed navnet) ..</p>
<ul>
<li class="">Dette gir en måte å gjøre datasett som har lengdegradsverdier større enn 180 i/med OGC Tjenester (For eksempel WMS server i ERDDAP ) Siden alle OGC Tjenester krever lengdeverdier innen -180 til 180.</li>
<li class="">Å arbeide i nærheten av en utsettelse forårsaker problemer, uansett om utsettelsen er på lengdegrad 0 eller på lengdegrad 180. Denne datasetttypen lar deg unngå disse problemene for alle, ved å tilby to versjoner av samme datasett:
en med lengdeverdier i området 0 til 360 (&quot;Pacificentric&quot;?) ,
én med lengdegradsverdier i området -180 til 180 (&quot;Atlanticentric&quot;?) ..</li>
<li class="">For barnedatasett med alle lengdeverdier større enn 180, er alle de nye lengdegradsverdiene ganske enkelt 360 grader lavere. For eksempel vil et datasett med lengdeverdier på 180 til 240 bli et datasett med lengdeverdier på -180 til -120.</li>
<li class="">For barnedatasett som har lengdeverdier for hele verden (ca 0 til 360) , den nye lengdegradsverdien vil bli omorganisert til å være (omtrent) 180 til 180:
De originale 0 til nesten 180 verdiene er uendret.
De opprinnelige 180 til 360 verdiene konverteres til -180 til 0 og flyttes til begynnelsen av lengderetningen.</li>
<li class="">For barnedatasett som spenner over 180, men ikke dekker verden, ERDDAP™ setter inn manglende verdier etter behov for å lage et datasett som dekker verden. For eksempel vil et barnedatasett med lengdeverdi på 140 til 200 bli et datasett med lengdeverdier på -180 til 180.
Barneverdiene på 180 til 200 vil bli -180 til -160.
Nye lengdeverdier vil bli satt inn fra -160 til 140. De tilsvarende dataverdiene vil være \_FillValues.
Barneverdiene på 140 til 180 vil være uendret.
Innsettingen av manglende verdier kan virke merkelig, men det unngår flere problemer som skyldes å ha lengdegradsverdier som hopper plutselig (f.eks. fra -160 til 140) ..</li>
<li class="">I <a href="#generatedatasetsxml" class="">Generer DatasetsXml</a> Det er en spesiell type datasett EDDGrid LonPM180FraErddapCatalog, som lar deg generere datasets.xml for EDDGrid LonPM180 datasett fra hver av EDDGrid Datasett i et ERDDAP som har noen lengdeverdier høyere enn 180. Dette gjør det lettere å tilby to versjoner av disse datasettene:
den opprinnelige, med lengdegrader i området 0 til 360,
og det nye datasettet, med lengdeverdier i området -180 til 180.</li>
</ul>
<p>Barnedatasettet i hver EDDGrid LonPM180 datasett vil være et EDDGrid FraErddap datasett som peker på det originale datasettet.
Det nye datasettet datasetID vil være navnet på den opprinnelige datasett pluss &quot;\_LonPM180&quot;.
For eksempel</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dataset type=&quot;EDDGridLonPM180&quot; datasetID=&quot;erdMBsstdmday\\_LonPM180&quot; active=&quot;true&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;dataset type=&quot;EDDGridFromErddap&quot; datasetID=&quot;erdMBsstdmday\\_LonPM180Child&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;!-- SST, Aqua MODIS, NPP, 0.025 degrees, Pacific Ocean, Daytime </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          (Monthly Composite) minLon=120.0 maxLon=320.0 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceUrl&gt;https://coastwatch.pfeg.noaa.gov/erddap/griddap/erdMBsstdmday</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/sourceUrl&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/dataset&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dataset&gt; </span><br></span></code></pre></div></div>
<p>Legg på EDDGrid LonPM180 datasett <strong>under</strong> opprinnelige datasett i datasets.xml .. Det unngår noen mulige problemer.</p>
<p>Alternativt kan du erstatte EDDGrid FraErddap barnedatasett med det opprinnelige datasettet datasets.xml .. Deretter vil det bare være én versjon av datasettet: den med lengdegradsverdier i -180 til 180. Vi avviser dette fordi det er tider når hver versjon av datasettet er mer praktisk.</p>
<ul>
<li class="">
<p>Hvis du tilbyr to versjoner av et datasett, for eksempel en med lengdegrad 0 til 360 og en med lengdegrad -180 til 180:</p>
<ul>
<li class="">Du kan bruke valgfrie [&lt;tilgjengelig Via WMS &gt;false&lt;/tilgjengelig Via WMS &gt;] (#Accessibleviawms) med 0-360 datasett for å tvangsaktivere WMS Tjeneste for dette datasettet. Da vil kun LonPM180 versjonen av datasettet være tilgjengelig via WMS ..</li>
<li class="">Det er et par måter å holde LonPM180 datasett oppdatert med endringer i det underliggende datasettet:<!-- -->
<ul>
<li class="">Hvis barnets datasett er et EDDGrid FraErddap datasett som refererer til et datasett i det samme ERDDAP™ , vil LonPM180 datasettet prøve å direkte abonnere på det underliggende datasettet slik at det alltid er oppdatert. Direkte abonnementer genererer ikke e-post som ber deg om å validere abonnementet - validering bør gjøres automatisk.</li>
<li class="">Hvis barnets datasett ikke er et EDDGrid FraErddap datasett som er på samme ERDDAP™ , vil LonPM180 datasettet prøve å bruke det vanlige abonnementssystemet til å abonnere på det underliggende datasettet. Hvis du har abonnementssystemet i din ERDDAP™ Slås på, du bør få e-post be deg å validere abonnementet. Gjør det.</li>
<li class="">Hvis du har abonnementssystemet i din ERDDAP™ Slås av, kan LonPM180-datasettet noen ganger ha utdaterte metadata til LonPM180-datasettet er lastet på nytt. Så hvis abonnementssystemet er slått av, bør du angi [&lt;Last på nytt EveryNMinutes&gt;] (#reloadvarelser) innstilling av LonPM180 datasett til et mindre antall, slik at det er mer sannsynlig å fange endringer i barnedatasettet tidligere.</li>
</ul>
</li>
</ul>
</li>
<li class="">
<p>For datasett med maksimal lengde &gt; 360, bruk følgende valgfri konfigurasjon til å angi maksimumsverdien og datasettet vil bli korrigert til -180 til 180.</p>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;maxSourceLon&gt;540&lt;/maxSourceLon&gt;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridlonpm180-skeleton-xml">EDDGrid LonPM180 skjelett XML<a href="#eddgridlonpm180-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDGrid LonPM180 skjelett XML" title="Direkte lenke tilEDDGrid LonPM180 skjelett XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridLonPM180&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1. For<br>
<!-- -->        EDDGridFromDap, this gets the remote .dds and then gets the new<br>
<!-- -->        leftmost (first) dimension values. --&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- The child EDDGrid dataset. --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridlon0360">EDDGrid Dreier0360<a href="#eddgridlon0360" class="hash-link" aria-label="Direkte lenke tilEDDGrid Dreier0360" title="Direkte lenke tilEDDGrid Dreier0360" translate="no">​</a></h3>
<p><a href="#eddgridlon0360" class=""> ** EDDGrid Dreier0360** </a> modifiserer lengdegraden til et barn (lukket)   EDDGrid datasett som har noen lengdeverdier mindre enn 0 (For eksempel -180 til 180) Slik at de er i området 0 til 360 (Derfor navnet) ..</p>
<ul>
<li class="">Å arbeide i nærheten av en utsettelse forårsaker problemer, uansett om utsettelsen er på lengdegrad 0 eller på lengdegrad 180. Denne datasetttypen lar deg unngå disse problemene for alle, ved å tilby to versjoner av samme datasett:
én med lengdegradsverdier i området -180 til 180 (&quot;Atlanticentric&quot;?) ..
en med lengdeverdier i området 0 til 360 (&quot;Pacificentric&quot;?) ,</li>
<li class="">For barnedatasett med alle lengdeverdier mindre enn 0, er alle de nye lengdegradsverdiene bare 360 grader høyere. For eksempel vil et datasett med lengdeverdier på -180 til -120 bli et datasett med lengdeverdier på 180 til 240.</li>
<li class="">For barnedatasett som har lengdeverdier for hele verden (ca. 180 til 180) , den nye lengdegradsverdien vil bli omorganisert til å være (omtrent) 0 til 360:
De opprinnelige -180 til 0 verdier omdannes til 180 til 360 og flyttes til slutten av lengderetningen.
De originale 0 til nesten 180 verdiene er uendret.</li>
<li class="">For barn datasett som spenner lon=0 men ikke dekker verden, ERDDAP™ setter inn manglende verdier etter behov for å lage et datasett som dekker verden. For eksempel vil et barnedatasett med lengdeverdier på -40 til 20 bli et datasett med lengdeverdier på 0 til 360.
Barneverdiene på 0 til 20 vil være uendret.
Nye lengdeverdier vil bli satt inn fra 20 til 320. De tilsvarende dataverdiene vil være \_FillValues.
Barneverdiene på -40 til 0 vil bli 320 til 360.
Innsettingen av manglende verdier kan virke merkelig, men det unngår flere problemer som skyldes å ha lengdegradsverdier som hopper plutselig (For eksempel fra 20 til 320) ..</li>
<li class="">I <a href="#generatedatasetsxml" class="">Generer DatasetsXml</a> Det er en spesiell type datasett EDDGrid Tittenfick0360 ErddapCatalog, som lar deg generere datasets.xml for EDDGrid Lon0360 datasett fra hvert av EDDGrid Datasett i et ERDDAP som har noen lengdeverdier høyere enn 180. Dette gjør det lettere å tilby to versjoner av disse datasettene:
den opprinnelige, med lengdegrader i området 0 til 360,
og det nye datasettet, med lengdeverdier i området -180 til 180.</li>
</ul>
<p>Barnedatasettet i hver EDDGrid Lon0360 datasett vil være et EDDGrid FraErddap datasett som peker på det originale datasettet.
Det nye datasettet datasetID vil være navnet på det originale datasettet pluss &quot;\_Lon0360&quot;.
For eksempel</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dataset type=&quot;EDDGridLon0360&quot; datasetID=&quot;erdMBsstdmday\\_Lon0360&quot; active=&quot;true&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;dataset type=&quot;EDDGridFromErddap&quot; datasetID=&quot;erdMBsstdmday\\_Lon0360Child&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;!-- SST, Aqua MODIS, NPP, 0.025 degrees, Pacific Ocean, Daytime </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          (Monthly Composite) minLon=-40.0 maxLon=20.0 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceUrl&gt;https://coastwatch.pfeg.noaa.gov/erddap/griddap/erdMBsstdmday</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/sourceUrl&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/dataset&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dataset&gt; </span><br></span></code></pre></div></div>
<p>Legg på EDDGrid Lon0360 datasett <strong>under</strong> opprinnelige datasett i datasets.xml .. Det unngår noen mulige problemer.</p>
<p>Alternativt kan du erstatte EDDGrid FraErddap barnedatasett med det opprinnelige datasettet datasets.xml .. Deretter vil det bare være én versjon av datasettet: den med lengdegradsverdier innen 0 til 360. Vi avviser dette fordi det er tider når hver versjon av datasettet er mer praktisk.</p>
<ul>
<li class="">Hvis du tilbyr to versjoner av et datasett, for eksempel en med lengdegrad 0 til 360 og en med lengdegrad -180 til 180:<!-- -->
<ul>
<li class="">Du kan bruke valgfrie [&lt;tilgjengelig Via WMS &gt;false&lt;/tilgjengelig Via WMS &gt;] (#Accessibleviawms) med 0 til 360 datasett å tvangsaktivere WMS Tjeneste for dette datasettet. Deretter vil bare -180 til 180 versjonen av datasettet være tilgjengelig via WMS ..</li>
<li class="">Det er et par måter å holde Lon0360 datasettet oppdatert med endringer i det underliggende datasettet:<!-- -->
<ul>
<li class="">Hvis barnets datasett er et EDDGrid FraErddap datasett som refererer til et datasett i det samme ERDDAP™ , vil Lon0360 datasettet prøve å direkte abonnere på det underliggende datasettet slik at det alltid er oppdatert. Direkte abonnementer genererer ikke e-post som ber deg om å validere abonnementet - validering bør gjøres automatisk.</li>
<li class="">Hvis barnets datasett ikke er et EDDGrid FraErddap datasett som er på samme ERDDAP™ , vil Lon0360 datasettet prøve å bruke det vanlige abonnementssystemet til å abonnere på det underliggende datasettet. Hvis du har abonnementssystemet i din ERDDAP™ Slås på, du bør få e-post be deg å validere abonnementet. Gjør det.</li>
<li class="">Hvis du har abonnementssystemet i din ERDDAP™ Slås av, kan Lon0360 datasettet noen ganger ha utdaterte metadata til Lon0360 datasettet er lastet på nytt. Så hvis abonnementssystemet er slått av, bør du angi [&lt;Last på nytt EveryNMinutes&gt;] (#reloadvarelser) innstilling av Lon0360 datasettet til et mindre antall, slik at det er mer sannsynlig å fange endringer i barnedatasettet tidligere.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridlon0360-skeleton-xml">EDDGrid Lon0360 skjelett XML<a href="#eddgridlon0360-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDGrid Lon0360 skjelett XML" title="Direkte lenke tilEDDGrid Lon0360 skjelett XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridLon0360&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1. For<br>
<!-- -->        EDDGridFromDap, this gets the remote .dds and then gets the new<br>
<!-- -->        leftmost (first) dimension values. --&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- The child EDDGrid dataset. --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridsidebyside">EDDGrid SideBySide<a href="#eddgridsidebyside" class="hash-link" aria-label="Direkte lenke tilEDDGrid SideBySide" title="Direkte lenke tilEDDGrid SideBySide" translate="no">​</a></h3>
<p><a href="#eddgridsidebyside" class=""> ** EDDGrid SideBySide** </a> aggregerer to eller flere EDDGrid Datasett (barna) Side ved side.</p>
<ul>
<li class="">Det resulterende datasettet har alle variabler fra alle barnedatasettene.</li>
<li class="">Foreldredatasettet og alle barnedatasettene må ha forskjellig datasetID S. Hvis noen navn i en familie er nøyaktig det samme, vil datasettet ikke lastes inn (med feilmeldingen om at verdiene til den samlede aksen ikke er i sortert rekkefølge) ..</li>
<li class="">Alle barn må ha de samme kildeverdiene for axisVariable s \[ 1+ \]   (for eksempel breddegrad, lengdegrad) .. Nøyaktigheten i testen bestemmes av <a href="#matchaxisndigits" class="">matchAxisNDigits</a> ..</li>
<li class="">Barn kan ha forskjellige kildeverdier for axisVariable s \[ 0 \]   (For eksempel tid) Men de er vanligvis de samme.</li>
<li class="">Foreldredatasettet vil ha alle axisVariable s \[ 0 \] Kildeverdier fra alle barna.</li>
<li class="">For eksempel lar dette deg kombinere et kildedatasett med en vektors u-komponent og et annet kildedatasett med en vektors v-komponent, slik at de kombinerte dataene kan betjenes.</li>
<li class="">Barn som er skapt av denne metoden holdes privat. De er ikke separat tilgjengelige datasett (For eksempel etter klientdataforespørsler eller <a class="" href="/nb/docs/server-admin/additional-information#flag">flaggfiler</a> ) ..</li>
<li class="">De globale metadataene og innstillingene for forelderen kommer fra de globale metadataene og innstillingene for det første barnet.</li>
<li class="">Hvis det er et unntak mens du oppretter det første barnet, vil foreldrene ikke bli opprettet.</li>
<li class="">Hvis det er et unntak mens du oppretter andre barn, sender dette en e-post til e-post (som angitt i <a class="" href="/nb/docs/server-admin/deploy-install#setupxml">config.xml</a> ) Fortsett med de andre barna.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridsidebyside-skeleton-xml">EDDGrid SideBySide skjelett XML<a href="#eddgridsidebyside-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDGrid SideBySide skjelett XML" title="Direkte lenke tilEDDGrid SideBySide skjelett XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridSideBySide&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#matchaxisndigits" class="">&lt;matchAxisNDigits&gt;</a>...&lt;/matchAxisNDigits&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- 2 or more --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridaggregateexistingdimension">EDDGrid Aggregate<a href="#eddgridaggregateexistingdimension" class="hash-link" aria-label="Direkte lenke tilEDDGrid Aggregate" title="Direkte lenke tilEDDGrid Aggregate" translate="no">​</a></h3>
<p><a href="#eddgridaggregateexistingdimension" class=""> ** EDDGrid Aggregate** </a> aggregerer to eller flere EDDGrid Datasett som hver har et annet verdiområde for den første dimensjonen, men identiske verdier for de andre dimensjonene.</p>
<ul>
<li class="">For eksempel kan ett barn datasett ha 366 verdier (for 2004) for tidsdimensjonen og et annet barn kan ha 365 verdier (for 2005) for tidsdimensjonen.</li>
<li class="">Alle verdier for alle de andre dimensjonene (for eksempel breddegrad, lengdegrad) Må være identisk med alle barna. Nøyaktigheten i testen bestemmes av <a href="#matchaxisndigits" class="">matchAxisNDigits</a> ..</li>
<li class="">Sorterte dimensjonsverdier - Verdiene for hver dimensjon må være i sortert rekkefølge (Stigende eller nedadgående) .. Verdiene kan være uregelmessig fordelt. Det kan ikke være noen bånd. Dette er et krav fra <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF metadata standard</a> .. Hvis dimensjonens verdier ikke er i sortert rekkefølge, vil datasettet ikke bli lastet inn og ERDDAP™ vil identifisere den første usorterte verdien i loggfilen, <em>bigParentDirectory</em> /logs/log.txt .</li>
</ul>
<p>Usorterte dimensjonsverdier indikerer nesten alltid et problem med kildedatasettet. Dette skjer oftest når en feilnavngitt eller upassende fil er inkludert i sammenslåingen, som fører til en usortert tidsdimensjon. Hvis du vil løse dette problemet, kan du se feilmeldingen i ERDDAP™ log.txt-fil for å finne den fornærmende tidsverdien. Så se i kildefilene for å finne den tilsvarende filen (eller før eller etter) Det tilhører ikke i sammenslåingen.</p>
<ul>
<li class="">Foreldredatasett og barnedatasett må ha forskjellig datasetID S. Hvis noen navn i en familie er nøyaktig det samme, vil datasettet ikke lastes inn (med feilmeldingen om at verdiene til den samlede aksen ikke er i sortert rekkefølge) ..</li>
<li class="">For tiden må barnedatasettet være et EDDGrid FraDap-datasett og må ha de laveste verdiene i den samlede dimensjonen (vanligvis de eldste tidsverdiene) .. Alle de andre barna må være nesten identiske datasett (Forskjellige i verdiene for første dimensjon) og er angitt av bare deres sourceUrl ..</li>
<li class="">Det samlede datasettet får metadata fra det første barnet.</li>
<li class="">Den <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> kan lage et grovt utkast av datasets.xml for en EDDGrid AggregateExistingDimension basert på et sett filer som betjenes av en Hyrax eller TREDDS-server. Bruk for eksempel dette innspillet for programmet (&quot;/1988&quot; i URL gjør eksempelet raskere) :)<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  EDDType? EDDGridAggregateExistingDimension  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Server type (hyrax, thredds, or dodsindex)? hyrax  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Parent URL (for example, for hyrax, ending in &quot;contents.html&quot;;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for thredds, ending in &quot;catalog.xml&quot;)  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ? https://opendap.jpl.nasa.gov/opendap/ocean\\_wind/ccmp/L3.5a/data/  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    flk/1988/contents.html  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  File name regex (for example, &quot;.\\*\\.nc&quot;)? month.\\*flk\\.nc\\.gz  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ReloadEveryNMinutes (for example, 10080)? 10080  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Du kan bruke resultatet&lt; sourceUrl &gt; tagger eller slette dem og uncomment&lt; sourceUrl &gt; tag (så nye filer blir lagt merke til hver gang datasettet lastes på nytt.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridaggregateexistingdimension-skeleton-xml">EDDGrid AggregateExistingDimensjon skjelett XML<a href="#eddgridaggregateexistingdimension-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDGrid AggregateExistingDimensjon skjelett XML" title="Direkte lenke tilEDDGrid AggregateExistingDimensjon skjelett XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridAggregateExistingDimension&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot;<br>
<!-- -->        <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- This is a regular <a href="#eddgridfromdap" class="">EDDGridFromDap</a> dataset<br>
<!-- -->        description child with the lowest values for the aggregated<br>
<!-- -->        dimensions. --&gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt; &lt;!-- 0 or many; the sourceUrls for<br>
<!-- -->        other children.  These children must be listed in order of<br>
<!-- -->        ascending values for the aggregated dimension. --&gt;<br>
<!-- -->      &lt;sourceUrls serverType=&quot;...&quot; regex=&quot;...&quot; recursive=&quot;true&quot;<br>
<!-- -->        <a href="#pathregex" class="">pathRegex</a>\=&quot;.\<em>&quot;<br>
<!-- -->        &gt;https://<em>someServer/someDirectory/someSubdirectory</em>/catalog.xml&lt;/sourceUrls&gt;<br>
<!-- -->        &lt;!-- 0 or 1. This specifies how to find the other children,<br>
<!-- -->        instead of using separate sourceUrl tags for each child.  The<br>
<!-- -->        advantage of this is: new children will be detected each time<br>
<!-- -->        the dataset is reloaded. The serverType must be &quot;thredds&quot;,<br>
<!-- -->        &quot;hyrax&quot;, or &quot;dodsindex&quot;.
        An example of a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">regular expression</a> (regex)  (<a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">tutorial</a>) is .\</em>\.nc<br>
<!-- -->        recursive can be &quot;true&quot; or &quot;false&quot;.<br>
<!-- -->        Only directory names which match the<br>
<!-- -->        <a href="#pathregex" class="">&lt;pathRegex&gt;</a><br>
<!-- -->        (default=&quot;.\*&quot;) will be accepted.<br>
<!-- -->        A thredds catalogUrl MUST include &quot;/thredds/catalog/&quot;.<br>
<!-- -->        An example of a thredds catalogUrl is<br>
<!-- -->        <a href="https://thredds1.pfeg.noaa.gov/thredds/catalog/Satellite/aggregsatMH/chla/catalog.xml" target="_blank" rel="noopener noreferrer" class="">https://thredds1.pfeg.noaa.gov/thredds/catalog/Satellite/aggregsatMH/<br>
<!-- -->          chla/catalog.xml</a><br>
<!-- -->        An example of a hyrax catalogUrl is<br>
<!-- -->        <a href="https://opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/1988/contents.html" target="_blank" rel="noopener noreferrer" class="">https://opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/<br>
<!-- -->        flk/1988/contents.html</a><br>
<!-- -->        An example of a dodsindex URL is<br>
<!-- -->        <a href="https://opendap.jpl.nasa.gov/opendap/GeodeticsGravity/tellus/L3/mascon/RL06/JPL/v02/CRI/netcdf/contents.html" target="_blank" rel="noopener noreferrer" class="">https://opendap.jpl.nasa.gov/opendap/GeodeticsGravity/tellus/L3/mascon/RL06/JPL/v02/CRI/netcdf/contents.html</a><br>
<!-- -->        (Note the &quot;OPeNDAP logo at the top of the page.)<br>
<!-- -->        When these children are sorted by filename, they must be in<br>
<!-- -->        order of ascending values for the aggregated dimension. --&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#matchaxisndigits" class="">&lt;matchAxisNDigits&gt;</a>...&lt;/matchAxisNDigits&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridcopy">EDDGrid Kopier<a href="#eddgridcopy" class="hash-link" aria-label="Direkte lenke tilEDDGrid Kopier" title="Direkte lenke tilEDDGrid Kopier" translate="no">​</a></h3>
<p><a href="#eddgridcopy" class=""> ** EDDGrid Kopier** </a> gjør og vedlikeholder en lokal kopi av en annen EDDGrid data og servere data fra den lokale kopien.</p>
<ul>
<li class="">EDDGrid Kopier (for tabelldata, <a href="#eddtablecopy" class="">EDDTableCopy</a> ) En veldig enkel å bruke og en veldig effektiv
<strong>løsning på noen av de største problemene med å betjene data fra en fjerndatakilde:</strong></li>
<li class="">Å få tilgang til data fra en fjerndatakilde kan være langsom.<!-- -->
<ul>
<li class="">Den kan være langsom fordi den iboende er langsom (For eksempel en ineffektiv type server) ,</li>
<li class="">Fordi det er overveldet av for mange forespørsler,</li>
<li class="">eller fordi serveren eller den eksterne serveren er begrenset båndbredde.</li>
</ul>
</li>
<li class="">Fjerndatasettet er noen ganger utilgjengelig (av en rekke grunner) ..</li>
<li class="">Relying på én kilde for data skalerer ikke bra (For eksempel når mange brukere og mange ERDDAP bruk det) ..
 </li>
<li class="">Hvordan det fungerer - EDDGrid Kopier løser disse problemene ved å automatisk lage og vedlikeholde en lokal kopi av dataene og betjene data fra den lokale kopien. ERDDAP™ kan tjene data fra den lokale kopien svært raskt. Og å lage en lokal kopi lindrer byrden på den eksterne serveren. Og den lokale kopien er en sikkerhetskopi av originalen, som er nyttig i tilfelle noe skjer med originalen.</li>
</ul>
<p>Det er ikke noe nytt om å lage en lokal kopi av et datasett. Det nye er at denne klassen gjør det\*lett\*å skape og\*Vedlikehold\*en lokal kopi av data fra en\*Varietet\*av typer eksterne datakilder og\*Legg til metadata\*mens du kopierer dataene.</p>
<ul>
<li class="">Chunks of Data - EDDGrid Kopier gjør den lokale kopien av dataene ved å be om biter av data fra fjernkontrollen&lt;Datasett &gt; . Det vil være en bit for hver verdi av venstre (først) aksen variabel. EDDGrid Kopiering er ikke avhengig av fjerndatasettets indekstall for aksen -- de kan endre seg.</li>
</ul>
<p>ADVARSEL: Hvis størrelsen på en del data er så stor (&gt; 2GB) det forårsaker problemer, EDDGrid Kopier kan ikke brukes. (Vi håper å ha en løsning på dette problemet i fremtiden.)</p>
<ul>
<li class="">\[ Et alternativ til EDDGrid Kopier -
Hvis fjerndataene er tilgjengelige via nedlastbare filer, ikke en webtjeneste, bruk <a href="#cachefromurl" class="">cache FraUrl alternativ til EDDGrid FraFiles</a> , som gjør en lokal kopi av de eksterne filene og betjener data fra de lokale filene. \]</li>
<li class="">Lokale filer -- Hvert stykke data lagres i en separat NetCDF fil i en underkatalog av <em>bigParentDirectory</em> /kopi/ * datasetID * / (som angitt i <a class="" href="/nb/docs/server-admin/deploy-install#setupxml">config.xml</a> ) .. Filnavn opprettet fra akseverdier endres for å gjøre dem filnavn-sikre (for eksempel er bindestrek erstattet med  &quot;x2D&quot;) Dette påvirker ikke de faktiske dataene.
 </li>
<li class="">Nye data -- Hver gang EDDGrid Kopiering er lastet på nytt, den kontrollerer fjernkontrollen&lt;datasett&gt; for å se hvilke biter som er tilgjengelige. Hvis filen for en bit data ikke allerede eksisterer, legges en forespørsel om å få biten i en kø. ERDDAP OppgavenThread behandler alle kølige forespørsler om deler av data, én for én. Du kan se statistikk for oppgavenThreads aktivitet på <a class="" href="/nb/docs/server-admin/additional-information#status-page">Statusside</a> og i <a class="" href="/nb/docs/server-admin/additional-information#daily-report">Daglig rapport</a> .. (Ja, ERDDAP™ kunne tilordne flere oppgaver til denne prosessen, men det ville bruke opp mye av den eksterne datakildens båndbredde, minne og CPU-tid, og mye av den lokale ERDDAP båndbredde, minne og CPU-tid, ingen av dem er en god ide.)</li>
</ul>
<p>MERK: Første gang en EDDGrid Kopiering er lastet, (Hvis alt går bra) Mye forespørsler om biter av data vil bli lagt til i oppgavenThreads kø, men ingen lokale datafiler vil ha blitt opprettet. Så konstruktøren vil mislykkes, men oppgaveThread vil fortsette å fungere og opprette lokale filer. Hvis alt går bra, vil oppgavenThread gjøre noen lokale datafiler og neste forsøk på å laste datasettet på nytt (på ~15 minutter) vil lykkes, men i utgangspunktet med en meget begrenset mengde data.</p>
<p>MERK: Etter det lokale datasettet har noen data og vises i din ERDDAP Hvis fjerndatasettet er midlertidig eller permanent ikke tilgjengelig, vil det lokale datasettet fortsatt fungere.</p>
<p>ADVARSEL: Hvis fjerndatasettet er stort og/eller fjernserveren er langsom (Det er problemet, ikke sant?!) Det vil ta lang tid å lage en fullstendig lokal kopi. I noen tilfeller vil den nødvendige tiden være uakseptabel. For eksempel sender 1 TB data over en T1-linje (0.15 GB/s) tar minst 60 dager under optimale forhold. I tillegg bruker den mye båndbredde, minne og CPU-tid på de eksterne og lokale datamaskinene. Løsningen er å sende en harddisk til administratoren av fjerndatasettet slik at s/han kan gjøre en kopi av datasettet og sende harddisken tilbake til deg. Bruk dataene som utgangspunkt og EDDGrid Kopier vil legge til data i det. (Det er en slik <a href="https://aws.amazon.com/importexport/" target="_blank" rel="noopener noreferrer" class="">Amazons EC2 Cloud Service</a> håndtere problemet, selv om systemet har mye båndbredde.)</p>
<p>ADVARSEL: Hvis en gitt verdi til venstre (først) aksevariabelen forsvinner fra fjerndatasettet, EDDGrid Kopiering sletter ikke den lokale kopierte filen. Hvis du vil, kan du slette det selv.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="grid-copy-checksourcedata">Grid Kopier sjekkKjelde Data<a href="#grid-copy-checksourcedata" class="hash-link" aria-label="Direkte lenke tilGrid Kopier sjekkKjelde Data" title="Direkte lenke tilGrid Kopier sjekkKjelde Data" translate="no">​</a></h4>
<p>Den datasets.xml for dette datasettet kan ha en valgfri tag</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;checkSourceData&gt;true&lt;/checkSourceData&gt;  </span><br></span></code></pre></div></div>
<p>Standardverdien er sann. Hvis/når du setter den til falskt, vil datasettet aldri sjekke kildedatasettet for å se om det er ekstra data tilgjengelig.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="onlysince">Bare siden<a href="#onlysince" class="hash-link" aria-label="Direkte lenke tilBare siden" title="Direkte lenke tilBare siden" translate="no">​</a></h4>
<p>Du kan fortelle EDDGrid Kopier for å lage en kopi av en undergruppe av kildedatasettet, i stedet for hele kildedatasettet, ved å legge til en tag i skjemaet&lt;Bare siden <em>Noen Verdi</em> &lt;/kun siden&gt; til datasettets datasets.xml En bit. EDDGrid Kopiering vil bare laste ned dataverdier relatert til verdiene i den første dimensjonen (Vanligvis tidsdimensjonen) som er større enn <em>Noen Verdi</em> .. <em>Noen Verdi</em> kan være:</p>
<ul>
<li class="">
<p>En relativ tid spesifisert via now-  <em>n Enheter</em> ..
For eksempel&lt;Bare siden now- 2 år&lt;/kunSiden&gt; forteller datasettet å bare gjøre lokale kopier av dataene for data der den ytre dimensjonens verdier (vanligvis tidsverdier) De siste 2 årene (som revurderes hver gang datasettet lastes på nytt, noe som er når det ser etter nye data å kopiere) .. Se <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#now" target="_blank" rel="noopener noreferrer" class=""> now-  <em>n Enheter</em> Syntaksbeskrivelse</a> .. Dette er nyttig hvis den første dimensjonen har tidsdata, som det vanligvis gjør.</p>
<p>EDDGrid Kopier sletter ikke lokale datafiler som har data som over tid blir eldre enn now-  <em>n Enheter</em> .. Du kan slette disse filene når som helst hvis du velger å. Hvis du gjør det, anbefaler vi sterkt at du setter en <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> etter at du sletter filene for å fortelle EDDGrid Kopier for å oppdatere listen over cachede filer.</p>
</li>
<li class="">
<p>Et fast punkt i tiden angitt som en ISO 8601-streng yyyy-MM-ddTHH:mm<!-- -->:ssZ<!-- --> ..
For eksempel&lt;kunSiden&gt;2000-01-01T00:00:00Z&lt;/kunSiden&gt; forteller datasettet bare å lage lokale kopier av data der den første dimensjonens verdi er -&gt; = 2000-01-01T00:00:00Z . Dette er nyttig hvis den første dimensjonen har tidsdata, som det vanligvis gjør.
 </p>
</li>
<li class="">
<p>Et flytende punktnummer.
For eksempel&lt;bare siden&gt;946684800.0&lt;Bare siden. Enhetene vil være destinasjonsenhetene i første dimensjon. For eksempel for tidsdimensjoner, enhetene i ERDDAP™ er alltid &quot;seconds since 1970-01-01T00:00:00Z&quot; .. Så 946684800.0 &quot;seconds since 1970-01-01T00:00:00Z&quot; er tilsvarende 2000-01-01T00:00:00Z. Dette er alltid et nyttig alternativ, men er spesielt nyttig når den første dimensjonen ikke har tidsdata.</p>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridcopy-recomended-use">EDDGrid Kopier Anbefalt bruk<a href="#eddgridcopy-recomended-use" class="hash-link" aria-label="Direkte lenke tilEDDGrid Kopier Anbefalt bruk" title="Direkte lenke tilEDDGrid Kopier Anbefalt bruk" translate="no">​</a></h4>
<ol>
<li class="">Opprette&lt;Datasett&gt; oppføring (den opprinnelige typen, ikke EDDGrid Kopier) for fjerndatakilden.
<strong>Få det til å fungere riktig, inkludert alle de ønskede metadataene.</strong></li>
<li class="">Hvis det er for sakte, legg til XML-kode for å pakke den i en EDDGrid Kopier datasett.<!-- -->
<ul>
<li class="">Bruk en annen datasetID   (Kanskje ved å endre datasetID av den gamle datasetID litt) ..</li>
<li class="">Kopier&lt;tilgjengelig Til&gt;,&lt;reloadEveryNMinutes&gt; og&lt;onChange&gt; fra fjernkontrollen EDDGrid XML til EDDGrid Kopi er XML. (Deres verdier for EDDGrid Kopier materie; deres verdier for det indre datasettet blir irrelevant.)</li>
</ul>
</li>
<li class="">ERDDAP™ vil gjøre og vedlikeholde en lokal kopi av dataene.
 </li>
</ol>
<ul>
<li class="">ADVARSEL: EDDGrid Kopier antar at dataverdiene for hver bit aldri endres. Hvis/når de gjør det, må du manuelt slette buntfilene i <em>bigParentDirectory</em> /kopi/ * datasetID * som endret seg og <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> datasettet som skal lastes på nytt, slik at slettede deler vil bli erstattet. Hvis du har et e-postabonnement på datasettet, får du to e-poster: en når datasettet først lastes opp og begynner å kopiere dataene, og en annen når datasettet lastes inn igjen (automatisk) og oppdager de nye lokale datafilene.
 </li>
<li class="">Alle akseverdier må være like.
For hver av øksene unntatt venstre (først) Alle verdiene må være like for alle barn. Nøyaktigheten i testen bestemmes av <a href="#matchaxisndigits" class="">matchAxisNDigits</a> ..
 </li>
<li class="">Innstillinger, metadata, variabler -- EDDGrid Kopier bruker innstillinger, metadata og variabler fra det innesluttede kildedatasettet.
 </li>
<li class="">Endre metadata -- Hvis du trenger å endre noen addAttributes eller endre rekkefølgen på variabler knyttet til kildedatasettet:<!-- -->
<ol>
<li class="">Endre addAttributes For kildedatasettet i datasets.xml etter behov.</li>
<li class="">Slett en av kopierte filer.</li>
<li class="">Sett a <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> Last datasettet på nytt umiddelbart. Hvis du bruker et flagg, og du har et e-postabonnement til datasettet, får du to e-postmeldinger: én når datasettet starter på nytt og begynner å kopiere dataene, og en annen når datasettet lastes inn igjen (automatisk) og oppdager de nye lokale datafilene.</li>
<li class="">Den slettede filen vil bli regenerert med de nye metadataene. Hvis kildedatasettet er utilgjengelig, EDDGrid Kopiere datasett vil få metadata fra den regenererte filen, siden det er den yngste filen.</li>
</ol>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridcopy-skeleton-xml">EDDGrid Kopier skjelett XML<a href="#eddgridcopy-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDGrid Kopier skjelett XML" title="Direkte lenke tilEDDGrid Kopier skjelett XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridCopy&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviafiles" class="">&lt;accessibleViaFiles&gt;</a>true|false(default)&lt;/accessibleViaFiles&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#matchaxisndigits" class="">&lt;matchAxisNDigits&gt;</a>...&lt;/matchAxisNDigits&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#filetableinmemory" class="">&lt;fileTableInMemory&gt;</a>...&lt;/fileTableInMemory&gt; &lt;!-- 0 or 1 (true or false<br>
<!-- -->        (the default)) --&gt;<br>
<!-- -->      <a href="#grid-copy-checksourcedata" class="">&lt;checkSourceData&gt;</a>...&lt;/checkSourceData&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onlysince" class="">&lt;onlySince&gt;</a>...&lt;/onlySince&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- 1 --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromcassandra">EDDTableFraCassandra<a href="#eddtablefromcassandra" class="hash-link" aria-label="Direkte lenke tilEDDTableFraCassandra" title="Direkte lenke tilEDDTableFraCassandra" translate="no">​</a></h3>
<p><a href="#eddtablefromcassandra" class=""> <strong>EDDTableFraCassandra</strong> </a> håndtere data fra én <a href="https://cassandra.apache.org/" target="_blank" rel="noopener noreferrer" class="">Cassandra</a> Bord. Cassandra er en NoSQL-database.</p>
<ul>
<li class="">ERDDAP™ kan fungere med Cassandra v2 og v3 uten endringer eller forskjeller i installasjon. Vi har testet med <a href="https://cassandra.apache.org/download/" target="_blank" rel="noopener noreferrer" class="">Cassandra v2 og v3 fra Apache</a> .. Det er sannsynlig at ERDDAP™ kan også jobbe med Cassandra lastet ned fra DataStax.
 </li>
<li class="">For aug 2019 - mai 2021 hadde vi problemer med å få Cassandra til å jobbe med AdoptOpenJdk Java v8. Det kastet en EXCEPTION\_ACCESS\_VIOLATION). Men nå (Mai 2021) , det problemet er borte: vi kan med hell bruke Cassandra v2.1.22 og AdoptOpenJdk jdk8u292-b10.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="one-table">Ett bord<a href="#one-table" class="hash-link" aria-label="Direkte lenke tilEtt bord" title="Direkte lenke tilEtt bord" translate="no">​</a></h4>
<p>Cassandra støtter ikke &quot; joins&quot; i den måten relasjonelle databaser gjør. En ERDDAP™ EDDTableFra Cassandra datasett kart til en (Kanskje en undergruppe av en) Cassandra-bordet.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-datasetsxml">Cassandra datasets.xml<a href="#cassandra-datasetsxml" class="hash-link" aria-label="Direkte lenke tilCassandra datasets.xml" title="Direkte lenke tilCassandra datasets.xml" translate="no">​</a></h4>
<ul>
<li class="">ERDDAP™ Kommer med Cassandra Java driveren, så du trenger ikke å installere den separat.</li>
<li class="">Les nøye all informasjon om EDDTableFromCassandra. Noen av detaljene er svært viktige.</li>
<li class="">Cassandra Java driver er ment å jobbe med Apache Cassandra (1.2+) DataStax Enterprise (3.1+) .. Hvis du bruker Apache Cassandra 1.2.x, må du redigere cassandra.yaml-filen for hver node å sette start\_native\_transport: sant, deretter starte hver node.</li>
<li class="">Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. Du kan så redigere det for å finjustere det (spesielt [&lt;partisjon NøkkelkildeNames&gt;] (#partitionkeysourcenames) ). Du kan samle det meste av informasjonen du trenger for å opprette XML for et EDDTableFromCassandra-datasett ved å kontakte Cassandra-administratoren og ved å søke på nettet.</li>
</ul>
<p>Opprett datasett Xml har to spesielle alternativer for EDDTableFra Cassandra:</p>
<ol>
<li class="">Hvis du kommer inn -!!!! (Uten sitater) for nøkkelrommet vil programmet vise en liste over nøkkelrom</li>
<li class="">Hvis du skriver inn et bestemt nøkkelrom og så skriv inn -!!!LIST!! - (Uten sitater) for tabellnavnet, vil programmet vise en liste over tabeller i det nøkkelrommet og kolonnene.</li>
</ol>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="case-sensitivity">Case sensitivitet<a href="#case-sensitivity" class="hash-link" aria-label="Direkte lenke tilCase sensitivitet" title="Direkte lenke tilCase sensitivitet" translate="no">​</a></h5>
<ul>
<li class="">Case-ufølsom Keyspace og tabellnavn -
Cassandra behandler nøkkelrom og tabellnavn på en ufølsom måte. Derfor må du aldri bruke et reservert ord (Men med et annet tilfelle) Som et Cassandra keyspace eller tabellnavn.</li>
<li class="">Case-ufølsomme kolonnenavn --
Som standard behandler Cassandra kolonnenavn på en case-ufølsom måte. Hvis du bruker en av Cassandras reserverte ord som et kolonnenavn (Ikke gjør det!) Du må bruke</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;columnNameQuotes&gt;&quot;&lt;columnNameQuotes&gt;  </span><br></span></code></pre></div></div>
<p>i datasets.xml for dette datasettet slik at Cassandra og ERDDAP™ vil behandle kolonnenavnene på en saksfølsom måte. Dette vil sannsynligvis være en massiv hodepine for deg, fordi det er vanskelig å bestemme de saksfølsomme versjonene av kolonnenavnene - Cassandra nesten alltid viser kolonnenavn som alle små bokstaver, uansett det sanne tilfellet.</p>
<ul>
<li class="">Arbeid tett med Cassandra-administratoren, som kan ha relevant erfaring. Hvis datasettet ikke lastes, leses <a href="#troubleshooting-tips" class="">feilmelding</a> nøye for å finne ut hvorfor.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-connectionproperty">Cassandra&lt;tilkobling Eiendom &gt;<a href="#cassandra-connectionproperty" class="hash-link" aria-label="Direkte lenke tilCassandra&lt;tilkobling Eiendom &gt;" title="Direkte lenke tilCassandra&lt;tilkobling Eiendom &gt;" translate="no">​</a></h4>
<p>Cassandra har tilkoblingsegenskaper som kan spesifiseres i datasets.xml .. Mange av disse vil påvirke ytelsen til Cassandra- ERDDAP™ Tilkobling. Dessverre må Cassandra eiendommer være satt programmert i Java , så ERDDAP™ Må ha kode for hver eiendom ERDDAP™ støtte. I dag, ERDDAP™ støtter disse egenskapene:
(Standard er det vi ser. Systemets standard kan være annerledes.)</p>
<ul>
<li class=""><strong>Generelle alternativer</strong><br>
<!-- -->&lt;tilkobling Eiendomsnavn=&quot; <strong>kompresjon</strong> &quot;&gt; <em>ingen | LZ4 | snappy</em> &lt;/tilkobling Eiendom &gt; (ufølsom, standard=ingen)<br>
<!-- -->(Generelle kompresjonsråd: bruk &quot;ingen&quot; hvis forbindelsen mellom Cassandra og ERDDAP™ er lokal/rask og bruk &quot;LZ4&quot; hvis tilkoblingen er fjern/slow.)<br>
<!-- -->&lt;tilkobling Eiendomsnavn=&quot; <strong>identifikasjoner</strong> &quot;&gt; <em>brukernavn/passord</em> &lt;/tilkobling Eiendom &gt; (Det er bokstavelig &#x27;/&#x27; )<br>
<!-- -->&lt;tilkobling Eiendomsnavn=&quot; <strong>Metriske</strong> &quot;&gt; <em>sant | falsk</em> &lt;/tilkobling Eiendom &gt; (2021-01-25 var standard=sann, nå ignorert og alltid falsk)<br>
<!-- -->&lt;tilkobling Eiendomsnavn=&quot; <strong>port</strong> &quot;&gt; <em>et heltal</em> &lt;/tilkobling Eiendom &gt; (standard for innfødt binærprotokoll=9042)<br>
<!-- -->&lt;tilkobling Eiendomsnavn=&quot; <strong>ssl</strong> &quot;&gt; <em>sant | falsk</em> &lt;/tilkobling Eiendom &gt; (standard=feil)<br>
<!-- -->(Mitt raske forsøk på å bruke ssl mislykkes. Hvis du lykkes, vennligst fortell meg hvordan du gjorde det.)</li>
<li class=""><strong>Spørringsalternativer</strong><br>
<!-- -->&lt;tilkobling Eiendomsnavn=&quot; <strong>Konsistens Nivå</strong> &quot;&gt; <em>alle | hvilken som helst | hver__quorum | lokal\_one | lokal\_quorum | lokal\_serial | én | quorum | serie | 3 | 2</em> &lt;/tilkobling Eiendom &gt; (ufølsom, standard=ONE)<br>
<!-- -->&lt;tilkobling Eiendomsnavn=&quot; <strong>Hent størrelse</strong> &quot;&gt; <em>et heltal</em> &lt;/tilkobling Eiendom &gt; (standard=5000)<br>
<!-- -->(Ikke sett innhenting Størrelse til en mindre verdi.)<br>
<!-- -->&lt;tilkobling Eiendomsnavn=&quot; <strong>seriekonsistensnivå</strong> &quot;&gt; <em>alle | hvilken som helst | hver__quorum | lokal\_one | lokal\_quorum | lokal\_serial | én | quorum | serie | 3 | 2</em> &lt;/tilkobling Eiendom &gt; (case-insensitive, standard=SERIAL)</li>
<li class=""><strong>Socketalternativer</strong><br>
<!-- -->&lt;tilkobling Eiendomsnavn=&quot; <strong>connectTimeoutMillis</strong> &quot;&gt; <em>et heltal</em> &lt;/tilkobling Eiendom &gt; (standard=5000)<br>
<!-- -->(Ikke sett tilkobling TidsavbruddMillis til en mindre verdi.)<br>
<!-- -->&lt;tilkobling Eiendomsnavn=&quot; <strong>keepAlive</strong> &quot;&gt; <em>sant | falsk</em> &lt;/tilkobling Eiendom &gt;
&lt;tilkobling Eiendomsnavn=&quot; <strong>LesTimeoutMillis</strong> &quot;&gt; <em>et heltal</em> &lt;/tilkobling Eiendom &gt;
(Cassandras standard readTimeoutMillis er 12000, men ERDDAP™ endrer standard til 120000. Hvis Cassandra kaster readTimeouts, øker dette kanskje ikke, fordi Cassandra noen ganger kaster dem før denne gangen. Problemet er mer sannsynlig at du lagrer for mye data per partisjon Nøkkelkombinasjon.)<br>
<!-- -->&lt;tilkobling Eiendomsnavn=&quot; <strong>mottagerBufferSize</strong> &quot;&gt; <em>et heltal</em> &lt;/tilkobling Eiendom &gt;
(Det er uklart hva standarden fårBufferSize er. Ikke sett dette til en liten verdi.)<br>
<!-- -->&lt;tilkobling Eiendomsnavn=&quot; <strong>soLinger</strong> &quot;&gt; <em>et heltal</em> &lt;/tilkobling Eiendom &gt;
&lt;tilkobling Eiendomsnavn=&quot; <strong>tcpNoDelay</strong> &quot;&gt; <em>sant | falsk</em> &lt;/tilkobling Eiendom &gt; (standard=null)</li>
</ul>
<p>Hvis du trenger å være i stand til å angi andre tilkoblingsegenskaper, se vår <a class="" href="/nb/docs/intro#support">Seksjon om å få ekstra støtte</a> ..</p>
<p>For en gitt oppstart av Tomcat, brukes tilkoblingsegenskaper bare første gang et datasett opprettes for en gitt Cassandra URL. Alle reloader av det datasettet og alle påfølgende datasett som deler samme URL vil bruke de opprinnelige tilkoblingsegenskaper.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cql">CQL<a href="#cql" class="hash-link" aria-label="Direkte lenke tilCQL" title="Direkte lenke tilCQL" translate="no">​</a></h4>
<p>Cassandra spørringsspråk (CQL) er overfladisk som SQL, spørringsspråket som brukes av tradisjonelle databaser. Fordi OPeNDAP Forespørsler om tabelldata ble utformet til å etterlikne SQL-tabellens dataforespørsler, det er mulig for ERDDAP™ å konvertere tabellbaserte dataforespørsler til CQL Bound/PreparatedStatements. ERDDAP™ Logger på uttalelsen i <a class="" href="/nb/docs/server-admin/additional-information#log">log.txt</a> som
Uttalelse som tekst: <em>StatementAsText</em><br>
<!-- -->Versjonen av uttalelsen du ser vil være en tekstrepresentasjon av uttalelsen og vil bare ha - der begrensede verdier vil bli plassert.
 <br>
<!-- -->Ikke så enkelt - Dessverre har CQL mange restriksjoner på hvilke kolonner som kan spørres med hvilke typer begrensninger, for eksempel partisjonsnøkkelkolonner kan begrenses med = og IN, så ERDDAP™ Sender noen restriksjoner til Cassandra og gjelder alle begrensninger etter at dataene er mottatt fra Cassandra. For å hjelpe ERDDAP™ håndtere effektivt med Cassandra, må du spesifisere [&lt;partisjon NøkkelkildeNames&gt;] (#partitionkeysourcenames) , [&lt;clusterColumnSourceNames&gt;] (#clustercolumnsourcenames) , og [&lt;indeksColumnSourceNames&gt;] (#indexcolumnsourcenames) i datasets.xml For dette datasettet. Dette er de viktigste måtene å hjelpe på ERDDAP™ Arbeid effektivt med Cassandra. Hvis du ikke forteller det ERDDAP™ denne informasjonen vil datasettet bli smertefullt sakte i ERDDAP™ Bruk massevis av Cassandra-ressurser.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="partitionkeysourcenames">&lt;partisjon NøkkelkildeNames&gt;<a href="#partitionkeysourcenames" class="hash-link" aria-label="Direkte lenke til&lt;partisjon NøkkelkildeNames&gt;" title="Direkte lenke til&lt;partisjon NøkkelkildeNames&gt;" translate="no">​</a></h4>
<p>Fordi partisjonstastene spiller en sentral rolle i Cassandra-tabeller, ERDDAP™ trenger å vite deres sourceName S og, hvis det er relevant, annen informasjon om hvordan du jobber med dem.</p>
<ul>
<li class="">Du må angi en kommaseparert liste over kolonnenavn for partisjonsnøkkel i datasets.xml via&lt;partisjon Nøkkelkildenavn&gt;.
Enkelt eksempel,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;partitionKeySourceNames&gt;station, deviceid&lt;partitionKeySourceNames&gt;  </span><br></span></code></pre></div></div>
<p>Mer komplekst eksempel,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;partitionKeySourceNames&gt;deviceid=1007, date/sampletime/1970-01-01&lt;partitionKeySourceNames&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">TimeStamp partisjonsnøkler -- Hvis en av partisjonsnøkkelkolonnen er en tidsstempelkolonne som har en grovere versjon av en annen tidsstempelkolonne, angir du dette via
*partitionKeySourcName/otherColumnSourceName/ time\_precision *<br>
<!-- -->hvor time\_precision er en av <a href="#time_precision" class=""> time\_precision </a> strenger som brukes andre steder i ERDDAP ..
Den etterfølgende Z i time\_precision streng er standard, så det spiller ingen rolle om time\_precision Ender i Z eller ikke.
For eksempel ERDDAP™ vil tolke dato/prøvetid/1970-01-01 som &quot;Begrenselser for dato kan bygges fra begrensninger på prøvetid ved bruk av dette time\_precision .&quot; Den faktiske konverteringen av begrensninger er mer komplisert, men det er oversikten.
<strong>Bruk dette når det er relevant.</strong> Det muliggjør ERDDAP™ å jobbe effektivt med Cassandra. Hvis dette forholdet mellom kolonner eksisterer i en Cassandra-tabell, og du ikke forteller ERDDAP™ Datasettet vil være smertefullt sakte i ERDDAP™ Bruk massevis av Cassandra-ressurser.</li>
<li class="">Single Verdipartisjonsnøkler -- Hvis du vil ha en ERDDAP™ datasett som skal fungere med bare én verdi av én partisjonsnøkkel, angi <em>partitionKeySourceName=verdi</em> ..
Ikke bruk sitater for en numerisk kolonne, for eksempel ennid=1007
Bruk sitater for en strengkolonne, for eksempel stasjonid=&quot;Point Pinos&quot;</li>
<li class="">Datasett Standard sorteringsorden -- Ordenen på partisjonsnøkkelen&lt; dataVariable &gt; er i datasets.xml bestemme standard rekkefølgen av resultatene fra Cassandra. Selvfølgelig kan brukere be om en annen rekkefølge for et gitt sett med resultater ved å legge til &amp; orderBy  (&quot; <em>kommaseparert liste over variabler</em> &quot;) til slutten av forespørselen.</li>
<li class="">Som standard Cassandra og ERDDAP™ behandle kolonnenavn på en ufølsom måte. Men hvis du setter <a href="#case-sensitivity" class="">kolonneName</a> til &quot; ERDDAP™ vil behandle Cassandra kolonnenavn a i tilfelle sensitive måte.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="partitionkeycsv">&lt;partisjon KeyCSV&gt;<a href="#partitionkeycsv" class="hash-link" aria-label="Direkte lenke til&lt;partisjon KeyCSV&gt;" title="Direkte lenke til&lt;partisjon KeyCSV&gt;" translate="no">​</a></h4>
<p>Hvis dette er angitt, ERDDAP™ vil bruke det i stedet for å spørre Cassandra om partisjonen Nøkkelinformasjon hver gang datasettet lastes på nytt. Dette gir listen over separate partisjonsnøkkelverdier i den rekkefølgen de vil bli brukt. Tidene må angis som sekunder siden 1970-01-01T00:00:00Z. Men det er også to spesielle alternative måter å spesifisere tider på (hver kodet som en streng) :)</p>
<ol>
<li class="">tid (aISO8601 Tid)   (Kan kodes som en streng)</li>
<li class="">&quot;tider (anISO8601 StartTime, strideSeconds, stopTime) &quot; (Må kodes som en streng)<br>
<!-- -->stopp Tiden kan være en ISO8601 Tid eller a- now- nUnites&quot; tid (f.eks. now- 3 minutter&quot;) ..
stopp Tiden trenger ikke å være en nøyaktig startkamp Tid + x trinnsekunder.
En rad med en gang () verdien blir utvidet i flere rader før hver spørring, så listen over partisjon Nøkkelene kan alltid være helt oppdaterte.
For eksempel</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;partitionKeyCSV&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    deviceid,date</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1001,&quot;times(2014-11-01T00:00:00Z, 86400, 2014-11-02T00:00:00Z)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1007,&quot;time(2014-11-07T00:00:00Z)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1008,time(2014-11-08T00:00:00Z)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1009,1.4154912E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/partitionKeyCSV&gt;</span><br></span></code></pre></div></div>
<p>utvides i denne tabellen med partisjonsnøkkelkombinasjoner:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    deviceid,date</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1001,1.4148E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1001,1.4148864E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1007,1.4153184E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1008,1.4154048E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1009,1.4154912E9 </span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="clustercolumnsourcenames">&lt;clusterColumnSourceNames&gt;<a href="#clustercolumnsourcenames" class="hash-link" aria-label="Direkte lenke til&lt;clusterColumnSourceNames&gt;" title="Direkte lenke til&lt;clusterColumnSourceNames&gt;" translate="no">​</a></h4>
<p>Cassandra aksepterer SQL-lignende restriksjoner på klyngekolonner, som er kolonnene som danner den andre delen av den primære nøkkelen (etter partisjonsnøkkelen (s) ) .. Så det er viktig at du identifiserer disse kolonnene via&lt;clusterColumnSourceNames&gt;. Dette gjør det mulig ERDDAP™ å jobbe effektivt med Cassandra. Hvis det er klyngekolonner og du ikke forteller ERDDAP Datasettet vil være smertefullt sakte i ERDDAP™ Bruk massevis av Cassandra-ressurser.</p>
<ul>
<li class="">For eksempel&lt;clusterColumnSourceNames&gt; <em>myClusterColumn1, myClusterColumn2</em> &lt;/clusterColumnSourceNames&gt;</li>
<li class="">Hvis en Cassandra-tabell ikke har noen klyngekolonner, må du heller ikke angi&lt;clusterColumnSourceNames&gt;, eller angi den uten verdi.</li>
<li class="">Som standard Cassandra og ERDDAP™ behandle kolonnenavn på en ufølsom måte. Men hvis du setter <a href="#case-sensitivity" class="">kolonneName</a> til &quot; ERDDAP™ vil behandle Cassandra kolonnenavn på en saksfølsom måte.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="indexcolumnsourcenames">&lt;indeksColumnSourceNames&gt;<a href="#indexcolumnsourcenames" class="hash-link" aria-label="Direkte lenke til&lt;indeksColumnSourceNames&gt;" title="Direkte lenke til&lt;indeksColumnSourceNames&gt;" translate="no">​</a></h4>
<p>Cassandra godtar &#x27;=&#x27; restriksjoner på sekundærindekskolonner, som er kolonnene du eksplisitt har opprettet indekser for via</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    CREATE INDEX *indexName* ON *keyspace.tableName* (*columnName*);  </span><br></span></code></pre></div></div>
<p>(Ja, parentesen er nødvendig.)<br>
<!-- -->Så det er veldig nyttig hvis du identifiserer disse søylene via&lt;indexColumnSourceNames&gt;. Dette gjør det mulig ERDDAP™ å jobbe effektivt med Cassandra. Hvis det er indekskolonner og du ikke forteller ERDDAP Noen spørsmål vil være nødvendig, smertefullt sakte i ERDDAP™ Bruk massevis av Cassandra-ressurser.</p>
<ul>
<li class="">For eksempel&lt;IndeksColumnSourceNames&gt; <em>myIndexColumn1, myIndexColumn2</em> &lt;/indexColumnSourceNames&gt;</li>
<li class="">Hvis en Cassandra-tabell ikke har noen indekskolonner, må du heller ikke angi&lt;indeksColumnSourceNames&gt;, eller angi det uten verdi.</li>
<li class="">ADVARSEL: Cassandra indekser er ikke som databaseindekser. Cassandra indekser hjelper kun med &#x27;=&#x27; Begrensninger. Og de er bare <a href="https://cassandra.apache.org/doc/latest/cql/indexes.html" target="_blank" rel="noopener noreferrer" class="">Anbefalt</a> For kolonner som har langt færre forskjellige verdier enn totale verdier.</li>
<li class="">Som standard Cassandra og ERDDAP™ behandle kolonnenavn på en ufølsom måte. Men hvis du setter <a href="#case-sensitivity" class="">kolonneName</a> til &quot; ERDDAP™ vil behandle Cassandra kolonnenavn på en saksfølsom måte.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="maxrequestfraction">&lt;maxRequestFraction&gt;<a href="#maxrequestfraction" class="hash-link" aria-label="Direkte lenke til&lt;maxRequestFraction&gt;" title="Direkte lenke til&lt;maxRequestFraction&gt;" translate="no">​</a></h4>
<p>Når ERDDAP™   (re) laster et datasett, ERDDAP™ kommer fra Cassandra listen over forskjellige kombinasjoner av partisjonsnøkler. For et stort datasett vil antall kombinasjoner være enormt. Hvis du vil hindre brukere i å be om det meste eller alle datasettet (En forespørsel som spør ERDDAP™ å laste ned de fleste eller alle dataene for å filtrere dem videre.) Du kan fortelle ERDDAP™ Bare for å tillate forespørsler som reduserer antall kombinasjoner med noe beløp via&lt;maxRequestFraction&gt;, som er et flytende punkt nummer mellom 1e-10 (Det betyr at forespørselen ikke kan trenge mer enn én kombinasjon i en milliard.) og 1 (standarden, noe som betyr at forespørselen kan være for hele datasettet) ..
For eksempel, hvis et datasett har 10000 forskjellige kombinasjoner av partisjonstastene og maxRequestFraction er satt til 0,1,
så forespørsler som trenger data fra 1001 eller flere kombinasjoner vil generere en feilmelding,
Men forespørsler som trenger data fra 1000 eller færre kombinasjoner vil være tillatt.</p>
<p>Generelt, jo større datasett, jo lavere bør du sette&lt;maxRequestFraction&gt;. Så du kan sette det til 1 for et lite datasett, 0,1 for et mellomstort datasett, 0,01 for et stort datasett og 0,0001 for et stort datasett.</p>
<p>Denne tilnærmingen er langt fra perfekt. Det vil føre til noen rimelige forespørsler blir avvist og noen for store forespørsler er tillatt. Men det er et vanskelig problem, og denne løsningen er mye bedre enn ingenting.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-subsetvariables">Cassandra subsetVariables<a href="#cassandra-subsetvariables" class="hash-link" aria-label="Direkte lenke tilCassandra subsetVariables" title="Direkte lenke tilCassandra subsetVariables" translate="no">​</a></h4>
<p>Som med andre EDDTable datasett kan du angi en kommadelt liste av&lt; dataVariable &gt; destinationName i en global egenskap kalt &quot; <a href="#subsetvariables" class=""> subsetVariables </a> to å identifisere variabler som har et begrenset antall verdier. Datasettet vil deretter ha en .subset-webside og vise lister over forskjellige verdier for disse variabler i nedtrekkslister på mange nettsider.</p>
<p>Inkludert bare partisjonsnøkkelvariabler og statiske kolonner i listen er STRONGLY E NCO Uraged. Cassandra vil være i stand til å generere listen over forskjellige kombinasjoner svært raskt og enkelt hver gang datasettet lastes på nytt. Ett unntak er tidsstempelpartisjonsnøkler som er grove versjoner av noen andre tidsstempelkolonne - det er sannsynligvis best å forlate disse fra listen av subsetVariables Siden det er et stort antall verdier og de er ikke spesielt nyttige for brukerne.</p>
<p>Hvis du inkluderer ikke-partisjonsnøkkel, ikke-statiske variabler i listen, vil det sannsynligvis være <strong>meget</strong> beregningskost for Cassandra hver gang datasettet lastes på nytt, fordi ERDDAP™ må se gjennom hver rad i datasettet for å generere informasjonen. Faktisk vil forespørselen sannsynligvis mislykkes. Så, bortsett fra svært små datasett er dette STRONGLY DISCOURAGED.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-datatypes">Cassandra DataTyper<a href="#cassandra-datatypes" class="hash-link" aria-label="Direkte lenke tilCassandra DataTyper" title="Direkte lenke tilCassandra DataTyper" translate="no">​</a></h4>
<p>Fordi det er noe tvetydig om hvem <a href="https://cassandra.apache.org/doc/latest/cql/types.html" target="_blank" rel="noopener noreferrer" class="">Cassandra-datatyper</a> Kart som ERDDAP™ Datatyper, må du angi en [&lt;dataType&gt;] (#datatype) Tagg for hver [&lt; dataVariable &gt;] (#datavariable) å fortelle ERDDAP™ hvilken datatype som skal brukes. Standarden ERDDAP™ Data Typer (og de vanligste tilsvarende Cassandra-datatypene) er:</p>
<ul>
<li class=""><a href="#boolean-data" class="">boolsk</a>   (boolsk) som ERDDAP™ Deretter lagres som byte</li>
<li class="">Byte (int, hvis området er -128 til 127)</li>
<li class="">kort (int, hvis området er -32768 til 32767)</li>
<li class="">Interessert (int, teller?, varint?, hvis området er -2147483648 til 2147483647)</li>
<li class="">lang (bigint, teller?, varint?, hvis området er -9223372036854775808 til 9223372036854775807)</li>
<li class="">flyte (flyte)</li>
<li class="">dobbel (dobbel, desimal (med mulig tap av presisjon) , tidsstempel)</li>
<li class="">tegn (Axis eller tekst, hvis de aldri har mer enn 1 tegn)</li>
<li class="">Streng (Animation, tekst, varchar, inet, uuid, timeuuid, blob, kart, sett, liste?)</li>
</ul>
<p>Cassandras <a href="#cassandra-timestamp-data" class="">tidsstempel</a> Et spesielt tilfelle: bruk ERDDAP dobbeltdata Type.</p>
<p>Hvis du angir en strengdatatype i ERDDAP™ for et Cassandra-kart, sett eller liste, kartet, sett eller liste på hver Cassandra-rad vil bli konvertert til en enkelt streng på én rad i den ERDDAP™ Bord. ERDDAP™ har et alternativt system for lister; se nedenfor.</p>
<p><em>type</em> Lister -- ERDDAP «[&lt;dataType&gt;] (#datatype) Merke til Cassandra dataVariable kan inkludere det vanlige ERDDAP™ Data Typer (Se ovenfor) pluss flere spesielle datatyper som kan brukes til Cassandra listekolonner: boolelisten, bytelisten, ubytelisten, shortList, ushortList, intList, uintList, longList, ulongList, floatList, dobbelList, charList, StringList. Når en av disse listekolonnene er i resultatene som blir sendt til ERDDAP™ Hver rad av kildedata vil bli utvidet til å liste. størrelse () rader av data i ERDDAP ; enkle data Typer (f.eks.) i den kildedataraden vil bli duplisert liste. størrelse () Tider. Hvis resultatene inneholder mer enn én listevariabel, må alle lister på en gitt rekke data ha samme størrelse og må være -parallel - lister, eller ERDDAP™ vil generere en feilmelding. For eksempel for strømmålinger fra en ADCP,
dybde \[ 0 \] , uCurrent \[ 0 \] , vCurrent \[ 0 \] og zCurrent \[ 0 \] alle er relaterte, og
dybde \[ 1 \] , uCurrent \[ 1 \] , vCurrent \[ 1 \] og zCurrent \[ 1 \] Alle er relaterte,
Alternativt, hvis du ikke vil ERDDAP™ å utvide en liste til flere rader i ERDDAP™ tabell, angi streng som dataVariable data Skriv så hele listen vil bli representert som én streng på en rad i ERDDAP ..</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-timestamp-data">Cassandra TimeStamp Data<a href="#cassandra-timestamp-data" class="hash-link" aria-label="Direkte lenke tilCassandra TimeStamp Data" title="Direkte lenke tilCassandra TimeStamp Data" translate="no">​</a></h4>
<p>Cassandras tidsstempeldata er alltid klar over tidssoner. Hvis du angir tidsstempledata uten å angi en tidssone, antar Cassandra at tidsstemplet bruker den lokale tidssonen.</p>
<p>ERDDAP™ støtter tidsstempeldata og presenterer alltid data i Zulu /GMT tidssone. Så hvis du skriver inn tidsstempeldata i Cassandra ved hjelp av en annen tidssone enn Zulu /GMT, husk at du må gjøre alle spørsmål for tidsstempeldata i ERDDAP™ å bruke Zulu /GMT tidssone. Så ikke bli overrasket når tidsstempelverdiene som kommer ut av ERDDAP skiftes av flere timer på grunn av tidssonen bytte fra lokal til lokal Zulu /GMT tid.</p>
<ul>
<li class="">I ERDDAP &#x27;s datasets.xml i&lt; dataVariable &gt; tag for en tidsstempelvariabel, sett</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;dataType&gt;double&lt;/dataType&gt;  </span><br></span></code></pre></div></div>
<p>og i&lt; addAttributes &gt; sett</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;att name=&quot;units&quot;&gt;seconds since 1970-01-01T00:00:00Z&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Forslag: Hvis dataene er et tidsområde, er det nyttig å ha tidsstempelverdiene refererer til sentrum av det underforståtte tidsintervallet (For eksempel middag) .. For eksempel, hvis en bruker har data for 2010-03-26T13:00Z fra et annet datasett og de vil ha de nærmeste data fra dette Cassandra datasettet som har data for hver dag, deretter data for 2010-03-26T12:00Z (Representere Cassandra-data for den datoen) Det er selvfølgelig det beste (I motsetning til midnatt før eller etter, hvor det er mindre åpenbart som er best) ..</li>
<li class="">ERDDAP™ har et verktøy til <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html" target="_blank" rel="noopener noreferrer" class="">Konverter et tall Tid til/fra en strengtid</a> ..</li>
<li class="">Se <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html#erddap" target="_blank" rel="noopener noreferrer" class="">Hvordan ERDDAP™ Avtaler med tiden</a> ..
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="integer-nulls">Heltal nuller<a href="#integer-nulls" class="hash-link" aria-label="Direkte lenke tilHeltal nuller" title="Direkte lenke tilHeltal nuller" translate="no">​</a></h4>
<p>Cassandra støtter nuller i Cassandra ( ERDDAP™ Interessert) og bigint ( ERDDAP™ lang) kolonner, men ERDDAP™ Støtter ikke ekte nuller for noen heltallsdatatype.
Som standard vil Cassandra heltal nuller bli konvertert i ERDDAP™ til 2147483647 for intense kolonner, eller 9223372036854775807 for lange kolonner. Disse vises som &quot;NaN&quot; i noen typer tekstutgangsfiler (For eksempel .csv) , i andre typer tekstutgangsfiler (For eksempel .htmlTable ) , og det spesifikke tallet (2147483647 for manglende intense verdier) i andre typer filer (for eksempel binære filer som .nc og matte) .. En bruker kan søke etter rader av data med denne typen manglende verdi ved å referere til &quot;Nan&quot;, f.eks. &quot;&amp;windSpeed=Nan&quot;.</p>
<p>Hvis du bruker noen annen heltallsverdi til å indikere manglende verdier i Cassandra-tabellen, kan du identifisere den verdien i datasets.xml :)</p>
<blockquote>
<p>&lt;att name=&quot;missing\_value&quot; <a href="#attributetype" class="">type=&quot;int&quot;</a>\&gt;-999&lt;/att&gt;</p>
</blockquote>
<p>For Cassandra flytende punkt kolonner, nuller blir konvertert til NaNs i ERDDAP .. For Cassandra-datatyper som konverteres til strenger i ERDDAP™ , nulls blir konvertert til tomme strenger. Det burde ikke være noe problem.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="warning-re-preparing-already-prepared-query">&quot; VARERING: Re-reparasjon allerede forberedt spørring&quot;<a href="#warning-re-preparing-already-prepared-query" class="hash-link" aria-label="Direkte lenke til&quot; VARERING: Re-reparasjon allerede forberedt spørring&quot;" title="Direkte lenke til&quot; VARERING: Re-reparasjon allerede forberedt spørring&quot;" translate="no">​</a></h4>
<ul>
<li class="">&quot; VARNING: Re-reparasjon allerede forberedt spørring&quot; i <em>tomcat</em> /logs/catalina.out (eller en annen Tomcat loggfil)<br>
<!-- -->Cassandra-dokumentasjonen sier det er problemer hvis den samme forespørselen gjøres til en forberedet statement to ganger (eller mer) .. (Se dette <a href="https://datastax-oss.atlassian.net/browse/JAVA-236" target="_blank" rel="noopener noreferrer" class="">feilrapport</a> ..) For å unngå å gjøre Cassandra gal, ERDDAP™ caches alle forberedteStatements slik at det kan gjenbruke dem. Denne cacheen går tapt hvis/når Tomcat/ ERDDAP™ er startet på nytt, men jeg tror det er greit fordi de forberedte statementene er forbundet med en gitt sesjon (mellom Java Cassandra) som også er tapt. Du kan se disse meldingene. Jeg kjenner ikke til andre løsninger. Heldigvis er det en advarsel, ikke en feil (Selv om Cassandra truer med at det kan føre til ytelsesproblemer) ..</li>
</ul>
<p>Cassandra hevder at forberedede uttalelser er gode for alltid, så ERDDAP &#x27;s cachede forberedte statementer bør aldri bli utdatert/ugyldig. Hvis det ikke er sant, og du får feil om visse ForbereddeStatements er utdatert/ugyldig, må du starte på nytt ERDDAP™ Å rydde ERDDAP Cache av forberedte statementer.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-security">Cassandra Security<a href="#cassandra-security" class="hash-link" aria-label="Direkte lenke tilCassandra Security" title="Direkte lenke tilCassandra Security" translate="no">​</a></h4>
<p>Se <a href="https://cassandra.apache.org/doc/latest/operating/security.html" target="_blank" rel="noopener noreferrer" class="">Sikre Cassandra</a></p>
<p>Når du jobber med Cassandra, må du gjøre ting så trygt og sikkert som mulig for å unngå å tillate en skadelig bruker å skade Cassandra eller få tilgang til data de ikke bør ha tilgang til. ERDDAP™ Forsøker å gjøre ting på en sikker måte.</p>
<ul>
<li class="">Vi oppfordrer deg til å sette opp ERDDAP™ å koble til Cassandra som Cassandra bruker som bare har tilgang til <strong>relevant</strong> tabell (s) Og bare har lese privilegier.</li>
<li class="">Vi oppfordrer deg til å etablere forbindelsen fra ERDDAP™ til Cassandra slik at det<!-- -->
<ul>
<li class="">bruker alltid SSL,</li>
<li class="">kun tillater tilkoblinger fra én IP-adresse (eller en blokk av adresser) fra den ERDDAP™ bruker og</li>
<li class="">Bare overføre passord i deres MD5 hashed form.</li>
</ul>
</li>
<li class="">\[ Kunn problem \] Tilkoblingsegenskaper (Inkluderer passordet!) blir lagret som vanlig tekst i datasets.xml .. Vi har ikke funnet en måte å la administratoren skrive inn Cassandra-passordet på under ERDDAP oppstart i Tomcat (som forekommer uten brukerinngang) , så passordet må være tilgjengelig i en fil. For å gjøre dette sikrere:</li>
<li class="">Du (den ERDDAP™ administrator) Bør være eier av datasets.xml og har lese og skrive tilgang.</li>
<li class="">Lag en gruppe som bare inneholder bruker=tomcat. Bruk chgrp for å gjøre det gruppen til datasets.xml Med bare lese privilegier.</li>
<li class="">Bruk chmod til å tildele o-rwx-privilegier (ingen LES eller WRITE-tilgang for andre brukere) for datasets.xml ..</li>
<li class="">Når i ERDDAP™ , passord og andre tilkoblingsegenskaper lagres i &quot;privat&quot; Java Variabler.</li>
<li class="">Forespørsler fra kunder tolkes og kontrolleres for gyldighet før du genererer CQL-forespørsler for Cassandra.</li>
<li class="">Anmodninger til Cassandra er laget med CQL Bound/PreparedStatements, for å hindre CQL injeksjon. I alle tilfeller er Cassandra iboende mindre utsatt for CQL injeksjon enn tradisjonelle databaser er å <a href="https://en.wikipedia.org/wiki/SQL_injection" target="_blank" rel="noopener noreferrer" class="">SQL injeksjon</a> ..
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-speed">Cassandra Speed<a href="#cassandra-speed" class="hash-link" aria-label="Direkte lenke tilCassandra Speed" title="Direkte lenke tilCassandra Speed" translate="no">​</a></h4>
<p>Cassandra kan være rask eller langsom. Det er noen ting du kan gjøre for å gjøre det raskt:</p>
<ul>
<li class="">Generelt -
CQLs natur er at spørsmål er <a href="https://en.wikipedia.org/wiki/Declarative_programming" target="_blank" rel="noopener noreferrer" class="">Deklarativ</a> .. De angir bare hva brukeren vil. De inneholder ikke en spesifikasjon eller hint for hvordan spørringen skal håndteres eller optimaliseres. Så det er ingen måte for ERDDAP™ å generere spørringen på en slik måte at det hjelper Cassandra å optimalisere spørsmålet (eller på noen måte angir hvordan spørringen skal håndteres) .. Generelt er det opp til Cassandra administrator å sette opp ting (For eksempel indekser) å optimalisere visse typer spørsmål.
 </li>
<li class="">Angi tidsstempelkolonner som er relatert til grovere presisjon tidsstempelpartisjonsnøkler via [&lt;partisjon NøkkelkildeNames&gt;] (#partitionkeysourcenames) Den viktigste måten å hjelpe på ERDDAP™ Arbeid effektivt med Cassandra. Hvis dette forholdet eksisterer i et Cassandra bord og du ikke forteller ERDDAP™ Datasettet vil være smertefullt sakte i ERDDAP™ Bruk massevis av Cassandra-ressurser.
 </li>
<li class="">Oppgi klyngekolonner via [&lt;clusterColumnSourceNames&gt;] (#clustercolumnsourcenames) Den nest viktigste måten å hjelpe på ERDDAP™ Arbeid effektivt med Cassandra. Hvis det er klyngekolonner og du ikke forteller ERDDAP , vil en stor undergruppe av de mulige spørsmålene om data være nødvendig, smertefullt sakte i ERDDAP™ Bruk massevis av Cassandra-ressurser.
 </li>
<li class="">Lage <a href="https://cassandra.apache.org/doc/latest/cql/indexes.html" target="_blank" rel="noopener noreferrer" class="">Indekser</a> For vanlige begrensede variabler -
Du kan fremskynde noen spørsmål ved å opprette indekser for Cassandra-kolonner som ofte er begrenset med -= - begrensninger.</li>
</ul>
<p>Cassandra kan ikke lage indekser for liste, sett eller kartkolonner.</p>
<ul>
<li class="">Oppgi indekskolonner via [&lt;indeksColumnSourceNames&gt;] (#indexcolumnsourcenames) En viktig måte å hjelpe på ERDDAP™ Arbeid effektivt med Cassandra. Hvis det er indekskolonner og du ikke forteller ERDDAP Noen spørsmål om data vil være nødvendig, smertefullt sakte i ERDDAP™ Bruk massevis av Cassandra-ressurser.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-stats">Cassandra Stats<a href="#cassandra-stats" class="hash-link" aria-label="Direkte lenke tilCassandra Stats" title="Direkte lenke tilCassandra Stats" translate="no">​</a></h4>
<ul>
<li class=""><a href="#cassandra-stats" class="">&quot; Cassandra statistikk&quot; Diagnostiske meldinger</a> -- For alle ERDDAP™ brukerforespørsel til et Cassandra datasett, ERDDAP™ vil skrive ut en linje i loggfilen, <em>bigParentDirectory</em> /logs/log.txt, med noen statistikk relatert til spørringen, for eksempel,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        \\* Cassandra stats: partitionKeyTable: 2/10000=2e-4 &lt; 0.1 nCassRows=1200 nErddapRows=12000 nRowsToUser=7405  </span><br></span></code></pre></div></div>
<p>Ved å bruke tallene i eksemplet ovenfor betyr dette:</p>
<ul>
<li class="">Når ERDDAP™ siste (re) lastet dette datasettet, Cassandra fortalte ERDDAP™ det var 10000 forskjellige kombinasjoner av partisjonsnøkler. ERDDAP™ cache alle de forskjellige kombinasjonene i en fil.</li>
<li class="">På grunn av brukerens begrensninger, ERDDAP™ identifiserte 2 kombinasjoner ut av 10000 som kan ha de ønskede data. Så, ERDDAP™ vil gjøre 2 samtaler til Cassandra, en for hver kombinasjon av partisjonstastene. (Det er det Cassandra krever.) Selvfølgelig er det vanskelig hvis et stort datasett har et stort antall kombinasjoner av partisjonsnøkler og en gitt forespørsel reduserer ikke det drastisk. Du kan kreve at hver forespørsel reduserer nøkkelplassen ved å angi [&lt;maxRequestFraction&gt;] (#maxrequestfraction) .. Her er 2-0000 = 2e-4, som er mindre enn maxRequestFraction (0.1) Forespørselen var derfor tillatt.</li>
<li class="">Etter å ha brukt begrensninger på partisjonsnøkler, <a href="#clustercolumnsourcenames" class="">klyngekolonner</a> , og <a href="#indexcolumnsourcenames" class="">indekskolonner</a> som ble sendt av ERDDAP™ , Cassandra returnerte 1200 rekker data til ERDDAP™ i resultatsettet.</li>
<li class="">Resultatene Sett må ha hatt <a href="#cassandra-datatypes" class="">Data Type= <em>en eller annen type</em> Liste</a> kolonner (Med et gjennomsnitt på 10 elementer per liste) fordi ERDDAP™ utvidet 1200 rader fra Cassandra til 12000 rader i ERDDAP ..</li>
<li class="">ERDDAP™ Bruk alltid alle brukerens begrensninger på dataene fra Cassandra. I dette tilfellet, begrensninger som Cassandra ikke hadde håndtert redusert antall rader til 7405. Det er antall rader som sendes til brukeren.</li>
</ul>
<p>Den viktigste bruken av disse diagnostiske meldingene er å sikre at ERDDAP™ Gjør det du tror det gjør. Hvis det ikke er (For eksempel, reduserer det ikke antall forskjellige kombinasjoner som forventet?) Da kan du bruke informasjonen til å prøve å finne ut hva som går galt.
 </p>
<ul>
<li class="">Forskning og eksperiment for å finne og sette bedre [&lt;tilkoblingProperty&gt;] (#cassandra-forbindelseproperty) -S.
 </li>
<li class="">Sjekk hastigheten på nettverksforbindelsen mellom Cassandra og ERDDAP .. Hvis tilkoblingen er langsom, se om du kan forbedre den. Den beste situasjonen er når ERDDAP™ kjører på en server som er knyttet til den samme (raskt) bryter som serveren som kjører Cassandra noden som du kobler til.
 </li>
<li class="">Vær tålmodig. Les informasjonen her og i Cassandra-dokumentasjonen nøye. Eksperiment. Sjekk arbeidet ditt. Hvis Cassandra- ERDDAP™ tilkoblingen er fortsatt langsommere enn du forventer, vennligst ta med Cassandra-bordets skjema og ditt ERDDAP™ deler av datasets.xml se vår <a class="" href="/nb/docs/intro#support">Seksjon om å få ekstra støtte</a> ..
 </li>
<li class="">Hvis alt annet mislykkes,
å lagre dataene i en samling av NetCDF v3 .nc filer (spesielt .nc filer som bruker <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Diskret prøvetakingsgeometri (DSG) </a> Contiguous Tagge Array datastrukturer og så kan håndteres med ERDDAP &#x27;s <a href="#eddtablefromnccffiles" class="">EDDTableFraNcCFFiler</a> ) .. Hvis de er logisk organisert (hver med data for en bit plass og tid) , ERDDAP™ kan raskt trekke ut data fra dem.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromcassandra-skeleton-xml">EDDTableFra Cassandra skjelett XML<a href="#eddtablefromcassandra-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDTableFra Cassandra skjelett XML" title="Direkte lenke tilEDDTableFra Cassandra skjelett XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromCassandra&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;ipAddress&gt;</a>...&lt;/ipAddress&gt;<br>
<!-- -->        &lt;!-- The Cassandra URL without the port number, for example,<br>
<!-- -->        127.0.0.1 REQUIRED. --&gt;<br>
<!-- -->      &lt;<a href="#cassandra-connectionproperty" class="">connectionProperty</a> name=&quot;<em>name</em>&quot;&gt;<em>value</em>&lt;/connectionProperty&gt;<br>
<!-- -->        &lt;!-- The names (for example, &quot;readTimeoutMillis&quot;) and values<br>
<!-- -->          of the Cassandra properties that ERDDAP™ needs to change.<br>
<!-- -->          0 or more. --&gt;<br>
<!-- -->      &lt;keyspace&gt;...&lt;/keyspace&gt; &lt;!-- The name of the keyspace that has<br>
<!-- -->        the table. REQUIRED. --&gt;<br>
<!-- -->      &lt;tableName&gt;...&lt;/tableName&gt; &lt;!-- The name of the table, default = &quot;&quot;.<br>
<!-- -->        REQUIRED. --&gt;<br>
<!-- -->      <a href="#partitionkeysourcenames" class="">&lt;partitionKeySourceNames&gt;</a>...&lt;partitionKeySourceNames&gt;<br>
<!-- -->        &lt;!-- REQUIRED. --&gt;<br>
<!-- -->      <a href="#clustercolumnsourcenames" class="">&lt;clusterColumnSourceNames&gt;</a>...&lt;clusterColumnSourceNames&gt;<br>
<!-- -->        &lt;!-- OPTIONAL. --&gt;<br>
<!-- -->      <a href="#indexcolumnsourcenames" class="">&lt;indexColumnSourceNames&gt;</a>...&lt;indexColumnSourceNames&gt; &lt;!-- OPTIONAL. --&gt;<br>
<!-- -->      <a href="#maxrequestfraction" class="">&lt;maxRequestFraction&gt;</a>...&lt;maxRequestFraction&gt;<br>
<!-- -->        &lt;!-- OPTIONAL double between 1e-10 and 1 (the default). --&gt;<br>
<!-- -->      <a href="#case-sensitivity" class="">&lt;columnNameQuotes&gt;</a>...&lt;columnNameQuotes&gt; &lt;!-- OPTIONAL.<br>
<!-- -->        Options: \[nothing\] (the default) or &quot;. --&gt;<br>
<!-- -->      <a href="#sourceneedsexpandedfp_eq" class="">&lt;sourceNeedsExpandedFP\_EQ&gt;</a>true(default)|false&lt;/sourceNeedsExpandedFP\_EQ&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more.<br>
<!-- -->         Each dataVariable MUST include a <a href="#datatype" class="">&lt;dataType&gt;</a> tag. See<br>
<!-- -->           <a href="#cassandra-datatypes" class="">Cassandra DataTypes</a>.<br>
<!-- -->         For <a href="#cassandra-timestamp-data" class="">Cassandra timestamp columns</a>, set dataType=double and<br>
<!-- -->         units=seconds since 1970-01-01T00:00:00Z --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromdapsequence">EDDTableFra DapSekvens<a href="#eddtablefromdapsequence" class="hash-link" aria-label="Direkte lenke tilEDDTableFra DapSekvens" title="Direkte lenke tilEDDTableFra DapSekvens" translate="no">​</a></h3>
<p><a href="#eddtablefromdapsequence" class=""> <strong>EDDTableFra DapSekvens</strong> </a> håndterer variabler innenfor 1- og 2-nivå sekvenser fra <a href="https://www.opendap.org/" target="_blank" rel="noopener noreferrer" class=""> DAP </a> servere som DAP PER (var på<a href="https://www.pmel.noaa.gov/epic/software/dapper/N%C3%A5" target="_blank" rel="noopener noreferrer" class="">https://www.pmel.noaa.gov/epic/software/dapper/Nå</a> avsluttet) ..</p>
<ul>
<li class="">
<p>Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. Deretter kan du redigere det for å finjustere det. Du kan samle inn informasjonen du trenger ved å se på kildedatasettets DDS- og DAS-filer i nettleseren din (ved å legge til .das og .dds til den sourceUrl (Et eksempel varhttps://dapper.pmel.noaa.gov/dapper/epic/tao\_time\_series.cdp.dds).</p>
</li>
<li class="">
<p>En variabel er i en DAP sekvens hvis .dds-responsen indikerer at datastrukturen som holder variabelen, er en &quot;sekvens&quot; (tilfelle ufølsom) ..</p>
</li>
<li class="">
<p>I noen tilfeller vil du se en sekvens i en sekvens, en 2-nivå sekvens -- EDDTableFromDapSequence håndterer disse også.</p>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromdapsequence-skeleton-xml">EDDTableFra DapSekvens skjelett XML<a href="#eddtablefromdapsequence-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDTableFra DapSekvens skjelett XML" title="Direkte lenke tilEDDTableFra DapSekvens skjelett XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromDapSequence&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;outerSequenceName&gt;...&lt;/outerSequenceName&gt;<br>
<!-- -->        &lt;!-- The name of the outer sequence for DAP sequence data.<br>
<!-- -->        This tag is REQUIRED. --&gt;<br>
<!-- -->      &lt;innerSequenceName&gt;...&lt;/innerSequenceName&gt;<br>
<!-- -->        &lt;!-- The name of the inner sequence for DAP sequence data.<br>
<!-- -->        This tag is OPTIONAL; use it if the DAP data is a two level<br>
<!-- -->        sequence. --&gt;<br>
<!-- -->      <a href="#sourceneedsexpandedfp_eq" class="">&lt;sourceNeedsExpandedFP\_EQ&gt;</a>true(default)|false&lt;/sourceNeedsExpandedFP\_EQ&gt;<br>
<!-- -->      <a href="#sourcecanconstrainstringeqne" class="">&lt;sourceCanConstrainStringEQNE&gt;</a>true|false&lt;/sourceCanConstrainStringEQNE&gt;<br>
<!-- -->      <a href="#sourcecanconstrainstringgtlt" class="">&lt;sourceCanConstrainStringGTLT&gt;</a>true|false&lt;/sourceCanConstrainStringGTLT&gt;<br>
<!-- -->      <a href="#sourcecanconstrainstringregex" class="">&lt;sourceCanConstrainStringRegex&gt;</a>...&lt;/sourceCanConstrainStringRegex&gt;<br>
<!-- -->      &lt;skipDapperSpacerRows&gt;...&lt;/skipDapperSpacerRows&gt;<br>
<!-- -->        &lt;!-- skipDapperSpacerRows specifies whether the dataset<br>
<!-- -->        will skip the last row of each innerSequence other than the<br>
<!-- -->        last innerSequence (because Dapper servers put NaNs in the<br>
<!-- -->        row to act as a spacer).  This tag is OPTIONAL. The default<br>
<!-- -->        is false.  It is recommended that you set this to true for<br>
<!-- -->        all Dapper sources and false for all other data sources. --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->    &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromdatabase">EDDTableFraDatabase<a href="#eddtablefromdatabase" class="hash-link" aria-label="Direkte lenke tilEDDTableFraDatabase" title="Direkte lenke tilEDDTableFraDatabase" translate="no">​</a></h3>
<p><a href="#eddtablefromdatabase" class=""> <strong>EDDTableFraDatabase</strong> </a> håndtere data fra én relasjonell databasetabell eller <a href="https://en.wikipedia.org/wiki/View_(database)" target="_blank" rel="noopener noreferrer" class="">visning</a>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="one-table-or-view">Ett bord eller Vis<a href="#one-table-or-view" class="hash-link" aria-label="Direkte lenke tilEtt bord eller Vis" title="Direkte lenke tilEtt bord eller Vis" translate="no">​</a></h4>
<p>Hvis dataene du vil betjene er i to eller flere tabeller (og dermed trenger en EKSF for å trekke ut data fra begge tabeller samtidig) Du må lage en <a href="https://en.wikipedia.org/wiki/Denormalization" target="_blank" rel="noopener noreferrer" class="">denormalisert</a>   (allerede sluttet) tabell eller <a href="https://en.wikipedia.org/wiki/View_(SQL)" target="_blank" rel="noopener noreferrer" class="">visning</a> med alle data som du vil gjøre tilgjengelig som ett datasett i ERDDAP ..</p>
<p>For store, komplekse databaser kan det være fornuftig å skille ut flere deler som denormaliserte tabeller, hver med en annen type data, som vil bli separate datasett i ERDDAP ..</p>
<p>Lage en denormalisert tabell for bruk i ERDDAP™ Det kan høres ut som en gal idé for deg. Stol på oss. Det er flere grunner til hvorfor ERDDAP™ jobber med denormaliserte tabeller:</p>
<ul>
<li class="">Det er mye lettere for brukerne.
Når ERDDAP™ presenterer datasett som ett, enkelt, denormalisert, enkelt bord, det er veldig enkelt for alle å forstå dataene. De fleste brukere har aldri hørt om normaliserte tabeller, og svært få forstår nøkler, utenlandske nøkler eller tabellen slutter seg til, og de nesten sikkert ikke vet detaljene i de ulike typene av koblinger, eller hvordan å spesifisere SQL å gjøre en kobling (eller flere medlemmer) Riktig. Ved hjelp av en denormalisert tabell unngås alle disse problemene. Denne grunnen alene rettferdiggjør bruken av en denormalisert enkelttabell for presentasjon av et datasett til ERDDAP™ brukere.
 </li>
<li class="">Normaliserte tabeller (flere tabeller relatert til nøkkelkolonner) Det er bra å lagre data i en database.
Men selv i SQL er resultatet som returneres til brukeren en denormalisert (ble medlem) enkelt bord. Så det virker rimelig å presentere datasettet til brukerne som en enorm, denormalisert, enkelt tabell som de så kan be om undergrupper fra (For eksempel, vis meg rader i tabellen der temperaturen&gt; 30) ..
 </li>
<li class="">Du kan gjøre endringer for ERDDAP™ uten å endre tabellene dine.
ERDDAP™ har noen krav som kan være forskjellig fra hvordan du har opprettet databasen din.
For eksempel ERDDAP™ krever at tidsstempledata lagres i «tidstemple med tidssone».
Ved å lage en separat tabell/visning for ERDDAP™ , kan du gjøre disse endringene når du gjør det denormaliserte tabellen for ERDDAP .. Derfor trenger du ikke å gjøre noen endringer i tabellene dine.
 </li>
<li class="">ERDDAP™ vil gjenskape noen av strukturen i normaliserte tabeller.
Du kan angi hvilke kolonner av data som kommer fra «outer»-tabellene og dermed ha et begrenset antall forskjellige verdier. ERDDAP™ vil samle alle de forskjellige kombinasjonene av verdier i disse kolonnene og presentere dem for brukere på en spesiell . undergruppe nettside som hjelper brukere raskt velge undergrupper av datasettet. De forskjellige verdiene for hver kolonne er også vist i nedtrekkslistene på datasettets andre nettsider.
 </li>
<li class="">En denormalisert tabell gjør datahånd-off fra deg til ERDDAP administrator enkelt.
Du er ekspert for dette datasettet, så det er fornuftig at du tar beslutninger om hvilke tabeller og hvilke kolonner å bli med og hvordan du skal bli med dem. Så du trenger ikke gi oss (Eller verre, sluttbrukere) flere tabeller og detaljerte instruksjoner for hvordan du skal bli med dem, må du bare gi oss tilgang til det denormaliserte tabellen.
 </li>
<li class="">En denormalisert tabell gir effektiv tilgang til dataene.
Den avnormaliserte formen er vanligvis raskere å få tilgang til enn den normale formen. Bli med kan være sakte. Flere sammenslutninger kan være svært langsomme.
 </li>
</ul>
<p>For å få data fra to eller flere tabeller i databasen til ERDDAP™ Det er tre alternativer:
 </p>
<ul>
<li class="">Anbefalt alternativ:
Du kan opprette en komma- eller fanedelt verdifil med data fra den denormaliserte tabellen.
Hvis datasettet er stort, så det er fornuftig å lage flere filer, hver med en kohesiv undergruppe av den avnormaliserte tabellen (For eksempel data fra et mindre tidsområde) ..</li>
</ul>
<p>Den store fordelen her er at ERDDAP™ vil kunne håndtere brukerforespørsler om data uten ytterligere innsats fra databasen din. Så ERDDAP™ vil ikke være en byrde på databasen eller en sikkerhetsrisiko. Dette er det beste alternativet under nesten alle omstendigheter fordi ERDDAP™ kan vanligvis få data fra filer raskere enn fra en database (hvis vi konverterer .csv-filene til .nc CF-filer) .. (En del av grunnen er at ERDDAP +filer er et lesebeskyttet system og trenger ikke å håndtere endringer mens du gir <a href="https://en.wikipedia.org/wiki/ACID" target="_blank" rel="noopener noreferrer" class="">ACID</a>   (Atomisitet, Konsistens, Isolasjon, holdbarhet) ..) Du trenger sannsynligvis ikke en egen server siden vi kan lagre dataene på en av våre RAIDer og få tilgang til det med en eksisterende ERDDAP™ på en eksisterende server.</p>
<ul>
<li class="">Ok alternativ:
Du konfigurerer en ny database på en annen datamaskin med bare det denormaliserte tabellen.
Siden den databasen kan være en gratis og åpen kildekode-database som MariaDB, MySQL og PostgreSQL, trenger dette alternativet ikke å koste mye.</li>
</ul>
<p>Den store fordelen her er at ERDDAP™ vil kunne håndtere brukerforespørsler om data uten ytterligere innsats fra din nåværende database. Så ERDDAP™ vil ikke være en byrde på din nåværende database. Dette eliminerer også mange sikkerhetsproblemer siden ERDDAP™ vil ikke ha tilgang til din nåværende database.</p>
<ul>
<li class="">
<p>Discourated alternativ:
Vi kan koble til ERDDAP™ til din nåværende database.
For å gjøre dette må du:</p>
<ul>
<li class="">Opprett en separat tabell eller visning med den denormaliserte tabellen over data.</li>
<li class="">Opprett en bruker som kun har tilgang til den denormaliserte tabellen. (s) ..
 </li>
</ul>
</li>
</ul>
<p>Dette er et alternativ hvis dataene endres svært ofte og du vil gi ERDDAP™ brukere øyeblikkelig tilgang til disse endringene; Men selv om det kan være fornuftig å bruke filalternativet ovenfor og periodisk (Hvert 30. minutt?) erstatte filen som har dagens data.
De store ulempene ved denne tilnærmingen er at ERDDAP™ brukerforespørsler vil sannsynligvis plassere en utholdelig stor byrde på databasen din og at ERDDAP™ Tilkobling er en sikkerhetsrisiko (Selv om vi kan minimere / administrere risikoen) ..</p>
<p>Gjør den denormaliserte tabellen eller visningen til ERDDAP™ En god mulighet til å gjøre noen endringer som ERDDAP™ trenger, på en måte som ikke påvirker dine opprinnelige tabeller:</p>
<ul>
<li class="">Endre dato og tidsstempelfelt/kolonner for å bruke dataType som Postgres ringer <a href="#database-date-time-data" class="">tidsstempel med tidssone</a>   (eller tilsvarende i databasen din) ..
Tidsstempler uten tidssoneinformasjon fungerer ikke riktig i ERDDAP ..</li>
<li class="">Lag indekser for kolonnene som brukerne ofte søker.</li>
<li class="">Vær veldig oppmerksom på <a href="#quotes-for-names-and-case-sensitivity" class="">tilfellet med felt/kolonnenavn</a>   (For eksempel bruk alle små bokstaver) Når du skriver dem.</li>
<li class="">Ikke bruk reserverte ord for tabellen og for felt/kolonnenavn.</li>
</ul>
<p>Hvis du trenger hjelp med å lage den denormaliserte tabellen eller visningen, vennligst kontakt din databaseadministrator.
Hvis du ønsker å snakke om hele denne tilnærmingen eller streifere hvordan du best kan gjøre det, vennligst send en e-post til Chris. John på noaa.gov.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="database-in-datasetsxml">database i datasets.xml<a href="#database-in-datasetsxml" class="hash-link" aria-label="Direkte lenke tildatabase i datasets.xml" title="Direkte lenke tildatabase i datasets.xml" translate="no">​</a></h4>
<p>Det er vanskelig å skape riktig datasets.xml opplysninger som trengs for ERDDAP™ å etablere en tilkobling til databasen. Vær tålmodig. Vær metodisk.</p>
<ul>
<li class="">Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. Deretter kan du redigere det for å finjustere det.</li>
</ul>
<p>Opprett datasett Xml har tre spesialalternativer for EDDTableFromDatabase:</p>
<ol>
<li class="">Hvis du kommer inn -!!!! (Uten sitater) for katalognavnet vil programmet vise en liste over katalognavnene.</li>
<li class="">Hvis du kommer inn -!!!! (Uten sitater) For skjemanavnet vil programmet vise en liste over skjemanavnene.</li>
<li class="">Hvis du kommer inn -!!!! (Uten sitater) for tabellnavnet, vil programmet vise en liste over tabeller og kolonner. Den første -!!!!!!!! - oppføring som du gjør er den som vil bli brukt.</li>
</ol>
<ul>
<li class="">Les nøye all informasjon om EDDTableFromDatabase.</li>
<li class="">Du kan samle det meste av informasjonen du trenger for å opprette XML for et EDDTableFromDatabase-datasett ved å kontakte databaseadministratoren og ved å søke på nettet.</li>
<li class="">Selv om databaser ofte behandler kolonnenavn og tabellnavn på en kase-ufølsom måte, er de saksfølsomme i ERDDAP .. Så hvis en feilmelding fra databasen sier at et kolonnenavn er ukjent (For eksempel &quot;Ukjent identifikator= &quot; <em>kolonne\_navn</em> &#x27;&quot;) Selv om du vet det eksisterer, prøv å bruke alle hovedsteder, for eksempel, <em>KOLONN\_NAMN</em> , som ofte er den sanne, saksfølsomme versjonen av kolonnenavnet.</li>
<li class="">Arbeid tett med databaseadministratoren, som kan ha relevant erfaring. Hvis datasettet ikke lastes, leses <a href="#troubleshooting-tips" class="">feilmelding</a> nøye for å finne ut hvorfor.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="jdbc-driver">JDBC driver<a href="#jdbc-driver" class="hash-link" aria-label="Direkte lenke tilJDBC driver" title="Direkte lenke tilJDBC driver" translate="no">​</a></h4>
<ul>
<li class="">
<p>[JDBC driver og&lt;driverName&gt;] (#jdbc-driver) -- Du må få riktig JDBC 3 eller JDBC 4 driver .jar fil for databasen din og
Legg den i <em>tomcat</em> /webapps/erddap/WEB-INF/lib etter at du har installert ERDDAP .. Så i din datasets.xml For dette datasettet må du angi&lt;driverName&gt; for denne driveren, som er (Dessverre) forskjellig fra navnet. Søk på nettet etter JDBC-driveren for databasen og driverenName Java Må bruke den.</p>
<ul>
<li class="">For MariaDB, prøv <a href="https://mariadb.com/kb/en/about-the-mariadb-java-client/" target="_blank" rel="noopener noreferrer" class="">https://mariadb.com/kb/en/about-the-mariadb-java-client/</a><br>
<!-- -->Den&lt;driverName&gt; å bruke i datasets.xml   (Se nedenfor) er sannsynligvis org.mariadb.jdbc. Fører.</li>
<li class="">For MySQL og Amazon RDS, prøv <a href="https://dev.mysql.com/downloads/connector/j/" target="_blank" rel="noopener noreferrer" class="">https://dev.mysql.com/downloads/connector/j/</a><br>
<!-- -->Den&lt;driverName&gt; å bruke i datasets.xml   (Se nedenfor) er sannsynligvis com.mysql.jdbc. Fører.</li>
<li class="">For Oracle , prøve <a href="https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html" target="_blank" rel="noopener noreferrer" class="">https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html</a> ..
Den&lt;driverName&gt; å bruke i datasets.xml   (Se nedenfor) er sannsynligvis orakel.jdbc.driver. Oracle Fører.</li>
<li class="">For Postgresql fikk vi JDBC 4-driveren fra <a href="https://mvnrepository.com/artifact/org.postgresql/postgresql" target="_blank" rel="noopener noreferrer" class="">https://mvnrepository.com/artifact/org.postgresql/postgresql</a><br>
<!-- -->Den&lt;driverName&gt; å bruke i datasets.xml   (Se nedenfor) Det er nok org.postgresql. Fører.</li>
<li class="">For SQL Server kan du få JTDS JDBC-driveren fra <a href="https://jtds.sourceforge.net" target="_blank" rel="noopener noreferrer" class="">https://jtds.sourceforge.net</a> ..
Den&lt;driverName&gt; å bruke i datasets.xml   (Se nedenfor) er sannsynligvis net.sourceforge.jtds.jdbc. Fører.</li>
</ul>
</li>
</ul>
<p>Etter at du har satt JDBC-sjåfør .jar i ERDDAP™ lib katalog, du må legge til en referanse til den .jar-filen i .bat og/eller .sh-skriptfiler for Genererer Datasett Xml, DasDds og ArchiveADatasett som er i <em>tomcat</em> /webapps/erddap/WEB-INF/-katalogen; ellers får du en klasseNotFoundException når du kjører disse skriptene.</p>
<p>Dessverre er JDBC noen ganger kilden til problemer. I sin rolle som mellommann mellom ERDDAP™ og databasen gjør det noen ganger subtile endringer i standard/generisk database SQL-forespørsel som ERDDAP™ skaper dermed problemer (For eksempel relatert til <a href="#quotes-for-names-and-case-sensitivity" class="">øvre/små identifikatorer</a> og relatert til <a href="#database-date-time-data" class="">dato/tid tidssoner</a> ) .. Vennligst vær tålmodig, les informasjonen her nøye, sjekk arbeidet ditt og se vår <a class="" href="/nb/docs/intro#support">Seksjon om å få ekstra støtte</a> ..</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="database-connectionproperty">Database&lt;tilkobling Eiendom &gt;<a href="#database-connectionproperty" class="hash-link" aria-label="Direkte lenke tilDatabase&lt;tilkobling Eiendom &gt;" title="Direkte lenke tilDatabase&lt;tilkobling Eiendom &gt;" translate="no">​</a></h4>
<ul>
<li class="">[&lt;tilkoblingProperty&gt;] (#database-connectionproperty) -- I datasets.xml For datasettet må du definere flere forbindelser Eiendomsmerker å fortelle ERDDAP™ Hvordan koble til databasen din (for eksempel å angi brukernavn, passord, ssl-tilkobling og <a href="#set-the-fetch-size" class="">Hente størrelse</a> ) .. Dette er forskjellig for alle situasjoner og er litt vanskelig å finne ut. Søk på nettet etter eksempler på å bruke en JDBC-driver til å koble til databasen din. Den&lt;tilkoblingProperty&gt; navn (For eksempel bruker &quot; passord&quot;, og &quot;ssl&quot;) , og noen av tilkoblingsverdiene kan bli funnet ved å søke på nettet for &quot;JDBC-tilkoblingsegenskaper <em>database Type</em> &quot; (For eksempel Oracle , MySQL, Amazon RDS, MariaDB, PostgreSQL) ..
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="quotes-for-names-and-case-sensitivity">Navn og saksfølsomhet<a href="#quotes-for-names-and-case-sensitivity" class="hash-link" aria-label="Direkte lenke tilNavn og saksfølsomhet" title="Direkte lenke tilNavn og saksfølsomhet" translate="no">​</a></h4>
<ul>
<li class=""><a href="#quotes-for-names-and-case-sensitivity" class="">Sitater om felt/kolumnnavn; Case Sensitivity</a> - Som standard setter EDDTableFromDatabase ANSI-SQL-standard dobbel sitater rundt felt/kolonnenavn i SELECT-uttrykk i tilfelle du har brukt et reservert ord som et felt/kolonnenavn, eller et spesielt tegn i et felt/kolonnenavn. De dobbelte sitatene hindrer også visse typer SQL injeksjonsangrep. Du kan fortelle ERDDAP™ å bruke &quot; eller ingen sitater via&lt;kolonneName i datasets.xml For dette datasettet.</li>
</ul>
<p>For mange databaser får bruk av alle typer sitater databasen til å arbeide med felt/kolonnenavn på en saksfølsom måte (i stedet for standarddatabasen tilfelle ufølsom måte) .. Databaser viser ofte fil-/kolonnenavn som alle store bokstaver, når det i virkeligheten er annerledes i tilfelle sensitiv form. I ERDDAP™ , vennligst alltid behandle database kolonnenavn som tilfelle sensitiv.</p>
<ul>
<li class="">For Maria DB, du må kjøre databasen med <a href="https://mariadb.com/kb/en/mysql-command-line-client/" target="_blank" rel="noopener noreferrer" class="">\--sql-mode=ANSI\_QUOTES</a> ..</li>
<li class="">For MySQL og Amazon RDS må du kjøre databasen med <a href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ansi_quotes" target="_blank" rel="noopener noreferrer" class="">\--sql-mode=ANSI\_QUOTES</a> ..</li>
<li class="">Oracle støtter ANSI-SQL-standard doble sitater <a href="https://docs.oracle.com/database/121/SQLRF/sql_elements008.htm#SQLRF00223" target="_blank" rel="noopener noreferrer" class="">som standard</a> ..</li>
<li class="">PostgreSQL støtter ANSI-SQL-standard dobbel sitater som standard.</li>
</ul>
<p>Ikke bruk et reservert ord for en database, katalog, skjema eller tabellnavn. ERDDAP™ Ikke sett sitater rundt dem.</p>
<p>Hvis det er mulig, bruk alle små bokstavar for database, katalog, skjema, tabellnavn og feltnavn når du oppretter databasetabellen (eller visning) og når det refereres til felt/kolonnenavn i datasets.xml i ERDDAP .. Ellers kan du få en feilmelding som sier at databasen, katalogen, skjemaet, tabellen og/eller feltet ikke ble funnet. Hvis du får den feilmeldingen, prøv å bruke den saksfølsomme versjonen, alle store tilfellers versjon og alle små bokstavars versjon av navnet i ERDDAP .. En av dem kan jobbe. Hvis ikke, må du endre navnet på databasen, katalog, skjema og/eller tabell til alle små bokstaver.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="database-datatype">Database&lt;Data Type &gt;<a href="#database-datatype" class="hash-link" aria-label="Direkte lenke tilDatabase&lt;Data Type &gt;" title="Direkte lenke tilDatabase&lt;Data Type &gt;" translate="no">​</a></h4>
<ul>
<li class=""><a href="#database-datatype" class="">Database</a> [&lt;dataType&gt;] (#datatype) Tags-- Fordi det er noe tvetydig om hvem <a href="https://www.w3schools.com/sql/sql_datatypes_general.asp" target="_blank" rel="noopener noreferrer" class="">databasedatatyper</a> Kart som ERDDAP™ Datatyper, må du angi en [&lt;dataType&gt;] (#datatype) Tagg for hver [&lt; dataVariable &gt;] (#datavariable) å fortelle ERDDAP™ hvilken datatype som skal brukes. En del av problemet er at ulike datasett bruker forskjellige termer for de ulike datatypene - så alltid prøver å matche definisjonene, ikke bare navnene. Se beskrivelsen av <a href="#data-types" class="">standard ERDDAP™ Data Typer</a> , som inkluderer referanser til de tilsvarende SQL-datatypene. <a href="#database-date-time-data" class="">Dato og tidsstempel</a> er spesielle tilfeller: bruk ERDDAP dobbeltdata Type.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="database-date-time-data">Data fra databasedato<a href="#database-date-time-data" class="hash-link" aria-label="Direkte lenke tilData fra databasedato" title="Direkte lenke tilData fra databasedato" translate="no">​</a></h4>
<p>Noen databasedatotidskolonner har ingen eksplisitt tidssone. Slike kolonner er problemer for ERDDAP .. Databaser støtter konseptet om en dato (Med eller uten tid) uten tidssone, som et omtrentlig tidsområde. Men Java   (og dermed ERDDAP ) Bare omhandler øyeblikkelig dato+tider med en tidssone. Så du kan vite at datotidsdata er basert på en lokal tidssone (med eller uten dagstid) eller GMT/ Zulu tidssone, men Java   (og ERDDAP ) Ikke gjør det. Vi trodde vi kunne jobbe rundt dette problemet. (f.eks. ved å angi en tidssone for kolonnen) , men databasen + JDBC+ Java Interaksjoner gjorde dette til en upålitelig løsning.</p>
<ul>
<li class="">Så, ERDDAP™ krever at du lagrer alle dato- og datodata i databasetabellen med en databasedatatype som tilsvarer JDBC-typen &quot; tidsstempel med tidssone&quot; (ideelt, som bruker GMT / Zulu Tidssone) ..</li>
<li class="">I ERDDAP &#x27;s datasets.xml i&lt; dataVariable &gt; tag for en tidsstempelvariabel, sett<!-- -->
<blockquote>
<p>  <a href="#datatype" class="">&lt;dataType&gt;double&lt;/dataType&gt;</a></p>
</blockquote>
</li>
</ul>
<p>og i&lt; addAttributes &gt; sett</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;att name=&quot;units&quot;&gt;seconds since 1970-01-01T00:00:00Z&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Forslag: Hvis dataene er et tidsområde, er det nyttig å ha tidsstempelverdiene refererer til sentrum av det underforståtte tidsintervallet (For eksempel middag) .. For eksempel, hvis en bruker har data for 2010-03-26T13:00Z fra et annet datasett og de vil ha de nærmeste data fra et databasedatasett som har data for hver dag, deretter databasedata for 2010-03-26T12:00Z (Representere data for den datoen) Det er selvfølgelig det beste (I motsetning til midnatt før eller etter, hvor det er mindre åpenbart som er best) ..</li>
<li class="">ERDDAP™ har et verktøy til <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html" target="_blank" rel="noopener noreferrer" class="">Konverter et tall Tid til/fra en strengtid</a> ..</li>
<li class="">Se <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html#erddap" target="_blank" rel="noopener noreferrer" class="">Hvordan ERDDAP Avtaler med tiden</a> ..</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="integer-nulls-1">Heltal nuller<a href="#integer-nulls-1" class="hash-link" aria-label="Direkte lenke tilHeltal nuller" title="Direkte lenke tilHeltal nuller" translate="no">​</a></h4>
<p>Databaser støtter nuller i heltall (int, liten, liten) kolonner, men ERDDAP™ Jeg støtter ikke ekte nuller.
Databasen nuller vil bli konvertert i ERDDAP™ 127 for bytekolonner, 255 for ubytekolonner, 32767 for korte kolonner, 65535 for ukorte kolonner, 2147483647 for int-kolonner, 4294967295 for uint-kolonner, 9,223,372,036,854,775,807 for lange kolonner, eller 184467440737091615 for ulange kolonner. Hvis du bruker disse standardene, vennligst identifisere disse missing\_value s for datasettets brukere i ERDDAP™ med</p>
<blockquote>
<p>&lt;att name=&quot;\_FillValue&quot; <a href="#attributetype" class="">type=&quot;int&quot;</a>\&gt;2147483647&lt;/att&gt;</p>
</blockquote>
<p>eller</p>
<blockquote>
<p>&lt;att name=&quot;\_FillValue&quot; <a href="#attributetype" class="">type=&quot;short&quot;</a>\&gt;32767&lt;/att&gt;</p>
</blockquote>
<p>Alternativt kan du bruke &quot; missing\_value &quot; attributt i stedet for &quot;__FillValue&quot;.
Opprett datasett Xml legger automatisk til disse \_FillValue-attributtene når det genererer det foreslåtte datasets.xml for databasedatasett.</p>
<p>For de flytende kolonnene i databasen, blir nuller konvertert til NaNs i ERDDAP ..
For databasedata som konverteres til strenger i ERDDAP™ , nulls blir konvertert til tomme strenger.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="database-security">Databasesikkerhet<a href="#database-security" class="hash-link" aria-label="Direkte lenke tilDatabasesikkerhet" title="Direkte lenke tilDatabasesikkerhet" translate="no">​</a></h4>
<ul>
<li class="">Når du jobber med databaser, må du gjøre ting så sikkert og sikkert som mulig for å unngå å tillate en skadelig bruker å skade databasen eller få tilgang til data de ikke bør ha tilgang til. ERDDAP™ Forsøker å gjøre ting på en sikker måte.<!-- -->
<ul>
<li class="">Tenk på å kopiere, på en annen datamaskin, databasen og databasetabellene med dataene du vil ha ERDDAP™ å tjene. (Ja, for kommersielle databaser som Oracle Dette innebærer ytterligere lisensgebyrer. Men for open source databaser, som PostgreSQL, MySQL, Amazon RDS og MariaDB, koster dette ingenting.) Dette gir deg et høyt nivå av sikkerhet og forhindrer også ERDDAP™ Forespørsler fra å bremse den opprinnelige databasen.</li>
<li class="">Vi oppfordrer deg til å sette opp ERDDAP™ å koble til databasen som en databasebruker som bare har tilgang til databasen <strong>relevant</strong> database (s) Og bare har lese privilegier.</li>
<li class="">Vi oppfordrer deg til å etablere forbindelsen fra ERDDAP™ til databasen slik at den<!-- -->
<ul>
<li class="">bruker alltid SSL,</li>
<li class="">kun tillater tilkoblinger fra én IP-adresse (eller en blokk av adresser) fra den ERDDAP™ bruker og</li>
<li class="">Bare overføre passord i deres MD5 hashed form.</li>
</ul>
</li>
<li class="">\[ Kunn problem \] Tilkoblingsegenskaper (Inkluderer passordet!) blir lagret som vanlig tekst i datasets.xml .. Vi har ikke funnet en måte å la administratoren skrive inn databasepassordet på under ERDDAP oppstart i Tomcat (som forekommer uten brukerinngang) , så passordet må være tilgjengelig i en fil. For å gjøre dette sikrere:</li>
<li class="">Du (den ERDDAP™ administrator) Bør være eier av datasets.xml og har lese og skrive tilgang.</li>
<li class="">Lag en gruppe som bare inneholder bruker=tomcat. Bruk chgrp for å gjøre det gruppen til datasets.xml Med bare lese privilegier.</li>
<li class="">Bruk chmod til å tildele o-rwx-privilegier (ingen LES eller WRITE-tilgang for andre brukere) for datasets.xml ..</li>
<li class="">Når i ERDDAP™ , passord og andre tilkoblingsegenskaper lagres i &quot;privat&quot; Java Variabler.</li>
<li class="">Forespørsler fra klienter tolkes og kontrolleres for gyldighet før du genererer SQL-forespørsler til databasen.</li>
<li class="">Forespørsler til databasen gjøres med SQL ForberedStatements, for å hindre <a href="https://en.wikipedia.org/wiki/SQL_injection" target="_blank" rel="noopener noreferrer" class="">SQL injeksjon</a> ..</li>
<li class="">Forespørsler til databasen sendes med gjennomføring Søk (ikke utført) å begrense forespørsler som skal leses bare (så forsøkt SQL injeksjon for å endre databasen vil mislykkes av denne grunn også) ..
 </li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sql">SQL<a href="#sql" class="hash-link" aria-label="Direkte lenke tilSQL" title="Direkte lenke tilSQL" translate="no">​</a></h4>
<ul>
<li class="">Fordi OPeNDAP Forespørsler om tabelldata ble utformet for å etterlikne SQL tabelldataforespørsler, det er enkelt for ERDDAP™ å konvertere tabular dataforespørsler til enkle SQL-forbereddeStatements. For eksempel ERDDAP™ forespørsel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    time,temperature&amp;time&gt;=2008-01-01T00:00:00Z&amp;time&amp;lt;=2008-02-01T00:00:00Z  </span><br></span></code></pre></div></div>
<p>vil bli omgjort til SQL ForberedStatement</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    SELECT &quot;time&quot;, &quot;temperature&quot; FROM *tableName*  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WHERE &quot;time&quot; &gt;= 2008-01-01T00:00:00Z AND &quot;time&quot; &amp;lt;= 2008-02-01T00:00:00Z  </span><br></span></code></pre></div></div>
<p>ERDDAP™ forespørsler med &amp; distinct () og/eller &amp; orderBy  ( <em>Variabler</em> ) vil legge til DISTINCT og/eller ORDER BY <em>Variabler</em> til SQL utarbeidet uttalelse. Generelt vil dette redusere responsen fra databasen sterkt.
ERDDAP™ Logger den forberedte <a class="" href="/nb/docs/server-admin/additional-information#log">log.txt</a> som</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    statement=*thePreparedStatement*  </span><br></span></code></pre></div></div>
<p>Dette vil være en tekst representasjon av ForberedStatement, som kan være litt forskjellig fra den faktiske ForbereddeStatement. I ForberedtStatement kodes for eksempel tidspunkter på en spesiell måte. Men i teksten representasjon, de vises som ISO 8601 datotider.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="database-speed">Databasehastighet<a href="#database-speed" class="hash-link" aria-label="Direkte lenke tilDatabasehastighet" title="Direkte lenke tilDatabasehastighet" translate="no">​</a></h4>
<ul>
<li class="">Databaser kan være sakte. Det er noen ting du kan gjøre:<!-- -->
<ul>
<li class="">Generelt -
SQLs natur er at spørsmål er <a href="https://en.wikipedia.org/wiki/Declarative_programming" target="_blank" rel="noopener noreferrer" class="">Deklarativ</a> .. De angir bare hva brukeren vil. De inneholder ikke en spesifikasjon eller hint for hvordan spørringen skal håndteres eller optimaliseres. Så det er ingen måte for ERDDAP™ å generere spørringen på en slik måte at den hjelper databasen til å optimalisere spørringen (eller på noen måte angir hvordan spørringen skal håndteres) .. Generelt er det opp til databaseadministratoren å sette opp ting (For eksempel indekser) å optimalisere visse typer spørsmål.</li>
</ul>
</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="set-the-fetch-size">Still inn Kjøp størrelse<a href="#set-the-fetch-size" class="hash-link" aria-label="Direkte lenke tilStill inn Kjøp størrelse" title="Direkte lenke tilStill inn Kjøp størrelse" translate="no">​</a></h5>
<p>Databaser returnerer dataene til ERDDAP™ I stykker. Som standard returnerer forskjellige databaser et annet antall rader i bitene. Ofte er dette tallet svært lite og så ineffektivt. For eksempel standarden for Oracle er 10! Les JDBC-dokumentasjonen til databasens JDBC-driver for å finne tilkoblingsegenskapen som skal angis for å øke dette, og legg til dette i datasettets beskrivelse i datasets.xml .. For eksempel
For MySQL og Amazon RDS, bruk</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;connectionProperty name=&quot;defaultFetchSize&quot;&gt;10000&lt;/connectionProperty&gt;  </span><br></span></code></pre></div></div>
<p>For MariaDB er det for tiden ingen måte å endre rekkestørrelsen. Men det er en ønsket funksjon, så søk på nettet for å se om dette er implementert.
For Oracle , bruk</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;connectionProperty name=&quot;defaultRowPrefetch&quot;&gt;10000&lt;/connectionProperty&gt;  </span><br></span></code></pre></div></div>
<p>For PostgreSQL, bruk</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;connectionProperty name=&quot;defaultRowFetchSize&quot;&gt;10000&lt;/connectionProperty&gt;  </span><br></span></code></pre></div></div>
<p>Men du må gjerne endre nummeret. Å sette tallet for stort vil føre til ERDDAP™ å bruke mye minne og være mer sannsynlig å miste hukommelsen.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="connectionproperties">Tilkoblingseigenskapar<a href="#connectionproperties" class="hash-link" aria-label="Direkte lenke tilTilkoblingseigenskapar" title="Direkte lenke tilTilkoblingseigenskapar" translate="no">​</a></h4>
<p>Hver database har andre tilkoblingsegenskaper som kan angis i datasets.xml .. Mange av disse vil påvirke ytelsen til databasen ERDDAP™ Tilkobling. Vennligst les dokumentasjonen for databasens JDBC-driver for å se alternativene. Hvis du finner tilkoblingsegenskaper som er nyttige, vennligst send en e-post med detaljene til erd dot data at noaa dot gov ..</p>
<ul>
<li class="">Lag et bord --
Du vil sikkert få raskere svar hvis du regelmessig (Hver dag? Når det er nye data?) Opprette en faktisk tabell (På samme måte som hvordan du genererte VIEW) og fortelle ERDDAP™ For å få data fra tabellen i stedet for VIEW. Siden enhver forespørsel til tabellen da kan oppfylles uten å kode en annen tabell, vil svaret bli mye raskere.</li>
<li class="">Vakuum tabellen -
MySQL og Amazon RDS vil svare mye raskere hvis du bruker <a href="https://dev.mysql.com/doc/refman/5.7/en/optimize-table.html" target="_blank" rel="noopener noreferrer" class="">OPTIMIZE TABLE</a> ..
Maria DB vil svare mye raskere hvis du bruker <a href="https://mariadb.com/kb/en/optimize-table/" target="_blank" rel="noopener noreferrer" class="">OPTIMIZE TABLE</a> ..
PostgreSQL vil svare mye raskere hvis du <a href="https://www.postgresql.org/docs/8.3/static/sql-vacuum.html" target="_blank" rel="noopener noreferrer" class="">VACUUM</a> Bordet.
Oracle ikke har eller trenger en analog kommando.</li>
<li class="">Lage <a href="https://en.wikipedia.org/wiki/Database_index" target="_blank" rel="noopener noreferrer" class="">Indekser</a> For vanlige begrensede variabler -
Du kan fremskynde mange/de fleste spørsmål ved å opprette indekser i databasen for variabler (hvilke databaser som ringer &quot; kolonner&quot;) som ofte begrenses i brukerens spørsmål. Generelt er disse de samme variabler angitt av [&lt; subsetVariables &gt;] (#subsetvariables) og/eller breddegrad, lengdegrad og tidsvariabler.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-connection-pooling">Bruk sammenkoblingsbasseng<a href="#use-connection-pooling" class="hash-link" aria-label="Direkte lenke tilBruk sammenkoblingsbasseng" title="Direkte lenke tilBruk sammenkoblingsbasseng" translate="no">​</a></h5>
<p>Vanligvis, ERDDAP™ gjør en separat tilkobling til databasen for hver forespørsel. Dette er den mest pålitelige tilnærmingen. Det raskere alternativet er å bruke en DataSource som støtter sammenkobling. Hvis du vil konfigurere den, angi (For eksempel)</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;dataSourceName&gt;java:comp/env/jdbc/postgres/erddap&lt;/dataSourceName&gt;  </span><br></span></code></pre></div></div>
<p>rett ved siden av&lt; sourceUrl &gt;,&lt;drivernavn, og&lt;tilkobling Eiendom &gt;.
Og i <em>tomcat</em> /conf/context.xml, definere en ressurs med samme informasjon, for eksempel,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;Resource  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name=&quot;jdbc/postgres/erddap&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        driverClassName=&quot;org.postgresql.Driver&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        url=&quot;*jdbc:postgresql://somehost:5432/myDatabaseName*&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        username=&quot;*myUsername*&quot; password=&quot;*myPassword*&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        initialSize=&quot;0&quot; maxActive=&quot;8&quot; minIdle=&quot;0&quot; maxIdle=&quot;0&quot; maxWait=&quot;-1&quot;/&gt;  </span><br></span></code></pre></div></div>
<p>Generelt informasjon om bruk av datakilde er på <a href="https://docs.oracle.com/javase/tutorial/jdbc/basics/sqldatasources.html" target="_blank" rel="noopener noreferrer" class="">https://docs.oracle.com/javase/tutorial/jdbc/basics/sqldatasources.html</a> ..
Se <a href="https://tomcat.apache.org/tomcat-7.0-doc/jndi-resources-howto.html#JDBC_Data_Sources" target="_blank" rel="noopener noreferrer" class="">Tomcat Datakildeinformasjon</a> og <a href="https://tomcat.apache.org/tomcat-7.0-doc/jndi-datasource-examples-howto.html" target="_blank" rel="noopener noreferrer" class="">Tomcat Datakildeeksempler</a> eller søk på nettet etter eksempler på å bruke DataSources med andre programservere.</p>
<ul>
<li class="">Hvis alt annet mislykkes,
å lagre dataene i en samling av NetCDF v3 .nc filer (spesielt .nc filer som bruker <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Diskret prøvetakingsgeometri (DSG) </a> Contiguous Tagge Array datastrukturer og så kan håndteres med ERDDAP &#x27;s <a href="#eddtablefromnccffiles" class="">EDDTableFraNcCFFiler</a> ) .. Hvis de er logisk organisert (hver med data for en bit plass og tid) , ERDDAP™ kan raskt trekke ut data fra dem.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromdatabase-skeleton-xml">EDDTableFromDatabase skjelett XML<a href="#eddtablefromdatabase-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDTableFromDatabase skjelett XML" title="Direkte lenke tilEDDTableFromDatabase skjelett XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromDatabase&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->        &lt;!-- The format varies for each type of database, but will be<br>
<!-- -->          something like:<br>
<!-- -->          For MariaDB:    jdbc:mariadb://<em>xxx.xxx.xxx.xxx</em>:3306/<em>databaseName</em><br>
<!-- -->          For MySql       jdbc:mysql://<em>xxx.xxx.xxx.xxx</em>:3306/<em>databaseName</em><br>
<!-- -->          For Amazon RDS: jdbc:mysql://<em>xxx.xxx.xxx.xxx</em>:3306/<em>databaseName</em><br>
<!-- -->          For Oracle:     jdbc:oracle:thin:@<em>xxx.xxx.xxx.xxx</em>:1521:<em>databaseName</em><br>
<!-- -->          For Postgresql: jdbc:postgresql://<em>xxx.xxx.xxx.xxx</em>:5432/<em>databaseName</em><br>
<!-- -->          where <em>xxx.xxx.xxx.xxx</em> is the host computer&#x27;s numeric IP address<br>
<!-- -->          followed by :<em>PortNumber</em> (4 digits), which may be different for your<br>
<!-- -->          database.  REQUIRED. --&gt;<br>
<!-- -->      &lt;<a href="#jdbc-driver" class="">driverName</a>\&gt;...&lt;/driverName&gt;<br>
<!-- -->        &lt;!-- The high-level name of the database driver, for example,<br>
<!-- -->          &quot;org.postgresql.Driver&quot;.  You need to put the actual database<br>
<!-- -->          driver .jar file (for example, postgresql.jdbc.jar) in<br>
<!-- -->          <em>tomcat</em>/webapps/erddap/WEB-INF/lib.  REQUIRED. --&gt;<br>
<!-- -->      &lt;<a href="#database-connectionproperty" class="">connectionProperty</a> name=&quot;<em>name</em>&quot;&gt;<em>value</em>&lt;/connectionProperty&gt;<br>
<!-- -->        &lt;!-- The names (for example, &quot;user&quot;, &quot;password&quot;, and &quot;ssl&quot;)<br>
<!-- -->          and values of the properties needed for ERDDAP™ to establish<br>
<!-- -->          the connection to the database.  0 or more. --&gt;<br>
<!-- -->      <a href="#use-connection-pooling" class="">&lt;dataSourceName&gt;</a>...&lt;/dataSourceName&gt;  &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;catalogName&gt;...&lt;/catalogName&gt;<br>
<!-- -->        &lt;!-- The name of the catalog which has the schema which has the<br>
<!-- -->          table, default = &quot;&quot;.  OPTIONAL.  Some databases don&#x27;t use<br>
<!-- -->          this. --&gt;<br>
<!-- -->      &lt;schemaName&gt;...&lt;/schemaName&gt; &lt;!-- The name of the<br>
<!-- -->        schema which has the table, default = &quot;&quot;.  OPTIONAL. --&gt;<br>
<!-- -->      &lt;tableName&gt;...&lt;/tableName&gt;  &lt;!-- The name of the<br>
<!-- -->        table, default = &quot;&quot;.  REQUIRED. --&gt;<br>
<!-- -->      <a href="#quotes-for-names-and-case-sensitivity" class="">&lt;columnNameQuotes&gt;</a>&lt;columnNameQuotes&gt; &lt;!-- OPTIONAL. Options:<br>
<!-- -->        &quot; (the default), &#x27;, \[nothing\]. --&gt;<br>
<!-- -->      &lt;orderBy&gt;...&lt;/orderBy&gt;  &lt;!-- A comma-separated list of<br>
<!-- -->        <a href="#sourcename" class="">sourceName</a>s to be used in an ORDER BY clause at the end of the<br>
<!-- -->        every query sent to the database (unless the user&#x27;s request<br>
<!-- -->        includes an &amp;orderBy() filter, in which case the user&#x27;s<br>
<!-- -->        orderBy is used).  The order of the sourceNames is important.<br>
<!-- -->        The leftmost (first) sourceName is most important; subsequent<br>
<!-- -->        sourceNames are only used to break ties.  Only relevant<br>
<!-- -->        sourceNames are included in the ORDER BY clause for a given user<br>
<!-- -->        request.  If this is not specified, the order of the returned<br>
<!-- -->        values is not specified. Default = &quot;&quot;.  OPTIONAL. --&gt;<br>
<!-- -->      <a href="#sourcecanorderby" class="">&lt;sourceCanOrderBy&gt;</a>no(default)|partial|yes&lt;/sourceCanOrderBy&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#sourcecandodistinct" class="">&lt;sourceCanDoDistinct&gt;</a>no(default)|partial|yes&lt;/sourceCanDoDistinct&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#sourceneedsexpandedfp_eq" class="">&lt;sourceNeedsExpandedFP\_EQ&gt;</a>true(default)|false&lt;/sourceNeedsExpandedFP\_EQ&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more.<br>
<!-- -->        Each dataVariable MUST include a <a href="#datatype" class="">&lt;dataType&gt;</a> tag.<br>
<!-- -->        See <a href="#database-datatype" class="">Database DataTypes</a>.<br>
<!-- -->        For <a href="#database-date-time-data" class="">database date and timestamp columns</a>, set dataType=double and<br>
<!-- -->        units=seconds since 1970-01-01T00:00:00Z --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromeddgrid">EDDTableFra EDDGrid<a href="#eddtablefromeddgrid" class="hash-link" aria-label="Direkte lenke tilEDDTableFra EDDGrid" title="Direkte lenke tilEDDTableFra EDDGrid" translate="no">​</a></h3>
<p><a href="#eddtablefromeddgrid" class=""> **EDDTableFra EDDGrid ** </a> lar deg opprette et EDDTable datasett fra noen EDDGrid - Datasett.</p>
<ul>
<li class="">Noen vanlige grunner til dette er:<!-- -->
<ul>
<li class="">Dette gjør at datasettet kan spørres med OPeNDAP valgbegrensninger, som er en type &quot; etter verdi&quot; (som en bruker kan ha bedt om) ..</li>
<li class="">Datasettet er iboende et tabellisk datasett.</li>
</ul>
</li>
<li class="">Verdien av den globale egenskapen &quot; maxAxis0&quot; (Vanligvis av type=-int-) , (Standarden er 10) vil bli brukt til å begrense antall akser \[ 0 \]   (Vanligvis &quot;time&quot; aksen) verdier i den innesluttede EDDGrid datasett som kan nås per forespørsel om data. Hvis du ikke vil det skal være noen grense, angi en verdi på 0. Denne innstillingen er viktig fordi det ellers ville være for enkelt for en bruker å spørre EDDTableFrom EDDGrid å se gjennom alle dataene i datasettet. Det vil ta lang tid og vil nesten absolutt mislykkes med en tidsavbruddsfeil. Dette er innstillingen som gjør det trygt å ha EDDTableFra EDDGrid Datasett i din ERDDAP uten frykt for at de vil føre til en urimelig bruk av databehandlingsressurser.</li>
<li class="">Hvis lukket EDDGrid er et <a href="#eddfromerddap" class=""> EDDGrid FraErddap</a> og ERDDAP™ Det er det samme ERDDAP , deretter EDDTableFra EDDGrid vil alltid bruke den tilgjengelige versjonen av det refererte datasettet direkte. Dette er en meget effektiv måte for EDDTableFrom EDDGrid til å få tilgang til dataene.</li>
<li class="">Denne klassen er [&lt;Last på nytt EveryNMinutes&gt;] (#reloadvarelser) Det som teller. Den innesluttede EDDGrid &#x27;s&lt;reloadEveryNMinutes&gt; ignoreres.</li>
<li class="">Hvis en verdi for [&lt;OppdaterEveryNMillis&gt;] (#updatevardenmillis) er levert for dette datasettet, det ignoreres. Den innesluttede EDDGrid &#x27;s&lt;OppdaterEveryNMillis&gt; er det som betyr noe.</li>
<li class=""><a href="#generatedatasetsxml" class="">Generer DatasetsXml</a> har et alternativ for datasett type=EDDTabellFra EDDGrid som ber om URL til en ERDDAP   (Vanligvis det samme ERDDAP )   (Ender i &quot;/erddap/&quot;) og et regelmessig uttrykk. Opprett datasett Xml vil da generere XML for en EDDTableFra EDDGrid datasett for hvert nettbasert datasett i ERDDAP™ som har datasetID som passer til det regulære uttrykket (bruk .\* for å matche alle datasetID s for gitte datasett) ..</li>
</ul>
<p>Biten av XML som genereres av GenerationDatasetsXml for hvert datasett inkluderer:</p>
<ul>
<li class="">A datasetID som er EDDGrid &#x27;s datasetID plus &quot;__Asatable&quot;.</li>
<li class="">En ny sammendrag global attributt som er EDDGrid Sammendrag pluss et nytt første ledd som beskriver hva dette datasettet er.</li>
<li class="">En ny tittel global attributt som er EDDGrid tittelen Plus- (Som tabell)  &quot;.</li>
<li class="">En ny maxAxis0 global attributt med en verdi på 10.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromeddgrid-skeleton-xml">EDDTableFra EDDGrid skjelett XML<a href="#eddtablefromeddgrid-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDTableFra EDDGrid skjelett XML" title="Direkte lenke tilEDDTableFra EDDGrid skjelett XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromEDDGrid&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1.<br>
<!-- -->        For EDDTableFromEDDGrid, this calls lowUpdate() of the underlying<br>
<!-- -->        EDDGrid. --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt;  &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#eddgrid" class="">&lt;dataset&gt;</a>...&lt;/dataset&gt; &lt;!-- 1<br>
<!-- -->         Any type of EDDGrid dataset.  You can even use an<br>
<!-- -->         EDDGridFromERDDAP™ to access an independent EDDGrid dataset on<br>
<!-- -->         this server. --&gt;<br>
<!-- -->    &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromfilenames">EDDTableFromFileNames<a href="#eddtablefromfilenames" class="hash-link" aria-label="Direkte lenke tilEDDTableFromFileNames" title="Direkte lenke tilEDDTableFromFileNames" translate="no">​</a></h3>
<p><a href="#eddtablefromfilenames" class=""> <strong>EDDTableFromFileNames</strong> </a> oppretter et datasett fra informasjon om en gruppe filer i serverens filsystem, inkludert en URL for hver fil slik at brukerne kan laste ned filene via ERDDAP &#x27;s <a href="https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html" target="_blank" rel="noopener noreferrer" class=""> &quot;files&quot; systemet</a> .. I motsetning til alle <a href="#eddtablefromfiles" class="">EDDTableFra Filer</a> underklasser, denne datasetttypen tjener ikke data fra i filene.</p>
<ul>
<li class="">EDDTableFromFileNames er nyttig når:<!-- -->
<ul>
<li class="">Du har en gruppe filer som du vil distribuere som hele filer fordi de ikke inneholder - data - på samme måte som vanlige datafiler har data. For eksempel bildefiler, videofiler, Word-dokumenter, Excel-reknearkfiler, PowerPoint-presentasjonsfiler eller tekstfiler med ustrukturert tekst.</li>
<li class="">Du har en gruppe filer som har data i et format som ERDDAP™ Kan ikke lese ennå. For eksempel et prosjektspesifikk, tilpasset binærformat.
 </li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromfilenames-data">EDDTableFromFileNames Data<a href="#eddtablefromfilenames-data" class="hash-link" aria-label="Direkte lenke tilEDDTableFromFileNames Data" title="Direkte lenke tilEDDTableFromFileNames Data" translate="no">​</a></h4>
<ul>
<li class=""><a href="#eddtablefromfilenames-data" class="">Dataene i et EDDTableFromFileNames datasett</a> Et bord som ERDDAP™ oppretter on-the-fly med informasjon om en gruppe lokale filer. I tabellen er det en rad for hver fil. Fire spesielle egenskaper i <a href="#eddtablefromfilenames-skeleton-xml" class=""> datasets.xml For dette datasettet</a> bestemme hvilke filer som vil bli inkludert i dette datasettet:</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="filedir">fil Dir<a href="#filedir" class="hash-link" aria-label="Direkte lenke tilfil Dir" title="Direkte lenke tilfil Dir" translate="no">​</a></h5>
<ul>
<li class="">&lt;filDir&gt; -- Dette angir kildekatalogen i serverens filsystem med filene for dette datasettet. Filene som faktisk er plassert i serverens filsystem i&lt;filDir&gt; vil vises i url-kolonnen i dette datasettet i en virtuell katalog som heterhttps://<em>serverUrl</em>/erddap/files/<em>datasetID/</em>..
For eksempel, hvis datasetID er jplMU RSS T,
og&lt;filDir&gt; er /home/data/mur/ ,
og den katalogen har en fil som heter jplMU RSS T201501030000.png,
da URL som vil bli vist til brukere for den filen vil være
https://<em>serverUrl</em>/erddap/jplMURSST/jplMURSST20150103000000.png..</li>
</ul>
<p>I tillegg til å bruke en lokal katalog for&lt;filDir&gt;, kan du også angi URL til en ekstern, kataloglignende nettside. Dette fungerer med:</p>
<ul>
<li class="">Usamlede datasett i TREDDS, f.eks.
<a href="https://data.nodc.noaa.gov/thredds/catalog/aquarius/nodc%5C%5C_binned%5C%5C_V3.0/monthly/" target="_blank" rel="noopener noreferrer" class="">https://data.nodc.noaa.gov/thredds/catalog/aquarius/nodc\\_binned\\_V3.0/monthly/</a>  \[ 2020-10-21 Denne serveren er ikke lenger pålitelig tilgjengelig. \]</li>
<li class="">Usamlede datasett i Hyrax f.eks.
<a href="https://podaac-opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/" target="_blank" rel="noopener noreferrer" class="">https://podaac-opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/</a></li>
<li class="">De fleste Apache-lignende kataloglister, f.eks.
<a href="https://www1.ncdc.noaa.gov/pub/data/cmb/ersst/v5/netcdf/" target="_blank" rel="noopener noreferrer" class="">https://www1.ncdc.noaa.gov/pub/data/cmb/ersst/v5/netcdf/</a></li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="fromonthefly">fraOnTheFly<a href="#fromonthefly" class="hash-link" aria-label="Direkte lenke tilfraOnTheFly" title="Direkte lenke tilfraOnTheFly" translate="no">​</a></h5>
<p><a href="#fromonthefly" class="">\*\** fraOnTheFly</a> -- For noen store S3 bøtter (som noaa-goes17, som har 26 millioner filer) Det kan ta ERDDAP™ Opp til 12 timer for å laste ned all informasjonen om innholdet i skuffen (Og så er det andre problemer) .. For å komme rundt dette er det en spesiell måte å bruke på&lt;filDir&gt; i EDDTableFromFileNames for å lage et datasett med katalogen og filnavnene fra en AWS S3-bøtte. Datasettet vil ikke ha listen over alle S3 bøttes mapper og filnavn som en bruker kan søke via forespørsler til datasettet. Men datasettet vil få navn på mapper og filer på flyet hvis brukeren krysser kataloghierarkiet med datasettets &quot;files&quot; Valg. Dette tillater brukerne å bla gjennom S3 bøtte filhierarki og filer via datasettets &quot;files&quot; systemet. For å gjøre dette i stedet for å spesifisere URL-adressen for S3-bøtte som startmappen&quot; (i Generer Datasett Xml) eller&lt;filDir&gt; (i datasets.xml ) Bruk:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">\\*\\*\\*fromOnTheFly,*theS3BucketUrl*  </span><br></span></code></pre></div></div>
<p>For eksempel:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">\\*\\*\\*fromOnTheFly,https://noaa-goes17.s3.us-east-1.amazonaws.com/  </span><br></span></code></pre></div></div>
<p>Se dokumentasjonen for <a href="#working-with-aws-s3-files" class="">samarbeid med S3 Buckets i ERDDAP™ </a> , spesielt beskrivelsen av det spesifikke format som må brukes til S3 bøtte-URL. Og se
<a href="#making-an-eddtablefromfilenames-dataset-with-an-aws-s3-bucket" class="">Disse detaljene og et eksempel</a> bruk av\*\**Fra OnTheFly.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="recursive">Rekursiv<a href="#recursive" class="hash-link" aria-label="Direkte lenke tilRekursiv" title="Direkte lenke tilRekursiv" translate="no">​</a></h5>
<ul>
<li class="">&lt;Rekursiv &gt; -- Filer i underkataloger av&lt;filDir&gt; med navn som passer&lt;filRegex&gt; vil vises i samme underkataloger i &quot;files&quot; URL hvis&lt;Rekursivt &gt; er satt til sant. Standarden er falsk.</li>
<li class="">[&lt;pathRegex&gt;] (#pathregex) -- Hvis rekursiv=sann, bare katalognavn som passer til banenRegex (standard=&quot;.*&quot;) vil bli akseptert. Hvis rekursiv=feil, ignoreres dette. Dette brukes sjelden, men kan være svært nyttig under uvanlige omstendigheter. (Se dette <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">Regulatorisk dokumentasjon</a> og <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">Regular tutorial</a> ..)</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="fileregex">fileRegex<a href="#fileregex" class="hash-link" aria-label="Direkte lenke tilfileRegex" title="Direkte lenke tilfileRegex" translate="no">​</a></h5>
<ul>
<li class="">&lt;fileRegex&gt; -- Bare filnavnene der hele filnavnet (ikke inkludert katalognavnet) matcher&lt;fileRegex&gt; vil bli inkludert i dette datasettet. For eksempel jplMU RSS T.{14}\.png . (Se dette <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">Regulatorisk dokumentasjon</a> og <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">Regular tutorial</a> ..)<br>
<!-- --> </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="from-file-names-data-table-contents">Fra filnavnstabellinnhold<a href="#from-file-names-data-table-contents" class="hash-link" aria-label="Direkte lenke tilFra filnavnstabellinnhold" title="Direkte lenke tilFra filnavnstabellinnhold" translate="no">​</a></h5>
<p>I tabellen vil det være kolonner med:</p>
<ul>
<li class="">
<p>url -- URL som brukere kan bruke til å laste ned filen via ERDDAP &#x27;s <a href="https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html" target="_blank" rel="noopener noreferrer" class=""> &quot;files&quot; systemet</a> ..</p>
</li>
<li class="">
<p>navn -- Filens navn (uten katalognavn) ..</p>
</li>
<li class="">
<p>LastModifisert - Når filen sist ble endret (lagret som doubles med &quot;seconds since 1970-01-01T00:00:00Z&quot; ) .. Denne variabelen er nyttig fordi brukerne kan se om/når innholdet i en gitt fil sist endret. Denne variabelen er en <a href="#timestamp-variables" class="">tid Stemplevariabel</a> , så data kan vises som numeriske verdier (sekunder siden 1970-01-01T00:00:00Z) eller en strengverdi (ISO 8601:2004 (E) format) avhengig av situasjonen.</p>
</li>
<li class="">
<p>størrelse -- Størrelsen på filen i byte, lagret som dobbel. De lagres som dobbel fordi noen filer kan være større enn intensjoner tillater, og langer støttes ikke i noen responsfiltyper. Doubles vil gi nøyaktig størrelse, selv for svært store filer.</p>
</li>
<li class="">
<p>tilleggskolonner definert av ERDDAP™ administrator med informasjon hentet fra filnavnet (For eksempel tiden tilknyttet dataene i filen) basert på to attributter som du angir i metadata for hver ekstra kolonne/ dataVariable :)</p>
<ul>
<li class="">ekstraktRegex -- Dette er en <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">regulært uttrykk</a>   ( <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">tutorial</a> ) .. Hele regulatoriet må samsvare med hele filnavnet (ikke inkludert katalognavnet) .. Regulatoriet må inneholde minst én fangstgruppe (en del av et regulært uttrykk som er innesluttet av parenteser) som ERDDAP™ bruker for å bestemme hvilken del av filnavnet som skal trekkes ut for å bli data.</li>
<li class="">ekstrakt Gruppe -- Dette er antall fangstgruppen (#1 er den første fangstgruppen) i det regulære uttrykket. Standarden er 1. En fangegruppe er en del av et regelmessig uttrykk som er innesluttet av parenteser.</li>
</ul>
</li>
</ul>
<p>Her er to eksempler:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;dataVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;sourceName&gt;time&lt;/sourceName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;destinationName&gt;time&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;dataType&gt;String&lt;/dataType&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;att name=&quot;extractRegex&quot;&gt;jplMURSST(.{14})\\.png&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;att name=&quot;extractGroup&quot; type=&quot;int&quot;&gt;1&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;att name=&quot;units&quot;&gt;yyyyMMddHHmmss&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/dataVariable&gt;</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;dataVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;sourceName&gt;day&lt;/sourceName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;destinationName&gt;day&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;dataType&gt;int&lt;/dataType&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;att name=&quot;extractRegex&quot;&gt;jplMURSST.{6}(..).{6}\\.png&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;att name=&quot;extractGroup&quot; type=&quot;int&quot;&gt;1&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;att name=&quot;ioos\\_category&quot;&gt;Time&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/dataVariable&gt; </span><br></span></code></pre></div></div>
<p>Hvis en fil har navnet jplMU RSS T201501030000.png, ekstractRegex vil matche filnavnet, ekstrakt tegnene som passer til den første fange gruppen (&quot;201501030000&quot;) som dataType=String, deretter bruk <a href="#string-time-units" class="">enheter egnet for strengtider</a> å tolke strengene i tidsdataverdier (2015-01-03T00:00:00Z) ..</p>
<p>Hvis en fil har navnet jplMU RSS T201501030000.png, ekstractRegex vil matche filnavnet, ekstrakt tegnene som passer til den første fange gruppen (&quot;03&quot;) som [&lt;dataType&gt;] (#datatype) \=int, gir en dataverdi på 3.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="other-information">Andre opplysninger<a href="#other-information" class="hash-link" aria-label="Direkte lenke tilAndre opplysninger" title="Direkte lenke tilAndre opplysninger" translate="no">​</a></h4>
<ul>
<li class="">Nei [&lt;OppdaterEveryNMillis&gt;] (#updatevardenmillis) -- Denne typen datasett trenger ikke og kan ikke bruke&lt;oppdaterEveryNMillis&gt; tag fordi informasjonen som serveres av EDDTableFromFileNames er alltid helt oppdatert, fordi ERDDAP™ spør etter filsystemet for å svare på hver forespørsel om data. Selv om det er et stort antall filer, bør denne tilnærmingen fungere rimelig bra. En respons kan være langsom hvis det er et stort antall filer og datasettet har ikke blitt spurt for en stund. Men i flere minutter etter det holder operativsystemet informasjonen i en cache, så svarene bør være veldig raske.
 </li>
<li class="">Du kan bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å gjøre datasets.xml bit for denne typen datasett. Du kan legge til/definere flere kolonner med informasjon som er hentet fra filnavnet, som vist ovenfor.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromfilenames-skeleton-xml">EDDTableFromFileNames skjelett XML<a href="#eddtablefromfilenames-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDTableFromFileNames skjelett XML" title="Direkte lenke tilEDDTableFromFileNames skjelett XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromFileNames&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#eddtablefromfilenames-data" class="">&lt;fileDir&gt;</a>...&lt;/fileDir&gt;<br>
<!-- -->      <a href="#eddtablefromfilenames-data" class="">&lt;recursive&gt;</a>...&lt;/recursive&gt;  &lt;!-- true or false (the default) --&gt;<br>
<!-- -->      <a href="#pathregex" class="">&lt;pathRegex&gt;</a>...&lt;/pathRegex&gt;  &lt;!-- 0 or 1. Only directory names which<br>
<!-- -->        match the pathRegex (default=&quot;.\*&quot;) will be accepted. --&gt;<br>
<!-- -->      <a href="#eddtablefromfilenames-data" class="">&lt;fileNameRegex&gt;</a>...&lt;/fileNameRegex&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more.<br>
<!-- -->         Each dataVariable MUST include <a href="#datatype" class="">&lt;dataType&gt;</a> tag. --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromfiles">EDDTableFra Filer<a href="#eddtablefromfiles" class="hash-link" aria-label="Direkte lenke tilEDDTableFra Filer" title="Direkte lenke tilEDDTableFra Filer" translate="no">​</a></h3>
<p><a href="#eddtablefromfiles" class=""> <strong>EDDTableFra Filer</strong> </a> er superklasse av alle EDDTableFra...Filer klasser. Du kan ikke bruke EDDTableFrom Files direkte. I stedet, bruk en underklasse av EDDTableFromFiles til å håndtere den bestemte filtypen:</p>
<ul>
<li class=""><a href="#eddtablefromasciifiles" class="">EDDTableFraAsciiFiler</a> aggregerer data fra komma-, fane-, semikolon- eller mellomromsdelte ASCII-datafiler.</li>
<li class=""><a href="#eddfromaudiofiles" class="">EDDTableFraAudioFiler</a> aggregerer data fra en gruppe av lokale lydfiler.</li>
<li class=""><a href="#eddtablefromawsxmlfiles" class="">EDDTableFra AwsXmlFiles</a> aggregerer data fra et sett av automatisk værstasjon (AWS) XML-filer.</li>
<li class=""><a href="#eddtablefromcolumnarasciifiles" class="">EDDTableFraColumnarAsciiFiler</a> aggregerer data fra tabell ASCII-datafiler med faste breddedatakolonner.</li>
<li class=""><a href="#eddtablefromhyraxfiles" class="">EDDTableFra Hyrax Filer</a>   (Deprekert) aggregerer data med flere variabler, hver med delte dimensjoner (For eksempel tid, høyde (eller dybde) , breddegrad, lengdegrad) og tjenestegjort av en <a href="https://www.opendap.org/software/hyrax-data-server" target="_blank" rel="noopener noreferrer" class=""> Hyrax   OPeNDAP server</a> ..</li>
<li class=""><a href="#eddtablefrominvalidcrafiles" class="">EDDTableFraInvalidCRAFiler</a> aggregerer data fra NetCDF   (v3 eller v4)   .nc filer som bruker en spesifikk, ugyldig variant av CF DSG Contigous Tagged Array (CRA) Filer. Selv om ERDDAP™ støtter denne filtypen, det er en ugyldig filtype som ingen bør begynne å bruke. Grupper som for tiden bruker denne filtypen oppfordres sterkt til å bruke ERDDAP™ å generere gyldige CF DSG CRA-filer og slutte å bruke disse filene.</li>
<li class=""><a href="#eddtablefromjsonlcsvfiles" class="">EDDTableFraJsonlCSVFiler</a> aggregerer data fra <a href="https://jsonlines.org/examples/" target="_blank" rel="noopener noreferrer" class="">JSON Linjer CSV-filer</a> ..</li>
<li class=""><a href="#eddtablefrommultidimncfiles" class="">EDDTableFraMultidimNcFiler</a> aggregerer data fra NetCDF   (v3 eller v4)   .nc   (eller <a href="#ncml-files" class=""> .nc ml</a> ) filer med flere variabler, hver med delt dimensjon (For eksempel tid, høyde (eller dybde) , breddegrad, lengdegrad) ..</li>
<li class=""><a href="#eddtablefromncfiles" class="">EDDTableFraNcFiler</a> aggregerer data fra NetCDF   (v3 eller v4)   .nc   (eller <a href="#ncml-files" class=""> .nc ml</a> ) filer med flere variabler, hver med delt dimensjon (For eksempel tid, høyde (eller dybde) , breddegrad, lengdegrad) .. Det er fint å fortsette å bruke denne datasettstypen for eksisterende datasett, men for nye datasett anbefaler vi å bruke EDDTableFromMultidimNcFiles i stedet.</li>
<li class=""><a href="#eddtablefromnccffiles" class="">EDDTableFraNcCFFiler</a> aggregerer data fra NetCDF   (v3 eller v4)   .nc   (eller <a href="#ncml-files" class=""> .nc ml</a> ) filer som bruker et av filformatene som er spesifisert av <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Diskret prøvetakingsgeometri (DSG) </a> Konvensjoner. Men for filer som bruker en av de flerdimensjonale CF DSG varianter, bruk <a href="#eddtablefrommultidimncfiles" class="">EDDTableFraMultidimNcFiler</a> I stedet.</li>
<li class=""><a href="#eddtablefromnccsvfiles" class="">EDDTableFraNccsvFiler</a> aggregerer data fra <a class="" href="/nb/docs/user/nccsv-1.00">NCCSV</a> ASCII .csv-filer.</li>
<li class=""><a href="#eddtablefromparquetfiles" class="">EDDTableFraParquetFiler</a> håndterer data fra <a href="https://parquet.apache.org/" target="_blank" rel="noopener noreferrer" class="">Parquet</a> ..</li>
<li class=""><a href="#eddtablefromthreddsfiles" class="">EDDTableFraTreddsFiler</a>   (Deprekert) aggregerer data fra filer med flere variabler med delte dimensjoner som betjenes av en <a href="https://www.unidata.ucar.edu/software/tds/" target="_blank" rel="noopener noreferrer" class="">TREDDS OPeNDAP server</a> ..</li>
<li class=""><a href="#eddtablefromwfsfiles" class="">EDDTableFra WFS Filer</a>   (Deprekert) gjør en lokal kopi av alle data fra en ArcGIS KartServer WFS server slik at dataene kan lagres raskt ERDDAP™ brukere.</li>
</ul>
<p>For tiden støttes ingen andre filtyper. Men det er vanligvis relativt enkelt å legge til støtte for andre filtyper. Kontakt oss hvis du har en forespørsel. Eller hvis dataene dine er i et gammelt filformat som du vil flytte fra, anbefaler vi å konvertere filene til å være NetCDF v3 .nc filer (og spesielt .nc filer med <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Diskret prøvetakingsgeometri (DSG) </a> Sammenhengende tagget Array datastruktur -- ERDDAP™ Kan raskt hente ut data fra dem) .. NetCDF er et bredt støttet binærformat, gir rask tilfeldig tilgang til dataene, og er allerede støttet av ERDDAP ..</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="fromfiles-details">FraFiles Detaljer<a href="#fromfiles-details" class="hash-link" aria-label="Direkte lenke tilFraFiles Detaljer" title="Direkte lenke tilFraFiles Detaljer" translate="no">​</a></h4>
<p>Følgende opplysninger gjelder alle underklasser av EDDTableFromFiles.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="aggregation">aggregering<a href="#aggregation" class="hash-link" aria-label="Direkte lenke tilaggregering" title="Direkte lenke tilaggregering" translate="no">​</a></h5>
<p>Denne klassen samler data fra lokale filer. Hver fil har en (relativt) liten tabell med data.</p>
<ul>
<li class="">Det resulterende datasettet vises som om alle filtabellene var kombinert (alle rekkene av data fra filen #1, pluss alle radene fra filen #2, ...) ..</li>
<li class="">Filene trenger ikke alle å ha alle de angitte variabler. Hvis en gitt fil ikke har en spesifisert variabel, ERDDAP™ vil legge til manglende verdier etter behov.</li>
<li class="">Variablene i alle filene må ha de samme verdiene for <a href="#scale_factor" class=""> add\_offset </a> , <a href="#missing_value" class=""> missing\_value </a> , <a href="#missing_value" class="">\_Fyll Verdi</a> , <a href="#scale_factor" class=""> scale\_factor </a> , og <a href="#units" class="">enheter</a> attributter (dersom noen) .. ERDDAP™ kontroller, men det er en ufullkommen test - hvis det er forskjellige verdier, ERDDAP Vet ikke hva som er riktig og derfor hvilke filer som er ugyldige. Hvis dette er et problem, kan du kanskje bruke <a href="#ncml-files" class="">NcML</a> eller <a href="#netcdf-operators-nco" class=""> NCO </a> å løse problemet.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="compressed-files">komprimerte filer<a href="#compressed-files" class="hash-link" aria-label="Direkte lenke tilkomprimerte filer" title="Direkte lenke tilkomprimerte filer" translate="no">​</a></h5>
<p>Kildedatafilene for alle EDDTableFromFiles underklasser kan komprimeres eksternt (f.eks. .tgz , .tar  .gz , .tar  .gzip , .gz , .gzip , .zip , .bz2 , eller .Z) .. Se <a href="#externally-compressed-files" class="">Ekstern komprimert fildokumentasjon</a> ..
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="cached-file-information-1">Cached filinformasjon<a href="#cached-file-information-1" class="hash-link" aria-label="Direkte lenke tilCached filinformasjon" title="Direkte lenke tilCached filinformasjon" translate="no">​</a></h5>
<ul>
<li class="">Når et EDDTableFromFiles datasett først lastes inn, leser EDDTableFromFiles informasjon fra alle relevante filer og oppretter tabeller (En rad for hver fil) med informasjon om hver gyldig fil og hver &quot;bad&quot; (forskjellige eller ugyldige) fil.<!-- -->
<ul>
<li class="">Tabellene lagres også på disk, som NetCDF v3 .nc filer i <em>bigParentDirectory</em> /datasett/ <em>Last2CharsOfDatasetID</em> / * datasetID * / i filer som heter:
dirTable .nc   (som har en liste over unike katalognavn) ,
fil Tabell .nc   (som holder tabellen med hver gyldig fils informasjon) ,
BadFiles .nc   (som holder tabellen med hver dårlig fils informasjon) ..</li>
<li class="">For å fremskynde tilgangen til et EDDTableFromFiles datasett (Men på bekostning av å bruke mer minne) Du kan bruke
[&lt;filTableInMemory&gt;true&lt;/filTableInMemory&gt;] (#filetablein memory)<br>
<!-- -->å fortelle ERDDAP™ å holde en kopi av filinformasjonstabellene i minnet.</li>
<li class="">Kopiering av filinformasjonstabellene på disken er også nyttig når ERDDAP™ stenges ned og omstartes: det lagrer EDDTable Fra Filer fra å måtte lese om alle datafilene.</li>
<li class="">Når et datasett lastes på nytt, ERDDAP™ Bare trenger å lese data i nye filer og filer som har endret seg.</li>
<li class="">Hvis en fil har en annen struktur fra de andre filene (For eksempel en annen datatype for en av variablene, eller en annen verdi for &quot; <a href="#units" class="">enheter</a> &quot; Attribut) , ERDDAP Legger filen til listen over -bad - filer. Informasjon om problemet med filen vil bli skrevet til <em>bigParentDirectory</em> /logs/log.txt fil.</li>
<li class="">Du bør aldri trenger å slette eller jobbe med disse filene. Et unntak er: Hvis du fortsatt gjør endringer i et datasett datasets.xml setup, kan du kanskje slette disse filene for å tvinge ERDDAP™ å lese alle filene på nytt siden filene vil leses/fortolkes annerledes. Hvis du noen gang trenger å slette disse filene, kan du gjøre det når ERDDAP™ Jeg løper. (Så sett en <a class="" href="/nb/docs/server-admin/additional-information#set-dataset-flag">flagg</a> Last datasettet på nytt ASAP.) Men ERDDAP™ vanligvis merker at datasets.xml Informasjonen samsvarer ikke med filen Tabellinformasjon og sletter filtabellene automatisk.</li>
<li class="">Hvis du ønsker å oppmuntre ERDDAP™ å oppdatere den lagrede datasettinformasjonen (Hvis du for eksempel nettopp har lagt til, fjernet eller endret noen filer til datasettets datakatalog) , bruk <a class="" href="/nb/docs/server-admin/additional-information#flag">flaggsystem</a> å tvinge ERDDAP™ å oppdatere informasjonen om den cachede filen.
 </li>
</ul>
</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="handling-requests-1">Forespørsler om håndtering<a href="#handling-requests-1" class="hash-link" aria-label="Direkte lenke tilForespørsler om håndtering" title="Direkte lenke tilForespørsler om håndtering" translate="no">​</a></h5>
<ul>
<li class="">ERDDAP™ tabellbaserte dataforespørsler kan sette begrensninger på enhver variabel.</li>
<li class="">Når en klients forespørsel om data behandles, kan EDDTableFromFiles raskt se i tabellen med gyldig filinformasjon for å se hvilke filer som kan ha relevante data. Hvis for eksempel hver kildefil har data for en fast plasseringsbue, kan EDDTableFromFiles meget effektivt bestemme hvilke filer som kan ha data innenfor et gitt lengdeområde og breddeområde.</li>
<li class="">Siden den gyldige filinformasjonstabellen inneholder minste og maksimale verdi av hver variabel for hver gyldig fil, kan EDDTableFromFiles ofte håndtere andre spørsmål ganske effektivt. For eksempel, hvis noen av bøyene ikke har en lufttrykksensor, og en klient ber om data for airPressure! = NaN, kan EDDTableFromFiles effektivt bestemme hvilke bøyer har lufttrykkdata.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="updating-the-cached-file-information-1">Oppdaterer informasjon om Cached fil<a href="#updating-the-cached-file-information-1" class="hash-link" aria-label="Direkte lenke tilOppdaterer informasjon om Cached fil" title="Direkte lenke tilOppdaterer informasjon om Cached fil" translate="no">​</a></h5>
<p>Når datasettet lastes på nytt, oppdateres den cachede filinformasjonen.</p>
<ul>
<li class="">Datasettet lastes opp regelmessig som bestemt av&lt;reloadEveryNMinutes&gt; i datasettets informasjon i datasets.xml ..</li>
<li class="">Datasettet lastes på nytt så snart som mulig ERDDAP™ oppdager at du har lagt til, fjernet, <a href="https://en.wikipedia.org/wiki/Touch_(Unix)" target="_blank" rel="noopener noreferrer" class="">Touch&#x27;d</a> (å endre filens siste Endret tid) eller endret en datafil.</li>
<li class="">Datasettet lastes på nytt så snart som mulig hvis du bruker <a class="" href="/nb/docs/server-admin/additional-information#flag">flaggsystem</a> ..</li>
</ul>
<p>Når datasettet lastes på nytt, ERDDAP™ sammenligner de tilgjengelige filene med den cachede filinformasjonstabellen. Nye filer leses og legges til i den gyldige filtabellen. Filer som ikke eksisterer lenger, slippes fra den gyldige filtabellen. Filer der filtidsstemplet har endret seg leses og informasjonen oppdateres. De nye tabellene erstatter de gamle tabellene i minnet og på disken.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="bad-files-1">Dårlige filer<a href="#bad-files-1" class="hash-link" aria-label="Direkte lenke tilDårlige filer" title="Direkte lenke tilDårlige filer" translate="no">​</a></h5>
<p>Tabellen over dårlige filer og grunnene til at filene ble erklært dårlige (skadet fil, manglende variabler, feil akseverdier etc.) e-post til e-post Alt Til e-postadresse (Kanskje du) Hver gang datasettet lastes på nytt. Du bør erstatte eller reparere disse filene så snart som mulig.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="missing-variables-1">Manglende variabler<a href="#missing-variables-1" class="hash-link" aria-label="Direkte lenke tilManglende variabler" title="Direkte lenke tilManglende variabler" translate="no">​</a></h5>
<p>Hvis noen av filene ikke har noen av dataVariable definert i datasettets datasets.xml Det er ok. Når EDDTableFromFiles leser en av disse filene, vil det fungere som om filen hadde variabelen, men med alle manglende verdier.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="near-real-time-data">I nærheten av sanntidsdata<a href="#near-real-time-data" class="hash-link" aria-label="Direkte lenke tilI nærheten av sanntidsdata" title="Direkte lenke tilI nærheten av sanntidsdata" translate="no">​</a></h5>
<ul>
<li class="">EDDTableFromFiles behandler forespørsler om svært nylige data som et spesielt tilfelle. Problemet: Hvis filene som utgjør datasettet oppdateres ofte, er det sannsynlig at datasettet ikke vil bli oppdatert hver gang en fil endres. Så EDDTableFromFiles vil ikke være klar over de endret filene. (Du kan bruke <a class="" href="/nb/docs/server-admin/additional-information#flag">flaggsystem</a> Men dette kan føre til ERDDAP™ Laster datasettet på nytt nesten hele tiden. I de fleste tilfeller anbefaler vi det ikke.) I stedet, EDDTableFromFiles behandler dette med følgende system: Når ERDDAP™ få en forespørsel om data innen de siste 20 timene (For eksempel 8 timer siden til nå) , ERDDAP™ vil søke alle filer som har data de siste 20 timene. Derfor ERDDAP™ trenger ikke å ha helt oppdaterte data for alle filene for å finne de nyeste dataene. Du bør fortsatt sette [&lt;Last på nytt EveryNMinutes&gt;] (#reloadvarelser) til en rimelig liten verdi (For eksempel 60) Men det trenger ikke å være lite (For eksempel 3) ..
 <!-- -->
<ul>
<li class="">
<p><strong>Ikke anbefalt</strong> organisering av nær-real-tid data i filene: Hvis du for eksempel har et datasett som lagrer data for mange stasjoner (eller bøy eller bane,) i mange år kan du arrangere filene slik at det for eksempel er én fil per stasjon. Men hver gang nye data for en stasjon kommer, må du lese en stor gammel fil og skrive en stor ny fil. Og når ERDDAP™ Laster datasettet på nytt, legger det merke til at noen filer er endret, så det leser filene helt. Det er ineffektivt.
 </p>
</li>
<li class="">
<p><strong>Anbefalt</strong> organisering av nær-real-tid data i filene: Lagre dataene i biter, for eksempel alle data for én stasjon/buoy/trajeksjon i ett år (eller en måned) .. Så, når et nytt datum kommer, bare filen med årets (eller månedens) Data påvirkes.</p>
</li>
<li class="">
<p>Beste: Bruk NetCDF v3 .nc filer med en ubegrenset dimensjon (tid) .. For å legge til nye data kan du legge til de nye dataene uten å måtte lese og skrive hele filen på nytt. Endringen gjøres svært effektivt og i hovedsak atomisk, så filen er aldri i en ukonsistent tilstand.</p>
</li>
<li class="">
<p>Ellers: Hvis du ikke/kan ikke bruke .nc filer med en ubegrenset dimensjon (tid) , så når du må legge til nye data, må du lese og omskrive hele den berørte filen (Forhåpentligvis lite fordi det bare har et års (eller månedens) Verdi av data) .. Heldigvis alle filene i tidligere år (eller måneder) For den stasjonen forblir uendret.</p>
</li>
</ul>
</li>
</ul>
<p>I begge tilfeller når ERDDAP™ Laster datasettet på nytt, de fleste filer er uendret; bare noen få små filer har endret seg og må leses.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="directories-1">Direktører<a href="#directories-1" class="hash-link" aria-label="Direkte lenke tilDirektører" title="Direkte lenke tilDirektører" translate="no">​</a></h5>
<p>Filene kan være i én mappe, eller i en katalog og dens underkataloger (Rekursivt) .. Hvis det er et stort antall filer (For eksempel &gt; 1000) , operativsystemet (og dermed EDDTableFra Filer) vil fungere mye mer effektivt hvis du lagrer filene i en rekke underkataloger (én per år, eller én i måneden for datasett med svært hyppige filer) , slik at det aldri er et stort antall filer i en gitt katalog.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="remote-directories-and-http-range-requests-1">Eksterne kataloger og HTTP Range-forespørsler<a href="#remote-directories-and-http-range-requests-1" class="hash-link" aria-label="Direkte lenke tilEksterne kataloger og HTTP Range-forespørsler" title="Direkte lenke tilEksterne kataloger og HTTP Range-forespørsler" translate="no">​</a></h5>
<ul>
<li class="">
<p><strong>Eksterne kataloger og HTTP Range-forespørsler</strong>   (AKA Byte Service, Byte Range forespørsler) --
EDDGrid FraNcFiles, EDDTableFromMultidimNcFiles, EDDTableFromNcFiles og EDDTableFromNcCFFiles, kan noen ganger betjene data fra .nc filer på eksterne servere og tilgjengelig via HTTP hvis serveren støtter <a href="https://en.wikipedia.org/wiki/Byte_serving" target="_blank" rel="noopener noreferrer" class="">Byte servering</a> via HTTP-områdeforespørsler (HTTP-mekanismen for byte-tjeneste) .. Dette er mulig fordi netcdf-java (som ERDDAP™ Bruker til å lese .nc filer) støtter lesing av data fra fjernkontrollen .nc filer via HTTP range forespørsler.</p>
<p><strong>Ikke gjør dette!</strong><br>
<!-- -->Bruk i stedet&lt;cacheFromUrl&gt; system] (#cachefromurl) ..</p>
</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="cachefromurl">CacheFromUrl<a href="#cachefromurl" class="hash-link" aria-label="Direkte lenke tilCacheFromUrl" title="Direkte lenke tilCacheFromUrl" translate="no">​</a></h5>
<ul>
<li class="">[ ** &lt;cacheFromUrl&gt; ** ] (#cachefromurl) -
Alle EDDGrid Fra Filer og alle EDDTableFromFiles datasett støtter et sett tagger som forteller ERDDAP™ å laste ned og vedlikeholde en kopi av alle eksterne datasetts filer, eller en cache av noen få filer (Last ned etter behov) .. <strong>Dette er en utrolig nyttig funksjon.</strong>
<ul>
<li class="">
<p>Den&lt;cacheFromUrl&gt; tag lar deg angi en URL med en liste over eksterne datasetts filer fra en fjernfilliste.</p>
<ul>
<li class="">Usamlede datasett i TREDDS, f.eks.
<a href="https://data.nodc.noaa.gov/thredds/catalog/aquarius/nodc%5C%5C_binned%5C%5C_V3.0/monthly/" target="_blank" rel="noopener noreferrer" class="">https://data.nodc.noaa.gov/thredds/catalog/aquarius/nodc\\_binned\\_V3.0/monthly/</a>  \[ 2020-10-21 Denne serveren er ikke lenger pålitelig tilgjengelig. \]</li>
<li class="">Usamlede datasett i Hyrax f.eks.
<a href="https://podaac-opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/" target="_blank" rel="noopener noreferrer" class="">https://podaac-opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/</a></li>
<li class="">De fleste Apache-lignende kataloglister, f.eks.
<a href="https://www.ncei.noaa.gov/data/global-precipitation-climatology-project-gpcp-daily/" target="_blank" rel="noopener noreferrer" class="">https://www.ncei.noaa.gov/data/global-precipitation-climatology-project-gpcp-daily/</a></li>
<li class="">S3 bøtter, f.eks.
<a href="https://noaa-goes17.s3.us-east-1.amazonaws.com/" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com/</a><br>
<!-- -->Dette kan imidlertid kreve en AWS-konto og mer installasjon.
Se <a href="#working-with-aws-s3-files" class="">samarbeid med S3 Buckets i ERDDAP™ </a> ..
Du trenger vanligvis ikke å bruke cache FraUrl med filer i S3 bøtter hvis filene er ASCII-filer (f.eks.) fordi ERDDAP™ kan effektivt lese data fra bøtte direkte via en strøm.</li>
</ul>
<p>ERDDAP™ vil kopiere eller lagre disse filene i datasettet&lt;filDir&gt; mappe. Hvis du trenger støtte for en annen type fjernfilliste (f.eks. FTP) Send din forespørsel til Chris. John på noaa.gov.</p>
<ul>
<li class="">Standardverdi for&lt;cacheFromUrl&gt; tag er null. Hvis du ikke angir en verdi for&lt;cacheFromUrl&gt; tag, kopi/kache-systemet vil ikke bli brukt for dette datasettet.</li>
<li class="">Hvis datasettets&lt;fileRegex&gt; Det er noe annet enn .** ERDDAP™ vil bare laste ned filer som passer til filen Regex.</li>
<li class="">Hvis datasettets&lt;rekursiv&gt; innstilling er sant og fjernfilene er i undermapper, ERDDAP™ vil se i eksterne underkataloger som passer til datasettet [&lt;pathRegex&gt;] (#pathregex) Opprett samme katalogstruktur lokalt, og legg de lokale filene i de samme underkatalogene.</li>
<li class="">I Generer Datasett Xml, hvis du angir en&lt;cacheFromUrl&gt; verdi, Genererer Datasett Xml vil skape den lokale&lt;filDir&gt; mappe og kopier 1 fjernfil i den. Opprett datasett Xml vil da generere datasets.xml bit basert på den prøvefilen (angi prøve Fil= Ingenting) ..</li>
<li class="">Hvis datakilden er fjern ERDDAP™ , bruk <a href="#eddfromerddap" class=""> EDDGrid FraErddap</a> eller <a href="#eddfromerddap" class="">EDDTableFraErddap</a> i stedet for&lt;cacheFromUrl&gt;. På den måten, din lokale ERDDAP™ vil synes å ha datasettet, men trenger ikke å lagre noen av dataene lokalt. Den eneste grunnen til å bruke&lt;cacheFromUrl&gt; for å få data fra en ekstern ERDDAP™ er når du har en annen grunn til at du vil ha en lokal kopi av datafilene. I så fall:<!-- -->
<ul>
<li class="">Dette datasettet vil prøve å abonnere på datasettet på fjernkontrollen ERDDAP slik at endringer i det datasettet vil kalle dette datasettets flagg Url, som får dette lokale datasettet til å laste og laste ned de endret eksterne filene. Derfor vil det lokale datasettet bli oppdatert umiddelbart etter endringer i fjerndatasettet.</li>
<li class="">Du bør sende e-post til administratoren på fjernkontrollen ERDDAP™ å be om datasets.xml for fjerndatasettet slik at du kan gjøre datasettet i din lokale ERDDAP™ ser ut som datasettet i fjernkontrollen ERDDAP ..</li>
</ul>
</li>
<li class="">Hvis datakilden er fjern ERDDAP™ , vil det lokale datasettet prøve å abonnere på fjerndatasettet.<!-- -->
<ul>
<li class="">Hvis abonnementet lykkes, når fjernkontrollen ERDDAP Laster på og har nye data, det vil kontakte flagget URL for dette datasettet, noe som gjør det til å laste om og laste ned de nye og / eller endret datafiler.</li>
<li class="">Hvis abonnementet mislykkes (uansett grunn) eller hvis du bare vil sikre at det lokale datasettet er oppdatert, kan du sette en <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> for det lokale datasettet, slik at det vil laste på nytt, så det vil sjekke for nye og/eller endret eksterne datafiler.</li>
</ul>
</li>
<li class="">Hvis datakilden ikke er fjerntliggende ERDDAP : datasettet vil sjekke for nye og/eller endret eksterne filer når det lastes på nytt. Dette er normalt kontrollert av [&lt;Last på nytt EveryNMinutes&gt;] (#reloadvarelser) .. Men hvis du vet når det er nye fjernfiler, kan du angi en <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> for det lokale datasettet, så det vil laste om og sjekke for nye og/eller endret eksterne datafiler. Hvis dette skjer rutinemessig på et bestemt tidspunkt på dagen (f.eks. på 7am) , kan du gjøre en kron jobb å bruke curl Kontakt flagget Url for dette datasettet, så det vil laste om og sjekke for nye og/eller endret eksterne datafiler.</li>
</ul>
</li>
<li class="">
<p>Den&lt;cacheSizeGB&gt;-merket angir størrelsen på den lokale bufferen. Du trenger sannsynligvis bare å bruke dette når du jobber med skylagringssystemer som <a href="https://aws.amazon.com/s3/" target="_blank" rel="noopener noreferrer" class="">Amazon S3</a> som er et vanlig brukt lagringssystem som er en del av <a href="https://aws.amazon.com/" target="_blank" rel="noopener noreferrer" class="">Amazon Web Services (AWS) </a> .. Standard er -1.</p>
<ul>
<li class="">Hvis verdien er&lt;=0 (For eksempel standardverdien på -1) ,
ERDDAP™ vil laste ned og vedlikeholde en <strong>komplett kopi</strong> av alle eksterne datasetts filer i datasettets&lt;filDir&gt;.<!-- -->
<ul>
<li class="">Dette er innstillingen som anbefales når det er mulig.</li>
<li class="">Hver gang datasettet lastes på nytt, sammenligner det navn, størrelser og sisteModifiserte tider av fjernfiler og lokale filer, og laster ned alle eksterne filer som er nye eller har endret.</li>
<li class="">Hvis en fil som var på ekstern server forsvinner, ERDDAP™ vil ikke slette den tilsvarende lokale filen (ellers, hvis noe var midlertidig galt med fjernserveren, ERDDAP™ kan slette noen eller alle de lokale filene!) ..</li>
<li class="">Med denne innstillingen vil du vanligvis sette&lt;oppdaterEveryNMillis&gt; til -1, siden datasettet er klar over når det har kopiert nye datafiler på plass.</li>
</ul>
</li>
<li class="">Hvis verdien er &gt;0,
ERDDAP™ vil laste ned filer fra fjerndatasettet etter behov i en lokal <strong>cache</strong> (i datasettets&lt;filDir&gt;) med en terskelstørrelse på det angitte antallet GB.<!-- -->
<ul>
<li class="">Cacheen må være stor nok til å holde minst flere datafiler.</li>
<li class="">Generelt vil jo større cache, jo bedre, fordi den neste forespurte datafilen vil være mer sannsynlig å være i cache allerede.</li>
<li class="">Caching bør kun brukes når ERDDAP™ kjører på en sky dataserver (For eksempel, en AWS beregnende instans) og fjernfilene i et skylagringssystem (For eksempel AWS S3) ..</li>
<li class="">Når diskplassen som brukes av lokale filer overstiger cache SizeGB, ERDDAP™ Snart vil (Kanskje ikke umiddelbart) slette noen av de cachede filene (i dag, basert på minst brukte (LRU) algoritme) til diskplassen som brukes av de lokale filene er&lt;0.75\* cacheSizeGB (i målet) .. Ja, det er tilfeller der LRU utfører veldig dårlig - det er ingen perfekt algoritme.</li>
<li class="">ERDDAP™ vil aldri prøve å slette en cached fil som ERDDAP™ Begynnte å bruke i de siste 10 sekunder. Dette er et ufullstendig system for å håndtere cachesystemet og datafillesersystemet er bare løst integrert. På grunn av denne regelen, ERDDAP™ kan ikke være i stand til å slette nok filer til å nå sitt mål, i hvilket tilfelle det vil skrive ut en advarsel til log.txt-filen, og systemet vil kaste bort mye tid som prøver å rendre cache, og det er mulig at størrelsen på filene i cache kan mye overskride cacheSizeGB. Hvis dette noen gang skjer, bruk en større cacheSizeGB-innstilling for det datasettet.</li>
<li class="">I dag, ERDDAP™ Kontroller aldri om den eksterne serveren har en nyere versjon av en fil som er i den lokale cache. Hvis du trenger denne funksjonen, vennligst e-post Chris. John på noaa.gov.</li>
</ul>
</li>
<li class="">Selv om bruken av de samme merkenavnene kan bety at kopisystemet og cache-systemet bruker det samme underliggende systemet, er det ikke riktig.<!-- -->
<ul>
<li class="">Kopieringssystemet starter proaktivt oppgaveThread oppgaver for å laste ned nye og endret filer hver gang datasettet lastes på nytt. Bare filer som faktisk er kopiert til den lokale katalogen er tilgjengelige via ERDDAP™ - Datasett.</li>
<li class="">Cachesystemet får fjernfillisten hver gang datasettet lastes på nytt og later som om alle disse filene er tilgjengelige via ERDDAP™ - Datasett. Interessant, alle fjernfilene vises selv i datasettets / filer/ nettsider og er tilgjengelige for nedlasting (Selv om kanskje bare etter en forsinkelse mens filen først lastes ned fra den eksterne serveren til den lokale cache.)</li>
</ul>
</li>
<li class="">Datasett som bruker cacheSizeGB kan ha nytte av å bruke en <a href="#nthreads" class="">nThreds</a> innstilling større enn 1, fordi dette vil gjøre det mulig å laste ned mer enn 1 ekstern fil om gangen.</li>
</ul>
</li>
<li class="">
<p>Den&lt;cachePartialPathRegex&gt; tag er en sjelden brukt tag som kan angi et alternativ for datasettets [&lt;pathRegex&gt;] (#pathregex) .. Standarden er null.</p>
<ul>
<li class="">Bare bruk dette hvis du kopierer hele datasettet via standarden&lt;cacheSizeGB&gt; verdi på -1. Med&lt;cacheSizeGB&gt; -verdier på &gt;1, vil dette bli ignorert fordi det er ikke sensisk.</li>
<li class="">Se [dokumentasjonen for&lt;pathRegex&gt;] (#pathregex) For veiledning om hvordan å bygge regulær.</li>
<li class="">Hvis dette er angitt, vil det bli brukt hver gang datasettet lastes på nytt, bortsett fra første gang et datasett lastes på nytt i begynnelsen av en måned.</li>
<li class="">Dette er nyttig når fjerndatasettet lagres i en labyrint av underkataloger og når det aller fleste av disse filene sjelden, om noen gang, endres. (&lt;hoste&gt; NASA&lt;hoste&gt;) Du kan for eksempel angi en&lt;cachePartialPathRegex&gt; som bare matcher gjeldende år eller gjeldende måned. Disse regulærene er svært vanskelig å angi, fordi alle delvise og fulle banenavn må matche&lt;cachePartialPathRegex &gt; og fordi&lt;cachePartialPathRegex&gt; må fungere med eksterne URLer og lokale mapper. Et virkelig eksempel er:</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;cacheFromUrl&gt;https://data.nodc.noaa.gov/ghrsst/GDS2/L4/GLOB/JPL/MUR/v4.1/&lt;/cacheFromUrl&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            \\&gt;!-- \\[2020-10-21 This server is no longer reliably available.\\] For most types of remote directories, omit the filename (e.g., contents.html for Hyrax). --&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;fileDir&gt;/u00/satellite/MUR41/&lt;/fileDir&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;fileNameRegex&gt;\\*\\.nc&lt;/fileNameRegex&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;recursive&gt;true&lt;/recursive&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;pathRegex&gt;.\\*&lt;/pathRegex&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;cachePartialPathRegex&gt;.\\*/v4\\.1/(|2018/(|01./))&lt;/cachePartialPathRegex&gt;  </span><br></span></code></pre></div></div>
<p>URL-adressen ovenfor har filer i undermapper basert på år (f.eks. 2018) og årets dag (f.eks. 001, 002, ..., 365 eller 366) ..
Merk at&lt;cachePartialPathRegex&gt; begynner med .\*
deretter har en bestemt underkatalog som er vanlig for eksterne nettadresser og lokale mapper, for eksempel /v4\.1/
så har en rekke hekkede fangstgrupper der det første alternativet er ingenting
og det andre alternativet er en bestemt verdi.</p>
<p>Eksemplet ovenfor vil bare matche kataloger for andre 10 dager i 2018, f.eks.
<a href="https://data.nodc.noaa.gov/ghrsst/GDS2/L4/GLOB/JPL/MUR/v4.1/2018/010/" target="_blank" rel="noopener noreferrer" class="">https://data.nodc.noaa.gov/ghrsst/GDS2/L4/GLOB/JPL/MUR/v4.1/2018/010/</a>  \[ 2020-10-21 Denne serveren er ikke lenger pålitelig tilgjengelig. \]<br>
<!-- -->dag 011, 012, ..., 019.
(Se dette <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">Regulatorisk dokumentasjon</a> og <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">Regular tutorial</a> ..)<br>
<!-- -->Hvis du trenger hjelp til å skape&lt;cachePartialPathRegex&gt;, vennligst e-post den&lt;cacheFra Url&gt; til Chris. John på noaa.gov.</p>
<ul>
<li class="">En felles tilnærming: Hvis du vil bruke&lt;cachePartialPathRegex&gt;, ikke bruk det i utgangspunktet, fordi du vil ERDDAP™ å laste ned alle filene i utgangspunktet. Etter ERDDAP™ har lastet ned alle filene, legger den til datasettets bit av datasets.xml ..
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="thousands-of-files">Tusenvis av filer<a href="#thousands-of-files" class="hash-link" aria-label="Direkte lenke tilTusenvis av filer" title="Direkte lenke tilTusenvis av filer" translate="no">​</a></h5>
<p>Hvis datasettet ditt har mange tusen filer, ERDDAP™ kan være langsom til å svare på forespørsler om data fra dette datasettet. Det er to problemer her:
 </p>
<ol>
<li class="">Antall filer per katalog.
internt, ERDDAP™ fungerer med samme hastighet uavhengig av om n-filer er i én katalog eller spredt i flere kataloger.
 
Men det er et problem: Jo flere filer i en gitt katalog, jo langsommere er operativsystemet ved å returnere listen over filer i katalogen (per fil) til ERDDAP .. Svartiden kan være O (n log n) .. Det er vanskelig å si hvor mange filer i én katalog er for mange, men 10 000 er sannsynligvis for mange. Så hvis oppsettet ditt genererer massevis av filer, kan en anbefaling her være: sette filene i logisk organiserte underkataloger (f.eks. stasjon eller stasjon/år) ..</li>
</ol>
<p>En annen grunn til å bruke underkataloger: hvis en bruker vil bruke ERDDAP &#x27;s &quot;files&quot; systemet for å finne navnet på den eldste filen for stasjon X, er det raskere og mer effektivt hvis filene er i stasjon / år underkataloger, fordi mye mindre informasjon må overføres.</p>
<ol start="2">
<li class="">Totalt antall filer.
For tabelldatasett, ERDDAP™ holde oversikt over verdiområdet for hver variabel i hver fil. Når en bruker gjør en forespørsel, ERDDAP™ må lese alle data fra alle filene som kan ha data som samsvarer med brukerens forespørsel. Hvis brukeren ber om data fra en begrenset tid (For eksempel en dag eller en måned) , så ERDDAP™ vil ikke trenger å åpne for mange filer i datasettet ditt. Men det er ekstreme tilfeller der nesten hver fil kan ha samsvarende data (f.eks. når vannTemperatur=13.2C) .. Siden det tar ERDDAP™ litt tid (delvis søketiden på HDD, delvis tiden til å lese filhodet) Bare for å åpne en gitt fil (og mer om det er mange filer i katalogen) , det er en betydelig tidsstraff hvis det totale antall filer som ERDDAP™ Åpent er veldig stort. Selv å åpne 1000 filer tar betydelig tid. Så det er fordeler å periodisk konsolidere de daglige filene i større deler (For eksempel 1 stasjon i 1 år) .. Jeg forstår at du kanskje ikke vil gjøre dette av forskjellige grunner, men det fører til mye raskere svar. I ekstreme tilfeller (Jeg håndterer for eksempel et GTSPP-datasett som har ~ 35 millioner kildefiler) , betjene data fra et stort antall kildefiler er upraktisk fordi ERDDAP Svaret på enkle spørsmål kan ta timer og bruke tonn minne. Ved å konsolidere kildefiler til et mindre tall (for GTSPP, jeg har 720 nå, 2 per måned) , ERDDAP™ kan reagere rimelig raskt. Se <a href="#millions-of-files" class="">Millioner av filer</a><br>
<!-- --> </li>
</ol>
<p>N.B. Solid State Drives er flott! Den raskeste og enkleste måten å hjelpe på ERDDAP™ håndtere et stort antall (liten) filer er å bruke en solid tilstandsstasjon. Se <a class="" href="/nb/docs/server-admin/additional-information#solid-state-drives">Solid State Drives er flott!</a><br>
<!-- --> </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="millions-of-files">Millioner av filer<a href="#millions-of-files" class="hash-link" aria-label="Direkte lenke tilMillioner av filer" title="Direkte lenke tilMillioner av filer" translate="no">​</a></h5>
<ul>
<li class="">
<p>Noen datasett har millioner av kildefiler. ERDDAP™ kan håndtere dette, men med blandede resultater.</p>
<ul>
<li class="">For forespørsler som bare involverer variabler som er oppført i [&lt; subsetVariables &gt;] (#subsetvariables) , ERDDAP™ har all nødvendig informasjon som allerede er hentet fra datafilene og lagret i én fil, slik at den kan svare svært, svært raskt.</li>
<li class="">For andre forespørsler ERDDAP™ kan skanne datasettets <a href="#cached-file-information" class="">cached filinformasjon</a> og finne ut at bare noen få av filene kan ha data som er relevant for forespørselen og dermed reagere raskt.</li>
<li class="">For andre forespørsler (For eksempel vannTemperatur=18 grad\_C) der en fil kan ha relevante data, ERDDAP™ må åpne et stort antall filer for å se om hver av filene har data som er relevant for forespørselen. Filene åpnes sekvensielt. På alle operativsystemer og ethvert filsystem (andre enn solide tilstandsstasjoner) Dette tar lang tid (så ERDDAP™ Svarer sakte) og virkelig knytter opp filsystemet (så ERDDAP™ svarer sakte på andre forespørsler) ..</li>
</ul>
</li>
</ul>
<p>Heldigvis finnes det en løsning.</p>
<ol>
<li class="">Konfigurer datasettet på en ikke-offentlig ERDDAP™   (Din personlige datamaskin?) ..</li>
<li class="">Opprett og kjør et skript som krever en rekke .nc CF-filer, hver med en stor del av datasettet, vanligvis en tidsperiode (Alle dataene i en gitt måned) .. Velg tidsperioden slik at alle resulterende filer er mindre enn 2GB (Forhåpentligvis større enn 1 GB) .. Hvis datasettet har data i nærheten av sanntid, kjør skriptet for å regenerere filen for gjeldende tidsperiode (For eksempel denne måneden) Ofte (Hvert tiende minutt? Hver time?) .. Forespørsler til ERDDAP™ for .nc CF-filer oppretter en NetCDF v3 .nc fil som bruker <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Diskret prøvetakingsgeometri (DSG) </a> Sammenhengende raged Array datastrukturer).</li>
<li class="">Sett opp en <a href="#eddtablefromnccffiles" class="">EDDTableFraNcCFFiler</a> Datasett på offentligheten din ERDDAP™ som får data fra .nc  (CF) Filer. ERDDAP™ kan raskt trekke ut data fra disse filene. Siden det nå er dusinvis eller hundrevis (I stedet for millioner) av filer, selv om ERDDAP™ må åpne alle filene, det kan gjøre det raskt.</li>
</ol>
<p>Ja, dette systemet tar litt tid og innsats å sette opp, men det fungerer veldig, veldig bra. De fleste forespørsler kan behandles 100 ganger raskere enn tidligere.
\[ Bob visste at dette var en mulighet, men det var Kevin O&#x27;Brien som først gjorde dette og viste at det fungerer bra. Nå, Bob bruker dette til GTSPP-datasettet som har om lag 18 millioner kildefiler og som ERDDAP™ Nå tjener vi via rundt 500 .nc  (CF) Filer. \]</p>
<p>N.B. Solid State Drives er flott! Den raskeste og enkleste måten å hjelpe på ERDDAP™ håndtere et stort antall (liten) filer er å bruke en solid tilstandsstasjon. Se <a class="" href="/nb/docs/server-admin/additional-information#solid-state-drives">Solid State Drives er flott!</a><br>
<!-- --> </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="huge-files">Store filer<a href="#huge-files" class="hash-link" aria-label="Direkte lenke tilStore filer" title="Direkte lenke tilStore filer" translate="no">​</a></h5>
<ul>
<li class="">En enkelt enorm datafil (spesielt store ASCII-datafiler) kan forårsake en OutOfMemory feil. Hvis dette er problemet, bør det være åpenbar fordi ERDDAP™ vil ikke laste datasettet. Løsningen, hvis det er mulig, er å dele filen i flere filer. Ideelt sett kan du dele filen i logiske deler. Hvis filen for eksempel har 20 måneders dataverdi, kan den deles i 20 filer, hver med 1 måneds dataverdi. Men det er fordeler selv om hovedfilen er delt opp vilkårlig. Denne tilnærmingen har flere fordeler: a) Dette vil redusere minnet som trengs for å lese datafilene til 1/20, fordi bare én fil leses om gangen. b) Ofte, ERDDAP™ kan håndtere forespørsler mye raskere fordi det bare må se i en eller noen få filer for å finne data for en gitt forespørsel. c) Hvis datainnsamlingen pågår, kan de eksisterende 20 filene forbli uendret, og du trenger bare å endre en, liten, ny fil for å legge til neste måneds dataverdi i datasettet.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="ftp-troubleadvice-1">FTP-problem/advice<a href="#ftp-troubleadvice-1" class="hash-link" aria-label="Direkte lenke tilFTP-problem/advice" title="Direkte lenke tilFTP-problem/advice" translate="no">​</a></h5>
<ul>
<li class="">Hvis du FTP nye datafiler til ERDDAP™ server mens ERDDAP™ løper, det er muligheten til at ERDDAP™ vil laste datasettet på nytt under FTP-prosessen. Det skjer oftere enn du kanskje tror! Hvis det skjer, vises filen å være gyldig (Den har et gyldig navn) , men filen er ikke gyldig. Hvis ERDDAP™ prøver å lese data fra den ugyldige filen, vil den resulterende feilen gjøre filen lagt til i tabellen over ugyldige filer. Dette er ikke bra. For å unngå dette problemet, bruk et midlertidig filnavn når FTP&#x27;ing filen, for eksempel ABC2005 .nc  \_TEMP . Deretter filenNameRegex test (Se nedenfor) vil vise til at dette ikke er en relevant fil. Når FTP-prosessen er fullført, endrer du filen til riktig navn. Omdøpingsprosessen vil gjøre filen relevant på et øyeblikk.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="file-name-extracts">Filnavn pakker ut<a href="#file-name-extracts" class="hash-link" aria-label="Direkte lenke tilFilnavn pakker ut" title="Direkte lenke tilFilnavn pakker ut" translate="no">​</a></h5>
<p>\[ Denne funksjonen er utformet. Vennligst bruk <a href="#filename-sourcenames" class="">\<em>\</em> \* filName pseudo sourceName </a> I stedet. \]<br>
<!-- -->EDDTableFromFiles har et system for å trekke ut en streng fra hvert filnamn og bruke det for å gjøre en pseudodatavariabel. For tiden er det ikke noe system for å tolke disse strengene som datoer/tider. Det er flere XML-merker å konfigurere dette systemet. Hvis du ikke trenger del eller hele dette systemet, må du bare ikke angi disse taggene eller bruke &quot;verdier.</p>
<ul>
<li class="">PreExtractRegex er et <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">regulært uttrykk</a>   ( <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">tutorial</a> ) brukes til å identifisere tekst som skal fjernes fra starten av filnavnet. Fjerningen skjer bare dersom regulært samsvarer. Dette starter vanligvis med å matche starten på filnavnet.</li>
<li class="">post ExtractRegex er et regelmessig uttrykk som brukes til å identifisere tekst som skal fjernes fra slutten av filnavnet. Fjerningen skjer bare dersom regulært samsvarer. Dette slutter vanligvis med &quot;$&quot; for å matche slutten av filnavnet.</li>
<li class="">ekstraktRegex Hvis det er til stede, brukes dette regulære uttrykket etter preExtractRegex og postExtractRegex for å identifisere en streng som skal ekstraheres fra filnavnet (For eksempel stationID ) .. Hvis regulært regulært ikke samsvarer, brukes hele filnavnet (minus preExtract og post Pakk ut) .. Bruk &quot;.\* to for å matche hele filnavnet som er igjen etter preExtractRegex og postExtractRegex.</li>
<li class="">kolonne NameForExtract er datakolonnen kildenavn for de ekstraherte strengene. A dataVariable Med dette <a href="#sourcename" class=""> sourceName </a> Må være i dataVariable s-liste (med alle datatyper, men vanligvis streng) ..</li>
</ul>
<p>For eksempel, hvis et datasett har filer med navn som XYZAble .nc , XYZBaker .nc , XYZCharlie .nc , ... og du vil skape en ny variabel ( stationID ) når hver fil leses som vil ha stasjon ID-verdier (Able, Baker, Charlie, ...) ekstrahert fra filnavnene, kan du bruke disse taggene:</p>
<ul>
<li class="">&lt;preExtractRegex&gt;^XYZ&lt;/preExtractRegex&gt;
Den opprinnelige ^ er et regulært uttrykk spesielt tegn som tvinger ERDDAP™ å se etter XYZ i begynnelsen av filnavnet. Dette forårsaker at XYZ, hvis funnet i begynnelsen av filnavnet, fjernes (for eksempel filnamnet XYZAble .nc blir Able .nc ) ..</li>
<li class="">&lt;postExtractRegex&gt;\ .nc $&lt;/postExtractRegex&gt;
$ på slutten er et regelmessig uttrykk spesielt tegn som tvinger ERDDAP™ å se etter .nc ved slutten av filnavnet. Siden . er et regulært uttrykk spesielt tegn (som matcher ethvert tegn) Det kodes som \. her (fordi 2E er det heksadesimale tegnnummeret i en periode) .. Dette forårsaker .nc Hvis funnet i slutten av filnavnet, som skal fjernes (for eksempel det delvise filnavnet Able .nc blir Able) ..</li>
<li class="">&lt;ekstraktRegex&gt;.\<em>&lt;/Extra Regex&gt;
.\</em> regulært uttrykk passer alle gjenværende tegn (for eksempel det delvise filnavnet Able blir ekstrakt for den første filen) ..</li>
<li class="">&lt;kolonneName stationID &lt;/kolonneName
Dette forteller ERDDAP™ å opprette en ny kildekolonne kalt stationID Når du leser hver fil. Hver rekke data for en gitt fil vil ha teksten hentet fra sitt filnamn (For eksempel Able) som verdien i stationID kolonne.</li>
</ul>
<p>I de fleste tilfeller er det mange verdier for disse ekstrakt tags som vil gi de samme resultatene - vanlige uttrykk er svært fleksible. Men i noen tilfeller er det bare én måte å få ønsket resultat på.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="pseudo-sourcenames">Pseudo sourceName s<a href="#pseudo-sourcenames" class="hash-link" aria-label="Direkte lenke tilPseudo sourceName s" title="Direkte lenke tilPseudo sourceName s" translate="no">​</a></h5>
<p>Hver variabel i alle datasett i ERDDAP™ har en [&lt; sourceName &gt;] (#kildenavn) som angir kildens navn for variabelen. EDDTableFromFiles støtter noen pseudo sourceName som trekker ut en verdi fra et annet sted (For eksempel filnavnet eller verdien av en global egenskap) og fremme den verdien til å være en kolonne av konstante verdier for den delen av data (f.eks. tabellen i filens data) .. For disse variablene må du angi variabelens datatype via [&lt;dataType&gt;] (#datatype) Tag. Hvis den ekstraherte informasjonen er en datoTime-streng, angir du formatet på datoTime-strengen i <a href="#string-time-units" class="">enhetsattributt</a> .. pseudoen sourceName Alternativer er:
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="global-sourcenames">Global: sourceName s<a href="#global-sourcenames" class="hash-link" aria-label="Direkte lenke tilGlobal: sourceName s" title="Direkte lenke tilGlobal: sourceName s" translate="no">​</a></h6>
<p>En global metadata-attributt i hver kildedatafil kan markedsføres til å være en kolonne med data. Hvis en variabel er&lt; sourceName &gt; har formatet</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;global:*attributeName*&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Når ERDDAP™ å lese data fra en fil, ERDDAP™ vil søke etter en global egenskap av dette navnet (For eksempel PI) og opprette en kolonne fylt med attributtens verdi. Dette er nyttig når attributten har forskjellige verdier i ulike kildefiler, fordi ellers ville brukerne bare se en av disse verdiene for hele datasettet. For eksempel</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;global:PI&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Når du fremmer en egenskap som skal være data, ERDDAP™ Fjerner den tilsvarende egenskapen. Dette er hensiktsmessig fordi verdien sannsynligvis er forskjellig i hver fil; mens i det samlede datasettet i ERDDAP™ Den vil bare ha én verdi. Hvis du vil, kan du legge til en ny verdi for attributtet for hele datasettet ved å legge til en ny verdi for attributtet&lt;navn=&quot; <em>attributt Navn</em> &quot;&gt; <em>Ny Verdi</em> &lt;/att&gt; til datasettets globale [&lt; addAttributes &gt;] (#addattributes) .. Globale egenskaper som ERDDAP™ krever for eksempel institusjon, må du legge til en ny verdi for egenskapen.
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="variable-sourcenames">variabel: sourceName s<a href="#variable-sourcenames" class="hash-link" aria-label="Direkte lenke tilvariabel: sourceName s" title="Direkte lenke tilvariabel: sourceName s" translate="no">​</a></h6>
<p>En variabels metadataattributt i hver fil kan fremmes til å være en kolonne med data. Hvis en variabel er&lt; <a href="#sourcename" class=""> sourceName </a> \&gt; har format</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;variable:*variableName*:*attributeName*&lt;sourceName&gt;</span><br></span></code></pre></div></div>
<p>Når ERDDAP™ å lese data fra en fil, ERDDAP™ vil se etter den angitte egenskapen (For eksempel ID) den angitte variabelen (For eksempel instrumenter) og opprette en kolonne fylt med attributtens verdi. Foreldrevariabelen (For eksempel instrumenter) trenger ikke å være en av dataVariable i datasettets definisjon i ERDDAP .. For eksempel</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;variable:instrument:ID&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Dette er nyttig når attributten har forskjellige verdier i ulike kildefiler, fordi ellers ville brukerne bare se en av disse verdiene for hele datasettet.</p>
<p>Når du fremmer en egenskap som skal være data, ERDDAP™ Fjerner den tilsvarende egenskapen. Dette er hensiktsmessig fordi verdien sannsynligvis er forskjellig i hver fil; mens i det samlede datasettet i ERDDAP™ Den vil bare ha én verdi. Hvis du vil, kan du legge til en ny verdi for attributtet for hele datasettet ved å legge til en ny verdi for attributtet&lt;navn=&quot; <em>attributt Navn</em> &quot;&gt; <em>Ny Verdi</em> &lt;/att&gt; til variabelen [&lt; addAttributes &gt;] (#addattributes) .. For attributter som ERDDAP™ krever for eksempel, ioos\_category   (avhengig av ditt oppsett) Du må legge til en ny verdi for egenskapen.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="filename-sourcenames">filName sourceName s<a href="#filename-sourcenames" class="hash-link" aria-label="Direkte lenke tilfilName sourceName s" title="Direkte lenke tilfilName sourceName s" translate="no">​</a></h6>
<p>Du kan trekke ut en del av en fils filName og promotere det for å være en kolonne med data. Format for denne pseudoen [&lt; sourceName &gt;] (#kildenavn) er</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*fileName,*regex*,*captureGroupNumber*&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>For eksempel</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*fileName,A(\\d{12})\\.slcpV1.nc,1&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Når EDDTableFromFiles leser dataene fra en fil, vil den sørge for at filenName (for eksempel A201807041442.slcpV1 .nc ) matcher det angitte regulære uttrykket (&quot;regex&quot;) og trekk ut det angitte (I dette tilfellet den første) fangstgruppe (som er en del omgitt av parentes) , for eksempel  &quot;201807041442&quot;. (Se dette <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">Regulatorisk dokumentasjon</a> og <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">Regular tutorial</a> ..) Regulatoriet kan angis som en streng med eller uten omliggende sitater. Hvis regulært regulært er angitt som en streng med omgivende sitater, må strengen være <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer" class="">JSON-stil streng</a>   (med spesielle tegn rømt med \ tegn) .. Opptaksgruppens nummer er vanligvis 1 (den første fangegruppen) Men det kan være et hvilket som helst tall.
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="pathname-sourcenames">baneName sourceName s<a href="#pathname-sourcenames" class="hash-link" aria-label="Direkte lenke tilbaneName sourceName s" title="Direkte lenke tilbaneName sourceName s" translate="no">​</a></h6>
<p>Du kan trekke ut en del av en fils fulle vei Navn (/kataloger/filName.ext) og fremme det å være en kolonne av data. Format for denne pseudoen [&lt; sourceName &gt;] (#kildenavn) er</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*pathName,*regex*,*captureGroupNumber*&lt;sourceName&gt;</span><br></span></code></pre></div></div>
<p>For eksempel</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*pathName,/data/myDatasetID/(\\[A-Z0-9\\]\\*)/B(\\d{12}).nc,1&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Når EDDTableFromFiles leser dataene fra en fil, vil det sørge for at hele banenName (For eksempel /data/myDatasetID/BAY17/B201807041442 .nc .. For denne testen vil katalogseparatorene alltid være &#x27;/&#x27; , aldri \ &quot;) matcher det angitte regulære uttrykket (&quot;regex&quot;) og trekk ut det angitte (I dette tilfellet den første) fangstgruppe (som er en del omgitt av parentes) , for eksempel  &quot;BAY17&quot;. (Se dette <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">Regulatorisk dokumentasjon</a> og <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">Regular tutorial</a> ..) Regulatoriet kan angis som en streng med eller uten omliggende sitater. Hvis regulatoriet er spesifisert som en streng med omgivende sitater, må strengen være en <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer" class="">JSON-stil streng</a>   (med spesielle tegn rømt med \ tegn) .. Opptaksgruppens nummer er vanligvis 1 (den første fangegruppen) Men det kan være et hvilket som helst tall.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="0-files-error-message-2">&quot;0 filer&quot; Feilmelding<a href="#0-files-error-message-2" class="hash-link" aria-label="Direkte lenke til&quot;0 filer&quot; Feilmelding" title="Direkte lenke til&quot;0 filer&quot; Feilmelding" translate="no">​</a></h5>
<ul>
<li class="">Hvis du løper <a href="#generatedatasetsxml" class="">Generer DatasetsXml</a> eller <a href="#dasdds" class="">DasDds</a> , eller hvis du prøver å laste en EDDTabellFra... Filer datasett i ERDDAP™ , og du får en  &quot;0 filer&quot; feilmelding som indikerer at ERDDAP™ funnet 0 samsvarende filer i katalogen (når du tror det er samsvarende filer i den katalogen) :)<!-- -->
<ul>
<li class="">Sjekk at filene virkelig er i den katalogen.</li>
<li class="">Kontroller stavingen av mappenavnet.</li>
<li class="">Sjekk filenNameRegex. Det er virkelig, veldig enkelt å gjøre feil med regulære. For testformål, prøv regulær .\* som bør matche alle filnavn. (Se dette <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">Regulatorisk dokumentasjon</a> og <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">Regular tutorial</a> ..)</li>
<li class="">Sjekk at brukeren som kjører programmet (For eksempel bruker=tomcat (?) for Tomcat/ ERDDAP ) Har &quot;lese&quot; tillatelse til disse filene.</li>
<li class="">I noen operativsystemer (For eksempel SELinux) og avhengig av systeminnstillinger, må brukeren som kjørte programmet ha &quot;lese&quot; tillatelse til hele kjede av mapper som fører til katalogen som har filene.
 </li>
</ul>
</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="standardizewhat">standardisering Hva<a href="#standardizewhat" class="hash-link" aria-label="Direkte lenke tilstandardisering Hva" title="Direkte lenke tilstandardisering Hva" translate="no">​</a></h5>
<ul>
<li class="">Når noen underklasse av EDDTableFromFiles samler sammen et sett kildefiler, for en gitt variabel, må alle kildefilene ha identiske attributtverdier for flere attributter: scale\_factor , add\_offset ,  \_Usignert missing\_value ,_FallValue og enheter). Tenk på det: Hvis en fil har vindhastighetsenheter=knotter og en annen har vindhastighetsenheter=m/s, bør dataverdiene fra de to filene ikke inkluderes i samme samlet datasett. Så når EDDTableFromFiles først oppretter datasettet, leser den attributtverdiene fra én fil, og avviser alle filene som har forskjellige verdier for de viktige attributtene. For de fleste samlinger av filer, er dette ikke et problem fordi attributtene til alle variabler er konsekvente. Men for andre samlinger av filer, kan dette føre til 1%, 10%, 50%, 90% eller til og med 99% av filene som blir avvist som &quot;dårlige&quot; filer. Det er problemer.</li>
</ul>
<p>EDDTableFra filer har et system som skal håndtere dette problemet: standardisere Hva? Standardisering Hvilken innstilling forteller EDDTableFromFiles å standardisere filene så snart den leser dem, før EDDTableFromFiles ser på attributtene for å se om de er konsekvente.</p>
<p>Flip-siden er: Hvis datasettet ikke har dette problemet, ikke bruk standardisering Hva? standardisering Hva har noen potensielle risikoer (diskutert nedenfor) og ineffektivitet. Hvis du ikke trenger funksjonene til å standardisere Det er ikke nødvendig å møte potensielle risikoer og ineffektivitet. Den største ineffektiviteten er: Når ulike standarder Hvilke alternativer brukes av et datasett, det innebærer at kildefilene lagrer data på betydelig forskjellige måter (For eksempel med forskjellig scale\_factor og add\_offset , eller med tidsstrenger ved hjelp av ulike formater) .. For en gitt begrensning i en brukerforespørsel er det således ingen måte å ERDDAP™ å gjøre en enkelt kildenivå begrensning som kan brukes til alle kildefiler. Så ERDDAP™ Kan bare anvende de berørte restriksjonene på et høyere nivå. Så ERDDAP™ må lese data fra flere filer før bruk av de høyere grensene på destinasjonsnivå. Så forespørsler til datasett som bruker standardisering Det som tar lengre tid å bli behandlet.</p>
<p>Hvis du vil bruke dette systemet, må du angi</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;standardizeWhat&gt;*standardizeWhat*&lt;/standardizeWhat&gt;  </span><br></span></code></pre></div></div>
<p>i <a href="#eddtablefromfiles-skeleton-xml" class=""> datasets.xml For EDD-tabellen... Fildatasett</a> (Innenfor&lt;datasett&gt; tag).</p>
<p>Den <em>standardisering Hva</em> verdi angir hvilke endringer EDDTableFromFiles bør prøve å bruke. Endringene er summen av noen kombinasjon av:</p>
<ol>
<li class="">Opppakke
Dette gjør mange vanlige og sikre operasjoner for å standardisere numeriske kolonner i filene:<!-- -->
<ul>
<li class="">Hvis scale\_factor og/eller add\_offset attributter er tilstede, fjerne dem og bruke dem for å pakke ut dataverdier.</li>
<li class="">Pakk ut pakkede attributter (f.eks. faktisk\_min, faktisk\_max, actual\_range , data\_min , data\_max , data\_område, valid\_min , valid\_max , valid\_range ) Hvis det er tilstede, hvis variabelen er pakket, og hvis attributtverdiene er pakket (Dette er vanskelig, men rimelig pålitelig) ..</li>
<li class="">Hvis \_FallValue og/eller missing\_value er tilstede, konvertere disse dataverdiene til ERDDAP &#x27; standard&quot; manglende verdier: MAX\_VALUE for heltallstyper (f.eks. 127 for byte, 32.767 for kort, og 2 147.483.647 for intensjoner, 9223372036854775807 i lang tid) og NaN for dobbler og flyter.</li>
<li class="">Fjern den gamle__FillValue og/eller missing\_value attributter (dersom noen) , og erstatte dem med bare  \_FillValue= \[ den ERDDAP™ standard manglende verdi \] ..
 </li>
</ul>
</li>
<li class="">Standardisere numeriske tider
Hvis en numerisk kolonne har CF-stil numeriske tidsenheter (&quot; <em>timeUnites</em> siden <em>baseTime</em> &quot;, f.eks. &quot;dager siden 1900-01-01&quot;) , dette konverterer datoen Tidsverdier i &quot;seconds since 1970-01-01T00:00:00Z&quot; verdier og endrer enhetens attributt for å indikere det.
Hvis dette er valgt og det er en sjanse for at denne variabelen har scale\_factor eller add\_offset #1 må også velges.
 </li>
<li class="">Bruk streng missing\_value<br>
<!-- -->Hvis en strengkolonne har \_FillValue og/eller missing\_value attributter, dette konverterer disse verdiene til &quot; og fjerner attributtene.
 </li>
<li class="">Finn tall missing\_value<br>
<!-- -->Hvis en numerisk kolonne ikke har -_FillValue eller missing\_value attributter, dette prøver å identifisere et udefinert numerisk missing\_value   (f.eks. -999, 9999, 1e37f) og konvertere forekomster av det til standardverdiene (MAX\_VALUE for heltallstyper, og NAN for dobbler og flyter) ..
<strong>Dette alternativet har risiko:</strong> hvis den største eller minste gyldige dataverdien ser ut som en manglende verdi (f.eks. 999) , vil de gyldige dataverdiene bli konvertert til manglende verdier (f.eks. NaN) ..
 </li>
<li class="">Endre streng &quot;N/A&quot; til&quot;
For hver strengkolonne, konverter flere strenger som vanligvis brukes til å indikere en manglende strengverdi til &quot; For tiden ser dette etter &quot;.&quot;,,,--- &quot; &quot; &quot;?&quot;?&quot;?&quot;?&quot;?&quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot;.&quot;.&quot; &quot;.&quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot;.&quot; &quot; &quot; &quot; &quot;.&quot;.&quot; &quot;.&quot;.&quot;.&quot;.&quot;.&quot;.&quot;.&quot;.&quot; &quot; &quot;.&quot;.&quot;.&quot; &quot;.&quot;.&quot;.&quot;.&quot; &quot;.&quot;.&quot; &quot; &quot;.&quot; &quot; &quot;.&quot; &quot;.&quot;.&quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot;.&quot; &quot; &quot; &quot;.&quot; &quot;.&quot; &quot; &quot; &quot; &quot;.&quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; Strengsøket er case-insensitive og brukes etter at strengene er trim&#x27;d. Andre og andre er ikke spesielt på listen.
<strong>Dette alternativet har risiko:</strong> Strenger som du anser som gyldige verdier kan konverteres til
 </li>
<li class="">Standardisere til streng ISO 8601 datotid
For hver strengkolonne, prøv å konvertere ikke-rent-numeriske streng datotider (f.eks. &quot;2. januar 2018&quot;) til ISO 8601 StrengdatoTider (&quot;2018-01-02&quot;) ..
<strong>Note</strong> at alle dataverdier for kolonnen må bruke samme format, ellers vil dette alternativet ikke gjøre noen endringer i en gitt kolonne.
<strong>Dette alternativet har risiko:</strong> Hvis det er en kolonne med strengverdier som bare ser ut som en vanlig dato Tidsformat, vil de bli konvertert til ISO 8601 Streng datoTimes.
 </li>
<li class="">Standardisere kompakte datotider til ISO 8601-datotider
For hver streng- eller heltallstype-kolonne, prøv å konvertere rent numeriske strengdatotider (f.eks. 20180102&quot;) til ISO 8601 StrengdatoTider (&quot;2018-01-02&quot;) ..
<strong>Note</strong> at alle dataverdier for kolonnen må bruke samme format, ellers vil dette alternativet ikke gjøre noen endringer i en gitt kolonne.
<strong>Dette alternativet har risiko:</strong> Hvis det er en kolonne med verdier som ikke er kompakt dato Tider, men ser ut som kompakte dateTimes, vil de bli konvertert til ISO 8601 Streng datoTimes.
 </li>
<li class="">Standardisere enheter
Dette prøver å standardisere enhetsstrengen for hver variabel. For eksempel &quot;meter i sekundet&quot;, &quot;meter/sekunder&quot;, &quot;m.s^-1&quot; , &quot;m s-1&quot; ,  &quot;m.s-1&quot; vil alle bli konvertert til  &quot;m.s- Dette endrer ikke dataverdiene. Dette fungerer bra for gyldig UDUNITS enhetsstrenger, men kan ha problemer med ugyldige eller komplekse strenger. Du kan håndtere problemer ved å spesifisere spesifikke fra til par i&lt;standardiseringUnits&gt; i ERDDAP &#x27;s
\[ tomcat \] /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml fil. Send alle endringer til Chris. John på noaa.gov slik at de kan integreres i standardmeldingene.xml.
<strong>Dette alternativet har risiko:</strong> Dette kan mangle noen komplekse eller ugyldige enheter; Men du kan bruke arbeidsrunden beskrevet ovenfor til å omgå problemer hvis de oppstår.
 </li>
</ol>
<p>Standardverdien av standardisering Hva er 0, som ikke gjør noe.</p>
<p>Hvis/når du endrer standardverdien Neste gang datasettet lastes på nytt, ERDDAP™ vil lese om alle datafilene for datasettet for å gjenoppbygge mini-database med informasjon om hver fil. Hvis datasettet har mange filer, vil det ta lang tid.</p>
<p>Merknader:</p>
<ul>
<li class="">En vanskelig ting er -
Standardisering Hvilken innstilling brukes for alle kolonner i kildefilen. Så, for eksempel, ved å bruke #2048 kan vellykket konvertere en kolonne av kompakte streng datoTimes til ISO 8601 streng datoTimes, men det kan også feilaktig konvertere en kolonne med strenger som bare skjer å se ut som kompakte datotider.
 </li>
<li class="">datasets.xml og generere datasett Xml-
Det er spesielt vanskelig å få innstillingene riktig i datasets.xml å gjøre datasettet ditt fungerer som du vil det. Den beste tilnærmingen (Som alltid) er:</li>
</ul>
<ol>
<li class="">Bruk <a href="#generatedatasetsxml" class="">Generer DatasetsXml</a> og angi verdien av standardisering Hva du vil bruke.</li>
<li class="">Bruk <a href="#dasdds" class="">DasDds</a> å sikre at datasettet lastes riktig og gjenspeiler standardisering Hvilken innstilling du har angitt.</li>
<li class="">Test datasettet for hånd når det er i ERDDAP™ For å sikre at de berørte variabler fungerer som forventet.
 </li>
</ol>
<ul>
<li class="">Risiko -
Alternativer #256 og ovenfor er mer risikofylte, dvs. det er en større sjanse for at ERDDAP™ vil gjøre en endring som ikke bør gjøres. For eksempel kan alternativet #2048 ved et uhell konvertere en variabel med stasjon ID-strenger som alle bare tilfeldigvis ser ISO 8601 &quot;kompakt&quot; datoer (f.eks. 20180102) i ISO 8601 &quot;extended&quot; datoer (&quot;2018-01-02&quot;) ..
 </li>
<li class="">Sakte etter en endring -
Siden verdien av standardisering Hva endrer dataverdiene som EDDTableFromFiles ser for hver datafil, hvis du endrer standardisering Hvilken innstilling, vil EDDTableFromFiles kaste bort all den cachede informasjonen om hver fil (som inkluderer min og max for hver datavariabel i hver fil) Les hver datafil på nytt. Hvis et datasett har et stort antall filer, kan dette være svært tidkrevende, så det vil ta lang tid for datasettet å laste om første gang ERDDAP™ Laster den på nytt etter endringen.
 </li>
<li class="">Heuristics-
Alternativer #256 og ovenfor bruker heuristics til å gjøre sine endringer. Hvis du kommer over en situasjon der heuristikken tar en dårlig beslutning, vennligst e-post en beskrivelse av problemet til Chris. John ved noaa. gov slik at vi kan forbedre heurismen.
 </li>
<li class="">Alternativer --
Hvis et av standardtilbudene ikke løser et problem for et gitt datasett, kan du løse problemet ved å gjøre en <a href="#ncml-files" class=""> .nc ml-fil</a> å parallelle hver datafil og definere endringer i ting i filene slik at filene er konsekvente. Fortell EDD-tabellen fra... Fildatasett som samles .nc ml filer.</li>
</ul>
<p>Eller bruk <a href="#netcdf-operators-nco" class=""> NCO </a> å faktisk gjøre endringer i filene slik at filene er konsekvent.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="separate-columns-for-year-month-date-hour-minute-second">Separate kolonner for år, måned, dato, time, minutt, andre<a href="#separate-columns-for-year-month-date-hour-minute-second" class="hash-link" aria-label="Direkte lenke tilSeparate kolonner for år, måned, dato, time, minutt, andre" title="Direkte lenke tilSeparate kolonner for år, måned, dato, time, minutt, andre" translate="no">​</a></h5>
<p>Det er ganske vanlig for tabular datafiler å ha separate kolonner for år, måned, dato, time, minutt, sekund. Før ERDDAP™ v2.10 var den eneste løsningen å redigere datafilen for å kombinere disse søylene i en ensartet tidskolonne. Med ERDDAP™ 2.10+ Du kan bruke
[&lt; sourceName &gt;= <em>uttrykk</em> &lt; sourceName &gt;] (#kildenavn) å fortelle ERDDAP™ hvordan du kombinerer kildekolonnene for å lage en samlet tidskolonne, så du trenger ikke lenger å redigere kildefilen.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="skipheadertoregex">&lt;SkipHeaderToRegex&gt;<a href="#skipheadertoregex" class="hash-link" aria-label="Direkte lenke til&lt;SkipHeaderToRegex&gt;" title="Direkte lenke til&lt;SkipHeaderToRegex&gt;" translate="no">​</a></h5>
<ul>
<li class="">[&lt;Hopp overHeaderToRegex&gt;] (#Skipheadertoregex) --
Valgfritt. (For EDDTableFromAsciiFiler og EDDTableFromColumnarAsciiFiles datasett.)<br>
<!-- -->Når EDDTableFromAsciiFiles leser en datafil, vil det ignorere alle linjene opp til og inkludert linjen som passer til dette regulære uttrykket. Standard er - som ikke bruker dette alternativet. Et eksempel er</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;skipHeaderToRegex&gt;\\\*\\\*\\\* END OF HEADER.\\*&lt;skipHeaderToRegex&gt;  </span><br></span></code></pre></div></div>
<p>som vil ignorere alle linjer opp til og inkludert en linje som starter med -\<em>\</em> \* HØYDERENS END</p>
<p>Når du bruker denne etiketten,&lt;kolonneNamesRoad&gt; og&lt;firstDataRoad&gt; fungerer som om headeren er fjernet før filen leses. Hvis kolonnenavnene er på raden rett etter overskriften vil du for eksempel bruke kolonnenavn.</p>
<p>Hvis du vil bruke generering Datasett Xml med et datasett som trenger denne etiketten:</p>
<ol>
<li class="">Gjør en ny, midlertidig, prøvefil ved å kopiere en eksisterende fil og fjerne headeren.</li>
<li class="">Kjør generere Datasett Xml og angi den prøvefilen.</li>
<li class="">Legg manuelt til&lt;hopp overHeaderToRegex&gt; tag til datasets.xml En bit.</li>
<li class="">Slett den midlertidige prøvefilen.</li>
<li class="">Bruk datasettet i ERDDAP ..</li>
</ol>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="skiplinesregex">&lt;SkipLinesRegex&gt;<a href="#skiplinesregex" class="hash-link" aria-label="Direkte lenke til&lt;SkipLinesRegex&gt;" title="Direkte lenke til&lt;SkipLinesRegex&gt;" translate="no">​</a></h5>
<p>Valgfritt. (For EDDTableFromAsciiFiler og EDDTableFromColumnarAsciiFiles datasett.)<br>
<!-- -->Når EDDTableFra AsciiFiles leser en datafil, vil det ignorere alle linjer som passer til dette regulære uttrykket. Standard er - som ikke bruker dette alternativet. Et eksempel er</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;skipLinesRegex&gt;#.\\*&lt;skipLinesRegex&gt;  </span><br></span></code></pre></div></div>
<p>som vil ignorere alle linjer som starter med &quot;#&quot;.</p>
<p>Når du bruker denne etiketten,&lt;kolonneNamesRoad&gt; og&lt;firstDataRoad&gt; fungerer som om alle matchende linjer hadde blitt fjernet før filen leses. For eksempel vil du bruke kolonnenNamesRow=0 selv om det er flere linjer som starter med for eksempel &quot;#&quot; i starten av filen.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromfiles-skeleton-xml">EDDTableFraFiles skjelett XML<a href="#eddtablefromfiles-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDTableFraFiles skjelett XML" title="Direkte lenke tilEDDTableFraFiles skjelett XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFrom...Files&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      &lt;nDimensions&gt;...&lt;/nDimensions&gt;  &lt;!-- This was used prior to ERDDAP™<br>
<!-- -->        version 1.30, but is now ignored. --&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1. For<br>
<!-- -->        EDDTableFromFiles subclasses, this uses Java&#x27;s WatchDirectory system<br>
<!-- -->        to notice new/deleted/changed files quickly and efficiently. --&gt;<br>
<!-- -->      <a href="#standardizewhat" class="">&lt;standardizeWhat&gt;</a>...&lt;/standardizeWhat&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;specialMode&gt;<em>mode</em>&lt;/specialMode&gt;  &lt;-- This rarely-used, OPTIONAL tag<br>
<!-- -->        can be used with EDDTableFromThreddsFiles to specify that special,<br>
<!-- -->        hard-coded rules should be used to determine which files should<br>
<!-- -->        be downloaded from the server. Currently, the only valid <em>mode</em><br>
<!-- -->        is SAMOS which is used with datasets from<br>
<!-- -->        <a href="https://tds.coaps.fsu.edu/thredds/catalog/samos" target="_blank" rel="noopener noreferrer" class="">https://tds.coaps.fsu.edu/thredds/catalog/samos</a> to download only the<br>
<!-- -->        files with the last version number. --&gt;<br>
<!-- -->      &lt;sourceUrl&gt;...&lt;/sourceUrl&gt;  &lt;-- For subclasses like<br>
<!-- -->        EDDTableFromHyraxFiles and EDDTableFromThreddsFiles, this is where<br>
<!-- -->        you specify the base URL for the files on the remote server.<br>
<!-- -->        For subclasses that get data from local files, ERDDAP™ doesn&#x27;t use<br>
<!-- -->        this information to get the data, but does display the<br>
<!-- -->        information to users. So I usually use &quot;(local files)&quot;. --&gt;<br>
<!-- -->      &lt;fileDir&gt;...&lt;/fileDir&gt; &lt;-- The directory (absolute) with the data<br>
<!-- -->        files. --&gt;<br>
<!-- -->      &lt;recursive&gt;true|false&lt;/recursive&gt; &lt;!-- 0 or 1. Indicates if<br>
<!-- -->        subdirectories of fileDir have data files, too. --&gt;<br>
<!-- -->      <a href="#pathregex" class="">&lt;pathRegex&gt;</a>...&lt;/pathRegex&gt;  &lt;!-- 0 or 1. Only directory names which<br>
<!-- -->        match the pathRegex (default=&quot;.\<em>&quot;) will be accepted. --&gt;<br>
<!-- -->      &lt;fileNameRegex&gt;...&lt;/fileNameRegex&gt; &lt;-- 0 or 1. A <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">regular expression</a><br>
<!-- -->        (<a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">tutorial</a>) describing valid data file names, for example,<br>
<!-- -->            &quot;.\</em>\.nc&quot; for all .nc files. --&gt;<br>
<!-- -->      <a href="#accessibleviafiles" class="">&lt;accessibleViaFiles&gt;</a>true|false(default)&lt;/accessibleViaFiles&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;metadataFrom&gt;...&lt;/metadataFrom&gt; &lt;-- The file to get metadata<br>
<!-- -->        from (&quot;first&quot; or &quot;last&quot; (the default) based on file&#x27;s<br>
<!-- -->        lastModifiedTime). --&gt;<br>
<!-- -->      &lt;charset&gt;...&lt;/charset&gt;<br>
<!-- -->        &lt;!-- (For EDDTableFromAsciiFiles and EDDTableFromColumnarAsciiFiles<br>
<!-- -->        only) This OPTIONAL tag specifies the character set (case<br>
<!-- -->        sensitive!) of the source files, for example, ISO-8859-1<br>
<!-- -->        (the default) and UTF-8.  --&gt;<br>
<!-- -->      <a href="#skipheadertoregex" class="">&lt;skipHeaderToRegex&gt;</a>...&lt;/skipHeaderToRegex&gt;<br>
<!-- -->      <a href="#skiplinesregex" class="">&lt;skipLinesRegex&gt;</a>...&lt;/skipLinesRegex&gt;<br>
<!-- -->      &lt;columnNamesRow&gt;...&lt;/columnNamesRow&gt; &lt;-- (For EDDTableFromAsciiFiles<br>
<!-- -->        only) This specifies the number of the row with the column<br>
<!-- -->        names in the files. (The first row of the file is &quot;1&quot;.<br>
<!-- -->        Default = 1.)  If you specify 0, ERDDAP™ will not look for<br>
<!-- -->        column names and will assign names: Column#1, Column#2, ... --&gt;<br>
<!-- -->      &lt;firstDataRow&gt;...&lt;/firstDataRow&gt;<br>
<!-- -->        &lt;-- (For EDDTableFromAsciiFiles and EDDTableFromColumnarAsciiFiles<br>
<!-- -->        only) This specifies the number of the first row with data in the<br>
<!-- -->        files. (The first row of the file is &quot;1&quot;. Default = 2.) --&gt;<br>
<!-- -->      &lt;dimensionsCSV&gt;...&lt;/dimensionsCSV&gt; &lt;-- (For EDDTableFromNcFiles<br>
<!-- -->        and EDDTableFromMultidimNcFiles only) This is a comma-separated<br>
<!-- -->        list of dimension fullNames. If specified, ERDDAP™ will only read<br>
<!-- -->        variables in the source files which use some or all of these<br>
<!-- -->        dimensions, plus all of the scalar variables. If a dimension<br>
<!-- -->        is in a group, you must specify its fullName,<br>
<!-- -->        e.g., &quot;<em>groupName/dimensionName</em>&quot;. --&gt;<br>
<!-- -->      &lt;-- The next four tags are DEPRECATED. For more information, see<br>
<!-- -->        <a href="#filename-sourcenames" class="">File Name Extracts</a>. --&gt;<br>
<!-- -->      &lt;preExtractRegex&gt;...&lt;/preExtractRegex&gt;<br>
<!-- -->      &lt;postExtractRegex&gt;...&lt;/postExtractRegex&gt;<br>
<!-- -->      &lt;extractRegex&gt;...&lt;/extractRegex&gt;<br>
<!-- -->      &lt;columnNameForExtract&gt;...&lt;/columnNameForExtract&gt;<br>
<!-- -->      &lt;sortedColumnSourceName&gt;...&lt;/sortedColumnSourceName&gt;<br>
<!-- -->        &lt;-- The <a href="#sourcename" class="">sourceName</a> of the numeric column that the data files are<br>
<!-- -->        usually already sorted by within each file, for example, &quot;time&quot;.<br>
<!-- -->        Don&#x27;t specify this or use an empty string if no variable is<br>
<!-- -->        suitable. It is ok if not all files are sorted by this column.<br>
<!-- -->        If present, this can greatly speed up some data requests.<br>
<!-- -->        For EDDTableFromHyraxFiles, EDDTableFromNcFiles and<br>
<!-- -->        EDDTableFromThreddsFiles, this must be the leftmost (first) axis variable.<br>
<!-- -->        EDDTableFromMultidimNcFiles ignores this because it has a better<br>
<!-- -->        system. --&gt;<br>
<!-- -->      &lt;sortFilesBySourceNames&gt;...&lt;/sortFilesBySourceNames&gt;<br>
<!-- -->        &lt;-- This is a space-separated list of <a href="#sourcename" class="">sourceName</a>s<br>
<!-- -->        which specifies how the internal list of files should be sorted<br>
<!-- -->        (in ascending order), for example &quot;id time&quot;.<br>
<!-- -->        It is the minimum value of the specified columns in each file<br>
<!-- -->        that is used for sorting.<br>
<!-- -->        When a data request is filled, data is obtained from the files<br>
<!-- -->        in this order. Thus it determines the overall order of the data<br>
<!-- -->        in the response.  If you specify more than one column name, the<br>
<!-- -->        second name is used if there is a tie for the first column; the<br>
<!-- -->        third is used if there is a tie for the first and second<br>
<!-- -->        columns; ... This is OPTIONAL (the default is<br>
<!-- -->        fileDir+fileName order). --&gt;<br>
<!-- -->        <br>
<!-- -->      <a href="#sourceneedsexpandedfp_eq" class="">&lt;sourceNeedsExpandedFP\_EQ&gt;</a>true(default)|false&lt;/sourceNeedsExpandedFP\_EQ&gt;<br>
<!-- -->      <a href="#filetableinmemory" class="">&lt;fileTableInMemory&gt;</a>...&lt;/fileTableInMemory&gt; &lt;!-- 0 or 1 (true or<br>
<!-- -->        false (the default)) --&gt;<br>
<!-- -->      <a href="#cachefromurl" class="">&lt;cacheFromUrl&gt;</a>...&lt;/cacheFromUrl&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#cachefromurl" class="">&lt;cacheSizeGB&gt;</a>...&lt;/cacheSizeGB&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->        &lt;-- For EDDTableFromHyraxFiles, EDDTableFromMultidimNcFiles,<br>
<!-- -->        EDDTableFromNcFiles, EDDTableFromNccsvFiles, and<br>
<!-- -->        EDDTableFromThreddsFiles, the source&#x27;s axis variables (for<br>
<!-- -->        example, time) needn&#x27;t be first or in any specific order. --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromasciiservice">EDDTableFraAsciiService<a href="#eddtablefromasciiservice" class="hash-link" aria-label="Direkte lenke tilEDDTableFraAsciiService" title="Direkte lenke tilEDDTableFraAsciiService" translate="no">​</a></h3>
<p><a href="#eddtablefromasciiservice" class=""> <strong>EDDTableFraAsciiService</strong> </a> I hovedsak en skjermskraper. Det er ment å håndtere datakilder som har en enkel webtjeneste for å be om data. (ofte et HTML-skjema på en nettside) og som kan returnere data i noen strukturert ASCII-format (For eksempel et kommadelt verdi eller kolonne ASCII-tekstformat, ofte med annen informasjon før og/eller etter dataene) ..</p>
<p>EDDTableFromAsciiService er superklasse av alle EDDTableFromAsciiService... klasser. Du kan ikke bruke EDDTableFromAsciiService direkte. I stedet, bruk en underklasse av EDDTableFromAsciiService til å håndtere bestemte typer tjenester:</p>
<ul>
<li class=""><a href="#eddtablefromasciiservicenos" class="">EDDTableFraAsciiServiceNOS</a> Få data fra NOAA NOSs ASCII-tjenester.</li>
</ul>
<p>For tiden støttes ingen andre tjenestetyper. Men det er vanligvis relativt enkelt å støtte andre tjenester hvis de jobber på lignende måte. Kontakt oss hvis du har en forespørsel.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="details">Detaljer<a href="#details" class="hash-link" aria-label="Direkte lenke tilDetaljer" title="Direkte lenke tilDetaljer" translate="no">​</a></h4>
<p>Følgende opplysninger gjelder alle underklasser av EDDTableFromAsciiService.</p>
<ul>
<li class="">Begrenselser -- ERDDAP™ tabellbaserte dataforespørsler kan sette begrensninger på enhver variabel. Den underliggende tjenesten kan eller kan ikke tillate begrensninger på alle variabler. For eksempel støtter mange tjenester bare begrensninger på stasjonsnavn, breddegrad, lengdegrad og tid. Så når en underklasse av EDDTableFromAsciiService får en forespørsel om en undergruppe av et datasett, passerer det så mange begrensninger som mulig til kildedatatjenesten og deretter gjelder de gjenværende restriksjonene til dataene som returneres av tjenesten, før dataene leveres til brukeren.</li>
<li class="">Gyldig område -- I motsetning til mange andre datasetttyper kjenner EDDTableFromAsciiService vanligvis ikke dataområdet for hver variabel, slik at det ikke raskt kan avvise forespørsler om data utenfor gyldig område.</li>
<li class="">Parserer ASCII-tekstresponsen -- Når EDDTableFra AsciiService får svar fra en ASCII-teksttjeneste, må det validere at responsen har forventet format og informasjon, og deretter trekke ut dataene. Du kan angi formatet ved å bruke ulike spesielle tagger i delen av XML for dette datasettet:<!-- -->
<ul>
<li class="">&lt;FørData1&gt; gjennom&lt;førData10&gt; tags -- Du kan angi en rekke tekststykker (Så mange som du vil, opp til 10) som EDDTableFromAsciiService må se etter i overskriften på ASCII-teksten som returneres av tjenesten med&lt;FørData1&gt; gjennom&lt;Før Data10. Dette er for eksempel nyttig for å verifisere at responsen inkluderer de forventede variabler ved hjelp av de forventede enhetene. Den siste før Data-merket som du angir identifiserer teksten som skjer rett før dataene starter.</li>
<li class="">&lt;etterdata &gt; -- Dette angir teksten som EDDTableFromAsciiService vil se etter i ASCII-teksten som returneres av tjenesten som indikerer slutten på dataene.</li>
<li class="">&lt;noData&gt; -- Hvis EDDTableFromAsciiService finner denne teksten i ASCII-teksten som returneres av tjenesten, konkluderer det med at det ikke er data som samsvarer med forespørselen.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromasciiservice-skeleton-xml">EDDTableFraAsciiService skjelett XML<a href="#eddtablefromasciiservice-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDTableFraAsciiService skjelett XML" title="Direkte lenke tilEDDTableFraAsciiService skjelett XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromAsciiService...&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;sourceUrl&gt;...&lt;/sourceUrl&gt;<br>
<!-- -->      &lt;beforeData1&gt;...&lt;beforeData1&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      ...<br>
<!-- -->      &lt;beforeData10&gt;...&lt;beforeData10&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;afterData&gt;...&lt;afterData&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;noData&gt;...&lt;noData&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromasciiservicenos">EDDTableFraAsciiServiceNOS<a href="#eddtablefromasciiservicenos" class="hash-link" aria-label="Direkte lenke tilEDDTableFraAsciiServiceNOS" title="Direkte lenke tilEDDTableFraAsciiServiceNOS" translate="no">​</a></h3>
<p><a href="#eddtablefromasciiservicenos" class=""> <strong>EDDTableFraAsciiServiceNOS</strong> </a> gjør EDDTable datasett fra ASCII-tekstdatatjenestene som tilbys av NOAA &#x27;s <a href="https://oceanservice.noaa.gov/" target="_blank" rel="noopener noreferrer" class="">Nasjonal Ocean Service (NOS) </a> .. For informasjon om hvordan denne klassen fungerer og hvordan du bruker den, se denne klassens superklasse <a href="#eddtablefromasciiservice" class="">EDDTableFraAsciiService</a> .. Det er usannsynlig at andre enn Bob Simons må bruke denne underklassen.</p>
<p>Siden dataene innenfor responsen fra en NOS-tjeneste bruker et kolonne ASCII-tekstformat, må datavariabler som ikke er breddegrad og lengdegrad, ha en spesiell egenskap som angir hvilke tegn i hver datalinje som for eksempel inneholder den variabelens data.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;responseSubstring&quot;&gt;17, 25&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p> </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromalldatasets">EDDTableFraAllDatasett<a href="#eddtablefromalldatasets" class="hash-link" aria-label="Direkte lenke tilEDDTableFraAllDatasett" title="Direkte lenke tilEDDTableFraAllDatasett" translate="no">​</a></h3>
<p><a href="#eddtablefromalldatasets" class=""> <strong>EDDTableFraAllDatasett</strong> </a> er et datasett på høyere nivå som har informasjon om alle de andre datasettene som for tiden er lastet i din ERDDAP .. I motsetning til andre typer datasett, er det ingen spesifikasjon for allDatasets Datasett i datasets.xml .. ERDDAP™ oppretter automatisk ett EDDTableFraAllDatasett datasett (med datasetID = allDatasets ) .. En allDatasets Datasett vil bli opprettet i hvert ERDDAP™ installasjon og vil fungere på samme måte i hver ERDDAP™ installasjon.</p>
<p>Den allDatasets Datasett er et tabellisk datasett. Den har en rekke opplysninger for hvert datasett. Den har kolonner med informasjon om hvert datasett, for eksempel datasetID , tilgjengelig, institusjon, tittel, minLongitude, maxLongitude, minLatitude, maxLatitude, minTime, maxTime, etc. Fordi allDatasets er et tabelldatasett, kan du spørre det på samme måte som du kan spørre om andre tabelldatasett i ERDDAP™ , og du kan angi filtypen for svaret. Dette lar brukerne søke etter datasett av interesse på svært kraftige måter.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromasciifiles">EDDTableFraAsciiFiler<a href="#eddtablefromasciifiles" class="hash-link" aria-label="Direkte lenke tilEDDTableFraAsciiFiler" title="Direkte lenke tilEDDTableFraAsciiFiler" translate="no">​</a></h3>
<p><a href="#eddtablefromasciifiles" class=""> <strong>EDDTableFraAsciiFiler</strong> </a> aggregerer data fra komma-, fane-, semikolon- eller mellomromsdelte ASCII-datafiler.</p>
<ul>
<li class="">Mest ofte vil filene ha kolonnenavn på første rad og data som starter på andre rad. (Her kalles den første raden i filen 1.) Men du kan bruke&lt;kolonneNamesRoad&gt; og&lt;førsteDataRoad&gt; i din datasets.xml fil for å angi et annet radnummer.</li>
<li class="">ERDDAP™ tillater rekkene av data å ha ulike antall dataverdier. ERDDAP™ antar at de manglende dataverdiene er de endelige kolonnene i raden. ERDDAP™ tilordner standard verdiverdi som mangler for manglende dataverdier. (lagt til v1.56)</li>
<li class="">ASCII-filer er enkle å jobbe med, men de er ikke den mest effektive måten å lagre/hente data på. For større effektivitet, lagre filene som NetCDF v3 .nc filer (med én dimensjon, &quot; row&quot;, delt av alle variabler) I stedet. Du kan <a href="#millions-of-files" class="">bruk ERDDAP™ å generere de nye filene</a> ..</li>
<li class="">Se denne klassens superklasse, <a href="#eddtablefromfiles" class="">EDDTableFra Filer</a> For informasjon om hvordan denne klassen fungerer og hvordan du bruker den.</li>
<li class="">Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. På grunn av den totale mangelen på metadata i ASCII-filer, må du alltid redigere resultatene av GenerateDatasetsXml.</li>
<li class="">Varsel: Når ERDDAP™ leser ASCII-datafiler, hvis den finner en feil på en gitt linje (For eksempel feil antall elementer) , det logger en advarselsmelding (&quot; VARNING: Dårlig linje (s) av data&quot; ... med en liste over dårlige linjer på påfølgende linjer) til <a class="" href="/nb/docs/server-admin/additional-information#log">log.txt-fil</a> og fortsetter å lese resten av datafilen. Derfor er det ditt ansvar å se regelmessig (eller skrive et skript å gjøre det) For den meldingen i loggen. txt slik at du kan løse problemene i datafilene. ERDDAP™ er satt opp slik at brukerne kan fortsette å lese alle tilgjengelige gyldige data selv om noen linjer i filen har feil.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromawsxmlfiles">EDDTableFra AwsXmlFiles<a href="#eddtablefromawsxmlfiles" class="hash-link" aria-label="Direkte lenke tilEDDTableFra AwsXmlFiles" title="Direkte lenke tilEDDTableFra AwsXmlFiles" translate="no">​</a></h3>
<p><a href="#eddtablefromawsxmlfiles" class=""> <strong>EDDTableFra AwsXmlFiles</strong> </a> aggregerer data fra et sett av automatisk værstasjon (AWS) XML datafiler ved hjelp av WeatherBug Rest XML API (som ikke lenger er aktiv) ..</p>
<ul>
<li class="">Denne filtypen er en enkel, men ineffektiv måte å lagre data på, fordi hver fil vanligvis synes å inneholde observasjonen fra bare et tidspunkt. Så det kan være et stort antall filer. Hvis du ønsker å forbedre ytelsen, bør du vurdere å konsolidere grupper av observasjoner (En uke er verdt?) i NetCDF v3 .nc filer (Beste: .nc filer med <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Diskret prøvetakingsgeometri (DSG) Contiguous Tagged Array format</a> ) og bruk <a href="#eddtablefrommultidimncfiles" class="">EDDTableFraMultidimNcFiler</a>   (eller <a href="#eddtablefromnccffiles" class="">EDDTableFraNcCFFiler</a> ) Å betjene dataene. Du kan <a href="#millions-of-files" class="">bruk ERDDAP™ å generere de nye filene</a> ..</li>
<li class="">Se denne klassens superklasse, <a href="#eddtablefromfiles" class="">EDDTableFra Filer</a> For informasjon om hvordan denne klassen fungerer og hvordan du bruker den.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromcolumnarasciifiles">EDDTableFraColumnarAsciiFiler<a href="#eddtablefromcolumnarasciifiles" class="hash-link" aria-label="Direkte lenke tilEDDTableFraColumnarAsciiFiler" title="Direkte lenke tilEDDTableFraColumnarAsciiFiler" translate="no">​</a></h3>
<p><a href="#eddtablefromcolumnarasciifiles" class=""> <strong>EDDTableFraColumnarAsciiFiler</strong> </a> aggregerer data fra tabell ASCII-datafiler med faste breddekolonner.</p>
<ul>
<li class="">
<p>Mest ofte vil filene ha kolonnenavn på første rad og data som starter på andre rad. Første linje/rad i filen kalles rad #1. Men du kan bruke&lt;kolonneNamesRoad&gt; og&lt;førsteDataRoad&gt; i din datasets.xml fil for å angi et annet radnummer.</p>
</li>
<li class="">
<p>Den&lt; addAttributes &gt; for hver&lt; dataVariable &gt; for disse datasettene må inneholde disse to spesielle attributtene:</p>
<ul>
<li class="">&lt;at name=&quot;startColumn&quot;&gt; <em>heltall</em> &lt;at&gt; -- angir tegnkolonnen i hver linje som er starten på denne datavariabelen.</li>
<li class="">&lt;at name=&quot;stopColumn&quot;&gt; <em>heltall</em> &lt;at&gt; -- angir tegnkolonnen i hver linje som er 1 etter slutten av denne datavariabelen.</li>
</ul>
</li>
</ul>
<p>Den første tegnkolonnen kalles kolonne #0.
For eksempel for denne filen som har tidsverdier som avtar temperaturverdier:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      0         1         2        &lt;-- character column number 10&#x27;s digit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      0123456789012345678901234567 &lt;-- character column number 1&#x27;s digit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      time                temp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      2014-12-01T12:00:00Z12.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      2014-12-02T12:00:00Z13.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      2014-12-03T12:00:00Z11.0</span><br></span></code></pre></div></div>
<p>Tidsdatavariabelen ville ha</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;att name=&quot;startColumn&quot;&gt;0&lt;att&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;att name=&quot;stopColumn&quot;&gt;20&lt;att&gt;  </span><br></span></code></pre></div></div>
<p>Tidsdatavariabelen ville ha</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;att name=&quot;startColumn&quot;&gt;20&lt;att&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;att name=&quot;stopColumn&quot;&gt;24&lt;att&gt;  </span><br></span></code></pre></div></div>
<p>Disse attributtene må angis for alle variabler unntatt <a href="#fixed-value-sourcenames" class="">Fast verdi</a> og <a href="#filename-sourcenames" class="">file-name-source-names</a> Variabler.</p>
<ul>
<li class="">ASCII-filer er enkle å jobbe med, men de er ikke en effektiv måte å lagre/motta data på. For større effektivitet, lagre filene som NetCDF v3 .nc filer (med én dimensjon, &quot; row&quot;, delt av alle variabler) I stedet. Du kan <a href="#millions-of-files" class="">bruk ERDDAP™ å generere de nye filene</a> ..</li>
<li class="">Se denne klassens superklasse, <a href="#eddtablefromfiles" class="">EDDTableFra Filer</a> For informasjon om hvordan denne klassen fungerer og hvordan du bruker den.</li>
<li class="">Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. På grunn av vanskeligheten med å bestemme start- og sluttposisjoner for hver datakolonne og den totale mangelen på metadata i ASCII-filer, trenger du alltid å redigere resultatene fra GenereralDatasetsXml.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromhttpget">EDDTableFraHttpGet<a href="#eddtablefromhttpget" class="hash-link" aria-label="Direkte lenke tilEDDTableFraHttpGet" title="Direkte lenke tilEDDTableFraHttpGet" translate="no">​</a></h3>
<p>EDDTable FromHttpGet er forskjellig fra alle andre typer datasett i ERDDAP™ ved at det har et system der spesifikke forfattere kan legge til data, revidere data eller slette data fra datasettet regelmessig HTTP GET eller <a href="#http-post" class="">POST</a> forespørsler fra et dataprogram, et skript eller en nettleser. Datasettet kan spørres av brukerne på samme måte som alle andre EDDTable-datasett kan spørres i ERDDAP .. Se beskrivelsen av denne klassens superklasse, <a href="#eddtablefromfiles" class="">EDDTableFra Filer</a> For å lese om funksjonene som er arvet fra den superklassen.</p>
<p>De unike funksjonene ved EDDTableFromHttpGet er beskrevet nedenfor. Du må lese hele denne første delen og forstå det; ellers kan du ha urealistiske forventninger eller komme deg i problemer som er vanskelig å fikse.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="intended-use">Tiltenkt bruk<a href="#intended-use" class="hash-link" aria-label="Direkte lenke tilTiltenkt bruk" title="Direkte lenke tilTiltenkt bruk" translate="no">​</a></h4>
<p>Dette systemet er ment for:</p>
<ul>
<li class="">Tabell (i situ) Data, ikke gitt data.</li>
<li class="">Sanntidsdata -
Målet er å tillate en forfatter (For eksempel sensoren, et automatisert QC-skript eller et bestemt menneske) å gjøre endringer i datasettet (via en <a href="#insert-and-delete" class="">.sett inn eller .slett kommando</a> ) Gjør den endringen tilgjengelig for ERDDAP™ brukere, alle på mindre enn 1 sekund, og muligens mye raskere. Det meste av det er nettverkstid. ERDDAP™ kan behandle forespørselen i ca. 1 ms og dataene er umiddelbart tilgjengelige for brukerne. Dette er en <a href="#httpget-speed" class="">raskt</a> , <a href="#robust" class="">robust</a> , og <a href="#system-reliability" class="">pålitelig system</a> ..</li>
<li class="">Nesten alle frekvenser av data -
Dette systemet kan akseptere sjeldne data (For eksempel daglig) gjennom svært hyppige data (For eksempel 100 Hz-data) .. Hvis du optimaliserer systemet, kan det håndtere høyere frekvensdata (Kanskje 10 KHz data hvis du går til ekstremer) ..</li>
<li class="">Data fra én sensor eller en samling av lignende sensorer.</li>
<li class=""><a href="#versioning" class="">Utgave</a> / <a href="https://en.wikipedia.org/wiki/Reproducibility" target="_blank" rel="noopener noreferrer" class="">Reproducerbar vitenskap</a> / DOI s--
Situasjoner der du trenger å kunne gjøre endringer i dataene (For eksempel endre et kvalitetskontrollflagg) , vite hvilken forfatter som gjorde hver endring, vite tidsstempel når forfatteren gjorde endringen, og (etter anmodning) være i stand til å se originaldata fra før endringen ble gjort. Disse datasettene er således kvalifisert til <a href="https://en.wikipedia.org/wiki/Digital_object_identifier" target="_blank" rel="noopener noreferrer" class=""> DOI s</a> .. fordi de møter DOI krav om at datasettet ikke endres, bortsett fra ved sammenslåing. Generelt, nær sanntid datasett er ikke kvalifisert til DOI fordi dataene ofte endres retroaktivt (For eksempel for QA/QC-formål) ..
 </li>
</ul>
<p>Når data er i et EDDTableFromHttpGet datasett, kan enhver bruker be om data på samme måte som de ber om data fra andre EDDTable datasett.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="experimental-be-careful">Eksperimentelt: Vær forsiktig<a href="#experimental-be-careful" class="hash-link" aria-label="Direkte lenke tilEksperimentelt: Vær forsiktig" title="Direkte lenke tilEksperimentelt: Vær forsiktig" translate="no">​</a></h4>
<p>Siden dette systemet er nytt og siden tapte miljødata ikke kan gjenvinnes, bør du behandle EDDTableFromHttpGet som eksperimentell. Hvis du overgang fra et annet system, kan du kjøre det gamle systemet og det nye systemet parallelt til du er sikker på at det nye systemet fungerer bra (uker eller måneder, ikke bare timer eller dager) .. I alle tilfeller, sørg for at systemet separat arkiverer .innsett og . slette URLs som sendes til EDDTableFromHttpGet datasett (Selv om bare i Apache og / eller Tomcat logger) I hvert fall for en stund. Og i alle tilfeller, sørg for at datafilene som opprettes av din EDDTableFromHttpGet datasett er rutinemessig sikkerhetskopiert til eksterne datalagringsenheter. (Merk at <a href="https://en.wikipedia.org/wiki/Rsync" target="_blank" rel="noopener noreferrer" class="">rsync</a> . kan sikkerhetskopiere datafiler opprettet av EDDTableFramtpGet svært effektivt.)<br>
<!-- --> </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="insert-and-delete">. Sett inn og .slett<a href="#insert-and-delete" class="hash-link" aria-label="Direkte lenke til. Sett inn og .slett" title="Direkte lenke til. Sett inn og .slett" translate="no">​</a></h4>
<p>For alle datasett i ERDDAP™ Når du sender en forespørsel til ERDDAP™ for en delgruppe av dataene i et datasett, angir du filtypen som du ønsker for svaret, for eksempel .csv, .htmlTable , .nc , .json .. EDDTableFraHttp Få utvider dette systemet til å støtte to ekstra &quot; filtyper&quot; som kan settes inn (eller endre) eller slette data i datasettet:</p>
<ul>
<li class="">.innsettelse<!-- -->
<ul>
<li class="">Forespørselen er formatert som en standard HTML skjemarespons, med key=verdi par, separert med &#x27;&amp;&#x27;. For eksempel
https://<em>some.erddap.url</em>/erddap/tabledap/myDataset**.insert**?stationID=46088&amp;time=2016-03-30T12:37:55Z&amp;latitude=10.1&amp;longitude=-150.1&amp;airTemp=17.23&amp;waterTemp=12.3&amp;author=JohnSmith\_someKey1<br>
<!-- -->forteller ERDDAP™ å legge til eller endre data for stationID =46088 for det angitte tidspunkt.</li>
<li class="">Forfatteren av denne endringen er JohnSmith og nøkkelen er noenKey1.</li>
<li class="">URL-en må inneholde gyldige verdier (manglende verdier) for alle <a href="#httpgetrequiredvariables-global-attribute" class=""> http Få nødvendige variabler</a></li>
<li class="">Hvis verdiene til http Få nødvendig Variabler i anmodningen (f.eks. stationID og tid) samsvarer med verdiene på en rad allerede i datasettet, de nye verdiene overskriver effektivt de gamle verdiene (Selv om de gamle verdiene fortsatt er tilgjengelige dersom brukeren ber om data fra en tidligere <a href="#versioning" class="">versjon</a> av datasettet) ..</li>
<li class="">.Insert URL må aldri inkludere &amp;timestamp= ( ERDDAP™ genererer den verdien) eller &amp; kommando= (som er spesifisert av .innsett (som er kommando=0) eller. slette (som er kommando= 1) ) ..</li>
<li class="">Hvis URL-adressen ikke angir verdier for andre kolonner i datasettet, antas de å være de opprinnelige manglende verdiene (MAX\_VALUE for heltallsdatatyper, NAN for flyter og dobbler, og &quot; for strenger) ..
 </li>
<li class="">. slette<!-- -->
<ul>
<li class="">Forespørselen er formatert som en standard HTML skjemarespons, med key=verdi par, separert med &#x27;&amp;&#x27;. For eksempel
https://<em>some.erddap.url</em>/erddap/tabledap/myDataset**.delete**?stationID=46088&amp;time=2016-03-30T12:37:55Z&amp;author=JohnSmith\_someKey1<br>
<!-- -->forteller ERDDAP™ å slette dataene for stationID = 46088 på det angitte tidspunkt.</li>
<li class="">Forfatteren av denne endringen er JohnSmith og nøkkelen er noenKey1.</li>
<li class="">URL-en må angi <a href="#httpgetrequiredvariables-global-attribute" class=""> http Få nødvendige variabler</a> på anmodningen (f.eks. stationID og tid) .. Hvis disse verdiene samsvarer med verdiene på en rad allerede i datasettet (som de vanligvis vil) De gamle verdiene slettes effektivt (Selv om de gamle verdiene fortsatt er tilgjengelige dersom en bruker ber om data fra en tidligere <a href="#versioning" class="">versjon</a> av datasettet) ..</li>
<li class="">Det er ikke nødvendig å angi verdier for ikke-HttpGet RequiredVariables, andre enn forfatter, som er nødvendig for å autentisere forespørselen.
 </li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Detaljer:</p>
<ul>
<li class="">. Sett inn og . slette forespørsler er formatert som standard HTML skjema svar, med key=verdi par, skilt med &quot;&amp;&quot;. Verdiene må være <a href="https://en.wikipedia.org/wiki/Percent-encoding" target="_blank" rel="noopener noreferrer" class="">prosent kodet</a> .. Således må du kode spesielle tegn i skjemaet %H, hvor HH er den 2 sifferhexademiske verdien av tegnet. Vanligvis trenger du bare å konvertere noen av tegntegnene: % til %25, og til %26, &quot; til %22,&lt;i% 3C, = i% 3D, &gt; i% 3E, + i% 2B, | til %7C, \[ til %5B, \] til %5D, mellomrom til %20, og konvertere alle tegn over #127 til deres UTF-8-form og deretter prosent kode hver byte av UTF-8-formen til %H-format (spør en programmerer om hjelp) ..</li>
<li class="">. Sett inn og . Slette forespørsler må inkludere <a href="#httpgetrequiredvariables-global-attribute" class=""> http Få nødvendige variabler</a> f.eks. stationID Og tid. For .innsette forespørsler antas variabler som ikke er spesifisert i forespørselen å være manglende verdier (MAX\_VALUE for heltallsvariabler, NaN for flytende og doble variabler, og en tom streng for strengvariabler) .. For å slette forespørsler, verdier for ikke-HttpGet Obligatorisk Variabler (andre enn forfatter, som kreves) blir ignorert.</li>
<li class="">. Sette inn og slette forespørsler må inneholde navn på forfatteren og forfatterens nøkkel via en parameter i skjemaforfatteren= <em>forfatter\_nøkkel</em> som siste parameter i forespørselen. Forespørselen om å være siste sikrer at hele forespørselen er mottatt av ERDDAP .. Bare forfatteren (Ikke nøkkelen) vil bli lagret i datafilen. Du må angi listen over tillatte <em>forfatter\_nøkkel</em> via den globale egenskapen <a href="#httpgetkeys" class=""> http GetKeys</a></li>
<li class="">.innsette og slette parametre kan være skalar (enkelt) verdier eller tabeller av enhver lengde i skjemaet \[ verdi1, verdi2, verdi3,..., verdi N \] .. For en gitt forespørsel må alle variabler med tabeller ha tabeller med samme antall verdier. (Ellers er det en feil) .. Hvis en forespørsel har skalar- og tabellverdier, blir skalarverdiene kopiert til å bli tabeller med samme lengde som de angitte tabeller, f.eks. stationID =46088 kan behandles som &amp; stationID = \[ 46088.46088 \] .. Arrays er nøkkelen til <a href="#httpget-speed" class="">høy gjennomstrømning</a> .. Uten tabeller, vil det være utfordrende å sette inn eller slette mer enn 8 rader data i sekundet fra en ekstern forfatter (På grunn av all overhead av nettverket) .. Med tabeller vil det være enkelt å sette inn eller slette mer enn 1000 rader data i sekundet fra en fjernsensor.</li>
<li class="">.innsette og slette aksept (uten feilmelding) flytende punkttall når det forventes heltal. I disse tilfellene avrunder datasettet verdiene til heltal.</li>
<li class="">.innsette og slette aksept (uten feilmelding) heltalls- og flytpunkttall som er utenfor rekkevidde av variabelens datatype. I disse tilfellene lagrer datasettet verdiene som ERDDAP Innfødte manglende verdier for den datatypen (MAX\_VALUE for heltallstyper og NAN for flyter og dobbler) ..
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="response">Svar<a href="#response" class="hash-link" aria-label="Direkte lenke tilSvar" title="Direkte lenke tilSvar" translate="no">​</a></h4>
<p>Hvis .sett inn eller .slett URL lykkes, vil HTTP-responskoden være 200 (OK) og svaret vil være tekst med en .json objekt, f.eks.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;status&quot;:&quot;success&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;nRowsReceived&quot;:1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;stringTimestamp&quot;:&quot;2018-11-05T22:12:19.517Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;numericTimestamp&quot;:1.541455939517+E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>Merk at tidsstemplene har millisekund presisjon.</p>
<p>Hvis .Installe eller .slette URL mislykkes, vil du få en HTTP-responskode på annen måte enn 200 (Ok.) For eksempel feil 403 Forbudt hvis du sender en feil forfatter\ nøkkelverdi. ERDDAP™ Sender HTTP-responskoden (ikke, f.eks. .json formatert feil) Fordi det er slik ting gjøres på internett og fordi feil kan oppstå hvor som helst i systemet (For eksempel i nettverket, som returnerer en HTTP-feil) .. Hvis feilen kommer fra ERDDAP™ Svaret kan inkludere litt tekst (ikke .json ) med en mer detaljert forklaring på hva som gikk galt, men HTTP-responskoden (200= OK, alt annet er problemer) er riktig måte å sjekke om .innsett eller . slette lykkes. Hvis du sjekker HTTP-responskoden ikke er mulig eller er upåklagelig, søk etter &quot;status&quot;&quot; suksess&quot; i responsteksten som bør være en pålitelig indikasjon på suksess.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="log-files">Loggfiler<a href="#log-files" class="hash-link" aria-label="Direkte lenke tilLoggfiler" title="Direkte lenke tilLoggfiler" translate="no">​</a></h4>
<p>Når EDDTableFromHttpGet mottar .innsett og .slette kommandoer, legger den bare til informasjonen i den relevante filen i et sett loggfiler, som hver er en tabell lagret i en <a href="https://jsonlines.org/examples/" target="_blank" rel="noopener noreferrer" class="">JSON Linjer CSV-fil</a> .. Når en bruker gjør forespørsel om data, ERDDAP™ leser raskt de relevante loggfilene, bruker endringene i datasettet i den rekkefølgen de ble gjort, og filtrerer deretter forespørselen via brukerens begrensninger som alle andre ERDDAP™ Dataforespørsel. Partisjonen av dataene i ulike loggfiler, lagring av ulike deler informasjon (f.eks. tidsforsterkeren for kommandoen, og om kommandoen var satt inn eller slettet.) , og ulike aspekter av installasjon av datasettet, alt gjør det mulig for ERDDAP å lagre data til og hente data fra dette datasettet svært raskt og effektivt.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="security-and-author">Sikkerhet og forfatter<a href="#security-and-author" class="hash-link" aria-label="Direkte lenke tilSikkerhet og forfatter" title="Direkte lenke tilSikkerhet og forfatter" translate="no">​</a></h4>
<p>Hver .sett og .slette-kommando må inkludere &amp;author= <em>forfatter\_nøkkel</em> som den siste parameteren, hvor forfatteren\_key består av forfatterens identifikator (du valgte: navn, initialer, pseudonym, nummer) En understrekning og en hemmelig nøkkel. Den ERDDAP™ Administrator vil samarbeide med forfattere for å generere listen over gyldig forfatter\_nøkkelverdier, som kan endres når som helst.
Når EDDTableFraHttpGet mottar en .innsett eller .slett kommando, sørger det for at forfatterenID-_key er den siste parameteren og gyldig. Fordi det er den siste parameteren, indikerer det at hele kommandolinjen nådde ERDDAP™ og ble ikke avkortet. Den hemmelige nøkkelen sikrer at bare spesifikke forfattere kan sette inn eller slette data i datasettet. ERDDAP™ Deretter trekker forfatter-ID og lagrer det i forfattervariabelen, slik at alle kan se hvem som var ansvarlig for en gitt endring i datasettet.
.Installere og slette kommandoer kan bare gjøres via https:   (Sikker)   ERDDAP™ URL. Dette sikrer at informasjonen som overføres holdes hemmelig under transport.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="timestamp">tidsstempel<a href="#timestamp" class="hash-link" aria-label="Direkte lenke tiltidsstempel" title="Direkte lenke tiltidsstempel" translate="no">​</a></h4>
<p>Som en del av loggsystemet legger EDDTableFromHttpGet til en tidsstempel (Tiden som ERDDAP mottok forespørselen) til hver kommando som lagres i loggfiler. Fordi ERDDAP™ genererer tidsstemplet, ikke forfatterne, det spiller ingen rolle om forskjellige forfattere gjør endringer fra datamaskiner med klokker satt til litt forskjellige tider. Tidsstempelet indikerer pålitelig tidspunktet da endringen ble gjort til datasettet.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="http-post">HTTP POST<a href="#http-post" class="hash-link" aria-label="Direkte lenke tilHTTP POST" title="Direkte lenke tilHTTP POST" translate="no">​</a></h4>
<ul>
<li class=""><a href="#http-post" class="">Hva med HTTP POST?</a><br>
<!-- -->HTTP <a href="https://en.wikipedia.org/wiki/POST_(HTTP)" target="_blank" rel="noopener noreferrer" class="">POST</a> er det bedre alternativet (sammenlignet med HTTP GET ) for å sende informasjon fra en klient til en HTTP-server. Hvis du kan, eller om du virkelig ønsker å forbedre sikkerheten, kan du bruke POST i stedet for å sende informasjonen til ERDDAP .. POST er sikrere fordi: med GET og https , URL-adressen overføres på en sikker måte, men hele URL-en (inkludert parametere, inkludert forfatteren\_key) vil bli skrevet til Apache, Tomcat, og ERDDAP™ loggfiler, der noen kan lese dem hvis filene ikke er riktig sikret. Med POST overføres parametrene på en sikker måte og er ikke skrevet til loggfilene. POST er litt vanskeligere for klienter å jobbe med og støttes ikke så mye av klientprogramvare, men programmeringsspråk støtter det. Innholdet du sender til datasettet via GET eller POST vil være det samme, akkurat formatert på en annen måte.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="httpgetrequiredvariables-global-attribute">http Få nødvendig Variabler Global attributt<a href="#httpgetrequiredvariables-global-attribute" class="hash-link" aria-label="Direkte lenke tilhttp Få nødvendig Variabler Global attributt" title="Direkte lenke tilhttp Få nødvendig Variabler Global attributt" translate="no">​</a></h4>
<p>En viktig del av det som gjør at hele systemet fungerer er den nødvendige globale egenskapen http Få nødvendig Variabler, som er en kommaseparert liste av dataVariable kildenavn som unikt identifiserer en rekke data. Dette bør være så minimalt som mulig og vil nesten alltid inkludere tidsvariabelen. Her er det anbefalte http Få nødvendig Variabler for hver av <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Diskret prøvetakingsgeometri (DSG) </a>   (Selvfølgelig kan ID-navnene være forskjellige i datasettet ditt.) :)</p>
<ul>
<li class="">For timeserien: stationID , tid</li>
<li class="">For Trajectory: TrajectoryID, tid</li>
<li class="">For Profil: Tid (Forutsetningstiden er profilen\_id) , dybde</li>
<li class="">For TimeSeries Profil: stationID , tid (Forutsetningstiden er profilen\_id) , dybde</li>
<li class="">For Trajectory Profil: trajectoryID, tid (Forutsetningstiden er profilen\_id) , dybde</li>
</ul>
<p>Ta timeserien som et eksempel:
Gitt en .innsett kommando som inkluderer stationID =46088 og tid=2016-06-23T19:53:00Z (og andre verdier for andre variabler) :)</p>
<ul>
<li class="">Hvis det ikke finnes noen eksisterende data for stasjonen og den tiden, vil effekten bli å legge dataene til datasettet.</li>
<li class="">Hvis det er eksisterende data for stasjonen og den tiden, vil effekten bli å erstatte den eksisterende rekken av data med disse nye dataene. (Selvfølgelig, siden ERDDAP™ Hold loggen på hver kommando den mottar, gamle data er fortsatt i loggen. Hvis en bruker ber om data fra en versjon av datasettet før denne endringen, vil de se eldre data.)<br>
<!-- --> </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="httpgetdirectorystructure">http GetDirectoryStructure<a href="#httpgetdirectorystructure" class="hash-link" aria-label="Direkte lenke tilhttp GetDirectoryStructure" title="Direkte lenke tilhttp GetDirectoryStructure" translate="no">​</a></h4>
<ul>
<li class="">
<p><a href="#httpgetdirectorystructure" class=""> http GetDirectory Struktur Global attributt og data (Logg) Filnavn</a><br>
<!-- -->En del av det som gjør at hele systemet fungerer effektivt er at ERDDAP™ skaper et sett data (Logg) filer, hver med en annen del av datasettet. Hvis disse er satt godt opp, ERDDAP™ vil kunne svare raskt på de fleste forespørsler om data. Dette oppsettet er spesifisert av http GetDirectoryStructure global attributt, som er en streng som ser ut som et relativt filnamn, f.eks. stationID /10 år&quot;, men er faktisk en spesifikasjon for katalogstrukturen. Delene av dette indikerer hvordan mappe og filnavn for dataene (Logg) Filene vil bli konstruert.</p>
</li>
<li class="">
<p>Hvis en del er et heltall (&gt;= 1) pluss en tidPeriod (millisekund, andre, minutt, time, dato, måned, år, eller deres flertall) , for eksempel 10 år, vil EDDTableFromHttpGet datasett ta tidsverdien for rekken data (f.eks. 2016-06-23T19:53:00Z) , beregne tiden som er avkortet til den presisjonen (f.eks. 2010) , og lag en mappe eller fil fra det.</p>
</li>
</ul>
<p>Målet er å få en rimelig stor del av data i hver fil, men langt mindre enn 2GB.</p>
<ul>
<li class="">Ellers skal spesifikasjonens del være dataVariable &#x27;s sourceName f.eks. stationID .. I dette tilfellet vil EDDTableFromHttpGet gjøre en mappe eller filnavn fra verdien av den variabelen for den nye rekken data (f.eks. &quot;46088&quot;) ..</li>
</ul>
<p>Fordi .innsett og .slett kommandodata lagres i bestemte data (Logg) filer, EDDTableFraHttpGet vanligvis bare trenger å åpne en eller noen få data (Logg) filer å finne data for en gitt brukerforespørsel. Og fordi hver data (Logg) filen har all relevant informasjon for sin del av datasettet, det er raskt og enkelt for EDDTableFramtHttpGet å lage en bestemt versjon (eller den aktuelle versjonen) av datasettet for dataene i den filen (og ikke trenger å generere den ønskede versjonen av hele datasettet) ..</p>
<p>Generelle retningslinjer er basert på mengden og hyppigheten av dataene. Hvis vi tar 100 byte per rad data, så ...</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    | Frequency  &lt;br&gt;of measurements | Recommended  &lt;br&gt;httpGetDirectoryStructure |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    | --- | --- |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    | \\&gt;=1 per second | *featureID*/1year/1day |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    | \\&gt;=1 per minute | *featureID*/2months |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    | \\&gt;=1 per hour | *featureID*/10years |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    | \\&gt;=1 per day | *featureID* |</span><br></span></code></pre></div></div>
<p>For eksempel hvis katalogstrukturen er stationID / 2 måneder og du setter inn data fra to stasjoner (46088 og 46155) med tidsverdier fra desember 2015 til mai 2016, EDDTableFromHttp Få vil opprette mapper som heter 46088 og 46155 og opprette filer i hvert navn 2015-11 .json l, 2016-01 .json l, 2016-03 .json l, 2016-05 .json l (hver innehav 2 måneders dataverdi for relevant stasjon) .. Når som helst i fremtiden, hvis du bruker .innsett eller . slette for å endre eller slette dataene for eksempel stasjon 46088 ved 2016-04-05T14:45:00Z, EDDTableFromHttp Få vil legge til den kommandoen til 46088/2016-03 .json l) relevante data (Logg) fil. Og det er klart at det er bra å legge til data for andre stasjoner når som helst i fremtiden, siden datasettet bare vil lage ytterligere mapper etter behov for å holde dataene fra de nye stasjonene.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="httpgetkeys">http GetKeys<a href="#httpgetkeys" class="hash-link" aria-label="Direkte lenke tilhttp GetKeys" title="Direkte lenke tilhttp GetKeys" translate="no">​</a></h4>
<p>Hver EDD-tabell FraHttp Få datasett må ha en global attributt http GetKeys som angir listen over tillatte forfattere og deres hemmelige nøkler som en kommadelt liste av <em>forfatter\_nøkkel</em> f.eks. JohnSmith\_someKey1, HOBOLogger\_someKey2, QCScript59\_someKey3 .</p>
<ul>
<li class="">forfatter\_key&#x27;s er case-sensitive og må være helt ASCII tegn (# 33 - #126, og uten komma, &quot; eller &#x27; tegn</li>
<li class="">Nøkkelene er som passord, så de må være &gt;=8 tegn, vanskelig å gjette, og uten interne ord i ordbok. Du bør behandle dem som du vil behandle passord - holde dem private.</li>
<li class="">Det første &quot;-<em>&quot;-tegnet skiller forfatteren fra nøkkelen, slik at forfatternavnet ikke kan inneholde et &quot;-</em>&quot;-tegn (En nøkkel kan) ..</li>
<li class="">Enhver gitt forfatter kan ha en eller flere forfattere\_keys, for eksempel JohnSmith\_some Key1, JohnSmith-_noen Key7, etc.</li>
<li class="">Du kan endre verdien av denne egenskapen når som helst. Endringene trer i kraft neste gang datasettet lastes.</li>
<li class="">Denne informasjonen vil bli fjernet fra datasettets globale administratorer før den blir offentliggjort.</li>
<li class="">Hver forespørsel til datasettet om å sette inn eller slette data må inneholde en &amp;author= <em>forfatter\_nøkkel</em> parameter. etter å ha bekreftet nøkkelens gyldighet, ERDDAP™ Bare sparer forfatterdelen (Ikke nøkkelen) i datafilen.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="set-up">Sett opp<a href="#set-up" class="hash-link" aria-label="Direkte lenke tilSett opp" title="Direkte lenke tilSett opp" translate="no">​</a></h4>
<p>Her er de anbefalte trinnene for å sette opp et EDDTableFromHttpGet datasett:</p>
<ol>
<li class="">
<p>Gjør hovedkatalogen til å holde dette datasettets data. For dette eksempel, la oss bruke /data/testGet/ . Brukeren kjører GenererDatasetsXml og brukeren kjører ERDDAP™ må begge ha lese-skrive tilgang til denne katalogen.
 </p>
</li>
<li class="">
<p>Bruk en teksteditor til å lage en prøve .json L CSV-fil med utvidelsen .json I den katalogen.
Navnet er ikke viktig. Du kan for eksempel kalle det prøve .json l
Lag en 2 linje .json l CSV-fil, med kolonnenavn på første linje og dummy/typiske verdier (av riktig datatype) på den andre linjen. Her er en prøvefil som passer til en samling featureType =TimeSeries data som målte luft og vanntemperatur.
\[ For featureType =Trajectory, du kan endre stationID For å være banebrytende. \]<br>
<!-- -->\[ For featureType =Profil, kan du endre stationID å være profilID og legge til en dybdevariabel. \]</p>
<p>\[ &quot; stationID &quot;, &quot;time&quot; ,  &quot; breddegrad  &quot; &quot; lengdegrad  &quot; airTemp  &quot; vannTemp  &quot; timestamp  &quot; &quot; forfatter  &quot; command kommando &quot; \]
\[ &quot;myStation&quot;, &quot;2018-06-25T17:00:00Z&quot;, 0,0, 0,0, 0,0, 0,0, 0,0, 0,0, &quot;NogleBody&quot;, 0 \]</p>
</li>
</ol>
<p>Merk:</p>
<ul>
<li class="">De faktiske dataverdiene spiller ingen rolle fordi du til slutt vil slette denne filen, men de bør være av riktig datatype. Spesielt bør tidsvariabelen bruke det samme formatet som de faktiske dataene fra kilden vil bruke.</li>
<li class="">For alle variabler, sourceName vil være lik destinationName , så bruk de riktige/endelige variabelnavnene nå, inkludert tid, breddegrad, lengdegrad og noen ganger dybde eller høyde hvis variabler med denne informasjonen vil bli inkludert.</li>
<li class="">Det vil nesten alltid være en variabel navngitt tid som registrerer tiden observasjonen ble gjort. Det kan være dataType-streng med <a href="#string-time-units" class="">enheter egnet for strengtider</a>   (f.eks. yyyy-MM-dd &#x27;T&#x27;HH:mm<!-- -->:ss<!-- -->.SSSZ) eller data Skriv dobbel med <a href="#time-units" class="">enheter egnet for numeriske tider</a>   (f.eks. sekunder siden 1970-01-01T00:00:00Z, eller noe annet basistid) ..</li>
<li class="">Tre av søylene (De siste tre) Må være tidsstempel, forfatter, kommando.</li>
<li class="">Tidsstempelkolonnen vil bli brukt av EDDTableFraHttpGet for å legge til en tidsstempel som indikerer når den legger til en gitt datalinje i datafilen. Det vil ha dataType dobbel og enheter sekunder siden 1970-01-01T00:00:00Z.</li>
<li class="">Forfatterkolonnen med dataType-streng vil bli brukt til å registrere hvilken autorisert forfatter som oppgir denne linjens data. autoriserte forfattere er spesifisert av <a href="#httpgetkeys" class=""> http GetKeys global attributt</a> .. Selv om nøkler er spesifisert som <em>forfatter\_nøkkel</em> og er i &quot;forespørsel&quot; URL i det skjemaet, bare forfatterdelen lagres i datafilen.</li>
<li class="">Kommandokolonnen med dataType byte indikerer om dataene på denne linjen er en innsetting (0) eller slette (1) ..
 </li>
</ul>
<ol start="3">
<li class="">
<p>Kjør genererte datasett Xml og fortell det</p>
<ol>
<li class="">Datasetttypen er EDDTableFraHttpGet</li>
<li class="">Katalogen er (For dette eksempelet) /data/test Kjøp/</li>
<li class="">Prøvefilen er (For dette eksempelet) /data/testGet/startup .json l</li>
<li class="">Den http Få nødvendig Variabler er (For dette eksempelet)   stationID , tid Se beskrivelsen av <a href="#httpgetrequiredvariables-global-attribute" class=""> http Få nødvendige variabler</a> Nedenfor.</li>
<li class="">Dersom data samles inn hvert 5. minutt, http GetDirectoryStructure for dette eksempelet er stationID 2 måneder. Se beskrivelsen av <a href="#httpgetdirectorystructure" class=""> http GetDirectoryStructure</a> Nedenfor.</li>
<li class="">Den <a href="#httpgetkeys" class=""> http GetKeys</a></li>
</ol>
</li>
</ol>
<p>Legg til utdata (delen av datasets.xml for datasettet) til datasets.xml ..
 
4. Rediger datasets.xml bit for dette datasettet for å gjøre det riktig og komplett.
Husk å erstatte alle??? med riktig innhold.
 
5. For&lt;filTableInMemory&gt; innstilling:</p>
<ul>
<li class="">Sett dette til sant hvis datasettet vanligvis blir hyppig .innsett og/eller . (For eksempel oftere enn én gang hvert 10. sekund.) .. Dette hjelper EDDTableFromHttpFå svar raskere på .innsett og/eller .slette forespørsler. Hvis du setter dette til sant, vil EDDTableFromHttpGet fortsatt lagre filtabellen og relatert informasjon til disk periodisk (etter behov, omtrent hvert femte sekund) ..</li>
<li class="">Sett dette på falsk (standard) hvis datasettet vanligvis får sjelden .innsett og/eller .slette forespørsler (For eksempel mindre enn én gang hvert 10. sekund.) ..
 </li>
</ul>
<ol start="6">
<li class="">Merk: Man kan bruke&lt;cacheFra Url&gt; og relaterte innstillinger i datasets.xml for EDDTable FraHttp Få datasett som en måte å lage og vedlikeholde en lokal kopi av et eksternt EDDTableFromHttpGet datasett på en annen ERDDAP .. Men i dette tilfellet vil dette lokale datasettet avvise alle .innlegg og .slette forespørsler.</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="using-eddtablefromhttpget-datasets">Bruke EDDTable FraHttpGet Datasett<a href="#using-eddtablefromhttpget-datasets" class="hash-link" aria-label="Direkte lenke tilBruke EDDTable FraHttpGet Datasett" title="Direkte lenke tilBruke EDDTable FraHttpGet Datasett" translate="no">​</a></h4>
<ul>
<li class="">Forfattere kan gjøre &quot; spørsmål&quot; som <a href="#insert-and-delete" class="">sette inn data til eller slette data fra datasettet</a> ..
 </li>
<li class="">Når ekte data er satt inn i datasettet, kan du og bør slette den opprinnelige prøvedatafilen.
 </li>
<li class="">Brukere kan be om data fra datasettet som de gjør for alle andre EDDTable datasett i ERDDAP .. Hvis forespørselen ikke inkluderer en begrensning på tidsstempelkolonnen, får forespørselen data fra den aktuelle versjonen av datasettet (Loggfilen etter å ha behandlet alle innsettings- og slettingskommandoer og omsortering av http Få nødvendige variabler) ..
 </li>
<li class="">Brukere kan også gjøre forespørsler som er spesifikke for EDDTableFromHttpGet datasett:<!-- -->
<ul>
<li class="">Hvis forespørselen inkluderer&lt;eller&lt;= begrensning av tidsstempelkolonnen, deretter ERDDAP™ prosesserer rader av loggfilen inntil den angitte tidsstempel. I virkeligheten sletter dette midlertidig alle endringene som er gjort i datasettet siden den tidsstempelverdien. For mer informasjon, se <a href="#versioning" class="">Utgave</a> ..</li>
<li class="">Hvis forespørselen inkluderer en &gt;, &gt;= eller = begrensning av tidsstempelkolonnen, f.eks. &amp;timesamp&lt;=0, så ERDDAP™ returnerer dataene fra datafilene som er, uten å behandle kommandoene for innsetting og sletting.</li>
</ul>
</li>
<li class="">I fremtiden ser vi på at verktøy vil bli bygget (Av oss? ved deg?) å jobbe med disse datasettene. For eksempel kan det være et skript som leser råloggfilene, bruker en annen kalibreringslikning og genererer/oppdateringer et annet datasett med den avledede informasjonen. Merk at skriptet kan få de opprinnelige dataene via en forespørsel til ERDDAP™   (som får data i filformatet som er enklest for skriptet å fungere med) og generere / oppdatere det nye datasettet via .innsett &quot; spørs til ERDDAP .. Skriptet trenger ikke direkte tilgang til datafilene; det kan være på enhver autorisert forfatters datamaskin.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="detailed-information-about-eddtablefromhttpget">Detaljert informasjon om EDDTableFromHttpGet<a href="#detailed-information-about-eddtablefromhttpget" class="hash-link" aria-label="Direkte lenke tilDetaljert informasjon om EDDTableFromHttpGet" title="Direkte lenke tilDetaljert informasjon om EDDTableFromHttpGet" translate="no">​</a></h4>
<p>Temaene er:</p>
<ul>
<li class=""><a href="#dont-change-the-setup" class="">Ikke endre oppsettet!</a></li>
<li class=""><a href="#crud" class="">CRUD</a></li>
<li class=""><a href="#invalidrequests" class="">Ugyldige spørsmål</a></li>
<li class=""><a href="#httpget-speed" class="">Hastighet</a></li>
<li class=""><a href="#robust" class="">Robust</a></li>
<li class=""><a href="#system-reliability" class="">Systempålitelighet</a></li>
<li class=""><a href="#versioning" class="">Utgave</a></li>
<li class=""><a href="#https-put-and-delete" class="">Hva med HTTP PUT og DELETE?</a></li>
<li class=""><a href="#httpget-notes" class="">Noter</a></li>
<li class=""><a href="#thanks" class="">Takk til CORDS for den grunnleggende ideen.</a></li>
</ul>
<p>Her er detaljert informasjon:</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="dont-change-the-setup">Ikke endre oppsettet!<a href="#dont-change-the-setup" class="hash-link" aria-label="Direkte lenke tilIkke endre oppsettet!" title="Direkte lenke tilIkke endre oppsettet!" translate="no">​</a></h5>
<p>Når datasettet er opprettet og du har lagt til data til det:</p>
<ul>
<li class="">Ikke legg til eller fjern noen dataVariable S.</li>
<li class="">Ikke endre sourceName eller destinationName av dataVariable S.</li>
<li class="">Ikke endre dataene Typen av dataVariable S. Men du kan endre dataVariable metadata.</li>
<li class="">Ikke endre http Få nødvendig Variablerer global attributt.</li>
<li class="">Ikke endre http GetDirectoryStructure global attributt.</li>
</ul>
<p>Hvis du trenger å endre noe av disse tingene, gjør et nytt datasett og overføre alle dataene til det nye datasettet.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="crud">CRUD<a href="#crud" class="hash-link" aria-label="Direkte lenke tilCRUD" title="Direkte lenke tilCRUD" translate="no">​</a></h5>
<p>I datavitenskap er de fire grunnleggende kommandoene for å jobbe med et datasett. <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete" target="_blank" rel="noopener noreferrer" class="">CREATE, LES, UPDATE, DELETE (CRUD) </a> .. SQL, språket for å jobbe med relasjonelle databaser, har tilsvarende i INSERT, SELECT, UPDATE og DELETE. I EDDTableFraHttpGet,</p>
<ul>
<li class="">.innsetting er en kombinasjon av CREATE og UPDATE.</li>
<li class="">Sletting er DELETE.</li>
<li class="">Det vanlige systemet for å søke undergrupper av data er LES.</li>
</ul>
<p>Således støtter EDDTableFromHttpGet alle de grunnleggende kommandoene for å jobbe med et datasett.
 </p>
<ul>
<li class="">.innsette eller slette forespørsler uten feil vil returnere HTTP-statuskode=200 og et JSON-objekt, f.eks.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;status&quot;:&quot;success&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;nRowsReceived&quot;:1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;stringTimestamp&quot;:&quot;2018-03-26T15:34:05.552Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;numericTimestamp&quot;:1.522078445552E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>De to tidsstemplingsverdiene refererer til det samme millisekund, som er det millisekund som vil bli lagret i tidsstemplevariabelen for rekkene med data som ble satt inn eller slettet. ERDDAP™ vil ikke endre navn og formatering av disse nøkkelverdiparene i fremtiden. ERDDAP™ kan legge til ekstra nøkkelverdipar til JSON-objektet i fremtiden.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="invalidrequests">Ugyldige spørsmål<a href="#invalidrequests" class="hash-link" aria-label="Direkte lenke tilUgyldige spørsmål" title="Direkte lenke tilUgyldige spørsmål" translate="no">​</a></h5>
<p>Ugyldig .innlegg eller .slette forespørsler vil returnere en annen HTTP-feilstatuskode enn status=200 og ingen endring vil bli gjort til datasettet. Dette inkluderer forespørsler med feil forfatterinformasjon, feil variabelnavn, forskjellig rekkevidde for ulike variabler, manglende variabler, mangler nødvendige variabelverdier etc. Hvis forespørselen involverer mer enn én datafil, er det mulig at en del av forespørselen vil lykkes og deler vil mislykkes. Dette bør imidlertid ikke være et problem hvis sensoren som sender forespørselen behandler en feil som en fullstendig feil. For eksempel, hvis du forteller ERDDAP™ å sette inn (eller slette) samme data to ganger på rad, verste tilfelle er at informasjonen lagres to ganger, tett sammen i loggfilen. Det er vanskelig å se hvordan det kan forårsake problemer.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="httpget-speed">HttpGet Speed<a href="#httpget-speed" class="hash-link" aria-label="Direkte lenke tilHttpGet Speed" title="Direkte lenke tilHttpGet Speed" translate="no">​</a></h5>
<p>For .innsett eller .slette forespørsler (ikke teller http Overhead) , ballpark figurer hastigheten på .innlegg eller . slette er
1ms per .innsett med 1 rad data
2ms per .innsett med 10 rader data i tabeller ( \[  \] )<br>
<!-- -->3ms per .sett med 100 rader data i tabeller ( \[  \] )<br>
<!-- -->13ms per .innsettes med 1000 rader data i tabeller ( \[  \] )<br>
<!-- -->Det er tydelig at arrays er nøkkelen til <a href="#httpget-speed" class="">høy gjennomstrømning</a> .. Uten tabeller, vil det være utfordrende å sette inn eller slette mer enn 8 rader data i sekundet fra en ekstern forfatter (På grunn av all overhead av nettverket) .. Med tabeller vil det være enkelt å sette inn eller slette mer enn 1000 rader data i sekundet fra en fjernsensor.</p>
<p>Med svært store mengder data per forespørsel, vil du treffe Tomcats grense til maksimal spørringslengde (Standard er 8KB?) , men det kan økes ved å redigere maxHttpHeaderSize-innstillingen i din <em>tomcat</em> /conf/server.xmls HTTP/1.1 Kontaktoppføring.</p>
<p>Når ERDDAP™ Leser JSON Lines CSV-data (Logg) filer, det er en liten tidsstraff i forhold til å lese binære datafiler. Vi følte at denne straffen ved lesing var en rimelig pris for å betale for systemets hastighet og robusthet når vi skrev data. (som er av primær betydning) ..</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="ssd">SSD<a href="#ssd" class="hash-link" aria-label="Direkte lenke tilSSD" title="Direkte lenke tilSSD" translate="no">​</a></h5>
<p><a href="#ssd" class="">For større hastighet,</a> bruk a <a href="https://en.wikipedia.org/wiki/Solid-state_drive" target="_blank" rel="noopener noreferrer" class="">Solid State Drive (SSD) </a> å lagre dataene. De har mye raskere tilgangstid (&lt;0.1ms) enn harddisker (3 - 12 ms) .. De har også raskere dataoverføringsrate (200 - 2500 MB/s) enn harddisker (~ 200 MB/s) .. Utgiftene har falt betydelig de siste årene. Selv om tidlige SSD hadde problemer etter et stort antall skriver til en gitt blokk, er dette problemet nå sterkt redusert. Hvis du bare bruker SSD til å skrive dataene en gang, les det mange ganger, selv en forbrukerklasse SSD (som er betydelig billigere enn en bedriftsklasse SSD) Det bør vare lenge.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="robust">Robust<a href="#robust" class="hash-link" aria-label="Direkte lenke tilRobust" title="Direkte lenke tilRobust" translate="no">​</a></h5>
<p>Vi har prøvd å gjøre dette systemet så enkelt å jobbe med og så robust som mulig.</p>
<ul>
<li class="">Systemet er designet for å ha flere tråder (For eksempel sensoren, et automatisert QC-skript og et menneske) samtidig arbeid på samme datasett og til og med den samme filen. Mye av dette gjøres mulig ved å bruke en loggfiltilnærming til lagring av data og ved å bruke en veldig enkel filtype, <a href="https://jsonlines.org/examples/" target="_blank" rel="noopener noreferrer" class="">JSON Linjer CSV-filer</a> å lagre dataene.</li>
<li class="">En annen stor fordel til JSON Lines CSV er at hvis en fil noensinne blir ødelagt (For eksempel ugyldig på grunn av en feil på en linje) , det er enkelt å åpne filen i en tekstredigering og løse problemet.</li>
<li class="">En annen fordel er, hvis det er en feil på en linje i en fil, kan systemet fortsatt lese alle dataene på linjer før og etter feillinjen. Og systemet kan fortsatt logge ekstra .innsett og . slette informasjon.</li>
<li class="">En stor fordel med å bruke admin-tilgjengelige standardfiler (sammenlignet med en relasjonell database eller Cassandra eller annen programvare) :) Det finnes ingen annen programvare som må vedlikeholdes og som må kjøres for å lagre eller hente data. Og det er enkelt å sikkerhetskopiere standardfiler til enhver tid og på en gradvis måte fordi dataene er i biter (Etter en stund vil bare dagens fil for hver stasjon endres) .. I motsetning til det tar betydelig innsats og systemet nede tid å gjøre eksterne sikkerhetskopifiler fra databaser og fra Cassandra.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="system-reliability">Systempålitelighet<a href="#system-reliability" class="hash-link" aria-label="Direkte lenke tilSystempålitelighet" title="Direkte lenke tilSystempålitelighet" translate="no">​</a></h5>
<p>Det er rimelig å forvente én server med ERDDAP™ å ha 99,9 % oppetid - det er ca 9 timers nedetid i året (Men du kan bruke det opp i en dårlig natt!) ..
Hvis du er flittig og heldig, kan du få 99,99% oppetid (53 minutters nedetid i året) , siden bare noen få omstarter for oppdateringer vil ta så mye tid.
Du må treffe ekstreme tiltak (en separat backup-server, uforstyrrelig strømforsyning, sikkerhetskopiering air condition, 24x7x365 personale for å overvåke nettstedet, etc.) å ha en slank sjanse på 99,999% oppetid (5.25 minutters nedetid i året) .. Selv da er det svært usannsynlig at du vil oppnå 99.999% oppetid (eller 99,99%) Fordi problemer ofte er utenfor din kontroll. Amazon Web Service og Google tilbyr utrolig pålitelige webtjenester, men store deler av dem er noen ganger nede i timevis.</p>
<p>Ansikte det, alle ønsker ERDDAP™ å ha 100% oppetid, eller i det minste de vaunted-seks niere- (99.9999 % opptid er 32 sekunder nedetid i året) Men det er ingen måte å få det uansett hvor mye tid, innsats og penger du bruker.</p>
<p>Men ERDDAP™ Uptime er ikke det virkelige målet her. Målet er å bygge en pålitelig <strong>systemet</strong> En som ikke mister data. Dette er et løselig problem.</p>
<p>Løsningen er: Bygg feiltolerans i dataprogramvaren som sender dataene til ERDDAP .. Spesielt bør programvaren opprettholde en kø av data som venter på å gå til ERDDAP .. Når data legges til i køen, bør programvaren sjekke svaret fra ERDDAP .. Hvis svaret ikke inkluderer data mottatt. Ingen feil., så bør programvaren legge dataene i køen. Når mer data genereres og legges til i køen, bør programvaren igjen prøve å sette inn data i køen (Kanskje med \[  \] systemet) .. Det vil lykkes eller mislykkes. Hvis det mislykkes, vil det prøve igjen senere. Hvis du skriver programvaren til å fungere på denne måten, og hvis programvaren er forberedt på å kjøre i kø noen dager verdt data, har du faktisk en god sjanse til å laste opp 100% av sensorens data til ERDDAP .. Og du vil ha gjort det uten å gå til store anstrengelser eller kostnader.</p>
<p>\[ Bakgrunn: Vi tenkte ikke på dette. <a href="https://en.wikipedia.org/wiki/Reliability_(computer_networking)" target="_blank" rel="noopener noreferrer" class="">Slik oppnår datanettverk pålitelighet.</a> Datanettverk er upålitelig. Så når du overfører en fil fra en datamaskin til en annen, vet programvaren/ekspedisjonene at noen pakker kan gå tapt. Hvis det ikke får en riktig bekreftelse for en gitt pakke fra mottakeren, sender det den tapte pakken. Med denne tilnærmingen kan relativt enkel avsender og mottakerprogramvare bygge et pålitelig filoverføringssystem på toppen av et upålitelig nettverk. \]</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-json-lines-csv-files">Hvorfor JSON Lines CSV-filer?!<a href="#why-json-lines-csv-files" class="hash-link" aria-label="Direkte lenke tilHvorfor JSON Lines CSV-filer?!" title="Direkte lenke tilHvorfor JSON Lines CSV-filer?!" translate="no">​</a></h5>
<p>EDDTableFraHttpGet bruk <a href="https://jsonlines.org/examples/" target="_blank" rel="noopener noreferrer" class="">JSON Linjer CSV-filer</a> for å lagre dataene. Årsakene er:</p>
<ul>
<li class="">Hovedårsaken er: Enkelheten i JSON Lines CSV-filer tilbyr en rask, enkel og pålitelig måte å tillate flere tråder å skrive til en gitt fil. (For eksempel ved å synkronisere på filnavnet) ..</li>
<li class="">Hvis en JSON Lines CSV-fil noensinne ble ødelagt (For eksempel ugyldig på grunn av en feil på en linje) , EDDTableFromHttpGet kan fortsatt lese alle data på alle linjene før og etter feillinjen. Og .innsett og .slette systemet kan fortsette å legge til nye data i datafilen.</li>
<li class="">Fordi JSON Lines CSV-filer er ASCII-filer, hvis en fil noensinne har blitt ødelagt, vil det være enkelt å fikse (i tekstredigering) ..</li>
<li class="">JSON Lines CSV støtter Unicode-strenger.</li>
<li class="">JSON Lines CSV støtter variabel lengdestrenger (Ikke begrenset til noe max lengde) ..</li>
<li class="">JSON Lines CSV støtter 64-bit heltal (longs) ..</li>
<li class="">Den formelle naturen og ekstra syntaksen til JSON Lines CSV (vs gammel skole CSV) gir litt ekstra forsikring om at en gitt linje ikke er ødelagt.</li>
</ul>
<p>I utgangspunktet prøvde vi å bruke .nc 3 filer med en ubegrenset dimensjon. Men det var problemer:</p>
<ul>
<li class="">Hovedproblemet var: Det er ingen pålitelig måte å tillate flere tråder å skrive til en .nc 3 fil, selv om trådene samarbeider ved å gjøre skriver på en synkronisert måte.</li>
<li class="">Hvis en .nc 3 fil blir ødelagt, .install og .slette systemet kan ikke fortsette å bruke filen.</li>
<li class="">Fordi .nc 3 filer er binære, hvis en fil blir ødelagt (Som de gjør på grunn av multi-threading problem) De er svært vanskelige eller umulige å fikse. Det finnes ingen verktøy for å hjelpe med reparasjonen.</li>
<li class="">CF har ingen måte å spesifisere koding av strenger, så det er ingen offisiell måte å støtte Unicode, f.eks. UTF-8-kodingen. Vi prøvde å få CF til å støtte en  \_coding-attributt, men klarte ikke å gjøre noen fremgang. ( Unidata , til deres kreditt, støtter  \_coding attributt.)</li>
<li class="">.nc 3 filer støtter bare faste lengdestrenger. Igjen prøvde vi å få CF og Unidata å støtte variabel lengde strenger, men klarte ikke å gjøre noen fremgang.</li>
<li class="">.nc 3 filer støtter ikke en enkel måte å skille enkelt tegnvariabler fra strengvariabler. Igjen prøvde vi å få CF og Unidata å støtte et system for å skille disse to datatypene, men klarte ikke å gjøre noen fremgang.</li>
<li class="">.nc 3 filer støtter bare 8-bit tegn med en uspesifisert koding. Igjen prøvde vi å få CF og Unidata å støtte et system for å spesifisere koding, men var ikke i stand til å gjøre noen fremgang.</li>
<li class="">.nc 3 filer støtter ikke 64-bit heltall (longs) .. Igjen prøvde vi å få CF og Unidata å støtte et system for lang tid, men var ikke i stand til å gjøre noe.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="versioning">Utgave<a href="#versioning" class="hash-link" aria-label="Direkte lenke tilUtgave" title="Direkte lenke tilUtgave" translate="no">​</a></h5>
<p>Fordi EDDTable FraHttp Få lagret en logg av alle endringene i datasettet med tidsstempelet og forfatteren av hver endring, kan det raskt gjenskape det datasettet fra hvilket som helst punkt i tiden. På en måte er det en versjon for ethvert punkt i tiden. Hvis brukerens forespørsel om data inkluderer en tidsstempel&lt;= begrensning, f.eks.&lt;=2016-06-23T16:32:22.128Z (eller når som helst) men ingen begrensning av forfatter eller kommando, ERDDAP™ vil svare på forespørselen ved først å generere en versjon av datasettet fra det punktet i tide. Så, ERDDAP™ anvende brukerens andre begrensninger, som med alle andre forespørsler om data fra ERDDAP .. EDDTableFromHttpGet er satt opp slik at denne prosessen er svært rask og effektiv, selv for svært store datasett.</p>
<p>På samme måte kan en bruker finne ut når datasettet ble sist oppdatert ved å be om ...?timestamp&amp;timestamp=max (tidsstempel) &amp; fjernt ()</p>
<p>Og for enhver forespørsel om data, for enhver versjon av datasettet, kan brukerne se hvilken forfatter som gjorde hvilke endringer, og når de gjorde dem.</p>
<p>Dette versjonssystemet muliggjør <a href="https://en.wikipedia.org/wiki/Reproducibility" target="_blank" rel="noopener noreferrer" class="">Reproducerbar vitenskap</a> fordi alle når som helst kan be om data fra versjonen av datasettet når som helst. Denne finkornede versjonen er ikke mulig med noe annet system som vi vet om. Den underliggende mekanismen er svært effektiv, ved at det ikke er behov for ekstra lagringsplass, og behandlingsoverskuddet er virkelig minimalt.</p>
<p>Ikke alle har behov for denne typen finkornet versjon, men det er overveldende nyttig, kanskje nødvendig, i sammenheng med en stor datastyringsorganisasjon (For eksempel, OOI, Earth Cube, Data One, og NOAA NCEIs) hvor et datasett kan ha flere forfattere (For eksempel sensoren, et automatisert QC-skript og et menneskelig redaktør) ..</p>
<p>\[ Historie: Behovet for denne typen versjon kom først opp for meg (Bob) Les om og diskutere OOI i 2008. På den tiden hadde OOI et tungt, sakte, ineffektivt system for versjon basert på Git. Git er bra for det den var designet til, men ikke dette. I 2008, mens jeg deltok i en OOI-debatt, utviklet jeg et omfattende, effektivt alternativ til OOI-system for databehandling, inkludert mange av funksjonene jeg har lagt til. ERDDAP™ Siden da og inkludert dette versjonssystemet. På den tiden og siden, var OOI forpliktet til deres versjonssystem og ikke interessert i alternativer. I 2016 falt andre aspekter av denne planen på plass, og jeg begynte å gjennomføre den. Fordi det var mange avbrudd å jobbe på andre prosjekter, gjorde jeg ikke ferdig før 2018. Selv nå er jeg ikke klar over noe annet vitenskapelig datasystem som gir så rask og enkel tilgang til en versjon av data fra noe tidspunkt i tiden, for ofte skiftende datasett. Enkelte filsystemer tilbyr ikke dette. Relasjonelle databaser gjør det ikke. Cassandra gjør det ikke. \]</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="https-put-and-delete">HTTPS Sett og Slett<a href="#https-put-and-delete" class="hash-link" aria-label="Direkte lenke tilHTTPS Sett og Slett" title="Direkte lenke tilHTTPS Sett og Slett" translate="no">​</a></h5>
<ul>
<li class=""><a href="#https-put-and-delete" class="">Hva med HTTPS PUT og DELETE?</a><br>
<a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol" target="_blank" rel="noopener noreferrer" class="">Hypertekstoverføringsprotokoll (HTTP) </a> er grunnlaget for World Wide Web og grunnen til at websiden URLs begynner med -http://&quot;ellerhttps://&quot;.. HTTPS er HTTP med et ekstra sikkerhetslag. Hver dag gjør nettlesere, skript og dataprogrammer milliarder av HTTP (S)   <strong>Hent</strong> Forespørsler om å få informasjon fra eksterne kilder. HTTP (S) Inkluderer også andre <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods" target="_blank" rel="noopener noreferrer" class="">verb</a> Spesielt PUT (å presse data til serveren) og DELETE (til DELETE-data fra serveren) .. Ja, PUT og DELETE er den riktige måten å sette inn data i og slette data fra, et datasett via HTTP (S) .. GET støttes av alle deler programvare som kan fungere med HTTP (S) .. Det er virkelig enkelt å jobbe med. Alle vet allerede hvordan man jobber med GET og mange vet hvordan man bruker POST (som kan brukes på i det vesentlige samme måte som GET) , så vi gjorde EDDTableFraHttpGet arbeid med GET og POST. Svært få mennesker (Selv få datamaskinprogrammerere) Har noen gang jobbet med PUT og DELETE. PUT og DELETE støttes generelt kun av dataspråk, så bruk av dem krever et dyktig program. Så PUT og DELETE er vanligvis en mye mer tung tilnærming gitt måten verktøyene har utviklet seg.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="httpget-notes">HttpGet Notes<a href="#httpget-notes" class="hash-link" aria-label="Direkte lenke tilHttpGet Notes" title="Direkte lenke tilHttpGet Notes" translate="no">​</a></h5>
<ul>
<li class=""><a href="#httpget-notes" class="">Noter</a></li>
<li class="">Nei dataVariable kan ha dataType=diagram. Bruk dataType=String i stedet. Hvis du virkelig trenger dataType=char, e-post Chris. John på noaa.gov.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="thanks">Takk<a href="#thanks" class="hash-link" aria-label="Direkte lenke tilTakk" title="Direkte lenke tilTakk" translate="no">​</a></h5>
<ul>
<li class=""><a href="#thanks" class="">Takk til CORDS for den grunnleggende ideen.</a><br>
<!-- -->Grunnleggende ide for EDDTableFramtHttpGet (dvs. ved bruk av en HTTP GET forespørsel om å legge til data i et datasett) er fra UCARs (NCARs?)   <a href="https://github.com/earthcubeprojects-chords" target="_blank" rel="noopener noreferrer" class="">Cloud-verte datatjenester i sanntid (KORDER) </a> Prosjekt. Format for parametrene i anmodningen (gjentatt <em>navn=verdi</em> , separert av &amp;) er det samme standardformatet som brukes av HTML-skjemaer på nettsider. Det er en enkel og strålende ide og enda mer fordi det mesher så perfekt med ERDDAP Det eksisterende systemet for å håndtere tabelldata. Ideen er åpenbar i baksynet, men jeg (Bob) Jeg tenkte ikke på det. EDDTableFraHttp Få bruk av den grunnleggende ideen, kombinert med våre ideer om hvordan man implementerer den, for å lage et system i ERDDAP™ for å laste opp data. Bortsett fra den grunnleggende ideen om å bruke GET til å presse data inn i systemet, er EDDTableFromHttpGet implementasjon helt annerledes og helt uavhengig av CORDS og har ulike funksjoner (f.eks. loggfiler, biting av data, forskjellige sikkerhetssystem, CRUD-støtte, reproducerbare data) .. Vår eksponering for CORDS var bare en webinar. Vi så ikke på koden eller leste om prosjektet deres fordi vi umiddelbart visste at vi ønsket å implementere systemet på en annen måte. Men vi er takknemlige for den grunnleggende ideen. Full referanse til CORDS er
Daniels, M. D., Kerkez, B., Chandrasekar, V., Graver, S., Stamps, D. S., Martin, C., Dye, M., Gooch, R., Bartos, M., Jones, J., Keiser, K. (2014) .. Cloud-verte datatjenester i sanntid for geovitenskapene (KORDER) programvare. UCAR/NCAR - Jordobservasjonslaboratorium. <a href="https://doi.org/10.5065/d6v1236q" target="_blank" rel="noopener noreferrer" class="">https://doi.org/10.5065/d6v1236q</a><br>
<!-- --> </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromhyraxfiles">EDDTableFra Hyrax Filer<a href="#eddtablefromhyraxfiles" class="hash-link" aria-label="Direkte lenke tilEDDTableFra Hyrax Filer" title="Direkte lenke tilEDDTableFra Hyrax Filer" translate="no">​</a></h3>
<p><a href="#eddtablefromhyraxfiles" class=""> <strong>EDDTableFra Hyrax Filer</strong> </a>   (Foreldet) aggregerer datafiler med flere variabler, hver med en eller flere delte dimensjoner (For eksempel tid, høyde (eller dybde) , breddegrad, lengdegrad) og tjenestegjort av en <a href="https://www.opendap.org/software/hyrax-data-server" target="_blank" rel="noopener noreferrer" class=""> Hyrax   OPeNDAP server</a> ..</p>
<ul>
<li class="">Denne datasetttypen er <strong>Deprekert</strong> .. Den nye og mer generelle løsningen er å bruke <a href="#cachefromurl" class="">cache FraUrl-alternativ for EDDTable FraFiles</a>   (eller en variant) , som gjør en lokal kopi av de eksterne filene og betjener data fra de lokale filene. Den&lt;cacheFromUrl&gt; kan brukes med alle typer tabulær datafil. **<br>
<!-- -->Hvis du ikke kan gjøre det fungerer av en eller annen grunn, e-post til Chris. John på noaa.gov.
Hvis det ikke er noen klager før 2020, kan denne datasetttypen fjernes. **</li>
<li class="">Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. Deretter kan du redigere det for å finjustere det.</li>
<li class="">I de fleste tilfeller har hver fil flere verdier for venstre (først) dimensjon, for eksempel tid.</li>
<li class="">Filene ofte (Men trenger ikke å) har én verdi for de andre dimensjonene (For eksempel høyde (eller dybde) , breddegrad, lengdegrad) ..</li>
<li class="">Filene kan ha tegnvariabler med en ekstra dimensjon (For eksempel nCharacters) ..</li>
<li class="">Hyrax servere kan identifiseres av &quot;/dods-bin/nph-dods/&quot; eller//opendap/&quot; i URL-en.</li>
<li class="">Denne klassen skjermskraper Hyrax websider med listene over filer i hver katalog. På grunn av dette er det svært spesifikt for det aktuelle formatet av Hyrax nettsider. Vi vil prøve å justere ERDDAP™ raskt hvis/når fremtidige versjoner av Hyrax Endre hvordan filene er oppført.</li>
<li class="">Den&lt;filDir&gt; innstillingen ignoreres. Siden denne klassen laster ned og lager en lokal kopi av hver ekstern datafil, ERDDAP™ tvinger filen Dir å være <em>bigParentDirectory</em> /kopi/ * datasetID * /.</li>
<li class="">For&lt; sourceUrl &gt;, bruk URL til basiskatalogen til datasettet i Hyrax server for eksempel
&lt; sourceUrl &gt;<a href="http://edac-dap.northerngulfinstitute.org/dods-bin/nph-dods/WCOS/nmsp/wcos/&amp;lt;/" target="_blank" rel="noopener noreferrer" class="">http://edac-dap.northerngulfinstitute.org/dods-bin/nph-dods/WCOS/nmsp/wcos/&amp;lt;/</a> sourceUrl &gt;
(Legg den på én linje)   (Beklager at serveren ikke lenger er tilgjengelig) ..
Den sourceUrl Nettsiden har vanligvis OPeNDAP Serverindeks av \[ mappeName \] På toppen.</li>
<li class="">Siden denne klassen alltid laster ned og lager en lokal kopi av hver ekstern datafil, bør du aldri pakke dette datasettet i <a href="#eddtablecopy" class="">EDDTableCopy</a> ..</li>
<li class="">Se denne klassens superklasse, <a href="#eddtablefromfiles" class="">EDDTableFra Filer</a> For informasjon om hvordan denne klassen fungerer og hvordan du bruker den.</li>
<li class="">Se eksempelene 1D, 2D, 3D og 4D for <a href="#eddtablefromncfiles" class="">EDDTableFraNcFiler</a> ..
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefrominvalidcrafiles">EDDTableFraInvalidCRAFiler<a href="#eddtablefrominvalidcrafiles" class="hash-link" aria-label="Direkte lenke tilEDDTableFraInvalidCRAFiler" title="Direkte lenke tilEDDTableFraInvalidCRAFiler" translate="no">​</a></h3>
<p><a href="#eddtablefrominvalidcrafiles" class=""> <strong>EDDTableFraInvalidCRAFiler</strong> </a> aggregerer data fra NetCDF   (v3 eller v4)   .nc filer som bruker en spesifikk, ugyldig variant av CF DSG Contigous Tagged Array (CRA) Filer. Selv om ERDDAP™ støtter denne filtypen, det er en ugyldig filtype som ingen bør begynne å bruke. Grupper som for tiden bruker denne filtypen oppfordres sterkt til å bruke ERDDAP™ å generere gyldige CF DSG CRA-filer og slutte å bruke disse filene.</p>
<p>Detaljer: Disse filene har flere rad-_størrelse variabler, hver med en prøve-_dimensjon attributt. Filene er ikke-CF-standardfiler fordi flere prøver (obs) dimensjoner skal dekodes og relateres til hverandre med denne ekstra regelen og lover som ikke er en del av CF DSG-spesifikasjonen: &quot; du kan tilknytte en gitt f.eks. temperaturverdi (tempo\_obs dimensjon) Med en gitt dybdeverdi (z__obs dimensjon, dimensjonen med flest verdier) , fordi: temperaturraden\_size (til et gitt kast) vil være enten 0 eller lik den tilsvarende dybde-_størrelse (for det kastet)   (Det er regelen) .. Så hvis temperaturraden\_størrelsen ikke er 0, så n temperaturverdier for den støpte relaterer direkte til n dybdeverdier for den støpte (Det er løftet) .&quot;</p>
<p>Et annet problem med disse filene: Principal-_Investigator rad-_size variabelen har ikke en prøve-_dimensjon attributt og følger ikke ovennevnte regel.</p>
<p>Prøvefiler for denne type datasett kan finnes på<a href="https://data.nodc.noaa.gov/thredds/catalog/ncei/wod/" target="_blank" rel="noopener noreferrer" class="">https://data.nodc.noaa.gov/thredds/catalog/ncei/wod/</a>  \[ 2020-10-21 Denne tjeneren er ikke lenger pålitelig tilgjengelig \] ..</p>
<p>Se denne klassens superklasse, <a href="#eddtablefromfiles" class="">EDDTableFra Filer</a> For informasjon om hvordan denne klassen fungerer og hvordan du bruker den.</p>
<p>Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. Deretter kan du redigere det for å finjustere det.</p>
<p>Det første Generer Datasett Xml gjør for denne typen datasett etter at du har svart på spørsmålene er å skrive ut ncdump-lignende struktur i prøvefilen. Så hvis du skriver inn noen goofy svar for den første loopen gjennom Genererer Datasett Xml, i det minste kan du se om ERDDAP™ kan lese filen og se hvilke dimensjoner og variabler i filen. Deretter kan du gi bedre svar for den andre løkken gjennom Genererer DatasetsXml.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromjsonlcsvfiles">EDDTableFraJsonlCSVFiler<a href="#eddtablefromjsonlcsvfiles" class="hash-link" aria-label="Direkte lenke tilEDDTableFraJsonlCSVFiler" title="Direkte lenke tilEDDTableFraJsonlCSVFiler" translate="no">​</a></h3>
<p><a href="#eddtablefromjsonlcsvfiles" class=""> <strong>EDDTableFraJsonlCSVFiler</strong> </a> aggregerer data fra <a href="https://jsonlines.org/examples/" target="_blank" rel="noopener noreferrer" class="">JSON Linjer CSV-filer</a> .. Se denne klassens superklasse, <a href="#eddtablefromfiles" class="">EDDTableFra Filer</a> For informasjon om hvordan denne klassen fungerer og hvordan du bruker den.</p>
<ul>
<li class="">Som jsonlines.org sier, dette formatet er &quot; bedre enn CSV&quot; (Og lovlig, som føderal ansatt, kan jeg ikke være enig eller uenig med dem - hvor gal er det?) .. CSV har aldri blitt formelt definert og er hemmet av den historiske bagasjen relatert til dens tilkobling til de opprinnelige regneark programmer. JSON Lines CSV er i sammenligning fullstendig definert og fordeler fra dens tilkobling til den mye brukte JSON-standarden, som i sin tur fordeler fra dens tilkobling til Java Skript og Java .. Merkelig nok er det full støtte for lange heltal og for Unicode tegn i strenger, og en klar måte å inkludere andre spesielle tegn på (Spesielt faner og nye linjer) i strenger.</li>
</ul>
<p>Dette formatet er spesielt bra for datasett der du må regelmessig legge til ekstra rader til slutten av en gitt datafil. Av den grunn og andre (Se ovenfor) , <a href="#eddtablefromhttpget" class="">EDDTableFraHttpGet</a> bruker Json Lines CSV-filer for datalagring.</p>
<ul>
<li class="">Inndatafilene antas å være UTF-8 kodet. Men gitt \u <em>ddddd</em> format for koding av spesielle tegn (For eksempel er \u20ac koden for Euro tegn) , har du muligheten til å skrive filene slik at de bare inneholder 7-bit ASCII tegn ved å bruke \u <em>ddddd</em> å kode alle tegn over #127.
 </li>
<li class="">Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. Deretter kan du redigere det for å finjustere det.</li>
</ul>
<p>Det første GenererDatasetsXml gjør for denne typen datasett etter at du har svart på spørsmålene er å skrive ut den ncdump-lignende strukturen til prøvefilen. Så hvis du skriver inn noen goofy svar for den første loopen gjennom Genererer Datasett Xml, i det minste kan du se om ERDDAP™ kan lese filen og se hvilke dimensjoner og variabler i filen. Deretter kan du gi bedre svar for den andre løkken gjennom Genererer DatasetsXml.</p>
<ul>
<li class="">Varsel: Når ERDDAP™ Leser JSON Linjer CSV-datafiler, hvis den finner en feil på en gitt linje (For eksempel feil antall elementer) , det logger en advarselsmelding (&quot; VARNING: Dårlig linje (s) av data&quot; ... med en liste over dårlige linjer på påfølgende linjer) til <a class="" href="/nb/docs/server-admin/additional-information#log">log.txt-fil</a> og fortsetter å lese resten av datafilen. Derfor er det ditt ansvar å se regelmessig (eller skrive et skript å gjøre det) For den meldingen i loggen. txt slik at du kan løse problemene i datafilene. ERDDAP™ er satt opp slik at brukerne kan fortsette å lese alle tilgjengelige gyldige data selv om noen linjer i filen har feil.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefrommultidimncfiles">EDDTableFraMultidimNcFiler<a href="#eddtablefrommultidimncfiles" class="hash-link" aria-label="Direkte lenke tilEDDTableFraMultidimNcFiler" title="Direkte lenke tilEDDTableFraMultidimNcFiler" translate="no">​</a></h3>
<p><a href="#eddtablefrommultidimncfiles" class=""> <strong>EDDTableFraMultidimNcFiler</strong> </a> aggregerer data fra NetCDF   (v3 eller v4)   .nc   (eller <a href="#ncml-files" class=""> .nc ml</a> ) filer med flere variabler, hver med en eller flere delte dimensjoner. Filene kan ha tegnvariabler med eller uten ekstra dimensjon (For eksempel STRENG14) .. Se denne klassens superklasse, <a href="#eddtablefromfiles" class="">EDDTableFra Filer</a> For informasjon om hvordan denne klassen fungerer og hvordan du bruker den.</p>
<ul>
<li class="">Hvis filene er flerdimensjonale CF DSG-varianter, bruk denne datasetttypen i stedet for <a href="#eddtablefromncfiles" class="">EDDTableFraNcCFFiler</a> ..
 </li>
<li class="">For nye tabelldatasett fra .nc filer, bruk dette alternativet før du prøver eldre <a href="#eddtablefromncfiles" class="">EDDTableFraNcFiler</a> .. Noen fordeler ved denne klassen er:<!-- -->
<ul>
<li class="">Denne klassen kan lese flere variabler fra et bredere utvalg av filstrukturer. Hvis du angir DimensionsCSV (en kommadelt liste over dimensjonsnavn) i Generer Datasett Xml (eller&lt;dimensjonerCSV&gt; i datasets.xml info til et av disse datasettene, deretter ERDDAP™ vil bare lese variabler i kildefilene som bruker noen eller alle disse dimensjonene, pluss alle skalarvariabler. Hvis en dimensjon er i en gruppe, må du angi dets fulle navn, f.eks. <em>gruppeName/ dimensionName</em>  &quot;.</li>
<li class="">Denne klassen kan ofte avvise filer svært raskt hvis de ikke samsvarer med en forespørsels begrensninger. Lese data fra store samlinger vil ofte gå mye raskere.</li>
<li class="">Denne klassen håndterer sanne tegnvariabler (ikke-strekning variabler) riktig.</li>
<li class="">Denne klassen kan trimme strengvariabler når skaperen ikke brukte Netcdf-java&#x27;s writeStrings (som legger til tegn #0 for å markere slutten av strengen) ..</li>
<li class="">Denne klassen er bedre til å håndtere individuelle filer som mangler visse variabler eller dimensjoner.</li>
<li class="">Denne klassen kan fjerne blokker av rader med manglende verdier som angitt i <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#_incomplete_multidimensional_array_representation" target="_blank" rel="noopener noreferrer" class="">CF Diskret prøvetakingsgeometri (DSG) Ufullstendig flerdimensjonal Array-filer</a><br>
<!-- --> </li>
</ul>
</li>
<li class="">Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. Deretter kan du redigere det for å finjustere det.</li>
</ul>
<p>Det første GenererDatasetsXml gjør for denne typen datasett etter at du har svart på spørsmålene er å skrive ut den ncdump-lignende strukturen til prøvefilen. Så hvis du skriver inn noen goofy svar for den første loopen gjennom Genererer Datasett Xml, i det minste kan du se om ERDDAP™ kan lese filen og se hvilke dimensjoner og variabler i filen. Deretter kan du gi bedre svar for den andre løkken gjennom Genererer DatasetsXml.</p>
<p>Gruppe -- Opprett datasett Xml vil be om en gruppe Du kan skrive inn &quot; for å få det til å søke alle grupper, <em>Noen Gruppe</em> &quot; eller &quot; <em>noen gruppe/nogleSubGroup</em> For å få det til å søke en bestemt gruppe, eller \[ rot \] to å få det til å søke bare rotgruppen. &quot; Gruppen&quot; strengen blir&lt;gruppe&gt; i datasets.xml Informasjon om datasettet (Selv om \[ rot \] &quot; blir -) ..</p>
<p>DimensjonerCSV -- Opprett datasett Xml vil be om en DimensionsCSV-streng. Dette er en kommadelt verdiliste over kildenavn på et sett dimensjoner. Opprett datasett Xml vil bare lese datavariabler i prøven .nc filer som bruker noen eller alle disse dimensjonene (Ingen andre dimensjoner) , pluss alle skalarvariabler i filen, og gjør datasettet fra disse datavariabler. Hvis en dimensjon er i en gruppe, må du angi dets fulle navn, f.eks. <em>gruppeName/ dimensionName</em>  &quot;.
Hvis du ikke angir noe (en tom streng) , Opprett datasett Xml vil se etter variabler med de fleste dimensjoner, på teorien om at de vil være de mest interessante, men det kan være tider når du vil ønske å lage et datasett fra noen andre gruppe av datavariabler som bruker noen andre gruppe dimensjoner.
Hvis du bare angir et dimensjonsnavn som ikke eksisterer (F.eks. NO\_MATCCH) , ERDDAP™ Finne alle skalarvariabler.
&quot; DimensionsCSV&quot; strengen blir&lt;dimensjonerCSV&gt; i datasets.xml Informasjon om datasettet.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="treatdimensionsas">behandlingDimensioner<a href="#treatdimensionsas" class="hash-link" aria-label="Direkte lenke tilbehandlingDimensioner" title="Direkte lenke tilbehandlingDimensioner" translate="no">​</a></h4>
<p>Det er en kategori av ugyldig .nc filer (fordi de ikke følger CF-reglene) som har flere dimensjoner (f.eks. lat, lon, tid) Når de skulle ha brukt bare én dimensjon (f.eks. tid) For eksempel:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    dimensions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        time = UNLIMITED ; // (1437 currently)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        depth = 10;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lat = 1437 ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lon = 1437 ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    variables:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        double time(time) ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        double lat(lat) ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        double lon(lon) ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float temperature(time, depth) ;</span><br></span></code></pre></div></div>
<p>EDDTableFromMultidimNcFiles har en spesiell funksjon for å håndtere disse filene: Hvis du legger til den globale attributten &quot;treatDimensionsAs&quot; til datasettene globalt addAttributes Du kan fortelle ERDDAP™ å behandle visse dimensjoner (f.eks. lat og lon) som om de var en annen dimensjon (f.eks. tid) .. Attributverdien må være en kommaseparert liste som spesifiserer &quot;fra&quot; dimensjoner og thentil&quot; dimensjonen, f.eks.
<att name="treatDimensionsAs"> lat, lon, tid </att><br>
<!-- -->Så ERDDAP™ vil lese filen som om den var:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    dimensions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        time = UNLIMITED ; // (1437 currently)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        depth = 10;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    variables:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        double time(time) ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        double lat(time) ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        double lon(time) ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float temperature(time, depth) ;</span><br></span></code></pre></div></div>
<p>Selvfølgelig må den nåværende størrelsen på hver av dimensjonene i listen være den samme; ellers, ERDDAP™ vil behandle filen som en &quot;Bad File&quot;.</p>
<p>Merk at disse filene er ugyldige fordi de ikke følger CF-regler. Selv om ERDDAP™ kan lese dem, anbefaler vi sterkt at du ikke oppretter filer som dette fordi andre CF-baserte programvareverktøy ikke vil kunne lese dem riktig. Hvis du allerede har slike filer, anbefaler vi sterkt å erstatte dem med gyldige filer så snart som mulig.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromncfiles">EDDTableFraNcFiler<a href="#eddtablefromncfiles" class="hash-link" aria-label="Direkte lenke tilEDDTableFraNcFiler" title="Direkte lenke tilEDDTableFraNcFiler" translate="no">​</a></h3>
<p><a href="#eddtablefromncfiles" class=""> <strong>EDDTableFraNcFiler</strong> </a> aggregerer data fra NetCDF   (v3 eller v4)   .nc   (eller <a href="#ncml-files" class=""> .nc ml</a> ) filer og <a href="https://github.com/zarr-developers/zarr-python" target="_blank" rel="noopener noreferrer" class="">Zarr</a> filer (fra versjon 2.25) med flere variabler, hver med én delt dimensjon (For eksempel tid) eller mer enn én delt dimensjon (For eksempel tid, høyde (eller dybde) , breddegrad, lengdegrad) .. Filene må ha samme dimensjonsnavn. En gitt fil kan ha flere verdier for hver av dimensjonene og verdiene kan være forskjellige i forskjellige kildefiler. Filene kan ha tegnvariabler med en ekstra dimensjon (For eksempel STRENG14) .. Se denne klassens superklasse, <a href="#eddtablefromfiles" class="">EDDTableFra Filer</a> For informasjon om hvordan denne klassen fungerer og hvordan du bruker den.</p>
<p>Zarr-filer har litt forskjellig oppførsel og krever enten filenNameRegex eller pathRegex å inkludere &quot;zarr&quot;.</p>
<ul>
<li class="">Hvis .nc Filer bruker en av <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Diskret prøvetakingsgeometri (DSG) </a> filformater, prøv å bruke <a href="#eddtablefromncfiles" class="">EDDTableFraNcCFFiler</a> Før du prøver dette.
 </li>
<li class="">For nye tabelldatasett fra .nc filer, prøv den nyere <a href="#eddtablefrommultidimncfiles" class="">EDDTableFraMultidimNcFiler</a> Først.
 </li>
<li class="">Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. Deretter kan du redigere det for å finjustere det.</li>
</ul>
<p>Det første GenererDatasetsXml gjør for denne typen datasett etter at du har svart på spørsmålene er å skrive ut den ncdump-lignende strukturen til prøvefilen. Så hvis du skriver inn noen goofy svar for den første loopen gjennom Genererer Datasett Xml, i det minste kan du se om ERDDAP™ kan lese filen og se hvilke dimensjoner og variabler i filen. Deretter kan du gi bedre svar for den andre løkken gjennom Genererer DatasetsXml.</p>
<p>DimensjonerCSV -- Opprett datasett Xml vil be om en DimensionsCSV-streng. Dette er en kommadelt verdiliste over kildenavn på et sett dimensjoner. Opprett datasett Xml vil finne datavariabler i .nc filer som bruker noen eller alle disse dimensjonene, pluss alle skalarvariabler, og gjør datasettet fra disse datavariabler. Hvis du ikke angir noe (en tom streng) , Opprett datasett Xml vil se etter variabler med de fleste dimensjoner, på teorien om at de vil være de mest interessante, men det kan være tider når du vil ønske å lage et datasett fra noen andre gruppe av datavariabler som bruker noen andre gruppe dimensjoner.</p>
<ul>
<li class="">1D Eksempel: 1D-filer er noe forskjellig fra 2D, 3D, 4D, ... filer.<!-- -->
<ul>
<li class="">Du kan ha et sett .nc datafiler der hver fil har en måneds dataverdi fra en drivende bøy.</li>
<li class="">Hver fil vil ha 1 dimensjon, for eksempel tid (størrelse = \[ Mange \] ) ..</li>
<li class="">Hver fil vil ha en eller flere 1D-variabler som bruker den dimensjonen, for eksempel tid, lengdegrad, breddegrad, lufttemperatur, ....</li>
<li class="">Hver fil kan ha 2D-tegnvariabler, for eksempel med dimensjoner (tid,nCharacters) ..
 </li>
</ul>
</li>
<li class="">2D Eksempel:<!-- -->
<ul>
<li class="">Du kan ha et sett .nc datafiler der hver fil har en måneds dataverdi fra en drivende bøy.</li>
<li class="">Hver fil vil ha 2 dimensjoner, for eksempel tid (størrelse = \[ Mange \] ) og id (størrelse = 1) ..</li>
<li class="">Hver fil vil ha 2 1D-variabler med samme navn som dimensjonene og med samme navn-dimensjon, for eksempel tid (tid) , id (id) .. Disse 1D variablene bør inkluderes i listen over&lt; dataVariable &gt; er i datasettets XML.</li>
<li class="">Hver fil vil ha en eller flere 2D variabler, for eksempel lengdegrad, breddegrad, lufttemperatur, vanntemperatur, ...</li>
<li class="">Hver fil kan ha 3D-tegnvariabler, for eksempel med dimensjoner (tid,id,nCharacters) ..
 </li>
</ul>
</li>
<li class="">3D Eksempel:<!-- -->
<ul>
<li class="">Du kan ha et sett .nc datafiler der hver fil har én måneds dataverdi fra én stasjonær bøy.</li>
<li class="">Hver fil vil ha 3 dimensjoner, for eksempel tid (størrelse = \[ Mange \] ) , lat (størrelse = 1) , og lon (størrelse = 1) ..</li>
<li class="">Hver fil vil ha 3 1D variabler med samme navn som dimensjonene og ved bruk av samme navn dimensjon, for eksempel tid (tid) , lat (lat) , lon (lon) .. Disse 1D variablene bør inkluderes i listen over&lt; dataVariable &gt; er i datasettets XML.</li>
<li class="">Hver fil vil ha en eller flere 3D-variabler, for eksempel lufttemperatur, vanntemperatur, ...</li>
<li class="">Hver fil kan ha 4D-tegnvariabler, for eksempel med dimensjoner (tid, lat,lon,nCharacters) ..</li>
<li class="">Filens navn kan ha navnet på boen i filens navn.
 </li>
</ul>
</li>
<li class="">4D Eksempel:<!-- -->
<ul>
<li class="">Du kan ha et sett .nc datafiler der hver fil har én måneds dataverdi fra én stasjon. På hvert tidspunkt tar stasjonen lesing på en rekke dybder.</li>
<li class="">Hver fil vil ha 4 dimensjoner, for eksempel tid (størrelse = \[ Mange \] ) , dybde (størrelse = \[ Mange \] ) , lat (størrelse = 1) , og lon (størrelse = 1) ..</li>
<li class="">Hver fil vil ha 4 1D variabler med samme navn som dimensjonene og ved hjelp av samme navn dimensjon, for eksempel tid (tid) , dybde (dybde) , lat (lat) , lon (lon) .. Disse 1D variablene bør inkluderes i listen over&lt; dataVariable &gt; er i datasettets XML.</li>
<li class="">Hver fil vil ha en eller flere 4D variabler, for eksempel lufttemperatur, vanntemperatur, ...</li>
<li class="">Hver fil kan ha 5D-tegnvariabler, for eksempel med dimensjoner (tid, dyp, lat,lon,nCharacters) ..</li>
<li class="">Filens navn kan ha navnet på boen i filens navn.
 </li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromnccffiles">EDDTableFraNcCFFiler<a href="#eddtablefromnccffiles" class="hash-link" aria-label="Direkte lenke tilEDDTableFraNcCFFiler" title="Direkte lenke tilEDDTableFraNcCFFiler" translate="no">​</a></h3>
<p><a href="#eddtablefromnccffiles" class=""> <strong>EDDTableFraNcCFFiler</strong> </a> aggregerer dataene fra NetCDF   (v3 eller v4)   .nc   (eller <a href="#ncml-files" class=""> .nc ml</a> ) filer som bruker et av filformatene som er spesifisert av <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Diskret prøvetakingsgeometri (DSG) </a> Konvensjoner. Se denne klassens superklasse, <a href="#eddtablefromfiles" class="">EDDTableFra Filer</a> For informasjon om hvordan denne klassen fungerer og hvordan du bruker den.</p>
<p>For filer som bruker en av de flerdimensjonale CF DSG variantene, bruk <a href="#eddtablefrommultidimncfiles" class="">EDDTableFraMultidimNcFiler</a> I stedet.</p>
<p>CF DSG-konvensjonene definerer dusinvis av filformater og inkluderer mange mindre variasjoner. Denne klassen omhandler alle variasjonene vi er klar over, men vi kan ha savnet en (eller mer) .. Så hvis denne klassen ikke kan lese data fra CF DSG-filer, vennligst vær så snill <a class="" href="/nb/docs/intro#support">Nå ut for ekstra støtte</a> ..</p>
<p>Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. Deretter kan du redigere det for å finjustere det.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromnccsvfiles">EDDTableFraNccsvFiler<a href="#eddtablefromnccsvfiles" class="hash-link" aria-label="Direkte lenke tilEDDTableFraNccsvFiler" title="Direkte lenke tilEDDTableFraNccsvFiler" translate="no">​</a></h3>
<p><a href="#eddtablefromnccsvfiles" class=""> <strong>EDDTableFraNccsvFiler</strong> </a> aggregerer data fra <a class="" href="/nb/docs/user/nccsv-1.00">NCCSV</a> ASCII .csv-filer. Se denne klassens superklasse, <a href="#eddtablefromfiles" class="">EDDTableFra Filer</a> For informasjon om hvordan denne klassen fungerer og hvordan du bruker den.</p>
<ul>
<li class="">Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. Deretter kan du redigere det for å finjustere det.</li>
</ul>
<p>Det første GenererDatasetsXml gjør for denne typen datasett etter at du har svart på spørsmålene er å skrive ut den ncdump-lignende strukturen til prøvefilen. Så hvis du skriver inn noen goofy svar for den første loopen gjennom Genererer Datasett Xml, i det minste kan du se om ERDDAP™ kan lese filen og se hvilke dimensjoner og variabler i filen. Deretter kan du gi bedre svar for den andre løkken gjennom Genererer DatasetsXml.</p>
<ul>
<li class="">Varsel: Når ERDDAP™ leser NCCSV-datafiler, hvis den finner en feil på en gitt linje (For eksempel feil antall elementer) , det logger en advarselsmelding (&quot; VARNING: Dårlig linje (s) av data&quot; ... med en liste over dårlige linjer på påfølgende linjer) til <a class="" href="/nb/docs/server-admin/additional-information#log">log.txt-fil</a> og fortsetter å lese resten av datafilen. Derfor er det ditt ansvar å se regelmessig (eller skrive et skript å gjøre det) For den meldingen i loggen. txt slik at du kan løse problemene i datafilene. ERDDAP™ er satt opp slik at brukerne kan fortsette å lese alle tilgjengelige gyldige data selv om noen linjer i filen har feil.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromnos">EDDTableFra NOS<a href="#eddtablefromnos" class="hash-link" aria-label="Direkte lenke tilEDDTableFra NOS" title="Direkte lenke tilEDDTableFra NOS" translate="no">​</a></h3>
<p><a href="#eddtablefromnos" class=""> <strong>EDDTableFra NOS</strong> </a>   (Deprekert) håndterer data fra en NOAA   <a href="https://opendap.co-ops.nos.noaa.gov/axis/" target="_blank" rel="noopener noreferrer" class="">NOS</a> kilde, som bruker <a href="https://www.w3schools.com/xml/xml_soap.asp" target="_blank" rel="noopener noreferrer" class=""> SOAP+XML </a> for forespørsler og svar. Det er veldig spesifikk å NOAA Ingens XML. Se prøven EDDTableFra NOS-datasett i datasett2.xml.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromobis">EDDTableFromOBIS<a href="#eddtablefromobis" class="hash-link" aria-label="Direkte lenke tilEDDTableFromOBIS" title="Direkte lenke tilEDDTableFromOBIS" translate="no">​</a></h3>
<p><a href="#eddtablefromobis" class=""> <strong>EDDTableFromOBIS</strong> </a> håndtere data fra et Ocean Biogeografisk informasjonssystem (OBIS) server (varhttp://<a href="http://www.iobis.org" target="_blank" rel="noopener noreferrer" class="">www.iobis.org</a> ) .. Det er mulig at det ikke er mer aktive servere som bruker denne nå utdaterte typen OBIS serversystem.</p>
<ul>
<li class="">OBIS-servere forventer en XML-forespørsel og returnerer en XML-respons.</li>
<li class="">Fordi alle OBIS-servere tjener samme variabler på samme måte (varhttp://iobis.org/tech/provider/questions) , trenger du ikke å spesifisere mye for å konfigurere et OBIS-datasett i ERDDAP ..</li>
<li class="">Du må inkludere a- creator\_email &quot; Attribut i det globale addAttributes Siden denne informasjonen brukes i lisensen. En egnet e-postadresse kan finnes ved å lese XML-responsen fra kildeadressen.</li>
<li class="">Du kan eller ikke kan få den globale egenskapen [&lt; subsetVariables &gt;] (#subsetvariables) å jobbe med en gitt OBIS-server. Hvis du prøver, bare prøv en variabel (For eksempel vitenskapelig navn eller genus) ..</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromobis-skeleton-xml">EDDTableFromOBIS skjelett XML<a href="#eddtablefromobis-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDTableFromOBIS skjelett XML" title="Direkte lenke tilEDDTableFromOBIS skjelett XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromOBIS&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->      &lt;sourceCode&gt;...&lt;/sourceCode&gt;<br>
<!-- -->        &lt;!-- If you read the XML response from the sourceUrl, the<br>
<!-- -->        source code (for example, GHMP) is the value from one of the<br>
<!-- -->        &lt;resource&gt;&lt;code&gt; tags. --&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;-- All ...SourceMinimum and Maximum tags are OPTIONAL --&gt;<br>
<!-- -->      &lt;longitudeSourceMinimum&gt;...&lt;/longitudeSourceMinimum&gt;<br>
<!-- -->      &lt;longitudeSourceMaximum&gt;...&lt;/longitudeSourceMaximum&gt;<br>
<!-- -->      &lt;latitudeSourceMinimum&gt;...&lt;/latitudeSourceMinimum&gt;<br>
<!-- -->      &lt;latitudeSourceMaximum&gt;...&lt;/latitudeSourceMaximum&gt;<br>
<!-- -->      &lt;altitudeSourceMinimum&gt;...&lt;/altitudeSourceMinimum&gt;<br>
<!-- -->      &lt;altitudeSourceMaximum&gt;...&lt;/altitudeSourceMaximum&gt;<br>
<!-- -->      &lt;-- For timeSource... tags, use yyyy-MM-dd&#x27;T&#x27;HH:mm<!-- -->:ssZ<!-- --> format. --&gt;<br>
<!-- -->      &lt;timeSourceMinimum&gt;...&lt;/timeSourceMinimum&gt;<br>
<!-- -->      &lt;timeSourceMaximum&gt;...&lt;/timeSourceMaximum&gt;<br>
<!-- -->      <a href="#sourceneedsexpandedfp_eq" class="">&lt;sourceNeedsExpandedFP\_EQ&gt;</a>true(default)|false&lt;/sourceNeedsExpandedFP\_EQ&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1.  This MUST include<br>
<!-- -->        &quot;creator\_email&quot; --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromparquetfiles">EDDTableFraParquetFiler<a href="#eddtablefromparquetfiles" class="hash-link" aria-label="Direkte lenke tilEDDTableFraParquetFiler" title="Direkte lenke tilEDDTableFraParquetFiler" translate="no">​</a></h3>
<p><a href="#eddtablefromparquetfiles" class=""> <strong>EDDTableFraParquetFiler</strong> </a> håndterer data fra <a href="https://parquet.apache.org/" target="_blank" rel="noopener noreferrer" class="">Parquet</a> .. Se denne klassens superklasse, <a href="#eddtablefromfiles" class="">EDDTableFra Filer</a> For informasjon om hvordan denne klassen fungerer og hvordan du bruker den.</p>
<ul>
<li class="">Parquet er designet for å komprimere svært effektivt, slik at det kan gi deg mindre filstørrelser enn andre formater.</li>
<li class="">Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. Deretter kan du redigere det for å finjustere det.</li>
<li class="">Varsel: Når ERDDAP™ Leser Parquet-datafiler, hvis den finner en feil på en gitt linje (For eksempel feil antall elementer) , det logger en advarselsmelding (&quot; VARNING: Dårlig linje (s) av data&quot; ... med en liste over dårlige linjer på påfølgende linjer) til <a class="" href="/nb/docs/server-admin/additional-information#log">log.txt-fil</a> og fortsetter å lese resten av datafilen. Derfor er det ditt ansvar å se regelmessig (eller skrive et skript å gjøre det) For den meldingen i loggen. txt slik at du kan løse problemene i datafilene. ERDDAP™ er satt opp slik at brukerne kan fortsette å lese alle tilgjengelige gyldige data selv om noen linjer i filen har feil.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromsos">EDDTableFra SOS<a href="#eddtablefromsos" class="hash-link" aria-label="Direkte lenke tilEDDTableFra SOS" title="Direkte lenke tilEDDTableFra SOS" translate="no">​</a></h3>
<p><a href="#eddtablefromsos" class=""> **EDDTableFra SOS ** </a> håndtere data fra en sensorobservasjonstjeneste (SWE/ <a href="https://www.ogc.org/standards/sos" target="_blank" rel="noopener noreferrer" class=""> SOS </a> ) server.</p>
<ul>
<li class="">Denne datasetttypen samler data fra en gruppe stasjoner som alle betjenes av én SOS server.</li>
<li class="">Alle stasjonene tjener det samme settet av variabler (Selv om kilden til hver stasjon ikke trenger å betjene alle variabler) ..</li>
<li class="">SOS servere forventer en XML-forespørsel og returnerer en XML-respons.</li>
<li class="">Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. Deretter kan du redigere det for å finjustere det. Det er ikke lett å generere datasett XML for SOS Datasett for hånd. For å finne den nødvendige informasjonen må du besøke sourceUrl + &quot;? service= SOS &amp; Request= GetCapabilities &quot; i en nettleser; se på XML; gjør en GetObservation for hånd; og se på XML-svar på forespørselen.</li>
<li class="">Med tilsetning av nye typer SOS servere og endringer i gamle servere, det blir vanskeligere for ERDDAP™ for å automatisk oppdage servertypen fra serverens svar. Bruk av&lt;sosServerType&gt; (med en verdi av IOOS\_NDBC, IOOS\_NOS, OOSTethys eller WHOI) Nå er det STRONGLIG. Hvis du har problemer med datasett av denne typen, prøv å kjøre på nytt Genererer Datasett Xml til SOS server. Oppretter Datasett Xml vil la deg prøve ut det forskjellige&lt;sosServerType&gt; alternativer til du finner den riktige for en gitt server.</li>
<li class="">SOS Oversikt:</li>
<li class="">SWE (Sensor Web Aktivering) og SOS   (Sensorobservasjon) er <a href="https://www.ogc.org/standards" target="_blank" rel="noopener noreferrer" class="">OpenGIS® standarder</a> .. Nettstedet har standarddokumentene.</li>
<li class="">Den OGC Web Services Common Spesifikasjon Ver 1.1.0 ( OGC 06-121r3) dekker bygging av GET og POST-forespørsler (se § 7.2.3 og § 9) ..</li>
<li class="">Hvis du sender en getCapabilites xml forespørsel til en SOS server ( sourceUrl + &quot;?service= SOS &amp; Request= GetCapabilities &quot;) , får du et xml resultat med en liste over stasjoner og observert Egenskaper som de har data til.</li>
<li class="">En observertProperty er en formel URI referanse til en eiendom. For eksempel urn:ogc:fenomenon: lengdegrad<!-- -->:wgs84<!-- --> ellerhttps://mmisw.org/ont/cf/parameter/sea\_water\_temperature</li>
<li class="">En observertProperty er ikke en variabel.</li>
<li class="">Mer enn én variabel kan ha samme observert Eiendom (For eksempel, inneTemp og utenfor Temp kan begge ha observert Eiendomhttps://mmisw.org/ont/cf/parameter/air\_temperature) ..</li>
<li class="">Hvis du sender en getObservation xml forespørsel til en SOS server, får du et xml resultat med beskrivelser av feltnavn i respons, feltenheter og data. Feltnavnene inkluderer lengdegrad, breddegrad, dybde (Kanskje) , og tid.</li>
<li class="">Hver dataVariable for en EDD-tabellFra SOS må inneholde en &quot;observertProperty&quot;-attributt som identifiserer den observerteProperty som må be om fra serveren for å få den variabelen. Ofte flere dataVariable S vil liste den samme kompositt observertProperty.</li>
<li class="">Datatypen for hver dataVariable kan ikke angis av serveren. I så fall må du se på XML-datasvarene fra serveren og tildele passende [&lt;dataType&gt;s] (#datatype) i ERDDAP™ Datasett dataVariable Definisjoner.</li>
<li class="">(På tidspunktet for å skrive dette) Noen SOS servere svarer på getobservasjonsforespørsler for mer enn én observert Eiendom ved bare å returnere resultater for det første av de observerte eigenskapane. (Ingen feilmelding!) Se forespørselen om konstruktørens parameter Observert fysiologiSærlig.</li>
<li class="">EDDTableFra SOS Legger automatisk til<!-- -->
<blockquote>
<p><att name="[subsetVariables](#subsetvariables)">station\_id, longitude, latitude</att><br>
<!-- -->til datasettets globale egenskaper når datasettet opprettes.</p>
</blockquote>
</li>
<li class="">SOS servere vanligvis uttrykk <a href="#units" class="">enheter</a> med <a href="https://unitsofmeasure.org/ucum.html" target="_blank" rel="noopener noreferrer" class="">UCUM</a> systemet. Mest ERDDAP™ servere uttrykksenheter med <a href="https://www.unidata.ucar.edu/software/udunits/" target="_blank" rel="noopener noreferrer" class=""> UDUNITS </a> systemet. Hvis du trenger å konvertere mellom de to systemene, kan du bruke <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/units.html" target="_blank" rel="noopener noreferrer" class=""> ERDDAP webtjenesten til konvertering av UCUM-enheter til/fra UDUNITS </a> ..</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromsos-skeleton-xml">EDDTableFra SOS skjelett XML<a href="#eddtablefromsos-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDTableFra SOS skjelett XML" title="Direkte lenke tilEDDTableFra SOS skjelett XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromSOS&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;sosServerType&gt;...&lt;/sosServerType&gt; &lt;!-- 0 or 1, but STRONGLY<br>
<!-- -->        RECOMMENDED. This lets you specify the type of SOS server<br>
<!-- -->        (so ERDDAP™ doesn&#x27;t have to figure it out).<br>
<!-- -->        Valid values are: IOOS\_NDBC, IOOS\_NOS, OOSTethys, and WHOI. --&gt;<br>
<!-- -->      &lt;responseFormat&gt;...&lt;/responseFormat&gt; &lt;!-- 0 or 1. Use this only if<br>
<!-- -->        you need to override the default responseFormat for the<br>
<!-- -->        specified sosServerType.  --&gt;<br>
<!-- -->      &lt;stationIdSourceName&gt;...&lt;/stationIdSourceName&gt; &lt;!-- 0 or 1.<br>
<!-- -->        Default=&quot;station\_id&quot;. --&gt;<br>
<!-- -->      &lt;longitudeSourceName&gt;...&lt;/longitudeSourceName&gt;<br>
<!-- -->      &lt;latitudeSourceName&gt;...&lt;/latitudeSourceName&gt;<br>
<!-- -->      &lt;altitudeSourceName&gt;...&lt;/altitudeSourceName&gt;<br>
<!-- -->      &lt;altitudeSourceMinimum&gt;...&lt;/altitudeSourceMinimum&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;altitudeSourceMaximum&gt;...&lt;/altitudeSourceMaximum&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#altitudemeterspersourceunit" class="">&lt;altitudeMetersPerSourceUnit&gt;</a>...&lt;/altitudeMetersPerSourceUnit&gt;<br>
<!-- -->      &lt;timeSourceName&gt;...&lt;/timeSourceName&gt;<br>
<!-- -->      &lt;timeSourceFormat&gt;...&lt;/timeSourceFormat&gt;<br>
<!-- -->        &lt;!-- timeSourceFormat MUST be either<br>
<!-- -->        \* For numeric data: a <a href="https://www.unidata.ucar.edu/software/udunits/" target="_blank" rel="noopener noreferrer" class="">UDUnits</a>\-compatible string (with the format<br>
<!-- -->          &quot;<em>units</em> since <em>baseTime</em>&quot;) describing how to interpret<br>
<!-- -->          source time values (for example,<br>
<!-- -->          &quot;seconds since 1970-01-01T00:00:00Z&quot;), where the<br>
<!-- -->          base time is an ISO 8601:2004(E) formatted date time<br>
<!-- -->          string (yyyy-MM-dd&#x27;T&#x27;HH:mm<!-- -->:ssZ<!-- -->).<br>
<!-- -->        \* For String date time data: specify<br>
<!-- -->          <a href="#string-time-units" class="">units suitable for string times</a><br>
<!-- -->          describing how to interpret string times  (for example, the<br>
<!-- -->          ISO8601TZ\_FORMAT &quot;yyyy-MM-dd&#x27;T&#x27;HH:mm<!-- -->:ssZ<!-- -->&quot;). --&gt;<br>
<!-- -->      &lt;observationOfferingIdRegex&gt;...&lt;/observationOfferingIdRegex&gt;<br>
<!-- -->        &lt;!-- Only observationOfferings with IDs (usually the station names)<br>
<!-- -->        which match this <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">regular expression</a> (<a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">tutorial</a>) will be included<br>
<!-- -->        in the dataset (&quot;.+&quot; will catch all station names). --&gt;<br>
<!-- -->      &lt;requestObservedPropertiesSeparately&gt;true|false(default)<br>
<!-- -->        &lt;/requestObservedPropertiesSeparately&gt;<br>
<!-- -->      <a href="#sourceneedsexpandedfp_eq" class="">&lt;sourceNeedsExpandedFP\_EQ&gt;</a>true(default)|false&lt;/sourceNeedsExpandedFP\_EQ&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more.<br>
<!-- -->        \* Each dataVariable MUST include the <a href="#datatype" class="">dataType</a> tag.<br>
<!-- -->        \* Each dataVariable MUST include the observedProperty attribute.<br>
<!-- -->        \* For IOOS SOS servers, \<em>every\</em> variable returned in the text/csv<br>
<!-- -->          response MUST be included in this ERDDAP™ dataset definition. --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromthreddsfiles">EDDTableFraTreddsFiler<a href="#eddtablefromthreddsfiles" class="hash-link" aria-label="Direkte lenke tilEDDTableFraTreddsFiler" title="Direkte lenke tilEDDTableFraTreddsFiler" translate="no">​</a></h3>
<p><a href="#eddtablefromthreddsfiles" class=""> <strong>EDDTableFraTreddsFiler</strong> </a>   (Foreldet) aggregerer datafiler med flere variabler, hver med en eller flere delte dimensjoner (For eksempel tid, høyde (eller dybde) , breddegrad, lengdegrad) og tjenestegjort av en <a href="https://www.unidata.ucar.edu/software/tds/" target="_blank" rel="noopener noreferrer" class="">TREDDS OPeNDAP server</a> ..</p>
<ul>
<li class="">Denne datasetttypen er <strong>Deprekert</strong> .. Den nye og mer generelle løsningen er å bruke <a href="#cachefromurl" class="">cache FraUrl-alternativ for EDDTable FraFiles</a>   (eller en variant) , som gjør en lokal kopi av de eksterne filene og betjener data fra de lokale filene. Den&lt;cacheFromUrl&gt; alternativet kan brukes med alle typer tabulær datafil fra enhver webbasert kilde som publiserer en kataloglignende liste over filer. **<br>
<!-- -->Hvis du ikke kan gjøre det fungerer av en eller annen grunn, e-post til Chris. John på noaa.gov.
Hvis det ikke er noen klager før 2020, kan denne datasetttypen fjernes. **</li>
<li class="">Vi anbefaler å bruke <a href="#generatedatasetsxml" class="">Opprett datasett Xml-programmet</a> å lage et grovt utkast av datasets.xml bit for dette datasettet. Deretter kan du redigere det for å finjustere det.</li>
<li class="">I de fleste tilfeller har hver fil flere verdier for venstre (først) dimensjon, for eksempel tid.</li>
<li class="">Filene ofte (Men trenger ikke å) har én verdi for de andre dimensjonene (For eksempel høyde (eller dybde) , breddegrad, lengdegrad) ..</li>
<li class="">Filene kan ha tegnvariabler med en ekstra dimensjon (For eksempel nCharacters) ..</li>
<li class="">TREDDS-servere kan identifiseres av &quot;/thredds/&quot; i URL-ene. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    https://www.ncei.noaa.gov/thredds/catalog/uv/6h\\_strs\\_agg/catalog.html</span><br></span></code></pre></div></div>
<ul>
<li class="">THREDDS-servere har kataloger på ulike steder. Denne klassen REQUIRES som URL inkluderer &quot;/thredds/catalog/&quot;. Du kan vanligvis finne denne variabelen ved å starte i en nettleser i rotkatalogen, og deretter klikke gjennom til ønsket underkatalog.</li>
<li class="">Denne klassen leser katalog.xml filer som betjenes av THREDDS med listene over&lt;katalogRefs&gt; (referanser til ytterligere katalog.xml underfiler) og&lt;Datasett&gt;s (datafiler) ..</li>
<li class="">Den&lt;filDir&gt; innstillingen ignoreres. Siden denne klassen laster ned og lager en lokal kopi av hver ekstern datafil, ERDDAP™ tvinger filen Dir å være <em>bigParentDirectory</em> /kopi/ * datasetID * /.</li>
<li class="">For&lt; sourceUrl &gt;, bruk URL til katalog.xml-filen for datasettet i TREDDS-serveren, for eksempel: for denne URL som kan brukes i en nettleser,
<a href="https://data.nodc.noaa.gov/thredds/catalog/nmsp/wcos/catalog.html" target="_blank" rel="noopener noreferrer" class="">https://data.nodc.noaa.gov/thredds/catalog/nmsp/wcos/catalog.html</a>  \[ 2020-10-21 Denne serveren er ikke lenger pålitelig tilgjengelig. \] ,
bruk&lt; sourceUrl &gt;<a href="https://data.nodc.noaa.gov/thredds/catalog/nmsp/wcos/catalog.xml&amp;lt;/" target="_blank" rel="noopener noreferrer" class="">https://data.nodc.noaa.gov/thredds/catalog/nmsp/wcos/catalog.xml&amp;lt;/</a> sourceUrl &gt;
(Legg den på én linje) ..</li>
<li class="">Siden denne klassen alltid laster ned og lager en lokal kopi av hver ekstern datafil, bør du aldri pakke dette datasettet i <a href="#eddtablecopy" class="">EDDTableCopy</a> ..</li>
<li class="">Denne datasetttypen støtter en valgfri, sjelden brukt, spesiell tag,&lt;spesialMode &gt; <em>modus</em> &lt;/spesialMode&gt; som kan brukes til å spesifisere at spesielle, hardkodede regler bør brukes til å bestemme hvilke filer som skal lastes ned fra serveren. Den eneste gyldige <em>modus</em> er SAMOS som brukes med datasett frahttps://tds.coaps.fsu.edu/thredds/catalog/samoså laste ned bare filene med siste versjonsnummer.</li>
<li class="">Se denne klassens superklasse, <a href="#eddtablefromfiles" class="">EDDTableFra Filer</a> For informasjon om hvordan denne klassen fungerer og hvordan du bruker den.</li>
<li class="">Se eksempelene 1D, 2D, 3D og 4D for <a href="#eddtablefromncfiles" class="">EDDTableFraNcFiler</a> ..
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromwfsfiles">EDDTableFra WFS Filer<a href="#eddtablefromwfsfiles" class="hash-link" aria-label="Direkte lenke tilEDDTableFra WFS Filer" title="Direkte lenke tilEDDTableFra WFS Filer" translate="no">​</a></h3>
<p><a href="#eddtablefromwfsfiles" class=""> <strong>EDDTableFra WFS Filer</strong> </a>   (Deprekert) gjør en lokal kopi av alle data fra en ArcGIS KartServer WFS server slik at dataene kan lagres raskt ERDDAP™ brukere.</p>
<ul>
<li class="">Du må angi en spesielt formatert sourceUrl global attributt å fortelle ERDDAP™ Hvordan be om funksjonsinformasjon fra serveren. Vennligst bruk dette eksemplet som mal:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;sourceUrl&quot;&gt;http://*someUrl/dir1/dir2*/MapServer/WFSServer?request=GetFeature&amp;amp;service=WFS&amp;amp;typename=aasg:BoreholeTemperature&amp;amp;format=&amp;quot;text/xml;%20subType=gml/3.1.1/profiles/gmlsf/1.0.0/0&quot;&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>(Legg alt på én linje)</p>
<ul>
<li class="">Du må legge til en spesiell global attributt å fortelle ERDDAP™ Hvordan identifisere navnene på bitene på data som skal lastes ned. Dette vil sikkert fungere for alle EDDTableFrom WFS Fildatasett:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;rowElementXPath&quot;&gt;/wfs:FeatureCollection/gml:featureMember&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Siden denne klassen alltid laster ned og lager en lokal kopi av hver ekstern datafil, bør du aldri pakke dette datasettet i <a href="#eddtablecopy" class="">EDDTableCopy</a> ..</li>
<li class="">Se denne klassens superklasse, <a href="#eddtablefromfiles" class="">EDDTableFra Filer</a> , for mer informasjon om hvordan denne klassen fungerer og hvordan du bruker den.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtableaggregaterows">EDDTable<a href="#eddtableaggregaterows" class="hash-link" aria-label="Direkte lenke tilEDDTable" title="Direkte lenke tilEDDTable" translate="no">​</a></h3>
<p><a href="#eddtableaggregaterows" class=""> <strong>EDDTable</strong> </a> kan gjøre et EDDTable datasett fra en gruppe &quot;barn&quot; EDDTable datasett.</p>
<ul>
<li class="">Her er noen bruksområder for EDDTableAggregate roads:<!-- -->
<ul>
<li class="">Du kan gjøre et EDDTableAggregateRows datasett fra to forskjellige typer filer eller datakilder, for eksempel et datasett med data opp til slutten av forrige måned lagret i .nc CF-filer og et datasett med data for den aktuelle måneden som lagres i en relasjonsdatabase.</li>
<li class="">Du kan gjøre en EDDTableAggregate roads datasett for å håndtere en endring i kildefiler (For eksempel endret tidsformat eller endret variabelnavn eller data Type/ scale\_factor / add\_offset Endret) .. I dette tilfellet ville ett barn få data fra filer gjort før endringen og det andre barnet ville få data fra filer gjort etter endringen. Denne bruken av EDDTableAggregate roads er et alternativ til bruk <a href="#ncml-files" class="">NcML</a> eller <a href="#netcdf-operators-nco" class=""> NCO </a> .. Med mindre det er en skillefunksjon i filnavnene (så du kan bruke&lt;filNameRegex&gt; for å bestemme hvilken fil som tilhører hvilket barnedatasett), må du sannsynligvis lagre filene for de to barnedatasettene i ulike mapper.</li>
<li class="">Du kan lage en EDDTableAggregate roads datasett som har en delt undergruppe av variabler av ett eller flere lignende, men ulike datasett, for eksempel et datasett som gjør et profildatasett fra kombinasjonen av et profildatasett, et timeSeriesProfildatasett og en baneutgaveProfildatasett (som har noen forskjellige variabler og noen variabler til felles - i så fall må du lage spesielle varianter for barn datasett, med bare de uvanlige variabler) ..</li>
<li class="">Du kan ha flere frittstående datasett, hver med samme type data, men fra en annen stasjon. Du kan la disse datasettene være intakte, men også opprette et EDDTableAggregateRoons datasett som har data fra alle stasjonene -- hvert av barnedatasettene kan være en enkel <a href="#eddfromerddap" class="">EDDTableFraErddap</a> , som peker på et av de eksisterende stasjonsdatasettene. Hvis du gjør dette, gi hver av EDDTableFromErddap datasett en annen datasetID enn de opprinnelige frittstående datasettene, f.eks. ved å legge til &quot;Child&quot; til det opprinnelige datasetID ..</li>
</ul>
</li>
<li class="">Hvert barn&lt;datasett&gt; er spesifisert må være et komplett datasett, som om det var et frittstående datasett. Alle må ha det samme <a href="#datavariable" class=""> dataVariable s</a> I samme rekkefølge, med samme <a href="#destinationname" class=""> destinationName s</a> , <a href="#datatype" class="">Data Typer</a> , <a href="#missing_value" class=""> missing\_value s</a> , <a href="#missing_value" class="">\_Fyllverdier</a> , og <a href="#units" class="">enheter</a> .. Metadataene for hver variabel for datasettet EDDTableAggregateRoads kommer fra variabler i det første barnedatasettet, men EDDTableAggregateRoads vil oppdatere <a href="#actual_range" class=""> actual\_range </a> Metadata som skal være det faktiske området for alle barn.</li>
<li class="">Anbefaling: Få hvert barn datasett fungerer som frittstående datasett. Prøv deretter å gjøre EDDTableAggregate roads datasett ved å kutte og lime inn datasets.xml bit for hver inn i den nye EDDTableAggregate Raddatasett.</li>
<li class="">Datasett Standard sorteringsorden -- I rekkefølgen av barnedatasettene bestemmes den generelle standard sorteringsordenen for resultatene. Selvfølgelig kan brukere be om en annen rekkefølge for et gitt sett med resultater ved å legge til &amp; orderBy  (&quot; <em>kommaseparert liste over variabler</em> &quot;) til slutten av forespørselen.</li>
<li class="">Kilden&quot; <a href="#global-attributes" class="">global Egenskaper</a> For EDDTableAggregate roads er de kombinerte globaleAttributene fra det første barnedatasettet. EDDTableAggregaten Rader kan ha en global&lt; addAttributes &gt; å tilby ytterligere globale attributter eller overstyre kilde globale attributter.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtableaggregaterows-skeleton-xml">EDDTableAggregate Rader skjelett XML<a href="#eddtableaggregaterows-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDTableAggregate Rader skjelett XML" title="Direkte lenke tilEDDTableAggregate Rader skjelett XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableAggregateRows&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviafiles" class="">&lt;accessibleViaFiles&gt;</a>true|false(default)&lt;/accessibleViaFiles&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1. --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablecopy">EDDTableCopy<a href="#eddtablecopy" class="hash-link" aria-label="Direkte lenke tilEDDTableCopy" title="Direkte lenke tilEDDTableCopy" translate="no">​</a></h3>
<p><a href="#eddtablecopy" class=""> <strong>EDDTableCopy</strong> </a> kan gjøre en lokal kopi av mange typer EDDTable datasett og deretter lagre dataene raskt fra den lokale kopien.</p>
<ul>
<li class="">EDDTableCopy (og for nettdata, <a href="#eddgridcopy" class=""> EDDGrid Kopier</a> ) En veldig enkel å bruke og en veldig effektiv <strong>løsning på noen av de største problemene med å betjene data fra eksterne datakilder:</strong>
<ul>
<li class="">Å få tilgang til data fra en fjerndatakilde kan være langsom.<!-- -->
<ul>
<li class="">De kan være langsomme fordi de iboende er langsomme (For eksempel en ineffektiv type server) ,</li>
<li class="">fordi de er overveldet av for mange forespørsler,</li>
<li class="">eller fordi serveren eller den eksterne serveren er begrenset båndbredde.</li>
</ul>
</li>
<li class="">Fjerndatasettet er noen ganger utilgjengelig (av en rekke grunner) ..</li>
<li class="">Relying på én kilde for data skalerer ikke bra (For eksempel når mange brukere og mange ERDDAP bruk det) ..
 </li>
</ul>
</li>
<li class="">Hvordan det fungerer -- EDDTableCopy løser disse problemene automatisk ved å lage og vedlikeholde en lokal kopi av dataene og betjene data fra den lokale kopien. ERDDAP™ kan tjene data fra den lokale kopien svært raskt. Og å lage og bruke en lokal kopi lindrer byrden på fjernserveren. Og den lokale kopien er en sikkerhetskopi av originalen, som er nyttig i tilfelle noe skjer med originalen.</li>
</ul>
<p>Det er ikke noe nytt om å lage en lokal kopi av et datasett. Det nye er at denne klassen gjør det\*lett\*å skape og\*Vedlikehold\*en lokal kopi av data fra en\*Varietet\*av typer eksterne datakilder og\*Legg til metadata\*mens du kopierer dataene.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablecopy-vs-cachefromurl">EDDTableCopy&lt;cacheFromUrl&gt;<a href="#eddtablecopy-vs-cachefromurl" class="hash-link" aria-label="Direkte lenke tilEDDTableCopy&lt;cacheFromUrl&gt;" title="Direkte lenke tilEDDTableCopy&lt;cacheFromUrl&gt;" translate="no">​</a></h4>
<p>&lt;cacheFromUrl&gt; er et alternativ til EDDTableCopy. De jobber annerledes.</p>
<ul>
<li class="">EDDTable Kopier fungerer ved å be om biter av data fra en ekstern tjeneste og lagre disse bitene i lokale filer. Således er EDDTableCopy nyttig i noen tilfeller hvor dataene er tilgjengelige via en fjerntjeneste.</li>
<li class="">[&lt;cacheFromUrl&gt;] (#cachefromurl) Laster ned eksisterende filer oppført på en ekstern nettside.&lt;cacheFromUrl&gt; er lettere å bruke og mer pålitelig siden det enkelt kan se når det er en ny ekstern datafil eller når en ekstern datafil har endret seg og dermed må lastes ned.</li>
</ul>
<p>Hvis det er situasjoner der EDDTableCopy eller&lt;cacheFromUrl&gt; kan brukes, brukes&lt;cacheFromUrl&gt; fordi det er enklere og mer pålitelig.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="extractdestinationnames">&lt;EkstraktMOD Navn &gt;<a href="#extractdestinationnames" class="hash-link" aria-label="Direkte lenke til&lt;EkstraktMOD Navn &gt;" title="Direkte lenke til&lt;EkstraktMOD Navn &gt;" translate="no">​</a></h4>
<p>EDDTable Kopier gjør den lokale kopien av dataene ved å be om deler av data fra fjerndatasettet. EDDTable Kopier avgjør hvilke biter å be om ved å be om &amp; distinkt () verdier for&lt;Ekstrakt MODNames&gt; (angitt i datasets.xml Se nedenfor) , som er de mellomromsdelte destinasjonsnavnene på variabler i fjerndatasettet. For eksempel</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;extractDestinationNames&gt;drifter profile&lt;/extractDestinationNames&gt;  </span><br></span></code></pre></div></div>
<p>kan gi tydelige verdier kombinasjoner av driver=tig17,profil=1017, driver=tig17,profil=1095, ... driver=une12,profil=1223, driver=une12,profil=1251, ....</p>
<p>I situasjoner der én kolonne (For eksempel profil) kan være alt som kreves for å unikt identifisere en gruppe av rader med data, dersom det er et meget stort antall, for eksempel profiler, kan det være nyttig å også spesifisere et ekstra ekstrakt Destinasjon Navn (For eksempel driver) som tjener til å underlegge profilene. Det fører til færre datafiler i en gitt katalog, noe som kan føre til raskere tilgang.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="local-files">Lokale filer<a href="#local-files" class="hash-link" aria-label="Direkte lenke tilLokale filer" title="Direkte lenke tilLokale filer" translate="no">​</a></h4>
<p>Hvert stykke data lagres i en separat NetCDF fil i en underkatalog av <em>bigParentDirectory</em> /kopi/ * datasetID * / (som angitt i <a class="" href="/nb/docs/server-admin/deploy-install#setupxml">config.xml</a> ) .. Det er ett underkatalognivå for alle, men det siste utdragetName For eksempel vil data for tig17+1017 bli lagret i
<em>bigParentDirectory</em> /copy/ampleDataset/tig17/1017 .nc ..
For eksempel vil data for une12+1251 bli lagret i
<em>bigParentDirectory</em> /copy/ampleDataset/une12/1251 .nc ..
Katalog og filnavn opprettet fra dataverdier endres for å gjøre dem filnavn-sikre (For eksempel erstattes mellomrom med &quot;x20&quot;) Dette påvirker ikke de faktiske dataene.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-data">Nye data<a href="#new-data" class="hash-link" aria-label="Direkte lenke tilNye data" title="Direkte lenke tilNye data" translate="no">​</a></h4>
<p>Hver gang EDDTable Kopi lastes på nytt, den kontrollerer fjerndatasettet for å se hvilke separate biter som er tilgjengelige. Hvis filen for en bit data ikke allerede eksisterer, legges en forespørsel om å få biten i en kø. ERDDAP OppgavenThread behandler alle kølige forespørsler om deler av data, én for én. Du kan se statistikk for oppgavenThreads aktivitet på <a class="" href="/nb/docs/server-admin/additional-information#status-page">Statusside</a> og i <a class="" href="/nb/docs/server-admin/additional-information#daily-report">Daglig rapport</a> .. (Ja, ERDDAP™ kunne tilordne flere oppgaver til denne prosessen, men det ville bruke opp mye av den eksterne datakildens båndbredde, minne og CPU-tid, og mye av den lokale ERDDAP båndbredde, minne og CPU-tid, ingen av dem er en god ide.)</p>
<p>MERK: Første gang en EDDTableCopy lastes inn, (Hvis alt går bra) Mye forespørsler om biter av data vil bli lagt til i oppgavenThreads kø, men ingen lokale datafiler vil ha blitt opprettet. Så konstruktøren vil mislykkes, men oppgaveThread vil fortsette å fungere og opprette lokale filer. Hvis alt går bra, vil oppgavenThread gjøre noen lokale datafiler og neste forsøk på å laste datasettet på nytt (på ~15 minutter) vil lykkes, men i utgangspunktet med en meget begrenset mengde data.</p>
<p>MERK: Etter det lokale datasettet har noen data og vises i din ERDDAP Hvis fjerndatasettet er midlertidig eller permanent ikke tilgjengelig, vil det lokale datasettet fortsatt fungere.</p>
<p>ADVARSEL: Hvis fjerndatasettet er stort og/eller fjernserveren er langsom (Det er problemet, ikke sant?!) Det vil ta lang tid å lage en fullstendig lokal kopi. I noen tilfeller vil den nødvendige tiden være uakseptabel. For eksempel sender 1 TB data over en T1-linje (0.15 GB/s) tar minst 60 dager under optimale forhold. I tillegg bruker den mye båndbredde, minne og CPU-tid på de eksterne og lokale datamaskinene. Løsningen er å sende en harddisk til administratoren av fjerndatasettet slik at s/han kan gjøre en kopi av datasettet og sende harddisken tilbake til deg. Bruk dataene som utgangspunkt og EDDTableCopy vil legge til data i det. (Slik brukte Amazons EC2 Cloud Service til å håndtere problemet, selv om deres system har masse båndbredde.)</p>
<p>ADVARSEL: Hvis en gitt kombinasjon av verdier forsvinner fra et eksternt datasett, sletter EDDTableCopy IKKE den lokale kopierte filen. Hvis du vil, kan du slette det selv.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="tablecopy-checksourcedata">TabellKopier&lt;checkSourceData&gt;<a href="#tablecopy-checksourcedata" class="hash-link" aria-label="Direkte lenke tilTabellKopier&lt;checkSourceData&gt;" title="Direkte lenke tilTabellKopier&lt;checkSourceData&gt;" translate="no">​</a></h4>
<p>Den datasets.xml for dette datasettet kan ha en valgfri tag</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;checkSourceData&gt;true&lt;/checkSourceData&gt;  </span><br></span></code></pre></div></div>
<p>Standardverdien er sann. Hvis/når du setter den til falskt, vil datasettet aldri sjekke kildedatasettet for å se om det er ekstra data tilgjengelig.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="recommended-use">Anbefalt bruk<a href="#recommended-use" class="hash-link" aria-label="Direkte lenke tilAnbefalt bruk" title="Direkte lenke tilAnbefalt bruk" translate="no">​</a></h4>
<ol>
<li class="">Opprette&lt;Datasett&gt; oppføring (den opprinnelige typen, ikke EDDTableCopy) for fjerndatakilden. <strong>Få det til å fungere riktig, inkludert alle de ønskede metadataene.</strong></li>
<li class="">Hvis det er for sakte, legg til XML-kode for å pakke den i et EDDTableCopy-datasett.<!-- -->
<ul>
<li class="">Bruk en annen datasetID   (Kanskje ved å endre datasetID av den gamle datasetID litt) ..</li>
<li class="">Kopier&lt;tilgjengelig Til&gt;,&lt;reloadEveryNMinutes&gt; og&lt;onChange&gt; fra den eksterne EDDTables XML til EDDTableCopys XML. (Deres verdier for EDDTableCopy materie; deres verdier for det indre datasettet blir irrelevant.)</li>
<li class="">Opprette&lt;Ekstrakt MÅNADNames&gt; tag (Se ovenfor) ..</li>
<li class="">&lt;orderExtractBy&gt; er en OPTIONAL mellomromsseparert liste over destinasjonsvariable navn i fjerndatasettet. Når hver del av data lastes ned fra den eksterne serveren, sorteres biten etter disse variablene (med den første variabelen, så med den andre variabelen hvis den første variabelen er bundet, ...) .. I noen tilfeller, ERDDAP™ vil kunne ekstrahere data raskere fra de lokale datafilene hvis den første variabelen i listen er en numerisk variabel ( &quot;time&quot; teller som en numerisk variabel) .. Men velg disse variablene på en måte som passer for datasettet.</li>
</ul>
</li>
<li class="">ERDDAP™ vil gjøre og vedlikeholde en lokal kopi av dataene.
 </li>
</ol>
<ul>
<li class="">ADVARSEL: EDDTableCopy antar at dataverdiene for hver del aldri endres. Hvis/når de gjør det, må du manuelt slette buntfilene i <em>bigParentDirectory</em> /kopi/ * datasetID * som endret seg og <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> datasettet som skal lastes på nytt, slik at slettede deler vil bli erstattet. Hvis du har et e-postabonnement på datasettet, får du to e-poster: en når datasettet først lastes opp og begynner å kopiere dataene, og en annen når datasettet lastes inn igjen (automatisk) og oppdager de nye lokale datafilene.
 </li>
<li class="">Endre metadata -- Hvis du trenger å endre noen addAttributes eller endre rekkefølgen på variabler knyttet til kildedatasettet:<!-- -->
<ol>
<li class="">Endre addAttributes For kildedatasettet i datasets.xml etter behov.</li>
<li class="">Slett en av kopierte filer.</li>
<li class="">Sett a <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> Last datasettet på nytt umiddelbart. Hvis du bruker et flagg, og du har et e-postabonnement til datasettet, får du to e-postmeldinger: én når datasettet starter på nytt og begynner å kopiere dataene, og en annen når datasettet lastes inn igjen (automatisk) og oppdager de nye lokale datafilene.</li>
<li class="">Den slettede filen vil bli regenerert med de nye metadataene. Hvis kildedatasettet aldri er utilgjengelig, vil EDDTableCopy datasett få metadata fra den regenererte filen, siden det er den yngste filen.
 </li>
</ol>
</li>
<li class=""><a href="#eddgridcopy" class=""> EDDGrid Kopier</a> er svært lik EDDTableCopy, men fungerer med gitted datasett.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablecopy-skeleton-xml">EDDTableCopy skjelett XML<a href="#eddtablecopy-skeleton-xml" class="hash-link" aria-label="Direkte lenke tilEDDTableCopy skjelett XML" title="Direkte lenke tilEDDTableCopy skjelett XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableCopy&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviafiles" class="">&lt;accessibleViaFiles&gt;</a>true|false(default)&lt;/accessibleViaFiles&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;extractDestinationNames&gt;...&lt;/extractDestinationNames&gt;  &lt;!-- 1 --&gt;<br>
<!-- -->      &lt;orderExtractBy&gt;...&lt;/orderExtractBy&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#filetableinmemory" class="">&lt;fileTableInMemory&gt;</a>...&lt;/fileTableInMemory&gt; &lt;!-- 0 or 1 (true or false<br>
<!-- -->        (the default)) --&gt;<br>
<!-- -->      <a href="#tablecopy-checksourcedata" class="">&lt;checkSourceData&gt;</a>...&lt;/checkSourceData&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- 1 --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<ul>
<li class="">
<ul>
<li class=""></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="details-1">Detaljer<a href="#details-1" class="hash-link" aria-label="Direkte lenke tilDetaljer" title="Direkte lenke tilDetaljer" translate="no">​</a></h2>
<p>Her er detaljerte beskrivelser av vanlige tagger og attributter.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="angulardegreeunits">&lt;AngularDegreeUnites&gt;<a href="#angulardegreeunits" class="hash-link" aria-label="Direkte lenke til&lt;AngularDegreeUnites&gt;" title="Direkte lenke til&lt;AngularDegreeUnites&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;vinkelgrader ** ] (#angulære grader) er en sjelden brukt OPTIONAL tag i en&lt;ErddapDatasett&gt; Merke i datasets.xml som inneholder en kommadelt liste over enhetsstrenger som ERDDAP™ bør behandle som vinkelgrader enheter. Hvis en variabel har en av disse enhetene, tabledap &#x27;s orderByMean Filter vil beregne gjennomsnittet på en spesiell måte, og deretter rapportere gjennomsnittet som en verdi fra -180 til 180. Se ERDDAP EDStatic.java kildekodefilen for gjeldende standardliste. Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP™ Leser datasets.xml , inkludert som reaksjon på et datasett <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> ..</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="angulardegreetrueunits">&lt;AngularDegreeTrueUnites&gt;<a href="#angulardegreetrueunits" class="hash-link" aria-label="Direkte lenke til&lt;AngularDegreeTrueUnites&gt;" title="Direkte lenke til&lt;AngularDegreeTrueUnites&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;vinkel GradTrueUnites&gt; ** ] (#angular gradtrueunits) er en sjelden brukt OPTIONAL tag i en&lt;ErddapDatasett&gt; Merke i datasets.xml som inneholder en kommadelt liste over enhetsstrenger som ERDDAP™ bør behandle som vinkelgrader ekte enheter. Hvis en variabel har en av disse enhetene, tabledap &#x27;s orderByMean Filter vil beregne gjennomsnittet på en spesiell måte, og deretter rapportere gjennomsnittet som en verdi fra 0 til 360. Se ERDDAP EDStatic.java kildefil for gjeldende standardliste. Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP™ Leser datasets.xml , inkludert som reaksjon på et datasett <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> ..
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="commonstandardnames">&lt;vanligStandardNames&gt;<a href="#commonstandardnames" class="hash-link" aria-label="Direkte lenke til&lt;vanligStandardNames&gt;" title="Direkte lenke til&lt;vanligStandardNames&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;vanligStandardNames&gt; ** ] (#vanlige standardnavn) er en sjelden brukt OPTIONAL tag i en&lt;ErddapDatasett&gt; Merke i datasets.xml å angi en kommaseparert liste av felles <a href="https://cfconventions.org/Data/cf-standard-names/current/build/cf-standard-name-table.html" target="_blank" rel="noopener noreferrer" class="">CF standardnavn</a> .. F.eks.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;commonStandardNames&gt;air\\_pressure, ..., wind\\_to\\_direction&lt;/commonStandardNames&gt;  </span><br></span></code></pre></div></div>
<p>Denne listen brukes i DataProviderForm3.html som en bekvemmelighet for brukerne.
Hvis du vil gi denne informasjonen i datasets.xml , start ved å kopiere gjeldende standardliste i&lt;DEFAULT\_ commonStandardNames&gt; i ERDDAP &#x27;s
\[ tomcat \] /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml fil.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cacheminutes">&lt;cacheMinutes&gt;<a href="#cacheminutes" class="hash-link" aria-label="Direkte lenke til&lt;cacheMinutes&gt;" title="Direkte lenke til&lt;cacheMinutes&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;cacheMinutes&gt; ** ] (#cacheminutes) er en sjelden brukt OPTIONAL tag i en&lt;ErddapDatasett&gt; Merke i datasets.xml å angi alderen (på minutter) der filer i bufferen skal slettes (standard=60) .. F.eks.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;cacheMinutes&gt;60&lt;/cacheMinutes&gt;  </span><br></span></code></pre></div></div>
<p>Generelt bare bildefiler (De samme bildene blir ofte bedt om flere ganger) og .nc filer (fordi de må opprettes fullt ut før du sender til brukeren) er cached. Selv om det kan virke som en gitt forespørsel bør alltid returnere det samme svaret, er det ikke sant. For eksempel en tabledap forespørsel som inkluderer tid &gt; <em>Noen Tid</em> vil endre seg når nye data kommer til datasettet. Og en forespørsel som inkluderer \[ siste \] for tidsdimensjonen vil endre seg når nye data kommer til datasettet. Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP™ Leser datasets.xml , inkludert som reaksjon på et datasett <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> .. Før ERDDAP™ v2.00, var dette spesifisert i setup.xml, som fortsatt er tillatt, men mislykket.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cacheclearminutes">&lt;cacheClearMinutes&gt;<a href="#cacheclearminutes" class="hash-link" aria-label="Direkte lenke til&lt;cacheClearMinutes&gt;" title="Direkte lenke til&lt;cacheClearMinutes&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;cacheClearMinutes&gt; ** ] (#cacheclearminutes) er en sjelden brukt OPTIONAL tag i en&lt;ErddapDatasett&gt; Merke i datasets.xml for å angi frekvensen for å sjekke cachede filer og fjerne gamle (på minutter)   (standard=15) .. F.eks.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;cacheClearMinutes&gt;15&lt;/cacheClearMinutes&gt;  </span><br></span></code></pre></div></div>
<p>Når serveren er ferdig med å håndtere en forespørsel, vil den sjekke hvor lenge siden den siste cacheen var klar. Hvis det var for lenge siden, vil det køe en oppgave på TaskThread å rydde cache. Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP™ Leser datasets.xml , inkludert som reaksjon på et datasett <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> .. Dette kan angis i spesifisert i config.xml, men det er nedslått.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="convertinterpolaterequestcsvexample">&lt;convertInterpolateRequestCSVExample&gt;<a href="#convertinterpolaterequestcsvexample" class="hash-link" aria-label="Direkte lenke til&lt;convertInterpolateRequestCSVExample&gt;" title="Direkte lenke til&lt;convertInterpolateRequestCSVExample&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;convertInterpolateRequestCSVExample&gt; ** ] (#convertinterpolaterequestcsvexample) er et valgfritt merke i en&lt;ErddapDatasett&gt; Merke i datasets.xml   \[ Begynner med ERDDAP™ v2.10 \] som inneholder et eksempel som vil bli vist på Interpolate konverterens nettside. Standardverdien er: jplMU RSS T41/analysert sst /Bilineær/4.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="convertinterpolatedatasetidvariablelist">&lt;convertInterpolateDatasetIDVariableList&gt;<a href="#convertinterpolatedatasetidvariablelist" class="hash-link" aria-label="Direkte lenke til&lt;convertInterpolateDatasetIDVariableList&gt;" title="Direkte lenke til&lt;convertInterpolateDatasetIDVariableList&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;convertInterpolateDatasetIDVariableList&gt; ** ] (#convertinterpolatedatasetidvariablelist) er et valgfritt merke i en&lt;ErddapDatasett&gt; Merke i datasets.xml   \[ Begynner med ERDDAP™ v2.10 \] som inneholder en CSV-liste datasetID /variable Navn eksempler som vil bli brukt som forslag fra Interpolate konverterens nettside. Standardverdien er: jplMU RSS T41/analysert sst ..</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="converttopublicsourceurl">&lt;convertToPublicSourceUrl&gt;<a href="#converttopublicsourceurl" class="hash-link" aria-label="Direkte lenke til&lt;convertToPublicSourceUrl&gt;" title="Direkte lenke til&lt;convertToPublicSourceUrl&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;convertToPublicSourceUrl&gt; ** ] (#converttopublicsourceurl) er et valgfritt merke i en&lt;ErddapDatasett&gt; Merke i datasets.xml som inneholder en &quot;fra&quot; og a til&quot; attributt som spesifiserer hvordan man konverterer en matchende lokal sourceUrl   (Vanligvis et IP-nummer) Inn i offentligheten sourceUrl   (et domenenavn)  Fra&quot; må ha formen &quot; \[ noe \] // \[ noe \] / &quot;. Det kan være 0 eller flere av disse taggene. For mer informasjon se [&lt; sourceUrl &gt;] (#kildeurl) .. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;convertToPublicSourceUrl from=&quot;https://192.168.31.18/&quot; to=&quot;https://oceanwatch.pfeg.noaa.gov/&quot; /&gt;  </span><br></span></code></pre></div></div>
<p>vil forårsake en matchende lokal sourceUrl   (somhttps://192.168.31.18/thredds/dodsC/satellite/BA/ssta/5day)<br>
<!-- -->Inn i offentligheten sourceUrl   (<a href="https://oceanwatch.pfeg.noaa.gov/thredds/dodsC/satellite/BA/ssta/5day" target="_blank" rel="noopener noreferrer" class="">https://oceanwatch.pfeg.noaa.gov/thredds/dodsC/satellite/BA/ssta/5day</a>) ..
Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP™ Leser datasets.xml , inkludert som reaksjon på et datasett <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> ..</p>
<p>Men av sikkerhetsgrunner og grunner knyttet til abonnementssystemet, <strong>Ikke bruk denne taken!</strong><br>
<!-- -->Bruk alltid det offentlige domenenavnet i&lt; sourceUrl &gt; Tagg og bruk <a href="https://linux.die.net/man/5/hosts" target="_blank" rel="noopener noreferrer" class="">/etc/hosts bord</a> på serveren for å konvertere lokale domenenavn til IP-numre uten å bruke en DNS-server. Du kan teste om et domenenavn er riktig konvertert til et IP-nummer ved å bruke:
Ping <em>a.domain.name</em><br>
<!-- --> </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dataimagepngbase64">data<!-- -->:image<!-- -->/png;base64,<a href="#dataimagepngbase64" class="hash-link" aria-label="Direkte lenke tildataimagepngbase64" title="Direkte lenke tildataimagepngbase64" translate="no">​</a></h3>
<ul>
<li class="">Når en bruker ber om en .htmlTable Svar fra ERDDAP™ Hvis dataene i en streng celle inneholder data: Image/png;base64, fulgt av et base64 kodet .png-bilde, ERDDAP™ vil vise et ikon (slik at brukeren kan se bildet hvis de svinger over det) og knapper for å lagre teksten eller bildet til utklippstavlen. Denne funksjonen ble lagt til i ERDDAP™ av Marco Alba.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="drawlandmask">drawLandMask<a href="#drawlandmask" class="hash-link" aria-label="Direkte lenke tildrawLandMask" title="Direkte lenke tildrawLandMask" translate="no">​</a></h3>
<ul>
<li class=""><a href="#drawlandmask" class=""> ** drawLandMask ** </a> angir standardinnstillingen som styrer når og hvordan landmasken skal tegnes når ERDDAP™ Tegner et kart. Det kan angis på tre forskjellige steder i datasets.xml   (Listet fra laveste til høyeste prioritet) :)</li>
</ul>
<ol>
<li class="">Hvis drawLandMask er spesifisert i&lt;ErddapDatasett&gt; (ikke koblet til et bestemt datasett) , deretter angir den standardverdien til drawLandMask For alle variabler i alle datasett. For eksempel</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;drawLandMask&gt;under&lt;/drawLandMask&gt;  </span><br></span></code></pre></div></div>
<p>Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP Leser datasets.xml ..
Hvis denne etiketten ikke er til stede, er den underliggende standardverdien under.
 
2. Hvis drawLandMask er spesifisert som en global attributt av et gitt datasett, deretter angir den standardverdien til drawLandMask for alle variabler i det datasettet, overskride eventuelle lavere prioritetsinnstillinger. For eksempel</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;drawLandMask&quot;&gt;under&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP™ Laster datasettet på nytt.
 
3. Hvis drawLandMask er spesifisert som en variabels attributt i et gitt datasett, deretter angir den standardverdien til drawLandMask for den variabelen i det datasettet, som overveier eventuelle lavere prioritetsinnstillinger. For eksempel</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;drawLandMask&quot;&gt;under&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP™ Laster datasettet på nytt.</p>
<p>En bruker kan overstyre standarden (Hvor det er angitt) ved å velge en verdi for &quot;Draw landmaske&quot; fra en nedtrekksliste på datasettets Make A Graph-nettside, eller ved å inkludere &amp;.land= <em>verdi</em> i URLen som krever et kart fra ERDDAP ..</p>
<p>I alle situasjoner er det 4 mulige verdier for attributten:</p>
<ul>
<li class="">&quot;under&quot; trekker landmasken før den trekker data på kartet.
For gitte datasett vises land som en konstant lysgrå farge.
For tabelldatasett viser &quot; under&quot; topografidata over land og hav.</li>
<li class="">&quot;over&quot; -- -- For gitte datasett trekker landmasken etter at den trekker data på kart slik at den vil maskere data over land. For tabellbaserte datasett, -over - viser badedrakt i havet og en konstant lysgrå der det er land, begge trukket under dataene.</li>
<li class="">-outline - bare tegner omrisset av landmasken, politiske grenser, innsjøer og elver.</li>
<li class="">Off - trekker ikke noe.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="emaildiagnosticstoerddata">&lt;e-postDiagnosticsToErdData&gt;<a href="#emaildiagnosticstoerddata" class="hash-link" aria-label="Direkte lenke til&lt;e-postDiagnosticsToErdData&gt;" title="Direkte lenke til&lt;e-postDiagnosticsToErdData&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;e-postDiagnosticsToErdData&gt; ** ] (#emaildiagnosticstoerddata) er en sjelden brukt OPTIONAL tag i en&lt;ErddapDatasett&gt; Merke i datasets.xml .. Merkes verdi kan være sant (standard) eller falsk. Hvis det er sant, ERDDAP™ vil sende stabelspor til Chris. John ved noaa. Gov (den ERDDAP™ utviklingsteam) .. Dette bør være trygt og trygt siden ingen konfidensiell informasjon (f.eks. forespørselen) er inkludert i e-posten. Dette bør gjøre det mulig å fange noen uklare, helt uventede feil som fører til NullPointerExceptions. Ellers ser brukeren unntakene, men ERDDAP™ utviklingsteamet ikke (Så vi vet ikke at det er et problem som må løses) ..
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="graphbackgroundcolor">&lt;graphBackgroundColor&gt;<a href="#graphbackgroundcolor" class="hash-link" aria-label="Direkte lenke til&lt;graphBackgroundColor&gt;" title="Direkte lenke til&lt;graphBackgroundColor&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;grafBakgrunnsfarge&gt; ** ] (#grafBakgrunnsfarge) er en sjelden brukt OPTIONAL tag i en&lt;ErddapDatasett&gt; Merke i datasets.xml for å angi standard bakgrunnsfarge på grafer. Dette påvirker nesten alle grafer. Det er noen situasjoner som ikke påvirkes. Fargen er angitt som en 8-siffers heksadesimal verdi i form 0xAARRGGBB, hvor henholdsvis AA, RR, GG og BB er åpenheten, rød, grønn og blå komponenter.  &quot;0x&quot; er kasusfølsom, men de heksadesimale sifferene er ikke sensitive. Et fullstendig ugjennomsiktig (ff) grønn-blå farge med rød = 22, grønn = 88, blå = ee ville være 0xff2288ee. Ugjennomsiktig hvit er 0xffffffff. Standarden er gjennomsiktig lysblå (0xffccccff) , som har fordelen av å være forskjellig fra hvit, som er en viktig farge i mange paletter som brukes til å tegne data. For eksempel<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;graphBackgroundColor&gt;0xffffffff&lt;/graphBackgroundColor&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP™ Leser datasets.xml , inkludert som reaksjon på et datasett <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> ..</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ipaddressmaxrequests">&lt;ipAdresseMaxRequests&gt;<a href="#ipaddressmaxrequests" class="hash-link" aria-label="Direkte lenke til&lt;ipAdresseMaxRequests&gt;" title="Direkte lenke til&lt;ipAdresseMaxRequests&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;ipAddressMaxRequests&gt; ** ] (#ipaddressmaxrequests) er en sjelden brukt valgfri tag (Første støtte med ERDDAP™ v2.12) i en&lt;ErddapDatasett&gt; Merke i datasets.xml som er en del av et system for å begrense evnen til over aggressive legitime brukere og ondsinnede brukere til å gjøre et stort antall samtidige forespørsler som vil redusere systemets ytelse for andre brukere. ipAdresse MaxRequests spesifiserer det maksimale antall samtidige forespørsler som vil bli akseptert fra en bestemt IP-adresse. Ytterligere forespørsler mottar en HTTP 429 feil: For mange forespørsler. De små, statiske filene i erddap/download/ og erddap/images/ er ikke unntakt fra dette tallet. Standarden er 15. Maksimum tillatt er 1000, som er gal høy - ikke gjør det! ERDDAP™ vil ikke akseptere et tall mindre enn 6 fordi mange legitime brukere (spesielt nettlesere og WMS Kunder) utgjør opp til 6 forespørsler om gangen. Den ERDDAP™ Daglig rapport og lignende informasjon som er skrevet til log.txt-filen med hver Major Dataset Reload, vil nå inneholde en rekke av forespørsler fra disse IP-adresser under tittelen &quot;Requesters IP-adresse (For mange forespørsler)  &quot;.
Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP™ Leser datasets.xml , inkludert som reaksjon på et datasett <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> ..</li>
</ul>
<p>&quot;Major LoadDatasets Time Series&quot; delen av status.html inkluderer en &quot;for mange&quot; kolonne som viser antall forespørsler som oversteg brukerens ipAddressMaxRequests innstilling og dermed så en &quot;Too mange forespørsler&quot; feil. Dette lar deg enkelt se når det er aktive over aggressive legitime brukere og ondsinnede brukere slik at du kan (Valgfritt) se i log.txt-filen og bestemme om du vil svarteliste disse brukerne.</p>
<p>Det er ikke noe spesielt galt med å sette dette til et høyere tall. Det er opp til deg. Men å gjøre det gjør det mulig for folk å sette opp systemer som bruker et stort antall tråder til å jobbe med prosjekter og så gir dem ingen tilbakemelding om at det de gjør ikke får dem noen fordel.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ipaddressmaxrequestsactive">&lt;ipAdresseMaxRequestsActive &gt;<a href="#ipaddressmaxrequestsactive" class="hash-link" aria-label="Direkte lenke til&lt;ipAdresseMaxRequestsActive &gt;" title="Direkte lenke til&lt;ipAdresseMaxRequestsActive &gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;iPadressMaxRequestsActive &gt; ** ] (#ipaddressmaxrequestsactive) er en sjelden brukt valgfri tag (Første støtte med ERDDAP™ v2.12) i en&lt;ErddapDatasett&gt; Merke i datasets.xml som er en del av et system for å begrense evnen til over aggressive legitime brukere og ondsinnede brukere til å gjøre et stort antall samtidige forespørsler som vil redusere systemets ytelse for andre brukere. ipAdresseMaxRequestsActive spesifiserer det maksimale antallet samtidige forespørsler som vil bli aktivt behandlet fra en bestemt IP-adresse. Ytterligere forespørsler vil sitte i en kø til tidligere forespørsler er behandlet. De små, statiske filene i erddap/download/ og erddap/images/ are fritatt fra dette tallet og den relaterte trottling. Standarden er 2. Den maksimale tillatt er 100, som er gal høy - ikke gjør det! Du kan angi dette til 1 å være streng, spesielt hvis du har problemer med altfor aggressive eller ondsinnede brukere. Brukere vil fortsatt raskt få alle dataene de ber om (opp til ipAdresseMaxRequests) Men de kan ikke ha systemressurser. Vi anbefaler ikke å sette dette til et større antall fordi det tillater altfor aggressive legitime brukere og skadelig brukere å dominere ERDDAP Bearbeidingskapasitet.
Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP™ Leser datasets.xml , inkludert som reaksjon på et datasett <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> ..
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ipaddressunlimited">&lt;ipAdresseUbegrenset&gt;<a href="#ipaddressunlimited" class="hash-link" aria-label="Direkte lenke til&lt;ipAdresseUbegrenset&gt;" title="Direkte lenke til&lt;ipAdresseUbegrenset&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;ipAdresseUbegrenset &gt; ** ] (#ipaddressunlimited) er en sjelden brukt valgfri tag (Første støtte med ERDDAP™ v2.12) i en&lt;ErddapDatasett&gt; Merke i datasets.xml som er en del av et system for å begrense evnen til over aggressive legitime brukere og ondsinnede brukere til å gjøre et stort antall samtidige forespørsler som vil redusere systemets ytelse for andre brukere. ipAdresseUbegrenset er en kommadelt liste over IP-adresser som du vil tillate ubegrenset tilgang til din ERDDAP .. Se i loggen din. txt-fil for å se hvilket format serveren din bruker for IP-adresser. På noen servere vil IP-adresser være i formatet #.#.#.# (hvor # er et heltall fra 0 til 255) ; mens på andre det vil være i format #:#:#:#:#:#:#:#:# .. Forespørslere på denne listen er ikke underlagt enten ipAssassinMaxRequests eller ipAssassinMaxRequestsActive innstillinger. Dette kan være et sekundært ERDDAP™ eller for enkelte brukere eller servere i systemet. ERDDAP™ Legger alltid til &quot; (ukjentIPAdresse) &quot; som ERDDAP™ bruk når forespørerens IP-adresse ikke kan bestemmes, f.eks. for andre prosesser som kjører på samme server.
Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP™ Leser datasets.xml , inkludert som reaksjon på et datasett <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> ..</li>
</ul>
<p>Hvis alle brukerens forespørsler av en eller annen grunn får feilmeldingen &quot; Uttid som venter på at dine andre forespørsler skal behandles.&quot; kan du løse problemet ved å legge til brukerens IP-adresse til ipAddressUbegrenset liste, påføring av endringen og deretter fjerne den fra listen.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="loaddatasetsminminutes">&lt;LastDatasetsMinMinMinutes &gt;<a href="#loaddatasetsminminutes" class="hash-link" aria-label="Direkte lenke til&lt;LastDatasetsMinMinMinutes &gt;" title="Direkte lenke til&lt;LastDatasetsMinMinMinutes &gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;loadDatasettMinMinminuter &gt; ** ] (#lastdatasettminuter) er en sjelden brukt OPTIONAL tag i en&lt;ErddapDatasett&gt; Merke i datasets.xml å angi minstetid (på minutter) mellom stor belastning Datasett (Når ERDDAP™ Reprosesser datasets.xml , inkludert å sjekke hvert datasett for å se om det må lastes på nytt i henhold til sin reload Hver NMinutes innstilling, standard=15) .. F.eks.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;loadDatasetsMinMinutes&gt;15&lt;/loadDatasetsMinMinutes&gt;  </span><br></span></code></pre></div></div>
<p>Hvis en gitt kjøring av lastdatasett tar mindre enn denne tiden, ser lasteren bare gjentatte ganger på flaggkatalogen og/eller sover til den gjenværende tiden er gått. Standarden er 15 minutter, som bør være bra for nesten alle. Den eneste ulempen ved å sette dette til et mindre tall er at det vil øke frekvensen som ERDDAP™ retries datasett som har feil som hindrer dem i å bli lastet (For eksempel er en ekstern server nede) .. Hvis det er mange slike datasett og de er retestet ofte, kan datakilden vurdere det skadedyr / aggressiv atferd. Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP™ Leser datasets.xml , inkludert som reaksjon på et datasett <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> .. Før ERDDAP™ v2.00, var dette spesifisert i setup.xml, som fortsatt er tillatt, men mislykket.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="loaddatasetsmaxminutes">&lt;LastDatasettsMaxMinutes&gt;<a href="#loaddatasetsmaxminutes" class="hash-link" aria-label="Direkte lenke til&lt;LastDatasettsMaxMinutes&gt;" title="Direkte lenke til&lt;LastDatasettsMaxMinutes&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;lastDatasetsMaxMinutes&gt; ** ] (#loaddatasettsmaxminutes) er et valgfritt merke i en&lt;ErddapDatasett&gt; Merke i datasets.xml å angi den maksimale tiden (på minutter) en stor belastning Datasetts innsats er tillatt å ta (Før lasten Datasetts tråd behandlet som &quot;avsatt&quot; og avbrytes)   (standard=60) .. F.eks.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;loadDatasetsMaxMinutes&gt;60&lt;/loadDatasetsMaxMinutes&gt;  </span><br></span></code></pre></div></div>
<p>Generelt bør dette settes til minst dobbelt så lenge du rimelig tror at reloading av alle datasettene (kumulativt) bør ta (Siden datamaskiner og nettverk noen ganger er langsommere enn forventet) Dette bør alltid være mye lengre enn lastDatasetsMinMinMinutes. Standarden er 60 minutter. Noen vil sette dette lenger. Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP™ Leser datasets.xml , inkludert som reaksjon på et datasett <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> .. Før ERDDAP™ v2.00, var dette spesifisert i setup.xml, som fortsatt er tillatt, men mislykket.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="loglevel">&lt;logLevel&gt;<a href="#loglevel" class="hash-link" aria-label="Direkte lenke til&lt;logLevel&gt;" title="Direkte lenke til&lt;logLevel&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;logLevel&gt; ** ] (#loglevel) er et valgfritt merke i en&lt;ErddapDatasett&gt; Merke i datasets.xml å spesifisere hvor mange diagnostiske meldinger som sendes til log.txt-filen. Det kan settes til å &quot;varsle&quot; (De færreste meldingene) , &quot;info&quot; (standard) , eller &quot;alle&quot; (de fleste meldingene) .. F.eks.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;logLevel&gt;info&lt;/logLevel&gt;  </span><br></span></code></pre></div></div>
<p>Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP™ Leser datasets.xml , inkludert som reaksjon på et datasett <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> .. Før ERDDAP™ v2.00, var dette spesifisert i setup.xml, som fortsatt er tillatt, men mislykket.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="partialrequestmaxbytes-and-partialrequestmaxcells">&lt;DelvisRequestMaxbytes&gt; og&lt;DelvisRequestMaxCells&gt;<a href="#partialrequestmaxbytes-and-partialrequestmaxcells" class="hash-link" aria-label="Direkte lenke til&lt;DelvisRequestMaxbytes&gt; og&lt;DelvisRequestMaxCells&gt;" title="Direkte lenke til&lt;DelvisRequestMaxbytes&gt; og&lt;DelvisRequestMaxCells&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;delvisRequestMaxbytes &gt; <strong>] (#partialrequestmaxbytes-og-partialrequestmaxceller) og</strong> &lt;DelvisRequestMaxCells&gt; ** ] (#partialrequestmaxbytes-og-partialrequestmaxceller) er sjelden brukt valgfrie tagger i en&lt;ErddapDatasett&gt; Merke i datasets.xml .. Når det er mulig (Og det er ikke alltid mulig) , ERDDAP™ bryter store dataforespørsler i biter for å bevare minne.</li>
</ul>
<p>Med 32 bit Java i simplistisk forstand det maksimale antall samtidige <em>store</em> Forespørsler er omtrent 3/4 av hukommelsen tilgjengelig (-Xmx-verdien passert til Tomcat) Delt av bitstørrelsen (For eksempel 1200 MB / 100 MB =&gt; 12 forespørsler) .. Andre ting krever hukommelse, så det faktiske antall forespørsler vil være mindre. I praksis er biting ikke alltid mulig. Så en stor eller noen få veldig store samtidige ikke-chunkable forespørsler kan forårsake problemer på 32 bit Java ..</p>
<p>Med 64 bit Java Xmx-verdien kan være mye større. Så hukommelsen er mye mindre sannsynlig å være en begrensning.</p>
<p>Du kan overstyre standardbitstørrelsen ved å definere disse taggene i datasets.xml   (med ulike verdier enn vist her) :)
For rutenett:&lt;DelvisRequestMaxbytes&gt;100000000&lt;/partialRequestMaxbytes&gt;
For tabeller:&lt;delvisRequestMaxCells&gt;10000&lt;/partialRequestMaxCells &gt;</p>
<p>partiellRequestMaxbytes er det foretrukne maksimale antall byter for en delvis dataforespørsel om rutenett (En del av den totale forespørselen) .. standard=10000000 (10^8) .. Større størrelser er ikke nødvendigvis bedre (og ikke gå over 500 MB fordi det er TREDDS standardgrense for DAP svar) .. Men større størrelser kan kreve færre tilgang til tonnevis av filer (Tenk på ERD Satellittdata med hvert tidspunkt punkt i en separat fil - det er bedre å få mer data fra hver fil i hver delvis forespørsel) ..</p>
<p>partiellRequestMaxCells er det foretrukne maksimale antall celler (nRoads \* nColumns i datatabellen) for en delvis tabell dataforespørsel (En del av den totale forespørselen) .. Standard = 100000. Større størrelser er ikke nødvendigvis bedre. De resulterer i en lengre ventetid på den første mengden data fra kilden.</p>
<p>Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP™ Leser datasets.xml , inkludert som reaksjon på et datasett <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> .. Før ERDDAP™ v2.00, disse ble spesifisert i setup.xml, som fortsatt er tillatt, men mislykket.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="requestblacklist">&lt;forespørselBlacklist&gt;<a href="#requestblacklist" class="hash-link" aria-label="Direkte lenke til&lt;forespørselBlacklist&gt;" title="Direkte lenke til&lt;forespørselBlacklist&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;forespørselBlacklist&gt; ** ] (#RequestBlacklist)   <a class="" href="/nb/docs/server-admin/additional-information#frequent-crashes-or-freezes">er et valgfritt tag</a> i en&lt;ErddapDatasett&gt; Merke i datasets.xml som inneholder en kommadelt liste over numeriske IP-adresser som vil bli svartlistet. Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP™ Leser datasets.xml , inkludert som reaksjon på et datasett <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> ..<!-- -->
<ul>
<li class="">Dette kan brukes til å beskytte et <a href="https://en.wikipedia.org/wiki/Denial_of_service" target="_blank" rel="noopener noreferrer" class="">Nekting av tjenesteangrep</a> En altfor ivrig <a href="https://en.wikipedia.org/wiki/Internet_bot" target="_blank" rel="noopener noreferrer" class="">web robot</a> eller annen type problemer.</li>
<li class="">Problemfri bruker -- Hvis ERDDAP™ Sakter til et kryp eller fryser/stopper, årsaken er ofte en vanskelig bruker som kjører mer enn ett skript på én gang og/eller gjør et stort antall svært store, ekstremt ineffektive eller ugyldige forespørsler, eller samtidige forespørsler. Se inn <a class="" href="/nb/docs/server-admin/additional-information#log">log.txt</a> for å se om dette er tilfelle og for å finne den numeriske IP-adressen til den problematiske brukeren. Hvis dette er problemet, bør du sannsynligvis svarteliste den brukeren.</li>
</ul>
</li>
</ul>
<p>Når ERDDAP™ få en forespørsel fra en svartlistet IP-adresse, vil den returnere HTTP feil 403: Forbudt. Den medfølgende feilmeldingen oppfordrer brukeren til å sende deg e-post, ERDDAP administrator, for å løse problemene. Hvis de tar seg tid til å lese feilmeldingen (Mange synes ikke) og kontakt deg, kan du deretter jobbe med dem for å få dem til å kjøre bare ett skript om gangen, gjøre mer effektive forespørsler, fikse problemene i deres skript (For eksempel, ber data fra et eksternt datasett som ikke kan svare før timing ut) Eller noe annet var kilden til problemer.</p>
<p>Brukere er ofte bare uvitende om at deres forespørsler er problemer. De er ofte uvitende om feil, grov ineffektivitet eller andre problemer med sine skript. Det tror de ofte fordi din ERDDAP™ tilbyr data gratis, som de kan be om så mye data som de vil, for eksempel ved å kjøre flere skript eller ved å bruke flere tråder samtidig.</p>
<ul>
<li class="">Du kan forklare dem at hver ERDDAP™ , nå uansett hvor store og kraftige, har finite ressurser (CPU-tid, harddisk I/O, nettverksbredde osv.) og det er ikke rettferdig hvis en bruker ber om data på en måte som samler ut andre brukere eller overbelastede ERDDAP ..</li>
<li class="">Når en bruker vet hvordan du gjør 2 samtidige forespørsler, ser de ofte ingen grunn til ikke å gjøre 5, 10 eller 20 samtidige forespørsler, siden de ekstra forespørsler koster dem ingenting. Det er som asymmetrisk krigføring: her har offensive våpen en enorm fordel (null kostnad) over defensive våpen (En finite installasjon med reelle kostnader) ..</li>
<li class="">Påpek dem at det reduserer avkastningen for å gjøre mer og mer samtidige forespørsler; de ekstra forespørslene bare ytterligere blokkere andres forespørsler; de gir ikke en enorm forbedring for dem.</li>
<li class="">Husk at det er andre brukere (både avslappede brukere og andre brukere som kjører skript) Så det er ikke rettferdig å hylle alle ERDDAP ressursene.</li>
<li class="">Påpek at teknologikjempene har fått brukerne til å forvente uendelige ressurser fra webtjenester. Mens det er måter å sette opp <a class="" href="/nb/docs/server-admin/scaling">rutenett/clustere/federasjoner av ERDDAP s</a> å lage en ERDDAP™ system med flere ressurser, de fleste ERDDAP™ administratorene har ikke penger eller arbeidskraft til å sette opp slike systemer, og et slikt system vil fortsatt være begrenset. På ERD For eksempel er det én person (meg) å skrive ERDDAP™ , administrere to ERDDAP s (Med hjelp fra min sjef) , og administrere flere datakilder, alle med et årlig maskinvarebudsjett på $0 (vi er avhengige av noen ganger stipend for å betale for maskinvare) .. Dette er ikke Google, Facebook, Amazon, etc med 100 ingeniører, og millioner av dollar inntekter for å resirkulere i stadig større systemer. Og vi kan ikke bare flytte vår ERDDAP™ til for eksempel Amazon AWS, fordi datalagringskostnadene er store og data egress gebyrene er store og variable, mens vårt budsjett for eksterne tjenester er en fast $0.</li>
<li class="">Min forespørsel til brukere er: for ikke-tidsfølsomme forespørsler (som er det mest vanlige tilfellet) Systemet bør bare gjøre en forespørsel om gangen. Hvis forespørselen er tidsfølsom (f.eks. flere .pngs på en nettside, flere fliser for en WMS Kunde etc.) , så kanskje 4 samtidige forespørsler bør være max (Bare for kort tid) ..</li>
<li class="">Hvis du forklarer situasjonen for brukeren, vil de fleste brukere forstå og være villige til å gjøre de nødvendige endringene slik at du kan fjerne sin IP-adresse fra svartelisten.
 </li>
<li class="">Legg til sin numeriske IP-adresse til den kommadelte listen over IP-adresser i for å bli svartliste.&lt;forespørselBlacklist&gt; i din datasets.xml fil. Hvis du vil finne den vanskelige brukerens IP-adresse, kan du se i ERDDAP™   <em>bigParentDirectory</em> /logs/log.txt fil ( <em>bigParentDirectory</em> er spesifisert i <a class="" href="/nb/docs/server-admin/deploy-install#setupxml">config.xml</a> ) å se om dette er tilfelle og å finne den brukerens IP-adresse. IP-adressen for hver forespørsel er oppført på linjene som starter med &quot;{{{{#&quot; og er 4 tall separert etter perioder, for eksempel 123.45.67.8 . Å søke etter &quot;ERROR&quot; vil hjelpe deg med å finne problemer som ugyldige forespørsler.</li>
<li class="">Du kan også erstatte det siste nummeret i en IP-adresse med\<em>(for eksempel 202.109.200.\</em>) å blokkere en rekke IP-adresser, 0-255.</li>
<li class="">Du kan også erstatte de siste 2 tallene i en IP-adresse med\<em>..\</em>  (For eksempel 121.204.\<em>..\</em>) å blokkere et bredere spekter av IP-adresser, 0-255.0-255.</li>
<li class="">For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;requestBlacklist&gt;98.76.54.321, 202.109.200.\\*, 121.204.\\*.\\*&lt;/requestBlacklist&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Du trenger ikke å omstarte ERDDAP™ For endringer i&lt;ForespørselBlacklist&gt; å tre i kraft. Endringene vil bli oppdaget neste gang ERDDAP™ Sjekk om datasett må lastes på nytt. Eller, kan du fremskynde prosessen ved å besøke en <a class="" href="/nb/docs/server-admin/additional-information#set-dataset-flag">setDataset Flag URL</a> for alle datasett.</li>
<li class="">Din ERDDAP™ daglig rapport inneholder en liste/tall av de mest aktive tillatte og blokkerte forespørerne.</li>
<li class="">Hvis du vil finne ut hvilket domene/institusjon som er relatert til en numerisk IP-adresse, kan du bruke en gratis, omvendt DNS-netttjeneste som <a href="https://network-tools.com/" target="_blank" rel="noopener noreferrer" class="">https://network-tools.com/</a> ..</li>
<li class="">Det kan være tider når det er fornuftig å blokkere visse brukere på et høyere nivå, for eksempel ondsinnede brukere. For eksempel kan du blokkere deres tilgang til alt på serveren din, ikke bare ERDDAP .. På Linux er en slik metode å bruke <a href="https://www.linode.com/docs/guides/control-network-traffic-with-iptables/" target="_blank" rel="noopener noreferrer" class="">iptables</a> .. For eksempel kan du legge til en regel som vil blokkere alt kommer fra 199.51.100.0 med kommandoen
iptables -I INPUT -s 199.51.100.0 -j DROPS</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="slowdowntroublemillis">&lt;LangsomDownTroubleMillis&gt;<a href="#slowdowntroublemillis" class="hash-link" aria-label="Direkte lenke til&lt;LangsomDownTroubleMillis&gt;" title="Direkte lenke til&lt;LangsomDownTroubleMillis&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;langsomDownTroubleMillis &gt; ** ] (#slowdowntroublemillis) er en sjelden brukt OPTIONAL tag i en&lt;ErddapDatasett&gt; Merke i datasets.xml som inneholder et heltall som angir antall millisekunder (standard=1000) å ta pause når du svarer på alle mislykkede forespørsler, for eksempel ukjent datasett, ber om for stor bruker på svartelisten. F.eks.<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;slowDownTroubleMillis&gt;2000&lt;/slowDownTroubleMillis&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Hvis et skript gjør én forespørsel umiddelbart etter en annen, kan det raskt gjøre en dårlig forespørsel etter en annen. Med denne innstillingen kan du bremse et feilaktig skript så ERDDAP™ Er ikke oversvømmet av dårlige forespørsler. Hvis et menneske gjør en dårlig forespørsel, vil de ikke engang merke denne forsinkelsen. Anbefalinger:</p>
<ul>
<li class="">Hvis problemet er en fordelt avslag på tjeneste (DDOS) Angrep fra 100+ angripere, sett dette til et mindre antall (100?) .. Å bremse dem alle ned i for lang tid fører til for mange aktive tråder.</li>
<li class="">Hvis problemet er fra 1-10 kilder, angi dette til 1000 ms (standard) Men et større antall (som 10000) Det er også rimelig. Det bremser dem så de kaster bort færre ressurser. Også, 1000 ms eller så vil ikke irritere menneskelige brukere som gjør en dårlig forespørsel.</li>
</ul>
<p>Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP™ Leser datasets.xml , inkludert som reaksjon på et datasett <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> ..
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="subscriptionemailblacklist">&lt;emailBlacklist&gt;<a href="#subscriptionemailblacklist" class="hash-link" aria-label="Direkte lenke til&lt;emailBlacklist&gt;" title="Direkte lenke til&lt;emailBlacklist&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;abonnement E-postBlacklist&gt; ** ] (#subscriptionemailblacklist) er en sjelden brukt OPTIONAL tag i en&lt;ErddapDatasett&gt; Merke i datasets.xml som inneholder en kommadelt liste over e-postadresser som umiddelbart er svartlistet fra <a href="https://coastwatch.pfeg.noaa.gov/erddap/subscriptions" target="_blank" rel="noopener noreferrer" class="">abonnementssystem</a> For eksempel<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;subscriptionEmailBlacklist&gt;bob@badguy.com, john@badguy.com&lt;/subscriptionEmailBlacklist&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Dette er et kaseufølsomt system. Hvis en e-postadresse legges til i denne listen, hvis e-postadressen har abonnement, vil abonnementene bli kansellert. Hvis en e-postadresse på listen prøver å abonnere, vil forespørselen bli avslått. Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP™ Leser datasets.xml , inkludert som reaksjon på et datasett <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> ..
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="standard-text">Standardtekst<a href="#standard-text" class="hash-link" aria-label="Direkte lenke tilStandardtekst" title="Direkte lenke tilStandardtekst" translate="no">​</a></h3>
<ul>
<li class="">
<p><a href="#standard-text" class=""> <strong>Standardtekst</strong> </a> -- Det er flere valgfrie etiketter (De fleste brukes sjelden) i en&lt;ErddapDatasett&gt; Merke i datasets.xml å angi tekst som vises på ulike steder på ERDDAP .. Hvis du vil endre standardteksten, kopier den eksisterende verdien fra merket med samme navn i
<em>tomcat</em> /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/utili.messages.xml i datasets.xml og deretter endre innholdet. Fordelen med å ha disse i datasets.xml er at du kan angi nye verdier når som helst, selv når ERDDAP™ Jeg løper. Eventuelle endringer i disse taggenes verdier vil tre i kraft neste gang ERDDAP™ Leser datasets.xml , inkludert som reaksjon på et datasett <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> .. Merkenavnene beskriver sitt formål, men se standardinnholdet i meldinger.xml for en dypere forståelse.</p>
</li>
<li class="">
<p>&lt;standardLicense&gt;</p>
</li>
<li class="">
<p>&lt;standardKontakt&gt;</p>
</li>
<li class="">
<p>&lt;standardDataLicenser&gt;</p>
</li>
<li class="">
<p>&lt;standardDisslammerOfEndorsement &gt;</p>
</li>
<li class="">
<p>&lt;standardDislammerOfExternalLinks &gt;</p>
</li>
<li class="">
<p>&lt;StandardGeneralDisclaimer&gt;</p>
</li>
<li class="">
<p>&lt;standard PersonvernPolicy&gt;</p>
</li>
<li class="">
<p>&lt;startHeadHtml5&gt;</p>
</li>
<li class="">
<p>&lt;startBodyHtml5&gt; er en god tagg å endre for å tilpasse utseendet på toppen av hver nettside i din ERDDAP .. Merkelig kan du bruke dette til å enkelt legge til en midlertidig melding på ERDDAP™ hjemmeside (f.eks. &quot; Sjekk ut det nye JPL MUR SST v4.1 datasettet ...&quot; eller &quot; Dette ERDDAP™ vil være offline for vedlikehold 2019-05-08T17:00:00 PDT gjennom 2019-05-08T20:00:00 PDT.&quot;) .. En quirk av å sette dette merket i datasets.xml er: når du starter på nytt ERDDAP Den aller første forespørselen til ERDDAP™ vil returnere standardstarten BodyHtml5 HTML, men hver etterfølgende forespørsel vil bruke startBodyHtml5 HTML angitt i datasets.xml ..</p>
</li>
<li class="">
<p>&lt;Kort beskrivelse Html&gt; er en god tag å endre for å tilpasse beskrivelsen av din ERDDAP .. Merk at du enkelt kan endre dette for å legge til en midlertidig melding på hjemmesiden (f.eks. &quot; Dette ERDDAP™ vil være offline for vedlikehold 2019-05-08T17:00:00 PDT gjennom 2019-05-08T20:00:00 PDT.&quot;) ..</p>
</li>
<li class="">
<p>&lt;endBodyHtml5 &gt;</p>
</li>
</ul>
<p>Før ERDDAP™ v2.00, disse ble spesifisert i setup.xml, som fortsatt er tillatt, men mislykket.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="unusualactivity">&lt;uvanlig Aktivitet &gt;<a href="#unusualactivity" class="hash-link" aria-label="Direkte lenke til&lt;uvanlig Aktivitet &gt;" title="Direkte lenke til&lt;uvanlig Aktivitet &gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;ualmindeligAktivitet &gt; ** ] (#uvanlig aktivitet) er en sjelden brukt OPTIONAL tag i en&lt;ErddapDatasett&gt; Merke i datasets.xml å angi det maksimale antall forespørsler mellom to løp av Lastedatasett som anses som normale (standard=10000) .. Hvis det tallet er overskredet, sendes en e-post til e-post Alt til (som spesifisert i setup.xml) .. F.eks.<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;unusualActivity&gt;10000&lt;/unusualActivity&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP™ Leser datasets.xml , inkludert som reaksjon på et datasett <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> .. Før ERDDAP™ v2.00, var dette spesifisert i setup.xml, som fortsatt er tillatt, men mislykket.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="updatemaxevents">&lt;updateMaxEvents&gt;<a href="#updatemaxevents" class="hash-link" aria-label="Direkte lenke til&lt;updateMaxEvents&gt;" title="Direkte lenke til&lt;updateMaxEvents&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;OppdaterMaxEvents&gt; ** ] (#updatemaxevents) er en sjelden brukt OPTIONAL tag i en&lt;ErddapDatasett&gt; Merke i datasets.xml for å angi det maksimale antall filendringshendinger (standard=10) som vil bli håndtert av [&lt;OppdaterEveryNMillis&gt;] (#updatevardenmillis) system før du bytter til å laste datasettet på nytt i stedet. For eksempel<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;updateMaxEvents&gt;10&lt;/updateMaxEvents&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>OppdateringenEveryNMillis-systemet er ment å kjøre veldig raskt rett før brukerens forespørsel behandles. Hvis det er mange filendringshendelser, så kan den sannsynligvis ikke kjøres raskt, så det krever i stedet at datasettet skal lastes på nytt. Hvis din ERDDAP™ håndterer datasett som må holdes oppdatert selv om det er endringer i et stort antall datafiler, kan du angi dette til et større antall (100?) ..</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="user">&lt;bruker&gt;<a href="#user" class="hash-link" aria-label="Direkte lenke til&lt;bruker&gt;" title="Direkte lenke til&lt;bruker&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;bruker&gt; ** ] (#user) er et valgfritt merke i en&lt;ErddapDatasett&gt; Merke i datasets.xml som identifiserer brukerens brukernavn, passord (hvis autentisering=kunde) , og roller (en kommadelt liste) .. Bruken av brukernavn og passord varierer litt basert på verdien av [&lt;autentisering&gt;] (/docs/server-admin/additionell-informasjon#autentisering) i din ERDDAP config.xml-fil.<!-- -->
<ul>
<li class="">Dette er en del av ERDDAP &#x27;s <a class="" href="/nb/docs/server-admin/additional-information#security">sikkerhetssystem</a> for å begrense tilgangen til noen datasett til noen brukere.</li>
<li class="">Gjør en separat&lt;bruker&gt; tag for hver bruker. Valgfritt, hvis autentisering=oauth2, kan du konfigurere to&lt;bruker&gt; tagger for hver bruker: én for når brukeren logger inn via Google, en for når brukeren logger inn via Orcid, sannsynligvis med samme roller.</li>
<li class="">Hvis det ikke finnes&lt;bruker&gt; tag for en klient, s/han vil bare være i stand til å få tilgang til offentlige datasett, dvs. datasett som ikke har [&lt;tilgjengeligTil&gt;] (#accessibleto) Tag.</li>
<li class="">brukernavn
For autentisering=custom er brukernavnet vanligvis en kombinasjon av bokstaver, siffer, understrekninger og perioder.
For autentisering=email er brukernavnet brukerens e-postadresse. Det kan være enhver e-postadresse.
For autentisering=google er brukernavnet brukerens fulle e-postadresse. Dette inkluderer Google-kontrollerte kontoer som @noaa.gov kontoer.
For autentisering=orcid er brukernavnet brukerens Orcid-kontonummer (Med stikker) ..
For autentisering=oauth2 er brukernavnet brukerens fulle e-postadresse eller brukerens Orcid-kontonummer (Med stikker) ..</li>
<li class="">passord
For autentisering=e-post, google, orcid eller oauth2, ikke angi en passordattributt.
For autentisering=tilpasset må du angi en passordattributt for hver bruker.<!-- -->
<ul>
<li class="">Passordene som brukeren angir er kasefølsomme og må ha 8 eller flere tegn slik at de er vanskeligere å knekke. I dag kan til og med 8 tegn sprøyes raskt og billig ved hjelp av brutekraft ved hjelp av en klynge datamaskiner på AWS. ERDDAP™ bare håndhever 8-tegn minimum når brukeren prøver å logge på (ikke når&lt;bruker&gt; tagg blir behandlet, fordi den koden bare ser hash fordøyelse av passordet, ikke klartekst passord).</li>
<li class="">config.xml&lt;passordkoding&gt; bestemme hvordan passord lagres i&lt;bruker&gt; Tags in datasets.xml .. For å øke sikkerheten er alternativene:<!-- -->
<ul>
<li class=""><a href="https://en.wikipedia.org/wiki/MD5" target="_blank" rel="noopener noreferrer" class="">MD5</a>   (Ikke bruk dette!) -- for passordattributten, angi MD5 hash fordøyelse av brukerens passord.</li>
<li class="">UEPMD5 (Ikke bruk dette!) -- for passordattributten, angi MD5 hash fordøyelse av <em>brukernavn</em> :) ERDDAP :) <em>passord</em> .. Brukernavn og ERDDAP &quot; er vant til <a href="https://en.wikipedia.org/wiki/Salt_(cryptography)" target="_blank" rel="noopener noreferrer" class="">salt</a> hash-verdien, noe som gjør det vanskeligere å avkode.</li>
<li class=""><a href="https://en.wikipedia.org/wiki/SHA-2" target="_blank" rel="noopener noreferrer" class="">Tittenfick256</a>   (Ikke anbefalt) -- for passordattributten, angi SHA-256 hash fordøyelse av brukerens passord.</li>
<li class="">UEPSHA256 (standard, anbefalt passordkoding. Men mye bedre: bruk google, orkide eller oauth2-autentiseringsalternativer.) -- for passordattributten, angi SHA-256 hash fordøyelse av <em>brukernavn</em> :) ERDDAP :) <em>passord</em> .. Brukernavn og ERDDAP &quot; brukes til å salte hashverdien, noe som gjør det vanskeligere å dekode.</li>
</ul>
</li>
<li class="">På Windows kan du generere MD5 passordfordøyelsesverdier ved å laste ned et MD5-program (som <a href="https://www.fourmilab.ch/md5/" target="_blank" rel="noopener noreferrer" class="">MD5</a> ) og bruk (For eksempel) :)
md5 -djsmith: ERDDAP :) <em>faktisk passord</em></li>
<li class="">På Linux/Unix kan du generere MD5 fordøyelsesverdier ved hjelp av innebygd md5sum-programmet (For eksempel) :)
echo-n-jsmith: ERDDAP :) <em>faktisk passord</em> &quot; | md5sum</li>
<li class="">Oppbevarte klartekstpassord er sensitive. De lagrede formene av MD5 og UEPMD5 passord er ikke sensitive.</li>
<li class="">For eksempel (bruker UEPMD5) Hvis brukernavn=&quot;jsmith&quot; og passord=&quot; mitt passord&quot;,&lt;user&gt; tag er:</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;user username=&quot;jsmith&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            password=&quot;57AB7ACCEB545E0BEB46C4C75CEC3C30&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            roles=&quot;JASmith, JASmithGroup&quot; /&gt;  </span><br></span></code></pre></div></div>
<p>der det lagrede passordet ble generert med
md5 -djsmith: ERDDAP <!-- -->:myPassword</p>
<ul>
<li class="">roller er en kommadelt liste over roller som brukeren er autorisert til. Alle&lt;Datasett&gt; kan ha [&lt;tilgjengeligTil&gt;] (#accessibleto) Tag som viser rollene som får tilgang til datasettet. For en gitt bruker og et gitt datasett, hvis en av rollene i brukerens liste over roller samsvarer med en av rollene i datasettets liste over&lt;tilgjengeligTil&gt; roller, så er brukeren autorisert til å få tilgang til det datasettet.</li>
</ul>
<p>Alle brukere som logger seg inn automatisk får rollen \[ Hvem som helst I \] om det finnes en&lt;bruker&gt; tag for dem i datasets.xml eller ikke. Hvis et gitt datasett har</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;accessibleTo&gt;\\[anyoneLoggedIn\\]&lt;/accessibleTo&gt;  </span><br></span></code></pre></div></div>
<p>da vil enhver bruker som er logget inn ha tillatelse til å få tilgang til dette datasettet, selv om det ikke er noen&lt;bruker&gt; tag for dem i datasets.xml ..</p>
<ul>
<li class="">Eventuelle endringer i denne etikettens verdi vil tre i kraft neste gang ERDDAP™ Leser datasets.xml , inkludert som reaksjon på et datasett <a class="" href="/nb/docs/server-admin/additional-information#flag">flagg</a> ..
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pathregex">&lt;pathRegex&gt;<a href="#pathregex" class="hash-link" aria-label="Direkte lenke til&lt;pathRegex&gt;" title="Direkte lenke til&lt;pathRegex&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;pathRegex &gt; ** ] (#pathregex) kan du angi et regulært uttrykk som begrenser hvilke veier (hvilke underkataloger) vil bli inkludert i datasettet. Standarden er .\*, som passer til alle stier. Dette er en sjelden brukt, sjelden nødvendig, OPTIONAL tag for EDDGrid FraFiles datasett, EDDTableFromFiles datasett og noen andre datasett typer. Men når du trenger det, trenger du det virkelig.</li>
</ul>
<p>For å gjøre dette arbeidet må du være veldig god med vanlige uttrykk. Se dette <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">Regulatorisk dokumentasjon</a> og <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">Regular tutorial</a> .. Spesielt må du vite om fangstgrupper (Noe i parentesen) , og &quot;eller&quot; symbolet &quot; |  &quot;.
Sammen kan du angi antall alternativer, f.eks. (alternativ1 | alternativ2 | option3) ..
Noen av alternativene kan ikke være noe, f.eks. ( | alternativ2 | option3) ..
Du må også vite at fangstgrupper kan hekkes, dvs. ethvert alternativ i en fangstgruppe kan inneholde en annen fangstgruppe, f.eks. ( | alternativ2 ( | alternativ2 b | option2c)  | option3) som sier at option2 kan følges av ingenting, eller option2b eller option2c.
For stiRegexes vil hvert alternativ være ett mappenavn etterfulgt av en /, f.eks. linje/ .</p>
<p>Den vanskelige delen av banenRegex er: Når ERDDAP™ Rekursivt senker katalogtreet, må banenRegex akseptere alle stiene det møter på vei til katalogene med data. Regexs med hekkede fangstgrupper er en god måte å håndtere dette på.</p>
<p>Et eksempel:
Anta at vi har følgende katalogstruktur:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/foo/bar/D0001/a/\\*.nc  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/foo/bar/D0001/b/\\*.nc  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/foo/bar/D0002/a/\\*.nc  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/foo/bar/D0002/b/\\*.nc  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/foo/bar/E0001/a/\\*.nc  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...  </span><br></span></code></pre></div></div>
<p>og den spesifiserte filDirectory er /foo/bar/, og vi vil bare .nc Filer i D \[ 0-9 \] {4}/a/ underkataloger.
Løsningen er å sette baneRegex til /foo/bar/ ( | D \[ 0-9 \] {4}/ ( | a/) )<br>
<!-- -->Det står:
Veien må begynne med /foo/bar/
Dette kan følges av ingenting eller D \[ 0-9 \] {4}/
Dette kan følges av ingenting eller a/</p>
<p>Ja, PathRegex kan være utrolig vanskelig å formulere. Hvis du sitter fast, spør en dataprogrammerer (Den nærmeste tingen i den virkelige verden til en trollmann spouting incantations?) Send e-post til Chris. John på noaa.gov.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dataset">&lt;datasett &gt;<a href="#dataset" class="hash-link" aria-label="Direkte lenke til&lt;datasett &gt;" title="Direkte lenke til&lt;datasett &gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;Datasett&gt; ** ] (#datasett) er et valg (Men alltid brukt) Tagge i en&lt;ErddapDatasett&gt; Merke i datasets.xml det (om du inkluderer all informasjon mellom&lt;Datasett&gt; og&lt;/datasett&gt;) beskriver helt ett datasett. For eksempel<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;dataset type=&quot;EDDGridFromDap&quot; datasetID=&quot;erdPHssta8day&quot; active=&quot;true&quot;&gt; ... &lt;/dataset&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Det kan være noen datasett tags i din datasets.xml fil.
Tre egenskaper kan vises i en&lt;datasett&gt; tag:
 </p>
<ul>
<li class=""><strong>type=&quot; <em>a Type</em> &quot;</strong> er en REQUIRED-attributt i en&lt;datasett&gt; tag in datasets.xml som identifiserer type datasett (For eksempel, om det er et EDDGrid /gridded eller EDDTable/tabular datasett) og kilden til dataene (For eksempel en database, filer eller en ekstern OPeNDAP server) .. Se <a href="#list-of-types-datasets" class=""> <strong>Liste over datasetttyper</strong> </a> ..
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="datasetid">Datasett Id<a href="#datasetid" class="hash-link" aria-label="Direkte lenke tilDatasett Id" title="Direkte lenke tilDatasett Id" translate="no">​</a></h4>
<ul>
<li class=""><a href="#datasetid" class=""> ** datasetID = &quot; <em>aDatasetID</em> &quot;** </a> er en REQUIRED-attributt i en&lt;datasett&gt; tag som tildeler en kort (vanligvis&lt;15 tegn), unikt, identifiserende navn til et datasett.</li>
<li class="">Den datasetID S må være et brev (A-Z, a-z) etterfulgt av et antall A-Z, a-z, 0-9 og \_ (men best hvis&lt;32 tegn totalt).</li>
<li class="">Datasett ID-er er kasefølsomme, men ikke opprette to datasetID som bare er forskjellig i øvre/små bokstaver. Det vil forårsake problemer på Windows datamaskiner (din og/eller en brukers datamaskin) ..</li>
<li class="">Beste praksis: Vi anbefaler å bruke <a href="https://en.wikipedia.org/wiki/CamelCase" target="_blank" rel="noopener noreferrer" class="">kamel Case</a> ..</li>
<li class="">Beste praksis: Vi anbefaler at den første delen er en akronym eller forkortelse av kildeinstitusjonens navn og den andre delen er en akronym eller forkortelse av datasettets navn. Når det er mulig, oppretter vi et navn som gjenspeiler kildens navn på datasettet. For eksempel brukte vi datasetID =-erdPH sst a8day&quot; for et datasett fra NOAA   NMFS   SWFSC Miljøforskningsdivisjon ( ERD ) som utpekes av kilden til å være satellitt/PH/ sst a/8 dager.</li>
<li class="">Hvis du endrer et datasetts navn, det gamle datasettet (Med det gamle navnet) Vil fortsatt være i ERDDAP .. Dette er et &quot;orphan&quot; datasett, fordi spesifikasjonen for det i datasets.xml Nå er hun borte. Dette må behandles:<!-- -->
<ol>
<li class="">For ERDDAP™ v2.19 og senere trenger du ikke å gjøre noe. ERDDAP™ vil automatisk fjerne disse foreldreløse datasettene.</li>
<li class="">For ERDDAP™ v2.18 og tidligere, må du gjøre noe for å fjerne foreldreløse datasett: Gjør et aktivt=&quot;falsk&quot; datasett, f.eks.</li>
</ol>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;dataset type=&quot;EDDTableFromNcFiles&quot; datasetID=&quot;*theOldName*&quot; active=&quot;false&quot; /&gt;  </span><br></span></code></pre></div></div>
<p>Etter neste store belastning Datasett, Du kan fjerne merket etter at det gamle datasettet er inaktivt.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="active">aktiv<a href="#active" class="hash-link" aria-label="Direkte lenke tilaktiv" title="Direkte lenke tilaktiv" translate="no">​</a></h4>
<ul>
<li class=""><a href="#active" class=""> <strong>aktiv= &quot; <em>boolsk</em> &quot;</strong> </a> er en valgfri egenskap i en&lt;datasett&gt; tag in datasets.xml som indikerer om et datasett er aktivt (kvalifisert for bruk i ERDDAP ) eller ikke.</li>
<li class="">Gyldige verdier er sanne (standard) og falsk.</li>
<li class="">Siden standard er sant, trenger du ikke å bruke denne attributten før du vil midlertidig eller permanent fjerne dette datasettet fra ERDDAP ..</li>
<li class="">Hvis du bare fjerner et aktivt=&quot; sant&quot; datasett fra datasets.xml Datasettet vil fortsatt være aktivt i ERDDAP™ Men vil aldri bli oppdatert. Et slikt datasett vil være en &quot;orfan&quot; og vil bli oppført som sådan på status. html nettside rett under listen over datasett som ikke ble lastet.</li>
<li class="">Hvis du setter aktiv=&quot;falsk&quot;, ERDDAP™ vil deaktivere datasettet neste gang det prøver å oppdatere datasettet. Når du gjør dette, ERDDAP™ ikke kaste ut noen informasjon det kan ha lagret om datasettet og absolutt ikke gjør noe mot de faktiske dataene.</li>
<li class="">For å fjerne et datasett fra ERDDAP™ Se <a class="" href="/nb/docs/server-admin/additional-information#removing-datasets">Tving datasett fjerning</a> ..
 </li>
</ul>
<p>** Flere tagger kan vises mellom&lt;Datasett&gt; og&lt;/dataset&gt; tags. **<br>
<!-- -->Det er noen variasjon der tagger er tillatt ved hvilke typer datasett. Se dokumentasjonen for en bestemt <a href="#list-of-types-datasets" class="">type datasett</a> for detaljer.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="accessibleto">&lt;tilgjengelig Til &gt;<a href="#accessibleto" class="hash-link" aria-label="Direkte lenke til&lt;tilgjengelig Til &gt;" title="Direkte lenke til&lt;tilgjengelig Til &gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;tilgjengelig Til &gt; ** ] (#accessibleto) er et valgfritt tag i et&lt;datasett&gt; tag som angir en kommaseparert liste av <a href="#user" class="">roller</a> som har adgang til dette datasettet. For eksempel<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;accessibleTo&gt;RASmith, NEJones&lt;/accessibleTo&gt;  </span><br></span></code></pre></div></div>
<ul>
<li class="">Dette er en del av ERDDAP &#x27;s <a class="" href="/nb/docs/server-admin/additional-information#security">sikkerhetssystem</a> for å begrense tilgangen til noen datasett til noen brukere.</li>
<li class="">Hvis denne etiketten ikke er tilstede, alle brukere (Selv om de ikke har logget inn) vil ha tilgang til dette datasettet.</li>
<li class="">Hvis dette merket er tilstede, vil dette datasettet kun være synlig og tilgjengelig for loggede brukere som har en av de angitte rollene. Dette datasettet vil ikke være synlig for brukere som ikke er logget på.</li>
<li class="">Alle brukere som logger seg inn automatisk får rollen \[ Hvem som helst I \] om det finnes en&lt;bruker&gt; tag for dem i datasets.xml eller ikke. Hvis et gitt datasett har</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;accessibleTo&gt;\\[anyoneLoggedIn\\]&lt;/accessibleTo&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>da vil enhver bruker som er logget inn ha tillatelse til å få tilgang til dette datasettet, selv om det ikke er noen&lt;bruker&gt; tag for dem i datasets.xml ..
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="graphsaccessibleto">&lt;graferAccessibleTo&gt;<a href="#graphsaccessibleto" class="hash-link" aria-label="Direkte lenke til&lt;graferAccessibleTo&gt;" title="Direkte lenke til&lt;graferAccessibleTo&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;graferAccessibleTo&gt; ** ] (#graphsaccessibleto) er et valgfritt tag i et&lt;datasett&gt; tag in datasets.xml som bestemmer om grafikk og metadata for datasettet er tilgjengelig for publikum. Det tilbyr en måte å delvis overstyre datasettets [&lt;tilgjengeligTil&gt;] (#accessibleto) innstilling. De tillatte verdiene er:<!-- -->
<ul>
<li class="">auto -- Denne verdien (eller fraværet av en&lt;graferAccessibleTo&gt; tag for datasettet) gjør tilgang til grafer og metadata fra datasettet imitere datasettets&lt;tilgjengelig til&gt; innstilling.
Så hvis datasettet er privat, vil grafene og metadataene være private.
Hvis datasettet er offentlig, vil dets grafer og metadata være offentlige.</li>
<li class="">Offentlig -- Denne innstillingen gjør datasettets grafer og metadata tilgjengelige for alle, selv brukere som ikke er logget inn, selv om datasettet ellers er privat fordi det har en&lt;tilgjengeligTil&gt; tag.
 </li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="accessibleviafiles">&lt;tilgjengelig ViaFiles&gt;<a href="#accessibleviafiles" class="hash-link" aria-label="Direkte lenke til&lt;tilgjengelig ViaFiles&gt;" title="Direkte lenke til&lt;tilgjengelig ViaFiles&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;tilgjengeligViaFiles &gt; ** ] (#accessibleviafiles) er et valgfritt tag i et&lt;datasett&gt; tag in datasets.xml for <a href="#eddgridaggregateexistingdimension" class=""> EDDGrid Aggregate</a> , <a href="#eddgridcopy" class=""> EDDGrid Kopier</a> , <a href="#eddgridfromeddtable" class=""> EDDGrid Fra EDDTable</a> , <a href="#eddfromerddap" class=""> EDDGrid FraErddap</a> , <a href="#eddgridfrometopo" class=""> EDDGrid FraEtopo</a> , <a href="#eddgridfromfiles" class=""> EDDGrid FraFiles</a>   (Inkludert alle underklasser) , <a href="#eddgridsidebyside" class=""> EDDGrid SideBySide</a> , <a href="#eddtablecopy" class="">EDDTableCopy</a>   <a href="#eddfromerddap" class="">EDDTableFraErddap</a> , <a href="#eddtablefromeddgrid" class="">EDDTableFra EDDGrid </a> , og <a href="#eddtablefromfiles" class="">EDDTableFra Filer</a>   (Inkludert alle underklasser) Datasett. Det kan ha en verdi av sant eller falskt. For eksempel<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;accessibleViaFiles&gt;true&lt;/accessibleViaFiles&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Hvis verdien er sann, ERDDAP™ vil gjøre det slik at brukerne kan bla gjennom og laste ned datasettets kildedatafiler via ERDDAP &#x27;s <a href="https://coastwatch.pfeg.noaa.gov/erddap/files/" target="_blank" rel="noopener noreferrer" class=""> &quot;files&quot; systemet</a> .. Se &quot;files&quot; systemets <a href="https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html" target="_blank" rel="noopener noreferrer" class="">dokumentasjon</a> For mer informasjon.</p>
<p>Standardverdien til&lt;tilgjengeligViaFiles &gt; kommer fra&lt;standardAccessibleViaFiles &gt; i <a class="" href="/nb/docs/server-admin/deploy-install#setupxml">config.xml</a> .. Den har en standardverdi av falskt, men vi anbefaler at du legger til det merket til config.xml med en verdi av sant.</p>
<p>Anbefaling -- Vi anbefaler å gjøre alle relevante datasett tilgjengelige via filsystemet ved å sette&lt;standardAccessibleViaFiles&gt; til sant i setup.xml fordi det er en gruppe brukere som dette er den foretrukne måten å få dataene til. Av andre grunner &quot;files&quot; systemet gjør det enkelt for brukere å se hvilke filer som er tilgjengelige og når de sist endret, og dermed gjøre det enkelt for en bruker å opprettholde sin egen kopi av hele datasettet. Hvis du vanligvis ikke vil gjøre datasett tilgjengelig via filsystemet, angi&lt;standardAccessibleViaFiles&gt; til falsk. I begge tilfeller bare bruk&lt;tilgjengeligViaFiles&gt; for få datasett som er unntak fra den generelle politikken som er fastsatt av&lt;standardAccessibleViaFiles &gt; (For eksempel når datasettet bruker <a href="#ncml-files" class=""> .nc ml</a> filer, som ikke er veldig nyttig for brukerne) ..
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="accessibleviawms">&lt;tilgjengelig Via WMS &gt;<a href="#accessibleviawms" class="hash-link" aria-label="Direkte lenke til&lt;tilgjengelig Via WMS &gt;" title="Direkte lenke til&lt;tilgjengelig Via WMS &gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;tilgjengelig Via WMS &gt; ** ] (#Accessibleviawms) er et valgfritt tag i et&lt;datasett&gt; tag in datasets.xml For alle <a href="#eddgrid" class=""> EDDGrid </a> Underklasser. Det kan ha en verdi av sant (standard) eller falsk. For eksempel<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;accessibleViaWMS&gt;true&lt;/accessibleViaWMS&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Hvis verdien er falsk, ERDDAP &#x27;s WMS server vil ikke være tilgjengelig for dette datasettet. Dette brukes vanligvis til datasett som har noen lengdeverdier større enn 180 (som teknisk er ugyldig for WMS Tjenester) , og som du også tilbyr en variant av datasettet med lengdegradsverdier helt i området -180 til 180 via <a href="#eddgridlonpm180" class=""> EDDGrid LonPM180</a> ..
Hvis verdien er sann, ERDDAP™ vil prøve å gjøre datasettet tilgjengelig via ERDDAP &#x27;s WMS server. Men hvis datasettet er helt uegnet til WMS   (For eksempel er det ingen lengdegrads- eller breddegradsdata) Da vil datasettet ikke være tilgjengelig via ERDDAP &#x27;s WMS server, uansett denne innstillingen.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="addvariableswhere">&lt;Legg til Variabler Hvor &gt;<a href="#addvariableswhere" class="hash-link" aria-label="Direkte lenke til&lt;Legg til Variabler Hvor &gt;" title="Direkte lenke til&lt;Legg til Variabler Hvor &gt;" translate="no">​</a></h4>
<ul>
<li class="">[&lt;Legg tilVariablesWhere&gt;] (#addvariableshere) er et valgfritt merke i&lt;datasett&gt; tag for alle EDDTable datasett.</li>
</ul>
<p>Forespørsler til EDDTable-datasett kan inkludere &amp;add Variabler Hvor (&quot; <em>attributt Navn</em> &quot;,&quot; <em>attributt Verdi</em> &quot;) som forteller ERDDAP™ å legge til alle variabler i datasettet der <em>attributtName=adtributeValue</em> Listen over etterspurte variabler. Hvis en bruker for eksempel legger til og legger til Variabler Hvor (&quot; ioos\_category &quot;,&quot;Wind&quot;) til et spørsmål, ERDDAP vil legge til alle variabler i datasettet som har en ioos\_category =Wind-attributt til listen over etterspurte variabler (for eksempel vindhastighet, vindDirection, vindGustSpeed) .. <em>attributt Navn</em> og <em>attributt Verdi</em> er saksfølsomme.</p>
<p>I datasets.xml Hvis delen av datasett.xml for et datasett har</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;addVariablesWhere&gt;*attributeNamesCSV*&lt;addVariablesWhere&gt;  </span><br></span></code></pre></div></div>
<p>For eksempel</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;addVariablesWhere&gt;ioos\\_category,units&lt;addVariablesWhere&gt;  </span><br></span></code></pre></div></div>
<p>datatilgangsskjemaet (.html nettside) for datasettet inkluderer en widget (for hver attributtName i den kommadelte listen) rett under listen over variabler som lar brukerne angi en attributtverdi. Hvis brukeren velger en attributtverdi for ett eller flere av attributtnavnene, vil de bli lagt til forespørselen via &amp; Legg til Variabler Hvor (&quot; <em>attributt Navn</em> &quot;,&quot; <em>attributt Verdi</em> &quot;) .. Dette merket i datasets.xml lar deg angi listen over attributtnavn som vil vises i datatilgangsskjemaet for det datasettet og gjør det enkelt for brukere å legge til og legge til variabler Når funksjoner på forespørselen. Den <em>attributtNamesCSV</em> Listen er saksfølsom.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="altitudemeterspersourceunit">&lt;høyde MetersPerSourceUnite&gt;<a href="#altitudemeterspersourceunit" class="hash-link" aria-label="Direkte lenke til&lt;høyde MetersPerSourceUnite&gt;" title="Direkte lenke til&lt;høyde MetersPerSourceUnite&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;høydemålerePerSourceUnite&gt; ** ] (#altitudemeterspersourceunit) er et valgfritt merke i&lt;datasett&gt; tag i datasett. xxml for EDDTableFra SOS Datasett (Bare!) som angir et tall som multipliseres med kildehøyden eller dybdeverdiene for å konvertere dem til høydeverdier (i meter over havet) .. For eksempel<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;altitudeMetersPerSourceUnit&gt;-1&lt;/altitudeMetersPerSourceUnit&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Denne taggen må brukes hvis datasettets vertikale akseverdier ikke er meter, positive = opp. Ellers er det valgfritt, siden standardverdien er 1. For eksempel</p>
<ul>
<li class="">Hvis kilden allerede er målt i meter over havet, bruk 1 (eller ikke bruk denne etiketten, siden 1 er standardverdien) ..</li>
<li class="">Hvis kilden måles i meter under havnivå, bruk -1.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;altitudeMetersPerSourceUnit&gt;-1&lt;/altitudeMetersPerSourceUnit&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Hvis kilden måles i km over havet, bruk 0,001.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="defaultdataquery">&lt;standardDataQuery&gt;<a href="#defaultdataquery" class="hash-link" aria-label="Direkte lenke til&lt;standardDataQuery&gt;" title="Direkte lenke til&lt;standardDataQuery&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;standardDataQuery&gt; ** ] (#defaultdataquery) er et valgfritt tag i et&lt;datasett&gt; tag in datasets.xml som forteller ERDDAP™ å bruke den angitte spørringen (den delen av URL-en etter) hvis .html-filen Type (datatilgangsskjemaet) er bedt om uten spørsmål.<!-- -->
<ul>
<li class="">Du trenger sannsynligvis sjelden å bruke dette.</li>
<li class="">Du trenger XML-kode (Ikke prosent kode) standardspørsmål siden de er i et XML-dokument. For eksempel blir &amp; amp;&lt;blir&lt;, &gt; blir &gt; .</li>
<li class="">Sjekk arbeidet. Det er enkelt å gjøre en feil og ikke få det du vil ha. ERDDAP™ vil prøve å rydde opp feilene dine - men ikke stole på det, siden\*Hvordan\*Det rengjøres kan endre seg.</li>
<li class="">For netdap datasett, er en vanlig bruk av dette å spesifisere en annen standard dybde eller høyde dimensjonsverdi (For eksempel \[ 0 \] i stedet for \[ siste \] ) ..
I alle fall bør du alltid liste alle variabler, alltid bruke de samme dimensjonsverdiene for alle variabler, og nesten alltid bruke \[ 0 \] , \[ siste \] , eller \[ 0<!-- -->:sist<!-- --> \] For dimensjonsverdiene.
For eksempel:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;defaultDataQuery&gt;u\\[last\\]\\[0\\]\\[0:last\\]\\[0:last\\],v\\[last\\]\\[0\\]\\[0:last\\]\\[0:last\\]&lt;/defaultDataQuery&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">For tabledap datasett, hvis du ikke angir noen begrensning, vil forespørselen returnere hele datasettet, som kan være upraktisk stort avhengig av datasettet. Hvis du ikke ønsker å angi noen begrensninger, i stedet for å ha en tom&lt;standardDataQuery&gt; (som ikke angir en standard DataQuery) , må du eksplisitt vise alle variabler du vil inkludere i standardDataQuery.</li>
<li class="">For tabledap datasett, den vanligste bruken av dette er å angi et annet standard tidsområde (i forhold til max (tid) , for eksempel, &amp;time&gt;=max (tid) -1 dag, eller i forhold til nå, for eksempel, &amp;time&gt;= now- 1 dag) ..
Husk at å be om ingen datavariabler er det samme som å spesifisere alle datavariabler, så vanligvis kan du bare spesifisere den nye tidsbegrenselsen.
For eksempel:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;defaultDataQuery&gt;&amp;amp;time&amp;gt;=max(time)-1day&lt;/defaultDataQuery&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>eller</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;defaultDataQuery&gt;&amp;amp;time&amp;gt;=now-1day&lt;/defaultDataQuery&gt;  </span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="defaultgraphquery">&lt;standardGraphQuery&gt;<a href="#defaultgraphquery" class="hash-link" aria-label="Direkte lenke til&lt;standardGraphQuery&gt;" title="Direkte lenke til&lt;standardGraphQuery&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;standardGraphQuery&gt; ** ] (#standardgrafikk) er et valgfritt tag i et&lt;datasett&gt; tag in datasets.xml som forteller ERDDAP™ å bruke den angitte spørringen (den delen av URL-en etter) dersom .graph-filen Type (i Make A Graph Form) er bedt om uten spørsmål.<!-- -->
<ul>
<li class="">Du trenger sannsynligvis sjelden å bruke dette.</li>
<li class="">Du trenger XML-kode (Ikke prosent kode) standardspørsmål siden de er i et XML-dokument. For eksempel blir &amp; amp;&lt;blir&lt;, &gt; blir &gt; .</li>
<li class="">Sjekk arbeidet. Det er enkelt å gjøre en feil og ikke få det du vil ha. ERDDAP™ vil prøve å rydde opp feilene dine - men ikke stole på det, siden\*Hvordan\*Det rengjøres kan endre seg.</li>
<li class="">For datasett for netdap er den vanligste bruken av dette å angi en annen standarddybde eller høydedimensjonverdi (For eksempel \[ 0 \] i stedet for \[ siste \] ) og/eller for å angi at en bestemt variabel grafiseres.
I alle tilfeller vil du nesten alltid bruke \[ 0 \] , \[ siste \] , eller \[ 0<!-- -->:sist<!-- --> \] For dimensjonsverdiene.
For eksempel:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;defaultGraphQuery&gt;temp\\[last\\]\\[0\\]\\[0:last\\]\\[0:last\\]&amp;amp;.draw=surface&amp;amp;.vars=longitude|latitude|temp&lt;/defaultGraphQuery&gt;  </span><br></span></code></pre></div></div>
<!-- -->(Legg alt på én linje)<!-- -->
<ul>
<li class="">For tabledap datasett, hvis du ikke angir noen begrensning, vil forespørselen grafere hele datasettet, som kan ta lang tid, avhengig av datasettet.</li>
<li class="">For tabledap datasett, den vanligste bruken av dette er å angi et annet standard tidsområde (i forhold til max (tid) , for eksempel, &amp;time&gt;=max (tid) -1 dag, eller i forhold til nå, for eksempel, &amp;time&gt;= now- 1 dag) ..
Husk at å be om ingen datavariabler er det samme som å spesifisere alle datavariabler, så vanligvis kan du bare spesifisere den nye tidsbegrenselsen.
For eksempel:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;defaultGraphQuery&gt;&amp;amp;time&amp;gt;=max(time)-1day&lt;/defaultGraphQuery&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>eller</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;defaultGraphQuery&gt;&amp;amp;time&amp;gt;=now-1day&lt;/defaultGraphQuery&gt;  </span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="dimensionvaluesinmemory">&lt;dimensjonValuesInMemory&gt;<a href="#dimensionvaluesinmemory" class="hash-link" aria-label="Direkte lenke til&lt;dimensjonValuesInMemory&gt;" title="Direkte lenke til&lt;dimensjonValuesInMemory&gt;" translate="no">​</a></h4>
<ul>
<li class="">
<p>[ ** &lt;dimensjon VerdierInMemory&gt; ** ] (#dimensjonverdisinminne)   (sant (standard) eller falsk) er en valgfri og sjelden brukt tag i&lt;datasett&gt; tag for alle EDDGrid Datasett som forteller ERDDAP™ hvor kildeverdiene til dimensjonene skal oppbevares (også kjent som axisVariable s) :)</p>
<ul>
<li class="">sant = i minnet (som er raskere, men bruker mer minne)</li>
<li class="">falsk = på disken (som er langsommere, men ikke bruker hukommelse)</li>
</ul>
</li>
</ul>
<p>For eksempel</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;dimensionValuesInMemory&gt;false&lt;/dimensionValuesInMemory&gt;  </span><br></span></code></pre></div></div>
<p>Du bør bare bruke dette med ikke-standard verdi av falske hvis din ERDDAP™ har mange datasett med svært store dimensjoner (For eksempel millioner av verdier, f.eks. i EDDGrid FromAudioFiles datasett) og ERDDAP I bruk er minnebruk alltid for høy. Se minne: Bruker nå linje på \[ din Dame \]  /erddap/status.html å overvåke ERDDAP™ minnebruk.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="filetableinmemory">&lt;filTableInMemory&gt;<a href="#filetableinmemory" class="hash-link" aria-label="Direkte lenke til&lt;filTableInMemory&gt;" title="Direkte lenke til&lt;filTableInMemory&gt;" translate="no">​</a></h4>
<ul>
<li class="">
<p>[ ** &lt;filTableInMemory&gt; ** ] (#filetablein memory)   (sant eller falsk (standard) ) er et valgfritt merke i&lt;datasett&gt; tag for alle EDDGrid Fra Filer og EDDTable FraFiles datasett som forteller ERDDAP™ hvor filtabellen skal oppbevares (som har informasjon om hver kildedatafil) :)</p>
<ul>
<li class="">sant = i minnet (som er raskere, men bruker mer minne)</li>
<li class="">falsk = på disken (som er langsommere, men ikke bruker hukommelse)</li>
</ul>
</li>
</ul>
<p>For eksempel</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;fileTableInMemory&gt;true&lt;/fileTableInMemory&gt;  </span><br></span></code></pre></div></div>
<p>Hvis du setter dette til sant for alle datasett, hold et øye med minnet: for tiden ved hjelp av linje på \[ din Dame \]  /erddap/status.html for å sikre at ERDDAP™ Det er mye gratis minne.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="fgdcfile">&lt;fgdcFile&gt;<a href="#fgdcfile" class="hash-link" aria-label="Direkte lenke til&lt;fgdcFile&gt;" title="Direkte lenke til&lt;fgdcFile&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;fgdcFile &gt; ** ] (#fgdcfile) er et valgfritt tag i et&lt;datasett&gt; tag in datasets.xml som forteller ERDDAP™ å bruke en forhåndsfremstilt FGDC-fil i stedet for å ha ERDDAP™ Prøv å generere filen. Bruk:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;fgdcFile&gt;*fullFileName*&lt;/fgdcFile&gt;  </span><br></span></code></pre></div></div>
<p><em>Full FilName</em> kan referere til en lokal fil (et sted på serverens filsystem) eller URL til en ekstern fil.
Hvis <em>Full FilName</em> \=&quot;&quot; eller filen er ikke funnet, vil datasettet ikke ha FGDC-metadata. Så dette er også nyttig hvis du vil undertrykke FGDC metadata for et bestemt datasett.
Eller du kan sette&lt;fgdcActive&gt;false&lt;/fgdcActive&gt; i setup.xml å fortelle ERDDAP™ Ikke å tilby FGDC metadata for noen datasett.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="iso19115file">&lt;iso19115 Fil &gt;<a href="#iso19115file" class="hash-link" aria-label="Direkte lenke til&lt;iso19115 Fil &gt;" title="Direkte lenke til&lt;iso19115 Fil &gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;iso19115File &gt; ** ] (#iso19115file) er et valgfritt tag i et&lt;datasett&gt; tag in datasets.xml som forteller ERDDAP™ å bruke en forhåndsfremstilt ISO 19115-fil i stedet for å ha ERDDAP™ Prøv å generere filen. Bruk:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;iso19115File&gt;*fullFileName*&lt;/iso19115File&gt;  </span><br></span></code></pre></div></div>
<em>Full FilName</em> kan referere til en lokal fil (et sted på serverens filsystem) eller URL til en ekstern fil.
Hvis <em>Full FilName</em> &quot; = &quot; eller filen er ikke funnet, vil datasettet ikke ha ISO 19115 metadata. Så dette er også nyttig hvis du vil undertrykke ISO 19115 metadata for et bestemt datasett.
Eller du kan sette&lt;iso19115Aktiv&gt;falsk&lt;/iso19115Active&gt; i setup.xml å fortelle ERDDAP™ ikke å tilby ISO 19115 metadata for alle datasett.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="matchaxisndigits">&lt;matchAxis NDigits&gt;<a href="#matchaxisndigits" class="hash-link" aria-label="Direkte lenke til&lt;matchAxis NDigits&gt;" title="Direkte lenke til&lt;matchAxis NDigits&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;matchAxisNDigits&gt; ** ] (#matchaksendigitter) er et valgfritt merke i en EDDGrid  &lt;datasett&gt; tag for EDDGrid datasett som er aggregeringer, f.eks. samlinger av filer. Hver gang datasettet lastes på nytt, ERDDAP™ Kontrollerer at akseverdiene til hver komponent i sammenstillingen er de samme. Nøyaktigheten av testen bestemmes av <a href="#matchaxisndigits" class="">matchAxisNDigits</a> , som angir det totale antall siffer som må matche ved testing av dobbel presisjonsakseverdier, 0 - 18 (standard) .. Når du tester flyteakseverdier, utføres testen med matchAxisNDigits/2-siffer. En verdi på 18 eller høyere forteller EDDGrid å gjøre en eksakt test. En verdi på 0 forteller EDDGrid ikke å gjøre noen test, som ikke anbefales, bortsett fra som beskrevet nedenfor.</li>
</ul>
<p>Selv om EDDGrid tillater komponentene i sammenstillingen å ha litt forskjellige akseverdier, kun ett sett med akseverdier er vist for brukeren. Settet er fra samme komponent som gir datasettets kildemetadata. For eksempel EDDGrid FraFiles datasett, som er spesifisert av&lt;MetadataFra&gt; innstilling (standard=sist) ..</p>
<p>Bruk av matchAxisNDigits -=0 er sterkt mislykket i de fleste tilfeller, fordi det slår av all kontroll. Selv minimal kontroll er nyttig fordi det sikrer at komponentene er egnet for aggregering. Vi antar alle at alle komponentene er egnet, men det er ikke alltid det. Dette er således en viktig sunnhetstest. Selv verdier av matchAxisNDigits1, 2, 3 eller 4 er mislykket fordi de forskjellige akseverdier ofte indikerer at komponentene ble opprettet (-Binned?) en annen måte og er dermed ikke egnet for sammenstilling.</p>
<p>Det er ett tilfelle hvor bruk av matchAxisNDigits-=0 er nyttig og anbefalt: med sammenlegginger av fjernfiler, f.eks. data i S3-bøtter. I dette tilfellet, hvis datasettet bruker cacheFromUrl, cacheSizeGB, matchAxisNDigits -=0, og EDDGrid FraFiles system for <a href="#aggregation-via-file-names-or-global-metadata" class="">aggregering via Filnavn</a> , så EDDGrid trenger ikke å lese alle eksterne filer for å gjøre sammenslåingen. Dette gjør det mulig å laste datasett fra data i S3 bøtter veldig raskt (i motsetning til absurd sakte hvis EDDGrid må laste ned og lese alle filene) ..</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="nthreads">&lt;nThreads&gt;<a href="#nthreads" class="hash-link" aria-label="Direkte lenke til&lt;nThreads&gt;" title="Direkte lenke til&lt;nThreads&gt;" translate="no">​</a></h4>
<ul>
<li class="">Begynner med ERDDAP™ versjon 2.00, når noen underklasse av EDDTableFromFiler eller EDDGrid leser data fra sin kilde, det kan lese en del av data (For eksempel en kildefil) om gangen (i en tråd)   (Det er standard) Mer enn én del data (f.eks. 2+ kildefiler) om gangen (i 2 eller flere tråder) under behandlingen av hver forespørsel.
 <!-- -->
<ul>
<li class="">
<p>Tummelregel:
For de fleste datasett på de fleste systemer, bruk nThreads=1, standard. Hvis du har en kraftig datamaskin (Mange CPU kjerner, mye minne) , deretter vurdere innstilling nThreads til 2, 3, 4 eller høyere (Men aldri mer enn antall CPU kjerner i datamaskinen) for datasett som kan være til nytte:</p>
<ul>
<li class="">De fleste EDDTableFromFiles datasett vil dra nytte av.</li>
<li class="">Datasett der noe forårsaker et lag før en bit data faktisk kan behandles, vil for eksempel:<!-- -->
<ul>
<li class="">Datasett med <a href="#externally-compressed-files" class="">eksternt komprimert (f.eks. .gz ) </a> binær (f.eks. .nc ) filer, fordi ERDDAP™ må dekomprimere hele filen før den kan begynne å lese filen.</li>
<li class="">Datasett som bruker <a href="#cachefromurl" class="">cacheSizeGB</a> fordi ERDDAP™ Ofte må du laste ned filen før den kan lese den.</li>
<li class="">Datasett med datafiler som er lagret på et høybåndsbreddeparallelt filsystem, fordi det kan levere mer data, raskere, etterspørsel. Eksempler på parallelle filsystemer inkluderer <a href="https://en.wikipedia.org/wiki/Non-RAID_drive_architectures" target="_blank" rel="noopener noreferrer" class="">JBOD</a> , <a href="http://www.pnfs.com/" target="_blank" rel="noopener noreferrer" class="">pNFS</a> , <a href="https://en.wikipedia.org/wiki/Gluster" target="_blank" rel="noopener noreferrer" class="">GlusterFS</a> Amazon S3, og Google Cloud Storage.
 </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Advarsel: Når du bruker nThreads&gt;1, hold øye med ERDDAP minnebruk, trådbruk og total responsivitet (se <a class="" href="/nb/docs/server-admin/additional-information#status-page"> ERDDAP statussiden</a> ) .. Se kommentarer om disse problemene nedenfor.
 </p>
<ul>
<li class="">
<p>For et gitt datasett kan denne nThreads-innstillingen komme fra forskjellige steder:</p>
<ul>
<li class="">Hvis datasets.xml bit for et datasett har en&lt;nThreads&gt; tag (innenfor&lt;datasett&gt; tag, ikke som en global attributt) med en verdi &gt;= 1, den verdien av nThreads brukes. Du kan angi et annet tall for hvert datasett.</li>
<li class="">Ellers hvis datasets.xml har en&lt;nTreads&gt; tag (for EDDTable FraFiles datasett) eller&lt;nGridThreads&gt; tag (for EDDGrid Datasett) med en verdi &gt;= 1 utenfor et&lt;datasett&gt; tag, den verdien av nThreads brukes.</li>
<li class="">Ellers brukes 1 tråd, som er et trygt valg siden den bruker den minste mengden minne.
 </li>
</ul>
</li>
</ul>
<p>For <a href="https://coastwatch.pfeg.noaa.gov/erddap/index.html" target="_blank" rel="noopener noreferrer" class="">opprinnelig ERDDAP™ installasjon</a> Vi bruker
&lt;nTabellTreads &gt; 6&lt;/nThreads &gt; (Det er en kraftig server.) Vanskelige forespørsler tar nå 30 % av forrige gang.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="monitor-resource-usage">Overvåk ressursbruk<a href="#monitor-resource-usage" class="hash-link" aria-label="Direkte lenke tilOvervåk ressursbruk" title="Direkte lenke tilOvervåk ressursbruk" translate="no">​</a></h5>
<p>Når du eksperimenterer med forskjellige nThreads-innstillinger (og kanskje gjøre vanskelige prøveforespørsler til din ERDDAP ) , kan du overvåke datamaskinens ressursbruk:</p>
<ul>
<li class="">På Macs, bruk Finder : Programmer : Verktøy : Aktivitetsovervåkning</li>
<li class="">På Linux, bruk toppen</li>
<li class="">På Windows 10, bruk <em>Ctrl + Skift + Esc</em> å åpne oppgavehåndtering
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="warning-decreased-responsiveness">Advarsel: Nedsatt respons<a href="#warning-decreased-responsiveness" class="hash-link" aria-label="Direkte lenke tilAdvarsel: Nedsatt respons" title="Direkte lenke tilAdvarsel: Nedsatt respons" translate="no">​</a></h5>
<p>isolert, ERDDAP™ vil oppfylle en forespørsel til et datasett med høyere nThreads innstilling raskere enn om nThreads=1. Men mens forespørselen behandles, vil andre forespørsler fra andre brukere bli noe overfylt og få en langsommere respons. Også når ERDDAP™ Svar på en gitt forespørsel, andre databehandlingsressurser (f.eks. tilgang til diskstasjon, båndbredde) kan være begrensende, spesielt med høyere nThreads innstillinger. Så med høyere nThreads innstillinger, vil det generelle systemet responsivitet være verre når det er flere forespørsler som behandles - dette kan være veldig irriterende for brukerne! På grunn av dette: Sett aldri nThreads til mer enn antall CPU kjerner i datamaskinen. nThreads=1 er den vakreste innstillingen siden hver forespørsel (blant flere samtidige forespørsler) vil få like stor andel av databehandlingsressursene. Men jo kraftigere datamaskinen, jo mindre vil dette være et problem.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="warning-higher-memory-use-for-eddgrid-datasets">Advarsel: Høyere hukommelse Bruk av EDDGrid Datasett<a href="#warning-higher-memory-use-for-eddgrid-datasets" class="hash-link" aria-label="Direkte lenke tilAdvarsel: Høyere hukommelse Bruk av EDDGrid Datasett" title="Direkte lenke tilAdvarsel: Høyere hukommelse Bruk av EDDGrid Datasett" translate="no">​</a></h5>
<p>Minnebruk under behandling av forespørsler er direkte proporsjonal med nThreads-innstillingen. En rimelig trygg tommelfingerregel er: du må sette <a class="" href="/nb/docs/server-admin/deploy-install#memory"> ERDDAP minneinnstillinger</a> minst 2GB + (2GB \* nThreads) .. Noen forespørsler til noen datasett trenger mer minne enn det. For eksempel, innstilling nThreads=3 for noen EDDGrid datasett betyr at innstillingen -Xmx bør være minst -Xmx8000M. Hvis minneinnstillingen er større enn 3/4 det fysiske minnet til datamaskinen, redusere nThreads-innstillingen slik at du kan redusere minneinnstillingen.</p>
<p>Minnebruken av tråder som behandler forespørsler til EDDTable-datasett er nesten alltid lavere fordi filene vanligvis er mye mindre. Men hvis et gitt EDDTable datasett har stor (f.eks. &gt;=1 GB) datafiler, så kommer kommentarene ovenfor også til å gjelde disse datasettene.</p>
<p>Uavhengig av NThreads-innstillingen, hold et tett øye med minnebruksstatistikken på din <a class="" href="/nb/docs/server-admin/additional-information#status-page"> ERDDAP statussiden</a> .. Du bør aldri komme nær til maxing ut minnebruk i ERDDAP Ellers vil det være alvorlige feil og feil.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="temporarily-set-to-1">Midlertidig sett til 1<a href="#temporarily-set-to-1" class="hash-link" aria-label="Direkte lenke tilMidlertidig sett til 1" title="Direkte lenke tilMidlertidig sett til 1" translate="no">​</a></h5>
<p>Hvis dagens minnebruk er litt høy, ERDDAP™ vil sette nThreads for denne anmodningen til 1. Derfor ERDDAP™ Bevarer hukommelse når minnet er lite.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="diminishing-returns">Diminishing retur<a href="#diminishing-returns" class="hash-link" aria-label="Direkte lenke tilDiminishing retur" title="Direkte lenke tilDiminishing retur" translate="no">​</a></h5>
<p>Det er redusert avkastning til å øke nThreads innstillingen: 2 tråder vil være mye bedre enn 1 (Hvis vi ignorerer dynamisk overklokking) .. 3 vil være bare en bit bedre enn 2. 4 vil være marginalt bedre enn 3.</p>
<p>I en test av en vanskelig spørring til et stort EDDTable-datasett var responstiden ved bruk av 1, 2, 3, 4, 5, 6 tråder 38, 36, 20, 18, 13, 11 sekunder. (Nå bruker vi nTableThreads=6 på den serveren.)</p>
<p>nThreads=2: Selv om det ofte er en betydelig fordel å spesifisere nThreads=2 i stedet for nThreads=1, vil det ofte ikke gjøre mye forskjell i den klokketiden som kreves for å svare på en gitt brukers forespørsel. Årsaken er: med nThreads=1, mest moderne CPU vil ofte <a href="https://en.wikipedia.org/wiki/Intel_Turbo_Boost" target="_blank" rel="noopener noreferrer" class="">Dynamisk overklokke</a>   (Turbo boost) å midlertidig øke klokkehastigheten til CPU. Således vil den ene kjernen ofte jobbe med en høyere klokkehastighet enn hver av de to kjernene hvis du bruker nThreads=2. Uansett mener vi fortsatt at det er bedre å bruke nThreads=2 i stedet for nThreads=1, siden den innstillingen vil gi bedre resultater i en bredere rekke situasjoner. Og selvfølgelig, hvis datamaskinen din har tilstrekkelige CPU kjerner, bør en enda høyere nThreads innstilling gi bedre resultater.</p>
<p>Som diskutert ovenfor, kan svært høye nThreads innstillinger føre til raskere svar på noen forespørsler, men risikoen for totalt redusert ERDDAP™ responsivitet og høy minnebruk (som nevnt ovenfor) Mens disse forespørsler behandles betyr det generelt ikke en god ide.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="cpu-cores">CPU Cores<a href="#cpu-cores" class="hash-link" aria-label="Direkte lenke tilCPU Cores" title="Direkte lenke tilCPU Cores" translate="no">​</a></h5>
<p>Du bør aldri sette nThreads til et tall større enn antall CPU kjerner i datamaskinens CPU. I hovedsak alle moderne CPUer har flere kjerner (f.eks. 2, 4 eller 8) .. Noen datamaskiner har til og med flere CPUer (For eksempel 2 CPUer \ * 4 kjerner/CPU = 8 CPU kjerner) .. For å finne ut hvor mange CPUer og kjerner en datamaskin har:</p>
<ul>
<li class="">På Macs, bruk <em>Valgnøkkel</em> : Apple Menu : Systeminformasjon</li>
<li class="">På Linux, bruk katt /proc / cpuinfo</li>
<li class="">På Windows 10, bruk <em>Ctrl + Skift + Esc</em> Å åpne Oppgaveleder: Performance (Logiske prosessorer viser det totale antall CPU-kjerner)</li>
</ul>
<p>Ja, de fleste prosessorer i disse dager sier at de støtter 2 tråder per kjerne (via <a href="https://en.wikipedia.org/wiki/Hyper-threading" target="_blank" rel="noopener noreferrer" class="">Hyper-treading</a> ) , men de 2 trådene deler datamaskinressurser, så du vil ikke se dobbelt gjennomløp på en CPU under tung belastning. For eksempel kan en datamaskin med én CPU med 4 kjerner hevde å støtte inntil 8 tråder, men du bør aldri overstige nThreads=4 i det ERDDAP .. Husk det:</p>
<ul>
<li class="">NThreads innstilling i ERDDAP™ er per forespørsel. ERDDAP™ Ofte håndterer flere forespørsler samtidig.</li>
<li class="">ERDDAP™ gjør ting annet enn prosessforespørsler, f.eks. reload datasett.</li>
<li class="">Når ERDDAP™ Svar på en gitt forespørsel, andre databehandlingsressurser (f.eks. tilgang til diskstasjon, båndbredde) kan være begrensende. Jo høyere du setter nThreads, jo mer sannsynlig at disse andre ressursene vil bli maxed ut og vil bremse ERDDAP generell respons.</li>
<li class="">Operativsystemet gjør noe annet enn å kjøre ERDDAP ..</li>
</ul>
<p>Så det er best å ikke angi nThreads innstilling til mer enn antall kjerner i datamaskinens CPU.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="your-mileage-may-vary-ymmv">Mileage May Vary (YMMV)<a href="#your-mileage-may-vary-ymmv" class="hash-link" aria-label="Direkte lenke tilMileage May Vary (YMMV)" title="Direkte lenke tilMileage May Vary (YMMV)" translate="no">​</a></h5>
<p>Resultatene av ulike nThreads innstillinger vil variere mye for ulike forespørsler til ulike datasett på ulike systemer. Hvis du virkelig vil vite effekten av forskjellige nThreads innstillinger, kjøre realistiske tester.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-nthreads-per-request">Hvorfor nThreads per forespørsel?<a href="#why-nthreads-per-request" class="hash-link" aria-label="Direkte lenke tilHvorfor nThreads per forespørsel?" title="Direkte lenke tilHvorfor nThreads per forespørsel?" translate="no">​</a></h5>
<p>Jeg kan høre noen av dere tenker &quot; hvorfor er NThreads per forespørsel? Hvis jeg kodet dette, ville jeg bruke en permanent arbeider tråd basseng og en melding kø for bedre ytelse - Problemet med å bruke et arbeidertrådbasseng og en melding kø er at en vanskelig forespørsel ville oversvømme køen med mange sakte oppgaver. Dette vil effektivt blokkere ERDDAP™ fra til og med å starte arbeidet med oppgaver relatert til andre forespørsler til den opprinnelige forespørselen var (i hovedsak) Ferdig. Således vil selv enkle etterfølgende forespørsler svare super sakte. ERDDAP bruk av nThreads per forespørsel fører til en mye mer rettferdig bruk av databehandlingsressurser.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="nthreads-vs-multiple-worker-computers">nThreads vs Flere arbeidere datamaskiner<a href="#nthreads-vs-multiple-worker-computers" class="hash-link" aria-label="Direkte lenke tilnThreads vs Flere arbeidere datamaskiner" title="Direkte lenke tilnThreads vs Flere arbeidere datamaskiner" translate="no">​</a></h5>
<p>Dessverre, ERDDAP nThreads-systemet vil aldri være like effektivt som sant parallellisering via flere arbeidsdatamaskiner, med hver arbeider på en bit data, på den måten at Hadoop eller Apache Spark vanligvis brukes. Når oppgaven virkelig er parallellisert/distribuert til flere datamaskiner, kan hver datamaskin bruke alle sine ressurser på sin del av oppgaven. Med ERDDAP NThreads-systemet konkurrerer hver av trådene for samme datamaskins båndbredde, diskstasjoner, minne osv. Dessverre har de fleste av oss ikke ressurser eller midler til å opprette eller til og med leie. (på Amazon Web Services (AWS) Google Cloud Platform (GCP) ) Store nettverk av datamaskiner. I motsetning til en relasjonsdatabase som kan returnere resultatlinjene i enhver rekkefølge, ERDDAP™ gjør et løfte om å returnere resultatlinjene i en konsekvent rekkefølge. Denne begrensningen gjør ERDDAP NThreads implementasjon mindre effektiv. Men ERDDAP NThreads er i mange tilfeller nyttig.</p>
<p>Men det finnes måter å gjøre ERDDAP™ skala til å håndtere et stort antall forespørsler raskt ved å etablere en <a class="" href="/nb/docs/server-admin/scaling">rutenett/cluster/føderasjon av ERDDAP s</a> ..
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="palettes">&lt;paletter&gt;<a href="#palettes" class="hash-link" aria-label="Direkte lenke til&lt;paletter&gt;" title="Direkte lenke til&lt;paletter&gt;" translate="no">​</a></h4>
<ul>
<li class="">Begynner med ERDDAP™ versjon 2.12 datasets.xml kan inkludere en&lt;paletter&gt; tag (innen&lt;erddapDatasett&gt;) som tilsidesetter&lt;paletter&gt; tag verdi fra messages.xml (eller tilbake til e-post.xml-verdien hvis merket i datasets.xml Er tom) .. Dette lar deg endre listen over tilgjengelige paletter mens ERDDAP™ Jeg løper. Det lar deg også gjøre en endring og har det vedvarer når du installerer en ny versjon av ERDDAP ..
ADVARSEL: Paletene som er oppført i datasets.xml må være et supersett av palettene som er oppført i messages.xml; ellers ERDDAP™ vil kaste et unntak og slutte å behandle datasets.xml .. Dette sikrer at alle ERDDAP™ installasjonene støtter i det minste de samme kjernepalettene.
ADVARSEL: ERDDAP™ sjekker at palettfilene som er angitt i messages.xml faktisk eksisterer, men det sjekker ikke palettfilene som er oppført i datasets.xml .. Det er ditt ansvar å sikre at filene er tilstede.</li>
</ul>
<p>Også å begynne med ERDDAP™ versjon 2.12, hvis du gjør en cptfiles underkatalog i ERDDAP™ innholdskatalog, ERDDAP™ vil kopiere alle \*.cpt-filene i den katalogen til \[ tomcat \] /webapps/erddap/WEB-INF/cptfiles-katalog hver gang ERDDAP™ Begynner. Hvis du legger egendefinerte cpt-filer i den katalogen, vil disse filene bli brukt av ERDDAP™ , uten ekstra innsats fra din side, selv når du installerer en ny versjon av ERDDAP ..</p>
<p>ADVARSEL: Hvis du legger til egendefinerte paletter i din ERDDAP™ og du har EDDGrid FraErddap og/eller EDDTableFromErddap-datasett i dine ERDDAP™ , vil brukerne se dine egendefinerte palettalternativer på ERDDAP™ Lage en grafisk websider, men hvis brukeren prøver å bruke dem, får de en graf med standard (Vanligvis Rainbow) palett. Dette er fordi bildet er laget av fjernkontrollen ERDDAP™ som ikke har egendefinert palett. De eneste løsningene nå er å e-poste fjernkontrollen ERDDAP™ administrator for å legge dine egendefinerte paletter til hans/hennes ERDDAP Eller e-post til Chris. John på noaa.gov å be om at palettene legges til standarden ERDDAP™ Fordeling.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="onchange">&lt;onChange&gt;<a href="#onchange" class="hash-link" aria-label="Direkte lenke til&lt;onChange&gt;" title="Direkte lenke til&lt;onChange&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;onChange&gt; ** ] (#onchange) er et valgfritt tag i et&lt;datasett&gt; tag in datasets.xml som angir en handling som vil bli gjort når dette datasettet opprettes (Når ERDDAP™ på nytt) og når dette datasettet endres på noen måte.<!-- -->
<ul>
<li class="">For øyeblikket, for EDDGrid underklasser, alle endringer i metadata eller til en aksevariabel (For eksempel et nytt tidspunkt for data i nærheten av sanntid) anses som en endring, men en reloading av datasettet anses ikke som en endring (i seg selv) ..</li>
<li class="">For tiden, for EDDTable-underklasser, regnes enhver reloading av datasettet som en endring.</li>
<li class="">I dag er det bare to typer handlinger tillatt:<!-- -->
<ul>
<li class="">&quot;http://&quot;ellerhttps://&quot;-- Hvis handlingen starter medhttp://&quot;ellerhttps://&quot;, ERDDAP™ vil sende et HTTP GET forespørsel til den angitte URL. Svaret vil bli ignorert. For eksempel kan URL-adressen fortelle noen andre webtjenester å gjøre noe.<!-- -->
<ul>
<li class="">Hvis URL-en har en spørringsdel (etter) Det må allerede være <a href="https://en.wikipedia.org/wiki/Percent-encoding" target="_blank" rel="noopener noreferrer" class="">prosent kodet</a> .. Du må kode spesielle tegn i begrensningene (annet enn den opprinnelige &quot;&amp;&quot; og den viktigste &#x27;=&#x27; i begrensninger) inn i formen %HH, hvor HH er den 2-siffers heksadesimale verdien av tegnet. Vanligvis trenger du bare å konvertere noen av tegntegnene: % til %25, og til %26, &quot; til %22,&lt;i% 3C, = i% 3D, &gt; i% 3E, + i% 2B, | til %7C, \[ til %5B, \] til %5D, mellomrom til %20, og konvertere alle tegn over #127 til deres UTF-8-form og deretter prosent kode hver byte av UTF-8-formen til %H-format (spør en programmerer om hjelp) ..
For eksempel, &amp; stationID &gt;=-41004&quot;
blir &amp; stationID %3E=%2241004%22
Prosent koding er vanligvis nødvendig når du får tilgang til ERDDAP via annen programvare enn en nettleser. Browsere håndterer vanligvis prosent koding for deg.
I noen situasjoner, må du prosent kode alle andre tegn enn A-Za-z0-9-_-!. ~ &quot; () \*, men likevel ikke kode den opprinnelige &#x27;&amp;&#x27; eller den viktigste &#x27;=&#x27; i begrensninger.
Programmeringsspråk har verktøy for å gjøre dette (for eksempel se Java &#x27;s <a href="https://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html" target="_blank" rel="noopener noreferrer" class=""> java.net.URLEncoder </a> og Java Scripts [encodeURIComponent()] (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent" target="_blank" rel="noopener noreferrer" class="">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent</a>) ) og det er
<a href="https://www.url-encode-decode.com/" target="_blank" rel="noopener noreferrer" class="">nettsteder som prosent kode/kode for deg</a> ..</li>
<li class="">Siden datasets.xml er en XML-fil, du må også &amp; kode ALL &#x27;&amp;&#x27;, &#x27;&lt;&#x27;, og &#x27;&gt;&#x27; i URL som &#x27;&amp;&#x27;, &#x27;&lt;&#x27;, og &#x27;&gt;&#x27; etter prosent koding.</li>
<li class="">Eksempel: For en URL du kan skrive inn i en nettleser som:
<a href="https://www.company.com/webService?department=R%26D&amp;param2=value2" target="_blank" rel="noopener noreferrer" class="">https://www.company.com/webService?department=R%26D&amp;param2=value2</a><br>
<!-- -->Du bør angi en&lt;onChange&gt; tag via (på én linje)</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;onChange&gt;https://www.company.com/webService?department=R%26D&amp;amp;param2=value2&lt;/onChange&gt;</span><br></span></code></pre></div></div>
</li>
<li class="">postto: -- Hvis handlingen starter med &quot;mailto:&quot;, ERDDAP™ vil sende en e-post til den påfølgende e-postadressen som indikerer at datasettet er oppdatert/ endret.
For eksempel:&lt;onChange&gt;mailto<!-- -->:john<a href="mailto:.smith@company.com" target="_blank" rel="noopener noreferrer" class="">.smith@company.com</a>&lt;/onChange&gt; Hvis du har en god grunn til ERDDAP™ For å støtte en annen type handling, send oss en e-post som beskriver det du vil ha.</li>
</ul>
</li>
<li class="">Denne etiketten er valgfri. Det kan være så mange tagger som du vil. Bruk en av disse taggene for hver handling som skal utføres.</li>
<li class="">Dette er analogt med ERDDAP e-post/URL-abonnement, men disse handlingene lagres ikke vedvarende (De lagres bare i et EDD-objekt.) ..</li>
<li class="">For å fjerne et abonnement, bare fjerne&lt;onChange&gt; tag. Endringen vil bli notert neste gang datasettet lastes på nytt.
 </li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="reloadeverynminutes">&lt;reloadEveryNMinutes&gt;<a href="#reloadeverynminutes" class="hash-link" aria-label="Direkte lenke til&lt;reloadEveryNMinutes&gt;" title="Direkte lenke til&lt;reloadEveryNMinutes&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;Last på nytt Hver NMinutes &gt; ** ] (#reloadvarelser) er et valgfritt tag i et&lt;datasett&gt; tag in datasets.xml av nesten alle datasettstyper som angir hvor ofte datasettet skal lastes på nytt. For eksempel<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;reloadEveryNMinutes&gt;60&lt;/reloadEveryNMinutes&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">
<p>Datasett som endrer seg ofte (For eksempel, få nye datafiler) Skal lastes på ofte, for eksempel hvert 60. minutt.</p>
</li>
<li class="">
<p>Datasett som endres sjeldent bør lastes på nytt, for eksempel hvert 1440 minutt. (daglig) 10080 minutter (ukentlig) ..</p>
</li>
<li class="">
<p>Denne etiketten er valgfri, men anbefalt. Standarden er 10080.</p>
</li>
<li class="">
<p>Et eksempel er:&lt;reloadEveryNMinutes&gt;1440&lt;/ reload Hver NMinutes &gt;</p>
</li>
<li class="">
<p>Når et datasett lastes på nytt, alle filer i <em>bigParentDirectory</em> /cache/ * datasetID * Katalogen slettes.</p>
</li>
<li class="">
<p>Uansett hva dette er satt til, vil ikke et datasett lastes oftere enn&lt;loadDatasettMinMinminuter &gt; (standard = 15) som angitt i <a class="" href="/nb/docs/server-admin/deploy-install#setupxml">config.xml</a> .. Så hvis du vil at datasett skal lastes på nytt svært ofte, må du angi både reloadEveryNMinutes og lastDatasett MinMinutes til små verdier.</p>
</li>
<li class="">
<p>Ikke sett reloadEveryNMinutes til samme verdi som lastdatasett MinMinutes, fordi den forløpte tiden sannsynligvis vil være (For eksempel) 14:58 eller 15:02, så datasettet vil bare bli reloadet i omtrent halvparten av de store reloads. Bruk i stedet mindre (For eksempel 10) eller større (For eksempel 20) Last på nytt Hver NMinutes verdi.</p>
</li>
<li class="">
<p>Uansett reloadEveryNMinutes, kan du manuelt fortelle ERDDAP™ å laste om et bestemt datasett så snart som mulig via en <a class="" href="/nb/docs/server-admin/additional-information#flag">flaggfil</a> ..</p>
</li>
<li class="">
<p>For nysgjerrige programmerere -- i ERDDAP™ , reloading av alle datasett håndteres av to enkelt formål tråder. En tråd starter en mindre reload hvis den finner en flaggfil eller en større reload (som kontrollerer alle datasett for å se om de må lastes på nytt) .. Den andre tråden gjør faktisk reload av datasettene en om gangen. Disse trådene fungerer i bakgrunnen som sikrer at alle datasett holdes oppdatert. Tråden som faktisk gjør reloads forbereder en ny versjon av et datasett og bytter det til plass (i hovedsak erstatte den gamle versjonen atomisk) .. Så det er svært mulig at følgende sekvens av hendelser oppstår (Det er bra.) :)</p>
<ol>
<li class="">ERDDAP™ begynner å laste om et datasett (å lage en ny versjon) i bakgrunnen.</li>
<li class="">Bruker &#x27;A&#x27; forespørsel til datasettet. ERDDAP™ bruker den aktuelle versjonen av datasettet til å opprette svaret. (Det er bra. Det var ingen forsinkelse for brukeren, og den nåværende versjonen av datasettet bør aldri være veldig utholdenhet.)</li>
<li class="">ERDDAP™ fullfører å opprette den nye reloadede versjonen av datasettet og bytter ut den nye versjonen til produksjon. Alle etterfølgende nye forespørsler håndteres av den nye versjonen av datasettet. For konsistens blir brukerens A-forespørsel fortsatt fylt av den opprinnelige versjonen.</li>
<li class="">Bruker &quot;B&quot; forespørsel til datasettet og ERDDAP™ bruker den nye versjonen av datasettet til å lage svaret.</li>
<li class="">Etter hvert er brukerens og brukerens forespørsler fullført (Kanskje A er ferdig først, kanskje B er ferdig først) ..</li>
</ol>
</li>
</ul>
</li>
</ul>
<p>Jeg kan høre noen si: Bare to thredds! Ha! Det er lamt! Han bør sette opp det slik at reloading av datasett bruker så mange tråder som nødvendig, slik at alt blir gjort raskere og med lite eller ingen lag.&quot; Ja og nei. Problemet er at lasting av mer enn ett datasett om gangen skaper flere harde nye problemer. Alle må løses eller håndteres. Systemet fungerer bra og har håndterbare problemer (For eksempel, potensial for lag før et flagg blir lagt merke til) .. (Hvis du trenger hjelp til å håndtere dem, se vår <a class="" href="/nb/docs/intro#support">Seksjon om å få ekstra støtte</a> ..) Den relaterte <a href="#updateeverynmillis" class="">Oppdater EveryNMillis</a> . systemet fungerer i responstråder, så det kan og fører til at flere datasett oppdateres (Ikke hele reloaden) samtidig.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="proactive-vs-reactive">Proactive vs. Reactive<a href="#proactive-vs-reactive" class="hash-link" aria-label="Direkte lenke tilProactive vs. Reactive" title="Direkte lenke tilProactive vs. Reactive" translate="no">​</a></h5>
<p>ERDDAP reload systemet er proaktivt - datasettene lastes på nytt kort tid etter reload Hver NMinutes-tid er på tide (Det vil si at de blir &quot;stale&quot;, men aldri veldig utholdenhet) , om datasettet får forespørsler fra brukere eller ikke. Så ERDDAP™ Datasett er alltid oppdaterte og klare til bruk. Dette er i motsetning til THREDDS&#x27; reaktive tilnærming: en brukers forespørsel er det som forteller THREDDS å sjekke om et datasett er stabilt (Det kan være veldig stabilt) .. Hvis det er utholdenhet, gjør TREDDS brukeren vente (Ofte i noen minutter) mens datasettet lastes på nytt.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="updateeverynmillis">&lt;Oppdater EveryNMillis&gt;<a href="#updateeverynmillis" class="hash-link" aria-label="Direkte lenke til&lt;Oppdater EveryNMillis&gt;" title="Direkte lenke til&lt;Oppdater EveryNMillis&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;OppdaterEveryNMillis&gt; ** ] (#updatevardenmillis) er et valgfritt tag i et&lt;datasett&gt; tag in datasets.xml noen datasett typer som hjelper ERDDAP™ jobbe med datasett som endres svært ofte (så ofte som omtrent hvert sekund) .. I motsetning til ERDDAP er jevnlig, proaktiv, [&lt;Last på nytt EveryNMinutes&gt;] (#reloadvarelser) systemet for å fullstendig laste opp hvert datasett, dette valgfrie tilleggssystemet er reaktivt (utløst av en brukerforespørsel) og raskere fordi det er gradvis (Oppdatere informasjonen som må oppdateres) .. For eksempel hvis en forespørsel til en EDDGrid FraDap datasett forekommer mer enn det angitte antall millisekunder siden den siste oppdateringen, ERDDAP™ vil se om det er nye verdier for venstre (Først, vanligvis &quot;time&quot; ) dimensjon og i så fall bare laste ned de nye verdiene før håndtering av brukerens forespørsel. Dette systemet er veldig bra til å holde en raskt skiftende datasett oppdatert med minimale krav til datakilden, men til kostnad av å senke behandlingen av noen brukerforespørsler.<!-- -->
<ul>
<li class="">For å bruke dette systemet, legg til (For eksempel) :)<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;updateEveryNMillis&gt;1000&lt;/updateEveryNMillis&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
</li>
</ul>
<p>rett etter&lt;reloadEveryNMinutes &gt; Tagge til datasettet i datasets.xml .. Antall millisekunder du angir kan være så lite som 1 (For å sikre at datasettet alltid er oppdatert) .. En verdi på 0 (standard) Eller et negativt tall slår av systemet.</p>
<ul>
<li class="">På grunn av sin gradvise natur, bør oppdateringer avsluttes veldig raskt, så brukerne bør aldri måtte vente lenge.</li>
<li class="">Hvis en annen forespørsel om data kommer før den forrige oppdateringen er fullført, vil den andre forespørselen ikke utløse en annen oppdatering.</li>
<li class="">Gjennom hele dokumentasjonen vil vi forsøke å bruke ordet &quot; reload&quot; for regelmessige, fulle datasett reloads og &quot; oppdatert&quot; for disse nye trinnvise, delvise oppdateringene.</li>
<li class="">For å teste, er noen diagnoser trykt for å logge.txt hvis [&lt;loggnivå&gt;] (#loglevel) i datasets.xml er satt til &quot; alle&quot;.</li>
<li class="">Hvis du bruker trinnvise oppdateringer og spesielt hvis venstre (først) , for eksempel tid, aksen er stor, kan du ønske å sette&lt;reloadEveryNMinutes&gt; til et større antall (1440?) , slik at oppdateringer gjør det meste av arbeidet for å holde datasettet oppdatert, og fulle reloads gjøres sjelden.</li>
<li class="">Merk: Dette nye oppdateringssystemet oppdaterer metadata (For eksempel tid actual\_range , time\_coverage\_end, ...) Men utløser ikke onChange (e-post eller berøringsadresse) eller endre RSS fôring (Kanskje det burde...) ..</li>
<li class="">For alle datasett som bruker underklasser av <a href="#eddgridfromfiles" class=""> EDDGrid FraFiles</a> og <a href="#eddtablefromfiles" class="">EDDTableFra Filer</a> :)<!-- -->
<ul>
<li class=""><strong>ADVARSEL:</strong> når du legger til en ny datafil i et datasett ved å kopiere den i katalogen som ERDDAP™ Se på, det er en fare for at ERDDAP™ vil legge merke til den delvis skrevete filen; prøv å lese den, men mislykkes fordi filen er ufullstendig; erklære filen å være en &quot;bad&quot; fil og fjerne den (midlertidig) fra datasettet.
For å unngå dette, vi <strong>STRONGGJENNOM</strong> som du kopierer en ny fil til katalogen med et midlertidig navn (for eksempel 20150226 .nc Tmp) som ikke samsvarer med datasett-filen NameRegex (\*\ .nc ) Endre navn på filen til riktig navn (for eksempel 20150226 .nc ) .. Hvis du bruker denne metoden, ERDDAP™ vil ignorere den midlertidige filen og bare legge merke til den riktig navngitte filen når den er ferdig og klar til å brukes.</li>
<li class="">Hvis du endrer eksisterende datafiler på plass (for eksempel å legge til et nytt datapunkt) ,&lt;oppdaterEveryNMillis&gt; vil fungere bra hvis endringene vises atomisk (På et øyeblikk) og filen er alltid en gyldig fil. For eksempel tillater netcdf-java-biblioteket tillegg til den ubegrensede dimensjonen av en &quot;klassisk&quot; .nc v3-fil som skal gjøres atomisk.
&lt;OppdaterEveryNMillis&gt; vil fungere dårlig hvis filen er ugyldig mens endringene gjøres.</li>
<li class="">&lt;OppdaterEveryNMillis&gt; vil fungere bra for datasett der en eller noen få filer endres på kort tid.</li>
<li class="">&lt;oppdaterEveryNMillis&gt; vil fungere dårlig for datasett der et stort antall filer endres på kort tid (med mindre endringene virker atomisk) .. For disse datasettene er det bedre å ikke bruke&lt;oppdaterEveryNMillis&gt; og å sette en <a class="" href="/nb/docs/server-admin/additional-information#set-dataset-flag">flagg</a> å fortelle ERDDAP™ Last datasettet på nytt.</li>
<li class="">&lt;OppdaterEveryNMillis&gt; oppdaterer ikke informasjonen tilknyttet [&lt; subsetVariables &gt;] (#subsetvariables) .. Normalt er dette ikke et problem, fordi subsetVariables Har informasjon om ting som ikke endrer seg så ofte (f.eks. listen over stasjonsnavn, breddegrader og lengdegrader) .. Hvis subsetVariables Dataendringer (For eksempel, når en ny stasjon legges til datasettet) Kontakt deretter <a class="" href="/nb/docs/server-admin/additional-information#set-dataset-flag">flagg URL</a> for datasett å fortelle ERDDAP™ Last datasettet på nytt. Ellers ERDDAP™ vil ikke legge merke til den nye underdelen Variable opplysninger til neste gang datasettet lastes på nytt (&lt;reloadEveryNMinutes&gt;)</li>
<li class="">Vår generelle anbefaling er å bruke:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;reloadEveryNMinutes&gt;1440&lt;/reloadEveryNMinutes&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;updateEveryNMillis&gt;10000&lt;/updateEveryNMillis&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">TROUBLE? På Linux datamaskiner, hvis du bruker&lt;OppdaterEveryNMillis&gt; med EDDGrid FraFiler eller EDDTableFra Filer klasser, kan du se et problem der et datasett ikke laster (Noen ganger eller konsekvent) med feilmeldingen: &quot;IOException: Brukergrense for inotify tilfeller nådd eller for mange åpne filer&quot;. Årsaken kan være en feil i Java som forårsaker inotify tilfeller som ikke samles inn. Dette problemet unngås i ERDDAP™ v1.66 og høyere. Så den beste løsningen er å bytte den nyeste versjonen av ERDDAP ..
Hvis det ikke løser problemet (dvs. hvis du har et veldig stort antall datasett ved hjelp av&lt;oppdaterEveryNMillis&gt;), kan du løse dette problemet ved å ringe:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo sysctl fs.inotify.max\\_user\\_watches=65536  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo sysctl fs.inotify.max\\_user\\_instances=1024  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo sysctl -p  </span><br></span></code></pre></div></div>
</li>
</ul>
</li>
</ul>
<p>Bruk høyere tall hvis problemet fortsetter. Standarden for klokker er 8192. Standarden for tilfeller er 128.</p>
<ul>
<li class="">Du kan sette&lt;oppdateringMaxEvents&gt;10&lt;/updateMaxEvents&gt; i datasets.xml   (i de andre innstillingene nær toppen) å endre det maksimale antall filendringer (standard=10) som vil bli behandlet av oppdateringenEveryNMillis systemet. Et større antall kan være nyttig for datasett der det er svært viktig at de alltid holdes oppdatert. Se <a href="#updatemaxevents" class="">oppdateringMaxEvents dokumentasjon</a> ..</li>
<li class="">For nysgjerrige programmerere - disse trinnvis oppdateringer, i motsetning til ERDDAP Full <a href="#reloadeverynminutes" class="">reloadEveryNMinutes</a> system, oppstår i brukerforespørsel tråder. Så kan alle datasett oppdateres samtidig. Det er kode (og en lås) for å sikre at bare én tråd fungerer på en oppdatering for et gitt datasett til enhver tid. Å tillate flere samtidige oppdateringer var enkelt; å tillate flere samtidige fulle reloads ville være vanskeligere.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcecanconstrainstringeqne">&lt;sourceCanConstrainStringEQNE&gt;<a href="#sourcecanconstrainstringeqne" class="hash-link" aria-label="Direkte lenke til&lt;sourceCanConstrainStringEQNE&gt;" title="Direkte lenke til&lt;sourceCanConstrainStringEQNE&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;sourceCanConstrainStringEQNE &gt; ** ] (#sourcecanconstrainstringeqne) er et valgfritt tag i en EDDTable&lt;datasett&gt; tag in datasets.xml som angir om kilden kan begrense strengvariabler med = og !=-operatører.<!-- -->
<ul>
<li class="">For EDDTableFromDapSekvens gjelder dette kun de ytre sekvensstrengvariabler. Det antas at kilden ikke kan håndtere noen begrensninger på indre sekvensvariabler.</li>
<li class="">Denne etiketten er valgfri. Gyldige verdier er sanne (standard) og falsk.</li>
<li class="">For EDDTableFromDapSequence OPeNDAP DRDS-servere, dette bør settes til sant (standard) ..</li>
<li class="">For EDDTableFromDapSequence Dapper servere, dette bør settes til falsk.</li>
<li class="">Et eksempel er:</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceCanConstrainStringEQNE&gt;true&lt;/sourceCanConstrainStringEQNE&gt;  </span><br></span></code></pre></div></div>
<p> </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcecanconstrainstringgtlt">&lt;canConstrainStringGTLT&gt;<a href="#sourcecanconstrainstringgtlt" class="hash-link" aria-label="Direkte lenke til&lt;canConstrainStringGTLT&gt;" title="Direkte lenke til&lt;canConstrainStringGTLT&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;canConstrainStringGTLT&gt; ** ] (#sourcecanconstrainstringgtlt) er et valgfritt tag i en EDDTable&lt;datasett&gt; tag som angir om kilden kan begrense strengvariabler med&lt;,&lt;=, &gt; og &gt;= operatører.<!-- -->
<ul>
<li class="">For EDDTableFromDapSekvens gjelder dette kun de ytre sekvensstrengvariabler. Det antas at kilden ikke kan håndtere noen begrensninger på indre sekvensvariabler.</li>
<li class="">Gyldige verdier er sanne (standard) og falsk.</li>
<li class="">Denne etiketten er valgfri. Standard er sant.</li>
<li class="">For EDDTableFromDapSequence OPeNDAP DRDS-servere, dette bør settes til sant (standard) ..</li>
<li class="">For EDDTableFromDapSequence Dapper servere, dette bør settes til falsk.</li>
<li class="">Et eksempel er:</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceCanConstrainStringGTLT&gt;true&lt;/sourceCanConstrainStringGTLT&gt;  </span><br></span></code></pre></div></div>
<p> </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcecanconstrainstringregex">&lt;canConstrainStringRegex&gt;<a href="#sourcecanconstrainstringregex" class="hash-link" aria-label="Direkte lenke til&lt;canConstrainStringRegex&gt;" title="Direkte lenke til&lt;canConstrainStringRegex&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;sourceCanConstrainStringRegex &gt; ** ] (#sourcecanconstrainstringregex) er et valgfritt tag i en EDDTable&lt;datasett&gt; tag som spesifiserer om kilden kan begrense strengvariabler ved vanlige uttrykk, og i så fall hva operatøren er.<!-- -->
<ul>
<li class="">Gyldige verdier er &quot;=~&quot; (den DAP standard) ,  &quot; ~ = &quot; (Feilaktig støttet av mange DAP servere) , eller &quot; (som indikerer at kilden ikke støtter regulære uttrykk) ..</li>
<li class="">Denne etiketten er valgfri. Standard er</li>
<li class="">For EDDTableFromDapSequence OPeNDAP DRDS-servere, dette bør settes til -- (standard) ..</li>
<li class="">For EDDTableFromDapSequence Dapper servere, dette bør settes til -- (standard) ..</li>
<li class="">Et eksempel er:</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceCanConstrainStringRegex&gt;=~&lt;/sourceCanConstrainStringRegex&gt;  </span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcecandodistinct">&lt;sourceCanDoDistinct&gt;<a href="#sourcecandodistinct" class="hash-link" aria-label="Direkte lenke til&lt;sourceCanDoDistinct&gt;" title="Direkte lenke til&lt;sourceCanDoDistinct&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;sourceCanDoDistinct &gt; ** ] (#sourcecandodistinct) er et valgfritt merke i en EDDTableFromDatabase&lt;datasett&gt; tag som angir om kildedatabasen skal håndtere &amp; skilt () begrensninger i brukerspørsmål.<!-- -->
<ul>
<li class="">Denne etiketten er valgfri. Gyldige verdier er ikke ( ERDDAP™ håndterer distinkt; standarden) , delvis (kilden håndterer tydelig og ERDDAP™ håndterer det igjen) , og ja (kilden håndterer tydelig) ..</li>
<li class="">Hvis du bruker nei og ERDDAP™ er ute av hukommelse når du håndterer distinkt, bruk ja.</li>
<li class="">Hvis du bruker ja og kildedatabasen håndterer tydelig for sakte, bruk nei.</li>
<li class="">delvis gir deg det verste av begge: det er langsom fordi databasen håndtering av distinkt er langsom og det kan gå tom for minne i ERDDAP ..</li>
<li class="">Databaser tolker DISTINCT som en forespørsel om bare unike rekker av resultater, mens ERDDAP™ tolker det som en forespørsel om en sortert liste over unike rekker av resultater. Hvis du setter dette på delvis eller ja, ERDDAP™ Automatisk forteller også databasen å sortere resultatene.</li>
<li class="">En liten forskjell i resultatene:
uten | delvis, ERDDAP™ vil sortere &quot; i begynnelsen av resultatene (før ikke-&quot;-strenger) ..
Med ja, kan databasen (Postgres vil) sort &quot;&quot; i slutten av resultatene (etter ikke-&quot;-strenger) ..
Jeg vil tro at dette vil også påvirke sorteringen av korte ord versus lengre ord som starter med det korte ordet. For eksempel ERDDAP™ vil sortere &quot;Simon&quot; før &quot;Simons&quot;.</li>
<li class="">Et eksempel er:</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceCanDoDistinct&gt;yes&lt;/sourceCanDoDistinct&gt;  </span><br></span></code></pre></div></div>
<p> </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcecanorderby">&lt;sourceCanOrderBy&gt;<a href="#sourcecanorderby" class="hash-link" aria-label="Direkte lenke til&lt;sourceCanOrderBy&gt;" title="Direkte lenke til&lt;sourceCanOrderBy&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;kilde CanOrderby&gt; ** ] (#sourcecanorderby) er et valgfritt merke i en EDDTableFromDatabase&lt;datasett&gt; tag som angir om kildedatabasen skal håndtere &amp; orderBy  (...) begrensninger i brukerspørsmål.<!-- -->
<ul>
<li class="">Denne etiketten er valgfri. Gyldige verdier er ikke ( ERDDAP™ håndtak orderBy  (...) ; standard) , delvis (kildehåndtaket orderBy og ERDDAP™ håndterer det igjen) , og ja (kildehåndtaket orderBy  (...) ) ..</li>
<li class="">Hvis du bruker nei og ERDDAP™ Er ute av hukommelse ved håndtering orderBy  (...) Bruk ja.</li>
<li class="">Hvis du bruker ja og kildedatabasen håndterer orderBy  (...) For sakte, bruk nei.</li>
<li class="">delvis gir deg det verste av begge: det er sakte fordi databasen håndtering av orderBy  (...) er langsom og det kan gå tom for hukommelse i ERDDAP ..</li>
<li class="">En liten forskjell i resultatene:
uten | delvis, ERDDAP™ vil sortere &quot; i begynnelsen av resultatene (før ikke-&quot;-strenger) ..
Med ja, kan databasen (Postgres vil) sort &quot;&quot; i slutten av resultatene (etter ikke-&quot;-strenger) ..
Dette kan også påvirke sorteringen av korte ord mot lengre ord som starter med det korte ordet. For eksempel ERDDAP™ vil sortere &quot;Simon&quot; før &quot;Simons&quot;, men jeg er ikke sikker på hvordan en database vil sortere dem.</li>
<li class="">Et eksempel er:</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceCanOrderBy&gt;yes&lt;/sourceCanOrderBy&gt;  </span><br></span></code></pre></div></div>
<p> </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourceneedsexpandedfp_eq">&lt;KjelderUtvidetFP\_EQ&gt;<a href="#sourceneedsexpandedfp_eq" class="hash-link" aria-label="Direkte lenke til&lt;KjelderUtvidetFP\_EQ&gt;" title="Direkte lenke til&lt;KjelderUtvidetFP\_EQ&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;kilden UtvidetFP\_EQ&gt; ** ] (#kilden krever utvidetfp_eq) er et valgfritt tag i en EDDTable&lt;datasett&gt; tag som spesifiserer (sant (standard) eller falsk) Hvis kilden trenger hjelp med spørsmål med&lt;tall Variabel&gt;=&lt;FloatingPointValue&gt; (og !=, &gt;=,&lt;=) For eksempel<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;sourceNeedsExpandedFP\\_EQ&gt;false&lt;/sourceNeedsExpandedFP\\_EQ&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">For noen datakilder, numeriske spørsmål som involverer =, ! =,&lt;=, eller &gt;= kan ikke fungere som ønsket med flytende punkttall. For eksempel kan et søk etter lengdegrad = 220.2 mislykkes dersom verdien lagres som 220.200000000001.</li>
<li class="">Dette problemet oppstår fordi flytende punkttall er <a href="https://randomascii.wordpress.com/2012/02/25/comparing-floating-point-numbers-2012-edition/" target="_blank" rel="noopener noreferrer" class="">Ikke representert nøyaktig i datamaskiner</a> ..</li>
<li class="">Hvis kilden er utvidetFP\_EQ er satt til sant (standard) , ERDDAP™ Endrer forespørsler sendt til datakilden for å unngå dette problemet. Det er alltid trygt og bra å la det bli sant.
 </li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourceurl">&lt; sourceUrl &gt;<a href="#sourceurl" class="hash-link" aria-label="Direkte lenke til&lt; sourceUrl &gt;" title="Direkte lenke til&lt; sourceUrl &gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt; sourceUrl &gt; ** ] (#kildeurl) er en felles tagg i et datasetts globale&lt; addAttributes &gt; tag som angir URL som er kilden til dataene.<!-- -->
<ul>
<li class="">Et eksempel er:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceUrl&gt;https://oceanwatch.pfeg.noaa.gov/thredds/dodsC/satellite/VH/chla/1day&lt;/sourceUrl&gt;  </span><br></span></code></pre></div></div>
<!-- -->(Legg alt på én linje)<!-- -->
<ul>
<li class="">I ERDDAP™ Alle datasett vil ha sourceUrl &quot; i de kombinerte globale attributtene som er vist til brukerne.</li>
<li class="">For de fleste datasetttyper er denne etiketten REQUIRED. Se datasetttypens beskrivelse for å finne ut om dette er REQUIRED eller ikke.</li>
<li class="">For noen datasett, den separate&lt; sourceUrl &gt; Tagge er ikke tillatt. I stedet må du gi en sourceUrl &quot; <a href="#global-attributes" class="">global attributt</a> Vanligvis i verden \&gt; addAttributes &lt;.. Hvis det ikke finnes noen egentlig kildeadresse (For eksempel hvis dataene lagres i lokale filer) Denne egenskapen har ofte bare en plassholderverdi, for eksempel&lt;navn=&quot;navn&quot;&gt; (lokale filer) &lt;/att&gt; .</li>
<li class="">For de fleste datasett er dette grunnlaget for URL-en som brukes til å be om data. For eksempel DAP servere, dette er den URL som .dods, .das, .dds eller .html kan legges til.</li>
<li class="">Siden datasets.xml er en XML-fil, du må også kode &#x27;&amp;&#x27;, &#x27;&lt;&#x27;, og &#x27;&gt;&#x27; i URL som &#x27;&amp;&#x27;, &#x27;&lt;Og &quot;&gt;&quot;.</li>
<li class="">For de fleste datasett typer, ERDDAP™ Legger til originalen sourceUrl   (&quot; lokalkildenUrl&quot; i kildekoden) til <a href="#global-attributes" class="">globale attributter</a>   (der det blir den &quot;publicSourceUrl&quot; i kildekoden) .. Når datakilden er lokale filer, ERDDAP™ legger til sourceUrl = &quot; (lokale filer) &quot; til de globale attributtene som sikkerhetstiltak. Når datakilden er en database, ERDDAP™ legger til sourceUrl = &quot; (kildedatabase) &quot; til de globale attributtene som sikkerhetstiltak. Hvis noen av datasettene dine bruker ikke-offentlig sourceUrl &#x27;s (Vanligvis fordi datamaskinen er i DMZ eller på en lokal LAN) Du kan bruke [&lt;convertToPublicSourceUrl&gt;] (#converttopublicsourceurl) tagger å angi hvordan du konverterer den lokale sourceUrl til offentlig sourceUrl S.</li>
<li class="">A sourceUrl Kan begynne med http:// , https:// , ftp://, og kanskje andre prefikser. https tilkoblinger lese og sjekke kildens digitale sertifikat for å sikre at kilden er hvem de sier de er. I sjeldne tilfeller kan denne sjekken mislykkes med feilen &quot;javax.net.ssl.SSLProtocolException: håndtrykksvarsel: ukjent\_name&quot;. Dette skyldes sannsynligvis domenenavnet på sertifikatet som ikke samsvarer med domenenavnet du bruker. Du kan og bør lese detaljene i sourceUrl sertifikat i nettleseren din, spesielt listen over &quot;DNS-navn&quot; i delen &quot;subject Alternative Name&quot;.</li>
</ul>
</li>
</ul>
<p>I noen tilfeller sourceUrl du bruker kan være et alias av domenenavnet på sertifikatet. For eksempel
<a href="https://podaac-opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/vil" target="_blank" rel="noopener noreferrer" class="">https://podaac-opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/vil</a> kaste denne feilen, men
<a href="https://opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/" target="_blank" rel="noopener noreferrer" class="">https://opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/</a>, som bruker domenenavnet på sertifikatet, vil ikke. Løsningen i disse tilfellene er derfor å finne og bruke domenenavnet på sertifikatet. Hvis du ikke finner det på sertifikatet, kontakte dataleverandøren.</p>
<p>I andre tilfeller kan domenenavnet på sertifikatet være for en gruppe navn. Hvis dette skjer eller problemet er ellers uløselig, vennligst send en e-post til Chris. John på noaa.gov for å rapportere problemet.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="addattributes">&lt;addAttributes&gt;<a href="#addattributes" class="hash-link" aria-label="Direkte lenke til&lt;addAttributes&gt;" title="Direkte lenke til&lt;addAttributes&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt; addAttributes &gt; ** ] (#addattributes) er en valgbar tag for hvert datasett og for hver variabel som lar ERDDAP administratorer kontrollerer metadata-attributtene knyttet til et datasett og dets variabler.<!-- -->
<ul>
<li class="">ERDDAP™ kombinerer attributtene fra datasettets kilde (&quot;kildeAttributes&quot;) og addAttributes which som du definerer i datasets.xml   (som har prioritet) å gjøre &quot; kombinertAttributes&quot;, som er hva ERDDAP™ Brukere ser. Derfor kan du bruke addAttributes for å omdefinere verdiene til kildeAttributes, legge til nye attributter eller fjerne attributter.</li>
<li class="">Den&lt; addAttributes &gt; etiketter 0 eller mer ** &lt;Att&gt; ** subtags, som brukes til å spesifisere individuelle attributter.</li>
<li class="">Hver attributt består av et navn og en verdi (som har en bestemt datatype, for eksempel dobbelt) ..</li>
<li class="">Det kan bare være én attributt med et gitt navn. Hvis det er mer, har den siste prioritet.</li>
<li class="">Verdien kan være en enkelt verdi eller en romdelt liste over verdier.</li>
<li class="">Syntaks<!-- -->
<ul>
<li class="">Orden av&lt;Att&gt; subtags i addAttributes Det er ikke viktig.</li>
<li class="">Den&lt;att&gt; undertekstformat er</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;*name*&quot; \\[type=&quot;*type*&quot;\\] &gt;*value*&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Navnet på alle attributtene må begynne med bokstav (A-Z, a-z) og må bare inneholde tegnene A-Z, a-z, 0-9, eller &quot;-_&quot;.</li>
<li class="">Hvis en&lt;at&gt; undertag har ingen verdi eller en verdi av null, den attributten vil bli fjernet fra de kombinerte attributtene.
For eksempel&lt;at name=&quot;rows&quot; /&gt; vil fjerne rader fra de kombinerte attributtene.
For eksempel&lt;at name=&quot; Koordinater&quot;&gt; Null&lt;/att&gt; vil fjerne koordinater fra de kombinerte attributtene.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="attributetype">attributt Type<a href="#attributetype" class="hash-link" aria-label="Direkte lenke tilattributt Type" title="Direkte lenke tilattributt Type" translate="no">​</a></h5>
<ul>
<li class="">[Den valgfrie typeverdien for&lt;Att&gt; undermerker] (#atributetype) angi datatypen for verdiene. Standardtypen er streng. Et eksempel på en streng-attributt er:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;creator\\_name&quot;&gt;NASA/GSFC OBPG&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Gyldige typer for enkeltverdier er byte (8-bit heltall) , kort (16-bits signert heiltal) , int (32-bits signert heiltal) , lang (64-bits signert heiltal) , flyte (32-bit flytende punkt) , dobbel (64-bit flytende punkt) Char og String. For eksempel<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;scale\\_factor&quot; type=&quot;float&quot;&gt;0.1&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
</ul>
<p>Se disse notatene om <a href="#char" class="">tegndatatype</a> ..
Se disse notatene om <a href="#long" class="">lang datatype</a> ..</p>
<ul>
<li class="">Gyldige typer for mellomromsseparerte verdilister (eller enkeltverdier) are byteList, shortList, usignertShortList, charList, intList, longList, floatList, dobbel Liste. For eksempel<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;actual\\_range&quot; type=&quot;doubleList&quot;&gt;10.34 23.91&lt;/att&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>En usignertShortList lar deg angi en liste over usignerte shorts, men de vil bli omgjort til en liste over de tilsvarende Unicode tegnene (f.eks. &quot;65 67 69&quot; vil bli konvertert til &quot;A C E&quot;.
Hvis du angir en tegnliste, koder du noen spesielle tegn (f.eks. plass, dobbel sitater, backslash,&lt;#32, eller &gt;#127) som du vil kode dem i datadelen av en NCCSV-fil (f.eks. &quot; &quot; &quot; &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\\\\\\ &quot; &quot; &quot; &quot; &quot; &quot; \n &quot;, &quot;u20ac&quot;) ..
Det er ingen strengliste. Lagre strengverdier som en flerlinjestreng. For eksempel</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;history&quot;&gt;2011-08-05T08:55:02Z ATAM - made CF-1.6 compliant.  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2012-04-08T08:34:58Z ATAM - Changed &#x27;height&#x27; from double to float.&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p> </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="global-attributes">Globale attributter<a href="#global-attributes" class="hash-link" aria-label="Direkte lenke tilGlobale attributter" title="Direkte lenke tilGlobale attributter" translate="no">​</a></h4>
<ul>
<li class="">
<p>[ ** Globale attributter / Global&lt; addAttributes &gt; ** ] (#global-adtributer) --
&lt; addAttributes &gt; er et valgfritt merket i&lt;datasett&gt; tag som brukes til å endre attributter som gjelder hele datasettet.</p>
<ul>
<li class="">** Bruk den globale&lt; addAttributes &gt; å endre datasettets globale attributter. **  ERDDAP™ kombinerer de globale attributtene fra datasettets kilde (** sourceAttributes <strong>) og det globale</strong>  addAttributes  <strong>som du definerer i datasets.xml   (som har prioritet) å gjøre det globale</strong> kombinertAttributes ** som er hva ERDDAP™ Brukere ser. Derfor kan du bruke addAttributes for å omdefinere verdiene til kildeAttributes, legge til nye attributter eller fjerne attributter.</li>
<li class="">Se [ ** &lt; addAttributes &gt; <strong>Informasjon] (#addattributes) som gjelder globalt og variabelt</strong> &lt; addAttributes &gt; ** ..</li>
<li class=""><a href="https://www.fgdc.gov/standards/projects/FGDC-standards-projects/metadata/base-metadata/index_html" target="_blank" rel="noopener noreferrer" class="">FGDC</a> og <a href="https://en.wikipedia.org/wiki/Geospatial_metadata" target="_blank" rel="noopener noreferrer" class="">ISO 19115-2/19139</a> Metadata -- Vanligvis, ERDDAP™ vil automatisk generere ISO 19115-2/19139 og FGDC (FGDC-STD-001-1998) XML-metadatafiler for hvert datasett som bruker informasjon fra datasettets metadata. Så, <strong>Gode datasett metadata fører til god ERDDAP -generert ISO 19115 og FGDC metadata. Vær oppmerksom på å sette mye tid og innsats på å forbedre dine datasetts metadata (noe som er bra å gjøre uansett) ..</strong> De fleste metadataattributter som brukes til å generere ISO 19115 og FGDC-metadata er fra <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD metadata standard</a> og er så kjent nedenfor.</li>
<li class="">Mange globale egenskaper er spesielt i det ERDDAP™ Se etter dem og bruk dem på ulike måter. For eksempel en lenke til infoUrl er inkludert på nettsider med lister over datasett, og andre steder, slik at brukerne kan finne ut mer om datasettet.</li>
<li class="">Når en bruker velger en undergruppe av data, GlobalAttributes relatert til variabelens lengdegrad, breddegrad, høyde (eller dybde) og tidsintervaller (For eksempel Southernmost\_Northing, Northmost\_Northing, tid\_coverage\_start, tid\_coverage\_end) genereres eller oppdateres automatisk.</li>
<li class="">En enkel prøve global&lt; addAttributes &gt; er:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;addAttributes&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;att name=&quot;Conventions&quot;&gt;COARDS, CF-1.6, ACDD-1.3&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;att name=&quot;infoUrl&quot;&gt;https://coastwatch.pfeg.noaa.gov/infog/PH\\_ssta\\_las.html&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;att name=&quot;institution&quot;&gt;NOAA CoastWatch, West Coast Node&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;att name=&quot;title&quot;&gt;SST, Pathfinder Ver 5.0, Day and Night, Global&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;att name=&quot;cwhdf\\_version&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/addAttributes&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
</li>
</ul>
<p>Den tomme cwhdf-_version-attributten forårsaker kilden cwhdf-_version-attributten (dersom noen) å bli fjernet fra den endelige, kombinerte listen over attributter.</p>
<ul>
<li class="">Å levere denne informasjonen hjelper ERDDAP™ gjør en bedre jobb og hjelper brukerne å forstå datasett.
Gode metadata gjør et datasett brukbart.
Utilstrekkelig metadata gjør et datasett ubrukelig.
Ta deg tid til å gjøre en god jobb med metadata-attributter.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="spesielle-globale-egenskaper-i-erddap">Spesielle globale egenskaper i ERDDAP™<a href="#spesielle-globale-egenskaper-i-erddap" class="hash-link" aria-label="Direkte lenke tilSpesielle globale egenskaper i ERDDAP™" title="Direkte lenke tilSpesielle globale egenskaper i ERDDAP™" translate="no">​</a></h5>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="acknowledgement">Bekreftelse<a href="#acknowledgement" class="hash-link" aria-label="Direkte lenke tilBekreftelse" title="Direkte lenke tilBekreftelse" translate="no">​</a></h6>
<ul>
<li class=""><a href="#acknowledgement" class=""> <strong>Bekreftelse</strong> </a> og <strong>bekjennelse</strong>   (fra <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Metadatastandard) er en godkjent måte å anerkjenne gruppen eller gruppene som ga støtte på (Særlig økonomisk) For prosjektet som opprettet disse dataene. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;acknowledgment&quot;&gt;AVISO&lt;/att&gt;</span><br></span></code></pre></div></div>
<p>Legg merke til at ACDD 1.0 og 1.1 brukte stavebekreftelsen (som er den vanlige stavingen i USA.) , men ACDD 1.3 endret dette til -kunnskap - (som er den vanlige stavingen i Storbritannia.) .. Min forståelse er at endringen i det vesentlige var en ulykke, og at de absolutt ikke gjenkjente konsekvenserne av endringen. For et rot! Nå er det millioner av datafiler rundt om i verden som har &quot; bevissthet&quot; og millioner som har &quot; kunnskap&quot;. Dette fremhever tåpeligheten til -simple - endringer i en standard, og understreker behovet for stabilitet i standarder. Fordi ACDD 1.3 (som er den versjonen av ACDD som ERDDAP™ støtter) «Aknownment» says det er det ERDDAP™   (spesielt Generer datasett Xml) oppmuntrer.
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="cdm_altitude_proxy">cdm\_altitude\_proxy<a href="#cdm_altitude_proxy" class="hash-link" aria-label="Direkte lenke tilcdm\_altitude\_proxy" title="Direkte lenke tilcdm\_altitude\_proxy" translate="no">​</a></h6>
<ul>
<li class=""><a href="#cdm_altitude_proxy" class=""> <strong>cdm\_altitude\_proxy</strong> </a> er bare for EDDTable datasett som ikke har en høyde eller dybde variabel, men har en variabel som er en proxy for høyde eller dybde (For eksempel trykk, sigma, flaske) Du kan bruke denne egenskapen til å identifisere denne variabelen. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_altitude\\_proxy&quot;&gt;pressure&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Hvis <a href="#cdm_data_type" class="">CDm\_data\_type</a> er Profil eller TrajectoryProfil og det er ingen høyde eller dybde variabel, cdm-_altitude-_proxy må defineres. Hvis cdm\_altitude\_proxy er definert, ERDDAP™ vil legge til følgende metadata i variabelen: AxisType=høyde og akse=Z.
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="cdm_data_type">CDm\_data\_type<a href="#cdm_data_type" class="hash-link" aria-label="Direkte lenke tilCDm\_data\_type" title="Direkte lenke tilCDm\_data\_type" translate="no">​</a></h6>
<ul>
<li class=""><a href="#cdm_data_type" class=""> <strong>CDm\_data\_type</strong> </a>   (fra <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Metadatastandard) er en global egenskap som indikerer Unidata   <a href="https://www.unidata.ucar.edu/software/netcdf-java/v4.6/CDM/index.html" target="_blank" rel="noopener noreferrer" class="">Vanlig datamodell</a> Datatype for datasettet. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_data\\_type&quot;&gt;Point&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>CDM utvikles og kan endres igjen. ERDDAP™ Følger relatert og mer detaljert <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">Diskret prøvetakingsgeometri (DSG) </a> Kapittel i <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF 1.6</a> metadatakonvensjoner (Tidligere kalt CF punktobservasjonskonvensjonene) ..</p>
<ul>
<li class="">Enten datasettets globale <a href="#global-attributes" class="">sourceAttributes</a> eller dets globale&lt; addAttributes &gt; Må inkludere CDm\_data\_type attributt. Noen typer datasett (som EDDTable FraObis) Dette vil settes automatisk.</li>
<li class="">For EDDGrid Datasett, alternativene cdm\_data__type er Grid (standarden og den aller vanligste typen for EDDGrid Datasett) , MovingGrid, Andre, Punkt, Profil, RadialSweep, TimeSeries, TimeSeriesProfil, Swath, Trajectory og TrajectoryProfil. I dag, EDDGrid krever ikke at noen relaterte metadata angis, og det kontrollerer heller ikke at dataene samsvarer med cdm-_data-_typen. Dette vil sannsynligvis endre seg i den nærmeste fremtid.</li>
<li class="">EDDTable bruker cdm\_data\_type på en streng måte, etter CFs DSG-spesifikasjon i stedet for CDM, som av en eller annen grunn ikke er oppdatert for å være i samsvar med DSG. Hvis et datasetts metadata ikke er i samsvar med ERDDAP CDm\_data\_types krav (Se nedenfor) , vil datasettet mislykkes å laste og vil generere en <a href="#troubleshooting-tips" class="">feilmelding</a> .. (Det er en god ting, i den forstand at feilmeldingen vil fortelle deg hva som er galt, slik at du kan fikse det.) Og hvis datasettets data ikke samsvarer med datasettets metadataoppsett (f.eks. dersom det er mer enn én breddegradsverdi for en gitt stasjon i et tidsseriedatasett) Noen forespørsler om data vil returnere feil data i svaret. Så sørg for at du får alt dette riktig.</li>
</ul>
<p>For alle disse datasettene, i konvensjonene og Metadata\_Conventions globale egenskaper, vennligst se CF-1.6 (ikke CF-1.0, 1.1, 1.2, 1.3, 1.4 eller 1,5) , siden CF-1.6 er den første versjonen som inkluderer endringene relatert til Discrete sampling Geometri (DSG) Konvensjoner.</p>
<ul>
<li class="">** ERDDAP™ har et ikke-simpelt forhold til CF DSG**</li>
<li class="">ERDDAP™ kan gjøre et gyldig DSG datasett ut av et kildedatasett som allerede er en gyldig DSG-fil (s) , eller ut av et kildedatasett som ikke er satt opp for DSG, men kan gjøres slik via endringer i metadata (Noen av dem er ERDDAP -spesifikt for å gi en mer generell tilnærming til å spesifisere DSG-oppsett) ..</li>
<li class="">ERDDAP™ gjør mange gyldighetsprøver når det laster et datasett. Hvis datasettet som har en cdm\_data\_type (eller featureType ) attribut vellykket lastes inn ERDDAP™ , så ERDDAP™ Datasettet oppfyller DSG-kravene (ellers, ERDDAP™ vil kaste et unntak som forklarer det første problemet det fant) ..
ADVARSEL: Et vellykket lastet datasett ser ut til å oppfylle DSG-kravene (Den har riktig kombinasjon av attributter) , men likevel kan være feil satt opp, noe som fører til feil resultat i .nc CF og .nc CFMA-responsfiler. (Programvare er smart på noen måter og sporløst i andre.)</li>
<li class="">Når du ser på datasettets metadata i ERDDAP™ DSG-datasettet synes å være i ERDDAP internt format (en gigantisk database-lignende tabell) .. Det er ikke i et av DSG-formatene (For eksempel er dimensjonene og metadataene ikke riktige) , men informasjonen som trengs for å behandle datasettet som et DSG-datasett er i metadata (For eksempel cdm\_data\_type=TimeSeries og cdm\_timeseries\_variables= <em>aCsvListOfStationRelaterteVariabler</em> i de globale metadataene og cf\_role=times-_id for noen variable) ..</li>
<li class="">Hvis en bruker ber om en undergruppe av datasettet i en .nc CF (en .nc fil i DSGs sammenhengende Tagged Array filformat) eller .nc CFMA-fil (a .nc fil i DSGs multidimensjonal Array filformat) , den filen vil være en gyldig CF DSG-fil.
ADVARSEL: Men hvis datasettet ble satt opp feil (For at metadataene ikke skal være sanne) , vil responsfilen være teknisk gyldig, men vil være feil på noen måte.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtable-cdm_data_types">EDDTable cdm_data_types<a href="#eddtable-cdm_data_types" class="hash-link" aria-label="Direkte lenke tilEDDTable cdm_data_types" title="Direkte lenke tilEDDTable cdm_data_types" translate="no">​</a></h6>
<ul>
<li class="">For EDDTable datasett, cdm\_data\_type alternativer (og beslektede krav i ERDDAP ) er</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="point">Punkt<a href="#point" class="hash-link" aria-label="Direkte lenke tilPunkt" title="Direkte lenke tilPunkt" translate="no">​</a></h6>
<ul>
<li class=""><a href="#point" class="">Punkt</a> -- er for et sett målinger tatt på urelaterte tidspunkter og steder.</li>
<li class="">Som med alle andre cdm-_data-_typer enn andre, må punktdatasett ha lengdegrad, breddegrad og tidsvariabler.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="profile">Profil<a href="#profile" class="hash-link" aria-label="Direkte lenke tilProfil" title="Direkte lenke tilProfil" translate="no">​</a></h6>
<ul>
<li class="">
<p><a href="#profile" class="">Profil</a> -- er et sett med målinger alle tatt på en gang, på en breddegrad lengdegrad, men på mer enn én dybde (eller høyde) .. Datasettet kan være en samling av disse profilene, for eksempel 7 profiler fra ulike steder. Denne cdm\_data__typen betyr ikke noen logisk forbindelse mellom noen av profilene.</p>
</li>
<li class="">
<p>En av variablene (For eksempel profil\_nummer) Må ha den variable attributten cf__role=profil\_id for å identifisere variabelen som unikt identifiserer profilene.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cf\\_role&quot;&gt;profile\\_id&lt;/att&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Hvis ingen annen variabel er egnet, bør du vurdere å bruke tidsvariabelen.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="cdm_profile_variables">cdm\_profil\_variabler<a href="#cdm_profile_variables" class="hash-link" aria-label="Direkte lenke tilcdm\_profil\_variabler" title="Direkte lenke tilcdm\_profil\_variabler" translate="no">​</a></h6>
<ul>
<li class="">Datasettet må inkludere det globale tilbudet <a href="#cdm_profile_variables" class="">cdm\_profil\_variabler</a> , hvor verdien er en kommadelt liste over variabler som har informasjonen om hver profil. For en gitt profil må verdiene til disse variablene være konstante. For eksempel<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_profile\\_variables&quot;&gt;profile\\_number,time,latitude,longitude&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Listen må inkludere cf__role=profil\_id-variabelen og alle andre variabler med informasjon om profilen, og tid, breddegrad og lengdegrad.
Listen vil aldri inkludere høyde, dybde eller observasjonsvariabler.
 </p>
<p>\[ Mening: CDm\_data\_type=Profil bør sjelden brukes. I praksis er et gitt datasett vanligvis enten en tidsserieProfil (Profiler i fast posisjon) eller en baneprofil (profiler langs en bane) Derfor bør det identifiseres på riktig måte. \]</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="timeseries">TimeSeries<a href="#timeseries" class="hash-link" aria-label="Direkte lenke tilTimeSeries" title="Direkte lenke tilTimeSeries" translate="no">​</a></h6>
<ul>
<li class=""><a href="#timeseries" class="">TimeSeries</a> -- er en rekke målinger (For eksempel sjøvannstemperatur) tatt på én, fast, breddegrad, lengdegrad, dybde (eller høyde) Beliggenhet. (Tenk på det som &quot;Station&quot;.) Datasettet kan være en samling av disse tidsserier, f.eks. en sekvens fra hver av 3 forskjellige steder.</li>
<li class="">En av variablene (for eksempel stasjon\_id) Må ha den variable attributten cf\_role=timeseries__id for å identifisere variabelen som unikt identifiserer stasjonene.<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cf\\_role&quot;&gt;timeseries\\_id&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="cdm_timeseries_variables">cdm\_timeserier\_variables<a href="#cdm_timeseries_variables" class="hash-link" aria-label="Direkte lenke tilcdm\_timeserier\_variables" title="Direkte lenke tilcdm\_timeserier\_variables" translate="no">​</a></h6>
<ul>
<li class="">Datasettet må inkludere det globale tilbudet <a href="#cdm_timeseries_variables" class="">cdm\_timeserier\_variables</a> , der verdien er en kommaseparert liste over variabler som har informasjon om hver stasjon. For en gitt stasjon må verdiene av disse variablene være konstante. For eksempel<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_timeseries\\_variables&quot;&gt;station\\_id,station\\_type,latitude,longitude&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Listen må inkludere cf-_role=timeseries-_id variabel og alle andre variabler med informasjon om stasjonen, som nesten alltid inkluderer breddegrad og lengdegrad (og høyde eller dybde, hvis tilstede) ..
Listen vil aldri inkludere tid eller noen observasjonsvariabler.</p>
<ul>
<li class="">For enkelte fortøyde bøyer kan et datasett ha to sett bredde- og lengdevariabler:<!-- -->
<ol>
<li class="">Ett par breddegrader og lengdegrader som er konstante (dvs. den faste plasseringen av fortøyningen) .. I ERDDAP™ gi disse variabler destinationName s av breddegrad og lengdegrad, og inkludere disse variabler i listen over cdm-_timeseries-_variabler.</li>
<li class="">presis breddegrad og lengdegrad verdier forbundet med hver observasjon. I ERDDAP™ Gi disse variablene forskjellig destinationName s (f.eks. presiseLat og presise Lon) og ikke inkludere disse variablene i listen over cdm-_timeseries-_variables.
Begrunnelsen for dette er: fra et teoretisk perspektiv, for en DSG TimeSeries datasett, breddegrad og lengdegrad (og høyde eller dybde, hvis tilstede) Stedet til stasjonen må være konstant.</li>
</ol>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="timeseriesprofile">TimeSeriesProfil<a href="#timeseriesprofile" class="hash-link" aria-label="Direkte lenke tilTimeSeriesProfil" title="Direkte lenke tilTimeSeriesProfil" translate="no">​</a></h6>
<ul>
<li class=""><a href="#timeseriesprofile" class="">TimeSeriesProfil</a> -- er for en rekke profiler tatt på én, fast og breddegradslengde plassering. Hver profil er et sett med målinger tatt i flere høyder eller dybder. Datasettet kan være en samling av disse tidsserieprofiler, for eksempel en sekvens av profiler som tas på hver av 12 forskjellige steder.</li>
<li class="">En av variablene (for eksempel stasjon\_id) Må ha den variable attributten cf\_role=timeseries__id for å identifisere variabelen som unikt identifiserer stasjonene.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;cf\\_role&quot;&gt;timeseries\\_id&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">En av variablene (For eksempel profil\_nummer) Må ha den variable attributten cf__role=profil\_id for å identifisere variabelen som unikt identifiserer profilene.<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cf\\_role&quot;&gt;profile\\_id&lt;/att&gt;  </span><br></span></code></pre></div></div>
<!-- -->(En gitt profil-_id må bare være unik for en gitt tidsserie-_id.) Hvis ingen annen variabel er egnet, bør du vurdere å bruke tidsvariabelen.</li>
<li class="">Datasettet må inneholde den globaleAttribute cdm-_timeseries-_variables, der verdien er en kommadelt liste over variabler som har informasjonen om hver stasjon. For en gitt stasjon må verdiene av disse variablene være konstante. For eksempel<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_timeseries\\_variables&quot;&gt;station\\_id,station\\_type,latitude,longitude&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Listen må inneholde cf-_role=timeserie-_id variabel og alle andre variabler med informasjon om stasjonen, som nesten alltid inkluderer breddegrad og lengdegrad.
Listen vil aldri omfatte tid, høyde, dybde eller noen observasjonsvariabler.</p>
<ul>
<li class="">Datasettet må inkludere den globaleAttribute cdm-_profile-_variables, hvor verdien er en kommaseparert liste over variabler som har informasjonen om hver profil. For en gitt profil må verdiene til disse variablene være konstante. For eksempel<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_profile\\_variables&quot;&gt;profile\\_number,time&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Listen må inneholde cf__role=profile\_id variabel og alle andre variabler med informasjon om profilen, som nesten alltid inkluderer tid.
Listen vil aldri inneholde breddegrad, lengdegrad, høyde, dybde eller observasjonsvariabler.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="trajectory">Trajectory<a href="#trajectory" class="hash-link" aria-label="Direkte lenke tilTrajectory" title="Direkte lenke tilTrajectory" translate="no">​</a></h6>
<ul>
<li class=""><a href="#trajectory" class="">Trajectory</a> -- er en rekke målinger tatt langs en bane (en bane gjennom rom og tid)   (f.eks. hav-_vann-temperatur tatt av et skip som det beveger seg gjennom vannet) .. Datasettet kan være en samling av disse baner, f.eks. en sekvens fra hvert av 4 forskjellige skip.</li>
<li class="">En av variablene (For eksempel skip\_id) Må ha egenskapen cf-_role=trajectory-_id for å identifisere variabelen som unikt identifiserer banene.<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cf\\_role&quot;&gt;trajectory\\_id&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="cdm_trajectory_variables">cdm\_trajectory\_variables<a href="#cdm_trajectory_variables" class="hash-link" aria-label="Direkte lenke tilcdm\_trajectory\_variables" title="Direkte lenke tilcdm\_trajectory\_variables" translate="no">​</a></h6>
<ul>
<li class="">Datasettet må inkludere det globale tilbudet <a href="#cdm_trajectory_variables" class="">cdm\_trajectory\_variables</a> hvor verdien er en kommaseparert liste over variabler som har informasjon om hver bane. For en gitt bane må verdiene til disse variabler være konstante. For eksempel<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_trajectory\\_variables&quot;&gt;ship\\_id,ship\\_type,ship\\_owner&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Listen må omfatte cf-_role=trajectory-_id variabel og alle andre variabler med informasjon om banen.
Listen vil aldri inneholde tid, breddegrad, lengdegrad eller observasjonsvariabler.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="trajectoryprofile">TrajectoryProfil<a href="#trajectoryprofile" class="hash-link" aria-label="Direkte lenke tilTrajectoryProfil" title="Direkte lenke tilTrajectoryProfil" translate="no">​</a></h6>
<ul>
<li class=""><a href="#trajectoryprofile" class="">TrajectoryProfil</a> -- er en sekvens av profiler tatt langs en bane. Datasettet kan være en samling av disse TrajectoryProfiler, for eksempel en sekvens av profiler tatt av 14 forskjellige skip.</li>
<li class="">En av variablene (For eksempel skip\_id) Må ha den variable egenskapen cf-_role=trajectory-_id for å identifisere variabelen som unikt identifiserer banene.<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cf\\_role&quot;&gt;trajectory\\_id&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
<li class="">En av variablene (For eksempel profil\_nummer) Må ha den variable attributten cf__role=profil\_id for å identifisere variabelen som unikt identifiserer profilene.<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cf\\_role&quot;&gt;profile\\_id&lt;/att&gt;  </span><br></span></code></pre></div></div>
<!-- -->(En gitt profil\_id må bare være unik for en gitt bane\_id.) Hvis ingen annen variabel er egnet, bør du vurdere å bruke tidsvariabelen.</li>
<li class="">Datasettet må omfatte den globaleAttribute cdm-_trajectory-_variables, der verdien er en kommadelt liste over variabler som har informasjonen om hver bane. For en gitt bane må verdiene til disse variabler være konstante. For eksempel<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_trajectory\\_variables&quot;&gt;ship\\_id,ship\\_type,ship\\_owner&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Listen må omfatte cf-_role=trajectory-_id variabel og alle andre variabler med informasjon om banen.
Listen vil aldri inneholde profilrelaterte variabler, tid, breddegrad, lengdegrad eller observasjonsvariabler.</p>
<ul>
<li class="">Datasettet må inkludere den globaleAttribute cdm-_profile-_variables, hvor verdien er en kommaseparert liste over variabler som har informasjonen om hver profil. For en gitt profil må verdiene til disse variablene være konstante. For eksempel<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_profile\\_variables&quot;&gt;profile\\_number,time,latitude,longitude&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Listen må inneholde cf__role=profile\_id variabel og alle andre variabler med informasjon om profilen, som nesten alltid inkluderer tid, breddegrad og lengdegrad.
Listen vil aldri inkludere høyde, dybde eller observasjonsvariabler.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="other">Andre<a href="#other" class="hash-link" aria-label="Direkte lenke tilAndre" title="Direkte lenke tilAndre" translate="no">​</a></h6>
<ul>
<li class=""><a href="#other" class="">Andre</a> Ingen krav. Bruk den hvis datasettet ikke passer til et av de andre alternativene, spesielt hvis datasettet ikke inkluderer breddegrad, lengdegrad og tidsvariabler.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="related-notes">Relaterte notater<a href="#related-notes" class="hash-link" aria-label="Direkte lenke tilRelaterte notater" title="Direkte lenke tilRelaterte notater" translate="no">​</a></h6>
<ul>
<li class="">Alle EDDTable datasett med en cdm__data\_type annet enn &quot; Andre&quot; må ha lengdegrad, breddegrad og tidsvariabler.</li>
<li class="">Datasett med profiler må ha en høydevariabel, en dybdevariabel eller en <a href="#cdm_altitude_proxy" class="">cdm\_altitude\_proxy</a> Variabel.</li>
<li class="">Hvis du ikke kan gjøre et datasett oppfyller alle kravene til den ideelle CDm-_data-_typen, bruk &quot;Point&quot; (som har få krav) eller andre (som ikke har krav) I stedet.</li>
<li class="">Denne informasjonen brukes av ERDDAP™ på ulike måter, for eksempel, men mest for å gjøre .nc CF-filer ( .nc filer som er i samsvar med de sammenhengende taggede Array representasjonene tilknyttet datasettets cdm\_data\_type) og .nc CFMA-filer ( .nc filer som er i samsvar med de flerdimensjonale Array representasjonene tilknyttet datasettets cdm-_data-_type) som definert i <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">Diskret prøvetakingsgeometri (DSG) </a> Kapittel i <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> metadatakonvensjoner som tidligere ble kalt &quot;CF Point Observation Conventions&quot;.</li>
<li class="">Tips: For disse datasettene er riktig innstilling for <a href="#subsetvariables" class=""> subsetVariables </a> er vanligvis kombinasjonen av alle variabler som er oppført i cdm-____variables attributter. For eksempel, for TimeSeriesProfile, bruk cdm-_timeseries-_variables pluss cdm-_profile-_variables.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="contributor_name">contributor\_name<a href="#contributor_name" class="hash-link" aria-label="Direkte lenke tilcontributor\_name" title="Direkte lenke tilcontributor\_name" translate="no">​</a></h6>
<ul>
<li class=""><a href="#contributor_name" class=""> ** contributor\_name ** </a>   (fra <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Metadatastandard) er den ubegrensede måten å identifisere en person, organisasjon eller prosjekt som bidro til dette datasettet (For eksempel den opprinnelige skaperen av dataene, før det ble rebearbeidt av skaperen av dette datasettet) .. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;contributor\\_name&quot;&gt;NOAA OceanWatch - Central Pacific&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Hvis kontributør ikke virkelig gjelder for et datasett, utelate denne egenskapen. Sammenlignet med <a href="#creator_name" class=""> creator\_name </a> Dette er noen ganger mer fokusert på finansieringskilden.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="contributor_role">contributor\_role<a href="#contributor_role" class="hash-link" aria-label="Direkte lenke tilcontributor\_role" title="Direkte lenke tilcontributor\_role" translate="no">​</a></h6>
<ul>
<li class=""><a href="#contributor_role" class=""> ** contributor\_role ** </a>   (fra <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Metadatastandard) er den ubestridte måten å identifisere rollen som <a href="#creator_name" class=""> contributor\_name </a> .. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;contributor\\_role&quot;&gt;Source of Level 2b data&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Hvis kontributør ikke virkelig gjelder for et datasett, utelate denne egenskapen.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="conventions">Konvensjoner<a href="#conventions" class="hash-link" aria-label="Direkte lenke tilKonvensjoner" title="Direkte lenke tilKonvensjoner" translate="no">​</a></h6>
<ul>
<li class=""><a href="#conventions" class=""> <strong>Konvensjoner</strong> </a>   (fra <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> Metadatastandard) Det er STRONGLYKT. (Det kan være reflektert i fremtiden.) Verdien er en kommadelt liste over metadatastandarder som dette datasettet følger. For eksempel:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;Conventions&quot;&gt;COARDS, CF-1.6, ACDD-1.3&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>De felles metadatakonvensjonene som brukes i ERDDAP™ er:</p>
<ul>
<li class=""><a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class=""> COARDS Konvensjoner</a> Forløperen til CF.</li>
<li class=""><a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">Klima og prognoser (CF) Konvensjoner</a> er kilden til mange av de anbefalte og nødvendige attributtene i ERDDAP .. Den nåværende versjonen av CF er identifisert som &quot;CF-1.6&quot;.</li>
<li class="">Den NetCDF Attributkonvensjon for datasett Discovery (ACDD) er kilden til mange av de anbefalte og nødvendige attributtene i ERDDAP .. Den originale 1.0 versjonen av ACDD (En strålende stykke arbeid av Ethan Davis) ble identifisert som <a href="https://wiki.esipfed.org/ArchivalCopyOfVersion1" target="_blank" rel="noopener noreferrer" class=""> Unidata Datasett Discovery v1.0</a> Nåværende (starter i 2015) 1.3 versjon av ACDD er identifisert som <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD-1.3</a> .. Hvis datasettene dine har brukt Unidata Datasett Discovery v1.0, vi oppfordrer deg til å <a href="#switch-to-acdd-13" class="">bytte datasett til ACDD-1.3</a> ..</li>
</ul>
<p>Hvis datasettet følger noen ytterligere metadatastandard, kan du legge til navnet i CSV-listen i konvensjonsattributten.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="coverage_content_type">coverage\_content\_type<a href="#coverage_content_type" class="hash-link" aria-label="Direkte lenke tilcoverage\_content\_type" title="Direkte lenke tilcoverage\_content\_type" translate="no">​</a></h6>
<ul>
<li class=""><a href="#coverage_content_type" class=""> ** coverage\_content\_type ** </a>   (fra <a href="https://en.wikipedia.org/wiki/Geospatial_metadata" target="_blank" rel="noopener noreferrer" class="">ISO 19115</a> Metadatastandard) er den ubesvarte måten å identifisere typen nettdata (i EDDGrid Datasett) .. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;coverage\\_content\\_type&quot;&gt;modelResult&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>De eneste tillatte verdiene er hjelpeinformasjon, bilde, modellResultat, fysisk Måling (standard når ISO 19115 metadata genereres) , kvalitetinformasjon, referanseinformasjon og temaklassifisering. (Ikke bruk denne etiketten for EDDTable-datasett.)</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="creator_name">creator\_name<a href="#creator_name" class="hash-link" aria-label="Direkte lenke tilcreator\_name" title="Direkte lenke tilcreator\_name" translate="no">​</a></h6>
<ul>
<li class=""><a href="#creator_name" class=""> ** creator\_name ** </a>   (fra <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Metadatastandard) er den ubegrensede måten å identifisere personen, organisasjonen eller prosjektet på (Hvis ikke en bestemt person eller organisasjon) Mest ansvarlig for opprettelsen (eller siste opparbeiding) av disse dataene. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;creator\\_name&quot;&gt;NOAA NMFS SWFSC ERD&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Hvis dataene i stor grad ble behandlet på nytt (for eksempel satellittdata fra nivå 2 til nivå 3 eller 4) , deretter vanligvis reprosessoren er oppført som skaperen og den opprinnelige skaperen er oppført via <a href="#contributor_name" class=""> contributor\_name </a> .. Sammenlignet med <a href="#project" class="">Prosjekt</a> Dette er mer fleksibelt, siden det kan identifisere en person, en organisasjon eller et prosjekt.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="creator_email">creator\_email<a href="#creator_email" class="hash-link" aria-label="Direkte lenke tilcreator\_email" title="Direkte lenke tilcreator\_email" translate="no">​</a></h6>
<ul>
<li class=""><a href="#creator_email" class=""> ** creator\_email ** </a>   (fra <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Metadatastandard) er den ubesvarte måten å identifisere en e-postadresse på (riktig formatert) Dette gir en måte å kontakte skaperen på. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;creator\\_email&quot;&gt;erd.data@noaa.gov&lt;/att&gt;  </span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="creator_url">creator\_url<a href="#creator_url" class="hash-link" aria-label="Direkte lenke tilcreator\_url" title="Direkte lenke tilcreator\_url" translate="no">​</a></h6>
<ul>
<li class=""><a href="#creator_url" class=""> ** creator\_url ** </a>   (fra <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Metadatastandard) er den ubesvarte måten å identifisere en URL for organisasjon som opprettet datasettet, eller en URL med skaperens informasjon om dette datasettet (Men det er mer hensikten med <a href="#infourl" class=""> infoUrl </a> ) .. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;creator\\_url&quot;&gt;https://www.pfeg.noaa.gov&lt;/att&gt;  </span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="date_created">date\_created<a href="#date_created" class="hash-link" aria-label="Direkte lenke tildate\_created" title="Direkte lenke tildate\_created" translate="no">​</a></h6>
<ul>
<li class=""><a href="#date_created" class=""> ** date\_created ** </a>   (fra <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Metadatastandard) er den ubegrensede måten å identifisere datoen da dataene først ble opprettet (For eksempel behandlet i denne formen) i ISO 8601-format. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;date\\_created&quot;&gt;2010-01-30&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Hvis data regelmessig legges til datasettet, er dette den første datoen som de opprinnelige dataene ble gjort tilgjengelige.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="date_modified">date\_modified<a href="#date_modified" class="hash-link" aria-label="Direkte lenke tildate\_modified" title="Direkte lenke tildate\_modified" translate="no">​</a></h6>
<ul>
<li class=""><a href="#date_modified" class=""> ** date\_modified ** </a>   (fra <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Metadatastandard) er den faste måten å identifisere datoen da dataene sist ble endret (For eksempel når en feil ble løst eller når de nyeste dataene ble lagt til) i ISO 8601-format. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;date\\_modified&quot;&gt;2012-03-15&lt;/att&gt;  </span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="date_issued">date\_issued<a href="#date_issued" class="hash-link" aria-label="Direkte lenke tildate\_issued" title="Direkte lenke tildate\_issued" translate="no">​</a></h6>
<ul>
<li class=""><a href="#date_issued" class=""> ** date\_issued ** </a>   (fra <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Metadatastandard) er den uforutsette måten å identifisere datoen da dataene først ble gjort tilgjengelig for andre, for eksempel i ISO 8601-format 2012-03-15. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;date\\_issued&quot;&gt;2010-07-30&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>For eksempel kan datasettet ha en <a href="#date_created" class=""> date\_created </a> i 2010-01-30, men ble kun gjort offentlig tilgjengelig 2010-07-30. date\_issued er mindre vanlig enn date\_created og date\_modified .. Hvis date\_issued er utelatt, det antas å være det samme som date\_created ..</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="global-drawlandmask">global drawLandMask<a href="#global-drawlandmask" class="hash-link" aria-label="Direkte lenke tilglobal drawLandMask" title="Direkte lenke tilglobal drawLandMask" translate="no">​</a></h6>
<ul>
<li class=""><a href="#global-drawlandmask" class=""> ** drawLandMask ** </a> -- Dette er en OPTIONAL global attributt som brukes av ERDDAP™   (Ingen metadatastandarder) som angir standardverdien for &quot;Draw Land Mask&quot; alternativet på datasettets Make A Graph-skjema ( * datasetID * .graph) og for &amp;.land parameteren i en URL som ber om et kart over dataene. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;drawLandMask&quot;&gt;over&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Se <a href="#drawlandmask" class=""> drawLandMask Oversikt</a> ..</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="featuretype">featureType<a href="#featuretype" class="hash-link" aria-label="Direkte lenke tilfeatureType" title="Direkte lenke tilfeatureType" translate="no">​</a></h6>
<ul>
<li class=""><a href="#featuretype" class=""> ** featureType ** </a>   (fra <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> Metadatastandard) Er iGnored og/eller rePLACED. Hvis datasettets <a href="#cdm_data_type" class="">CDm\_data\_type</a> er passende, ERDDAP™ vil automatisk bruke den til å opprette en featureType Attribut. Så det er ikke nødvendig å legge til det.</li>
</ul>
<p>Hvis du bruker <a href="#eddtablefromnccffiles" class="">EDDTableFraNcCFFiler</a> å opprette et datasett fra filer som følger <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Diskret prøvetakingsgeometri (DSG) standard</a> Selve filene må ha featureType korrekt definert, slik at ERDDAP™ kan lese filene riktig. Det er en del av CF DSG-kravene til den typen fil.
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="history">historie<a href="#history" class="hash-link" aria-label="Direkte lenke tilhistorie" title="Direkte lenke tilhistorie" translate="no">​</a></h6>
<ul>
<li class=""><a href="#history" class=""> <strong>historie</strong> </a>   (fra <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> og <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> metadatastandarder) er en flerlinjet streng global attributt med en linje for hvert behandlingstrinn som dataene har gjennomgått. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;history&quot;&gt;2011-08-05T08:55:02Z CMOR: Rewrote data to comply with CF standards.  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2012-04-08T08:34:58Z CMOR: Converted &#x27;height&#x27; type from &#x27;d&#x27; to &#x27;f&#x27;.&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Ideelt sett har hver linje en ISO 8601:2004 (E) formatert dato+timeZ (For eksempel, 2011-08-05T08:55:02Z) etterfulgt av en beskrivelse av behandlingstrinnet.</li>
<li class="">ERDDAP™ Dette skjer om det ikke allerede eksisterer.</li>
<li class="">Hvis det allerede eksisterer, ERDDAP™ vil legge til ny informasjon til den eksisterende informasjonen.</li>
<li class="">Historien er viktig fordi den gjør det mulig for klienter å backtrack til den opprinnelige kilden til dataene.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="infourl">infoUrl<a href="#infourl" class="hash-link" aria-label="Direkte lenke tilinfoUrl" title="Direkte lenke tilinfoUrl" translate="no">​</a></h6>
<ul>
<li class=""><a href="#infourl" class=""> ** infoUrl ** </a> er en REQUIRED global attributt med URL til en nettside med mer informasjon om dette datasettet (Vanligvis på kildeinstitusjonens hjemmeside) .. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;infoUrl&quot;&gt;http://www.globec.org/&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Enten datasettets globale <a href="#global-attributes" class="">sourceAttributes</a> eller dets globale&lt; addAttributes &gt; Må inkludere denne egenskapen.</li>
<li class="">infoUrl er viktig fordi det gjør det mulig for kunder å finne ut mer om data fra den opprinnelige kilden.</li>
<li class="">ERDDAP™ Viser en lenke til infoUrl på datasettets datatilgangsskjema ( * datasetID * .html) , Lag en graf nettside ( * datasetID * .graph) Andre nettsider.</li>
<li class="">Hvis URL-en har en spørringsdel (etter) Det må allerede være <a href="https://en.wikipedia.org/wiki/Percent-encoding" target="_blank" rel="noopener noreferrer" class="">prosent kodet</a> .. Du må kode spesielle tegn i begrensningene (annet enn den opprinnelige &quot;&amp;&quot; og den viktigste &#x27;=&#x27; Hvis noen) inn i formen %HH, hvor HH er den 2-siffers heksadesimale verdien av tegnet. Vanligvis trenger du bare å konvertere noen av tegntegnene: % til %25, og til %26, &quot; til %22,&lt;i% 3C, = i% 3D, &gt; i% 3E, + i% 2B, | til %7C, \[ til %5B, \] til %5D, mellomrom til %20, og konvertere alle tegn over #127 til deres UTF-8-form og deretter prosent kode hver byte av UTF-8-formen til %H-format (spør en programmerer om hjelp) ..
For eksempel, &amp; stationID &gt;=-41004&quot;
blir &amp; stationID %3E=%2241004%22
Prosent koding er vanligvis nødvendig når du får tilgang til ERDDAP via annen programvare enn en nettleser. Browsere håndterer vanligvis prosent koding for deg.
I noen situasjoner, må du prosent kode alle andre tegn enn A-Za-z0-9-_-!. ~ &quot; () \*, men likevel ikke kode den opprinnelige &#x27;&amp;&#x27; eller den viktigste &#x27;=&#x27; ..
Programmeringsspråk har verktøy for å gjøre dette (for eksempel se Java &#x27;s <a href="https://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html" target="_blank" rel="noopener noreferrer" class=""> java.net.URLEncoder </a><br>
<!-- -->og Java Scripts [encodeURIComponent()] (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent" target="_blank" rel="noopener noreferrer" class="">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent</a>) ) og det er
<a href="https://www.url-encode-decode.com/" target="_blank" rel="noopener noreferrer" class="">nettsteder som prosent kode/kode for deg</a> ..</li>
<li class="">Siden datasets.xml er en XML-fil, du må også &amp; kode ALL &#x27;&amp;&#x27;, &#x27;&lt;&#x27;, og &#x27;&gt;&#x27; i URL som &#x27;&amp;&#x27;, &#x27;&lt;&#x27;, og &#x27;&gt;&#x27; etter prosent koding.</li>
<li class="">infoUrl Det er unikt å ERDDAP .. Det er ikke fra noen metadatastandard.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="institution">institusjon<a href="#institution" class="hash-link" aria-label="Direkte lenke tilinstitusjon" title="Direkte lenke tilinstitusjon" translate="no">​</a></h6>
<ul>
<li class=""><a href="#institution" class=""> <strong>institusjon</strong> </a>   (fra <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> og <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> metadatastandarder) er en REQUIRED global attributt med den korte versjonen av navnet på institusjonen som er kilden til disse dataene (vanligvis et akronym, vanligvis&lt;20 tegn). For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;institution&quot;&gt;NASA GSFC&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Enten datasettets globale <a href="#global-attributes" class="">sourceAttributes</a> eller dets globale&lt; addAttributes &gt; Må inkludere denne egenskapen.</li>
<li class="">ERDDAP™ Viser institusjonen når den viser en liste over datasett. Hvis institusjonens navn her er lengre enn 20 tegn, vil bare de første 20 tegnene være synlige i listen over datasett (men hele institusjonen kan ses ved å sette musemarkøren over tilstøtende --ikonet) ..</li>
<li class="">Hvis du legger til institusjon i listen over&lt; categoryAttributes &gt; i ERDDAP &#x27;s <a class="" href="/nb/docs/server-admin/deploy-install#setupxml">config.xml</a> fil, brukere kan enkelt finne datasett fra samme institusjon via ERDDAP Søk etter datasett etter kategori&quot; på hjemmesiden.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="keywords">Nøkkelord<a href="#keywords" class="hash-link" aria-label="Direkte lenke tilNøkkelord" title="Direkte lenke tilNøkkelord" translate="no">​</a></h6>
<ul>
<li class=""><a href="#keywords" class=""> <strong>Nøkkelord</strong> </a>   (fra <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Metadatastandard) er en gjengitt kommadelt liste over ord og korte fraser (For eksempel <a href="https://wiki.earthdata.nasa.gov/display/CMR/GCMD+Keyword+Access" target="_blank" rel="noopener noreferrer" class="">GCDD Science Nøkkelord</a> ) som beskriver datasettet på generell vis, og ikke antar annen kunnskap om datasettet (For eksempel for oseanografiske data, inkluderer hav) .. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;keywords&quot;&gt;ano, circulation, coastwatch, currents, derived, Earth Science &amp;gt; Oceans &amp;gt; Ocean Circulation &amp;gt; Ocean Currents, eastward, eastward\\_sea\\_water\\_velocity, experimental, hf radio, meridional, noaa, northward, northward\\_sea\\_water\\_velocity, nuevo, ocean, oceans, radio, radio-derived, scan, sea, seawater, velocity, water, zonal&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Siden datasets.xml er et XML- dokument, tegnene og&lt;, og &gt; i en egenskap som nøkkelord (For eksempel nøkkelordene &gt; tegnene i GCMD vitenskap) må kodes som &amp;,&lt;, og &gt;, henholdsvis.
Når et datasett lastes inn ERDDAP ,</p>
<ul>
<li class="">&quot; Earth Science &gt;  &quot; er lagt til starten på alle GCMD søkeord som mangler det.</li>
<li class="">GCMD søkeord konverteres til Tittel Case (De første bokstavene er kapitalisert) ..</li>
<li class="">Nøkkelordene er omorganisert i sortert rekkefølge og alle nylinjetegn fjernes.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="keywords_vocabulary">keywords\_vocabulary<a href="#keywords_vocabulary" class="hash-link" aria-label="Direkte lenke tilkeywords\_vocabulary" title="Direkte lenke tilkeywords\_vocabulary" translate="no">​</a></h6>
<ul>
<li class=""><a href="#keywords_vocabulary" class=""> ** keywords\_vocabulary ** </a>   (fra <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Metadatastandard) er en ubesvart attributt: Hvis du følger en retningslinje for ord/fraser i nøkkelordattributten din (For eksempel GCMD Science Nøkkelord) Legg navnet på denne retningslinjen her. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;keywords\\_vocabulary&quot;&gt;GCMD Science Keywords&lt;/att&gt;  </span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="license">lisens<a href="#license" class="hash-link" aria-label="Direkte lenke tillisens" title="Direkte lenke tillisens" translate="no">​</a></h6>
<ul>
<li class=""><a href="#license" class=""> <strong>lisens</strong> </a>   (fra <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Metadatastandard) er en STRONGLY REQUED global attributt med lisens- og/eller bruksbegrensninger. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;license&quot;&gt;\\[standard\\]&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Hvis \[ standard \] &quot; oppstår i attributtverdien, det vil bli erstattet av standarden ERDDAP™ lisens fra&lt;standardLicense&gt; tag in ERDDAP &#x27;s
\[ tomcat \] /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml fil.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="metadata_conventions">Metadata\_Conventions<a href="#metadata_conventions" class="hash-link" aria-label="Direkte lenke tilMetadata\_Conventions" title="Direkte lenke tilMetadata\_Conventions" translate="no">​</a></h6>
<ul>
<li class=""><a href="#metadata_conventions" class=""> ** Metadata\_Conventions ** </a> er fra de utdaterte <a href="https://wiki.esipfed.org/ArchivalCopyOfVersion1" target="_blank" rel="noopener noreferrer" class="">ACDD 1.0</a>   (som ble identifisert i Metadata\_Conventions som- Unidata Datasett Discovery v1.0&quot;) metadatastandard. Attributverdien var en kommadelt liste over metadatakonvensjoner som ble brukt av dette datasettet.
Hvis et datasett bruker ACDD 1.0, er denne attributten STRONGLY KJØPET for eksempel,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;Metadata\\_Conventions&quot;&gt;COARDS, CF-1.6, Unidata Dataset Discovery v1.0&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Men ERDDAP™ Nå anbefaler ACDD-1.3. Hvis du har <a href="#switch-to-acdd-13" class="">byttet datasett til ACDD-1.3</a> bruk av Metadata\_Conventions er STRONGLY DISCOURAGED: bare bruk [&lt;Konvensjoner&gt;] (#Conventions) I stedet.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="processing_level">processing\_level<a href="#processing_level" class="hash-link" aria-label="Direkte lenke tilprocessing\_level" title="Direkte lenke tilprocessing\_level" translate="no">​</a></h6>
<ul>
<li class=""><a href="#processing_level" class=""> ** processing\_level ** </a>   (fra <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Metadatastandard) er en tekstbeskrivelse av behandlingen (For eksempel <a href="https://www.earthdata.nasa.gov/learn/earth-observation-data-basics/data-processing-levels" target="_blank" rel="noopener noreferrer" class="">NASA’s Earth Observation System Data og informasjonssystem databehandling nivåer</a> For eksempel nivå 3) kvalitetskontrollnivå (For eksempel vitenskapskvalitet) av dataene. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;processing\\_level&quot;&gt;3&lt;/att&gt;  </span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="project">Prosjekt<a href="#project" class="hash-link" aria-label="Direkte lenke tilProsjekt" title="Direkte lenke tilProsjekt" translate="no">​</a></h6>
<ul>
<li class=""><a href="#project" class=""> <strong>Prosjekt</strong> </a>   (fra <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Metadatastandard) er en valgfri egenskap for å identifisere prosjektet som datasettet er en del av. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;project&quot;&gt;GTSPP&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Hvis datasettet ikke er en del av et prosjekt, ikke bruk denne egenskapen. Sammenlignet med <a href="#creator_name" class=""> creator\_name </a> Dette er fokusert på prosjektet (ikke en person eller en organisasjon som kan være involvert i flere prosjekter) ..</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="publisher_name">publisher\_name<a href="#publisher_name" class="hash-link" aria-label="Direkte lenke tilpublisher\_name" title="Direkte lenke tilpublisher\_name" translate="no">​</a></h6>
<ul>
<li class=""><a href="#publisher_name" class=""> ** publisher\_name ** </a>   (fra <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Metadatastandard) er den ubegrensede måten å identifisere personen, organisasjonen eller prosjektet som publiserer dette datasettet. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;publisher\\_name&quot;&gt;JPL&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>For eksempel er du utgiver hvis en annen person eller gruppe <a href="#creator_name" class="">opprettet</a> Datasettet og du er bare å reservere det via ERDDAP .. Hvis publisher ikke virkelig gjelder et datasett, utelate denne attributten. Sammenlignet med <a href="#creator_name" class=""> creator\_name </a> , utgiveren sannsynligvis ikke betydelig endret eller rebehandle dataene; utgiveren bare gjør dataene tilgjengelige på et nytt sted.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="publisher_email">publisher\_email<a href="#publisher_email" class="hash-link" aria-label="Direkte lenke tilpublisher\_email" title="Direkte lenke tilpublisher\_email" translate="no">​</a></h6>
<ul>
<li class=""><a href="#publisher_email" class=""> ** publisher\_email ** </a>   (fra <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Metadatastandard) er den ubesvarte måten å identifisere en e-postadresse på (riktig formatert, for eksempel john\<a href="mailto:_smith@grand.org" target="_blank" rel="noopener noreferrer" class="">_smith@grand.org</a>) Dette gir en måte å kontakte utgiveren på. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;publisher\\_email&quot;&gt;john\\_smith@great.org&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Hvis publisher ikke virkelig gjelder et datasett, utelate denne attributten.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="publisher_url">publisher\_url<a href="#publisher_url" class="hash-link" aria-label="Direkte lenke tilpublisher\_url" title="Direkte lenke tilpublisher\_url" translate="no">​</a></h6>
<ul>
<li class=""><a href="#publisher_url" class=""> ** publisher\_url ** </a>   (fra <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Metadatastandard) er den ubesvarte måten å identifisere en URL for organisasjonen som publiserte datasettet, eller en URL med utgiverens informasjon om dette datasettet (Men det er mer hensikten med <a href="#infourl" class=""> infoUrl </a> ) .. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;publisher\\_url&quot;&gt;https://podaac.jpl.nasa.gov&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Hvis publisher ikke virkelig gjelder et datasett, utelate denne attributten.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="real_time">real\_time<a href="#real_time" class="hash-link" aria-label="Direkte lenke tilreal\_time" title="Direkte lenke tilreal\_time" translate="no">​</a></h6>
<ul>
<li class=""><a href="#real_time" class=""> ** real\_time ** </a> er en global streng attributt (Ikke fra noen standard) Viser om dette er en sanntidsdatasett. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;real\\_time&quot;&gt;true&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Hvis dette er falskt (standard) , ERDDAP™ vil cache svar på forespørsler om filtyper der hele filen må opprettes før ERDDAP™ kan begynne å sende svaret til brukeren og gjenbruke dem i opptil ca 15 minutter (f.eks. .nc .png) ..
Hvis dette er sant, ERDDAP™ vil aldri lagre responsfilene og vil alltid returnere nyopprettede filer.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourceurl-attribute">sourceUrl attributt<a href="#sourceurl-attribute" class="hash-link" aria-label="Direkte lenke tilsourceUrl attributt" title="Direkte lenke tilsourceUrl attributt" translate="no">​</a></h6>
<ul>
<li class=""><a href="#sourceurl-attribute" class=""> ** sourceUrl ** </a> er en global attributt med URL-adressen til datakilden. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;sourceUrl&quot;&gt;https://opendap.co-ops.nos.noaa.gov/ioos-dif-sos/SOS&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>(Legg alt på én linje)</p>
<ul>
<li class="">ERDDAP™ vanligvis oppretter denne globale egenskapen automatisk. To unntak er EDDTableFrom Hyrax Filer og EDDTableFraThreddsFiles.</li>
<li class="">Hvis kilden er lokale filer og filene ble opprettet av organisasjonen din, bruk</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;sourceUrl&quot;&gt;(local files)&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Hvis kilden er lokal database og dataene ble opprettet av organisasjonen din, bruk</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;sourceUrl&quot;&gt;(local database)&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">sourceUrl er viktig fordi det gjør det mulig for klienter å backtrack til den opprinnelige kilden til dataene.</li>
<li class="">sourceUrl Det er unikt å ERDDAP .. Det er ikke fra noen metadatastandard.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="standard_name_vocabulary">standard\_name\_vocabulary<a href="#standard_name_vocabulary" class="hash-link" aria-label="Direkte lenke tilstandard\_name\_vocabulary" title="Direkte lenke tilstandard\_name\_vocabulary" translate="no">​</a></h6>
<ul>
<li class=""><a href="#standard_name_vocabulary" class=""> ** standard\_name\_vocabulary ** </a>   (fra <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Metadatastandard) er en ubegrenset attributt for å identifisere navnet på det kontrollerte ordforrådet som variabelen fra <a href="#standard_name" class=""> standard\_name </a> S er tatt. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;standard\\_name\\_vocabulary&quot;&gt;CF Standard Name Table v77&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>For versjon 77 av <a href="https://cfconventions.org/Data/cf-standard-names/current/build/cf-standard-name-table.html" target="_blank" rel="noopener noreferrer" class="">CF standard navn tabell</a> ..
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="subsetvariables">subsetVariables<a href="#subsetvariables" class="hash-link" aria-label="Direkte lenke tilsubsetVariables" title="Direkte lenke tilsubsetVariables" translate="no">​</a></h5>
<ul>
<li class="">** subsetVariables **   (kun for EDDTable-datasett) er en ubegrenset global attributt som lar deg angi en kommadelt liste av [&lt; dataVariable &gt;] (#datavariable)   <a href="#destinationname" class=""> destinationName </a> s å identifisere variabler som har et begrenset antall verdier (angitt på en annen måte: Variabler som hver av verdiene har mange dupliserer) .. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;subsetVariables&quot;&gt;station\\_id, longitude, latitude&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Hvis denne egenskapen er til stede, vil datasettet ha en * datasetID * .subset nettside (og en lenke til det på hver datasettliste) som lar brukerne raskt og enkelt velge ulike undergrupper av dataene.</p>
<ul>
<li class="">Hver gang et datasett lastes, ERDDAP laster og lagrer på disk et bord med alle de forskjellige () kombinasjoner av underdelen Variabelens verdier. ERDDAP™ kan lese det subsetVariables bord og behandle det veldig raskt (spesielt sammenlignet med å lese mange datafiler eller å få data fra en database eller annen ekstern tjeneste) ..</li>
<li class="">Det tillater ERDDAP™ Å gjøre 3 ting:<!-- -->
<ol>
<li class="">Det tillater ERDDAP™ å sette en liste over mulige verdier i en nedtrekksliste på Data Access-skjemaet, Make A Graph-nettsiden og .subset-nettsidene.</li>
<li class="">Det tillater ERDDAP™ å tilby en .subset nettside for det datasettet. Denne siden er interessant fordi det gjør det enkelt å finne gyldige kombinasjoner av verdiene til disse variablene, som for noen datasett og noen variabler er svært, svært vanskelig (nesten umulig) .. Alle brukerforespørsler om distinkt () undergruppe Variable data vil være veldig raske.</li>
<li class="">Hvis det er en brukerforespørsel som bare refererer til en undergruppe av disse variabler, ERDDAP™ Kan raskt lese subsetVariables tabell og svar på forespørselen. Dette kan spare mye tid og innsats for ERDDAP ..</li>
</ol>
</li>
<li class="">Orden av destinationName du angir bestemmer sorteringsordenen på * datasetID * .subset nettside, så du vil vanligvis angi de viktigste variablene først, så det minste viktig. For eksempel, for datasett med tidsseriedata for flere stasjoner, kan du for eksempel bruke,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;subsetVariables&quot;&gt;station\\_id, longitude, latitude&lt;/att&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>slik at verdiene sorteres etter stasjon -_id.</p>
<ul>
<li class="">Det er selvfølgelig ditt valg som variabler å inkludere i subsetVariables Liste, men den foreslåtte bruken er:</li>
</ul>
<p>Generelt inkluderer variabler som du vil ha ERDDAP™ å vise en rullegardinliste over alternativer i datasettets datatilgangsskjema (.html) og Make-A-Graph (.graph) nettsider.</p>
<p>Generelt, inkludere variabler med informasjon om datasettets funksjoner (stasjoner, profiler og/eller baner, spesielt fra <a href="#cdm_timeseries_variables" class="">cdm\_timeserier\_variables</a> , <a href="#cdm_profile_variables" class="">cdm\_profil\_variabler</a> , <a href="#cdm_trajectory_variables" class="">cdm\_trajectory\_variables</a> ) .. Det er bare noen få forskjellige verdier for disse variablene slik at de fungerer godt med nedtrekkslister.</p>
<p>Ikke inkludere noen datavariabler knyttet til individuelle observasjoner (f.eks. tid, temperatur, saltholdighet, strømhastighet) i subsetVariables Liste. Det er for mange forskjellige verdier for disse variablene, så en nedtrekksliste vil være langsom å laste og være vanskelig å jobbe med (eller ikke arbeid) ..</p>
<ul>
<li class="">Hvis antall forskjellige kombinasjoner av disse variabler er større enn ca. 1.000.000, bør du vurdere å begrense subsetVariables som du angir for å redusere antall forskjellige kombinasjoner til under 1.000.000; ellers * datasetID * .subset websider kan genereres sakte. I ekstreme tilfeller kan datasettet ikke lastes inn ERDDAP™ Fordi å generere listen over forskjellige kombinasjoner bruker for mye minne. I så fall må du fjerne noen variabler fra subsetVariables Liste.</li>
<li class="">Hvis antallet forskjellige verdier for en undergruppevariabel er større enn ca. 20 000, bør du ikke vurdere å inkludere den variabelen i listen over subsetVariables Ellers tar det lang tid å overføre * datasetID * .subset, * datasetID * .graf, og * datasetID * .html nettsider. Også på en Mac er det svært vanskelig å gjøre utvalg fra en nedtrekksliste med mer enn 500 elementer på grunn av mangelen på en rullelinje. Et kompromiss er: Fjern variabler fra listen når brukerne ikke er sannsynlig å velge verdier fra en nedtrekksliste.</li>
<li class="">Du bør teste hvert datasett for å se om subsetVariables Innstillingen er ok. Hvis kildedataserveren er langsom og det tar for lang tid (eller mislykkes) å laste ned dataene, enten redusere antall variabler angitt eller fjerne subsetVariables global attributt.</li>
<li class="">Undersett Variabler er svært nyttige. Så hvis datasettet ditt er egnet, vennligst lag en subsetVariables attributt.</li>
<li class="">EDDTableFra SOS Legger automatisk til<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;subsetVariables&quot;&gt;station\\_id, longitude, latitude&lt;/att&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Når datasettet opprettes.</p>
<ul>
<li class="">Mulig advarsel: hvis en bruker som bruker * datasetID * .subset-websiden velger en verdi som har en vogn Return eller nylinjetegn, * datasetID * .subset vil mislykkes. ERDDAP™ kan ikke jobbe med dette problemet på grunn av noen HTML detaljer. I alle fall er det nesten alltid en god ide å fjerne vognen tilbake og nylinje tegn fra dataene. For å hjelpe deg å løse problemet, hvis EDDTable. subsetVariables Datatabell metode i ERDDAP oppdager dataverdier som vil forårsake problemer, vil det sende en advarsel med en liste over fornærmende verdier til e-posten Alt Til e-postadresser angitt i config.xml. På den måten vet du hva som må fikses.</li>
<li class=""><strong>Forhåndsgenererte undergrupper.</strong> Vanligvis når ERDDAP™ laster et datasett, det krever det forskjellige () undergruppevariabler data tabell fra datakilden, bare via en normal dataforespørsel. I noen tilfeller er disse dataene ikke tilgjengelige fra datakilden eller hente fra datakilden kan være vanskelig på datakildeserveren. I så fall kan du gi en tabell med informasjonen i en .json eller .csv-fil med navnet <em>tomcat</em> /innhold/erddap/subset/ * datasetID *  .json   (eller csv) .. Hvis tilstede, ERDDAP™ vil lese den en gang når datasettet er lastet og bruke den som kilde til undergruppedata.</li>
<li class="">Hvis det er en feil under lesing av den, vil datasettet ikke kunne lastes.</li>
<li class="">Det må ha samme kolonnenavn (For eksempel samme tilfelle) som&lt; subsetVariables &gt;, men kolonnene kan være i enhver rekkefølge.</li>
<li class="">Det kan ha ekstra kolonner (de vil bli fjernet og nylig overflødige rader vil bli fjernet) ..</li>
<li class="">Manglende verdier bør mangle verdier (ikke falske tall som -99) ..</li>
<li class="">.json filer kan være litt vanskeligere å lage, men håndtere Unicode tegn godt. .json Filer er enkle å opprette hvis du oppretter dem med ERDDAP ..</li>
<li class="">.csv-filer er enkle å jobbe med, men kun egnet for ISO 8859-1 tegn. .csv-filer må ha kolonnenavn på første rad og data på følgende rader.</li>
<li class="">For store datasett eller når&lt; subsetVariables &gt; er feilaktig, tabellen over kombinasjoner av verdier kan være stor nok til å forårsake for mye data eller OutOfMemory feil. Løsningen er å fjerne variabler fra listen over&lt; subsetVariables &gt; som det er et stort antall verdier for, eller fjerne variabler etter behov til størrelsen på tabellen er rimelig. Uansett feil, deler av ERDDAP™ som bruker subsetVariables Systemet fungerer ikke bra (For eksempel lastes nettsider svært sakte) Når det er for mange rader (For eksempel mer enn en million) i tabellen.</li>
<li class="">subsetVariables har ingenting å gjøre med å spesifisere hvilke variabler brukere kan bruke i begrensninger, dvs. hvordan brukerne kan be om undergrupper av datasettet. ERDDAP™ alltid tillater begrensninger å referere til noen av variablene.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="time-units">Tidsenheter<a href="#time-units" class="hash-link" aria-label="Direkte lenke tilTidsenheter" title="Direkte lenke tilTidsenheter" translate="no">​</a></h6>
<p><a href="#time-units" class="">Tid og tid</a> kolonnene skal ha ISO 8601:2004 (E) Formatert dato+tid Z-strenger (For eksempel, 1985-01-31T15:31:00Z) ..
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">sammendrag<a href="#summary" class="hash-link" aria-label="Direkte lenke tilsammendrag" title="Direkte lenke tilsammendrag" translate="no">​</a></h6>
<ul>
<li class=""><a href="#summary" class=""> <strong>sammendrag</strong> </a>   (fra <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> og <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> metadatastandarder) er en REQUIRED global attributt med en lang beskrivelse av datasettet (vanligvis&lt;500 tegn). For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;summary&quot;&gt;VIIRSN Level-3 Standard Mapped Image, Global, 4km, Chlorophyll a, Daily. The Visible and Infrared Imager/Radiometer Suite (VIIRS) is a multi-disciplinary instrument that flies on the National Polar-orbiting Operational Environmental Satellite System (NPOESS) series of spacecraft, including the NPOESS Preparatory Project (NPP).&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Enten datasettets globale <a href="#global-attributes" class="">sourceAttributes</a> eller dets globale&lt; addAttributes &gt; Må inkludere denne egenskapen.</li>
<li class="">sammendrag er svært viktig fordi det gjør det mulig for klienter å lese en beskrivelse av datasettet som har mer informasjon enn tittelen og dermed raskt forstå hva datasettet er.</li>
<li class="">Råd: Vennligst skriv sammendraget slik at det vil fungere for å beskrive datasettet til en tilfeldig person du møter på gaten eller til en kollega. Husk å inkludere <a href="https://en.wikipedia.org/wiki/Five_Ws" target="_blank" rel="noopener noreferrer" class="">Fem W og en H</a> Hvem har laget datasettet? Hvilke opplysninger ble samlet? Når ble dataene samlet? Hvor ble den samlet? Hvorfor ble den samlet? Hvordan ble det samlet?</li>
<li class="">ERDDAP™ Viser sammendraget i datasettets dataakseskjema ( * datasetID * .html) , Lag en graf nettside ( * datasetID * .graph) Andre nettsider. ERDDAP™ bruker sammendraget når du oppretter FGDC og ISO 19115 dokumenter.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="testoutofdate">testOutOfDate<a href="#testoutofdate" class="hash-link" aria-label="Direkte lenke tiltestOutOfDate" title="Direkte lenke tiltestOutOfDate" translate="no">​</a></h6>
<ul>
<li class=""><a href="#testoutofdate" class=""> ** testOutOfDate ** </a>   (et valgfritt ERDDAP -spesifisert global metadataattributt, ikke fra noen standard) angir, på en forenklet måte, når dataene for et datasett i nær virkelighet anses som utdatert, angitt som now-  <em>n Enheter</em> For eksempel: now- 2 dager for data som vanligvis vises 24-48 timer etter tidsverdien. For prognosedata, bruk nå <strong>+</strong>  <em>n Enheter</em> For eksempel, nå +6 dager for prognoser som er, i det meste, 8 dager i fremtiden. (Se <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#now" target="_blank" rel="noopener noreferrer" class=""> now-  <em>n Enheter</em> Syntaksbeskrivelse</a> ..) Hvis den maksimale tidsverdien for datasettet er nyere enn den angitte tiden, anses datasettet som oppdatert. Hvis den maksimale tidsverdien er eldre enn den angitte tiden, anses datasettet som oppdatert. For utdaterte datasett er det sannsynligvis et problem med datakilden, så ERDDAP™ Kunne ikke få tilgang til data fra nyere tidspunkt.</li>
</ul>
<p>Den testOutOfDate verdi vises som en kolonne i <a href="#eddtablefromalldatasets" class=""> allDatasets Datasett</a> i din ERDDAP .. Den brukes også til å beregne OutOfDate-indeksen, som er en annen kolonne i allDatasets - Datasett.
Hvis indeksen er&lt;1. datasettet anses oppdatert.
Hvis indeksen er&lt;=1, datasettet anses utdatert.
Hvis indeksen er&lt;=2, datasettet anses svært utdatert.</p>
<p>Den testOutOfDate Verdien brukes også av ERDDAP™ å genererehttps://<em>yourDomain</em>/erddap/outOfDateDatasets.htmlNettside ( <a href="https://coastwatch.pfeg.noaa.gov/erddap/outOfDateDatasets.html" target="_blank" rel="noopener noreferrer" class="">eksempel</a> ) som viser datasettene som har&lt; testOutOfDate &gt; tagger, med datasett rangert etter hvor utdatert de er. Hvis du endrer filtypen (fra .html til .csv, .jsonlCSV , .nc , .tsv ...) , kan du få den informasjonen i ulike filformater.</p>
<p>Når det er mulig, <a href="#generatedatasetsxml" class="">Generer DatasetsXml</a> Legger til en testOutOfDate til den globale addAttributes av et datasett. Denne verdien er et forslag basert på informasjonen som er tilgjengelig for CreateDatasetsXml. Hvis verdien ikke er riktig, endre den.</p>
<p>&quot;Uten dato&quot; her er svært forskjellig fra [&lt;Last på nytt EveryNMinutes&gt;] (#reloadvarelser) , som omhandler hvor oppdatert ERDDAP kunnskap om datasettet er. Den&lt; testOutOfDate &gt; systemet antar det ERDDAP Informasjonen om datasettet er oppdatert. Spørsmålet&lt; testOutOfDate &gt; Handel med er: ser det ut til å være noe galt med kilden til dataene, noe som forårsaker at nyere data ikke er tilgjengelige av ERDDAP ?</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="title">tittel<a href="#title" class="hash-link" aria-label="Direkte lenke tiltittel" title="Direkte lenke tiltittel" translate="no">​</a></h6>
<ul>
<li class=""><a href="#title" class=""> <strong>tittel</strong> </a>   (fra <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> og <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> metadatastandarder) er en REQUIRED global attributt med kort beskrivelse av datasettet (vanligvis&lt;=95 tegn). For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;title&quot;&gt;VIIRSN Level-3 Mapped, Global, 4km, Chlorophyll a, Daily&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Enten datasettets globale <a href="#global-attributes" class="">sourceAttributes</a> eller dets globale&lt; addAttributes &gt; Må inkludere denne egenskapen.</li>
<li class="">tittel er viktig fordi hver liste over datasett presentert av ERDDAP   (Andre enn søkeresultater) lister datasett i alfabetisk rekkefølge, etter tittel. Så hvis du vil angi rekkefølgen av datasett, eller har noen datasett gruppert sammen, må du opprette titler med det i tankene. Mange lister over datasett (For eksempel som svar på et kategorisøk) Vis en undergruppe av hele listen og i en annen rekkefølge. Så tittelen for hvert datasett skal stå på egen hånd.</li>
<li class="">Hvis tittelen inneholder ordet &quot; (alle bokstaver) Da får datasettet en lavere rangering i søk.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="axisvariable">&lt; axisVariable &gt;<a href="#axisvariable" class="hash-link" aria-label="Direkte lenke til&lt; axisVariable &gt;" title="Direkte lenke til&lt; axisVariable &gt;" translate="no">​</a></h5>
<ul>
<li class="">[ ** &lt; axisVariable &gt; ** ] (#aksevariabel) brukes til å beskrive en dimensjon (Også kalt &quot;akse&quot;) ..
For EDDGrid Datasett, ett eller flere axisVariable Tags er REQUIRED, og alle <a href="#datavariable" class=""> dataVariable s</a> Del/bruk alltid alle aksevariabler. ( <a href="#why-just-two-basic-data-structures" class="">Hvorfor?</a>   <a href="#dimensions" class="">Hva om de ikke gjør det?</a> )<br>
<!-- -->Det må være en aksevariabel for hver dimensjon av datavariabler.
Akselvariabler må spesifiseres i den rekkefølgen datavariabler bruker dem.
(EDDTable datasett kan ikke bruke&lt; axisVariable &gt; tags.)
Et kjøttet eksempel er:</li>
</ul>
<blockquote>
<p>  &lt;axisVariable&gt;<br>
<!-- -->      &lt;<a href="#sourcename" class="">sourceName</a>\&gt;MT&lt;/sourceName&gt;<br>
<!-- -->      &lt;<a href="#destinationname" class="">destinationName</a>\&gt;time&lt;/destinationName&gt;<br>
<!-- -->      &lt;addAttributes&gt;<br>
<!-- -->        &lt;att name=&quot;<a href="#units" class="">units</a>&quot;&gt;days since 1902-01-01T12:00:00Z&lt;/att&gt;<br>
<!-- -->      &lt;/addAttributes&gt;<br>
<!-- -->  &lt;/axisVariable&gt;</p>
</blockquote>
<p>&lt; axisVariable &gt; støtter følgende undertekster:</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcename">&lt; sourceName \&gt;<a href="#sourcename" class="hash-link" aria-label="Direkte lenke til&lt; sourceName \&gt;" title="Direkte lenke til&lt; sourceName \&gt;" translate="no">​</a></h6>
<ul>
<li class="">[&lt; sourceName \&gt;] (#kildenavn) - Datakildens navn på variabelen. Dette er navnet som ERDDAP™ vil bruke når du ber data fra datakilden. Dette er navnet som ERDDAP™ vil se etter når data returneres fra datakilden. Dette er sensitivt. Dette er reQUIRED.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="destinationname">&lt; destinationName \&gt;<a href="#destinationname" class="hash-link" aria-label="Direkte lenke til&lt; destinationName \&gt;" title="Direkte lenke til&lt; destinationName \&gt;" translate="no">​</a></h6>
<ul>
<li class="">[&lt; destinationName \&gt;] (#destinasjonsnavn) er navnet på variabelen som vil bli vist og brukt av ERDDAP™ brukere.<!-- -->
<ul>
<li class="">Dette er valgfritt. Hvis fraværende, sourceName er brukt.</li>
<li class="">Dette er nyttig fordi det lar deg endre en kryptisk eller merkelig sourceName ..</li>
<li class="">destinationName er tilfelle følsom.</li>
<li class="">destinationName S må begynne med et brev (A-Z, a-z) og må følges av 0 eller flere tegn (A-Z, a-z, 0-9 og \_) .. («-» ble tillatt før ERDDAP™ versjon 1.10.) Denne begrensningen tillater aksevariable navn å være de samme i ERDDAP™ i responsfilene og i all programvare der disse filene vil bli brukt, inkludert programmeringsspråk (som Python , Matlab , og Java Skript) der det finnes lignende begrensninger på variabelnavn.</li>
<li class="">I EDDGrid datasett, <a href="#destinationname" class="">lengdegrad, breddegrad, høyde, dybde og tid</a> aksevariabler er spesielle.
 </li>
</ul>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="axisvariable-addattributes">axisVariable  &lt;addAttributes&gt;<a href="#axisvariable-addattributes" class="hash-link" aria-label="Direkte lenke tilaxisVariable  &lt;addAttributes&gt;" title="Direkte lenke tilaxisVariable  &lt;addAttributes&gt;" translate="no">​</a></h6>
<ul>
<li class="">[&lt; addAttributes &gt;] (#variable-addisjoner) definerer et valgfritt sett av attributter ( <em>Navn</em> = <em>verdi</em> ) som legges til kildeens attributter for en variabel, for å gjøre kombinerte attributter for en variabel.
Hvis variabelen er <a href="#variable-addattributes" class="">sourceAttributes</a> eller&lt; addAttributes &gt; Inkluderer <a href="#scale_factor" class=""> scale\_factor og/eller add\_offset </a> attributter, deres verdier vil bli brukt til å pakke ut data fra kilden før distribusjon til klienten
(resultat Verdi = kilde Verdi \* scale\_factor + add\_offset ) .. Den upakkede variabelen vil være av samme type data (For eksempel flyte) som scale\_factor og add\_offset verdier.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="datavariable">&lt; dataVariable &gt;<a href="#datavariable" class="hash-link" aria-label="Direkte lenke til&lt; dataVariable &gt;" title="Direkte lenke til&lt; dataVariable &gt;" translate="no">​</a></h5>
<ul>
<li class="">[ ** &lt; dataVariable &gt; ** ] (#datavariable) Er en reQUIRED (For nesten alle datasett) Merke i&lt;datasett&gt; tag som brukes til å beskrive en datavariabel. Det må være 1 eller flere tilfeller av denne etiketten. Et kjøttet eksempel er:</li>
</ul>
<blockquote>
<p>  &lt;dataVariable&gt;<br>
<!-- -->      &lt;<a href="#sourcename" class="">sourceName</a>\&gt;waterTemperature&lt;/sourceName&gt;<br>
<!-- -->      &lt;<a href="#destinationname" class="">destinationName</a>\&gt;sea\_water\_temperature&lt;/destinationName&gt;<br>
<!-- -->      <a href="#datatype" class="">&lt;dataType&gt;</a>float&lt;/dataType&gt;<br>
<!-- -->      &lt;addAttributes&gt;<br>
<!-- -->        &lt;att name=&quot;<a href="#ioos_category" class="">ioos\_category</a>&quot;&gt;Temperature&lt;/att&gt;<br>
<!-- -->        &lt;att name=&quot;<a href="#long_name" class="">long\_name</a>&quot;&gt;Sea Water Temperature&lt;/att&gt;<br>
<!-- -->        &lt;att name=&quot;<a href="#standard_name" class="">standard\_name</a>&quot;&gt;sea\_water\_temperature&lt;/att&gt;<br>
<!-- -->        &lt;att name=&quot;<a href="#units" class="">units</a>&quot;&gt;degree\_C&lt;/att&gt;<br>
<!-- -->      &lt;/addAttributes&gt;<br>
<!-- -->  &lt;/dataVariable&gt;</p>
</blockquote>
<p>&lt; dataVariable &gt; støtter følgende undertekster:</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcename-1">&lt; sourceName &gt;<a href="#sourcename-1" class="hash-link" aria-label="Direkte lenke til&lt; sourceName &gt;" title="Direkte lenke til&lt; sourceName &gt;" translate="no">​</a></h6>
<ul>
<li class="">[&lt; sourceName &gt;] (#kildenavn) - Datakildens navn på variabelen. Dette er navnet som ERDDAP™ vil bruke når du ber data fra datakilden. Dette er navnet som ERDDAP™ vil se etter når data returneres fra datakilden. Dette er sensitivt. Dette er reQUIRED.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="groups">grupper<a href="#groups" class="hash-link" aria-label="Direkte lenke tilgrupper" title="Direkte lenke tilgrupper" translate="no">​</a></h6>
<p>CF la til støtte for grupper med CF v1.8. Starter i ~2020, NetCDF verktøy støtte å sette variabler i grupper i en .nc fil. I praksis betyr dette bare at variablene har et langt navn som identifiserer gruppen (s) og variabelnavnet, for eksempel gruppe1a/gruppe2c/varName . ERDDAP™ støtter grupper ved å konvertere &quot;/&quot; er i variabelens&lt; sourceName &gt; til &quot;__&quot; er i variabelen&lt; destinationName &gt;, for eksempel gruppe1a\_group2c\_varName . (Når du ser det, bør du innse at grupper ikke er mye mer enn et syntaksmøte.) Når variabler er oppført i ERDDAP™ Alle variabler i en gruppe vil vises sammen og etterlikne den underliggende gruppe. \[ Hvis ERDDAP™ , spesielt Generere datasett Xml, fungerer ikke så vel som det kan med kildefiler som har grupper, vennligst send en prøvefil til Chris. John på noaa.gov. \]</p>
<p>EDDTableFromFiles datasett kan bruke noen spesialkodet, pseudo sourceName for å definere nye datavariabler, f.eks. for å fremme en global attributt som er en datavariabel. Se <a href="#pseudo-sourcenames" class="">denne dokumentasjonen</a> ..</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="hdf-structures">HDF Strukturer<a href="#hdf-structures" class="hash-link" aria-label="Direkte lenke tilHDF Strukturer" title="Direkte lenke tilHDF Strukturer" translate="no">​</a></h6>
<p>Begynner med ERDDAP™ v2.12, EDDGrid Fra NcFiles og EDDGrid FraNcFiles Upakket kan lese data fra &quot;strukturer&quot; i .nc 4 og .hdf 4 filer. For å identifisere en variabel som er fra en struktur,&lt; sourceName &gt; Må bruke formatet: <em>FullstrekningName</em>  |  <em>medlemName</em> , for eksempel gruppe1/myStruct | Min medlem.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="fixed-value-sourcenames">Fast verdikildeNames<a href="#fixed-value-sourcenames" class="hash-link" aria-label="Direkte lenke tilFast verdikildeNames" title="Direkte lenke tilFast verdikildeNames" translate="no">​</a></h6>
<p>I et EDDTable datasett, hvis du vil opprette en variabel (med en enkelt fast verdi) Dette er ikke i kildedatasettet, bruk:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=*fixedValue*&lt;/sourceName&gt;  </span><br></span></code></pre></div></div>
<p>Det opprinnelige tegnet forteller ERDDAP™ som en fast Verdi vil følge.</p>
<ul>
<li class="">For numeriske variabler må den faste verdien være en enkelt finittverdi eller NaN (tilfelle ufølsom, f.eks.) ..</li>
<li class="">For strengvariabler må den faste verdien være enkelt, <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer" class="">JSON-stil streng</a>   (med spesielle tegn rømt med \ tegn) , f.eks.  \==&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \ \ \</li>
<li class="">For en tidsstempelvariabel angir du den faste verdien som et tall i &quot;seconds since 1970-01-01T00:00:00Z&quot; og bruk
enhet=sekund siden 1970-01-01T00:00:00Z .</li>
</ul>
<p>De andre taggene til&lt; dataVariable Arbeid som om dette var en vanlig variabel.
For eksempel å skape en variabel kalt høyde med en fast verdi på 0,0 (flyte) Bruk:</p>
<blockquote>
<p>&lt;sourceName&gt;=0&lt;/sourceName&gt;<br>
<a href="#destinationname" class="">&lt;destinationName\&gt;</a>altitude&lt;/destinationName&gt;<br>
<a href="#datatype" class="">&lt;dataType&gt;float&lt;/dataType&gt;</a></p>
</blockquote>
<p>For uvanlige situasjoner kan du til og med angi en actual\_range AddAttribute, som vil overstyre de forventede verdiene til destinasjonMin og destinasjonMax (som ellers vil være lik den faste Verdi) ..
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="script-sourcenamesderived-variables">SkriptkildeNames/Derived Variabler<a href="#script-sourcenamesderived-variables" class="hash-link" aria-label="Direkte lenke tilSkriptkildeNames/Derived Variabler" title="Direkte lenke tilSkriptkildeNames/Derived Variabler" translate="no">​</a></h6>
<p>Begynner med ERDDAP™ v2.10, i en <a href="#eddtablefromfiles" class="">EDDTableFra Filer</a> , <a href="#eddtablefromdatabase" class="">EDDTableFraDatabase</a> , eller <a href="#eddtablefromfilenames" class="">EDDTableFromFileNames</a> Datasett,&lt; sourceName &gt; kan være
Et uttrykk (en ligning som evalueres til en enkelt verdi) , å bruke formatet</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=*expression*&lt;/sourceName&gt;  </span><br></span></code></pre></div></div>
<p>eller et skript (En rekke uttalelser som returnerer en enkelt verdi) , å bruke formatet</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=*script*&lt;/sourceName&gt;  </span><br></span></code></pre></div></div>
<p>ERDDAP™ avhengig av <a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="">Apache-prosjektets</a>   <a href="https://commons.apache.org/proper/commons-jexl/" target="_blank" rel="noopener noreferrer" class=""> Java Uttrykksspråk (JEXL) </a>   (lisens: <a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank" rel="noopener noreferrer" class="">Apache</a> ) å evaluere uttrykkene og kjøre skriptene.
Beregningen for en gitt ny variabel gjøres innen én rad av resultatene, gjentatte ganger for alle rader.
Uttrykkene og skriptene bruker en Java - og Java Script-like syntaks og kan bruke noen av
<a href="https://commons.apache.org/proper/commons-jexl/reference/syntax.html" target="_blank" rel="noopener noreferrer" class="">Operatører og metoder som er bygget inn i JEXL</a> ..
Manusene kan også bruke metoder (funksjoner) fra disse klassene:</p>
<ul>
<li class=""><a class="" href="/nb/docs/dokka/-e-r-d-d-a-p/com.cohort.util/-script-calendar2">Kalender2</a> , som er en innpakning for noen av de statiske, tids- og kalenderrelaterte metodene i com.cohort.util.Calendar2 ( <a class="" href="/nb/acknowledgements#cohort-software">lisens</a> ) .. For eksempel
Calendar2.parseToEpochSeconds ( <em>kildetid, dato Tidsformat</em> ) vil tolke kilden Tidsstreng via datoenTimeFormat-strengen og returnere en &quot;seconds since 1970-01-01T00:00:00Z&quot;   (epokesekunder) dobbel verdi.</li>
<li class=""><a class="" href="/nb/docs/dokka/-e-r-d-d-a-p/com.cohort.util/-script-math">Math</a> , som er en wrapper for nesten alle de statiske, matematisk-relaterte metoder i <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html" target="_blank" rel="noopener noreferrer" class="">Java.lang. Math</a> .. For eksempel Math.atan2 ( <em>y, x</em> ) tar i rektangulære koordinater (y, x) og returnere polare koordinater (En rekke dobbler med \[ r, theta \] ) ..</li>
<li class=""><a class="" href="/nb/docs/dokka/-e-r-d-d-a-p/com.cohort.util/-script-math2">Math2</a> , som er en wrapper for nesten alle de statiske, matterelaterte metoder i com.cohort.util. Math2 ( <a class="" href="/nb/acknowledgements#cohort-software">lisens</a> ) .. For eksempel
Math2.roundTo ( <em>d, nPlaces</em> ) vil avrunde d til det angitte antall siffer til høyre for desimalpunktet.</li>
<li class="">String, som gir deg tilgang til alle statiske, strengrelaterte metoder i <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String" target="_blank" rel="noopener noreferrer" class="">Java.lang. Streng</a> .. String objekter i ERDDAP™ uttrykk og skript kan bruke noen av sine tilknyttede Java metoder, som beskrevet i java.lang. Strengdokumentasjon. For eksempel String.valueOf (d) vil konvertere dobbelverdi d til en streng (Selv om du også kan bruke &quot;+d) ..</li>
<li class=""><a class="" href="/nb/docs/dokka/-e-r-d-d-a-p/com.cohort.util/-script-string2">String2</a> , som er en wrapper for de fleste av de statiske, Streng- og rekkerelaterte metoder i com.cohort.util.String2 ( <a class="" href="/nb/acknowledgements#cohort-software">lisens</a> ) .. For eksempel String2 .z eroPad ( <em>nummer, nDigits</em> ) vil legge til 0 til venstre for tallstrengen slik at det totale antall siffer er nDigits (f.eks. String2 .z eroPad (&quot;6&quot;, 2) kommer tilbake &quot;06&quot;) ..</li>
<li class=""><a class="" href="/nb/docs/dokka/-e-r-d-d-a-p/com.cohort.util/-script-row">rad</a> , som har ikke-statiske metoder for å få tilgang til dataene fra de ulike søylene i gjeldende rad i kildedatatabellen. For eksempel rad.kolonneString ( &quot; år&quot;) leser verdien fra kolonnen &quot; år&quot; som en streng, mens rad.kolonne Int ( &quot; år&quot;) Leser verdien fra &quot;året&quot; kolonne som et heltall.</li>
</ul>
<p>Av sikkerhetsgrunner kan uttrykk og skript ikke bruke andre klasser enn de 6. ERDDAP™ håndhever denne begrensningen ved å opprette en standard svartliste (hvilken svartliste alle klasser) Så en hvitliste (som spesielt tillater 6 klasser beskrevet ovenfor) .. Hvis du trenger andre metoder og/eller andre klasser for å gjøre arbeidet ditt, vennligst send dine forespørsler til Chris. John på noaa.gov.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="effektivitet">Effektivitet<a href="#effektivitet" class="hash-link" aria-label="Direkte lenke tilEffektivitet" title="Direkte lenke tilEffektivitet" translate="no">​</a></h6>
<p>For EDDTableFromFiles datasett er det bare en veldig, svært minimal (sannsynligvis ikke merkbar) Nedsettelse for forespørsler om data fra disse variabler. For EDDTableFromDatabase, det er enorm hastighetsstraff for forespørsler som inkluderer begrensninger på disse variabler (f.eks. (&amp;longitude0360&gt;30&amp;longitude0360&lt;40) fordi begrensningene ikke kan overføres til databasen, så databasen må returnere mye mer data til ERDDAP™   (som er svært tidkrevende) slik at ERDDAP™ kan opprette den nye variabelen og bruke begrensningen. Å unngå det verste tilfellet (der det ikke er noen begrensninger som overføres til databasen) , ERDDAP™ kaster en feilmelding slik at databasen ikke trenger å returnere hele innholdet i tabellen. (Hvis du vil omgå dette, legger du til en begrensning i en ikke-script kolonne som alltid vil være sant, for eksempel, og tid&lt;3000-01-01.) Av denne grunn, med EDDTableFromDatabase, er det sannsynligvis alltid bedre å opprette en avledet kolonne i databasen i stedet for å bruke sourceName = script in ERDDAP ..</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="oversikt-over-hvordan-et-uttrykk-eller-skript-brukes">Oversikt over hvordan et uttrykk (Eller skript) Brukes:<a href="#oversikt-over-hvordan-et-uttrykk-eller-skript-brukes" class="hash-link" aria-label="Direkte lenke tilOversikt over hvordan et uttrykk (Eller skript) Brukes:" title="Direkte lenke tilOversikt over hvordan et uttrykk (Eller skript) Brukes:" translate="no">​</a></h6>
<p>Som svar på en brukers forespørsel om tabelldata, ERDDAP™ får data fra en rekke kildefiler. Hver kildefil vil generere en tabell med rå (Rett fra kilden) Data. ERDDAP™ vil deretter gå gjennom tabellen av rådata, rad på rad og evaluere uttrykket eller skriptet én gang for hver rad, for å opprette en ny kolonne som har det uttrykket eller skriptet som en sourceName ..</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="generer-datasetsxml">Generer DatasetsXml<a href="#generer-datasetsxml" class="hash-link" aria-label="Direkte lenke tilGenerer DatasetsXml" title="Direkte lenke tilGenerer DatasetsXml" translate="no">​</a></h6>
<p>Merk at Generer datasett Xml er helt uvitende når det er behov for å skape en variabel med&lt; sourceName &gt;= <em>uttrykk</em> &lt;/ sourceName &gt;. Du må opprette variabelen i datasets.xml for hånd.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="eksempler-på-uttrykk">Eksempler på uttrykk:<a href="#eksempler-på-uttrykk" class="hash-link" aria-label="Direkte lenke tilEksempler på uttrykk:" title="Direkte lenke tilEksempler på uttrykk:" translate="no">​</a></h6>
<p>Her er noen komplette eksempler på datavariabler som bruker et uttrykk til å opprette en ny kolonne med data. Vi forventer at disse eksemplene (og varianter av dem) vil dekke rundt 95 % av bruken av alle uttrykksavledede sourceName S.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="kombinere-separat--dato-og-time-kolonner-i-en-enhetlig-tidskolonne">Kombinere separat &quot; dato&quot; og &quot;time&quot; kolonner i en enhetlig tidskolonne:<a href="#kombinere-separat--dato-og-time-kolonner-i-en-enhetlig-tidskolonne" class="hash-link" aria-label="Direkte lenke tilKombinere separat &quot; dato&quot; og &quot;time&quot; kolonner i en enhetlig tidskolonne:" title="Direkte lenke tilKombinere separat &quot; dato&quot; og &quot;time&quot; kolonner i en enhetlig tidskolonne:" translate="no">​</a></h6>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dataVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;=Calendar2.parseToEpochSeconds(row.columnString(&quot;date&quot;) + &quot;T&quot; + </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            row.columnString(&quot;time&quot;) + &quot;Z&quot;, &quot;yyyy-MM-dd&#x27;T&#x27;HH:mm:ss&#x27;Z&#x27;&quot;)&lt;/sourceName&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;time&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;dataType&gt;double&lt;/dataType&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;att name=&quot;units&quot;&gt;seconds since 1970-01-01&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dataVariable&gt;</span><br></span></code></pre></div></div>
<p>Det sourceName Uttrykk gjør et nytt &quot;time&quot; kolonne ved å kombinere strengverdiene fra &quot;dato&quot; ( yyyy-MM-dd ) og &quot;time&quot;   (HH:mm<!-- -->:ss<!-- -->) kolonner på hver rad i kildefilen, og ved å konvertere den strengen til en &quot;seconds since 1970-01-01&quot;   (epokesekunder) dobbel verdi.</p>
<p>Eller selvfølgelig, du må tilpasse tidsformatstrengen for å håndtere det spesifikke formatet i hvert datasetts kildedato og tidskolonner, se
<a href="#string-time-units" class="">Tidsenhetsdokumentasjon</a> ..</p>
<p>Teknisk sett trenger du ikke å bruke Calendar2.parseToEpochSeconds () å konvertere den kombinerte datoen + tiden til epokesekunder. Du kan bare sende datoen + tidsstreng til ERDDAP™ og angi format (f.eks.
yyyy-MM-dd &#x27;T&#x27;HH:mm<!-- -->:ss<!-- -->&#x27;Z&#x27;) via enhetsattributten. Men det er betydelige fordeler å konvertere til epokeSeconds - spesielt, EDDTableFromFiles kan så enkelt holde styr på rekkevidden av tidsverdier i hver fil og så raskt bestemme om å se i en gitt fil når du svarer på en forespørsel som har tidsbegrensninger.</p>
<p>Et relatert problem er behovet for å opprette en samlet dato + tidskolonne fra en kilde med separat år, måned, dato, time, minutt, andre. Løsningen er veldig lik, men du trenger ofte å null-pad mange av feltene, slik at for eksempel måned (1-12) og dato (1 - 31) Har alltid to sifre. Her er et eksempel på år, måned, dato:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=Calendar2.parseToEpochSeconds(row.columnString(&quot;year&quot;) + </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String2.zeroPad(row.columnString(&quot;month&quot;), 2) + </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String2.zeroPad(row.columnString(&quot;date&quot;), 2), &quot;yyyyMMdd&quot;)&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Et relatert problem er behovet for å opprette en enhetlig breddegrads- eller lengdegradskolonne ved å kombinere dataene i kildetabellens separate grader, minutter og sekunders kolonner, som hver er lagret som heltal. For eksempel</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=row.columnInt(&quot;deg&quot;) + row.columnInt(&quot;min&quot;)/60.0 + </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        row.columnInt(&quot;sec&quot;)/3660.0&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="konvertere-en-kolonne-som-heter-lon-med-lengdegradsverdi-fra-0---360-til-en-kolonne-som-heter--lengdegrad-med-verdier-fra--180---180">Konvertere en kolonne som heter &quot;lon&quot; med lengdegradsverdi fra 0 - 360° til en kolonne som heter &quot; lengdegrad&quot; med verdier fra -180 - 180°<a href="#konvertere-en-kolonne-som-heter-lon-med-lengdegradsverdi-fra-0---360-til-en-kolonne-som-heter--lengdegrad-med-verdier-fra--180---180" class="hash-link" aria-label="Direkte lenke tilKonvertere en kolonne som heter &quot;lon&quot; med lengdegradsverdi fra 0 - 360° til en kolonne som heter &quot; lengdegrad&quot; med verdier fra -180 - 180°" title="Direkte lenke tilKonvertere en kolonne som heter &quot;lon&quot; med lengdegradsverdi fra 0 - 360° til en kolonne som heter &quot; lengdegrad&quot; med verdier fra -180 - 180°" translate="no">​</a></h6>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dataVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;=Math2.anglePM180(row.columnDouble(&quot;lon&quot;))&lt;/sourceName&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;longitude&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;dataType&gt;double&lt;/dataType&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;att name=&quot;units&quot;&gt;degrees\\_east&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dataVariable&gt;</span><br></span></code></pre></div></div>
<p>Det sourceName uttrykk gjør en ny &quot; lengdegrad&quot; kolonne ved å konvertere dobbeltverdien fra &quot;lon&quot; kolonnen på hver rad av kildefilen (Sannsynligvis med 0 - 360 verdier) , og ved å konvertere det til en -180 til 180 dobbel verdi.</p>
<p>Hvis du i stedet vil konvertere kilde lengdeverdier på -180 - 180° til 0 - 360°, bruk</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=Math2.angle0360(row.columnDouble(&quot;lon&quot;))&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Navngav de to lengdevariabler:
Hvis datasettet vil ha 2 lengdevariabler, anbefaler vi å bruke destinationName = lengdegrad for variabelen -180 - 180° og destinationName = lengdegrad0360 (og longName=\&quot;Longitude 0-360°&quot;) for 0 - 360° variabel. Dette er viktig fordi brukerne noen ganger bruker Avansert søk for å søke etter data i et bestemt lengdeområde. Dette søket vil fungere bedre hvis lengdegrad konsekvent har -180 - 180° verdier for alle datasett. Datasettets geospatielle\_lon__min, geospatial\_lon__max, vestligst\_østlig og østligst\_østlig globale attributter vil da bli satt på en konsekvent måte (med lengdegrad -180 til 180°) ;</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="konvertere-en-kolonne-som-heter-tempf-med-temperaturverdier-i-grad_-f-i-en-kolonne-som-heter-tempc-med-temperaturer-i-grad_-c">Konvertere en kolonne som heter &quot;tempF&quot; med temperaturverdier i grad\_ F i en kolonne som heter &quot;tempC&quot; med temperaturer i grad\_ C:<a href="#konvertere-en-kolonne-som-heter-tempf-med-temperaturverdier-i-grad_-f-i-en-kolonne-som-heter-tempc-med-temperaturer-i-grad_-c" class="hash-link" aria-label="Direkte lenke tilKonvertere en kolonne som heter &quot;tempF&quot; med temperaturverdier i grad\_ F i en kolonne som heter &quot;tempC&quot; med temperaturer i grad\_ C:" title="Direkte lenke tilKonvertere en kolonne som heter &quot;tempF&quot; med temperaturverdier i grad\_ F i en kolonne som heter &quot;tempC&quot; med temperaturer i grad\_ C:" translate="no">​</a></h6>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dataVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;=(row.columnFloat(&quot;tempF&quot;)-32)\\*5/9&lt;/sourceName&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;tempC&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;dataType&gt;float&lt;/dataType&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;att name=&quot;units&quot;&gt;degrees\\_C&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dataVariable&gt;</span><br></span></code></pre></div></div>
<p>Det sourceName uttrykk gjør en ny &quot;tempC&quot; kolonne ved å konvertere flytegraden\_ F-verdi fra columntempF&quot;-kolonnen på hver rad av kildefilen i en flytende grad\_ C-verdi.</p>
<p>Legg merke til at datasettet kan ha både det opprinnelige tempet F variabel og det nye tempoet C variabel ved å ha en annen variabel med</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;tempF&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="konvertere-vind--hastighet-og-retning-kolonner-i-to-kolonner-med-uv-komponentene">Konvertere vind &quot; hastighet&quot; og &quot;retning&quot; kolonner i to kolonner med u,v-komponentene<a href="#konvertere-vind--hastighet-og-retning-kolonner-i-to-kolonner-med-uv-komponentene" class="hash-link" aria-label="Direkte lenke tilKonvertere vind &quot; hastighet&quot; og &quot;retning&quot; kolonner i to kolonner med u,v-komponentene" title="Direkte lenke tilKonvertere vind &quot; hastighet&quot; og &quot;retning&quot; kolonner i to kolonner med u,v-komponentene" translate="no">​</a></h6>
<ul>
<li class="">For å gjøre en u variabel, bruk</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=row.columnFloat(&quot;speed&quot;) \\* Math.cos(row.columnFloat(&quot;direction&quot;))&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">For å gjøre en v variabel, bruk</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=row.columnFloat(&quot;speed&quot;) \\* Math.sin(row.columnFloat(&quot;direction&quot;))&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Eller gitt u.v:</p>
<ul>
<li class="">For å gjøre en hastighetsvariabel, bruk</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=Math.atan2(row.columnDouble(&quot;v&quot;), row.columnDouble(&quot;u&quot;))\\[0\\]&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">For å gjøre en retningsvariabel, bruk</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=Math.toDegrees(Math.atan2(row.columnDouble(&quot;v&quot;), row.columnDouble(&quot;u&quot;))\\[1\\])&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="script-eksempel">Script eksempel:<a href="#script-eksempel" class="hash-link" aria-label="Direkte lenke tilScript eksempel:" title="Direkte lenke tilScript eksempel:" translate="no">​</a></h6>
<p>Her er et eksempel på bruk av et skript, ikke bare et uttrykk, som et sourceName .. Vi forventer at manuskripter, i motsetning til uttrykk, ikke vil bli nødvendig ofte. I dette tilfellet er målet å returnere en ikke-Nan manglende verdi (-99) for temperaturverdier utenfor et bestemt område. Legg merke til at manuset er delen etter &quot;=&quot;.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dataVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;=var tc=row.columnFloat(&quot;tempC&quot;); return tc&amp;gt;35 || tc&amp;lt;-5? -99.0f : tc\\*9/5+32;&lt;/sourceName&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;tempF&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;dataType&gt;float&lt;/dataType&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;att name=&quot;units&quot;&gt;degrees\\_F&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dataVariable&gt;</span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="hard-flag">Hard Flag<a href="#hard-flag" class="hash-link" aria-label="Direkte lenke tilHard Flag" title="Direkte lenke tilHard Flag" translate="no">​</a></h6>
<p>Hvis du endrer uttrykket eller skriptet definert i en sourceName Du må sette en <a class="" href="/nb/docs/server-admin/additional-information#hard-flag">hard flagg</a> for datasettet så ERDDAP™ sletter all cache-informasjon for datasettet og leser alle datafiler på nytt (å bruke det nye uttrykket eller skriptet) Neste gang den laster datasettet. Alternativt kan du bruke <a href="#dasdds" class="">DasDds</a> som gjør det samme som å sette et hardt flagg.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="prosent-koding">Prosent Koding<a href="#prosent-koding" class="hash-link" aria-label="Direkte lenke tilProsent Koding" title="Direkte lenke tilProsent Koding" translate="no">​</a></h6>
<p>Dette er bare sjelden relevant: Fordi uttrykk og skript er skrevet i datasets.xml , som er et XML-dokument, må du ha prosent kodet noen&lt;,  \&gt; og &amp; tegn i uttrykk og skript som&lt;, &gt; og &amp; .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="vanlige-problemer">Vanlige problemer<a href="#vanlige-problemer" class="hash-link" aria-label="Direkte lenke tilVanlige problemer" title="Direkte lenke tilVanlige problemer" translate="no">​</a></h6>
<p>Et vanlig problem er at du skaper en variabel med sourceName = <em>uttrykk</em> men den resulterende kolonnen av data har bare manglende verdier. Alternativt har noen rader i den nye kolonnen manglende verdier, og du tror de ikke bør. Det underliggende problemet er at noe er galt med uttrykket og ERDDAP er å konvertere den feilen til en manglende verdi. For å løse problemet,</p>
<ul>
<li class="">Se på uttrykket for å se hva problemet kan være.</li>
<li class="">Se inn <a class="" href="/nb/docs/server-admin/additional-information#log">log.txt</a> , som vil vise den første feilmeldingen som genereres under opprettelsen av hver ny kolonne.</li>
</ul>
<p>Vanlige årsaker er:</p>
<ul>
<li class="">Du brukte feil sak. Uttrykk og skript er sensitive.</li>
<li class="">Du utelatt navnet på klassen. For eksempel må du bruke Math.abs () Ikke bare abs () ..</li>
<li class="">Du skrev ikke konverteringer. Hvis en parameterverdi for eksempel er streng og du har en dobbel verdi, må du konvertere en dobbel til en streng via &quot;+d.</li>
<li class="">Kolonnenavnet i uttrykket samsvarer ikke akkurat med kolonnenavnet i filen (eller navnet kan være annerledes i noen filer) ..</li>
<li class="">Det er en syntaksfeil i uttrykket (For eksempel mangler eller ekstra) &#x27;)</li>
</ul>
<p>Hvis du sitter fast eller trenger hjelp,
Ta med detaljene og se våre <a class="" href="/nb/docs/intro#support">Seksjon om å få ekstra støtte</a> ..</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="destinationname-1">&lt; destinationName &gt;<a href="#destinationname-1" class="hash-link" aria-label="Direkte lenke til&lt; destinationName &gt;" title="Direkte lenke til&lt; destinationName &gt;" translate="no">​</a></h6>
<ul>
<li class="">[&lt; destinationName &gt;] (#destinasjonsnavn) - navnet på variabelen som vil bli vist til og brukt av ERDDAP™ brukere.<!-- -->
<ul>
<li class="">Dette er valgfritt. Hvis fraværende, <a href="#sourcename" class=""> sourceName </a> er brukt.</li>
<li class="">Dette er nyttig fordi det lar deg endre en kryptisk eller merkelig sourceName ..</li>
<li class="">destinationName er tilfelle følsom.</li>
<li class="">destinationName S må begynne med et brev (A-Z, a-z) og må følges av 0 eller flere tegn (A-Z, a-z, 0-9 og \_) .. («-» ble tillatt før ERDDAP™ versjon 1.10.) Denne begrensningen gjør at datavariable navn kan være de samme i ERDDAP™ i responsfilene og i all programvare der disse filene vil bli brukt, inkludert programmeringsspråk (som Python , Matlab , og Java Skript) der det finnes lignende begrensninger på variabelnavn.</li>
<li class="">I EDDTable datasett, <a href="#destinationname" class="">lengdegrad, breddegrad, høyde (eller dybde) , og tid</a> Datavariabler er spesielle.
 </li>
</ul>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="datatype">&lt;Data Type &gt;<a href="#datatype" class="hash-link" aria-label="Direkte lenke til&lt;Data Type &gt;" title="Direkte lenke til&lt;Data Type &gt;" translate="no">​</a></h6>
<ul>
<li class="">[&lt;dataType&gt;] (#datatype) -- angir datatypen som kommer fra kilden. (I noen tilfeller, for eksempel når du leser data fra ASCII-filer, angir det hvordan data som kommer fra kilden skal lagres.)<!-- -->
<ul>
<li class="">Dette er representert av noen datasett typer og IGnored av andre. Datasett som krever dette for deres dataVariable S er: EDDGrid FraXxxFiles, EDDTableFromXxxFiles, EDDTableFromM WFS , EDDTableFra NOS, EDDTableFra SOS .. Andre datasetttyper ignorerer denne etiketten fordi de får informasjonen fra kilden.
 </li>
<li class="">Gyldige verdier er en av standardene <a href="#data-types" class=""> ERDDAP™ Datatyper</a> pluss boolsk (Se nedenfor) .. DataType-navnene er saksfølsomme.
 </li>
</ul>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="boolean-data">Boolske data<a href="#boolean-data" class="hash-link" aria-label="Direkte lenke tilBoolske data" title="Direkte lenke tilBoolske data" translate="no">​</a></h6>
<ul>
<li class=""><a href="#boolean-data" class="">&quot;boolean&quot;</a> Det er et spesielt tilfelle.</li>
<li class="">internt, ERDDAP™ støtter ikke en boolsk type, fordi booles ikke kan lagre manglende verdier, og de fleste filtyper støtter ikke boolesisk. Også, DAP støtter ikke bobler, så det vil ikke være noen standard måte å spørre om booleske variabler.</li>
<li class="">Oppgi &quot;boolean&quot; for dataene Skriv inn datasets.xml vil føre til at boolske verdier lagres og representeres som byte: 0=false, 1=true, 127= missing\_value ..</li>
<li class="">Brukere kan angi begrensninger ved å bruke numeriske verdier (For eksempel isAlive=1&quot;) ..</li>
<li class="">ERDDAP™ administratorer trenger noen ganger å bruke - boolean - data Skriv inn datasets.xml å fortelle ERDDAP™ hvordan man samhandler med datakilden (f.eks. å lese booleske verdier fra en relasjonsdatabase og konvertere dem til 0, 1, eller 127) ..
 </li>
<li class="">Hvis du vil endre en datavariabel fra dataType i kildefilene (For eksempel kort) i noen andre data Skriv i datasettet (f.eks.) Ikke bruk&lt;dataType&gt; for å angi hva du vil. (Det fungerer for noen typer datasett, men ikke andre.) I stedet:<!-- -->
<ul>
<li class="">Bruk&lt;dataType&gt; for å angi hva som er i filene (For eksempel kort) ..</li>
<li class="">I&lt; addAttributes &gt; for variabelen, legg til en <a href="#scale_factor" class=""> scale\_factor </a> attributt med de nye dataene Type (f.eks.) og en verdi på 1, for eksempel</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;att name=&quot;scale\\_factor&quot; type=&quot;int&quot;&gt;1&lt;/att&gt;  </span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="datavariable-addattributes">dataVariable  &lt;addAttributes&gt;<a href="#datavariable-addattributes" class="hash-link" aria-label="Direkte lenke tildataVariable  &lt;addAttributes&gt;" title="Direkte lenke tildataVariable  &lt;addAttributes&gt;" translate="no">​</a></h6>
<ul>
<li class="">[&lt; addAttributes &gt;] (#variable-addisjoner) -- definerer et sett attributter ( <em>Navn</em> = <em>verdi</em> ) som legges til kildeens attributter for en variabel, for å gjøre kombinerte attributter for en variabel. Dette er valgfritt.
Hvis variabelen er <a href="#variable-addattributes" class="">sourceAttributes</a> eller&lt; addAttributes &gt; Inkluderer <a href="#scale_factor" class=""> scale\_factor og/eller add\_offset </a> attributter, deres verdier vil bli brukt til å pakke ut data fra kilden før distribusjon til klienten. Den upakkede variabelen vil være av samme type data (For eksempel flyte) som scale\_factor og add\_offset verdier.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="variable-addattributes">Variabel&lt;addAttributes&gt;<a href="#variable-addattributes" class="hash-link" aria-label="Direkte lenke tilVariabel&lt;addAttributes&gt;" title="Direkte lenke tilVariabel&lt;addAttributes&gt;" translate="no">​</a></h6>
<ul>
<li class="">
<p>[ ** Variable attributter / Variable&lt; addAttributes &gt; ** ] (#variable-addisjoner) --&lt; addAttributes &gt; er et valgfritt merke i en&lt; axisVariable &gt; eller&lt; dataVariable &gt; tag som brukes til å endre variabelens egenskaper.</p>
<ul>
<li class="">** Bruk en variabel&lt; addAttributes &gt; å endre variabelens egenskaper. **  ERDDAP™ kombinerer variabelens attributter fra datasettets kilde (** sourceAttributes <strong>) og variabelen</strong>  addAttributes  <strong>som du definerer i datasets.xml   (som har prioritet) å gjøre variablen-</strong> kombinertAttributes ** &quot; som er hva ERDDAP™ Brukere ser. Derfor kan du bruke addAttributes for å omdefinere verdiene til kildeAttributes, legge til nye attributter eller fjerne attributter.</li>
<li class="">Se [ ** &lt; addAttributes &gt; <strong>Informasjon] (#addattributes) som gjelder globalt og variabelt</strong> &lt; addAttributes &gt; ** ..</li>
<li class="">ERDDAP™ leter etter og bruker mange av disse egenskapene på ulike måter. For eksempel er colorBar-verdiene nødvendig for å gjøre en variabel tilgjengelig via WMS , slik at kart kan gjøres med konsistente farger.</li>
<li class=""><a href="#destinationname" class="">Lengdegrad, breddegrad, høyde (eller dybde) , og tidsvariabler</a> Få mye riktig metadata automatisk (For eksempel <a href="#units" class="">enheter</a> ) ..</li>
<li class="">En prøve&lt; addAttributes &gt; for en datavariabel er:</li>
</ul>
<blockquote>
<p>    &lt;addAttributes&gt;<br>
<!-- -->          &lt;att name=&quot;actual\_range&quot; type=&quot;doubleList&quot;&gt;10.34 23.91&lt;/att&gt;<br>
<!-- -->          &lt;att name=&quot;colorBarMinimum&quot; type=&quot;double&quot;&gt;0&lt;/att&gt;<br>
<!-- -->          &lt;att name=&quot;colorBarMaximum&quot; type=&quot;double&quot;&gt;32&lt;/att&gt;<br>
<!-- -->          &lt;att name=&quot;<a href="#ioos_category" class="">ioos\_category</a>&quot;&gt;Temperature&lt;/att&gt;<br>
<!-- -->          &lt;att name=&quot;<a href="#long_name" class="">long\_name</a>&quot;&gt;Sea Surface Temperature&lt;/att&gt;<br>
<!-- -->          &lt;att name=&quot;numberOfObservations&quot; /&gt;<br>
<!-- -->          &lt;att name=&quot;<a href="#units" class="">units</a>&quot;&gt;degree\_C&lt;/att&gt;<br>
<!-- -->    &lt;/addAttributes&gt;</p>
</blockquote>
</li>
</ul>
<p>Den tomme numberOfobservations-attributten forårsaker kildenummerOfobservations-attributten (dersom noen) å bli fjernet fra den endelige, kombinerte listen over attributter.</p>
<ul>
<li class="">Å levere denne informasjonen hjelper ERDDAP™ gjør en bedre jobb og hjelper brukerne å forstå datasett.
Gode metadata gjør et datasett brukbart.
Utilstrekkelig metadata gjør et datasett ubrukelig.
Ta deg tid til å gjøre en god jobb med metadata-attributter.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="kommentarer-til-variable-attributter-som-er-spesielle-i-erddap-">Kommentarer til Variable attributter som er spesielle i ERDDAP :)<a href="#kommentarer-til-variable-attributter-som-er-spesielle-i-erddap-" class="hash-link" aria-label="Direkte lenke tilKommentarer til Variable attributter som er spesielle i ERDDAP :)" title="Direkte lenke tilKommentarer til Variable attributter som er spesielle i ERDDAP :)" translate="no">​</a></h6>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="actual_range">actual\_range<a href="#actual_range" class="hash-link" aria-label="Direkte lenke tilactual\_range" title="Direkte lenke tilactual\_range" translate="no">​</a></h6>
<ul>
<li class=""><a href="#actual_range" class=""> ** actual\_range ** </a> er en OFFERT variabel attributt. For eksempel</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;actual\_range&quot; <a href="#attributetype" class="">type=&quot;floatList&quot;</a>\&gt;0.17 23.58&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">Denne egenskapen er fra <a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class="">CDC COARDS </a> og <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF 1.7+</a> Metadatastandarder.</li>
<li class="">Hvis det er tilstede, må det være en rekke to verdier av samme datatype som destinasjonsdatatypen til variabelen, og angi den faktiske (ikke teoretisk eller tillatt) minimale og maksimale verdier av dataene for den variabelen.</li>
<li class="">Hvis dataene er pakket med <a href="#scale_factor" class=""> scale\_factor og/eller add\_offset </a> , actual\_range må ha utpakkede verdier og være av samme datatype som de utpakkede verdiene.</li>
<li class="">For noen datakilder (For eksempel alle EDDTabellFra... Fildatasett) , ERDDAP™ bestemme actual\_range av hver variabel og setter actual\_range attributt. Med andre datakilder (For eksempel relasjonelle databaser, Cassandra, DAP PER, Hyrax ) , det kan være vanskelig eller tungt for kilden å beregne området, så ERDDAP™ ikke ber om det. I dette tilfellet, det er best om du kan sette actual\_range   (spesielt for lengdegrad, breddegrad, høyde, dybde og tidsvariabler) ved å legge til en actual\_range attributt til hver variabels [&lt; addAttributes &gt;] (#addattributes) For dette datasettet i datasets.xml For eksempel:</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;actual\_range&quot; <a href="#attributetype" class="">type=&quot;doubleList&quot;</a>\&gt;-180 180&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">For tall <a href="#time-units" class="">Tid og tid</a> , de angitte verdiene bør være den relevante kilden (ikke mål) tallverdier. For eksempel, hvis kildetidene lagres som - dager siden 1985-01-01 - så actual\_range skal angis idaydager siden 1985-01-01&quot;. Og hvis du vil referere til NU som den andre verdien for nær-real-tid data som oppdateres regelmessig, bør du bruke NaN. For eksempel, for å angi et dataområde på 1985-01-17 til NU, bruk</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;actual\_range&quot; <a href="#attributetype" class="">type=&quot;doubleList&quot;</a>\&gt;16 NaN&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">Hvis actual\_range er kjent (enten av ERDDAP™ beregne det eller ved å legge det til via&lt; addAttributes &gt;), ERDDAP™ vil vise den til brukeren på Data Access Form ( * datasetID * .html) og lage en graf nettsider ( * datasetID * .graph) for det datasettet og bruk det når du genererer FGDC og ISO 19115 metadata. De siste 7 dagene actual\_range brukes som standard tidsdeltaker.</li>
<li class="">Hvis actual\_range er kjent, brukere kan bruke <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#min" target="_blank" rel="noopener noreferrer" class="">min () og max () funksjoner</a> i forespørsler, noe som ofte er veldig nyttig.</li>
<li class="">For alle EDDTable... datasett, hvis actual\_range er kjent (enten ved å si det eller ved ERDDAP™ Beregn det) , ERDDAP™ vil raskt kunne avvise alle forespørsler om data utenfor det området. For eksempel, hvis datasettets laveste tidsverdi tilsvarer 1985-01-17, vil en forespørsel om alle data fra 1985-01-01 til 1985-01-16 umiddelbart bli avvist med feilmeldingen &quot; Forespørselen din ga ingen matchende resultater.&quot; Dette gjør actual\_range En veldig viktig bit metadata, som det kan spare ERDDAP™ mye innsats og spare brukeren mye tid. Dette understreker at actual\_range verdier må ikke være smalere enn dataenes faktiske område; ellers, ERDDAP™ kan feilaktig si Det er ingen matchende data&quot; når det faktisk er relevante data.</li>
<li class="">Når en bruker velger en undergruppe av data og ber om en filtype som inkluderer metadata (For eksempel .nc ) , ERDDAP™ Endrer actual\_range i responsfilen for å reflektere undergruppens område.</li>
<li class="">Se også <a href="#data_min-and-data_max" class=""> data\_min og data\_max </a> som er en alternativ måte å spesifisere actual\_range .. Men disse er foreldet nå som actual\_range definert av CF 1,7+.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="color-bar-attributes">Fargelinjen attributter<a href="#color-bar-attributes" class="hash-link" aria-label="Direkte lenke tilFargelinjen attributter" title="Direkte lenke tilFargelinjen attributter" translate="no">​</a></h6>
<p>Det finnes flere valgfrie variable attributter som angir de foreslåtte standardattributtene for en fargelinje (brukes til å konvertere dataverdier til farger på bilder) For denne variabelen.</p>
<ul>
<li class="">
<p>Hvis det er tilstede, brukes denne informasjonen som standardinformasjon via netdap og tabledap Når du ber om et bilde som bruker en fargelinje.</p>
</li>
<li class="">
<p>Når f.eks. breddeviddegitte data blir plottet som en dekning på et kart, angir fargelinjen hvordan dataverdiene konverteres til farger.</p>
</li>
<li class="">
<p>Å ha disse verdiene tillater ERDDAP™ å opprette bilder som bruker en konsekvent fargelinje på tvers av ulike forespørsler, selv når tiden eller andre dimensjonsverdier varierer.</p>
</li>
<li class="">
<p>Disse egenskapsnavnene ble opprettet for bruk i ERDDAP .. De er ikke fra en metadatastandard.</p>
</li>
<li class="">
<p>Attributene relatert til fargelinjen er:</p>
<ul>
<li class="">** colorBarMinimum ** angir minsteverdi på fargelinjen. For eksempel</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;colorBarMinimum&quot; <a href="#attributetype" class="">type=&quot;double&quot;</a>\&gt;-5&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">Hvis dataene er pakket med <a href="#scale_factor" class=""> scale\_factor og/eller add\_offset </a> , angi colorBarMinimum Som en upakket verdi.</li>
<li class="">Dataverdier lavere enn colorBarMinimum representert med samme farge som colorBarMinimum verdier.</li>
<li class="">Attributet skal være av <a href="#attributetype" class="">type=&quot; dobbel&quot;</a> Uansett type datavariabel.</li>
<li class="">Verdien er vanligvis et fint rundnummer.</li>
<li class="">Beste praksis: Vi anbefaler en verdi litt høyere enn minimum dataverdi.</li>
<li class="">Det er ingen standardverdi.</li>
</ul>
</li>
<li class="">
<p>** colorBarMaximum ** angir høyeste verdi på fargelinjen. For eksempel</p>
</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;colorBarMaximum&quot; <a href="#attributetype" class="">type=&quot;double&quot;</a>\&gt;5&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">Hvis dataene er pakket med <a href="#scale_factor" class=""> scale\_factor og/eller add\_offset </a> , angi colorBarMinimum Som en upakket verdi.</li>
<li class="">Dataverdier høyere enn colorBarMaximum representert med samme farge som colorBarMaximum verdier.</li>
<li class="">Attributet skal være av <a href="#attributetype" class="">type=&quot; dobbel&quot;</a> Uansett type datavariabel.</li>
<li class="">Verdien er vanligvis et fint rundnummer.</li>
<li class="">Beste praksis: Vi anbefaler en verdi litt lavere enn den maksimale dataverdien.</li>
<li class="">Det er ingen standardverdi.</li>
<li class=""><strong>farge BarPalette</strong> angir paletten for fargelinjen. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;colorBarPalette&quot;&gt;WhiteRedBlack&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Alle ERDDAP™ installasjonene støtter disse standardpalettene: BlackBlueWhite, BlackRedWhite, BlackWhite, BlueWhiteReed, LightRainbow, Ocean, OceanDepth, Rainbow, RedWhiteBlue, ReverseRainbow, Topografi, TopografiDepth \[ lagt til i v1.74 \] , hvitsvart, hvitblåsvart og hvitrødsvart.</li>
<li class="">Hvis du har installert <a class="" href="/nb/docs/server-admin/additional-information#palettes">ytterligere paletter</a> Du kan referere til en av dem.</li>
<li class="">Hvis denne egenskapen ikke er til stede, er standarden BlueWhiteRed hvis \-1\* colorBarMinimum = colorBarMaximum Ellers er standarden regnbue.</li>
<li class=""><strong>colorBarScale</strong> angir skalaen for fargelinjen. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;colorBarScale&quot;&gt;Log&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Gyldige verdier er lineær og logg.</li>
<li class="">Hvis verdien er logg, colorBarMinimum Må være større enn 0.</li>
<li class="">Hvis denne attributten ikke er til stede, er standardlinjen lineær.</li>
<li class=""><strong>farge BarContinous</strong> angir om colorBar har en kontinuerlig palett av farger, eller om colorBar har noen diskrete farger. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;colorBarContinuous&quot;&gt;false&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Gyldige verdier er strengene sanne og falske.</li>
<li class="">Hvis denne egenskapen ikke er til stede, er standarden sant.</li>
<li class=""><strong>fargeBarN Seksjoner</strong> angir standard antall seksjoner på fargelinjen. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;colorBarNSections&quot; type=&quot;int&quot;&gt;6&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Gyldige verdier er positive heltal.</li>
<li class="">Hvis denne egenskapen ikke er til stede, er standarden --1, som forteller ERDDAP™ å velge antall seksjoner basert på spekteret av colorBar.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="wms">WMS<a href="#wms" class="hash-link" aria-label="Direkte lenke tilWMS" title="Direkte lenke tilWMS" translate="no">​</a></h6>
<p>De viktigste kravene til at en variabel skal være tilgjengelig via ERDDAP &#x27;s WMS server er:</p>
<ul>
<li class="">Datasettet må være et EDDGrid ... datasett.</li>
<li class="">Datavariabelen må være en gitt variabel.</li>
<li class="">Datavariabelen må ha lengdegrad og breddegradsaksevariabler. (Andre aksevariabler er valgfrie.)</li>
<li class="">Det må være noen lengdeverdier mellom -180 og 180.</li>
<li class="">Den colorBarMinimum og colorBarMaximum Attributene må angis. (Andre fargelinjen attributter er valgfrie.)</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="data_min-and-data_max">data\_min og data\_max<a href="#data_min-and-data_max" class="hash-link" aria-label="Direkte lenke tildata\_min og data\_max" title="Direkte lenke tildata\_min og data\_max" translate="no">​</a></h6>
<ul>
<li class=""><a href="#data_min-and-data_max" class=""> ** data\_min ** og ** data\_max ** </a> -- Disse er utdaterte variabele attributter definert i World Ocean Circulation Experiment (WOCE) metadata beskrivelse. For eksempel</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;data\_min&quot; <a href="#attributetype" class="">type=&quot;float&quot;</a>\&gt;0.17&lt;/att&gt;<br>
<!-- -->&lt;att name=&quot;data\_max&quot; <a href="#attributetype" class="">type=&quot;float&quot;</a>\&gt;23.58&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">Vi anbefaler at du bruker <a href="#actual_range" class=""> actual\_range </a> I stedet for data\_min og data\_max fordi actual\_range er definert av CF-spesifikasjonen.</li>
<li class="">Hvis det er til stede, må de være av samme type data som variabelens destinasjonsdatatype og angi den faktiske (ikke teoretisk eller tillatt) minimale og maksimale verdier av dataene for den variabelen.</li>
<li class="">Hvis dataene er pakket med <a href="#scale_factor" class=""> scale\_factor og/eller add\_offset </a> , data\_min og data\_max må pakkes ut ved hjelp av den utpakkede datatypen.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="variable-drawlandmask">variabel drawLandMask<a href="#variable-drawlandmask" class="hash-link" aria-label="Direkte lenke tilvariabel drawLandMask" title="Direkte lenke tilvariabel drawLandMask" translate="no">​</a></h6>
<ul>
<li class=""><a href="#variable-drawlandmask" class=""> ** drawLandMask ** </a> -- Dette er en valgfri variabel attributt som brukes av ERDDAP™   (Ingen metadatastandarder) som angir standardverdien for &quot;Draw Land Mask&quot; alternativet på datasettets Make A Graph-skjema ( * datasetID * .graph) og for &amp;.land parameteren i en URL som ber om et kart over dataene. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;drawLandMask&quot;&gt;under&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Se <a href="#drawlandmask" class=""> drawLandMask Oversikt</a> ..</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="encoding">Koding<a href="#encoding" class="hash-link" aria-label="Direkte lenke tilKoding" title="Direkte lenke tilKoding" translate="no">​</a></h6>
<ul>
<li class=""><a href="#encoding" class=""> ** \_Koding** </a></li>
<li class="">Denne egenskapen kan bare brukes med strengvariabler.</li>
<li class="">Denne egenskapen er sterkt anbefalt.</li>
<li class="">Denne egenskapen er fra <a href="https://docs.unidata.ucar.edu/netcdf-java/current/userguide/index.html" target="_blank" rel="noopener noreferrer" class=""> NetCDF Brukerveiledning (NUG) </a> ..</li>
<li class="">Internt i ERDDAP™ , Stringer er en sekvens av 2-byte tegn som bruker <a href="https://en.wikipedia.org/wiki/UTF-16" target="_blank" rel="noopener noreferrer" class="">Unicode UCS-2 tegnsett</a> ..</li>
<li class="">Mange filtyper støtter bare 1-byte tegn i strenger og trenger dermed denne attributten for å identifisere en tilknyttet
<a href="https://en.wikipedia.org/wiki/Code_page" target="_blank" rel="noopener noreferrer" class="">Teiknkoding (AKA-kodeside) </a> som definerer hvordan du skal kartlegge 256 mulige verdier til et sett med 256 tegn som trekkes fra UCS-2 tegnsettet og/eller kodingssystemet, f.eks. <a href="https://en.wikipedia.org/wiki/UTF-8" target="_blank" rel="noopener noreferrer" class="">UTF-8</a>   (som krever mellom 1 og 4 bytes per tegn) ..</li>
<li class="">Verdier for \_coding er kaseufølsomme.</li>
<li class="">I teorien, ERDDAP™ kan støtte \_kodingsidentifikatorer fra <a href="https://www.iana.org/assignments/character-sets/character-sets.xhtml" target="_blank" rel="noopener noreferrer" class="">denne IANA-listen</a> Men i praksis, ERDDAP™ For øyeblikket bare støtter<!-- -->
<ul>
<li class="">ISO-8859-1 (Legg merke til at det har stikker, ikke understreker) , som har fordelen at det er identisk med de første 256 tegnene til Unicode, og</li>
<li class="">UTF-8.</li>
</ul>
</li>
<li class="">Ved lesing av kildefiler er standardverdien ISO-8859-1, med unntak av netcdf-4-filer, der standardverdien er UTF-8.</li>
<li class="">Dette er et problemfritt problem fordi mange kildefiler bruker tegnsett eller teiknkodinger som er forskjellig fra ISO-8859-1, men ikke identifisere tegnsettet eller koden. For eksempel har mange kildedatafiler noen metadata kopiert og limt fra Microsoft Word på Windows og dermed har fancy bindestrek og apostrofer fra en Windows-spesifikk teiknkoding i stedet for ASCII bindestrek og apostrofer. Disse tegnene vises så som merkelige tegn eller &#x27;?&#x27; i ERDDAP ..
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="fileaccessbaseurl">filAccessBaseUrl<a href="#fileaccessbaseurl" class="hash-link" aria-label="Direkte lenke tilfilAccessBaseUrl" title="Direkte lenke tilfilAccessBaseUrl" translate="no">​</a></h6>
<ul>
<li class="">** <a href="#fileaccessbaseurl" class="">filAccessBaseUrl</a> og filAccessSuffix** er svært sjelden brukt egenskaper som ikke er fra noen standard. Hvis en EDDTable-kolonne har navn på tilgjengelige webfiler (f.eks. bilde, video eller lydfiler) Du kan legge til</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;fileAccessBaseUrl&quot;&gt;*someBaseURL*&lt;/a&gt;  </span><br></span></code></pre></div></div>
<p>å angi basisadressen (Slutter med /) nødvendig for å gjøre filnavnene til komplette URLer. I uvanlige tilfeller, for eksempel når en kolonne har referanser til .png-filer, men verdiene mangler &quot;.png&quot;, kan du legge til</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;fileAccessSuffix&quot;&gt;*someSuffix*&lt;/a&gt;  </span><br></span></code></pre></div></div>
<p>(for eksempel,&lt;at name=&quot;filAccessSuffix&quot;&gt;.png&lt;/a&gt;)
for å angi en suffiks som skal legges til for å gjøre filnavnene til komplette adresser. Så for .htmlTable svar, ERDDAP™ vil vise filnavnet som en lenke til hele URLen (basen Url pluss filnamnet pluss suffikset) ..</p>
<p>Hvis du vil ERDDAP™ å betjene de relaterte filene, lage en separat <a href="#eddtablefromfilenames" class="">EDDTableFromFileNames</a> datasett for disse filene (Det kan være et privat datasett) ..</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="fileaccessarchiveurl">filAccessArchive Url<a href="#fileaccessarchiveurl" class="hash-link" aria-label="Direkte lenke tilfilAccessArchive Url" title="Direkte lenke tilfilAccessArchive Url" translate="no">​</a></h6>
<ul>
<li class=""><a href="#fileaccessarchiveurl" class=""> <strong>filAccessArchive Url</strong> </a> er en svært sjelden brukt egenskap som ikke er fra noen standard. Hvis en EDDTable-kolonne har navn på tilgjengelige webfiler (f.eks. bilde, video eller lydfiler) som er tilgjengelige via et arkiv (f.eks. .zip fil) Tilgjengelig via en URL, bruk&lt;att name=&quot; filAccessArchiveUrl&quot;&gt; <em>URL</em> &lt;/att&gt; for å angi URL-adressen for arkivet.</li>
</ul>
<p>Hvis du vil ERDDAP™ å betjene arkivfilen, lage en separat <a href="#eddtablefromfilenames" class="">EDDTableFromFileNames</a> datasett for den filen (Det kan være et privat datasett) ..</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="ioos_category">ioos\_category<a href="#ioos_category" class="hash-link" aria-label="Direkte lenke tilioos\_category" title="Direkte lenke tilioos\_category" translate="no">​</a></h6>
<ul>
<li class="">
<p><a href="#ioos_category" class=""> ** ioos\_category ** </a> -- Dette er en REQUIRED variabel attributt hvis&lt;VariablerMustHaveIoos Categories&gt; er satt til sant (standard) i <a class="" href="/nb/docs/server-admin/deploy-install#setupxml">config.xml</a> Ellers er det valgfritt.
For eksempel&lt;navn=&quot; ioos\_category &quot;&gt;Salinity&lt;/att&gt;
Kategoriene er fra <a href="https://ioos.noaa.gov/" target="_blank" rel="noopener noreferrer" class=""> NOAA Integrert Ocean Observation System (IOOS) </a> ..</p>
</li>
<li class="">
<p>(Som å skrive dette) Vi er ikke klar over formelle definisjoner av disse navnene.</p>
</li>
<li class="">
<p>Kjernenavnene er fra Zdenka Willis &#x27;.ppt-Integrated Ocean Observation System (IOOS)   NOAA tilnærming til å bygge en initial driftsevne&quot; og fra <a href="https://www.iooc.us/wp-content/uploads/2010/11/US-IOOS-Blueprint-for-Full-Capability-Version-1.0.pdf" target="_blank" rel="noopener noreferrer" class="">US IOOS Blueprint</a>   (side 1-5) ..</p>
</li>
<li class="">
<p>Det er sannsynlig at denne listen vil bli revidert i fremtiden. Hvis du har forespørsler, vennligst kontakt Chris. John på noaa.gov.</p>
</li>
<li class="">
<p>ERDDAP™ støtter en større liste over kategorier enn IOOS gjør fordi Bob Simons la til flere navn (hovedsakelig basert på navn på vitenskapelige felt, for eksempel Biologi, Økologi, Meteorologi, Statistikk, Taxonomi) For andre typer data.</p>
</li>
<li class="">
<p>De gjeldende gyldige verdiene i ERDDAP™ Bathymetry, Biologi, Bottom Character, CO2, Farget løste organiske stoffer, Contaminanter, Strømmer, Oppløste Nutrienter, Oppløste O2, Økologi, Fiskeflod, Fiskearter, Varmefluks, Hydrologi, Isdistribusjon, Identifikator, Plassering, Meteorologi, Ocean Color, Optisk egenskaper, Andre, Patogener, Phytoplankton Arter, Pressure, Produktivitet, Kvalitet, Salinity, Havnivå, Statistikk, Strøm flyt, Overflatebølger, Taxonomi, Temperatur, Tid, Totalt suspendertned Matter, Ukjend, Vind, Zooplankton Arter og Zooplankton Abundance.</p>
</li>
<li class="">
<p>Det er litt overlapp og tvetydighet mellom forskjellige uttrykk - gjør ditt beste.</p>
</li>
<li class="">
<p>Hvis du legger til ioos\_category til listen over&lt; categoryAttributes &gt; i ERDDAP &#x27;s <a class="" href="/nb/docs/server-admin/deploy-install#setupxml">config.xml</a> fil, brukere kan enkelt finne datasett med lignende data via ERDDAP Søk etter datasett etter kategori&quot; på hjemmesiden.
<a href="https://coastwatch.pfeg.noaa.gov/erddap/categorize/ioos_category/index.html?page=1&amp;itemsPerPage=1000" target="_blank" rel="noopener noreferrer" class="">Prøv å bruke ioos\_category å søke etter datasett av interesse.</a></p>
</li>
<li class="">
<p>Det var <a href="https://groups.google.com/forum/#!topic/erddap/TnwbgzpSS0w" target="_blank" rel="noopener noreferrer" class="">En diskusjon om ERDDAP™ og ioos\_category i ERDDAP™ Google Group.</a></p>
</li>
</ul>
<p>Du kan bli fristet til å sette&lt;VariablerMustHaveIoosCategories&gt; til feil slik at denne egenskapen ikke kreves. (-Pfft! Hva er det for meg?&quot;) Noen grunner til å la det bli sant (standard) og bruk ioos\_category er:</p>
<ul>
<li class="">Hvis oppsett.xml&lt;VariablerMustHaveIoos er satt til virkelighet, <a href="#generatedatasetsxml" class="">Generer DatasetsXml</a> Oppretter/venter alltid en ioos\_category attributt for hver variabel i hvert nytt datasett. Så hvorfor ikke bare legge det i?</li>
<li class="">ERDDAP™ lar brukerne søke etter datasett av interesse etter kategori. ioos\<em>category er en veldig nyttig søkekategori fordi ioos\</em> Categories (For eksempel temperatur) er ganske bredt. Dette gjør ioos\_category mye bedre til dette formålet enn for eksempel den mye finere-kornet CF standard\_name s (som ikke er så bra til dette formålet på grunn av alle synonymer og små variasjoner, for eksempel sjø\_overflate__temperatur versus hav\_vann\_temperatur) ..
(Using) ioos\_category For dette formål styres&lt; categoryAttributes &gt; i config.xml-filen.)
<a href="https://coastwatch.pfeg.noaa.gov/erddap/categorize/ioos_category/index.html?page=1&amp;itemsPerPage=1000" target="_blank" rel="noopener noreferrer" class="">Prøv å bruke ioos\_category å søke etter datasett av interesse.</a></li>
<li class="">Disse kategoriene kommer fra <a href="https://ioos.noaa.gov/" target="_blank" rel="noopener noreferrer" class=""> NOAA Integrert Ocean Observation System (IOOS) </a> .. Disse kategoriene er grunnleggende for IOOSs beskrivelse av IOOSs oppdrag. Hvis du er i NOAA , støtte ioos\_category er en god En- NOAA Ting å gjøre. (Se på dette <a href="https://www.youtube.com/watch?v=nBnCsMYm2yQ" target="_blank" rel="noopener noreferrer" class="">En NOAA video</a> og bli inspirert!) Hvis du er i et annet amerikansk eller internasjonalt byrå, eller jobber med statlige byråer, eller jobber med noe annet Ocean Observation System, er det ikke en god ide å samarbeide med det amerikanske IOOS-kontoret?</li>
<li class="">Før eller senere vil du kanskje ha noe annet ERDDAP™ å koble til datasettene dine via <a href="#eddfromerddap" class=""> EDDGrid FraErddap</a> og <a href="#eddfromerddap" class="">EDDTableFraErddap</a> .. Hvis den andre ERDDAP™ krever ioos\_category Dine datasett må ha ioos\_category For å EDDGrid FraErddap og EDDTableFraErddap til jobb.</li>
<li class="">Det er psykologisk mye lettere å inkludere ioos\_category Når du oppretter datasettet (Det er bare en annen ting som ERDDAP™ krever å legge til datasettet i ERDDAP ) enn å legge det til etter det faktum (Hvis du bestemte deg for å bruke den i fremtiden) ..
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="long_name">long\_name<a href="#long_name" class="hash-link" aria-label="Direkte lenke tillong\_name" title="Direkte lenke tillong\_name" translate="no">​</a></h6>
<ul>
<li class=""><a href="#long_name" class=""> ** long\_name ** </a>   ( <a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class=""> COARDS </a> , <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> og <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> metadatastandarder) er en ubegrenset variabel attributt i ERDDAP .. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;long\\_name&quot;&gt;Eastward Sea Water Velocity&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">ERDDAP™ bruker long\_name for merking axler på grafer.</li>
<li class="">Beste praksis: kapitalisere ordene i long\_name som om det var en tittel (kapitalisere det første ordet og alle ikke-artikkel ord) .. Ikke ta med enhetene i long\_name .. Det lange navnet bør ikke være så lenge (vanligvis&lt;20 tegn, men bør være mer beskrivende enn <a href="#destinationname" class=""> destinationName </a> Det er ofte svært kortfattet.</li>
<li class="">Hvis long\_name &quot; er ikke definert i variabelens <a href="#variable-addattributes" class="">sourceAttributes</a> eller&lt; addAttributes &gt;, ERDDAP™ vil generere det ved å rense opp <a href="#standard_name" class=""> standard\_name </a>   (Hvis det er tilstede) eller destinationName ..
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="missing_value">missing\_value<a href="#missing_value" class="hash-link" aria-label="Direkte lenke tilmissing\_value" title="Direkte lenke tilmissing\_value" translate="no">​</a></h6>
<ul>
<li class=""><a href="#missing_value" class=""> ** missing\_value ** </a> og <strong>\_Fyll Verdi</strong>   ( <a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class=""> COARDS </a> og <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> ) er variable attributter som beskriver et tall (for eksempel -9999) som brukes til å representere en manglende verdi. For eksempel</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;missing\_value&quot; <a href="#attributetype" class="">type=&quot;double&quot;</a>\&gt;-9999&lt;/att&gt;</p>
</blockquote>
<p>For strengvariabler er standarden for begge -- (den tomme strengen) ..
For numeriske variabler er standard for begge NaN.</p>
<ul>
<li class="">ERDDAP™ støtter begge deler missing\_value og \_FallValue, siden noen datakilder tildeler litt forskjellige betydninger til dem.</li>
<li class="">Hvis det er til stede, bør de være av samme type som variabelen.</li>
<li class="">Hvis dataene er pakket med <a href="#scale_factor" class=""> scale\_factor og/eller add\_offset </a> , den missing\_value og \_FillValue-verdier bør også pakkes. På samme måte, for en kolonne med streng dato/tid verdier som bruker en lokal <a href="#time_zone" class=""> time\_zone </a> , den missing\_value og \_FallValue-verdier bør bruke den lokale tidssonen.</li>
<li class="">Hvis en variabel bruker disse spesielle verdiene, missing\_value og/eller \_FillValue attributter er reQUIRED.</li>
<li class="">For <a href="#time-units" class="">Tid og tid</a>   (om kilden er strenger eller numeriske) , missing\_value s og__FillValues vises som &quot; (den tomme strengen) Når tiden er skrevet som en streng og som NaN når tiden er skrevet som en dobbel. Kildeverdier for missing\_value og \_FallValue vises ikke i variabelens metadata.</li>
<li class="">For strengvariabler, ERDDAP™ Konverterer alltid noe missing\_value s eller__FillValue dataverdier i &quot; (den tomme strengen) .. Kildeverdier for missing\_value og \_FallValue vises ikke i variabelens metadata.</li>
<li class="">For tallvariabler:
Den missing\_value og \_FallValue vises i variabelens metadata.
For noen utgangsdataformater, ERDDAP™ vil la disse spesielle tallene være intakte, for eksempel vil du se -9999.
For andre utdataformater (spesielt tekstlignende formater som .csv og .htmlTable ) , ERDDAP™ vil erstatte disse spesielle tallene med NaN eller</li>
<li class="">Noen datatyper har iboende manglende verdimarkører som ikke trenger å bli eksplisitt identifisert med missing\_value eller \_FallValue-attributter: flyte og doble variabler har NaN (Ikke et tall) , Strengverdier bruker den tomme strengen, og tegnverdier har tegn \uffff   (tegn #65535, som er Unicodes verdi for Ikke et tegn) .. Heltalsdatatyper har ikke iboende manglende verdimarkører.</li>
<li class="">Hvis en heltallsvariabel har en manglende verdi (For eksempel, en tom posisjon i en .csv-fil) , ERDDAP™ vil tolke verdien som definert missing\_value eller__FallValue for den variabelen. Hvis ingen er definert, ERDDAP™ vil tolke verdien som standard manglende verdi for den datatypen, som alltid er den maksimale verdien som kan holdes av den datatypen:
127 for bytevariabler, 32767 for kort, 2147483647 for intenst, 9223372036854775807 lenge,
255 for ubyte, 65535 for ushort, 4294967295 for uint, og 18446744073709551615 for ulong.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="add-_fillvalue-attributes">ADD \_FillValue ATTRIBUTES ?<a href="#add-_fillvalue-attributes" class="hash-link" aria-label="Direkte lenke tilADD \_FillValue ATTRIBUTES ?" title="Direkte lenke tilADD \_FillValue ATTRIBUTES ?" translate="no">​</a></h6>
<ul>
<li class=""><a href="#add-_fillvalue-attributes" class=""> ADD \_FillValue ATTRIBUTES ?</a><br>
<!-- -->Hver gang ERDDAP™ laster et datasett, sjekker det om variabler med heltallskildedatatyper har et definert missing\_value eller \_FallValue attributt. Hvis en variabel ikke gjør det, så ERDDAP™ Skriv ut en melding til loggfilen (starter med &quot; Legg til \_FillValue-attributt?&quot;) Anbefaler at ERDDAP™ Administrator legger til en Verdiattributt for denne variabelen i datasets.xml .. Det er svært nyttig for hver variabel å ha en \_FillValue eller missing\_value fordi manglende verdier alltid er mulige, f.eks. hvis en gitt fil i et datasett ikke har en gitt variabel, ERDDAP™ må være i stand til å presentere denne variabelen som å ha alle manglende verdier for den variabelen. Hvis du bestemmer en variabel bør ikke ha en \_FillValue-attributt, kan du legge til
&lt;at names=&quot;_FillValue&quot;&gt;Null&lt;/att&gt; i stedet, som vil undertrykke meldingen for det datasetID +variable kombinasjon i fremtiden.</li>
</ul>
<p>Hver gang ERDDAP™ starter opp, det samler alle disse anbefalingene i en melding som er skrevet til loggfilen (starter med ADD \_FillValue ATTRIBUTES ?&quot;) e-post til ERDDAP™ administrator, og skrevet til en CSV-datafil i \[ bigParentDirectory \] /logg/ katalog. Hvis du vil, kan du bruke programmet Genererer DatasetsXml (og AddFillValueAttributes alternativet) å bruke alle forslagene i CSV-filen på datasets.xml fil. For noe av datasetID /variable kombinasjoner i den filen, hvis du bestemmer deg for at det ikke er behov for å legge til tilskrevet, kan du endre attributt til&lt;at names=&quot;_FillValue&quot;&gt;Null&lt;/att&gt; å undertrykke anbefalingen til det datasetID +variable kombinasjon i fremtiden.</p>
<p>Dette er viktig!
Som Bob ofte har sagt: det ville være dårlig (og pinlig) dersom noen av bevisene på global oppvarming skyldes uidentifiserte verdier i dataene (For eksempel temperaturverdier på 99 eller 127 grader C som skulle ha blitt merket som manglende verdier og dermed skjev gjennomsnitts- og/eller medianstatistikk høyere) ..</p>
<ul>
<li class="">\FallValue og missing\_value verdier for en gitt variabel i forskjellige kildefiler må være konsekvente; ellers, ERDDAP™ vil akseptere filer med ett sett verdier og avvise alle de andre filene som &quot;Bad Filer&quot;. For å løse problemet,<!-- -->
<ul>
<li class="">Hvis filene er gitt .nc filer, du kan bruke <a href="#eddgridfromncfilesunpacked" class=""> EDDGrid FraNcFilesUpakket</a> ..</li>
<li class="">Hvis filene er tabellbaserte datafiler, kan du bruke EDDTableFrom...Filer &quot; <a href="#standardizewhat" class="">standardisering Hva</a> å fortelle ERDDAP å standardisere kildefiler som de leses inn i ERDDAP ..</li>
<li class="">For vanskeligere problemer kan du bruke <a href="#ncml-files" class="">NcML</a> eller <a href="#netcdf-operators-nco" class=""> NCO </a> å løse problemet.
 </li>
</ul>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="scale_factor">scale\_factor<a href="#scale_factor" class="hash-link" aria-label="Direkte lenke tilscale\_factor" title="Direkte lenke tilscale\_factor" translate="no">​</a></h6>
<ul>
<li class=""><a href="#scale_factor" class=""> ** scale\_factor ** </a>   (standard = 1) og ** add\_offset **   (standard = 0)   ( <a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class=""> COARDS </a> og <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> ) er valgfrie variable attributter som beskriver data som er pakket i en enklere datatype via en enkel transformasjon.</li>
<li class="">Hvis det er til stede, er deres datatype forskjellig fra kildedatatypen og beskriver datatypen til destinasjonsverdiene.
For eksempel kan en datakilde ha lagret flytedataverdier med ett desimaltall pakket som korte innsatser (it16) Bruker scale\_factor = 0,1 og add\_offset = 0. For eksempel</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;scale\_factor&quot; <a href="#attributetype" class="">type=&quot;float&quot;</a>\&gt;0.1&lt;/att&gt;<br>
<!-- -->&lt;att name=&quot;add\_offset&quot; <a href="#attributetype" class="">type=&quot;float&quot;</a>\&gt;0&lt;/att&gt;</p>
</blockquote>
<p>I dette eksemplet, ERDDAP™ ville pakke ut dataene og presentere dem til brukeren som flyte dataverdier.</p>
<ul>
<li class="">Hvis tilstede, ERDDAP™ vil trekke ut verdiene fra disse attributtene, fjerne attributtene og automatisk pakke ut dataene for brukeren:
Destinasjon Verdi = kilde Verdi \* scale\_factor + add\_offset<br>
<!-- -->Eller på en annen måte:
pakket verdi = pakket Verdi \* scale\_factor + add\_offset</li>
<li class="">Den scale\_factor og add\_offset verdier for en gitt variabel i forskjellige kildefiler må være konsekvente; ellers, ERDDAP™ vil akseptere filer med ett sett verdier og avvise alle de andre filene som &quot;Bad Filer&quot;. For å løse problemet,<!-- -->
<ul>
<li class="">Hvis filene er gitt .nc filer, du kan bruke <a href="#eddgridfromncfilesunpacked" class=""> EDDGrid FraNcFilesUpakket</a> ..</li>
<li class="">Hvis filene er tabellbaserte datafiler, kan du bruke EDDTableFrom...Filer &quot; <a href="#standardizewhat" class="">standardisering Hva</a> å fortelle ERDDAP å standardisere kildefiler som de leses inn i ERDDAP ..</li>
<li class="">For vanskeligere problemer kan du bruke <a href="#ncml-files" class="">NcML</a> eller <a href="#netcdf-operators-nco" class=""> NCO </a> å løse problemet.
 </li>
</ul>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="standard_name">standard\_name<a href="#standard_name" class="hash-link" aria-label="Direkte lenke tilstandard\_name" title="Direkte lenke tilstandard\_name" translate="no">​</a></h6>
<ul>
<li class=""><a href="#standard_name" class=""> ** standard\_name ** </a>   (fra <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> Metadatastandard) er en ubegrenset variabel attributt i ERDDAP .. CF opprettholder listen over tillatte <a href="https://cfconventions.org/Data/cf-standard-names/current/build/cf-standard-name-table.html" target="_blank" rel="noopener noreferrer" class="">CF standardnavn</a> .. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;standard\\_name&quot;&gt;eastward\\_sea\\_water\\_velocity&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Hvis du legger til standard\_name til variablers egenskaper og legge til standard\_name til listen over&lt; categoryAttributes &gt; i ERDDAP &#x27;s <a class="" href="/nb/docs/server-admin/deploy-install#setupxml">config.xml</a> fil, brukere kan enkelt finne datasett med lignende data via ERDDAP Søk etter datasett etter kategori&quot; på hjemmesiden.</li>
<li class="">Hvis du angir en CF standard\_name For en variabel trenger ikke enhetenes attributt for variabelen å være identisk med den Canoniske enhet som er angitt for standardnavnet i CF Standard Navntabellen, men enhetene må være konvertible til Canonical Units. For eksempel alle temperaturrelaterte CF standard\_name S har &quot;K&quot; (Kelvin) som kanoniske enheter. En variabel med en temperaturrelatert standard\_name Må ha enheter av K, grad-_C, grad-_F eller noen UDUits variant av disse navnene, siden de alle er inter-konvertible.</li>
<li class="">Beste praksis: En del av makten til <a href="https://en.wikipedia.org/wiki/Controlled_vocabulary" target="_blank" rel="noopener noreferrer" class="">kontrollerte ordforråd</a> kommer fra bruk av kun vilkårene i listen. Så vi anbefaler å holde seg til de vilkårene som er definert i det kontrollerte ordforrådet, og vi anbefaler å gjøre opp et uttrykk hvis det ikke er en passende i listen. Hvis du trenger ytterligere vilkår, kan du se om standardkomiteen vil legge dem til det kontrollerte ordforrådet.</li>
<li class="">standard\_name verdier er de eneste CF-attributtsverdier som er kasusfølsomme. De er alltid små. Starter i ERDDAP™ v1.82. Generer Datasett vil konvertere store bokstaver til små bokstaver. Når et datasett lastes inn ERDDAP Store bokstaver endres stille til små bokstaver.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="time_precision">time\_precision<a href="#time_precision" class="hash-link" aria-label="Direkte lenke tiltime\_precision" title="Direkte lenke tiltime\_precision" translate="no">​</a></h6>
<ul>
<li class="">time\_precision er en valgfri attributt som brukes av ERDDAP™   (Ingen metadatastandarder) for <a href="#time-units" class="">Tid og tid</a> , som kan være i gitte datasett eller tabelldatasett, og i axisVariable s eller dataVariable S. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;time\\_precision&quot;&gt;1970-01-01&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>time\_precision angir nøyaktigheten som skal brukes når ERDDAP™ formaterer tidsverdiene fra den variabelen som strenger på nettsider, inkludert .htmlTable Svar. I filformater der ERDDAP™ formaterer ganger som strenger (for eksempel .csv og .json ) , ERDDAP™ Bare bruk time\_precision - Spesifisert format hvis det inkluderer fraksjonelle sekunder; ellers, ERDDAP™ bruker 1970-01-01T00:00:00 Z-format.</p>
<ul>
<li class="">Gyldige verdier er 1970-01-01, 1970-01-01T00Z, 1970-01-01T00:00Z, 1970-01-01T00:00Z (standard) , 1970-01-01T00:00:00:00.0Z, 1970-01-01T00:00:00.00Z, 1970-01-01T00:00:0.000Z. \[ 1970 er ikke et alternativ fordi det er et enkelt tall, så ERDDAP™ Vet ikke om det er en formatert tidsstreng (Et år) Hvis det er et antall sekunder siden 1970-01-01T00:00:00Z. \]</li>
<li class="">Hvis time\_precision er ikke spesifisert eller verdien er ikke matchet, standardverdien vil bli brukt.</li>
<li class="">Her som i andre deler av ERDDAP™ Alle felt i den formaterte tiden som ikke vises, antas å ha minsteverdi. For eksempel 1985-07, 1985-07-01, 1985-07-01T00Z, 1985-07-01T00:00Z og 1985-07-01T00:00:00 Z er alle ansett som ekvivalent, selv om med forskjellige nivåer av presisjon underforstått. Dette samsvarer med <a href="https://www.iso.org/iso/date_and_time_format" target="_blank" rel="noopener noreferrer" class="">ISO 8601:2004 &quot;extended&quot; Tidsformat Spesifikasjon</a> ..</li>
<li class=""><strong>ADVARSEL:</strong> Du bør bare bruke en begrenset time\_precision hvis <strong>alle</strong> av dataverdiene for variabelen har bare minsteverdi for alle feltene som er skjult.</li>
<li class="">For eksempel kan du bruke en time\_precision av 1970-01-01 hvis alle dataverdier har time=0, minutt=0 og andre=0 (for eksempel 2005-03-04T00:00:00Z og 2005-03-05T00:00:00Z) ..</li>
<li class="">For eksempel, ikke bruk en time\_precision av 1970-01-01 hvis det er ikke-0 timer, minutter eller sekunder verdier, (For eksempel 2005-03-05T12:00:00Z) fordi den ikke-standard timeverdien ikke vil bli vist. Ellers, hvis en bruker ber om alle data med tid=2005-03-05, vil forespørselen mislykkes uventet.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="time_zone">time\_zone<a href="#time_zone" class="hash-link" aria-label="Direkte lenke tiltime\_zone" title="Direkte lenke tiltime\_zone" translate="no">​</a></h6>
<ul>
<li class=""><a href="#time_zone" class=""> ** time\_zone ** </a></li>
<li class="">time\_zone er en valgfri attributt som brukes av ERDDAP™   (Ingen metadatastandarder) for <a href="#time-units" class="">Tid og tid</a> , som kan være i nettbaserte datasett eller tabelldatasett.</li>
<li class="">Standarden er - Zulu &quot; (som er den moderne tidssoneversjonen av GMT) ..</li>
<li class="">Bakgrunnsinformasjon: &quot;tid forskyvninger&quot; (f.eks. Stillehavsstandardtid, -08:00, GMT-8) er faste, spesifikke, forskyvninger i forhold til Zulu   (GMT) .. I motsetning til dette er tidssonene de mye mer komplekse tingene som påvirkes av Daylight Sparing. (f.eks. &quot;US/Pacific&quot;) , som har hatt forskjellige regler på forskjellige steder på ulike tidspunkter. Tidssonene har alltid navn siden de ikke kan oppsummeres av en enkel offsetverdi (se  &quot;TZ-databasenavn&quot; kolonne i tabellen på <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones" target="_blank" rel="noopener noreferrer" class="">https://en.wikipedia.org/wiki/List\_of\_tz\_database\_time\_zones</a> ) .. ERDDAP &#x27;s time\_zone attributt hjelper deg å håndtere lokale tidsdata fra en tidssone (f.eks. 1987-03-25T17:32:05 Stillehavet Tid) .. Hvis du har streng- eller numeriske tidsdata med en (Fast) tidsforskyvning, bør du bare justere dataene til Zulu   (som er hva ERDDAP™ Ønsker) ved å spesifisere en annen basistid i enhetsattributten (f.eks. &quot; timer siden 1970-01-01T08:00:00Z&quot;, Legg merke til T08 for å spesifisere tidsforsinkelsen) , og alltid sjekke resultatene for å sikre at du får resultatene du vil ha.</li>
<li class="">For tidsstempelvariabler med kildedata fra Strenger kan du angi en tidssone som fører ERDDAP™ å konvertere lokale tidssonekildetider (Noen i Standard tid, noen i Daylight Spar tid) i Zulu ganger (som alltid er i standardtid) .. Listen over gyldige tidssonenavn er sannsynligvis identisk med listen i TZ-kolonnen ved <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones" target="_blank" rel="noopener noreferrer" class="">https://en.wikipedia.org/wiki/List\_of\_tz\_database\_time\_zones</a> .. Vanlige amerikanske tidssoner er: US/Hawaii, US/Alaska, US/Pacific, US/Mountain, US/Arizona, US/Central, US/Eastern.</li>
<li class="">For tidsstempelvariabler med numeriske kildedata kan du angi &quot; time\_zone &quot; Attribut, men verdien må være Zulu &quot; eller &quot;UTC&quot;. Hvis du trenger støtte til andre tidssoner, vennligst e-post Chris. John på noaa.gov.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="legacy_time_adjust">argent_time_just<a href="#legacy_time_adjust" class="hash-link" aria-label="Direkte lenke tilargent_time_just" title="Direkte lenke tilargent_time_just" translate="no">​</a></h6>
<ul>
<li class=""><a href="#legacy_time_adjust" class=""> <strong>argent_time_just</strong> </a> Starter i ERDDAP™ 2.29.0, tidsvariabler fungerer litt annerledes. I sjeldne tilfeller, sannsynligvis ved bruk <code>dager siden</code> Et år før 1582 (så <code>dager siden 0000-01-01</code> eller <code>dager siden 1-1-1 00.00:0.0</code> ) du må indikere en justering til datovariabelen. Årsaken til dette er ERDDAP™ bruker java.time-biblioteket til å administrere datoer internt. Det er noen datasett som krever å bruke det gamle Gregorianske Kalender-biblioteket til å slå riktige datoer.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;axisVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;time&lt;/sourceName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;destinationName&gt;time&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;!-- sourceAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ... removed several lines ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;units&quot;&gt;days since 1-1-1 00:00:0.0&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/sourceAttributes --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ... removed several lines ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;legacy_time_adjust&quot;&gt;true&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/axisVariable&gt;</span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="units">enheter<a href="#units" class="hash-link" aria-label="Direkte lenke tilenheter" title="Direkte lenke tilenheter" translate="no">​</a></h6>
<ul>
<li class=""><a href="#units" class=""> <strong>enheter</strong> </a>   ( <a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class=""> COARDS </a> , <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> og <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Metadatastandard) definerer enhetene til dataverdiene. For eksempel</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;units&quot;&gt;degree\\_C&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">
<p>&quot; Units&quot; er REQUIRED som enten en kildeAttribute eller en addAttribute for &quot;time&quot; variabler og er STRONGLY BEREGET for andre variabler når det er hensiktsmessig (som er nesten alltid) ..</p>
</li>
<li class="">
<p>Generelt anbefaler vi <a href="https://www.unidata.ucar.edu/software/udunits/" target="_blank" rel="noopener noreferrer" class="">UDUnites</a> Kompatible enheter som kreves av <a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class=""> COARDS </a> og <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> standarder.</p>
</li>
<li class="">
<p>En annen vanlig standard er <a href="https://unitsofmeasure.org/ucum.html" target="_blank" rel="noopener noreferrer" class="">UCUM</a> Samledet kode for måleenheter. <a href="https://www.ogc.org/" target="_blank" rel="noopener noreferrer" class=""> OGC </a> Tjenester som <a href="https://www.ogc.org/standards/sos" target="_blank" rel="noopener noreferrer" class=""> SOS </a> , <a href="https://www.ogc.org/standards/wcs" target="_blank" rel="noopener noreferrer" class=""> WCS </a> , og <a href="https://www.ogc.org/standards/wms" target="_blank" rel="noopener noreferrer" class=""> WMS </a> krever UCUM og refererer ofte til UCUM som UOM (Målenhet) ..</p>
</li>
<li class="">
<p>Vi anbefaler at du bruker én enhetsstandard for alle datasett i din ERDDAP .. Du bør fortelle ERDDAP™ hvilken standard du bruker med&lt;enheter\_standard&gt;, i dine <a class="" href="/nb/docs/server-admin/deploy-install#setupxml">config.xml</a> fil.</p>
</li>
<li class="">
<p>Enhetene for en gitt variabel i forskjellige kildefiler må være konsistente. Hvis du har en samling av datafiler der én undergruppe av filene bruker forskjellige enhetsverdier enn én eller flere andre undergrupper av filene (f.eks.
&quot;dager siden 1985-01-01&quot; motdaydager siden 2000-01-01&quot;,
Grade\_Celsius&quot; versus &quot;deg\_C&quot;, eller
&quot;knotter&quot; versus &quot;m/s&quot;) må du finne en måte å standardisere enhetsverdiene, ellers, ERDDAP™ vil bare laste én undergruppe av filene. Tenk på det: Hvis en fil har vindhastighetsenheter=knotter og en annen har vindhastighetsenheter=m/s, bør verdiene fra de to filene ikke inkluderes i samme samlet datasett.</p>
<ul>
<li class="">Hvis filene er gitt .nc filer i mange situasjoner du kan bruke <a href="#eddgridfromncfilesunpacked" class=""> EDDGrid FraNcFilesUpakket</a> ..</li>
<li class="">Hvis filene er tabular datafiler, i mange situasjoner kan du bruke EDDTableFrom... Filer &quot; <a href="#standardizewhat" class="">standardisering Hva</a> å fortelle ERDDAP å standardisere kildefiler som de leses inn i ERDDAP ..</li>
<li class="">For vanskeligere problemer kan du bruke <a href="#ncml-files" class="">NcML</a> eller <a href="#netcdf-operators-nco" class=""> NCO </a> å løse problemet.</li>
</ul>
</li>
<li class="">
<p>CF standard seksjon 8.1 sier at hvis en variabels data er pakket via <a href="#scale_factor" class=""> scale\_factor og/eller add\_offset </a> Enhetene i en variabel bør være representative for de utpakkede dataene.&quot;</p>
</li>
<li class="">
<p><a href="#time-units" class="">For tid og tid,</a> Enten variabelens <a href="#variable-addattributes" class="">sourceAttributes</a> eller&lt; addAttributes &gt; (som har forrang) Må ha <a href="#units" class="">enheter</a> som enten er</p>
</li>
<li class="">
<p>For tidsaksevariabler eller tidsdatavariabler med numeriske data: <a href="https://www.unidata.ucar.edu/software/udunits/" target="_blank" rel="noopener noreferrer" class="">UDUnites</a> \-kompatibel streng (Med formatet <em>enheter</em> siden <em>baseTime</em> ) Beskrivelse av hvordan du tolker kildetidverdier (For eksempel, sekunder siden 1970-01-01T00:00:00Z) ..</p>
</li>
</ul>
<p><em>enheter</em> kan være en hvilken som helst av:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    ms, msec, msecs, millis, millisec, millisecs, millisecond, milliseconds,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    s, sec, secs, second, seconds, m, min, mins, minute, minutes, h, hr, hrs, hour, hours,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    d, day, days, week, weeks, mon, mons, month, months, yr, yrs, year, or years.  </span><br></span></code></pre></div></div>
<p>Teknisk sett, ERDDAP™ Følger ikke UDUNITS standard ved konvertering &quot;years since&quot; og &quot;months since&quot; tidsverdier til &quot;seconds since&quot; .. Den UDUNITS standard definerer et år som en fast, enkelt verdi: 3.15569259747e7 sekunder. Og UDUNITS definerer en måned som år/12. Dessverre, de fleste/alle datasett som vi har sett denne bruken &quot;years since&quot; eller &quot;months since&quot; Det er klart at verdiene skal være kalendermåneder eller kalendermåneder. For eksempel 3 &quot;months since 1970-01-01&quot; er vanligvis ment å være 1970-04-01. Så, ERDDAP™ Tolker &quot;years since&quot; og &quot;months since&quot; som kalenderår og måneder, og ikke strengt følger UDUNITS Standard.</p>
<p>Den <em>baseTime</em> må være en ISO 8601:2004 (E) formatert datotidsstreng ( yyyy-MM-dd &#x27;T&#x27;HH:mm<!-- -->:ssZ<!-- -->, for eksempel 1970-01-01T00:00:00Z) eller noen varianter av det (For eksempel, med deler som mangler i slutten) .. ERDDAP™ forsøker å jobbe med et bredt spekter av variasjoner av det ideelle formatet, for eksempel &quot;1970-1 0:0:0&quot; støttes. Hvis informasjon om tidssonen mangler, antas det å være Zulu Tidssone (AKA GMT) .. Selv om en annen tidsforsinkelse er angitt, ERDDAP™ Bruker aldri Daylight Sparing Time. Hvis baseTime bruker noe annet format, må du bruke&lt; addAttributes &gt; å angi en ny enhetsstreng som bruker en variasjon av ISO 8601:2004 (E) format (f.eks. endre dager siden 1. januar 1985 til dager siden 1985-01-01.</p>
<p>Du kan teste ERDDAP evne til å håndtere en bestemt <em>enheter</em> siden <em>baseTime</em> med ERDDAP &#x27;s <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html" target="_blank" rel="noopener noreferrer" class="">Tidskonverter</a> .. Forhåpentligvis kan du koble inn et nummer (Første gangs verdi fra datakilden?) og en enhetsstreng, klikk på Konverter, og ERDDAP™ vil kunne konvertere det til en ISO 8601:2004 (E) formatert datotidsstreng. Konvertereren returnerer en feilmelding hvis enhetene ikke gjenkjennes.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="string-time-units">String Time Units<a href="#string-time-units" class="hash-link" aria-label="Direkte lenke tilString Time Units" title="Direkte lenke tilString Time Units" translate="no">​</a></h6>
<ul>
<li class=""><a href="#string-time-units" class="">For enhetsattributten for tidsstempeldatavariabler med strengdata,</a> Du må angi en <a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html" target="_blank" rel="noopener noreferrer" class="">java.time.DateTimeFormater</a> mønster (som for det meste er kompatibel med java.text. EnkelDateFormat) som beskriver hvordan man tolker strengtidene.</li>
</ul>
<p>For de vanlig brukte tidsformatene som er variasjoner av ISO 8601:2004 (E) Standardformat (For eksempel, 2018-01-02T00:00:00Z) Du kan angi variasjoner av yyyy-MM-dd &#x27;T&#x27;HH:mm<!-- -->:ssZ<!-- -->, for eksempel bruk yyyy-MM-dd Hvis strengtiden bare har en dato. For ethvert format som starter med YY-M, ERDDAP bruker en spesiell tolke som er svært tilgivende for mindre variasjoner i formatet. Tolkeren kan håndtere tidssoner i formatet &quot;Z&quot;, &quot;UTC&quot; -GMT - ±XX<!-- -->:XX<!-- -->, ± XXXX og ± XXX-formater. Hvis deler av datoen ikke er spesifisert (For eksempel minutter og sekunder) , ERDDAP™ påtar seg den laveste verdien for det feltet (Hvis sekunder ikke er angitt, antas sekunder = 0) ..</p>
<p>For alle andre strengtidsformater må du nøyaktig angi en datoTimeFormater-kompatibel tidsformatstreng. Som yyyy-MM-dd &quot;T&#x27;HH:mm<!-- -->:ssZ<!-- -->, disse formatstrengene er bygget fra tegn som identifiserer en bestemt type informasjon fra tidsstrengen, f.eks. m betyr minutt på timen. Hvis du gjentar formattegnet et antall ganger, vil det ytterligere avgrense betydningen, f.eks. m, betyr at verdien kan angis med et hvilket som helst antall siffer, mm betyr at verdien må angis med 2 siffer. Den Java dokumentasjon for DateTime Formater er en rå oversikt og gjør ikke disse detaljene klare. Så her er en liste over figurvariasjoner og deres mening i ERDDAP™   (som noen ganger er litt forskjellig fra Java DateTimeFormater) :)</p>
<table><thead><tr><th>Tegn</th><th>Eksempler</th><th>Betydning</th></tr></thead><tbody><tr><td>u, y, Y</td><td>\-4712, 0, 1, 10, 100, 2018</td><td>Et års tall, alle tall. ERDDAP™ behandlinger y (år-av-era) og Y (uke-basert år, fordi dette ofte feilaktig brukes i stedet for y) som u, <a href="https://en.wikipedia.org/wiki/Astronomical_year_numbering" target="_blank" rel="noopener noreferrer" class="">astronomiske årsnummer</a> .. Astronomiske år er positive eller negative heltal som ikke bruker BCE (BC) eller CE (AD) ea designatorer: 2018=2018CE, ..., 2=2CE, 1=1CE, 0=1BCE, -1=2BCE, -2=3BCE, ...</td></tr><tr><td>uuu, you, YYAR</td><td>\-4712, 0000, 0001, 0010, 0100, 2018</td><td>4 siffer astronomisk år (Oversetter alle tidligere &quot;-&quot;)</td></tr><tr><td>M</td><td>1, 01, 12</td><td>Et månedsnummer, ethvert antall siffer (1=januar)</td></tr><tr><td>MM</td><td>01, 12</td><td>a 2 siffer (null polstret) månedsnummer</td></tr><tr><td>MMM</td><td>Jan, jan, JAN</td><td>en 3 bokstav engelsk måned navn, tilfelle ufølsom</td></tr><tr><td>MMMM</td><td>jan, jan, jan, jan, januar, januar, januar, januar, januar</td><td>3 bokstaver eller full engelsk månedsnavn, tilfelle ufølsom</td></tr><tr><td>d</td><td>1, 01, 31</td><td>et månedsnummer, et antall siffer</td></tr><tr><td>dd</td><td>01, 31</td><td>a 2 siffer (null polstret) dag på måned. Det første &quot;sifferet&quot; kan være et rom.</td></tr><tr><td>D</td><td>1, 001, 366</td><td>dag-av-år, ethvert antall siffer, 001=jan 1</td></tr><tr><td>DDD</td><td>001, 366</td><td>dagtid, 3 siffer, 001=jan 1</td></tr><tr><td>EEE</td><td>Thu, Thu</td><td>en 3 bokstavers dag i uken, verdi ignoreres når man tolker</td></tr><tr><td>EEEE</td><td>Thursday, Thursday, Thursday, Thursday</td><td>en 3 bokstaver eller full engelsk dag i uken, tilfelle ufølsom, verdi ignoreres når man tolker</td></tr><tr><td>H</td><td>0, 00, 23</td><td>H time på dagen (0-23) , ethvert antall siffer</td></tr><tr><td>HH</td><td>00, 23</td><td>HH time på dagen (00-23) 2 siffer. Det første &quot;sifferet&quot; kan være et rom.</td></tr><tr><td>a</td><td>am, AM, pm, PM</td><td>PM eller PM, case-insensitive</td></tr><tr><td>h</td><td>12, 1, 01, 11</td><td>klokke-timer-av-am-pm (12, 1, 2, ... 11) , ethvert antall siffer</td></tr><tr><td>hh</td><td>12, 01, 11</td><td>klokke-timer-av-am-pm (12, 1, 2, ... 11) 2 siffer. Det første &quot;sifferet&quot; kan være et rom.</td></tr><tr><td>K</td><td>0, 1, 11</td><td>time-of-am-pm (0, 1, ...11) , ethvert antall siffer</td></tr><tr><td>KK</td><td>00, 01, 11</td><td>time-of-am-pm, 2 siffer</td></tr><tr><td>m</td><td>0, 00, 59</td><td>minutt på timen, antall siffer</td></tr><tr><td>mm</td><td>00, 59</td><td>timeminutt, 2 siffer</td></tr><tr><td>s</td><td>0, 00, 59</td><td>andre minutt, alle antall siffer</td></tr><tr><td>ss</td><td>00, 59</td><td>andre minutt, 2 siffer</td></tr><tr><td>S</td><td>0, 000, 9, 999</td><td>fraksjon i sekundet, som om etter et desimalpunkt, antall siffer</td></tr><tr><td>SS</td><td>00, 99</td><td>hundredeler av et sekund, 2 siffer</td></tr><tr><td>SSS</td><td>000, 999</td><td>tusenvis av et sekund, 3 siffer</td></tr><tr><td>A</td><td>0, 0000, 86399999</td><td>millisecond-of-day, ethvert antall siffer</td></tr><tr><td>AAAAAAAAA</td><td>0000000, 86399999</td><td>Millisekunder, 8 siffer</td></tr><tr><td>N</td><td>0.00000000, 86399999999999</td><td>nano andre-dag, alle antall siffer. I ERDDAP™ Dette er avkortet til nMillis.</td></tr><tr><td>NNNNNNNNNNN</td><td>0000000000, 863999999999999</td><td>Nanosecond-of-day, 14 siffer. I ERDDAP™ Dette er avkortet til nMillis.</td></tr><tr><td>n</td><td>0 000000000, 59999999999</td><td>nanosekund, alle tall. I ERDDAP™ Dette er avkortet til nMillis.</td></tr><tr><td>nnnnnnn</td><td>1000000000, 59999999999</td><td>Nanosekunder, 11 siffer. I ERDDAP™ Dette er avkortet til nMillis.</td></tr><tr><td>XXX, ZZZ</td><td>Z, -08:00, +01:00</td><td>en tidssone med formatet «Z» eller ± (2 siffer time offset) :) (2 sifferminutt forskyvning) .. Dette behandler <em>plass</em> som + (ikke-standard) .. ZZZ som støtter &quot;Z&quot; er ikke-standard, men håndterer en vanlig brukerfeil.</td></tr><tr><td>XX, ZZ</td><td>Z-0800, +0100</td><td>en tidssone med formatet «Z» eller ± (2 siffer time offset) :) (2 sifferminutt forskyvning) .. Dette behandler <em>plass</em> som + (ikke-standard) .. ZZ støtter &quot;Z&quot; er ikke-standard, men håndterer en vanlig brukerfeil.</td></tr><tr><td>X, Z</td><td>Z, -08, +01</td><td>en tidssone med formatet «Z» eller ± (2 siffer time offset) :) (2 sifferminutt forskyvning) .. Dette behandler <em>plass</em> som + (ikke-standard) .. Z som støtter &quot;Z&quot; er ikke-standard, men omhandler en vanlig brukerfeil.</td></tr><tr><td>xxx</td><td>\-08:00, +01:00</td><td>En tidssone med formatet ± (2 siffer time offset) :) (2 sifferminutt forskyvning) .. Dette behandler <em>plass</em> som + (ikke-standard) ..</td></tr><tr><td>xx</td><td>\-0800, +0100</td><td>En tidssone med formatet ± (2 siffer time offset)  (2 sifferminutt forskyvning) .. Dette behandler <em>plass</em> som + (ikke-standard) ..</td></tr><tr><td>x</td><td>\-08, +01</td><td>En tidssone med formatet ± (2 siffer time offset) .. Dette behandler <em>plass</em> som + (ikke-standard) ..</td></tr><tr><td>&quot;</td><td>&#x27;T&#x27;, &#x27;Z&#x27;, &#x27;GMT&#x27;</td><td>start og slutt på en rekke bokstavelige tegn</td></tr><tr><td>&quot; &quot; (To enkelt sitater)</td><td>&quot; &quot;</td><td>To enkelt sitater betegner et bokstavelig enkelt sitat</td></tr><tr><td>\[  \]</td><td>\[   \]</td><td>Starten (&quot; \[ &quot;) og slutt (&quot; \] &quot;) En valgfri seksjon. Denne notasjonen støttes bare for bokstavlige tegn og i slutten av formatstrengen.</td></tr><tr><td>#, {, }</td><td>#, {, }</td><td>reservert for fremtidig bruk</td></tr><tr><td>G,L,Q,e,c,V,z,O,p</td><td></td><td>Disse formateringstegnene støttes av Java DateTimeFormater, men støttes for tiden ikke av ERDDAP .. Hvis du trenger støtte til dem, e-post Chris. John på noaa.gov.</td></tr></tbody></table>
<p>Merknader:</p>
<ul>
<li class="">I en datotid med tegnsetting kan numeriske verdier ha et variabelt antall siffer (For eksempel kan i US-slash-datoformat &quot;1/2/1985&quot;, måneden og datoen være 1 eller 2 siffer) så format må bruke 1-bokstavstegn, f.eks. M/d/YYY, som godtar et hvilket som helst antall siffer for måned og dato.</li>
<li class="">Hvis antall siffer for et element er konstant, f.eks. 01/02/1985, angir du antall siffer i formatet, f.eks. MM/dd/YY for 2-sifferent måned, 2-sifferent dato og 4 sifferår.</li>
<li class="">Disse formatene er vanskelig å jobbe med. Et gitt format kan fungere for de fleste, men ikke alle, tidsstrenger for en gitt variabel. Sjekk alltid at formatet du angir fungerer som forventet i ERDDAP for alle av en variabels tidsstrenger.</li>
<li class="">Når det er mulig, vil GenerererDatasetXml foreslå tidsformatstrenger.</li>
<li class="">Hvis du trenger hjelp til å generere en formatstreng, vennligst e-post Chris. John på noaa.gov.</li>
</ul>
<p>Hovedtidsdatavariabelen (for tabelldatasett) og hovedtidsaksen variabel (for nettbaserte datasett) er anerkjent av <a href="#destinationname" class=""> destinationName </a> Tid. Metadataene deres må være en UDUits-kompatibel enhetsstreng for numeriske tidsverdier, f.eks. &quot;dager siden 1970-01-01&quot; (for tabell- eller gitte datasett) , eller <a href="#string-time-units" class="">enheter egnet for strengtider</a> , f.eks.  &quot;M/d/YY&quot; (for tabelldatasett) ..</p>
<p>Ulike tidsenheter i forskjellige grupper .nc Filer - Hvis du har en samling gitt .nc filer der én del av filene for tidsvariabelen bruker forskjellige tidsenheter enn en eller flere andre undergrupper av filene, kan du bruke <a href="#eddgridfromncfilesunpacked" class=""> EDDGrid FraNcFilesUpakket</a> .. Det konverterer tidsverdier til &quot;seconds since 1970-01-01T00:00:00Z&quot; på et lavere nivå, og dermed skjule forskjellene, slik at du kan gjøre ett datasett fra samling av heterogene filer.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="timestamp-variables">TimeStamp Variabler<a href="#timestamp-variables" class="hash-link" aria-label="Direkte lenke tilTimeStamp Variabler" title="Direkte lenke tilTimeStamp Variabler" translate="no">​</a></h6>
<p><a href="#timestamp-variables" class="">TimeStamp Variabler</a> -- Enhver annen variabel ( axisVariable eller dataVariable I en EDDGrid eller EDDTable datasett) kan være en tidsstemplevariabel. Timestamp variabler er variabler som har tidsrelaterte enheter og tidsdata, men har en&lt; destinationName Andre enn tiden. TimeStamp variabler oppfører seg som den viktigste tidsvariabelen ved at de konverterer kildens tidsformat til &quot;seconds since 1970-01-01T00:00:00Z&quot; og/eller ISO 8601:2004 (E) format). ERDDAP™ gjenkjenner tiden Stempelvariabler av deres tidsrelaterte <a href="#units" class="">enheter</a> &quot; metadata, som må matche dette regulære uttrykket &quot; \[ a-zA-Z \] + + siden + \[ 0-9 \] .+&quot; (for numerisk dato For eksempel tider, &quot;seconds since 1970-01-01T00:00:00Z&quot; ) eller være en dato Tidsformatstreng som inneholder &quot;uuu&quot;, &quot;yyyyYY&quot; eller &quot;YYYZ&quot; (For eksempel: yyyy-MM-dd &#x27;T&#x27;HH:mm:ssZ-) .. Men vær så snill å bruke destinationName   &quot;time&quot; for hoveddatoen Tidsvariabel.</p>
<p><strong>Kontroller alltid arbeidet ditt for å være sikker på at tidsdataene som dukker opp i ERDDAP™ Det er riktige tidsdata.</strong> Å jobbe med tidsdata er alltid vanskelig og feil utsatt.</p>
<p>Se <a href="#destinationname" class="">mer informasjon om tidsvariabler</a> ..
ERDDAP™ har et verktøy til <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html" target="_blank" rel="noopener noreferrer" class="">Konverter et tall Tid til/fra en strengtid</a> ..
Se <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html#erddap" target="_blank" rel="noopener noreferrer" class="">Hvordan ERDDAP™ Avtaler med tiden</a> ..
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="valid_range">valid\_range<a href="#valid_range" class="hash-link" aria-label="Direkte lenke tilvalid\_range" title="Direkte lenke tilvalid\_range" translate="no">​</a></h6>
<ul>
<li class=""><a href="#valid_range" class=""> ** valid\_range ** , eller ** valid\_min ** og ** valid\_max ** </a> -- Disse er valgfrie variable attributter definert i <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> metadatakonvensjoner. For eksempel</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;valid\_range&quot; <a href="#attributetype" class="">type=&quot;floatList&quot;</a>\&gt;0.0 40.0&lt;/att&gt;</p>
</blockquote>
<p>eller</p>
<blockquote>
<p>&lt;att name=&quot;valid\_min&quot; <a href="#attributetype" class="">type=&quot;float&quot;</a>\&gt;0.0&lt;/att&gt;<br>
<!-- -->&lt;att name=&quot;valid\_max&quot; <a href="#attributetype" class="">type=&quot;float&quot;</a>\&gt;40.0&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">Hvis det er tilstede, bør de være av samme datatype som variabelen, og angi de gyldige minste- og maksimumsverdiene til dataene for den variabelen. Brukere bør vurdere verdier utenfor dette området å være ugyldige.</li>
<li class="">ERDDAP™ gjelder ikke valid\_range .. Sa en annen måte: ERDDAP™ konverterer ikke dataverdier utenfor valid\_range til \_fylken Verdi eller missing\_value .. ERDDAP™ Bare passerer på dette metadataet og etterlater programmet opp til deg.
Hvorfor? Det er det denne metadataen er for. Hvis dataleverandøren hadde ønsket å, kunne dataleverandøren ha konvertert dataverdiene utenfor valid\_range å være \_FallValues. ERDDAP™ Gir ikke dataleverandøren andre gang. Denne tilnærmingen er tryggere: hvis det senere er vist at valid\_range var for smal eller på annen måte feil, ERDDAP™ Jeg vil ikke ha utgitt dataene.</li>
<li class="">Hvis dataene er pakket med <a href="#scale_factor" class=""> scale\_factor og/eller add\_offset </a> , valid\_range , valid\_min og valid\_max bør være den pakkede datatypen og verdiene. Siden ERDDAP™ gjelder scale\_factor og add\_offset når det laster datasettet, ERDDAP™ vil pakke opp valid\_range , valid\_min og valid\_max verdier slik at destinasjonens metadata (Vist til brukere) vil indikere utpakket datatype og område.
Hvis en pakket valid\_range Attribut er tilstede, det vil bli omdøpt valid\_range Når ERDDAP™ Laster datasettet.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="removemvrows">&lt;removeMVRoads&gt;<a href="#removemvrows" class="hash-link" aria-label="Direkte lenke til&lt;removeMVRoads&gt;" title="Direkte lenke til&lt;removeMVRoads&gt;" translate="no">​</a></h5>
<ul>
<li class="">[ ** &lt;fjerneMV-rader&gt; ** ] (#removemvrows) er en valgfri tagg i en etikett i datasets.xml for EDDTableFra Filer (Inkludert alle underklasser) datasett, men det brukes kun for EDDTableFromMultidimNcFiles. Det kan ha en verdi av sant eller falskt. For eksempel sant
Dette fjerner en hvilken som helst blokk av rader i slutten av en gruppe der alle verdiene er missing\_value ,  \_FillValue, eller CoHort ... Array innfødt manglende verdi (eller char=#32 for CharArrays) .. Dette er for CF DSG Multidimensional Array filtypen og lignende filer. Hvis det er sant, gjør dette den riktige testen og så alltid laster alle max dim variabler, så det kan ta ekstra tid.
Standardverdien av er falsk.
Anbefaling -- Hvis det er mulig for datasettet, anbefaler vi at du fjerner MV-rader til feil. Å sette fjerneMVRows til sanne kan betydelig bremse forespørsler, men kan være nødvendig for enkelte datasett.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/datasets.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Rediger denne siden</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs sider"><a class="pagination-nav__link pagination-nav__link--prev" href="/nb/docs/server-admin/deploy-update"><div class="pagination-nav__sublabel">Forrige</div><div class="pagination-nav__label">Oppdater</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/nb/docs/server-admin/additional-information"><div class="pagination-nav__sublabel">Neste</div><div class="pagination-nav__label">Tilleggsinformasjon</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduksjon</a><ul><li><a href="#some-assembly-required" class="table-of-contents__link toc-highlight">En samling kreves</a></li><li><a href="#varaibles-in-datasetsxml" class="table-of-contents__link toc-highlight">Variabler i datasets.xml</a></li><li><a href="#data-provider-form" class="table-of-contents__link toc-highlight">Dataleverandør Form</a></li><li><a href="#tools" class="table-of-contents__link toc-highlight">Verktøy</a></li><li><a href="#generatedatasetsxml" class="table-of-contents__link toc-highlight">Generer DatasetsXml</a></li><li><a href="#dasdds" class="table-of-contents__link toc-highlight">DasDds</a></li><li><a href="#bonus-third-party-tool-erddap-lint" class="table-of-contents__link toc-highlight">Bonus Tredjepartsverktøy: ERDDAP -lint</a></li></ul></li><li><a href="#the-basic-structure-of-the-datasetsxml-file" class="table-of-contents__link toc-highlight">Grunnleggende struktur av datasets.xml Fil</a><ul><li><a href="#xinclude" class="table-of-contents__link toc-highlight">XInclude</a></li></ul></li><li><a href="#notes" class="table-of-contents__link toc-highlight">Noter</a><ul><li><a href="#choosing-the-dataset-type" class="table-of-contents__link toc-highlight">Valg av datasetttype</a></li><li><a href="#serving-the-data-as-is" class="table-of-contents__link toc-highlight">Å tjene dataene som er</a></li><li><a href="#hint" class="table-of-contents__link toc-highlight">Tips</a></li><li><a href="#encoding-special-characters" class="table-of-contents__link toc-highlight">Koding av spesielle tegn</a></li><li><a href="#xml-doesnt-tolerate-syntax-errors" class="table-of-contents__link toc-highlight">XML tolererer ikke syntaksfeil</a></li><li><a href="#troubleshooting-tips" class="table-of-contents__link toc-highlight">Feilsøking Tips</a></li><li><a href="#special-variables" class="table-of-contents__link toc-highlight">Spesialvariabler</a></li><li><a href="#why-just-two-basic-data-structures" class="table-of-contents__link toc-highlight">Hvorfor bare to grunnleggende datastrukturer?</a></li><li><a href="#dimensions" class="table-of-contents__link toc-highlight">Dimensjoner</a></li><li><a href="#projected-gridded-data" class="table-of-contents__link toc-highlight">Prosjektert Gristed Data</a></li><li><a href="#data-types" class="table-of-contents__link toc-highlight">Datatyper</a></li><li><a href="#data-type-limitations" class="table-of-contents__link toc-highlight">Datatypebegrensning</a></li><li><a href="#data-type-comments" class="table-of-contents__link toc-highlight">Datatype Kommentarer</a></li><li><a href="#media-files" class="table-of-contents__link toc-highlight">Mediefiler</a></li><li><a href="#working-with-aws-s3-files" class="table-of-contents__link toc-highlight">Arbeider med AWS S3 Filer</a></li><li><a href="#ncml-files" class="table-of-contents__link toc-highlight">NcML-filer</a></li><li><a href="#netcdf-operators-nco" class="table-of-contents__link toc-highlight">NetCDF Operatører ( NCO )</a></li><li><a href="#limits-to-the-size-of-a-dataset" class="table-of-contents__link toc-highlight">Grenser til størrelsen på et datasett</a></li><li><a href="#switch-to-acdd-13" class="table-of-contents__link toc-highlight">Bytt til ACDD-1.3</a></li><li><a href="#zarr" class="table-of-contents__link toc-highlight">Zarr</a></li></ul></li><li><a href="#list-of-types-datasets" class="table-of-contents__link toc-highlight">Liste over typer datasett</a><ul><li><a href="#eddgrid" class="table-of-contents__link toc-highlight">EDDGrid</a></li><li><a href="#eddtable" class="table-of-contents__link toc-highlight">EDDTable</a></li></ul></li><li><a href="#detailed-descriptions-of-dataset-types" class="table-of-contents__link toc-highlight">Detaljerte beskrivelser av Datasett Typer</a><ul><li><a href="#eddgridfromdap" class="table-of-contents__link toc-highlight">EDDGrid FraDap</a></li><li><a href="#eddgridfromeddtable" class="table-of-contents__link toc-highlight">EDDGrid Fra EDDTable</a></li><li><a href="#eddfromerddap" class="table-of-contents__link toc-highlight">EDD*Fra ERDDAP</a></li><li><a href="#eddgridfrometopo" class="table-of-contents__link toc-highlight">EDDGrid FraEtopo</a></li><li><a href="#eddgridfromfiles" class="table-of-contents__link toc-highlight">EDDGrid FraFiles</a></li><li><a href="#eddfromaudiofiles" class="table-of-contents__link toc-highlight">EDD*FraAudioFiles</a></li><li><a href="#eddgridfrommergeirfiles" class="table-of-contents__link toc-highlight">EDDGrid Fra FlightIRFiles</a></li><li><a href="#eddgridfromncfiles" class="table-of-contents__link toc-highlight">EDDGrid FraNcFiles</a></li><li><a href="#eddgridfromncfilesunpacked" class="table-of-contents__link toc-highlight">EDDGrid FraNcFilesUpakket</a></li><li><a href="#eddgridlonpm180" class="table-of-contents__link toc-highlight">EDDGrid LonPM180</a></li><li><a href="#eddgridlon0360" class="table-of-contents__link toc-highlight">EDDGrid Dreier0360</a></li><li><a href="#eddgridsidebyside" class="table-of-contents__link toc-highlight">EDDGrid SideBySide</a></li><li><a href="#eddgridaggregateexistingdimension" class="table-of-contents__link toc-highlight">EDDGrid Aggregate</a></li><li><a href="#eddgridcopy" class="table-of-contents__link toc-highlight">EDDGrid Kopier</a></li><li><a href="#eddtablefromcassandra" class="table-of-contents__link toc-highlight">EDDTableFraCassandra</a></li><li><a href="#eddtablefromdapsequence" class="table-of-contents__link toc-highlight">EDDTableFra DapSekvens</a></li><li><a href="#eddtablefromdatabase" class="table-of-contents__link toc-highlight">EDDTableFraDatabase</a></li><li><a href="#eddtablefromeddgrid" class="table-of-contents__link toc-highlight">EDDTableFra EDDGrid</a></li><li><a href="#eddtablefromfilenames" class="table-of-contents__link toc-highlight">EDDTableFromFileNames</a></li><li><a href="#eddtablefromfiles" class="table-of-contents__link toc-highlight">EDDTableFra Filer</a></li><li><a href="#eddtablefromasciiservice" class="table-of-contents__link toc-highlight">EDDTableFraAsciiService</a></li><li><a href="#eddtablefromasciiservicenos" class="table-of-contents__link toc-highlight">EDDTableFraAsciiServiceNOS</a></li><li><a href="#eddtablefromalldatasets" class="table-of-contents__link toc-highlight">EDDTableFraAllDatasett</a></li><li><a href="#eddtablefromasciifiles" class="table-of-contents__link toc-highlight">EDDTableFraAsciiFiler</a></li><li><a href="#eddtablefromawsxmlfiles" class="table-of-contents__link toc-highlight">EDDTableFra AwsXmlFiles</a></li><li><a href="#eddtablefromcolumnarasciifiles" class="table-of-contents__link toc-highlight">EDDTableFraColumnarAsciiFiler</a></li><li><a href="#eddtablefromhttpget" class="table-of-contents__link toc-highlight">EDDTableFraHttpGet</a></li><li><a href="#eddtablefromhyraxfiles" class="table-of-contents__link toc-highlight">EDDTableFra Hyrax Filer</a></li><li><a href="#eddtablefrominvalidcrafiles" class="table-of-contents__link toc-highlight">EDDTableFraInvalidCRAFiler</a></li><li><a href="#eddtablefromjsonlcsvfiles" class="table-of-contents__link toc-highlight">EDDTableFraJsonlCSVFiler</a></li><li><a href="#eddtablefrommultidimncfiles" class="table-of-contents__link toc-highlight">EDDTableFraMultidimNcFiler</a></li><li><a href="#eddtablefromncfiles" class="table-of-contents__link toc-highlight">EDDTableFraNcFiler</a></li><li><a href="#eddtablefromnccffiles" class="table-of-contents__link toc-highlight">EDDTableFraNcCFFiler</a></li><li><a href="#eddtablefromnccsvfiles" class="table-of-contents__link toc-highlight">EDDTableFraNccsvFiler</a></li><li><a href="#eddtablefromnos" class="table-of-contents__link toc-highlight">EDDTableFra NOS</a></li><li><a href="#eddtablefromobis" class="table-of-contents__link toc-highlight">EDDTableFromOBIS</a></li><li><a href="#eddtablefromparquetfiles" class="table-of-contents__link toc-highlight">EDDTableFraParquetFiler</a></li><li><a href="#eddtablefromsos" class="table-of-contents__link toc-highlight">EDDTableFra SOS</a></li><li><a href="#eddtablefromthreddsfiles" class="table-of-contents__link toc-highlight">EDDTableFraTreddsFiler</a></li><li><a href="#eddtablefromwfsfiles" class="table-of-contents__link toc-highlight">EDDTableFra WFS Filer</a></li><li><a href="#eddtableaggregaterows" class="table-of-contents__link toc-highlight">EDDTable</a></li><li><a href="#eddtablecopy" class="table-of-contents__link toc-highlight">EDDTableCopy</a></li></ul></li><li><a href="#details-1" class="table-of-contents__link toc-highlight">Detaljer</a><ul><li><a href="#angulardegreeunits" class="table-of-contents__link toc-highlight">&lt;AngularDegreeUnites&gt;</a></li><li><a href="#angulardegreetrueunits" class="table-of-contents__link toc-highlight">&lt;AngularDegreeTrueUnites&gt;</a></li><li><a href="#commonstandardnames" class="table-of-contents__link toc-highlight">&lt;vanligStandardNames&gt;</a></li><li><a href="#cacheminutes" class="table-of-contents__link toc-highlight">&lt;cacheMinutes&gt;</a></li><li><a href="#cacheclearminutes" class="table-of-contents__link toc-highlight">&lt;cacheClearMinutes&gt;</a></li><li><a href="#convertinterpolaterequestcsvexample" class="table-of-contents__link toc-highlight">&lt;convertInterpolateRequestCSVExample&gt;</a></li><li><a href="#convertinterpolatedatasetidvariablelist" class="table-of-contents__link toc-highlight">&lt;convertInterpolateDatasetIDVariableList&gt;</a></li><li><a href="#converttopublicsourceurl" class="table-of-contents__link toc-highlight">&lt;convertToPublicSourceUrl&gt;</a></li><li><a href="#dataimagepngbase64" class="table-of-contents__link toc-highlight">data/png;base64,</a></li><li><a href="#drawlandmask" class="table-of-contents__link toc-highlight">drawLandMask</a></li><li><a href="#emaildiagnosticstoerddata" class="table-of-contents__link toc-highlight">&lt;e-postDiagnosticsToErdData&gt;</a></li><li><a href="#graphbackgroundcolor" class="table-of-contents__link toc-highlight">&lt;graphBackgroundColor&gt;</a></li><li><a href="#ipaddressmaxrequests" class="table-of-contents__link toc-highlight">&lt;ipAdresseMaxRequests&gt;</a></li><li><a href="#ipaddressmaxrequestsactive" class="table-of-contents__link toc-highlight">&lt;ipAdresseMaxRequestsActive &gt;</a></li><li><a href="#ipaddressunlimited" class="table-of-contents__link toc-highlight">&lt;ipAdresseUbegrenset&gt;</a></li><li><a href="#loaddatasetsminminutes" class="table-of-contents__link toc-highlight">&lt;LastDatasetsMinMinMinutes &gt;</a></li><li><a href="#loaddatasetsmaxminutes" class="table-of-contents__link toc-highlight">&lt;LastDatasettsMaxMinutes&gt;</a></li><li><a href="#loglevel" class="table-of-contents__link toc-highlight">&lt;logLevel&gt;</a></li><li><a href="#partialrequestmaxbytes-and-partialrequestmaxcells" class="table-of-contents__link toc-highlight">&lt;DelvisRequestMaxbytes&gt; og&lt;DelvisRequestMaxCells&gt;</a></li><li><a href="#requestblacklist" class="table-of-contents__link toc-highlight">&lt;forespørselBlacklist&gt;</a></li><li><a href="#slowdowntroublemillis" class="table-of-contents__link toc-highlight">&lt;LangsomDownTroubleMillis&gt;</a></li><li><a href="#subscriptionemailblacklist" class="table-of-contents__link toc-highlight">&lt;emailBlacklist&gt;</a></li><li><a href="#standard-text" class="table-of-contents__link toc-highlight">Standardtekst</a></li><li><a href="#unusualactivity" class="table-of-contents__link toc-highlight">&lt;uvanlig Aktivitet &gt;</a></li><li><a href="#updatemaxevents" class="table-of-contents__link toc-highlight">&lt;updateMaxEvents&gt;</a></li><li><a href="#user" class="table-of-contents__link toc-highlight">&lt;bruker&gt;</a></li><li><a href="#pathregex" class="table-of-contents__link toc-highlight">&lt;pathRegex&gt;</a></li><li><a href="#dataset" class="table-of-contents__link toc-highlight">&lt;datasett &gt;</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/nb/docs/intro">Dokumentasjon</a></li><li class="footer__item"><a class="footer__link-item" href="/nb/docs/contributing">Bidrag</a></li><li class="footer__item"><a class="footer__link-item" href="/nb/license">Lisens</a></li><li class="footer__item"><a class="footer__link-item" href="/nb/changes">Endringer</a></li><li class="footer__item"><a class="footer__link-item" href="/nb/cloud">Sky</a></li><li class="footer__item"><a class="footer__link-item" href="/nb/docs/intro#support">Støtte/kontakt</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/nb/governance">Governance</a></li><li class="footer__item"><a class="footer__link-item" href="/nb/technical-board">Teknisk styre</a></li><li class="footer__item"><a href="https://groups.google.com/g/erddap" target="_blank" rel="noopener noreferrer" class="footer__link-item">ERDDAP™Brukergruppe<svg width="13.5" height="13.5" aria-label="(Åpner i ny fane)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://groups.google.com/g/erddap-announce" target="_blank" rel="noopener noreferrer" class="footer__link-item">ERDDAP™Opplys<svg width="13.5" height="13.5" aria-label="(Åpner i ny fane)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/ERDDAP/erddap/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(Åpner i ny fane)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/nb/credits">Kreditter</a></li><li class="footer__item"><a class="footer__link-item" href="/nb/acknowledgements">Bekjennelser</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Fått til deg av</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.noaa.gov" target="_blank" rel="noopener noreferrer" class="footer__link-item">NOAA<svg width="13.5" height="13.5" aria-label="(Åpner i ny fane)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.fisheries.noaa.gov" target="_blank" rel="noopener noreferrer" class="footer__link-item">NMFS<svg width="13.5" height="13.5" aria-label="(Åpner i ny fane)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.fisheries.noaa.gov/about/southwest-fisheries-science-center" target="_blank" rel="noopener noreferrer" class="footer__link-item">SWFSC<svg width="13.5" height="13.5" aria-label="(Åpner i ny fane)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.fisheries.noaa.gov/about/environmental-research-division-southwest-fisheries-science-center" target="_blank" rel="noopener noreferrer" class="footer__link-item">ERD<svg width="13.5" height="13.5" aria-label="(Åpner i ny fane)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">ERDDAP™, Versjon 2.29.0. Copyright © 2026ERDDAP™.. Bygget med Docusaurus.</div></div></div></footer></div>
</body>
</html>