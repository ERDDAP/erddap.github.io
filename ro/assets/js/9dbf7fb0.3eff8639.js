"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[5641],{28453(e,i,r){r.d(i,{R:()=>c,x:()=>d});var a=r(96540);const t={},n=a.createContext(t);function c(e){const i=a.useContext(n);return a.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),a.createElement(n.Provider,{value:i},e.children)}},45303(e,i,r){r.r(i),r.d(i,{assets:()=>s,contentTitle:()=>d,default:()=>o,frontMatter:()=>c,metadata:()=>a,toc:()=>u});const a=JSON.parse('{"id":"server-admin/prometheus","title":"Prometeu","description":"Prometheus metrics sunt disponibile la /erddap/metrice. Parametrii de baz\u0103 JVM au fost ad\u0103uga\u021bi \xeen 2.25 cu mul\u021bi ERDDAP\u2122 valorile ad\u0103ugate \xeen versiunea 2.26. Dac\u0103 dori\u021bi s\u0103 utiliza\u021bi indicatorii asigura\u021bi-v\u0103 c\u0103 sunte\u021bi \xeen cel pu\u021bin versiunea 2.26. Ei implicit pentru a activa, le pute\u021bi dezactiva prin ad\u0103ugarea","source":"@site/i18n/ro/docusaurus-plugin-content-docs/current/server-admin/prometheus.md","sourceDirName":"server-admin","slug":"/server-admin/prometheus","permalink":"/ro/docs/server-admin/prometheus","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/prometheus.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9},"sidebar":"docSidebar","previous":{"title":"Metadate localizate","permalink":"/ro/docs/server-admin/localized-metadata"},"next":{"title":"Indicatoare de caracteristici","permalink":"/ro/docs/server-admin/feature-flags"}}');var t=r(74848),n=r(28453);const c={sidebar_position:9},d="Prometeu",s={},u=[{value:"Ruleaz\u0103 serverul Prometeu",id:"ruleaz\u0103-serverul-prometeu",level:2},{value:"ERDDAP\u2122 Indicatori",id:"erddap-indicatori",level:2},{value:"JVM",id:"jvm",level:3},{value:"ERDDAP\u2122 specific",id:"erddap-specific",level:3},{value:"ERDDAP _build_info",id:"erddap-_build_info",level:4},{value:"feature_flags",id:"feature_flags",level:4},{value:"tamponat Imagine",id:"tamponat-imagine",level:4},{value:"http _Cere_durata_secunde",id:"http-_cere_durata_secunde",level:4},{value:"Atingerea_fire_durate_secunde",id:"atingerea_fire_durate_secunde",level:4},{value:"sarcina_firul_durata_secunde",id:"sarcina_firul_durata_secunde",level:4},{value:"incarcare_seturi de date_durata_secunde",id:"incarcare_seturi-de-date_durata_secunde",level:4},{value:"e-mail_fire_durate_secunde",id:"e-mail_fire_durate_secunde",level:4},{value:"e-mail_conte_distribution",id:"e-mail_conte_distribution",level:4},{value:"Set_num\u0103r",id:"set_num\u0103r",level:4},{value:"Set de date_e\u0219ec_load_conte",id:"set-de-date_e\u0219ec_load_conte",level:4},{value:"Spot_cere_total",id:"spot_cere_total",level:4},{value:"periculos_memory_emails_total",id:"periculos_memory_emails_total",level:4},{value:"periculos_memorie_e\u0219ec_total",id:"periculos_memorie_e\u0219ec_total",level:4},{value:"topo_cerere_total",id:"topo_cerere_total",level:4},{value:"Contoare hotarare",id:"contoare-hotarare",level:4}];function l(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"prometeu",children:"Prometeu"})}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.a,{href:"https://prometheus.io/",children:"Prometheus metrics"})," sunt disponibile la /erddap/metrice. Parametrii de baz\u0103 JVM au fost ad\u0103uga\u021bi \xeen 2.25 cu mul\u021bi ERDDAP\u2122 valorile ad\u0103ugate \xeen versiunea 2.26. Dac\u0103 dori\u021bi s\u0103 utiliza\u021bi indicatorii asigura\u021bi-v\u0103 c\u0103 sunte\u021bi \xeen cel pu\u021bin versiunea 2.26. Ei implicit pentru a activa, le pute\u021bi dezactiva prin ad\u0103ugarea"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-xml",children:"<usePrometheusMetrics>false</usePrometheusMetrics>\n"})}),"\n",(0,t.jsx)(i.p,{children:"la setup.xml."}),"\n",(0,t.jsx)(i.p,{children:"Aceste indicatori sunt concepute pentru a fi u\u0219or de citit. \xcen timp ce pute\u021bi verifica manual pagina de indicatori, pentru monitorizarea \xeen profunzime este recomandat s\u0103 utiliza\u021bi un server Prometeu. Un server Prometheus va stoca indicatori istorici care permit o monitorizare mai profund\u0103 (cum ar fi ratele \u0219i modific\u0103rile fa\u021b\u0103 de valorile anterioare) , \u0219i, de asemenea, este de multe ori rula cu un server Grafana. Noi oferim unele borduri de bord prebuilt care admins ar putea g\u0103si util pentru a \xeencepe monitorizarea serverelor lor."}),"\n",(0,t.jsx)(i.h2,{id:"ruleaz\u0103-serverul-prometeu",children:"Ruleaz\u0103 serverul Prometeu"}),"\n",(0,t.jsxs)(i.p,{children:["Cea mai bun\u0103 documenta\u021bie pentru func\u021bionarea stiva de monitorizare (Prometeu + Grafana) este \xeen Prometheus ",(0,t.jsx)(i.a,{href:"https://github.com/ERDDAP/erddap/blob/main/docker/prometheus/README.md",children:"readme"})," ."]}),"\n",(0,t.jsx)(i.h2,{id:"erddap-indicatori",children:"ERDDAP\u2122 Indicatori"}),"\n",(0,t.jsx)(i.h3,{id:"jvm",children:"JVM"}),"\n",(0,t.jsxs)(i.p,{children:["ERDDAP\u2122 export\u0103 o serie de indicatori pe care le-ar putea g\u0103si utile (\xeencep\xe2nd cu ERDDAP\u2122 2, 25) . Pentru monitorizarea general\u0103 a st\u0103rii de s\u0103n\u0103tate a JVM folosim indicatorii colecta\u0163i de clientul Prometheus. Acest lucru include date despre colectarea gunoiului, utilizarea memoriei, fire, \u0219i mai mult. Pentru mai multe informa\u021bii, a se vedea ",(0,t.jsx)(i.a,{href:"https://prometheus.github.io/client_java/instrumentation/jvm/",children:"Prometeu Java Documenta\u021bia JVM a clientului"})," ."]}),"\n",(0,t.jsx)(i.h3,{id:"erddap-specific",children:"ERDDAP\u2122 specific"}),"\n",(0,t.jsxs)(i.p,{children:["De asemenea, export\u0103m o serie de ERDDAP\u2122 indicatori specifici (\xeencep\xe2nd cu ERDDAP\u2122 2, 26) . Dac\u0103 dori\u021bi s\u0103 sape \xeen codul, pute\u021bi g\u0103si valorile colectate \xeen ",(0,t.jsx)(i.a,{href:"https://github.com/ERDDAP/erddap/blob/main/WEB-INF/classes/gov/noaa/pfel/erddap/util/Metrics.java",children:"Metrics.java"})," ."]}),"\n",(0,t.jsx)(i.h4,{id:"erddap-_build_info",children:"ERDDAP _build_info"}),"\n",(0,t.jsx)(i.p,{children:"Aceasta este informa\u0163ia de construc\u0163ie pentru ERDDAP\u2122 server. Include versiunea (major. minor) , versiunea_plin\u0103 (major.minor.patch) , \u0219i implementarea_info (folosit pentru a indica modul \xeen care serverul este implementat, cum ar fi 'Docker ') ."}),"\n",(0,t.jsx)(i.h4,{id:"feature_flags",children:"feature_flags"}),"\n",(0,t.jsx)(i.p,{children:"Acesta este un indicator informativ care arat\u0103 starea actual\u0103 a steagurilor caracteristicilor. Cele mai multe op\u021biuni de configurare boolean sunt considerate steaguri caracteristic\u0103."}),"\n",(0,t.jsx)(i.h4,{id:"tamponat-imagine",children:"tamponat Imagine"}),"\n",(0,t.jsx)(i.p,{children:"Acesta este un metric info care indic\u0103 dac\u0103 accelera\u021bia grafic\u0103 este disponibil\u0103."}),"\n",(0,t.jsx)(i.h4,{id:"http-_cere_durata_secunde",children:"http _Cere_durata_secunde"}),"\n",(0,t.jsx)(i.p,{children:'Aceasta este o histogram\u0103 a duratei de r\u0103spuns la cerere \xeen c\xe2teva secunde. Etichetele sunt de tip cerere_tip (de exemplu griddap; tabledap , fi\u0219iere, wMS) , Set de date_id (dac\u0103 este cazul, repet\u0103 altfel tipul de cerere) , fi\u0219ier_tip (Formatul de ie\u0219ire pentru cerere de exemplu "html," "csv," ".iso19115 \') , lang_cod (limba pentru cerere sau \u0219irul gol dac\u0103 este implicit) , status_code ( http codul de stare al cererii, de exemplu 200, 302, 404) .'}),"\n",(0,t.jsx)(i.p,{children:"Acest lucru poate fi folosit pentru a urm\u0103ri cererile prin set de date pentru a determina set\u0103rile de date populare ale serverului. De asemenea, poate ajuta la identificarea dac\u0103 exist\u0103 anumite tipuri de cereri care sunt lente pe server."}),"\n",(0,t.jsx)(i.h4,{id:"atingerea_fire_durate_secunde",children:"Atingerea_fire_durate_secunde"}),"\n",(0,t.jsx)(i.p,{children:"O histogram\u0103 de durate de sarcin\u0103 tactil fir. Sunt etichetate cu succes. (adev\u0103rat/fals) ."}),"\n",(0,t.jsx)(i.h4,{id:"sarcina_firul_durata_secunde",children:"sarcina_firul_durata_secunde"}),"\n",(0,t.jsx)(i.p,{children:"O histogram\u0103 de durate ale firului de sarcin\u0103. Sunt etichetate cu succes. (adev\u0103rat/fals) \u0219i task_type (intetger) ."}),"\n",(0,t.jsx)(i.h4,{id:"incarcare_seturi-de-date_durata_secunde",children:"incarcare_seturi de date_durata_secunde"}),"\n",(0,t.jsx)(i.p,{children:"O histogram\u0103 a duratei sarcinilor setului de sarcini. Acestea sunt etichetate cu majore (adev\u0103rat/fals) ."}),"\n",(0,t.jsx)(i.h4,{id:"e-mail_fire_durate_secunde",children:"e-mail_fire_durate_secunde"}),"\n",(0,t.jsx)(i.p,{children:"O histogram\u0103 a duratei sarcinii firului de e-mail. Sunt etichetate cu succes. (adev\u0103rat/fals) ."}),"\n",(0,t.jsx)(i.h4,{id:"e-mail_conte_distribution",children:"e-mail_conte_distribution"}),"\n",(0,t.jsx)(i.p,{children:"O histogram\u0103 de e-mailuri pe sarcin\u0103."}),"\n",(0,t.jsx)(i.h4,{id:"set_num\u0103r",children:"Set_num\u0103r"}),"\n",(0,t.jsx)(i.p,{children:"Un indicator al seturilor de date, setat dup\u0103 fiecare apel de seturi de sarcini. Aceasta este etichetat\u0103 cu categoria (gril\u0103, tabel) ."}),"\n",(0,t.jsx)(i.h4,{id:"set-de-date_e\u0219ec_load_conte",children:"Set de date_e\u0219ec_load_conte"}),"\n",(0,t.jsx)(i.p,{children:"Un indicator al seturilor de date care nu au putut fi \xeenc\u0103rcate, setat dup\u0103 fiecare apel al seturilor de date privind \xeenc\u0103rc\u0103tura."}),"\n",(0,t.jsx)(i.h4,{id:"spot_cere_total",children:"Spot_cere_total"}),"\n",(0,t.jsx)(i.p,{children:"Contracararea cererilor care au fost v\u0103rsate. Serverul va pune o cerere atunci c\xe2nd crede c\u0103 serverul este sc\u0103zut pe memorie (RAM) iar cererea ar cauza probleme. Aceasta nu include cererile de eroare din cauza spa\u021biului RAM sc\u0103zut sau disc \xeen timpul manipul\u0103rii cererii."}),"\n",(0,t.jsx)(i.h4,{id:"periculos_memory_emails_total",children:"periculos_memory_emails_total"}),"\n",(0,t.jsx)(i.p,{children:"Counter de ori serverul \xeencearc\u0103 s\u0103 trimit\u0103 un e-mail la admin c\u0103 memoria este periculos de sc\u0103zut."}),"\n",(0,t.jsx)(i.h4,{id:"periculos_memorie_e\u0219ec_total",children:"periculos_memorie_e\u0219ec_total"}),"\n",(0,t.jsx)(i.p,{children:"Counter de cereri care nu a reu\u0219it din cauza ma\u0219inii care ruleaz\u0103 afar\u0103 din memorie. De multe ori acest lucru se datoreaz\u0103 faptului c\u0103 aparatul prime\u0219te o mul\u021bime de cereri scumpe sau cererea individual\u0103 a fost excep\u021bional de mare."}),"\n",(0,t.jsx)(i.h4,{id:"topo_cerere_total",children:"topo_cerere_total"}),"\n",(0,t.jsx)(i.p,{children:"Counter of requests for topo data. Acest lucru este etichetat cache (Cache/nu_cached) ."}),"\n",(0,t.jsx)(i.h4,{id:"contoare-hotarare",children:"Contoare hotarare"}),"\n",(0,t.jsx)(i.p,{children:"Exist\u0103, de asemenea, o colec\u021bie de contoare pentru cereri de limite:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"national_boundary_request_total"}),"\n",(0,t.jsx)(i.li,{children:"stat_frontiere_cerere_total"}),"\n",(0,t.jsx)(i.li,{children:"river_boundary_request_total"}),"\n",(0,t.jsx)(i.li,{children:"gshhs_request_total"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Acestea sunt etichetate cu statut (grosolan, succes, aruncat) ."})]})}function o(e={}){const{wrapper:i}={...(0,n.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}}}]);