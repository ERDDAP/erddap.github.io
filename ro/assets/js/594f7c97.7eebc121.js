"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[7793],{5006:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"user/AccessToPrivateDatasets","title":"Access to Private Datasets","description":"MulteERDDAP\u2122instala\u021biile nu au activat autentificarea \u0219i, prin urmare, nu ofer\u0103 utilizatorilor nicio modalitate de a se conecta, nici nu au seturi de date private.","source":"@site/i18n/ro/docusaurus-plugin-content-docs/current/user/AccessToPrivateDatasets.md","sourceDirName":"user","slug":"/user/AccessToPrivateDatasets","permalink":"/ro/docs/user/AccessToPrivateDatasets","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/user/AccessToPrivateDatasets.md","tags":[],"version":"current","frontMatter":{"title":"Access to Private Datasets"},"sidebar":"docSidebar","previous":{"title":"User","permalink":"/ro/docs/category/user"},"next":{"title":"NCCSV 1.00","permalink":"/ro/docs/user/nccsv-1.00"}}');var n=i(74848),r=i(28453);const s={title:"Access to Private Datasets"},o="Accesul la date private \xeenERDDAP\u2122",c={},l=[{value:"Instruc\u021biuni actualizate",id:"updated-instructions",level:2},{value:"Oameni cu browsere",id:"humans-with-browsers",level:2},{value:"Scripturi",id:"scripts",level:2}];function u(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"accesul-la-date-private-\xeenerddap",children:"Accesul la date private \xeenERDDAP\u2122"})}),"\n",(0,n.jsx)(t.p,{children:"MulteERDDAP\u2122instala\u021biile nu au activat autentificarea \u0219i, prin urmare, nu ofer\u0103 utilizatorilor nicio modalitate de a se conecta, nici nu au seturi de date private."}),"\n",(0,n.jsx)(t.p,{children:"UneleERDDAP\u2122instala\u021biile au activat autentificarea. \xcen prezent,ERDDAP\u2122numai accept\u0103 autentificarea prin intermediul conturilor de e-mail gestionate de Google, care include conturi de e-mail laNOAA\u015fi multe universit\u0103\u0163i. Dac\u0103ERDDAP\u2122a activat autentificarea, oricine cu un cont de e-mail gestionat Google se poate conecta, dar va avea acces doar la seturile de date private pe careERDDAP\u2122Administratorul le-a autorizat \xeen mod explicit accesul."}),"\n",(0,n.jsx)(t.h2,{id:"updated-instructions",children:"Instruc\u021biuni actualizate"}),"\n",(0,n.jsxs)(t.p,{children:["Unele dintre informa\u0163iile de mai jos sunt dep\u0103\u015fite. P\xe2n\u0103 c\xe2nd acest lucru devine actualizat pute\u021bi utiliza",(0,n.jsx)(t.a,{href:"https://shospital.github.io/blog/posts/blog-post/erddap_private_dataset.html",children:"acest post blog"}),"pentru etapele recente privind ob\u021binerea datelor dintr-un set de date privat cu scripturi."]}),"\n",(0,n.jsx)(t.h2,{id:"humans-with-browsers",children:"Oameni cu browsere"}),"\n",(0,n.jsx)(t.p,{children:"Utilizatorii umani aiERDDAP\u2122se pot conecta laERDDAP\u2122\xeentr-un browser pentru a avea acces la seturile de date private pe care acestea sunt autorizate s\u0103 le acceseze."}),"\n",(0,n.jsx)(t.p,{children:"Pentru a v\u0103 conecta:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"Face\u021bi clic pe log \xeen link-ul din st\xe2nga sus a oric\u0103ruiaERDDAP\u2122Pagina web.\r\nDac\u0103 nu exist\u0103 niciun log \xeen link,ERDDAP\u2122instalarea nu are activat\u0103 autentificarea \u0219i nu exist\u0103 seturi de date private.\r\n\xa0"}),"\n",(0,n.jsx)(t.li,{children:'Face\u021bi clic pe butonul Sign in pentru a v\u0103 conecta \xeen contul Google.\r\nTextul butonului trebuie schimbat \xeen "Semnat."\r\n\xa0'}),"\n",(0,n.jsxs)(t.li,{children:["Face\u021bi clic pe jurnal \xeenERDDAPbuton.\r\nPagina web ar trebui s\u0103 se schimbe pentru a spune Te-ai logat ca ",(0,n.jsx)(t.em,{children:"dumneavoastr\u0103 Adresa de e-mail"})," .\r\nDac\u0103 nu, a\u0219tepta\u021bi 5 secunde \u0219i face\u021bi clic pe jurnal \xeenERDDAPdin nou.\r\n\xcen cazuri extreme, va trebui s\u0103 a\u0219tepta\u021bi \u0219i apoi \xeencerca\u021bi din nou de c\xe2teva ori.\r\n\xa0"]}),"\n",(0,n.jsx)(t.li,{children:'Nu folosi butonul din spate al browser-ului. Utiliza\u021bi "ERDDAP" link la partea de sus a celor de mai sus, apoi utiliza\u0163i alte link-uri pentru a merge laERDDAP\u2122pagini care v\u0103 intereseaz\u0103. Dac\u0103 o pagin\u0103 web cache spune c\u0103 nu sunt \xeenregistrate \xeen, re\xeenc\u0103rca\u021bi pagina.\r\n\xa0'}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"scripts",children:"Scripturi"}),"\n",(0,n.jsx)(t.p,{children:"\\[Acest lucru este u\u0219or modificat din informa\u021biile furnizate de Lynn DeWitt, care a f\u0103cut treaba grea de imaginind acest lucru. Lynn, mul\u0163umesc foarte mult!\r\nDac\u0103 ave\u021bi corecturi sau sugestii, v\u0103 rug\u0103m s\u0103 trimite\u021bi erd.data @ noaa.gov.\\]"}),"\n",(0,n.jsx)(t.p,{children:"De asemenea, este posibil s\u0103 v\u0103 conecta\u021bi laERDDAP\u2122\u0219i acceseaz\u0103 seturi de date private prin intermediul unui scenariu. Iat\u0103 un exemplu care folose\u0219tecurl:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"Aceste instruc\u021biuni presupun c\u0103 utiliza\u021bi o adres\u0103 de gmail unde autentificarea 2 factori nu este activat\u0103. \xcen cazul \xeen care adresa dvs. principal\u0103 de gmail are 2 factori de autentificare pornit, ia \xeen considerare crearea unei alte adrese de gmail cu 2 factori de autentificare oprit.\r\n\xa0"}),"\n",(0,n.jsx)(t.li,{children:"Autentific\u0103-te laERDDAP\u2122manual cu adresa de gmail pe care dori\u021bi s\u0103 o utiliza\u021bi \xeen script \u0219i s\u0103 accepta\u021bi orice permisiuni necesare, apoi s\u0103 v\u0103 loga\u021bi complet \xeenapoi.\r\n\xa0"}),"\n",(0,n.jsx)(t.li,{children:"Deschide browserul Instrumente Dezvoltator, \u0219i du-te la fila de re\u021bea.\r\n\xa0"}),"\n",(0,n.jsx)(t.li,{children:'Click peERDDAP\u2122link-ul "log in," apoi butonul "Semneaza" si alege adresa de e-mail corespunzatoare daca este solicitata.\r\n\xa0'}),"\n",(0,n.jsx)(t.li,{children:'Dup\u0103 ce butonul "Semneaz\u0103" se schimb\u0103 la "Semnat \xeen," tab-ul Developer Tools Network va ar\u0103ta dou\u0103 intr\u0103ri care arat\u0103 ca urm\u0103toarele (exemplu de la Firefox) :'}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"    iframerpc?action=issueToken&response loginGoogle.html  \n"})}),"\n",(0,n.jsx)(t.p,{children:'Utiliza\u021bi meniul contextului mouse-ului click-dreapta pentru a "copy as cURL" ambele dintre aceste urli \u0219i le lipi \xeentr-un editor text simplu\r\n\xa0\r\n6. Face\u021bi clic pe "Log \xeenERDDAP" buton \u0219i "copie ca CURL" link-ul care arata ca:'}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"    login.html  \n"})}),"\n",(0,n.jsxs)(t.p,{children:["si lipi aceasta a treiacurlcomanda \xeen fi\u0219ierul text.\r\n\xa0\r\n7. \xcen fi\u015fierul text, ve\u0163i avea acum 3 linii ca urm\u0103toarele, \xeen cazul \xeen care a\u0163i autentificat \xeentr-unERDDAP\u2122server la ' * ",(0,n.jsx)(t.a,{href:"https://host.somewhere.com/erddap",children:"https://host.somewhere.com/erddap"}),' * \'. Primulcurlcomanda devine profilul de utilizator \xeen "login\\_int" \u0219i genereaz\u0103 un "id\\_token." Al doilea folose\u0219te id\\_token pentru a se conecta la Google, iar al treilea apoi se conecteaz\u0103 laERDDAP.']}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"    curl 'https://accounts.google.com/o/oauth2/iframerpc?action=issueToken&response\\\\_type=token%20id\\\\_token&scope=openid%20profile%20email&client\\\\_id=ABCDEFG.apps.googleusercontent.com&login\\\\_hint=XXXXXXXXXX&ss\\\\_domain=https%3A%2F%2Fhost.somewhere.com&origin=https%3A%2F%2Fhost.somewhere.com' --2.0 -H 'Host: accounts.google.com' -H 'User-Agent: useragentstuff' -H 'Accept: \\\\*/\\\\*' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://accounts.google.com/o/oauth2/iframe' -H 'Cookie: lotsofcookiestuff' -H 'Connection: keep-alive' curl 'https://host.somewhere.com/erddap/loginGoogle.html' -H 'Host: host.somewhere.com' -H 'User-Agent: useragentstuff' -H 'Accept: \\\\*/\\\\*' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://host.somewhere.com/erddap/login.html' -H 'Content-Type: application/x-www-form-urlencoded' -H 'Cookie: cookiestuff' -H 'Connection: keep-alive' --data 'idtoken=HUGELONGIDTOKEN' curl 'https://host.somewhere.com/erddap/login.html' -H 'Host: host.somewhere.com' -H 'User-Agent: useragentstuff' -H 'Accept: typeacceptstuff' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://host.somewhere.com/erddap/login.html' -H 'Cookie: cookiestuff' -H 'Connection: keep-alive' -H 'Upgrade-Insecure-Requests: 1'\n"})}),"\n",(0,n.jsxs)(t.ol,{start:"8",children:["\n",(0,n.jsx)(t.li,{children:"Cele 3 linii de mai sus, atunci c\xe2nd rula\u021bi secven\u021bial de la o linie de comand\u0103, v\u0103 va conecta \xeenERDDAP. Pentru a le folosi \xeentr-un script trebuie s\u0103 captura\u021bi id\\_token-ul de la prima linie, s\u0103-l alimenta\u021bi la a doua linie \u0219i s\u0103 scrie\u021bi un cookie care s\u0103 fie citit dup\u0103 replicile ulterioare.\r\n\xa0"}),"\n",(0,n.jsxs)(t.li,{children:["Pentru a dezvolta un scenariu, executa\u021bi primul (' ",(0,n.jsx)(t.a,{href:"https://accounts.google.com",children:"https://accounts.google.com"}),' )  curllinie exact a\u0219a cum a fost copiat din instrumentele dezvoltatorului, \u0219i captura r\u0103spunsul (este posibil s\u0103 ave\u0163icurleroare despre steagul "-2.0" doar scoate-l) . \xcen php se pare ca urmatoarele:']}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"    $gcurlstuff=\"curl 'https://accounts.google.com/o/oauth2/iframerpc?action=issueToken&response\\\\_type=token%20id\\\\_token&scope=openid%20profile%20email&client\\\\_id=ABCDEFG.apps.googleusercontent.com&login\\\\_hint=XXXXXXXXXX&ss\\\\_domain=https%3A%2F%2Fhost.somewhere.com&origin=https%3A%2F%2Fhost.somewhere.com' -H 'Host: accounts.google.com' -H 'User-Agent: useragentstuff' -H 'Accept: \\\\*/\\\\*' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://accounts.google.com/o/oauth2/iframe' -H 'Cookie: lotsofcookiestuff' -H 'Connection: keep-alive'\"; //execute the curl command: exec($gcurlstuff,$output,$status); //the response is a json array in $output $response=json\\\\_decode($output\\\\[0\\\\],true); //the part you need is in \"id\\\\_token\": $id\\\\_token=$response\\\\[\"id\\\\_token\"\\\\];\n"})}),"\n",(0,n.jsx)(t.p,{children:'Autentific\u0103-te pe Google prin executarea celei de-a doua linii folosind $id\\_token, \xeen primul r\xe2nd eliminarea parametrului "-H "Cookie: chestii" \u0219i \xeen schimb spun\xe2ndcurlpentru a scrie un cookie:'}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"    $glcurlstuff=\"curl 'https://host.somewhere.com/erddap/loginGoogle.html' -H 'Host: host.somewhere.com' -H 'User-Agent: useragentstuff' -H 'Accept: \\\\*/\\\\*' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://host.somewhere.com/erddap/login.html' -H 'Content-Type: application/x-www-form-urlencoded' -H 'Cookie: cookiestuff' -H 'Connection: keep-alive' --data 'idtoken=\".$id\\\\_token.\"' -b cookies.txt -c cookies.txt\" exec($glcurlstuff,$output1,$status);\n"})}),"\n",(0,n.jsx)(t.p,{children:"Autentific\u0103-te laERDDAP\u2122, din nou eliminarea parametrului \"-H 'Cookie: chestie' \u0219i utilizarea cookie-ului scris anterior:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"    $ecurlstuff=\"curl 'https://host.somewhere.com/erddap/login.html' -H 'Host: host.somewhere.com' -H 'User-Agent: useragentstuff' -H 'Accept: typeacceptstuff' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://host.somewhere.com/erddap/login.html' -H 'Connection: keep-alive' -H 'Upgrade-Insecure-Requests: 1 -b cookies.txt\"' exec($ecurlstuff,$output2,$status);\n"})}),"\n",(0,n.jsx)(t.p,{children:"Acum ar trebui s\u0103 pute\u021bi solicita date de pe server, folosind acela\u0219i cookie:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"    $curlstuff=\"curl -s 'https://host.somewhere.com/erddap/tabledap/datasetid.csv?variablelist' -H 'Host: host.somewhere.com' -H 'User-Agent: useragentstuff' -H 'Accept: typeacceptstuff' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Connection: keep-alive' -H 'Upgrade-Insecure-Requests: 1' -b cookies.txt\"; exec($curlstuff,$output3,$status); //$output3 will be data in csv!\n"})})]})}function d(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},28453:(e,t,i)=>{i.d(t,{R:()=>s,x:()=>o});var a=i(96540);const n={},r=a.createContext(n);function s(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);