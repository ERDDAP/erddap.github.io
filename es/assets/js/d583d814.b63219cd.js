"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[5570],{28453:(e,a,n)=>{n.d(a,{R:()=>i,x:()=>l});var o=n(96540);const s={},r=o.createContext(s);function i(e){const a=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(r.Provider,{value:a},e.children)}},89508:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>t,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"server-admin/EDDTableFromEML","title":"EDDTableFromEML","description":"\\\\\\\\[Esta p\xe1gina web s\xf3lo ser\xe1 de inter\xe9sERDDAP\u2122administradores que trabajan con archivos EML.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/server-admin/EDDTableFromEML.md","sourceDirName":"server-admin","slug":"/server-admin/EDDTableFromEML","permalink":"/es/docs/server-admin/EDDTableFromEML","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/EDDTableFromEML.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"EDDTableFromEML","sidebar_position":6},"sidebar":"docSidebar","previous":{"title":"Escalada","permalink":"/es/docs/server-admin/scaling"},"next":{"title":"displayInfo y displayAttribute Etiquetas","permalink":"/es/docs/server-admin/display-info"}}');var s=n(74848),r=n(28453);const i={title:"EDDTableFromEML",sidebar_position:6},l="EDDTableDeEML y EDDTableDeEMLBatch Opciones en GenerateDatasets Xml",t={},d=[{value:"Preguntas",id:"questions",level:2},{value:"Detalles del dise\xf1o",id:"design-details",level:2},{value:"Un datoTabla Se convierte en unoERDDAP\u2122Dataset",id:"one-datatable-becomes-one-erddap-dataset",level:3},{value:"EML versus CF+ACDD",id:"eml-versus-cfacdd",level:3},{value:"Cambios peque\xf1os",id:"small-changes",level:3},{value:"DocBook",id:"docbook",level:3},{value:"Archivos de datos",id:"data-files",level:3},{value:".zip&#39;d Archivos de datos",id:"zipd-data-files",level:3},{value:"StorageType",id:"storagetype",level:3},{value:"Unidades",id:"units",level:3},{value:"Versi\xf3n EML 2.1.1",id:"eml-version-211",level:3},{value:"Problemas con los archivos EML",id:"issues-with-the-eml-files",level:2},{value:"Columnas separadas de fecha y hora",id:"separate-date-and-time-columns",level:3},{value:"Nombres de columna inconsistentes",id:"inconsistent-column-names",level:3},{value:"Orden de columna diferente",id:"different-column-order",level:3},{value:"Incorrecto numHeaderLines",id:"incorrect-numheaderlines",level:3},{value:"numHeaderLines = 0",id:"numheaderlines--0",level:3},{value:"DateTime Format Strings",id:"datetime-format-strings",level:3},{value:"DateTime But No Time Zone",id:"datetime-but-no-time-zone",level:3},{value:"Faltamissing\\_value",id:"missing-missing_value",level:3},{value:"Problemas peque\xf1os",id:"small-problems",level:3},{value:"Inv\xe1lidos caracteres Unicode",id:"invalid-unicode-characters",level:3},{value:"Diferentes Unidades de Columna] (#differentColumnUnits)",id:"different-column-unitsdifferentcolumnunits",level:3},{value:"Diferentes versiones de EML",id:"different-versions-of-eml",level:3},{value:"Problemas para el archivo de datos",id:"trouble-parsing-the-data-file",level:3}];function c(e){const a={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.header,{children:(0,s.jsx)(a.h1,{id:"eddtabledeeml-y-eddtabledeemlbatch-opciones-en-generatedatasets-xml",children:"EDDTableDeEML y EDDTableDeEMLBatch Opciones en GenerateDatasets Xml"})}),"\n",(0,s.jsx)(a.p,{children:"\\[Esta p\xe1gina web s\xf3lo ser\xe1 de inter\xe9sERDDAP\u2122administradores que trabajan con archivos EML.\r\nEste documento fue creado originalmente en 2016. Fue editado por \xfaltima vez el 2020-11-30.\\]"}),"\n",(0,s.jsxs)(a.p,{children:[(0,s.jsxs)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/index.html",children:[" ",(0,s.jsx)(a.strong,{children:"ERDDAP\u2122"})," "]}),"es un servidor de datos que da a los usuarios una manera sencilla y consistente de descargar subconjuntos de conjuntos de datos cient\xedficos redondeados y tabulares en formatos de archivos comunes y hacer gr\xe1ficos y mapas.ERDDAP\u2122trabaja con un conjunto de datos dado como un grupo de variables multidimensionales (por ejemplo, datos de sat\xe9lite o modelo) o como tabla de bases de datos (con una columna para cada tipo de informaci\xf3n y una fila para cada observaci\xf3n) .ERDDAP\u2122es Software libre y de c\xf3digo abierto, as\xed que cualquiera puede",(0,s.jsx)(a.a,{href:"/docs/server-admin/deploy-install",children:"descargar e instalarERDDAP\u2122"}),"para servir sus datos."]}),"\n",(0,s.jsxs)(a.p,{children:["Para agregar un conjunto de datos a unERDDAP\u2122instalaci\xf3n,ERDDAP\u2122administrador debe a\xf1adir un trozo de XML que describa el conjunto de datos a un archivo llamadodatasets.xml. (Hay",(0,s.jsx)(a.a,{href:"/docs/server-admin/datasets",children:"documentaci\xf3n exhaustiva paradatasets.xml"}),".) Aunque es posible generar el trozo de XML paradatasets.xmlenteramente a mano,ERDDAP\u2122viene con una herramienta llamada",(0,s.jsxs)(a.a,{href:"/docs/server-admin/datasets#tools",children:[" ",(0,s.jsx)(a.strong,{children:"GenerarDatasetsXml"})," "]}),"que puede generar el borrador \xe1spero del trozo de XML necesario para un conjunto de datos dado basado en alguna fuente de informaci\xf3n sobre el conjunto de datos."]}),"\n",(0,s.jsxs)(a.p,{children:["Lo primero es GenerarDatasets Xml pregunta es qu\xe9 tipo de conjunto de datos desea crear. GenerarDatasets Xml tiene una opci\xf3n especial, ",(0,s.jsx)(a.strong,{children:"EDDTableDesdeEML"})," , que utiliza la informaci\xf3n en un",(0,s.jsx)(a.a,{href:"https://knb.ecoinformatics.org/external//emlparser/docs/index.html",children:"Ecological Metadata Language (EML) "}),"Archivo XML para generar el trozo de XML paradatasets.xmlcrear un",(0,s.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablefromasciifiles",children:"EDDTableDesde el aeropuerto"}),"dataset de cada tabla de datos en un archivo EML. Esto funciona muy bien para la mayor\xeda de los archivos EML, principalmente porque los archivos EML hacen un excelente trabajo de almacenar todos los metadatos necesarios para un conjunto de datos en un formato f\xe1cil de trabajar. La informaci\xf3n que GenerateDatasetsXml necesita para crear los conjuntos de datos est\xe1 en el archivo EML, incluyendo la URL para el archivo de datos, que GenerateDatasetsXml descarga, pares y se compara con la descripci\xf3n en el archivo EML. (Muchos grupos har\xedan bien para cambiar a EML, que es un gran sistema para documentar cualquier conjunto de datos cient\xedficos tabulares, no s\xf3lo datos ecol\xf3gicos. Y muchos grupos que crean esquemas XML har\xedan bien para utilizar EML como estudio de caso para esquemas XML que son claros, hasta el punto, no excesivamente profundos (es decir, demasiados niveles) , y f\xe1cil para que los humanos y las computadoras funcionen con.)"]}),"\n",(0,s.jsx)(a.h2,{id:"questions",children:"Preguntas"}),"\n",(0,s.jsx)(a.p,{children:"Aqu\xed est\xe1n todas las preguntas GenerarDatasets Xml preguntar\xe1, con comentarios sobre c\xf3mo debe responder si desea procesar s\xf3lo un archivo EML o un lote de archivos EML:"}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsx)(a.p,{children:"\xbfQu\xe9 tipo EDD?\r\nSi desea procesar s\xf3lo un archivo, responder: EDDTableDesdeEML\r\nSi desea procesar un grupo de archivos, responder: EDDTableDesdeEMLBatch"}),"\n"]}),"\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsx)(a.p,{children:"Directorio para almacenar archivos?\r\nIntroduzca el nombre del directorio que se utilizar\xe1 para almacenar archivos de datos eML descargados.\r\nSi el directorio no existe, se crear\xe1."}),"\n"]}),"\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsx)(a.p,{children:"(Para EDDTableDesdeEML s\xf3lo) EML URL o archivo localName?\r\nIntroduzca la URL o el nombre de archivo local de un archivo EML."}),"\n"]}),"\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsxs)(a.p,{children:["(Para EDDTableDeEMLBatch s\xf3lo) EML dir (URL o local) ?\r\nIntroduzca el nombre del directorio con los archivos EML (una URL o un dir local) .\r\nPor ejemplo: ",(0,s.jsx)(a.a,{href:"http://sbc.lternet.edu/data/eml/files/",children:"http://sbc.lternet.edu/data/eml/files/"})]}),"\n"]}),"\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsx)(a.p,{children:"(Para EDDTableDeEMLBatch s\xf3lo) \xbfNombre de archivo regex?\r\nIntroduzca la expresi\xf3n regular que se utilizar\xe1 para identificar los archivos EML deseados en el directorio EML.\r\nPor ejemplo: knb-lter-sbc\\\\.\\d+"}),"\n"]}),"\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsx)(a.p,{children:"Utilice archivos locales si est\xe1 presente (verdadero|falso) ?\r\nIngrese a la verdad para utilizar los archivos locales de EML y los archivos de datos, si existen.\r\nIngrese falso para volver a descargar los archivos EML y/o archivos de datos."}),"\n"]}),"\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsxs)(a.p,{children:['accesible \xbfA?\r\nSi desea que los nuevos conjuntos de datos sean conjuntos de datos privados enERDDAP, especificar el nombre del grupo (s) que se permitir\xe1 el acceso.\r\nRecomendado para grupos LTER: combinar "lter" m\xe1s el grupo, por ejemplo, lter Sbc.\r\nSi entras "null", no habr\xe1<accesible etiquetar en la salida.\r\nSee',(0,s.jsx)(a.a,{href:"/docs/server-admin/datasets#accessibleto",children:"accesible A"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsxs)(a.p,{children:["local TimeZone (por ejemplo, Estados Unidos/Pac\xedfico) ?\r\nSi una variable de tiempo indica que tiene valores locales de tiempo, se asignar\xe1 esta zona horaria.\r\nEsto debe ser un valor del",(0,s.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones",children:"TZ column list of time zone names"}),'.\r\nObserve todos los nombres f\xe1ciles de usar "US/..." al final de la lista.\r\nSi m\xe1s tarde encuentras que es incorrecto, puedes cambiar eltime\\_zoneen el pedazo dedatasets.xml.']}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(a.p,{children:["EML plusERDDAP\u2122es una gran combinaci\xf3n, ya queERDDAP\u2122puede dar a los usuarios acceso m\xe1s directo a la riqueza",(0,s.jsx)(a.a,{href:"https://knb.ecoinformatics.org/",children:"Knowledge Network for Biocomplexity (KNB) "}),"y",(0,s.jsx)(a.a,{href:"https://lternet.edu/",children:"Long Term Ecological Research (LTER) "}),"datos y ayudar a estos proyectos a cumplir con el gobierno de EE.UU.",(0,s.jsx)(a.a,{href:"https://nosc.noaa.gov/EDMC/PD.DSP.php",children:"Acceso p\xfablico a resultados de investigaci\xf3n (PARR) necesidades"}),"poniendo los datos disponibles a trav\xe9s de un servicio web. Adem\xe1s, EML plusERDDAP\u2122parece un gran puente entre cient\xedficos en el reino acad\xe9mico / financiado por el NSF y cient\xedficos en la agencia federal (NOAA, NASA, USGS) reino."]}),"\n",(0,s.jsxs)(a.p,{children:["Vea nuestro",(0,s.jsx)(a.a,{href:"/docs/intro#support",children:"secci\xf3n sobre la obtenci\xf3n de apoyo adicional"}),".\r\n\xa0"]}),"\n",(0,s.jsx)(a.h2,{id:"design-details",children:"Detalles del dise\xf1o"}),"\n",(0,s.jsx)(a.p,{children:"Aqu\xed est\xe1n los detalles de dise\xf1o de la opci\xf3n EDDTableDesdeEML en GenerateDatasetsXml.\r\nAlgunos est\xe1n relacionados con las diferencias en c\xf3mo EML yERDDAP\u2122hacer cosas y c\xf3mo GenerarDatasets Xml trata de estos problemas."}),"\n",(0,s.jsx)(a.h3,{id:"one-datatable-becomes-one-erddap-dataset",children:"Un datoTabla Se convierte en unoERDDAP\u2122Dataset"}),"\n",(0,s.jsxs)(a.p,{children:["Un archivo EML puede tener m\xfaltiples<datos Mesa.ERDDAP\u2122hace unoERDDAP\u2122dataset por EML dataTable. EldatasetIDpara el conjunto de datos\r\n",(0,s.jsx)(a.em,{children:"EMLName"})," \\_t ",(0,s.jsx)(a.em,{children:"TableNumber"}),"   (cuando EMLname es texto) o\r\n",(0,s.jsx)(a.em,{children:"sistema\\_EMLName"})," \\_t ",(0,s.jsx)(a.em,{children:"TableNumber"}),"   (cuando EMLname es un n\xfamero) .\r\nPor ejemplo, la tabla #1 en el archivo knb-lter-sbc.28, se convierte enERDDAP\u2122 datasetID=knb\\_lter\\_sbc\\_28\\_t1,\r\n\xa0"]}),"\n",(0,s.jsx)(a.h3,{id:"eml-versus-cfacdd",children:"EML versus CF+ACDD"}),"\n",(0,s.jsxs)(a.p,{children:["Casi todos los metadatos en los archivos EML entraERDDAP, pero en un formato diferente.ERDDAP\u2122usos",(0,s.jsx)(a.a,{href:"https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html",children:"CF"}),"y",(0,s.jsx)(a.a,{href:"https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3",children:"ACDD"}),"normas de metadatos. Son sistemas de metadatos complementarios que usan pares de valor clave para metadatos globales y para los metadatos de cada variable.\r\nS\xed, la representaci\xf3n EML de los metadatos es m\xe1s agradable que la representaci\xf3n CF+ACDD. No estoy sugiriendo usar la representaci\xf3n de CF+ACDD como sustituto del EML. Por favor piense en CF+ACDD como parte del puente del mundo EML alOPeNDAP/CF/ACDD world.\r\n\xa0"]}),"\n",(0,s.jsx)(a.h3,{id:"small-changes",children:"Cambios peque\xf1os"}),"\n",(0,s.jsx)(a.p,{children:"ERDDAP\u2122hace muchos peque\xf1os cambios. Por ejemplo,ERDDAP\u2122utiliza la EML noDOIsuplente Identificador m\xe1s un datoTabla n\xfamero comoERDDAP\u2122 datasetID, pero cambios ligeramente alternos Identificador para que sea un nombre variable v\xe1lido en la mayor\xeda de los idiomas de la computadora, por ejemplo, datos knb-lter-sbc.33 La tabla #1 se convierte en knb\\_lter\\_sbc\\_33\\_t1.\r\n\xa0"}),"\n",(0,s.jsx)(a.h3,{id:"docbook",children:"DocBook"}),"\n",(0,s.jsx)(a.p,{children:"EML utiliza el sistema de marcado de DocBook para proporcionar estructura a bloques de texto en archivos EML. CF y ACDD requieren que los metadatos sean texto claro. So GenerateDatasets Xml convierte el texto marcado en texto plano que parece la versi\xf3n formateada del texto. Las etiquetas en l\xednea se sanitan con soportes cuadrados, por ejemplo,\\[subrayado\\], y se fue en el texto llano.\r\n\xa0"}),"\n",(0,s.jsx)(a.h3,{id:"data-files",children:"Archivos de datos"}),"\n",(0,s.jsx)(a.p,{children:"Puesto que los datos EMLTable incluyen la URL del archivo de datos real, GenerateDatasets Xml:"}),"\n",(0,s.jsxs)(a.ol,{children:["\n",(0,s.jsx)(a.li,{children:"Descargar el archivo de datos."}),"\n",(0,s.jsx)(a.li,{children:"Almac\xe9nalo en el mismo directorio que el archivo EML."}),"\n",(0,s.jsx)(a.li,{children:"Lea los datos."}),"\n",(0,s.jsx)(a.li,{children:"Compare la descripci\xf3n de los datos en el EML con los datos reales en el archivo."}),"\n",(0,s.jsx)(a.li,{children:"Si GenerarDatasets Xml encuentra diferencias, se ocupa de ellas, o pregunta al operador si las diferencias est\xe1n bien, o devuelve un mensaje de error. Los detalles est\xe1n en varios elementos a continuaci\xf3n.\r\n\xa0"}),"\n"]}),"\n",(0,s.jsx)(a.h3,{id:"zipd-data-files",children:".zip'd Archivos de datos"}),"\n",(0,s.jsxs)(a.p,{children:["Si el archivo de datos referenciado es un.ziparchivo, debe contener s\xf3lo un archivo. Ese archivo se utilizar\xe1 para elERDDAP\u2122Dataset. Si hay m\xe1s de 1 archivo.ERDDAP\u2122rechazar\xe1 ese conjunto de datos. Si es necesario, esto podr\xeda ser modificado. (En la pr\xe1ctica, todos los archivos SBC LTER zip tienen s\xf3lo un archivo de datos.)",(0,s.jsx)(a.br,{}),"\n","\xa0"]}),"\n",(0,s.jsx)(a.h3,{id:"storagetype",children:"StorageType"}),"\n",(0,s.jsx)(a.p,{children:"Si el almacenamiento de una columna El tipo no est\xe1 especificado,ERDDAP\u2122utiliza su mejor conjetura basada en los datos en el archivo de datos. Esto funciona muy bien.\r\n\xa0"}),"\n",(0,s.jsx)(a.h3,{id:"units",children:"Unidades"}),"\n",(0,s.jsxs)(a.p,{children:["ERDDAP\u2122uso",(0,s.jsx)(a.a,{href:"https://www.unidata.ucar.edu/software/udunits/",children:"UDUNITSformato para unidades"}),'. GenerarDatasets Xml es capaz de convertir unidades EML aUDUNITSlimpiamente alrededor del 95% del tiempo. El 5% restante resulta en una descripci\xf3n legible de las unidades, por ejemplo, "biomasaDensityUnitPerAbundanceUnit" en EML se convierte en "unidad de densidad de biomasa por unidad de abundancia" enERDDAP. T\xe9cnicamente esto no est\xe1 permitido. No creo que sea tan malo bajo las circunstancias.\\[Si es necesario, unidades que no se pueden hacerUDUNITScompatible se puede mover al atributo de comentario de la variable.\\]',(0,s.jsx)(a.br,{}),"\n","\xa0"]}),"\n",(0,s.jsx)(a.h3,{id:"eml-version-211",children:"Versi\xf3n EML 2.1.1"}),"\n",(0,s.jsx)(a.p,{children:"Este soporte para archivos EML v2.1.1 fue a\xf1adido a GenerateDatasets Xml en 2016 con la esperanza de que hubiera alguna toma en la comunidad EML. A partir de 2020, eso no ha ocurrido. ElERDDAP\u2122Los desarrolladores estar\xedan contentos de a\xf1adir soporte para versiones m\xe1s recientes de EML, pero s\xf3lo si las nuevas caracter\xedsticas se utilizar\xe1n en realidad. Por favor emailerd.data at noaa.govsi desea soporte para versiones m\xe1s recientes de EML y realmente utilizar esta caracter\xedstica.\r\n\xa0"}),"\n",(0,s.jsx)(a.h2,{id:"issues-with-the-eml-files",children:"Problemas con los archivos EML"}),"\n",(0,s.jsx)(a.p,{children:"Hay algunos problemas/problemas con los archivos EML que causan problemas cuando un cliente de software (como la opci\xf3n EDDTableDesdeEML en GenerateDatasetsXML) intenta interpretar/procesar los archivos EML."}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:"Aunque hay varios problemas enumerados aqu\xed, son en su mayor\xeda peque\xf1os y solucionables problemas. En general, EML es un gran sistema y ha sido un placer trabajar con \xe9l."}),"\n",(0,s.jsx)(a.li,{children:"Estos son aproximadamente ordenados de peor / m\xe1s com\xfan a menos malo / menos com\xfan."}),"\n",(0,s.jsx)(a.li,{children:"La mayor\xeda est\xe1n relacionados con problemas peque\xf1os en archivos EML espec\xedficos (que no son culpa de EML) ."}),"\n",(0,s.jsx)(a.li,{children:"La mayor\xeda se puede fijar por cambios simples en el archivo EML o archivo de datos."}),"\n",(0,s.jsx)(a.li,{children:"Dado que la gente de LTER est\xe1 construyendo un comprobador de EML para probar la validez de los archivos EML, he a\xf1adido algunas sugerencias a continuaci\xf3n sobre las caracter\xedsticas que podr\xedan a\xf1adirse a la ficha."}),"\n"]}),"\n",(0,s.jsx)(a.p,{children:"Aqu\xed est\xe1n los problemas:"}),"\n",(0,s.jsx)(a.h3,{id:"separate-date-and-time-columns",children:"Columnas separadas de fecha y hora"}),"\n",(0,s.jsx)(a.p,{children:"Algunos archivos de datos tienen columnas separadas para la fecha y para el tiempo, pero ninguna columna fecha + hora unificada. Actualmente, GenerarDatasets Xml crea un conjunto de datos con estas columnas separadas, pero no es ideal porque:"}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:'Es mejor si los conjuntos de datos enERDDAP\u2122tener una columna de fecha + hora combinada llamada"time".'}),"\n",(0,s.jsx)(a.li,{children:'A menudo el conjunto de datos no se cargar\xe1ERDDAP\u2122porque"time"columna no tiene datos de fecha + hora.'}),"\n"]}),"\n",(0,s.jsx)(a.p,{children:"Existen dos soluciones posibles:"}),"\n",(0,s.jsxs)(a.ol,{children:["\n",(0,s.jsx)(a.li,{children:"Editar el archivo de datos fuente para a\xf1adir una nueva columna en el archivo de datos (y describirlo en el EML) donde las columnas de fecha y hora se fusionan en una columna. Luego repetir GenerarDatasets Xml para que encuentre la nueva columna."}),"\n",(0,s.jsxs)(a.li,{children:["Usar el",(0,s.jsx)(a.a,{href:"/docs/server-admin/datasets#script-sourcenamesderived-variables",children:"Variables derivadas"}),"caracter\xedstica enERDDAP\u2122para definir una nueva variabledatasets.xmlque se crea concatenando la fecha y las columnas de tiempo. Uno de los ejemplos se refiere espec\xedficamente a esta situaci\xf3n.\r\n\xa0"]}),"\n"]}),"\n",(0,s.jsx)(a.h3,{id:"inconsistent-column-names",children:"Nombres de columna inconsistentes"}),"\n",(0,s.jsx)(a.p,{children:"Los archivos EML enumeran las columnas del archivo de datos y sus nombres. Lamentablemente, a menudo son diferentes de los nombres de las columnas en el archivo de datos real. Normalmente, el orden de columna en el archivo EML es el mismo que el orden de columna en el archivo de datos, incluso si los nombres var\xedan ligeramente, pero no siempre. GenerarDatasets Xml intenta igualar los nombres de las columnas. Cuando no puede (que es com\xfan) , se detendr\xe1, mostrarle los pares de nombre de archivo EML/data, y preguntar si est\xe1n correctamente alineados. Si entras en 's' para saltar una tabla, GeneratedDatasetsXml imprimir\xe1 un mensaje de error e ir\xe1 a la siguiente tabla.\r\nLa soluci\xf3n es cambiar los nombres de columna err\xf3neos en el archivo EML para que coincidan con los nombres de columna en el archivo de datos.\r\n\xa0"}),"\n",(0,s.jsx)(a.h3,{id:"different-column-order",children:"Orden de columna diferente"}),"\n",(0,s.jsx)(a.p,{children:"Hay varios casos en que el EML especific\xf3 las columnas en un orden diferente de lo que existen en el archivo de datos. GenerarDatasets Xml se detendr\xe1 y preguntar\xe1 al operador si las coincidencias est\xe1n bien o si el conjunto de datos debe ser saltado. Si se salta, habr\xe1 un mensaje de error en el archivo de resultados, por ejemplo:"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{children:"      &lt;-- SKIPPED (USUALLY BECAUSE THE COLUMN NAMES IN THE DATAFILE ARE IN\r\n      A DIFFERENT ORDER OR HAVE DIFFERENT UNITS THAN IN THE EML file):\r\n      datasetID=knb\\\\_lter\\\\_sbc\\\\_17\\\\_t1\r\n      dataFile=all\\\\_fish\\\\_all\\\\_years\\\\_20140903.csv\r\n      The data file and EML file have different column names.\r\n      ERDDAP\u2122 would like to equate these pairs of names:\r\n        SURVEY\\\\_TIMING        = notes\r\n        NOTES                = survey\\\\_timing\r\n      --&gt;\n"})}),"\n",(0,s.jsx)(a.p,{children:"La soluci\xf3n es fijar el orden de columna en estos archivos EML para que coincidan con el orden en los archivos de datos."}),"\n",(0,s.jsx)(a.p,{children:"Ser\xeda bueno si el comprobador EML comprobara que las columnas y el orden de columna en el archivo fuente coinciden con las columnas y el orden de columna en el archivo EML."}),"\n",(0,s.jsx)(a.h3,{id:"incorrect-numheaderlines",children:"Incorrecto numHeaderLines"}),"\n",(0,s.jsx)(a.p,{children:"Varios datos Tablas incorrectamente estado numHeaderLines=1, por ejemplo, ...sbc.4011. Esto causaERDDAP\u2122leer la primera l\xednea de datos como nombres de columna. Trat\xe9 de SKIP manualmente todos estos datosTablas. Son obvias porque los nombres de los col de origen inigualable son todos los valores de datos. Y si hay archivos que incorrectamente tienen numHeaderLines=0, mi sistema no lo hace obvio. Aqu\xed hay un ejemplo del archivo de fallas SBC LTER:"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{children:"      &lt;-- SKIPPED (USUALLY BECAUSE THE COLUMN NAMES IN THE DATAFILE ARE IN\r\n      A DIFFERENT ORDER OR HAVE DIFFERENT UNITS THAN IN THE EML file):\r\n       datasetID=knb\\\\_lter\\\\_sbc\\\\_3017\\\\_t1\r\n      dataFile=MC06\\\\_allyears\\\\_2012-03-03.txt\r\n      The data file and EML file have different column names.\r\n      ERDDAP\u2122 would like to equate these pairs of names:\r\n        2008-10-01T00:00     = timestamp\\\\_local\r\n        2008-10-01T07:00     = timestamp\\\\_UTC\r\n        2.27                 = discharge\\\\_lps\r\n        -999.0               = water\\\\_temperature\\\\_celsius\r\n      --&gt;\n"})}),"\n",(0,s.jsx)(a.p,{children:"As\xed que el error puede aparecer como si GenerateDatasets Xml piensa que la primera l\xednea con datos en el archivo (por ejemplo, con 2008-10-01T00:00 etc.) es la l\xednea con nombres de columna (como si 2008-10-01T00:00 fuera un nombre de columna) ."}),"\n",(0,s.jsx)(a.p,{children:"Ser\xeda agradable si el chequeador EML comprobara el valor numHeaderLines."}),"\n",(0,s.jsx)(a.h3,{id:"numheaderlines--0",children:"numHeaderLines = 0"}),"\n",(0,s.jsx)(a.p,{children:"Algunos archivos fuente no tienen nombres de columna.ERDDAP\u2122acepta que si el EML describe el mismo n\xfamero de columnas."}),"\n",(0,s.jsx)(a.p,{children:"En mi opini\xf3n, esto parece muy peligroso. Podr\xeda haber columnas en un orden diferente o con diferentes unidades (v\xe9ase infra) y no hay manera de atrapar esos problemas. Es mucho mejor si todos los archivos de datos ASCII tienen una fila con nombres de columna."}),"\n",(0,s.jsx)(a.h3,{id:"datetime-format-strings",children:"DateTime Format Strings"}),"\n",(0,s.jsxs)(a.p,{children:["EML tiene una forma est\xe1ndar de describir los formatos de la fecha. pero hay una variaci\xf3n considerable en su uso en los archivos EML. (Antes me equivoqu\xe9 de esto. Veo la documentaci\xf3n de EML para formatString que parece coincidir con el",(0,s.jsx)(a.a,{href:"https://docs.oracle.com/javase/8/docs/api/index.html?java/time/format/DateTimeFomatter.html",children:"JavaFechaTiempoFormatter especificaci\xf3n"}),", pero que carece de las directrices importantes sobre su uso, con el resultado de que formatString se utiliza a menudo/usualmente incorrectamente.) Hay varios casos con caso incorrecto, y/o duplicaci\xf3n incorrecta de una carta, y/o formato no est\xe1ndar. Eso pone una carga irrazonable para los clientes, especialmente los clientes de software como GenerateDatasetsXml. GenerarDatasets Xml intenta convertir los formatos incorrectos definidos en los archivos EML en\r\n",(0,s.jsx)(a.a,{href:"/docs/server-admin/datasets#string-time-units",children:"el formato fecha/hora queERDDAP\u2122Requisitos"}),", que es casi id\xe9ntico aJava/Joda tiempo especificaci\xf3n formato, pero es un poco m\xe1s indulgente."]}),"\n",(0,s.jsx)(a.p,{children:"Ser\xeda agradable si el chequeador EML requiere una estricta adherencia alJava/Joda/ERDDAPtiempo unidades especificaci\xf3n y verificado que los valores de tiempo de fecha en la tabla de datos podr\xedan ser analizados correctamente con el formato especificado."}),"\n",(0,s.jsx)(a.h3,{id:"datetime-but-no-time-zone",children:"DateTime But No Time Zone"}),"\n",(0,s.jsx)(a.p,{children:'GenerarDatasets Xml busca una columna con fecha Tiempo y zona horaria especificada (oZulu: desde unidades de tiempo que terminan en \'Z\' o una definici\xf3n de nombre de columna o atributo que incluye "gmt" o "utc", o local: de "local" en el nombre de la columna o definici\xf3n de atributo) . Tambi\xe9n es aceptable un archivo con una columna de fecha pero sin columna de tiempo. Tambi\xe9n es aceptable un archivo sin informaci\xf3n de fecha o hora.'}),"\n",(0,s.jsx)(a.p,{children:'GenerarDatasets Xml trata todos los tiempos "locales" como ser de la zona horaria que se puede especificar para un lote dado de archivos, por ejemplo, para SBC LTER, utilizar US/Pacific. La informaci\xf3n es a veces en los comentarios, pero no en un formulario que es f\xe1cil para un programa inform\xe1tico para averiguar.'}),"\n",(0,s.jsx)(a.p,{children:'Los archivos que no cumplen con estos criterios son rechazados con el mensaje "NO BUENA FECHA (Hora) VARIABLE". Problemas comunes son:'}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:"Hay una columna con fechas y una columna con tiempos, pero no fecha Columna del tiempo."}),"\n",(0,s.jsx)(a.li,{children:"Hay unidades de tiempo, pero la zona horaria no est\xe1 especificada."}),"\n"]}),"\n",(0,s.jsxs)(a.p,{children:['Otros comentarios:\r\nSi hay una buena fecha + hora con columna de zona horaria, esa columna se llamar\xe1"time"dentroERDDAP.ERDDAP\u2122requiere que los datos de la columna de tiempo sean comprensibles/convertiblesZulu/UTC/GMT fecha de zona horaria.\\[Mi creencia es: usar tiempos locales y diferentes formatos de fecha/hora (\xa12 d\xedgitos a\xf1os! mm/dd/yyy vs dd/mm/yyy vs ...) en archivos de datos obliga al usuario final a hacer conversiones complicadas aZulutiempo para comparar datos de un conjunto de datos con datos de otro. As\xed que...ERDDAP\u2122estandariza todos los datos del tiempo: Para tiempos de cuerda,ERDDAP\u2122siempre utiliza la ISO 8601:2004 (E) formato est\xe1ndar, por ejemplo, 1985-01-02T00:00Z. Para tiempos num\xe9ricos,ERDDAP\u2122siempre usa"seconds since 1970-01-01T00:00:00Z".ERDDAP\u2122siempre usa elZulu  (UTC, GMT) zona horaria para eliminar las dificultades de trabajar con diferentes zonas horarias y tiempo est\xe1ndar contra el horario de verano. So GenerateDatasets Xml busca una columna EML dataTable con date+timeZulu. Esto es dif\xedcil porque EML no utiliza un vocabulario/sistema formal (como',(0,s.jsx)(a.a,{href:"https://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormat.html",children:"Java/ Formato de tiempo Joda"}),') para especificar los datos Formato del tiempo:\r\nSi hay un col con valores num\xe9ricos de tiempo (por ejemplo,Matlabveces) yZuluzona horaria (o simplemente fechas, sin columnas de tiempo) , se utiliza como"time".\r\nSi hay un col con datos de fecha y hora, utilizando elZuluzona horaria, se utiliza como"time"y cualquier otra fecha o hora columna se elimina.\r\nElse si se encuentra un col con informaci\xf3n de fecha justa, se utiliza como"time"variable (sin zona de tiempo) .\r\nSi hay una columna de datos y una columna de tiempo y ninguna fecha combinada Columna del tiempo, el conjunto de datos es REJECTED, pero el conjunto de datos podr\xeda ser usable a\xf1adiendo una fecha combinada Columna del tiempo (preferiblemente,ZuluZona horaria) al archivo de datos y a\xf1adir su descripci\xf3n en el archivo EML.\r\nEXAMPLEO DE SBC LTER:',(0,s.jsx)(a.a,{href:"https://sbclter.msi.ucsb.edu/external/InformationManagement/eml_2018_erddap/",children:" https://sbclter.msi.ucsb.edu/external/InformationManagement/eml\\_2018\\_erddap/ "}),"dataTabla #2."]}),"\n",(0,s.jsxs)(a.p,{children:["Ser\xeda agradable si EML/LTER requiere la inclusi\xf3n de una columna conZulu  (UTC, GMT) tiempos de zona horaria en todos los archivos de datos fuente relevantes. Siguiente mejor es a\xf1adir un sistema a EML para especificar untime\\_zoneatributo utilizando nombres est\xe1ndar (de la",(0,s.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones",children:"Columna TZ"}),") ."]}),"\n",(0,s.jsx)(a.h3,{id:"missing-missing_value",children:"Faltamissing\\_value"}),"\n",(0,s.jsx)(a.p,{children:"Algunas columnas usan unmissing\\_valuepero no la lista en los metadatos EML, por ejemplo, la precipitaci\xf3n\\_mm en knb-lter-sbc.5011 utiliza -999. Si no se especifica ning\xfan valor perdido en el EML, GenerateDatasetsXml busca autom\xe1ticamente valores comunes perdidos (por ejemplo, 99, -99, 999, -999, 9999, -9999, etc) y crea esos metadatos. Pero otros desaparecidosmissing\\_valueS no est\xe1n atrapados."}),"\n",(0,s.jsx)(a.p,{children:"Ser\xeda agradable si el chequeador de EML buscara desaparecidomissing\\_values."}),"\n",(0,s.jsx)(a.h3,{id:"small-problems",children:"Problemas peque\xf1os"}),"\n",(0,s.jsx)(a.p,{children:"Hay muchos problemas peque\xf1os (ortograf\xeda, puntuaci\xf3n) que probablemente s\xf3lo ser\xe1 encontrado por un humano inspeccionando cada conjunto de datos."}),"\n",(0,s.jsx)(a.p,{children:"Ser\xeda agradable si el comprobador EML buscara errores de ortograf\xeda y gramaticales. Este es un problema dif\xedcil porque las palabras en la ciencia son a menudo marcadas por los correctores de hechizos. La edici\xf3n humana probablemente sea necesaria."}),"\n",(0,s.jsx)(a.h3,{id:"invalid-unicode-characters",children:"Inv\xe1lidos caracteres Unicode"}),"\n",(0,s.jsx)(a.p,{children:"Algunos de los contenidos de EML contienen caracteres Unicode inv\xe1lidos. Estos son probablemente personajes del charset de Windows que fueron copiados y pegados incorrectamente en los archivos UTF-8 EML. GenerarDatasets Xml sanitiza a estos personajes por ejemplo,\\[#128\\], por lo que son f\xe1ciles de buscar enERDDAP\u2122 datasets.xmlarchivo."}),"\n",(0,s.jsx)(a.p,{children:"Ser\xeda bueno que el chequeador de EML comprobara esto. Es f\xe1cil de encontrar y f\xe1cil de arreglar."}),"\n",(0,s.jsx)(a.h3,{id:"different-column-unitsdifferentcolumnunits",children:"Diferentes Unidades de Columna] (#differentColumnUnits)"}),"\n",(0,s.jsx)(a.p,{children:'Algunos datos de EMLTablas definen columnas que son inconsistentes con las columnas en el archivo de datos, sobre todo porque tienen diferentes unidades. GenerarDatasets Las banderas Xml. Depende del operador decidir si las diferencias est\xe1n bien o no. Estos aparecen en el archivo de fallos como datos "SKIPPED"Tablas. EXAMPLE en el archivo de fallas SBC LTER:'}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{children:"      < SKIPPED (USUALLY BECAUSE THE COLUMN NAMES IN THE DATAFILE ARE IN\r\n      A DIFFERENT ORDER OR HAVE DIFFERENT UNITS THAN IN THE EML file):\r\n       datasetID=knb\\\\_lter\\\\_sbc\\\\_3\\\\_t1\r\n      dataFile=SBCFC\\\\_Precip\\\\_Daily\\\\_active\\\\_logger.csv\r\n      The data file and EML file have different column names.\r\n      ERDDAP\u2122 would like to equate these pairs of names:\r\n        Daily\\\\_Precipitation\\\\_Total\\\\_mm = Daily\\\\_Precipitation\\\\_Total\\\\_inch\r\n        Flag\\\\_Daily\\\\_Precipitation\\\\_Total\\\\_mm = Flag\\\\_Daily\\\\_Precipitation\\\\_Total\\\\_inch\r\n      --\x3e\n"})}),"\n",(0,s.jsx)(a.p,{children:"Ser\xeda bueno si el chequeador EML comprobara que las unidades coinciden. Desafortunadamente, esto es probablemente imposible de atrapar y luego imposible de resolver sin ponerse en contacto con el creador de conjunto de datos, dado que el archivo fuente no incluye unidades. La discrepancia para el ejemplo anterior s\xf3lo era notable porque las unidades estaban incluidas en el nombre de la columna fuente y el nombre de la columna EML. \xbfCu\xe1ntos otros datosLas capacidades tienen este problema pero son indetectables?"}),"\n",(0,s.jsx)(a.h3,{id:"different-versions-of-eml",children:"Diferentes versiones de EML"}),"\n",(0,s.jsx)(a.p,{children:"GenerarDatasets Xml est\xe1 dise\xf1ado para trabajar con EML 2.1.1. Otras versiones de EML funcionar\xe1n en la medida en que coincidan con 2.1.1 o que GenerateDatasetsXml tiene un c\xf3digo especial para tratar con \xe9l. Este es un problema raro. Cuando ocurre, la soluci\xf3n es convertir sus archivos a EML 2.1.1, o enviar el archivo EML aerd.data at noaa.gov, as\xed que puedo hacer cambios para GenerarDatasets Xml para lidiar con las diferencias."}),"\n",(0,s.jsx)(a.p,{children:"Bob agreg\xf3 soporte para archivos EML para GenerarDatasets Xml en 2016 con la esperanza de que hubiera alguna toma en la comunidad EML. A partir de 2020, eso no ha ocurrido. Bob est\xe1 feliz de a\xf1adir soporte para versiones m\xe1s recientes de EML, pero s\xf3lo si las nuevas caracter\xedsticas se utilizar\xe1n en realidad. Por favor emailerd.data at noaa.govsi desea soporte para versiones m\xe1s recientes de EML y realmente utilizar esta caracter\xedstica."}),"\n",(0,s.jsx)(a.h3,{id:"trouble-parsing-the-data-file",children:"Problemas para el archivo de datos"}),"\n",(0,s.jsxs)(a.p,{children:['Raramente, un datoTabla puede ser rechazado con el error "N\xfamero de art\xedculos no esperados en la l\xednea #120 (observado=52, esperado=50) " Un mensaje de error como este significa que una l\xednea en el archivo de datos ten\xeda un n\xfamero diferente de valores que las otras l\xedneas. Puede ser un problemaERDDAP\u2122  (por ejemplo, no analizar el archivo correctamente) o en el archivo. EXAMPLEO DE SBC LTER:\r\n',(0,s.jsx)(a.a,{href:"https://sbclter.msi.ucsb.edu/external/InformationManagement/eml_2018_erddap/",children:" https://sbclter.msi.ucsb.edu/external/InformationManagement/eml\\_2018\\_erddap/ "}),"dataTable #3, vea datafile=LTER\\_mesly\\_bottledata\\_registered\\_stations\\_20140429.txt"]})]})}function u(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);