"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[7910],{28453:(e,a,s)=>{s.d(a,{R:()=>i,x:()=>t});var o=s(96540);const n={},r=o.createContext(n);function i(e){const a=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function t(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),o.createElement(r.Provider,{value:a},e.children)}},87030:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"server-admin/additional-information","title":"Informaci\xf3n adicional","description":"Cosas que necesitas saber","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/server-admin/additional-information.md","sourceDirName":"server-admin","slug":"/server-admin/additional-information","permalink":"/es/docs/server-admin/additional-information","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/additional-information.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"docSidebar","previous":{"title":"Trabajando con eldatasets.xmlArchivo","permalink":"/es/docs/server-admin/datasets"},"next":{"title":"Escalada","permalink":"/es/docs/server-admin/scaling"}}');var n=s(74848),r=s(28453);const i={sidebar_position:4},t="Informaci\xf3n adicional",d={},l=[{value:"Cosas que necesitas saber",id:"things-you-need-to-know",level:2},{value:"<strong>Errores Proxy</strong>",id:"proxy-errors",level:3},{value:"Supervisi\xf3n",id:"monitoring",level:3},{value:"Monitores externos",id:"external-monitors",level:4},{value:"M\xfaltiplo simult\xe1neo Solicitudes",id:"multiple-simultaneous-requests",level:3},{value:"ERDDAP\u2122Obtener datos de THREDDS",id:"erddap-getting-data-from-thredds",level:3},{value:"Respondiendo lentamente",id:"responding-slowly",level:3},{value:"C\xe1llate y reinicia",id:"shut-down-and-restart",level:3},{value:"Frecuentes Crashes o Freezes",id:"frequent-crashes-or-freezes",level:3},{value:"Monitor",id:"monitor",level:3},{value:"Permgen",id:"permgen",level:4},{value:"Log",id:"log",level:4},{value:"Parsing log.txt",id:"parsing-logtxt",level:5},{value:"Tomcat Logs",id:"tomcat-logs",level:3},{value:"E-Mail Log",id:"e-mail-log",level:3},{value:"Daily Report",id:"daily-report",level:3},{value:"P\xe1gina",id:"status-page",level:3},{value:"Adding/Changing Datasets",id:"addingchanging-datasets",level:3},{value:"Bandera",id:"flag",level:4},{value:"Bad Files Flag",id:"bad-files-flag",level:5},{value:"Bandera dura",id:"hard-flag",level:5},{value:"Set Dataset Flag",id:"set-dataset-flag",level:5},{value:"Removing Datasets",id:"removing-datasets",level:4},{value:"\xbfCu\xe1ndo se cargan los Datasets?",id:"when-are-datasets-reloaded",level:4},{value:"Respuestas en espera",id:"cached-responses",level:4},{value:"Datos almacenados",id:"stored-dataset-information",level:4},{value:"Estado de la memoria",id:"memory-status",level:3},{value:"OutOfMemoryError",id:"outofmemoryerror",level:4},{value:"Demasiados archivos abiertos",id:"too-many-open-files",level:3},{value:"Solicitudes fallidas",id:"failed-requests",level:3},{value:"robots.txt",id:"robotstxt",level:3},{value:"sitemap.xml",id:"sitemapxml",level:3},{value:"Difusi\xf3n de datos / Distribuci\xf3n de datos Redes\xeda",id:"data-dissemination--data-distribution-networks-push-and-pull-technology",level:3},{value:"Seguridad, Autenticaci\xf3n y Autorizaci\xf3n",id:"security-authentication-and-authorization",level:3},{value:"Seguridad",id:"security",level:4},{value:"Configuraci\xf3n de seguridad",id:"setup-security",level:5},{value:"Autorizaci\xf3n",id:"authorization",level:5},{value:"Autenticaci\xf3n",id:"authentication",level:5},{value:"Aduanas",id:"custom",level:6},{value:"email",id:"email",level:6},{value:"Google, orcid, oauth2",id:"google-orcid-oauth2",level:6},{value:"Google",id:"google",level:6},{value:"Orcid",id:"orcid",level:6},{value:"Oauth2",id:"oauth2",level:6},{value:"Google setup",id:"google-setup",level:6},{value:"Orcid setup",id:"orcid-setup",level:6},{value:"Ingrese de cualquier manera",id:"log-in-either-way",level:6},{value:"OpenId",id:"openid",level:6},{value:"BASIC",id:"basic",level:6},{value:"Fuentes de datos seguras",id:"secure-data-sources",level:5},{value:"Defensas contra los Hackers",id:"defenses-against-hackers",level:4},{value:"\xbfPreguntas? \xbfSugerencias?",id:"questions-suggestions",level:4},{value:"Cosas que no necesitas saber",id:"things-you-dont-need-to-know",level:2},{value:"SegundoERDDAP\u2122",id:"second-erddap",level:3},{value:"Segundo Tomcat",id:"second-tomcat",level:4},{value:"Solid State Drives",id:"solid-state-drives",level:3},{value:"Carga pesada / Limitaciones **",id:"heavy-loads--constraints",level:3},{value:"Grids, Clusters, and Federations",id:"grids-clusters-and-federations",level:3},{value:"Cloud Computing",id:"cloud-computing",level:3},{value:"Amazon",id:"amazon",level:3},{value:"Espera entoncesTryAgain Excepci\xf3n",id:"waitthentryagain-exception",level:3},{value:"SolicitudReloadASAP",id:"requestreloadasap",level:4},{value:"Archivos que no se eliminan",id:"files-not-being-deleted",level:3},{value:"JSON-ld",id:"json-ld",level:3},{value:"URL fuera de destino",id:"out-of-date-urls",level:3},{value:"CORS",id:"cors",level:3},{value:"Palettes",id:"palettes",level:3},{value:"Colorbars",id:"colorbars",level:3},{value:"Directrices para los sistemas de distribuci\xf3n de datos",id:"guidelines-for-data-distribution-systems",level:3},{value:"ArchiveADataset",id:"archiveadataset",level:3},{value:"ISO 19115 .xml Archivos de metadatos",id:"iso-19115-xml-metadata-files",level:4}];function c(e){const a={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.header,{children:(0,n.jsx)(a.h1,{id:"informaci\xf3n-adicional",children:"Informaci\xf3n adicional"})}),"\n",(0,n.jsx)(a.h2,{id:"things-you-need-to-know",children:"Cosas que necesitas saber"}),"\n",(0,n.jsx)(a.p,{children:"\xa0"}),"\n",(0,n.jsx)(a.h3,{id:"proxy-errors",children:(0,n.jsx)(a.strong,{children:(0,n.jsx)(a.a,{href:"#proxy-errors",children:"Errores Proxy"})})}),"\n",(0,n.jsx)(a.p,{children:"A veces, una solicitud paraERDDAP\u2122devolver\xe1 un error Proxy, un error HTTP 502 Bad Gateway, o alg\xfan error similar. Estos errores est\xe1n siendo lanzados por Apache o Tomcat, noERDDAP\u2122en s\xed mismo."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Si cada solicitud genera estos errores, especialmente cuando usted est\xe1 primero en configurar suERDDAP\u2122, entonces probablemente es un error proxy o mala puerta de entrada, y la soluci\xf3n es probablemente para arreglar",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#proxypass",children:"ERDDAP's configuraci\xf3n proxy"}),". Este tambi\xe9n puede ser el problema cuando un establecidoERDDAP\u2122de repente comienza a lanzar estos errores por cada petici\xf3n."]}),"\n",(0,n.jsxs)(a.li,{children:['De lo contrario, los errores "proxy" son generalmente hora de errores lanzados por Apache o Tomcat. Incluso cuando suceden relativamente r\xe1pidamente, es una especie de respuesta de Apache o Tomcat que ocurre cuandoERDDAP\u2122est\xe1 muy ocupado, limitado por memoria, o limitado por alg\xfan otro recurso. En estos casos, consulte el siguiente consejo para tratar con',(0,n.jsx)(a.a,{href:"#responding-slowly",children:"ERDDAP\u2122respondiendo lentamente"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Solicitudes de un largo rango de tiempo (Puntos de tiempo) de un conjunto de datos redondeados son propensas a fallos de salida del tiempo, que a menudo aparecen como Errores Proxy, porque toma tiempo significativo paraERDDAP\u2122abrir todos los archivos de datos uno por uno. SiERDDAP\u2122est\xe1 ocupado durante la solicitud, el problema es m\xe1s probable que ocurra. Si los archivos del conjunto de datos son comprimidos, el problema es m\xe1s probable que ocurra, aunque es dif\xedcil para un usuario determinar si los archivos de un conjunto de datos est\xe1n comprimidos.\nLa soluci\xf3n es hacer varias solicitudes, cada una con un rango de tiempo m\xe1s peque\xf1o. \xbfQu\xe9 tan peque\xf1o de un rango de tiempo? Sugiero empezar muy peque\xf1o (- \xbf30 puntos de tiempo?) Entonces (aproximadamente) doblar el rango de tiempo hasta que la solicitud falla, luego volver una duplicaci\xf3n. Entonces haga todas las peticiones (cada uno por un trozo diferente de tiempo) necesario para obtener todos los datos.\nAnERDDAP\u2122administrador puede disminuir este problema aumentando el",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#apache-timeout",children:"Ajustes de tiempo de Apache"}),"."]}),"\n",(0,n.jsx)(a.h3,{id:"monitoring",children:"Supervisi\xf3n"}),"\n",(0,n.jsx)(a.p,{children:"Todos queremos nuestros servicios de datos para encontrar a su p\xfablico y ser ampliamente utilizados, pero a veces susERDDAP\u2122puede ser utilizado demasiado, causando problemas, incluyendo respuestas s\xfaper lentas para todas las solicitudes. Nuestro plan para evitar problemas es:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["MonitorERDDAP\u2122a trav\xe9s de",(0,n.jsx)(a.a,{href:"#status-page",children:"status.html p\xe1gina web"}),".\nTiene mucha informaci\xf3n \xfatil. Si usted ve que un gran n\xfamero de solicitudes est\xe1n llegando, o toneladas de memoria que se utilizan, o toneladas de solicitudes fallidas, o cada Major LoadDatasets est\xe1 tomando un largo tiempo, o ver cualquier signo de las cosas que se embolsan y responden lentamente, entonces mire enERDDAP's",(0,n.jsx)(a.a,{href:"#log",children:"log.txt file"}),"para ver qu\xe9 est\xe1 pasando."]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Tambi\xe9n es \xfatil simplemente notar lo r\xe1pido que responde la p\xe1gina de estado. Si responde lentamente, es un indicador importante queERDDAP\u2122est\xe1 muy ocupado."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["MonitorERDDAP\u2122a trav\xe9s de",(0,n.jsx)(a.a,{href:"#daily-report",children:"Daily Report"}),"correo electr\xf3nico.\n\xa0"]}),"\n",(0,n.jsxs)(a.li,{children:["Vea los conjuntos de datos actualizados a trav\xe9s de los ",(0,n.jsx)(a.em,{children:"base"})," /erddap/outOfDateDatasets.htmlp\xe1gina web que se basa en la",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#testoutofdate",children:"testOutOfDate"}),"atributo global.\n\xa0"]}),"\n"]}),"\n",(0,n.jsx)(a.h4,{id:"external-monitors",children:"Monitores externos"}),"\n",(0,n.jsxs)(a.p,{children:["Los m\xe9todos enumerados anteriormente sonERDDAPSon formas de monitorizarse. Tambi\xe9n es posible hacer o utilizar sistemas externos para monitorear suERDDAP. Un proyecto para hacer esto es",(0,n.jsx)(a.a,{href:"https://github.com/axiom-data-science/erddap-metrics",children:"Proyecto m\xe9trico de Axiom"}),". Tales sistemas externos tienen algunas ventajas:"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Se pueden personalizar para proporcionar la informaci\xf3n que desee, mostrada en la forma que desee."}),"\n",(0,n.jsx)(a.li,{children:"Pueden incluir informaci\xf3n sobreERDDAP\u2122queERDDAP\u2122no puede acceder f\xe1cilmente o en absoluto (por ejemplo, uso de CPU, espacio libre de disco,ERDDAP\u2122tiempo de respuesta visto desde la perspectiva del usuario,ERDDAP\u2122horas de trabajo,"}),"\n",(0,n.jsx)(a.li,{children:"Pueden proporcionar alertas (correos electr\xf3nicos, llamadas telef\xf3nicas, textos) a los administradores cuando los problemas superan alg\xfan umbral.\n\xa0"}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"multiple-simultaneous-requests",children:"M\xfaltiplo simult\xe1neo Solicitudes"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"\xa1Los usuarios de lista negra hacen m\xfaltiples solicitudes simult\xe1neas!"}),"\nSi est\xe1 claro que alg\xfan usuario est\xe1 haciendo m\xe1s de una solicitud simult\xe1nea, repetidamente y continuamente, a\xf1ada su direcci\xf3n IP aERDDAPEs...<requestBlacklist confiar] (/docs/servidor-admin/datasets#requestblacklist) en tudatasets.xmlarchivo. A veces las solicitudes son todas de una direcci\xf3n IP. A veces son de varias direcciones IP, pero claramente el mismo usuario. Tambi\xe9n puede lista negra haciendo un mont\xf3n de solicitudes inv\xe1lidas o toneladas de solicitudes ineficientes mentalmente."]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Entonces, por cada solicitud que hacen,ERDDAP\u2122retornos:"}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsxs)(a.p,{children:["HTTP ERROR 403 - Access Forbidden --",(0,n.jsx)(a.br,{}),"\n","Your IP address is on this ERDDAP's request blacklist.",(0,n.jsx)(a.br,{}),"\n","Did you often submit more than one request at a time?",(0,n.jsx)(a.br,{}),"\n","Did you often submit identical requests in a short period of time?",(0,n.jsx)(a.br,{}),"\n","Did you submit a large number of invalid requests?",(0,n.jsx)(a.br,{}),"\n","If you are ready to avoid these problems, please email \\[ERDDAP\u2122 administrator's email address\\] to request to be taken off of the blacklist."]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Esperemos que el usuario vea este mensaje y contacte con usted para averiguar c\xf3mo solucionar el problema y bajar de la lista negra. A veces, solo cambian las direcciones IP e intentan de nuevo."}),"\n",(0,n.jsx)(a.p,{children:"Es como el equilibrio de poder entre las armas ofensivas y defensivas en la guerra. Aqu\xed, las armas defensivas (ERDDAP) tienen una capacidad fija, limitada por el n\xfamero de n\xfacleos en la CPU, el ancho de banda de acceso al disco y el ancho de banda de red. Pero las armas ofensivas (usuarios, especialmente scripts) tienen capacidad ilimitada:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:'Una sola solicitud de datos de muchos puntos de tiempo puede causarERDDAPabrir un gran n\xfamero de archivos (en secuencia o parcialmente) . En casos extremos, una solicitud "simple" puede atar f\xe1cilmente el RAID adherido aERDDAP\u2122por un minuto, bloqueando efectivamente el manejo de otras solicitudes.\n\xa0'}),"\n",(0,n.jsx)(a.li,{children:"Una sola solicitud puede consumir un trozo grande de memoria (AunqueERDDAP\u2122est\xe1 codificado para minimizar la memoria necesaria para manejar grandes solicitudes) .\n\xa0"}),"\n",(0,n.jsx)(a.li,{children:"Paralelizaci\xf3n -\nEs f\xe1cil para un usuario inteligente para paralelizar una gran tarea generando un mont\xf3n de hilos, cada uno de los cuales presenta una solicitud separada (que puede ser grande o peque\xf1o) . Este comportamiento es estimulado por la comunidad inform\xe1tica como una manera eficiente de lidiar con un gran problema (y paralelizaci\xf3n es eficiente en otras circunstancias) . Volver a la analog\xeda de la guerra: los usuarios pueden hacer un n\xfamero esencialmente ilimitado de solicitudes simult\xe1neas con el costo de cada uno de ellos esencialmente cero, pero el costo de cada solicitud entra enERDDAP\u2122puede ser grande yERDDAP's capacidad de respuesta es finita. Claramente,ERDDAP\u2122perder\xe1 esta batalla, a menos que laERDDAP\u2122administrador de listas negras usuarios que est\xe1n haciendo m\xfaltiples solicitudes simult\xe1neas que est\xe1n desplegando injustamente a otros usuarios.\n\xa0"}),"\n",(0,n.jsxs)(a.li,{children:["M\xfaltiples scripts -\nAhora piensa en lo que sucede cuando hay varios usuarios inteligentes cada uno ejecutando scripts paralelizados. Si un usuario puede generar tantas solicitudes que otros usuarios est\xe1n llenos, entonces m\xfaltiples usuarios de este tipo pueden generar tantas solicitudes queERDDAP\u2122se vuelve abrumado y aparentemente no responde. Es efectivamente un",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Denial-of-service_attack",children:"DDOS attack"}),"De nuevo, la \xfanica defensa paraERDDAP\u2122es para los usuarios de la lista negra que hacen m\xfaltiples solicitudes simult\xe1neas que son injustamente repartiendo a otros usuarios.\n\xa0"]}),"\n",(0,n.jsx)(a.li,{children:"Expectativas infladas -\nEn este mundo de empresas tecnol\xf3gicas masivas (Amazon, Google, Facebook, ...) , los usuarios han venido a esperar capacidades esencialmente ilimitadas de los proveedores. Dado que estas empresas est\xe1n haciendo operaciones monetarias, cuanto m\xe1s usuarios tienen, m\xe1s ingresos tienen que ampliar su infraestructura de TI. As\xed pueden permitirse una infraestructura de TI masiva para manejar las solicitudes. Y limitan inteligentemente el n\xfamero de solicitudes y el costo de cada solicitud de los usuarios limitando el tipo de solicitudes que los usuarios pueden hacer para que ninguna solicitud sea onerosa, y nunca hay una raz\xf3n (o una manera) para que los usuarios hagan m\xfaltiples solicitudes simult\xe1neas. As\xed que estas enormes empresas tecnol\xf3gicas pueden tener mucho m\xe1s usuarios queERDDAP\u2122, pero tienen enormes recursos y maneras inteligentes de limitar las solicitudes de cada usuario. Es una situaci\xf3n manejable para las grandes empresas de TI (\xa1Y se hacen ricos!) pero no paraERDDAP\u2122instalaciones. De nuevo, la \xfanica defensa paraERDDAP\u2122es para los usuarios de la lista negra que hacen m\xfaltiples solicitudes simult\xe1neas que son injustamente repartiendo a otros usuarios.\n\xa0"}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"As\xed que usuarios: \xa1No hagas m\xfaltiples solicitudes simult\xe1neas o ser\xe1s lista negra!\n\xa0"}),"\n",(0,n.jsx)(a.p,{children:"Claramente, es mejor si su servidor tiene muchos n\xfacleos, mucha memoria (as\xed puedes asignar mucha memoria aERDDAP\u2122, m\xe1s que nunca necesita) , y una alta conexi\xf3n a internet ancho de banda. Entonces, la memoria es raramente o nunca un factor limitante, pero el ancho de banda de red se convierte en el factor limitante m\xe1s com\xfan. B\xe1sicamente, como hay m\xe1s y m\xe1s solicitudes simult\xe1neas, la velocidad a cualquier usuario disminuye. Esto desacelera naturalmente el n\xfamero de solicitudes que vienen si cada usuario est\xe1 presentando una solicitud a la vez."}),"\n",(0,n.jsx)(a.h3,{id:"erddap-getting-data-from-thredds",children:"ERDDAP\u2122Obtener datos de THREDDS"}),"\n",(0,n.jsx)(a.p,{children:"Si tuERDDAP\u2122obtiene algunos de sus datos de un THREDDS en su sitio, hay algunas ventajas para hacer una copia de los archivos de datos THREDDS (al menos para los conjuntos de datos m\xe1s populares) en otro RAID queERDDAP\u2122tiene acceso aERDDAP\u2122puede servir datos de los archivos directamente. AtERD, lo hacemos para nuestros conjuntos de datos m\xe1s populares."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"ERDDAP\u2122puede obtener los datos directamente y no tiene que esperar a que THREDDS vuelva a cargar el conjunto de datos o ..."}),"\n",(0,n.jsx)(a.li,{children:"ERDDAP\u2122puede notar e incorporar nuevos archivos de datos inmediatamente, por lo que no tiene que plagar THREDDS frecuentemente para ver si el conjunto de datos ha cambiado. [V\xe9ase]<actualizar EveryNMillis confiar] (/docs/servidor-admin/datasets) ."}),"\n",(0,n.jsx)(a.li,{children:"La carga se divide entre 2 RAIDS y 2 servidores, en lugar de la solicitud siendo dura en ambosERDDAP\u2122y THREDDS."}),"\n",(0,n.jsx)(a.li,{children:"Evitas el problema del desajuste causado por THREDDS teniendo un peque\xf1o (por defecto) tama\xf1o m\xe1ximo de solicitud.ERDDAP\u2122tiene un sistema para manejar el desajuste, pero evitar el problema es mejor."}),"\n",(0,n.jsx)(a.li,{children:"Usted tiene una copia de seguridad de los datos que siempre es una buena idea."}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"En cualquier caso, nunca corras THREDDS yERDDAP\u2122en el mismo Tomcat. Ejecutarlos en Tomcats separados, o mejor, en servidores separados."}),"\n",(0,n.jsx)(a.p,{children:"Encontramos que TREDDS peri\xf3dicamente entra en un estado donde las solicitudes s\xf3lo se cuelgan. Si tuERDDAP\u2122est\xe1 recibiendo datos de un THREDDS y el THREDDS est\xe1 en este estado,ERDDAP\u2122tiene una defensa (dice que el conjunto de datos basados en THREDDS no est\xe1 disponible) , pero todav\xeda es problem\xe1tico paraERDDAP\u2122porqueERDDAP\u2122tiene que esperar hasta el tiempo cada vez que intenta volver a cargar un conjunto de datos de un THREDDS colgado. Algunos grupos (incluidoERD) evitar esto mediante el reacondicionamiento proactiva de THREDDS con frecuencia (por ejemplo, noche en un trabajo de cron) ."}),"\n",(0,n.jsx)(a.h3,{id:"responding-slowly",children:"Respondiendo lentamente"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"SiERDDAP\u2122Est\xe1 respondiendo lentamente"})," o si ciertas solicitudes est\xe1n respondiendo lentamente,\npuede ser capaz de averiguar si la lentitud es razonable y temporal (por ejemplo, debido a muchas solicitudes de scripts oWMSusuarios) , o si algo es inexplicablemente incorrecto y usted necesita",(0,n.jsx)(a.a,{href:"#shut-down-and-restart",children:"cerrar y reiniciar Tomcat yERDDAP\u2122"}),"."]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"SiERDDAP\u2122est\xe1 respondiendo lentamente, vea el consejo a continuaci\xf3n para determinar la causa, que esperamos le permitir\xe1 solucionar el problema.\nUsted puede tener un punto de partida espec\xedfico (por ejemplo, una URL de solicitud espec\xedfica) o un punto de partida vago (por ejemplo,ERDDAP\u2122es lento) .\nUsted puede saber el usuario involucrado (por ejemplo, porque te mandaron por correo electr\xf3nico) O no.\nPuede tener otras pistas, o no.\nDado que todas estas situaciones y todas las posibles causas de los problemas se desenfocan juntas, el consejo siguiente trata de tratar todos los puntos de partida posibles y todos los problemas posibles relacionados con respuestas lentas."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsxs)(a.strong,{children:["Busca pistas en",(0,n.jsx)(a.a,{href:"#log",children:"ERDDAP's log file"})]}),"   ( ",(0,n.jsx)(a.em,{children:"bigParentDirectory"})," /logs/log.txt) .\n\\[En raras ocasiones, hay pistas en",(0,n.jsx)(a.a,{href:"#tomcat-logs",children:"Archivo de registro de Tomcat"}),"  ( ",(0,n.jsx)(a.em,{children:"tomcat"})," /logs/catalina.out) .\\]",(0,n.jsx)(a.br,{}),"\n","Busque mensajes de error.\nBusque un gran n\xfamero de solicitudes provenientes de una (o algunos) usuarios y tal vez hogging un mont\xf3n de recursos de su servidor (memoria, tiempo de CPU, acceso al disco, ancho de banda de Internet) ."]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Si el problema est\xe1 ligado a ",(0,n.jsx)(a.strong,{children:"un usuario"})," , a menudo puede obtener una pista sobre qui\xe9n es el usuario a trav\xe9s de servicios web como",(0,n.jsx)(a.a,{href:"https://whatismyipaddress.com/ip-lookup",children:" https://whatismyipaddress.com/ip-lookup "}),"que puede darle informaci\xf3n relacionada con la direcci\xf3n IP del usuario (que puedes encontrar enERDDAP's",(0,n.jsx)(a.a,{href:"#log",children:"log.txt"}),"archivo) ."]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Si el usuario parece ser un ",(0,n.jsx)(a.strong,{children:"Bot"})," port\xe1ndose mal (notablemente, un motor de b\xfasqueda tratando de llenar elERDDAP\u2122formas con cada permutaci\xf3n posible de los valores de entrada) , aseg\xfarese de que ha establecido correctamente el servidor",(0,n.jsx)(a.a,{href:"#robotstxt",children:"robots.txt"}),"archivo."]}),"\n",(0,n.jsx)(a.li,{children:"Si el usuario parece ser un **script (s) ** que est\xe1 haciendo m\xfaltiples solicitudes simult\xe1neas, contactar al usuario, explicar que suERDDAP\u2122recursos limitados (por ejemplo, memoria, tiempo de CPU, acceso al disco, ancho de banda de Internet) , y pedirles que sean considerados de otros usuarios y s\xf3lo haga una solicitud a la vez. Tambi\xe9n podr\xeda mencionar que los chantajear\xe1s si no retroceden."}),"\n",(0,n.jsxs)(a.li,{children:["Si el usuario parece ser un ",(0,n.jsx)(a.strong,{children:"script"})," haciendo un gran n\xfamero de solicitudes de consumo de tiempo, pida al usuario que sea considerado por otros usuarios poniendo una peque\xf1a pausa (\xbf2 segundos?) en el gui\xf3n entre solicitudes."]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"WMSsoftware cliente"})," puede ser muy exigente. Un cliente a menudo pedir 6 im\xe1genes personalizadas a la vez. Si el usuario parece ser unWMScliente que est\xe1 haciendo solicitudes leg\xedtimas, puede:"]}),"\n",(0,n.jsx)(a.li,{children:"Ignoralo. (recomendado, porque se mover\xe1n pronto)"}),"\n",(0,n.jsx)(a.li,{children:"Apaga el servidorWMSservicio a trav\xe9sERDDAParchivo HTML. (no recomendado)"}),"\n",(0,n.jsxs)(a.li,{children:["Si las solicitudes parecen ",(0,n.jsx)(a.strong,{children:"est\xfapido, loco, excesivo o malicioso,"})," o si no puede resolver el problema de otra manera, considere agregar temporalmente o permanentemente la direcci\xf3n IP del usuario a la [<requestBlacklist confiar en sudatasets.xmlarchivo] (/docs/servidor-admin/datasets#requestblacklist) .\n\xa0"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Trate de duplicar el problema usted mismo, desde su computadora."}),(0,n.jsx)(a.br,{}),"\n","Averig\xfce si el problema est\xe1 con un conjunto de datos o todos los conjuntos de datos, para un usuario o todos los usuarios, para ciertos tipos de solicitudes, etc.\nSi puede duplicar el problema, trate de reducir el problema.\nSi no puede duplicar el problema, entonces el problema puede estar vinculado al ordenador del usuario, la conexi\xf3n a Internet del usuario o la conexi\xf3n a Internet de su instituci\xf3n.\n\xa0"]}),"\n",(0,n.jsxs)(a.li,{children:["Si ",(0,n.jsx)(a.strong,{children:"un conjunto de datos"})," est\xe1 respondiendo lentamente (tal vez s\xf3lo para ",(0,n.jsx)(a.strong,{children:"un tipo de solicitud"})," de un usuario) , el problema puede ser:","\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"ERDDAP's access to the dataset's source data (principalmente de bases de datos relacionales, Cassandra y conjuntos de datos remotos) puede ser temporal o permanentemente lento. Intente comprobar la velocidad de la fuente independiente deERDDAP. Si es lento, quiz\xe1s puedas mejorarlo."}),"\n",(0,n.jsx)(a.li,{children:"\xbfEl problema est\xe1 relacionado con la solicitud espec\xedfica o tipo general de solicitud?\nCuanto mayor sea el subconjunto solicitado de un conjunto de datos, m\xe1s probable ser\xe1 que la solicitud falle. Si el usuario est\xe1 haciendo enormes solicitudes, p\xeddale al usuario que haga solicitudes m\xe1s peque\xf1as que son m\xe1s propensos a obtener una respuesta r\xe1pida y exitosa."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Casi todos los conjuntos de datos son mejores para manejar algunos tipos de solicitudes que otros tipos de solicitudes. Por ejemplo, cuando un conjunto de datos almacena diferentes fragmentos de tiempo en diferentes archivos, las solicitudes de datos de un gran n\xfamero de puntos de tiempo pueden ser muy lentas. Si las solicitudes actuales son de tipo dif\xedcil, considere ofrecer una variante del conjunto de datos que se optimiza para estas solicitudes. O simplemente explique al usuario que ese tipo de solicitud es dif\xedcil y consume mucho tiempo, y pida su paciencia."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"El conjunto de datos puede no configurarse de forma \xf3ptima. Usted puede ser capaz de hacer cambios en el conjunto de datosdatasets.xmlpara ayudarERDDAP\u2122manejar mejor el conjunto de datos. Por ejemplo,"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"EDDGridLos conjuntos de datos de NcFiles que acceden a datos de archivos comprimidos nc4/hdf5 son lentos al obtener datos para toda la gama geogr\xe1fica (por ejemplo, para un mapa mundial) porque todo el archivo debe ser descomprimido. Usted podr\xeda convertir los archivos a archivos no comprimidos, pero entonces el requisito del espacio del disco ser\xe1 mucho, mucho m\xe1s grande. Es probablemente mejor aceptar que tales conjuntos de datos ser\xe1n lentos en ciertas circunstancias."}),"\n",(0,n.jsx)(a.li,{children:"La configuraci\xf3n del [<subsetVariables> (/docs/servidor-admin/datasets#subsetvariables) la etiqueta tiene una gran influencia en c\xf3moERDDAP\u2122maneja conjuntos de datos EDDTable."}),"\n",(0,n.jsxs)(a.li,{children:["Usted puede ser capaz de aumentar el",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#database-speed",children:"velocidad de un EDDTableDesdeDatabase"}),"Dataset."]}),"\n",(0,n.jsxs)(a.li,{children:["Muchos conjuntos de datos EDDTable se pueden crear por",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablefromfiles",children:"almacenamiento de una copia de los datos enNetCDFArchivos de Array contiguos"}),", queERDDAP\u2122puede leer muy r\xe1pidamente."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Si desea ayuda para acelerar un conjunto de datos espec\xedfico, incluya una descripci\xf3n del problema y el conjunto de datosdatasets.xmly ver nuestra",(0,n.jsx)(a.a,{href:"/docs/intro#support",children:"secci\xf3n sobre la obtenci\xf3n de apoyo adicional"}),".\n\xa0"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Si ",(0,n.jsx)(a.strong,{children:"todo"})," dentroERDDAP\u2122es ",(0,n.jsx)(a.strong,{children:"siempre"})," lento, el problema puede ser:","\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"La computadora que est\xe1 funcionandoERDDAP\u2122puede no tener suficiente memoria o poder de procesamiento. Es bueno correrERDDAP\u2122en un servidor moderno, multi-core. Para uso pesado, el servidor debe tener un sistema operativo de 64 bits y 8 GB o m\xe1s de memoria."}),"\n",(0,n.jsx)(a.li,{children:"La computadora que est\xe1 funcionandoERDDAP\u2122Tambi\xe9n puede estar ejecutando otras aplicaciones que consumen muchos recursos del sistema. Si es as\xed, puede conseguir un servidor dedicado paraERDDAP? Por ejemplo (esto no es un aval) , puede obtener un Mac Mini Server de cuatro n\xfacleos con 8 GB de memoria para ~$1100.\n\xa0"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["Si ",(0,n.jsx)(a.strong,{children:"todo"})," dentroERDDAP\u2122es ",(0,n.jsx)(a.strong,{children:"temporalmente"})," lento, mira tuERDDAP's",(0,n.jsxs)(a.a,{href:"#status-page",children:[" ",(0,n.jsx)(a.strong,{children:"/erddap/status.htmlp\xe1gina"})," "]}),"en su navegador.","\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\xbfEl qu\xe9?ERDDAP\u2122\xbfLa p\xe1gina de estado no se carga?\nSi es as\xed,",(0,n.jsx)(a.a,{href:"#shut-down-and-restart",children:"reiniciarERDDAP\u2122"}),"."]}),"\n",(0,n.jsx)(a.li,{children:"\xbfQu\xe9?ERDDAP\u2122estado p\xe1gina carga lentamente (p. ej., >5 segundos) ?\nEso es una se\xf1al de que todo enERDDAP\u2122corre lentamente, pero no es necesariamente un problema.ERDDAP\u2122puede estar muy ocupado."}),"\n",(0,n.jsx)(a.li,{children:'Para "Response Failed Time (desde el \xfaltimo gran LoadDatasets) ", es n= un gran n\xfamero?\nEso indica que ha habido muchas solicitudes fallidas recientemente. Eso puede ser un problema o el comienzo de problemas. El tiempo medio para los fracasos es a menudo grande (por ejemplo, 210000 ms) ,\nque significa que hubo (\xbfS\xed?) Muchos hilos activos.\nque estaban atando muchos recursos (como memoria, archivos abiertos, tomas abiertas, ...) ,\nque no es bueno.'}),"\n",(0,n.jsx)(a.li,{children:'Para "Response Succeed Time (desde el \xfaltimo gran LoadDatasets) ", es n= un gran n\xfamero?\nEso indica que ha habido muchas solicitudes exitosas recientemente. Esto no es problema. S\xf3lo significa tuERDDAP\u2122se est\xe1 haciendo muy \xfatil.'}),"\n",(0,n.jsxs)(a.li,{children:['\xbfEs el "N\xfamero de hilos que no esperan Tomcat" doble un valor t\xedpico?\nEsto a menudo es un problema serio que causar\xe1ERDDAP\u2122para frenar y eventualmente congelar. Si esto persiste durante horas, es posible que desee proactivamente',(0,n.jsx)(a.a,{href:"#shut-down-and-restart",children:"reiniciarERDDAP\u2122"}),"."]}),"\n",(0,n.jsx)(a.li,{children:'En la parte inferior de la lista "Memory Use Summary", es el \xfaltimo "Memory: actualmente utiliza" valor muy alto?\nEso puede indicar un alto uso, o puede ser un signo de problemas.'}),"\n",(0,n.jsx)(a.li,{children:"Mira la lista de hilos y su estado. \xbfHay un n\xfamero inusual de ellos haciendo algo inusual?\n\xa0"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["I ",(0,n.jsx)(a.strong,{children:"la conexi\xf3n a Internet de su instituci\xf3n"}),' \xbf actualmente lento?\nBusque Internet para "prueba de velocidad de Internet" y utilice una de las pruebas en l\xednea gratuitas, como',(0,n.jsx)(a.a,{href:"https://www.speakeasy.net/speedtest/",children:" https://www.speakeasy.net/speedtest/ "}),". Si la conexi\xf3n a Internet de su instituci\xf3n es lenta, entonces las conexiones entreERDDAP\u2122y las fuentes de datos remotas ser\xe1n lentas, y las conexiones entreERDDAP\u2122y el usuario ser\xe1 lento. A veces, puede resolver esto parando el uso innecesario de Internet (por ejemplo, gente viendo videos de streaming o en videoconferencias) .\n\xa0"]}),"\n",(0,n.jsxs)(a.li,{children:["I ",(0,n.jsx)(a.strong,{children:"la conexi\xf3n de Internet del usuario"}),' \xbf actualmente lento?\nHaga que el usuario busque en Internet para "prueba de velocidad de Internet" y use una de las pruebas en l\xednea gratuitas, como',(0,n.jsx)(a.a,{href:"https://www.speakeasy.net/speedtest/",children:" https://www.speakeasy.net/speedtest/ "}),". Si la conexi\xf3n de Internet del usuario es lenta, disminuye su acceso aERDDAP. A veces, pueden resolver esto parando el uso innecesario de Internet en su instituci\xf3n (por ejemplo, gente viendo videos de streaming o en videoconferencias) .\n\xa0"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"\xbfAtascado?"}),(0,n.jsx)(a.br,{}),"\n","Vea nuestro",(0,n.jsx)(a.a,{href:"/docs/intro#support",children:"secci\xf3n sobre la obtenci\xf3n de apoyo adicional"}),"."]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"shut-down-and-restart",children:"C\xe1llate y reinicia"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"C\xf3mo cerrar y reiniciar Tomcat yERDDAP\u2122"}),(0,n.jsx)(a.br,{}),"\n","No necesitas cerrar y reiniciar a Tomcat yERDDAPsiERDDAP\u2122es temporalmente lento, lento por alguna raz\xf3n conocida (como muchas solicitudes de scripts oWMSusuarios) , o para aplicar cambiosdatasets.xmlarchivo."]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Necesitas cerrar y reiniciar a Tomcat yERDDAP\u2122si necesita aplicar cambios en el archivo setup.xml, o siERDDAP\u2122Congela, cuelga o cierra. En circunstancias extremas,Javapuede congelarse por un minuto o dos mientras hace una colecci\xf3n completa de basura, pero luego recuperarse. As\xed que es bueno esperar un minuto o dos para ver siJava/ERDDAP\u2122es realmente congelado o si est\xe1 haciendo una larga colecci\xf3n de basura. (Si la recolecci\xf3n de basura es un problema com\xfan,",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#memory",children:"asignar m\xe1s memoria a Tomcat"}),".)"]}),"\n",(0,n.jsx)(a.p,{children:"No recomiendo usar el Administrador de aplicaciones web de Tomcat para iniciar o cerrar Tomcat. Si no cierras completamente y empiezas Tomcat, tarde o temprano tendr\xe1s problemas de memoria PermGen."}),"\n",(0,n.jsx)(a.p,{children:"Para cerrar y reiniciar Tomcat yERDDAP:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Si utiliza Linux o un Mac:\n(Si usted ha creado un usuario especial para ejecutar Tomcat, por ejemplo, tomcat, recuerde hacer los siguientes pasos como ese usuario.)",(0,n.jsx)(a.br,{}),"\n","\xa0","\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["Use cd ",(0,n.jsx)(a.em,{children:"tomcat"})," /bin\n\xa0"]}),"\n",(0,n.jsxs)(a.li,{children:["Use ps -ef|Griep tomcat para encontrar el proceso java/tomcat ID (con suerte, s\xf3lo un proceso ser\xe1 listado) , que llamaremos ",(0,n.jsx)(a.em,{children:"javaProcessID"})," abajo.\n\xa0"]}),"\n",(0,n.jsxs)(a.li,{children:["SiERDDAP\u2122est\xe1 congelado/hung/locked up, use kill -3 ",(0,n.jsx)(a.em,{children:"javaProcessID"})," para decirJava  (que est\xe1 ejecutando Tomcat) para hacer un vertedero de hilo al archivo de registro de Tomcat: ",(0,n.jsx)(a.em,{children:"tomcat"})," /logs/catalina.out . Despu\xe9s de reiniciar, puede diagnosticar el problema encontrando la informaci\xf3n del vertedero de hilos (y cualquier otra informaci\xf3n \xfatil sobre ella) dentro ",(0,n.jsx)(a.em,{children:"tomcat"})," /logs/catalina.out y tambi\xe9n leyendo partes relevantes",(0,n.jsx)(a.a,{href:"#log",children:"ERDDAP\u2122Archivo de registros"}),". Si quieres, puedes incluir esa informaci\xf3n y ver nuestra",(0,n.jsx)(a.a,{href:"/docs/intro#support",children:"secci\xf3n sobre la obtenci\xf3n de apoyo adicional"}),".\n\xa0"]}),"\n",(0,n.jsx)(a.li,{children:"Use ./shutdown. #\n\xa0"}),"\n",(0,n.jsx)(a.li,{children:"Use ps -ef|Tomcat grep repetidamente hasta que el proceso java/tomcat no est\xe1 listado."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["A veces, el proceso java/tomcat tomar\xe1 hasta dos minutos para cerrar completamente. La raz\xf3n es",":ERDDAP","\u2122env\xeda un mensaje a sus hilos de fondo para decirles que paren, pero a veces toma estos hilos un largo tiempo para llegar a un buen lugar de parada."]}),"\n",(0,n.jsxs)(a.ol,{start:"6",children:["\n",(0,n.jsxs)(a.li,{children:["Si despu\xe9s de un minuto o as\xed, java/tomcat no se detiene por s\xed mismo, se puede utilizar\nmatar a 9 ",(0,n.jsx)(a.em,{children:"javaProcessID"}),(0,n.jsx)(a.br,{}),"\n","forzar el proceso java/tomcat para detenerse inmediatamente. Si es posible, use esto s\xf3lo como \xfaltimo recurso. El interruptor -9 es potente, pero puede causar varios problemas.\n\xa0"]}),"\n",(0,n.jsx)(a.li,{children:"Para reiniciarERDDAP\u2122, use ./startup.sh\n\xa0"}),"\n",(0,n.jsxs)(a.li,{children:["VerERDDAP\u2122en su navegador para comprobar que el reinicio tuvo \xe9xito. (A veces, necesitas esperar 30 segundos e intentar cargarERDDAP\u2122de nuevo en su navegador para que tenga \xe9xito.)",(0,n.jsx)(a.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Si utiliza Windows:\n\xa0","\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["Use cd ",(0,n.jsx)(a.em,{children:"tomcat"})," /bin\n\xa0"]}),"\n",(0,n.jsxs)(a.li,{children:["Usoshutdown.bat",(0,n.jsx)(a.br,{}),"\n","\xa0"]}),"\n",(0,n.jsxs)(a.li,{children:["Es posible que desee utilizar el Administrador de tareas de Windows (accesible v\xeda Ctrl Alt Del) para garantizar queJava/Tomcat/ERDDAP\u2122proceso/aplicaci\xf3n se ha detenido completamente.\nA veces, el proceso/aplicaci\xf3n tomar\xe1 hasta dos minutos para apagarse. La raz\xf3n es",":ERDDAP","\u2122env\xeda un mensaje a sus hilos de fondo para decirles que paren, pero a veces toma estos hilos un largo tiempo para llegar a un buen lugar de parada.\n\xa0"]}),"\n",(0,n.jsx)(a.li,{children:"Para reiniciarERDDAP\u2122, utilizar startup.bat\n\xa0"}),"\n",(0,n.jsxs)(a.li,{children:["VerERDDAP\u2122en su navegador para comprobar que el reinicio tuvo \xe9xito. (A veces, necesitas esperar 30 segundos e intentar cargarERDDAP\u2122de nuevo en su navegador para que tenga \xe9xito.)",(0,n.jsx)(a.br,{}),"\n","\xa0"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"frequent-crashes-or-freezes",children:"Frecuentes Crashes o Freezes"}),"\n",(0,n.jsxs)(a.p,{children:["SiERDDAP\u2122se vuelve lento, se bloquea o se congela, algo est\xe1 mal. Mira.",(0,n.jsx)(a.a,{href:"#log",children:"ERDDAP's log file"}),"tratar de averiguar la causa. Si usted no puede, por favor incluya los detalles y vea nuestros",(0,n.jsx)(a.a,{href:"/docs/intro#support",children:"secci\xf3n sobre la obtenci\xf3n de apoyo adicional"}),"."]}),"\n",(0,n.jsx)(a.p,{children:"El problema m\xe1s com\xfan es un usuario problem\xe1tico que est\xe1 ejecutando varios scripts a la vez y/o alguien haciendo un gran n\xfamero de solicitudes inv\xe1lidas. Si esto sucede, probablemente deber\xedas chantajear a ese usuario. Cuando un usuario de lista negra hace una solicitud, el mensaje de error en la respuesta los anima a enviar un correo electr\xf3nico para resolver los problemas. Entonces, puedes animarlos a ejecutar s\xf3lo un script a la vez y a solucionar los problemas en su script (por ejemplo, solicitando datos de un conjunto de datos remoto que no pueden responder antes de que se acabe el tiempo) . [V\xe9ase]<requestBlacklist confiar en sudatasets.xmlarchivo] (/docs/servidor-admin/datasets#requestblacklist) ."}),"\n",(0,n.jsxs)(a.p,{children:["En circunstancias extremas,Javapuede congelarse por un minuto o dos mientras hace una colecci\xf3n completa de basura, pero luego recuperarse. As\xed que es bueno esperar un minuto o dos para ver siJava/ERDDAP\u2122es realmente congelado o si est\xe1 haciendo una larga colecci\xf3n de basura. (Si la recolecci\xf3n de basura es un problema com\xfan,",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#memory",children:"asignar m\xe1s memoria a Tomcat"}),".)"]}),"\n",(0,n.jsxs)(a.p,{children:["SiERDDAP\u2122se vuelve lento o se congela y el problema no es un usuario problem\xe1tico o una colecci\xf3n de basura larga, generalmente puede resolver el problema por",(0,n.jsx)(a.a,{href:"#shut-down-and-restart",children:"descansoERDDAP\u2122"}),". Mi experiencia es queERDDAP\u2122puede correr durante meses sin necesitar un reinicio.\n\xa0"]}),"\n",(0,n.jsx)(a.h3,{id:"monitor",children:"Monitor"}),"\n",(0,n.jsxs)(a.p,{children:["Puede monitorear suERDDAP's estado mirando el",(0,n.jsx)(a.a,{href:"#status-page",children:"/erddap/status.htmlp\xe1gina"}),", en particular las estad\xedsticas en la secci\xf3n superior. SiERDDAP\u2122se vuelve lento o se congela y el problema no es s\xf3lo uso extremadamente pesado, por lo general puede resolver el problema por",(0,n.jsx)(a.a,{href:"#shut-down-and-restart",children:"descansoERDDAP\u2122"}),". Hay m\xe9tricas adicionales disponibles a trav\xe9s de la integraci\xf3n Prometheus en /erddap/metrics."]}),"\n",(0,n.jsxs)(a.p,{children:["Mi experiencia es queERDDAP\u2122puede correr durante meses sin necesitar un reinicio. S\xf3lo debes reiniciarlo si quieres aplicar algunos cambios que hiciste paraERDDAP's setup.xml o cuando necesita instalar nuevas versiones deERDDAP\u2122,JavaTomcat, o el sistema operativo. Si necesitas reiniciarERDDAP\u2122Con frecuencia, algo est\xe1 mal. Mira.",(0,n.jsx)(a.a,{href:"#log",children:"ERDDAP's log file"}),"tratar de averiguar la causa. Si usted no puede, por favor incluya los detalles y vea nuestros",(0,n.jsx)(a.a,{href:"/docs/intro#support",children:"secci\xf3n sobre la obtenci\xf3n de apoyo adicional"}),". Como soluci\xf3n temporal, puede intentar usar",(0,n.jsx)(a.a,{href:"https://mmonit.com/monit/",children:"Monit"}),"para monitorear suERDDAP\u2122y reiniciarlo si es necesario. O podr\xedas hacer un trabajo de cron para reiniciarERDDAP\u2122  (proactivamente) peri\xf3dicamente. Puede ser un poco dif\xedcil escribir un script para automatizar el monitoreo y reiniciarERDDAP. Algunos consejos que podr\xedan ayudar:"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Puede simplificar las pruebas si el proceso de Tomcat sigue funcionando utilizando el interruptor -c con grep:\nps -u ",(0,n.jsx)(a.em,{children:"tomcat Usuario"}),'  |grep -c java\nEso reducir\xe1 la salida a "1" si el proceso de tomcat sigue vivo, o "0" si el proceso se ha detenido.\n\xa0']}),"\n",(0,n.jsxs)(a.li,{children:["Si eres bueno con el gawk, puedes extraer el procesadorID de los resultados de\nps -u ",(0,n.jsx)(a.em,{children:"tomcat Usuario"}),"  |Grip java, y utilizar el procesadorID en otras l\xedneas del script.\n\xa0"]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Si usted establece Monit o un trabajo de cron, ser\xeda genial si usted podr\xeda compartir los detalles para que otros puedan beneficiar ver nuestro",(0,n.jsx)(a.a,{href:"/docs/intro#support",children:"secci\xf3n sobre la obtenci\xf3n de apoyo adicional"}),"por donde puedes compartir."]}),"\n",(0,n.jsx)(a.h4,{id:"permgen",children:"Permgen"}),"\n",(0,n.jsxs)(a.p,{children:["Si usas en repetidas ocasiones Tomcat Manager para recargar (o Stop and Start)  ERDDAP\u2122,ERDDAP\u2122puede no empezar y tirar java.lang. OutOfMemoryError: PermGen. La soluci\xf3n es peri\xf3dicamente (o cada vez?)  ",(0,n.jsx)(a.a,{href:"#shut-down-and-restart",children:"apagado y reiniciar tomcat yERDDAP\u2122"}),", en lugar de recargarERDDAP.\n\\[Actualizaci\xf3n: Este problema fue minimizado o fijado en gran medidaERDDAP\u2122versi\xf3n 1.24.\\]",(0,n.jsx)(a.br,{}),"\n","\xa0"]}),"\n",(0,n.jsx)(a.h4,{id:"log",children:"Log"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:(0,n.jsx)(a.a,{href:"#log",children:"log.txt"})}),(0,n.jsx)(a.br,{}),"\n","SiERDDAP\u2122no comienza o si algo no funciona como se espera, es muy \xfatil ver el error y los mensajes de diagn\xf3stico en elERDDAP\u2122archivo de registro."]}),"\n",(0,n.jsxs)(a.li,{children:["El archivo de registro es ",(0,n.jsx)(a.em,{children:"bigParentDirectory"})," /logs/log.txt\n( ",(0,n.jsx)(a.em,{children:"bigParentDirectory"})," se especifica en",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),") . Si no hay registro. archivo txt o si el registro. txt file no ha sido actualizado desde que se reiniciaERDDAP\u2122, mira en",(0,n.jsx)(a.a,{href:"#tomcat-logs",children:"Archivos de registro Tomcat"}),"para ver si hay un mensaje de error all\xed."]}),"\n",(0,n.jsxs)(a.li,{children:["Tipos de mensajes de diagn\xf3stico en el archivo de registro:","\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:'La palabra "error" se utiliza cuando algo sali\xf3 tan mal que el procedimiento no pudo completar. Aunque es molesto obtener un error, el error le obliga a lidiar con el problema. Nuestro pensamiento es que es mejor lanzar un error, que tenerERDDAP\u2122Trabajando de una manera que no esperabas.'}),"\n",(0,n.jsx)(a.li,{children:'La palabra "aprendizaje" se utiliza cuando algo sali\xf3 mal, pero el procedimiento fue capaz de ser completado. Son bastante raros.'}),"\n",(0,n.jsx)(a.li,{children:"Cualquier otra cosa es s\xf3lo un mensaje informativo. Puede controlar cu\xe1nta informaci\xf3n se ha identificado con [<logLevel] (/docs/servidor-admin/datasets#nivel)  datasets.xml."}),"\n",(0,n.jsx)(a.li,{children:'Recargas de conjunto de datos y respuestas de los usuarios que llevan 10 segundos para terminar (con \xe9xito o sin \xe9xito) est\xe1n marcados con " (\xa110!) ". Por lo tanto, puede buscar el archivo log.txt para esta frase para encontrar los conjuntos de datos que fueron lentos para recargar o el n\xfamero de solicitud de las solicitudes que fueron lentas para terminar. A continuaci\xf3n, puede mirar m\xe1s alto en el archivo log.txt para ver cu\xe1l era el problema del conjunto de datos o cu\xe1l era la solicitud del usuario y qui\xe9n era. Estas cargas lentas de conjunto de datos y las solicitudes de los usuarios a veces est\xe1n imponi\xe9ndoseERDDAP. As\xed que saber m\xe1s sobre estas solicitudes puede ayudarle a identificar y resolver problemas.'}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["La informaci\xf3n est\xe1 escrita al archivo de registro en la unidad de disco en pedazos bastante grandes. La ventaja es que esto es muy eficiente...ERDDAP\u2122nunca bloquear\xe1 la espera de que la informaci\xf3n sea escrita al archivo de registro. La desventaja es que el registro casi siempre terminar\xe1 con un mensaje parcial, que no se completar\xe1 hasta que se escriba el siguiente trozo. Puedes hacerlo actualizado. (para un instante) viendo suERDDAP's status web page at https://",(0,n.jsx)(a.em,{children:"your.domain.org"}),"/erddap/status.html   (ohttp://sihttpsno est\xe1 habilitado) ."]}),"\n",(0,n.jsx)(a.li,{children:"Cuando los archivos log.txt llegan a 20 MB,\nel archivo es renombrado registro. txt.previous y se crea un nuevo archivo log.txt. As\xed que los archivos de registro no se acumulan."}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"En setup.xml, puede especificar un tama\xf1o m\xe1ximo diferente para el archivo de registro, en MegaBytes. El m\xednimo permitido es 1 (MB) . El m\xe1ximo permitido es 2000 (MB) . El predeterminado es 20 (MB) . Por ejemplo:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:"        <logMaxSizeMB>20</logMaxSizeMB>\n"})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Cuando vuelvasERDDAP\u2122,\nERDDAP\u2122hace una copia de archivo del log.txt y log. archivos txt.previous con un sello de tiempo en el nombre del archivo. Si hubo problemas antes del reinicio, puede ser \xfatil analizar estos archivos archivados para obtener pistas sobre cu\xe1l era el problema. Usted puede eliminar los archivos de archivo si ya no son necesarios.\n\xa0"}),"\n"]}),"\n",(0,n.jsx)(a.h5,{id:"parsing-logtxt",children:"Parsing log.txt"}),"\n",(0,n.jsx)(a.p,{children:"ERDDAP's log. el archivo txt no est\xe1 dise\xf1ado para paresing (aunque podr\xeda crear expresiones regulares que extraigan la informaci\xf3n deseada) . Est\xe1 dise\xf1ado para ayudar a un humano a averiguar qu\xe9 est\xe1 pasando mal cuando algo va mal. Cuando usted env\xeda un error o informe de problema aERDDAP\u2122desarrolladores, cuando sea posible, por favor incluya toda la informaci\xf3n del archivo log.txt relacionado con la solicitud problem\xe1tico."}),"\n",(0,n.jsxs)(a.p,{children:["Por razones de eficiencia,ERDDAP\u2122s\xf3lo escribe informaci\xf3n para registrar. txt despu\xe9s de un gran trozo de informaci\xf3n se ha acumulado. As\xed que si visitas el registro. txt justo despu\xe9s de que se haya producido un error, la informaci\xf3n relacionada con el error puede no haberse escrito todav\xeda a log.txt. Para obtener informaci\xf3n perfectamente actualizada de log.txt, visite suERDDAP's",(0,n.jsx)(a.a,{href:"#status-page",children:"status.html page"}),". CuandoERDDAP\u2122procesos que lo soliciten, elimina toda la informaci\xf3n pendiente para log.txt."]}),"\n",(0,n.jsxs)(a.p,{children:["ParaERDDAP\u2122estad\xedsticas de uso, por favor use el",(0,n.jsx)(a.a,{href:"#tomcat-logs",children:"Archivos de registro Apache y/o Tomcat"}),"en lugar deERDDAPEs log.txt. Note queERDDAP's",(0,n.jsx)(a.a,{href:"#status-page",children:"status.html page"}),"  (algunos) y",(0,n.jsx)(a.a,{href:"#daily-report",children:"Daily Report"}),"  (m\xe1s) tienen un gran n\xfamero de estad\xedsticas de uso precalculadas para usted."]}),"\n",(0,n.jsx)(a.h3,{id:"tomcat-logs",children:"Tomcat Logs"}),"\n",(0,n.jsxs)(a.p,{children:["SiERDDAP\u2122no comienza porque un error ocurri\xf3 muy temprano enERDDAP's startup, el mensaje de error aparecer\xe1 en los archivos de registro de Tomcat ( ",(0,n.jsx)(a.em,{children:"tomcat"})," /logs/catalina. ",(0,n.jsx)(a.em,{children:"hoy"})," .log o ",(0,n.jsx)(a.em,{children:"tomcat"})," /logs/catalina.out) , no en",(0,n.jsx)(a.a,{href:"#log",children:"ERDDAP's log.txt file"}),"."]}),"\n",(0,n.jsxs)(a.p,{children:["Estad\xedsticas de uso: Para la mayor\xeda de la informaci\xf3n que la gente desea reunir de un archivo de registro (por ejemplo, estad\xedsticas de uso) , por favor utilice los archivos de registro Apache y/o Tomcat. Est\xe1n bien formateados y tienen ese tipo de informaci\xf3n. Hay numerosas herramientas para analizarlas, por ejemplo,",(0,n.jsx)(a.a,{href:"https://www.awstats.org",children:"AWStats"}),",",(0,n.jsx)(a.a,{href:"https://www.elastic.co/products/kibana",children:"Kibana de ElasticSearch"}),", y",(0,n.jsx)(a.a,{href:"https://jmeter.apache.org",children:"JMeter"}),", pero busque en la web para encontrar la herramienta correcta para sus prop\xf3sitos."]}),"\n",(0,n.jsxs)(a.p,{children:["Tenga en cuenta que los archivos de registro s\xf3lo identifican a los usuarios como direcciones IP. Hay sitios web para ayudarle a obtener informaci\xf3n relacionada con una direcci\xf3n IP dada, por ejemplo,",(0,n.jsx)(a.a,{href:"https://whatismyipaddress.com/ip-lookup",children:"WhatIsMyIPAddress"}),", pero normalmente no ser\xe1 capaz de encontrar el nombre del usuario."]}),"\n",(0,n.jsxs)(a.p,{children:["Adem\xe1s, debido a",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol",children:"DHCP"}),", la direcci\xf3n IP de un usuario dado puede ser diferente en diferentes d\xedas, o diferentes usuarios pueden tener la misma direcci\xf3n IP en diferentes momentos."]}),"\n",(0,n.jsxs)(a.p,{children:["Alternativamente, puedes usar algo como",(0,n.jsx)(a.a,{href:"https://analytics.google.com/analytics/web/provision/?authuser=0#/provision",children:"Google Analytics"}),". Pero ten cuidado: cuando usas servicios externos como Google Analytics, est\xe1s renunciando a la privacidad de tus usuarios al dar acceso completo a Google a su actividad en tu sitio que Google (\xbfy otros?) puede mantener para siempre y utilizar para cualquier prop\xf3sito (tal vez no t\xe9cnicamente, pero probablemente en la pr\xe1ctica) . Tus usuarios no han consentido esto y probablemente no son conscientes de que ser\xe1n rastreados en tu sitio web, as\xed como probablemente no est\xe1n conscientes de la medida en que est\xe1n siendo rastreados en casi todos los sitios web. En estos d\xedas, muchos usuarios est\xe1n muy preocupados de que todo lo que hacen en la web est\xe1 siendo supervisado por estas grandes empresas (Google, Facebook, etc.) y por el gobierno, y encontrar esta intrusi\xf3n injustificada en sus vidas (como en el libro, 1984) . Esto ha impulsado a muchos usuarios a instalar productos como",(0,n.jsx)(a.a,{href:"https://www.eff.org/privacybadger/faq",children:"Privacy Badger"}),"para minimizar el seguimiento, para utilizar navegadores alternativos como",(0,n.jsx)(a.a,{href:"https://www.torproject.org/",children:"Tor Browser"}),"  (o apagar el seguimiento en los navegadores tradicionales) , y utilizar motores de b\xfasqueda alternativos como",(0,n.jsx)(a.a,{href:"https://duckduckgo.com/",children:"Duck Duck Go"}),". Si utiliza un servicio como Google Analytics, por lo menos documente su uso y las consecuencias cambiando el<est\xe1ndarPrivacyPolicy titulada tag enERDDAP's\n\\[tomcat\\]/webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml file."]}),"\n",(0,n.jsx)(a.h3,{id:"e-mail-log",children:"E-Mail Log"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"emailLogYEAR-MM-DD.txt"}),(0,n.jsx)(a.br,{}),"\n","ERDDAP\u2122siempre escribe el texto de todos los mensajes de correo electr\xf3nico salientes en el correo electr\xf3nico del d\xeda actual Archivo LogYEAR-MM-DD.txt ",(0,n.jsx)(a.em,{children:"bigParentDirectory"})," /logs ( ",(0,n.jsx)(a.em,{children:"bigParentDirectory"})," se especifica en",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),") ."]}),"\n",(0,n.jsx)(a.li,{children:"Si el servidor no puede enviar mensajes de correo electr\xf3nico, o si ha configuradoERDDAP\u2122no enviar mensajes de correo electr\xf3nico, o si s\xf3lo tiene curiosidad, este archivo es una manera conveniente de ver todos los mensajes de correo electr\xf3nico que se han enviado."}),"\n",(0,n.jsx)(a.li,{children:"Usted puede eliminar los archivos de registro de correo electr\xf3nico de d\xedas anteriores si ya no son necesarios.\n\xa0"}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"daily-report",children:"Daily Report"}),"\n",(0,n.jsxs)(a.p,{children:["El Informe Diario tiene mucha informaci\xf3n \xfatil - toda la informaci\xf3n de suERDDAP's",(0,n.jsx)(a.a,{href:"#status-page",children:"/erddap/status.htmlp\xe1gina"}),"y m\xe1s."]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Es el resumen m\xe1s completo de suERDDAPEs el estado."}),"\n",(0,n.jsx)(a.li,{children:"Entre otras estad\xedsticas, incluye una lista de conjuntos de datos que no cargaron y las excepciones que generaron."}),"\n",(0,n.jsx)(a.li,{children:"Se genera cuando empiezasERDDAP\u2122  (s\xf3lo despu\xe9sERDDAP\u2122termina tratando de cargar todos los conjuntos de datos) y se gener\xf3 poco despu\xe9s de 7 am hora local cada ma\xf1ana."}),"\n",(0,n.jsxs)(a.li,{children:["Cada vez que se genera, se escribe a",(0,n.jsx)(a.a,{href:"#log",children:"ERDDAP's log.txt file"}),"."]}),"\n",(0,n.jsxs)(a.li,{children:["Cuando se genera, se env\xeda por correo electr\xf3nico a<e-mailDailyReportsTo<emailTodo Para confiar (que se especifican en",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),") siempre que haya establecido el sistema de correo electr\xf3nico (en configuraci\xf3n.xml) ."]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"status-page",children:"P\xe1gina"}),"\n",(0,n.jsx)(a.p,{children:"Usted puede ver el estado de suERDDAP\u2122desde cualquier navegador por<baseUrl/erddap/status.html"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Esta p\xe1gina se genera din\xe1micamente, por lo que siempre tiene estad\xedsticas de hasta el momento para suERDDAP."}),"\n",(0,n.jsx)(a.li,{children:"Incluye estad\xedsticas sobre el n\xfamero de solicitudes, uso de memoria, traza de hilos, la tareaTread, etc."}),"\n",(0,n.jsxs)(a.li,{children:["Debido a que la p\xe1gina de estado puede ser vista por cualquiera, no incluye tanta informaci\xf3n como la",(0,n.jsx)(a.a,{href:"#daily-report",children:"Daily Report"}),".\n\xa0"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"addingchanging-datasets",children:"Adding/Changing Datasets"}),"\n",(0,n.jsxs)(a.p,{children:["ERDDAP\u2122generalmente releesdatasets.xmlcada uno ",(0,n.jsx)(a.em,{children:"cargaDatasetsMinMinutes"}),"   (especificado en",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),") . As\xed que puedes hacer cambiosdatasets.xmlen cualquier momento, incluso mientrasERDDAP\u2122est\xe1 corriendo.\nPronto se detectar\xe1 un nuevo conjunto de datos, generalmente dentro ",(0,n.jsx)(a.em,{children:"cargaDatasetsMinMinutes"})," .\nSe recargar\xe1 un conjunto de datos modificado cuando se trate ",(0,n.jsx)(a.em,{children:"reload EveryNMinutes"})," viejo (seg\xfan se especifica endatasets.xml) ."]}),"\n",(0,n.jsx)(a.h4,{id:"flag",children:"Bandera"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:(0,n.jsxs)(a.strong,{children:[(0,n.jsx)(a.a,{href:"#flag",children:"Un archivo de bandera"}),"TellsERDDAP\u2122tratar de cargar un Dataset tan pronto como sea posible"]})}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"ERDDAP\u2122no notar\xe1 ning\xfan cambio en la configuraci\xf3n de un conjunto de datosdatasets.xmlhastaERDDAP\u2122recarga el conjunto de datos.\n\xa0"}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Para decirERDDAP\u2122para volver a cargar un conjunto de datos lo antes posible (antes del conjunto de datos)<reloadEveryNMinutes confianza har\xeda que fuera recargado), poner un archivo en ",(0,n.jsx)(a.em,{children:"bigParentDirectory"})," /flag ( ",(0,n.jsx)(a.em,{children:"bigParentDirectory"})," se especifica en",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),') que tiene el mismo nombre que el conjunto de datosdatasetID.\nEsto diceERDDAP\u2122tratar de volver a cargar ese conjunto de datos lo antes posible.\nLa versi\xf3n antigua del conjunto de datos permanecer\xe1 disponible para los usuarios hasta que la nueva versi\xf3n est\xe9 disponible y se haya intercambiado at\xf3micamente.\nParaEDDGridDeFiles y EDDTable DesdeFiles, el conjunto de datos de recarga buscar\xe1 archivos nuevos o cambiados, leerlos e incorporarlos en el conjunto de datos. As\xed que el tiempo de recarga depende del n\xfamero de archivos nuevos o cambiados.\nSi el conjunto de datos tiene activo="false",ERDDAP\u2122eliminar\xe1 el conjunto de datos.\n\xa0']}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h5,{id:"bad-files-flag",children:"Bad Files Flag"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Una variante del directorio /flag es el directorio /badFilesFlag. (A\xf1adido enERDDAP\u2122v2.12.)",(0,n.jsx)(a.br,{}),"\n","Si pones un archivo en el ",(0,n.jsx)(a.em,{children:"bigParentDirectory"})," /badFiles directorio de fleg con undatasetIDcomo nombre del archivo (el contenido del archivo no importa) , entonces tan prontoERDDAP\u2122ve los malosFiles Archivo de bandera,ERDDAP\u2122Will:"]}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsx)(a.li,{children:"Eliminar el archivo badFilesFlag."}),"\n",(0,n.jsx)(a.li,{children:"Eliminar las fichas.ncarchivo (si hay uno) , que tiene la lista de archivos malos para ese conjunto de datos.\nPara conjuntos de datos comoEDDGridSideBySide que tienen ChildDatasets, esto tambi\xe9n elimina los badFiles.ncarchivo para todos los conjuntos de datos infantiles."}),"\n",(0,n.jsx)(a.li,{children:"Recarga el conjunto de datos lo antes posible."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"As\xed pues, esto causaERDDAP\u2122intentar de nuevo trabajar con los archivos previamente (err\xf3neamente?) marcado como malo.\n\xa0"}),"\n",(0,n.jsx)(a.h5,{id:"hard-flag",children:"Bandera dura"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Otra variante del directorio /flag es el directorio /hardFlag. (A\xf1adido enERDDAP\u2122v1.74.)",(0,n.jsx)(a.br,{}),"\n","Si pones un archivo en ",(0,n.jsx)(a.em,{children:"bigParentDirectory"})," /hardFlag con undatasetIDcomo nombre del archivo (el contenido del archivo no importa) , entonces tan prontoERDDAP\u2122ve el duro Archivo de bandera,ERDDAP\u2122Will:"]}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsx)(a.li,{children:"Eliminar el archivo hardFlag."}),"\n",(0,n.jsx)(a.li,{children:"Eliminar el conjunto de datosERDDAP."}),"\n",(0,n.jsx)(a.li,{children:"Eliminar toda la informaci\xf3n queERDDAP\u2122ha almacenado sobre este conjunto de datos.\nParaEDDGridDeFiles y EDDTable DeFiles subclases, esto elimina la base de datos interna de archivos de datos y su contenido.\nPara conjuntos de datos comoEDDGridSideBySide que tiene ChildDatasets, esto tambi\xe9n elimina la base de datos interna de archivos de datos y su contenido para todos los conjuntos de datos infantiles."}),"\n",(0,n.jsxs)(a.li,{children:["Recarga el conjunto de datos.\nParaEDDGridDeFiles y EDDTable De las subclases de Files, esto causaERDDAP\u2122para releer ",(0,n.jsx)(a.strong,{children:"Todos"})," de los archivos de datos. As\xed, el tiempo de recarga depende del n\xfamero total de archivos de datos en el conjunto de datos. Debido a que el conjunto de datos fue eliminadoERDDAP\u2122cuando se not\xf3 el HardFlag, el conjunto de datos no estar\xe1 disponible hasta que el conjunto de datos termine de recargar. S\xe9 paciente. Mira en el",(0,n.jsx)(a.a,{href:"#log",children:"log.txt"}),"archivo si quieres ver lo que est\xe1 pasando."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"La variante hardFlag elimina la informaci\xf3n almacenada del conjunto de datos incluso si el conjunto de datos no est\xe1 cargado actualmenteERDDAP."}),"\n",(0,n.jsx)(a.p,{children:"Duro Las banderas son muy \xfatiles cuando haces algo que causa un cambio en c\xf3moERDDAP\u2122lee e interpreta los datos fuente, por ejemplo, cuando instala una nueva versi\xf3n deERDDAP\u2122o cuando usted ha hecho un cambio a la definici\xf3n de un conjunto de datos endatasets.xml"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Los contenidos de la bandera, los archivos badFilesFlag y hardFlag son irrelevantes.ERDDAP\u2122s\xf3lo mira el nombre del archivo para conseguir eldatasetID.\n\xa0"}),"\n",(0,n.jsx)(a.li,{children:"Entre las principales recargas de conjunto de datos,ERDDAP\u2122busca archivos de bandera, badFilesFlag y hardFlag.\n\xa0"}),"\n",(0,n.jsxs)(a.li,{children:["Tenga en cuenta que cuando se recarga un conjunto de datos, todos los archivos en el ",(0,n.jsx)(a.em,{children:"bigParentDirectory"})," /",(0,n.jsx)(a.a,{href:"#cached-responses",children:"cache"}),"/ ",(0,n.jsx)(a.em,{children:"datasetID"})," directorio se eliminan. Esto incluye.ncy archivos de imagen que son normalmente cach\xe9 por ~15 minutos.\n\xa0"]}),"\n",(0,n.jsxs)(a.li,{children:["Tenga en cuenta que si el xml del conjunto de datos incluye",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#active",children:'activo="falso"'}),", una bandera har\xe1 que el conjunto de datos sea inactivo (si es activo) , y en cualquier caso, no recargado.\n\xa0"]}),"\n",(0,n.jsx)(a.li,{children:"SiempreERDDAP\u2122ejecuta LoadDatasets para hacer una recarga importante (la recarga de tiempo controlada por<cargaDatasetsMinMinutes conf\xeda) o una recarga menor (como resultado de una bandera externa o interna) ,ERDDAP\u2122le\xeddo todo<descomprimidoCacheMaxGB confianza,<descomprimidoCacheMaxMinutesOld prenda,<usuario,<requestBlacklist confiar,<lentoDownTroubleMillis confianza, y<suscripci\xf3nEmailBlacklist\xae etiquetas y conmuta a la nueva configuraci\xf3n. As\xed que puedes usar una bandera como forma de conseguirERDDAP\u2122para notar cambios en esas etiquetas lo antes posible."}),"\n"]}),"\n",(0,n.jsx)(a.h5,{id:"set-dataset-flag",children:"Set Dataset Flag"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"ERDDAP\u2122tiene un servicio web para que las banderas se puedan configurar mediante URLs."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Por ejemplo,\n",(0,n.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/setDatasetFlag.txt?datasetID=rPmelTao&flagKey=123456789",children:"https://coastwatch.pfeg.noaa.gov/erddap/setDatasetFlag.txt?datasetID=rPmelTao&flagKey=123456789"}),(0,n.jsx)(a.br,{}),"\n","(que es una bandera falsa Clave) establecer\xe1 una bandera para el conjunto de datos rPmelTao."]}),"\n",(0,n.jsx)(a.li,{children:"Hay una bandera diferenteKey para cadadatasetID."}),"\n",(0,n.jsxs)(a.li,{children:["Los administradores pueden ver una lista de URL de la bandera para todos los conjuntos de datos mirando al fondo de sus",(0,n.jsx)(a.a,{href:"#daily-report",children:"Daily Report"}),"correo electr\xf3nico."]}),"\n",(0,n.jsx)(a.li,{children:"Los administradores deben tratar estas URL como confidenciales, ya que dan a alguien el derecho a restablecer un conjunto de datos a voluntad."}),"\n",(0,n.jsxs)(a.li,{children:["Si crees que las banderasKeys han ca\xeddo en manos de alguien que las est\xe1 abusando, puedes cambiar<flagKeyKey confiar en",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),"y reiniciarERDDAPfuerzaERDDAP\u2122para generar y utilizar un conjunto diferente de flagKeys."]}),"\n",(0,n.jsx)(a.li,{children:"Si cambias<flagKeyKey confiar, eliminar todas las suscripciones antiguas (ver la lista en su informe diario) y recuerda enviar las nuevas URLs a las personas que quieres tenerlas."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"El sistema de bandera puede servir de base para un mecanismo m\xe1s eficiente para decirERDDAP\u2122cu\xe1ndo volver a cargar un conjunto de datos. Por ejemplo, podr\xeda establecer un conjunto de datos<reloadEveryNMinutes conf\xeda a un gran n\xfamero (por ejemplo, 10080 = 1 semana) . Entonces, cuando sepas que el conjunto de datos ha cambiado (quiz\xe1s porque a\xf1adiste un archivo al directorio de datos del Dataset) , establecer una bandera para que el conjunto de datos se vuelva a cargar lo antes posible. Las banderas suelen verse r\xe1pidamente. Pero si el hilo LoadDatasets ya est\xe1 ocupado, puede ser un tiempo antes de que est\xe9 disponible para actuar en la bandera. Pero el sistema de bandera es mucho m\xe1s receptivo y mucho m\xe1s eficiente que establecer<reloadEveryNMinutes confiar a un peque\xf1o n\xfamero."}),"\n",(0,n.jsx)(a.h4,{id:"removing-datasets",children:"Removing Datasets"}),"\n",(0,n.jsx)(a.p,{children:"Si un conjunto de datos est\xe1 activoERDDAP\u2122y quieres desactivarlo temporalmente o permanentemente:"}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["Indatasets.xmlpara el conjunto de datos, conjunto",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#active",children:'activo="falso"'}),"en la etiqueta Dataset."]}),"\n",(0,n.jsxs)(a.li,{children:["Espera.ERDDAP\u2122para eliminar el conjunto de datos durante la siguiente recarga o",(0,n.jsx)(a.a,{href:"#flag",children:"establecer una bandera"}),"para que el conjunto de datos digaERDDAP\u2122para notar este cambio lo antes posible. Cuando haces esto,ERDDAP\u2122no arroja ninguna informaci\xf3n que pueda haber almacenado sobre el conjunto de datos y ciertamente no hace nada a los datos reales."]}),"\n",(0,n.jsx)(a.li,{children:'Entonces usted puede dejar el activo="false" dataset endatasets.xmlo eliminarlo.\n\xa0'}),"\n"]}),"\n",(0,n.jsx)(a.h4,{id:"when-are-datasets-reloaded",children:"\xbfCu\xe1ndo se cargan los Datasets?"}),"\n",(0,n.jsx)(a.p,{children:"Un hilo llamado RunLoadDatasets es el hilo maestro que controla cuando se recargan los conjuntos de datos. RunLoad Datasets loops para siempre:"}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"RunLoadDatasets se\xf1ala el momento actual."}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:['RunLoadDatasets inicia un hilo LoadDatasets para hacer un "MajorLoad". Usted puede ver informaci\xf3n sobre el actual/previous majorLoad en la parte superior de suERDDAP\'s\n',(0,n.jsx)(a.a,{href:"#status-page",children:"/erddap/status.htmlp\xe1gina"}),"  (por ejemplo,",(0,n.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/status.html",children:"estado p\xe1gina ejemplo"}),") ."]}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsx)(a.li,{children:"CargaDatasets hace una copia dedatasets.xml."}),"\n",(0,n.jsxs)(a.li,{children:["CargaDatasets lee a trav\xe9s de la copia dedatasets.xmly, para cada conjunto de datos, ver si el conjunto de datos necesita ser (re) cargado o eliminado.","\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Si",(0,n.jsx)(a.a,{href:"#flag",children:"bandera"}),'archivo existe para este conjunto de datos, el archivo se elimina y el conjunto de datos se elimina si activo="false" o (re) cargado si activo="verdad" (independientemente de la edad del conjunto de datos) .']}),"\n",(0,n.jsx)(a.li,{children:'Si el conjunto de datos de la dataset.xml tiene activo="false" y el conjunto de datos se carga actualmente (activo) , se descarga (Retirada) .'}),"\n",(0,n.jsx)(a.li,{children:'Si el conjunto de datos tiene activo="verdad" y el conjunto de datos ya no est\xe1 cargado, se carga.'}),"\n",(0,n.jsx)(a.li,{children:'Si el conjunto de datos tiene activo="true" y el conjunto de datos ya est\xe1 cargado, el conjunto de datos se recarga si la edad del conjunto de datos (tiempo desde la \xfaltima carga) es m\xe1s grande que su<reload EveryNMinutes (por defecto = 10080 minutos) , de lo contrario, el conjunto de datos se deja solo.'}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.li,{children:"CargaLos Datasets terminan."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["El hilo RunLoadDatasets espera que el hilo LoadDatasets termine. Si CargarDatasets lleva m\xe1s tiempo que cargarDatasets MinMinutes (como se especifica en setup.xml) , RunLoadDatasets interrumpe el hilo LoadDatasets. Idealmente, LoadDatasets nota la interrupci\xf3n y acabados. Pero si no nota la interrupci\xf3n en un minuto, RunLoadDatasets llama cargaDatasets. Para () , que es indeseable.\n3. Mientras que el tiempo desde el comienzo de la \xfaltima mayorCarga es menos que cargaDatasets MinMinutes (como se especifica en setup.xml, por ejemplo, 15 minutos) , RunLoadDatasets repetidamente busca",(0,n.jsx)(a.a,{href:"#flag",children:"bandera"}),"archivos en ",(0,n.jsx)(a.em,{children:"bigParentDirectory"}),' / directorio plano. Si uno o m\xe1s archivos de bandera se encuentran, se eliminan, y RunLoadDatasets inicia un hilo de cargaDatasets para hacer un "minorLoad" (majorLoad=false) . No se puede ver informaci\xf3n de menorCarga en suERDDAP\'s',(0,n.jsx)(a.a,{href:"#status-page",children:"/erddap/status.htmlp\xe1gina"}),"."]}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsx)(a.li,{children:"CargaDatasets hace una copia dedatasets.xml."}),"\n",(0,n.jsxs)(a.li,{children:["CargaDatasets lee a trav\xe9s de la copia dedatasets.xmly, para cada conjunto de datos para el cual hab\xeda un archivo de bandera:","\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:'Si el conjunto de datos de la dataset.xml tiene activo="false" y el conjunto de datos se carga actualmente (activo) , se descarga (Retirada) .'}),"\n",(0,n.jsx)(a.li,{children:'Si el conjunto de datos tiene activo="true", el conjunto de datos es (re) cargado, independientemente de su edad. Se ignoran los conjuntos de datos no alineados.'}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.li,{children:"CargaLos Datasets terminan."}),"\n",(0,n.jsx)(a.li,{children:"RunLoad Datasets vuelve al paso 1."}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Notas:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:'Startup\nCuando vuelvasERDDAP\u2122, cada conjunto de datos con activo="true" se carga.'}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Cache\nCuando un conjunto de datos es (re) cargado, su cach\xe9 (incluyendo archivos de respuesta de datos y/o archivos de imagen) est\xe1 vac\xeda."}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Lotes de conjuntos de datos\nSi usted tiene un mont\xf3n de datasets y/o uno o m\xe1s datasets son lentos a (re) carga, un hilo LoadDatasets puede tardar mucho en terminar su trabajo, quiz\xe1s incluso m\xe1s que cargarDatasets MinMinutes."}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:'Una cargaDatasets Thread\nNunca hay m\xe1s de un hilo de LoadDatasets corriendo a la vez. Si una bandera se establece cuando LoadDatasets ya est\xe1 corriendo, la bandera probablemente no se notar\xe1 o actuar\xe1 hasta que el hilo de LoadDatasets termine funcionando. Podr\xedas decir: "Eso es est\xfapido. \xbfPor qu\xe9 no empiezas un mont\xf3n de nuevos hilos para cargar conjuntos de datos?" Pero si tiene un mont\xf3n de conjuntos de datos que obtienen datos de un servidor remoto, incluso un hilo de LoadDatasets pondr\xe1 estr\xe9s sustancial en el servidor remoto. Lo mismo es cierto si tienes muchos conjuntos de datos que obtienen datos de archivos en un RAID. Hay retornos que disminuyen r\xe1pidamente de tener m\xe1s de un hilo LoadDatasets.'}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Bandera = ASAP\nEstablecer una bandera indica que el conjunto de datos debe ser (re) cargado lo antes posible, no necesariamente de inmediato. Si no hay hilo de cargaDatasets se est\xe1 ejecutando actualmente, el conjunto de datos comenzar\xe1 a ser recargado dentro de unos segundos. Pero si un hilo de LoadDatasets est\xe1 funcionando actualmente, el conjunto de datos probablemente no ser\xe1 recargado hasta despu\xe9s de que el hilo de LoadDatasets est\xe9 terminado."}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Archivo de la bandera eliminado\nEn general, si pone un archivo de bandera en el ",(0,n.jsx)(a.em,{children:"bigParentDirectory"})," /erddap/flag directorio (visitando la bandera del conjunto de datos Url o poner un archivo real all\xed) , el conjunto de datos se recargar\xe1 muy pronto despu\xe9s de que se elimina el archivo de la bandera."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Bandera contra carga peque\xf1a EveryNMinutes\nSi usted tiene alguna forma externa de saber cu\xe1ndo un conjunto de datos necesita ser recargado y si es conveniente para usted, la mejor manera de asegurarse de que un conjunto de datos siempre est\xe1 actualizado es establecer su recarga Cada NMinutes a un gran n\xfamero (\xbf10080?) y establecer una bandera (\xbfA trav\xe9s de un gui\xf3n?) cuando necesite ser recargado. Ese es el sistemaEDDGridFromErddap y EDDTableDeErddap use recibe mensajes que el conjunto de datos necesita ser recargado."}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Mira en log.txt\nMuchas de las informaciones pertinentes se escriben a ",(0,n.jsx)(a.em,{children:"bigParentDirectory"})," /logs/log.txt file. Si las cosas no funcionan como usted espera, mirando el registro. txt te permite diagnosticar el problema al averiguar exactamente qu\xe9ERDDAP\u2122S\xed."]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:'Busque "majorLoad=true" para el inicio de los principales hilos de LoadDataset.'}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:'Busca "majorLoad=false" para el inicio de peque\xf1os hilos de cargaDatasets.'}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Buscar un conjunto de datos dadodatasetIDpara informaci\xf3n acerca de que (re) cargado o preguntado."}),"\n",(0,n.jsx)(a.p,{children:"\xa0"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h4,{id:"cached-responses",children:"Respuestas en espera"}),"\n",(0,n.jsxs)(a.p,{children:["En general,ERDDAP\u2122no cache (tienda) respuestas a solicitudes de usuarios. La justificaci\xf3n era que la mayor\xeda de las solicitudes ser\xedan ligeramente diferentes para que el cach\xe9 no fuera muy eficaz. Las mayores excepciones son solicitudes de archivos de imagen (que est\xe1n cach\xe9 desde los navegadores y programas comoGoogle Eartha menudo im\xe1genes de recuperaci\xf3n) y solicitudes.ncarchivos (porque no pueden ser creados en el campo) .ERDDAP\u2122almacena los archivos cach\xe9 de cada conjunto de datos en un directorio diferente: ",(0,n.jsx)(a.em,{children:"bigParentDirectory"})," /cache/ ",(0,n.jsx)(a.em,{children:"datasetID"})," ya que un solo directorio de cach\xe9 puede tener un gran n\xfamero de archivos que pueden llegar a ser lentos para acceder.\nLos archivos se eliminan del cach\xe9 por una de las tres razones:"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Todos los archivos en este cach\xe9 se eliminan cuandoERDDAP\u2122est\xe1 descansado."}),"\n",(0,n.jsxs)(a.li,{children:["Peri\xf3dicamente, cualquier archivo m\xe1s que<cacheMinutes conf\xeda old (seg\xfan se especifica en",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),') ser\xe1 eliminado. Eliminaci\xf3n de archivos en el cach\xe9 basado en la edad (no menos importante) asegura que los archivos no se quedar\xe1n en el cach\xe9 mucho tiempo. Aunque podr\xeda parecer que una petici\xf3n dada siempre debe devolver la misma respuesta, eso no es verdad. Por ejemplo, atabledapsolicitud que incluye " ',(0,n.jsx)(a.em,{children:"algunos Hora"})," cambiar\xe1 si llegan nuevos datos para el conjunto de datos. Y una solicitud de cuadr\xedcula que incluye\\[\xfaltimo\\]para la dimensi\xf3n del tiempo cambiar\xe1 si llegan nuevos datos para el conjunto de datos."]}),"\n",(0,n.jsx)(a.li,{children:"Las im\xe1genes que muestran las condiciones de error son cach\xe9, pero s\xf3lo por unos minutos (Es una situaci\xf3n dif\xedcil) ."}),"\n",(0,n.jsx)(a.li,{children:'Cada vez que se recarga un conjunto de datos, se eliminan todos los archivos en el cach\xe9 de ese conjunto de datos. Porque las solicitudes pueden ser para"last"\xedndice en un conjunto de datos redondeado, los archivos en el cach\xe9 pueden ser inv\xe1lidos cuando se recarga un conjunto de datos.\n\xa0'}),"\n"]}),"\n",(0,n.jsx)(a.h4,{id:"stored-dataset-information",children:"Datos almacenados"}),"\n",(0,n.jsx)(a.p,{children:"Para todo tipo de conjuntos de datos,ERDDAP\u2122recopila mucha informaci\xf3n cuando se carga un conjunto de datos y lo mantiene en memoria. Esto permiteERDDAP\u2122responder muy r\xe1pidamente a b\xfasquedas, solicitudes de listas de conjuntos de datos y solicitudes de informaci\xf3n sobre un conjunto de datos."}),"\n",(0,n.jsxs)(a.p,{children:["Para algunos tipos de conjuntos de datos (notablementeEDDGridCopiado, EDDTableCopy,EDDGridDesde ",(0,n.jsx)(a.em,{children:"Xxx"})," Archivos, y EDDTableDesde ",(0,n.jsx)(a.em,{children:"Xxx"})," Archivos) ,ERDDAP\u2122almacena en el disco cierta informaci\xf3n sobre el conjunto de datos que se reutiliza cuando se recarga el conjunto de datos. Esto acelera enormemente el proceso de recarga."]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Algunos de los archivos de informaci\xf3n de conjunto de datos son legibles por humanos.jsonarchivos y se almacenan en ",(0,n.jsx)(a.em,{children:"bigParentDirectory"})," /dataset/ ",(0,n.jsx)(a.em,{children:"\xfaltimo2CartasOfDatasetID/datasetID"})," ."]}),"\n",(0,n.jsx)(a.li,{children:"ERDDAP\u2122s\xf3lo elimina estos archivos en situaciones inusuales, por ejemplo, si agrega o elimina una variable del conjunto de datosdatasets.xmlIdiota."}),"\n",(0,n.jsxs)(a.li,{children:["La mayor\xeda de los cambios en un conjunto de datosdatasets.xmltonta (por ejemplo, cambiar un atributo global o un atributo variable) No hace falta que elimine estos archivos. Una recarga regular de conjunto de datos manejar\xe1 estos tipos de cambios. Puedes decirERDDAP\u2122para volver a cargar un conjunto de datos ASAP estableciendo un",(0,n.jsx)(a.a,{href:"#flag",children:"bandera"}),"para el conjunto de datos."]}),"\n",(0,n.jsx)(a.li,{children:"Del mismo modo, la adici\xf3n, eliminaci\xf3n o cambio de archivos de datos se manejar\xe1 cuandoERDDAP\u2122recarga un conjunto de datos. Pero...ERDDAP\u2122notar\xe1 este tipo de cambio pronto y autom\xe1ticamente si el conjunto de datos est\xe1 utilizando el [<actualizar EveryNMillis confiar] (/docs/servidor-admin/datasets) sistema."}),"\n",(0,n.jsx)(a.li,{children:"S\xf3lo rara vez debe ser necesario para que elimine estos archivos. La situaci\xf3n m\xe1s com\xfan en la que se necesita fuerzaERDDAP\u2122para eliminar la informaci\xf3n almacenada (porque est\xe1 fuera de la fecha / incorrecta y no ser\xe1 autom\xe1ticamente fijado porERDDAP) es cuando hace cambios en el conjunto de datosdatasets.xmlque afecta a c\xf3moERDDAP\u2122interpreta datos en los archivos de datos fuente, por ejemplo, cambiando la cadena de formato de la variable de tiempo."}),"\n",(0,n.jsxs)(a.li,{children:["Para eliminar los archivos de informaci\xf3n almacenados de un conjunto de datosERDDAP\u2122que est\xe1 corriendo (incluso si el conjunto de datos no est\xe1 cargado actualmente) , establecer un",(0,n.jsx)(a.a,{href:"#hard-flag",children:"duro Bandera"}),"para ese conjunto de datos. Recuerde que si un conjunto de datos es una agregaci\xf3n de un gran n\xfamero de archivos, la recarga del conjunto de datos puede tomar tiempo considerable."]}),"\n",(0,n.jsxs)(a.li,{children:["Para borrar los archivos de informaci\xf3n almacenados de un datasetERDDAP\u2122no corre, corre",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#dasdds",children:"DasDds"}),"para ese conjunto de datos (que es m\xe1s f\xe1cil que calcular en qu\xe9 directorio se encuentra la informaci\xf3n y borrar los archivos a mano) . Recuerde que si un conjunto de datos es una agregaci\xf3n de un gran n\xfamero de archivos, la recarga del conjunto de datos puede tomar tiempo considerable.\n\xa0"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"memory-status",children:"Estado de la memoria"}),"\n",(0,n.jsx)(a.p,{children:"ERDDAP\u2122No deber\xeda chocar ni congelarse. Si lo hace, una de las causas m\xe1s probables es la memoria insuficiente. Puede monitorear el uso de la memoria mirando el estado.html p\xe1gina web, que incluye una l\xednea como"}),"\n",(0,n.jsx)(a.p,{children:"0 llamadas gc, 0 solicitudes de cobertizo y 0 peligrosas MemoryEmails desde el \xfaltimo gran LoadDatasets"}),"\n",(0,n.jsxs)(a.p,{children:["(que son eventos progresivamente m\xe1s serios)",(0,n.jsx)(a.br,{}),"\n","y MB inUse y gc Calls columnas en el cuadro de estad\xedsticas. Puedes decir que la memoria te ha extendidoERDDAP\u2122es viendo estos n\xfameros. Los n\xfameros m\xe1s altos indican m\xe1s estr\xe9s."]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["MB inUse debe ser siempre menos de la mitad del",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#memory",children:"Ajuste de memoria \\-Xmx"}),". Los n\xfameros m\xe1s grandes son una mala se\xf1al."]}),"\n",(0,n.jsx)(a.li,{children:"gc llamadas indica el n\xfamero de vecesERDDAP\u2122llam\xf3 al coleccionista de basura para tratar de aliviar el alto uso de la memoria. Si esto es un signo de serios problemas."}),"\n",(0,n.jsx)(a.li,{children:"shed indica el n\xfamero de solicitudes entrantes que fueron canceladas (con HTTP error n\xfamero 503, servicio no disponible) porque el uso de memoria ya era demasiado alto. Lo ideal es que no se detengan solicitudes. Est\xe1 bien si unas cuantas solicitudes son derramadas, pero una se\xf1al de serios problemas si muchos son derramados."}),"\n",(0,n.jsx)(a.li,{children:"peligroso MemoryEmails - Si el uso de memoria se vuelve peligrosamente alto,ERDDAP\u2122env\xeda un correo electr\xf3nico a las direcciones de correo electr\xf3nico enumeradas en<emailTodo Para confiar (en configuraci\xf3n.xml) con una lista de las solicitudes de usuario activas. Como dice el email, por favor env\xede estos emails a Chris. John en Noaa. gov para que podamos utilizar la informaci\xf3n para mejorar versiones futurasERDDAP.\n\xa0"}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Si tuERDDAP\u2122es resistente a la memoria:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Considere la posibilidad de asignar m\xe1s memoria de su servidor aERDDAP\u2122cambiando el Tomcat",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#memory",children:"Ajuste de memoria \u2010Xmx"}),"."]}),"\n",(0,n.jsx)(a.li,{children:"Si ya has asignado tanto recuerdo como puedasERDDAP\u2122via -Xmx, considere comprar m\xe1s memoria para su servidor. La memoria es barata (comparado con el precio de un nuevo servidor o su tiempo) ! Entonces aumenta -Xmx."}),"\n",(0,n.jsx)(a.li,{children:"Indatasets.xml, set<nGridThreads confiar a 1, set<nTableThreads confiar a 1, y establecer<ipAddressMaxRequestsActive confiar a 1."}),"\n",(0,n.jsx)(a.li,{children:"Mira las solicitudes en log.txt para ineficiente o problem\xe1tico (pero leg\xedtimo) solicitudes. Agregar sus direcciones IP para<requestBlacklist dentrodatasets.xml. El mensaje de error de la lista negra incluyeERDDAP\u2122direcci\xf3n de correo electr\xf3nico del administrador con la esperanza de que esos usuarios se pongan en contacto con usted para que pueda trabajar con ellos para utilizarERDDAP\u2122m\xe1s eficientemente. Es bueno mantener una lista de direcciones IP que usted blacklist y por qu\xe9, para que usted pueda trabajar con los usuarios si se ponen en contacto con usted."}),"\n",(0,n.jsxs)(a.li,{children:["Mira las solicitudes en log.txt para solicitudes de usuarios maliciosos. Agregar sus direcciones IP para<requestBlacklist dentrodatasets.xml. Si las solicitudes similares vienen de m\xfaltiples direcciones IP similares, puede utilizar algunos servicios que-es (por ejemplo,",(0,n.jsx)(a.a,{href:"https://www.whois.com/whois/",children:" https://www.whois.com/whois/ "}),") para conocer la gama de direcciones IP de esa fuente y enlistar toda la gama. Ver\xe1s...<requestBlacklist titulada documentaci\xf3n] (/docs/servidor-admin/datasets#requestblacklist) .\n\xa0"]}),"\n"]}),"\n",(0,n.jsx)(a.h4,{id:"outofmemoryerror",children:"OutOfMemoryError"}),"\n",(0,n.jsxs)(a.p,{children:["Cuando lo arreglesERDDAP\u2122, especifica la cantidad m\xe1xima de memoria queJavapuede utilizar a trav\xe9s de",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#memory",children:"Ajuste \\-Xmx"}),". SiERDDAP\u2122necesita m\xe1s memoria que eso, lanzar\xe1 una java. Lang. Fuera de MemoryError.ERDDAP\u2122hace un mont\xf3n de comprobaci\xf3n para permitir que manejar ese error con gracia (por ejemplo, una petici\xf3n problem\xe1tica fallar\xe1, pero el sistema mantiene su integridad) . Pero a veces, el error da\xf1a la integridad del sistema y tienes que reiniciarERDDAP. Con suerte, eso es raro."]}),"\n",(0,n.jsxs)(a.p,{children:["La soluci\xf3n r\xe1pida y f\xe1cil para un OutOfMemoryError es aumentar el",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#memory",children:"Ajuste \\-Xmx"}),", pero nunca debe aumentar la configuraci\xf3n -Xmx a m\xe1s del 80% de la memoria f\xedsica en el servidor (por ejemplo, para un servidor de 10 GB, no establezca -Xmx por encima de 8 GB) . La memoria es relativamente barata, por lo que puede ser una buena opci\xf3n para aumentar la memoria en el servidor. Pero si usted ha maxed fuera la memoria en el servidor o por otras razones no puede aumentarla, usted necesita tratar m\xe1s directamente con la causa de OutOfMemoryError."]}),"\n",(0,n.jsxs)(a.p,{children:["Si miras en el",(0,n.jsx)(a.a,{href:"#log",children:"log.txt"}),"archivo para ver qu\xe9ERDDAP\u2122estaba haciendo cuando el error surgi\xf3, generalmente se puede obtener una buena pista de la causa del OutOfMemoryError. Hay muchas causas posibles, incluyendo:"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Un \xfanico archivo de datos enorme puede causar el OutOfMemoryError, en particular, enormes archivos de datos ASCII. Si este es el problema, debe ser obvio porqueERDDAP\u2122no se cargar\xe1 el conjunto de datos (para conjuntos de datos tabulares) o leer datos de ese archivo (para conjuntos de datos redondeados) . La soluci\xf3n, si es factible, es dividir el archivo en m\xfaltiples archivos. Idealmente, puede dividir el archivo en trozos l\xf3gicos. Por ejemplo, si el archivo tiene 20 meses de datos, dividirlo en 20 archivos, cada uno con 1 mes de datos. Pero hay ventajas incluso si el archivo principal se divide arbitrariamente. Este enfoque tiene m\xfaltiples beneficios: a) Esto reducir\xe1 la memoria necesaria para leer los archivos de datos a 1/20, porque s\xf3lo un archivo se lee en un momento. b) A menudo,ERDDAP\u2122puede tratar con solicitudes mucho m\xe1s r\xe1pido porque s\xf3lo tiene que buscar en uno o algunos archivos para encontrar los datos para una solicitud dada. c) Si la recopilaci\xf3n de datos est\xe1 en curso, entonces los 20 archivos existentes pueden permanecer sin cambios, y s\xf3lo necesita modificar uno, peque\xf1o, nuevo archivo para a\xf1adir el valor de los datos del pr\xf3ximo mes al conjunto de datos."}),"\n",(0,n.jsx)(a.li,{children:"Una sola petici\xf3n enorme puede causar el OutOfMemoryError. En particular, algunos de losorderByopciones tienen toda la respuesta en memoria por segundo (por ejemplo, para hacer una especie) . Si la respuesta es enorme, puede conducir al error. Siempre habr\xe1 algunas peticiones que son, de varias maneras, demasiado grandes. Usted puede resolver el problema aumentando el ajuste -Xmx. O, puede animar al usuario a hacer una serie de solicitudes m\xe1s peque\xf1as."}),"\n",(0,n.jsxs)(a.li,{children:["Es poco probable que un gran n\xfamero de archivos causar\xeda el \xedndice de archivo queERDDAP\u2122crea ser tan grande que ese archivo causar\xeda el error. Si asumimos que cada archivo utiliza 300 bytes, entonces 1.000.000 archivos s\xf3lo tomar\xedan 300MB. Pero los conjuntos de datos con un gran n\xfamero de archivos de datos causan otros problemasERDDAP, notablemente, tarda mucho tiempoERDDAP\u2122abrir todos esos archivos de datos al responder a una solicitud de datos del usuario. En este caso, la soluci\xf3n puede ser agregar los archivos para que haya menos archivos de datos. Para conjuntos de datos tabulares, es a menudo genial si guarda los datos del conjunto de datos actual en",(0,n.jsx)(a.a,{href:"https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries",children:"CF Geometr\xedas de muestreo discretos (DSG) "}),"Archivos de datos de Array contiguos (solicitud.ncarchivos CF desdeERDDAP) y luego hacer un nuevo conjunto de datos. Estos archivos se pueden manejar de manera muy eficiente conERDDAP's",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablefromnccffiles",children:"EDDTableDesdeNcCFFiles"}),". Si se organizan l\xf3gicamente (cada uno con datos para un trozo de espacio y tiempo) ,ERDDAP\u2122puede extraer datos de ellos muy r\xe1pidamente."]}),"\n",(0,n.jsx)(a.li,{children:"Para conjuntos de datos tabulares que utilizan el [<subsetVariables> (/docs/servidor-admin/datasets#subsetvariables) atributo,ERDDAP\u2122hace una tabla de combinaciones \xfanicas de los valores de esas variables. Para conjuntos de datos enormes o cuando<subsetVariables\u221a Es mal configurado, esta tabla puede ser lo suficientemente grande para causar OutOfMemoryErrors. La soluci\xf3n es eliminar variables de la lista<subsetVariables> para el cual hay un gran n\xfamero de valores, o eliminar variables seg\xfan sea necesario hasta que el tama\xf1o de esa tabla sea razonable. Las partes deERDDAP\u2122que usan elsubsetVariablessistema no funciona bien (por ejemplo, las p\xe1ginas web cargan muy lentamente) cuando hay m\xe1s de 100.000 filas en esa mesa."}),"\n",(0,n.jsx)(a.li,{children:"Siempre es posible que varias solicitudes grandes simult\xe1neas (en un muy ocupadoERDDAP) puede combinarse para causar problemas de memoria. Por ejemplo, 8 solicitudes, cada una utilizando 1GB cada una, causar\xedan problemas para una configuraci\xf3n -Xmx=8GB. Pero es raro que cada solicitud est\xe9 al m\xe1ximo de su uso de memoria simult\xe1neamente. Y usted podr\xeda f\xe1cilmente ver que suERDDAP\u2122est\xe1 muy ocupado con grandes peticiones. Pero es posible. Es dif\xedcil lidiar con este problema aparte de aumentar la configuraci\xf3n -Xmx."}),"\n",(0,n.jsxs)(a.li,{children:["Hay otros escenarios. Si miras el",(0,n.jsx)(a.a,{href:"#log",children:"log.txt"}),"archivo para ver qu\xe9ERDDAP\u2122estaba haciendo cuando el error surgi\xf3, generalmente se puede obtener una buena pista de la causa. En la mayor\xeda de los casos, hay una manera de minimizar ese problema (v\xe9ase supra) , pero a veces solo necesitas m\xe1s memoria y un ajuste superior -Xmx.\n\xa0"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"too-many-open-files",children:"Demasiados archivos abiertos"}),"\n",(0,n.jsx)(a.p,{children:'Empezando conERDDAP\u2122v2.12,ERDDAP\u2122tiene un sistema para monitorizar el n\xfamero de archivos abiertos (que incluye tomas y otras cosas, no s\xf3lo archivos) en Tomcat en computadoras Linux. Si algunos archivos err\xf3neamente nunca se cierran (una "funci\xf3n de recursos") , el n\xfamero de archivos abiertos puede aumentar hasta que supere el m\xe1ximo permitido por el sistema operativo y muchas cosas realmente malas suceden. As\xed que ahora, en las computadoras Linux (porque la informaci\xf3n no est\xe1 disponible para Windows) :'}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:'Hay una columna "Open Files" en la extrema derecha del estado.html p\xe1gina web que muestra el porcentaje de archivos m\xe1ximo abierto. En Windows, s\xf3lo muestra "\xbf?".'}),"\n",(0,n.jsxs)(a.li,{children:["CuandoERDDAP\u2122genera esa informaci\xf3n al final de cada recarga de conjunto de datos principales, se imprimir\xe1 al registro. archivo txt:\nopenFileCount= ",(0,n.jsx)(a.em,{children:"corriente"})," de max= ",(0,n.jsx)(a.em,{children:"max"})," %= ",(0,n.jsx)(a.em,{children:"porcentaje"})]}),"\n",(0,n.jsx)(a.li,{children:"Si el porcentaje es \xb150%, se env\xeda un correo electr\xf3nico alERDDAP\u2122administrador y el correo electr\xf3nico Todo A direcciones de correo electr\xf3nico."}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Si el porcentaje es 100%,ERDDAP\u2122est\xe1 en terribles problemas. No dejes que esto suceda.\nSi el porcentaje es \u221a75%,ERDDAP\u2122est\xe1 cerca de problemas terribles. No est\xe1 bien.\nSi el porcentaje es \u043d\u043550%, es muy posible que un pico har\xe1 que el porcentaje llegue a 100.\nSi el porcentaje es alguna vez, debes:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Aumente el n\xfamero m\xe1ximo de archivos abiertos permitidos por cualquiera de:","\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Hacer estos cambios cada vez antes de empezar a tomcat (ponerlos en el archivo Tomcat startup.sh?) :\nulimit -Hn 16384\nulimit -Sn 16384"}),"\n",(0,n.jsx)(a.li,{children:'O haciendo un cambio permanente editando (como ra\xedz) /etc/security/limits.conf y a\xf1adir las l\xedneas:\ntomcat soft nofile 16384\ntomcat hard nofile 16384\nEsos comandos suponen que el usuario que ejecuta Tomcat se llama "tomcat".\nEn muchas variantes Linux, debe reiniciar el servidor para aplicar esos cambios. Para ambas opciones, el "16384" arriba es un ejemplo. Eliges el n\xfamero que crees que es mejor.'}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.li,{children:"RestartERDDAP. El sistema operativo cerrar\xe1 cualquier archivo abierto.\n\xa0"}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"failed-requests",children:"Solicitudes fallidas"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Actividad inusual: \u221a25% de las solicitudes fall\xf3"}),(0,n.jsx)(a.br,{}),"\n",'Como parte de cada reloadDatasets, que suele ser cada 15 minutos,ERDDAP\u2122examina el porcentaje de solicitudes que fall\xf3 desde la \xfaltima recargaDatasets. Si es \u221a25%,ERDDAP\u2122env\xeda un correo electr\xf3nico alERDDAP\u2122administrador con el tema "Actividad inusual: \u221a25% de solicitudes fall\xf3". Ese email incluye un relato cerca del fondo titulado "Direcci\xf3n IP de Requester" (Failed)   (desde el \xfaltimo Mayor LoadDatasets) ". Busca eso. Le dice la direcci\xf3n IP de los ordenadores haciendo las solicitudes m\xe1s fallidas. Usted puede entonces buscar las direcciones IP en\\[bigParentDirectory\\]/logs/',(0,n.jsx)(a.a,{href:"#log",children:"log.txt"}),"archivar y ver qu\xe9 tipo de solicitudes est\xe1n haciendo."]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Puede utilizar el n\xfamero IP del usuario (por ejemplo, con",(0,n.jsx)(a.a,{href:"https://whatismyipaddress.com/ip-lookup",children:" https://whatismyipaddress.com/ip-lookup "}),") tratar de averiguar qui\xe9n o qu\xe9 es el usuario. A veces eso te dir\xe1 con precisi\xf3n qui\xe9n es el usuario (Por ejemplo, es un rastreador web de un motor de b\xfasqueda) . La mayor\xeda de las veces te da una pista (Por ejemplo, es una computadora de amazonas, es de una universidad, es alguien en una ciudad espec\xedfica) ."]}),"\n",(0,n.jsxs)(a.p,{children:["Al ver la solicitud real, el n\xfamero IP y el mensaje de error (todo desde",(0,n.jsx)(a.a,{href:"#log",children:"log.txt"}),") para una serie de errores, generalmente se puede averiguar b\xe1sicamente lo que est\xe1 pasando mal. En mi experiencia, hay cuatro causas comunes de muchas solicitudes fallidas:"]}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Las solicitudes son maliciosas (por ejemplo, buscando debilidades de seguridad, o haciendo solicitudes y luego cancelarlas antes de que sean completadas) . Deber\xedas usar<requestBlacklist dentrodatasets.xmlpara anular las direcciones IP."}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Un motor de b\xfasqueda est\xe1 intentando ingenuamente las URL enumeradas enERDDAP\u2122p\xe1ginas web y documentos ISO 19115. Por ejemplo, hay muchos lugares que enumeran la baseOPeNDAPURL, por ejemplo, ",(0,n.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST",children:"https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST"}),' , a la que se supone que el usuario debe a\xf1adir un tipo de archivo (Por ejemplo, .das, .dds, HTML) . Pero el motor de b\xfasqueda no lo sabe. Y la solicitud a la URL base falla. Una situaci\xf3n relacionada es cuando el motor de b\xfasqueda genera solicitudes extra\xf1as o trata de rellenar formularios con el fin de llegar a p\xe1ginas web "ocultas". Pero los motores de b\xfasqueda a menudo hacen un mal trabajo de esto, dando lugar a fracasos. La soluci\xf3n es: crear un',(0,n.jsx)(a.a,{href:"#robotstxt",children:"robots.txt"}),"archivo."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Algunos usuarios est\xe1n ejecutando un script que est\xe1 pidiendo repetidamente algo que no est\xe1 ah\xed. Tal vez es un conjunto de datos que sol\xeda existir, pero se ha ido ahora (temporal o permanente) . Los scripts a menudo no esperan esto y as\xed que no traten con inteligencia. As\xed que el gui\xf3n sigue haciendo solicitudes y las solicitudes siguen fallando. Si puedes adivinar qui\xe9n es el usuario (del n\xfamero de IP anterior) , p\xf3ngase en contacto con ellos y d\xedgales que el conjunto de datos ya no est\xe1 disponible y p\xeddales que cambien su script."}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Algo est\xe1 realmente mal con alg\xfan conjunto de datos. Por lo general,ERDDAP\u2122har\xe1 que el conjunto de datos problem\xe1tico inactivo. A veces no lo hace, as\xed que todas las peticiones a ello s\xf3lo conducen a errores. Si es as\xed, solucione el problema con el conjunto de datos o (si no puedes) establecer el conjunto de datos",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#active",children:'activo="falso"'}),". Por supuesto, esto puede llevar al problema #2."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"A veces los errores no son tan malos, en particular, siERDDAP\u2122puede detectar el error y responder muy r\xe1pidamente (<=1ms). As\xed que puede decidir no tomar ninguna acci\xf3n."}),"\n",(0,n.jsx)(a.p,{children:"Si todo lo dem\xe1s falla, hay una soluci\xf3n universal: a\xf1adir el n\xfamero IP del usuario al [<requestBlacklist confiar] (/docs/servidor-admin/datasets#requestblacklist) . Esto no es tan malo o tan dr\xe1stico una opci\xf3n como podr\xeda parecer. El usuario recibir\xe1 un mensaje de error diciendo que ha sido enlistado y decirles su (elERDDAP\u2122administrador) Direcci\xf3n de correo electr\xf3nico. A veces el usuario se pondr\xe1 en contacto con usted y puede resolver el problema. A veces el usuario no se pone en contacto con usted y ver\xe1 exactamente el mismo comportamiento que viene de un n\xfamero IP diferente al d\xeda siguiente. Blacklist el nuevo n\xfamero de IP y espero que finalmente obtengan el mensaje. (O este es tu D\xeda de la Huerta, del cual nunca escapar\xe1s. Lo siento.)"}),"\n",(0,n.jsx)(a.h3,{id:"robotstxt",children:"robots.txt"}),"\n",(0,n.jsx)(a.p,{children:"Las empresas de motores de b\xfasqueda utilizan rastreadores web (por ejemplo, Google Bot) para examinar todas las p\xe1ginas de la web para a\xf1adir el contenido a los motores de b\xfasqueda. ParaERDDAP\u2122Eso es b\xe1sicamente bueno.ERDDAP\u2122tiene muchos enlaces entre p\xe1ginas, por lo que los rastreadores encontrar\xe1n todas las p\xe1ginas web y las a\xf1adir\xe1n a los motores de b\xfasqueda. Entonces, los usuarios de los motores de b\xfasqueda podr\xe1n encontrar conjuntos de datos en susERDDAP."}),"\n",(0,n.jsxs)(a.p,{children:["Desafortunadamente, algunos rastreadores web (por ejemplo, Google Bot) est\xe1n llenando y presentando formularios para encontrar contenido adicional. Para sitios de comercio web, esto es genial. Pero esto es terrible paraERDDAP\u2122porque solo conduce a una ",(0,n.jsx)(a.strong,{children:"infinito"})," n\xfamero de intentos indeseables e in\xfatiles de arrastrar los datos reales. Esto puede dar lugar a m\xe1s solicitudes de datos que de todos los dem\xe1s usuarios combinados. Y llena el motor de b\xfasqueda con subconjuntos sin sentido de los datos reales."]}),"\n",(0,n.jsxs)(a.p,{children:["Para decirle a los rastreadores web que dejen de rellenar formularios y simplemente generalmente no miren las p\xe1ginas web que no necesitan mirar, necesita crear un archivo de texto llamado",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Robots_exclusion_standard",children:"robots.txt"}),"en el directorio ra\xedz de la jerarqu\xeda de documentos de su sitio web para que pueda ser visto por cualquiera como, por ejemplo, http://*",(0,n.jsx)(a.a,{href:"http://www.your.domain*/robots.txt",children:"www.your.domain*/robots.txt"})," .\nSi est\xe1s creando un nuevo robot. txt file, este es un buen comienzo:"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:"    User-Agent: \\\\*\n    Disallow: /erddap/files/ \n    Disallow: /files/ \n    Disallow: /images/ \n    Disallow: /\\\\*?\n    Disallow: /\\\\*?\\\\*\n    Disallow: /\\\\*.asc\\\\*\n    Disallow: /\\\\*.csv\\\\*\n    Disallow: /\\\\*.dods\\\\*\n    Disallow: /\\\\*.esriAscii\\\\*\n    Disallow: /\\\\*.esriCsv\\\\*\n    Disallow: /\\\\*.geoJson\\\\*\n    Disallow: /\\\\*.htmlTable\\\\*\n    Disallow: /\\\\*.json\\\\*\n    Disallow: /\\\\*.mat\\\\*\n    Disallow: /\\\\*.nc\\\\*\n    Disallow: /\\\\*.odvTxt\\\\*\n    Disallow: /\\\\*.tsv\\\\*\n    Disallow: /\\\\*.xhtml\\\\*\n    Disallow: /\\\\*.geotif\\\\*\n    Disallow: /\\\\*.itx\\\\*\n    Disallow: /\\\\*.kml\\\\*\n    Disallow: /\\\\*.pdf\\\\*\n    Disallow: /\\\\*.png\\\\*\n    Disallow: /\\\\*.large\\\\*\n    Disallow: /\\\\*.small\\\\*\n    Disallow: /\\\\*.transparentPng\\\\*\n    Sitemap: http://***your.institutions.url***/erddap/sitemap.xml\n"})}),"\n",(0,n.jsxs)(a.p,{children:["(Pero sustituya ",(0,n.jsx)(a.em,{children:"sus.instituciones.url"})," con tuERDDAPEs URL base.)",(0,n.jsx)(a.br,{}),"\n","Puede tomar unos d\xedas para que los motores de b\xfasqueda se den cuenta y para que los cambios tengan efecto.\n\xa0"]}),"\n",(0,n.jsx)(a.h3,{id:"sitemapxml",children:"sitemap.xml"}),"\n",(0,n.jsxs)(a.p,{children:["Como",(0,n.jsx)(a.a,{href:"https://www.sitemaps.org/",children:" https://www.sitemaps.org "}),"sitio web dice:"]}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsx)(a.p,{children:"Sitemaps are an easy way for webmasters to inform search engines about pages on their sites that are available for crawling. In its simplest form, a Sitemap is an XML file that lists URLs for a site along with additional metadata about each URL (when it was last updated, how often it usually changes, and how important it is, relative to other URLs on the site) so that search engines can more intelligently crawl the site."}),"\n",(0,n.jsx)(a.p,{children:"Web crawlers usually discover pages from links within the site and from other sites. Sitemaps supplement this data to allow crawlers that support Sitemaps to pick up all URLs in the Sitemap and learn about those URLs using the associated metadata. Using the Sitemap protocol does not guarantee that web pages are included in search engines, but provides hints for web crawlers to do a better job of crawling your site."}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"En realidad, desdeERDDAP\u2122esRESTful, las ara\xf1as del motor de b\xfasqueda pueden arrastrar f\xe1cilmenteERDDAP. Pero tienden a hacerlo m\xe1s a menudo (\xa1Todos los d\xedas!) que sea necesario (\xbfMes?) ."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Dado que cada motor de b\xfasqueda puede estar arrastrando todo suERDDAP\u2122cada d\xeda, esto puede llevar a muchas solicitudes innecesarias."}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"As\xed que...ERDDAP\u2122genera un archivo sitemap.xml para suERDDAP\u2122que dice motores de b\xfasqueda que susERDDAP\u2122s\xf3lo necesita ser arrastrado cada mes."}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Usted debe agregar una referencia aERDDAP's sitemap.xml a su",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Robots_exclusion_standard",children:"robots.txt"}),"archivo:\nMapa del sitio: http://**",(0,n.jsx)(a.a,{href:"http://www.yoursite.org**/erddap/sitemap.xml",children:"www.yoursite.org**/erddap/sitemap.xml"})]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Si eso no parece estar recibiendo el mensaje a los rastreadores, puede decir a los diversos motores de b\xfasqueda sobre el archivo sitemap.xml visitando estas URLs (pero cambiar ",(0,n.jsx)(a.strong,{children:"Su Instituto"})," al acr\xf3nimo o abreviatura de su instituci\xf3n ",(0,n.jsx)(a.strong,{children:(0,n.jsx)(a.a,{href:"http://www.yoursite.org",children:"www.yoursite.org"})})," a suERDDAP's URL) :"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.a,{href:"https://www.bing.com/webmaster/ping.aspx?siteMap=http://**www.yoursite.org**/erddap/sitemap.xml",children:"https://www.bing.com/webmaster/ping.aspx?siteMap=http://**www.yoursite.org**/erddap/sitemap.xml"})}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.a,{href:"https://www.google.com/ping?sitemap=http://**www.yoursite.org**/erddap/sitemap.xml(I",children:"https://www.google.com/ping?sitemap=http://**www.yoursite.org**/erddap/sitemap.xml(I"})," piensa) solo tienes que pinchar cada motor de b\xfasqueda una vez, por siempre. Los motores de b\xfasqueda detectar\xe1n cambios peri\xf3dicamente en sitemap.xml.\n\xa0"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(a.h3,{id:"data-dissemination--data-distribution-networks-push-and-pull-technology",children:["Difusi\xf3n de datos / Distribuci\xf3n de datos Redes",":PushyPullTecnolog","\xeda"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Normalmente,ERDDAP\u2122act\xfaa como intermediario: toma una solicitud de un usuario; obtiene datos de una fuente de datos remota; revisa los datos; y lo env\xeda al usuario."}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Pull_technology",children:"PullTecnolog\xeda"}),":ERDDAP","\u2122tambi\xe9n tiene la capacidad de obtener activamente todos los datos disponibles de una fuente de datos remota y",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"almacenar una copia local de los datos"}),"."]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Push_technology",children:"PushTecnolog\xeda"}),": UsandoERDDAP's",(0,n.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions",children:"servicios de suscripci\xf3n"}),", otros servidores de datos pueden ser notificados tan pronto como nuevos datos est\xe9n disponibles para que puedan solicitar los datos (tirando los datos) ."]}),"\n",(0,n.jsxs)(a.li,{children:["ERDDAP's",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDGridFromErddap"}),"y",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDTableDeErddap"}),"usoERDDAP's servicios de suscripci\xf3n y",(0,n.jsx)(a.a,{href:"#flag",children:"Sistema de bandera"}),"para que se notifique inmediatamente cuando se disponga de nuevos datos."]}),"\n",(0,n.jsx)(a.li,{children:"Usted puede combinar estos a gran efecto: si envuelve unEDDGridCopiar alrededor de unEDDGridFromErddap dataset (o envuelve un EDDTableCopy alrededor de un conjunto de datos EDDTable) ,ERDDAP\u2122crear\xe1 y mantendr\xe1 autom\xe1ticamente una copia local de otraERDDAPEs Dataset."}),"\n",(0,n.jsx)(a.li,{children:"Debido a que los servicios de suscripci\xf3n funcionan tan pronto como se disponga de nuevos datos, la tecnolog\xeda push difunde los datos r\xe1pidamente (dentro de segundos) ."}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Esta arquitectura pone cada unoERDDAP\u2122administrador encargado de determinar d\xf3nde los datos para su/ellaERDDAP\u2122viene de."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"OtrosERDDAP\u2122Los administradores pueden hacer lo mismo. No hay necesidad de coordinaci\xf3n entre los administradores."}),"\n",(0,n.jsx)(a.li,{children:"Si muchosERDDAP\u2122administradores se vinculan entre s\xedERDDAPs, se forma una red de distribuci\xf3n de datos."}),"\n",(0,n.jsx)(a.li,{children:"Los datos se distribuir\xe1n de forma r\xe1pida, eficiente y autom\xe1tica de fuentes de datos (ERDDAPs y otros servidores) a los sitios de redistribuci\xf3n de datos (ERDDAPs) en cualquier lugar de la red."}),"\n",(0,n.jsx)(a.li,{children:"A givenERDDAP\u2122puede ser una fuente de datos para algunos conjuntos de datos y un sitio de redistribuci\xf3n para otros conjuntos de datos."}),"\n",(0,n.jsxs)(a.li,{children:["La red resultante es aproximadamente similar a las redes de distribuci\xf3n de datos establecidas con programas como",(0,n.jsx)(a.a,{href:"https://www.unidata.ucar.edu/projects/index.html#idd",children:"Unidata's IDD/IDM"}),", pero menos r\xedgidamente estructurada.\n\xa0"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"security-authentication-and-authorization",children:"Seguridad, Autenticaci\xf3n y Autorizaci\xf3n"}),"\n",(0,n.jsxs)(a.p,{children:["Por defecto,ERDDAP\u2122funciona como un servidor p\xfablico (utilizandohttpy/ohttps) sin login (",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Authentication",children:"autenticaci\xf3n"}),") sistema y ninguna restricci\xf3n al acceso a los datos (",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Authorization",children:"autorizaci\xf3n"}),") ."]}),"\n",(0,n.jsx)(a.h4,{id:"security",children:"Seguridad"}),"\n",(0,n.jsx)(a.p,{children:"Si desea restringir el acceso a algunos o a todos los conjuntos de datos a algunos usuarios, puede utilizarERDDAPEs un sistema de seguridad integrado. Cuando el sistema de seguridad est\xe1 en uso:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["ERDDAP\u2122uso",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Role-based_access_control",children:"control de acceso basado en funciones"}),".","\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"ElERDDAP\u2122administrador define a los usuarios con [<usuario] (/docs/servidor-admin/datasets#user) tag endatasets.xml. Cada usuario tiene un nombre de usuario, una contrase\xf1a (si autenticaci\xf3n=costo) , y uno o m\xe1s roles."}),"\n",(0,n.jsx)(a.li,{children:"ElERDDAP\u2122administrador define qu\xe9 roles tienen acceso a un conjunto de datos dado a trav\xe9s de [<accesible a t\xedtulo] (/docs/servidor-admin/datasets#accesibleto) tag endatasets.xmlpara cualquier conjunto de datos que no deber\xeda tener acceso p\xfablico."}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.li,{children:"El estado de acceso del usuario (y un enlace para iniciar sesi\xf3n / salida) se mostrar\xe1 en la parte superior de cada p\xe1gina web. (Pero un usuario conectado aparecer\xe1ERDDAP\u2122para no estar conectado si usa unhttpURL.)"}),"\n",(0,n.jsxs)(a.li,{children:["Si<baseUrl] que especifique en su setup.xml es un ",(0,n.jsx)(a.strong,{children:"http"})," URL, los usuarios que no est\xe1n conectados pueden usarERDDAP's ",(0,n.jsx)(a.strong,{children:"http"})," URLs. Si<baseHttpsUrl contacto tambi\xe9n se especifica, los usuarios que no se han iniciado sesi\xf3n tambi\xe9n pueden utilizarhttpsURLs."]}),"\n",(0,n.jsxs)(a.li,{children:["HTTPS S\xf3lo... Si<baseUrl] que especifique en su setup.xml es un ",(0,n.jsx)(a.strong,{children:"https"})," URL, se alienta a los usuarios que no est\xe1n conectados (no forzado) a utilizarERDDAP's ",(0,n.jsx)(a.strong,{children:"https"})," URL - todos los enlaces enERDDAP\u2122p\xe1ginas web se refieren ahttpsURLs."]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Si quieres obligar a los usuarios a usarhttpsURL, a\xf1adir una l\xednea permanente redirigir dentro de la<VirtualHost \\*:80 caracteres secci\xf3n en el archivo de configuraci\xf3n de Apache (generalmentehttpd.conf) , por ejemplo,"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:"    <VirtualHost \\\\*:80>\n        \\\\[...\\\\]\n        ServerName example.com\n        Redirect permanent / https://example.com/\n    </VirtualHost>\n"})}),"\n",(0,n.jsxs)(a.p,{children:["Si quieres, hay un m\xe9todo adicional para forzar el uso dehttps: ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security",children:"HTTP Seguridad del transporte (HSTS) "}),". Para usarlo:"]}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsx)(a.li,{children:"Activar el m\xf3dulo Apache Headers: encabezados a2enmod"}),"\n",(0,n.jsx)(a.li,{children:"A\xf1adir el encabezado adicional a la directiva HTTPS VirtualHost. Max-age se mide en segundos y se puede establecer a un valor largo."}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:'        <VirtualHost \\\\*:443>\n            # Guarantee HTTPS for 1 Year including Sub Domains \n            Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains"\n'})}),"\n",(0,n.jsx)(a.p,{children:"Tenga en cuenta que este encabezado s\xf3lo es v\xe1lido en un HTTPS VirtualHost."}),"\n",(0,n.jsx)(a.p,{children:"Una raz\xf3n para no obligar a los usuarios a utilizarhttpsURL es: el enlace SSL/TLS subyacente toma tiempo para establecer y toma tiempo para cifrar y descifrar toda la informaci\xf3n transmitida entre el usuario y el servidor. Pero algunas instituciones requierenhttpsS\xf3lo."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Usuarios que est\xe1n conectados en DEBE usarERDDAP's ",(0,n.jsx)(a.strong,{children:"https"})," URLs. Si usanhttpURLs, parecenERDDAP\u2122para no estar conectado. Esto garantiza la privacidad de las comunicaciones y ayuda a prevenir",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Session_hijacking",children:"secuestro de sesiones y secuestro lateral"}),"."]}),"\n",(0,n.jsx)(a.li,{children:"Cualquier persona que no est\xe9 conectado puede acceder y utilizar los conjuntos de datos p\xfablicos. Por defecto, los conjuntos de datos privados no aparecen en listas de conjuntos de datos si un usuario no est\xe1 conectado. Si el administrador ha establecido la configuraci\xf3n.xml<listaPrivadaDatasets confiar a la verdad, aparecer\xe1n. Intente solicitar datos de conjuntos de datos privados (si el usuario conoce la URL) ser\xe1 redireccionado a la p\xe1gina de inicio de sesi\xf3n."}),"\n",(0,n.jsx)(a.li,{children:"Cualquier persona que haya iniciado sesi\xf3n podr\xe1 ver y solicitar datos de cualquier conjunto de datos p\xfablicos y de cualquier conjunto de datos privados a los que su papel les permita acceder. Por defecto, los conjuntos de datos privados a los que un usuario no tiene acceso no aparecen en listas de conjuntos de datos. Si el administrador ha establecido la configuraci\xf3n.xml<listaPrivadaDatasets confiar a la verdad, aparecer\xe1n. Los intentos de solicitar datos de conjuntos de datos privados a los que el usuario no tiene acceso ser\xe1n redirigidos a la p\xe1gina de inicio de sesi\xf3n."}),"\n",(0,n.jsx)(a.li,{children:"ElRSSinformaci\xf3n para conjuntos de datos totalmente privados s\xf3lo est\xe1 disponible para los usuarios (yRSSlectores) que est\xe1n conectados y autorizados para utilizar ese conjunto de datos. Esto haceRSSno muy \xfatil para conjuntos de datos totalmente privados."}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Si un conjunto de datos es privado pero su [<grafitasAccesible a confiar] (/docs/servidor-admin/datasets#graphsaccesibleto) se establece en p\xfablico, el conjunto de datosRSSes accesible para cualquiera."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Las suscripciones por correo electr\xf3nico s\xf3lo se pueden configurar cuando un usuario tiene acceso a un conjunto de datos. Si un usuario se suscribe a un conjunto de datos privado, la suscripci\xf3n contin\xfaa funcionando despu\xe9s de que el usuario haya iniciado sesi\xf3n."}),"\n"]}),"\n",(0,n.jsx)(a.h5,{id:"setup-security",children:"Configuraci\xf3n de seguridad"}),"\n",(0,n.jsx)(a.p,{children:"Establecer el sistema de seguridad/autentificaci\xf3n/autorizaci\xf3n:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Hacer el est\xe1ndarERDDAP\u2122 ",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install",children:"inicial"}),"."]}),"\n",(0,n.jsxs)(a.li,{children:["In",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),",","\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Agregar/cambiar el<autenticado valor de nada a medida (No uses esto.) , correo electr\xf3nico (No uses esto.) , google (recomendado) , orcid (recomendado) , oauth2 (que es google+orcid, recomendado) . Vea los comentarios sobre estas opciones a continuaci\xf3n."}),"\n",(0,n.jsx)(a.li,{children:"Agregar/cambiar el<baseHttpsUrl ratio valor."}),"\n",(0,n.jsx)(a.li,{children:"Insertar/descomunar&loginInfo;dentro<startBodyHtml ES para mostrar el registro del usuario en la parte superior de cada p\xe1gina web."}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["Para fines de prueba en su computadora personal,",(0,n.jsx)(a.a,{href:"https://tomcat.apache.org/tomcat-8.0-doc/ssl-howto.html",children:"seguir estas instrucciones para configurar tomcat para apoyar SSL"}),"  (la base parahttpsconexiones) creando una tienda con una",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Self-signed_certificate",children:"certificado autosignificado"}),"y modificando ",(0,n.jsx)(a.em,{children:"tomcat"}),' /conf/server.xml para descomponer el conector para el puerto 8443. En Windows, es posible que necesite mover .keystore de "c:\\\\Users\\\\\\ ',(0,n.jsx)(a.em,{children:"T\xfa"}),' \\.keystore" a "c:\\Users\\\\Default User\\.keystore" o "c:\\.keystore" (ver ',(0,n.jsx)(a.em,{children:"tomcat"})," /logs/catalina. ",(0,n.jsx)(a.em,{children:"hoy"})," .log si la aplicaci\xf3n no se carga o los usuarios no pueden ver el registro en la p\xe1gina) . Usted puede ver cuando el certificado .keystore expirar\xe1 examinando el certificado cuando inicie sesi\xf3n."]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Para un servidor de acceso p\xfablico, en lugar de utilizar un certificado auto-firmado, se recomienda encarecidamente que compre e instale un certificado firmado por un certificado",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Certificate_authority",children:"certificado"}),", porque le da a sus clientes m\xe1s seguridad de que est\xe1n conectados a suERDDAP\u2122, no una versi\xf3n de hombre en medio de tuERDDAP. Muchos proveedores venden certificados digitales. (Busca web.) No son caros."]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["En las computadoras Linux, si Tomcat se ejecuta en Apache, modifique el /etc/httpd/conf.d/ssl.conf file to allow HTTPS traffic to/fromERDDAP\u2122sin requerir el n\xfamero de puerto :8443 en la URL:","\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsx)(a.li,{children:"Modificar el existente<Etiquetas VirtualHost Conf (si hay uno) , o a\xf1adir una al final del archivo para que por lo menos tenga estas l\xedneas:"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:"        <VirtualHost \\\\_default\\\\_:443>\n            SSLEngine on\n            SSLProxyEngine On\n            ProxyPass /erddap http://localhost:8443/erddap\n            ProxyPassReverse /erddap http://localhost:8443/erddap\n        </VirtualHost>\n"})}),"\n",(0,n.jsxs)(a.ol,{start:"2",children:["\n",(0,n.jsx)(a.li,{children:"Luego reinicia Apache: /usr/sbin/apachectl -k Graceful (pero a veces est\xe1 en un directorio diferente) ."}),"\n"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["In ",(0,n.jsx)(a.em,{children:"tomcat"})," /conf/server.xml, uncomment el puerto=8443<Tag:"]}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:'    <Connector port="8443" \n        protocol="org.apache.coyote.http11.Http11NioProtocol"\n        maxThreads="150" SSLEnabled="true">\n        <SSLHostConfig>\n        <Certificate certificateKeystoreFile="conf/localhost-rsa.jks" \n            type="RSA" />\n        </SSLHostConfig>\n    </Connector>\n'})}),"\n",(0,n.jsx)(a.p,{children:"y cambiar la ubicaci\xf3n del certificadoKeystoreFile."}),"\n",(0,n.jsx)(a.h5,{id:"authorization",children:"Autorizaci\xf3n"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.a,{href:"#authorization",children:"Indatasets.xml, crear un"}),"[<usuario] (/docs/servidor-admin/datasets#user) etiqueta para cada usuario con nombre de usuario, contrase\xf1a (si la autorizaci\xf3n=costo) , y la informaci\xf3n de roles. Esta es la parte de autorizaci\xf3nERDDAPEs sistema de seguridad.\n\xa0"]}),"\n",(0,n.jsx)(a.li,{children:"Indatasets.xml, a\xf1adir un [<accesible a t\xedtulo] (/docs/servidor-admin/datasets#accesibleto) etiqueta a cada conjunto de datos que no deber\xeda tener acceso p\xfablico.<accessiblePara confiar le permite especificar qu\xe9 roles tienen acceso a ese conjunto de datos.\n\xa0"}),"\n",(0,n.jsx)(a.li,{children:"Reinicie Tomcat. \xbfProblemas? Revisa los registros de Tomcat.\n\xa0"}),"\n",(0,n.jsx)(a.li,{children:"\xa1Celebra tu trabajo! Cualquier error podr\xeda llevar a un defecto de seguridad.\n\xa0"}),"\n",(0,n.jsx)(a.li,{children:"Compruebe que la p\xe1gina de inicio de sesi\xf3n utilizahttps  (nohttp) . Intenta iniciar sesi\xf3n a trav\xe9s dehttpdebe ser redirigido autom\xe1ticamentehttpsand port 8443 (aunque el n\xfamero de puerto se puede ocultar a trav\xe9s de un proxy Apache) . Es posible que necesite trabajar con su administrador de red para permitir que las solicitudes de web externas tengan acceso al puerto 8443 en su servidor.\n\xa0"}),"\n",(0,n.jsxs)(a.li,{children:["Puedes cambiar el<usuario<accesibles para etiquetas de usuario en cualquier momento. Los cambios se aplicar\xe1n en la siguiente recarga regular de cualquier conjunto de datos, o ASAP si utiliza un",(0,n.jsx)(a.a,{href:"#flag",children:"bandera"}),"."]}),"\n"]}),"\n",(0,n.jsx)(a.h5,{id:"authentication",children:"Autenticaci\xf3n"}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.a,{href:"#authentication",children:" **Autenticaci\xf3n (registro en) ** "}),(0,n.jsx)(a.br,{}),"\n","Si no desea permitir a los usuarios iniciar sesi\xf3n, no especifique un valor para<autenticaci\xf3n basada en setup.xml.\nSi desea permitir a los usuarios iniciar sesi\xf3n, debe especificar un valor para<autenticaci\xf3n. Actualmente,ERDDAP\u2122soportes\n",(0,n.jsx)(a.a,{href:"#custom",children:"personalizado"}),"  (No uses esto.) ,\n",(0,n.jsx)(a.a,{href:"#email",children:"email"}),"  (No uses esto.) ,\n",(0,n.jsx)(a.a,{href:"#google",children:"google"}),"  (recomendado) ,\n",(0,n.jsx)(a.a,{href:"#orcid",children:"orcid"}),"  (recomendado) , y\n",(0,n.jsx)(a.a,{href:"#oauth2",children:"oauth2"}),"  (recomendado) para el m\xe9todo de autenticaci\xf3n.\nSi desea habilitar el registro, recomendamos encarecidamente las opciones de google, orcid o o oauth2 porque le liberan de almacenar y manejar las contrase\xf1as del usuario (necesario para la medida) y son m\xe1s seguros que la opci\xf3n de correo electr\xf3nico. Recuerde que los usuarios a menudo utilizan la misma contrase\xf1a en diferentes sitios. As\xed que pueden estar usando la misma contrase\xf1a para suERDDAP\u2122como hacen en su banco. Eso hace que su contrase\xf1a sea muy valiosa, mucho m\xe1s valiosa para el usuario que los datos que est\xe1n solicitando. As\xed que necesitas hacer todo lo que puedas para mantener las contrase\xf1as privadas. Es una gran responsabilidad. Las opciones de correo electr\xf3nico, google, orcid y oauth2 se encargan de las contrase\xf1as, por lo que no tienes que reunir, almacenar o trabajar con ellas. As\xed que est\xe1s libre de esa responsabilidad."]}),"\n",(0,n.jsxs)(a.p,{children:["Todos<las opciones de autenticaci\xf3n utilizando",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/HTTP_cookie",children:"cookie"}),"en el ordenador del usuario, por lo que el navegador del usuario debe configurarse para permitir las cookies. Si un usuario est\xe1 haciendoERDDAP\u2122solicitudes de un programa inform\xe1tico (no un navegador) , las cookies y la autenticaci\xf3n son dif\xedciles de trabajar con. Es un problema com\xfan con todos los sistemas de autenticaci\xf3n. Lo siento."]}),"\n",(0,n.jsx)(a.p,{children:"Los detalles de los<autenticaci\xf3n opciones son:"}),"\n",(0,n.jsx)(a.h6,{id:"custom",children:"Aduanas"}),"\n",(0,n.jsx)(a.p,{children:"costumbre esERDDAP's sistema personalizado para permitir que los usuarios inicien sesi\xf3n introduciendo su Nombre de Usuario y Contrase\xf1a en un formulario en una p\xe1gina web. Si un usuario intenta y no inicia sesi\xf3n 3 veces en 10 minutos, el usuario est\xe1 bloqueado de intentar iniciar sesi\xf3n durante 10 minutos. Esto evita que los hackers simplemente intenten millones de contrase\xf1as hasta que encuentren la correcta."}),"\n",(0,n.jsx)(a.p,{children:"Esto es algo seguro porque el nombre de usuario y la contrase\xf1a se transmiten a trav\xe9s dehttps  (nohttp) , pero la autenticaci\xf3n=google, orcid, o oauth2 son mejores porque te liberan de tener que manejar contrase\xf1as. El enfoque personalizado requiere que usted recoja el Nombre del usuario y un hash digest de su contrase\xf1a (\xa1Usa tu tel\xe9fono! \xa1El correo electr\xf3nico no est\xe1 seguro!) y guardarlos endatasets.xmlen<usuario] (/docs/servidor-admin/datasets#user) etiquetas."}),"\n",(0,n.jsx)(a.p,{children:"Con la opci\xf3n personalizada, nadie puede iniciar sesi\xf3n hasta que usted (elERDDAP\u2122administrador) crear un<usuario etiqueta de contacto para el usuario, especificando el nombre del usuario como nombre de usuario, el hash digest de su contrase\xf1a como contrase\xf1a y sus roles."}),"\n",(0,n.jsx)(a.p,{children:"No recomendado\nDebido a la torpeza de generar y transmitir el hash digest de la contrase\xf1a del usuario y debido a los riesgos asociados conERDDAP\u2122sosteniendo el hash digests de las contrase\xf1as, esta opci\xf3n no se recomienda."}),"\n",(0,n.jsx)(a.p,{children:"Aumentar la seguridad de esta opci\xf3n:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Usted debe asegurarse de que otros usuarios en el servidor (i.e., usuarios de Linux, noERDDAP\u2122usuarios) no puede leer archivos en el directorio Tomcat (especialmentedatasets.xml\xa1Archivo!) oERDDAPEs la gran directora de Parent.\nEn Linux, como usuario=tomcat, utilice:\nchmod -R g-rwx ",(0,n.jsx)(a.em,{children:"bigParentDirectory"}),(0,n.jsx)(a.br,{}),"\n","chmod -R o-rwx ",(0,n.jsx)(a.em,{children:"bigParentDirectory"}),(0,n.jsx)(a.br,{}),"\n","chmod -R g-rwx ",(0,n.jsx)(a.em,{children:"tomcatDirectory"}),(0,n.jsx)(a.br,{}),"\n","chmod -R o-rwx ",(0,n.jsx)(a.em,{children:"tomcatDirectory"}),(0,n.jsx)(a.br,{}),"\n","\xa0"]}),"\n",(0,n.jsx)(a.li,{children:"Use UEPSHA256 para<passwordEncoding confianza en setup.xml.\n\xa0"}),"\n",(0,n.jsx)(a.li,{children:"Utilice un m\xe9todo as-secure-as-possible para pasar el hash digest de la contrase\xf1a del usuario desde el usuario al usuarioERDDAP\u2122administrador (\xbftel\xe9fono?) .\n\xa0"}),"\n"]}),"\n",(0,n.jsx)(a.h6,{id:"email",children:"email"}),"\n",(0,n.jsx)(a.p,{children:"La opci\xf3n de autenticaci\xf3n de correo electr\xf3nico utiliza una cuenta de correo electr\xf3nico del usuario para autenticar al usuario (enviando un correo electr\xf3nico con un enlace especial que tienen que acceder para iniciar sesi\xf3n) . A diferencia de otros correos electr\xf3nicos queERDDAP\u2122env\xeda,ERDDAP\u2122no escribe estos emails de invitaci\xf3n al archivo de registro de correo electr\xf3nico porque contienen informaci\xf3n confidencial.\nEn teor\xeda, esto no es muy seguro, porque los correos electr\xf3nicos no siempre est\xe1n encriptados, por lo que un mal tipo con la capacidad de interceptar correos electr\xf3nicos podr\xeda abusar de este sistema utilizando una direcci\xf3n de correo electr\xf3nico v\xe1lida del usuario e interceptando el correo de invitaci\xf3n.\nEn la pr\xe1ctica, si se estableceERDDAP\u2122para usar una cuenta de correo electr\xf3nico de Google para enviar correos electr\xf3nicos, y si lo estableces para utilizar una de las opciones TLS para la conexi\xf3n, y si el usuario tiene una cuenta de correo electr\xf3nico de Google, esto es algo seguro porque los correos electr\xf3nicos est\xe1n cifrados todo el camino desdeERDDAP\u2122al usuario."}),"\n",(0,n.jsx)(a.p,{children:"Aumentar la seguridad de esta opci\xf3n:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Aseg\xfarese de que otros usuarios en el servidor (i.e., usuarios de Linux, noERDDAP\u2122usuarios) no puede leer archivos en el directorio Tomcat oERDDAPEs la gran directora de Parent.\nEn Linux, como usuario=tomcat, utilice:\nchmod -R g-rwx ",(0,n.jsx)(a.em,{children:"bigParentDirectory"}),(0,n.jsx)(a.br,{}),"\n","chmod -R o-rwx ",(0,n.jsx)(a.em,{children:"bigParentDirectory"}),(0,n.jsx)(a.br,{}),"\n","chmod -R g-rwx ",(0,n.jsx)(a.em,{children:"tomcatDirectory"}),(0,n.jsx)(a.br,{}),"\n","chmod -R o-rwx ",(0,n.jsx)(a.em,{children:"tomcatDirectory"}),(0,n.jsx)(a.br,{}),"\n","\xa0"]}),"\n",(0,n.jsx)(a.li,{children:"Configurar las cosas para obtener seguridad de extremo a extremo para los correos electr\xf3nicos enviados desdeERDDAP\u2122a los usuarios. Por ejemplo, usted podr\xeda hacer un sistema centrado en Google s\xf3lo creando<etiquetas usuario t\xedtulo para direcciones de correo electr\xf3nico gestionadas por Google y configurando susERDDAP\u2122para utilizar un servidor de correo electr\xf3nico de Google a trav\xe9s de una conexi\xf3n segura/TLS: en su configuraci\xf3n.xml, utilice por ejemplo,"}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:"    <emailSmtpHost>smtp.gmail.com</emailSmtpHost>  \n    <emailSmtpPort>587</emailSmtpPort>  \n    <emailProperties>mail.smtp.starttls.enable|true</emailProperties>\n"})}),"\n",(0,n.jsx)(a.p,{children:"No recomendado\nNo se recomienda la opci\xf3n de autenticaci\xf3n de correo electr\xf3nico. Por favor utilice la opci\xf3n google, orcid, o o oauth2."}),"\n",(0,n.jsx)(a.p,{children:"Como con las opciones de google, orcid y oauth2, el email es muy conveniente paraERDDAP\u2122administradores -- nunca tiene que lidiar con contrase\xf1as o sus heces. Todo lo que necesitas crear es un [<usuario] (/docs/servidor-admin/datasets#user) tag para un usuario endatasets.xmles la direcci\xf3n de correo electr\xf3nico del usuario, queERDDAP\u2122usa como nombre del usuario. (El atributo de contrase\xf1a no se utiliza cuando autenticaci\xf3n=email, google, orcid o o oauth2.)"}),"\n",(0,n.jsx)(a.p,{children:"Con la opci\xf3n de correo electr\xf3nico, s\xf3lo los usuarios que tienen un<etiqueta usuarias endatasets.xmlpuede intentar conectarse aERDDAP\u2122proporcionando su direcci\xf3n de correo electr\xf3nico y haciendo clic en el enlace en el correo electr\xf3nico queERDDAP\u2122Los env\xeda."}),"\n",(0,n.jsx)(a.p,{children:"ERDDAP\u2122trata las direcciones de correo electr\xf3nico como caso insensible. Hace esto mediante la conversi\xf3n de direcciones de correo electr\xf3nico que entra (en<usuario etiquetas de t\xedtulo) o usuarios (on the login form) a su versi\xf3n en min\xfascula."}),"\n",(0,n.jsx)(a.p,{children:"Para configurar la autenticaci\xf3n=email:"}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["En su configuraci\xf3n.xml, cambiar el<baseHttpsUrl confianza tag's value.\nPara experimentar/trabajar en su computadora personal, use\n",(0,n.jsx)(a.a,{href:"https://localhost:8443",children:"https://localhost:8443"}),(0,n.jsx)(a.br,{}),"\n","Para tu p\xfablicoERDDAP\u2122, uso\nhttps://",(0,n.jsx)(a.em,{children:"your.domain.org"}),":8443",(0,n.jsx)(a.br,{}),"\n","o sin el :8443 si usted est\xe1 usando un Apache",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#proxypass",children:"proxypass"}),"para que el n\xfamero de puerto no sea necesario.\n\xa0"]}),"\n",(0,n.jsx)(a.li,{children:"En su configuraci\xf3n.xml, cambiar el<autenticaci\xf3n tag's value to email:"}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:"    <authentication>email</authentication>  \n"})}),"\n",(0,n.jsxs)(a.ol,{start:"3",children:["\n",(0,n.jsx)(a.li,{children:"En su setup.xml, aseg\xfarese de que el sistema de correo electr\xf3nico se establece a trav\xe9s de todo el<e-mail... etiquetas de confianza, as\xed queERDDAP\u2122puede enviar correos electr\xf3nicos. Si es posible, configurar esto para utilizar una conexi\xf3n segura (SSL / TLS) al servidor de correo electr\xf3nico.\n\xa0"}),"\n",(0,n.jsx)(a.li,{children:"En tudatasets.xml, crear [<usuario] (/docs/servidor-admin/datasets#user) etiquetas para cada usuario que tendr\xe1 acceso a conjuntos de datos privados.\nUtilice la direcci\xf3n de correo electr\xf3nico del usuario como el nombre de usuario en la etiqueta.\nNo especifique el atributo de contrase\xf1a en la etiqueta del usuario.\n\xa0"}),"\n",(0,n.jsx)(a.li,{children:"RestartERDDAP\u2122para que los cambios de configuraci\xf3n.xml ydatasets.xmlEfectivamente.\n\xa0"}),"\n"]}),"\n",(0,n.jsx)(a.h6,{id:"google-orcid-oauth2",children:"Google, orcid, oauth2"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsxs)(a.a,{href:"#google",children:[" ",(0,n.jsx)(a.strong,{children:"google"})," "]}),",",(0,n.jsxs)(a.a,{href:"#orcid",children:[" ",(0,n.jsx)(a.strong,{children:"orcid"})," "]}),", y",(0,n.jsxs)(a.a,{href:"#oauth2",children:[" ",(0,n.jsx)(a.strong,{children:"oauth2"})," "]}),"\xa0  (recomendado)",(0,n.jsx)(a.br,{}),"\n","Las tres opciones son las recomendadasERDDAP\u2122Opciones de autenticaci\xf3n. Son todas las opciones m\xe1s seguras. Las otras opciones tienen una seguridad significativamente m\xe1s d\xe9bil.\n\xa0"]}),"\n"]}),"\n",(0,n.jsx)(a.h6,{id:"google",children:"Google"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["La opci\xf3n de autenticaci\xf3n de Google utiliza",(0,n.jsx)(a.a,{href:"https://developers.google.com/identity/gsi/web/guides/overview",children:"Signatura En con Google"}),", que es una aplicaci\xf3n de la",(0,n.jsx)(a.a,{href:"https://oauth.net/2/",children:"Protocolo de autenticaci\xf3n OAuth 2.0"}),".ERDDAP\u2122usuarios se inscriben en su cuenta de correo electr\xf3nico de Google, incluyendo cuentas gestionadas por Google, tales ",(0,n.jsx)(a.a,{href:"mailto:como@noaa.govcuentas",children:"como@noaa.govcuentas"}),". Esto permiteERDDAP\u2122para verificar la identidad del usuario (nombre y direcci\xf3n de correo electr\xf3nico) y acceso a su imagen de perfil, pero no daERDDAP\u2122acceso a sus correos electr\xf3nicos, su Google Drive, o cualquier otra informaci\xf3n privada."]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:'ParaERDDAP\u2122v2.22 y abajo,ERDDAP\u2122us\xf3 "Google Sign-In". Google dice que el sistema est\xe1 deprecado despu\xe9s del 31 de marzo de 2023. Si no lo has hecho, por favor, cambia aERDDAP\u2122v2.23+ para utilizar el nuevo sistema de autenticaci\xf3n basado en "Reg\xedstrate con Google".'}),"\n",(0,n.jsxs)(a.p,{children:["ParaERDDAP\u2122v2.23 instancias con configuraci\xf3n de Content-Security-Policy y utilizando Google Authentication, necesita a\xf1adir ",(0,n.jsx)(a.a,{href:"https://accounts.google.com",children:"https://accounts.google.com"})," a la lista de script-src permitido (o script-src-elem) .ERDDAP\u2122ya no usos ",(0,n.jsx)(a.a,{href:"https://apis.google.com",children:"https://apis.google.com"})," As\xed que si lo tienes permitido, puedes eliminarlo ahora."]}),"\n",(0,n.jsxs)(a.p,{children:["ParaERDDAP\u2122v2.24+ tambi\xe9n es necesario a\xf1adir ",(0,n.jsx)(a.a,{href:"https://accounts.google.com/gsi/style",children:"https://accounts.google.com/gsi/style"})," to stlye-src and ",(0,n.jsx)(a.a,{href:"https://accounts.google.com/gsi/",children:"https://accounts.google.com/gsi/"})," para conectar-src. Para el script-src ahora puedes usar ",(0,n.jsx)(a.a,{href:"https://accounts.google.com/gsi/client",children:"https://accounts.google.com/gsi/client"}),"."]}),"\n",(0,n.jsxs)(a.p,{children:["Para m\xe1s informaci\xf3n puede ir a la",(0,n.jsx)(a.a,{href:"https://developers.google.com/identity/gsi/web/guides/get-google-api-clientid#content_security_policy",children:"Google page"}),"sobre configuraci\xf3n CSP. Si tiene alguna pregunta, comun\xedquese con chris.john en noaa.gov.\n\xa0"]}),"\n",(0,n.jsx)(a.h6,{id:"orcid",children:"Orcid"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["La opci\xf3n de autenticaci\xf3n orcida utiliza",(0,n.jsx)(a.a,{href:"https://members.orcid.org/api/integrate/orcid-sign-in",children:"Autenticaci\xf3n orcida"}),", que es una aplicaci\xf3n de la",(0,n.jsx)(a.a,{href:"https://oauth.net/2/",children:"Protocolo de autenticaci\xf3n OAuth 2.0"}),".ERDDAP\u2122usuarios se inscriben en sus",(0,n.jsx)(a.a,{href:"https://members.orcid.org/api/integrate/orcid-sign-in",children:"Cuenta Orcid"}),", que es com\xfanmente utilizado por los investigadores para identificarse. Esto permiteERDDAP\u2122para verificar la identidad Orcid del usuario y obtener su n\xfamero de cuenta Orcid, pero no daERDDAP\u2122acceso a su otra informaci\xf3n de la cuenta Orcid."]}),"\n"]}),"\n",(0,n.jsx)(a.h6,{id:"oauth2",children:"Oauth2"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"La opci\xf3n oauth2 permite a los usuarios iniciar sesi\xf3n con su cuenta de Google o su cuenta de Orcid."}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Las opciones de google, orcid y oauth2 son los sucesores de la opci\xf3n openid, que se suspendi\xf3 despu\xe9s deERDDAP\u2122versi\xf3n 1.68, y que se bas\xf3 en una versi\xf3n abierta Identificaci\xf3n que ya no est\xe1 fechada. Por favor, cambie a la opci\xf3n google, orcid o o oauth2."}),"\n",(0,n.jsx)(a.p,{children:"Estas opciones son muy convenientes paraERDDAP\u2122administradores -- nunca tiene que lidiar con contrase\xf1as o sus heces. Todo lo que necesitas crear es un [<usuario] (/docs/servidor-admin/datasets#user) tag para un usuario endatasets.xmlque especifica la direcci\xf3n de correo electr\xf3nico del usuario o el n\xfamero de cuenta Orcid como el atributo de nombre de usuario. (El atributo de contrase\xf1a no se utiliza cuando autenticaci\xf3n=email, google, orcid o o oauth2.)"}),"\n",(0,n.jsx)(a.p,{children:"Con estas opciones, cualquiera puede conectarse aERDDAP\u2122firmando en su cuenta de correo electr\xf3nico de Google o cuenta Orcid, pero nadie tendr\xe1 derecho a acceder a conjuntos de datos privados hasta que usted (elERDDAP\u2122administrador) crear un<usuario etiqueta, especificando su direcci\xf3n de correo electr\xf3nico de Google o n\xfamero de cuenta Orcid como el nombre de usuario, y especificando sus roles."}),"\n",(0,n.jsx)(a.p,{children:"ERDDAP\u2122trata las direcciones de correo electr\xf3nico como caso insensible. Hace esto mediante la conversi\xf3n de direcciones de correo electr\xf3nico que entra (en<usuario etiquetas de t\xedtulo) o usuarios (on the login form) a su versi\xf3n en min\xfascula."}),"\n",(0,n.jsx)(a.p,{children:"Para configurar la autenticaci\xf3n de google, orcid, o oauth2:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["En su configuraci\xf3n.xml, cambiar el<baseHttpsUrl confianza tag's value.\nPara experimentar/trabajar en su computadora personal, use\n",(0,n.jsx)(a.a,{href:"https://localhost:8443",children:"https://localhost:8443"}),(0,n.jsx)(a.br,{}),"\n","Para tu p\xfablicoERDDAP\u2122, uso\nhttps://",(0,n.jsx)(a.em,{children:"your.domain.org"}),":8443",(0,n.jsx)(a.br,{}),"\n","o, mejor, sin el :8443 si usted est\xe1 usando un Apache",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#proxypass",children:"proxypass"}),"para que el n\xfamero de puerto no sea necesario.\n\xa0"]}),"\n",(0,n.jsx)(a.li,{children:"En su configuraci\xf3n.xml, cambiar el<autenticaci\xf3n por ejemplo:"}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:"    <authentication>oauth2</authentication>  \n"})}),"\n",(0,n.jsx)(a.h6,{id:"google-setup",children:"Google setup"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Para las opciones de google y oauth2:\nSiga las instrucciones a continuaci\xf3n para configurar la autenticaci\xf3n de Google para suERDDAP.\n\xa0","\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["Si no tienes una cuenta de correo electr\xf3nico de Google,",(0,n.jsx)(a.a,{href:"https://www.google.com/intl/en_us/mail/help/about.html",children:"crear uno"}),(0,n.jsx)(a.br,{}),"\n","\xa0"]}),"\n",(0,n.jsxs)(a.li,{children:["Seguir",(0,n.jsx)(a.a,{href:"https://developers.google.com/identity/sign-in/web/devconsole-project",children:"estas instrucciones"}),"crear un proyecto Google Developers Console y obtener un ID de cliente."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Cuando el formulario de Google pide autorizaci\xf3nJavaOrigen del script, introduzca el valor de<baseHtpsUrl confidencial de su computadora personalERDDAP\u2122setup.xml, por ejemplo,\n",(0,n.jsx)(a.a,{href:"https://localhost:8443",children:"https://localhost:8443"}),(0,n.jsx)(a.br,{}),"\n","En una segunda l\xednea, a\xf1adir el<baseHtpsUrl confidencial de su p\xfablicoERDDAP\u2122setup.xml, por ejemplo,\nhttps://",(0,n.jsx)(a.em,{children:"your.domain.org"}),":8443"]}),"\n",(0,n.jsx)(a.p,{children:"No especifique ning\xfan URI autorizado redirigir."}),"\n",(0,n.jsxs)(a.p,{children:["Cuando vea su ID de cliente para este proyecto, copiarlo y pegarlo en su configuraci\xf3n.xml (generalmente s\xf3lo abajo<autenticaci\xf3n titular para ser ordenado, pero la colocaci\xf3n no importa realmente), en el<googleClientID confiar tag, por ejemplo,\n<googleClientID ",(0,n.jsx)(a.em,{children:"tuClientID"})," </googleClientID\nEl ID del cliente ser\xe1 una cadena de unos 75 caracteres, probablemente comenzando con varios d\xedgitos y terminando con .apps.googleusercontent.com .\n\xa0"]}),"\n",(0,n.jsxs)(a.ol,{start:"3",children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"En tudatasets.xml, crear un [<usuario] (/docs/servidor-admin/datasets#user) etiqueta para cada usuario que tendr\xe1 acceso a conjuntos de datos privados. Para el atributo de nombre de usuario en la etiqueta:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Para los usuarios que se iniciar\xe1n con google, utilice la direcci\xf3n de correo electr\xf3nico de Google del usuario."}),"\n",(0,n.jsx)(a.li,{children:"Para usuarios que se inscriban con orcid, utilice el n\xfamero de cuenta Orcid del usuario (con cenizas) ."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"No especifique el atributo de contrase\xf1a para la etiqueta del usuario.\n\xa0\n4. RestartERDDAP\u2122para que los cambios de configuraci\xf3n.xml ydatasets.xmlEfectivamente.\n\xa0"}),"\n",(0,n.jsx)(a.h6,{id:"orcid-setup",children:"Orcid setup"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Para las opciones orcid y oauth2:\nSiga las instrucciones de abajo para configurar la autentificaci\xf3n Orcid para suERDDAP.\n(Para m\xe1s detalles, consulte",(0,n.jsx)(a.a,{href:"https://members.orcid.org/api/integrate/orcid-sign-in",children:"Documentaci\xf3n de API de autenticaci\xf3n de Orcid"}),".)",(0,n.jsx)(a.br,{}),"\n","\xa0","\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["Si no tienes una cuenta Orcid,",(0,n.jsx)(a.a,{href:"https://orcid.org/signin",children:"crear uno"}),(0,n.jsx)(a.br,{}),"\n","\xa0"]}),"\n",(0,n.jsxs)(a.li,{children:["Entra en Orcid",(0,n.jsx)(a.a,{href:"https://orcid.org/signin",children:" https://orcid.org/signin "}),"usando su cuenta de Orcid personal.\n\xa0"]}),"\n",(0,n.jsx)(a.li,{children:'Haga clic en "Herramientas de desarrollo" (bajo "Para investigadores" en la parte superior) .\n\xa0'}),"\n",(0,n.jsxs)(a.li,{children:['Haga clic en "Registrarse para la API p\xfablica gratuita ORCID". Introduzca esta informaci\xf3n:\nNombre',":ERDDAP","\u2122a\\[su organizaci\xf3n\\]",(0,n.jsx)(a.br,{}),"\n","Sitio web:\\[tuERDDAP's dominio\\]",(0,n.jsx)(a.br,{}),"\n","Descripci\xf3n",":ERDDAP","\u2122es un servidor de datos cient\xedficos. Los usuarios necesitan autenticar con Google o Orcid para acceder a conjuntos de datos no p\xfablicos.\nRedirect URIs:\\[tuERDDAP's dominio\\]/erddap/loginOrcid.html\n\xa0"]}),"\n",(0,n.jsx)(a.li,{children:'Haga clic en el icono Guardar (Parece un disco de 3,5".) .\nA continuaci\xf3n, puede ver su ORCID APP Client ID y ORCID Client Secret.\n\xa0'}),"\n",(0,n.jsx)(a.li,{children:'Copiar y pegar el ID de cliente ORCID APP (que comenzar\xe1 con "APP-") en configuraci\xf3n.xml en el<etiqueta, por ejemplo,'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:"        <orcidClientID>APP-*ALPHANUMERICCHARACTERS*</orcidClientID>\n"})}),"\n",(0,n.jsxs)(a.ol,{start:"7",children:["\n",(0,n.jsx)(a.li,{children:"Copiar y pegar el secreto del cliente ORCID (min\xfasculas caracteres alfa-numericos con pesta\xf1as) en configuraci\xf3n.xml en el<orcidClientSecret titulada etiqueta, por ejemplo,"}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:"        <orcidClientSecret>*alpha-numeric-characters-with-dashes*</orcidClientSecret>\n"})}),"\n",(0,n.jsxs)(a.ol,{start:"8",children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"En tudatasets.xml, crear un [<usuario] (/docs/servidor-admin/datasets#user) etiqueta para cada usuario que tendr\xe1 acceso a conjuntos de datos privados. Para el atributo de nombre de usuario en la etiqueta:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Para los usuarios que se iniciar\xe1n con google, utilice la direcci\xf3n de correo electr\xf3nico de Google del usuario."}),"\n",(0,n.jsx)(a.li,{children:"Para usuarios que se inscriban con orcid, utilice el n\xfamero de cuenta Orcid del usuario (con cenizas) ."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"No especifique el atributo de contrase\xf1a para la etiqueta del usuario.\n\xa0\n9. RestartERDDAP\u2122para que los cambios de configuraci\xf3n.xml ydatasets.xmlEfectivamente.\n\xa0"}),"\n",(0,n.jsx)(a.h6,{id:"log-in-either-way",children:"Ingrese de cualquier manera"}),"\n",(0,n.jsx)(a.p,{children:"Si utiliza las opciones de autenticaci\xf3n de google, orcid o o oauth2, y la API de autenticaci\xf3n de Google Sign-In o Orcid de repente deja de funcionar (por cualquier raz\xf3n) o deja de trabajar comoERDDAP\u2122espera, los usuarios no podr\xe1n acceder a suERDDAP. Como temporal (o permanentes) soluci\xf3n, puede pedir a los usuarios que se inscriban con el otro sistema (obtener una cuenta de correo electr\xf3nico de Google, o obtener una cuenta de Orcid) . Para hacer esto:"}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsx)(a.li,{children:"Cambiar el<autenticaci\xf3n etiqueta de modo que permita el otro sistema de autenticaci\xf3n. La opci\xf3n oauth2 permite a los usuarios iniciar sesi\xf3n con cualquier sistema."}),"\n",(0,n.jsx)(a.li,{children:"Duplicar cada uno de los<usuario etiqueta y cambiar el atributo de usuario de la direcci\xf3n de correo electr\xf3nico de Google al n\xfamero de cuenta Orcid correspondiente (o viceversa) , pero mantener los roles atribuyen lo mismo."}),"\n"]}),"\n",(0,n.jsx)(a.h6,{id:"openid",children:"OpenId"}),"\n",(0,n.jsx)(a.p,{children:"ERDDAP\u2122ya no soporta la opci\xf3n de autenticaci\xf3n abierta, que se bas\xf3 en una versi\xf3n de openid Identificaci\xf3n que ya no est\xe1 fechada. Por favor use las opciones de google, orcid, o o oauth2."}),"\n",(0,n.jsx)(a.h6,{id:"basic",children:"BASIC"}),"\n",(0,n.jsx)(a.p,{children:"ERDDAP\u2122no soporta la autenticaci\xf3n BASIC porque:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"BASIC parece estar orientado hacia las p\xe1ginas web predefinidas que necesitan acceso seguro o manta en / apagado a todo el sitio, peroERDDAP\u2122permite (Acceso restringido) datasets to be added on-the-fly."}),"\n",(0,n.jsx)(a.li,{children:"La autenticaci\xf3n BASIC no ofrece una manera para que los usuarios se inicien."}),"\n",(0,n.jsx)(a.li,{children:"Se sabe que la autenticaci\xf3n BASIC no es segura."}),"\n"]}),"\n",(0,n.jsx)(a.h5,{id:"secure-data-sources",children:"Fuentes de datos seguras"}),"\n",(0,n.jsx)(a.p,{children:"Si un conjunto de datos tiene acceso restringido aERDDAP\u2122usuarios, la fuente de datos (desde dondeERDDAP\u2122obtiene los datos) no debe ser accesible p\xfablicamente. \xbfC\xf3mo puede ser?ERDDAP\u2122obtener los datos para los conjuntos de datos de acceso restringido? Algunas opciones son:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"ERDDAP\u2122puede servir datos de archivos locales (por ejemplo, mediante EDDTable DeFiles oEDDGridDeFiles) .\n\xa0"}),"\n",(0,n.jsxs)(a.li,{children:["ERDDAP\u2122puede estar en",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Demilitarized_zone_(computing)",children:"DMZ"})," y la fuente de datos (por ejemplo, unOPeNDAPservidor o base de datos) puede estar detr\xe1s de un",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Firewall",children:"cortafuegos"}),", donde es accesibleERDDAP\u2122pero no al p\xfablico.\n\xa0"]}),"\n",(0,n.jsxs)(a.li,{children:["La fuente de datos puede estar en un sitio web p\xfablico, pero requiere un login para obtener los datos. Los dos tipos de conjunto de datos queERDDAP\u2122puede iniciar sesi\xf3n en el acceso",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablefromdatabase",children:"EDDTableDesde la base de datos"}),"y",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablefromcassandra",children:"EDDTableDesdeCassandra"}),". Estos conjuntos de datos apoyan (y siempre debe utilizar) nombres de usuario (crear unERDDAP\u2122usuario que s\xf3lo tiene privilegios solo lectura) , contrase\xf1as, conexiones SSL y otras medidas de seguridad."]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Pero en general, actualmente,ERDDAP\u2122no puede tratar estas fuentes de datos porque no tiene disposiciones para conectarse a la fuente de datos. Esta es la raz\xf3n por la cual el acceso",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDGridFromErddap and EDDTable FromErddap"}),'Los datasets no pueden ser restringidos. Actualmente, el localERDDAP\u2122no tiene manera de acceder y acceder a la informaci\xf3n de metadatos desde el remotoERDDAP. Y poner el "remote"ERDDAP\u2122detr\xe1s de su firewall y la eliminaci\xf3n de ese dataset es accesible A las restricciones no resuelve el problema: ya que las solicitudes de usuario para EDDXx FromErddap data need to be redirected to the remoteERDDAP\u2122, el control remotoERDDAP\u2122debe ser accesible.']}),"\n",(0,n.jsx)(a.h4,{id:"defenses-against-hackers",children:"Defensas contra los Hackers"}),"\n",(0,n.jsx)(a.p,{children:"Hay malos hackers que tratan de explotar debilidades de seguridad en el software del servidor comoERDDAP.ERDDAP\u2122sigue el consejo com\xfan de seguridad para tener varias capas de defensas:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Privilegios restringidos... Una de las defensas m\xe1s importantes es ejecutar Tomcat a trav\xe9s de un usuario llamado tomcat que no tiene contrase\xf1a (as\xed nadie puede iniciar sesi\xf3n como ese usuario) y tiene privilegios limitados del sistema de archivos (por ejemplo, el acceso s\xf3lo lectura a los datos) . SeeERDDAP's instrucciones para",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#tomcat",children:"configuraci\xf3n tomcat"}),"."]}),"\n",(0,n.jsx)(a.li,{children:"Uso pesado - En general,ERDDAP\u2122se construye para uso pesado, incluyendo por scripts que hacen decenas de miles de peticiones, una tras otra. Es dif\xedcil paraERDDAP\u2122abrirse simult\xe1neamente a un uso leg\xedtimo pesado y protegerse de los abusos. A veces es dif\xedcil diferenciar el uso leg\xedtimo pesado, el uso leg\xedtimo excesivo y el uso ileg\xedtimo (y a veces es muy f\xe1cil) . Entre otras defensas,ERDDAP\u2122conscientemente no permite una sola solicitud de utilizar una fracci\xf3n inordinada de los recursos del sistema (a menos que el sistema no est\xe9 activo) ."}),"\n",(0,n.jsxs)(a.li,{children:["Identificar usuarios problem\xe1ticos - SiERDDAP\u2122est\xe1 disminuyendo o congelando (tal vez porque un usuario ingenuo o un bot est\xe1 ejecutando m\xfaltiples scripts para enviar m\xfaltiples solicitudes simult\xe1neamente o tal vez debido a un chico malo",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Denial-of-service_attack",children:"Denegaci\xf3n del servicio"}),"ataque) Puedes mirar el",(0,n.jsx)(a.a,{href:"#daily-report",children:"Daily Report email"}),"  (y informaci\xf3n id\xe9ntica m\xe1s frecuente en el",(0,n.jsx)(a.a,{href:"#log",children:"ERDDAP\u2122archivo de registro"}),') que muestra el n\xfamero de solicitudes hechas por los usuarios m\xe1s activos (ver "Requester IP Address (Permiso) ") .ERDDAP\u2122tambi\xe9n env\xeda correos electr\xf3nicos al administrador cuando hay',(0,n.jsx)(a.a,{href:"#failed-requests",children:'"Actividad inusual: el 25% de las solicitudes fall\xf3"'}),". Entonces puedes mirar en elERDDAP\u2122log file para ver la naturaleza de sus peticiones. Si sientes que alguien est\xe1 haciendo demasiadas peticiones, extra\xf1as peticiones (no creer\xedas lo que he visto, bueno, tal vez lo har\xedas) , o solicitudes de tipo de ataque, puede agregar su direcci\xf3n IP a la lista negra."]}),"\n",(0,n.jsxs)(a.li,{children:["Lista negra... Puede agregar la direcci\xf3n IP de usuarios problem\xe1ticos, bots y",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Denial-of-service_attack",children:"Denegaci\xf3n del servicio"}),"atacantes a losERDDAP ",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#requestblacklist",children:"lista negra"}),", para que las solicitudes futuras de ellos sean inmediatamente rechazadas. Esta configuraci\xf3n est\xe1 endatasets.xmlpara que pueda agregar r\xe1pidamente una direcci\xf3n IP a la lista y luego",(0,n.jsx)(a.a,{href:"#flag",children:"bandera"}),"un conjunto de datos para queERDDAP\u2122notifica inmediatamente y aplica el cambio. El mensaje de error enviado a los usuarios de la lista negra los anima a ponerse en contacto conERDDAP\u2122administrador si sienten que han sido err\xf3neamente puestos en la lista negra. (En nuestra experiencia, varios usuarios no han sabido que estaban ejecutando varios scripts simult\xe1neamente, o que sus scripts estaban haciendo solicitudes de tonter\xedas.)"]}),"\n",(0,n.jsxs)(a.li,{children:["Dataset Security - Algunos tipos de conjuntos de datos (notablemente, EDDTableDesdeDatabase) nuevos riesgos de seguridad (por ejemplo, inyecci\xf3n SQL) y tener sus propias medidas de seguridad. Vea la informaci\xf3n para esos tipos de conjuntos de datos en",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets",children:"Trabajando con eldatasets.xmlArchivo"}),", en particular",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#database-security",children:"EDDTableDesde la seguridad de la base de datos"}),"."]}),"\n",(0,n.jsx)(a.li,{children:"Auditor\xeda de seguridad... AunqueNOAALa seguridad inform\xe1tica rechaz\xf3 nuestras solicitudes de escaneos durante a\xf1os, ahora escanean rutinariamente mi (Bob's)  ERDDAP\u2122instalaci\xf3n. Aunque los escaneos iniciales encontraron algunos problemas que luego arregl\xe9, los escaneos posteriores no han encontrado problemas conERDDAP. Los escaneos se preocupan por muchas cosas: en particular, desdetabledapsolicitudes parecen solicitudes SQL, se preocupan por vulnerabilidades de inyecci\xf3n SQL. Pero esas preocupaciones son infundadas porqueERDDAP\u2122Siempre analiza y valida las consultas y luego construye por separado la consulta SQL de una manera que evita vulnerabilidades de inyecci\xf3n. La otra cosa de la que a veces se quejan es que nuestraJavaversi\xf3n o las versiones de Tomcat no son tan actualizadas como quieran, as\xed que las actualizamos en respuesta. Antes me ofrec\xed a mostrarle a la gente los informes de seguridad, pero ahora me dicen que no puedo hacer eso."}),"\n"]}),"\n",(0,n.jsx)(a.h4,{id:"questions-suggestions",children:"\xbfPreguntas? \xbfSugerencias?"}),"\n",(0,n.jsxs)(a.p,{children:["Si tiene alguna pregunta sobreERDDAP's sistema de seguridad o tener cualquier pregunta, dudas, preocupaciones o sugerencias sobre c\xf3mo se establece, vea nuestra",(0,n.jsx)(a.a,{href:"/docs/intro#support",children:"secci\xf3n sobre la obtenci\xf3n de apoyo adicional"}),"."]}),"\n",(0,n.jsx)(a.h2,{id:"things-you-dont-need-to-know",children:"Cosas que no necesitas saber"}),"\n",(0,n.jsx)(a.p,{children:"Estos son detalles que no necesitas saber hasta que surge una necesidad."}),"\n",(0,n.jsx)(a.h3,{id:"second-erddap",children:"SegundoERDDAP\u2122"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Configurar un segundoERDDAP\u2122para el ensayo/desarrollo"}),(0,n.jsx)(a.br,{}),"\n","Si quieres hacer esto, hay dos enfoques:"]}),"\n",(0,n.jsx)(a.li,{children:"(Mejor) Instalar Tomcat yERDDAP\u2122en un ordenador aparte del ordenador que tiene su p\xfablicoERDDAP. Si utiliza su computadora personal:"}),"\n"]}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Haga la instalaci\xf3n un paso a la vez. Levanta a Tomcat y corre primero.\nCuando Tomcat est\xe1 corriendo, el Administrador de Tomcat deber\xeda estar en\n",(0,n.jsx)(a.a,{href:"http://127.0.0.1:8080/manager/html/",children:" http://127.0.0.1:8080/manager/html/ "}),"  (o tal vez",(0,n.jsx)(a.a,{href:"http://localhost:8080/manager/html/",children:" http://localhost:8080/manager/html/ "}),")"]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"InstalaERDDAP."}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"No utilice ProxyPass para eliminar el n\xfamero de puerto delERDDAP\u2122URL."}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["In",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),", set baseUrl to ",(0,n.jsx)(a.a,{href:"http://127.0.0.1:8080",children:"http://127.0.0.1:8080"})]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Despu\xe9s de empezar estoERDDAP\u2122Deber\xedas poder verlo.\n",(0,n.jsx)(a.a,{href:"http://127.0.0.1:8080/erddap/status.html",children:" http://127.0.0.1:8080/erddap/status.html "}),"  (o tal vez",(0,n.jsx)(a.a,{href:"http://localhost:8080/erddap/status.html",children:" http://localhost:8080/erddap/status.html "}),")"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h4,{id:"second-tomcat",children:"Segundo Tomcat"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"(Segundo mejor) Instalar otro Tomcat en el mismo ordenador que tu p\xfablicoERDDAP."}),"\n"]}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Haga la instalaci\xf3n un paso a la vez. Levanta a Tomcat y corre primero.\nCambiar todos los n\xfameros de puerto asociados con el segundo Tomcat (por ejemplo, cambiar 8080 a 8081)   (ver el",(0,n.jsx)(a.a,{href:"https://tomcat.apache.org/tomcat-8.0-doc/RUNNING.txt",children:"M\xfaltiple Tomcat Secci\xf3n de Instances"}),"a trav\xe9s de ese documento) ."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"InstalaERDDAP\u2122en el nuevo Tomcat."}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"No utilice ProxyPass para eliminar el n\xfamero de puerto delERDDAP\u2122URL."}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["In",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),", set baseUrl to ",(0,n.jsx)(a.a,{href:"http://www.*yourDomainName*:8081",children:"http://www.*yourDomainName*:8081"})]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Despu\xe9s de empezar estoERDDAP\u2122Deber\xedas poder verlo.\n",(0,n.jsx)(a.a,{href:"http://www.*yourDomainName*:8081/erddap/status.html",children:"http://www.*yourDomainName*:8081/erddap/status.html"}),(0,n.jsx)(a.br,{}),"\n","\xa0"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"solid-state-drives",children:"Solid State Drives"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Solid State Drives (SSD) \xa1Son geniales!"}),(0,n.jsx)(a.br,{}),"\n","La forma m\xe1s r\xe1pida, f\xe1cil y m\xe1s barata de acelerarERDDAP's access to tabular data is to put the data files on a Solid State Drive (SSD) . La mayor\xeda de los conjuntos de datos tabulares son relativamente peque\xf1os, por lo que una SSD de 1 o 2 TB es probablemente suficiente para mantener todos los archivos de datos para todos los conjuntos de datos tabulares. SSD eventualmente se agota si escribes datos a una c\xe9lula, lo eliminas y escribes nuevos datos a esa celda demasiadas veces. As\xed que si usted utiliza su SSD para escribir los datos una vez y leerlos muchas veces, incluso un SSD de grado de consumo debe durar mucho tiempo, probablemente mucho m\xe1s que cualquier disco duro (HDD) . SSD de grado de consumo ahora son baratos (en 2018, ~$200 para 1 TB o ~$400 para 2 TB) y los precios siguen cayendo r\xe1pido. CuandoERDDAP\u2122acceso a un archivo de datos, un SSD ofrece una latencia m\xe1s corta (~0.1ms, versus ~3ms para un HDD, versus ~10 (?) ms para un RAID, versus ~55ms para Amazon S3) y mayor rendimiento (~500 MB/S, versus ~75 MB/s para un HDD, versus ~500 MB/s para un RAID) . As\xed que puedes conseguir un gran aumento de rendimiento (hasta 10X contra un HDD) por $200! Comparado con la mayor\xeda de los cambios posibles en su sistema (un nuevo servidor por $10,000? \xbfUn nuevo RAID por 35.000 d\xf3lares? \xbfUn nuevo interruptor de red por $5000? etc.) , esto es por lejos el mejor retorno de la inversi\xf3n (ROI) . Si/cuando el SSD muere (en 1, 2, 8 a\xf1os) , reemplazarlo. No conf\xede en ello a largo plazo, almacenamiento de archivos de los datos, s\xf3lo para la copia frontal de los datos.\\[SSD tambi\xe9n ser\xeda genial para datos redondeados, pero la mayor\xeda de los conjuntos de datos redondeados son mucho m\xe1s grandes, haciendo que el SSD sea muy caro.\\]"]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Si su servidor no est\xe1 cargado de memoria, la memoria adicional para su servidor es tambi\xe9n una manera grande y relativamente barata de acelerar todos los aspectos deERDDAP.\n\xa0"}),"\n",(0,n.jsxs)(a.h3,{id:"heavy-loads--constraints",children:[(0,n.jsx)(a.a,{href:"#heavy-loads--constraints",children:"Carga pesada / Limitaciones"})," **"]}),"\n",(0,n.jsxs)(a.p,{children:["Con mucho uso, un standaloneERDDAP\u2122puede verse limitado por varios problemas. Para m\xe1s informaci\xf3n, vea el",(0,n.jsx)(a.a,{href:"/docs/server-admin/scaling#heavy-loads--constraints",children:"lista de limitaciones y soluciones"}),".\n\xa0"]}),"\n",(0,n.jsx)(a.h3,{id:"grids-clusters-and-federations",children:"Grids, Clusters, and Federations"}),"\n",(0,n.jsxs)(a.p,{children:["Bajo un uso muy pesado, una sola independienteERDDAP\u2122se enfrentar\xe1 a una o m\xe1s limitaciones e incluso las soluciones sugeridas ser\xe1n insuficientes. Para tales situaciones,ERDDAP\u2122tiene caracter\xedsticas que hacen f\xe1cil construir redes escalables (tambi\xe9n llamados grupos o federaciones) deERDDAPs que permite al sistema manejar un uso muy pesado (por ejemplo, para un gran centro de datos) . Para m\xe1s informaci\xf3n, consulte",(0,n.jsx)(a.a,{href:"/docs/server-admin/scaling",children:"redes, racimos y federaciones deERDDAPs"}),".\n\xa0"]}),"\n",(0,n.jsx)(a.h3,{id:"cloud-computing",children:"Cloud Computing"}),"\n",(0,n.jsxs)(a.p,{children:["Varias empresas est\xe1n empezando a ofrecer",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Cloud_computing",children:"cloud computing services"}),"  (por ejemplo,",(0,n.jsx)(a.a,{href:"https://aws.amazon.com/",children:"Amazon Web Services"}),") .",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Web_hosting_service",children:"Web hosting companies"}),'han ofrecido servicios m\xe1s sencillos desde mediados de los a\xf1os 90, pero los servicios de "cloud" han ampliado considerablemente la flexibilidad de los sistemas y la gama de servicios ofrecidos. Usted puede utilizar estos servicios para configurar un soloERDDAP\u2122o una cuadr\xedcula/clusterERDDAPpara manejar un uso muy pesado. Para m\xe1s informaci\xf3n, consulte',(0,n.jsx)(a.a,{href:"/docs/server-admin/scaling#cloud-computing",children:"cloud computing conERDDAP\u2122"}),"."]}),"\n",(0,n.jsx)(a.h3,{id:"amazon",children:"Amazon"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:(0,n.jsx)(a.a,{href:"#amazon",children:"Amazon Web Services (AWS) Resumen de la instalaci\xf3n de EC2"})}),(0,n.jsx)(a.br,{}),"\n",(0,n.jsx)(a.a,{href:"https://aws.amazon.com/",children:"Amazon Web Services (AWS) "}),"es un",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Cloud_computing",children:"cloud computing service"}),"que ofrece una amplia gama de infraestructura inform\xe1tica que se puede alquilar por hora. Puede instalarERDDAP\u2122on an",(0,n.jsx)(a.a,{href:"https://aws.amazon.com/ec2/",children:"Nube de Computaci\xf3n El\xe1stica (EC2) "}),"ejemplo (su nombre para una computadora que se puede alquilar por hora) . AWS tiene una excelente",(0,n.jsx)(a.a,{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/concepts.html",children:"Gu\xeda de usuario de AWS"}),"y puede utilizar Google para encontrar respuestas a preguntas espec\xedficas que pueda tener. Prep\xe1rate... es una buena cantidad de trabajo para empezar. Pero una vez que consiga un servidor en funcionamiento, puede alquilar f\xe1cilmente tantos recursos adicionales (servidores, bases de datos, espacio SSD, etc.) como usted necesita, a un precio razonable.\\[Esto no es una recomendaci\xf3n o aprobaci\xf3n de Amazon Web Services. Hay otros proveedores de nubes.\\]"]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Una visi\xf3n general de las cosas que necesitas hacer para conseguirERDDAP\u2122correr en AWS es:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["En general, usted har\xe1 todas las cosas descritas en",(0,n.jsx)(a.a,{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/concepts.html",children:"Gu\xeda de usuario de AWS"}),"."]}),"\n",(0,n.jsx)(a.li,{children:"Establecer una cuenta de AWS."}),"\n",(0,n.jsx)(a.li,{children:"Configurar un usuario de AWS dentro de esa cuenta con privilegios de administrador. Inicie sesi\xf3n como usuario para hacer todos los siguientes pasos."}),"\n",(0,n.jsx)(a.li,{children:"Elastic Block Storage (EBS) es el equivalente AWS de un disco duro conectado a su servidor. Algunos espacio de EBS ser\xe1n asignados cuando primero crea una instancia EC2. Es almacenamiento persistente - la informaci\xf3n no se pierde cuando usted detiene su instancia EC2. Y si cambias los tipos de instancia, tu espacio EBS se conecta autom\xe1ticamente a la nueva instancia."}),"\n",(0,n.jsx)(a.li,{children:"Crear una direcci\xf3n IP el\xe1stica para que su instancia EC2 tenga una URL p\xfablica estable (en oposici\xf3n a una URL privada que cambia cada vez que reinicias tu instancia) ."}),"\n",(0,n.jsxs)(a.li,{children:["Crear y comenzar una instancia EC2 (ordenador) . Hay una amplia gama de",(0,n.jsx)(a.a,{href:"https://aws.amazon.com/ec2/instance-types/",children:"tipos de instancia"}),", cada uno a un precio diferente. Una instancia m4.large o m4.xlarge es potente y es probablemente adecuado para la mayor\xeda de los usos, pero elija cualquier cosa que satisfaga sus necesidades. Probablemente querr\xe1 utilizar Linux de Amazon como sistema operativo."]}),"\n",(0,n.jsxs)(a.li,{children:["Si su computadora de escritorio/laptop es un ordenador de Windows, puede utilizar",(0,n.jsx)(a.a,{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/putty.html",children:"PuTTY"}),", un cliente SSH gratuito para Windows, para obtener acceso a la l\xednea de comandos de su instancia EC2. O, usted puede tener otro programa SSH que usted prefiere."]}),"\n",(0,n.jsxs)(a.li,{children:['Cuando inicie sesi\xf3n en su instancia EC2, se registrar\xe1 como usuario administrativo con el nombre de usuario "ec2-user". ec2-user tiene privilegios de sudo. As\xed que, cuando usted necesita hacer algo como el usuario ra\xedz, use: sudo ',(0,n.jsx)(a.em,{children:"algunosCommand"})]}),"\n",(0,n.jsxs)(a.li,{children:["Si su computadora de escritorio/laptop es un ordenador de Windows, puede utilizar",(0,n.jsx)(a.a,{href:"https://stackoverflow.com/questions/16744863/connect-to-amazon-ec2-file-directory-using-filezilla-and-sftp",children:"FileZilla"}),", un programa SFTP gratuito, para transferir archivos a / desde su instancia EC2. O, usted puede tener otro programa SFTP que usted prefiere."]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.a,{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/install-LAMP.html",children:"Instalar Apache"}),"en su caso EC2."]}),"\n",(0,n.jsxs)(a.li,{children:["Siga el est\xe1ndar",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install",children:"ERDDAP\u2122Instrucciones de instalaci\xf3n"}),".\n\xa0"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"waitthentryagain-exception",children:"Espera entoncesTryAgain Excepci\xf3n"}),"\n",(0,n.jsxs)(a.p,{children:["Un usuario puede recibir un mensaje de error como\nEspera entoncesTryAgainException:\nHab\xeda una (temporal?) problema. Espera un minuto, luego vuelve a intentarlo. (En un navegador, haga clic en el bot\xf3n Reload.)",(0,n.jsx)(a.br,{}),"\n",'Detalles: GridDataAccessor.incremento: resultados parciales\\[0\\]Se esperaba que "123542730" fuera "123532800".']}),"\n",(0,n.jsxs)(a.p,{children:["La explicaci\xf3n general de la WaitThenTryAgainException es:\nCuandoERDDAP\u2122est\xe1 respondiendo a una solicitud de usuario, puede haber un error inesperado con el conjunto de datos (por ejemplo, un error al leer datos del archivo, o un error al acceder a un conjunto de datos remoto) . Esperen entoncesTryAgain se\xf1ales aERDDAP\u2122que la solicitud fall\xf3 (hasta ahora) pero esoERDDAP\u2122debe tratar de volver a cargar el conjunto de datos r\xe1pidamente (Se llama",(0,n.jsx)(a.a,{href:"#requestreloadasap",children:"SolicitudReloadASAP"}),") y volver a enviar la solicitud. A menudo, esto sucede, y el usuario s\xf3lo ve que la respuesta a la solicitud fue lenta. Otras veces, la recarga falla o es demasiado lenta, o el intento subsiguiente de lidiar con la solicitud tambi\xe9n falla y lanza otra WaitThenTryAgain. Si eso sucede,ERDDAP\u2122marca el conjunto de datos para la recarga, pero le dice al usuario (a trav\xe9s de un WaitThenTryAgain Excepci\xf3n) que hubo un fracaso al responder a la solicitud."]}),"\n",(0,n.jsx)(a.p,{children:"Ese es el comportamiento normal. Este sistema puede tratar con muchos problemas comunes.\nPero es posible que este sistema se desencadene excesivamente. La causa m\xe1s com\xfan es queERDDAP's la carga del conjunto de datos no ve un problema, peroERDDAP's respuesta a una solicitud de datos ve el problema. No importa cu\xe1l sea la causa, la soluci\xf3n es para que usted se ocupe de lo que est\xe1 mal con el conjunto de datos. Mira en log.txt para ver los mensajes de error reales y tratar con los problemas. Si muchos archivos tienen encabezados v\xe1lidos pero datos inv\xe1lidos (un archivo da\xf1ado) , reemplazar los archivos con archivos incorruptos. Si la conexi\xf3n con un RAID es flakey, solucione. Si la conexi\xf3n a un servicio remoto es flakey, encuentra una manera de hacer que no flakey o descargar todos los archivos de la fuente remota y servir los datos de los archivos locales."}),"\n",(0,n.jsx)(a.p,{children:'La explicaci\xf3n detallada de ese error espec\xedfico (arriba) es:\nPara cada unoEDDGridDataset,ERDDAP\u2122mantiene los valores variables del eje en memoria. Se utilizan, por ejemplo, para convertir los valores de eje solicitados que usan el " () "formato en n\xfameros \xedndice. Por ejemplo, si los valores del eje son "10, 15, 20, 25", una solicitud de (20) se interpretar\xe1 como una solicitud de \xedndice #2 (\xcdndices basados en 0) . CuandoERDDAP\u2122obtiene una solicitud de datos y obtiene los datos de la fuente, verifica que los valores del eje que obtuvo de la fuente coinciden con los valores del eje en la memoria. Normalmente lo hacen. Pero a veces la fuente de datos ha cambiado de manera significativa: por ejemplo, los valores de \xedndice desde el comienzo de la variable del eje pueden haberse eliminado (por ejemplo, "10, 15, 20, 25" puede haberse convertido en "20, 25, 30") . Si eso sucede, est\xe1 claro queERDDAPinterpretaci\xf3n de la solicitud (por ejemplo, " (20) "es \xedndice #2) Ahora est\xe1 equivocado. As\xed que...ERDDAP\u2122lanza una excepci\xf3n y llama a RequestReloadASAP.ERDDAP\u2122actualizar\xe1 el conjunto de datos pronto (a menudo en unos segundos, generalmente en un minuto) . Otros problemas similares tambi\xe9n lanzan la excepci\xf3n WaitThenTryAgain.'}),"\n",(0,n.jsx)(a.h4,{id:"requestreloadasap",children:"SolicitudReloadASAP"}),"\n",(0,n.jsxs)(a.p,{children:["Usted puede ver RequestReloadASAP en el archivo log.txt justo despu\xe9s de un mensaje de error y a menudo cerca de un",(0,n.jsx)(a.a,{href:"#waitthentryagain-exception",children:"Espera entoncesTryAgain Excepci\xf3n"}),". Es b\xe1sicamente una forma interna, program\xe1tica paraERDDAP\u2122para establecer un",(0,n.jsx)(a.a,{href:"#flag",children:"bandera"}),"para indicar que el conjunto de datos debe ser recargado lo antes posible.\n\xa0"]}),"\n",(0,n.jsx)(a.h3,{id:"files-not-being-deleted",children:"Archivos que no se eliminan"}),"\n",(0,n.jsx)(a.p,{children:"Para unos pocosERDDAP\u2122instalaciones, ha habido un problema con algunos archivos temporales creados porERDDAP\u2122permanecer abierto (equivocadamente) y por lo tanto no se elimina. En algunos casos, muchos de estos archivos han acumulado y tomado una cantidad significativa de espacio en disco."}),"\n",(0,n.jsx)(a.p,{children:"Con suerte, estos problemas se resuelven (aERDDAP\u2122v2.00) . Si usted ve este problema, por favor env\xede un correo electr\xf3nico a Chris los directorios + nombres de los archivos ofensivos. John en Noaa.gov. Usted tiene algunas opciones para tratar con el problema:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Si los archivos no son grandes y no est\xe1n causando que se escape del espacio del disco, puede ignorar el problema."}),"\n",(0,n.jsx)(a.li,{children:"La soluci\xf3n m\xe1s simple es cerrar tomcat/ERDDAP\u2122  (despu\xe9s de horas, menos usuarios se ven afectados) . Durante el cierre, si el sistema operativo no elimina los archivos, eliminarlos a mano. Entonces reiniciaERDDAP.\n\xa0"}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"json-ld",children:"JSON-ld"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:(0,n.jsx)(a.a,{href:"#json-ld",children:"Marcado sem\xe1ntico de conjuntos de datos con json-ld (JSON Datos vinculados) "})}),(0,n.jsx)(a.br,{}),"\n","ERDDAP\u2122ahora utiliza",(0,n.jsx)(a.a,{href:"https://json-ld.org",children:"json-ld (JSON Datos vinculados) "}),"para hacer su cat\xe1logo de datos y conjuntos de datos parte de la",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Semantic_Web",children:"sem\xe1ntica web"}),', que es la idea de Tim Berners-Lee de hacer que el contenido web sea m\xe1s legible por m\xe1quina y m\xe1quina "comprensible". El contenido json-ld utiliza',(0,n.jsx)(a.a,{href:"https://schema.org/",children:"schema.org"}),"t\xe9rminos y definiciones. Motores de b\xfasqueda (",(0,n.jsx)(a.a,{href:"https://developers.google.com/search/docs/data-types/datasets",children:"Google en particular"}),") y otras herramientas sem\xe1nticas pueden utilizar esta marca estructurada para facilitar el descubrimiento e indexaci\xf3n. La marca estructurada json-ld aparece como invisible-a-humanos<script c\xf3digo en el ",(0,n.jsx)(a.a,{href:"https://.../erddap/info/index.html",children:"https://.../erddap/info/index.html"})," p\xe1gina web (que es una web sem\xe1ntica",(0,n.jsx)(a.a,{href:"https://schema.org/DataCatalog",children:"DataCatalog"}),") y en cada ",(0,n.jsx)(a.a,{href:"https://.../erddap/info/",children:"https://.../erddap/info/"}),(0,n.jsx)(a.em,{children:"datasetID"}),"/index.html p\xe1gina web (que es una web sem\xe1ntica",(0,n.jsx)(a.a,{href:"https://schema.org/Dataset",children:"Dataset"}),") . (Especial gracias a Adam Leadbetter y Rob Fuller del Instituto Marino de Irlanda por hacer las partes dif\xedciles del trabajo para hacer esta parte deERDDAP.)",(0,n.jsx)(a.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"out-of-date-urls",children:"URL fuera de destino"}),"\n",(0,n.jsx)(a.p,{children:"Despacio pero sin duda, las URL que los proveedores de datos han escrito en archivos de datos se est\xe1n convirtiendo fuera de la fecha (por ejemplo,httpse convierte enhttps, los sitios web se reorganizan y organizaciones como NODC/NGDC/NCDC se reorganizan en NCEI) . Los enlaces rotos resultantes son un problema siempre presente enfrentado por todos los sitios web. Para lidiar con esto,ERDDAP\u2122ahora tiene un sistema para actualizar autom\xe1ticamente URL fuera de fecha. Si GenerarDatasets Xml ve una URL no actualizada, a\xf1ade la URL actualizada a<addAttributes. Adem\xe1s, cuando un conjunto de datos se carga, siERDDAP\u2122ve una URL fuera de la fecha, que cambia silenciosamente a la URL actualizada. Los cambios son controlados por una serie de b\xfasqueda/reemplazamiento-con pares definidos en<updateUrls dentroERDDAP's\n\\[tomcat\\]/webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml file. Puedes hacer cambios all\xed. Si tiene sugerencias para cambios, o si cree que esto debe ser convertido en un servicio (como los convertidores) Por favor, por correo electr\xf3nico a Chris. John en Noaa.gov.\n\xa0"}),"\n",(0,n.jsx)(a.h3,{id:"cors",children:"CORS"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["CORS (",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Cross-origin_resource_sharing",children:"Intercambio de recursos entre pa\xedses"}),")",(0,n.jsx)(a.br,{}),"\n",'"es un mecanismo que permite recursos restringidos (e.g. fuentes oERDDAP\u2122datos) en una p\xe1gina web a ser solicitado de otro dominio fuera del dominio del cual se sirvi\xf3 el primer recurso" (Arun Ranganathan) . B\xe1sicamente, CORS es un mensaje que se puede poner en el encabezado HTTP de una respuesta, diciendo esencialmente, "est\xe1 bien con este sitio si ciertos otros sitios (espec\xedficas, o todas) recursos (por ejemplo, datos) de este sitio y ponerlo disponible en su sitio". As\xed, es una alternativa a',(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/JSONP",children:"JSONP"}),"."]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Los desarrolladores deERDDAP\u2122no pretenden ser expertos en seguridad. No estamos completamente claros sobre los problemas de seguridad relacionados con CORS. No queremos hacer ninguna declaraci\xf3n que apoye una acci\xf3n que disminuya la seguridad. As\xed que nos mantendremos neutrales y lo dejaremos a cada unoERDDAP\u2122admin para decidir si los beneficios o habilitar un encabezado CORS valen los riesgos. Como siempre, si tuERDDAP\u2122tiene conjuntos de datos privados, es una buena idea tener m\xe1s cuidado con la seguridad."}),"\n",(0,n.jsxs)(a.p,{children:["Si desea habilitar CORS para suERDDAP\u2122, hay",(0,n.jsx)(a.a,{href:"https://enable-cors.org/index.html",children:"instrucciones disponibles"}),"describiendo c\xf3mo los administradores del sitio web pueden habilitar un encabezado CORS a trav\xe9s de su software servidor de nivel inferior (por ejemplo, Apache o nginx) ."]}),"\n",(0,n.jsx)(a.h3,{id:"palettes",children:"Palettes"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Las paletas son utilizadas porERDDAP\u2122convertir una gama de valores de datos en una gama de colores al hacer gr\xe1ficos y mapas."}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Cada paleta se define en un archivo de paleta de estilo .cpt como utilizado por",(0,n.jsx)(a.a,{href:"https://www.soest.hawaii.edu/gmt/",children:"GMT"}),". TodosERDDAP\u2122.cpt archivos son v\xe1lidos GMT .cpt archivos, pero lo contrario no es cierto. Para uso enERDDAP\u2122, archivos .cpt tienen:"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:'Las l\xedneas de comentarios opcionales al inicio del archivo, comenzando por "#".'}),"\n",(0,n.jsx)(a.li,{children:"Una secci\xf3n principal con una descripci\xf3n de los segmentos de la paleta, un segmento por l\xednea. Cada l\xednea de descripci\xf3n de segmento tiene 8 valores:\nEmpieza Valor, startRed, empezar Green, comienza Azul, endValue, endRed, endGreen, endBlue.\nPuede haber alg\xfan n\xfamero de segmentos.ERDDAP\u2122utiliza la interpolaci\xf3n lineal entre el startRed/Green/Blue y endRed/Green/Blue de cada segmento."}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Recomendamos que cada segmento especifique un color de inicio y final que son diferentes, y que el color de inicio de cada segmento sea el mismo que el color final del segmento anterior, de modo que la paleta describe una mezcla continua de colores.ERDDAP\u2122tiene un sistema para crear en el vuelo una paleta de colores discretos de una paleta con una mezcla continua de colores. AnERDDAP\u2122el usuario puede especificar si quieren que la paleta sea continua (el original) o Discreta (derivado del original) . Pero hay razones leg\xedtimas para no seguir estas recomendaciones para algunas paletas."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"El valor inicial y los valores finales deben ser enteros.\nEl primer segmento debe tener startValue=0 y endValue=1.\nEl segundo segmento debe tener startValue=1 y endValue=2.\nEtc."}),"\n",(0,n.jsx)(a.li,{children:"Los valores rojo, verde y azul deben ser enteros de 0 (ninguno) ... 255 (completo) ."}),"\n",(0,n.jsxs)(a.li,{children:["El final del archivo debe tener 3 l\xedneas con:","\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsx)(a.li,{children:"Un color rgb de fondo para valores de datos menos que el m\xednimo de barra de colores, por ejemplo: B 128 128\nEs a menudo el startRed, startGreen, y startBlue del primer segmento."}),"\n",(0,n.jsx)(a.li,{children:"Un color rgb de primer plano para valores de datos m\xe1s que el m\xe1ximo de la barra de colores, por ejemplo: F 128 0 0\nEs a menudo el endRed, endGreen y endBlue del \xfaltimo segmento."}),"\n",(0,n.jsx)(a.li,{children:"Color rgb para valores de datos NaN, por ejemplo, N 128 128\nA menudo es gris medio (128 128) ."}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.li,{children:"Los valores de cada l\xednea deben ser separados por pesta\xf1as, sin espacios extraneosos."}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Un archivo .cpt muestra BlueWhiteRed.cpt:"}),"\n",(0,n.jsx)(a.p,{children:"\\# Este es BlueWhiteRed.cpt.\n0 0 128 1 0 0 255\n1 0 0 255 2 0 255 255\n2 0 255 255 3 255 255 255\n3 255 255 255 4 255 255 0\n4 255 255 0 5 255 0 0\n5 255 0 0 6 128 0 0\nB 0 0 128\nF 128 0 0\nN 128 128 128"}),"\n",(0,n.jsx)(a.p,{children:"Vea los archivos .cpt existentes para otros ejemplos. Si hay problemas con un archivo .cpt,ERDDAP\u2122probablemente lanzar un error cuando el archivo .cpt es analizado (que es mejor que mal uso de la informaci\xf3n) ."}),"\n",(0,n.jsxs)(a.p,{children:["Puedes a\xf1adir m\xe1s paletas aERDDAP. Puedes hacerlos t\xfa mismo o encontrarlos en la web (por ejemplo,",(0,n.jsx)(a.a,{href:"http://soliton.vm.bytemark.co.uk/pub/cpt-city/",children:"cpt-city"}),") aunque probablemente tengas que editar su formato ligeramente para conformarte conERDDAPEs .cpt requisitos. Para conseguirERDDAP\u2122para utilizar un nuevo archivo .cpt, almacenar el archivo en ",(0,n.jsx)(a.em,{children:"tomcat"})," /webapps/erddap/WEB-INF/cptfiles (tendr\xe1 que hacer eso por cada nueva versi\xf3n deERDDAP) y bien:"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Si utiliza el archivo default messages.xml: agregue el nombre de archivo al archivo<paletas tituladas\n",(0,n.jsx)(a.em,{children:"tomcat"})," /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml.\nSi haces esto, necesitas hacerlo cada vez que actualizasERDDAP."]}),"\n",(0,n.jsxs)(a.li,{children:["Si utilizas un archivo personalizado.xml: agrega el nombre de archivo al archivo<palettes titulada etiqueta en su archivo custom messages.xml: ",(0,n.jsx)(a.em,{children:"tomcat"})," /content/erddap/messages.xml . Si haces esto, solo necesitas hacerlo una vez. (pero hay otro trabajo para mantener un archivo personalizado.xml) ."]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:'Entonces reiniciaERDDAP\u2122As\xed que...ERDDAP\u2122nota los cambios. Una ventaja de este enfoque es que puede especificar el orden de las paletas en la lista presentada a los usuarios. Si agregas una colecci\xf3n, te animamos a a\xf1adir un prefijo con las iniciales de los autores (por ejemplo, "KT\\_") al nombre de cada paleta para identificar la colecci\xf3n y para que pueda haber m\xfaltiples paletas que de otro modo tendr\xedan el mismo nombre.'}),"\n",(0,n.jsx)(a.p,{children:"Por favor, no quites ni cambies ninguna de las paletas est\xe1ndar. Son una caracter\xedstica est\xe1ndar de todosERDDAP\u2122instalaciones. Si usted piensa que una paleta o colecci\xf3n de paletas debe ser incluido en el est\xe1ndarERDDAP\u2122distribuci\xf3n porque / ellos ser\xedan de uso general, por favor env\xedelos por correo electr\xf3nico a Chris. John en Noaa.gov."}),"\n",(0,n.jsx)(a.h3,{id:"colorbars",children:"Colorbars"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:(0,n.jsx)(a.strong,{children:"\xbfC\xf3mo?ERDDAP\u2122generar los colores en una barra de colores?"})}),"\n"]}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["El usuario selecciona uno de los predefinidos",(0,n.jsx)(a.a,{href:"#palettes",children:"paletas"}),"o usa el predeterminado, por ejemplo, Rainbow. Las paletas se almacenan y definen en los archivos de mesa de estilo GMT.cpt Color Palette. Cada una de lasERDDAP's paletas predefinidas tiene una simple gama de enteros, por ejemplo, 0 a 1 (si s\xf3lo hay una secci\xf3n en la paleta) , o 0 a 4 (si hay cuatro secciones en la paleta) . Cada segmento del archivo cubre n a n+1, comenzando en n=0."]}),"\n",(0,n.jsx)(a.li,{children:"ERDDAP\u2122genera un nuevo archivo .cpt on-the-fly, escalando la gama de la paleta predefinida (por ejemplo, 0 a 4) a la gama de la paleta necesaria por el usuario (por ejemplo, 0,1 a 50) y luego generar una secci\xf3n en la nueva paleta para cada secci\xf3n de la nueva paleta (por ejemplo, una escala de registro con garrapatas a 0.1, 0.5, 1, 5, 10, 50 tendr\xe1 5 secciones) . El color para el punto final de cada secci\xf3n se genera encontrando la secci\xf3n relevante de la paleta en el archivo .cpt, y luego interpolar linealmente los valores R, G y B. (As\xed es como GMT genera colores de sus archivos de mesa de paleta de colores.) Este sistema permiteERDDAP\u2122para empezar con paletas gen\xe9ricas (por ejemplo, Rainbow con 8 segmentos, en total de 0 a 8) y crear paletas personalizadas en el vuelo (por ejemplo, un arco iris personalizado, que mapas 0.1 a 50 mg/L a los colores del arco iris) ."}),"\n",(0,n.jsx)(a.li,{children:"ERDDAP\u2122entonces utiliza ese nuevo archivo .cpt para generar el color para cada pixel de color diferente en la barra de color (y m\xe1s tarde para cada punto de datos al trazar datos en un gr\xe1fico o mapa) , de nuevo encontrando la secci\xf3n relevante de la paleta en el archivo .cpt, luego interpolar linealmente los valores R, G y B."}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Este proceso puede parecer innecesariamente complicado. Pero resuelve problemas relacionados con escalas de registros que son dif\xedciles de resolver de otras maneras."}),"\n",(0,n.jsxs)(a.p,{children:["As\xed que \xbfc\xf3mo puedes imitar lo queERDDAP\u2122\xbfLo est\xe1 haciendo? Eso no es f\xe1cil. B\xe1sicamente necesita duplicar el proceso queERDDAP\u2122est\xe1 usando. Si eres unJavaprogramador, puede usar el mismoJavaclase queERDDAP\u2122usa para hacer todo esto:\n",(0,n.jsx)(a.em,{children:"tomcat"})," /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/coastwatch/sgt/CompoundColorMap.java."]}),"\n",(0,n.jsx)(a.h3,{id:"guidelines-for-data-distribution-systems",children:"Directrices para los sistemas de distribuci\xf3n de datos"}),"\n",(0,n.jsxs)(a.p,{children:["Se pueden encontrar m\xe1s opiniones generales sobre el dise\xf1o y evaluaci\xf3n de los sistemas de distribuci\xf3n de datos",(0,n.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/images/erddapTalk/erdData.html",children:"Aqu\xed."}),".\n\xa0"]}),"\n",(0,n.jsx)(a.h3,{id:"archiveadataset",children:"ArchiveADataset"}),"\n",(0,n.jsxs)(a.p,{children:["Incluido en suERDDAP\u2122instalaci\xf3n es una herramienta de l\xednea de comandos llamada ArchiveADataset que puede ayudarle a hacer un archivo (a.zipo.tar.gzarchivo) con parte o todo un conjunto de datos almacenados en una serie de netcdf-3.ncarchivos de datos en un formato de archivo que es adecuado para su presentaci\xf3nNOAAEs archivo NCEI (.ncpara conjuntos de datos o",(0,n.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#ncCFMA",children:".ncCFMA"}),"para conjuntos de datos tabulares, seg\xfan especifican los",(0,n.jsx)(a.a,{href:"https://www.ncei.noaa.gov/data/oceans/ncei/formats/netcdf/v2.0/index.html",children:"NCEINetCDFPlantillas v2.0"}),") ."]}),"\n",(0,n.jsx)(a.p,{children:"ArchiveA Dataset puede hacer dos formatos de archivo diferentes:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:['El formato "original" sigue estos',(0,n.jsx)(a.a,{href:"https://www.ncdc.noaa.gov/atrac/guidelines.html",children:"NCEI Archiving Guidelines"}),", esta gu\xeda para",(0,n.jsx)(a.a,{href:"https://sites.google.com/a/noaa.gov/ncei-ioos-archive/cookbook?pli=1",children:"Archivar sus datos en NCEI"}),", y los relacionados",(0,n.jsx)(a.a,{href:"https://sites.google.com/a/noaa.gov/ncei-ioos-archive/cookbook/data-integrity",children:"Pr\xe1cticas para asegurar la integridad de los datos"}),"."]}),"\n",(0,n.jsxs)(a.li,{children:['El formato "BagIt" hace',(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/BagIt",children:"Cargos BagIt"}),", un formato de archivo estandarizado promovido por la Biblioteca del Congreso de EE.UU., seg\xfan especifica la",(0,n.jsx)(a.a,{href:"https://tools.ietf.org/html/draft-kunze-bagit-14",children:"BagIt v0.97 especificaci\xf3n"}),".NOAA's NCEI puede estandarizar en archivos BagIt para presentaciones al archivo."]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["No es sorprendente,",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#global-attributes",children:"metadatos globales y variables"}),"queERDDAP\u2122alienta/requiere es casi exactamente los mismos metadatos CF y ACDD que NCEI alienta/requiere, por lo que todos sus conjuntos de datos deben estar listos para su presentaci\xf3n a NCEI a trav\xe9s de",(0,n.jsx)(a.a,{href:"https://www.nodc.noaa.gov/s2n/",children:"Send2NCEI"}),"o",(0,n.jsx)(a.a,{href:"https://www.ncdc.noaa.gov/atrac/index.html",children:"ATRAC"}),"  (NCEI's Advanced Tracking and Resource tool for Archive Collections) ."]}),"\n",(0,n.jsx)(a.p,{children:"Si t\xfa (elERDDAP\u2122administrador) use ArchiveADataset para enviar datos a NCEI, entonces usted (NCEI) determinar\xe1 cu\xe1ndo enviar un trozo de datos a NCEI y qu\xe9 ser\xe1 ese trozo, porque sabr\xe1 cu\xe1ndo hay nuevos datos y c\xf3mo especificar ese trozo (y NCEI no) . Por lo tanto, ArchiveADataset es una herramienta para que usted pueda utilizar para crear un paquete para enviar a NCEI."}),"\n",(0,n.jsxs)(a.p,{children:["ArchiveA Dataset puede ser \xfatil en otras situaciones, por ejemplo, paraERDDAP\u2122administradores que necesitan convertir un subconjunto de un conjunto de datos (on a privateERDDAP) de su formato de archivo nativo en un conjunto de",(0,n.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#ncCFMA",children:".ncArchivos CF"}),", para que un p\xfablicoERDDAP\u2122puede servir los datos de los.ncArchivos CF en lugar de los archivos originales."]}),"\n",(0,n.jsxs)(a.p,{children:["Una vez que hayas preparadoERDDAP\u2122y ejecutarlo (al menos una vez) , usted puede encontrar y utilizar ArchiveADataset en el ",(0,n.jsx)(a.em,{children:"tomcat"})," /webapps/erddap/WEB-INF directory. Hay un script de shell (ArchiveADataset.sh) para Linux/Unix y un archivo por lotes (ArchiveADataset.bat) para Windows."]}),"\n",(0,n.jsx)(a.p,{children:"En Windows, la primera vez que ejecuta ArchiveADataset, necesita editar el ArchiveADataset. archivo de murci\xe9lago con un editor de texto para cambiar la ruta hacia el java. archivo exe para que Windows pueda encontrarJava."}),"\n",(0,n.jsx)(a.p,{children:"Cuando se ejecuta ArchiveADataset, le har\xe1 una serie de preguntas. Para cada pregunta, escriba una respuesta, luego presione Enter. O pulse ^C para salir de un programa en cualquier momento."}),"\n",(0,n.jsx)(a.p,{children:'O, puede poner las respuestas a las preguntas, en orden, en la l\xednea de comandos. Para ello, ejecute el programa una vez y escriba sus respuestas. Entonces, puedes crear una sola l\xednea de comandos (con las respuestas como par\xe1metros) que ejecuta el programa y responde a todas las preguntas.\nUtilice la palabra predeterminado si desea utilizar el valor predeterminado para un par\xe1metro dado.\nUsar " (dos citas dobles) como titular de un cord\xf3n vac\xedo.\nLos par\xe1metros de especificaci\xf3n en la l\xednea de comandos pueden ser muy convenientes, por ejemplo, si utiliza ArchiveADataset una vez al mes para archivar el valor de los datos de un mes. Una vez que haya generado la l\xednea de comandos con par\xe1metros y guardado que en sus notas o en un script de shell, s\xf3lo tiene que hacer peque\xf1os cambios cada mes para hacer el archivo de ese mes.'}),"\n",(0,n.jsx)(a.p,{children:"Las preguntas que hace ArchiveADataset le permiten:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Especifique el embalaje de archivos original o Bagit. Para NCEI, usa Bagit."}),"\n",(0,n.jsx)(a.li,{children:"Especificar la cremallera o la tarta.gzcompresi\xf3n para el paquete. Para NCEI, use tar.gz."}),"\n",(0,n.jsx)(a.li,{children:"Especifique una direcci\xf3n de correo electr\xf3nico de contacto para este archivo (ser\xe1 escrito en el archivo READ\\_ME.txt en el archivo) ."}),"\n",(0,n.jsx)(a.li,{children:"Especifique eldatasetIDdel conjunto de datos que desea archivar."}),"\n",(0,n.jsx)(a.li,{children:"Especifique qu\xe9 variables de datos desea archivar (usualmente) ."}),"\n",(0,n.jsxs)(a.li,{children:["Especifique qu\xe9 subconjunto del conjunto de datos desea archivar. Necesita formatear el subconjunto de la misma manera que formatear\xeda un subconjunto para una solicitud de datos, por lo que ser\xe1 diferente para rejillas que para conjuntos de datos tabulares.","\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Para conjuntos de datos redondeados, puede especificar una gama de valores de la dimensi\xf3n m\xe1s izquierda, generalmente que es una gama de tiempo. ArchiveADataset har\xe1 una solicitud separada y generar\xe1 un archivo de datos separado para cada valor en el rango de valores. Como los conjuntos de datos redondeados son generalmente grandes, casi siempre tendr\xe1 que especificar un peque\xf1o subconjunto relativo al tama\xf1o de todo el conjunto de datos.\nPor ejemplo,\\[ (2015-12-01) : (2015-12-31) \\]\\[\\]\\[\\]\\[\\]"}),"\n",(0,n.jsx)(a.li,{children:'Para conjuntos de datos tabulares, puede especificar cualquier colecci\xf3n de restricciones, pero a menudo es una gama de tiempo. Puesto que los conjuntos de datos tabulares son generalmente peque\xf1os, a menudo es posible especificar no limitaciones, de modo que se archiva todo el conjunto de datos.\nPor ejemplo, " Time Conf=2015-12-01<2016-01-01'}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["Para conjuntos de datos tabulares: especifique una lista separada por coma de 0 o m\xe1s variables que determinar\xe1n c\xf3mo los datos archivados se subconfiguran en diferentes archivos de datos. Para conjuntos de datos que tienen\n",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#cdm_data_type",children:"cdm\\_data\\_type"}),"\\=TimeSeries|TimeSeriesProfile|Trayectoria|TrajectoryProfile\ndebe casi siempre especificar la variable que tiene el cf\\_role=timeseries\\_id (por ejemplo,stationID) o cf\\_role=trajectory\\_id atributo. ArchiveADataset har\xe1 una solicitud separada y generar\xe1 un archivo de datos separado para cada combinaci\xf3n de los valores de estas variables, por ejemplo, para cada una de ellas.stationID.\nPara todos los dem\xe1s conjuntos de datos tabulares, probablemente no especificar\xe1 ninguna variable para este prop\xf3sito.\nAdvertencia: Si el subconjunto del conjunto de datos que est\xe1 archivando es muy grande (\u25a02GB) y no hay una variable adecuada para este prop\xf3sito, entonces ArchiveADataset no es utilizable con este conjunto de datos. Esto deber\xeda ser raro."]}),"\n",(0,n.jsxs)(a.li,{children:["Especifique el formato de archivo para los archivos de datos que se crear\xe1n.\nPara conjuntos de datos redondeados, para NCEI, use.nc.\nPara conjuntos de datos tabulares, para NCEI, use",(0,n.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#ncCFMA",children:".ncCFMA"}),"si es una opci\xf3n; de otro modo uso.nc."]}),"\n",(0,n.jsxs)(a.li,{children:["Especifique el tipo de archivo digest que se crear\xe1 para cada archivo de datos y para todo el paquete de archivo: MD5, SHA-1 o SHA-256. El archivo digest proporciona una manera para el cliente (por ejemplo, NCEI) para probar si el archivo de datos se ha corrompido. Tradicionalmente, estos eran",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/MD5",children:".md5 archivos"}),", pero ahora hay mejores opciones. Para NCEI, use SHA-256 ."]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Despu\xe9s de responder a todas las preguntas, ArchiveADataset:"}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Haga una serie de solicitudes al conjunto de datos y escenifique los archivos de datos resultantes en ",(0,n.jsx)(a.em,{children:"bigParentDirectory"})," /ArchiveADataset/ ",(0,n.jsx)(a.em,{children:"datasetID\\_timestamp"})," /.\nPara conjuntos de datos redondeados, habr\xe1 un archivo para cada valor de la dimensi\xf3n m\xe1s izquierda (por ejemplo, tiempo) . El nombre del archivo ser\xe1 ese valor (por ejemplo, el valor del tiempo) .\nPara conjuntos de datos tabulares, habr\xe1 un archivo para cada valor de la variable ... (s) . El nombre del archivo ser\xe1 ese valor. Si hay m\xe1s de una variable, las variables izquierda se utilizar\xe1n para hacer nombres de subdirectorios, y la variable m\xe1s derecha se utilizar\xe1 para hacer los nombres de archivo.\nCada archivo de datos debe ser<2GB (el m\xe1ximo permitido por.ncversi\xf3n 3 archivos) ."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Haga un archivo relacionado con cada archivo de datos con la digesti\xf3n del archivo de datos. Por ejemplo, si el archivo de datos es 46088.ncy el tipo digesto es .sha256, entonces el archivo digest tendr\xe1 el nombre 46088.nc.sha256."}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Haga un archivo READ\\_ME.txt con informaci\xf3n sobre el archivo, incluyendo una lista de todas las configuraciones que especific\xf3 para generar este archivo."}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Hacer 3 archivos en ",(0,n.jsx)(a.em,{children:"bigParentDirectory"})," /ArchiveADataset / :"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["A.zipo.tar.gzarchivo de archivo llamado ",(0,n.jsx)(a.em,{children:"datasetID\\_timestamp"})," .zip  (o.tar.gz) conteniendo todos los archivos de datos escenificados y digerir archivos. Este archivo puede ser de cualquier tama\xf1o, limitado s\xf3lo por espacio de disco."]}),"\n",(0,n.jsxs)(a.li,{children:["Un archivo digestivo para el archivo de archivo, por ejemplo, ",(0,n.jsx)(a.em,{children:"datasetID\\_timestamp"})," .zip.sha256.txt"]}),"\n",(0,n.jsxs)(a.li,{children:['Para el tipo de archivo "original", un archivo de texto llamado ',(0,n.jsx)(a.em,{children:"datasetID\\_timestamp"})," .zip.listOfFiles.txt (o.tar.gz) que lista todos los archivos en.zip  (o.tar.gz) archivo."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Si usted est\xe1 preparando el archivo para NCEI, estos son los archivos que usted enviar\xe1 a NCEI, quiz\xe1s v\xeda",(0,n.jsx)(a.a,{href:"https://www.nodc.noaa.gov/s2n/",children:"Send2NCEI"}),"o",(0,n.jsx)(a.a,{href:"https://www.ncdc.noaa.gov/atrac/index.html",children:"ATRAC"}),"  (NCEI's Advanced Tracking and Resource tool for Archive Collections) .\n5. Eliminar todos los archivos escenificados para que s\xf3lo el archivo (por ejemplo,.zip) , la digesti\xf3n (por ejemplo, .sha256.txt) del archivo, y (opcionalmente) los archivos .listOfFiles.txt permanecen."]}),"\n",(0,n.jsx)(a.h4,{id:"iso-19115-xml-metadata-files",children:"ISO 19115 .xml Archivos de metadatos"}),"\n",(0,n.jsx)(a.p,{children:"El paquete de archivos ArchiveADataset no incluye el archivo de metadatos ISO 19115 .xml para el conjunto de datos. Si desea o necesita enviar un archivo ISO 19115 para su conjunto de datos a NCEI, puede enviarlos el archivo de metadatos ISO 19115 .xml queERDDAP\u2122creado para el conjunto de datos (peroNMFSlas personas deben obtener el archivo ISO 19115 para sus conjuntos de datos de InPort siERDDAP\u2122no est\xe1 ya sirviendo ese archivo) ."}),"\n",(0,n.jsxs)(a.p,{children:["\xbfProblemas? \xbfSugerencias? ArchiveADataset es nuevo. Si usted tiene problemas o sugerencias, Vea nuestro",(0,n.jsx)(a.a,{href:"/docs/intro#support",children:"secci\xf3n sobre la obtenci\xf3n de apoyo adicional"}),".\n\xa0"]})]})}function u(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}}}]);