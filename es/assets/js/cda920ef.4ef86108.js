"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[1003],{6831:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>t,contentTitle:()=>d,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"server-admin/scaling","title":"Escalada","description":"ERDDAP\u2122 - Carga pesada, rejas, racimos, federaciones y computaci\xf3n en la nube","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/server-admin/scaling.md","sourceDirName":"server-admin","slug":"/server-admin/scaling","permalink":"/es/docs/server-admin/scaling","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/scaling.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"docSidebar","previous":{"title":"Informaci\xf3n adicional","permalink":"/es/docs/server-admin/additional-information"},"next":{"title":"EDDTableFromEML","permalink":"/es/docs/server-admin/EDDTableFromEML"}}');var n=s(74848),i=s(28453);const r={sidebar_position:5},d="Escalada",t={},l=[{value:"ERDDAP\u2122 - Carga pesada, rejas, racimos, federaciones y computaci\xf3n en la nube",id:"erddap---heavy-loads-grids-clusters-federations-and-cloud-computing",level:2},{value:"ERDDAP :",id:"erddap-",level:2},{value:"DISCLAIMER",id:"disclaimer",level:2},{value:"Carga pesada / Limitaciones",id:"heavy-loads--constraints",level:2},{value:"Ancho de banda remoto",id:"remote-source-bandwidth",level:3},{value:"ERDDAP &#39;s Server Bandwidth",id:"erddaps-server-bandwidth",level:3},{value:"Memoria",id:"memory",level:3},{value:"Ten\xeda un ancho de banda",id:"had-drive-bandwidth",level:3},{value:"Demasiados archivos grabados",id:"too-many-files-cached",level:3},{value:"CPU",id:"cpu",level:3},{value:"M\xfaltiple Identical ERDDAP \xbfCon el Equilibrio de la Carga?",id:"multiple-identical-erddaps-with-load-balancing",level:2},{value:"<strong>Grids, Clusters, and Federations</strong>",id:"grids-clusters-and-federations",level:2},{value:"Objetivos",id:"goals",level:3},{value:"Recomendaciones",id:"recommendations",level:3},{value:"Piezas de rejilla",id:"grid-parts",level:3},{value:"Compuesto ERDDAP",id:"composite-erddap",level:4},{value:"Max actualizado (tiempo) ?",id:"up-to-date-maxtime",level:5},{value:"Composite m\xfaltiple ERDDAP s",id:"multiple-composite-erddaps",level:4},{value:"Datasets in Very High Demand",id:"datasets-in-very-high-demand",level:3},{value:"RAIDs versus discos duros regulares",id:"raids-versus-regular-hard-drives",level:3},{value:"Fallos",id:"failures",level:3},{value:"Simple, escalable",id:"simple-scalable",level:3},{value:"Ancho de banda",id:"bandwidth",level:3},{value:"Como Legos",id:"like-legos",level:3},{value:"Diferentes tipos de solicitudes",id:"different-types-of-requests",level:3},{value:"Estas son mis opiniones.",id:"these-are-my-opinions",level:3},{value:"<strong>Cloud Computing</strong>",id:"cloud-computing",level:2},{value:"Subsetting",id:"subsetting",level:3},{value:"Datos hospedados",id:"hosted-data",level:3},{value:"Replicaci\xf3n remota de conjuntos de datos",id:"remote-replication-of-datasets",level:2},{value:"<strong>Relevant ERDDAP\u2122 Herramientas</strong>",id:"relevant-erddap-tools",level:3},{value:"Soluciones",id:"solutions",level:3},{value:"Custom, Brute Force Solutions",id:"custom-brute-force-solutions",level:4},{value:"rsync",id:"rsync",level:4},{value:"Cach\xe9 de Url",id:"cache-from-url",level:4},{value:"ArchiveADataset",id:"archiveadataset",level:4},{value:"ERDDAP\u2122 &#39;s sistema de solicitud est\xe1ndar",id:"erddaps-standard-request-system",level:4},{value:"EDDTableDesdeHtpGet",id:"eddtablefromhttpget",level:4},{value:"Datos distribuidos",id:"distributed-data",level:4},{value:"Conclusi\xf3n",id:"conclusion",level:3}];function c(e){const a={a:"a",br:"br",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.header,{children:(0,n.jsx)(a.h1,{id:"escalada",children:"Escalada"})}),"\n",(0,n.jsx)(a.h2,{id:"erddap---heavy-loads-grids-clusters-federations-and-cloud-computing",children:"ERDDAP\u2122 - Carga pesada, rejas, racimos, federaciones y computaci\xf3n en la nube"}),"\n",(0,n.jsx)(a.p,{children:"\xa0"}),"\n",(0,n.jsx)(a.h2,{id:"erddap-",children:"ERDDAP :"}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/index.html",children:" ERDDAP\u2122 "})," es una aplicaci\xf3n web y un servicio web que agrega datos cient\xedficos de diversas fuentes locales y remotas y ofrece una manera sencilla y consistente de descargar subconjuntos de los datos en formatos de archivos comunes y hacer gr\xe1ficos y mapas. Esta p\xe1gina web discute temas relacionados con pesados ERDDAP\u2122 cargas de uso y explora posibilidades para lidiar con cargas extremadamente pesadas a trav\xe9s de rejillas, racimos, federaciones y computaci\xf3n en la nube."]}),"\n",(0,n.jsx)(a.p,{children:"La versi\xf3n original fue escrita en junio de 2009. No ha habido cambios significativos. Esto fue actualizado por \xfaltima vez 2019-04-15."}),"\n",(0,n.jsx)(a.h2,{id:"disclaimer",children:"DISCLAIMER"}),"\n",(0,n.jsx)(a.p,{children:"Los contenidos de esta p\xe1gina web son las opiniones personales de Bob Simons y no reflejan necesariamente ninguna posici\xf3n del Gobierno o del Gobierno National Oceanic and Atmospheric Administration . Los c\xe1lculos son simplistas, pero creo que las conclusiones son correctas. \xbfUs\xe9 l\xf3gica defectuosa o comet\xed un error en mis c\xe1lculos? Si es as\xed, la culpa es m\xeda sola. Por favor env\xede un correo electr\xf3nico con la correcci\xf3n erd dot data at noaa dot gov .\n\xa0"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"heavy-loads--constraints",children:"Carga pesada / Limitaciones"}),"\n",(0,n.jsx)(a.p,{children:"Con mucho uso, un standalone ERDDAP\u2122 se ver\xe1 limitado (de lo m\xe1s a lo menos probable) por:"}),"\n",(0,n.jsx)(a.h3,{id:"remote-source-bandwidth",children:"Ancho de banda remoto"}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["Ancho de banda de una fuente remota de datos \u2014 incluso con una conexi\xf3n eficiente (por ejemplo, via OPeNDAP ) , a menos que una fuente de datos remota tenga una conexi\xf3n a Internet de banda muy alta, ERDDAP 's respuestas ser\xe1n limitadas por lo r\xe1pido ERDDAP\u2122 puede obtener datos de la fuente de datos. Una soluci\xf3n es copiar el conjunto de datos sobre ERDDAP Es disco duro, quiz\xe1s con ",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:" EDDGrid Copiado"})," o ",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDTableCopy"})," .\n\xa0"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"erddaps-server-bandwidth",children:"ERDDAP 's Server Bandwidth"}),"\n",(0,n.jsxs)(a.ol,{start:"2",children:["\n",(0,n.jsx)(a.li,{children:"A menos ERDDAP 's servidor tiene una conexi\xf3n a Internet muy alta ancho de banda, ERDDAP 's respuestas ser\xe1n limitadas por lo r\xe1pido ERDDAP\u2122 puede obtener datos de las fuentes de datos y cu\xe1n r\xe1pido ERDDAP\u2122 puede devolver datos a los clientes. La \xfanica soluci\xf3n es conseguir una conexi\xf3n a Internet m\xe1s r\xe1pida.\n\xa0"}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"memory",children:"Memoria"}),"\n",(0,n.jsxs)(a.ol,{start:"3",children:["\n",(0,n.jsxs)(a.li,{children:["Si hay muchas solicitudes simult\xe1neas, ERDDAP\u2122 puede quedar sin memoria y rechazar temporalmente nuevas solicitudes. ( ERDDAP\u2122 tiene un par de mecanismos para evitar esto y minimizar las consecuencias si sucede.) As\xed que cuanto m\xe1s memoria en el servidor mejor. En un servidor de 32 bits, 4+ GB es realmente bueno, 2 GB est\xe1 bien, menos no se recomienda. En un servidor de 64 bits, casi completamente puede evitar el problema consiguiendo mucha memoria. Ver el ",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install",children:"Ajustes \\-Xmx y -Xms"})," para ERDDAP -Tomcat. An ERDDAP\u2122 conseguir un uso pesado en un ordenador con un servidor de 64 bits con 8 GB de memoria y -Xmx fijado a 4000M es rara vez, si alguna vez, limitado por la memoria.\n\xa0"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"had-drive-bandwidth",children:"Ten\xeda un ancho de banda"}),"\n",(0,n.jsxs)(a.ol,{start:"4",children:["\n",(0,n.jsx)(a.li,{children:"El acceso a los datos almacenados en el disco duro del servidor es mucho m\xe1s r\xe1pido que el acceso a datos remotos. Incluso as\xed, si el ERDDAP\u2122 servidor tiene una conexi\xf3n a Internet muy alta ancho de banda, es posible que acceder a los datos en el disco duro ser\xe1 un cuello de botella. Una soluci\xf3n parcial es usar m\xe1s r\xe1pido (por ejemplo, 10.000 RPM) discos duros magn\xe9ticos o unidades SSD (si tiene sentido costo-sabio) . Otra soluci\xf3n es almacenar diferentes conjuntos de datos en diferentes unidades, por lo que el ancho de banda del disco duro acumulativo es mucho m\xe1s alto.\n\xa0"}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"too-many-files-cached",children:"Demasiados archivos grabados"}),"\n",(0,n.jsxs)(a.ol,{start:"5",children:["\n",(0,n.jsxs)(a.li,{children:["Demasiados archivos en un ",(0,n.jsx)(a.a,{href:"/docs/server-admin/additional-information#cached-responses",children:"cache"})," directorio \u2014 ERDDAP\u2122 encaje todas las im\xe1genes, pero s\xf3lo encaje los datos para ciertos tipos de solicitudes de datos. Es posible que el directorio cache para un conjunto de datos tenga un gran n\xfamero de archivos temporalmente. Esto reducir\xe1 las solicitudes para ver si un archivo est\xe1 en el cach\xe9 (\xa1En serio!) .<cache Minutos afectados; in ",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"})," le permite establecer cu\xe1nto tiempo un archivo puede estar en el cach\xe9 antes de que se elimina. Establecer un n\xfamero m\xe1s peque\xf1o minimizar\xeda este problema.\n\xa0"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"cpu",children:"CPU"}),"\n",(0,n.jsxs)(a.ol,{start:"6",children:["\n",(0,n.jsxs)(a.li,{children:["S\xf3lo dos cosas tardan mucho tiempo en la CPU:","\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"NetCDF 4 y 4 HDF 5 ahora soportan la compresi\xf3n interna de datos. Descomprimir un gran comprimido NetCDF 4 / HDF El archivo de 5 datos puede tardar 10 o m\xe1s segundos. (Eso no es culpa de la implementaci\xf3n. Es la naturaleza de la compresi\xf3n.) Por lo tanto, m\xfaltiples solicitudes simult\xe1neas a conjuntos de datos con datos almacenados en archivos comprimidos pueden poner una tensi\xf3n severa en cualquier servidor. Si esto es un problema, la soluci\xf3n es almacenar conjuntos de datos populares en archivos no comprimidos, o conseguir un servidor con una CPU con m\xe1s n\xfacleos."}),"\n",(0,n.jsx)(a.li,{children:"Haciendo gr\xe1ficos (incluyendo mapas) : aproximadamente 0,2 - 1 segundo por gr\xe1fico. As\xed que si hubo muchas solicitudes \xfanicas simult\xe1neas para gr\xe1ficos ( WMS clientes a menudo hacen 6 solicitudes simult\xe1neas!) Podr\xeda haber una limitaci\xf3n de la CPU. Cuando se ejecutan m\xfaltiples usuarios WMS clientes, esto se convierte en un problema.\n\xa0"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"multiple-identical-erddaps-with-load-balancing",children:"M\xfaltiple Identical ERDDAP \xbfCon el Equilibrio de la Carga?"}),"\n",(0,n.jsx)(a.p,{children:'La pregunta a menudo surge: "Para lidiar con cargas pesadas, puedo configurar m\xfaltiples id\xe9nticas ERDDAP s con balanceo de carga?" Es una pregunta interesante porque r\xe1pidamente llega al n\xfacleo de ERDDAP Es dise\xf1o. La respuesta r\xe1pida es "no". S\xe9 que es una respuesta decepcionante, pero hay un par de razones directas y algunas razones fundamentales m\xe1s grandes por las que dise\xf1\xe9 ERDDAP\u2122 utilizar un enfoque diferente (una federaci\xf3n de ERDDAP s, descrita en la mayor parte de este documento) , que creo que es una mejor soluci\xf3n.'}),"\n",(0,n.jsx)(a.p,{children:"Algunas razones directas por las que no puedes / no debe configurar m\xfaltiples id\xe9nticos ERDDAP s son:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"A given ERDDAP\u2122 lee cada archivo de datos cuando se pone a disposici\xf3n para encontrar los rangos de datos en el archivo. Luego almacena esa informaci\xf3n en un archivo \xedndice. M\xe1s tarde, cuando un usuario solicita datos, ERDDAP\u2122 usa ese \xedndice para averiguar qu\xe9 archivos buscar en los datos solicitados. Si hubiera m\xfaltiples id\xe9nticos ERDDAP s, cada uno estar\xeda haciendo esta indexaci\xf3n, que es esfuerzo perdido. Con el sistema federado descrito a continuaci\xf3n, la indexaci\xf3n s\xf3lo se hace una vez, por una de las ERDDAP s."}),"\n",(0,n.jsx)(a.li,{children:"Para algunos tipos de solicitudes de usuario (por ejemplo, para .nc , .png, archivos .pdf)   ERDDAP\u2122 tiene que hacer todo el archivo antes de que se pueda enviar la respuesta. As\xed que... ERDDAP\u2122 ancla estos archivos por un corto tiempo. Si una solicitud id\xe9ntica entra (como suele hacerlo, especialmente para las im\xe1genes donde la URL est\xe1 incrustada en una p\xe1gina web) , ERDDAP\u2122 puede reutilizar ese archivo cach\xe9. En un sistema de m\xfaltiples id\xe9nticos ERDDAP s, esos archivos cach\xe9 no son compartidos, as\xed que cada ERDDAP\u2122 sin necesidad y desperdiciado recrear el .nc , .png, o archivos .pdf. Con el sistema federado descrito a continuaci\xf3n, los archivos s\xf3lo se hacen una vez, por uno de los ERDDAP s, y reutilizado."}),"\n",(0,n.jsx)(a.li,{children:"ERDDAP 's sistema de suscripci\xf3n no se establece para ser compartido por m\xfaltiples ERDDAP s. Por ejemplo, si el balanceador de carga env\xeda un usuario a uno ERDDAP\u2122 y el usuario se suscribe a un conjunto de datos, luego el otro ERDDAP s no ser\xe1 consciente de esa suscripci\xf3n. M\xe1s tarde, si el balanceador de carga env\xeda al usuario a otro ERDDAP\u2122 y pide una lista de sus suscripciones, la otra ERDDAP\u2122 dir\xe1 que no hay ninguno (lo lleva a hacer una suscripci\xf3n duplicada en el otro ERED DAP ) . Con el sistema federado descrito a continuaci\xf3n, el sistema de suscripci\xf3n se maneja simplemente por el principal, p\xfablico, compuesto ERDDAP ."}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["S\xed, por cada uno de esos problemas, podr\xeda (con gran esfuerzo) ingeniero una soluci\xf3n (compartir la informaci\xf3n entre ERDDAP s) , pero creo que ",(0,n.jsx)(a.a,{href:"#grids-clusters-and-federations",children:"federaci\xf3n de... ERDDAP enfoque"}),"   (descrito en la mayor parte de este documento) es una soluci\xf3n global mucho mejor, en parte porque se ocupa de otros problemas que el multi-identical- ERDDAP s-with-a-load-balancer approach does not even start to address, notably the decentralized nature of the data sources in the world."]}),"\n",(0,n.jsxs)(a.p,{children:['Es mejor aceptar el simple hecho de que no dise\xf1\xe9 ERDDAP\u2122 a ser desplegados como m\xfaltiples id\xe9nticos ERDDAP con un balanceador de carga. Concientemente dise\xf1\xe9 ERDDAP\u2122 trabajar bien dentro de una federaci\xf3n de ERDDAP s, que creo que tiene muchas ventajas. Notablemente, una federaci\xf3n de ERDDAP s est\xe1 perfectamente alineado con el sistema descentralizado y distribuido de centros de datos que tenemos en el mundo real (pensar en las diferentes regiones de IOOS, o las diferentes regiones de CoastWatch, o las diferentes partes de NCEI, o los otros 100 centros de datos en NOAA , o los diferentes DAAC de la NASA, o los 1000 de centros de datos en todo el mundo) . En lugar de decirle a todos los centros de datos del mundo que necesitan abandonar sus esfuerzos y poner todos sus datos en un "lagos de datos" centralizado (incluso si fuera posible, es una idea horrible por numerosas razones - ver los diversos an\xe1lisis que muestran las numerosas ventajas de ',(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Decentralised_system",children:"sistemas descentralizados"})," ) , ERDDAP 's dise\xf1o funciona con el mundo como es. Cada centro de datos que produce datos puede continuar manteniendo, comisariando y sirviendo sus datos (como deber\xedan) , y sin embargo, con ERDDAP\u2122 , los datos tambi\xe9n pueden estar disponibles instant\xe1neamente desde un centralizado ERDDAP , sin necesidad de transmitir los datos a la centralizada ERDDAP\u2122 o almacenar copias duplicadas de los datos. De hecho, un conjunto de datos puede estar disponible simult\xe1neamente\nde un ERDDAP\u2122 en la organizaci\xf3n que produjo y almacena los datos (por ejemplo, GoMOOS) ,\nde un ERDDAP\u2122 en la organizaci\xf3n matriz (por ejemplo, IOOS central) ,\nde un todo... NOAA   ERDDAP\u2122 ,\nde un gobierno federal ERDDAP\u2122 ,\nde un mundo ERDDAP\u2122   (GOOS) ,\ny de especialistas ERDDAP s (por ejemplo, un ERDDAP\u2122 en una instituci\xf3n dedicada a la investigaci\xf3n HAB) ,\ntodo esencialmente instant\xe1neamente, y eficientemente porque s\xf3lo los metadatos se transfieren entre ERDDAP s, no los datos. Lo mejor de todo, despu\xe9s de la inicial ERDDAP\u2122 en la organizaci\xf3n originaria, todo el otro ERDDAP s se puede configurar r\xe1pidamente (unas horas de trabajo) , con recursos m\xednimos (un servidor que no necesita ning\xfan RAID para almacenamiento de datos ya que no almacena datos localmente) , y por lo tanto a un costo realmente m\xednimo. Compare eso con el costo de establecer y mantener un centro de datos centralizado con un lago de datos y la necesidad de una conexi\xf3n a Internet realmente masiva, realmente costosa, adem\xe1s del problema adjunto del centro de datos centralizado siendo un solo punto de fracaso. Para m\xed, ERDDAP s decentralized, federated approach is far, far superior."]}),"\n",(0,n.jsxs)(a.p,{children:["En situaciones donde un centro de datos dado necesita m\xfaltiples ERDDAP para satisfacer la alta demanda, ERDDAP 's dise\xf1o es totalmente capaz de combinar o superar el rendimiento de la multi-identical- ERDDAP s-with-a-load-balancer approach. Siempre tienes la opci\xf3n de configurar ",(0,n.jsx)(a.a,{href:"#multiple-composite-erddaps",children:"m\xfaltiple compuesto ERDDAP s (como se examina a continuaci\xf3n) "})," , cada uno de los cuales obtiene todos sus datos de otros ERDDAP s, sin equilibrio de carga. En este caso, recomiendo que usted haga un punto de dar cada uno de los compuestos ERDDAP s un nombre / identidad diferente y si es posible establecerlos en diferentes partes del mundo (e.g., different AWS regions) , por ejemplo, ERD Este, ERD \\_US\\_West, ERD \\_IE, ERD \\_FR, ERD \\_IT, para que los usuarios conscientemente, repetidamente, trabajen con un espec\xedfico ERDDAP , con el beneficio a\xf1adido que ha eliminado el riesgo de un solo punto de fracaso.\n\xa0"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"grids-clusters-and-federations",children:(0,n.jsxs)(a.a,{href:"#grids-clusters-and-federations",children:[" ",(0,n.jsx)(a.strong,{children:"Grids, Clusters, and Federations"})," "]})}),"\n",(0,n.jsxs)(a.p,{children:["Bajo un uso muy pesado, una sola independiente ERDDAP\u2122 se encontrar\xe1 con uno o m\xe1s de los ",(0,n.jsx)(a.a,{href:"#heavy-loads--constraints",children:"limitaciones"})," lista arriba e incluso las soluciones sugeridas ser\xe1n insuficientes. Para tales situaciones, ERDDAP\u2122 tiene caracter\xedsticas que hacen f\xe1cil construir redes escalables (tambi\xe9n llamados grupos o federaciones) de ERDDAP s que permite al sistema manejar un uso muy pesado (por ejemplo, para un gran centro de datos) ."]}),"\n",(0,n.jsxs)(a.p,{children:["Estoy usando ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Grid_computing",children:"cuadr\xedcula"})," como t\xe9rmino general para indicar un tipo de ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Computer_cluster",children:"Grupo de computadora"})," donde todas las partes pueden o no estar f\xedsicamente ubicadas en una instalaci\xf3n y pueden o no ser administradas centralmente. Una ventaja de las redes colocadas, de propiedad central y administradas (clusters) es que se benefician de econom\xedas de escala (especialmente el volumen de trabajo humano) y simplificar haciendo que las partes del sistema funcionen bien juntas. Una ventaja de las redes no localizadas, no de propiedad central y administradas (federaciones) es que distribuyen el volumen de trabajo humano y el costo, y pueden proporcionar cierta tolerancia de falla adicional. La soluci\xf3n que propongo a continuaci\xf3n funciona bien para todas las topograf\xedas de rejilla, racimo y federaci\xf3n."]}),"\n",(0,n.jsxs)(a.p,{children:["La idea b\xe1sica de dise\xf1ar un sistema escalable es identificar los posibles cuellos de botella y luego dise\xf1ar el sistema para que partes del sistema puedan ser replicadas seg\xfan sea necesario para aliviar los cuellos de botella. Idealmente, cada parte replicada aumenta la capacidad de esa parte del sistema linealmente (eficiencia del escalado) . El sistema no es escalable a menos que haya una soluci\xf3n escalable para cada cuello de botella. ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Scalability",children:"Escalabilidad"})," es diferente de la eficiencia (lo r\xe1pido que se puede hacer una tarea: eficiencia de las partes) . La escalabilidad permite que el sistema crezca para manejar cualquier nivel de demanda. ",(0,n.jsx)(a.strong,{children:"Eficiencia"}),"   (de escalada y de las partes) determina cu\xe1ntos servidores, etc., ser\xe1n necesarios para satisfacer un determinado nivel de demanda. La eficiencia es muy importante, pero siempre tiene l\xedmites. La escalabilidad es la \xfanica soluci\xf3n pr\xe1ctica para construir un sistema que pueda manejar ",(0,n.jsx)(a.strong,{children:"muy bien."})," uso pesado. Idealmente, el sistema ser\xe1 escalable y eficiente."]}),"\n",(0,n.jsx)(a.h3,{id:"goals",children:"Objetivos"}),"\n",(0,n.jsx)(a.p,{children:"Los objetivos de este dise\xf1o son:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Para hacer una arquitectura escalable (uno que es f\xe1cilmente extensible replicando cualquier parte que se vuelve sobrecargado) . Realizar un sistema eficiente que maximice la disponibilidad y el rendimiento de los datos dados los recursos inform\xe1ticos disponibles. (El costo es casi siempre un problema.)"}),"\n",(0,n.jsx)(a.li,{children:"Para equilibrar las capacidades de las partes del sistema de manera que una parte del sistema no abrumar\xe1 otra parte."}),"\n",(0,n.jsx)(a.li,{children:"Para hacer una arquitectura sencilla para que el sistema sea f\xe1cil de configurar y administrar."}),"\n",(0,n.jsx)(a.li,{children:"Para hacer una arquitectura que funciona bien con todas las topograf\xedas de la red."}),"\n",(0,n.jsx)(a.li,{children:"Hacer un sistema que falla con gracia y de forma limitada si alguna parte se vuelve sobrecargada. (El tiempo necesario para copiar grandes conjuntos de datos siempre limitar\xe1 la capacidad del sistema para hacer frente a los aumentos repentinos de la demanda de un conjunto de datos espec\xedfico.)"}),"\n",(0,n.jsxs)(a.li,{children:["(Si es posible) Para hacer una arquitectura que no est\xe9 ligada a ninguna ",(0,n.jsx)(a.a,{href:"#cloud-computing",children:"cloud computing"})," servicios u otros servicios externos (porque no los necesita) ."]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"recommendations",children:"Recomendaciones"}),"\n",(0,n.jsxs)(a.p,{children:["Nuestras recomendaciones son\n",(0,n.jsx)(a.img,{alt:"diagrama de cuadr\xedcula/cluster",src:s(88623).A+"",width:"701",height:"516"})]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["B\xe1sicamente, sugiero establecer un Composite ERDDAP\u2122   ( ",(0,n.jsx)(a.strong,{children:"D"})," en el diagrama) , que es un regular ERDDAP\u2122 excepto que solo sirve datos de otros ERDDAP s. La arquitectura de la red est\xe1 dise\xf1ada para cambiar tanto trabajo como sea posible (Uso de CPU, uso de memoria, uso de ancho de banda) del Composite ERDDAP\u2122 al otro ERDDAP s."]}),"\n",(0,n.jsxs)(a.li,{children:["ERDDAP\u2122 tiene dos tipos especiales de conjunto de datos, ",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:" EDDGrid FromErddap"})," y ",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDTableDeErddap"})," , que se refieren a\ndatasets on other ERDDAP s."]}),"\n",(0,n.jsxs)(a.li,{children:["Cuando el composite ERDDAP\u2122 recibe una solicitud de datos o im\xe1genes de estos conjuntos de datos, el composite ERDDAP\u2122   ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/URL_redirection",children:"redirecciona"})," la solicitud de datos al otro ERDDAP\u2122 servidor. El resultado es:","\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Esto es muy eficiente (CPU, memoria y ancho de banda) , porque de otro modo","\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsx)(a.li,{children:"El compuesto ERDDAP\u2122 tiene que enviar la solicitud de datos a la otra ERDDAP ."}),"\n",(0,n.jsx)(a.li,{children:"El otro ERDDAP\u2122 tiene que conseguir los datos, reformarlo, y transmitir los datos al composite ERDDAP ."}),"\n",(0,n.jsx)(a.li,{children:"El compuesto ERDDAP\u2122 tiene que recibir los datos (usando ancho de banda extra) , reformat it (usando tiempo extra de CPU y memoria) , y transmitir los datos al usuario (usando ancho de banda extra) . Dirigiendo la solicitud de datos y permitiendo al otro ERDDAP\u2122 para enviar la respuesta directamente al usuario, el composite ERDDAP\u2122 gasta esencialmente no CPU tiempo, memoria o ancho de banda en solicitudes de datos."}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.li,{children:"La redireccion es transparente para el usuario independientemente del software cliente (un navegador o cualquier otro software o herramienta de l\xednea de comando) ."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"grid-parts",children:"Piezas de rejilla"}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.a,{href:"#grid-parts",children:"Las partes de la red son:"})}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"A"})," : Para cada fuente de datos remota que tenga un ancho de banda alto OPeNDAP servidor, puede conectarse directamente al servidor remoto. Si el servidor remoto es un ERDDAP\u2122 , uso EDDGrid FromErddap o EDDTable ERDDAP para servir los datos en el Composite ERDDAP . Si el servidor remoto es otro tipo de DAP servidor, por ejemplo, THREDDS, Hyrax , o GrADS, uso EDDGrid FromDap."]}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"B"})," Por todos ERDDAP - Fuente de datos (a data source from which ERDDAP puede leer datos) que tiene un servidor de ancho de banda alta, establecer otro ERDDAP\u2122 en la red que es responsable de servir los datos de esta fuente de datos."]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Si varios de esos ERDDAP s no est\xe1n recibiendo muchas solicitudes de datos, usted puede consolidarlos en uno ERDDAP ."}),"\n",(0,n.jsxs)(a.li,{children:["Si ERDDAP\u2122 dedicado a obtener datos de una fuente remota est\xe1 recibiendo demasiadas peticiones, hay una tentaci\xf3n de a\xf1adir m\xe1s ERDDAP s para acceder a la fuente de datos remota. En casos especiales esto puede tener sentido, pero es m\xe1s probable que esto abrumar\xe1 a la fuente remota de datos (que es auto-defetador) y tambi\xe9n evitar que otros usuarios accedan a la fuente remota de datos (que no es agradable) . En tal caso, considere la posibilidad de establecer otro ERDDAP\u2122 para servir ese conjunto de datos y copiar el conjunto de datos en ese ERDDAP Es disco duro (ver ",(0,n.jsx)(a.strong,{children:"C"})," ) , quiz\xe1s con ",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:" EDDGrid Copiado"})," y/o ",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDTableCopy"})," ."]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"B"})," Los servidores deben ser accesibles p\xfablicamente."]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"C"})," Por todos ERDDAP - fuente de datos que tiene un servidor de ancho de banda baja (o es un servicio lento por otras razones) , considerar la creaci\xf3n de otro ERDDAP\u2122 y almacenar una copia del conjunto de datos en ese ERDDAP 's discos duros, quiz\xe1s con ",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:" EDDGrid Copiado"})," y/o ",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDTableCopy"})," . Si varios de esos ERDDAP s no est\xe1n recibiendo muchas solicitudes de datos, usted puede consolidarlos en uno ERDDAP .\n",(0,n.jsx)(a.strong,{children:"C"})," Los servidores deben ser accesibles p\xfablicamente."]}),"\n",(0,n.jsx)(a.h4,{id:"composite-erddap",children:"Compuesto ERDDAP"}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"D"})," : El compuesto ERDDAP\u2122 es un regular ERDDAP\u2122 excepto que solo sirve datos de otros ERDDAP s."]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Porque el composite ERDDAP\u2122 tiene informaci\xf3n en memoria sobre todos los conjuntos de datos, puede responder r\xe1pidamente a las solicitudes de listas de conjuntos de datos (b\xfasquedas completas de texto, b\xfasquedas de categor\xeda, lista de todos los conjuntos de datos) , y solicitudes para el formulario de acceso de datos de un conjunto de datos individual, hacer un formulario de gr\xe1fico, o WMS info p\xe1gina. Estas son todas peque\xf1as, generadas din\xe1micamente, p\xe1ginas HTML basadas en informaci\xf3n que se mantiene en memoria. As\xed que las respuestas son muy r\xe1pidas."}),"\n",(0,n.jsx)(a.li,{children:"Debido a que las solicitudes de datos reales se redireccionan r\xe1pidamente al otro ERDDAP s, el compuesto ERDDAP\u2122 puede responder r\xe1pidamente a solicitudes de datos reales sin utilizar ning\xfan tiempo de CPU, memoria o ancho de banda."}),"\n",(0,n.jsx)(a.li,{children:"Al cambiar tanto trabajo como sea posible (CPU, memoria, ancho de banda) del Composite ERDDAP\u2122 al otro ERDDAP s, el compuesto ERDDAP\u2122 puede parecer servir datos de todos los conjuntos de datos y a\xfan as\xed mantenerse al d\xeda con un gran n\xfamero de solicitudes de datos de un gran n\xfamero de usuarios."}),"\n",(0,n.jsx)(a.li,{children:"Las pruebas preliminares indican que el compuesto ERDDAP\u2122 puede responder a la mayor\xeda de las solicitudes en ~1ms de tiempo CPU, o 1000 solicitudes/segundo. As\xed que un procesador de 8 n\xfacleos debe ser capaz de responder a unas 8000 solicitudes/segundo. Aunque es posible imaginar r\xe1fagas de actividad superior que causar\xedan desaceleraciones, eso es mucho rendimiento. Es probable que el ancho de banda del centro de datos sea el cuello de botella mucho antes de la composici\xf3n ERDDAP\u2122 se convierte en el cuello de botella."}),"\n"]}),"\n",(0,n.jsx)(a.h5,{id:"up-to-date-maxtime",children:"Max actualizado (tiempo) ?"}),"\n",(0,n.jsxs)(a.p,{children:["El EDDGrid /TablaDeErddap en el composite ERDDAP\u2122 s\xf3lo cambia su informaci\xf3n almacenada sobre cada conjunto de datos fuente cuando el conjunto de datos de la fuente es ",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#reloadeverynminutes",children:'"reload"ed'})," y algunos cambios de metadatos (por ejemplo, la variable de tiempo actual\\_range ) , generando as\xed una notificaci\xf3n de suscripci\xf3n. Si el conjunto de datos fuente tiene datos que cambian con frecuencia (por ejemplo, nuevos datos cada segundo) y utiliza el ",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#updateeverynmillis",children:'"actualizar"'}),' sistema para notar cambios frecuentes en los datos subyacentes, EDDGrid /TablaDeErddap no se notificar\xe1 acerca de estos cambios frecuentes hasta el siguiente conjunto de datos "recargar", por lo que el EDDGrid /TablaDeErddap no ser\xe1 perfectamente actualizado. Puede minimizar este problema cambiando el conjunto de datos fuente<reload EveryNMinutes bulbgt; a un valor m\xe1s peque\xf1o (\xbf60?) para que haya m\xe1s notificaciones de suscripci\xf3n para indicar EDDGrid /TablaDeErddap para actualizar su informaci\xf3n sobre el conjunto de datos fuente.']}),"\n",(0,n.jsx)(a.p,{children:"O, si su sistema de gesti\xf3n de datos sabe cu\xe1ndo el conjunto de datos fuente tiene nuevos datos (por ejemplo, a trav\xe9s de un script que copia un archivo de datos) , y si eso no es s\xfaper frecuente (por ejemplo, cada 5 minutos o menos frecuente) , hay una mejor soluci\xf3n:"}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsx)(a.li,{children:"No uso<Actualizar EveryNMillis frecuentemente; mantener el conjunto de datos fuente actualizado."}),"\n",(0,n.jsx)(a.li,{children:"Establecer el conjunto de datos fuente<reload EveryNMinutes igualesgt; a un n\xfamero mayor (\xbf1440?) ."}),"\n",(0,n.jsxs)(a.li,{children:["Que el script contacte con el conjunto de datos fuente ",(0,n.jsx)(a.a,{href:"/docs/server-admin/additional-information#set-dataset-flag",children:"Bandera URL"})," justo despu\xe9s de que copia un nuevo archivo de datos en su lugar.\nEsto llevar\xe1 a que el conjunto de datos fuente sea perfectamente actualizado y que genere una notificaci\xf3n de suscripci\xf3n, que se enviar\xe1 a la EDDGrid /TablaDesde el conjunto de datos de Eddap. Eso conducir\xe1 a la EDDGrid /TablaDeErddap dataset para estar perfectamente actualizado (bien, dentro de 5 segundos de nuevos datos a\xf1adiendo) . Y todo lo que se har\xe1 eficientemente (sin recargas innecesarias de conjunto de datos) ."]}),"\n"]}),"\n",(0,n.jsx)(a.h4,{id:"multiple-composite-erddaps",children:"Composite m\xfaltiple ERDDAP s"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"En casos muy extremos, o para la tolerancia a la falla, es posible que desee configurar m\xe1s de un compuesto ERDDAP . Es probable que otras partes del sistema (notablemente, el ancho de banda del centro de datos) se convertir\xe1 en un problema mucho antes de la composici\xf3n ERDDAP\u2122 se convierte en un cuello de botella. As\xed que la soluci\xf3n es probablemente establecer centros de datos adicionales, geogr\xe1ficamente diversos, (espejos) , cada uno con un compuesto ERDDAP\u2122 y servidores con ERDDAP s y (al menos) copias de espejo de los conjuntos de datos que est\xe1n en alta demanda. Tal configuraci\xf3n tambi\xe9n proporciona tolerancia a la falla y copia de seguridad de datos (mediante copia) . En este caso, es mejor si el compuesto ERDDAP s tienen diferentes URLs."}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Si realmente quieres todo el composite ERDDAP s para tener la misma URL, utilizar un sistema de extremo frontal que asigna a un usuario dado a s\xf3lo uno de los compuestos ERDDAP s (basado en la direcci\xf3n IP) , para que todas las solicitudes del usuario vayan a una de las composiciones ERDDAP s. Hay dos razones:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Cuando se recarga un conjunto de datos subyacente y los metadatos cambian (por ejemplo, un nuevo archivo de datos en un conjunto de datos redondeado causa la variable de tiempo actual\\_range cambio) , el compuesto ERDDAP s estar\xe1 temporalmente fuera de sincron\xeda, pero con ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Eventual_consistency",children:"eventual coherencia"})," . Normalmente, volver\xe1n a sentarse en 5 segundos, pero a veces ser\xe1 m\xe1s largo. Si un usuario hace un sistema automatizado que se basa en ",(0,n.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/subscriptions/index.html",children:" ERDDAP\u2122 suscripciones"})," que desencadena acciones, los breves problemas de sincronizaci\xf3n ser\xe1n significativos."]}),"\n",(0,n.jsx)(a.li,{children:"El 2+ composite ERDDAP s cada uno mantiene su propio conjunto de suscripciones (debido al problema de sincron\xeda descrito anteriormente) ."}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["As\xed que un usuario dado debe ser dirigido a s\xf3lo uno de los compuestos ERDDAP s para evitar estos problemas. Si uno de los compuestos ERDDAP s va abajo, el sistema frontal puede redirigir que ERDDAP 's usuarios a otro ERDDAP\u2122 Eso es todo. Sin embargo, si es un problema de capacidad que causa el primer compuesto ERDDAP\u2122 fracasar (\xbfUn usuario demasiado celoso? a ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Denial-of-service_attack",children:"denegaci\xf3n de servicio"})," ?) , esto hace muy probable que redireccionar a sus usuarios a otros compuestos ERDDAP s causar\xe1 una ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Cascading_failure",children:"Fallo en cascada"})," . As\xed, la configuraci\xf3n m\xe1s robusta es tener compuesto ERDDAP s con diferentes URLs."]}),"\n",(0,n.jsx)(a.p,{children:"O, quiz\xe1s mejor, configurar m\xfaltiples compuestos ERDDAP sin equilibrio de carga. En este caso, usted debe hacer un punto de dar cada uno de los ERDDAP s un nombre / identidad diferente y si es posible establecerlos en diferentes partes del mundo (e.g., different AWS regions) , por ejemplo, ERD Este, ERD \\_US\\_West, ERD \\_IE, ERD \\_FR, ERD \\_IT, para que los usuarios conscientemente, trabajen repetidamente con un ERDDAP ."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\\[ Para un dise\xf1o fascinante de un sistema de alto rendimiento que funciona en un servidor, vea esto ",(0,n.jsx)(a.a,{href:"https://mailinator.blogspot.com/2007/01/architecture-of-mailinator.html",children:"descripci\xf3n detallada de Mailinator"})," . \\]"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"datasets-in-very-high-demand",children:"Datasets in Very High Demand"}),"\n",(0,n.jsxs)(a.p,{children:["En el caso realmente inusual que uno de los ",(0,n.jsx)(a.strong,{children:"A"})," , ",(0,n.jsx)(a.strong,{children:"B"})," o ",(0,n.jsx)(a.strong,{children:"C"}),"   ERDDAP s no puede mantenerse al d\xeda con las peticiones debido a limitaciones de ancho de banda o disco duro, tiene sentido copiar los datos (otra vez) en otro servidor+hard Drive+ ERDDAP , quiz\xe1s con ",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:" EDDGrid Copiado"})," y/o ",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDTableCopy"}),' . Aunque puede parecer ideal tener el conjunto de datos original y el conjunto de datos copiado aparecen sin problemas como un conjunto de datos en el composite ERDDAP\u2122 , esto es dif\xedcil porque los dos conjuntos de datos estar\xe1n en estados ligeramente diferentes en diferentes momentos (notablemente, despu\xe9s de que el original obtenga nuevos datos, pero antes de que el conjunto de datos copiado obtenga su copia) . Por lo tanto, recomiendo que los conjuntos de datos reciban t\xedtulos ligeramente diferentes (Por ejemplo, "... (#1) "y "... (#2) ", o tal vez " (espejo ',(0,n.jsx)(a.em,{children:"n"}),' ) "o" (servidor ',(0,n.jsx)(a.em,{children:"n"}),' ) ") y aparecen como conjuntos de datos separados en el composite ERDDAP . Los usuarios se utilizan para ver listas de ',(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Website#mirror_site",children:"Sitios de espejo"}),' en sitios populares de descarga de archivos, por lo que esto no debe sorprender o decepcionarlos. Debido a limitaciones de ancho de banda en un sitio dado, puede tener sentido tener el espejo situado en otro sitio. Si la copia del espejo est\xe1 en un centro de datos diferente, accedido justo por la composici\xf3n del centro de datos ERDDAP\u2122 , los diferentes t\xedtulos (por ejemplo, "mirante #1) No son necesarios.']}),"\n",(0,n.jsx)(a.h3,{id:"raids-versus-regular-hard-drives",children:"RAIDs versus discos duros regulares"}),"\n",(0,n.jsxs)(a.p,{children:["Si un conjunto de datos grande o un grupo de conjuntos de datos no se utilizan considerablemente, puede tener sentido almacenar los datos en un RAID ya que ofrece tolerancia a la falla y ya que no necesita la potencia de procesamiento o ancho de banda de otro servidor. Pero si un conjunto de datos es muy utilizado, puede tener m\xe1s sentido copiar los datos en otro servidor + ERDDAP\u2122 + disco duro (similar a ",(0,n.jsx)(a.a,{href:"https://storagemojo.com/2007/02/19/googles-disk-failure-experience/",children:"lo que Google hace"})," ) en lugar de utilizar un servidor y un RAID para almacenar m\xfaltiples conjuntos de datos desde que se puede utilizar tanto server+hardDrive+ ERDDAP s en la cuadr\xedcula hasta que uno de ellos falla."]}),"\n",(0,n.jsx)(a.h3,{id:"failures",children:"Fallos"}),"\n",(0,n.jsx)(a.p,{children:"\xbfQu\xe9 pasa si..."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Hay una explosi\xf3n de solicitudes para un conjunto de datos (por ejemplo, todos los estudiantes de una clase solicitan simult\xe1neamente datos similares) ?\nS\xf3lo el ERDDAP\u2122 servir ese conjunto de datos ser\xe1 abrumado y desacelerado o solicitudes de rechazo. El compuesto ERDDAP\u2122 y otros ERDDAP No se ver\xe1 afectado. Puesto que el factor limitante para un conjunto de datos dado dentro del sistema es el disco duro con los datos (no ERDDAP ) , la \xfanica soluci\xf3n (no inmediata) es hacer una copia del conjunto de datos en un servidor diferente+hardDrive+ ERDDAP ."}),"\n",(0,n.jsxs)(a.li,{children:["An ",(0,n.jsx)(a.strong,{children:"A"})," , ",(0,n.jsx)(a.strong,{children:"B"})," o ",(0,n.jsx)(a.strong,{children:"C"}),"   ERDDAP\u2122 fallas (por ejemplo, fallo del disco duro) ?\nS\xf3lo el conjunto de datos (s) servido por el ERDDAP\u2122 se ven afectados. Si el conjunto de datos (s) se refleja en otro servidor+hardDrive+ ERDDAP , el efecto es m\xednimo. Si el problema es un fallo en el disco duro en un nivel 5 o 6 RAID, simplemente reemplaza la unidad y tiene el RAID reconstruir los datos en la unidad."]}),"\n",(0,n.jsxs)(a.li,{children:["El compuesto ERDDAP\u2122 \xbf falla?\nSi quieres hacer un sistema con mucho ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/High_availability",children:"alta disponibilidad"})," , puedes configurar ",(0,n.jsx)(a.a,{href:"#multiple-composite-erddaps",children:"m\xfaltiple compuesto ERDDAP s (como se examin\xf3 anteriormente) "})," , usando algo como ",(0,n.jsx)(a.a,{href:"https://www.nginx.com/",children:"NGINX"})," o ",(0,n.jsx)(a.a,{href:"https://traefik.io/",children:"Traefik"})," para manejar el equilibrio de carga. Note que un determinado composite ERDDAP\u2122 puede manejar un gran n\xfamero de solicitudes de un gran n\xfamero de usuarios porque\nsolicitudes de metadatos son peque\xf1as y son manejadas por informaci\xf3n que est\xe1 en memoria, y\nSolicitudes de datos (que puede ser grande) son redirigidos al ni\xf1o ERDDAP s."]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"simple-scalable",children:"Simple, escalable"}),"\n",(0,n.jsx)(a.p,{children:"Este sistema es f\xe1cil de configurar y administrar, y f\xe1cilmente extensible cuando cualquier parte de \xe9l se vuelve sobrecargada. Las \xfanicas limitaciones reales para un centro de datos dado son el ancho de banda del centro de datos y el costo del sistema."}),"\n",(0,n.jsx)(a.h3,{id:"bandwidth",children:"Ancho de banda"}),"\n",(0,n.jsx)(a.p,{children:"Observe el ancho de banda aproximado de componentes com\xfanmente utilizados del sistema:"}),"\n",(0,n.jsx)(a.p,{children:"| Componente | ancho de banda aproximado (GBytes/s)   |\n| -... | -... |\n| DDR memoria | 2.5 |\n| Unidad SSD | 1 |\n| SATA disco duro | 0.3 |\n| Gigabit Ethernet | 0.1 |\n| OC-12 | 0,06 |\n| OC-3 | 0,015 |\n| T1 | 0,0002 |"}),"\n",(0,n.jsxs)(a.p,{children:["Entonces, un disco duro SATA (0,3GB/s) en un servidor con uno ERDDAP\u2122 puede probablemente saturar un Gigabit Ethernet LAN (0.1GB/s) . Y un Gigabit Ethernet LAN (0.1GB/s) puede saturar probablemente una conexi\xf3n de Internet OC-12 (0,06GB/s) . Y al menos una fuente enumera l\xedneas OC-12 que cuestan alrededor de 100.000 d\xf3lares al mes. (S\xed, estos c\xe1lculos se basan en empujar el sistema a sus l\xedmites, lo que no es bueno porque conduce a respuestas muy lentas. Pero estos c\xe1lculos son \xfatiles para la planificaci\xf3n y para equilibrar partes del sistema.)   ",(0,n.jsx)(a.strong,{children:"Claramente, una conexi\xf3n de Internet convenientemente r\xe1pida para su centro de datos es por lejos la parte m\xe1s cara del sistema."})," Usted puede f\xe1cilmente y relativamente barato construir una red con una docena de servidores que ejecutan una docena ERDDAP s que es capaz de bombear muchos datos r\xe1pidamente, pero una conexi\xf3n de Internet convenientemente r\xe1pida ser\xe1 muy, muy caro. Las soluciones parciales son:"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Alentar a los clientes a solicitar subconjuntos de los datos si eso es todo lo que se necesita. Si el cliente s\xf3lo necesita datos para una peque\xf1a regi\xf3n o una resoluci\xf3n inferior, es lo que debe solicitar. Subsetting es un enfoque central de los protocolos ERDDAP\u2122 soportes para solicitar datos."}),"\n",(0,n.jsxs)(a.li,{children:["Anime la transmisi\xf3n de datos comprimidos. ERDDAP\u2122   ",(0,n.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#compression",children:"compresas"}),' una transmisi\xf3n de datos si encuentra "accept-encoding" en el HTTP GET solicitar encabezado. Todos los navegadores web utilizan "acept-encoding" y descomprimen autom\xe1ticamente la respuesta. Otros clientes (por ejemplo, programas inform\xe1ticos) tiene que usarlo expl\xedcitamente.']}),"\n",(0,n.jsx)(a.li,{children:"Coloca tus servidores en un ISP u otro sitio que ofrezca costos de ancho de banda relativamente menos costosos."}),"\n",(0,n.jsx)(a.li,{children:"Desactivar los servidores con los ERDDAP s a diferentes instituciones para que los costos est\xe9n dispersos. Entonces puedes unir tu composite ERDDAP\u2122 a sus ERDDAP s."}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Note que ",(0,n.jsx)(a.a,{href:"#cloud-computing",children:"Cloud Computing"})," y los servicios de alojamiento web ofrecen todo el ancho de banda de Internet que usted necesita, pero no solucione el problema de precios."]}),"\n",(0,n.jsxs)(a.p,{children:["Para obtener informaci\xf3n general sobre el dise\xf1o de sistemas escalables, de alta capacidad, tolerantes a fallos, v\xe9ase el libro de Michael T. Nygard ",(0,n.jsx)(a.a,{href:"https://www.amazon.com/Release-Production-Ready-Software-Pragmatic-Programmers/dp/0978739213",children:"Liberarlo"})," ."]}),"\n",(0,n.jsx)(a.h3,{id:"like-legos",children:"Como Legos"}),"\n",(0,n.jsxs)(a.p,{children:["Los dise\xf1adores de software a menudo tratan de utilizar el bien ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Software_design_pattern",children:"patrones de dise\xf1o de software"})," para resolver problemas. Los buenos patrones son buenos porque encapsulan buenas, f\xe1ciles de crear y trabajar con soluciones de uso general que conducen a sistemas con buenas propiedades. Los nombres de los patrones no est\xe1n estandarizados, as\xed que llamar\xe9 al patr\xf3n que ERDDAP\u2122 usa el Patr\xf3n de Lego. Cada Lego (cada uno ERDDAP ) es un simple, peque\xf1o, est\xe1ndar, independiente, ladrillo (servidor de datos) con una interfaz definida que le permite estar vinculada a otros legos ( ERDDAP s) . Las partes de ERDDAP\u2122 que componen este sistema son: los sistemas de suscripci\xf3n y flagURL (que permite la comunicaci\xf3n entre ERDDAP s) , el EDD... FromErddap sistema de redireccion, y el sistema de RESTful solicitudes de datos que pueden generar usuarios u otros ERDDAP s. As\xed, dado dos o m\xe1s legos ( ERDDAP s) , usted puede crear un gran n\xfamero de formas diferentes (topolog\xedas de red ERDDAP s) . Claro, el dise\xf1o y las caracter\xedsticas de ERDDAP\u2122 podr\xeda haber sido hecho diferente, no como Lego, tal vez s\xf3lo para habilitar y optimizar una topolog\xeda espec\xedfica. Pero sentimos que ERDDAP 's Lego-like design ofrece una buena soluci\xf3n general que permite cualquier ERDDAP\u2122 administrador (o grupo de administradores) crear todo tipo de topolog\xedas federaci\xf3n diferentes. Por ejemplo, una sola organizaci\xf3n podr\xeda establecer tres (o m\xe1s)   ERDDAP s como se muestra en ",(0,n.jsx)(a.a,{href:"#recommendations",children:" ERDDAP\u2122 Diagrama de agarre/clase arriba"})," . O un grupo distribuido (\xbfIOOS? CoastWatch? \xbfNCEI? \xbfNWS? NOAA ? \xbfSGA? DataONE? \xbfNeon? \xbfLTER? OOI? \xbfBoDC? \xbfOnC? \xbfJRC? \xbfOMM?) puede configurar uno ERDDAP\u2122 en cada peque\xf1o puesto (para que los datos puedan permanecer cerca de la fuente) y luego establecer un composite ERDDAP\u2122 en la oficina central con datasets virtuales (que son siempre perfectamente actualizados) de cada uno de los peque\xf1os puestos ERDDAP s. De hecho, todo el mundo ERDDAP s, instalado en varias instituciones de todo el mundo, que obtienen datos de otros ERDDAP s y/o proporcionar datos a otros ERDDAP s, formar una red gigante de ERDDAP s. \xbfQu\xe9 tan genial es eso? As\xed que, como con Lego, las posibilidades son infinitas. Por eso es un buen patr\xf3n. Por eso es un buen dise\xf1o para ERDDAP ."]}),"\n",(0,n.jsx)(a.h3,{id:"different-types-of-requests",children:"Diferentes tipos de solicitudes"}),"\n",(0,n.jsx)(a.p,{children:"Una de las complicaciones en la vida real de esta discusi\xf3n de topolog\xedas del servidor de datos es que hay diferentes tipos de solicitudes y diferentes maneras de optimizar para los diferentes tipos de solicitudes. Esto es sobre todo una cuesti\xf3n separada. (Qu\xe9 r\xe1pido puede ser ERDDAP\u2122 con los datos responder a la solicitud de datos?) de la discusi\xf3n topol\xf3gica (que trata de las relaciones entre servidores de datos y que servidor tiene los datos reales) . ERDDAP\u2122 , por supuesto, trata de tratar con todo tipo de solicitudes eficientemente, pero maneja algo mejor que otros."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Muchas solicitudes son sencillas.\nPor ejemplo: \xbfCu\xe1les son los metadatos para este conjunto de datos? O: \xbfCu\xe1les son los valores de la dimensi\xf3n del tiempo para este conjunto de datos redondeados? ERDDAP\u2122 est\xe1 dise\xf1ado para manejar esto lo m\xe1s r\xe1pido posible (generalmente en<=2 ms) manteniendo esta informaci\xf3n en memoria.\n\xa0"}),"\n",(0,n.jsx)(a.li,{children:"Algunas solicitudes son moderadamente dif\xedciles.\nPor ejemplo: Dame este subconjunto de un conjunto de datos (que est\xe1 en un archivo de datos) . Estas solicitudes se pueden manejar con relativa rapidez porque no son tan dif\xedciles.\n\xa0"}),"\n",(0,n.jsxs)(a.li,{children:["Algunas solicitudes son dif\xedciles y por lo tanto consumen mucho tiempo.\nPor ejemplo: Dame este subconjunto de un conjunto de datos (que puede estar en cualquiera de los archivos de datos de 10.000+, o puede ser de archivos de datos comprimidos que cada uno toma 10 segundos para descomprimir) . ERDDAP\u2122 v2.0 introdujo algunas nuevas formas m\xe1s r\xe1pidas de hacer frente a estas solicitudes, en particular permitiendo que el hilo de manipulaci\xf3n de solicitudes desperdiciara varios hilos de trabajadores que abordan diferentes subconjuntos de la solicitud. Pero hay otro enfoque de este problema que ERDDAP\u2122 no soporta todav\xeda: subconjuntos de los archivos de datos para un conjunto de datos dado podr\xedan almacenarse y analizarse en computadoras separadas, y luego los resultados combinados en el servidor original. Este enfoque se denomina ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/MapReduce",children:"MapReduce"})," y es ejemplar por ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Apache_Hadoop",children:"Hadoop"})," , el primero (?) open-source MapReduce programa, basado en ideas de un papel de Google. (Si necesita MapReducir in ERDDAP , por favor env\xede una solicitud de correo electr\xf3nico erd.data at noaa.gov .) Google's ",(0,n.jsx)(a.a,{href:"https://cloud.google.com/bigquery/",children:"BigQuery"})," es interesante porque parece ser una implementaci\xf3n de MapReduce aplicado a los conjuntos de datos tabulares subsetting, que es uno de los ERDDAP 's objetivos principales. Es probable que pueda crear un ERDDAP\u2122 dataset desde un conjunto de datos BigQuery ",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablefromdatabase",children:"EDDTableDesde la base de datos"})," porque BigQuery se puede acceder a trav\xe9s de una interfaz JDBC."]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"these-are-my-opinions",children:"Estas son mis opiniones."}),"\n",(0,n.jsx)(a.p,{children:"S\xed, los c\xe1lculos son simplistas (y ahora ligeramente fechada) Pero creo que las conclusiones son correctas. \xbfUs\xe9 l\xf3gica defectuosa o comet\xed un error en mis c\xe1lculos? Si es as\xed, la culpa es m\xeda sola. Por favor env\xede un correo electr\xf3nico con la correcci\xf3n erd dot data at noaa dot gov ."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"cloud-computing",children:(0,n.jsxs)(a.a,{href:"#cloud-computing",children:[" ",(0,n.jsx)(a.strong,{children:"Cloud Computing"})," "]})}),"\n",(0,n.jsxs)(a.p,{children:["Varias empresas ofrecen servicios de inform\xe1tica en la nube (por ejemplo, ",(0,n.jsx)(a.a,{href:"https://aws.amazon.com/",children:"Amazon Web Services"})," y ",(0,n.jsx)(a.a,{href:"https://cloud.google.com/",children:"Google Cloud Platform"})," ) . ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Web_hosting_service",children:"Web hosting companies"}),' han ofrecido servicios m\xe1s sencillos desde mediados de los a\xf1os 90, pero los servicios de "cloud" han ampliado considerablemente la flexibilidad de los sistemas y la gama de servicios ofrecidos. Desde ERDDAP\u2122 s\xf3lo consta de ERDDAP s and since ERDDAP s Java aplicaciones web que pueden ejecutarse en Tomcat (el servidor de aplicaciones m\xe1s com\xfan) u otros servidores de aplicaciones, debe ser relativamente f\xe1cil configurar un ERDDAP\u2122 cuadr\xedcula en un servicio de nube o sitio de alojamiento web. Las ventajas de estos servicios son:']}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Ofrecen acceso a conexiones de Internet de ancho de banda muy alta. Esto solo puede justificar el uso de estos servicios."}),"\n",(0,n.jsx)(a.li,{children:"S\xf3lo cobran por los servicios que utiliza. Por ejemplo, tiene acceso a una conexi\xf3n a Internet de ancho de banda muy alta, pero s\xf3lo paga los datos reales transferidos. Eso te permite construir un sistema que rara vez se abruma (incluso a la demanda m\xe1xima) , sin tener que pagar por la capacidad que rara vez se utiliza."}),"\n",(0,n.jsx)(a.li,{children:"Son f\xe1cilmente extensibles. Puede cambiar tipos de servidor o a\xf1adir tantos servidores o tanto almacenamiento como desee, en menos de un minuto. Esto solo puede justificar el uso de estos servicios."}),"\n",(0,n.jsx)(a.li,{children:"Le liberan de muchos de los deberes administrativos de ejecutar los servidores y redes. Esto solo puede justificar el uso de estos servicios."}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Las desventajas de estos servicios son:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Ellos cobran por sus servicios, a veces mucho (en t\xe9rminos absolutos; no es que no sea un buen valor) . Los precios que figuran aqu\xed son para ",(0,n.jsx)(a.a,{href:"https://aws.amazon.com/ec2/pricing",children:"Amazon EC2"})," . Estos precios (en junio de 2015) bajar\xe1.\nEn el pasado, los precios eran m\xe1s altos, pero los archivos de datos y el n\xfamero de solicitudes eran menores.\nEn el futuro, los precios ser\xe1n m\xe1s bajos, pero los archivos de datos y el n\xfamero de solicitudes ser\xe1n mayores.\nAs\xed que los detalles cambian, pero la situaci\xf3n permanece relativamente constante.\nY no es que el servicio sea sobrevalorado, es que estamos usando y comprando mucho del servicio.","\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Transferencia de datos \u2014 Las transferencias de datos al sistema ahora son gratuitas (\xa1S\xed!) .\nLas transferencias de datos fuera del sistema son $0.09/GB.\nUn disco duro SATA (0,3GB/s) en un servidor con uno ERDDAP\u2122 puede probablemente saturar un Gigabit Ethernet LAN (0.1GB/s) .\nUn Gigabit Ethernet LAN (0.1GB/s) puede saturar probablemente una conexi\xf3n de Internet OC-12 (0,06GB/s) .\nSi una conexi\xf3n OC-12 puede transmitir ~150.000 GB/mes, los costos de transferencia de datos podr\xedan ser de hasta 150.000 GB @ $0.09/GB = $13,500/mes, que es un costo significativo. Claramente, si tienes una docena de trabajo duro ERDDAP s en un servicio de nube, sus cuotas mensuales de Transferencia de Datos podr\xedan ser sustanciales (hasta 162.000 d\xf3lares/mes) . (Una vez m\xe1s, no es que el servicio sea sobrevalorado, es que estamos usando y comprando mucho del servicio.)"}),"\n",(0,n.jsxs)(a.li,{children:["Almacenamiento de datos \u2014 Amazon cobra $50/mes por TB. (Compare eso para comprar una unidad de empresa 4TB por ~$50/TB, aunque el RAID para ponerlo en y los costos administrativos a\xf1aden al costo total.) As\xed que si necesita almacenar muchos datos en la nube, podr\xeda ser bastante caro (por ejemplo, 100TB costar\xeda 5.000 d\xf3lares al mes) . Pero a menos que tenga una gran cantidad de datos, este es un tema m\xe1s peque\xf1o que los costos de transferencia de ancho de banda/datos. (Una vez m\xe1s, no es que el servicio sea sobrevalorado, es que estamos usando y comprando mucho del servicio.)",(0,n.jsx)(a.br,{}),"\n","\xa0"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"subsetting",children:"Subsetting"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"El problema de subsetting: La \xfanica manera de distribuir eficientemente datos de los archivos de datos es tener el programa que est\xe1 distribuyendo los datos (por ejemplo, ERDDAP ) se ejecuta en un servidor que tiene los datos almacenados en un disco duro local (o acceso similarmente r\xe1pido a un SAN o RAID local) . Los sistemas de archivos locales permiten ERDDAP\u2122   (y bibliotecas subyacentes, como netcdf-java) para solicitar rangos de byte espec\xedficos de los archivos y obtener respuestas muy r\xe1pidamente. Muchos tipos de solicitudes de datos ERDDAP\u2122 al archivo (notablemente las solicitudes de datos redondeados donde el valor de zancada es 1) no se puede hacer eficientemente si el programa tiene que solicitar todo el archivo o grandes trozos de un archivo de un no local (por lo tanto m\xe1s lento) sistema de almacenamiento de datos y luego extraer un subconjunto. Si la configuraci\xf3n de la nube no da ERDDAP\u2122 acceso r\xe1pido a los rangos byte de los archivos (tan r\xe1pido como con archivos locales) , ERDDAP 's acceso a los datos ser\xe1 un cuello de botella severo y negar otros beneficios de usar un servicio en la nube."}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"hosted-data",children:"Datos hospedados"}),"\n",(0,n.jsx)(a.p,{children:"Una alternativa al an\xe1lisis de los beneficios de los gastos antes mencionado (que se basa en el propietario de datos (por ejemplo, NOAA ) pagar sus datos para ser almacenados en la nube) lleg\xf3 alrededor de 2012, cuando Amazon (y en menor medida, algunos otros proveedores de nube) comenz\xf3 a albergar algunos conjuntos de datos en su nube (AWS S3) gratis (presumiblemente con la esperanza de que puedan recuperar sus costos si los usuarios alquilan instancias inform\xe1ticas AWS EC2 para trabajar con esos datos) . Claramente, esto hace que la inform\xe1tica de la nube sea mucho m\xe1s rentable, porque el tiempo y el costo subiendo los datos y hosped\xe1ndolo ahora son cero. Con ERDDAP\u2122 v2.0, hay nuevas caracter\xedsticas para facilitar el funcionamiento ERDDAP en una nube:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Ahora, un EDDGrid DesdeFiles o EDDTableDesde el conjunto de datos de Files se pueden crear desde archivos de datos remotos y accesibles a trav\xe9s de Internet (por ejemplo, cubos AWS S3) utilizando el<cacheDesde el punto de vista; y<cacheSize GB de opciones. ERDDAP\u2122 mantendr\xe1 un cach\xe9 local de los archivos de datos m\xe1s utilizados recientemente."}),"\n",(0,n.jsx)(a.li,{children:"Ahora, si los archivos fuente EDDTableDesdeFiles son comprimidos (por ejemplo, .tgz ) , ERDDAP\u2122 autom\xe1ticamente los descomprimir\xe1 cuando los lea."}),"\n",(0,n.jsx)(a.li,{children:"Ahora, el ERDDAP\u2122 hilo respondiendo a una petici\xf3n dada, despachar\xe1 los hilos de los trabajadores para trabajar en subsecciones de la solicitud si utiliza el<nTecleo; opciones. Esta paralelizaci\xf3n deber\xeda permitir respuestas m\xe1s r\xe1pidas a solicitudes dif\xedciles."}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Estos cambios resuelven el problema de AWS S3 que no ofrece almacenamiento local de archivos a nivel de bloques y el (viejo) problema de acceso a datos S3 que tienen un retraso significativo. (Hace a\xf1os (~2014) , ese lag era significativo, pero ahora es mucho m\xe1s corto y no tan significativo.) Todo en absoluto, significa que establecer ERDDAP\u2122 en la nube funciona mucho mejor ahora."}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"Gracias."})," \u2014 Muchas gracias a Matthew Arrott y su grupo en el esfuerzo original de OOI por su trabajo en poner ERDDAP\u2122 en la nube y las discusiones resultantes.\n\xa0"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"remote-replication-of-datasets",children:(0,n.jsx)(a.a,{href:"#remote-replication-of-datasets",children:"Replicaci\xf3n remota de conjuntos de datos"})}),"\n",(0,n.jsx)(a.p,{children:"Hay un problema com\xfan relacionado con la discusi\xf3n anterior de las redes y federaciones de ERDDAP s: r\xe9plica remota de conjuntos de datos. El problema b\xe1sico es: un proveedor de datos mantiene un conjunto de datos que cambia ocasionalmente y un usuario quiere mantener una copia local actualizada de este conjunto de datos (por una variedad de razones) . Claramente, hay un gran n\xfamero de variaciones de esto. Algunas variaciones son mucho m\xe1s dif\xedciles de tratar que otras."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Actualizaciones r\xe1pidas\nEs m\xe1s dif\xedcil mantener el conjunto de datos local actualizado ",(0,n.jsx)(a.em,{children:"inmediatamente"}),"   (por ejemplo, dentro de 3 segundos) despu\xe9s de cada cambio a la fuente, en lugar de, por ejemplo, dentro de unas pocas horas.\n\xa0"]}),"\n",(0,n.jsx)(a.li,{children:"Cambios frecuentes\nLos cambios frecuentes son m\xe1s dif\xedciles de afrontar que los cambios frecuentes. Por ejemplo, los cambios una vez al d\xeda son mucho m\xe1s f\xe1ciles de manejar que los cambios cada 0.1 segundo.\n\xa0"}),"\n",(0,n.jsx)(a.li,{children:"Cambios peque\xf1os\nLos peque\xf1os cambios en un archivo fuente son m\xe1s dif\xedciles de manejar que un archivo completamente nuevo. Esto es especialmente cierto si los peque\xf1os cambios pueden estar en cualquier lugar del archivo. Los peque\xf1os cambios son m\xe1s dif\xedciles de detectar y hacer dif\xedcil aislar los datos que necesitan ser replicados. Los nuevos archivos son f\xe1ciles de detectar y eficientes de transferir.\n\xa0"}),"\n",(0,n.jsx)(a.li,{children:"Intire Dataset\nMantener un conjunto completo de datos actualizado es m\xe1s dif\xedcil que mantener datos recientes. Algunos usuarios solo necesitan datos recientes (Por ejemplo, el \xfaltimo d\xeda vale la pena) .\n\xa0"}),"\n",(0,n.jsx)(a.li,{children:"M\xfaltiples copias\nMantener m\xfaltiples copias remotas en diferentes sitios es m\xe1s dif\xedcil que mantener una copia remota. Este es el problema de escalar.\n\xa0"}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Obviamente hay un gran n\xfamero de variaciones de posibles tipos de cambios en el conjunto de datos fuente y de las necesidades y expectativas del usuario. Muchas de las variaciones son muy dif\xedciles de resolver. La mejor soluci\xf3n para una situaci\xf3n a menudo no es la mejor soluci\xf3n para otra situaci\xf3n: todav\xeda no hay una gran soluci\xf3n universal."}),"\n",(0,n.jsx)(a.h3,{id:"relevant-erddap-tools",children:(0,n.jsxs)(a.a,{href:"#relevant-erddap-tools",children:[" ",(0,n.jsx)(a.strong,{children:"Relevant ERDDAP\u2122 Herramientas"})," "]})}),"\n",(0,n.jsx)(a.p,{children:"ERDDAP\u2122 ofrece varias herramientas que se pueden utilizar como parte de un sistema que busca mantener una copia remota de un conjunto de datos:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["ERDDAP 's ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/RSS",children:" RSS   (Rich Site Summary?) servicio"}),(0,n.jsx)(a.br,{}),"\n","ofrece una manera r\xe1pida de comprobar si un conjunto de datos en un remoto ERDDAP\u2122 ha cambiado.\n\xa0"]}),"\n",(0,n.jsxs)(a.li,{children:["ERDDAP 's ",(0,n.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions",children:"servicio de suscripci\xf3n"}),(0,n.jsx)(a.br,{}),"\n","es m\xe1s eficiente (que RSS ) acercamiento: enviar\xe1 inmediatamente un correo electr\xf3nico o contactar una URL a cada suscriptor cuando se actualice el conjunto de datos y la actualizaci\xf3n resulte en un cambio. Es eficiente ya que sucede lo antes posible y no hay esfuerzo perdido (como con una encuesta RSS servicio) . Los usuarios pueden utilizar otras herramientas (como ",(0,n.jsx)(a.a,{href:"https://ifttt.com/",children:"IFTTT"})," ) para reaccionar a las notificaciones de correo electr\xf3nico del sistema de suscripci\xf3n. Por ejemplo, un usuario puede suscribirse a un conjunto de datos en un remoto ERDDAP\u2122 y utilizar IFTTT para reaccionar a las notificaciones de email de suscripci\xf3n y activar la actualizaci\xf3n del conjunto de datos local.\n\xa0"]}),"\n",(0,n.jsxs)(a.li,{children:["ERDDAP 's ",(0,n.jsx)(a.a,{href:"/docs/server-admin/additional-information#flag",children:"Sistema de bandera"}),(0,n.jsx)(a.br,{}),"\n","proporciona una manera para un ERDDAP\u2122 administrador para contar un conjunto de datos en su/ella ERDDAP para recargar lo antes posible. La forma URL de una bandera se puede utilizar f\xe1cilmente en scripts. La forma URL de una bandera tambi\xe9n se puede utilizar como la acci\xf3n para una suscripci\xf3n.\n\xa0"]}),"\n",(0,n.jsxs)(a.li,{children:["ERDDAP 's ",(0,n.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html",children:' "files" sistema'}),(0,n.jsx)(a.br,{}),"\n",'puede ofrecer acceso a los archivos fuente para un conjunto de datos dado, incluyendo una lista de directorios de estilo Apache de los archivos (una "Carpeta accesible web") que tiene la URL de descarga de cada archivo, \xfaltima hora modificada y tama\xf1o. Una desventaja de usar el "files" sistema es que los archivos fuente pueden tener diferentes nombres variables y diferentes metadatos que el conjunto de datos como aparece en ERDDAP . Si un remoto ERDDAP\u2122 dataset ofrece acceso a sus archivos fuente, que abre la posibilidad de la versi\xf3n de rsync de un hombre pobre: se hace f\xe1cil para un sistema local ver qu\xe9 archivos remotos han cambiado y necesitan ser descargados. (Ver el ',(0,n.jsx)(a.a,{href:"#cache-from-url",children:"cacheDesde el aeropuerto opci\xf3n"})," abajo que puede hacer uso de esto.)",(0,n.jsx)(a.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"solutions",children:(0,n.jsx)(a.a,{href:"#solutions",children:"Soluciones"})}),"\n",(0,n.jsx)(a.p,{children:"Aunque hay un gran n\xfamero de variaciones en el problema y un n\xfamero infinito de posibles soluciones, s\xf3lo hay un pu\xf1ado de enfoques b\xe1sicos para las soluciones:"}),"\n",(0,n.jsx)(a.h4,{id:"custom-brute-force-solutions",children:"Custom, Brute Force Solutions"}),"\n",(0,n.jsx)(a.p,{children:"Una soluci\xf3n obvia es llevar a cabo una soluci\xf3n personalizada, que por lo tanto se optimiza para una situaci\xf3n determinada: hacer un sistema que detecte/identifique qu\xe9 datos ha cambiado, y env\xeda esa informaci\xf3n al usuario para que el usuario pueda solicitar los datos cambiados. Bueno, puedes hacer esto, pero hay desventajas:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Las soluciones personalizadas son mucho trabajo."}),"\n",(0,n.jsx)(a.li,{children:"Las soluciones personalizadas son generalmente tan personalizadas a un conjunto de datos dado y al sistema del usuario dado que no se pueden reutilizar f\xe1cilmente."}),"\n",(0,n.jsx)(a.li,{children:"Usted debe construir y mantener soluciones personalizadas. (Esa nunca es una buena idea. \xa1Siempre es buena idea evitar el trabajo y conseguir que alguien m\xe1s haga el trabajo!)"}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Me desaliento de tomar este enfoque porque es casi siempre mejor buscar soluciones generales, construidas y mantenidas por otra persona, que se puede reutilizar f\xe1cilmente en situaciones diferentes.\n\xa0"}),"\n",(0,n.jsx)(a.h4,{id:"rsync",children:"rsync"}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Rsync",children:"rsync"})," es la soluci\xf3n existente, impresionantemente buena, de prop\xf3sito general para mantener una colecci\xf3n de archivos en un ordenador fuente en sincronizaci\xf3n en el equipo remoto del usuario. La forma en que funciona es:"]}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsx)(a.li,{children:"alg\xfan evento (por ejemplo, un ERDDAP\u2122 sistema de suscripci\xf3n) dispara rsync corriendo,\n(o, un trabajo de cron funciona rsync en momentos espec\xedficos todos los d\xedas en la computadora del usuario)"}),"\n",(0,n.jsx)(a.li,{children:"que contactos rsync en el ordenador fuente,"}),"\n",(0,n.jsx)(a.li,{children:"que calcula una serie de hashes para trozos de cada archivo y transmite esos hashes al rsync del usuario,"}),"\n",(0,n.jsx)(a.li,{children:"que compara esa informaci\xf3n con la informaci\xf3n similar para la copia del usuario de los archivos,"}),"\n",(0,n.jsx)(a.li,{children:"que luego solicita los trozos de archivos que han cambiado."}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Considerando todo lo que hace, rsync opera muy r\xe1pidamente (por ejemplo, 10 segundos m\xe1s tiempo de transferencia de datos) y muy eficiente. Hay ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Rsync#Variations",children:"variaciones de rsync"})," que optimizan para diferentes situaciones (por ejemplo, precalculando y cacheando los hashes de los trozos de cada archivo fuente) ."]}),"\n",(0,n.jsx)(a.p,{children:"Las principales debilidades de rsync son: se necesita un poco de esfuerzo para establecer (cuestiones de seguridad) ; hay algunos problemas de escalada; y no es bueno mantener los conjuntos de datos de NRT realmente actualizados (Por ejemplo, es inc\xf3modo usar rsync m\xe1s que cada 5 minutos) . Si usted puede tratar con las debilidades, o si no afectan su situaci\xf3n, rsync es una soluci\xf3n de prop\xf3sito general excelente que cualquiera puede utilizar ahora mismo para resolver muchos escenarios que implican la replicaci\xf3n remota de conjuntos de datos."}),"\n",(0,n.jsx)(a.p,{children:"Hay un art\xedculo en el ERDDAP\u2122 To Do lista para intentar a\xf1adir soporte para servicios rsync a ERDDAP   (probablemente una tarea bastante dif\xedcil) , para que cualquier cliente pueda utilizar rsync (o una variante) para mantener una copia actualizada de un conjunto de datos. Si alguien quiere trabajar en esto, por favor email erd.data at noaa.gov ."}),"\n",(0,n.jsxs)(a.p,{children:["Hay otros programas que hacen m\xe1s o menos lo que hace rsync, a veces orientados a la replicaci\xf3n de conjuntos de datos (aunque a menudo a nivel de copia de archivo) , por ejemplo, Unidata 's ",(0,n.jsx)(a.a,{href:"https://www.unidata.ucar.edu/projects/index.html#idd",children:"IDD"})," ."]}),"\n",(0,n.jsx)(a.h4,{id:"cache-from-url",children:"Cach\xe9 de Url"}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#cachefromurl",children:"El cacheDesde Url"})," configuraci\xf3n disponible (empezar con ERDDAP\u2122 v2.0) para todos ERDDAP 's tipos de conjunto de datos que hacen datasets de archivos (b\xe1sicamente, todas las subclases de ",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddgridfromfiles",children:" EDDGrid DeFiles"})," y ",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablefromfiles",children:"EDDTableDeFiles"}),' ) . cache FromUrl hace que sea trivial descargar y mantener autom\xe1ticamente los archivos de datos locales copiandolos de una fuente remota a trav\xe9s del cache De Url. Los archivos remotos pueden estar en una carpeta de acceso web o en una lista de archivos tipo directorio ofrecida por THREDDS, Hyrax , un cubo S3, o ERDDAP \'s "files" sistema.']}),"\n",(0,n.jsxs)(a.p,{children:['Si la fuente de los archivos remotos es un remoto ERDDAP\u2122 dataset que ofrece los archivos fuente a trav\xe9s del ERDDAP\u2122   "files" sistema, entonces usted puede ',(0,n.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions",children:"Suscr\xedbete"})," al conjunto de datos remoto, y utilizar el ",(0,n.jsx)(a.a,{href:"/docs/server-admin/additional-information#flag",children:"Bandera URL"})," para su conjunto de datos local como la acci\xf3n para la suscripci\xf3n. Luego, cuando el conjunto de datos remoto cambie, se pondr\xe1 en contacto con la URL de la bandera para su conjunto de datos, que le dir\xe1 que vuelva a cargar ASAP, que detectar\xe1 y descargar\xe1 los archivos de datos remotos cambiados. Todo esto sucede muy r\xe1pidamente (generalmente ~5 segundos m\xe1s el tiempo necesario para descargar los archivos cambiados) . Este enfoque funciona muy bien si los cambios de conjunto de datos fuente son nuevos archivos que se agregan peri\xf3dicamente y cuando los archivos existentes nunca cambian. Este enfoque no funciona bien si los datos son frecuentemente utilizados para todos (o la mayor\xeda) de los archivos de datos fuente existentes, porque entonces su conjunto de datos local se descarga con frecuencia todo el conjunto de datos remoto. (Aqu\xed es donde se necesita un enfoque similar al rsync.)"]}),"\n",(0,n.jsx)(a.h4,{id:"archiveadataset",children:"ArchiveADataset"}),"\n",(0,n.jsxs)(a.p,{children:["ERDDAP\u2122 's ",(0,n.jsx)(a.a,{href:"/docs/server-admin/additional-information#archiveadataset",children:"ArchiveADataset"})," es una buena soluci\xf3n cuando los datos se agregan a un conjunto de datos con frecuencia, pero los datos m\xe1s antiguos nunca se cambian. B\xe1sicamente, un ERDDAP\u2122 administrador puede ejecutar ArchiveADataset (tal vez en un gui\xf3n, tal vez corre por cron) y especificar un subconjunto de un conjunto de datos que quieren extraer (tal vez en m\xfaltiples archivos) y paquete en un .zip o .tgz archivo, para que pueda enviar el archivo a personas o grupos interesados (por ejemplo, NCEI para archivar) o hacerlo disponible para descargar. Por ejemplo, podr\xeda ejecutar ArchiveADataset todos los d\xedas a las 12:10 am y tener que hacer un .zip de todos los datos de 12:00 am el d\xeda anterior hasta las 12:00 am hoy. (O hacer esto semanal, mensual o anual, seg\xfan sea necesario.) Debido a que el archivo empaquetado se genera fuera de l\xednea, no hay peligro de un timeout o demasiados datos, ya que habr\xeda para un est\xe1ndar ERDDAP\u2122 petici\xf3n.\n\xa0"]}),"\n",(0,n.jsx)(a.h4,{id:"erddaps-standard-request-system",children:"ERDDAP\u2122 's sistema de solicitud est\xe1ndar"}),"\n",(0,n.jsx)(a.p,{children:"ERDDAP\u2122 's sistema de solicitud est\xe1ndar es una buena soluci\xf3n alternativa cuando los datos se agregan a un conjunto de datos con frecuencia, pero los datos m\xe1s antiguos nunca se cambian. B\xe1sicamente, cualquiera puede usar solicitudes est\xe1ndar para obtener datos para un rango espec\xedfico de tiempo. Por ejemplo, a las 12:10 am todos los d\xedas, usted podr\xeda hacer una solicitud para todos los datos desde un conjunto de datos remoto desde las 12:00 am del d\xeda anterior hasta las 12:00 am hoy. La limitaci\xf3n (comparado con el enfoque ArchiveADataset) es el riesgo de un timeout o hay demasiados datos para un solo archivo. Puede evitar la limitaci\xf3n haciendo solicitudes m\xe1s frecuentes para per\xedodos de tiempo m\xe1s peque\xf1os.\n\xa0"}),"\n",(0,n.jsx)(a.h4,{id:"eddtablefromhttpget",children:"EDDTableDesdeHtpGet"}),"\n",(0,n.jsxs)(a.p,{children:["\\[ Esta opci\xf3n a\xfan no existe, pero parece posible construir en un futuro cercano. \\]",(0,n.jsx)(a.br,{}),"\n","El nuevo ",(0,n.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablefromhttpget",children:"EDDTableDesdeHtpGet"})," Tipo de conjunto de datos ERDDAP\u2122 v2.0 permite visualizar otra soluci\xf3n. Los archivos subyacentes mantenidos por este tipo de conjunto de datos son esencialmente archivos de registro que registran cambios en el conjunto de datos. Debe ser posible construir un sistema que mantenga peri\xf3dicamente un conjunto de datos local (o basado en un gatillo) solicitando todos los cambios que se han realizado en el conjunto de datos remoto desde esa \xfaltima solicitud. Eso deber\xeda ser tan eficiente (o m\xe1s) que rsync y manejar\xeda muchos escenarios dif\xedciles, pero s\xf3lo funcionar\xeda si los conjuntos de datos remotos y locales son EDDTableDesdeHttpGet conjuntos de datos."]}),"\n",(0,n.jsx)(a.p,{children:"Si alguien quiere trabajar en esto, por favor contacte erd.data at noaa.gov ."}),"\n",(0,n.jsx)(a.h4,{id:"distributed-data",children:"Datos distribuidos"}),"\n",(0,n.jsx)(a.p,{children:"Ninguna de las soluciones anteriores hace un gran trabajo de resolver las duras variaciones del problema porque la replicaci\xf3n de tiempo casi real (NRT) datasets es muy duro, en parte debido a todos los escenarios posibles."}),"\n",(0,n.jsx)(a.p,{children:"Hay una gran soluci\xf3n: ni siquiera trate de replicar los datos.\nEn su lugar, utilice la \xfanica fuente autorizada (un conjunto de datos en uno ERDDAP ) , mantenido por el proveedor de datos (por ejemplo, una oficina regional) . Todos los usuarios que quieren datos de ese conjunto de datos siempre lo obtienen de la fuente. Por ejemplo, las aplicaciones basadas en el navegador obtienen los datos de una solicitud basada en URL, por lo que no debe importar que la solicitud sea a la fuente original en un servidor remoto (no es el mismo servidor que alberga el ESM) . Mucha gente ha estado abogando por este enfoque de Datos Distribuidos durante mucho tiempo (por ejemplo, Roy Mendelssohn durante los \xfaltimos 20 a\xf1os) . ERDDAP 's grid/federation model (el 80% superior de este documento) se basa en este enfoque. Esta soluci\xf3n es como una espada a un nudo gordiano \u2014 todo el problema desaparece."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Esta soluci\xf3n es impresionantemente simple."}),"\n",(0,n.jsx)(a.li,{children:"Esta soluci\xf3n es impresionantemente eficiente ya que no se hace ning\xfan trabajo para mantener un conjunto de datos replicado (s) actualizado."}),"\n",(0,n.jsx)(a.li,{children:"Los usuarios pueden obtener los \xfaltimos datos en cualquier momento (por ejemplo, con una latencia de s\xf3lo ~0.5 segundos) ."}),"\n",(0,n.jsxs)(a.li,{children:["Escala bastante bien y hay maneras de mejorar el escalado. (Vea la discusi\xf3n en el 80% superior de este documento.)",(0,n.jsx)(a.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"No, esta no es una soluci\xf3n para todas las situaciones posibles, pero es una gran soluci\xf3n para la gran mayor\xeda. Si hay problemas/debilidades con esta soluci\xf3n en ciertas situaciones, a menudo vale la pena trabajar para resolver esos problemas o vivir con esas debilidades debido a las ventajas impresionantes de esta soluci\xf3n. Si/cuando esta soluci\xf3n es realmente inaceptable para una situaci\xf3n determinada, por ejemplo, cuando realmente debe tener una copia local de los datos, entonces considere las otras soluciones discutidas anteriormente.\n\xa0"}),"\n",(0,n.jsx)(a.h3,{id:"conclusion",children:"Conclusi\xf3n"}),"\n",(0,n.jsx)(a.p,{children:"Aunque no hay una soluci\xf3n simple y sencilla que resuelve perfectamente todos los problemas en todos los escenarios (como rsync y datos distribuidos casi son) , espero que haya suficientes herramientas y opciones para que pueda encontrar una soluci\xf3n aceptable para su situaci\xf3n particular."})]})}function u(e={}){const{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},28453:(e,a,s)=>{s.d(a,{R:()=>r,x:()=>d});var o=s(96540);const n={},i=o.createContext(n);function r(e){const a=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function d(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),o.createElement(i.Provider,{value:a},e.children)}},88623:(e,a,s)=>{s.d(a,{A:()=>o});const o=s.p+"assets/images/cluster-73996a04326fe63934754f994e09f63f.png"}}]);