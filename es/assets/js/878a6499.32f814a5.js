"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[977],{68016:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"user/AccessToPrivateDatasets","title":"Access to Private Datasets","description":"MuchosERDDAP\u2122Las instalaciones no tienen habilitaci\xf3n de autenticaci\xf3n y por lo tanto no proporcionan ninguna manera para que los usuarios se inscriban, ni tienen ning\xfan conjunto de datos privados.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/user/AccessToPrivateDatasets.md","sourceDirName":"user","slug":"/user/AccessToPrivateDatasets","permalink":"/es/docs/user/AccessToPrivateDatasets","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/documentation/docs/user/AccessToPrivateDatasets.md","tags":[],"version":"current","frontMatter":{"title":"Access to Private Datasets"},"sidebar":"docSidebar","previous":{"title":"User","permalink":"/es/docs/category/user"},"next":{"title":"NCCSV 1.00","permalink":"/es/docs/user/nccsv-1.00"}}');var a=o(74848),t=o(28453);const r={title:"Access to Private Datasets"},i="Acceso a conjuntos de datos privadosERDDAP\u2122",c={},l=[{value:"Instrucciones actualizadas",id:"updated-instructions",level:2},{value:"Humanos con navegadores",id:"humans-with-browsers",level:2},{value:"Scripts",id:"scripts",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"acceso-a-conjuntos-de-datos-privadoserddap",children:"Acceso a conjuntos de datos privadosERDDAP\u2122"})}),"\n",(0,a.jsx)(n.p,{children:"MuchosERDDAP\u2122Las instalaciones no tienen habilitaci\xf3n de autenticaci\xf3n y por lo tanto no proporcionan ninguna manera para que los usuarios se inscriban, ni tienen ning\xfan conjunto de datos privados."}),"\n",(0,a.jsx)(n.p,{children:"AlgunosERDDAP\u2122las instalaciones tienen habilitada la autenticaci\xf3n. Actualmente,ERDDAP\u2122solo admite autenticaci\xf3n a trav\xe9s de cuentas de correo electr\xf3nico administradas por Google, que incluye cuentas de correo electr\xf3nico enNOAAy muchas universidades. SiERDDAP\u2122tiene habilitada la autenticaci\xf3n, cualquiera con una cuenta de correo electr\xf3nico gestionada por Google puede iniciar sesi\xf3n, pero s\xf3lo tendr\xe1 acceso a los conjuntos de datos privados que losERDDAP\u2122El administrador los ha autorizado expresamente a acceder."}),"\n",(0,a.jsx)(n.h2,{id:"updated-instructions",children:"Instrucciones actualizadas"}),"\n",(0,a.jsxs)(n.p,{children:["Parte de la informaci\xf3n que figura a continuaci\xf3n no est\xe1 fechada. Hasta que esto se actualiza se puede utilizar",(0,a.jsx)(n.a,{href:"https://shospital.github.io/blog/posts/blog-post/erddap_private_dataset.html",children:"este blog post"}),"para los pasos recientes para obtener datos de un conjunto de datos privado con scripts."]}),"\n",(0,a.jsx)(n.h2,{id:"humans-with-browsers",children:"Humanos con navegadores"}),"\n",(0,a.jsx)(n.p,{children:"Usuarios humanos deERDDAP\u2122puede iniciar sesi\xf3nERDDAP\u2122en un navegador para obtener acceso a conjuntos de datos privados que est\xe1n autorizados para acceder."}),"\n",(0,a.jsx)(n.p,{children:"Para iniciar sesi\xf3n:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Haga clic en el enlace de registro en la parte superior izquierda de cualquierERDDAP\u2122p\xe1gina web.\r\nSi no hay registro en el enlace, elERDDAP\u2122la instalaci\xf3n no tiene habilitaci\xf3n de autenticaci\xf3n y no hay conjuntos de datos privados.\r\n\xa0"}),"\n",(0,a.jsx)(n.li,{children:'Haga clic en el bot\xf3n Iniciar sesi\xf3n para iniciar sesi\xf3n en su cuenta de Google.\r\nEl texto del bot\xf3n debe cambiar a "Firmado".\r\n\xa0'}),"\n",(0,a.jsxs)(n.li,{children:["Haga clic en el registroERDDAPbot\xf3n.\r\nLa p\xe1gina web debe cambiar a decir Usted est\xe1 conectado como ",(0,a.jsx)(n.em,{children:"tu EmailAddress"})," .\r\nSi no lo hace, espere 5 segundos y haga clic en el bot\xf3n Iniciar sesi\xf3nERDDAPbot\xf3n otra vez.\r\nEn casos extremos, usted puede tener que esperar y luego intentarlo de nuevo unas cuantas veces.\r\n\xa0"]}),"\n",(0,a.jsx)(n.li,{children:'No use el bot\xf3n Atr\xe1s de su navegador. Usar el "ERDDAP" enlace en la parte superior de lo anterior, luego utilizar otros enlaces para ir aERDDAP\u2122p\xe1ginas que te interesan. Si una p\xe1gina web cach\xe9 dice que no est\xe1s conectado, vuelva a cargar la p\xe1gina.\r\n\xa0'}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"scripts",children:"Scripts"}),"\n",(0,a.jsx)(n.p,{children:"\\[Esto se modifica ligeramente de la informaci\xf3n proporcionada por Lynn DeWitt, quien hizo el duro trabajo de averiguar esto. Lynn, muchas gracias.\r\nSi tiene correcciones o sugerencias, por favor env\xede un correo electr\xf3nico a erd.data @ noaaa.gov .\\]"}),"\n",(0,a.jsx)(n.p,{children:"Tambi\xe9n es posible iniciar sesi\xf3nERDDAP\u2122y acceso a conjuntos de datos privados a trav\xe9s de un script. Aqu\xed hay un ejemplo que utilizacurl:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Estas instrucciones suponen que est\xe1s usando una direcci\xf3n de gmail donde la autenticaci\xf3n de 2 factores no se activa. Si su direcci\xf3n principal de gmail tiene 2 factores de autentificaci\xf3n activada, considere crear otra direcci\xf3n de gmail con autenticaci\xf3n de 2 factores apagado.\r\n\xa0"}),"\n",(0,a.jsx)(n.li,{children:"Inicie sesi\xf3nERDDAP\u2122manualmente con la direcci\xf3n gmail que desea utilizar en su script y aceptar cualquier permiso requerido, a continuaci\xf3n, inicie sesi\xf3n completamente hacia fuera.\r\n\xa0"}),"\n",(0,a.jsx)(n.li,{children:"Abra el navegador Herramientas para desarrolladores y vaya a la pesta\xf1a Red.\r\n\xa0"}),"\n",(0,a.jsx)(n.li,{children:'Haga clic enERDDAP\u2122"log in" link, then the "Sign in" button and choose the appropriate email address if prompted.\r\n\xa0'}),"\n",(0,a.jsx)(n.li,{children:'Despu\xe9s de que el bot\xf3n "Iniciar sesi\xf3n" cambie a "Firmado", la pesta\xf1a Herramientas para Desarrolladores mostrar\xe1 dos entradas que parecen las siguientes: (ejemplo de Firefox) :'}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"    iframerpc?action=issueToken&response loginGoogle.html  \n"})}),"\n",(0,a.jsx)(n.p,{children:'Utilice el men\xfa contextual de clic derecho del rat\xf3n para "copiar como cURL" ambos de estos urls y pegarlos en un editor de texto plano\r\n\xa0\r\n6. Haga clic en el "Log intoERDDAP"Bot\xf3n y "copiar como cURL" el enlace que parece:'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"    login.html  \n"})}),"\n",(0,a.jsxs)(n.p,{children:["y pega este tercerocurlcomando into the text file.\r\n\xa0\r\n7. En el archivo de texto, ahora tendr\xe1s 3 l\xedneas como las siguientes, donde has iniciado sesi\xf3n en un archivo de textoERDDAP\u2122servidor en ' * ",(0,a.jsx)(n.a,{href:"https://host.somewhere.com/erddap",children:"https://host.somewhere.com/erddap"}),' * \'. La primeracurlcomando obtiene su perfil de usuario en "login\\_hint" y genera un "id\\_token". El segundo utiliza el id\\_token para iniciar sesi\xf3n en Google, y el tercero luego entra aERDDAP.']}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"    curl 'https://accounts.google.com/o/oauth2/iframerpc?action=issueToken&response\\\\_type=token%20id\\\\_token&scope=openid%20profile%20email&client\\\\_id=ABCDEFG.apps.googleusercontent.com&login\\\\_hint=XXXXXXXXXX&ss\\\\_domain=https%3A%2F%2Fhost.somewhere.com&origin=https%3A%2F%2Fhost.somewhere.com' --2.0 -H 'Host: accounts.google.com' -H 'User-Agent: useragentstuff' -H 'Accept: \\\\*/\\\\*' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://accounts.google.com/o/oauth2/iframe' -H 'Cookie: lotsofcookiestuff' -H 'Connection: keep-alive' curl 'https://host.somewhere.com/erddap/loginGoogle.html' -H 'Host: host.somewhere.com' -H 'User-Agent: useragentstuff' -H 'Accept: \\\\*/\\\\*' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://host.somewhere.com/erddap/login.html' -H 'Content-Type: application/x-www-form-urlencoded' -H 'Cookie: cookiestuff' -H 'Connection: keep-alive' --data 'idtoken=HUGELONGIDTOKEN' curl 'https://host.somewhere.com/erddap/login.html' -H 'Host: host.somewhere.com' -H 'User-Agent: useragentstuff' -H 'Accept: typeacceptstuff' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://host.somewhere.com/erddap/login.html' -H 'Cookie: cookiestuff' -H 'Connection: keep-alive' -H 'Upgrade-Insecure-Requests: 1'\n"})}),"\n",(0,a.jsxs)(n.ol,{start:"8",children:["\n",(0,a.jsx)(n.li,{children:"Las 3 l\xedneas anteriores, cuando se ejecutan secuencialmente desde una l\xednea de comandos, le registrar\xe1n enERDDAP. Para utilizar estos en un script es necesario capturar el id\\_token de la primera l\xednea, alimentarlo a la segunda l\xednea, y escribir una cookie para ser le\xedda por l\xedneas posteriores.\r\n\xa0"}),"\n",(0,a.jsxs)(n.li,{children:["Para desarrollar un script, ejecute el primero (' ",(0,a.jsx)(n.a,{href:"https://accounts.google.com",children:"https://accounts.google.com"}),' )  curll\xednea exactamente como fue copiado de las herramientas del desarrollador, y capturar la respuesta (Usted puede conseguir uncurlerror sobre la bandera "--2.0") . En php parece lo siguiente:']}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"    $gcurlstuff=\"curl 'https://accounts.google.com/o/oauth2/iframerpc?action=issueToken&response\\\\_type=token%20id\\\\_token&scope=openid%20profile%20email&client\\\\_id=ABCDEFG.apps.googleusercontent.com&login\\\\_hint=XXXXXXXXXX&ss\\\\_domain=https%3A%2F%2Fhost.somewhere.com&origin=https%3A%2F%2Fhost.somewhere.com' -H 'Host: accounts.google.com' -H 'User-Agent: useragentstuff' -H 'Accept: \\\\*/\\\\*' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://accounts.google.com/o/oauth2/iframe' -H 'Cookie: lotsofcookiestuff' -H 'Connection: keep-alive'\"; //execute the curl command: exec($gcurlstuff,$output,$status); //the response is a json array in $output $response=json\\\\_decode($output\\\\[0\\\\],true); //the part you need is in \"id\\\\_token\": $id\\\\_token=$response\\\\[\"id\\\\_token\"\\\\];\n"})}),"\n",(0,a.jsx)(n.p,{children:'Inicia sesi\xf3n en Google ejecutando la segunda l\xednea usando $id\\_token, eliminando primero el par\xe1metro "-H \'Cookie: cosas" y en lugar de decircurlpara escribir una cookie:'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"    $glcurlstuff=\"curl 'https://host.somewhere.com/erddap/loginGoogle.html' -H 'Host: host.somewhere.com' -H 'User-Agent: useragentstuff' -H 'Accept: \\\\*/\\\\*' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://host.somewhere.com/erddap/login.html' -H 'Content-Type: application/x-www-form-urlencoded' -H 'Cookie: cookiestuff' -H 'Connection: keep-alive' --data 'idtoken=\".$id\\\\_token.\"' -b cookies.txt -c cookies.txt\" exec($glcurlstuff,$output1,$status);\n"})}),"\n",(0,a.jsx)(n.p,{children:'Inicie sesi\xf3nERDDAP\u2122, de nuevo la eliminaci\xf3n del par\xe1metro "-H \'Cookie: cosas" y el uso de la cookie previamente escrita:'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"    $ecurlstuff=\"curl 'https://host.somewhere.com/erddap/login.html' -H 'Host: host.somewhere.com' -H 'User-Agent: useragentstuff' -H 'Accept: typeacceptstuff' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://host.somewhere.com/erddap/login.html' -H 'Connection: keep-alive' -H 'Upgrade-Insecure-Requests: 1 -b cookies.txt\"' exec($ecurlstuff,$output2,$status);\n"})}),"\n",(0,a.jsx)(n.p,{children:"Ahora debe ser capaz de solicitar datos del servidor, utilizando la misma cookie:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"    $curlstuff=\"curl -s 'https://host.somewhere.com/erddap/tabledap/datasetid.csv?variablelist' -H 'Host: host.somewhere.com' -H 'User-Agent: useragentstuff' -H 'Accept: typeacceptstuff' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Connection: keep-alive' -H 'Upgrade-Insecure-Requests: 1' -b cookies.txt\"; exec($curlstuff,$output3,$status); //$output3 will be data in csv!\n"})})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>i});var s=o(96540);const a={},t=s.createContext(a);function r(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);