---
sidebar_position: 9
---
# Προμηθέας

[Μετρήσεις Προμηθέα](https://prometheus.io/)διατίθενται στη διεύθυνση /erddap/metrics. Οι μετρήσεις πυρήνα JVM προστέθηκαν το 2,25 με πολλάERDDAP™οι μετρήσεις προστίθενται στην έκδοση 2.26. Αν θέλετε να χρησιμοποιήσετε τις μετρήσεις βεβαιωθείτε ότι είστε τουλάχιστον στην έκδοση 2.26. Προεπιλογή για ενεργοποίηση, μπορείτε να τα απενεργοποιήσετε με την προσθήκη
```xml
<usePrometheusMetrics>false</usePrometheusMetrics>
```
στην εγκατάσταση σας.xml.

Αυτές οι μετρήσεις είναι σχεδιασμένες για να είναι αναγνώσιμες από μηχάνημα. Ενώ μπορείτε να ελέγξετε τη σελίδα μέτρησης χειροκίνητα, για την παρακολούθηση σε βάθος συνιστάται να χρησιμοποιήσετε έναν εξυπηρετητή Προμηθέα. Ένας εξυπηρετητής Προμηθέας θα αποθηκεύσει ιστορικές μετρήσεις που επιτρέπουν περισσότερο σε βάθος παρακολούθηση (παρόμοια ποσοστά και μεταβολές από προηγούμενες τιμές) , και επίσης συχνά εκτελείται με έναν εξυπηρετητή Grafana. Παρέχουμε κάποια προκατασκευασμένα ταμπλό που οι διαχειριστές μπορεί να βρείτε χρήσιμο για να ξεκινήσετε την παρακολούθηση των servers τους.

## Εκτέλεση εξυπηρετητή Προμηθέα

Η καλύτερη τεκμηρίωση για την εκτέλεση της στοίβας παρακολούθησης (Προμηθέας + Grafana) είναι στον Προμηθέα.[readme](https://github.com/ERDDAP/erddap/blob/main/docker/prometheus/README.md).

## ERDDAP™μετρητικά

### JVM

ERDDAP™εξάγει μια σειρά από μετρήσεις που μπορεί να βρείτε χρήσιμες (ξεκινώντας απόERDDAP™2.25) . Για γενική παρακολούθηση της υγείας του ΚΕΜ χρησιμοποιούμε τις μετρήσεις που συλλέγονται από τον πελάτη Προμηθέα. Αυτό περιλαμβάνει δεδομένα σχετικά με τη συλλογή απορριμμάτων, τη χρήση μνήμης, νήματα, και άλλα. Για περισσότερες πληροφορίες βλ.[ΠρομηθέαςJavaΤεκμηρίωση JVM πελάτη](https://prometheus.github.io/client_java/instrumentation/jvm/).

### ERDDAP™ειδικό

Εξάγουμε επίσης μια σειρά απόERDDAP™ειδικές μετρήσεις (ξεκινώντας απόERDDAP™2.26) . Αν θέλετε να ψάξετε τον κώδικα, μπορείτε να βρείτε τις μετρήσεις που συλλέγονται[Μετρική. Ιάβα](https://github.com/ERDDAP/erddap/blob/main/WEB-INF/classes/gov/noaa/pfel/erddap/util/Metrics.java).

#### ERDDAP_Κατασκευή_ info

Αυτή είναι η κατασκευή πληροφοριών για τοERDDAP™Διακομιστής. Περιλαμβάνει την έκδοση (Ταγματάρχης.minor) , έκδοση_ πλήρης (Ταγματάρχης.minor.patch) , και ανάπτυξη_ info (χρησιμοποιείται για να δείξει πώς ο εξυπηρετητής αναπτύσσεται, όπως 'Docker \") .

#### Χαρακτηριστικά_σημαίες

Αυτή είναι μια μέτρηση πληροφοριών που δείχνει την τρέχουσα κατάσταση των σημαιών χαρακτηριστικό. Οι περισσότερες δυαδικές επιλογές ρύθμισης θεωρούνται σημαίες χαρακτηριστικών.

#### προσμείξεις Εικόνα

Αυτή είναι μια μέτρηση πληροφοριών που δείχνει εάν η επιτάχυνση γραφικών είναι διαθέσιμη.

#### http_Ζήτηση_διάρκεια_δευτερόλεπτα

Αυτό είναι ένα ιστόγραμμα της διάρκειας απόκρισης αίτησης σε δευτερόλεπτα. Οι ετικέτες είναι είδος αίτησης (για παράδειγμα griddap,tabledap, αρχεία, wms) , σύνολο δεδομένων_id (κατά περίπτωση, επαναλαμβάνει διαφορετικά τον τύπο αίτησης) , τύπος αρχείου (Μορφότυπος εξόδου για αίτηση π.χ. '.html', '.csv', '.iso19115 \") , lang_code (γλώσσα για την αίτηση, ή άδεια συμβολοσειρά αν προεπιλεγμένη) , κατάσταση_ κωδικός (httpκωδικός καθεστώτος της αίτησης, π.χ. 200, 302, 404) .

Αυτό μπορεί να χρησιμοποιηθεί για την παρακολούθηση αιτημάτων από dataset id για τον προσδιορισμό των δημοφιλών συνόλων δεδομένων του διακομιστή. Μπορεί επίσης να βοηθήσει στον εντοπισμό αν υπάρχουν συγκεκριμένα είδη αιτημάτων που είναι αργά στο διακομιστή σας.

#### touch_thread_duration_seconds

Ένα ιστόγραμμα με διάρκεια εργασιών νήματος αφής. Είναι επισημασμένα με επιτυχία (αληθές/ψευδής) .

#### task_thread_duration_seconds

Ιστόγραμμα διάρκειας νήματος εργασίας. Είναι επισημασμένα με επιτυχία (αληθές/ψευδής) και τύπος εργασίας (ακέραιος) .

#### φόρτωση_στοιχεία σύνολα_διάρκεια_ δευτερόλεπτα

Ιστόγραμμα διάρκειας για εργασίες συνόλου δεδομένων φόρτωσης. Είναι επισημασμένα με μείζονα (αληθές/ψευδής) .

#### email_thread_duration_seconds

Ιστόγραμμα με διάρκεια εργασιών με θέμα email. Είναι επισημασμένα με επιτυχία (αληθές/ψευδής) .

#### Διανομή email_count_distributation

Ιστόγραμμα με email ανά εργασία.

#### Σύνολο δεδομένων_ καταμέτρηση

Μετρητής των συνόλων δεδομένων, που καθορίζεται μετά από κάθε κλήση συνόλων δεδομένων φορτίου. Αυτό φέρει επισήμανση με κατηγορία (πλέγμα, πίνακας) .

#### σύνολο δεδομένων_ απέτυχε_ φόρτωση_ καταμέτρηση

Ένας μετρητής των συνόλων δεδομένων που δεν φόρτωναν, που μετά από κάθε κλήση συνόλων δεδομένων φορτίου.

#### whoet_ requests_ total

Μετρητής αιτημάτων που απορρίφθηκαν. Ο εξυπηρετητής θα ρίξει ένα αίτημα όταν πιστεύει ότι ο εξυπηρετητής είναι χαμηλός στη μνήμη (RAM) και το αίτημα θα προκαλούσε προβλήματα. Αυτό δεν περιλαμβάνει αιτήματα που λάθος λόγω χαμηλού χώρου RAM ή δίσκου κατά τον χειρισμό του αιτήματος.

#### επικίνδυνη_ μνήμη_ emails_total

Μετρητής χρόνου ο διακομιστής επιχειρεί να στείλει ένα email στον διαχειριστή ότι η μνήμη είναι επικίνδυνα χαμηλή.

#### επικίνδυνο_μνήμη_αποτυχία_σύνολο

Μετρητής αιτημάτων που απέτυχαν λόγω της λήξης της μνήμης του μηχανήματος. Συχνά φορές αυτό συμβαίνει επειδή το μηχάνημα λαμβάνει πολλά ακριβά αιτήματα ή το ατομικό αίτημα ήταν εξαιρετικά μεγάλο.

#### topo_quest_σύνολο

Μετρητής αιτήσεων για δεδομένα topo. Αυτή είναι η ετικέτα cache (λανθάνουσα/μη προγραμματισμένη) .

#### Όρια Μετρητές

Υπάρχει επίσης μια συλλογή από μετρητές για αιτήματα για όρια:

 - national_boundaries_request_σύνολο
 - state_ foundaries_quest_total
 - river_boundaries_quest_total
 - gshs_ request_ total

Αυτά φέρουν επισήμανση με καθεστώς (χοντρή, επιτυχημένη, πεταμένη) .
