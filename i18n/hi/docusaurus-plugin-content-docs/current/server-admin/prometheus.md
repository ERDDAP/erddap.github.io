---
sidebar_position: 9
---
# Prometheus

[Prometheus metrics](https://prometheus.io/)/erddap/metrics पर उपलब्ध हैं। JVM कोर मीट्रिक को 2.25 में कई लोगों के साथ जोड़ा गया थाERDDAP™मेट्रिक्स संस्करण 2.26 में जोड़ा गया। यदि आप मैट्रिक्स का उपयोग करना चाहते हैं तो सुनिश्चित करें कि आप कम से कम संस्करण 2.26 में हैं। वे सक्षम करने के लिए डिफ़ॉल्ट हैं, आप उन्हें जोड़ने के द्वारा निष्क्रिय कर सकते हैं
```xml
<usePrometheusMetrics>false</usePrometheusMetrics>
```
अपने सेटअप.xml के लिए।

ये मीट्रिक मशीन पठनीय होने के लिए डिज़ाइन किए गए हैं। जबकि आप मैन्युअल रूप से मीट्रिक पृष्ठ की जांच कर सकते हैं, गहराई में निगरानी के लिए प्रोमेथेस सर्वर का उपयोग करने की सिफारिश की जाती है। एक Prometheus सर्वर ऐतिहासिक मीट्रिक स्टोर करेगा जो गहराई की निगरानी में अधिक सक्षम होगा (दरों और पिछले मूल्यों से परिवर्तन की तरह) इसके अलावा, यह भी अक्सर एक Grafana सर्वर के साथ चला जाता है। हम कुछ पूर्व-निर्मित डैशबोर्ड प्रदान करते हैं जो व्यवस्थापक अपने सर्वर की निगरानी शुरू करने के लिए उपयोगी हो सकते हैं।

## चल रहा है Prometheus सर्वर

निगरानी स्टैक चलाने के लिए सबसे अच्छा प्रलेखन (Prometheus + Grafana) Prometheus में है[पढ़ना](https://github.com/ERDDAP/erddap/blob/main/docker/prometheus/README.md)।

## ERDDAP™मीट्रिक

### JVM

ERDDAP™कई मैट्रिक्स निर्यात करता है जिन्हें आप उपयोगी पा सकते हैं (शुरू करनाERDDAP™2.25) । JVM के स्वास्थ्य की सामान्य निगरानी के लिए हम Prometheus क्लाइंट द्वारा एकत्र किए गए मैट्रिक्स का उपयोग करते हैं। इसमें कचरा संग्रह, मेमोरी उपयोग, धागे और अधिक के बारे में डेटा शामिल है। अधिक जानकारी के लिए देखें[PrometheusJavaग्राहक JVM प्रलेखन](https://prometheus.github.io/client_java/instrumentation/jvm/)।

### ERDDAP™विशिष्ट

हम भी कई निर्यातERDDAP™विशिष्ट मीट्रिक (शुरू करनाERDDAP™2.26) । यदि आप कोड में खुदाई करना चाहते हैं, तो आप में एकत्र किए गए मैट्रिक्स को पा सकते हैं[मेट्रिक्स](https://github.com/ERDDAP/erddap/blob/main/WEB-INF/classes/gov/noaa/pfel/erddap/util/Metrics.java)।

#### ERDDAPEnglish, हिन्दी, Українська, Français...

यह के लिए निर्माण की जानकारी हैERDDAP™सर्वर इसमें संस्करण शामिल है (प्रमुख.minor) पूर्ण संस्करण (प्रमुख.minor.patch) Infinite.info (यह इंगित करने के लिए उपयोग किया जाता है कि सर्वर कैसे तैनात किया जाता है, जैसे कि डोकर ') ।

#### feature_flags

यह एक सूचना मीट्रिक है जो फीचर झंडे की वर्तमान स्थिति को दर्शाता है। अधिकांश boolean विन्यास विकल्प फीचर झंडे माना जाता है।

#### बफर छवि

यह एक सूचना मीट्रिक है जो इंगित करता है कि ग्राफिक्स त्वरण उपलब्ध है।

#### http_request_duration_seconds

यह सेकंड में अनुरोध प्रतिक्रिया अवधि का एक हिस्टोग्राम है। लेबल अनुरोध हैं_type (उदाहरण के लिए ग्रिडडैप,tabledap, फाइलें, wms) Dataset_id (यदि लागू हो, अन्यथा अनुरोध प्रकार को दोहराता है) फ़ाइल (अनुरोध के लिए आउटपुट प्रारूप उदाहरण के लिए '.html', 'csv', '.iso19115 ') , lang_code (यदि डिफ़ॉल्ट हो तो अनुरोध के लिए भाषा, या खाली स्ट्रिंग) , status_code (httpअनुरोध का स्टेटस कोड जैसे 200, 302, 404) ।

इसका उपयोग सर्वर के लोकप्रिय डेटासेट को निर्धारित करने के लिए डेटासेट आईडी द्वारा अनुरोधों को ट्रैक करने के लिए किया जा सकता है। यह भी पता लगाने में मदद कर सकता है कि आपके सर्वर पर कुछ विशेष प्रकार के अनुरोध हैं।

#### Touch_thread_duration_second

स्पर्श थ्रेड कार्य अवधि का एक हिस्टोग्राम। वे सफलता के साथ लेबल कर रहे हैं (सच / झूठ) ।

#### Act_thread_duration_seconds

कार्य थ्रेड अवधि का एक हिस्टोग्राम। वे सफलता के साथ लेबल कर रहे हैं (सच / झूठ) और टास्क_type (intetger) ।

#### load_datasets_duration_seconds

लोड डेटासेट कार्यों के लिए अवधि का एक हिस्टोग्राम। वे प्रमुख के साथ लेबल कर रहे हैं (सच / झूठ) ।

#### E-Mail _ साइटमैप

ईमेल थ्रेड कार्य अवधि का एक हिस्टोग्राम। वे सफलता के साथ लेबल कर रहे हैं (सच / झूठ) ।

#### ईमेल

प्रति कार्य ईमेल का एक हिस्टोग्राम।

#### Dataset_count

प्रत्येक लोड डेटासेट कॉल के बाद सेट डेटासेट का एक गेज। यह श्रेणी के साथ लेबल किया गया है (ग्रिड, तालिका) ।

#### Dataset_failed_load_count

डेटासेट का एक गेज जो लोड करने में विफल रहा, प्रत्येक लोड डेटासेट कॉल के बाद सेट किया गया।

#### shed_request_total

अनुरोधों का काउंटर जो शेड थे। जब सर्वर स्मृति पर कम होता है तो सर्वर को एक अनुरोध दिया जाएगा (रैम) और अनुरोध समस्याओं का कारण होगा। इसमें अनुरोध शामिल नहीं है कि अनुरोध के संचालन के दौरान कम रैम या डिस्क स्पेस के कारण त्रुटि।

#### खतरनाक_memory_emails_total

कभी कभी सर्वर व्यवस्थापक को एक ईमेल भेजने का प्रयास करता है कि स्मृति खतरनाक रूप से कम है।

#### खतरनाक_memory_failures_total

अनुरोधों का काउंटर जो स्मृति से बाहर चल रही मशीन के कारण विफल रहा। अक्सर ऐसा इसलिए होता है क्योंकि मशीन को बहुत महंगे अनुरोध प्राप्त होते हैं या व्यक्तिगत अनुरोध असाधारण रूप से बड़ा होता है।

#### topo_request_total

Topo डेटा के लिए अनुरोधों का काउंटर। यह लेबल कैश है (कैश्ड/not_cached) ।

#### सीमा काउंटर

सीमाओं के लिए अनुरोधों के लिए काउंटरों का एक संग्रह भी है:

 - National_boundaries_request_total
 - State_boundaries_request_total
 - नदी_boundaries_request_total
 - gshhs_request_total

ये स्थिति के साथ लेबल होते हैं (मोटे, सफलता, tossed) ।
