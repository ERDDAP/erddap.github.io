---
sidebar_position: 9
---
# 普罗米修斯

[普罗米修斯度量衡](https://prometheus.io/)以/erddap/度量计。 2.25中增加了联合核查机制的核心衡量标准,其中有许多ERDDAP™2.26版中添加了度量衡。 如果您想要使用这些度量衡,请确保您至少处于2.26版本。 它们默认启用, 您可以通过添加来禁用
```xml
<usePrometheusMetrics>false</usePrometheusMetrics>
```
到您的设置. xml。

这些指标的设计是机器可读的。 尽管您可以手动检查度量衡页面,但为了进行深度监测,建议使用Prometheus服务器. Prometheus 服务器将存储能够进行更多深度监测的历史计量 (如过去数值的速率和变化) ,也经常使用 Grafana 服务器运行。 我们提供了一些预建的仪表板,管理员可能会发现这些仪表板有助于开始监测他们的服务器.

## 运行 Prometheus 服务器

运行监视堆栈的最佳文档 (普罗米修斯+格拉法纳) 在普罗米修斯[读我](https://github.com/ERDDAP/erddap/blob/main/docker/prometheus/README.md)。 。 。 。

## ERDDAP™计量

### 联合核查团

ERDDAP™导出您可能发现有用的一些度量衡 (开始于ERDDAP™2.25 联合国) 。 。 。 为了对JVM的健康进行总体监测,我们使用普罗米修斯客户收集的衡量标准。 这包括关于垃圾收集、内存使用、线程等数据。 更多信息见[普罗米修斯JavaJVM 客户端文档](https://prometheus.github.io/client_java/instrumentation/jvm/)。 。 。 。

### ERDDAP™具体

我们还出口一些ERDDAP™具体指标 (开始于ERDDAP™2.26 国家) 。 。 。 如果您想要挖掘代码, 您可以找到收集到的参数[Metrics.java (英语).](https://github.com/ERDDAP/erddap/blob/main/WEB-INF/classes/gov/noaa/pfel/erddap/util/Metrics.java)。 。 。 。

#### ERDDAP构建_ info

这是建筑信息ERDDAP™服务器。 它包括版本 (主要. 小于) , 版本 _ 完整 (校长. minor.patch) 和部署_ info (用于显示服务器是如何部署的, 如“ Docker ”  ') 。 。 。 。

#### 特性(_F)

这是一个信息度量表,显示特征旗的现状。 大多数布尔配置选项被认为是特征标记.

#### 缓冲 图像

这是一个信息度量法,它表明是否有图形加速。

#### http请求(_D)

这是请求响应时间数秒的直方图 。 标签为请求_ 类型 (例如,网格dap,tabledap,文件, wms 数据) ,数据集编号 (如果适用,以其他方式重复请求类型) , 文件类型 (请求的产出格式 例如'.html','.csv','.iso19115  ') 代码 (请求的语言,或者默认情况下的空字符串) 状态_代码 (http请求的状态代码,例如200、302、404) 。 。 。 。

这可用于通过数据集ID跟踪请求,以确定服务器的流行数据集. 也可以帮助识别服务器上是否有特殊类型的请求缓慢.

#### 触摸_线程_ 长度_ 秒

触线任务长度直方图 。 他们的标签是成功的 (真实/虚假) 。 。 。 。

#### 任务_ 线程_ 长度_ 秒

任务线程长度的直方图 。 他们的标签是成功的 (真实/虚假) 任务类型 (整数) 。 。 。 。

#### 装入_dataset_duration_seconds

装入数据集任务的持续时间直方图 。 他们的标签是主要 (真实/虚假) 。 。 。 。

#### 电子邮件(_thread_dult_seconds)

电子邮件线索任务期限的直方图 。 他们的标签是成功的 (真实/虚假) 。 。 。 。

#### 电子邮件(_C)

每个任务的电子邮件直方图 。

#### 数据集(_C)

数据集的测量仪,在每个负载数据集调用后设置. 此标签为类别 (网格,表格) 。 。 。 。

#### 数据集_ 失败_ 负荷_ 计数

无法加载的数据集的测量, 在每个加载数据集调用后设置 。

#### 对话框_ 请求_ 总计

已撤销的请求。 当服务器认为服务器内存不足时, 就会发出请求 (内存) 并且请求会引发问题。 这不包括处理请求时由于内存或磁盘空间低而提出的错误请求.

#### 危险(_M)_电子邮件_总

服务器试图向管理员发送电子邮件时的计数器, 内存可能太低 。

#### 危险 _ 记忆_ 失败_ 总计

因机器内存耗尽而失败的请求的对答. 往往是因为机器收到很多昂贵的请求,或者个别的请求特别大。

#### topo 请求 _ 总计

对托波数据请求的反驳。 这是标签缓存 (缓存/ 未缓存(_C)) 。 。 。 。

#### 边界柜台

还有一批要求边界的柜台:

 - 国家_边界_请求_总计
 - 状态 _ 边界_ 请求_ 总计
 - 河流_边界_ 请求_ 总计
 - gshhs_请求_总计

上面贴着身份标签 (粗糙,成功,抛掷) 。 。 。 。
