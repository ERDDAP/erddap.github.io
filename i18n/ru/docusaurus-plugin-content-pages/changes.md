---
title: "ERDDAP™ - Changes"
---
# ERDDAP™Изменения

ERDDAP™Является ярким примером[Инновации, управляемые пользователями](https://en.wikipedia.org/wiki/User_innovation)где инновации часто исходят от потребителей (ERDDAP™пользователи) Не только производители (ERDDAP™разработчики) . На протяжении многих лет большинство идей для новых функций и измененийERDDAP™Они пришли от пользователей. Эти пользователи указаны ниже за их отличные идеи. Спасибо&#33; Пожалуйста, сохраняйте эти замечательные предложения&#33;

Вот изменения, связанные с каждымERDDAP™освободить.

## Версия 2.28.0{#version-2280} 
 (Выпущено 2025-08-29) 

*    **Новые особенности и изменения (для пользователей) :** 
    *   [Схема Круассана](https://docs.mlcommons.org/croissant/docs/croissant-spec.html)Теперь он доступен. Администраторы могут контролировать, используют ли метаданные по умолчанию Croissant, но начиная с 2.28.0 вы можете запросить определение Croissant для нового типа экспортного файла «.croissant». (что такое jsonld файл) .

*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Новый Docker Изображение, созданное по каждому запросу на слияние. Это альфа-сборки, они не являются релизами. Они будут иметь бирку «20250814T034025», которая указывает, когда он был построен. Если вы хотите попробовать последние функции, вы можете использовать их. Если вы хотите что-то более стабильное, используйте наши релизы с семантическим тегом версии. (например, 2.28.0) . Мы всегда стремимся к тому, чтобы альфа-релизы были пригодны для использования, но их тестирование меньше, чем у наших релизов. Мы всегда рекомендуем вам использовать что-то, по крайней мере, такое же новое, как наш «последний» релиз.

    * Докер Изображения теперь доступны на[GitHub](https://github.com/ERDDAP/erddap/pkgs/container/erddap)Кроме того, помимо[DockerHub](https://hub.docker.com/r/erddap/erddap).

Благодаря[@ocefpaf](https://github.com/ocefpaf),[@abkfenris](https://github.com/abkfenris),[@srstsavage](https://github.com/srstsavage)и[Мэтью Биддл](https://github.com/MathewBiddle)Обсуждение The Docker Images. Это были первые взносы от всех, кроме @ststsavage&#33;
    
    * В настоящее время существует поддержка генерации[Схема Круассана](https://docs.mlcommons.org/croissant/docs/croissant-spec.html)Файлы. Он включен по умолчанию. Вы можете отключить схему Круассана в setup.xml с помощью (НЕ РЕКОМЕНДУЕТСЯ - Пожалуйста, обратитесь или подавайте вопрос на GitHub, если вам нужно это сделать.) :
    ```
        <generateCroissantSchema>false</generateCroissantSchema>
    ```

    * Некоторые настройки изменили свои значения по умолчанию. UseHeadersForUrl и useEddReflection теперь оба по умолчанию верны. Если они вызывают проблему, и вам нужно установить их на ложные, пожалуйста, создайте проблему. Цель состоит в том, чтобы удалить их в будущем выпуске.

    * Некоторые настройки были удалены. использоватьSharedWatchService и перенаправить документацию ToGitHubIo был установлен по умолчанию для нескольких выпусков и был довольно хорошо протестирован на данный момент. Удаление их позволило очистить код.

    * Некоторые небольшие изменения, исправления ошибок и оптимизации.

*    **ДляERDDAP™Разработчики:** 
    * Много мертвых кодов удалено. Многие предостережения фиксированы.

## Версия 2.27.0{#version-2270} 
 (Выпущено 2025-06-11) 

*    **Новые особенности и изменения (для пользователей) :** 
    * Новые данные для конвертера цветовой панели на серверах по адресу /erddap/convert/color.html

*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * По умолчанию Behavoir заключается в том, что кэш теперь будет очищен независимо от основной задачи наборов данных нагрузки. Это позволит более надежно и регулярно очищать старые файлы кэша. Существует дополнительная работа по улучшению работы сервера при низком уровне дискового пространства. (Возвращение ошибки для запросов, которые могут привести к тому, что у сервера закончится пространство, и более частое очищение кэша в условиях низкого диска, чтобы попытаться предотвратить ошибки.) . вdatasets.xml  (Настройка.xml) Вы можете добавить/установить новый кэш Параметр ClearMinutes позволяет контролировать, как часто сервер проверяет кэш. Примечание: существующий параметр cacheMinutes контролирует возраст файлов, которые должны храниться. ClearMinutes - это то, как часто нужно делать чешуйку.
    ```
        <cacheClearMinutes>15</cacheClearMinutes>
    ```
Вы можете отключить новые кэш-проверки, установив в setup.xml задачу CacheClear, хотя это не рекомендуется.
кэш ClearMinutes находится в[наборы данных документация](/docs/server-admin/datasets#cacheclearminutes).
    
    * Поддержка метаданных локализованного набора данных. Поддерживает локализацию значений вaddAttributesРаздел. Просто добавьте атрибут с дополнительным тегом xml:lang. Например, добавить французский заголовок в набор данных.addAttributesРаздел будет включать:
    ```
        <att name="title">Data from a local source.</att>
        <att name="title" xml:lang="fr">Donn&#xE9;es provenant d'une source locale.</att>
    ```
Дополнительные подробности доступны в[локализованная документация метаданных](/docs/server-admin/localized-metadata).

    * Новый Docker Составьте файл с опциями для SSL и сервера Barebones Prometheus. Спасибо Шейну Сент-Сэвиджу за SSL и Цзяхуэй Ху за Прометей.

    * Поддержка использования информации в заголовках для определения URL-адреса сервера вместо использования файла конфигурации. Это позволит получить доступ к серверу с помощью нескольких имен и может упростить определенные конфигурации. Пожалуйста, включите его и отправьте обратную связь.
    ```
        <useHeadersForUrl>true</useHeadersForUrl>
    ```

    * Некоторые небольшие изменения, исправления ошибок и оптимизации.

*    **ДляERDDAP™Разработчики:** 
    * Рефактор того, как типы выходных файлов определены в коде. Это должно сделать его таким, чтобы типы файлов можно было добавлять без необходимости касаться многих кодовых мест.

## Версия 2.26{#version-226} 
 (Выпущено 2025-03-31) 

*    **Для всех:** 
    * Большое обновление нашего сайта документации: https://erddap.github.io/
 
Помимо обновленного внешнего вида, улучшена навигация, поиск, перевод, и это должно быть легче поддерживать в будущем&#33;

*    **Новые особенности и изменения (для пользователей) :** 
    * Подписки иRSSОбновления должны происходить более надежно для наборов данных, которые часто обновляются при изменении файлов.

*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Выпуск по умолчанию требует / поддерживаетJavaВерсия 21. В этом выпуске можно легко сделатьJava17 совместимых двоичных.

    * Новая функция для настройки информации, отображаемой о наборах данных в UI. Мы ожидаем, что это будет особенно полезно для добавления таких вещей, как цитаты из набора данных. Для более подробной информации вы можете прочитать[Новая документация](/docs/server-admin/display-info). Спасибо Аюшу Сингху за вклад&#33;

    * Дополнительные метрики Прометея. Самый большой из них – этоhttp_request_duration_seconds', который включает в себя время ответа запроса, разбитое на: "request_type", "dataset_id", "dataset_type", "file_type", "lang_code", "status_code"
Этот машиночитаемый формат позволит лучше собирать метрики, чтобы понять, как пользователи используют сервер.

    * Новый способ создания XML-файлов ISO19115. Он использует Apache SIS и является новой опцией в этом выпуске. Пожалуйста, включите его и отправьте обратную связь.
    ```
        <useSisISO19115>true</useSisISO19115>
    ```

    * UI теперь будет создавать отдельные ссылки для каждого URL-адреса в таких областях, какinfoUrlи резюме.

    * Подписки иRSSОбновления должны происходить более надежно для наборов данных, которые часто обновляются при изменении файлов. Если это вызывает проблемы, пожалуйста, свяжитесь с GitHub и отключите функциональность, добавив флаг ниже в ваш setup.xml.
Не рекомендуется
    ```
        <updateSubsRssOnFileChanges>false</updateSubsRssOnFileChanges>
    ```

    * Переменные подмножества больше не будут автоматически генерироваться для EDDTable FromNcCFFiles. Если вы полагаетесь на поведение, вы можете (Предпочтительное решение) добавитьsubsetVariablesОпределение набора данных в вашемdatasets.xmlИли добавьте флаг ниже в setup.xml. Если вы чувствуете необходимость включить это, пожалуйста, свяжитесь с GitHub, чтобы мы могли лучше поддержать ваш вариант использования.
Не рекомендуется
    ```
    <includeNcCFSubsetVariables>true</includeNcCFSubsetVariables>
    ```

    * Сервер перенаправит запросы на документацию (Под загрузками / который является документацией, которая была перенесена) на новый сайт документации. При необходимости вы можете отключить это с помощью флага в setup.xml:
Не рекомендуется
    ```
        <redirectDocumentationToGitHubIo>false</redirectDocumentationToGitHubIo>
    ```

    * Некоторые небольшие изменения и исправления ошибок.

*    **ДляERDDAP™Разработчики:** 
    * Улучшение качества кода и очистка мертвого кода. Это включает в себя незначительную оптимизацию, лучшую обработку клонируемых ресурсов и переход от устаревших типов данных. (как вектор) .

    * Большой рефакторинг в EDStatic для извлечения большей части конфигураций, сообщений и метрического кода. Он также лучше инкапсулирует инициализацию и обработку путей каталогов. (Осталось сделать еще 2.) 

    * Немалый прогресс в создании официально поддерживаемого Docker Image. План состоит в том, чтобы завершить и выпустить послеERDDAP™Доступен релиз 2.26.

## Версия 2.25{#version-225} 
 (выпущен 2024-10-31) 

*    **Новые особенности и изменения (для пользователей) :** 
    * EDDTableFromFiles теперь может поддерживать запросы только с выводами (Глобалы, сценарий jexl или переменные) .
         
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Версия 2.25 требуетJava21 или больше. Это версия LTS, которая доступна уже более года.
         
    * SharedWatchService теперь по умолчанию. Если вам нужно отключить его, пожалуйста, свяжитесь с Крисом. Джон на noaa.gov, чтобы сообщить мне, так что я могу улучшить его в будущих версиях и добавить:
        &lt;Использование SharedWatchService&gt;false&lt;/useSharedWatchService&gt; to your setup.xml.
         
    * TheERDDAP™Сервлет теперь начнется при запуске сервера. Это означает, что наборы данных начнут загружаться немедленно, а не ждать, пока будет сделан запрос.
         
    * Параметр removeMVRows в EDDTableFromMultidimNcFiles теперь будет иметь эффект. Настройка его на ложный может значительно ускорить некоторые запросы, но это может не подходить для всех наборов данных. Для получения дополнительной информации см.[Описание параметра](/docs/server-admin/datasets#removemvrows).
         
    * Наборы данных (EDDTable FromNcFiles и другиеEDDGridИз NcFiles) Теперь поддерживается использование файлов zarr. Они должны включать «zarr» в файл NameRegex или PathRegex. Видишь?[zarr secion в документации наборов данных](/docs/server-admin/datasets#zarr)для более подробной информации.
         
    * Поддерживается новый тип набора данных EDDTableFromParquetFiles. Видишь?[EDDTableFromParquetFiles secion в документации наборов данных](/docs/server-admin/datasets#eddtablefromparquetfiles)для более подробной информации.
         
    *   [Метрики Прометея](https://prometheus.io/)Теперь они доступны в /erddap/metrics.
         
    * Доступна новая реализация XML-парсера. Новый парсер позволяет использовать XInclude вdatasets.xml. Спасибо Аюшу Сингху за эту функцию.
         
    * Новый параметр вdatasets.xmlКонтроль необычной активности электронной почты. Необычная активность Неудачный процент дефолтов до старого значения 25%. Спасибо Аюшу Сингху за эту функцию.
         
    * Новый параметр в setup.xml, который контролирует, отображаются ли ошибки загрузки набора данных на странице status.html. Он не соответствует действительности, чтобы отключить ошибки набора данных на странице состояния, установить showLoadErrorsOnStatusPage на ложный:&lt;Обсуждение LoadErrorsOnStatusPage&lt;/showLoadErrorsOnStatusPage&gt;
         
    * Некоторые небольшие изменения и исправления ошибок.
         
*    **ДляERDDAP™Разработчики:** 
    * Тестирование разделено на единицу и интеграцию (медленно) Тесты. Также было включено больше тестов, и тесты были сделаны менее скользкими.
         
    * Ошибка Prone (Некоторые чеки до сих пор отключены) Spot Bugs интегрируется через Maven.
         
    * Полная база кода, отформатированная в соответствии с Руководством по стилю Google.
         

## Версия 2.24{#version-224} 
 (выпущено 2024-06-07) 

*    **Новые особенности и изменения (для пользователей) :** 
    * Новая цветовая палитра EK80 для акустических наборов данных. Спасибо Робу Чермаку за это.
         
    * Исправьте проблему, когда EDDTableAggregateRows не отображает правильные диапазоны от всех детей. Спасибо Марко Альба за исправление и сообщение об ошибке.
         
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Чтобы сделать: изменение безопасности: Google Authentication может потребовать изменений в CSP.
        
В частности, вам также может потребоваться добавить https://accounts.google.com/gsi/style Ступенька и https://accounts.google.com/gsi/ Объединить-Src. Для скрипта-src теперь можно использовать https://accounts.google.com/gsi/client.
 
        
Для получения дополнительной информации вы можете перейти в[Страница Google](https://developers.google.com/identity/gsi/web/guides/get-google-api-clientid#content_security_policy)Конфигурация CSP.
         
        
    * Новый сервис Shared Watch. Это новая опция для просмотра каталогов обновлений. Он имеет один поток для каждой файловой системы вместо одного потока для набора данных. Скорее всего, это резко сократит количество потоков, используемых для наблюдения за изменениями. Это означает, что все наборы данных обновляются вместе, а не каждый набор данных имеет свою собственную частоту обновления. Скорее всего, это будет означать более частые обновления для большинства наборов данных.
        
Чтобы включить это дополнение&lt;Использование SharedWatchService&gt;Правда&lt;/useSharedWatchService&gt; to your setup.xml.
        
          
Пожалуйста, попробуйте это и сообщите, как это работает для вас. Джон на noaa.gov.
         
    * Исправьте неправильные имена в журналах. Спасибо Аюшу Сингху за исправление.
         
    * Некоторые небольшие изменения и исправления ошибок.
         
*    **Улучшения дляERDDAP™Разработчики:** 
    * Поддержка локального развития с помощью Docker. Спасибо Мэтту Хопсону и Роже.
         
    * Поддержка локального развития с использованием Jetty и улучшения документации. Спасибо, Мика Венгрен.
         
    * Изменения в тестах для уменьшения проблем пересекают платформу. Спасибо. Шейн Сент-Сэвидж.
         

## Версия 2.23{#version-223} 
 (выпущено 2023-02-27) 

Обратите внимание, что этот релиз был сделан Бобом Саймонсом, тем самым показывая, что он по-прежнему активен во время перехода к Крису Джону, его преемнику. Начиная с этого выпуска, все изменения кода производятся Chis John, если не указано иное.

*    **Новые особенности и изменения (для пользователей) :** 
    *    (Никто)   
         
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Чтобы сделать: изменение безопасности: Google Authentication теперь выполняется через новую библиотеку Google Identity Services, которая является частью «Sign In with Google». Поддержка Google старой системы Google Sign In будет прекращена в 2023-03-31 годах. Если вы используете Google AuthenticationERDDAP™Установка, вы должны обновитьERDDAP™v2.23+ до этого. (Боб сожалеет о коротком уведомлении. Это Боб виноват.)   
         
    * NCCSV теперь v1.2. Изменения заключаются в том, что файлы теперь кодируются UTF-8. (Они были ASCII) и поэтому теперь может включать любой символ Unicode как есть, без кодирования как \\u_hhhh_, хотя это все еще разрешено.
При написании файлов NCCSVERDDAP™Теперь пишет файлы v1.2.
        ERDDAP™По-прежнему будут считывать файлы NCCSV, которые соответствуют спецификациям v1.0 и v1.1.
Благодаря Pauline-Chauvet, n-a-t-e и thogar-компьютеру, которые предлагают это и проводят тесты для обеспечения того, чтобы различные программы электронных таблиц могли импортировать файлы UTF-8. Спасибо Бобу Саймонсу за изменение кода.
         
    * НОВОСТИ: На веб-странице status.html теперь есть строка в верхней части, которая указывает, какие наборы данных загружаются в настоящее время, и связанная с ними статистика, или нет, если набор данных не загружается. Это может быть очень полезно дляERDDAP™Администраторы пытаются выяснить, зачем загружать Наборы данных занимают так много времени. Кроме того, nGridDatasets, nTableDatasets и nTotalDatasets считаются ниже, которые теперь являются мгновенными. (Ранее они были по состоянию на конец последней крупной нагрузки. Наборы данных) .
Это изменение для Роя Мендельсона. Спасибо Бобу Саймонсу за изменение кода.
         
    * Усовершенствовано: Генерировать наборы данных Xml меняет CF-1.10 (CF-1.6) в атрибутах «Конвенции».
Спасибо Бобу Саймонсу за изменение кода.
         
    * Некоторые небольшие изменения и исправления ошибок.
         

## Версия 2.22{#version-222} 
 (выпущенный 2022-12-08) 

Обратите внимание, что этот релиз был сделан Бобом Саймонсом, тем самым показывая, что он все еще рядом и активен во время перехода к своему преемнику.

*    **Новые особенности и изменения (для пользователей) :** 
    *    (Никто)   
         
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Делать: ничего.
         
    * Безопасность BUG FIX: В коде для выбора языка была ошибка, связанная с Cross Site Scripting. БлагодаряNOAAСканирование безопасности, чтобы поймать это. Это показывает, чтоNOAAБезопасность активно и регулярно ищет слабые места в безопасности.ERDDAP.
         
    * Безопасность FIX: Многие библиотеки, используемыеERDDAP™Обновлены, как обычно, в рамках данного релиза. На этот раз это включало обновление драйвера PostgreSQL. (У которого был баг безопасности) 42.5.1.
         
    * Внедрение: небольшие измененияERDDAPСистема управления памятью должна снижать вероятность отказа данного запроса из-за отсутствия доступной памяти.
         
    * Некоторые небольшие изменения и исправления ошибок.
         

## Версия 2.21{#version-221} 
 (выпущенный 2022-10-09) 

*    **Новые особенности и изменения (для пользователей) :** 
    *    (Никто)   
         
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Для этого: ForJava17, вы не должны использовать \\-d64 в JAVA\\_OPTS в setenv.bat или setenv.sh. Если он есть, пожалуйста, удалите его. Я думаю, что 64-битный режим теперь выбирается при загрузке 64-битной версии.Java. Спасибо Сэму Вудману.
         
    * BUG FIX: Иногда новая система электронной почты пыталась войти в систему слишком часто, что приводило к тому, что серверы электронной почты Google отклоняли все будущие попытки входа в систему. Электронная почта позволяет избежать этих и связанных с ними проблем.
         

## Версия 2.20{#version-220} 
 (выпущенный 2022-09-30) 

*    **Не используйте v2.20. Это неправильно.** Но администраторы по-прежнему должны делать элементы TO DO, перечисленные ниже, при обновлении до v2.21 +.
     
*    **Новые особенности и изменения (для пользователей) :** 
    *    (Никто)   
         
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * УПРАВЛЕНО: Мы повторно включили старую систему управления памятью (Math2.ensureПамять) Модифицирована новая система управления памятью (EDStatic.shedThisRequest) Чтобы лучше с ним работать. Видишь?[Состояние памяти](/docs/server-admin/additional-information#memory-status)Для деталей.
         
    * Изменить: По умолчанию для&lt;ipAddressMaxЗапросы вdatasets.xmlОн был увеличен с 7 до 15. Очевидно, что некоторые законныеWMSКлиент может генерировать более 7 одновременных запросов.
         

## Версия 2.19{#version-219} 
 (выпущенный 2022-09-01) 

*    **Не используйте v2.19. Это неправильно.** Но администраторы по-прежнему должны делать элементы TO DO, перечисленные ниже, при обновлении до v2.20 +.
     
*    **Новые особенности и изменения (для пользователей) :** 
    * НОВОСТИ: Существует новая функция на стороне сервера.orderByСпускаясь, который работает какorderByНо в порядке убывания. Спасибо Адаму Лидбеттеру.
         
    * Усовершенствовано: теперь, графики (Но не карты) Расширится, чтобы заполнить доступное пространство на холсте, т.е. пространство, не используемое легендой. Вы можете получить высокие графики, квадратные графики или широкие графики, добавив и манипулируя &.size=_width_|_height_ параметр (где ширина и высота указывают размер холста, в пикселях) По запросу URL. (Это не вариант на странице .graph. Вы должны добавить его в URL вручную.) Если вы не указываете параметр &.size, запросы на .smallPng, .png, .largePng, .smallPdf, .pdf и .large.pdf имеют заранее определенные размеры холста, поэтому ваш график будет расширяться, чтобы заполнить доступное пространство, но обычно будет примерно квадратным. Спасибо Бобу Флемингу.
         
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Чтобы сделать:ERDDAP™Теперь требуетсяJava17 и связанный с ним Tomcat 10. Вы должны следовать заERDDAP™Инструкция по установке (или эквивалент, например, для Docker) устанавливатьJava17 и Томкэт 10 и копируйте ваши\\[кот\\]Каталог контента из вашей установки Tomcat 8\\[кот\\]Директория. Нет никаких других изменений, которые вы должны внести в своиERDDAPУстановка связана с этим изменением. Другими словами,ERDDAP™работает, как это было раньше.
        
Не забудьте сделатьERDDAP- связанные изменения в сервере Tomcat.xml и context.xml при обновлении Tomcat. Видишь?ERDDAP?[Инструкция по установке Tomcat](/docs/server-admin/deploy-install#tomcat).
        
Мое впечатление отJava17 - это то, что он предпочитает больше вычислительной мощности и памяти для длительных, более крупных приложений, таких как:ERDDAP™работает немного медленнее, чемJava8 компьютеров с низким энергопотреблением (Например, 2 ядра и минимальная оперативная память) работает немного быстрее, чемJava8 с более мощными компьютерами (Например, 4+ ядра и обильная RAM) . Поэтому, если вы видите плохую производительность, используйте такие программы, как Linux.[вершина](https://www.howtogeek.com/668986/how-to-use-the-linux-top-command-and-understand-its-output/)проверить использование ресурсов и рассмотреть возможность предоставленияERDDAP™Больше ресурсов, особенно памяти. Память дешевая&#33; Большинство телефонов имеют больше процессоров и памяти, чем серверы, которые некоторые из вас используют для запуска.ERDDAP&#33;
Спасибо Эрин Тернбулл.
         
        
    * Для этого: Если вы используетеERDDAP™Чтобы получить доступ к Кассандре, для Кассандры нужно продолжать использовать версиюJavaЧто ты использовал для управления Кассандрой. Просто переключись наJava17 баллов за Tomcat+ERDDAP.
         
    * Для этого: Рекомендуем: Если процессор вашего сервера имеет 4+ ядра и 8+ ГБ оперативной памяти, рассмотрите возможность изменения этих настроек в вашем компьютере.datasets.xmlфайл:
```
          <nGridThreads>3</nGridThreads>  
          <nTableThreads>3</nTableThreads>  
```

Если у вашего сервера меньше ресурсов, придерживайтесь «1» для обеих этих настроек.
Системы nThreads дляEDDGridИз материалов и EDDTable Из материалов были значительно улучшены. Эти изменения привели к значительному улучшению скорости. (Например, 2X ускорение, когда nThreads установлен на 2 или более) для самых сложных запросов (когда необходимо обработать большое количество файлов для получения результатов) . Некоторые изменения, связанные с Крисом Джоном, также приведут к общему ускорению.ERDDAP. Код для этих изменений внес Крис Джон. Спасибо, Крис&#33;
         
    * Предупреждение: дефисы вdatasetIDОни обесценены и больше не поддерживаются. (Хотя технически это разрешено) . Вероятно, они будут запрещены в следующем выпуске. Если вы используете дефисы, переключитесь на подчеркивания сейчас, чтобы избежать неприятностей. Если вы внесете изменения сейчас, это будет происходить с вашей собственной скоростью. Если вы подождете до следующего выпуска, вы будете в панике, и вам придется иметь дело с этим в тот день.
         
    * НОВОСТИ: Теперь, для.htmlTableответы данных, если данные в ячейке строки содержат данные: изображение/png;base64, за которым следует закодированное изображение .png base64,ERDDAP™Отобразится икона (чтобы пользователь мог видеть изображение, если оно нависает над ним) и кнопки для сохранения текста или изображения в буфер обмена. Спасибо Марко Альба (кто внес код) Боб Саймонс / Bob Simons (кто слегка изменил) .
         
    * Оригинальное название: DoNotAddStandardNames
Если вы включаете \\-doNotAddStandardNames в качестве параметра командной строки при генерации Наборы данных Xml, генерировать Наборы данных Xml не будет добавлятьstandard\\_nameкaddAttributesдля любых переменных, кроме переменных широты, долготы, высоты, глубины или времени (которые очевидныstandard\\_names) . Это может быть полезно, если вы используете выход из генерации. Наборы данных Xml непосредственно вERDDAP™Не редактируя выход, потому что генерировать Наборы данных Xml часто угадываетstandard\\_nameнеправильно. (Обратите внимание, что мы всегда рекомендуем вам редактировать вывод перед его использованием.ERDDAP.) Использование этого параметра будет иметь другие незначительные связанные эффекты, потому чтоstandard\\_nameчасто используется для других целей, например, для создания новогоlong\\_name, а также для создания цветовых баров. Спасибо Кевину О'Брайену.
         
    * НОВОСТИ: Теперь вы можете&lt;Обновление MaxEvents&gt;10&lt;/updateMaxEvents&gt; вdatasets.xml  (рядом с другими вершинами,) Чтобы изменить максимальное количество изменений файла (По умолчанию 10) Обработка будет осуществляться с помощью системы EveryNMillis. большее число (100?) Это может быть полезно, когда очень важно постоянно обновлять набор данных. Видишь?[Обновление документации MaxEvents](/docs/server-admin/datasets#updatemaxevents). Спасибо Джону Мореру.
         
    * НОВОСТИ: Добавлена поддержка глобальной "real\\_time=правда|Ложный атрибут струн.
Если это ложно (по умолчанию) и если набор данных не использует обновление EveryNMillis,ERDDAP™будет кэшировать ответы на запросы типов файлов, где весь файл должен быть создан доERDDAP™Вы можете начать отправлять ответ пользователю и повторно использовать его в течение примерно 15 минут. (например,.nc.png) .
Если это установлено верно или если набор данных использует обновление EveryNMillis,ERDDAP™Никогда не будет кэшировать файлы ответа и всегда будет возвращать вновь созданные файлы.
Спасибо Джону Мореру.
         
    * НОВОСТИ: Электронные письма теперь отправляются в отдельной электронной почте. Это делает загрузку наборов данных и других действий, которые генерируют электронные письма быстрее, потому что загрузка наборов данных не должна ждать отправки электронной почты, что иногда занимает много времени. Новая система может отправлять несколько электронных писем за сеанс электронной почты, тем самым уменьшая количество входов на сервер электронной почты и снижая риск отказа, потому что они слишком часты. Есть статистика для emailThread на странице status.html и диагностические сообщения в log.txt — ищите «emailThread». Обратите внимание, что подсчёт nEmailsPerSession=0 указывает на проблемы, т.е. сеанс электронной почты не смог отправить никаких писем.
Спасибо Бобу Саймонсу.
         
    * Перемены: электронные письма теперь отправляются с немного другим кодом (Потому чтоJava17 и изменение на emailThread) . Если у вас возникли проблемы с отправкой электронной почты, пожалуйста, напишитеerd.data at noaa.gov.
         
    * Действия подписки, которые «прикасаются» к удаленному URL-адресу, теперь обрабатываются отдельным сенсорным потоком. Это делает загрузку наборов данных и других действий, которые касаются URL-адресов быстрее, потому что загрузка наборов данных не должна ждать завершения касания, что иногда занимает много времени. Есть статистика для touchThread на странице status.html и диагностические сообщения в log.txt — ищите «touchThread».
Спасибо Бобу Саймонсу.
         
    * НОВОСТИ: На странице status.html, в серии «Major LoadDatasets Time Series», есть новая колонка «shed», которая указывает количество запросов, которые были пропущены из-за текущего времени.ERDDAP™Использование памяти было слишком высоким. Запросы возвращают код состояния HTTP 503 "Service Available". Эти запросы не обязательно были проблемой. Они только что прибыли в напряженное время. Это было частью реконструкции того, какERDDAP™имеет дело с высоким использованием памяти.
         
    * НОВОСТИ: На компьютерах Unix/Linux теперь есть строка «OS Info» на веб-странице status.html с текущей информацией об операционной системе, включая загрузку процессора и использование памяти.
         
    * УПРАВЛЕНИЕ: Сейчас, когдаERDDAP™перезапускается и QuickRestart=true, наборы данных EDDTableFromFiles будут повторно использовать поднабор.ncотличающийся.nc. Для некоторых наборов данных это значительно сокращает время загрузки набора данных. (Например, от 60 секунд до 0,3) . Вместе с новой электронной почтойThread и задачейThread (смотреть выше) Это должно значительно ускорить возобновлениеERDDAP™Для многихERDDAP™Установки. Спасибо Бену Адамсу и Джону Керфуту.
         
    * Изменены: ранее сиротские наборы данных (наборы данных, которые живут вERDDAP™но не находится вdatasets.xml) Их просто отметили по статусу. html и log.txt после каждой основной загрузки. Теперь они автоматически удаляются изERDDAP™и отмечены на status.html и в log.txt и отправлены по электронной почте За все. Если вы хотите удалить набор данных изERDDAP™Теперь все, что вам нужно сделать, это удалить свой кусок xml.datasets.xmlОн будет удален в следующих основных наборах данных. Спасибо Бобу Саймонсу.
         
    * Знать BUG в netcdf-java v5.5.2 и v5.5.3: TheEDDGridИз Тредд Вариант каталога в GenerateDatasets Xml использовался для работы с каталогами THREDDS, которые включают ссылки на наборы данных в удаленных каталогах THREDDS. Теперь нет. Я сообщил об этой проблеме разработчикам netcdf-java.
         
    * BUG FIX: для пользователей Docker настройка параметров setup.xmlERDDAP\\__paramName_: для внутри- и булевых параметров (например, email SmtpPort) ,ERDDAP™Неправильно искали только _paramName_. Теперь он ищет _ERDDAP_paramName_. Спасибо Алессандро де Донно.
         
    * Изменение: TheERDDAP™Система тестирования теперь использует автоматизированную систему для проверки того, что вновь созданные тестовые изображения соответствуют ожиданиям. Спасибо Крису Джон за предложение и Боб Саймонс за реализацию.
         

## Версия 2.18{#version-218} 
 (выпущенный 2022-02-23) 

*    **Новые особенности и изменения (для пользователей) :** 
    * Никто
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * BUG FIX:.ncФайлы не были закрыты в некоторых случаях. Теперь они есть. Спасибо Марко Альбе, Роланду Швейцеру, Джону Мауреру и другим.
         

## Версия 2.17{#version-217} 
 (выпущенный 2022-02-16) 

*    **Новые особенности и изменения (для пользователей) :** 
    * BUG FIX: После изменений вorderByНесколько лет назад Tabledap's Make A Graph не обрабатывала многие запросы, которые использовались.orderBy_Xxx_. Теперь так и есть. Спасибо Морису Либесу.
         
    * Изменение: ранееERDDAP™отклоненные запросы. прозрачный Png, когда значения широты и/или долготы были частично или полностью вне диапазона. (ERDDAP™Вопросы GitHub #19, опубликованные Робом Фуллером - спасибо за публикацию этого Роба) Теперь он возвращает прозрачные пиксели для любых областей изображения. Это полезно для многих клиентских приложений. Изменения в коде были сделаны Крисом Джоном. Большое спасибо, Крис&#33;
         
    * Изменение: ранееERDDAP™отклоненные запросы сетки, в которых значения индекса для данного измерения были\\[высокий: низкий\\]. Теперь он делает эти запросы действительными, меняя низкие и высокие значения. Это решает давнюю проблему для пользователей и для внешних программ, таких как xtracto, которые должны были отслеживать несколько наборов данных, которые имеют значения широты, которые варьируются от высокого до низкого, чтобы сделать запрос как\\[ (50) : (20) \\]Чтобы запрос в индексном пространстве был\\[Низкий: высокий\\]. Видишь? https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplAquariusSSS3MonthV5.html Теперь просьба как\\[ (20) : (50) \\]для одного из этих наборов данных автоматически интерпретируется как\\[ (50) : (20) \\].
         
    * Запросы .esriAscii теперь запускают диалоговое окно «File: Save As» в браузере пользователя. Спасибо Джоэлу Ван Норду.
         
    * BUG FIX: Теперь, если переменная долготы набора данных ребенкаEDDGridLonPM180 илиEDDGridНабор данных Lon0360 имеетvalid\\_minи/илиvalid\\_maxАтрибуты удаляются вEDDGridLonPM180 илиEDDGridНабор данных Lon0360. Спасибо Рою Мендельсону.
         
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Если бы вы установили&lt;DataProviderFormActive&gt;, чтобы временно справиться с уязвимостью XSS, пожалуйста, верните ее в истинное положение.
         
    * Уязвимость XSS в форме поставщика данных. Спасибо Хенаро Контрерасу Гутьерресу.
         
    * BUG FIX: Если в каталоге AWS S3 было более 10000 файлов,ERDDAP™В результате была допущена «внутренняя ошибка». Теперь это исправлено. Спасибо Энди Зиглеру.
         
    * BUG FIX:EDDGridSideBySide не позволяет изменятьsourceNames в разных наборах данных для детей должны быть одинаковыми. Теперь так и есть. Спасибо Джошуа Стэнфорду.
         

## Версия 2.16{#version-216} 
 (выпущенный 2021-12-17) 

*    **Новые особенности и изменения (для пользователей) :** 
    * Перемены/заплатки: Многочисленные небольшие изменения в системе перевода благодаря предложениям языковых редакторов. Благодаря Мелани Абекассис, Марко Альба, Джесси Барретт, Филипе Фернандес, Этьен Годин, Дженнифер Севаджян и Майку Смиту.
         
    * СДЕЛАЛ надлежащий отказ от ответственности и атрибуцию для Google Translate, как того требуют условия Google Translate. Кроме того,&lt;Тег html&gt; в HTML для каждой веб-страницы теперь правильно идентифицирует неанглийские веб-страницы как переведенные машиной. Спасибо Майку Смиту.
         
    * BUG FIX: Веб-страницы входа в систему теперь работают должным образом с различными языковыми настройками. Спасибо Майку Смиту.
         
    * НОВОСТИorderByФильтр. Новые кнопки Check All и Uncheck AllEDDGridВеб-страница формы доступа к данным. Благодаря кодовому вкладу Марко Альбы.
         
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Сделать: если у вас есть
        &lt;QuestionMarkImageFile&gt;QuestionMark.jpg&lt;/questionMarkImageFile
в файле setup.xml необходимо удалить весь тег (рекомендуется, поэтому используется файл по умолчанию) или изменить его на:
        &lt;QuestionMarkImageFile&gt;QuestionMark.png&lt;/questionMarkImageFile
         
    * Просто чтобы вы знали,[Усыновление](https://adoptium.net/?variant=openjdk8)Заменил AdoptOpenJDK в качестве основного/рекомендуемого источникаJava  (OpenJDK) .
         
    * Изменить: Файлы журналаERDDAP™Генерировать наборы данных Xml и DasDds теперь являются UTF-8, а не набором символов по умолчанию. Я провел большую проверку и внес несколько изменений, чтобы убедиться, чтоERDDAP™всегда указывает правильный набор символов при чтении или записи всех видов файлов, и больше не (в нескольких случаях) Полагается на набор символов по умолчанию компьютера. Это исправило несколько ошибок и приблизило меня к цели использования UTF-8 для максимально возможного количества типов файлов. (Например, .log, .xml, .html,.json,.jsonЯ..ncЗаголовок) . Многие старые типы файлов требуют использования ISO-8859-1. (например,OPeNDAP.das, .dds, .csv,.tsv,.nc3,.nccsv.cpt) . Раньше я пытался работать с группой CF и сUnidataДобавить поддержку UTF-8 в.nc3 файла; оба были устойчивы.
         
    * При загрузке файлов с AWS S3,ERDDAPтайник В системе UrlEDDGridИз материалов и EDDTable FromFiles теперь использует новый AWS Transfer Manager для загрузки файлов через параллельные фрагменты (Таким образом, очень быстро) . Целевая пропускная способность установлена на уровне 20 Гбит/с для каждого файла, поэтому это хорошо работает со всеми типами экземпляров AWS, но особенно с теми, которые имеют отличную производительность сети. С этим изменениемERDDAPтайник Система FromUrl теперь предлагает сопоставимые скорости с подходом xarray к параллельным загрузкам предварительно разбитых файлов, но без необходимости конвертировать исходные файлы из исходных файлов..ncи.hdfв разбитые файлы xarray. На самом деле,ERDDAPСистема лучше, если есть последующий запрос на чтение из того же файла.ERDDAP™Теперь есть локальная копия файла. Наше сообщество потратило годы на стандартизацию.ncи.hdfФайлы. Теперь нам не нужно бросать все это, чтобы получить хорошую производительность при хранении данных в AWS S3. Спасибо Ричу Сигнеллу.
         
    * Изменение: SearchEngine=Lucene на данный момент обесценен. Это сложная система, которая часто дает результаты, которые немного отличаются от более желательного поведения поисковой системы. Почти всеERDDAP™Инсталляции, экономия времени Lucene не компенсируют различия в результатах. Используйте SearchEngine=original, если это возможно. Если это вызывает проблемы, пожалуйста, напишите Бобу.
         
    * Поисковая система Lucene теперь больше похожа на оригинальную поисковую систему. Больше нет случаев, когда луцен думает, что набор данных совпадает, а оригинал - нет. Кроме того, рейтинги луцена теперь равны рейтингам оригинала (Потому что оригинал теперь всегда используется для вычисления рейтинга.) .
         
    * BUG FIX: Начиная с недавнего выпуска,ERDDAP™Мы перестали видеть более 1000 объектов в данном ведре AWS S3. Сейчас,ERDDAP™Он снова видит все предметы. Спасибо Энди Зиглеру.
         
    * BUG FIX: теперь EDDTableAggregate Rows удаляетactual\\_rangeатрибут, когда один или несколько наборов данных ребенка никогда не знают его переменных; "actual\\_range  (Например, EDDTableFromDatabase) . Спасибо Эрику Гелетти.
         

## Версия 2.15{#version-215} 
 (выпущенный 2021-11-19) 

*    **Новые особенности и изменения (для пользователей) :** 
    *   ERDDAP™Имеет новую систему, позволяющую пользователю указывать язык, который будет использоваться для всех веб-страниц. ЕслиERDDAP™Установка настроена на его использование, список языков появится в правом верхнем углу каждой веб-страницы.ERDDAP™URL-адреса из этой версии продолжают работать и всегда возвращают английский контент, как и раньше.
        
Переведены не все тексты и не все веб-страницы. Были временные ограничения, которые помешали Ци и Бобу достичь 100%.
        
Очевидный вопрос: почему мы приложили столько усилий, когда Chrome будет переводить веб-страницы на лету? Ответ: таким образом, мы получаем гораздо больше контроля над тем, как выполняется перевод. Примечательно, что есть много слов, которые не следует переводить на веб-страницы, например, заголовки и резюме наборов данных, имена переменных, параметры, единицы и организации. Большая часть усилий по переводу заключалась в определении слов и фраз, которые не следует переводить. Кроме того, машинные переводы имели тенденцию смешивать определенные типы разметки HTML. Управление переводом позволило минимизировать эту проблему.
        
Переводчиком выступил Qi Zeng (Стажер Google Summer of Code) Боб Саймонс использует сервис Google Translation. Это был огромный проект. Спасибо. Ци&#33;
        
    * BUG FIX:ERDDAP™Теперь ORCID ID имеет X в качестве последней цифры. Спасибо Морису Либесу.
         
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Чтобы сделать:
        
        * Вы должны внести несколько изменений, связанных сERDDAPНовая система позволяет пользователям указывать язык для веб-страниц.
            * На первой строке вашего setup.xml иdatasets.xmlИзмените кодировку на: «UTF-8» и измените кодировку документа в текстовом редакторе, чтобы он сохранялся как файл UTF-8. Генерировать наборы данных Xml предполагает, чтоdatasets.xmlЭто файл UTF-8.
            * Программисты, которые компилируютERDDAP: ВсеERDDAP™По умолчанию файлы .java должны рассматриваться как файлы UTF-8. Возможно, вам потребуется добавить «-кодирование UTF-8» в командную строку javac. (Правда.) 
            * Чтобы включить эту систему (настоятельно рекомендуется) в&lt;StartBodyHtml5&gt; тег, который вы указываете вdatasets.xmlизменить "&amp&#33;loginInfo" на "&amp&#33;loginInfo";|&amp&#33;language;" так, чтобы список языков появлялся в верхнем правом углу каждогоERDDAP™Веб-страница.
            *   ERDDAP™использует только&lt;StartBodyHtml5&gt; тег, который вы указываете вdatasets.xmlуказать HTML-контент для баннера в верхней части каждогоERDDAP™Веб-страница, независимо от того, какой язык выберет пользователь. Если вы измените этот тег на использование
"&EasierAccessToScientificData;Вместо "упрощения доступа к научным данным"
"&BroughtToYouBy;"Вместо "Принесено тебе"ERDDAP™Мы будем использовать переведенные версии этих фраз в баннере.
            * Аналогично, новый дефолт&lt;Краткое описание HTML&gt; вdatasets.xmlэто
                
```
                <theShortDescriptionHtml><!\\[CDATA\\[ 
                <h1>ERDDAP</h1>
                &erddapIs;
                &thisParticularErddap;
                \\[standardShortDescriptionHtml\\]
                \\]\\]></theShortDescriptionHtml>
```
Последние 3 строки контента будут заменены переведенным текстом. Если вы преобразуете любой из них (Особенно и это специальный rddap;) или все тексты в явном видеdatasets.xml  (который имеет приоритет, если он) SMS.xml, этот текст будет отображаться независимо от того, какой язык выберет пользователь. Это не идеально, но я подумал, что немногие администраторы захотят редактировать.&lt;ShortDescriptionHtml&gt; в 35 различных файлах, чтобы обеспечить 35 различных переведенных версий этого тега.
        
          
         
    * Некоторые ошибки теперь обрабатываются немного по-другому и поэтому могут быть добавлены к подсчету «Неудавшихся запросов» на status.html и в Daily Report Email. Так что эти цифры могут быть несколько больше, чем раньше.
         
    * BUG FIX: Генерировать наборы данных Xml дляEDDGridLon0360 иEDDGridLonPM180 теперь исключает исходные наборы данныхdatasetID=~".\\*\\_LonPM180" иdatasetID=~".\\*_Lon0360", соответственно.
         

## Версия 2.14{#version-214} 
 (выпущенный 2021-07-02) 

*    **Новые особенности и изменения (для пользователей) :** 
    *    (ни одного)   
         
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * НЬЮ:EDDGridLon0360, который делает сетчатый набор данных со значениями долготы &gt;=0 и&lt;=360 из сетчатого набора данных со значениями долготы &gt;=-180 и&lt;=180. Видишь?[EDDGridДокументация LON0360](/docs/server-admin/datasets#eddgridlon0360). Спасибо Дейлу Робинсону.
         
    * НЬЮ:ERDDAP™Теперь администраторы могут переопределить любое значение в setup.xml с помощью переменной средыERDDAP\\__valueName_ перед запускомERDDAP. Например, использоватьERDDAP\\_baseUrl перекрывает&lt;Базовое значение. Это может быть удобно при развертыванииERDDAP™с контейнером, так как вы можете установить стандартные настройки в setup.xml, а затем предоставить специальные настройки через переменные среды. Если вы предоставляете секретную информациюERDDAP™С помощью этого метода убедитесь, что информация останется секретной.ERDDAP™считывает переменные среды только один раз на стартап, в первую секунду запуска, поэтому один из способов использовать это: установить переменные среды, начатьERDDAP™Подожди, покаERDDAP™Запускается, затем отключаются переменные среды. Спасибо Марку Портье.
         
    * Теперь, если некоторые файлы в EDDTable From... Набор файлов с большим количеством файлов имеет очень длинные значения строки, набор данных будет загружаться намного быстрее и отвечать на запросы намного быстрее. Раньше,ERDDAP™Выделите много места для значений min и max String в файлах, которые хранятся с файловой информацией для таких наборов данных. Полученный файл был огромным, заставляя его писать и читать медленно. Спасибо OBIS.
         
    * Усовершенствовано: сейчас,ERDDAP™лучше интерпретирует необычные и недействительные последовательности символов в файлах CSV. Спасибо OBIS.
         
    * FIX: После года проблем с Кассандрой я наконец успешно установил Кассандру (v2) Таким образом, удалось повторить испытания с Cassandra v2. Теперь я могу с большей уверенностью заявить, чтоERDDAP™Работает с Cassandra v2 и v3. Спасибо ONC.
         

## Версия 2.12{#version-212} 
 (выпущенный 2021-05-14) 

*    **Новые особенности и изменения (для пользователей) :** 
    * BUG FIX: Если вы находитесь в черном списке подписки, вы не можете запросить список своих подписок.
         
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Система автоматически ограничивает способность злонамеренных пользователей и чрезмерно агрессивных законных пользователей делать большое количество одновременных запросов, которые ухудшают производительность системы для других пользователей. Есть 3 новых факультативных тега вdatasets.xmlкоторую вы можете/должны добавить сразу после&lt;ГрафBackgroundColor&gt;:
```
        <ipAddressMaxRequests></ipAddressMaxRequests>  <!-- current default=7 -->
        <ipAddressMaxRequestsActive></ipAddressMaxRequestsActive>  <!-- current default=2 -->
        <ipAddressUnlimited></ipAddressUnlimited>  <!-- default=empty -->  
```

Для получения дополнительной информации см.[ipAddressMaxRequests](/docs/server-admin/datasets#ipaddressmaxrequests).ERDDAP™Также сейчас печатается "Количество уникальных пользователей" (С момента запуска) "на странице status.html.
Спасибо человеку в Китае, который напал на меня.ERDDAP™установка.
         
    * Изменение поведения водителя Postgresql: Когда я обновил драйвер Postgresql, имена столбцов в списке таблиц, сгенерированных Postgresql и GenerateDatasetsXml, как и раньше, возвращались на верхнюю строчку, а не на нижнюю. Я не знаю, повлияет ли это на другие вещи, поскольку базы данных часто считают эти имена нечувствительными. Мой тестовый набор данных по-прежнему работает правильно. Но если ваш набор данных перестанет работать с этим.ERDDAP™Обновление, это возможная причина, чтобы преследовать первым.
         
    * BUG FIX:ERDDAP™В настоящее время также корректно обрабатывает частные файлы AWS S3. Были и другие улучшения в обработке файлов AWS S3. Спасибо Майклу Ганглу и Дилану Пью.
         
    * НЬЮ:EDDGridИз NcFiles иEDDGridИз NcFiles Unpacked теперь может считывать данные из «структур».nc4 и.hdf4 файла. Чтобы определить переменную, которая является структурой,&lt;sourceName&gt; Необходимо использовать формат: _fullStructureName_|_memberName_, например, group1/myStruct|Мой член. Спасибо NRL.
         
    * Теперь, если текущее использование памяти плюс этот запрос даже немного высок, сетчатые наборы nПотоки для этой просьбы к 1. Таким образом,ERDDAP™Сохраняет память, когда памяти мало. Спасибо человеку в Китае, который напал на меня.ERDDAP™установка.
         
    * Новая система мониторинга количества открытых файлов (которые включают в себя розетки и некоторые другие вещи, а не только файлы) Tomcat на компьютерах Linux. Если некоторые файлы по ошибке никогда не закрываются, количество открытых файлов может увеличиваться до тех пор, пока оно не превысит максимально допустимое. Теперь о компьютерах Linux (Информация недоступна для Windows) :
        
        * На крайнем правом углу веб-страницы status.html есть новая колонка «Открытые файлы», показывающая процент максимально открытых файлов. В Windows он просто показывает «?».
        * КогдаERDDAP™генерирует эту информацию в конце каждой основной перезагрузки набора данных, она будет печататься в журнал. txt файл:
openFileCount=_current_ of max=_max_%=_percent_
        * Если процент составляет &gt;50%, на адрес электронной почтыERDDAP™Администратор и электронная почта Все На адреса электронной почты.
        
Чтобы узнать больше, или если вы видите эту проблему на своем сайте.ERDDAP™Видишь?[Слишком много открытых файлов](/docs/server-admin/additional-information#too-many-open-files).
Спасибо человеку в Китае, который напал на меня.ERDDAP™установка.
         
    * Я добавил много проверок и обработки «Слишком много открытых файлов», поэтому задача просто прекращается, и пользователь видит сообщение об ошибке. Файлы данных больше не будут помечены как плохие, если их чтение приводит к ошибке «Слишком много открытых файлов».
         
    * НОВОСТИ\\[BigParent Директория\\]/badFilesFlag каталог:
Если вы поместите файл в этот каталог сdatasetIDкак имя файла (Содержимое файла не имеет значения) ,ERDDAP™Скачать BadFiles.ncФайл для этого набора данных (если есть) Перезагрузите набор данных как можно скорее. Это вызываетERDDAP™Чтобы попытаться снова работать с файлами, которые были ранее (Ошибочно?) отмечен как плохой. Спасибо Марко Альбе.
         
    * Перемены: при запуске, еслиEDDGridИз... материалов или из... Набор данных файлов изначально содержит 0 файлов в списке известных файлов. (Например, это новый набор данных) ТогдаERDDAP™Откладывает загрузку и устанавливает флаг, чтобы он был загружен как можно скорее после завершения основных наборов данных загрузки. Это ускоряет начальный запуск, когда появляются новые наборы данных.
         
    * Изменены: FileVisitorDNLS.testAWSS3 () FileVisitorSubdir.testAWSS3 () Используйте AWS v2 (не v1) СДК. Теперь GitERDDAP™Дистрибутив теперь включает в себя все необходимые файлы, и вам больше не нужно вручную добавлять массивный файл v1 AWS SDK.
         
    * Меняется: я переключился на использование Maven для обнаружения зависимостей (Файлы .jar в /lib) . Изменение на v2 в AWS SDK потребовало этого. В будущем это будет необходимо для других импортных кодов. Огромное спасибо Кайлу Уилкоксу, который предоставил созданный им pom.xml, который решил для меня несколько проблем.
         
    * Измененный: параметр Classpath (-кп) Используется в GenerateDatasetXml, DasDds и других небольших программах.ERDDAP™, а в советах программистам теперь намного проще и больше никогда не стоит меняться, так как речь идет о каталоге, а не об отдельных файлах:
\\-cp классы;C:\\programs\\\\tomcat\\lib\\servlet-api.jar;lib\\\*
         (Для Linux и Mac вместо «;») .
         (Я должен был сделать это несколько лет назад, когда это стало возможным.)   
         
    * Оригинальное название: GenerateDatasets У Xml есть новая утилита: FindDuplicateTime, которая будет искать через коллекцию сетчатых устройств..nc  (связанный) Файлы для поиска файлов с дублирующими значениями времени. Видишь?[Найти дубликаты Время](/docs/server-admin/datasets#findduplicatetime)  
         
    * НЬЮ:datasets.xmlТеперь может включать в себя&lt;Palettes &gt; Tag, который перекрывает&lt;палитры &gt; значение тега от messages.xml (или возвращается к значению message.xml, если оно пустое) . Это позволяет вам изменить список доступных палитр.ERDDAP™Бежит. Кроме того, если у вас есть подкаталог cptfiles вERDDAP™каталог контента,ERDDAP™будет копировать все файлы \\*.cpt в этом каталоге в\\[кот\\]/webapps/erddap/WEB-INF/cptfils каталог каждый разERDDAP™Начинается. Вместе эти изменения позволяют добавлять палитры и сохранять изменения при установке новой версии.ERDDAP. Видишь?[палитры документации](/docs/server-admin/datasets#palettes)  
Спасибо Дженнифер Севаджян, Мелани Абекассис и, возможно, другим людям CoastWatch.
         
    * Изменилось: [&lt;DownTroubleMillis (/docs/server-admin/datasets#slowdowntroublemillis) В настоящее время используется для всех неудачных запросов, а не только для нескольких типов.
         
    * Измененный поток RunLoadDatasets теперь прерывает поток LoadDatasets на 3/4 LoadDatasets MaxMinutes, поэтому у LoadDatasets больше времени, чтобы заметить прерывание и выйти изящно. Для этого есть больше и лучше диагностических сообщений.
         
    * Изменен со старой версии Lucene на v8.7.0.
         
    * Изменение: Электронные письма, отправленныеERDDAP™Теперь появляется с фиксированным шрифтом ширины.
         
    * Изменить:EDDGridFromFiles теперь получает значения оси, а также атрибуты от FIRST|Последний файл, как указано в&lt;Метаданные из&gt;. Спасибо. (не) Кен Кейси и др.
         
    * Поддержка недействительных блоков «degree\\_North» и «degree\\_East», которые ошибочно используются в последних файлах (с 2020 года-10-01) AVHRR Pathfinder версия 5.3 L3-Collated (L3C) Наборы данных SST (nceiPH53sstd1day и nceiPH53sst1 день) .ERDDAP™Теперь их можно стандартизировать до действительных единиц. Спасибо. (не) Кен Кейси и др.
         

## Версия 2.11{#version-211} 
 (Выпущено 2020-12-04) 

*    **Новые особенности и изменения (для пользователей) :** 
    * BUG FIX: OrderByMean выбрасывает NullPointerException, если переменная имеет только одну из \\_FillValue или отсутствует Определенная ценность. Теперь он правильно справляется с ситуацией. Спасибо Марко Альбе.
         
    * BUG FIX: Были проблемы с текстовыми файлами ODV, созданнымиERDDAP™v2.10. Эти проблемы решены. Спасибо Шону Беллу.
         
    * BUG FIX: Только чтоERDDAP™v2.10: Если границы lat lon были указаны в URL-адресе, ограничивающий ящик не был нарисован на карте мира. Теперь это снова. Спасибо Джону Мореру.
         
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * BUG FIX: Только чтоERDDAP™v2.10: файлы сценариев для ArchiveADataset, GenerateDatasets Xml и DasDds не работали, потому что у них не было изменений в классе.ERDDAP™v2.10 Теперь они делают. Спасибо Марко Альбе.
         
    * НОВОСТИ: Вdatasets.xmlТеперь вы можете иметь тег:
```
        <emailDiagnosticsToErdData></emailDiagnosticsToErdData> <!-- true (the default) or false -->  
```

В настоящее время, если это правда (или если тег пуст, или если тега нет в файле) когда запрос пользователя приводит к NullPointerException,ERDDAP™Отправит по электронной почте след к стекуerd.data at noaa.gov  (тотERDDAP™команда разработчиков) . Это должно быть безопасно, так как нет конфиденциальной информации. (Например, запрос Url) Он включен в электронную почту. Это должно позволить поймать любые неясные, совершенно неожиданные ошибки, которые приводят к NullPointerExceptions. В противном случае пользователь видит исключения, ноERDDAP™Разработчики этого не делают, поэтому мы не знаем, что есть проблема, которую нужно решить.
        
Возможно, что этот тег приведет к другой, аналогичной диагностической информации, отправляемой по электронной почте.erd.data at noaa.govв будущем. Содержание электронной почты всегда будет минимальным и связано с ошибками, а не, например, с информацией об использовании. Спасибо Марко Альбе.
         
        
    * Изменено: теперь общие типы сжатых файлов (.bz2,.gz,.gzip,.tar,.tgz,.z,.zip) Запрещены также запросы на байтовый диапазон. Это указывается через&lt;РасширенияNoRangeRequests&gt; в Messages.xml.
         
    * ЗНАЙТЕ ПРОБЛЕМУ: Как и в случаеERDDAP™2.10,.ncФайлы мл, которые пытаются изменить атрибут, не меняют атрибут. Это известная ошибка в netcdf-java, о которой я сообщил, и они говорят, что она будет исправлена в следующем выпуске netcdf-java.
         

## Версия 2.10{#version-210} 
 (Выпущено 2020-11-05) 

*    **Новые особенности и изменения (для пользователей) :** 
    * НОВОЕ: Новое[интерполировать](https://coastwatch.pfeg.noaa.gov/erddap/convert/interpolate.html)Преобразователь эффективно интерполирует значения из значений сетчатого набора данных. Это особенно полезно для исследователей, работающих с данными о следах животных. Этот преобразователь принимает в таблице с широтой, долготой и временными колонками. (Возможно, другие колонны) и возвращает таблицу с дополнительными столбцами с интерполированными значениями. Таким образом, это похоже на популярное[Xractomatic](https://coastwatch.pfeg.noaa.gov/xtracto)Сценарий изначально создан Дэйвом Фоли, но предлагает преимущество обработки до 100 баллов за запрос. Спасибо Дэйву Фоли и Джордану Уотсону (NMFS) .
         
    * Расширенный поиск теперь строг для запросов, не связанных с HTML. Теперь он будет делать исключения для запросов с постоянными ошибками. (Например, запросы, где minLat &gt; maxLat) временные ошибки (Например, запросы на astandard\\_nameкоторого не существует) . Для запросов .html расширенный поиск не изменился: как и в случае с поисками Google, он делает все возможное и незаметно исправляет или игнорирует ошибки. Спасибо Ричу Сигнеллу.
         
    * Усовершенствованная: карта на странице расширенного поиска теперь больше (Вы все еще должны прищуриться, но меньше) и значительно более точным (Но все же не идеально) . Спасибо Джону Мореру.
         
    * Настройка «Нарисовать маску земли» на веб-страницах Make A Graph и настройка &.land = ... в URL-адресах, которые запрашивают карту, теперь поддерживает еще два варианта:
«Очередь» просто рисует маску очертания, политических границ, озер и рек.
"Выключено" ничего не рисует.
Видишь?[&land=... документация](https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#GraphicsCommands).
Спасибо Джону Мореру.
         
    * Усовершенствованные: Графы и карты, созданныеERDDAP™Теперь можно использовать три новых типа маркеров: Безграничный заполненный квадрат, Безграничный заполненный круг, Безграничный заполненный треугольник. Код для этого был предоставлен Марко Альбой из ETT / EMODnet Physics. Спасибо Марко Альбе.
         
    * НЬЮ:"files"Система поддерживает простой Реакции типа файла (.csv,.htmlTable,.itx,.json,.jsonlCSV1,.jsonlCSV,.jsonlKVP,.mat,.nc,.nccsv,.tsvили.xhtml.) Например,[ https://coastwatch.pfeg.noaa.gov/erddap/files/jplMURSST41/.csv ](https://coastwatch.pfeg.noaa.gov/erddap/files/jplMURSST41/.csv).
Спасибо Кайлу Уилкоксу.
         
    * Усовершенствованные: URL-адреса, генерируемые при использовании пользователем формы доступа к данным (.html) или Make-A-Graph (граф) Веб-страница теперь правильно кодирует символы\\[и\\]. Это делает URL-адреса немного сложнее для чтения, но лучше с точки зрения веб-безопасности. Теперь у администраторов есть возможность настройки расслабленного QueryChars. "\\[\\]|В файле Tomcat server.xml (менее безопасный) или нет (Более безопасный) .
Благодаря Антуану Керику, Доминику Фуллер-Роуэллу и другим.
         
    * НОВОСТИ: Если запрос на наборы данных EDDTable включает &add Переменные Где? (атрибут Имя, атрибут Значение) ,ERDDAP™Все переменные, имеющие атрибут _attribute Имя = атрибут Значение_ в списке запрашиваемых переменных.
Видишь?[&add Переменные Где документация](https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#addVariablesWhere). Спасибо Aurelie Briand и др.
         
    * Изменилось:ERDDAP™Отказывается от запросов на байт-диапазон /files/.ncили.hdfФайлы. Не пытайтесь подключиться к удаленному.ncили.hdfФайлы как локальные файлы. Это ужасно неэффективно и часто вызывает другие проблемы. Вместо этого:
        * Использовать(OPeN)DAPклиентское программное обеспечение для подключения кERDDAP?DAPУслуги для этого набора данных (которые имеют /griddap/ или /tabledap/ в URL) . Вот чтоDAPЭто для.
        * Используйте форму доступа к данным для запроса подмножества данных.
        * Если вам нужен весь файл или повторный доступ в течение длительного периода времени, используйтеcurl,wgetили ваш браузер, чтобы загрузить весь файл, а затем получить доступ к данным из вашей локальной копии файла.
             
    * Оригинальное название: The .odv Опция вывода Txt была переписана для поддержки новой версииODV .txtФайлы и для поддержки правильного представления траектории, временных рядов и данных профиля.
         
    * Теперь поисковые термины в двойных цитатах интерпретируются как json строка, поэтому они могут иметь закодированные символы. Среди прочего, это позволяет вам искать точное соответствие для атрибута, например, «институт =NOAA\\n"не будет соответствовать набору данных с учреждением=NOAA NMFS. Спасибо Дэну Новаки.
         
    * УПРАВЛЕНО: В дополнительных местах, числа с плавающей запятой (Поплавки, превращенные в двойники) Теперь они выглядят как немного более округленная версия числа в дополнительных местах, например, поплавок, ранее показанный как двойной 32,27998779296875, теперь может выглядеть как 32,28. Спасибо Кайлу Уилкоксу.
         
    * BUG FIX: неподписанные целые аудиофайлы были прочитаны несколько неправильно. Теперь их правильно читают.
         
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Оригинальное название: The First Time You RunERDDAP™v2.10, некоторые наборы данных на основе локальных файлов данных будут загружаться **очень** Медленно, потому чтоERDDAP™Необходимо воссоздать свою базу данных файловой информации. После медленной начальной перезагрузки они будут загружаться быстро, как и раньше. Пожалуйста, будьте терпеливы.
         
    * Вещи, которые вы должны сделать:
        * При первом запуске v2.10 некоторые наборы данных могут не загружаться.ERDDAP™Сейчас ужесточили некоторые метаданные. Как и прежде,ERDDAP™Он отправит вам ежедневный отчет, когда он впервые загрузится. Это будет включать сообщения об ошибках для каждого из наборов данных, которые не загружались. Прочитайте сообщения об ошибках, чтобы выяснить проблемы. В большинстве случаев вам просто нужно внести небольшое изменение в метаданные набора данных, чтобы решить проблему.
             
        * вdatasets.xmlВ поисках&lt;sourceName&gt;= (примечание'='знак, который идентифицирует[фиксированная стоимостьsourceName](/docs/server-admin/datasets#fixed-value-sourcenames)) . Для большинстваERDDAP™Настройки, это редкость. Если какое-либо из значений после'='Это струны (Не цифры) Теперь вы должны включить строку в двойные цитаты. Например,
До этого:&lt;sourceName&gt;=KZ401&lt;/sourceName&gt;
После:&lt;sourceName&gt;="KZ401"&lt;/sourceName&gt;
             
        * НОВОСТИ: В setup.xml появилась новая опция,&lt;defaultAccessibleViaFiles&gt;, который устанавливает по умолчанию&lt;Доступные файлы для каждого из наборов данных. По умолчанию этот новый тег является ложным, который имитирует предыдущий.ERDDAP™поведение. Эта настройка более низкого уровня может быть отменена данным набором данных.&lt;Настройка AccessViaFiles.
            
РЕКОМЕНДУЕТСЯ (Потому что есть пользователи, которые хотят этого.) :
Если вы хотите сделать все ЭДД... Из файлов наборы данных доступны через файловую систему, затем
            
            1. Добавьте этот тег в файл setup.xml:
```
                <defaultAccessibleViaFiles>true</defaultAccessibleViaFiles>
```
            2.   (необязательно) Удалить все The
```
                <accessibleViaFiles>true</accessibleViaFiles>
```
вdatasets.xmlТак как дефолт теперь верн.
                 
        * Добавить атрибуты \\_FillValue:
            ERDDAP™\\_FillValue для всех целочисленных переменных: максимальное значение типа данных (например, 127 для байтовых переменных) . Теперь нет. Чтобы избежать отображения этих значений в качестве значений данных (Недостающие ценности) Вы должны четко указать их через атрибуты \\_FillValue. С этого момента каждый раз, когда вы начинаетеERDDAP™, он отправит администратору электронное письмо с таблицей .csv со списком целочисленных переменных источника, которые не имеют \\_FillValue илиmissing\\_valueатрибуты и предлагаемые новые атрибуты \\_FillValue. Видишь?[Добавить \\_Fill Атрибуты ценности](/docs/server-admin/datasets#add-_fillvalue-attributes)Для получения дополнительной информации и инструкций.
             
        * Если вы компилируетеERDDAP™, вам нужно изменить параметр классового пути на командных строках javac, чтобы добавить ссылку на эти новые банки: lib/commons-jexl.jar;lib/aws-java-sdk.jar;lib/jackson-annotations.jar;lib/jackson-core.jar;lib/jackson-databind.jar .
             
    * Tomcat 9 теперь является рекомендуемой версией TomcatERDDAP. Последняя версия Tomcat 8.5+ также хороша. Мы убралиERDDAP?[Инструкция по установке Tomcat](/docs/server-admin/deploy-install#tomcat).
        
Последняя версияJava8 (неJava9, 10, 11...) из[Усыновить OpenJDK](https://adoptopenjdk.net/)остается рекомендуемой версиейJavaдляERDDAP.Java8 имеет долгосрочную поддержку от AdoptOpenJDK, поэтому он по-прежнему безопасен для использования, но не забывайте периодически получать последнюю версию его по соображениям безопасности.
        
    * Script SourceNames / Производные переменные в табличных наборах данных
Наборы данных EDDTableFromFiles, EDDTableFromDatabase и EDDTableFromFileNames теперь могут включать в себя выражения и скрипты.sourceName. Это позволяет создавать новые переменные на основе существующих переменных в исходных файлах. Расчет для данной новой переменной производится в пределах одной строки результатов, неоднократно для всех строк. Например, сделать переменную долготы со значениями в диапазоне -180 - 180° из переменной со значениями в диапазоне 0 - 360°:
        &lt;sourceName&gt;=Math2.anglePM180 (row.columnDouble ("лон") ) &lt;/sourceName&gt;
Подробнее см.[Сценарий SourceNames](/docs/server-admin/datasets#script-sourcenamesderived-variables)  
Спасибо Бобу Саймонсу (Кто планировал это раньшеERDDAP™v1.0 и, наконец, нашел способ его реализации) Кевин О'Брайен, Роланд Швейцер, Джон Маурер и библиотека Apache JEXL для выполнения действительно сложной части (И делать это хорошо) .
         
    * НОВОСТИ: Неподписанные целочисленные типы данных (ubyte, ushort, uint, ulong) Сейчас они поддерживаются. Обратите внимание, что многие типы файлов (Например, .das, .dds,.nc3) Мы не поддерживаем все эти новые типы данных. Видишь?[Данные Тип документации](/docs/server-admin/datasets#data-types)Подробнее о том, какERDDAP™Мы имеем дело с этими различиями. В частности, поскольку(OPeN)DAP, в частности, ответ .dds, не поддерживает подписанные байты, лонги или улонги, вы можете использоватьERDDAPТабличное представление .das и .das, как видно изhttp.../erdap/ **информация** /__datasetID_.html web page (Например,[ https://coastwatch.pfeg.noaa.gov/erddap/info/cwwcNDBCMet/index.html ](https://coastwatch.pfeg.noaa.gov/erddap/info/cwwcNDBCMet/index.html) ) которые вы также можете получить в других типах файлов или.nccsvОтвет на метаданные (Например,[ https://coastwatch.pfeg.noaa.gov/erddap/tabledap/cwwcNDBCMet.nccsvMetadata ](https://coastwatch.pfeg.noaa.gov/erddap/tabledap/cwwcNDBCMet.nccsvMetadata) ) Обе системы поддерживают все типы данных во всех ситуациях.
        
ПРЕДУПРЕЖДЕНИЕ: Для наборов данных, которые затронуты этим изменением, возможно, что вы увидите проблемы с набором данных, потому что данные, которыеERDDAP™Ссылки из источника могут быть разными (Например, переменные, ранее считанные как подписанные целые числа, теперь могут быть считаны как неподписанные целые числа.) . Возникающие проблемы включают в себя: новые файлы, не добавляемые в набор данных, и/или ошибки при попытке доступа к данным. Если у набора данных есть проблемы, первое, что нужно попробовать, это[установить жесткий Флаг](/docs/server-admin/additional-information#hard-flag)для набора данных. Если это не решит проблему, вы должны посмотреть журнал. txt, чтобы увидеть сообщения об ошибке, углубиться вdatasets.xmlдля набора данных и/или, возможно, повторно генерировать Datasets.xml для набора данных.
Благодаря netcdf-java 5.x (Что заставило проблему) Предстоящий CF 1.9.
        
    * Продвинутый: есть сейчас[Лучшая документация/советы](/docs/server-admin/datasets#s3-buckets)Как создать набор данных из файлов в ведрах AWS S3 Спасибо Мике Венгрену.
         
    * Перемены: есть несколько изменений, связанных с"files"система.
        * Код для этого был переписан, чтобы его можно было использовать для большего количества классов.
             
        * НЬЮ-ЙОРК: Запросы пользователей на списки каталогов теперь могут потребовать, чтобы ответ был одним из стандартных типов таблиц, добавив желаемое расширение файла: .csv,.htmlTable,.itx,.json,.jsonlCSV1,.jsonlCSV,.jsonlKVP,.mat,.nc,.nccsv,.tsvили.xhtml). Например,
            [ https://coastwatch.pfeg.noaa.gov/erddap/files/jplMURSST41/.csv ](https://coastwatch.pfeg.noaa.gov/erddap/files/jplMURSST41/.csv)  
Спасибо Кайлу Уилкоксу и Шейну Сент-Сэвиджу.
             
        * Оригинальное название: Now, Generate Наборы данных Xml не включает в себя&lt;Доступные файлы&gt; тег на выходе. Предполагается, что набор данных будет опираться на ценность нового&lt;Доступные файлы &gt; Скачать setup.xml Видишь?[доступный Файлы](/docs/server-admin/datasets#accessibleviafiles).
             
        * Дополнительные типы наборов данных теперь поддерживаются ViaFiles:EDDGridSideBySide,EDDGridСовокупность существующих измерений,EDDGridFromErddap, EDDTableFromErddapEDDGridEDDTable, EDDTable FromEDDGridиEDDGridОт Этопо. Для этого файлы из заданного пульта данных/детей будут доступны только в том случае, если доступны как родитель, так и пульт данных/детей. ViaFiles set to true (Возможно, через&lt;Доступные файлы&gt;. Спасибо Дэмиану Смиту и Робу Фуллеру.
             
        * TO DO / РЕКОМЕНДАЦИЯ: Мы рекомендуем сделать все соответствующие наборы данных доступными через файловую систему.&lt;По умолчанию AccessibleViaFiles&gt; соответствует действительности в setup.xml, поскольку существует группа пользователей, для которых это предпочтительный способ получения данных. Среди прочих причин,"files"Система позволяет пользователям легко видеть, какие файлы доступны и когда они в последний раз изменились, что облегчает пользователю сохранение собственной копии всего набора данных. Если вы обычно не хотите делать наборы данных доступными через файловую систему, установите&lt;По умолчаниюДоступные файлы&gt; Ложные. В любом случае, просто используйте&lt;* для немногих наборов данных, которые являются исключениями из общей политики, установленной&lt;Доступные файлы &gt; (Например, когда набор данных использует.ncМЛ файлы, которые не очень полезны для пользователей) .
             
    * УПРАВЛЕНИЕ: Теперь, если исходный набор данных имеет информацию CF grid\\_mapping, генерировать Наборы данных Xml для сетчатых наборов данных добавит информацию в глобальную&lt;AddAtts, и информация будет добавлена в глобальную&lt;SourceAtts&gt; каждый раз, когда данные считываются из файла. Информация появится в глобальных атрибутах набора данных в виде набора атрибутов с префиксом grid\\_mapping\\_.
         
    * Поддержка групп при чтении.nc4.4 (В определенной степени в.hdf5) Файлы. Как правило, aERDDAP™Набор данных будет построен из переменных в одной из групп файла. Генерировать наборы данных Xml дляEDDGridИз NcFiles иEDDGridИз NcFiles Unpacked просит «группу» (Например, "" для любых/всех групп, "someGroup", "someGroup/someSubGroup" или ""\\[корень\\]"только для корневой группы) . Спасибо Чарльзу Карлтону и Джессике Хаусман.
         
    * Усовершенствовано: Генерировать наборы данных Xml дляEDDGridИз NcFiles иEDDGridИз NcFiles Теперь Unpacked поддерживает дополнительный параметр «DimensionsCSV», который позволяет указать имена источников измерений, которые вы хотите использовать. Используйте «», чтобы получить переменные, которые используют большинство измерений. Кроме того, связанная небольшая ошибка, которая произошла с этим типом файла, теперь исправлена. Спасибо Суджалу Манандару.
         
    * BUG FIX: Генерировать наборы данных Xml теперь правильно перечисляет «EDDTable FromJsonlCSVFiles» (Не "EDDTable FromJsonlCSV") Один из вариантов EDDType. Спасибо Энди Зиглеру.
         
    * Усовершенствовано:EDDGridИз NcFiles Unpacked теперь стандартизирует атрибуты «единиц» для стандартных / «канонических» удунитов (Тот же метод, что и конвертер блоков) . Например,"meter per second","meters/second","m.s^-1"и"m s-1"Все становится"m s-1". Спасибо Энди Зиглеру.
        
ПРЕДУПРЕЖДЕНИЕ: Возможно, это вызовет проблемы для некоторых существующих наборов данных. (Например, чтобы новые файлы были помечены как «плохие».) . Если да,[установить жесткий Флаг](/docs/server-admin/additional-information#hard-flag)Для набора данных, чтобы все исходные файлы были перечитаны с новой системой.
        
    * Усовершенствовано: теперь переменная&lt;sourceName&gt; может указывать фиксированное значение =NaN, и переменная может иметьactual\\_rangeатрибут, который определяет конечный диапазон. Иногда это полезно, так что набор данных (В частности, набор данных EDDTableFromFileNames) может иметь фиктивную переменную (s)   (например, широта, долгота, время) с фиксированными значениями NaN, но с действительнымиactual\\_range  (как установлено атрибутом) . Затем в Advanced Search пользователь может искать наборы данных, которые имеют данные в определенной широте, долготе, временном диапазоне, и этот набор данных сможет сказать, что он имеет соответствующие данные. (Хотя все фактические строки данных покажут NaN) . Видишь?[Документация с фиксированной стоимостью](/docs/server-admin/datasets#fixed-value-sourcenames).
Спасибо Мэтью Биддлу.
         
    * НОВОСТИ: Теперь,datasets.xmlфрагмент для набора данных EDDTableFromAsciiFiles или EDDTableFromColumnarAsciiFiles может включать в себя тег, который сообщаетERDDAP™игнорировать все строки в верхней части файла до и включая строку, которая соответствует указанному регулярному выражению. Например,
        &lt;SkpHeaderToRegex\\*\\\*\\\*Конец лидера.\\*&lt;/skipHeaderToRegex
будет игнорировать все линии вплоть до и включая линию, начинающуюся с "\\*\\** Конец руководителя". Смотри.&lt;skipHeaderToRegex&gt; документация (/docs/server-admin/datasets#skipheadertoregex) .
Спасибо Эли Хантеру
         
    * НОВОСТИ: Теперь,datasets.xmlEDDTableFromAsciiFiles или EDDTableFromColumnarAsciiFilesdataset может включать в себя тег, который сообщаетERDDAP™игнорировать все строки в файле, которые соответствуют указанному регулярному выражению. Например,
```
        <skipLinesRegex>#.\\*</skipLinesRegex>  
```

Пропустите все строки, которые начинаются с «#». Смотри.&lt;skipLinesRegex&gt; документация (/docs/server-admin/datasets#skiplinesregex) .
Спасибо Эли Хантеру.
         
    * НОВЫЙ:datasets.xmlКуски для любого набора данных EDDTable теперь могут включать &add Переменные Где? (_attributeNamesCSV_) . Если это так,ERDDAP™Добавить виджет для каждого из указанных атрибутов Имена в форме доступа к данным набора данных (.html веб-страница) Чтобы пользователям было легко добавлять и добавлять Переменные Где? (атрибут Имя, атрибут Значение) к просьбе.
Видишь?[&add Переменные Где документация](/docs/server-admin/datasets#addvariableswhere).
Спасибо Aurelie Briand и др.
         
    * НОВОСТИ Инструмент третьей стороны:ERDDAP- кремень
        ERDDAP-lint - это программа от Роба Фуллера и Адама Лидбеттера из Ирландского института морской пехоты, которую вы можете использовать для улучшения метаданных.ERDDAP™наборы данных.ERDDAP-lint "содержит правила и простое статическое веб-приложение для проведения некоторых тестов проверки против вашегоERDDAP™Сервер. Все тесты проводятся в веб-браузере". Как будто[Инструмент Unix/Linux](https://en.wikipedia.org/wiki/Lint_(software)Вы можете изменить существующие правила или добавить новые. Видишь?[ERDDAP- кремень](https://github.com/IrishMarineInstitute/erddap-lint)За дополнительной информацией.
        
Этот инструмент особенно полезен для наборов данных, которые вы создали некоторое время назад и теперь хотите обновить свои текущие настройки метаданных. Ранние версии GenerateDatasets Xml не приложила никаких усилий для создания глобальной сети.creator\\_name,creator\\_emailСоздатель_тип, илиcreator\\_urlметаданные. Вы можете использоватьERDDAP- идентифицировать наборы данных, в которых отсутствуют эти атрибуты метаданных.
        
Спасибо Робу и Адаму за то, что создали этот инструмент и сделали его доступным для всех.ERDDAP™сообщество.
        
    * НОВОСТИ: Теперь все в порядке, если некоторые файлы вEDDGridНабор данных FromFiles не имеет всех переменных набора данных. Файлы будут включены так, как если бы они имели переменные. (Все недостающие ценности) .
Спасибо Дейлу Робинсону и Дагу Латорнеллу.
         
    * В файле журнала и Daily Report появилась новая статистика использования, чтобы помочь администраторам идентифицировать пользователей, которые вызывают проблемы с памятью. Статистика называется «OutOfMemory». (Размер массива) "Вне памяти" (Слишком большой) «OutOfMemory» (Слишком большой) ". Они показывают IP-адреса пользователей, которые сделали запросы в этих категориях, и количество запросов, которые они сделали. Если бы не было проблемных запросов, эта статистика не появилась бы. "Вне памяти (Размер массива) «Вне памяти» (Слишком большой) "запросы, как правило, не являются проблемой, поскольку запросы были настолько большими, чтоERDDAP™Быстро поймали и вернули сообщение об ошибке. "Вне памяти" (Слишком большой) "запросы более опасны, посколькуERDDAP™Приложил некоторые усилия, прежде чем понял, что в настоящее время не хватает памяти для обработки запроса. (Хотя проблема может заключаться в других запросах непосредственно перед этими запросами.) .
        
Существует также новая статистика под названием «Большой запрос, IP-адрес», которая показывает IP-адреса пользователей, которые делали большие запросы. (В настоящее время сетчатый.ncФайлы &gt; 1 Гб) .
        
Кроме того, таблица временных рядов на странице status.html теперь включает столбец «memFail», показывающий количество запросов, которые не удались с «OutOfMemory». (Слишком большой) "ошибки, возникшие после последнего крупного набора данных о нагрузке. Любое число, кроме 0, является, по крайней мере, поводом для беспокойства.
Спасибо Бобу Саймонсу.
        
    * НОВОСТИ: Новая версияHyraxотображает списки каталогов иначе, чем раньше.ERDDAP™Теперь можно читать старые и новые каталоги.
         
    * Перезагрузка набора данных и ответы пользователей, которые занимают более 10 секунд (успешно или безуспешно) Помечены " (&gt;10s&#33;) ". Таким образом, вы можете искать файл log.txt для этой фразы, чтобы найти наборы данных, которые медленно перезагружались, или количество запросов, которые медленно заканчивались. Затем вы можете посмотреть выше в файле log.txt, чтобы увидеть, что такое проблема набора данных или что такое запрос пользователя и от кого он был. Эти медленные нагрузки на набор данных и запросы пользователей иногда облагаются налогом.ERDDAP. Таким образом, знание этих запросов может помочь вам определить и решить проблемы.
    * УПРАВЛЕНО: При проверке набора данных CF DSGERDDAP™Теперь гарантируется, что переменные с атрибутами cf\\_role находятся в соответствующем списке переменных cdm\\...\\_ и не находятся в других списках переменных cdm\\...\\_. Например, если набор данных TimeeriesProfile имеет переменную «station\\_id», которая имеет атрибут cf\\_role=timeseries\\_id, то «station\\_id» должна быть в списке переменных cf\\_timeseries\\_, но не должна быть в списке переменных cf\\_profile\\_.
Спасибо Мике Венгрену.
         
    * «Упростить» теперь быстрее, использует меньше памяти и может вернуть LongArray. БлагодаряUnidata.
         
    * Усовершенствовано: FastRestart теперь значительно быстрее для EDDTableFrom (связанный с nc) Файлы (За исключением EDDTable FromNcCFFiles и EDDTable FromInvalidCRAFiles) Потому что сделать Ожидаемый (и другое место) Теперь просто считывает метаданные файла выборки вместо того, чтобы читать все данные. Спасибо Джессике Остин.
         
    * В настоящее время существует поддержка струн времени с точностью больше, чем до миллисекунды, если все дополнительные цифры равны 0, например, «2020-05-22T01:02:03.456000000Z». Спасибо Ибо Цзян.
         
    * УПРАВЛЕНО: GenerateDatasetsXml's EDD.suggestDestinationName используется для удаления '(' и всего после. Теперь он удаляется (.\\*только в том случае, если это конецsourceName. Теперь он также удаляет\\[.\\*\\]Только если это конецsourceName. Спасибо Жюльену Полу.
         
    * Усовершенствовано: Генерировать наборы данных Xml делает переменнуюdestinationNames уникальный путем добавления \\_2, \\_3, ... по мере необходимости. Спасибо Жюльену Полу.
         
    * Когда Calendar2.parseDateTime парирует dd, hh или HH, первая «цифра» теперь может быть пространством.
    * ЗНАЙТЕ ПРОБЛЕМУ: Начиная сERDDAP™2.10,.ncФайлы мл, которые пытаются изменить атрибут, не меняют атрибут. Это известная ошибка в netcdf-java, о которой я сообщил, и они говорят, что она будет исправлена в следующем выпуске netcdf-java.
         
    * BROKEN LINKS FIX: Я создала правильную систему для тестирования неработающих ссылокERDDAP™Веб-страницы, поэтому сейчас должно быть очень мало неработающих ссылок (По крайней мере, с каждой датой релиза - часто возникают новые неработающие ссылки) .
         
    * BUG FIX: EDDTableFromHttpGet не работает с определенными типами запросов. Теперь нет. Спасибо Эмме в BODC.
         
    * BUG FIX: Для обработки некоторых запросов EDDTable создал временный файл для каждой запрашиваемой переменной с именем файла, заканчивающимся именем переменной. Если имя переменной также является типом сжатия (Например, .Z) ,ERDDAPПопытаться (и провал) Декомпрессия временного файла. Теперь временные имена файлов заканчиваются на ".temp". Спасибо Мэтью Биддлу.
         
    * BUG FIX: GenerateDatasetsXml и Calendar2.convertToJavaВремя даты Формат теперь гораздо реже вносит неправильные изменения при попытке исправить недействительный формат даты. Примечательно, что ни один автоматически предложенный формат даты не будет изменен. Спасибо Мэтью Биддлу.
         
    * BUG FIX: Если была ошибка при получении контента с удаленного URL-адреса, и если контент errorStream сжат,ERDDAP™Теперь правильно декомпрессирует сообщение об ошибке. Спасибо Бобу Саймонсу.
         
    * BUG FIX:&lt;ПодпискаToRemoteErddapDataset&gt; не применялась, когда EDD... FromErddap dataset — набор данных для детей. Вот оно. Спасибо Крису Ромсосу.
         
    * BUG FIX: Генерировать наборы данных Xml больше не думает, что имя переменной источника, начинающееся с латина, может быть широтой. Спасибо Винсенту Луццо.
         
    * Ошибка OutOfMemory при чтении файла данных при обработке запроса пользователя не является причиной для добавления файла в список BadFiles. Спасибо Бобу Саймонсу.
         

## Версия 2.02{#version-202} 
 (Выпущено 2019-08-21) 

*    **Новые особенности и изменения (для пользователей) :** 
    * НОВОСТИ: В настоящее время существует два способа поиска наборов данных по несколькимERDDAPС. Они работают немного по-разному и имеют разные интерфейсы и опции.
        
        *   [SearchMultipleERDDAPs.html](/SearchMultipleERDDAPs.html)Боб Саймонс / Bob SimonsNOAA NMFS SWFSC ERD.
        *   [ http://erddap.com ](http://erddap.com)Роб Фуллер, Морской институт Ирландии.
        
Спасибо Тайлеру Мюррею за первоначальную просьбу.
         
    * УПРАВЛЕНО: просьба к"files"Система для загрузки файла, который фактически находится на удаленном сайте (Например, AWS S3) теперь приводит к перенаправлению, поэтому пользователь фактически загружает данные из источника, вместо того, чтобы использоватьERDDAP™как посредника. Спасибо Энди Зиглеру иNOAA.
         
    * В качестве примера новых функций, связанных с AWS S3, и для облегчения просмотра и загрузки файлов из общедоступных ведер AWS S3 мы создали
        [~110 выборочных наборов данных](https://registry.opendata.aws/)Это позволяет любому просматривать содержимое почти всех
        [AWS S3 Open Data](https://registry.opendata.aws/). Если вы нажмете на"files"Ссылка для любого из этих наборов данных выборки, вы можете просматривать дерево каталогов и файлы в этом ведре S3. Из-за того, как эти наборы данных работают, эти списки каталогов всегда идеально обновлены.ERDDAP™Поймать их на лету. Если вы нажмете вниз по дереву каталога на фактическое имя файла и нажмете на имя файла,ERDDAP™Ваш запрос будет перенаправлен на AWS S3, чтобы вы могли загрузить файл непосредственно из AWS.ERDDAP™Администраторы могут
        [Читайте инструкции, как это сделать для других ведер S3](/docs/server-admin/datasets#working-with-aws-s3-files). Спасибо Энди Зиглеру иNOAA.
         
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Вещи, которые вам нужно сделать: нет
         
    * Усовершенствовано:ERDDAPСпособ хранения массивов строк (Струнный массив) Теперь она намного эффективнее памяти. Струна Решетки используются повсеместноERDDAP™Особенно при чтении табличных файлов данных ASCII. Кроме того, другие изменения делают чтение CSV / TSV / SSV ASCII, столбцовых ASCII и табличных файлов данных jsonlCSV быстрее и намного эффективнее памяти. Результат: для 764 МБ тестового файла ASCII (Но сжатый до 52 МБ.gzфайл) с 3 503 266 строками и 33 колонками максимальное использование памяти снизилось с 10 ГБ до 0,6 ГБ (на пике) . Время, чтобы прочитать его прошло от ~7 минут (сильно зависит от того, сколько физической памяти находится в компьютере;) До ~36 секунд (10 для упрощения () Используется только для генерации данных Xml) . Во многих других местахERDDAP™Это позволит повысить эффективность памяти. Спасибо Тайлеру Мюррею и Мэтью Биддлу.
        
Я искал другое решение (хранение строк в StringArray в виде UTF-8-кодированных байтовых массивов) . Это снижает использование памяти еще на 33 %, но за счет 33 % замедления. По сравнению с системой, которая сейчас используется, это казалось плохим компромиссом. Легче дать компьютеру больше памяти (Купить больше памяти за $ 200) чем сделать его быстрее (Купить новый компьютер) .
        
Если это удобно, по-прежнему рекомендуется разделить огромные табличные файлы данных на несколько небольших файлов на основе некоторых критериев.stationIDи/или время.ERDDAP™Часто достаточно открыть один из маленьких файлов в ответ на запрос пользователя, чтобы он мог ответить намного быстрее.
        
    * Продвинутый: есть сейчас[ERDDAP™Документация AWS S3](/docs/server-admin/datasets#working-with-aws-s3-files), который описывает, как получитьERDDAP™Работа с файлами данных в AWS S3.
Кроме того,ERDDAP™В AWS S3 появились новые функцииJavaAPI.
Кроме того,ERDDAP™Теперь URL-адреса AWS S3 могут содержать дополнительные символы (период, дефис, подчеркивание) Названия ведра.
Кроме того,ERDDAP™Теперь требуется, чтобы URL-адреса AWS S3 были идентифицированы определенным образом:
           https://_bucketName_.s3._aws-region._amazonaws.com/_prefix_/   
где префикс необязателен.
Спасибо Энди Зиглеру иNOAA.
         
    * Усовершенствовано: Генерировать наборы данных Xml теперь лечит дополнительные распространенныеmissing\\_values stand-ins как недостающие значения и поэтому с большей вероятностью преобразует столбец в числовой тип данных. Кроме того, PrimitiveArray.simplify () Теперь журналы, конкретное значение данных которых заставило его рассматривать данный столбец как столбец строк. Спасибо Мэтью Биддлу.
         
    * Усовершенствовано:&lt;Запрос Blacklist теперь поддерживается.\\*.\\*  (или:\\*:\\*для IPv6) в конце IP-адресов, чтобы вы могли занести в черный список большую часть IP-адресов, например, 110,52.\\*.\\*  (Китай Unicom Tianjin) . См. документацию для [&lt;Черный список&gt;&gt; (/docs/server-admin/datasets#requestblacklist) Спасибо China Unicom и China Telecom.
         
    * Усовершенствовано: если источник набора данных не указывает"institution"атрибут, GenerateDatasets Xml и loadDataset теперь получают его из атрибута «создатель\\_институт» (Если доступно) . Спасибо Мике Венгрену.
         
    * BUG FIX: стандартизация Что не всегда применялось к файлам данных ASCII.
Кроме того, EDDTable не справлялся должным образом с ограничениями на временные значения, когда у источника были временные значения струн и стандартизация. Что было использовано.
Спасибо Паломе де ла Валле.
        
Раньше я не говорил четко: вы должны просто использовать стандартизацию. Какие особенности, когда они действительно нужны (Например, когда различные исходные файлы хранят значения времени по-разному.) потому что некоторые запросы к наборам данных, которые используют стандартизацию Что будет обрабатываться немного медленнее.
        
    * BUG FIX: Ошибка в коде, используемомEDDGridИз-за NcFiles он потерпел неудачу.nc4 и.hdf5 файлов, которые «длинны» (Int64) переменных. Теперь это исправлено. Спасибо Фридеманну Вобусу.
         
    * BUG FIX: Небольшие изменения в ISO 19115, чтобы сделать другой валидатор счастливым. Спасибо Крису МакДермайлу и Анне Милан.
         

## Версия 2.01{#version-201} 
 (Выпущено 2019-07-02) 

*    **Новые особенности и изменения (для пользователей) :** 
    * Нет.
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * BUG FIX: Ошибка в коде, которая генерирует форму доступа к даннымtabledapНаборы данных привели к тому, что эта веб-страница была пустой для некоторых наборов данных. Кроме того, я улучшил обработку неожиданных ошибок на всех HTML-страницах. (обычно) Отобразить сообщение об ошибке. Спасибо Марко Альбе.
    * Усовершенствовано: Генерировать наборы данных Xml больше не печатает длинное предупреждение в верхней части вывода. Вместо этого, пожалуйста, посмотрите[Редактировать Генерировать Наборы данных Выход Xml](/docs/server-admin/datasets#you-need-to-edit-the-output-from-generatedatasetsxml-to-make-it-better). Спасибо Стивену Бауму.
    * Усовершенствовано: Генерировать наборы данных Xml дает несколько иные рекомендации в различных ситуациях.&lt;Обновить EveryNMillis&gt; для EDD... From...Files datasets. Генерировать наборы данных Xml теперь отказывает оригинальной системе «экстракта» для наборов данных EDDTableFromFiles.

## Версия 2.00{#version-200} 
 (Выпущено 2019-06-26) 

*    **ERDDAP™V2.00 наконец-то здесь&#33; Да&#33;**   
     
    * Мы приносим извинения за длительную задержку, необходимую для завершения этой версии.
Спасибо за ваше терпение.
         
    * Хорошей новостью является то, что дополнительное время было использовано для добавления дополнительных функций, которые пользователи запросили. Плохая новость заключается в том, что даже с задержкой были добавлены не все запрошенные функции. Мы сожалеем, но казалось более важным получить это освобождение, чем откладывать больше. (навсегда?) Постоянно добавлять новые функции. Мы обещаем вернуться к более частым выпускам в будущем.
         
    * "Версия 2?&#33;" Есть ли большие изменения и несовместимости?
Большие новые функции? Да.
Большие несовместимости или изменения для администраторов или пользователей? Нет.
Мы перешли от v1.82 к v2.00:
        * Отчасти отпраздновать 10 лет (Сейчас 11) После первого публичного опубликованияERDDAP™  (v1.00 на 2008-05-06, который внешне выглядел удивительно как v2.00) . В то время,ERDDAP™От одной установки до почти 100 установок в 12 странах мира (Австралия, Бельгия, Канада, Франция, Индия, Ирландия, Италия, Южная Африка, Испания, Таиланд, Великобритания, США) .
        * Отчасти для того, чтобы отметить значительное дополнение в совершенно новом направлении:ERDDAP™Теперь есть система проглатывания данных, чтобы перейти к существующим службам сервера данных. (смотреть[EDDTable FromHttpGet](#eddtablefromhttpget)) ,
        * И отчасти потому, что это был не большой скачок с 1,82 до 2,00 в цифрах, так что это казалось подходящим временем.
             
    * Еще одна хорошая новость заключается в том, что в настоящее время существуют две другие группы, вносящие свой вклад в код.ERDDAP™  (В этом варианте и с указанием они будут продолжены.) Роб Фуллер и Адам Лидбеттер из Морского института Ирландии и Роланд Швейцер из PMEL и Weathertop Consulting. Большое спасибо. Это правда, что они работают над проектами по своему выбору, но это классическая модель разработки с открытым исходным кодом - группы вносят код для функций, которые они больше всего хотели бы видеть добавленными. Дополнительные преимущества для участников: они могут использовать новые функции, как только они закончат; им не нужно ждать следующего выпуска.ERDDAP. Ваша группа также может внести свой вклад&#33; Видишь?[ERDDAP™Руководство программиста](/docs/contributing/programmer-guide).
         
    * Надеемся, что вам понравитсяERDDAP™v2.00 С нетерпением ждем следующих 10 летERDDAP™Развитие и все большее использование по всему миру.
         
*    **Новые особенности и изменения (для пользователей) :**   
     
    * НЬЮ:orderByMeanфильтр
дляtabledapНаборы данных будут вычислять средства для указанных групп. Кроме того, всеorderByВарианты теперь поддерживают дополнительный способ определения групп: _numericVariable\\[/номера\\[Время\\]\\[:offset\\]\\]_, например, время/1 день или глубина/10:5. Например,stationIDВремя, WaterTemp&orderByMean ("stationIDВремя / день) Сортировать результаты поstationIDи время, затем вычислите и верните среднее значение температуры воды для каждогоstationIDна каждый день. Это удивительно полезные и мощные новые функции. Новый код для этих функций и изменения в старый код были внесены Робом Фуллером и Адамом Лидбеттером из Морского института Ирландии и представлены через Git. Спасибо, Роб и Адам&#33;
         
    * НОВОСТИ: тип выходного файла для табличных наборов данных:[данные Столик](https://developers.google.com/chart/interactive/docs/reference#dataparam),
JSON-файл, отформатированный для использования сGoogle Visualizationклиентская библиотека (Google Charts) . Код для этого был предоставлен Роландом Швейцером и представлен через Git. Спасибо, Роланд&#33;
         
    * НОВОСТИ: тип выходного файла для табличных наборов данных:[.jsonlCSV1](https://jsonlines.org/examples/),
которое подобно существующему.jsonlCSVВариант, но с названиями колонок на первой строке. Спасибо Юджину Бургеру.
         
    * Если администратор позволяет это, пользователи теперь могут войти в систему со своим[ОРКИД](https://orcid.org)счет.
Это система аутентификации OAuth 2.0, похожая на Google. ORCID широко используется исследователями для уникальной идентификации себя. Учетные записи ORCID бесплатны и не имеют проблем с конфиденциальностью, которые есть у учетных записей Google. Видишь?ERDDAP?[Инструкции по аутентификации Orcid](/docs/server-admin/additional-information#orcid). Благодаря BCO-DMO (Адам Шепард, Дэни Кинкейд и др.) .
         
    * Новый конвертер URL преобразует устаревшие URL-адреса в современные URL-адреса.
См. .../erddap/convert/urls.htmlERDDAP™установки, например,
        [Ссылка на конвертер вERD ERDDAP](https://coastwatch.pfeg.noaa.gov/erddap/convert/urls.html). Это должно быть полезно для менеджеров данных. Это также используется внутри GenerateDatasetsXml. Спасибо Бобу Саймонсу и Шэрон Месик.
         
    * Продвинутый:[Преобразователь времени](https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html)теперь есть опции для преобразования любого общего времени строки в время строки ISO8601 или преобразованияUDUNITS- как временные единицы, входящие в правильнуюUDUNITSСтруна временных единиц. Это также должно быть полезно дляERDDAP™администраторам, которым необходимо знать, какой формат указать для атрибута «единицы» для переменных времени строки. Это также используется внутри GenerateDatasetsXml и стандартизирует функцию EDDTableFromFiles. Спасибо Бобу Саймонсу.
         
    * НОВЫЙ:[Конвертер Units](https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html)Имеется новая опция «Стандартизировать UDUnits».
Например, "deg\\_C/m" и "degrees\\_Cmeter-1" оба преобразуются в
"Степень _C m-1". Эта функция также используется стандартизованной функцией EDDTableFromFiles. Спасибо Бобу Саймонсу.
         
    * НОВОСТИ: Для графов (кроме поверхностных графов) на сетчатке иtabledapНа веб-страницах Make A Graph, когда ось x не является осью времени, если видно только подмножество диапазона переменной x-оси, теперь над графиком есть кнопки для смещения оси X влево или вправо. Благодаря проекту Carrie Wall Bell / Hydrophone.
         
    * НОВОСТИ: Для графов ось X и/или Y теперь может использовать шкалу журнала.
Пользователи могут управлять шкалой Y Axis с помощью нового выпадающего виджета на сетке иtabledapСоздайте графические веб-страницы. Видишь?[.xRange и . yRange документация](https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#xRange). Благодаря проекту Carrie Wall Bell / Hydrophone.
         
    * Усовершенствовано:ERDDAP™Теперь лучше использовать различные коды ошибок HTTP и теперь возвращает(OPeN)DAPv2.0-форматированная полезная нагрузка сообщения об ошибке. Видишь?[Подробности](https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#Errors). Спасибо Антуану Керику и Орели Брайанд.
         
    * Не используйте Netcdf-java/c или другие программные средства для подключения к.ncили.hdfФайлы, обслуживаемыеERDDAPs/files/система, как если бы они были локальными файлами.ERDDAP™Сейчас эти просьбы отклоняются. Это ужасно неэффективно и часто вызывает другие проблемы. Вместо этого:
        
        * Использовать(OPeN)DAPклиентское программное обеспечение для подключения кERDDAP?DAPУслуги для набора данных (которые имеют /griddap/ или /tabledap/ в URL) . Вот чтоDAPЭто для и делает так хорошо.
        * Или используйте форму доступа к данным для запроса подмножества данных.
        * Или, если вам нужен весь файл или повторный доступ в течение длительного периода времени, используйтеcurl,wgetили ваш браузер, чтобы загрузить весь файл, а затем получить доступ к данным из вашей локальной копии файла.
        
          
         
    * Альбом: On TheERDDAP™На главной странице полнотекстовый поиск теперь выше «Просмотреть список всех наборов данных», поскольку он является лучшей отправной точкой для большинства пользователей. Спасибо Дидье Малларино и Морису Либесу.
         
    * Усовершенствовано: на DataProviderForm3.html В настоящее время существуют раскрывающиеся списки общихstandard\\_nameС. Спасибо кому-то на собрании ИОС ДМАК.
         
    * УПРАВЛЕНО: На веб-страницах /files/ теперь есть ссылка на новый раздел «Что я могу сделать с этими файлами?» В этом разделе описаны различные типы файлов и даны рекомендации по работе с ними. Спасибо Морису Либесу.
         
    * Ответ: Почти каждый запросERDDAP™Они должны быть, по крайней мере, немного быстрее, а иногда и намного быстрее.
         
    * BUG FIX: При некоторых обстоятельствах, когда набор данных EDDTable сохраняет данные в некоторых типах.ncФайлы, глобальный атрибут «id» был установлен на имя файла, которое включает в себя хэш, чтобы сделать его уникальным для этого запроса. «Ид» остается неизменным (если указано) или установленный в наборе данныхdatasetID  (Если не указано) . Спасибо Джону Мореру.
         
*    **ВещиERDDAP™Администраторы должны знать и делать:**   
     
    * Это освобождение займет некоторое время и работу от вас. Пожалуйста, будьте терпеливы и планируйте потратить несколько часов на необходимые изменения и еще несколько часов на эксперименты с новыми функциями.
         
    * Для безопасности сделайте резервную копию вашего текущего setup.xml иdatasets.xmlфайлы, чтобы вы могли вернуться к ним в маловероятном случае, когда вам нужно вернуться кERDDAP™v1.82.
         
    * Для этого: РекомендуемоеJavaТеперь это OpenJDK от AdoptOpenJDK. 8 (LTS) + Горячая точка.
Это открытый вариантJavaне имеет ограничений по использованию (в отличие отOracle?Javaраспределение) . Он получен изOracle?Javaв постоянном движении, сOracleБлагословение. По соображениям безопасности важно сохранитьJavaобновленная версия. Видишь?ERDDAP?[JavaИнструкция по установке](/docs/server-admin/deploy-install#java).
         
    * Исполнитель: AdoptOpenJDK'sJavaТребуется небольшое дополнение к вашей установке Tomcat:[Инструкции кэша ресурсов](/docs/server-admin/deploy-install#contentxml). Я думаю, что это замена настройки -XX:MaxPermSize, которая (усыновление) OpenJDK больше не поддерживает
         
    * TO DO: новый дефолт и рекомендации&lt;fontFamily&gt; seting in setup.xml is
DejaVu Sans встроен в AdoptOpenJDKJava. Видишь?
        [пересмотренные инструкции по установке шрифтов](/docs/server-admin/deploy-install#fonts).
         
    * Для этого многие теги переходят с setup.xml наdatasets.xml. Преимущество заключается в том, что вы можете изменить свои ценности.ERDDAP™Бежит, не перезагружаясьERDDAP. В частности, вы можете легко изменить&lt;startBodyHtml5&gt; для отображения временного сообщения наERDDAP™домашняя страница (Например, "Проверить новый набор данных JPL MUR SST v4.1 ..." или "ЭтоERDDAP™будет отключен для технического обслуживания 2019-05-08T17:00:00 PDT до 2019-05-08T20:00:00 PDT".) . Если / когда вы меняете эти тегиdatasets.xmlИзменения вступят в силу в следующий разERDDAP™читатьdatasets.xml.
         
        
        1. Скопируйте этот контент в свойdatasets.xmlФайл (в любом месте, близком к началу файла, после того, как&lt;erddapDatasets&gt;:
```
            <!-- The tags below are described in setupDatasetsXml.html.
                 The defaults listed below are as of ERDDAP™ v2.00. -->
            <cacheMinutes></cacheMinutes>                                     <!-- default=60 --> 
            <decompressedCacheMaxGB></decompressedCacheMaxGB>                 <!-- default=10 --> 
            <decompressedCacheMaxMinutesOld></decompressedCacheMaxMinutesOld> <!-- default=15 --> 
            <drawLandMask></drawLandMask>                                     <!-- "over" or "under" (default) -->
            <graphBackgroundColor></graphBackgroundColor>                     <!-- 0xAARRGGBB, default is 0xffccccff -->
            <loadDatasetsMinMinutes></loadDatasetsMinMinutes>                 <!-- usually=default=15 -->
            <loadDatasetsMaxMinutes></loadDatasetsMaxMinutes>                 <!-- default=60 -->
            <logLevel></logLevel> <!-- "warning" (fewest messages), "info" (default), or "all" (most messages) -->
            <nGridThreads></nGridThreads>                                     <!-- default=1 -->
            <nTableThreads></nTableThreads>                                   <!-- default=1 -->
            <partialRequestMaxBytes></partialRequestMaxBytes>                 <!-- default=490000000 -->
            <partialRequestMaxCells></partialRequestMaxCells>                 <!-- default=10000000 -->
            <slowDownTroubleMillis></slowDownTroubleMillis>                   <!-- default=1000 -->
            <unusualActivity></unusualActivity>                               <!-- default=10000 -->
            <!-- The defaults for the following tags are in messages.xml. -->
            <startHeadHtml5></startHeadHtml5>                                
            <startBodyHtml5></startBodyHtml5>                                 <!-- This is often customized. -->
            <theShortDescriptionHtml></theShortDescriptionHtml>               <!-- This is often customized. -->
            <endBodyHtml5></endBodyHtml5>
            <standardLicense></standardLicense>
            <standardContact></standardContact>
            <standardDataLicenses></standardDataLicenses>
            <standardDisclaimerOfEndorsement></standardDisclaimerOfEndorsement>
            <standardDisclaimerOfExternalLinks></standardDisclaimerOfExternalLinks>
            <standardGeneralDisclaimer></standardGeneralDisclaimer>
            <standardPrivacyPolicy></standardPrivacyPolicy>
```

        2. Один за другим, скопируйте значение (если есть) для каждого из этих тегов из файла setup.xml в новый тег, который вы только что вставили (выше) вdatasets.xml. Например, если вы использовали значение 30 для&lt;CacheMinutes в setup.xml, вы должны скопировать это значение в новый&lt;CacheMinutes &gt; Tag indatasets.xml  (Хотя, если значение совпадает с новым значением по умолчанию, лучше просто оставить тег вdatasets.xmlпустой) .
            
Если ваша стоимость отличается от нового предлагаемого по умолчанию (кроме&lt;Бодихтмл5&gt; и&lt;ShortDescriptionHtml&gt;, который полезен для настройкиERDDAP™Установка), пожалуйста, рассмотрите возможность перехода на новые значения по умолчанию. Особенно это касается&lt;PartialRequestMaxBytes&lt;PartialRequestMaxCells&gt;, где значение по умолчанию/предполагаемое значение значительно изменилось за эти годы.
            
После копирования каждого значения удалите тег и его описание из setup.xml. Лучше иметь эти теги вdatasets.xml. В настоящее время существуют более совершенные описания в[НастройкаDatasetsXml.html](/docs/server-admin/datasets#the-basic-structure-of-the-datasetsxml-file).
            
        
Причуда новой системы заключается в том, что самая первая веб-страница при запускеERDDAPБудет ли дефолтERDDAP™Веб-страница. Каждая последующая веб-страница будет использовать контент ... HTML, который вы указываете вdatasets.xml.
        
    * Оригинальное название: The First Time You RunERDDAP™v2.0, будут загружаться наборы данных на основе локальных файлов данных **очень** Медленно, потому чтоERDDAP™Необходимо воссоздать свою базу данных файлов в несколько ином формате. После медленной начальной перезагрузки они будут загружаться быстро, как и раньше. Пожалуйста, будьте терпеливы.
         
#### EDDTable FromHttpGet{#eddtablefromhttpget} 
    *   [Оригинальное название: EDDTable FromHttpGet](#eddtablefromhttpget)  
До сих пор,ERDDAP™Просто прочитайте данные и сделайте их доступными для пользователей. Сейчас,ERDDAP™Имеет простую, эффективную систему для приема данных в реальном времени от датчиков. Среди других функций этот набор данных предлагает мелкозернистую версию: он запоминает каждое изменение, внесенные в набор данных, когда и кем. Обычно пользователям просто нужна последняя версия набора данных со всеми изменениями. Но есть возможность для пользователей запрашивать данные из набора данных, как это было в любой момент времени. Это способствует воспроизводимой науке. Таким образом, в отличие от большинства других наборов данных в реальном времени, эти наборы данных имеют право на использование.[DOIs](https://en.wikipedia.org/wiki/Digital_object_identifier). Потому что они встречаютDOIтребование, чтобы набор данных не менялся, за исключением агрегирования. Видишь?[EDDTable FromHttpGet](/docs/server-admin/datasets#eddtablefromhttpget). Спасибо OOI (Давным-давно и сейчас) За разговоры о необходимости этого и Евгения Бургера за напоминание о работе над тем, что важно.
         
    * Большая новая фотография:ERDDAP™теперь может обслуживать данные непосредственно из сжатых извне файлов данных, включая.tgz,.tar.gz,.tar.gzip,.gz,.gzip,.zip,.bz2, или .Z. Наборы данных могут включать в себя смесь сжатых извне файлов (Может быть, старые файлы?) и не сжатые вовне файлы, и вы можете сжать/декомпрессировать файл в любое время.
        
Это отлично работает&#33;
В большинстве случаев замедление, связанное с декомпрессией файлов, незначительно. Мы настоятельно рекомендуем вам попробовать это, особенно для наборов данных и / или файлов данных, которые используются нечасто.
        
Это может сэкономить вам 30 000 долларов или больше&#33;
Это один из немногихERDDAP™функции, которые могут сэкономить вам много денег - если вы сжимаете много файлов данных, вам понадобится гораздо меньше RAID / жестких дисков для хранения данных или, наоборот, вы можете обслуживать гораздо больше данных (до 10x) С теми рейдами, которые у вас уже есть. Если эта функция убережет вас от покупки другого RAID, то она сэкономит вам около 30 000 долларов.
        
Видишь?[Внешне сжатые файлы документация](/docs/server-admin/datasets#externally-compressed-files). Спасибо Бенуа Перримонду и Паломе де ла Валле.
        
    * Большая новая фотография: ВсеEDDGridВсе наборы данных FromFiles и EDDTableFromFiles поддерживают&lt;CacheFromUrl&gt; tag и a&lt;cacheSizeGB&gt; tag. Если кэш-SizeGB не указан, он будет загружать и поддерживать полную копию файлов удаленного набора данных. Если кэш-SizeGB указан и равен &gt;0, он будет загружать файлы из удаленного набора данных по мере необходимости в локальный кэш с ограниченным размером, что полезно при работе с облачным хранилищем. (Например, S3) Файлы данных. Видишь?[кэш Документация Url](/docs/server-admin/datasets#cachefromurl)Для деталей. Спасибо Бобу Саймонсу и Рою Мендельсону (кто годами писал сценарии для создания локальных копий удаленных файлов) Ллойд Коттен, Юджин Бургер, Конор Делани (Когда он работал в Amazon Web Services) Google Cloud Platform.
         
    * Новый EDDTable FromJsonlCSV Класс может считывать табличные данные из
        [Джон Линии файлов CSV](https://jsonlines.org/examples/)  («Лучше, чем CSV») . Спасибо сотрудникам Морского института Ирландии за то, что рассказали мне об этом формате, и Юджину Бургеру и PMEL за просьбу поддержать его в качестве входного типа.
         
    * НОВОСТИ: ВсеEDDGridи все наборы данных EDDTableFromFiles поддерживают&lt;nThreads&gt; Setting, который сообщаетERDDAP™Сколько потоков использовать при ответе на запрос. Видишь?[nПотоки документации](/docs/server-admin/datasets#nthreads)Для деталей. Роб Боченек из Axiom Data Science, Юджин Бургер, Конор Делани (Когда он работал в Amazon Web Services) Google Cloud Platform.
         
    * Новая стандартизация Что для всех подклассов EDDTable FromFiles -
Ранее, если для данной переменной значения важных атрибутов (например,scale\\_factor,add\\_offset,missing\\_value, \\_FillValue, единицы) Не были последовательными, EDDTableFromFiles выбирал одно значение для каждого атрибута, чтобы быть «действительным» и отмечать файлы с другими значениями атрибутов как «плохие файлы». Теперь существует система стандартизации файлов, как только EDDTableFromFiles считывает файлы. Видишь?[Стандартизация EDDTableFromFile Что?](/docs/server-admin/datasets#standardizewhat). Один изERDDAPОсновная цель состоит в том, чтобы сделать файлы данных и наборы данных доступными последовательным образом. стандартизировать Что является важным новым инструментом, чтобы сделать это реальностью? Спасибо Марко Альбе, Маргарет О'Брайен (Другие пользователи EML) BCO-DMO и пользователи InPort.
         
    * Новый EDDTableFromInvalidCRAFiles позволяет сделать набор данных из коллекцииNetCDF  (v3 или v4)  .ncФайлы, которые используют конкретный, недействительный вариант CF DSG Contiguous Ragged Array (КРА) Файлы. Образцы файлов для этого типа набора данных можно найти в https://data.nodc.noaa.gov/thredds/catalog/ncei/wod/  \\[2020-10-21 Этот сервер теперь недоступен.\\]. ХотяERDDAP™Поддерживает этот тип файла, это недействительный тип файла, который никто не должен начинать использовать. Группы, которые в настоящее время используют этот тип файла, настоятельно рекомендуется использовать.ERDDAP™для создания действительных файлов CF DSG CRA и прекращения использования этих файлов. Спасибо Аджаю Кришнан и Тиму Бойеру.
         
    * EDDTable FromThreddsFiles и EDDTable FromHyraxФайлы теперь обесценены. Перейдите на EDDTableFromNcFiles (или вариант) плюс&lt;cacheFromUrl&gt;. Если это не работает по какой-то причине, электронная почтаerd.data at noaa.gov. Если до 2020 года жалоб не будет, эти типы наборов данных могут быть удалены.
         
    * Усовершенствовано - Система автоматического преобразования ISO 8601 раз в ISO 8601 раз (Введено в v1.82) Он был значительно расширен для работы с большим количеством дополнительных форматов. Это влияет на генерацию наборов данных Xml иERDDAPОбработка исходных метаданных.
         
    * Усовершенствовано - С третьим крупным пересмотром системы синхронизации времени String (И, надеюсь, последний) ,ERDDAP™больше не используетсяJavaDateTimeFormatter из-за ошибок, которые иногда влияют на экстремальные времена&lt;=0000).ERDDAP™Теперь использует собственную систему для разбора временных струн.
         
    * ПРЕДУПРЕЖДЕНИЕ: Новая система синхронизации струнного времени несколько строже. Если один из ваших наборов данных внезапно имеет только отсутствующие значения для значений времени, причина почти наверняка заключается в том, что строка формата времени немного ошибочна. В журнале должны быть сообщения об ошибках. txt, относящийся к значениям времени, которые не соответствовали формату времени, что должно помочь вам исправить строку формата времени для этого набора данных. Если вам нужна помощь, используйте опциюERDDAPПреобразователь времени, который преобразует\\[s\\]любое общее время строки в строку ISO 8601 - это указывает формат, который преобразователь использовал для разбора исходной строки.
         
    * Рекомендация: самый быстрый, простой и дешевый способ ускоритьERDDAPДоступ к табличным данным заключается в размещении файлов данных на твердотельном накопителе (SSD) . Большинство табличных наборов данных относительно малы, поэтому SSD емкостью 1 или 2 ТБ, вероятно, достаточно для хранения всех файлов данных для всех ваших табличных наборов данных. SSD в конечном итоге изнашивается, если вы записываете данные в ячейку, удаляете их и записываете новые данные в эту ячейку слишком много раз. Вместо этого я рекомендую (как можно больше) Вы просто используете свой SSD, чтобы записать данные один раз и прочитать их много раз. Тогда даже твердотельный накопитель потребительского класса должен работать очень долго, вероятно, намного дольше, чем любой жесткий диск. (HDD) . Потребительские SSD теперь дешевы (в 2018 году ~ 200 долларов за 1 ТБ или ~ 400 долларов за 2 ТБ) И цены продолжают стремительно падать. КогдаERDDAP™Получает доступ к файлу данных, SSD предлагает оба варианта.
        
        * более короткая задержка (~0,1 мс против ~3 мс для HDD, против ~10 (?) ms для RAID против ~55ms для Amazon S3) и
        * более высокая пропускная способность (~500 Мб/с против ~75 Мб/с для HDD против ~500 Мб/с для RAID) .
        
Таким образом, вы можете получить повышение производительности ~ 10X (vs HDD) За 200 долларов&#33; По сравнению с большинством других возможных изменений в вашей системе (Новый сервер за 10 тысяч долларов? Новый рейд за 35 тысяч долларов? Новый сетевой коммутатор за 5000 долларов? и т.д.) Это, безусловно, лучший возврат инвестиций (Рой) . Если ваш сервер не загружен памятью, дополнительная память для вашего сервера также является отличным и относительно недорогим способом ускорить все аспекты работы.ERDDAP.
        \\[SSD также отлично подходит для сетчатых данных, но большинство сетчатых наборов данных намного больше, что делает SSD очень дорогим.\\]  
         
    * НОВОСТИ: Каждый, кто вошел в систему, получает роль\\[кто-нибудь заплатит в\\]Даже если нет&lt;User&gt; Tag для нихdatasets.xml. Если вы устанавливаете набор данных&lt;Доступность&gt; для\\[кто-нибудь заплатит в\\]Для тех, кто вошел вERDDAP™  (Например, через свою учетную запись Gmail или Orcid.) будет разрешено получить доступ к набору данных, даже если вы не указали&lt;User&gt; Tag для нихdatasets.xml. Спасибо Морису Либесу.
         
    * Продвинутый:UDUNITSКонвертер блоков /UCUM был значительно улучшен.
Он лучше обрабатывает недействительные струны единиц (Начиная с акцента на сохранение информации, а не на обеспечение законности) . Кроме того, результаты теперь имеют стандартизированный синтаксис.
         
    * НОВЫЙ:UDUNITSПреобразователь блоков /UCUM имеет новую опцию стандартизацииUDUNITSструна.
Это хорошо работает для действительногоUDUNITSструны и достаточно хорошо для нестандартных / недействительныхUDUNITSструны. Например, например,UDUNITS= "метры в секунду", "метр/секунда","m.s^-1"и"m s-1"Всем вернется "мс-1". Это необходимо для новой стандартизации. Какая система описана выше. Спасибо Марко Альбе, Маргарет О'Брайен (Другие пользователи EML) BCO-DMO и пользователи InPort.
         
    * EDDTableFromMultidimNcFiles теперь имеет[лечить отклонения](/docs/server-admin/datasets#treatdimensionsas)Вариант, который говоритERDDAP™для обработки определенных измерений (Например, LAT и LON) Как будто это другие измерения. (Например, время) . Это полезно для некоторых неправильных файлов, которые используют разные размеры для разных переменных, когда они должны были использовать только одно измерение. (Например, время) . Спасибо Марко Альбе и Морису Либесу.
         
    * НОВОСТИ: Теперь всеEDDGridНаборы данных ...Файлы поддерживают новую специальную осьsourceNameкоторый говоритERDDAP™Для извлечения информации из имени файла (просто filename.ext) и использовать ценность для **заменить** существующее значение самой левой оси. Формат является
        \\*\\*\\*replaceFromFileName,_dataType_,_extractRegex_,_captureGroupNumber_
Видишь?[Эта документация](/docs/server-admin/datasets#aggregation-via-file-names-or-global-metadata). БлагодаряNOAAНабор данных Pathfinder Daily.
         
    * НОВОСТИ: Теперь всеEDDGridНаборы данных ...Файлы поддерживают новую специальную осьsourceNameкоторый говоритERDDAP™Для извлечения информации из файла PathName (Каталоги + filename.ext)   
        \\*\\**pathName,_dataType_,_extractRegex_,_captureGroupNumber_
Для этого всегда используется название пути.'/'Как персонаж разделителя каталога, никогда не ''.
Видишь?[Эта документация](/docs/server-admin/datasets#aggregation-via-file-names-or-global-metadata). Спасибо Паломе де ла Валле.
         
    * НОВОСТИ: Теперь все EDDTable из... Наборы данных файлов поддерживают дополнительную псевдо переменнуюsourceNames, которые извлекают информацию из имени файла (просто filename.ext)   (смотреть[\\*\\**Фильм](/docs/server-admin/datasets#filename-sourcenames)) или от полного имени файла (/dir1/dir2/filename.ext)   (смотреть[\\*\\*\\*pathName](/docs/server-admin/datasets#pathname-sourcenames)) . Спасибо Паломе де ла Валле.
         
    * Оригинальное:If anEDDGridнабор данных имеет один или несколько очень больших размеров (Например, миллионы ценностей) который занимает много памяти, вы можете установить новый&lt;ИзмерениеЦенностиВ памяти&gt; (/docs/server-admin/datasets#dimensionvaluesinmemory) Ложь - ложная (Дефолт является истинным) , что заставляет набор данных хранить значения на диске и извлекать их при необходимости. Спасибо Дэвиду Родригесу и Ричу Синьеллу. (Re:EDDGridИз аудиофайлов) .
         
    * В оригинале: If You Reordered thedataVariables для набора данных EDDTableFromFiles и перезагрузки набора данных, EDDTableFromFiles перечитает все файлы данных. Теперь он может обрабатывать переупорядочение без перечитывания всех файлов данных. Спасибо Роланду Швейцеру.
         
    * УПРАВЛЕНИЕ: Сейчас, когдаERDDAP™Считывает табличные файлы данных ASCII, NCCSV и JSON Lines CSV, если обнаруживает ошибку на данной строке (Например, неправильное количество элементов) Он записывает предупреждающее сообщение (Предупреждение: Пропуск линии #"... "Неожиданное количество предметов...) к[log.txt файл](/docs/server-admin/additional-information#log)Затем он продолжает читать остальные файлы данных. Таким образом, вы несете ответственность за периодический просмотр. (или написать сценарий для этого) для этого сообщения в журнале. txt для устранения проблем в файлах данных.ERDDAP™Он настроен таким образом, чтобы пользователи могли продолжать читать все доступные действительные данные, даже если некоторые строки файла имеют недостатки. Раньше,ERDDAP™Пометил файл как «плохой» и удалил его из набора данных.
         
    * Усовершенствовано: когда точное время (Например, до ближайшей секунды или миллисекунды) Они хранятся в источнике как «минуты с момента ...» (или более крупные единицы) ,ERDDAP™Теперь округляет их до ближайшей миллисекунды при чтении значений вERDDAP. В противном случае числа с плавающей точкой будут повреждены и запросы на данные в определенное время. (например, &time=2018-06-15T01:30:00) Не получится. Ранее они рассчитывали их максимально точно. (и все еще делает, если единицы, например, "секунды с ..." или "миллисекунды с ...") . Лучше всего избежать этой проблемы, не используя большие блоки. (Например, минуты или часы) хранить точные временные значения (Например, микросекунды) Компьютеры плохо справляются с десятичными цифрами. Спасибо Марко Альбе.
         
    * Перемены в EDDTable FromEDDGridЧто делает его намного лучше. EDDTable FromEDDGridпозволяет пользователям запрашивать сетчатые наборы данных, как если бы они были табличными наборами данных («Запрос по стоимости») .
        
        * Теперь он поддерживает a&lt;maxAxis0&gt; тег (По умолчанию 10) который определяет максимальное число осей\\[0\\]  (обычно"time") Значения, которые можно задать сразу. Это предотвращает наивные запросы от получения EDDTableFrom.EDDGridПоиск по всему сетчатому набору данных (Который провалится с ошибкой тайм-аута) .
        * Генерировать наборы данных Xml теперь имеет возможность генерировать EDDTableFromEDDGridнаборы данных для всех сетчатых наборов данных в заданномERDDAP™который соответствует определенному регексу (использовать .\\* для сопоставления всех наборов данных) . Наборы данных, которые он создает, имеют дополнительную информацию в атрибуте резюме, указывающем, что это табличная версия сетчатого набора данных. и ихdatasetIDЭтоdatasetIDСетчатый набор данных плюс «\\_AsATable».
        * Существует большое ускорение для наиболее распространенной настройки: когда сетчатый набор данных является одним из самых распространенных.EDDGridИз набора данных Erddap, который находится в том жеERDDAP.
        
Спасибо Джеймсу Галлахеру и Эду Армстронгу.
         
    * НОВОСТИ: генерировать Наборы данных Xml для всех типов наборов данных теперь с гораздо большей вероятностью добавит \\_FillValue илиmissing\\_valueАтрибут числовой переменнойaddAttributes. Например, это происходит, когда строка не имеет маркеров значений. (Например, "", "", "?", "NA", "nd", "NaN") для этой переменной в файле выборки преобразуются вERDDAPУникальные недостающие ценности (127 в байтовых колонках, 32767 в коротких колонках, 2147483647 int columns, 9223372036854775807 в длинных столбцах и NaN в поплавке и двойных переменных) . Это также происходит для значений NaN в поплавке и двойных переменных. Кроме того, «nd» был добавлен к списку общих отсутствующих маркеров значений в колонках числовых данных.ERDDAP™Надо искать. Спасибо Мэтту Биддлу из BCO-DMO.
         
    * Усовершенствовано: опция ncdump в генерации Наборы данных Xml больше похож на ncdump (Использование Netcdf-java версии ncdump) . Теперь он печатает новый список вариантов. Теперь, для.ncмл файлов, он печатает вывод ncdump для результата.ncИзменения файла мл, применяемые к базовому.ncили.hdfФайл.
         
    * BUG FIX: Была утечка файловой ручки (В конечном итоге этоERDDAP™чтобы заморозить) вызывается при создании некоторых типов выходных файлов, например, .geotif, особенно при возникновении ошибок при создании. Я думаю/надеюсь, что все это уже исправлено. Если вы все еще видите проблемы, пожалуйста, скажите мне тип набора данных. (сетка или стол) Тип файла, который вызывает проблему. Спасибо Стивену Билу, Линн ДеВитт, Джибэй Чжао и другим.
         
    * BUG FIX: TheWMS LeafletДемо не полностью / правильно преобразовало ось «глубина» в «высоту». Так оно и есть, и запросы разбитых легенд фиксированы. Кроме того, все опции оси в выпадающих списках всегда находятся в порядке восходящей сортировки. Спасибо Антуану Керику и Орели Брайанд.
         
    * BUG FIX: EDDTable FromFiles теперь корректно поддерживает ограничения на струнные переменные, которые были созданы из переменных в файлах данных. Спасибо Антуану Керику и Орели Брайанд.
         
    * BUG FIX: Теперь, когда набор данных становится недоступным, набор данных пытается уведомить (с сообщением «Этот набор данных в настоящее время недоступен».) абоненты, перечисленные действия, rss и наборы данных lonPM180, которые полагаются на него. Спасибо Рою Мендельсону и Бобу Саймонсу.
         
    * BUG FIX: Две ошибки, связанные с EDDTableCopy. Спасибо Сэму МакКлатчи.
         
    * Количество неудавшихся запросов, отображаемых на странице status.html, увеличится, потому что больше вещей считаются неудачами, чем раньше.
         
    * Усовершенствовано:ERDDAPСтатус.html теперь показывает "Запросы" (Среднее время в мс) "в серии временных рамок. Ранее он показывал медианное время, усеченное до целых секунд.
         
    * В выводе jsonld имя jsonld теперь происходит от набора данных."title"вERDDAPи jsonld "headline" теперь исходит из набора данныхdatasetID"внутри"ERDDAP. Ранее он был отменен. Мне это кажется неправильным, потому что в обычном английском языке «имя» обычно короткое. (идеально) Уникальный идентификатор, который редко/никогда не меняется (Например, Роберт Миддлэм Саймонс) Не описание, которое не является уникальным и которое может легко и часто меняться. (Например, "Парень, который пишет программное обеспечение дляNOAAВысокий парень, который пишет программное обеспечение дляNOAA") . Было бы здорово, если бы schema.org[Имя](https://schema.org/name)В контексте набора данных они были более конкретными. Разработчики программного обеспечения должны иметь возможность писать реализацию спецификации, основываясь только на спецификации, без руководства экспертов. Но я предпочитаю Google (Особенно Наташа Нет) НЦЭИ (Особенно Джон Рельф) И Роб Фуллер.
         
    * УПРАВЛЕНИЕ: На выходе jsonld, четыре значения «пространственного покрытия GeoShape» теперь являются minLat minLon maxLat maxLon. Ранее позиции lat и lon были отменены. Было бы здорово, если бы schema.org[Геоформа](https://schema.org/GeoShape)Укажите правильный порядок. Разработчики программного обеспечения должны иметь возможность писать реализацию спецификации, основываясь только на спецификации, без руководства экспертов. Спасибо Наташе Ной и Робу Фуллеру.

## Версия 1.82{#version-182} 
 (выпущенный 2018-01-26) 

*    **Новые особенности (для пользователей) :**   
     
    * Многочисленные тонкие изменения внешнего вида и чувстваERDDAP™Веб-страницы.
        * Усовершенствовано:ERDDAP™Теперь он использует HTML 5 и CSS.
        * Веб-страницы были слегка изменены, чтобы сделать их более чистыми и менее «занятыми». (Они все еще плотные, и есть еще вещи, на которые можно пожаловаться, но, надеюсь, гораздо меньше, чем раньше.) Спасибо Джону Керфуту за комментарии.
        * Веб-страницы теперь выглядят намного лучше на мобильных телефонах и других небольших устройствах, особенно если вы используете их в ландшафтной ориентации. Они также лучше смотрятся в очень маленьких и очень больших окнах в настольных браузерах.
        * Улучшено: для повышения безопасности и по другим причинам, использование устаревшей версии OpenlayersWMSДемонстрационные страницы были замененыLeaflet.
        * НОВОСТИ: поддержка предварительного просмотра изображений, аудио и видео файлов в"files"система (Например,[Этот тестовый набор данных](https://coastwatch.pfeg.noaa.gov/erddap/files/testMediaFiles/ShouldWork/)) и в.htmlTableответы, когда ячейка имеет URL изображения, аудио или видео файла (Например,[Эта просьба](https://coastwatch.pfeg.noaa.gov/erddap/tabledap/testMediaFiles.htmlTable?url%2Cname%2ClastModified%2Csize%2CfileType%26url=~%22.*ShouldWork.*%22)) . Если вы нависаете над значком «?», вы должны увидеть предварительный просмотр изображения, аудио или видеофайла. Вы также можете нажать на ссылку файла, чтобы просмотреть полный экран файла в вашем браузере. Видишь?[Документация Media Files](/docs/server-admin/datasets#media-files). Обратите внимание, что разные браузеры поддерживают разные типы файлов, поэтому примеры могут не работать в вашем браузере.
Благодаря этим людям / ссылкам для идей и шаблонному коду для подсказок изображений только для CSS (был в https://codepen.io/electricalbah/pen/eJRLVd ) Отложенная загрузка изображения (был в https://varvy.com/pagespeed/defer-images.html )   (Код был изменен перед использованием вERDDAP) .
Спасибо Каре Уилсон, Мэттью Остину и Адаму Шепарду / BCO-DMO за запросы на поддержку изображений.
Спасибо Джиму Потемре, Ричу Сигнеллу, OOI и Кэрри Уолл Белл за запросы на поддержку аудио/гидрофонных файлов.
Спасибо OOI за то, что показали необходимость поддержки видео.
        * НОВОСТИ: Подмножество данных из любогоERDDAP™набор данных (Обычно это набор данных из аудиофайлов.) Теперь его можно сохранить в аудиофайле .wav. ([документация](https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#wav)) Спасибо Джиму Потемре, Ричу Сигнеллу, OOI и Кэрри Уолл Белл за запросы на поддержку аудио/гидрофонных файлов.
        * IMPROVED: формат для веб-доступных папок (ВСФ)   (Например, папки /files/) Он был обновлен для использования таблицы HTML. Новый формат имитирует более позднюю версию каталога с перечислением веб-страниц, созданных более поздними версиями Apache. Люди обнаружат, что изменения облегчают чтение информации. Программное обеспечение, которое анализирует эти документы (Например, программное обеспечение, которое собирает документы ISO 19115ERDDAP) Придется пересмотреть, но новый формат будет легче разбирать, чем предыдущий. (Внимание, Анна Милан.) 
        * НОВОСТИoutOfDateDatasets.htmlСтраница. ([пример](https://coastwatch.pfeg.noaa.gov/erddap/outOfDateDatasets.html)) Эта веб-страница показывает таблицу со всеми наборами данных в реальном времени, которые имеют&lt;testOutOfDateтег (см. ниже) , ранжируется по тому, насколько устаревшими являются наборы данных. Эта приборная панель должна быть полезной дляERDDAP™администраторы и конечные пользователи, когда они хотят знать, какие наборы данных являются устаревшими. Для устаревших наборов данных, предположительно, существует проблема с источником данных, так чтоERDDAP™не может видеть/получать данные из более поздних временных точек.
Администраторы: Если вам не нужна страница Out-Of-Date Datasets, добавьте это в свой setup.xml:
            &lt;OutOfDateDatasetsActive&gt;false&lt;/OfDateDatasetsActive&gt;
Сейчас естьtestOutOfDateвыходить Столбцы даты вallDatasetsнабор данных.
Спасибо Бобу Саймонсу, который хотел этого в течение многих лет, и умным людям из Морского института Ирландии, которые дали мне вдохновение через их посвященный Raspberry Pi и монитор, который всегда показывает такой экран в их офисе.
        * Усовершенствовано:.htmlTableи.xhtmlРеакция теперь лучше отформатирована, более компактна и, следовательно, загружается быстрее. Благодаря HTML5 и CSS.
    * Новый тип выходного файла для наборов данных griddap: .timeGaps. Он показывает список пробелов в значениях времени, которые больше, чем средний разрыв. ([пример](https://coastwatch.pfeg.noaa.gov/erddap/griddap/erdMHchla8day.timeGaps)) Это полезно дляERDDAP™администраторы и конечные пользователи, когда они хотят знать, есть ли неожиданные пробелы в значениях времени для набора данных, которые, как ожидается, будут иметь регулярно распределенные значения времени. Спасибо Бобу Саймонсу и Рою Мендельсону, которые нуждались в этой функции.
    * Усовершенствованный: график по умолчанию дляallDatasetsНабор данных теперь представляет собой карту с x=maxLon и y=maxLat. Спасибо Джону Керфуту, Ричу Сигнеллу и OOI-CI.
    * НЬЮ:[эрддапы](https://github.com/ioos/erddapy)- не являетсяERDDAP™характерно, но будет представлять интерес для многихERDDAP™пользователей. Эрддапы (ERDDAP™+Python) являетсяPythonБиблиотека, созданная Филипе Фернандесом, которая "воспользоваласьERDDAP?RESTfulВеб-сервисы и создаетERDDAP™URL для любого запроса, такого как поиск наборов данных, получение метаданных, загрузка данных и т.д. Спасибо Филиппу Фернандесу.
    * Я должен был упомянуть раньше: Существует сторонний пакет R, предназначенный для облегчения работы сERDDAP™В пределах R:[редактировать](https://github.com/ropensci/rerddap#rerddap). Благодаря[РОПЕНСИ](https://ropensci.org/)Рой Мендельсон.
         
*    **ВещиERDDAP™Администраторы должны знать и делать:**   
     
    * TO DO: В setup.xml, прямо внизу&lt;adminInstitution&gt;, пожалуйста, добавьте&lt;adminInstitutionUrl&gt; тег, который определяет URL для вашего учреждения (или группа) .
    * Эти 3 теги в setup.xml больше не используются:
        &lt;начинать HeadHtml,&lt;StartBodyHtml и другие&lt;EndBodyHtml. Их заменяют на
        &lt;StartHeadHtml5&gt;&lt;Бодихтмл5&gt; и&lt;endBodyHtml5&gt;, которые имеют значения по умолчанию, указанные в сообщениях.xml (показанный ниже) .
        
Мы рекомендуем использовать дефолт&lt;StartHeadHtml5&gt;&lt;EndBodyHtml5.
Мы рекомендуем: Если вы внесли изменения в оригинал&lt;StartBodyHtml&gt; и/или хотите настроитьERDDAP™Пожалуйста, скопируйте новый&lt;StartBodyHtml5&gt; тег (снизу) Введите setup.xml и измените его для настройкиERDDAP™так чтоERDDAPВеб-страницы отражают вашу организацию, а неNOAA ERD. В частности, пожалуйста, измените «Принесено вам» в вашу организацию. (s) . Если вам нужна помощь, пожалуйста, пишитеerd.data at noaa.gov. (Если вы не хотите настраивать свойERDDAP™Теперь используйте по умолчанию&lt;БодиХтмл5&gt;.
        
Затем удалите 3 старых тега в setup.xml, которые больше не используются.

```
        <startBodyHtml5><!\\[CDATA\\[ 
        <body>
        <table class="compact nowrap" style="width:100%; background-color:#128CB5;"> 
          <tr> 
            <td style="text-align:center; width:80px;"><a rel="bookmark"
              href="https://www.noaa.gov/"><img 
              title="National Oceanic and Atmospheric Administration" 
              src="&erddapUrl;/images/noaab.png" alt="NOAA"
              style="vertical-align:middle;"></a></td> 
            <td style="text-align:left; font-size:x-large; color:#FFFFFF; ">
              <strong>ERDDAP</strong>
              <br><small><small><small>Easier access to scientific data</small></small></small>
              </td> 
            <td style="text-align:right; font-size:small;"> 
              &loginInfo; &nbsp; &nbsp;
              <br>Brought to you by 
              <a title="National Oceanic and Atmospheric Administration" rel="bookmark"
              href="https://www.noaa.gov">NOAA</a>  
              <a title="National Marine Fisheries Service" rel="bookmark"
              href="https://www.fisheries.noaa.gov">NMFS</a>  
              <a title="Southwest Fisheries Science Center" rel="bookmark"
              href="https://www.fisheries.noaa.gov/about/southwest-fisheries-science-center">SWFSC</a> 
              <a title="Environmental Research Division" rel="bookmark"
              href="https://www.fisheries.noaa.gov/about/environmental-research-division-southwest-fisheries-science-center">ERD</a>  
              &nbsp; &nbsp;
              </td> 
          </tr> 
        </table>
        \\]\\]></startBodyHtml5>
```

Есть дополнительные способы, которыми вы можете[настраиватьERDDAP™](/docs/server-admin/deploy-install#customize)такERDDAPВеб-страницы отражают вашу организацию, а неNOAA ERD.
        
    * Для этого: The&lt;EDDGrid...Example&gt; Tags (начиная с)&lt;EDDGridIdExample&gt;) и&lt;EDDTable... Пример &gt; теги (начиная с&lt;EDDTableIdExample&gt;) в файле setup.xml используются для создания примеров в griddap иtabledapДокументация. html веб-страницы в вашемERDDAP.
        
Если вы не настроили эти теги, пожалуйста, удалите их из файла setup.xml. Теперь все они имеют дефолты в message.xml, которые относятся к наборам данных в Bob's.ERDDAP™в https://coastwatch.pfeg.noaa.gov/erddap/index.html . Таким образом, вам больше не нужно иметь определенные наборы данных.ERDDAP. Если вы хотите отменить дефолты, скопируйте некоторые или все эти теги в свой setup.xml и измените их значения.
Если вы хотите, чтобы примеры указывали на вашиERDDAP™Самый простой метод – это:
        
        1. Включите эти два набора данных в свойERDDAP™Добавив это в свойdatasets.xml:
```
            <dataset type="EDDGridFromErddap" datasetID="jplMURSST41" active="true">
                <sourceUrl>https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST41</sourceUrl>
            </dataset>
            <dataset type="EDDTableFromErddap" datasetID="pmelTaoDySst" active="true">
                <sourceUrl>https://coastwatch.pfeg.noaa.gov/erddap/tabledap/pmelTaoDySst</sourceUrl>
            </dataset>
```

        2. Добавьте этот тег в setup.xml, но измените URL на свойERDDAP? (https?) URL:
```
            <EDDGridErddapUrlExample>https://coastwatch.pfeg.noaa.gov/erddap/</EDDGridErddapUrlExample>
            <EDDTableErddapUrlExample>https://coastwatch.pfeg.noaa.gov/erddap/</EDDTableErddapUrlExample>
```
        
Если вы настроили эти теги, оставьте их как есть и, пожалуйста, добавьте эти 2 новых теги в свой setup.xml, чтобы указатьERDDAP™URL для этих наборов данных, но измените URL на свойERDDAP? (https?) URL:
```
        <EDDGridErddapUrlExample>https://coastwatch.pfeg.noaa.gov/erddap/</EDDGridErddapUrlExample>
        <EDDTableErddapUrlExample>https://coastwatch.pfeg.noaa.gov/erddap/</EDDTableErddapUrlExample>
```

    * Чтобы сделать:ERDDAP™Теперь используется файл css, называемый erddap2.css. Если вы внесли изменения в\\[кот\\]/webapps/erddap/images/erddap.css, рассмотреть возможность внесения аналогичных изменений в erddap2.css (В том же каталоге) .
    * НЬЮ:ERDDAPВеб-страницы теперь имеют большое количество практически невидимых внутренних ссылок. (Текст черный и не подчеркнутый) . Если вы зависаете над одной из этих ссылок (Обычно первые несколько слов заголовков и абзацев) Курсор становится рукой. Если вы нажмете на ссылку, URL будет внутренней ссылкой на этот раздел документа. Это позволяет легко ссылаться на конкретные разделы документации. Спасибо Бобу Саймонсу, который хотел этого годами.
    * НЬЮ:ERDDAP™Теперь поддержка[Байтовый диапазон / Accept-Ranges](https://en.wikipedia.org/wiki/Byte_serving)Запросы на части /файлов / файлов. Это было необходимо для поддержки аудио и видео зрителей в браузерах.
    * TO DO: Теперь, чтобы улучшить безопасность, если вы указали&lt;baseHttpsUrl&gt; в setup.xml (Таким образом, поддержкаhttps) Рекомендуемый флаг Url являетсяhttpsURL-адрес с более безопасным flagKey. Если это так, любые предыдущие флаги/флагкеи станут недействительными. Администраторы: Если эти изменения касаются вашейERDDAP™и если вашERDDAP™иметьEDDGridFromErddap и EDDTable FromErddap подписывается на удаленныйERDDAPПосле того, как вы обновитеERDDAPВашERDDAP™Вы автоматически попытаетесь подписаться на новый flagUrl, поэтому вам следует удалить старые подписки и проверить новые подписки, когда вы получите новые электронные письма для проверки подписки.
    * Сделать: если вашERDDAP™иметьEDDGridНаборы данных erdVH3 на береговых часах БобаERDDAP™Пожалуйста, измените их на новые наборы данных erdVH2018.
    * TO DO: Если вы включите какой-либо из наборов данных jplAquariusSSSERDDAP™Пожалуйста, измените "V4" вdatasetIDОт "V5".
    * Чтобы сделать:actual\\_rangeТеперь это стандартный атрибут CF. (По состоянию на CF-1.7) Это означает, что если переменная используетadd\\_offsetи/илиscale\\_factorЧтобы упаковать значения данных, затемactual\\_rangeзначения должны использовать неупакованный тип данных и быть неупакованными значениями. К сожалению, это противоречит нашим предыдущим советам. Генерировать наборы данных Xml распаковывает пакетыactual\\_rangeзначения, но это не исправит существующие наборы данных в вашемdatasets.xmlФайл.
        
Итак, пожалуйста, проверьте ваши наборы данных: если значения переменной упакованы и еслиactual\\_rangeуказывается как упакованные значения данных, пожалуйста, добавьте&lt;addAttributes&gt;actual\\_rangeзначение для указания неупакованных значений. В противном случае набор данных не будет загружаться вERDDAP. Простой и почти идеальный способ сделать это - найти ваш сайт.datasets.xmlИсточник атрибуты, которые имеют
```
        <att name="actual\\_range" type="shortList">  
        or <att name="actual\\_range" type="intList">  
```
иscale\\_factorКроме 1.0. Это те, ктоactual\\_rangeатрибуты, которые вам, возможно, придется исправить.
        
Для переменных осей вEDDGridнаборы данных,ERDDAP™всегда устанавливаетactual\\_rangeАтрибут является фактическим диапазоном значений, поскольку он знает эти значения.
        
Для переменных оси с нисходящими значениями (Например, некоторые переменные широты) ,ERDDAP™созданныйactual\\_rangeс помощью\\[0\\]...\\[последний\\]Ценности, которые были высокими... низкими. Теперь он всегда использует низкие ... высокие значения, чтобы сделать новое определение CF.
        
Правильность этогоactual\\_rangeЗначения особенно важны для наборов данных EDDTable, посколькуERDDAP™быстро отклоняет запросы пользователей на значения данных, которые меньшеactual\\_rangeминимального значения или которое превышаетactual\\_rangeМаксимальное значение.
        
Связанный: фактический \\_min, фактический \\_max,data\\_minиdata\\_maxТеперь атрибуты обесцениваются. Пожалуйста, преобразуйте ваши наборы данных для использованияactual\\_rangeВместо этого.
        
    * Делать (необязательно, но рекомендуется) : Для каждого набора данных в режиме реального времени и прогнозаERDDAP™Пожалуйста, добавьте [...]&lt;testOutOfDate&gt; (/docs/server-admin/datasets#testoutofdate) Тег со значением в формеnow-_nUnits_, например,now-2 дня. Если максимальное значение времени для набора данных старше этого значения, набор данных считается устаревшим и будет помечен как таковой на[outOfDateDatasets.html](https://coastwatch.pfeg.noaa.gov/erddap/outOfDateDatasets.html)Веб-страница. Это дает вам простой способ увидеть, когда что-то не так с источником набора данных.
    *   [Семантическая разметка наборов данных с json-ld (Джон связанные данные) ](/docs/server-admin/additional-information#json-ld)  
        ERDDAP™Сейчас использует[джон-лд (Джон связанные данные) ](https://json-ld.org)чтобы сделать ваш каталог данных и наборы данных частью[Семантическая паутина](https://en.wikipedia.org/wiki/Semantic_Web)Это идея Тима Бернерса-Ли сделать веб-контент более машиночитаемым и машинным «понятным». Поисковые системы ([Google в частности](https://developers.google.com/search/docs/data-types/datasets)) и другие семантические инструменты могут использовать эту структурированную разметку для облегчения обнаружения и индексации. Структурированная разметка json-ld выглядит как невидимая для людей&lt;сценарий код на http://.../erddap/info/index.html веб-страница (Что такое семантическая паутина[DataCatalog](https://schema.org/DataCatalog)) и на каждой http://.../erddap/info/_datasetID_/index.html веб-страница (Что такое семантическая паутина[Набор данных](https://schema.org/Dataset)) . (Особая благодарность Адаму Лидбеттеру и Робу Фуллеру из Морского института в Ирландии за то, что они проделали трудную часть работы, чтобы сделать эту часть своей жизни.ERDDAP.) 
    * Есть новые типы наборов данных, которые могут считывать данные из аудиофайлов:
        [EDDGridИз аудиофайлов](/docs/server-admin/datasets#eddfromaudiofiles)которые рассматривают аудиоданные как сетчатые данные.
        [EDDTable FromAudioFiles](/docs/server-admin/datasets#eddfromaudiofiles), который рассматривает аудиоданные как табличные данные. Спасибо Джиму Потемре, Ричу Сигнеллу, OOI и Кэрри Уолл Белл за запросы на поддержку аудио/гидрофонных файлов.
    * Изменения в генерации наборов данных Xml (и связанных с ними изменений) :
        * НЬЮ:ERDDAP™Теперь есть система для автоматического[Обновление устаревших URL](/docs/server-admin/additional-information#out-of-date-urls)Оба в генерируемых наборах данных Xml и при загрузке наборов данных. Если у вас есть предложения по дополнительным URL-адресам, которые должны быть обнаружены и обновлены, или если вы считаете, что это должно быть преобразовано в услугу. (как конвертеры) Пожалуйста, emailerd.data at noaa.gov.
        * Оригинальное название: If GenerateDatasets Xml видит CFstandard\\_name  (который должен быть ниже) с персонажем верхнего регистра, он добавляет всю версию нижнего регистра к&lt;addAttributes&gt;. Кроме того, когда набор данных загружается, еслиERDDAP™Посмотреть CFstandard\\_nameс характером верхнего регистра, он молча меняет его наstandard\\_name. Спасибо Ричу Сигнеллу.
        * Оригинальное название: If GenerateDatasets Xml видит атрибут со временем, которое не находится в формате ISO 8601, он добавляет время форматирования ISO 8601 к&lt;addAttributes&gt;. ЕслиERDDAP™не распознает формат, оставляет значение времени неизменным. Если вы видите формат, которыйERDDAP™не распознает и не исправляет, пожалуйста, отправьте его по электронной почтеerd.data at noaa.gov.
        * Усовершенствованный: код низкого уровня дляEDDGridИз Тредд Вариант каталога в GenerateDatasets Xml теперь полагается наUnidatanetcdf-java каталог crawler code (Толстяки. Каталожные классы) Чтобы он мог обрабатывать все каталоги THREDDS (которые могут быть удивительно сложными) . Спасибо Роланду Швейцеру за то, что он предложил это изменение.UnidataДля кода.
        * Оригинальное название: GenerateDatasets Xml дляEDDGridFromDap теперь добавляет «StartYear-EndYear» к концу заголовка на основе фактических значений оси времени. EndYear = «настоящее», если данные существуют за последние 150 дней.
        * Оригинальное название: GenerateDatasets Xml дляEDDGridFromDap теперь добавляет ",\\[резолюция\\]°" к названию, если набор данных равномерно расположен и одинаков для лат и lon.
        * Преобразователь времени теперь имеет дополнительные функции, в частности возможность конвертировать время строк в широком спектре распространенных форматов в строки ISO 8601 или в UDUnits-совместимое число. Все ранее поддерживаемые функции продолжают работать, без изменений.
        * BUG FIX: Генерировать наборы данных Xml и конвертер ключевых слов теперь включают «Наука о Земле» в начале ключевых слов GCMD Science. Когда набор данных загружается вERDDAP™,ERDDAP™Теперь фиксирует любые ключевые слова GCMD в атрибуте ключевых слов, которые не начинаются с «Наука о Земле» или используют что-либо, кроме заглавного дела. (где заглавна первая буква каждого слова) .
        * УПРАВЛЕНИЕ: Когда вы предлагаете&lt;destinationName&gt;'s, Генерировать наборы данных Xml для EDDTableFromAsciiFiles просто использовал хвостовой конецsourceNameс'/'  (Некоторые были похожи на файл) . Теперь он использует весьsourceName(например, "blahblahblah (m/s)"). Это изменение будет полезно для некоторых наборов данных, а не для других, но это более безопасное поведение. Спасибо Морису Либесу.
        * BUG FIX: Генерировать наборы данных Xml и конструкторы наборов данных теперь гарантируют отсутствие дублирующих имен столбцов. Спасибо Морису Либесу.
        * BUG FIX: Генерировать наборы данных Xml для EDDTableFromAsciiFiles не писал&lt;columnSeparator&gt; к выходу. Теперь так и есть. Спасибо Морису Либесу.
    * Инструмент DasDds теперь распечатывает информацию о временном разрыве (тот[TimeGaps Информация](https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#timeGaps)) Если набор данных является сетчатым набором данных.
    * Расширенный поиск теперь принимает значения времени «теперь_\\-nUnits_». Спасибо Ричу Сигнеллу.
    * Для повышения безопасности, когда адрес электронной почты в метаданных набора данных или данных записывается на веб-страницу html, «@» заменяется на « at». Это только улавливает адреса электронной почты, которые представляют собой всю ценность метаданных или данных, а не адреса электронной почты, встроенные в более длинные значения.
    * В целях повышения безопасности,RSSИнформация для частных наборов данных теперь доступна только пользователям. (иRSSчитатель) которые вошли в систему и уполномочены использовать этот набор данных.
    * НОВОСТИ: Теперь, когда набор данных загружен, еслиdate\\_created,date\\_issued,date\\_modified, или атрибут date\\_metadata\\_modified имеет временное значение, которого нет в формате ISO 8601,ERDDAP™Внесение изменений в форматированное время ISO 8601. ЕслиERDDAP™не распознает формат, оставляет значение времени неизменным. Если вы видите формат, которыйERDDAP™не распознает и не исправляет, пожалуйста, отправьте его по электронной почтеerd.data at noaa.gov.
    * Проверено: .dods отзывыEDDGridТеперь наборы данных должны быть значительно быстрее. Спасибо Ричу Сигнеллу.
    * Изменения, связанные сERDDAPСоздание документов ISO 19115:
        * BUG FIX: при создании документов ISO 19115dataVariableЕдиницы не были закодированы HTML-атрибутом, а процент закодирован. Теперь они есть. Благодаря валидатору ISO 19115 NGDC.
        * BUG FIX: при создании документов ISO 19115date\\_createdИспользуется как есть, поэтому часто был неправильный формат. Теперь она преобразована в строку ISO 8601 Z. Благодаря валидатору ISO 19115 NGDC.
        * BUG FIX: при создании документов ISO 19115ERDDAP™Теперь больше пишет даты с годом = 0000 (Как и наборы данных климатологии) Схема ISO 19115 не допускает даты с годом = 0000. Благодаря валидатору ISO 19115 NGDC.
    * НОВОСТИ: Как и прежде, просьбаhttp.../erddap/version возвращает только номер версии (как текст) Например, "ERDDAP\\_version=1.82".
Теперь просьба кhttp.../erddap/version\\_string возвращает номер и дополнительный суффикс '\\_' плюс текст ASCII (Никаких пробелов или управляющих персонажей) Например, "ERDDAP\\_version\\_string=1.82\\_JohnsFork". Люди, делающие вилку, укажут это, изменив EDStatic.erddapVersion. Такой способ не создает проблем для предыдущих версий.ERDDAP. Благодаря аксиоме (В частности, Кайл Уилкокс) Ирландский морской институт (В частности, Роб Фуллер) .
    * BUG FIX: Для wms версии=1.3.0, запрос=GetMapcrs=EPSG:4326 (Не CRS:84) Запросы: заказ на коробку должен быть minLat,minLon,maxLat,maxLon. Для запросов CRS:84, как и раньше, заказ на коробку должен быть minLon,minLat,maxLon,maxLat. Это можно исправить с помощьюERDDAP?WMS1.3.0 ОбслуживаниеArcGIS  (Спасибо Paola Arce) . Спасибо. (не) тоOGCЧтобы сделать это таким сложным. БлагодаряLeafletДля того, чтобы справиться с этим правильно и дать мне возможность проверить это.
    * УПРАВЛЕНИЕ: Предыдущее, предлагаемая ссылка дляRSSПодписка на электронную почту имеетhttpURL для вашегоERDDAP. Теперь этоhttpsURL, если он активен.
    * НЬЮ:EDDGridCopy теперь поддерживает дополнительный тег&lt;Только с _someValue_&lt;/onlySince&gt;, где значение представляет собой определенное время форматирования ISO-8601 илиnow-единицы (например,now-2 года) Время. Видишь?[только С тех пор документация](/docs/server-admin/datasets#onlysince). Спасибо Дрю П.
    * Усовершенствовано: если доступно,ERDDAP™Показать будетhttpsURL (от англ.&lt;baseHttpsUrl&gt;, если таковой имеется) вместоhttpURL, когда он сообщает пользователям URL, чтобы добавить / подтвердить / удалить / перечислить подписку.
    * BUG FIX:ERDDAP™теперь позволяет начать действие по подписке с " https://" . (Боб хлопает в лоб.) Спасибо Дженнифер Севаджян.
    * BUG FIX:.jsonlKVPтеперь использует ":" между каждым ключом и значением вместо'='. (Боб хлопает в лоб.) Спасибо Александру Барту.
    * BUG FIX: Раньше, если вы перезапустилиERDDAP™с QuickRestart=true, и если перед обычной перезагрузкой набора данных вы сделали вызов набору данных EDDTableFromFiles, в котором использовалось обновление EveryNMillis, и если файл данных только что был изменен, запрос потерпит неудачу с ошибкой нулевого указателя. Теперь просьба будет успешной. Спасибо Джону Керфуту.
    * НОВОСТИ: Когда набор данных загружается вERDDAP™Ключевые слова теперь перегруппированы в отсортированный порядок, и любые символы новой линии удаляются.
    * Теперь, если .geoJson,.jsonили.ncЗапросы OJSON.jsonp параметр, тип ответной мимы - приложение/джаваскрипт. Обратите внимание, что.jsonp не поддерживается.jsonlCSVили.jsonlKVPПотому что это не сработает. Спасибо Робу Фуллеру.
    * Тип мима для json lines fileType теперь называется «приложение/x-jsonlines». Это приложение/jsonl. В настоящее время нет окончательного правильного выбора.
    * Количество неудавшихся запросов, отображаемых на странице status.html, будет увеличиваться, потому что больше вещей считаются сбоями, чем раньше, например, ClientAbortException.
    * Ответ: Теперь, если ответERDDAP™не сжимается, тогда заголовок ответа будет включать «Контент-кодирование» = «идентификация».
    * УПРАВЛЕНИЕ: Атрибут «лицензии» не требовался. Теперь, если это не указано, стандартная лицензия от messages.xml (или setup.xml при наличии) Используется как дефолт.
    * НОВОСТИ: В настоящее время существует опция[атрибут fileAccessSuffix](/docs/server-admin/datasets#fileaccessbaseurl)которые могут быть использованы при существующих[атрибут fileAccessBaseUrl](/docs/server-admin/datasets#fileaccessbaseurl).
    * УПРАВЛЕНИЕ: Для повышения безопасности эта версия была скомпилирована с последнейJavaJDK v8u162.
    * Для повышения безопасности несколько распространенных доменов, которые предлагают временные адреса электронной почты (например, @mailinator.com) Теперь они находятся в постоянном черном списке электронной почты для системы подписки.
    * НЬЮ-ЙОРК: Чтобы повысить безопасность, результаты в Daily Report теперь включают:
SetDataset IP-адрес флага не работает (Последний ежедневный отчет)   
SetDataset IP-адрес флага не работает (С момента запуска)   
SetDataset IP-адрес флага успешно (Последний ежедневный отчет)   
SetDataset IP-адрес флага успешно (С момента запуска)   
"Неудачные" подсчеты позволяют увидеть, кто (Хакер?) Он пытается установить флаг, но терпит неудачу.
    * Улучшено: для повышения безопасности, адреса электронной почты в&lt;ПодпискаEmailBlacklist&gt; в вашемdatasets.xmlВ настоящее время они считаются нечувствительными к делу.
         

## Версия 1.80{#version-180} 
 (Выпущено 2017-08-04) 

*    **Новые особенности (для пользователей) :**   
     
    * НОВОСТИorderByCount () Фильтр позволяет указать, как будет сортироваться таблица результатов (или нет) и просто возвращает одну строку для каждой сорт-группы с подсчетом числа непропущенных значений для каждой переменной.
Например,orderByCount ("stationID") будет сортироватьstationIDВозвращать по одной строке для каждогоstationID, с подсчетом числа непропущенных значений для каждой переменной.
Если просто указатьorderByCount ("") , ответ будет составлять всего одну строку с числом непропущенных значений для каждой переменной данных.
Видишь?[orderBy... документация](https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#orderBy)Спасибо Бену Адамсу.
    * НОВОСТИ.ncФайл Джейсона Вариант типа для сетчатых и табличных наборов данных. Этот вариант делаетNCOlvl=2 «педантичный» файл JSON со всей информацией, обычно находящейся в.ncФайл. Видишь?[ http://nco.sourceforge.net/nco.html#json ](https://nco.sourceforge.net/nco.html#json)Спасибо Чарли Зендеру.
    * BUG FIX: TheorderBy... () Опции на веб-странице Make A Graph теперь обрабатываются правильно.
    * BUG FIX: вывод .geoJson теперь не печатает строки, где отсутствуют значения lat или lon. Кроме того, значения высоты (Если доступно) Теперь они включены в координаты, а не в качестве значений данных. Спасибо Джонатану Уилкинсу.
         
*    **ВещиERDDAP™Администраторы должны знать и делать:**   
     
    * Безопасность: Библиотека Protocols.js используется дляOpenLayersДемонстрация наWMSстраницы вERDDAP™Он устарел и имеет ошибку, которая потенциально позволяет его неправильно использовать. (К сожалению, обновлениеOpenLayersи протоколов. Это не просто.) Это открывает возможность создания библиотеки для обеспечения межсайтовой уязвимости. Однако, посколькуERDDAP™использует толькоOpenLayersв конкретном предустановленном виде и только с конкретнымERDDAP- на основе источников данных, мы считаем, что нет межсайтовой уязвимости вERDDAPиспользованиеOpenLayersОднако, если вы не верите в это, вы можете отключить использованиеOpenLayersДемонстрация наWMSстраницы вашегоERDDAP™путем добавления
```
        <openLayersActive>false</openLayersActive>  
```
Введите файл setup.xml. Дефолт является «истинным». Спасибо Чарльзу Карлтону и NCEI.
    * Неиспользуемые файлы .jar и дубликаты файлов .jar (Они также находятся в netcdfAll.jar.) были удалены изERDDAP™распределения. Обновлены устаревшие файлы .jar. Спасибо Чарльзу Карлтону и NCEI.
    * Безопасность меняется: Файл netcdfAll.jar, распространяемыйERDDAP™Это последняя версия (В настоящее время 4.6.10) Но он по-прежнему содержит внутренние файлы jackson.jar, которые, как известно, являются устаревшими и имеют уязвимости безопасности, в частности библиотеки Jackson, которые используются только при доступе к источникам данных Amazon S3. Если вы не получаете доступ к данным через Amazon S3 (Вы бы знали, если бы были) Эти уязвимости не актуальны.
        
Разработчики Netcdf-java утверждают, что эти уязвимости не актуальны из-за того, как код Netcdf использует эти библиотеки, и в любом случае будут актуальны только при доступе к Amazon S3. Видишь?[ https://github.com/Unidata/thredds/issues/866 ](https://github.com/Unidata/thredds/issues/866). Я им верю. Если у вас все еще есть опасения по этому поводу, пожалуйста, свяжитесь с разработчиками netcdf-java. (Обратите внимание, что если вы не верите разработчикам netcdf-java и планируете не использоватьERDDAP™Из-за этого вы также не должны использовать THREDDS, потому что THREDDS использует netcdf-java более фундаментально и более широко, чем THREDDS.ERDDAP.) 
        
Подробности: Неприятный код и предупреждения об уязвимостях:
netcdfAll-latest.jar/META-INF/maven/com.fasterxml.jackson.core/jackson-databind/pom.xml
Видишь? https://nvd.nist.gov/vuln/detail/CVE-2016-7051 - высокий
netcdfAll-latest.jar/META-INF/maven/com.fasterxml.jackson.dataformat/jackson-dataformat-cbor/pom.xml
Видишь? https://nvd.nist.gov/vuln/detail/CVE-2016-7051 - высокий
netcdfAll-latest.jar/META-INF/maven/com.fasterxml.jackson.core/jackson-annotations/pom.xml
Видишь? https://nvd.nist.gov/vuln/detail/CVE-2016-7051 - высокий
Видишь? https://nvd.nist.gov/vuln/detail/CVE-2016-3720 - Критический
netcdfAll-latest.jar/META-INF/maven/com.fasterxml.jackson.core/jackson-core/pom.xml
Видишь? https://nvd.nist.gov/vuln/detail/CVE-2016-7051 - высокий
Видишь? https://nvd.nist.gov/vuln/detail/CVE-2016-3720 - Критический
Для версии 4.6.10, aws-java-sdk-core тянет в версии 2.6.6 артефактов Джексона. (Электронная почта от Netcdf-java) .
Спасибо Чарльзу Карлтону и NCEI.
        
    * Смена компилятора: Если вы рекомпилируетеERDDAP™Обратите внимание, что параметр -cp classpath, необходимый для командной строки, теперь намного короче, чем раньше. Посмотреть новый -cp Setting in[Эта документация](/docs/contributing/programmer-guide#development-environment). Спасибо Чарльзу Карлтону и NCEI.
    * Новый вариант в GenerateDatasets Xml: EDDTableFromBcodmo, который предназначен только для внутреннего использования в BCO-DMO.
Спасибо Адаму Шепарду и BCODMO.
    * НОВЫЙ АТТРИБУТ И ФИТАФ: Если колонка EDDTable имеет имена файлов веб-доступных файлов (например, изображение, видео или аудио файлы) Вы можете добавить
```
        <att name="fileAccessBaseUrl">_someBaseURL_</a>  
```
Указать базовый URL (Конец с /) Нужно было сделать имена файлов в полные URL. Тогда для.htmlTableответы,ERDDAP™покажет имя файла как ссылку на объединенный URL (основание Url + имя файла) .
Если ты хочешьERDDAP™Чтобы обслуживать связанные файлы, сделайте отдельный набор данных EDDTableFromFileNames для этих файлов. (Это может быть частный набор данных.) .
Спасибо Адаму Шепарду и BCODMO.
    * РЕКОМЕНДАЦИЯ НОВОГО АТТРИБУТА: Если колонка EDDTable имеет имена файлов, доступных в Интернете (например, изображение, видео или аудио файлы) которые доступны через архив (например,.zipфайл) доступный через URL, использовать
```
        <att name="fileAccessArchiveUrl">_theURL_</att>  
```
Укажите URL для архива.
Если ты хочешьERDDAP™Чтобы обслуживать архивный файл, сделайте отдельный набор данных EDDTableFromFileNames для этого файла. (Это может быть частный набор данных.) .
Спасибо Адаму Шепарду и BCODMO.
    * Улучшения для генерации наборов данных Xml для устранения причин недействительных / плохих&lt;subsetVariables&gt; предложения и дубликаты/плохие предложенные переменные имена и т.д. Спасибо Ричу Сигнеллу, Адаму Шепарду и BCO-DMO.
    * НОВЫЙ ВОПРОС: Политическая информация, распространяемая сERDDAPявляется от третьего лица и несколько устаревшим. Также существуют спорные границы в нескольких местах мира, где разные люди будут иметь разные представления о том, что правильно. Мы не делаем никаких заявлений о правильности политических данных, которые приходят сERDDAP. Если вам не нравится информация о политических границахERDDAP™Теперь вы можете сказатьERDDAP™Никогда не рисовать политические границы, добавляя
```
        <politicalBoundariesActive>false</politicalBoundariesActive>  
```
Введите файл setup.xml. Дефолт является «истинным». Спасибо Раджу Девендеру.
    * НОВЫЙ ТАГ МЕТАДАТА: В этомdatasets.xmlДля набора данных теперь можно указать номер цвета по умолчанию Барные секции для adataVariableна графиках и картах с
```
        <att name="colorBarNSections">_anInteger_</att>  
```
         (Дефолт = 1, который говорит, чтобы позволитьERDDAP™решать) . Видишь?[цвет Барные настройки](/docs/server-admin/datasets#color-bar-attributes).
    * Усовершенствовано: государственный пограничный цвет на картах был фиолетовым (Deep Purple для детей-бумеров) . Теперь он серый (между серой национальной границей и серой землей) .
    * BUG FIX:&lt;Изо19115 Файлы и&lt;fgdcFile вdatasets.xmlНе всегда обращались правильно. Теперь они есть. Спасибо BCO-DMO.

## Версия 1.78{#version-178} 
 (Выпущено 2017-05-27) 

*    **Новые особенности (для пользователей) :**   
     
    *    (ни одного)   
         
*    **ВещиERDDAP™Администраторы должны знать и делать:**   
     
    * Порядок строк в «Major LoadDatasets Time Series» на странице status.html теперь самый новый сверху и самый старый внизу.
    * BUG FIX:ERDDAP™Сейчас пишет.nccsvФайлы с переменной времениactual\\_rangeСтандарт ISO-8601 String Time. Это исправляет ошибку с помощью EDDTableFromErddap, анализирующей информацию из удаленного набора данных и из файла QuickRestart для всех наборов данных EDDTableFrom...Files. (Времяactual\\_rangeбудет неправильной при первой загрузке набора данных в v1.78, но правильной после его перезагрузки, например, если вы пометите набор данных.) 

## Версия 1.76{#version-176} 
 (Выпущено 2017-05-12) 

*    **Новые особенности (для пользователей) :**   
     
    * Изменения в Tomcat: По просьбамERDDAP™исходит от программного обеспечения, отличного от веб-браузеров (например,curlР,Matlab,Python,Java) :
Как и предыдущие изменения в версиях Tomcat (Программное обеспечение нижнего уровня, которое работаетERDDAP) С начала 2016 года все больше и больше символов в части запроса URL-адреса должны[ **Процент закодированных** ](/docs/server-admin/datasets#infourl)По соображениям безопасности. Браузеры заботятся о процентах кодирования для вас. использоватьERDDAP™в браузере не затрагивается, если запрос не перенаправлен на другойERDDAP.
    * Усовершенствовано: ранееERDDAP™лечить **переменные char** Больше похоже на неподписанные короткие целые числа, чем на символы. Теперь они больше похожи на 1-символьную UCS-2 (Уникод) Струны. Видишь?[char документация](/docs/server-admin/datasets#char). Спасибо Орели Брайанд и проекту Argo.
    * Усовершенствовано: ранееERDDAP™Незначительная поддержка **Однозначные символы** Над персонажем #255 в струнах. Теперь, внутри,ERDDAP™Полностью поддерживает 2-байтовые процессоры UCS-2 (символы с номерами от 0 до 65535) в струнах. Когда данные String записываются в различные типы файлов,ERDDAP™Он делает все возможное, чтобы поддерживать 2-байтовые процессоры. Другой пример - файлы .csv, которыеERDDAP™Об этом сообщает ISO-8859-1 Charset. (1-байтовый шарсет) ТакERDDAP™пишет любые символы выше символа #255 с JSON-подобным синтаксисом \\u_hhhh_. Видишь?[Струнные данные](/docs/server-admin/datasets#string).
    * Улучшено: In.ncФайлы, написанныеERDDAP™, переменные char, которые следует интерпретировать как строки, будут иметь атрибут
         **Кодирование = ISO-8859-1**   
в.ncфайлы, прочитанныеERDDAP™, переменные char с "\\_Encoding" будут интерпретироваться как строки с указанным charset.
    * Напоминаем:ERDDAP™поддержка **JSON-подобное backslash-кодирование** специальных символов, когда вы указываете ограничения переменных char и String. Таким образом, вы можете запросить что-то вроде &myString="\\u20ac", когда вам нужны строки данных, где myString=€, поскольку 20ac является шестнадцатеричной версией кодовой точки для символа евро. Несколько источников в Интернете показывают номера точек кода для символов Unicode, например,[ https://en.wikipedia.org/wiki/Unicode ](https://en.wikipedia.org/wiki/Unicode).
    * Усовершенствовано: ранееERDDAP™Ограниченная поддержка **длинное целое число** переменных. ТеперьERDDAP™Полностью поддерживает длинные файлы внутри и делает все возможное при записи длинных данных в различные типы файлов. Видишь?[Длинная документация](/docs/server-admin/datasets#long). Благодаря Ирландскому морскому институту, Крейгу Рисиену, Ричу Синьеллу, Кристоферу Вингарду и OOI.
    * НОВОСТИ: тип выходного файла для griddap иtabledap: **.nccsv** которая делает aNetCDF-подобно ASCII, CSV файлу, который также содержит все метаданные, которые были бы в сопоставимом файле..ncФайл. Видишь?[NCCSV Спецификация](/docs/user/nccsv-1.00). Спасибо Стиву Хэнкину.
    * НЬЮ: **orderByClosestфильтр** позволяет указать, как будет сортироваться таблица результатов и интервал (Например, 2 часа) . В каждой сортировочной группе будут сохранены только строки, наиболее близкие к интервалу. Например,orderByClosest ("stationIDВремя, 2 часа".) будет сортироватьstationIDи время, но только верните строки для каждогоstationIDгде последнийorderByколонка (время) Ближе всего к 2-часовым интервалам. Это самая близкая вещь вtabledapПеремещать значения в запросе griddap. Эта опция может быть указана через любойtabledapВеб-страница .html, веб-страница .graph и любой URL-адрес, который вы создаете сами. Ирландский морской институт и сеть океанов Канады.
    * НЬЮ: **orderByLimitфильтр** Позволяет указать, как будет отсортирована таблица результатов и предельное число (Например, 100) . В каждой сортировочной группе будут сохранены только первые «лимитные» строки. Например,orderByMax ("stationID100".) будет сортироватьstationID, но возвращают только первые 100 строк для каждогоstationID. Это похоже на пункт LIMIT SQL. Эта опция может быть указана через любойtabledapВеб-страница .html, веб-страница .graph и любой URL-адрес, который вы создаете сами. Ирландский морской институт и сеть океанов Канады.
    * Два новых типа файлов ответа **.jsonlCSVи.jsonlKVP** доступны для запросов к сетчатым наборам данных, табличным наборам данных и многим другим местам вERDDAP  (например, запросы информации о наборах данных) . Файлы - это файлы JSON Lines. ([ https://jsonlines.org/ ](https://jsonlines.org/)) Каждая линия имеет отдельный объект JSON..jsonlCSVПросто имеет значения в формате CSV..jsonlKVPЕсть ключ: Пары ценностей. Каждая линия стоит сама по себе. Линии не заключены в больший массив JSON или объект. Например, см.[Этот образец запроса](https://coastwatch.pfeg.noaa.gov/erddap/tabledap/pmelTaoDySst.jsonlKVP?longitude%2Clatitude%2Ctime%2Cstation%2Cwmo_platform_code%2CT_25%26time%3E=2015-05-23T12:00:00Z%26time%3C=2015-05-31T12:00:00Z). Спасибо Дамиану Смиту, Робу Фуллеру, Адаму Лидбеттеру и Морскому институту Ирландии.
    * НОВОСТИ: Появились новые документы, описывающие[ **Как получить доступ к частным наборам данныхERDDAP™через скрипты** ](/docs/user/AccessToPrivateDatasets). Спасибо Линн ДеВитт.
    * Недостаток: минимальный размер **OpenLayers** Карта составляла 2 градуса и теперь составляет 4 пикселя данных. Спасибо Расти Холлеману.
    * УПРАВЛЕНИЕ: В некоторых распространенных случаях запросы, которые включают: **регулярное выражение** Ограничения будут обрабатываться намного быстрее.
         
*    **ВещиERDDAP™Администраторы должны знать и делать:**   
     
    *    **Первый медленный старт:** Когда вы впервые запустите эту новую версию, это займет много времени.ERDDAP™Загрузить все наборы данных, потому что он должен перечитать все исходные файлы данных. (Хотя только заголовок для сетчатых файлов данных) . Если вы посмотрите на журналы, вы можете увидеть сообщения об ошибках, в которых говорится «старая / неподдерживаемая расширенная версия» некоторых внутренних файлов.ERDDAP™Мы создадим новые версии внутренних файлов. Пожалуйста, будьте терпеливы.
    * Действие:ERDDAP™Сейчас используется новый **время** классы (Также известен как JSR 310.) Вместо Джоды разобрать струнные времена на числовые. Примечания:
        * ЕслиERDDAP™Внезапно возникают проблемы с разбором времени струн для заданного набора данных и, таким образом, просто преобразует большинство или все время в NaN. (Недостающие ценности) Проблема почти всегда заключается в дате. Строка формата времени, которую вы указали как «единицы» переменной. Для новой системы иногда требуется несколько иная строка формата dateTime.
        * Если числовые месяцы и дни в строках dateTime не 0-padded (Например, "3/7/2016") Убедитесь, что формат имеет только один M и d. (Например, "M/d/yyyy", а не "MM/dd/yyyyy") .
        * Измените любую спецификацию дробных секунд, которая использует строчную s (Например, ssss inyyyy-MM-ddНазвание:mm:ss.sss) В столицу С, (например,yyyy-MM-dd'T'HH:mm:ss.SSS) .
        *   ERDDAP™Больше не поддерживается дата Форматы времени с двузначными годами (yy) Подразумеваемый век (Например, 1900 или 2000) . Компании потратили миллиарды долларов на решение этой проблемы в конце 1990-х годов. Ученые не должны использовать двухзначные годы. Пожалуйста, исправьте исходный файл (s) путем преобразования в 4-значные годы, затем используйте yyyy в дате Формат времени.
        * Вы можете использовать Yyyy или YYYY (которыйERDDAP™Преобразуется в uuuu) для разбора 4-значных лет, включая отрицательные годы, например, -4712 (4713 г. до н.э.) . Благодаря SeaDataNet, Томасу Гарднеру и BODC.
        * Пожалуйста, продолжайте использовать Z в формате dateTime, чтобы получитьERDDAPЧтобы сравнять время (например, Z, +0200, -08, -0800, -08:30) .
        *    **Убедитесь, что вы используетеJavaВерсия 1.8.0_21 или выше.** 
        * Программисты - Если вы пишетеJavaПрограммы, которые работаютERDDAP™Код, нужно удалить ссылку на joda-time. баночка в параметре классового пути.
    * НЬЮ:ERDDAP?[Архивы Инструмент набора данных](/docs/server-admin/additional-information#archiveadataset)Теперь можно создавать[ **Файлы BagIt** ](https://en.wikipedia.org/wiki/BagIt). NCEI может стандартизировать этот формат. Спасибо Скотту Кроссу и Джону Рельфу.
    * IMPROVED: ссылки для загрузки erddap. Война противERDDAP™Веб-страницы теперь указывают на **GitHub** . (Это публичные ссылки, поэтому вам не нужно присоединяться к GitHub.) Это означает гораздо более быстрые загрузки (до 12 Мб/с против 1 Мб/с) Мало проблем с загрузкой. Благодаря Дамиану Смиту, Робу Фуллеру, Адаму Лидбеттеру, Конору Делани и Ирландскому морскому институту.
    * Продвинутый: **status.html и ежедневная электронная почта** Теперь включите раздел «Серия временных рядов основных наборов данных», который показывает статистику оERDDAP™По состоянию на конец каждого основного набора данных для последних 100 основных наборов данных. Спасибо за наш неприятный рейд.
    * Новый: новый, факультативный (Но рекомендуется) параметр для наборов данных EDDTableFromCassandra: [ ** &lt;Раздел KeyCSV&gt; ** ] (/docs/server-admin/datasets#partitionkeycsv) . Об этом сообщает Ocean Networks Canada.
    * EDDTableFromAsciiFiles теперь поддерживает ** &lt;столбец Разделитель&gt; ** параметр. Если нуль или «», класс угадает, как и раньше, В противном случае первый символ будет использоваться в качестве разделителя столбцов при чтении файлов. Спасибо Sky Bristol и Эбигейл Бенсон.
    * Новый тип набора данных,[ **EDDTable FromNccsvFiles** ](/docs/server-admin/datasets#eddtablefromnccsvfiles), может сделать набор данных путем агрегирования[Файлы NCCSV.csv](/docs/user/nccsv-1.00). Спасибо Стиву Хэнкину.
    * Усовершенствовано: **EDDTable FromErddap** Сейчас использует.nccsvПолучение информации из удаленногоERDDAPs и для локального архива этой информации метаданных. Это позволяет полностью поддерживать char и длинные типы данных, а также Unicode. (UCS-2) Шарсет для колесниц и струн. Спасибо Робу Фуллеру и Морскому институту Ирландии.
    * Усовершенствовано: EDDTable FromErddap иEDDGridПоддержка от Erddap теперь ** &lt;Перенаправление&gt;фальшивый&lt;/redirect&gt; ** который говоритERDDAP™Никогда не перенаправлять запрос на пультERDDAP. Дефолт - это правда. Это полезно, когда удаленныйERDDAP™является частнымERDDAP. Спасибо Дэмиану Смиту, Робу Фуллеру и Морскому институту Ирландии.
    * Усовершенствовано:ERDDAP™Теперь ловят **Отмененные запросы пользователей** Скорее. ИERDDAP™Теперь он отключается быстрее, потому что потоки низкого уровня отключаются быстрее. Спасибо за наш неприятный рейд.
    *    **Генерировать наборы данных Xml:** 
        * Новый специальный EDDType «ncdump» печатает[слияние](https://linux.die.net/man/1/ncdump)\\-подобная распечатка заголовка.ncФайл. Вы также можете распечатать значения данных для заданных переменных. (или ввести «ничего», чтобы не печатать значения данных) . Это полезно, потому что без ncdump трудно узнать, что находится в файле и, таким образом, какой EDDType вы должны указать для GenerateDatasetsXml. Спасибо Крейгу Рисиену, Ричу Синьеллу, Кристоферу Вингарду и OOI.
        * Оригинальное название: SeaData Чистые данные:
При необходимости генерировать наборы данных Xml теперь выполняет специфическое семантическое преобразование с использованием удаленного запроса SPARQL: если исходные метаданные переменной включают в себя sdn\\_parameter\\_urn, например, sdn\\_parameter\\_urn = "SDN:P01::PSLTZZ01", GenerateDatasets Xml добавит соответствующий атрибут P02, например, sdn\\_P02\\_urn = "SDN:P02::PSAL". Если у вас есть наборы данных, которые используют эти атрибуты, и если выERDDAP?&lt;categoryAttributes&gt; в setup.xml включены sdn\\_parameter\\_urn и sdn\\_P02\\_urn, пользователи смогут использоватьERDDAP™Поисковая система категорий для поиска наборов данных с конкретными значениями этих атрибутов. Спасибо БОДК и Александре Коккинаки.
        * Усовершенствовано: Генерировать наборы данных Xml меняет многиеhttp://ссылки в метаданных наhttps://когда это уместно.
        * Усовершенствовано: Генерировать наборы данных Теперь Xml пытается угадать тип создателя и тип издателя.
        * Усовершенствованные: типы данных переменной, предложенные GenerateDatasets Теперь XML будет немного лучше. Спасибо Маргарет О'Брайен, LTER и EML.
        * Усовершенствовано: Генерировать наборы данных Xml лучше определяет&lt;cdm\\_data\\_type&gt; и добавление соответствующих требуемых атрибутов (например,&lt;cdm\\_timeseries\\_variables&gt;), так что вы можете предоставить эту информацию. Спасибо Ричу Сигнеллу.
        * Усовершенствовано: в генерируемых наборах данных Xml, для наборов данных EDDTable, предложение для&lt;subsetVariablesСейчас он гораздо более консервативен. Спасибо Джону Керфуту.
        * Усовершенствовано: еслиdatasets.xmlДля наборов данных указываетсяfeatureTypeно не cdm\\_data\\_type,featureTypeИспользуется как cdm_data_type. Спасибо Ричу Сигнеллу.
        * BUG FIX: генерировать Наборы данных Xml предлагает правильную&lt;DataType для переменных данных, имеющихscale\\_factor,add\\_offsetи/или \\_ Неподписанные атрибуты.
    * Улучшение: когдаERDDAP™открывается a.ncфайл, который является **короче** чем предполагается быть (Например, он не был полностью скопирован на место.) ,ERDDAP™Теперь он считает файл плохим. Раньше,ERDDAP™возвращает недостающие значения для любой недостающей части файла, потому что это поведение по умолчанию для netcdf-java.ERDDAP™Использует Укар.nc2.iosp.netcdf3.N3header.disallowFileTruncation = истинно; Спасибо за наш неприятный рейд и Кристиану Уорд-Гаррисону.
    * ИСО 19115 Автор теперь использует **Разработчик:type** Если присутствует.
    * Усовершенствовано:ERDDAP™В настоящее время используется новейший netcdf-java v4.6.9, который может читать дополнительные типы файлов. **файлы netcdf-4** . Спасибо Крейгу Рисиену, Ричу Синьеллу, Кристоферу Вингарду и OOI.
    * BUG FIX: Избегайте проблем, если разные исходные файлы имеют разные типы данных для данной переменной. Спасибо Рою Мендельсону и Юджину Бургеру.
    * BUG FIX: **Конверсии формата времени** Теперь они лучше защищены от плохих временн... Спасибо NDBC.
    * BUG FIX:EDDGridИз NcFiles Unpacked теперь обрабатывает значения времени **«Месяцы с...» и «годы с...»** правильно (путем увеличения месяца или года, а не путем грубого добавления, например, 30 дней повторно) . Благодаря Soda3.3.1.
    * BUG FIX: только в v1.74, **подписка** Требуется действие (например,http://...) которая была и должна быть факультативной.
    * BUG FIX:EDDGridИз MergeIRFiles.lowGetSourceMetadata () Он не добавил никаких глобальных атрибутов. Теперь так и есть.
         

## Версия 1.74{#version-174} 
 (Выпущено 2016-10-07) 

*    **Новые особенности (для пользователей) :**   
     
    * Теперь, когда список наборов данных (Все или из поиска) отображается на веб-странице, длинные заголовки отображаются на нескольких строках. Ранее середина длинного титула была заменена на «...». Спасибо Маргарет О'Брайен, LTER и EML.
         
*    **ВещиERDDAP™Администраторы должны знать и делать:**   
     
    * TO DO: На компьютерах Linux измените настройки тайм-аута Apache, чтобы отнимающие много времени запросы пользователей не отставали. (часто появляется как ошибка «Прокси» или «Плохой шлюз») . Как корневой пользователь:
        
        1. Модифицировать Apachehttpd.conf файл (обычно в /etc/httpd/conf/) :
Изменить существующее&lt;Настройка Timeout (Добавить в конце файла) до 3600 (секунды) Вместо стандартных 60 или 120 секунд.
Изменить существующее&lt;ProxyTimeout устанавливать (Добавить в конце файла) до 3600 (секунды) Вместо стандартных 60 или 120 секунд.
        2. Перезапуск Apache: /usr/sbin/apachectl -к грациозный (Но иногда он находится в другом каталоге.) .
        
Спасибо Томасу Оливеру.
         
    * НЬЮ:\\[BigParentDirectory/Hard Каталог флагов
Это работает как каталог флагов, но версия hardFlag также удаляет всю кэшированную информацию о наборе данных. Нет URL-адресов для установки жесткого флага. Это может быть использовано только путем размещения файла в этом каталоге.
твердый Флаги очень полезны, когда вы делаете что-то, что вызывает изменения в том, как это сделать.ERDDAP™считывает и интерпретирует исходные данные, например, при установке новой версииERDDAP™или когда вы внесли определенные изменения в определение набора данныхdatasets.xml. Видишь?[Эта документация](/docs/server-admin/additional-information#hard-flag). Спасибо Джону Керфуту и всем группам Арго.
         
    * Оригинальное название: GenerateDatasets Xml теперь имеет опцию EDDTableFromEML
который читает описание набора данных на экологическом языке метаданных (ЭМЛ) файл, загружает соответствующий файл данных и генерирует частьdatasets.xmlЧтобы набор данных мог быть добавленERDDAP. Существует также EDDTableFromEMLBatch, который делает то же самое для всех файлов EML в каталоге. Это очень хорошо работает, потому что EML отлично описывает набор данных и потому что KNB и LTER делают фактические файлы данных доступными.
EML плюсERDDAP™Это может быть отличное сочетание, так какERDDAP™Это может дать пользователям более прямой доступ к богатству данных KNB и LTER и помочь этим проектам соответствовать требованиям правительства США.[Публичный доступ к результатам исследований (ПАРР) требования](https://nosc.noaa.gov/EDMC/PD.DSP.php)сделать данные доступными через веб-сервис.
Видишь?[Эта документация](/docs/server-admin/EDDTableFromEML). Спасибо Маргарет О'Брайен, LTER и EML.
         
    * Оригинальное название: GenerateDatasets Xml теперь имеет опцию EDDTableFromInPort
который считывает описание набора данных в файле InPort XML и пытается сгенерировать фрагментdatasets.xmlЧтобы набор данных мог быть добавленERDDAP. Это редко создает готовый к использованию фрагмент XML.datasets.xmlНо это создаст хороший черновик, который является хорошей отправной точкой для редактирования человеком.
Было бы здорово, если бы люди, использующие InPort для документирования своих наборов данных, также использовали быERDDAP™сделать реальные данные доступными черезERDDAPвеб-сервисы и, таким образом, отвечают требованиям правительства США иNOAA?[Публичный доступ к результатам исследований (ПАРР) требования](https://www.whitehouse.gov/blog/2013/02/22/expanding-public-access-results-federally-funded-research)сделать данные доступными через веб-сервис. Это решение, которое можно использовать прямо сейчас. (erd.data at noaa.govРад помочь.)   
Видишь?[Эта документация](/docs/server-admin/datasets#eddtablefrominport). Спасибо Эвану Хауэллу и Мелани Абекассис.
         
    * Усовершенствовано:ERDDAP™Теперь используется netcdf-java 4.6.6.
С более ранними версиями netcdf-java читает некоторые значения заполнения. (Возможно, только в файлах netcdf-4) как 0. Теперь он читает некоторые из них как стандартное значение заполнения netcdf: -127 для байтов, -32767 для шортов, -2147483647 для интов.UnidataНовое поведение — это правильное поведение. Если переменная в наборе данных начинает показывать одно из этих значений, где они использовались для отображения 0, вы можете добавить, например,
```
        <att name="\\_FillValue" type="short">-32767</att>  
```
Для переменнойaddAttributesрассказыватьERDDAP™рассматривать эту ценность какmissing\\_value/\\_Заполнить Ценность. Однако во многих случаях это не даст желаемого результата: 0. Если это так, подумайте об изменении файлов с помощьюNCOили переписывать файлы. Жалобы? Пожалуйста, свяжитесьUnidata;-
         
    * Оригинальное название: New TopographyDepth Palette
Я призываю вас переключить все наборы данных, которые используют палитру OceanDepth, на новую палитру TopographyDepth, которая похожа на Topography, за исключением перевернутых цветов, так что она подходит для значений глубины. (Положительный = вниз) вместо высотных значений (Положительный =) . Рекомендуемые настройки для этой палитры:
```
            <att name="colorBarMaximum" type="double">8000.0</att>
            <att name="colorBarMinimum" type="double">-8000.0</att>
            <att name="colorBarPalette">TopographyDepth</att> 
```

    * Новая фотография: Струнаmissing\\_valueи/или \\_FillValue
Если переменная строки определяетmissing\\_valueи/или _FillValue,ERDDAP™Теперь эти значения будут удалены из данных и заменены пустой строкой, так что недостающие значения будут отображаться как пустые строки, как и в других наборах данных.ERDDAP. Спасибо Маргарет О'Брайен, LTER и EML.
         
    * Новая фотография: Поддержка местного времени
Переменные временной метки с исходными данными из строк теперь могут указывать часовой пояс через "time\\_zone"Атрибут, ведущийERDDAP™Преобразование времени источника локального времени (Некоторые в стандартное время, некоторые в дневное время) вZuluВремя. Список действительных названий часовых поясов, вероятно, идентичен списку в колонке TZ.[Этот стол](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones). По умолчанию "Zulu". Общие часовые пояса США: США / Гавайи, США / Аляска, США / Тихий океан, США / Гора, США / Аризона, США / Центральная, США / Восточная. Для переменных временной метки с числовыми исходными данными можно указать "time\\_zone«Атрибут, но ценность должна быть»Zulu"или "UTC". Спасибо Маргарет О'Брайен, LTER и EML.
         
    * EDDTableFromAsciiFiles теперь поддерживает файлы, разделенные полуколоном
И умнее разобраться с разделителем. Спасибо Маргарет О'Брайен, LTER и EML.
         
    * Новая фотография: Если есть существенная ошибка в загрузке (крупный или несовершеннолетний, например, пропавший без вести или инвалидdatasets.xmlдокумент) ,ERDDAP™Теперь он будет указан в status.html, прямо под «n Datasets Failed To Load» как ERROR: при обработкеdatasets.xmlСм. log.txt для деталей.
         
    * Новая фотография:ERDDAP™Ищите сирот.
КогдаERDDAP™делает большую нагрузку Наборы данных, теперь он ищет сиротские наборы данных (наборы данных, которые находятся вERDDAP™но не вdatasets.xml) . Если они найдены, они перечислены в status.html, прямо под «n Datasets Failed To Load» как ERROR: n Orphan Datasets. (наборы данных вERDDAP™но не вdatasets.xml) =...
Если вы хотите удалить (разгружать) сирота изERDDAP™Вы должны добавить
        &lt;Тип набора данных = "_anyValidType_"datasetID="_theDatasetID_" active="false" /&gt;
тоdatasets.xmlдо тех пор, пока набор данных не будет разгружен во время следующей основной загрузки.
         
    * BUG FIX: Если набор данных имеет числовую переменную метки времени с единицами, отличными от"seconds since 1970-01-01T00:00:00Z"и с тем,&lt;Обновление системы EveryNMillis&gt;, диапазон переменной метки времени был установлен неправильно при обновлении набора данных. Спасибо Джону Керфуту.
         
    * BUG FIX: если&lt;QuickRestart&gt; был верным в setup.xml, и вы запросили данные из EDDTable From... Набор данных, который используется&lt;Обновление EveryNMillis&gt;, первый запрос к набору данных будет неудачным, но последующие запросы будут успешными. Теперь первая просьба не провалится. Спасибо Джону Керфуту.
         
    * BUG FIX: GenerateDatasetsXml.sh и .bat не работали с параметрами &gt;9 в командной строке. Теперь они знают. Спасибо Джону Керфуту.
         
    * BUG FIX: Новый EDDTableFromMultidimNcFiles не всегда удалял пробелы из струн. Теперь так и есть. Особенно это касается файлов ARGO. Спасибо Кевину О'Брайену и Роланду Швейцеру.
         
    * BUG FIX: Все возможности удаленного доступаDAPСервисы теперь инициируются более современным кодом. Это исправляет ошибку «закрытое соединение» при доступе к некоторым наборам данных EDDTableFromErddap. Спасибо Кевину О'Брайену.
         
    * BUG FIX: ОбработкаorderBy... () отличающийся () Теперь они вернулись к тому, как они были до недавних изменений: данный запрос может иметь несколькоorderBy... () и/или отдельное () фильтр;ERDDAP™Они будут выполняться в том порядке, в котором они указаны. Спасибо Дэвиду Каруге.
         
    * BUG FIX: Если набор данных EDDTableFromDatabase и запрос имеет[Источник: CanOrderBy](/docs/server-admin/datasets#sourcecanorderby)и/или[Источник: CanDoD Distinct](/docs/server-admin/datasets#sourcecandodistinct)Тогда база данных может (В зависимости от настроек вdatasets.xml) частично или полностью управлять **Только первый**  orderBy.. () отличающийся () . Спасибо Дэвиду Каруге.
         
    * BUG FIX: Недавнее дополнительное процентное кодирование привело к проблемам с некоторыми запросами..ncФайлы CF, например, "HTTP Status 500 - Ошибка запроса: переменная = станция дважды указана в списке переменных результатов". Спасибо Кевину О'Брайену.
         
    * BUG FIX: у EDDTableFromFiles возникли проблемы с перезагрузкой набора данных, когда одна из колонок была настоящей колонкой char. Спасибо Роланду Швейцеру.
         
    * BUG FIX:EDDGridИз NcFiles Неупакованные теперь также конвертируютmissing\\_valueи \\_FillValue для стандартных значений, так что файлы с различными значениями могут быть агрегированы. Из-за этого изменения, после установки новой версииERDDAP™Пожалуйста, установите[твердый Флаг](/docs/server-admin/additional-information#hard-flag)для каждогоEDDGridИз NcFiles Неупакованные данные в вашемERDDAP.
         
    * EDDTableFromNcCFFiles теперь может обрабатывать файлы с несколькими размерами выборки. Данный набор данных должен использовать только переменные, которые используют одно из измерений выборки. Спасибо Аджай Кришнан.
         
    * Скриншоты из игры For EDDTable From...Files&lt;СортироватьFilesBySourceNames&gt; Теперь позволяет разделять запятую (рекомендованный) или разделённые списки имен переменных источников. В любом случае отдельные переменные имена могут быть окружены двойными цитатами, например, если имя имеет внутреннее пространство.

## Версия 1.72{#version-172} 
 (Выпущено 2016-05-12) 

*    **Новые особенности (для пользователей) :** Нет.
     
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Новый EDDTable FromMultidimNcFiles[EDDTableFromMultidimNcFiles](/docs/server-admin/datasets#eddtablefrommultidimncfiles)Это новая альтернатива EDDTableFromNcFiles. Он предназначен для работы с группами файлов с несколькими переменными с общими размерами, например, var1.\\[а\\]\\[b\\], var2\\[а\\], вар3\\[b\\]СкалярВар. Благодаря проекту Argo, Орели Брайанд и Роланд Швейцер.
    * BUG FIX:ERDDAP™  (Классы FileVisitorDNLS и FileVistorSubdir) Теперь следуют символические ссылки на Linux.ERDDAP™.lnk не следует за Windows.
    * BUG FIX бага, введенного в 1,70: различные +orderByОни не были допущены вместе по одной просьбе. Теперь они снова. Они не являются взаимоисключающими или избыточными. Спасибо Дэвиду Каруге.
    * Изменитьdatasets.xmlЧерный список IP-адресов:
IP v4 адреса выглядят какERDDAP™4 периодически разделенные шестизначные числа.
Я думаю, что адреса IP v6 выглядят как 8 шестизначных чисел, разделенных толстой кистью.
ТакERDDAP™Теперь поддерживает двоеточие в IP-адресах в этом списке и :\\* в конце списка, чтобы заблокировать ряд адресов.
    * Усовершенствовано:ERDDAP™Использует NetcdfFileWriter для написания.ncФайлы вместо устаревшего NetcdfFileWriteable. Не должно быть заметных изменений в полученных файлах. Это открывает возможность сделать большой.ncФайлы, которые используют.nc3 64-битные расширения. Если вы хотите / нуждаетесь в этом, пожалуйста, отправьте запрос наerd.data at noaa.gov.
    * УПРАВЛЕНИЕ: Многие ссылки на удаленные веб-сайты были устаревшими. Теперь они актуальны и используютсяhttps:вместо того, чтобыhttpПо возможности.
    * Много мелких изменений.

## Версия 1.70{#version-170} 
 (Выпущено 2016-04-15) 

*    **Новые особенности (для пользователей) :** Нет.
     
*    **ВещиERDDAP™Администраторы должны знать и делать:** Ниже приведено несколько рекомендуемых изменений в документации в файле setup.xml.
Пожалуйста, внесите эти изменения сейчас.
30 минут работы в настоящее время могут спасти вас от путаницы в будущем.
    * Устранение ошибок: Проблема заключалась в том, что запросы перенаправлялись на пультERDDAPНеудавшийся с недействительным характером|Сообщение об ошибке. Это произошло только с последними версиями Tomcat. Спасибо Расти Холлеману, Конору Делани и Рою Мендельсону.
    * Устранение ошибок:ERDDAP™В настоящее время используется обновленная версия netcdf-java (Долгая история) Это включает в себя современную поддержку NcML, которая устраняет проблему с NcML LogicalReduce. В метаданные могут быть внесены небольшие изменения, которыеERDDAP™читать через netcdf-java.nc,.hdf.grib и .bufr файлы. Спасибо Фавио Медрано.
    * Новый[EDDTableAggregateRows](/docs/server-admin/datasets#eddtableaggregaterows)позволяет создавать объединенный набор данных EDDTable из двух или более наборов данных EDDTable, которые имеют одинаковые переменные данных с использованием одних и тех же блоков. Спасибо Кевину О'Брайену.
    * Новые возможности для EDDTableFromDatabase ([Источник: CanOrderBy](/docs/server-admin/datasets#sourcecanorderby)и[Источник: CanDoD Distinct](/docs/server-admin/datasets#sourcecandodistinct)) Позволь уточнить,ERDDAP™, база данных или и то, и другое обрабатываются отдельно иorderBy  (и все варианты) ограничения. Спасибо Дэвиду Каруге.
    * Теперь вы можете сделать графики и метаданные частного набора данных доступными для общественности с помощью нового.&lt;ГрафыДоступные&gt; Публичные&lt;/graphsAccessibleTo&gt; (/docs/server-admin/datasets#graphsaccessibleto) Тэг. Спасибо Эмануэле Ломбарди.
    * Если строка перешла в GenerateDatasets Xml или DasDds окружены двойными цитатами. (Как будто это струна JSON.) . Спасибо Джону Керфуту и Мелани Абекассис.
    * Генерировать наборы данных Xml теперь поддерживает «по умолчанию», чтобы получить по умолчанию и «ничего», чтобы получить пустую строку (Они работают с цитатами или без них) . Это решает некоторые проблемы, связанные с прохождением пустых строк.
    * Теперь в GenerateDatasets Xml для всехEDDGridИз материалов и EDDTable Наборы данных, если образец Имя файла, которое вы указываете, - "" (Пустая струна) , он будет использовать последнее совпадающее имя файла из каталога + regex + recursive=true.
    * Обновлено: Код displayInBrowser, который используется для отображения результатов GenerateDatasetsXml и DasDds на компьютерах Linux, устарел и дал странное сообщение о Netscape. Теперь для этого используется современный инструмент Linux: xdg-open. Спасибо Мелани Абекассис.
    * TheallDatasetsНабор данных теперь имеет"files"столбец, который указывает базовый URL ссылки /files (Если есть один) для набора данных.
    * Повысьте общую безопасность вашегоERDDAP™путем изменения разрешений, связанных с каталогом Tomcat и дирекцией BigParent:
         (Приведенные ниже команды предназначены для Linux. Для других ОС внесите аналогичные изменения.) 
        * Измените «группу» на Tomcat, ваше имя пользователя или название небольшой группы, которая включает в себя Tomcat и всех администраторов Tomcat.ERDDAPНапример,
chgrp -R_yourUserName_ apache-tomcat-_8.0.23_
CHGRP -R_Your Имя пользователя BigParentDirectory_
        * Изменяйте разрешения, чтобы Tomcat и группа читали, писали, выполняли привилегии.
chmod -R ug+rwx apache-tomcat-_8.0.23_
chmod -R ug+rwx _bigParentDirectory_
        * Удалите «другие» разрешения пользователя на чтение, запись или выполнение:
chmod -R o-rwx apache-tomcat-_8.0.23_
chmod -R o-rwx _bigParentDirectory_
Это важно, потому что это мешает другим пользователям читать потенциально конфиденциальную информацию.ERDDAP™Настройка файлов, файлов журналов и файлов с информацией о частных наборах данных.
    * Была обновлена система аутентификации/логина. Благодаря Томасу Гарднеру, Эмануэле Ломбарди и новому правительству США[Стандарт HTTPS-Only](https://home.dotgov.gov/management/preloading/dotgovhttps/).
        * Опция аутентификации=опенидов была удалена. Он был устаревшим.
        * Новый, рекомендуемый,[Аутентификация: Google](/docs/server-admin/additional-information#google)опция использует Google Sign-In (По материалам OAuth 2.0) Позволить любому человеку с учетной записью электронной почты Google (включая Google управляет аккаунтами@noaa.gov) чтобы войти.
        * Новый,[Аутентификация = электронная почта](/docs/server-admin/additional-information#email)Это резервная копия для аутентификации = Google. Это позволяет пользователям с&lt;Пользователь&gt; Tag indatasets.xmlвойти в систему, отправив им электронное письмо со специальной ссылкой.
        * В setup.xml, пожалуйста, измените описание&lt;Аутентификация - быть
```
            <!-- If you want to restrict access to some datasets, 
            you need to specify the method used for logging on (authentication).
            See the info at 
            https://erddap.github.io/setup.html#security
            Currently, the options are: "" (logins not supported, the default), 
            "custom", "email", and "google" (recommended).  
            \\[No longer supported: "basic", "openid"\\]
            -->
```

        * В setup.xml, пожалуйста, добавьте это ниже&lt;аутентификация тег
```
            <!-- If authentication=google, you must supply your Google Client ID. 
            See
            https://developers.google.com/identity/sign-in/web/devconsole-project
            When setting this up, for Authorized JavaScript origins, 
            for testing on your computer, use the domain "localhost" 
            (e.g., origin=https://localhost:8443), 
            not "127.0.0.1" (because Google Sign-In doesn't work with anything 
            at that domain).
            This will be a string of about 75 characters, probably starting with
            several digits and ending with .apps.googleusercontent.com .
            -->
            <googleClientID></googleClientID>
```

        * Пользователи, которые не вошли в систему, могут использоватьhttpилиhttpsURL (если вы установили)&lt;baseHttpsUrl&gt; в setup.xml. Благодаря новому правительству США[Стандарт HTTPS-Only](https://https.cio.gov/).
        * Теперь вы можете побудить всех пользователей использоватьhttps  (неhttp) устанавливать&lt;BaseUrl — бытьhttpsURL. Заставить пользователей использовать толькоhttpsВы также должны внести изменения в настройки Apache / Tomcat, чтобы заблокировать не-httpsдоступ. Благодаря новому правительству США[Стандарт HTTPS-Only](https://https.cio.gov/).
            
В setup.xml, пожалуйста, измените описание&lt;BaseUrl - быть
```
            <!-- baseUrl is the start of the public URL, to which "/erddap" 
            is appended. For example:
            For running/testing on your personal computer:
              <baseUrl>http://localhost:8080</baseUrl>     
              (127.0.0.1 doesn't work with authentication=google).
            If you want to encourage all users to use https (not http), 
              make the baseUrl the same as the baseHttpsUrl (see below).
            For ERD releases, we used to use
              <baseUrl>http://coastwatch.pfeg.noaa.gov</baseUrl>    
            For ERD releases, we now use
              <baseUrl>https://coastwatch.pfeg.noaa.gov</baseUrl>    
            -->
```

        * Варианты&lt;Пароль Кодирование изменился. В setup.xml, пожалуйста, измените описание&lt;Пароль Кодирование&gt; Быть
```
            <!-- For "custom" authentication, this specifies how you have 
            stored passwords in the roles tags in datasets.xml.
            If you aren't storing any passwords, this is irrelevant.
            The options (in order of increasing security) are: 
            "MD5", "UEPMD5" (MD5(UserName:ERDDAP:Password)), 
            "SHA256", "UEPSHA256" (SHA256(UserName:ERDDAP:Password), 
            the default).
            You should only use "MD5" or "SHA256" if you need to match 
            values stored that way in an external password database.
            See the info at 
            https://erddap.github.io/setup.html#security
            --> 
```

        * В setup.xml, пожалуйста, измените описание&lt;baseHttpsUrl &gt; быть
```
            <!-- This is a variant of <baseUrl> which is used when 
            authentication is active and the user is logged in.
            In general, you take the <baseUrl>, change "http" to "https", 
            and change/add ":8443". This must begin with "https://".
            If you make a proxy so that ":8443" isn't needed, 
            then don't use ":8443" here.
            This is relevant even if <authentication> is "".
            See the instructions at 
            https://erddap.github.io/setup.html#security
            For example:
            For running/testing on your personal computer:
              <baseHttpsUrl>https://localhost:8443</baseHttpsUrl>                  
            For releases at ERD, we use:
              <baseHttpsUrl>https://coastwatch.pfeg.noaa.gov</baseHttpsUrl>  
            If you want to encourage all users to use https (not http), 
              make the baseUrl (see above) the same as the baseHttpsUrl.
            --> 
```

        * Теперь, если listPrivateDatasets=true в setup.xml, будет показано еще меньше информации о наборах данных, к которым у пользователя нет доступа.
    * Особенно если вы изначально настраиваетеERDDAPТеперь вы можете сказатьERDDAP™не пытаться подписаться на удаленныйERDDAP™наборы данных. Спасибо Филиппу Роше Фрейре.
В настройках.xml прямо перед&lt;fontFamily&gt;, пожалуйста, добавьте
```
        <!-- Normally, if you have a EDDGridFromErddap or EDDTableFromErddap 
        dataset in your datasets.xml, it will try to subscribe to the remote 
        ERDDAP™ dataset so that the local dataset is kept perfectly up-to-date.
        If this ERDDAP™ is not publicly accessible (http://localhost), or its
        IP address will change soon, or you have some other reason, 
        you can tell this ERDDAP™ to not try to subscribe to the remote 
        ERDDAP™ datasets by setting this to false. (default=true) 
        This is the overall setting for this ERDDAP. It can be overridden by
        the same tag (with a different value) in the datasets.xml chunk for 
        a given EDD...FromErddap dataset. 
        For each fromErddap dataset that doesn't subscribe to the remote 
        ERDDAP™ dataset, you should set <reloadEveryNMinutes> to a smaller 
        number so that the local dataset stays reasonably up-to-date. -->
        <subscribeToRemoteErddapDataset>true</subscribeToRemoteErddapDataset>
```

    * В setup.xml, в инструкциях выше&lt;emailFromAddress&gt;, пожалуйста, вставьте:
Если возможно, настройте это для использования безопасного соединения. (SSL / TLS) на сервер электронной почты.
Если ваша настройка не использует безопасное соединение с сервером электронной почты, пожалуйста, внесите изменения, чтобы сделать это.
    * В твоейdatasets.xmlПожалуйста, добавьте эту строку в описание&lt;ПодпискаEmailBlacklist&gt; в вашемdatasets.xml:
Вы можете использовать имя "\\*"внести в черный список целый домен, например,\\*@example.com.
    * С момента изменения системы регистрации в v1.66 файл журнала никогда не обновляется. Всегда есть сообщения или части сообщений, ожидающие записи в файл журнала. Теперь вы можете сделать его современным (На мгновение) Посмотреть свойERDDAPСтатус страницы в http://_your.domain.org_/erddap/status.html .
    * HashDigest ...
    * Небольшое изменение (Обсуждение String2.canonical) Это должно помочь быстро двигаться, когдаERDDAP™Он очень занят и лучше справляется с большим количеством наборов данных.
    * сильно Рекомендуем: прекратить использование&lt;ПреобразоватьToPublic SourceUrl вdatasets.xmlПреобразование IP-адреса в набор данных&lt;sourceUrl&gt; (например, http://192.168.#.#/ ) в доменное имя (например,http:my.domain.org/) . С этого момента новые подписки на http://localhost , http://127.0.0.1 и http://192.168.#.# URL-адреса не допускаются по соображениям безопасности. Пожалуйста, всегда используйте доменное имя в&lt;sourceUrlтег (При необходимости из-за проблем с DNS) Вы можете использовать[/etc/hosts table на вашем сервере](https://linux.die.net/man/5/hosts)решить проблему путем преобразования локальных доменных имен в IP-номера без использования DNS-сервера. Вы можете проверить, правильно ли выбрано данное доменное имя, используя
ping_some.domain.name_
    * В generateDatasets.xml для удаленных наборов данных (Например, с сервера THREDDS) автоматически сгенерированныйdatasetIDs неизменны для большинства доменов. Для нескольких доменов первая часть (Т.е. имя) автоматически сгенерированныйdatasetIDБудет немного по-другому. Примечательно, что имена, которые имели одну часть, теперь чаще имеют две части. Например, наборы данных из http://oos.soest.hawaii.edu Ранее приводил кdatasetIDЭто началось с Гавайев, но теперьdatasetIDВсе начинается с hawaii_soest_. Если это вызывает проблемы для вас, пожалуйста, напишите мне. Там может быть обходной путь.
    * Водитель Cassandra был обновлен до cassandra-driver-core-3.0.0.jar и, таким образом, для Cassandra v3. EDDTable FromCassandra не использует никаких новых функций в Cassandra. v3. Индексы в Кассандре теперь могут быть более сложными, но...ERDDAP™По-прежнему используется модель индекса Cassandra v2, которая предполагает, что индексируемый столбец может быть напрямую запрошен.'='ограничения. Генерировать наборы данных Xml для EDDTableFromCassandra больше не обнаруживает столбцы с индексами; если индекс прост, нужно указать его вdatasets.xmlОт руки. Если вам нужна поддержка более сложных индексов или других новых функций, пожалуйста, напишите намerd.data at noaa.gov.
&#33;&#33;&#33; Если вы все еще используете Cassandra 2.x, пожалуйста, продолжайте использоватьERDDAP™v1.68 до перехода на Cassandra 3.x.
    * Jars and the Classpath — Почти все файлы .jar были обновлены до последних версий.
        * slf4j.jar добавляли в /lib и класспат.
        * Жидкость. банку и цик. банку удаляли из /lib и сокурсника.
        * Если вы получаете сообщения об ошибках о классах, не найденных при компиляции или запускеERDDAP™или один из его инструментов, сравните классопат вашей командной строки сERDDAP?[текущий классопат](/docs/contributing/programmer-guide#development-environment)Чтобы выяснить, какие .jars отсутствуют в вашем классе.

## Версия 1.68{#version-168} 
 (Выпущено 2016-02-08) 

*    **Новые особенности (для пользователей) :** Нет.
     
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    *   [EDDGridАгрегация файлов через имена файлов или глобальные метаданные](/docs/server-admin/datasets#aggregation-via-file-names-or-global-metadata)-
Все вариацииEDDGridТеперь FromFiles может объединять группу файлов, добавляя новое левое измерение, обычно время, на основе значения, полученного из каждого имени файла или из значения глобального атрибута, который находится в каждом файле.
    * УПРАВЛЕНИЕ: Ранее мы предположили, что вы можете создатьEDDGridНабор данных FromErddap в вашемdatasets.xmlкоторый ссылался и резервировал jplMURSSНабор данных в нашемERDDAP. Поскольку теперь существует более новая версия этого набора данных, этот набор данных теперь обесценен. Если у вас есть этот набор данныхERDDAP™Пожалуйста, добавьте этот новый набор данных
```
        <dataset type="EDDGridFromErddap" datasetID="jplMURSST41" active="true">  
          <!-- Multi-scale Ultra-high Resolution (MUR) SST analysis fv04.1, Global, 0.011 Degree, Daily -->  
          <sourceUrl>https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST41</sourceUrl>  
        </dataset>  
```
Если вы хотите удалить старый jplMURSST набор данных из вашегоERDDAP™  (Это твой выбор.) Измените свою активную настройку с «истинной» на «ложную».
    * Устранение ошибок: Пожалуйста, проверьте большую папку, которую вы указали в setup.xml. Если бы ты не нанес удар в конце&lt;BigParentDirectory — имяERDDAP™Создайте несколько каталогов, добавив слова непосредственно к названию, которое вы указали, вместо создания подкаталогов. Начиная с версии 1.68,ERDDAP™Добавляет слэш в конец имени каталога, если вы не указали его. Так что если вы ранее не указали слэш в конце, то при установкеERDDAP™v1.68 Вы должны переместить и переименовать эти каталоги **после** Вы отключили старыйERDDAP™и **перед** Вы запускаете новыйERDDAP. Например, если вы ошибочно указали BigParentDirectory как /home/erddapBPD (без слежки) иERDDAP™Он ошибочно создал такие каталоги, как
Home/erddapBPDcache
/home/erddapBPDcopy
/home/erddapBPDdataset
Home/erddapBPDflag
/home/erddapBPDlogs
/home/erddapBPDlucene
и файл с именем /home/erddapBPDsubscriptionsV1.txt,
Затем вам нужно переехать и переименовать их в
/home/erddapBPD/cache
/home/erddapBPD/copy
/home/erddapBPD/dataset
/home/erddapBPD/flag
/home/erddapBPD/logs
/home/erddapBPD/lucene
и /home/erddapBPD/subscriptionsV1.txt
    * Устранение ошибок: Там были жуки.EDDGridLonPM180 вERDDAP™v1.66, которое произошло, когда набор данных о ребенкеEDDGridИз Эрддапа.
    * Устранение ошибок: Там был баг.EDDGridИз материалов и EDDTable Из материалов вERDDAP™v1.66, что является причиной&lt;Обновить EveryNMillis&gt;, чтобы проигнорировать первый раз, когда набор данных был загружен после перезагрузки.
    * Bug fix/Новая функция: Если данные ребенка находятся внутриEDDGridСовокупность существующих измерений,EDDGridКопи,EDDGridИздательство,EDDGridLonPM180,EDDGridSideBySide, EDDTableCopy или EDDTableFromEDDGridЭто набор данных ... FromErddap, который родительский набор данных теперь подписывается на базовый набор данных.ERDDAP™набор данных. Если основнойERDDAP™Набор данных находится в том жеERDDAP™Подписка и ее проверка осуществляются напрямую; вы не получите электронное письмо с просьбой подтвердить подписку. В противном случае, если система подписки для васERDDAP™Выключен, установлен&lt;перезагрузить EveryNMinutes&gt; настройку для родительского набора данных на небольшое число (60?) Чтобы она оставалась актуальной.
    * Bug fix/Новая функция: Если данные ребенка находятся внутриEDDGridСовокупность существующих измерений,EDDGridКопи,EDDGridИздательство,EDDGridLonPM180,EDDGridSideBySide, EDDTableCopy или EDDTableFromEDDGridАктивный = «ложный», этот набор данных о детях теперь пропущен.

## Версия 1.66{#version-166} 
 (выпущенный 2016-01-19) 

*    **Новые особенности (для пользователей) :** 
    * Графики (Не карты) Теперь они могут иметь нисходящие значения на осях. Чтобы получить это при использовании веб-страницы Make A Graph, измените новую ось Y: настройку восходящего движения (по умолчанию) Чтобы спуститься. Или, в URL-адресе, который запрашивает график, используйте новый дополнительный 3rd'|параметр для[&x Диапазон и/или &. переключатели yRange](https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#GraphicsCommands)который не может быть ничем (по умолчанию) , истинно или t, чтобы получить восходящие значения, или использовать ложные или f, чтобы получить нисходящие значения. Истинный|Ложные значения нечувствительны. Спасибо Крису Фуллилову, Джону Керфуту, Люку Кэмпбеллу и Каре Уилсон.
    * Пользователи теперь могут указать цвет фона для графов, добавив a &.bgColor=0x_ AARRGGBB_ переключается на URL, который запрашивает граф. См. .bgColor в разделе Графические команды[сетка](https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#GraphicsCommands)и[tabledap](https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#GraphicsCommands)Документация. Спасибо Джону Керфуту и Люку Кэмпбеллу.
    * Для табличных наборов данных ограничения теперь могут относиться к мину. (_someVariableName_) или макс (_someVariableName_) . Видишь?[мин. () и макс () ](https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#min). Спасибо Джону Керфуту.
    * Для табличных наборов данных временные ограничения, которые используют[теперь](https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#now)Теперь можно указать временные единицы миллисекунд или миллисекунд.
    * Запрос на изображение табличного набора данных теперь делает карту (Не граф) если переменные x и y похожи на долготу и на широту (совместимые единицы) . Спасибо Ричу Сигнеллу.
    * Устранение ошибок: метки и клещи оси времени иногда имели странные неровности при одновременном запросе нескольких графиков (Например, на веб-странице) . Проблема заключалась в ошибке в графической библиотеке SGT, котораяERDDAP™использование (Одна переменная была «статической», чего не должно было быть.) . Спасибо Брэдфорду Батману.
         
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Это риск для безопасности, чтобы поместить пароль электронной почты в простой текстовый файл, такой как setup.xml. Чтобы решить эту проблему, мы настоятельно рекомендуем вам:
        1. Создайте учетную запись электронной почты только дляERDDAPs use, например, erddap@yourInstitution.org. Это имеет и другие преимущества, в частности, более одного.ERDDAP™Затем администратору может быть предоставлен доступ к этой учетной записи электронной почты.
        2. Сделать разрешения setup.xml файл rw (Читать + писать) Для пользователя, который запустит Tomcat иERDDAP™  (User=tomcat?) И никаких разрешений (Не читать и не писать) для группы и других пользователей. Спасибо Филиппу Роше Фрейре.
    * Новый[Архив данных](/docs/server-admin/additional-information#archiveadataset)Инструмент упрощает создание.tar.gzархив с подмножеством набора данных в формате, который подходит для архивирования (В частности, вNOAANCEI) . Это должно быть полезно для многихERDDAP™администраторы во многих ситуациях, но особенно для групп внутриNOAA.
    * Новый тип набора данных[EDDGridИз NcFilesUnpacked](/docs/server-admin/datasets#eddgridfromncfilesunpacked)является вариантомEDDGridИз NcFiles. Разница заключается в том, что этот класс распаковывает каждый файл данных до того, как они будут удалены.EDDGridИз материалов просматриваются файлы:
        
        * Он распаковывает упакованные переменные, которые используютscale\\_factorи/илиadd\\_offset.
        * Он продвигает целочисленные переменные, которые имеют \\_Unsigned=true атрибуты к большему целочисленному типу данных, так что значения появляются как неподписанные значения. Например, \\_Unsigned=true byte (8 бит) Переменная становится подписанной короткой (16 бит) переменная.
        * Преобразует \\_FillValue иmissing\\_valueЦенности, чтобы быть NaN (или MAX\\_VALUE для целых типов данных) .
        
Большим преимуществом этого класса является то, что он обеспечивает способ борьбы с различными ценностями.scale\\_factor,add\\_offset\\_FillValue, илиmissing\\_valueВ разных файлах в коллекции. В противном случае вам придется использовать такой инструмент, как[NcML](/docs/server-admin/datasets#ncml-files)или[NCO](/docs/server-admin/datasets#netcdf-operators-nco)модифицировать каждый файл, чтобы устранить различия, чтобы файлы могли обрабатыватьсяEDDGridИз NcFiles. Чтобы этот класс работал должным образом, файлы должны соответствовать стандартам CF для соответствующих атрибутов. Спасибо Филиппу Маковски.
    * Новый тип набора данных[EDDGridLonPM180](/docs/server-admin/datasets#eddgridlonpm180)позволяет изменять наборы данных, которые имеют значения долготы более 180 (Например, диапазон от 0 до 360) в наборы данных со значениями долготы в диапазоне от -180 до 180 (Долгота плюс или минус 180, отсюда и название) . Большим преимуществом предложения наборов данных со значениями долготы в диапазоне от -180 до 180 является то, чтоOGCуслуги (например,WMS) Требуются значения долготы в этом диапазоне. Спасибо Линн Таблевски, Фабьену Гичарду, Филиппу Маковски и Мартину Спелю.
2016-01-26 Обновление: Eeek&#33; Это ошибка, которая возникает, когда набор данных ребенка являетсяEDDGridFromErddap, который ссылается на набор данных в том жеERDDAP. Этот баг фиксируется вERDDAP™v1.68.
    * в[Генерировать наборы данныхXml](/docs/server-admin/datasets#generatedatasetsxml)новый тип специального набора данных,EDDGridLonPM180FromErddapCatalog позволяет создаватьdatasets.xmlдляEDDGridНаборы данных LonPM180EDDGridнаборы данных в одномERDDAPкоторые имеют значения долготы более 180.
    * Для всехEDDGridнаборы данных, вdatasets.xmlТеперь вы можете использовать опциональный
[править]&lt;доступный ВиаWMS&gt;Правда|ложный&lt;/Доступный ВиаWMS&gt; (/docs/server-admin/datasets#доступные)   (Дефолт = правда) . Если это ложное, то оно должно быть ложным.WMSСервис для этого набора данных. Если это правда, набор данных все еще может быть недоступен черезWMSпо другим причинам (Например, без лат или лон осей) . Это особенно полезно для наборов данных, которые существуют сами по себе и обернутыEDDGridLonPM180, так что доступна только версия LonPM180WMS.
    * В setup.xml можно указать другой цвет по умолчанию для фона графов. Цвет определяется как 8-значное шестнадцатеричное значение в виде 0x_AARRGGBB_, где AA, RR, GG и BB являются непрозрачными, красными, зелеными и синими компонентами, соответственно, указанными как 2-значные шестнадцатеричные числа. Обратите внимание, что холст всегда непрозрачный белый, поэтому (полупроводник -) Прозрачный фоновый цвет графа сливается с белым холстом. По умолчанию светло-голубой:
```
        <graphBackgroundColor>0xffccccff</graphBackgroundColor>  
```
Спасибо Джону Керфуту и Люку Кэмпбеллу.
    * В setup.xml теперь можно указать максимальный размер[файл](/docs/server-admin/additional-information#log)  (когда он переименовывается в лог. Txt. предыдущий и новый бревно. txt создается) В MegaBytes. Разрешенный минимум составляет 1. Максимально допустимый – 2000. По умолчанию 20 (МБ) . Например:
```
        <logMaxSizeMB>20</logMaxSizeMB>
```
    * вdatasets.xml[&lt;fgdcFile&gt; (/docs/server-admin/datasets#fgdcfile) или&lt;Изо19115Файл&gt; (/docs/server-admin/datasets#iso19115file) Теперь это может быть локальный файл. (как раньше) или URL (который будет скачиваться, чтобы была локальная копия) . ЕслиERDDAP™Невозможно загрузить файл, загрузка набора данных будет продолжаться, но набор данных не будет иметь файл fgdc или iso19115.
    *   EDDGridИз материалов и EDDTable Наборы данных FromFiles теперь могут выполнять быстрый запуск (Система, котораяERDDAP™пытается использовать, когда наборы данных впервые загружаютсяERDDAP™возобновляется) . Это ускоряет перезапускERDDAP.
2016-01-26 Обновление: Eeek&#33; У этого есть ошибка, которая вызывает&lt;Обновите EveryNMillis&gt;, чтобы проигнорировать первый раз, когда набор данных загружается после перезагрузки. Этот баг фиксируется вERDDAP™v1.68.
    * Общее улучшение системы быстрого запуска позволяетERDDAP™загружать наборы данных быстрее, когдаERDDAP™Перезапущен.
    * ВсеEDDGridИз материалов и EDDTable Подклассы материалов теперь принимают новый&lt;pathRegex&gt; тег, обычно указанный ниже&lt;рекурсивный. Если рекурсивный является «истинным», только полные подкаталогические пути, которые соответствуют пути. (Дефолт =.) будут приняты. Аналогично, a&lt;sourceUrls&gt; Tag in aEDDGridAggregateExistingDimension теперь может включать атрибут PathRegex (Дефолт =.) .
    * По умолчанию для&lt;PartialRequestMaxBytes&gt; в setup.xml теперь 490000000 (~490 Мб) . Это позволяет избежать некоторых проблем, связанных с получением данных с серверов данных THREDDS. Спасибо Лесли Торн.
    * Небольшое изменение системы регистрации должно позволитьERDDAP™Быть более отзывчивым, когда он очень, очень занят. Информация теперь записывается в файл журнала на дисководе в довольно больших кусках. Преимущество в том, что это очень эффективно -ERDDAP™Никогда не будет блокировать ожидание информации, которая будет записана в файл журнала. Недостатком является то, что журнал почти всегда заканчивается частичным сообщением, которое не будет завершено, пока не будет написан следующий фрагмент.
    * Обсуждение Inotify and the [&lt;Обновление EveryNMillis (/docs/server-admin/datasets#updateeverynmillis) система дляEDDGridИз материалов и EDDTable Наборы данных FromFiles: Больше нет необходимости указывать большое количество fs.inotify.max\\_user\\_watches или fs.inotify.max\\_user\\_instances. Есть баг вJavaЭто вызывает некоторые частиJavaСистема inotify/WatchDirectory не будет собирать мусор, когда они будут завершены; в конечном итоге количество часов или экземпляров зомби-инотификации превысит максимальное указанное количество.ERDDAP™Теперь работает вокруг этогоJavaЖук.
Кроме того, количество потоков inotify указано на странице status.html, поэтому вы можете следить за его использованием. Как правило, существует 1 инотифицирующая нить наEDDGridИз материалов и EDDTable Из набора данных.
    * Устранение ошибок: во многих местах вместо того, чтобы исправить ошибку, была создана новая ошибка, которая включала только короткую версию исходного сообщения об ошибке и без следа стека. Теперь, когда генерируется новая ошибка, она должным образом включает в себя все исходное исключение, например, бросать новое исключение. («Новое сообщение», e) ;
Спасибо Сьюзан Перкинс.
    * Устранение ошибок: до недавнего времени (v1.64?) Если а.../datasetIDURL был запрошен,ERDDAP™Добавить .html в URL. В v1.64 это не удалось. (Неправильно отформатированный URL-адрес был сгенерирован, а затем вышел из строя.) . Теперь это снова работает. Спасибо Крису Фуллилову.

## Версия 1.64{#version-164} 
 (Выпущено 2015-08-19) 

*    **Новые особенности (для пользователей) :** 
    * Теперь есть руководство по доступу к защищенному паролем частномуERDDAP™наборы данных (https://) черезcurlиPython. Видишь?[curl](https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#curl)и[Python](https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#Python)инструкции.
Спасибо Эмилио Майорга из NANOOS и Полу Янечеку из Spyglass Technologies.
         
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    *   ERDDAP™Теперь требуетсяJava1,8+.
        Java1.7 достиг своего[конец жизни](https://www.oracle.com/technetwork/java/eol-135779.html)  (Больше никаких обновлений безопасности) в апреле 2015 года. Эта версияERDDAP™Не будет работать с версиямиJavaниже 1,8. Если вы обновляетеJava1.7x (или ранее) Также стоит обновить Tomcat. Видишь?[ERDDAP™Настройка инструкций](/docs/server-admin/deploy-install)для скачивания ссылок и советов.
    * Новая форма поставщика данных.
Когда к вам приходит поставщик данных, надеясь добавить некоторые данные в ваш компьютер.ERDDAP™может быть трудно и трудоемко собрать все метаданные, необходимые для добавления набора данных вERDDAP. Многие источники данных (Например, файлы .csv, Файлы Excel, базы данных) не имеют внутренних метаданных, поэтомуERDDAP™Имеет новую форму поставщика данных, которая собирает метаданные от поставщика данных и дает поставщику данных некоторые другие рекомендации, включая обширные рекомендации для баз данных. Представленная информация преобразуется вdatasets.xmlформат, а затем по электронной почтеERDDAP™администратор (ты) и письменный (прилагаемый) BigParentDirectory/logs/dataProviderForm.log. Таким образом, форма полуавтоматизирует процесс получения набора данных вERDDAP™но этоERDDAP™Администратор должен завершитьdatasets.xmlОбработка и получение файла данных (s) от поставщика или подключения к базе данных. Для получения дополнительной информации см.[Поставщик данных Описание формы](/docs/server-admin/datasets#data-provider-form).
    * Новый&lt;matchAxisNDigits&gt;
могут быть использованыEDDGridИз материалов (и, таким образом, из NcFiles и из MergeIRFiles) ,EDDGridСовокупность существующих измерений,EDDGridКопировать иEDDGridНаборы данных SideBySide для определения того, насколько точно равны значения оси в разных файлах. (Сколько цифр) 0 = не проверять (Не используйте это&#33;) 1-18 для повышения точности, или 20 (по умолчанию) Для точного равенства. Для n=1-18,ERDDAP™гарантирует, что первые n цифр двойных значений (или (n+1) div 2 для плавающих значений) Они равны.
        &lt;matchAxisNDigits&gt; заменяется&lt;Обеспечить AxisValuesAreEqual&gt;, который сейчас обесценен. Значение «истинно» будет преобразовано в matchAxisNDigits=20. Ценность «ложного» (Не делай этого&#33;) Преобразуется в матч AxisNDigits = 0.
    *   EDDGridИз материалов и EDDTable FromFiles будет загружаться очень медленно при первом использовании этой версииERDDAP.
        ERDDAP™Теперь внутренняя файловая информация хранится немного по-разному, поэтому внутренняя файловая таблица для каждого из этих наборов данных должна быть восстановлена. Так что не волнуйся. Ничего не случилось. Это одноразовая вещь.
    * Дистанционные исходные файлы
        EDDGridFromNcFiles, EDDTableFromNcFiles, EDDTableFromNcCFFiles теперь позволяют файлам быть удаленными файлами в каталоге, доступном по адресу:http://  (и, вероятно,https://ftp, но они не проверены) Если удаленный сервер поддерживает[Диапазон запросов](https://en.wikipedia.org/wiki/Byte_serving)в заголовке запроса. Amazon S3 поддерживает Range RequestsHyraxНет. Эта система позволяет получать доступ к данным в удаленных файлах без загрузки файлов. (Что полезно, если удаленные файлы слишком объемные) Но доступ к этим файлам будет намного медленнее, чем доступ к локальным файлам или даже к удаленным.OPeNDAPИсточник.
Это включает"files"в ведре Amazon S3, поскольку они доступны черезhttp://. Если имена объектов S3 похожи на имена файлов (С внутренним / как дерево каталогов Linux) ,ERDDAP™Вы также можете сделать файлы доступными черезERDDAP?"files"система. Чтобы это работало, ваши учетные данные S3 должны быть в ~/.aws/credentials (Linux, OS X или Unix) или C:\\Users\\USERNAME\\.aws\\credentials (В Windows) На сервере сERDDAP. Видишь?[Документация Amazon SDK](https://docs.aws.amazon.com/sdk-for-java/?id=docs_gateway#aws-sdk-for-java,-version-1).
    * Генерировать наборы данных У Xml есть новый, необычный вариант: EDDsFromFiles.
Это будет проходить через файловую систему. (Даже удаленная система, такая как Amazon S3, если объекты имеют похожие на файлы имена.) и создаватьdatasets.xmlЧастицы для серии наборов данных. Ваш пробег может варьироваться. Это хорошо работает, если файлы организованы так, что все файлы данных в заданном каталоге (и его подкаталогов) Подходит для одного набора данных (Например, все композиты SST 1-day) . Иначе (Например, если каталог содержит некоторые файлы SST и некоторые файлы Chlorophyll-a) Это работает плохо, но может быть полезным.
    * Программисты: новые файлы /lib.jar
Если вы компилируетеERDDAP™, пожалуйста, обратите внимание на новые файлы .jar в параметре classpath -cpERDDAP™ [Руководство программиста](/docs/contributing/programmer-guide).
    * Море\\_вода\\_практика\\_соленость
Если вы используете стандартное название CF sea\\_water\\_salinity для любой переменной, я призываю вас перейти на sea\\_water\\_practical\\_salinity, которое доступно в следующих разделах:[29 стандартная таблица названий CF](https://cfconventions.org/Data/cf-standard-names/29/build/cf-standard-name-table.html)  (и некоторые предыдущие версии - я не знал, что) . Это название указывает на то, что это действительно практическое значение солености.Practical Salinity Units  (PSU) В отличие от более старого значения g/kg. Канонические единицы разные, но все же невероятно бесполезные: 1 1 (предположительно подразумеваяPSU/PSS-78) В отличие от 1e-3 (Предположительно подразумевается g/kg) Для морской солености.\\[Привет.Unidataи CF: Мы идентифицируем значения, которые используют другие шкалы, например, Фаренгейт или Цельсия, через строку единиц, которая является названием шкалы или некоторой вариацией. Почему мы не можем определить единицы солености по их шкале, например, PSS-78? Значения PSS-78 «бесконечны», но есть подразумеваемая шкала, не так ли? Если я придумаю новую практическую шкалу солености, где значения в 0,875 раз превышают значения PSS-78, должны ли канонические единицы по-прежнему быть "1"? Как пользователь может отличить их? Единицы 1e-3 и 1 не являются ни описательными, ни полезными для пользователей, которые пытаются выяснить, что означают цифры.\\]

## Версия 1.62{#version-162} 
 (Выпущено 2015-06-08) 

*    **Новые особенности (для пользователей) :** 
    * ДляEDDGridТеперь пользователи могут создавать графы Graph Type: Surface с любой комбинацией числовых осей, а не только долготы и широты. Это позволяет сделать x против y (прогнозируемый) Графики и различные[Диаграммы Ховмёллера](https://en.wikipedia.org/wiki/Hovm%C3%B6ller_diagram)Например, график долготы против глубины или времени против глубины.\\[Если глубина находится на оси Y, она, вероятно, будет перевернута с того, что вы хотите. Извините, откатывание это еще не вариант.\\]Спасибо Каре Уилсон и Линн ДеВитт.
    * Есть новый[Преобразователь океанических/атмосферных акронимов](https://coastwatch.pfeg.noaa.gov/erddap/convert/oceanicAtmosphericAcronyms.html)Это позволяет преобразовать общую океаническую/атмосферную аббревиатуру в/из полного названия.
    * Есть новый[Океанический/атмосферный Конвертер переменных имен](https://coastwatch.pfeg.noaa.gov/erddap/convert/oceanicAtmosphericVariableNames.html)Это позволяет преобразовать общее океаническое/атмосферное переменное имя в полное имя.
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    *   Java7/8
        Oracleбольше не поддерживает (Предоставляет исправления ошибок безопасности для)  Java7.ERDDAP™поддерживаетсяJava7, пожалуйста, перейдите кJava8.Следующий выпускERDDAP™Вероятно, потребуетсяJava8.
    *   valid\\_min/max/range
Раньше и сейчас, еслиdataVariableиметьscale\\_factorиadd\\_offsetметаданные,ERDDAP™распаковывает значения данных и удаляет эти метаданные. Раньше,ERDDAP™не изменять и не распаковыватьvalid\\_range,valid\\_min,valid\\_maxметаданные (которые обычно/должны содержать упакованные значения) черезscale\\_factorиadd\\_offset. Теперь так и есть. Пожалуйста, ищите свойERDDAP™Для «действительных» и убедитесь, что все переменныеvalid\\_range,valid\\_minилиvalid\\_maxимеют правильные значения, когда наборы данных появляются в новой версииERDDAP. Видишь?[valid\\_range/min/max документация](/docs/server-admin/datasets#valid_range).
    * ACDD-1.3
Раньше,ERDDAP™  (В частности, генерировать наборы данных Xml) используется/рекомендуется оригинал (1.0) Версия этого[NetCDFКонвенция об атрибутах для обнаружения набора данных](https://wiki.esipfed.org/ArchivalCopyOfVersion1)который упоминается как "UnidataDataset Discovery v1.0" в глобальных конвенциях иMetadata\\_Conventionsатрибуты. Теперь мы рекомендуем[ACDD версия 1.3](https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3)Он был ратифицирован в начале 2015 года и называется «ACDD-1.3». К счастью, ACDD-1.3 совместим с версией 1.0. Мы рекомендуем вам[Переход на ACDD-1.3](/docs/server-admin/datasets#switch-to-acdd-13). Это не сложно.
    * Генерировать наборы данных Атрибуты Xml
Произошло множество изменений, направленных на улучшение&lt;addAttributes&gt; значения, предложенные GenerateDatasets Xml для глобальных конвенцийcreator\\_name/email/url, ключевые слова, резюме и атрибуты заголовка и для переменнойlong\\_nameатрибут. Некоторые изменения связаны с новым использованием ACDD-1.3.
    * EDDTable FromSOSнаборы данных
При случайном добавлении новых видовSOSСерверы и изменения в старых серверах, становится все труднее дляERDDAP™автоматически обнаруживать тип сервера по ответам сервера. Использование [&lt;SosServerType (/docs/server-admin/datasets#eddtable fromsos-skeleton-xml)   (с значением IOOS\\_NDBC, IOOS\\_NOS,OOSTethysили кто) В настоящее время настоятельно рекомендуется. Если какой-либо из ваших наборов данных такого типа имеет проблемы в новой версииERDDAPПопробуйте повторно запустить GenerateDatasets Xml для этогоSOSСервер генерирует новый кусокdatasets.xmlдля этого набора данных. Генерировать наборы данных Xml позволит вам попробовать разные&lt;Варианты sosServerType&gt;, пока вы не найдете правильный для данного сервера. Если у вас все еще есть проблемы, пожалуйста, сообщите мне о проблеме, которую вы видите, и URL-адрес сервера, и я постараюсь помочь.
    * Наборы данных EDDTableFromFileNames
Некоторые атрибуты, которые рекомендуетсяaddAttributesТеперь это атрибуты источника. Вам, вероятно, не нужно ничего менять для существующих наборов данных в вашем компьютере.datasets.xml.
    * Устранение ошибок, связанных с определенными запросами к наборам данных EDDTableFromNcCFFiles.
Я также добавил большое количество единичных тестов к существующему большому количеству единичных тестов основных методов. (Существует 100 сценариев) . Спасибо Эли Хантеру.
    * Устранение ошибок / небольшие измененияEDDGridОт Мергейра.
Спасибо Джонатану Лафите и Филиппу Маковски
    * Устранение ошибок:EDDGridFromErddap теперь работает, даже если удаленный набор данных не имеетioos\\_categoryпеременные атрибуты.
Спасибо Кевину О'Брайену.
    * Bug fix на странице .graphEDDGridнаборы данных, когда имеется только одна переменная оси с более чем одним значением.
Спасибо Чарльзу Карлтону.
    * Были и другие небольшие улучшения, изменения и исправления ошибок.

## Версия 1.60{#version-160} 
 (Выпущено 2015-03-12) 

*    **Новые особенности (для пользователей) :** ни одного
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Оригинальное название: Update Your Server's[robots.txt](/docs/server-admin/additional-information#robotstxt)Файл включает в себя:
Запретить: /erddap/файлы
    * Инотифицировать проблему и решение:
На компьютерах Linux, если вы используете&lt;Обновление EveryNMillis с наборами данных с типом =EDDGridИз материалов, из материалов,EDDGridКопировать, EDDTableCopy или их подклассы, вы можете увидеть проблему, когда набор данных не загружается. (время от времени или последовательно) Сообщение об ошибке: «IOException: пользовательский лимит инотификационных экземпляров достиг или слишком много открытых файлов». Если это так, вы можете решить эту проблему, позвонив (как корень) :
echo fs.inotify.max\\_user\\_watches=65536|tee -a/etc/sysctl.conf
echo fs.inotify.max\\_user\\_instances=1024|tee -a/etc/sysctl.conf
sysctl -p
Используйте более высокие цифры, если проблема сохраняется. По умолчанию для часов 8192. По умолчанию, например, 128.\\[ОБНОВЛЕНИЕ: Есть ошибка вJavaЭто приводит к тому, что инотифицированные экземпляры не собираются в мусор. Эту проблему можно избежать вERDDAP™v1.66 и выше. Поэтому лучшим решением будет переход на последнюю версию.ERDDAP.\\]
    * NosuchFileИсключение Баг Фикс:
Была ошибка, которая могла вызвать наборы данных типа =EDDGridИз материалов, из материалов,EDDGridКопировать, EDDTableCopy или их подклассы, чтобы не загружаться время от времени с ошибкой «NoSuchFileException: _someFileName_». Ошибка связана с использованием FileVisitor и была введена вERDDAP™v1.56. Проблема встречается редко и, скорее всего, влияет на наборы данных с большим количеством часто меняющихся файлов данных.
    * Были некоторые небольшие улучшения, изменения и исправления ошибок.

## Версия 1.58{#version-158} 
 (Выпущено 2015-02-25) 

*    **Новые особенности (для пользователей) :** 
    * Новый["files"](https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html)Система позволяет просматривать виртуальную файловую систему и загружать исходные файлы данных из многихERDDAP™наборы данных. The"files"Система активна по умолчанию, ноERDDAP™Администраторы могут отключить его, поставив
```
        <filesActive>false</filesActive>  
```
вERDDAP™setup.xml файл. Особая благодарность Филиппу Маковски, который упорствовал, когда я не спешил оценить красоту этой идеи.
    * пункт назначения Макс. Ранее временная переменная наборов данных EDDTable с данными почти в реальном времени имела значение назначения NaN, которое подразумевало, что максимальное значение времени для набора данных является недавним, но точно не известно и часто меняется. Теперь пункт назначения Макс имеет реальное значение, указывающее на ныне известный последний раз. Многие наборы данных постоянно обновляются.ERDDAP™Поддерживает доступ к последним данным, даже если это произошло после последнего времени. Отметим, что новый [&lt;Обновление EveryNMillis (/docs/server-admin/datasets#updateeverynmillis) Поддержка вEDDGridИз материалов и EDDTable Наборы данных FromFiles обновляют пункт назначения переменной времени. Еще одним следствием этого изменения является то, чтоdatasetID=allDatasetsНабор данных теперь включает в себя последний раз известный в колонках maxTime. Спасибо Джону Керфуту.
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Оригинальное название: Update Your Server's[robots.txt](/docs/server-admin/additional-information#robotstxt)Файл включает в себя:
Запретить: /файлы/
Запретить: /erddap/файлы
    * Образецdatasets.xml- В прошлом году мы рекомендовали несколько превосходных наборов данных в береговой охране.ERDDAP™Что вы можете добавить к своемуERDDAP™Добавьте несколько строк к своемуdatasets.xml. Если вы добавили наборы данных erdVH, перейдите на новые наборы данных erdVH2:
        * Сделайте копию всех наборов данных erdVH и измените скопированныйdatasetIDs от erdVH... до erdVH2... и изменить указанныйsourceUrlОт erdVH до erdVH2
        * Установите erdVH... наборы данных на active="ложный".
    * ВсеEDDGridИз материалов и EDDTable Подклассы материалов теперь поддерживают [&lt;Доступные файлы&gt; (/docs/server-admin/datasets#доступные файлы) сделать исходные файлы данных доступными через"files"систем. По умолчанию эта система выключена для каждого набора данных. Вам нужно добавить тег, чтобы включить его. Спасибо Филиппу Маковски.
    * ВсеEDDGridИз материалов и EDDTable Подклассы материалов теперь поддерживают [&lt;Обновление EveryNMillis (/docs/server-admin/datasets#updateeverynmillis) . По умолчанию эта система выключена для каждого набора данных. Вам нужно добавить тег, чтобы включить его. Спасибо Доминику Фуллер-Роуэллу и NGDC.
    * Новый[EDDTable FromFileNames](/docs/server-admin/datasets#eddtablefromfilenames)Создает набор данных из информации о группе файлов в файловой системе сервера, но он не обслуживает данные из файлов. Например, это полезно для распространения коллекций файлов изображений, аудиофайлов, видеофайлов, файлов обработки текстов и файлов электронных таблиц. Это работает рука об руку с новым["files"](https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html)системы, чтобы пользователи могли загружать файлы. Особая благодарность Филиппу Маковски, который упорствовал, когда я не спешил оценить красоту этой идеи.
    * Новый[EDDGridИздательство:EDDTable](/docs/server-admin/datasets#eddgridfromeddtable)позволяет конвертировать табличный набор данных в сетчатый набор данных. Об этом сообщает Ocean Networks Canada.
    * Новый[EDDGridИзображения MergeIRFiles](/docs/server-admin/datasets#eddgridfrommergeirfiles)агрегирует данные из группы локальных MergeIR.gzФайлы.EDDGridFromMergeIRFiles отличается тем, что является первым фрагментом кода, внесенным вERDDAP. Это было сделано полностью без нашей помощи. Три приветствия и особая благодарность Джонатану Лафите и Филиппу Маковски из R.Tech Engineering.
    * Существует новый, дополнительный тег setup.xml,&lt;unitTestDataDir&gt;, в котором указывается каталог с файлами тестовых данных, которые доступны через новый репозиторий GitHub:[ https://github.com/ERDDAP/erddapTest ](https://github.com/ERDDAP/erddapTest). Например:
```
        <unitTestDataDir>/erddapTest/</unitTestDataDir>  
```
Это еще не полезно, но является частью движения к тому, чтобы сделать как можно больше единичных тестов управляемыми другими людьми. Спасибо Терри Ранкину.
    * Было много небольших улучшений, изменений и исправлений ошибок.

## Версия 1.56{#version-156} 
 (выпущенный 2014-12-16) 

*    **Новые особенности (для пользователей) :**   (Никто) 
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Вы, наверное, уже знаете о[EDDGridИз Эрддапа](/docs/server-admin/datasets#eddfromerddap)и[EDDTable FromErddap](/docs/server-admin/datasets#eddfromerddap)которые позволяют вам ссылаться на наборы данных в другихERDDAPПусть они появятся в вашемERDDAP. Запросы пользователей на фактические данные из этих наборов данных невидимо направляются к источнику.ERDDAP™Таким образом, данные не проходят через вашу систему или не используют вашу пропускную способность. В настоящее время существует большой список рекомендуемых наборов данных в выборке.datasets.xmlв erddapContent.zip. Чтобы включить их в свойERDDAP™Все, что вам нужно сделать, это скопировать и вставить те, которые вы хотите в свойdatasets.xml. Спасибо Конору Делани.
    * Если вы компилируетеERDDAP™Вам нужно добавить несколько новых. Файлы для вашего[Classpath-cp-переключатель](/docs/contributing/programmer-guide#development-environment)для джавака и джавы.
    * Новый[EDDTable From Кассандра](/docs/server-admin/datasets#eddtablefromcassandra)Ручки, получающие данные от[Кассандра](https://cassandra.apache.org/). Об этом сообщает Ocean Networks Canada.
    * Новый[EDDTable FromColumnarAsciiFiles](/docs/server-admin/datasets#eddtablefromcolumnarasciifiles)обрабатывает получение данных из файлов данных ASCII с помощью столбцов фиксированной ширины. Спасибо Филиппу Маковски.
    * ВсеEDDGridИз материалов и EDDTable Подклассы FromFiles теперь используют новый метод FileVisitor (Добавлено вJavaв 1,7) собирать информацию о файлах. Это может не иметь никакой пользы для первого сбора файловой информации для данного набора данных, но, по-видимому, имеет огромное преимущество для последующих сборов, если они будут сделаны в ближайшее время, в то время как ОС все еще имеет кэшированную информацию. Спасибо NGDC.
        
Мы по-прежнему рекомендуем: Если набор данных имеет большое количество файлов (Например, &gt;1000) , операционная система (и таким образомEDDGridИз файлов и EDDTable Из файлов) Работает намного эффективнее, если хранить файлы в серии подкаталогов. (один в год или один в месяц для наборов данных с очень частыми файлами) Чтобы никогда не было большого количества файлов в данном каталоге.
        
    * Несколько небольших улучшений в EDDTableFromAsciiFiles.
    * Некоторые улучшения в EDDTableFromAsciiServiceNOS, в частности, для получения дополнительных столбцов информации из источника. Спасибо Линн ДеВитт.
    * Некоторые небольшие исправления ошибок, связанные с ISO 19115ERDDAP™генерирует. Спасибо Анне Милан.

## Версия 1.54{#version-154} 
 (Выпущено 2014-10-24) 

*    **Новые особенности (для пользователей) :** 
    * Некоторые переменные теперь работают со временем с точностью миллисекунд, например, 2014-10-24T16:41:22.485Z. Спасибо Доминику Фуллер-Роуэллу.
*    **Небольшие изменения / исправления ошибок:** 
    * исправление ошибок: при определенном стечении обстоятельств,EDDGridНаборы данных из NcFile возвращали данные с пониженной точностью (Например, плавает вместо двойных) . Это может повлиять только на значения данных с &gt; 8 значащими цифрами. Мои извинения. (И это была классическая ошибка компьютерного программирования: один неправильный персонаж.) Спасибо Доминику Фуллер-Роуэллу.
    * Много мелких изменений.
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Наборы данных Griddap теперь поддерживают переменные оси временных меток и переменные данных (переменные со значениями времени, но adestinationNameкроме других"time") . Спасибо Доминику Фуллер-Роуэллу.
    *   ERDDAP™Правильно поддерживает миллисекундыtime\\_precision"1970-01-01T00:00:00.000Z". Одна преднамеренная причуда: при написании времени для ориентированных на человека файлов (Например, .csv,.tsv,.json,.xhtml) ,ERDDAP™использует указанныйtime\\_precisionесли он включает в себя секунды и/или десятичные секунды; в противном случае он использует секунды;time\\_precision"1970-01-01T00:00:00Z" (для согласованности и обратной совместимости) . Спасибо Доминику Фуллер-Роуэллу.
    *   EDDGridFromNcFiles теперь поддерживает чтение строкdataVariableС.
    *   .ncФайлы, написанные griddap, теперь могут иметь StringdataVariableС.
    * Генерировать наборы данных Xml теперь включает в себя больше флешей () Звонки, чтобы избежать проблемы, когда информация не записывается в файлы. Спасибо Тьерри Валеро.
    * Документация для GenerateDatasetsXml была улучшена, в частности, чтобы указать, что переключатель -i работает только в том случае, если вы указываете все ответы в командной строке. (Например, режим сценария) . И режим сценария объясняется. Спасибо Тьерри Валеро.
    *   ERDDAP™больше не позволяет двум переменным в наборе данных иметь одинаковуюsourceName. (Если кто-то делал это раньше, это, вероятно, приводило к сообщениям об ошибках.) Как и прежде,ERDDAP™не позволяет двум переменным в наборе данных иметь одинаковуюdestinationName.

## Версия 1.52{#version-152} 
 (Выпущено 2014-10-03) 

*    **Новые особенности:**   (ни одного) 
*    **Небольшие изменения / исправления ошибок:** 
    * Другой (меньше) Изменить, чтобы сделатьERDDAP™Быстрее.
    * Улучшение файлов ISO 19115, сгенерированныхERDDAPДобавлено вновь рекомендовано&lt;gmd:protocol&gt; ценности (информация, поиск,OPeNDAP:OPeNDAP,ERDDAP:griddap, иERDDAP:tabledap) внутри&lt;gmd:CI\\_OnlineResource&gt;. Спасибо Деррику Сноудену и Джону Мауреру.
    * Много мелких изменений.
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * GenerateDatasetsXml.sh и DasDds.sh не были в erddap.war для 1,48 и 1,50. Теперь они есть. Спасибо Тьерри Валеро.
    * Небольшие изменения в некоторых тестах скорости в TestAll делают их менее восприимчивыми к случайности. Спасибо Терри Ранкину.

## Версия 1.50{#version-150} 
 (Выпущено 2014-09-06) 

*    **Новые особенности:**   (ни одного) 
*    **Небольшие изменения / исправления ошибок:** 
    * ЭтоERDDAP™Это должно быть намного быстрее, чем последние версии.
*    **ВещиERDDAP™Администраторы должны знать и делать:**   (ничего) 

## Версия 1.48{#version-148} 
 (Выпущено 2014-09-04) 

*    **Новые особенности:** 
    *   ERDDAP™теперь всегда создает табличный набор данных,datasetID=allDatasets, который имеет таблицу информации обо всех наборах данных в этомERDDAP. Его можно запрашивать, как и любой другой табличный набор данных. Это полезная альтернатива действующей системе для получения информации о наборах данных программно.
    * Существует два новых типа выходных файлов для EDDTable иEDDGrid.csv0 и.tsv0. Это файлы с запятыми и разделёнными вкладками, которые не имеют строк с именами столбцов или блоков. Данные начинаются с первой строки. Они особенно полезны для скриптов, которым нужна только одна информация.ERDDAP.
*    **Небольшие изменения / исправления ошибок:** 
    * Карты теперь можно делать до долгот в диапазоне от -720 до 720.
    * Новый.ncТип файла ответа мл доступен для всехEDDGridнаборы данных. Он возвращает[НКМЛ](https://docs.unidata.ucar.edu/netcdf-java/current/userguide/ncml_overview.html)\\-форматированное описание набора данных (Похожие на .dds + .das) .
    * Устранение ошибок: сохранение табличных данных в.ncФайл был ограничен 100 000 значений на переменную. Теперь он ограничен общим размером файла 2 ГБ. Спасибо Кевину О'Брайену.
    * Оригинальное название: The SaveAsMatlabТеперь методы обеспечиваютdatasetIDпревращаются в безопасныеMatlabпеременные имена. Но я все же настоятельно рекомендую вам создатьdatasetIDs, которые являются действительными переменными именами: начиная с буквы, а затем просто используя A-Z, a-z, 0-9 и \\_. Видишь?[datasetID](/docs/server-admin/datasets#datasetid). Спасибо Люку Кэмпбеллу.
    * Устранение ошибок в EDDTableFromDatabase: С некоторыми типами баз данных, NO Ответ DATA из базы данных привел к бессмысленной 30-секундной задержкеERDDAP. Спасибо Грегу Уильямсу.
    * Устранение ошибок:EDDGridСделать граф с типом графа = строки (или маркеры или маркеры и линии) Вынужденная переменная оси x - время. Теперь это может быть любая ось. Спасибо Линн ДеВитт.
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * РЕКОМЕНДУЕТСЯ: ОбновлениеJava  
Эта версияERDDAP™требуетJava7 или выше, ноJava7 выйдет из жизни в апреле 2015 года (Скоро&#33;) Итак, сейчас самое время переключиться наJava8.Java8 ПРЯМО РЕКОМЕНДУЕТСЯ. Я тестирую сJava8 Заметьте, чтоJava6 достигли конца жизни в феврале 2013 года (Больше никаких исправлений&#33;) .
    * Оригинальное название: Update Tomcat
Если вы используете Tomcat, перейдите на последнюю версию Tomcat. Tomcat 8 будет работать сJava8.
    * "ERDDAP"больше не является аббревиатурой. Теперь это просто имя. Я не хочу, чтобы имя выделялоERD. Я хочуERDDAP™Выделите ваше учреждение и ваши данные.
    * Пожалуйста[Настройка внешнего вида вашегоERDDAP™Установка для выделения вашего учреждения и ваших данных](/docs/server-admin/deploy-install#customize). С часовой работой вы можете сделать хорошие улучшения, которые будут длиться вечно.
    * В setup.xml,&lt;Опция displayDiagnosticInfo теперь всегда игнорируется и рассматривается как ложная.
Оригинальное название: Remove the&lt;displayDiagnosticInfo&gt; тег и связанная с ним информация с вашего setup.xml.
    * В setup.xml по умолчанию&lt;drawLandMask&gt; было «завершено», но теперь оно «под», что является лучшим общим дефолтом (Хорошо работает со всеми наборами данных) .
    * Скрипты GenerateDatasetsXml.sh и DadDds.sh Linux теперь используют bash вместо csh и имеют расширение .sh. Спасибо Эмилио Майорга
    * Генерировать наборы данных Xml и DasDds создают собственные файлы журналов (GenerateDatasetsXml.log и DasDds.log) и выходные файлы (GenerateDatasetsXml.out и DadDds.out) в _bigParentDirectory_/logs/ и никогда не помещайте свои результаты в буфер обмена.
    * Генерировать наборы данных Xml теперь поддерживает параметр командной строки -i, который вставляет вывод в указанный файл в указанном месте. Видишь?[документация](/docs/server-admin/datasets#generatedatasetsxml). Спасибо Терри Ранкину.
    * EDDTableFromDatabase поддерживает&lt;Колонка Имя Цитаты&lt;/columnNameQuotes&gt;, с действительными значениями". (по умолчанию) Или ничего. Этот персонаж (если есть) Они будут использоваться до и после имен колонок в SQL-запросах. Различные типы баз данных, настроенных по-разному, потребуют разных кавычек названий колонок.
    * Табульные переменные широты и долготы теперь могут быть настроеныlong\\_names, например, широта профиля. Раньше это могли быть только широта и долгота.
    * Отныне укажите «defaultDataQuery» и «defaultGraphQuery» в качестве атрибутов глобальных метаданных набора данных (т.е.&lt;Добавить&gt;, а не отдельно&lt;По умолчанию DataQuery и&lt;Теги defaultGraphQuery&gt;. (Хотя, если вы все еще указываете их через теги,ERDDAP™автоматически создавать глобальные атрибуты с информацией.) 

## Версия 1.46{#version-146} 
 (Выпущено 2013-07-09) 

*    **Новые особенности:** 
    *    (Никто) 
*    **Небольшие изменения / исправления ошибок:** 
    * исправление ошибок: в EDDTableFromDatabase, только в версии 1.44,ERDDAP™Неправильно цитировал название таблицы базы данных в SQL-заявлениях. Теперь это исправлено. Спасибо Кевину О'Брайену.
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    *    ** Если вы не изменяете стандартные сообщения в messages.xml,
удалять\\[кот\\]/content/erddap/messages.xml. **   
Файл message.xml по умолчанию теперь находится в erddap. Военный файл, а не erddapContent.zip. Таким образом, вам больше не нужно вручную обновлять сообщения.xml.
    * Если вы изменяете сообщения в messages.xml, отныне каждый раз, когда вы обновляетеERDDAP™Либо:
        * Внесите те же изменения, что и раньше, в новый
            \\[кот\\]/webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml.
И в этот раз: удалите\\[кот\\]/content/erddap/messages.xml.
        * Узнайте, что изменилось в новых сообщениях.xml (через diff) и изменить свой
            \\[кот\\]/content/erddap/messages.xml файл соответственно.

## Версия 1.44{#version-144} 
 (Выпущено 2013-05-30) 

*    **Новые особенности:** 
    * Запросы к наборам данных EDDTable теперь поддерживаютсяorderByМинь (...) иorderByMinMax (...)   (который возвращает два ряда в каждой группе, с минимумом и максимумом последнегоorderByценность) . Спасибо Линн ДеВитт.
    * Есть два новыхtabledapТипы файлов:.ncруководитель и.ncГлава CFMA (который возвращает ncdump-подобный заголовок соответствующего.ncCF и.ncТипы файлов CFMA) . Спасибо Стиву Хэнкину.
*    **Небольшие изменения / исправления ошибок:** 
    * Загрузка веб-страниц .graph и .html для наборов данных с большим количеством значений времени была медленной, потому чтоERDDAP™Он был медленным при создании опций слайдера времени. Теперь это всегда быстро. Спасибо Майклу Барри, OOICI и Кристиану Себастьяну Блалиду.
    * Устранение ошибок: В некоторых типах наборов данных EDDTable временные ограничения не всегда обрабатывались правильно. Теперь они есть. Спасибо Джону Мауреру и Кевину О'Брайену.
    * исправление ошибок: наборы данных не будут загружаться, когда всеsubsetVariablesЭто были переменные фиксированной стоимости. Теперь будут. Спасибо Линн ДеВитт и Джону Петерсону.
    * УПРАВЛЕНО: теперь все запросы только для подмножества переменных действуют как () является частью запроса.
    * Усовершенствовано: теперь для запросов, которые включают и.jsonp=_functionName_,_function Имя должно быть серия 1 или более (разделенный по периодам) Слова. Каждое слово должно начинаться с буквы ISO 8859 или «_» и сопровождаться 0 или более буквами ISO 8859, цифрами или «\\_». Это более ограничительно, чемJavaТребования скрипта к именам функций.
    * Ось времени на графиках теперь хорошо работает для более длительных временных диапазонов. (80-10000 лет) и более короткие временные интервалы (0,003 - 180 секунд) .
    *   ERDDAP™В настоящее время более простительно при анализе вариаций данных формата ISO-8601.
    * Было много других небольших изменений и исправлений ошибок.
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    *    **Обновление до последней версии должно быть безопасным.**   
        ERDDAP™Прошел аудит безопасности. Были некоторые ошибки и слабости. Версия 1.44 включает несколько важных исправлений ошибок безопасности и несколько изменений для повышения безопасности и доступности. (Например, для пользователей с нарушениями зрения) . Версия 1.44 прошла аудит безопасности. Спасибо всем хорошим людям в USGS и Acunetix, которые сделали это возможным. (Не следуетNOAAДелать это?) 
    * Новый[EDDTable FromWFSФайлы](/docs/server-admin/datasets#eddtablefromwfsfiles)сделать локальную копию всех данных изArcGISMapServerWFSсервер и, таким образом, данные могут быть быстро сохранены дляERDDAP™пользователей. Спасибо Кристи Каудилл.
    * Новый[EDDTable FromEDDGrid](/docs/server-admin/datasets#eddtablefromeddgrid)позволяет создавать набор данных EDDTable изEDDGridнабор данных. Некоторые общие причины сделать это:
        * Это позволяет запрашивать набор данных сOPeNDAPограничения выбора (который пользователь мог запросить) .
        * Набор данных по своей сути является табличным набором данных. Спасибо OOICI, Джиму Потемре, Рою Мендельсону.
    * Вариабельное название «глубина» теперь является особой альтернативой «высоте». Единицы должны быть некоторого варианта «метров». Значения данных должны быть положительными = пониженными.ERDDAP™Теперь он полностью осознает значение «глубины» и поддерживает его везде, где поддерживается высота. (Например, в качестве компонента CF DSG cdm\\_data\\_type=profile dataset) . Набор данных не должен иметь переменных «глубина» и «высота».
    * В твоейdatasets.xmlПожалуйста, удалите любое использование&lt;Att name="cdm\\_altitude\\_proxy"&gt; deep&lt;Глубина теперь является особой альтернативой высоте, поэтому ее не нужно специально идентифицировать.
    * В твоейdatasets.xmlПожалуйста, удалите любое использование&lt;EDDTable (кроме EDDTable) изSOS.
Когда значение 1, просто удалите его.
При значении -1 рассмотрите возможность изменения переменного имени на глубину.
Для других значений добавьте&lt;addAttributes&gt;, например:
```
        <att name="scale\\_factor" type="float">-1</att>
```

    * Все наборы данных теперь поддерживают
        
        *   &lt;DataQuery по умолчанию, который используется, если .html запрашивается без запроса.
            * Вам, вероятно, редко придется использовать это.
            * Для наборов данных griddap, общее использование этого заключается в том, чтобы указать другое значение глубины или высоты по умолчанию. (например,\\[0\\]вместо того, чтобы\\[последний\\]) .
В любом случае, вы всегда должны перечислять все переменные, всегда использовать одни и те же значения размерности для всех переменных и почти всегда использовать\\[0\\],\\[последний\\]или\\[0:Последний\\]Для значений измерений.
Например:
```
                <defaultDataQuery>u\\[last\\]\\[0\\]\\[0:last\\]\\[0:last\\],v\\[last\\]\\[0\\]\\[0:last\\]\\[0:last\\]</defaultDataQuery>
```

            * Дляtabledapнаборы данных, наиболее распространенным использованием которых является указание другого диапазона времени по умолчанию (относительно настоящего времени, например, &time&gt;=now-1 день) .
Помните, что запрос переменных данных не совпадает с указанием всех переменных данных, поэтому обычно вы можете просто указать новое ограничение времени.
Например:
```
                <defaultDataQuery>&amp;time&gt;=now-1day</defaultDataQuery>
```

        *   &lt;По умолчанию GraphQuery&gt;, который используется, если .graph запрашивается без запроса.
            * Вам, вероятно, редко придется использовать это.
            * Для наборов данных griddap наиболее распространенным использованием этого является определение другого значения глубины или высоты по умолчанию. (например,\\[0\\]вместо того, чтобы\\[последний\\]) и/или указать, что конкретная переменная должна быть отображена на графике.
В любом случае, вы почти всегда будете использовать\\[0\\],\\[последний\\]или\\[0:Последний\\]Для значений измерений.
Например:
```
                <defaultGraphQuery>temp\\[last\\]\\[0\\]\\[0:last\\]\\[0:last\\]&amp;.draw=surface&amp;.vars=longitude|latitude|temp</defaultGraphQuery>
```

            * Дляtabledapнаборы данных, наиболее распространенным использованием которых является определение различных переменных, подлежащих графированию, различного диапазона времени по умолчанию (относительно настоящего времени, например, &time&gt;=now-1 день) и/или различные настройки графики по умолчанию (Например, тип маркера) .
Например:
```
                <defaultGraphQuery>longitude,latitude,seaTemperature&amp;time&gt;=now-1day&amp;.marker=1|5</defaultGraphQuery>
```

Помните, что вам нужен XML-код или процент-код. (Один, но не оба) запросы по умолчанию, поскольку они находятся в XML-документе. Например, & становится &amp;amp;&lt;становится &amp;lt; и &gt; становится &amp;gt;
Пожалуйста, проверьте свою работу. Легко ошибиться и не получить то, что хочешь.
Спасибо Чарльзу Карлтону, Кевину О'Брайену, Люку Кэмпбеллу и другим.
    *   EDDGridОт Депа,EDDGridEDDTable FromErddap и EDDTable FromEDDGridНовая система для работы с наборами данных, которые часто меняются (Так часто, как примерно каждые 0,5 с) . отличиеERDDAPРегулярная проактивная система для полной перезагрузки каждого набора данных, эта дополнительная система является реактивной. (вызванный запросом пользователя) и постепенно (Обновление информации, которую необходимо обновить) . Например, если запрос наEDDGridНабор данных FromDap происходит более указанного количества миллисекунд с момента последнего обновления.ERDDAP™Посмотрим, есть ли какие-то новые ценности для левых. (обычно"time") размер и, если это так, просто скачайте эти новые значения перед обработкой запроса пользователя. Эта система очень хорошо поддерживает быстро меняющийся набор данных с минимальными требованиями к источнику данных, но за счет небольшого замедления обработки некоторых запросов пользователей. Смотри.&lt;Обновление EveryNMillis (/docs/server-admin/datasets#updateeverynmillis)   
Спасибо Майклу Барри и OOICI.
    *   EDDGridFromNcFiles, EDDTableFromNcFiles и EDDTableFromNcCFFiles теперь поддерживаются[NcML.ncмл](/docs/server-admin/datasets#ncml-files)Файлы вместо исходных.ncФайлы. Спасибо Хосе Б. Родригесу Руэде.
    * ДляEDDGridСовокупность существующих измерений,ERDDAP™поддерживает новый вариант serverType="dodsindex" для атрибута serverType&lt;sourceUrls&gt; Tag. Это работает с веб-страницами, которые имеют списки файлов внутри.&lt;пре&lt;/pre&gt; и часто нижеOPeNDAPЛоготип. Примером является[ https://opendap.jpl.nasa.gov/opendap/GeodeticsGravity/tellus/L3/mascon/RL06/JPL/v02/CRI/netcdf/contents.html ](https://opendap.jpl.nasa.gov/opendap/GeodeticsGravity/tellus/L3/mascon/RL06/JPL/v02/CRI/netcdf/contents.html).
    * Для EDDTable FromSOSТеперь поддерживает дополнительный тег
```  
        <sosServerType>_serverType_</sosServerType>  
```
Вы можете указать типSOSсервер (такERDDAP™не обязательно разбираться в этом) . Действительные значения&lt;_serverType_\\&gt; являются IOOS\\_NDBC, IOOS\\_NOS,OOSTethysи ВОЗ (Новый поддерживаемый сервер Тип) . Видишь?[EDDTable FromSOS](/docs/server-admin/datasets#eddtablefromsos). Спасибо Деррику Сноудену и Джанет Фредерикс.
    * ВсеEDDGridИз... материалов, из... материалов,EDDGridКопировать и EDDTable Copy теперь поддерживает дополнительный тег
```
        <fileTableInMemory>true</fileTableInMemory> (The default is false.)  
```
который может сказатьERDDAP™Чтобы сохранить файл Столик (с информацией о каждом файле исходных данных) в памяти, а не только на диске (по умолчанию) . Сохранение FileTable в памяти ускоряет запросы на данные (Особенно, если имеется более 1000 исходных файлов данных.) Использует больше памяти. Если вы установите это для любого набора данных, следите за памятью: в настоящее время используется строка в _yourDomain_/erddap/status.htmlобеспечить, чтобыERDDAP™У него много свободной памяти. Спасибо Фредрику Стрей.
    * EDDTableFromASCIIFiles теперь поддерживает&lt;Шарсет. Два самых распространенных колесницы (Дело деликатное&#33;) ISO-8859-1 (по умолчанию) и UTF-8.
    * Рекомендуется: в setup.xml, в пределах&lt;StartHeadHtml&gt;, пожалуйста, измените&lt;html в
        &lt;html lang="en-US" (или другой[Языковой код](https://www.w3schools.com/tags/ref_language_codes.asp)Если вы переводите сообщения.xml) .
    * setup.xml имеет новые дополнительные теги для отключения частейERDDAP:
        *   &lt;ПреобразователиАктивный&gt;ложный&lt;/ConvertersActive&gt;&lt;По умолчанию это правда.
        *   &lt;SorterActive &gt; Ложь&lt;/slideSorterActive&lt;По умолчанию это правда.
        *   &lt;wmsActive&gt;ложный&lt;/wmsActive&lt;В общем, мы рекомендуем не устанавливать какие-либо из них на ложные.
    * Генерировать наборы данных Теперь Xml записывает результаты в _bigParentDirectory_/logs/generateDatasetsXmlLog.txt, а не log.txt. Спасибо Кристиану Себастьяну Блалиду.
    * Генерировать наборы данных Xml делает хорошее предложение для&lt;перезаряжать EveryNMinutes. БлагодаряNOAAПроект UAF.
    * Многие небольшие улучшения в GenerateDatasetsXml. БлагодаряNOAAПроект UAF.

## Версия 1.42{#version-142} 
 (Выпущено 2012-11-26) 

*    **Новые особенности:** 
    *    (Никаких новых особенностей.) 
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Если вы совершенствуетесь отERDDAP™1,38 или 1,40, не было никаких изменений, которые требуют внесения изменений в ваши файлы конфигурации. (Вы должны использовать новый файл message.xml) .
    *   ERDDAP™Снова можно бегать сJava1,6. (ERDDAP™v1.40 требуетсяJava1.7.) Мы рекомендуем использовать последнюю версиюJava1.7.
    * новый тип набора данных,[EDDTable From AwsXmlFiles](/docs/server-admin/datasets#eddtablefromawsxmlfiles)Может считывать данные с автоматической метеорологической станции (AWS) XML файлы данных. Спасибо Линн Дьюитт и Эксплораторию.
*    **Небольшие изменения / исправления ошибок:** 
    * Скорректировано с учетом изменений в NDBCSOSсерверы исходных данных.
    * Скорректировано с учетом изменений в сервисах NOS COOPS ASCII.
    * Внес несколько небольших изменений и исправлений ошибок.

## Версия 1.40{#version-140} 
 (Выпущено 2012-10-25) 

*    **Новые особенности:** 
    * Существует новый формат выходного файла дляtabledapнаборы данных:.ncCFMA, которая сохраняет запрашиваемые данные в.ncФайл, который соответствует CF[Дискретная геометрия выборки](https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries)Варианты многомерных массивов, которые, следовательно, соответствуют шаблонам NODC\\[2021: сейчас[Шаблоны NCEI](https://www.ncei.noaa.gov/netcdf-templates)\\]для хранения данных такого типа. Спасибо NODC.
    *   tabledapЗапросы теперь могут включать временные ограничения, такие как &time.now-5 дней. Видишь?[документация](https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#now). Спасибо Джеймсу Гослингу.
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Если вы совершенствуетесь отERDDAP™1.38, не было никаких изменений, которые требуют от вас внесения изменений в ваши файлы конфигурации. (Вы должны использовать новый файл message.xml) .
    *   ERDDAP™Публичные релизы и внутренние вехи доступны через[ERDDAP™На GitHub](https://github.com/ERDDAP). Для получения дополнительной информации см.[Вики](https://github.com/ERDDAP/erddap/wiki)дляERDDAP™Проект, а также более общий[ERDDAP™Руководство программиста](/docs/contributing/programmer-guide). (Об этом было объявлено отдельно через несколько недель послеERDDAP™1.38 Освобождение.) 
    * Генерировать наборы данных Xml был улучшен.
        * Сценарий был пересмотрен, чтобы он работал правильно на всех компьютерах Linux. (Не только несколько) .
        * Теперь добавляетсяcreator\\_name,creator\\_emailиcreator\\_urlпо возможности.
        * Много других небольших улучшений.
    * Уточнить какERDDAP™Работа со временем.
        * Внутренне,ERDDAP™Теперь обрабатывает время с точностью миллисекунды (Не секунды) .
        * Теперь вы можете дополнительно указать точность времени для данного набора данных, см.[time\\_precision](/docs/server-admin/datasets#time_precision). Например, вы можете установить набор данных для отображения значений времени с точностью даты. (например, 1970-01-01) .
        * Ваши текущие наборы данных будут использовать настройки по умолчанию, поэтому они не затронуты этими изменениями и будут продолжать отображать время с точностью до секунд. Спасибо Сервету Чизмели и Филиппу Голдштейну.
    *   [EDDTable FromNcCFFiles](/docs/server-admin/datasets#eddtablefromnccffiles)Это новый тип набора данных, который вы можете использоватьdatasets.xmlФайл. Он может считывать данные из любого из многочисленных форматов файлов, определенных[CF Дискретная геометрия выборки](https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries)конвенции. Благодаря NODC и особой благодарности Кайлу Уилкоксу за создание образцов файлов для огромного количества действительных форматов файлов DSG и за их общедоступность.
*    **Небольшие изменения / исправления ошибок:** 
    * Расширенный The[FastRestart](#quick-restart)Система для всех соответствующихEDDGridПодклассы EDDTable.
    * Улучшенная документация, особенно в отношении использования[сетка](https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#fileType)и[tabledap](https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#fileType)различных клиентских программ.
    * Изменен расширенный поиск для поддержки minTime и/или maxTime, выраженный как eraSeconds. Спасибо Линн Дьюит.
    * измененный.htmlTableвывод для отображения URL-адресов и адресов электронной почты в качестве ссылок.
    * Добавлены "rel=" и "rev=" к соответствующим&lt;href&gt; Tags. Спасибо Пэту Каппелару изOGC RESTПроект.
    * Улучшенная защита от нереалистичных запросов на большие данные, в частности,tabledapТам, где это более сложная проблема.
    * Перенесите больше сообщений на message.xml.
    * Сделал улучшения скорости.
    * фиксированныйEDDGridИз материалов, чтобы позволить спускающимся отсортированным осям. Спасибо Мариселу Этчегарай.
    * Удалены ссылки на iGoogle, так как он будет прекращен.
    * Внес несколько небольших изменений и исправлений ошибок.

## Версия 1.38{#version-138} 
 (Выпущено 2012-04-21) 

*    **Новые особенности:** 
    * ISO 19115 и FGDCERDDAP™Может автоматически генерировать файлы метаданных ISO 19115 и FGDC XML для каждого набора данных. Ссылки на файлы видны в каждом списке наборов данных. (Например, из поиска полного текста) а также в веб-доступных папках (ВСФ)   (Видишь?[FGDC WAF](https://coastwatch.pfeg.noaa.gov/erddap/metadata/fgdc/xml/)и[ISO 19115 WAF](https://coastwatch.pfeg.noaa.gov/erddap/metadata/iso19115/xml/)) . Спасибо Теду Хаберману, Дэйву Нойфельду и многим другим.
    * Полный текст Поиск наборов данных теперь поддерживаетсяexcludedWord_ и \\-"_исключенная фраза_". Спасибо Ричу Сигнеллу.
    * Поиск наборов данных теперь возвращает результаты на страницу за раз. По умолчанию используется строка параметров: page=1&itemsPerPage=1000, но вы можете изменить значения в URL вашего запроса. Спасибо Стиву Ханкину и проекту UAF.
    *   OpenSearch-ERDDAP™Теперь поддерживает[OpenSearch1.1.1](https://coastwatch.pfeg.noaa.gov/erddap/opensearch1.1/index.html)Стандарт для поиска наборов данных. Помимо прочего, это позволяет сайтам агрегации каталогов выполнять распределенный поиск. (отправка поискового запроса в каждый каталог, о котором он знает) .
    * Комма разделилась ценность (CSV) Файлы -ERDDAP™Теперь генерирует файлы CSV с помощью запятой между значениями. (Что предпочитает Excel) Вместо Comma+Space. Спасибо Джеффу де ЛаБожардьеру.
    * Миллионы данных — Было внесено несколько изменений в поддержкуERDDAPИмеет огромное количество наборов данных, возможно, даже миллион. Спасибо Стиву Ханкину и проекту UAF.
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
#### Быстрый запуск{#quick-restart} 
*   [А.](#quick-restart)Система быстрого перезапуска позволяетERDDAP™Перезапустить гораздо быстрее.
     **Добавьте это в свой файл setup.xml** сразу после&lt;/datasetsRegex&gt;:
```
              <!-- If true, when you start up ERDDAP™, some types of datasets (e.g., 
              EDDGridFromDap) will used cached information (.dds, .das, etc.) to reload
              very quickly, without contacting the remote server.  The dataset's age 
              will be based on when the dataset was reloaded last.  Normally this 
              should be true (the default), but set it to false if you want to bypass 
              the cached information.
              <quickRestart>true</quickRestart>
```

    * Полный текстовый поиск наборов данных теперь можно сделать с помощью поисковой системы Lucene. (Хотя мы рекомендуем исходную поисковую систему, если у вас менее 10 000 наборов данных.) оригинальная поисковая система.
         **Добавьте это в свой файл setup.xml** сразу после&lt;/displayDiagnosticInfo&gt;:
```
              <!-- ERDDAP™ lets you choose between two search engines for full text searches:
              \\* original (the default) -- is the best choice if your ERDDAP™ has fewer 
                than about 10,000 datasets.  It is very robust and trouble free. 
              \\* lucene -- is the best choice for more than about 10,000 datasets.
                The advantages are that with any number of datasets it works fast 
                and uses very little memory.
                But there are many things that might go wrong with individual 
                queries and with the whole system. 
                And although its behaviour (the datasets it finds and the order that
                it ranks them) is almost identical to the original search engine,
                it has a few quirky, subtle, small differences.
              -->
              <searchEngine>original</searchEngine>
```

    * В setup.xml вы можете/должны добавить две новые категории в список, разделенный запятой.&lt;categoryAttributes&gt;:
        * Оригинальное название: Keywords (Добавить сразу после глобального:) - новый специальный случай, который анализирует список ключевых слов, разделенный запятой, из атрибута глобальных ключевых слов, чтобы сделать отдельную запись для каждого ключевого слова.
        * переменный Имя (Добавить в конце) - новый специальный случай, который категоризирует каждыйdataVariable destinationNameС.
    * В setup.xml вы можете (Но почему?) рассказыватьERDDAP™не предлагать метаданные FGDC и/или ISO 19115 для любого набора данных, включая
```
        <fgdcActive>false</fgdcActive>  
        <iso19115Active>false</iso19115Active>
```

Значения по умолчанию для этих настроек верны.
    * вdatasets.xmlПожалуйста, рассмотрите возможность улучшения метаданных для ваших наборов данных.ERDDAP™Теперь автоматически генерирует файлы метаданных ISO 19115 и FGDC XML для каждого набора данных на основе метаданных набора данных.
Итак, **Хорошие метаданные набора данных приводят к хорошимERDDAP- сгенерированные метаданные ISO 19115 и FGDC.**   
         **Ознакомьтесь с новой документацией для многих новых[Глобальные атрибуты](/docs/server-admin/datasets#global-attributes).** 
    * вdatasets.xmlЕсли вы хотите сказатьERDDAP™использовать готовый файл FGDC и/или ISO 19115, который находится где-то в файловой системе сервера, вместо того, чтобы иметьERDDAP™Создайте эти файлы, используйте:
```
        <fgdcFile>_fullFileName_</fgdcFile>  
        <iso19115File>_fullFileName_</iso19115File>
```
Если _fullFileName_\\="" или файл не найден, набор данных не будет иметь метаданных FGDC и/или ISO 19115. Это также полезно, если вы хотите подавить метаданные FGDC и/или ISO 19115 для определенного набора данных.
    * вdatasets.xmlДля всехEDDGridSideBySide иEDDGridНаборы данных AggregateExistingDimension, убедитесь, что наборы данных детей имеют разные значения.datasetIDs чем их родительские наборы данных и чем другие дети. (Например, вы могли бы следовать простой, но эффективной системе Джорджа Формана для обозначения своих детей.) Если какие-либо имена в семье одинаковы, набор данных не будет загружаться. (с сообщением об ошибке, что значения агрегированной оси не сортируются) .
    * вdatasets.xmlБыли внесены некоторые изменения в список действительныхioos\\_categoryзначения метаданных:
        * "pCO2" было изменено на "CO2".
        * Добавлена «Физическая океанография».
        * Добавлены «почвы».
    * вdatasets.xml,ERDDAP™Больше не позволяет ".."datasetID. Это было разрешено, но обескуражено. (Извините.) 
    * вdatasets.xmlНастройка для EDDTableFromThreddsFiles и EDDTableFromHyraxФайлы немного изменились, потому что оба класса были просто переписаны, чтобы быть более эффективными. (Оба класса теперь всегда делают локальную копию всех удаленных файлов данных.) . Смотрите документацию для создания этих классов:[EDDTable FromHyraxФайлы](/docs/server-admin/datasets#eddtablefromhyraxfiles)и[Скриншоты из ThreddsFiles](/docs/server-admin/datasets#eddtablefromthreddsfiles). В частности, см. пересмотренные замечания по&lt;FileDir&gt; (неактуальный) и&lt;sourceUrl&gt; (Теперь необходимо) . Кроме того, вы никогда не должны обертывать этот класс в EDDTableCopy для эффективности.
    * вdatasets.xmlЕсли вы используете EDDTableFromDatabaseOracleБаза данных, вы должны включить соединение Собственность, такая как
```
        <connectionProperty name="defaultRowPrefetch">4096</connectionProperty>  
```
Определить, сколько строк данных нужно извлечь за один раз, потому что по умолчанию 10, что ужасно неэффективно. Видишь?[Oracleдокументация](https://docs.oracle.com/cd/B10501_01/java.920/a96654/basic.htm). MySql и PostgreSQL, кажется, имеют лучшие дефолты для этой настройки. Спасибо Кевину О'Брайену.
    * Если вы используете EDDTableFromDatabase, обратите внимание на улучшение.["Скорость" документация](/docs/server-admin/datasets#eddtablefromdatabase)Дополнительные предложения по улучшению производительности. Спасибо Кевину О'Брайену.
    * вdatasets.xml, для всех EDDTable ... наборов данных, в Конвенции иMetadata\\_ConventionsГлобальные атрибуты, пожалуйста, обратитесь к CF-1.6 (не CF-1.0, 1.1, 1.2, 1.3, 1.4 или 1.5) CF-1.6 является первой версией, которая включает изменения, связанные с дискретной геометрией выборки.
    * Программисты, которые составляютERDDAP™Код должен добавить lib/lucene-core.jar в список jar-файлов в строках командной строки javac и java.
    *   ERDDAP™имеет[Новый сервис](https://coastwatch.pfeg.noaa.gov/erddap/convert/keywords.html)Преобразовать стандартное имя CF в / из ключевого слова GCMD Science. Вы можете найти это полезным при создании глобальных метаданных ключевых слов для наборов данных в вашем веб-сайте.ERDDAP.
    * Работа с ботами - Пожалуйста, прочитайте этот совет для[Чтобы боты не ползали по вамERDDAP™Глупым способом](/docs/server-admin/additional-information#robotstxt).
    * Перевод: Текст наERDDAPВеб-страницы теперь в основном в сообщениях.xml и поэтому подходят для перевода на разные языки. (Например, немецкий, французский) . Сообщения теперь часто используют MessageFormat для форматирования, а также для перевода. Если вы заинтересованы в переводе, пожалуйста, напишитеerd dot data at noaa dot gov.
    * Образецdatasets.xml- В выборке было несколько небольших, но значительных ошибок.datasets.xml. Если вы используете эти наборы данных, пожалуйста, получите новые версии из нового образца.datasets.xmlВ новом erddapContent.zipФайл. Спасибо Джеймсу Уилкинсону.
    * Гит.. Я буду стараться сделатьERDDAP™Проект GitHub сразу после релиза.
*    **Небольшие изменения / исправления ошибок:** 
    * Новая палитра OceanDepth полезна для определения глубины (Положительный вниз) Например, 0 (мелкий) до 8000 (глубокий) .
    * The.kmlвыход изtabledapИспользует лучший значок маркера (он не пушистый) . И зависание над маркером делает его больше.
    * EDDTable FromFiles В последнем обновлении новая библиотека netcdf-java имела более жесткие ограничения для переменных имен..ncФайлы. Это вызвало проблемы для EDDTableFromFiles, если переменнаяsourceNameУ него были определенные знаки препинания. EDDTableFromFiles теперь изменен, чтобы избежать этой проблемы. Спасибо Томасу Холкомбу.
    * Страница .subset теперь поддерживает 0/10/100/1000/10000/100000 вместо флажка для связанных данных. Инструментарий предупреждает, что 100000 может привести к сбою вашего браузера. Спасибо Аннет ДеРочерс, Ричард (Абэ) Кафлин и биологический проект IOOS.
    * .../erddap/info/_datasetID_/index.html веб-страницы теперь показывают URL-адреса и адреса электронной почты в качестве кликабельных ссылок. Спасибо Ричарду (Абэ) Кафлин и биологический проект IOOS.
    * Исполнитель: IntabledapДля наборов данных с высотой Источник: PerSourceUnit&lt;0, запросы с ограничениями высоты были обработаны неправильно. Спасибо Кайлу Уилкоксу.
    * Устранение ошибок:EDDGridAggregateFromExistingDimension поддерживает более разнообразные URL-адреса TDS. Благодаря?

## Версия 1.36{#version-136} 
 (Выпущен 2011-08-01) 

*    **Новые особенности:** 
    * Никаких существенных изменений с точки зрения пользователя.
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Набор данных pmelTao, который часто использовался в качестве набора данных для выборкиtabledap  
Документация больше не доступна.ERDDAP™Администраторы должны внести следующие изменения:
        * В твоейdatasets.xmlЕсли у вас естьdatasetID= "pmelTao" набор данных, добавить
Активный = "ложный" прямо перед "&gt;" в конце этой строки.
        * На сайте setup.xml, если вы&lt;EDDTableIdExample Это pmelTao, затем:
            * Если выdatasets.xmlне имеет набора данных сdatasetID= "erdGlobecBottle", добавить
```
                <dataset type="EDDTableFromErddap" datasetID="erdGlobecBottle" active="true">  
                  <sourceUrl>https://coastwatch.pfeg.noaa.gov/erddap/tabledap/erdGlobecBottle</sourceUrl>  
                </dataset>
```
            * В setup.xml замените все теги&lt;EDDTableIdExample через
                &lt;EDDTableMatlabPlotExmple&gt; с
```
                <!-- Tabledap Examples
                This group of settings is used to make examples for the tabledap documentation 
                that appears at \\[baseUrl\\]/erddap/tabledap/documentation.html and elsewhere.
                If you include the erdGlobecBottle dataset in your datasets.xml (recommended), 
                you don't need to change these.
                If you don't, you MUST change these before you make your ERDDAP™ public; 
                otherwise, none of the examples will work!
                The new settings should be very similar to the defaults.
                If your ERDDAP™ won't serve any tabular datasets, use "NOT\\_APPLICABLE" for all of the entities.
                In .xml files like this, ampersand, lessThan, and greaterThan have to be 
                HTML encoded as "&amp;", "&lt;", "&gt;".
                -->
                <!-- This is the datasetID for an EDDTable dataset that is served by your ERDDAP.
                     This dataset is used as the basis for all of the EDDGrid examples below. 
                     Ideally, it is a dataset that has longitude, latitude, and time variables (among others). 
                     ('time' allows for making a time series graph. 'latitude' and 'longitude' allow for making a map.)
                     The dataset can have longitude values -180 to 180, or 0 to 360. -->
                <EDDTableIdExample>erdGlobecBottle</EDDTableIdExample>
                <!-- This is a comma-separated list of variables from the dataset.
                     It is useful if it is "longitude,latitude,time," plus a data variable name. -->
                <EDDTableVariablesExample>longitude,latitude,time,bottle\\_posn,temperature1</EDDTableVariablesExample>
                <!-- This is the constraints example which is appended to EDDTableVariablesExample. -->
                <EDDTableConstraintsExample>&amp;time&gt;=2002-08-17T00:00:00Z&amp;time&lt;=2002-08-19T20:18:00Z</EDDTableConstraintsExample>
                <!-- This is an example data query using an ISO-formatted time. 
                     You could generate your example via your dataset's Data Access Form in ERDDAP.  -->
                <EDDTableDataTimeExample>longitude,latitude,time,bottle\\_posn,temperature1&amp;time&gt;=2002-08-17T00:00:00Z&amp;time&lt;=2002-08-19T20:18:00Z</EDDTableDataTimeExample>
                <!-- This is an equivalent example data query, but which specifies time as seconds-since-1970-01-01. 
                     If you need to convert a date/time to "seconds since 1970-01-01", use
                     https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html -->
                <EDDTableDataValueExample>longitude,latitude,time,bottle\\_posn,temperature1&amp;time&gt;=1029542400&amp;time&lt;=1029788280</EDDTableDataValueExample>
                <!-- This is an example query which generates a graph. 
                     You could generate your example via your dataset's Make A Graph form in ERDDAP.  -->
                <EDDTableGraphExample>bottle\\_posn,temperature1&amp;time=2002-08-19T10:06:00Z&amp;.draw=lines</EDDTableGraphExample>
                <!-- This is an example query which generates a map. 
                     In the default mapExample, temperature1, time, bottle\\_posn are useful 
                     because they appear in GoogleEarth with the .kml example 
                     and are ignored by the other image file types. -->
                <EDDTableMapExample>longitude,latitude,temperature1,time,bottle\\_posn&amp;time&gt;=2002-08-13T00:00:00Z&amp;time&lt;=2002-08-20T00:00:00Z&amp;bottle\\_posn=1&amp;.draw=markers&amp;.marker=5|5</EDDTableMapExample>
                <!-- This is a Matlab example which uses data from the EDDTableGraphExample.
                     Note the Matlab notation datasetName.variableName.  -->
                <EDDTableMatlabPlotExample>plot(erdGlobecBottle.bottle\\_posn, erdGlobecBottle.temperature1)</EDDTableMatlabPlotExample>
```
                
    * Для наборов данных, где тип является подклассом EDDTableFromFiles, теперь можно делать данные из метаданных.
В частности, теперь можно сделать переменную из значений атрибута одной из исходных переменных.
Например, вdatasets.xmlВ пределах a&lt;dataVariableТег, если вы используете
```
        <sourceName>variable:cruise:PI</sourceName>  
```
        ERDDAP™сделает переменную со значениями PI атрибута круизной переменной.
Спасибо Богу.
*    **Изменения:** 
    * Небольшие изменения

## Версия 1.34{#version-134} 
 (Выпущен 2011-06-15) 

*    **Изменения:** 
    * Устранение ошибок: Исправлена утечка памяти, произошедшая на некоторых 64-битныхJavaУстановки.
    * Устранение ошибок:ERDDAP™Теперь правильно устанавливает эти глобальные атрибуты, когда значения широтного измерения колеблются от высокого до низкого: геопространственное \\ лат \\ мин, геопространственное \\ лат \\ макс, самое южное \\ северное, самое северное \\ северное.
        
Обратите внимание, чтоactual\\_rangeнеизменен: может иметь низкие, высокие или высокие, низкие значения, так как предназначен для указания диапазона и порядка хранения.
        
    * Небольшие изменения.
    *   ERDDAP™администраторам не нужно вносить какие-либо изменения в свой setup.xml илиdatasets.xml.

## Версия 1.32{#version-132} 
 (выпущенный 2011-05-20) 

*    **Изменения:** 
    * Поддержка вновь ратифицированных геометрий дискретного отбора проб КФ (который, к сожалению, еще не доступен онлайн) , которая заменяет предложенные Конвенции о наблюдении за точками КФ.
        ERDDAP™Пользователи увидят, что cdm\\_feature\\_type=Station заменяется TimeSeries и есть небольшие изменения в файлах, созданных для того, чтобы вы могли их использовать..ncТип файла CF (Плоское измерение теперь называется образцом.) .
        ERDDAP™Администраторы должны будут внести изменения вdatasets.xml:
        * cdm\\_data\\_type=Station следует изменить на cdm\\_data\\_type=TimeSeries.
        * cdm\\_data\\_type=StationProfile следует изменить на cdm\\_data\\_type=TimeSeriesProfile.
        * cdm\\_station\\_variables следует изменить на cdm\\_timeseries\\_variables.
        * cf\\_role=station\\_id следует изменить на cf\\_role=timeseries\\_id.
    * Новыйioos\\_categoryВарианты: «Цветная растворенная органическая материя», «pCO2», «Поток потока», «Общая приостановленная материя».
    * Возможное решение возможной утечки памяти на 64-битнойJava.\\[Не получилось.\\]
    * Небольшие изменения.

## Версия 1.30{#version-130} 
 (выпущенный 2011-04-29) 

*    **Новые особенности:** 
    * Поддержка 64-битныхJava. когда используется 64 битJava,ERDDAP™Теперь можно использовать гораздо больше кучной памяти и обрабатывать гораздо больше одновременных запросов.
    * Поддержка.ncЗапросы файлов до 2 ГБ (Даже без 64-битногоJava) за счет лучшего использованияERDDAPОбработка данных по частям.
    * Многие улучшения скорости 2X в коде и 2X ускоряются отJava1.6 ИзготовитьERDDAP™От 2 до 4 раз быстрее, чем раньше.
    * Улучшения экономии памяти значительно нижеERDDAPИспользование базовой памяти.
    * Для табличных наборов данных,ERDDAP™Теперь он полностью осведомлен о типе cdm_data__type набора данных и о том, как данные отображаются на тип CDM. Видишь?[CF Спецификация геометрии дискретных образцов](https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries). Возможно, когда-нибудь этот файл Word будет преобразован в .html и заменит текущую информацию «OBSOLETE» на этой веб-странице. БлагодаряNOAAПроект UAF.
    * Для большинства наборов данных EDDTable новая опция типа выходного файла.ncCF создает смежный рваный массив.ncФайлы, соответствующие последней версии[CF Конвенции о дискретной геометрии выборки](https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries). Эти файлы структурированы для отражения типа данных CDM набора данных. Поскольку предложенные конвенции только что изменились, на момент написания этой статьи библиотека netcdf-java еще не поддерживает чтение форматов файлов, созданных с помощью приложения.ERDDAPинтерпретировать их как файлы данных CDM. Скорее всего, скоро. БлагодаряNOAAПроект UAF.
    * Опция «Просмотр: Отличительные данные» на веб-странице .subset теперь представляет собой раскрывающийся список, который позволяет пользователям указывать максимальное количество строк различных данных для просмотра. (Дефолт = 1000) . Эти изменения и другие позволяютERDDAP™работать с наборами данных, которые имеют очень большое количество рядов различных данных. (Количество уникальных значений для любой отдельной переменной все еще является проблемой, но может быть довольно высоким. (20 тысяч?) .subset и другие веб-страницы загружаются очень медленно.) БлагодаряNOAAПроект UAF.
    * Веб-страницы .subset имеют новую опцию: Отличительные подсчеты данных. Благодаря проекту ГТОПП.
    * Чтобы помочь пользователям, различные ценности (Например, названия станций) Теперь они отображаются в формах доступа к данным и Make-A-Graph. БлагодаряNOAAПроект UAF.
    * .прозрачный Запросы Png теперь поддерживают все типы графиков и представлений данных. Он рисует только данные - никаких топоров, легенд, масок или чего-либо еще. Это позволяет делать изображения в виде слоев прозрачных Pngs. Если &.size=_width_|_height_ указывается в запросе (рекомендованный) Это честь. По умолчанию 360x360 пикселей. Единственным исключением являетсяEDDGrid&.draw=поверхность, где по умолчанию (как раньше) Изображение с ~1/пиксель на точку данных (до 3000 x и y пикселей) . Спасибо Фреду Хохштедтеру.
    * TheWMSВеб-страницы теперь показывают цветовую полосу для переменной набора данных (s) . Спасибо Эмилио Майорге и другим.
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * Этот релиз включает в себя множество изменений. Они все важны. Пожалуйста, будьте терпеливы и проработайте все изменения, перечисленные ниже.
    * Эта версия вытесняется раньше, чем предполагалось, чтобы иметь дело с некоторымиJavaОхранные жучки. К сожалению, несколько функций / исправлений, предназначенных для этогоERDDAP™Версии в этой версии нет. Прости. Надеюсь, следующая версия будет относительно скоро. (Гораздо проще перейти на) .
    * Чтобы избежать нескольких ошибок безопасности вJava6 обновление 23 и ниже, загрузка и установка последней версииJava  (Java6 обновление 24 или выше) . Если у вас 64-разрядная операционная система, пожалуйста, получите 64-разрядную версию.Java.
    * Если вы используете Tomcat 5, вы должны перейти на Tomcat 6 или 7. (предпочтительный) . Если вы используете Tomcat 6, рассмотрите возможность обновления до Tomcat версии 7.
    * Пожалуйста, следуйте всем инструкциям для[Создание новогоERDDAP™](/docs/server-admin/deploy-install), но там, где это уместно, вы будете копировать файлы с вашей старой установки на новую установку, в частности\\[кот\\]/content/erddap каталог и файлы. Как часть этого, обратите внимание на[Новые рекомендации Tomcat](/docs/server-admin/deploy-install#tomcat).
    * По умолчанию erddap.css включен в файл erddap.war.
        * Для использования erddap.css, **удалять** Твой старый\\[кот\\]/content/erddap/images/erddap.css.
        * Если вы изменили\\[кот\\]/content/erddap/images/erddap.css, и хотите продолжать использовать его: просто оставьте его на месте и замените&lt;Вводный раздел с:
```
            /\\* Small input items let more be shown on one screen  
            (esp. Chrome and Safari). Google Chrome and Safari have  
            default margin 2px, while others are 0. This sets all to 0.  
            .skinny is used e.g., for the buttons above the image on  
            a Make A Graph page. \\*/  
            input\\[type=button\\], input\\[type=submit\\], button {  
              margin:0px; padding:0px 3px; }  
            input\\[type=checkbox\\], input\\[type=password\\],  
              input\\[type=text\\], select, textarea {  
              margin:0px; padding:0px; }  
            input\\[type=radio\\] {margin:0px 2px; padding:0px; }  
            input.skinny {padding:0px 1px; }
```

    * В твоей\\[кот\\]/content/erddap/setup.xml:
        * Заменить комментарии и теги, связанные с&lt;PartialRequestMaxBytes&lt;PartialRequestMaxCells с
```
            <!-- When possible (and it isn't always possible),  
            ERDDAP™ breaks source data requests into chunks to  
            conserve memory. See the description of these tags in  
            messages.xml. You can override the default chunk sizes  
            here with  
            For grids:  
             <partialRequestMaxBytes>100000000</partialRequestMaxBytes>  
            For tables:  
             <partialRequestMaxCells>100000</partialRequestMaxCells>  
            \\-->
```
        * Заменить замечания, касающиеся&lt;categoryAttributes&gt; и рассмотреть возможность изменения значения тега:
```
            <!-- This is the comma-separated list (recommended:  
            in alphabetical order) of the global attribute and  
            variable attribute names which will be used to  
            categorize the datasets and shown to clients at urls  
            like .../erddap/categorize/ioos\\_category/index.html  
            (ioos\\_category is unusual, but is used at ERD).  
            If an attribute is a global attribute, identify it by  
            prefixing it with "global:".  
            \\-->  
            <categoryAttributes>global:institution, ioos\\_category,  
            long\\_name, standard\\_name</categoryAttributes>  
```

индивидуальный&lt;categoryAttributes&gt; которые являются глобальными атрибутами, должны быть идентифицированы через префикс Global: (Например, глобальный: институт) . Другие атрибуты считаются переменными атрибутами. (например,standard\\_name) . Также институциональные ценности (Единственные) Они были оставлены в первоначальном случае. Теперь все значения категорий преобразуются в строчные.
    * В твоей\\[кот\\]/content/erddap/datasets.xml:
        * Большое улучшение:ERDDAP™имеет новые требования, относящиеся к типу cdm\\_data\\_. Каждый набор данных должен иметь правильные метаданные и переменные, связанные с типом cdm\\_data\\_. В противном случае набор данных не будет загружаться и вызовет ошибку. Смотрите документацию для[cdm\\_data\\_type](/docs/server-admin/datasets#cdm_data_type).
        * Есть новый тип набора данных: EDDTableFromAsciiServiceNOS.
        * ФИДЕО: Три новых разрешенныхioos\\_categoryВарианты: Гидрология, качество (Например, для качественных флагов) и статистики (например, означает) .
        * Для EDDTable из... Наборы данных файлов, удалить любые&lt;nDimensions&gt; Tags. Они больше не нужны и не используются.
        * Для переменных сdestinationName=высота,ERDDAP™больше не принуждаетlong\\_nameБыть высотой. Пожалуйста, пройдите через свойdatasets.xmlи неоднократно искать&lt;destinationName&gt;высота и добавить к этой переменной&lt;addAttributes&gt;:
```
              <att name="long\\_name">Altitude</att>  
```
             (или немного другойlong\\_nameв особых случаях) .
        * Все подклассы EDDTableFromFiles поддерживают переменную[sourceName= глобальный:](/docs/server-admin/datasets#global-sourcenames)Преобразование глобальных метаданных из каждого файла в переменную данных. Спасибо Линн ДеВитт.
    * Пользователи EDDTableFromDatabaseERDDAP™Новый драйвер JDBC 4 для Postgres Для других баз данных проверьте в Интернете последний файл JDBC .jar для вашей базы данных. С тех порERDDAP™Сейчас используетJava1.6+, JDBC 4 (не 3) Вероятно, рекомендуется.
    * ФАЙИ
        *   EDDGridИз...Файлы и EDDTable Из... Наборы данных файлов теперь хранят информацию FileTable в
            \\[BigParent Директория\\]/dataset Информация/\\[datasetID\\]/*.ncФайлы.
Кроме того, наборы данных EDDTable теперь хранят информацию подмножества в
            \\[BigParent Директория\\]/dataset Информация/\\[datasetID\\]/*.ncФайлы. Эти файлы раньше были
            \\[BigParent Директория\\]/dataset Информация/\\[datasetID\\]*.jsonФайлы.
Старые файлы удаляются автоматически, когдаERDDAP™Начинается. Вы можете удалить все файлы (Оставьте пустые подкаталоги) в\\[BigParent Директория\\]/datasetInfo/.
        * Я работал над новым EDDTableFromNcCFFiles, который будет считывать данные из локальных и удаленных файлов, используя предлагаемые новые конвенции CF Point Observation Conventions. Но это не в этом выпуске. В библиотеках netcdf-java есть проблемы, связанные с некоторыми методами чтения этих файлов. Кроме того, недавно были внесены некоторые изменения в предлагаемые конвенции по наблюдению за точками CF. Когда библиотека netcdf-java будет исправлена и обновлена до последнего предложения, я возобновлю работу над этим.
        * бегатьERDDAP™В Windows могут возникнуть проблемы: в частности, вы можете увидеть\\[BigParentDirectory/logs/log.txt файлERDDAP™Иногда невозможно быстро удалить и/или переименовать файлы. Это связано с антивирусным программным обеспечением (Например, от McAfee и Norton) Проверка файлов на наличие вирусов. Если вы столкнулись с этой проблемой (которые можно увидеть по сообщениям об ошибках в файле log.txt, таким как «Невозможно удалить ...») Изменение настроек антивирусного программного обеспечения может частично облегчить проблему.
ЕслиERDDAP™В Windows это просто тест, работающий на вашем рабочем столе, это просто раздражение.
ЕслиERDDAP™Windows - это ваша публикаERDDAP™Подумайте о переходе на сервер Linux.
    * Медленный первый старт... Первый раз, когда вы бежитеERDDAP™после модернизации,ERDDAP™Может быть медленным для загрузки наборов данных. ПутьERDDAP™информация об агрегированных файлах изменилась, поэтомуERDDAP™Вам нужно будет перечитать информацию из всех этих файлов. Это займет время.
    * Ошибки при запуске... Учитывая изменения, связанные с cdm\\_data\\_type, вполне вероятно, что некоторые из ваших наборов данных не будут загружаться и будут выбрасывать ошибки. Внимательно прочитайте электронную почту Daily Report, котораяERDDAP™Отправляет вам, когдаERDDAP™Заканчивается запуск. У него будет список наборов данных, которые не загружались. (на вершине) и причина, по которой они не загружаются (Рядом с дном) .
    * Если вы застряли или у вас есть другие вопросы, напишите мне подробности:erd.data at noaa.gov.
    * Программисты - Если вы пишетеJavaПрограммы, которые работаютERDDAP™Код, вам нужно изменить некоторые ссылки на параметры командной строки:
        * Изменение joda-time-1.6.2.jar на joda-time. банку
        * Изменить ссылку Postgres JDBC .jar на postgresql.jdbc.jar
*    **Небольшие изменения и исправления ошибок:** 
    
    * Улучшенная обработка соединения, чтобы избежать висящих нитей.
    * Улучшенная практика параллелизма для более эффективной обработки почти одновременных идентичных запросов.
    *   ERDDAP™Теперь используется netcdfAll-4.2.jar (Он был переименован в NetcdfAll-Last. банку) . Этот переключатель потребовал нескольких внутренних изменений и вызвал несколько небольших внешних изменений, например, изменения в том, как считываются большие файлы, и крошечные изменения в файле..ncВывод заголовка.
    * Новая функция:\\[ердап\\]/convert/fipscounty.html конвертируетсяFIPSКоды округов в / из названий округов.
    * На картах государственные границы теперь темно-фиолетовые, поэтому они лучше выделяются на всех фоновых цветах.
    * табличный.kmlВыход снова использует круговой значок для обозначения точек (Не икона самолета Google недавно перешел на) .
    * Наборы данных erdCalcofi были перестроены и теперь обслуживаются из локальных файлов. (быстрее) .
    * Генерировать наборы данных Xml из Треддс Каталог теперь создает файл результатов:
        \\[кот\\]/webapps/erddap/WEB-INF/temp/EDDGridИз ThreddsCatalog.xml. Спасибо Кевину О'Брайену.
    * Генерировать наборы данных Xml из Треддс Каталог теперь пытается удалить ненужные номера портов из исходных URL-адресов (Например, :8080 и :8081 иногда можно удалить.) . БлагодаряNOAAКоманда безопасности центра.
    * Для веб-страниц .subset Карта отдельных данных теперь имеет переменный диапазон lat lon.
    * Несколько списков вERDDAP™  (Например, таблица, которая показывает все наборы данных) Они были отсортированы так, что А.З. отсортирован перед А..z. Теперь они сортируются бесчувственным образом.
    * Небольшие изменения в веб-страницах .subset, в том числе:
    * Генерировать наборы данных Xml и DasDds больше не бросают исключение, если не могут поместить результаты на системный буфер обмена или дисплей InBrowser. Спасибо Эрику Бриджеру и Грегу Уильямсу.
    * Устранение ошибок: Когда данные загружаются,ERDDAP™Устраняет или корректирует геопространственные глобальные атрибуты. Спасибо Чарльзу Карлтону.
    * Обсуждение String2.getClassPath () Теперь правильно расшифровывает класс Путь (В частности, в Windows пробелы в имени файла отображаются в %20.) . Это повлиялоERDDAP™EDStatic вызывает SSR.getContextDirectory () Поиск контента/erddap. Спасибо Эйбу Кофлину.
    * Устранение ошибок: в EDDTableFromFiles, связанных с обработкой GetDataForDapQuery () просьбы. Спасибо Эрику Бриджеру.
    * Устранение ошибок:tabledapзапросы не справлялись должным образом с ограничениями высоты, когда высота набора данных MetersPerSourceUnit - 1. Спасибо Эрику Бриджеру.
    * Обсуждение:EDDTable From... Наборы данных файлов теперь правильно обрабатывают запросы, которые включают =NaN и &#33; =NaN.
    
## Версия 1.28{#version-128} 
 (Выпущено 2010-08-27) 

*    **Новые особенности:** Нет.
*    **ВещиERDDAP™Администраторы должны знать и делать:** Нет.
*    **Баг Фикс:** Исправить ошибку программирования (только в ver 1.26) который сделалERDDAP™Очень медленно.
     

## Версия 1.26{#version-126} 
 (Выпущено 2010-08-25) 

*    **Новые особенности:** Нет.
*    **ВещиERDDAP™Администраторы должны знать и делать:** 
    * От твоего\\[кот\\]/content/erddap/setup.xml
        * в&lt;Юридический&gt;, на новой строке ниже\\[стандартный DataLicenses\\]вставить\\[Стандартный контакт\\].\\[Стандартный контакт\\]относится к&lt;adminEmail&gt; указано выше в setup.xml.
        * Удалить&lt;TableCommonBGColor&gt; и&lt;Таблица HighlightBGColor.
        * Рекомендуется: Изменения&lt;EndBodyHtml
```
            <endBodyHtml><!\\[CDATA\\[  
            <br>&nbsp;  
            <hr>  
            ERDDAP, Version &erddapVersion;  
            <br><a href="&erddapUrl;/legal.html">Disclaimers</a> |  
            <a href="&erddapUrl;/legal.html#privacyPolicy">Privacy Policy</a> |  
            <a href="&erddapUrl;/legal.html#contact">Contact</a>  
            </body>  
            \\]\\]></endBodyHtml>
```

    * Требуется: К твоему\\[кот\\]/content/erddap/images/erddap.css и erddapAlt.css, добавить внизу:
```
        /\\* This is used on the /info/\\[datasetID\\]/index.html pages to highlight a row or cell. \\*/  
        tr.highlightBGColor {background-color:#cceecc; }  
        td.highlightBGColor {background-color:#cceecc; }
```
*    **Устранение ошибок и небольшие изменения:** 
    
    * Исправление ошибок: в некоторых ситуациях формы не работали в некоторых версиях Internet Explorer. Большое спасибо Грегу Уильямсу.
    * Устранение ошибок: Кнопки Make A Graph не работали, если набор данных был с пультаERDDAP.
    * Устранение ошибок:WMSИногда не работал, если набор данных был с пультаERDDAP.
    * Много небольших изменений и исправлений ошибок.
    

## Версия 1.24{#version-124} 
 (Выпущено 2010-08-06) 

*    **Новые особенности:** 
    * Новый[Подмножество веб-страниц](https://coastwatch.pfeg.noaa.gov/erddap/tabledap/index.html)Используйте граненый поиск для выбора подмножеств табличных наборов данных. Спасибо Пост.
    * Новый[Расширенный поиск](https://coastwatch.pfeg.noaa.gov/erddap/search/advanced.html)Он объединяет все другие варианты поиска и добавляет долготу, широту и временные рамки. Спасибо Эллин Монтгомери. (Извините за задержку.) 
    * Новый[Преобразовать время](https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html)Веб-страница и сервис позволяют конвертировать числовое время в / из строкового времени ISO.
    * Новый[Конвертировать единицы](https://coastwatch.pfeg.noaa.gov/erddap/convert/units.html)Веб-страница и сервис позволяют конвертироватьUDUNITSв/из подразделений UCUM. БлагодаряNOAAИООСSOS.
    * ЕслиtabledapЗапрос включает &units ("Укум") Названия единиц будут преобразованы из оригинальных имен. (обычноUDUNITS) то[UCUM](https://unitsofmeasure.org/ucum.html)Названия подразделений. Это касается только единиц\\*имена\\*Не значения данных. БлагодаряNOAAИООСSOS.
    * Улучшения для создания графических веб-страниц, графиков и карт:
        * Если граф является картой, есть новые кнопки Make A Graph для увеличения / выключения и новая опция для нажатия, чтобы изменить центральную точку карты. Спасибо Пост.
        * Настройки фильтра добавлены рядом с дном. Спасибо Грегу Уильямсу.
        * Встроенные в береговую линию файлы данных были обновлены до GSHHS v2.0. Спасибо Пост.
        * Карты теперь включают озера и реки. Спасибо Пост. (Извините, дельта реки Сакраменто отсутствует, потому что ни данные береговой линии, ни данные озера / реки не имеют к ней отношения.) 
        * Встроенные в pscoast-производные национальные/государственные файлы были обновлены. Спасибо Пост.
        * Topography.cpt был немного изменен. (Извините, если это негативно влияет на вас.) Спасибо Пост.
        * В файле Make A Graph, если пользователь меняет переменную, форма автоматически пересылается так, чтоaxisVariables' showStartAndStop всегда отражает переменные графа. Спасибо Хоакину Тринанесу.
        * Для png и pdf изображений URL:
            * New &.land=_value_, где _value_ может быть «под» (Показать топографию) или «сверху» (просто показать батиметрию) . Если не указано, то по умолчанию устанавливается[drawLandMask](/docs/server-admin/datasets#global-drawlandmask)вdatasets.xmlили setup.xml. Спасибо Пост.
            * Слишком длинные линии в легенде автоматически разбиваются на несколько линий. Спасибо Пост.
        * Для png изображений URL:
            * New &.legend=_value_, где _value_ может быть «нижним» (по умолчанию) «Off» или «Only». Это позволяет включить легенду, исключить легенду или получить только легенду. Спасибо Каре Уилсон.
            * Новый & Trim=_n Pixels покидает границу nPixels (Например, 10) В нижней части изображения. Применяется после .legend=Off. Спасибо Каре Уилсон.
            * Новый &.size=_width_|_height_ позволяет указать ширину и высоту изображения в пикселях.
    * Новые форматы выходных файлов:
        * .csvp и.tsvp - как .csv и.tsvНо с " (_units_) "прилагается к названиям колонок на первой строке.
        * .odvTxt - создает файл .txt, который упрощает ввод данных[Океанские данные Посмотреть (ОДВ) ](https://odv.awi.de/).
        * .esriCsv - делает файл .csv подходящим для импорта в ESRIArcGIS. (только табличные наборы данных) Спасибо Яну Мейсону, Джеффу де Ла Боярдье иNOAAИООСSOSПроект.
    * Улучшения GUI для[классифицировать](https://coastwatch.pfeg.noaa.gov/erddap/categorize/index.html)Веб-страницы. Кроме того, классифицировать значения (кроме учреждения) Теперь все они низшие. Запросы, не относящиеся к регистру, принимаются (перенаправленный) обратной совместимости. Спасибо Рою Мендельсону.
    * Сообщения об ошибках теперь еще короче и более ориентированы на пользователей. Спасибо Грегу Уильямсу.
    * Внутренние изменения, которые значительно уменьшаютERDDAPИспользование базовой памяти.
    * Много новых функций, которые имеют отношение только к проекту POST.
*    **ВещиERDDAP™Администраторы должны знать и делать:** Есть много изменений. Прости. Но каждый из них приносит некоторые приятные преимущества.
    * Большие изменения в GenerateDatasetXml - теперь он часто задает больше вопросов (См. соответствующие[набор данных Типы](/docs/server-admin/datasets#detailed-descriptions-of-dataset-types)информация) и теперь всегда генерирует практически готовый к использованию контент дляdatasets.xml. Вы по-прежнему несете ответственность за настройку, поэтому вы все равно должны просмотретьdatasets.xmlКонтент перед его использованием. Человек, прилагающий усилия к проекту, всегда будет делать лучше, чем компьютерная программа. Благодаря проекту UAF.
    * В setup.xml вы должны пересмотретьWMSРаздел. Теперь он должен включать эти теги. (Не стесняйтесь менять ценности) :
```
        <!-- These default accessConstraints, fees, and keywords are used 
        by the SOS, WCS, and WMS services.
        They can be overridden by "accessConstraints", "fees", "keywords" 
        attributes in a dataset's global metadata.
        If a dataset that has an "accessibleTo" tag doesn't override 
        "accessConstraints", then the default for "accessConstraints" is the
        "accessRequiresAuthorization" value.  
        -->
        <accessConstraints>NONE</accessConstraints>
        <accessRequiresAuthorization>only accessible to authorized
        users</accessRequiresAuthorization>
        <fees>NONE</fees>
        <keywords>Earth science, oceans</keywords> 
        
        <!-- This appears on the erddap/legal.html web page after the 
        General Disclaimer. 
        You can replace any of the \\[standardParts\\] with your own HTML. -->
        <legal><!\\[CDATA\\[
        \\[standardDisclaimerOfEndorsement\\]
        \\[standardDisclaimerOfExternalLinks\\]
        \\[standardPrivacyPolicy\\]
        \\[standardDataLicenses\\]
        \\]\\]></legal>
        
        <!-- Specify the default units standard (e.g., "UDUNITS" 
        (the default) or "UCUM") that you (the ERDDAP™ admin) are using to 
        specify units.  The value is case-sensitive.
        This is used by ERDDAP's SOS server to determine if the units need to
        be converted to UCUM units for WMS and SOS GetCapabilities responses. 
        -->
        <units\\_standard>UDUNITS</units\\_standard>
        
        <!-- For the wms examples, pick one of your grid datasets that has
        longitude and latitude axes.
        The sample variable must be a variable in the sample grid dataset.
        The bounding box values are minx,miny,maxx,maxy.
        -->
        <wmsSampleDatasetID>erdBAssta5day</wmsSampleDatasetID>
        <wmsSampleVariable>sst</wmsSampleVariable>
        <!-- The bounding box values are 
           minLongitude,minLatitude,maxLongitude,maxLatitude.
           Longitude values within -180 to 180, or 0 to 360, are now okay. -->
        <wmsSampleBBox>0,-75,360,75</wmsSampleBBox>
```

    * В setup.xml скопируйте и вставьте новое предложение&lt;StartHeadHtml для замены старой версии. Но не стесняйтесь вносить изменения в свои предпочтения.
```
        <!-- startHeadHtml has the start of the HTML document and the 
        'head' tags (starting at "<!DOCTYPE>", but not including 
        "</head>") for all HTML web pages. 
        This may include &erddapUrl;, which is expanded to be 
          \\[baseUrl\\]/erddap (or \\[baseUttpsUrl\\]/erddap if the user is logged in).
        If your ERDDAP™ allows users to log in, all referenced image files, 
          css files, etc. must be in \\[tomcat\\]/content/erddap/images or a 
          subdirectory and must be referenced here with 
          &erddapUrl;/images/\\[fileName\\].
        
        favicon.ico is the image that browsers associate with your website.
        For more information, see https://en.wikipedia.org/wiki/Favicon .
        You can use your own favicon.ico file by putting it in 
          \\[tomcat\\]/content/erddap/images. 
        
        \\*\\*\\* Optional: you can change the appearance of all of your 
        ERDDAP's HTML pages by changing the CSS <style> settings below.
        
        For an example of a very different style, change the import reference
        to <tomcat>/content/erddap/images/erddapAlt.css
        
        \\*\\*\\* If your CSS style includes links to files (e.g., images), that 
        style information must be inline in the style tag below, after the
        'import' line, not in the .css file.  
        Put all of the (e.g., image) files in the 
        \\[tomcat\\]/content/erddap/images directory (or a subdirectory) and 
        reference them below starting with &erddapUrl;.
        Why? On ERDDAP™ https: web pages, \\*all\\* links should use "https:" 
        (not "http:"); otherwise, most browsers consider the web page not 
        fully secure.  Because ERDDAP™ would use the same .css file for 
        http: and https: web pages, the links within the .css file wouldn't 
        switch between http: and https:.  There doesn't seem to be a way 
        around this other than using inline style information.
        -->
        <startHeadHtml><!\\[CDATA\\[ 
        <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
          "http://www.w3.org/TR/html4/loose.dtd">
        <html>
        <head>
        <title>ERDDAP</title>
        <link rel="shortcut icon" href="&erddapUrl;/images/favicon.ico">
        <style type="text/css">
        <!--
          @import "&erddapUrl;/images/erddap.css";
        -->
        </style>
        \\]\\]></startHeadHtml>
        
        <!-- The tableCommonBGColor MUST be the same color as the 
           table.commonBGColor in erddap.css above. Suggested is #f1ecd8. 
           But if you use erddapAlt.css, change this to #e7dec5. -->
        <tableCommonBGColor>#f1ecd8</tableCommonBGColor>
        
        <!-- This is used, e.g., for the type=variable rows on the metadata
          info tables. -->
        <tableHighlightBGColor>#cceecc</tableHighlightBGColor>
```

Спасибо Посту, Хансу Ведо и Рику Блэру.
    * Запрос: в setup.xml&lt;НачатьBodyHtml&gt;, изменить&lt;Тег body - быть просто&lt;body&gt;, так как стиль теперь устанавливается erddap.css.
    * В setup.xml изменить это&lt;EndBodyHtml (Но измените адрес электронной почты на свой адрес электронной почты и не стесняйтесь вносить другие изменения) :
```
        <!-- The end of the body of the HTML code for all HTML web pages
          (with "</body>" at the end). 
        This may include &erddapUrl;, which is expanded to be 
          \\[baseUrl\\]/erddap (or \\[baseUttpsUrl\\]/erddap if the user is logged in).
        If your ERDDAP™ allows users to log in, all referenced image files, etc. 
          must be in \\[tomcat\\]/content/erddap/images or a subdirectory
          and must be referenced here with &erddapUrl;/images/\\[fileName\\].
        
        You can change this, but please keep "ERDDAP, Version &erddapVersion;"
        and these references to the Disclaimers and Privacy Policy. -->
        <endBodyHtml><!\\[CDATA\\[ 
        <br>&nbsp;
        <hr>
        ERDDAP, Version &erddapVersion;
        <br><font class="subduedColor">Questions, comments, 
          suggestions?  Please send an email to 
          <tt>erd dot data at noaa dot gov</tt>
        <br>and include the ERDDAP™ URL directly related to your question
          or comment.
        <br>
          <a href="&erddapUrl;/legal.html">Disclaimers</a> | 
          <a href="&erddapUrl;/legal.html#privacyPolicy">Privacy 
            Policy</a>
        </font>
        </body>
        \\]\\]></endBodyHtml>
```

    * РЕКОМЕНДУЕМ: В setup.xml рекомендуется&lt;ShortDescriptionHtml теперь
```
        <theShortDescriptionHtml><!\\[CDATA\\[ 
        <h1>ERDDAP</h1>
        This website (the Environmental Research Division's Data Access 
        Program) aggregates scientific data from diverse local and remote 
        sources and offers you a simple, consistent way to download subsets 
        of the data in common file formats and make graphs and maps.
        This particular ERDDAP™ installation has oceanographic data
        (for example, data from satellites and buoys).
        
        \\[standardShortDescriptionHtml\\]
        \\]\\]></theShortDescriptionHtml>
```

Не стесняйтесь изменить это, особенно последнее предложение в первом абзаце.
    * В setup.xml, emailEverythingTo и emailDailyReport Теперь это могут быть отдельные списки адресов электронной почты. Первое электронное письмо Все В частности, подписки на наборы данных EDDXxxxFromErddap используют этот адрес электронной почты. Спасибо Джону Мореру.
    * Ошибки электронной почты теперь регистрируются в\\[BigParent Директория\\]/logs/emailLogYYYY-MM-DD.txt файл.
    * В setup.xml есть новый, необязательный параметр для настройки свойств учетной записи электронной почты (обычно сразу после этого).&lt;emailPassword&gt;:
```
          <emailProperties>_propertyName1_|_propertyValue1_|_propertyName2_| _propertyValue2_|...</emailProperties>  
        For example, gmail accounts need  
          <emailProperties>mail.smtp.starttls.enable|true</emailProperties>  
```

Дефолт — это ничто. Спасибо Ричу Сигнеллу.
    * Если вы используете EDDTableCopy илиEDDGridКопируйте, вы должны удалить все\\[BigParent Директория\\]/copy/ каталоги и файлы, содержащие «xh» в каталоге или именах файлов после остановки старогоERDDAP™Прежде чем начать новыйERDDAP™Эти файлы будут переписаны. Мне очень жаль, но было важно внести изменения, и, надеюсь, это повлияет на несколько администраторов и несколько файлов.
В Linux вы можете найти эти файлы с помощью cd.\\[BigParent Директория\\]копия
Найди.\\*х\\*  
В Windows вы можете найти эти файлы с:|Поиск
Что вы хотите найти: Документы
Все или часть имени файла: xh
Смотрите в: Просмотр -&gt;\\[BigParent Директория\\]копия
Нажмите «Поиск»
Чтобы выбрать их все
Удалить их всех
    * Требуется: Indatasets.xml, для наборов данных EDDTableFromDatabase, для переменных даты и времени, изменить данные Тип удвоения и единицы до секунд с 197001-01T00:00:00Z. Мы требуем, чтобы вы хранили данные метки времени в базе данных\\*с\\*часовой пояс. Без информации о часовых поясах запросы, которыеERDDAP™Отправляет в базу данных и результаты, которыеERDDAP™Данные, полученные из базы данных через JDBC, неоднозначны и могут быть ошибочными. Мы попытались, но не нашли надежного способа справиться с данными «таймштампа без часового пояса». Мы считаем, что это хорошая практика в любом случае. В конце концов, данные «метки времени без часового пояса» имеют подразумеваемый часовой пояс. Хотя это здорово, что часовой пояс очевиден для администратора базы данных, имеет смысл четко указать его, чтобы другое программное обеспечение могло правильно взаимодействовать с вашей базой данных. Спасибо/извините, Майкл Урцен.
    * РЕКОМЕНДУЕТСЯ: Вdatasets.xml, чтобы включить веб-страницы .subset для граненого поиска ваших табличных наборов данных, вам нужно добавить [&lt;subsetVariables&gt; (/docs/server-admin/datasets#subsetvariables) Глобальные атрибуты набора данных.
    * РЕКОМЕНДАЦИЯ: Вdatasets.xmlЕсли у вас есть набор данных сdatasetID= "pmelGtsppp", пожалуйста, измените его
```
          <dataset type="EDDTableFromDapSequence" datasetID="pmelGtsppp" active="false">  
        Whether or not you had that dataset, feel free to add this new GTSPP dataset:  
          <dataset type="EDDTableFromErddap" datasetID="erdGtsppBest">  
            <sourceUrl>https://coastwatch.pfeg.noaa.gov/erddap/tabledap/erdGtsppBest</sourceUrl>  
          </dataset>
```
    * РЕКОМЕНДАЦИЯ: Вdatasets.xmlЕсть новые варианты для [...]&lt;cdm\\_data\\_type&gt; (/docs/server-admin/datasets#cdm_data_type) Глобальный атрибут, поэтому вы должны просмотреть / изменить значение для ваших наборов данных.
    * вdatasets.xmlНовый [&lt;ИсточникNeedsExpandedFP\\_EQ&gt;] (/docs/server-admin/datasets#sourceneedsexpandedfp_eq) Полезно, если исходный сервер не обрабатывает и не вариабельные тесты правильно (Из-за того, что[Общая трудность проверки равенства чисел с плавающей точкой](https://randomascii.wordpress.com/2012/02/25/comparing-floating-point-numbers-2012-edition/)) . Источник: NeedsExpandedFP_EQ установлена на истинность по умолчанию (Самая безопасная установка) Поэтому вам не нужно вносить какие-либо изменения.
    * Новый[EDDTableFromAsciiFiles](/docs/server-admin/datasets#eddtablefromasciifiles). Спасибо Джерри Юн Пэну.
    * Новый[Скриншоты из ThreddsFiles](/docs/server-admin/datasets#eddtablefromthreddsfiles). Спасибо Рою Мендельсону.
    * Изменения в[EDDTable FromNcFiles](/docs/server-admin/datasets#eddtablefromncfiles)Это позволяет использовать его с более широким спектром файлов.
    * EDDTableFromBMDE был отключен. Больше нет активных, адекватных источников данных.
    * В GenerateDatasetXml новыйEDDGridИз Тредд Каталог собрал целый каталог THREDDS (или подмножество) и генерируетdatasets.xmlсодержание. Благодаря проекту UAF.
    * Генерировать наборы данных Xml и DasDds также опубликовали свои результаты.\\[BigParent Директория\\]/logs/log.txt. Спасибо Ричу Сигнеллу и Чарльзу Карлтону.
    * Много улучшений в системе входа. Спасибо Пост.
*    **ВещиERDDAP™Программисты Нужно знать и делать:** 
    * В каталоге /WEB-INF/lib/ произошли изменения. Пожалуйста, измените настройки классовой траектории javac и java соответственно.
    * Есть новый\\[твой Урл\\]/erddap/version для определения версииERDDAP. Ответом является текст, например,ERDDAP\\_version=1.24 Если вы получили сообщение об ошибке HTTP 404 Not-Found, обработайтеERDDAP™Версия 1.22 или ниже. Спасибо Пост.
*    **Небольшие изменения и исправления ошибок:** 
    
    * EDDTable From Изменения:
        * Отказ от поддержки чтения IOOSSOSXML ответы.
        * Добавлена поддержка чтения IOOSSOSТекст/csv. (Так что NOSSOSСерверы в настоящее время не поддерживаются.) 
        * Внесены изменения, связанные с IOOSSOSПодробности сервера.
        * Добавлена поддержка запросов BBOX для IOOSSOSиOOSTethys SOSСерверы. Эти изменения приводят к значительному ускорению соответствующих запросов данных. Спасибо IOOSSOS.
    * В тексте.matТабличные файлы данных теперь сохранены правильно. Спасибо Рою Мендельсону.
    *   WMS
        *   OpenLayersВ настоящее время в комплекте сERDDAP™для использования наWMSВеб-страницы. Это устраняет проблему, возникшую, когдаOpenLayersОн изменился несколько месяцев назад и предотвратил будущие проблемы.
        * В этомWMS GetCapabilitiesответ, то&lt;Онлайн-ресурс&gt; Значение теперь URLWMSобслуживание. Спасибо Чарльтону Галварино.
        * Легенда появляется наWMSВеб-страница для отображения цветовой панели. Спасибо Эмилио Майорге.
    *   EDDGridУ конструктора AggregateExistingDimension возникли проблемы с источником оси Ценности не были равны их назначению. Ценности, например, если исходное время было чем-то иным, чем"seconds since 1970-01-01". БлагодаряToddСпиндлер.
    * В TableWriterGeoJson избыток «,» после bbox\\[...\\]Он был удален. Спасибо Грегу Уильямсу.
    * Много небольших изменений и исправлений ошибок.
    
## Версия 1.22{#version-122} 
 (Выпущено 2009-07-05) 

* Ошибка SlideSorter, введенная в 1.20, исправлена.
* Ошибка OBIS, введенная в 1.20, исправлена.
* Ссылки на наборы данных Джейсона на странице изображений/гаджетов/GoogleGadgets были удалены.
     
## Версия 1.20{#version-120} 
 (Выпущено 2009-07-02) 

*   ERDDAP™Пожалуйста, добавьте это в свой файл setup.xml:
```
    <!-- If you want to restrict access to some datasets, you need to 
    specify the method used for logging on (authentication). See the info 
    at https://erddap.github.io/setup.html#security
    Currently, the options are: "" (logins not supported, the default),
    "custom", "openid". Note that openid login doesn't work when testing 
    with localhost (https://127.0.0.1:8443).
    -->
    <authentication></authentication>
    
    <!-- This specifies how you have stored passwords in the roles tags 
    in datasets.xml. If you aren't storing any passwords this is irrelevant.
    The options (in order of increasing security) are: "plaintext", "MD5", 
    or "UEPMD5" (MD5(UserName:ERDDAP:Password), the default).
    You should only use "plaintext" or "MD5" if you need to match values 
    stored that way in an external password database.  See the info at
    https://erddap.github.io/setup.html#security
    -->
    <passwordEncoding>UEPMD5</passwordEncoding>
    
    <!-- This determines whether datasets that the user doesn't currently
    have access to (because he isn't logged in or because his roles don't
    allow access) should be shown on lists of data sets 
    (e.g., from full text search, categorize, view all datasets, ...).
    The options are: "true", or "false" (the default).
    If false, no information about the dataset (even its existence) is 
      shown to users who don't have access to it.
    If true, some information about the dataset (title, summary, etc) is
      shown to users who don't have access to it.  
      If the user clicks on a link to a dataset he doesn't have access to,
      he will get an error message and be prompted to log in.
    -->
    <listPrivateDatasets>false</listPrivateDatasets>
    
    <!-- If the number of requests between two runs of LoadDatasets 
    exceeds unusualActivity, an email is sent to emailEverythingTo.
    The default is 10000.
    -->
    <unusualActivity>10000</unusualActivity>
```

* Новые типы наборов данных[EDDGridКопия](/docs/server-admin/datasets#eddgridcopy)и[EDDTableCopy](/docs/server-admin/datasets#eddtablecopy)создать и сохранить локальную копию другогоEDDGridили данные EDDTable и обслуживают данные из локальной копии. Они очень просты в использовании и очень эффективны **Решение некоторых из самых больших проблем с обслуживанием данных из удаленных источников данных:** 
    
    * Доступ к данным из удаленного источника данных может быть медленным. (по разным причинам) .
    * Удаленный набор данных иногда недоступен. (Опять же, по разным причинам) .
    * Полагаясь на один источник для данных не масштабируется хорошо (Например, когда много пользователей и многоERDDAPиспользовать его) .
    
Кроме того, локальная копия является резервной копией оригинала, что полезно в случае, если что-то случится с оригиналом.
    
Нет ничего нового в создании локальной копии набора данных. Что нового в том, что эти классы делают это\\*легко\\*создавать и\\*поддерживать\\*локальная копия данных из\\*разнообразие\\*Типы удаленных источников данных и\\*Добавить метаданные\\*При копировании данных.
    
Эти типы наборов данных являются частью полного набора функций, которые упрощают создание.[Сети/кластеры/федерацииERDDAPs](/docs/server-admin/scaling)для обработки очень тяжелых грузов (Например, в центре обработки данных) .
    
* Новый тип набора данных[EDDTable FromDatabase](/docs/server-admin/datasets#eddtablefromdatabase)Получает данные из локальной или удаленной таблицы баз данных.
*   ERDDAP™Теперь имеет[безопасность](/docs/server-admin/additional-information#security)Система, поддерживающая аутентификацию (Позволить пользователям войти) и разрешение (предоставление им доступа к определенным частным наборам данных;) .
* Существуют[Два новых инструмента командной строки](/docs/server-admin/datasets#tools)Чтобы помочьERDDAP™администраторы генерируют XML для нового набора данныхdatasets.xml:
    * Генерировать наборы данных Xml может генерировать черновой проект набора данных XML практически для любого типа наборов данных.
    * DasDds помогает вам неоднократно тестировать и совершенствовать XML для набора данных.ERDDAPГенерируемые наборы данных Веб-страницы Xml были удалены. По соображениям безопасности они поддерживали только несколько типов наборов данных. Новые средства командной строки являются лучшим решением.
* Новый[Статус страницы](/docs/server-admin/additional-information#status-page)Пусть кто угодно (В частности, администраторы) Посмотреть Статус одногоERDDAP™Из любого браузера, перейдя в\\[основание\\]/erddap/status.html.
* Tabledap теперь поддерживает[серверные функции](https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#functions):
    * неясный () удаляет дубликаты строк из таблицы ответов;
    * иorderBy (...) позволяет указать, как должна быть сортирована таблица ответов,
    * иorderByMax (...) позволяет указать, как должна быть сортирована таблица ответов, и удаляет все строки, кроме строк с максимальными значениями в последнем указанном столбце. Это можно использовать, например, для получения последних доступных данных для каждой станции.
* Табличные наборы данных теперь могут включать дополнительные переменные времени даты, которые не называются."time". Эти переменные распознаются по их «единицам» метаданных, которые должны содержать" since "  (для числовой даты Время) или "да" или "да" (для отформатированных струнных dateTimes) . Пожалуйста, продолжайте использоватьdestinationName "time"На главную дату Переменная времени.
*   ERDDAP™В настоящее время генерирует[sitemap.xml](/docs/server-admin/additional-information#sitemapxml)Файл, который сообщает поисковым системам, что вашERDDAPНужно только ползать каждый месяц.ERDDAP™Администраторы, пожалуйста, следуйте[Эти инструкции](/docs/server-admin/additional-information#sitemapxml)уведомлять поисковые системы о новом файле sitemap.xml.
*   ERDDAPСообщения об ошибках теперь намного короче и ориентированы на клиентов. (Не программисты) . Спасибо Грегу Уильямсу.
* [править]&lt;Черный список&gt;&gt; (/docs/server-admin/datasets#requestblacklist) Теперь также поддерживается IP-адреса, где последний номер был заменен на \\*.
* Просьбы о.jsonФайлы .geoJson теперь могут включать опциональные файлы.[Джонсон](https://niryariv.wordpress.com/2009/05/05/jsonp-quickly/)запрос с добавлением "&.jsonp=_functionName_" до конца запроса. По сути, это просто говоритERDDAP™Добавить "_functionName_ ("к началу ответа и") "до конца ответа. Если изначально не было запроса, оставьте «&» в запросе. Спасибо Грегу Уильямсу.
* Много новых статистических данных было добавлено к[Ежедневный отчет](/docs/server-admin/additional-information#daily-report).
* На веб-страницах со списками наборов данных, учреждений и идентификаторов теперь крайне правые. Это перемещает подписку и другие более полезные столбцы в поле зрения на узких экранах компьютера.
* На всех веб-страницах заголовок страницы (на основе&lt;Заголовок&gt; в разделе&lt;StartHeadHtml&gt;, который вы определяете в setup.xml, изменен, чтобы включить лучшее описание веб-страницы. (Например, путем включения названия текущего набора данных и учреждения) .
* Информация Xmx теперь включена с информацией памяти, напечатанной в log.txt, Daily Report и на status.html. Спасибо Эллин Монтгомери.
*   ERDDAP™имеет дополнительную защиту общего назначения от всех ошибок; (Оригинальное название: OutOfMemoryError) . Спасибо Чарльзу Карлтону.
* Улучшение обработки ошибок, если ответ уже был выполнен.
* Усовершенствовано: EDDTable FromFilesEDDGridФайлы теперь позволяют&lt;Метаданные из&gt; первого или последнего. Предпоследний больше не поддерживается. И первый и последний теперь основаны на последних файлах.
* Обсуждение Bug fix: in EDDTableFromSOSНедействительная информация для одной станции сделала исключение и вызвала отклонение всего набора данных. Эти станции просто игнорируются. (и сообщение об ошибке регистрируется в log.txt) . Спасибо Рику Блэру.
     

## Версия 1.18{#version-118} 
 (Выпущено 2009-04-08) 

* Исправление ошибок: Начиная с 1.14, веб-страница EDDTable Data Access Form и Make A Graph не имела надлежащего отношения к цитируемым ограничениям.
* Начиная с 1.14, EDDTableFromDapSequence не справлялся с временными ограничениями правильно, если блоки времени источника не были «секундами с 197001-01T00:00:00».
     

## Версия 1.16{#version-116} 
 (Выпущено 2009-03-26) 

*   ERDDAP™администраторы:
    * Это важный релиз, потому что он исправляет ошибку, которая оставилаERDDAP™Если вы используете Tomcat Manager для остановки / запуска или перезагрузкиERDDAP. Поэтому, когда вы устанавливаете 1.16, не используйте менеджер Tomcat для развёртывания старого.ERDDAP™и развертывание новыхERDDAP. Вместо этого: **Развернуть староеERDDAP™Перезапуск Tomcat (или сервер) Затем развернуть новыйERDDAP.** Это всегда хорошая идея при установке новой версии.
    * Пожалуйста, добавьте&lt;Запросить Blacklist&lt;/requestBlacklist&gt; (/docs/server-admin/datasets#requestblacklist) к твоемуdatasets.xml. Это может быть использовано для указания списка IP-адресов клиентов, которые будут заблокированы. (Например, чтобы отразить атаку типа «отказ в обслуживании» или чрезмерно рьяного веб-робота.) .
* Сейчас существует A\\[BigParent Директория\\]/logs Directory для храненияERDDAP™Файлы журналов. Когда вы начинаетеERDDAP™Он делает архивную копию log.txt и log. txt.Предыдущие файлы с отметкой времени. Если перед перезагрузкой возникли проблемы, может быть полезно проанализировать эти файлы.
*   ERD?ERDDAP™Теперь включена система подписки.
*   ERDDAP™Опять же позволяет (Но все же не рекомендует) «%26» кодирование «&» в URL-адресах запросов (Видишь?[соответствующие изменения v1.14](#percent26)) .
* Несколько новых дополнений к разделу Талли[Ежедневный отчет](/docs/server-admin/additional-information#daily-report).
* Небольшие исправления ошибок в генерации DatasetsXml.
* Несколько небольших исправлений ошибок.
     

## Версия 1.14{#version-114} 
 (Выпущено 2009-03-17) 

* Изменения для пользователей:
    * В сетевых запросах,ERDDAP™Теперь поддерживает:[последний](https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#last)где n - целое число индексов и[ (последний) ](https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#lastInParentheses)где d - числовое значение (Время, оно в секундах) .
    * В запросах табличных данных теперь требуются ограничения струн[двойные цитаты](https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#QuoteStrings)вокруг значения, например, &id="NDBC40121" Этого требует отDAPпротокол.
    * В табличных запросах данных,ERDDAP™Теперь это требует[Все ограничения правильно закодированы](https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#PercentEncode). Браузеры делают это автоматически, поэтому это в основном влияет на компьютерные программы / скрипты, к которым осуществляется доступ.ERDDAP.
#### Процент 26{#percent26} 
*   [Раньше,](#percent26)тот[Вставить веб-страницу графа](https://coastwatch.pfeg.noaa.gov/erddap/images/embed.html)и[ERDDAP™Веб-страница Google Gadget](https://coastwatch.pfeg.noaa.gov/erddap/images/gadgets/GoogleGadgets.html)Заменить «&» в URL-адресе изображения на «%26». Отныне вы должны заменить «&» в URL-адресе изображения на «&amp;». Таким образом, вы должны заменить любое «%26» на существующих веб-страницах и Google Gadgets на «&amp;». (Извините.) 
*   ERDDAP™Администраторы, пожалуйста:
    * Добавьте следующее к своему[Настройка.xml](/docs/server-admin/deploy-install#setupxml)файл (Сменить флаг Ключевое значение) :
```
        <!-- ERDDAP™ has a service that lets remote users set a flag
        to notify ERDDAP™ to try to reload a dataset.
        These requests use a key which is generated based
        on baseUrl/warName, a datasetID, and flagKeyKey.
        \\*\\*\\* Change this once, to any text (a favorite quote? random text? 
        It doesn't matter). Normally, you won't ever change this again.
        But if you think someone is abusing the flag system,
        change this text again, restart ERDDAP™, and send
        all of the users of the flag system the relevant new flagKeys
        (see the list in the Daily Report). -->
        <flagKeyKey>A stitch in time saves nine. CHANGE THIS!!!</flagKeyKey>
        
        <!-- ERDDAP™ has an email/URL subscription system which sends a user
        an email or pings a url whenever a dataset of interest changes.
        (This is different from the RSS system, which is always active.)
        The system relies on the server being able to send out 
        emails to people to validate their subscription requests.
        The emails appear to come from the emailFromAddress below.
        So if your server can't send out emails, don't make this system active.
        You may choose (for whatever reason) to make this system active or not, 
        so valid values below are "true" (the default) and "false".
        Note that if you change this and restart ERDDAP™, the list of 
        subscriptions (in \\[bigParentDirectory\\]/subscriptionsV1.txt) isn't
        affected. See also the subscriptionEmailBlacklist in datasets.xml.
        -->
        <subscriptionSystemActive>true</subscriptionSystemActive>  
```

    * На линии после&lt;Имя пользователя в вашем[Настройка.xml](/docs/server-admin/deploy-install#setupxml)файл, добавить
```
        <emailPassword>_myPassword_</emailPassword> <!-- optional; if absent, emails can't be sent to non-local addresses -->  
```
Введите свой реальный пароль.
    * Вы можете изменить&lt;wmsSampleBBox&gt; в вашем[Настройка.xml](/docs/server-admin/deploy-install#setupxml)файл, содержащий значения долготы до 360, например,
```
        <!-- The bounding box values are 
           minLongitude,minLatitude,maxLongitude,maxLatitude.
           Longitude values within -180 to 180, or 0 to 360, are now okay. -->
        <wmsSampleBBox>0,-75,360,75</wmsSampleBBox>  
```

    * В твоейdatasets.xmlфайл, переименовать тип набора данных EDDTableFromNc4DFiles в EDDTableFromNcFiles (Поддерживает файлы с любым количеством измерений) . Если у вас есть набор данных EDDTableFromNc4DFiles:
        
        1. Вы должны изменить тип = "EDDTable FromNcFiles" в ваших наборах данных. XML файл.
        2. Вы должны добавить&lt;nDimensions 4.4&lt;/nDimensions&gt; tag to the dataset's XML.
        3. Вы можете добавить новый&lt;тег sortFilesBySourceNames&gt; для указания внутреннего порядка файлов, который определяет общий порядок возвращаемых данных.
        
Подробнее см.[EDDTable Из материалов](/docs/server-admin/datasets#eddtablefromfiles).
    * В прошлом для EDDTable FromDapSequence, дляOPeNDAPDRDS-серверы, вdatasets.xmlМы использовали&lt;Источник: CanConstrainStringsRegex&lt;/sourceCanConstrainStringRegex. Но теперь мы видим, что поддержка DRDS-регекса более ограничена, чем поддержка DRDS-регекса.ERDDAPs, поэтому мы рекомендуем&lt;Источник: CanConstrainStringsRegex&lt;/sourceCanConstrainStringRegex&gt; так, чтобы ограничения регекса не переходили к источнику, а вместо этого обрабатывалисьERDDAP.
    * Обновленная обработка SourceCanConstrain вdatasets.xmlчерез[EDDTable FromDapSequence](/docs/server-admin/datasets#eddtablefromdapsequence)и (внутренне) Все типы EDDTable. Новая система проще и лучше отражает изменчивость различных источников данных. Возможно, вам придется изменить XML для ваших наборов данных.datasets.xml.
* Есть несколько новых функций, которые полезны сами по себе, но в сочетании также облегчают создание новых функций.[Сети/кластеры/федерацииERDDAPs](/docs/server-admin/additional-information#grids-clusters-and-federations).
    * Новые типы наборов данных:
        *   [EDDGridИз Эрддапа](/docs/server-admin/datasets#eddfromerddap)и[EDDTable FromErddap](/docs/server-admin/datasets#eddfromerddap)который позволяетERDDAP™Включает набор данных из другогоERDDAP™очень простым и очень эффективным способом.
        *   [EDDGridИз материалов](/docs/server-admin/datasets#eddgridfromfiles)  (и его подкласса,[EDDGridИз NcFiles](/docs/server-admin/datasets#eddgridfromncfiles)который может читатьNetCDF .nc, GRIB .grb, иHDF .hdfфайлы) .
        *   [EDDTable FromNcFiles](/docs/server-admin/datasets#eddtablefromncfiles)который может читатьNetCDF .ncкоторые имеют столообразную структуру.
    * RunLoadDatasets и LoadDatasets были обновлены таким образом, чтоERDDAP™очень быстро реагирует на перезагрузку наборов данных на основе файлов в[флаг](/docs/server-admin/additional-information#flag)каталог (часто)&lt;5 секунд, если основные наборы данных в настоящее время выполнены.
    * Новый сервис позволит[URL для создания файла флага](/docs/server-admin/additional-information#set-dataset-flag)для данного набора данных, например,
    ```
        https://coastwatch.pfeg.noaa.gov/erddap/setDatasetFlag.txt?datasetID=rPmelTao&flagKey=123456789  
    ```
Создает файл флага в каталоге флага для rPmelTao (Хотя флаг Ключ здесь неправильный) .
    * Новый[подписка](https://coastwatch.pfeg.noaa.gov/erddap/subscriptions)услуга, чтобы любой клиент мог указать действие, которое будет сделано при создании определенного набора данных; (когдаERDDAP™возобновляется) и всякий раз, когда набор данных каким-либо образом изменяется. Эта система может быть отключена через&lt;ПодпискаSystemActive&gt; в вашем[Настройка.xml](/docs/server-admin/deploy-install#setupxml)Файл. TheERDDAP™ [Ежедневный отчет](/docs/server-admin/additional-information#daily-report)Теперь перечисляет все подписки и включает URL-адрес, необходимый для отмены каждой из них, если вы чувствуете, что система злоупотребляет. вdatasets.xmlЕсть новый, факультативный [&lt;подписка Электронная почта Blacklist&gt; (/docs/server-admin/datasets#subscriptionemailblacklist) тег, чтобы администраторы могли указать отдельный список адресов электронной почты, которые немедленно внесены в черный список из системы подписки.
    * Новое&lt;OnChange&gt; (/docs/server-admin/datasets#onchange) атрибут вdatasets.xmlПустьERDDAP™администратор определяет действие, которое будет выполняться при создании определенного набора данных; (когдаERDDAP™возобновляется) и всякий раз, когда набор данных каким-либо образом изменяется.
    * Улучшения для полнотекстового поиска: сохранение строки поиска для каждого набора данных теперь использует 1/2 памяти. Алгоритм поиска (Бойер-Мур как) Теперь он в 3 раза быстрее.
    * Электронные письма отERDDAP™Теперь всегда подготавливайте тему и довольствуйтесь\\[ердап Урл\\]Чтобы было ясно, какойERDDAP™Это произошло от (Если вы управляете несколькимиERDDAPs) .
    * Более обширная статистика для[Ежедневный отчет](/docs/server-admin/additional-information#daily-report)Электронная почта.
    * Новый файл log\\[BigParent Директория\\]/emailLogYEAR-MM-DD.txt регистрирует все электронные письма, отправленныеERDDAP™каждый день. Это особенно полезно, если ваш сервер не может отправлять электронные письма - вы можете, по крайней мере, прочитать их в журнале.
    *   ERDDAP™Теперь делает\\[BigParent Директория\\]/кэш/ (datasetID) каталог для каждого набора данных, поскольку может быть кэшировано много файлов.
* Новый[RSS2.01](https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions)корм для каждого набора данных (В поисках апельсинаRSSзначки в списках наборов данных, форм доступа к данным и веб-страниц Make A Graph) .
*   EDDGrid .kmlРеакции теперь используют черепичные изображения («Сверхнакладки» — динамически генерируемые изображения квадратов) . Первоначальное изображение загружается в Google Earth гораздо быстрее, чем раньше. Разрешение карты увеличивается по мере увеличения, вплоть до полного разрешения набора данных. Рекомендуем: пользователи должны запрашивать.kmlдля одной временной точки, но весь диапазон долготы и широты набора данных. К сожалению, поддержка временных диапазонов была удалена. (Надеюсь, он вернется) .
*   ERDDAP™Теперь добавляет[Заголовки Cache-Control max-age](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control)Все файлы, запрошенные из каталога /images. Это значительно уменьшает количество запросов на статические файлы.ERDDAPЭто значительно ускоряет большинствоERDDAP™Страница загружена. Кроме того, многиеJavaСсылки на скриптовые файлы переместились в нижнюю часть их HTML-страниц, что также ускоряет многие из них.ERDDAP™Страница загружена. Благодаря книге «Высокопроизводительные веб-сайты» Стива Судерса и дополнению ySlow к плагину FireBug в FireFox.
*   ERDDAP™Переход с netcdf-java 2.2.22 на netcdf-java 4.0. Помимо прочего, это позволяетEDDGridИз NcFiles читатьHDF .hdfКроме того, GRIB .grb иNetCDF .ncФайлы.
*   EDDGridот Dap иEDDGridFromNcFiles теперь поддерживает DArray (Как и DGrid)  dataVariableС. Если размерность не имеет соответствующей переменной координаты,ERDDAP™создает переменную оси со значениями индекса (например, 0, 1, 2, ..., 311, 312) . Все остальные аспектыEDDGridОставайтесь прежними:
* Он по-прежнему обслуживает все наборы данных как сети с переменной оси для каждого измерения.
* Запросы могут по-прежнему запрашивать значения переменных оси.
Спасибо Чарльзу Карлтону, Томасу Иму, Дориану Раймеру и другим.
* TheWMS OpenLayersСтраницы теперь имеют диапазон долготы, широты по умолчанию, который немного больше диапазона набора данных. (Не точный диапазон, поэтому контекст небольших наборов данных более очевиден.) . Диапазон по умолчанию теперь также может быть от 0 до 360, что позволяет отображать полный диапазон многих наборов данных. БлагодаряToddСпиндлер.
* Новые слайдеры на некоторых формах доступа к данным и веб-страницах Make A Graph. Они упрощают (сырой) Спецификация желаемых данных и хорошая визуальная обратная связь.
* Новый вариант для&lt;набор данных теги вdatasets.xml:[Активный = «ложный»](/docs/server-admin/datasets#active).
* ссылки наERD?ERDDAP™Обновлено: Coastwatch.pfel (Работает через прокси) Обсуждение Coastwatch.pfeg (предпочтительный) .
* Новая поддержка[data\\_minиdata\\_max](/docs/server-admin/datasets#data_min-and-data_max)переменные атрибуты метаданных.
* Частичное решение для[WaitThenTryAgain / Partial Results Исключение](/docs/server-admin/additional-information#waitthentryagain-exception): Теперь некоторые запросы, которые ранее не выполнялись при обнаружении изменения источника данных, будут успешными.ERDDAP™Перезагрузка набора данных и повторный запрос данных автоматически, все в контексте первоначального запроса.
* Bug fix: генерировать Наборы данных Xml стал инвалидомERDDAP™Версия 1.12. Спасибо Эллин Монтгомери за указание на это.
* Небольшие изменения в обработке ошибок.
* Многие улучшения, чтобы избежать / справиться с возможными условиями гонки (т.е. возможные проблемы, вытекающие из многопоточной природыERDDAP) Это вызвало небольшие, редкие проблемы.
* Теперь, если сообщение об ошибке написано на изображении, изображение будет оставаться в кэше только в течение ~ 5-10 минут. (Не 60) . Спасибо Каре Уилсон.
* Стандартным сообщением, когда нет данных, теперь является «Ваш запрос не дал соответствующих результатов», что короче, точнее и соответствует.OPeNDAPСерверы.
*   EDDGridБольше не допускает привязанных значений оси.
* Небольшие изменения в запросах .ver и .help.
* Много небольших изменений и исправлений ошибок.
     

## Версия 1.12{#version-112} 
 (Выпущен 2008-10-31) 

* EDDTable FromSOSВновь работает с NDBCSOSРаботает с новым NOSSOS.
* EDDTableFromBMDE требуетERDDAP™admin для указанияdataVariableС.
*   EDDGridБольше не требуется, чтобы лат и lon были равномерно размещены. прозрачный Png или.kml. БлагодаряToddСпиндлер.
* Несколько небольших изменений.
     

## Версия 1.10{#version-110} 
 (Выпущен 2008-10-14) 

* Новые метаданные «colorBar» для переменных данныхdatasets.xmlопределяет настройки цветовой панели по умолчанию для графиков и карт. Видишь?[Больше информации](/docs/server-admin/datasets#color-bar-attributes). Это важно, потому что это значительно улучшает внешний вид графиков и карт по умолчанию, созданных Make A Graph, и потому что графики и карты по умолчанию теперь имеют согласованную цветовую планку, даже когда клиент меняет запрошенное время или географический диапазон. Кроме того, это было необходимо дляWMS.
*   ERDDAP™теперь обслуживает большинство сетевых данных черезWMSобслуживание. Это важно, поскольку показывает, что помимо получения данных от многих типов серверов данных,ERDDAP™Распределение данных по различным протоколам (DAP,WMSБольше в будущем) . Видишь?[клиентская документация](https://coastwatch.pfeg.noaa.gov/erddap/wms/documentation.html). Или[Документация для администраторов](/docs/server-admin/datasets#wms). Или[попробовать](https://coastwatch.pfeg.noaa.gov/erddap/wms/index.html).
* Новая поддержка значений долготы &gt;180 в.kmlФайлы.
* Новый cdm\\_data\\_type: Other
*   ERDDAP™Теперь поддерживается «булевый» источник dataType. Видишь?[Больше информации](/docs/server-admin/datasets#boolean-data)Это будет полезно для будущей базы данных EDDTableFromData.
* Новый EDDTableFromBMDE поддерживает источники данных DiGIR/BMDE.
* EDVGridAxis теперь позволяет снижать сортированные значения. Данные pmelOscar нуждались в этом.
*   ERDDAP™Вернуть HTTP ошибки (Например, "404 для ресурса/страницы не найдено") В других ситуациях вместо HTML-страниц с сообщениями об ошибках.
* Много изменений и дополнений вERDDAP™Документация.
* Много мелких изменений.
* Некоторые исправления ошибок.
*    **ВещиERDDAP™Администраторы должны сделать обновление до этой версии:** 
    * вdatasets.xmlДля любого EDDTable FromSOSнаборы данных, изменить метаданные «наблюдаемая собственность» на «источник наблюдаемая собственность».
    * Правила для одногоaxisVariableилиdataVariable?destinationNameтеперь[строже](/docs/server-admin/datasets#datavariable-addattributes). Вы должны убедиться, что ваши переменные имена действительны. Либо проверить их вручную, либо бежать.ERDDAP™Посмотрите на сообщения об ошибках в отчете, которые отправляются администратору.
    * вdatasets.xmlЕсли вы хотите, чтобы переменная данных была доступна черезWMSВы должны добавить метаданные ColorBar. По крайней мере, например,&lt;Att name=""colorBarMinimum"тип="двойной"&gt;0&lt;/att&gt;
```
          <att name="colorBarMaximum" type="double">32</att>  
```
Видишь?[Больше информации](/docs/server-admin/datasets#wms).
    * Добавьте следующее к своему[Настройка.xml](/docs/server-admin/deploy-install#setupxml)файл (Но настройте его с вашей информацией) :

```
        <!-- drawLand specifies the default Make A Graph setting for 
        whether the landmask should be drawn "over" (the default) or "under" 
        surface data on maps. "over" is recommended for primarily 
        oceanographic data (so that grid data over land is obscured by the 
        landmask). "under" is recommended for all other data.
        -->
        <drawLand>over</drawLand>  
        
        <!-- Information about the ERDDAP™ administrator is used for the 
        SOS and WMS servers. You MUST CHANGE these to describe your 
        installation. 
        -->
        <adminInstitution>NOAA Environmental Research 
        Division</adminInstitution>
        <adminIndividualName>Your Name</adminIndividualName>
        <adminPosition>Webmaster</adminPosition>
        <adminPhone>your-phone-number</adminPhone>
        <adminAddress>99 Pacific St, Suite 255A</adminAddress>
        <adminCity>Monterey</adminCity>
        <adminStateOrProvince>CA</adminStateOrProvince>
        <adminPostalCode>93940</adminPostalCode>
        <adminCountry>USA</adminCountry>
        <adminEmail>yourName@yourSite</adminEmail>
        
        <!-- Information about the ERDDAP™ administrator is used for ERDDAP's
        SOS server. You MUST CHANGE these to describe your installation. 
        -->
        <sosTitle>NOAA Environmental Research Division SOS</sosTitle>
        <sosAbstract>NOAA Environmental Research Division's ERDDAP™ makes 
          data from multiple sources available via the SOS 
          protocol.</sosAbstract>
        <sosKeywords>Weather, Ocean Currents, Temperature, 
          Salinity</sosKeywords>
        <sosAccessConstraints>NONE</sosAccessConstraints>
        <sosFees>NONE</sosFees>
        
        <!-- Information about the ERDDAP™ administrator is used for 
        ERDDAP's WMS server. You MUST CHANGE these to describe your 
        installation. -->
        <wmsTitle>NOAA Environmental Research Division 
        WMS</wmsTitle>
        <wmsAbstract>NOAA Environmental Research Division's ERDDAP™ makes
        data from multiple sources available via the WMS 
        protocol.</wmsAbstract>
        <wmsKeywords>Weather, Ocean Currents, Temperature, 
          Salinity</wmsKeywords> 
        <wmsAccessConstraints>NONE</wmsAccessConstraints>
        <wmsFees>NONE</wmsFees>
        <!-- For the wms examples, pick one of your grid datasets that has 
        longitude and latitude axes. The sample variable must be a variable 
        in the sample grid dataset.  The bounding box values are 
        minx,miny,maxx,maxy.
        -->
        <wmsSampleDatasetID>erdBAssta5day</wmsSampleDatasetID>
        <wmsSampleVariable>sst</wmsSampleVariable>
        <wmsSampleBBox>0,-75,180,75</wmsSampleBBox>
```

## Версия 1.08{#version-108} 
 (Выпущен 2008-07-13) 

* Новый веб-сервис вERDDAP™генерировать Наборы данных Xml, помощьERDDAP™администраторов путем создания чернового проекта XML, необходимого для описания набора данных вdatasets.xml
* Некоторые изменения / исправления ошибок, связанные с тем, что netcdf-java позволяет использовать сетчатый десктоп в качестве сервера opendap, в том числе: глобальные метаданные теперь помечены как «NC\\_GLOBAL». (Вместо «глобального») .
* TheEDDGridEDDTable Data Access Forms теперь использует информацию о запросах в URL. Так, например, если пользователь переходит от формы Make A Graph к форме доступа к данным, ограничения теперь передаются должным образом.
*   tabledapMake A Graph теперь позволяет ограничивать струнные переменные.
* EDDTable's Make A Graph теперь позволяет использовать ограничения NaN. Спасибо Стиву Хэнкину.
* Оригинальное название: EDDTable Save AsImage не распознал значения .colorbar min и max. Спасибо Стиву Ханкину
* Много улучшений для настройки DatasetsXml. Спасибо Эллин Монтгомери.
* Запросы Gridap теперь позволяют () - запросы стиля немного за пределами фактического диапазона оси. Это уместно, поскольку () Значения округляются до ближайшего фактического значения. Спасибо Синди Бесси
* Я сделал тест FloatArray и DoubleArray более сложным. Он всегда будет несовершенным. (потому что тест должен быть настроен для каждого набора данных) Но это должно быть лучше. Спасибо Эллин Монтгомери.
* Переместил setup.html и setupDatasets Каталог / Download Xml.html erddap и жестко закодированные ссылки на них. Теперь я могу вносить изменения и обновлять информацию о настройке немедленно.
* Много мелких изменений. Несколько небольших исправлений ошибок.
*    **ВещиERDDAP™Администраторы должны сделать обновление до этой версии:** 
    * Двигаться&lt;Краткое описание Html&gt; из вашего сообщения.xml[Настройка.xml](/docs/server-admin/deploy-install#setupxml)Файл. Он определяет текст, который появляется в середине левой стороныERDDAP™Домашняя страница. Кроме того, добавить&lt;h1ERDDAP&lt;/h1&gt; (или другой заголовок) На вершине этого. **Или** копия&lt;ShortDescriptionHtml в новой версии[Настройка.xml](/docs/server-admin/deploy-install#setupxml)файл (Новый erddapContent.zip) Введите setup.xml.
         

## Версия 1.06{#version-106} 
 (выпущенный 2008-06-20) 

* Новая поддержкаIOOS DIF SOSИсточники данных.
* Много мелких изменений. Несколько небольших исправлений ошибок.
     

## Версия 1.04{#version-104} 
 (Выпущен 2008-06-10) 

* Новая функция Slide Sorter.
* Новая страница Google Gadgets и примеры.
* Баг фиксируется вEDDGrid.saveAsNc для переменной со шкалой и addOffset.
     

## Версия 1.02{#version-102} 
 (Выпущен 2008-05-26) 

* НовыйEDDGridSideBySide позволяет различатьaxisVariables\\[0\\]источник Ценности.
* Все данные о потоках и ветрах были объединены вEDDGridНабор данных SideBySide.
* Изображения из запросов изображений теперь кэшируются в течение 1 часа.
     

## Версия 1.00{#version-100} 
 (Выпущен 2008-05-06) 

* Сделайте графические веб-страницы и графические команды в URL.
* Поддержка файлов флагов для принудительной перезагрузки набора данных.
* Новый тип набора данных: EDDTableFrom4DFiles (Первый подкласс EDDTableFromFiles) .
