---
sidebar_position: 1
---

# ติดตั้ง
วิธี ทํา การ ตั้ง ต้น ERDDAP™ บนเซิร์ฟเวอร์ของคุณ

 ERDDAP™ สามารถทํางานบนเซิร์ฟเวอร์ใด ๆ ที่รองรับ Java และทอมแคท (และเซิร์ฟเวอร์โปรแกรมอื่น ๆ เช่น Jetty แต่เราไม่ได้สนับสนุนพวกเขา) .
 ERDDAP™ ได้ทดสอบลินุกซ์แล้ว (รวม AWS ของ Amazon) , แมค, และคอมพิวเตอร์ของวินโดวส์

*  **โดกเกอร์** -- เราให้ [ ERDDAP™ ใน ตู้ เก็บ ของ](https://hub.docker.com/r/erddap/erddap) 
และไอโอเอสตอนนี้เสนอ [คําแนะนําการทํางานด่วนสําหรับ ERDDAP™ ในบรรจุ Doger](https://ioos.github.io/erddap-gold-standard/index.html) .
มันเป็นมาตรฐาน ERDDAP™ ติดตั้งในตู้คอนเทนเนอร์
ผ่านดอกเกอร์ รวมเข้าด้วยกัน เราให้วิธีการง่ายในการตั้ง ssl และติดตามการอ่านมากขึ้นในออก [เอกสารของดอกเกอร์](https://github.com/ERDDAP/erddap/blob/main/DOCKER.md) .
ถ้าคุณใช้ดอกเกอร์อยู่แล้ว คุณอาจจะชอบเวอร์ชันของโดคเกอร์
หากคุณกําลังมองหาการทํางานบนบริการเมฆ คุณอาจจะต้องการรุ่น Doker
*  **แอเมซอน** -- หากคุณกําลังติดตั้ง ERDDAP™ บนเว็บเซอร์วิสของ Amazon ดูนี้ [เว็บเซอร์วิสของ Amazon](/docs/server-admin/additional-information#amazon) ก่อน
*  **ลินุกซ์และแมค** -- ERDDAP™ ทํางานได้ดีกับลินุกซ์และแมคคอม ดูคําแนะนําข้างล่าง
*  **หน้าต่าง** -- หน้าต่างใช้ได้สําหรับการทดสอบ ERDDAP™ และเพื่อใช้ส่วนตัว (ดูคําแนะนําด้านล่างนี้) .
แต่พวกเราไม่แนะนําให้ใช้มันเพื่อสาธารณะชน ERDDAP™ ใช้ได้ ทํางาน ERDDAP™ บนวินโดวส์อาจจะมีปัญหา:
โดยเฉพาะ ERDDAP™ อาจจะไม่สามารถลบแฟ้มและ/ หรือเปลี่ยนชื่อได้ได้อย่างรวดเร็ว นี้อาจจะเนื่องจากซอฟต์แวร์ป้องกันไวรัส
   (e.g. จาก McAfe and Norton) ซึ่งจะตรวจสอบไฟล์ไวรัส ถ้าคุณเจอปัญหานี้
(ซึ่งสามารถมองเห็นได้โดยข้อความผิดพลาดใน [ปูมบันทึก. txt](/docs/server-admin/additional-information#log) แฟ้มต่าง ๆ เช่น
"ไม่สามารถลบ...") การเปลี่ยนการตั้งค่าโปรแกรมป้องกันไวรัส อาจบรรเทาปัญหาบางส่วนได้บางส่วน หรือพิจารณาใช้ลินุกซ์หรือเซิร์ฟเวอร์แมคแทน

 **มาตรฐาน ERDDAP™ คําแนะนําการติดตั้งสําหรับลินุกซ์, Macs และคอมพิวเตอร์วินโดวส์คือ:** 

0. ให้แน่ใจว่ามีการติดตั้งความขึ้นต่อกันแล้ว บนเครื่องจักรที่ไม่ใช่วินโดวส์ (Linux และ Mac) คุณต้องใช้ชี

##  Java  {#java} 

1.  [สําหรับ ERDDAP™ v2.19+, ตั้ง Java 21](#java) 
ด้วยเหตุผลด้านความปลอดภัย ที่จะใช้รุ่นล่าสุด Java 21
โปรดดาวน์โหลดและติดตั้งรุ่นล่าสุดของ
    [รับเลี้ยงบุตรบุญธรรมของ OpenJDK (เตมู ริน) 21 (LTS) ](https://adoptium.net/temurin/releases/?version=21) .
เพื่อตรวจสอบการติดตั้ง ให้เรียก '/javajreBin Direactory/java - กลับด้าน' เป็นต้น
'%/ usr/ local/jdk-21.0.3+9/jre/bin/java - เลี้ยวกลับ

    ERDDAP™ ทํางานกับ Java จากแหล่งอื่น แต่เราแนะนําให้รับบุตรบุญธรรม เนื่องจากมันเป็นหลัก
ว่าง (เช่นเบียร์และการพูด) รุ่น Java 21 ซึ่ง ให้ การ สนับสนุน ระยะ ยาว (ปรับรุ่นฟรีเป็นเวลาหลายปีที่ผ่านมา ออกครั้งแรก) .
ด้วยเหตุผลความปลอดภัย โปรดแจ้งความคืบหน้า ERDDAP รุ่นของ Java เป็นรุ่นใหม่ของ Java 21 เปิดรับจากสถานรับเลี้ยงบุตรบุญธรรม

    ERDDAP™ มี การ ทดสอบ และ ใช้ อย่าง กว้าง ขวาง กับ 21 ฉบับ ไม่ ใช่ ฉบับ แปล อื่น. ด้วยเหตุผลบางอย่าง เราไม่ทดสอบหรือสนับสนุนเวอร์ชันอื่น Java .
     
## ทอมแคท{#tomcat} 

2.  [ตั้งค่า](#tomcat)   [ทอมแคท](https://tomcat.apache.org) . Tomcat เป็นที่ที่ใช้กันอย่างแพร่หลายที่สุด Java เซิร์ฟเวอร์โปรแกรม
ซึ่งก็คือ Java โปรแกรมที่อยู่ระหว่างบริการเครือข่ายของระบบปฏิบัติการและ Java ซอฟต์แวร์ของแม่ข่ายเช่น ERDDAP™ .
ซอฟต์แวร์เสรีและโอเพนซอร์ส (OSS) .

ใช้อีกก็ได้นี่ Java เซิร์ฟเวอร์โปรแกรม (อี.) แต่เราทดสอบและสนับสนุนทอมแคทเท่านั้น

   * ดาวน์โหลด Tomcat และแกะออกที่เซิร์ฟเวอร์ หรือ PC
ด้วยเหตุผลด้านความปลอดภัย มันมักจะดีกว่าเสมอ ที่จะใช้ฉบับล่าสุดของทอมแคท 10 (รุ่น 9 และด้านล่างนี้ไม่ยอมรับ) 
ซึ่งถูกออกแบบมาให้ทํางานกับ Java 21 หรือ ใหม่กว่า ด้านล่าง, ไดเรกทอรีทอมแคทจะถูกอ้างถึง 'ทอมแคท'

เ_ปลี่ยนใจ&#33; ถ้าคุณมีทอมแคท กําลังทํางานอยู่ในเว็บอื่น (เป็น พิเศษ) เราแนะนําให้คุณติดตั้ง ERDDAP™ ใน
      [Tomcat ตัวที่สอง](/docs/server-admin/additional-information#second-tomcat) เพราะว่า ERDDAP™ ต้องการการตั้งค่า Tomcat ที่แตกต่างกัน
และไม่ควรต้องสู้กับโปรแกรมอื่นเพื่อหน่วยความจํา

     * บนลินุกซ์ [ดาวน์โหลด "core" "trar" .gz "การกระจายของทอมแคท](https://tomcat.apache.org/download-10.cgi) และแกะออก
เราขอแนะนําการรื้อถอนใน usr/local'
     * Mac, Tomcata ถูกติดตั้งแล้วใน '/Library/Tomcat', แต่ควรจะปรับปรุงเป็น Tomcat รุ่นล่าสุด 10
ถ้าคุณดาวน์โหลดมัน [ดาวน์โหลด "core" "trar" .gz "การกระจายของทอมแคท](https://tomcat.apache.org/download-10.cgi) และรื้อถอนใน oh/library/ทอมแคท
     * บนวินโดวส์ คุณสามารถ [ดาวน์โหลดการกระจายตัว "core" ของ Tomcat](https://tomcat.apache.org/download-10.cgi) 
        (ซึ่งไม่ได้รบกวนการลงทะเบียนวินโดวส์ และควบคุมจากบรรทัดคําสั่งดอส) และบรรจุมันลงในไดเรกทอรีที่เหมาะสม
        (สําหรับการพัฒนา เราใช้การกระจาย "โคเร่" "ซีพี" เราทําไดเร็กทอรีของ '/โปรแกรม' และแกะออกที่นั่น) 
หรือคุณสามารถดาวน์โหลดการกระจายตัว "Core" ของวินโดวส์แบบ "64 บิต" ซึ่งรวมคุณสมบัติอื่น ๆ ด้วย
ถ้าจัดจําหน่ายเป็นเครื่องมือติดตั้งวินโดวส์ มันอาจจะใส่ทอมแคทเข้าไป ตัวอย่างเช่น '/Program file/aptacha-tomac-10.23'
             
### เซิร์ฟเวอร์.xml{#serverxml} 

*  [เซิร์ฟเวอร์.xml](#serverxml) - ในแฟ้ม 'tomcat/conf/server.xml' มีสองการเปลี่ยนแปลงที่คุณควรจะทําสําหรับแต่ละ '2' <Connector> ‘ ป้ายกํากับ
   (หนึ่งสําหรับ '[Connator Port= "8080"' และหนึ่งสําหรับ '[Conctor Port="8443"') .
   1.  (แนะนํา) เพิ่มค่าพารามิเตอร์ '% intentationTimes' บางทีเป็น 300000 (มิลลิวินาที 5 นาที) .
   2.  (แนะนํา) เพิ่มพารามิเตอร์ใหม่: | "'. มันปลอดภัยน้อยกว่าเล็กน้อย
แต่ลบความต้องการผู้ใช้ที่จะเข้ารหัสอักขระเหล่านี้ เมื่อมันปรากฏขึ้นในพารามิเตอร์ของที่อยู่ URL ที่ผู้ใช้ร้องขอ
             
### เนื้อหา.xml{#contentxml} 

* บริบท. xml -- แคชของทรัพยากร - ในโฟลเดอร์ `tomcat/conf/continution.xml', ก่อนหน้ารายการ ' </Context> ‘ ป้าย, เปลี่ยนป้ายกํากับทรัพยากร
   (หรือบวกเข้าไป ถ้ามันยังไม่ครบ) เพื่อตั้งค่าแคช กําหนดพารามิเตอร์สูงสุดเป็น 8000:
  ```
  <Resources cachingAllowed="true" cacheMaxSize="80000" />
  ```
เรื่อง นี้ หลีก เลี่ยง คํา เตือน มาก มาย ใน คา ตา ลี นา. ทั้งหมดเริ่มจาก
  ```
  WARNING [main] org.apache.catalina.webresources.Cache.getResource Unable to add the resource at [/WEB-INF/classes/...]
  ```
         
### หมดเวลาของ Apache{#apache-timeout} 

* บนคอมพิวเตอร์ลินุกซ์, เปลี่ยนการตั้งค่าการหมดเวลาของ Apache เพื่อให้การใช้เวลาการใช้งานตามต้องการไม่หมดเวลา
   (กับสิ่งที่มักปรากฏเป็น "Proxy" หรือ "เกตเวย์ bad" ผิดพลาด) . เป็นผู้ใช้หลัก:
  * แก้ไข ‘ อา ปาเช ’ http แฟ้ม d.conf' (ปกติจะเป็น '/etc/' http d/conf/ ') .
    * เปลี่ยนรายการที่มีอยู่ <Timeout> ‘ตั้งค่า (หรือเพิ่มที่ท้ายแฟ้ม) ถึง 3600 (วินาที) แทนที่จะเป็น 60 หรือ 120 วินาที
    * เปลี่ยนรายการที่มีอยู่ <ProxyTimeout> ‘ตั้งค่า (หรือเพิ่มที่ท้ายแฟ้ม) ถึง 3600 (วินาที) แทนที่จะเป็น 60 หรือ 120 วินาที
  * เริ่ม Apache ใหม่: '%/usr/sbin/aptectl - สวยงาม ' (แต่บางครั้งมันก็อยู่ในไดเรกทอรีอื่น) .

### ความปลอดภัย{#security} 
         
* คําแนะนําความปลอดภัย: ดู [คําแนะนําเหล่านี้](https://tomcat.apache.org/tomcat-10.0-doc/security-howto.html) เพื่อเพิ่มความปลอดภัย
การติดตั้ง Tomcat ของคุณ โดยเฉพาะอย่างยิ่งเซอร์เวอร์สาธารณะ
         
* สําหรับสาธารณชน ERDDAP™ การติดตั้งลินุกซ์และแมค จะเป็นการดีที่สุดที่จะติดตั้งทอมแคท (โปรแกรม) เป็นของผู้ใช้ '
   (ผู้ใช้ที่แยกต่างหาก โดยมีสิทธิ์จํากัด [ไม่มีรหัสผ่าน](https://unix.stackexchange.com/questions/56765/creating-an-user-without-a-password) ) .
ดังนั้น จึงมีเพียงซูเปอร์ผู้ใช้เท่านั้นที่สามารถเปลี่ยนไปทําหน้าที่เป็นผู้ใช้ นี้ทําให้เป็นไปไม่ได้สําหรับแฮกเกอร์ที่จะล็อกอินเข้าสู่เซิร์ฟเวอร์ของคุณในฐานะผู้ใช้ 'tomcat'
และไม่ว่ากรณีใด คุณควรทํามันเพื่อให้ผู้ใช้ 'tamcat' มีสิทธิ์ในการจํากัดในการใช้ระบบแฟ้มของแม่ข่าย (อ่านแล้ว++xescent อภิสิทธิ์
สําหรับ 'Appach-tocat' ต้นไม้และ ' <bigParentDirectory> ‘และสิทธิ์ในการอ่านอย่างเดียวสําหรับไดเรกทอรีที่มีข้อมูลที่ ERDDAP™ ต้องเข้าถึง).
  * คุณสามารถสร้างบัญชีผู้ใช้ของผู้ใช้ (ซึ่งไม่มีรหัสผ่าน) โดยใช้คําสั่ง:
    ```
    sudo useradd tomcat -s /bin/bash -p '*'
    ```
  * คุณสามารถเปลี่ยนเป็นผู้ใช้ โดยใช้คําสั่ง
    ```
    sudo su - tomcat
    ```
     (มันจะถามรหัสผ่านซูเปอร์เซอร์ เพื่อขออนุญาตทํา) 
    * คุณสามารถหยุดการทํางานกับผู้ใช้ทอมแคทได้ โดยใช้คําสั่ง
    ```
    exit
    ````
    * ทําส่วนใหญ่ของทอมแคทและ ERDDAP™ ตั้งค่าคําแนะนําเป็นผู้ใช้ จากนั้นให้เรียกใช้งานสคริปต์ 'เริ่มโปรแกรม'.sh' และ 'shutown.sh' เพื่อใช้เป็นของผู้ใช้ `tomcat' '
เพื่อให้ทอมแคทได้รับอนุญาตให้เขียนไปยังแฟ้มปูมบันทึก
    * หลังจากเอาทอมแคทออกแล้ว จากไดเร็กทอรีแม่ของ "Appach-tomm":
      * เปลี่ยนความเป็นเจ้าของของต้นไม้ไดเร็กทอรี apache-tomcat เป็นผู้ใช้ของทอมแคท
        ```
        chown -R tomcat apache-tomcat-10.0.23
        ```
         (แต่แทนที่ชื่อจริงของไดเรกทอรีทอมแคทของคุณ) .
      * เปลี่ยนกลุ่ม "กลุ่ม" เป็น Tomcat, ชื่อผู้ใช้ของคุณ หรือชื่อของกลุ่มเล็ก ๆ ที่มี Tomcat และผู้ดูแลระบบทั้งหมดของ Tomcat/ ERDDAP .
        ```
        chgrp -R yourUserName apache-tomcat-10.0.23
        ```
      * เปลี่ยนสิทธิ์ที่อนุญาตของ Tomcat และกลุ่มได้อ่านแล้ว, เขียน, ประมวลผลสิทธิ์:
        ```
        chmod -R ug+rwx apache-tomcat-10.0.23
        ```
      * ลบสิทธิ์ที่อนุญาตของผู้ใช้ที่จะอ่าน, เขียน, หรือประมวลผล:
        ```
        chmod -R o-rwx apache-tomcat-10.0.23
        ```
นี้เป็นสิ่งสําคัญ เนื่องจากมันป้องกันไม่ให้ผู้ใช้อื่น ๆ จากการอ่านอาจจะข้อมูลละเอียดอ่อนใน ERDDAP™ ตั้งค่าแฟ้ม

### หน่วยความจํา{#memory} 

ตั้งค่าตัวแปรสภาพแวดล้อมของ Tomcat

* บนลินุกซ์และแมค
สร้างแฟ้ม `tomcat/bin/setenv.sh ' (หรือใน Red Hat Enterprise Linux \\[ รี เอล \\] สืบค้นเมื่อ: ') เพื่อตั้งค่าตัวแปรแวดล้อมของทอมแคท
แฟ้มนี้จะถูกใช้โดย 'tomcat/bin/ startup.sh' และ 'shutown.sh' แฟ้มควรจะบรรจุบางอย่างเช่น:
  ```
  export JAVA_HOME=/usr/local/jdk-21.0.3+9
  export JAVA_OPTS='-server -Djava.awt.headless=true -Xmx1500M -Xms1500M'
  export TOMCAT_HOME=/usr/local/apache-tomcat-10.0.23
  export CATALINA_HOME=/usr/local/apache-tomcat-10.0.23
  ```
   (แต่แทนที่ชื่อไดเรกทอรีจากคอมพิวเตอร์ของคุณ) .
   (ถ้าคุณให้ 'เจมี' มาก่อนหน้านี้ คุณสามารถลบนั่นออกได้) 
บนแมค คุณไม่จําเป็นต้องตั้ง 'JAVA_HOME'

* บนหน้าต่าง:
สร้างแฟ้ม `tomcat\bin\\ setenv.Bat' เพื่อตั้งค่าตัวแปรแวดล้อมของ Tomcat
แฟ้มนี้จะถูกใช้โดย 'tamcat\bin\\ startup. bat' และ ' shutdown.bat ‘.
แฟ้มควรจะบรรจุบางอย่างเช่น:
  ```
  SET "JAVA_HOME=\\someDirectory\\jdk-21.0.3+9"
  SET "JAVA_OPTS=-server -Xmx1500M -Xms1500M"
  SET "TOMCAT_HOME=\\Program Files\\apache-tomcat-10.0.23"
  SET "CATALINA_HOME=\\Program Files\\apache-tomcat-10.0.23"
  ```
   (แต่แทนที่ชื่อไดเรกทอรีจากคอมพิวเตอร์ของคุณ) .
ถ้านี่เป็นการทดสอบภายใน เอา "บริการ" ออกไป
   (ถ้าคุณให้ 'เจมี' มาก่อนหน้านี้ คุณสามารถลบนั่นออกได้) 

การตั้งค่าหน่วยความจํา '-Xmx' และ 'Xms' สําคัญเพราะ ERDDAP™ ทํางานได้ดีกับความทรงจํามากขึ้น
ให้ 'XMs' เป็นค่าเดียวกับ 'Xmx' เสมอ

* สําหรับระบบปฏิบัติการ 32 บิต และ 32 บิต Java .
64 บิต Java ดีกว่า 32 บิต Java แต่ 32 บิต Java จะทํางานตราบใดที่เซิร์ฟเวอร์ไม่ยุ่ง
ยิ่งหน่วยความจําหลักในเซิร์ฟเวอร์ดีขึ้น: 4+GB เป็นสิ่งที่ดีจริงๆ, 2 GB ก็โอเค, ไม่ขอแนะนําให้น้อยกว่า
ด้วย 32 บิต Java แม้จะมีความทรงจําทางกายภาพมากมาย ทอมแคทและ Java จะไม่ทํางานถ้าคุณพยายามตั้งค่า 'Xx' มากมากกว่า 1500M (1200M บนคอมพิวเตอร์บางเครื่อง) .
หากเซิร์ฟเวอร์ของคุณมีหน่วยความจําน้อยกว่า 2GB ให้ลดค่า ‘-Xmx' (ใน 'M' Ega bites) เป็น 1/2 ของหน่วยความจําทางกายภาพของคอมพิวเตอร์

* สําหรับระบบปฏิบัติการ 64 บิต และ 64 บิต Java .
64 บิต Java จะใช้ได้กับระบบปฏิบัติการ 64 บิตเท่านั้น
  * ด้วย Java 8, คุณต้องเพิ่ม '-d64' เข้ากับ Tomcat `CATALA_OPTS' พารามิเตอร์ใน 'Setenv.Bat'.
  * ด้วย Java 21 นายเลือก 64 บิต Java เมื่อคุณดาวน์โหลดรุ่นของ Java เครื่องหมาย "64 บิต".

ด้วย 64 บิต Java Tomcat และ Java สามารถใช้ '-Xmx' และ 'Xms' ได้สูงมาก ยิ่งหน่วยความจําทางกายภาพในเซิร์ฟเวอร์ดีขึ้น
ข้อเสนอแนะอย่างง่าย: เราแนะนําให้คุณตั้งค่า 'Xmx' และ '-Xms' ไปยัง (ใน 'M' Ega bites) ถึง 1/2 (หรือน้อยกว่านั้น) ของความทรงจําทางกายภาพของคอมพิวเตอร์
คุณไปดูได้ถ้าทอมแคท Java และ ERDDAP™ จะทํางานในโหมด 64 บิตจริง ๆ โดยการค้นหา "บิต" ใน ERDDAP อีเมลเดลิรายงาน
หรือใน Big Purent Dictory/logs / [ปูมบันทึก. txt](/docs/server-admin/additional-information#log) แฟ้ม (‘Durrent Direactory' ถูกระบุใน [ตั้งค่า. xml](#setupxml) ) .

#### คลังสื่อ{#garbage-collection} 

* ใน ERDDAP™ ' [ปูมบันทึก. txt](/docs/server-admin/additional-information#log) แฟ้ม คุณจะเห็น "GC" มาก (การจัดอันดับล้มเหลว) ข้อความ
นี้มักจะไม่ใช่ปัญหา มันเป็นข้อความบ่อยจากการดําเนินการปกติ Java บอกว่ามันเพิ่งเสร็จขยะเล็กๆ
คอลเลกชันเพราะมันหมดที่ในอีเดน (ส่วนของ Java กองสําหรับวัตถุหนุ่มสาวมาก) . ปกติข้อความที่แสดงให้คุณ
"ความทรงจําใช้ก่อน---" ถ้าเลขสองตัวนั้นอยู่ใกล้กัน นั่นหมายความว่าการเก็บขยะไม่ได้ผลิตออกมา
ข้อความเป็นเพียงสัญญาณของปัญหา ถ้ามันบ่อยมาก (ทุก 2-3 วินาที) ไม่มีประสิทธิภาพ และตัวเลขที่มีขนาดใหญ่และไม่เติบโต
ซึ่งร่วมกันแสดงให้เห็นว่า Java จําเป็น ต้อง มี ความ จํา มาก ขึ้น, กําลัง พยายาม ทํา ให้ ความ จํา เป็น อิสระ, และ ไม่ สามารถ กู้ ความ จํา ได้.
เรื่อง นี้ อาจ เกิด ขึ้น ใน ช่วง ที่ ตึงเครียด แล้ว ก็ จาก ไป. แต่ถ้ามันยังคงที่ นั่นคือสัญญาณของปัญหา
* ถ้าคุณเห็น 'Java. Lang.OOMRER's in ERDDAP™ ' [ปูมบันทึก. txt](/docs/server-admin/additional-information#log) แฟ้ม
ดู [ผู้ประกาศข่าว](/docs/server-admin/additional-information#outofmemoryerror) เพื่อ แนะ วิธี วินิจฉัย และ แก้ ปัญหา.
         
### สิทธิ์ที่อนุญาต{#permissions} 

*  [บน Linux และ Macs ให้เปลี่ยนสิทธิ์ที่อนุญาต](#permissions) จากแฟ้ม `*.sh' ใน `tamcat/bin/' เพื่อประมวลผลโดยเจ้าของ:
  ```
  chmod +x *.sh
  ```

### แบบอักษร{#fonts} 

*  [แบบอักษรของรูปภาพ:](#fonts) เราชอบเสรีมากกว่า [แบบอักษรของ DejaVu](https://dejavu-fonts.github.io/) ต่อคนอื่น ๆ Java แบบอักษร.
การใช้แบบอักษรเหล่านี้ ขอแนะนําให้ใช้แต่ไม่จําเป็น

หากคุณเลือกที่จะไม่ใช้งานแบบอักษร DejaVu คุณต้องเปลี่ยนการตั้งค่าแบบอักษรในการตั้งค่า.xml เป็น ` <fontFamily> ซันเซรีฟ </fontFamily> ‘
ซึ่งมีอยู่ทั้งหมด Java การกระจายตัว หากคุณตั้ง ' <fontFamily> 'ถึงชื่อของแบบอักษรที่ไม่มีอยู่' ERDDAP™ ไม่โหลด
และจะพิมพ์รายการแบบอักษรที่มีอยู่ในแฟ้ม 'log.txt' คุณต้องใช้ตัวอักษรพวกนั้น

หากคุณเลือกใช้แบบอักษรของ DejaVu โปรดแน่ใจว่าเป็น <fontFamily> ‘การตั้งค่าในการตั้งค่า.xml คือ ` <fontFamily> เดจาวู ซานส์ </fontFamily> ‘.

โปรดดาวน์โหลดแบบอักษรของ DejaVu [เดจาฟ็อนต์ .zip ](/DejaVuFonts.zip)   (5,522,795 ไบต์, MD5=33E1E61 FAB06A54781E09148B4FF42.) 
และปลดแฟ้มแบบอักษรออกจากไดเรกทอรีชั่วคราว

  * บนลินุกซ์:
    * สําหรับลินุกซ์ Java การกระจายตัว, เห็นไหม [คําแนะนําเหล่านี้](https://blog.adoptopenjdk.net/2021/01/prerequisites-for-font-support-in-adoptopenjdk/) .
    * กับอื่น ๆ Java การกระจายตัว: ในฐานะผู้ใช้ของ 'tomcat' โปรดคัดลอกแฟ้มแบบอักษรเป็น `$JAAAAAA_HME/OME/lib/foints' Java หาตัวอักษรได้
จําไว้: ถ้าคุณ/ เมื่อคุณปรับรุ่นไปเป็นรุ่นใหม่ Java คุณต้องติดตั้งแบบอักษรใหม่
  * บน Macs: สําหรับแต่ละแฟ้ม ให้คลิกดับเบิลคลิกบนมัน แล้วคลิกที่ตัวอักษรที่ติดตั้ง
  * บนวินโดวส์ 7 และ 10: ในวินโดวส์เอกซ์โพลเรอร์ ให้เลือกแฟ้มแบบอักษรทั้งหมด คลิกขวา คลิกที่การติดตั้ง
             
### ทดสอบแมวน้ํา{#test-tomcat} 

* ทดสอบการติดตั้งทอมแคทของคุณ
  * ลินุกซ์:
    * ในฐานะผู้ใช้ "tomcat" ให้เรียก 'tomcat/bin/ startup.sh'
    * ดูที่อยู่ URL ของคุณ + ": 8080/" ในเบราว์เซอร์ของคุณ (อี.จี. [http://coastwatch.pfeg.noaa.gov:8080/](http://coastwatch.pfeg.noaa.gov:8080/) ) .
  * แมก (ประมวลผลทอมแคทโดยใช้สิทธิ์ผู้ดูแลระบบ) .
    * เรียกใช้ 'tomcat/bin/ startup.sh'.
    * ดูที่อยู่ URL ของคุณ + ": 8080/" ในเบราว์เซอร์ของคุณ (อี.จี. [http://coastwatch.pfeg.noaa.gov:8080/](http://coastwatch.pfeg.noaa.gov:8080/) ) .
สังเกตว่าโดยปริยายแล้ว ทอมแคทของคุณ จะเข้าถึงได้โดยคุณเท่านั้น มันไม่สามารถเข้าถึงได้ในที่สาธารณะ
  * เครื่องภายในของวินโดวส์:
    * คลิกเมาส์ปุ่มขวาบนไอคอน Tomcat ในถาดระบบ และเลือก "เริ่มบริการ"
    * แสดง [http://127.0.0.1:8080/](http://127.0.0.1:8080/) หรือบางที [http://localhost:8080/](http://localhost:8080/) ในเบราว์เซอร์ของคุณ สังเกตว่าโดยปริยายแล้ว ทอมแคทของคุณ จะเข้าถึงได้โดยคุณเท่านั้น มันไม่สามารถเข้าถึงได้ในที่สาธารณะ

คุณน่าจะได้เห็นหน้า Tomcat "fishing"

ถ้ามีปัญหา ดูแฟ้มบันทึกการบันทึกของทอมแคท ที่ 'tomcat/log/catalina. ออก'.

### ปัญหาการติดตั้งทอมแคท?{#troubles-with-the-tomcat-installation} 

* บนลินุกซ์และแมค ถ้าคุณติดต่อทอมแคทไม่ได้ ERDDAP™   (หรือบางทีคุณเพียงแค่ไม่สามารถเข้าถึงพวกเขา จากคอมพิวเตอร์นอกไฟร์วอลล์ของคุณ) .
คุณสามารถทดสอบว่าทอมแคทกําลังฟังพอร์ต 8080 โดยการพิมพ์ (เป็นราก) บนบรรทัดคําสั่งของเซิร์ฟเวอร์:

  ```
  netstat -tuplen | grep 8080
  ```

มันควรกลับมาเป็นเส้นตรงเส้นหนึ่งด้วย

  ```
  tcp 0 0 :::8080 :::* LISTEN ## ##### ####/java
  ```

   (ที่ "" เป็นตัวเลข) แสดงให้เห็นว่ากระบวนการ 'จาวา' (บางทีทอมแคท) กําลังฟังอยู่ที่ท่าเรือ "8080" สําหรับรถติด
หาก ไม่ มี การ ส่ง บรรทัด กลับ หาก เส้น คืน เส้น นั้น ต่าง กัน อย่าง มาก หรือ หาก ส่ง คืน สอง บรรทัด หรือ มาก กว่า นั้น ก็ อาจ เกิด ปัญหา ขึ้น กับ ท่า เรือ.

* ดูแฟ้มปูมบันทึกของ Tomcatar  `tommcat/logs/catalina. ออก '. ปัญหาเกี่ยวกับทอมแคทและบางอย่าง ERDDAP™ โจทย์เริ่มต้น มักจะระบุตรงนั้นเสมอ
นี่เป็นเรื่องปกติเมื่อคุณตั้ง ERDDAP™ .

* ดู [ทอมแคท](https://tomcat.apache.org/) เว็บไซต์ หรือ สืบค้น ดู ว่า คุณ มี ปัญหา อะไร บ้าง?

* ดูของเรา [ส่วนของการได้รับการสนับสนุนเพิ่มเติม](/docs/intro#support) .
             
###  ERDDAP™ เนื้อหา{#erddap-content} 
3.   [ตั้งค่าแฟ้มปรับแต่งค่า `tamcat/ concent/erdap'](#erddap-content) 
บนลินุกซ์, Mac และวินโดวส์, ดาวน์โหลด [แก้ไขโครงการหลัก... .zip ](https://github.com/ERDDAP/erddapContent/releases/download/content1.0.0/erddapContent.zip) 
และปลดมันออกจากไดเร็กทอรี 'ทอมแคท' สร้าง 'ทอมแคท/คอนเทนต์/เซิร์ดแดป'

_Version 1. 0.0, 20333 bytes, MD5 = 2B8D2A5E5EEE5E73E3A42B522968C60B5, ลงวันที่ 2024-10-14_BAR_

รุ่นก่อนหน้านี้บางตัวยังใช้ได้:

    *  [2.17](https://github.com/ERDDAP/erddap/releases/download/v2.17/erddapContent.zip)   (19,792 ไบต์, MD5=8F892616BEF2DF2F0F4BB036DBBBAD7C, ลงวันที่ 2022-02-16.) 
    *  [2.18](https://github.com/ERDDAP/erddap/releases/download/v2.18/erddapContent.zip)   (19,792 ไบต์, MD5=8F892616BEF2DF2F0F4BB036DBBBAD7C, ลงวันที่ 2022-02-16.) 
    *  [2.21](https://github.com/ERDDAP/erddap/releases/download/v2.21/erddapContent.zip)   (19,810 bytes, MD5=1E26661E7A06191E68684C404848362 ลงวันที่ 2022-10-09.) 
    *  [2.22](https://github.com/ERDDAP/erddap/releases/download/v2.22/erddapContent.zip)   (19,810 bytes, MD5=1E26662E7A06191E686868C4044848362 ออกอากาศ 2022-12-08.) 
    *  [2. 23](https://github.com/ERDDAP/erddap/releases/download/v2.23/erddapContent.zip)   (19,810 bytes, MD5=1E26662E7A06191 E686868C4040B9A29362 ลงวันที่ 2023-02-27.) 

#### ไดเรกทอรีอื่น{#other-directory} 

สําหรับ Red Hat Enterprise Linux (รี เอล) หรือกรณีอื่นที่คุณไม่ได้รับอนุญาตให้แก้ไขไดเรกทอรี Tomcat หรือที่ที่คุณต้องการ/ต้องการ
ใส่ ERDDAP™ ไดเร็กทอรีเนื้อหาในบางตําแหน่งอื่น ๆ ด้วยเหตุผลอื่น ๆ (ตัวอย่างเช่น ถ้าคุณใช้เจ็ทตี้แทนทอมแคท) .
Unknownp .zip ‘ลงในไดเรกทอรีที่ต้องการ (ซึ่งเฉพาะผู้ใช้ 'ทอมแคท' เท่านั้น ที่เข้าถึงได้) ขอสาบานต่อมะลาอิกะฮฺที่จําแนกระหว่างความจริงกับความเท็จ erddapContentDirectory คุณสมบัติระบบ ‘
 (e.g. ` erddapContentDirectory  =~tomcat/content/erddap ') ดังนั้น ERDDAP™ หาไดเรกทอรีเนื้อหาใหม่นี้ได้

### ตั้งค่า. xml{#setupxml} 

*  [อ่านหมายเหตุใน 'tomcat/ concent/erdep/ setup.xml '](#setupxml) และเปลี่ยนแปลงสิ่งที่ร้องขอ ตั้งค่า.xml เป็นแฟ้มที่มีการตั้งค่าทั้งหมด ที่กําหนดวิธีของคุณ ERDDAP™ ทําตัวดีๆ

สําหรับการตั้งค่าเริ่มต้น คุณควรจะเปลี่ยนการตั้งค่าเหล่านี้อย่างน้อย:
      * ' <bigParentDirectory> '
      * ' <emailEverythingTo> '
      * ' <baseUrl> '
      * ' <email...> ‘ ตั้งค่า
      * ' <admin...> ‘ ตั้งค่า
      * ' <baseHttpsUrl> ' (เมื่อคุณตั้งค่า https ) 

เมื่อคุณสร้างโครงการใหญ่ Purent Directy จากไดเร็กทอรีผู้ปกครองของบริษัทใหญ่ Parren Dirctory:

    * ให้ผู้ใช้ 'ทอมแคท' เป็นเจ้าของ 'บิ๊กพาเรทไดเรกชัน'
      ```
      chown -R tomcat bigParentDirectory
      ```
    * เปลี่ยนกลุ่ม "กลุ่ม" เป็น Tomcat, ชื่อผู้ใช้ของคุณ หรือชื่อของกลุ่มเล็ก ๆ ที่มี Tomcat และผู้ดูแลระบบทั้งหมดของ Tomcat/ ERDDAP .
      ```
      chgrp -R yourUserName bigParentDirectory
      ```
    * เปลี่ยนสิทธิ์ที่อนุญาตของ Tomcat และกลุ่มได้อ่านแล้ว, เขียน, ประมวลผลสิทธิ์:
      ```
      chmod -R ug+rwx bigParentDirectory
      ```
    * ลบสิทธิ์ที่อนุญาตของผู้ใช้ที่จะอ่าน, เขียน, หรือประมวลผล นี่ เป็น สิ่ง สําคัญ เพื่อ ป้องกัน การ อ่าน อาจ เป็น ข้อมูล ที่ ละเอียด อ่อน
ใน ERDDAP™ บันทึกแฟ้มและแฟ้มที่มีข้อมูลเกี่ยวกับชุดข้อมูลส่วนตัว
      ```
      chmod -R o-rwx bigParentDirectory
      ```

### ตัวแปรแวดล้อม{#environment-variables} 

เริ่มด้วย ERDDAP™ v2.13 ERDDAP™ ผู้ดูแลระบบสามารถแทนที่ค่าใด ๆ ในการตั้งค่า.xml ได้ โดยการระบุตัวแปรแวดล้อม
ชื่อ ‘ ERDDAP ค่า_ปลายทาง ERDDAP™ . ยกตัวอย่างเช่น ใช้ ' ERDDAP _เบส_ลควบคุม ` <baseUrl> มีค่า
นี้จะมีประโยชน์เมื่อใช้ ERDDAP™ กับตู้คอนเทนเนอร์เช่นโดเคอร์ คุณสามารถใส่การตั้งค่ามาตรฐานในการตั้งค่า.xml
และจัดหาอุปกรณ์พิเศษ ผ่านตัวแปรแวดล้อม หากคุณให้ข้อมูลลับไปยัง ERDDAP™ ด้วยวิธีการนี้
กรุณาตรวจสอบให้แน่ใจว่า ข้อมูลจะเป็นความลับ ERDDAP™ อ่านตัวแปรแวดล้อมเพียงครั้งเดียวต่อการเริ่มต้น
ในลําดับที่สองของการเริ่มต้น, วิธีหนึ่งที่จะใช้คือ: ตั้งตัวแปรแวดล้อม, เริ่ม ERDDAP .
รอจนกว่า ERDDAP™ เริ่มแล้ว ถอนตัวแปรแวดล้อม

###  datasets.xml  {#datasetsxml} 

* อ่าน ความ เห็น ใน หนังสือ [ **ทํางานกับ datasets.xml แฟ้ม** ](/docs/server-admin/datasets) . หลังจากนั้น หลังจากนายได้รับ ERDDAP™ ทํางาน
เป็นครั้งแรก (โดยปกติจะเป็นชุดข้อมูลปริยาย) คุณจะทําการแก้ไข XML ใน 'tomcat/ concent/erdap/ datasets.xml '
เพื่อกําหนดชุดข้อมูลที่คุณต้องการทั้งหมด ERDDAP™ เพื่อรับใช้ นี่คือที่ที่คุณจะใช้เวลาส่วนใหญ่ของคุณ
โดยมีการแต่งตั้ง ERDDAP™ และในภายหลังในขณะที่รักษาของคุณ ERDDAP™ .

คุณจะเห็นตัวอย่าง [ datasets.xml บน กิตติฮับ](https://github.com/ERDDAP/erddap/blob/main/development/jetty/config/datasets.xml) .
     
*  (ไม่น่าจะใช่) ตอนนี้หรือ (มีแนวโน้มมากกว่า) ในอนาคต, ถ้าคุณอยากแก้ไขแฟ้ม CSS ของ Ardap, คัดลอก
~tomcat/ concent/erdep/ images/erdap start2. cses' to eartomct/ concent/erdap/images/erdep2. cs' จากนั้นทําการปรับเปลี่ยนมัน
การเปลี่ยนแปลงไปยัง 'erdep2cs' จะมีผลก็ต่อเมื่อ ERDDAP™ เริ่มการทํางานใหม่และมักต้องการผู้ใช้เพื่อล้างแฟ้มที่มีแคชของเบราว์เซอร์
     
 ERDDAP™ จะไม่สามารถทํางานได้อย่างถูกต้อง หากตั้งค่า.xml หรือ datasets.xml แฟ้มไม่ใช่แฟ้ม XML แบบมีรูปแบบดี ดังนั้น หลังจากที่คุณแก้ไขไฟล์เหล่านี้
เป็นความคิดที่ดีที่จะตรวจสอบว่าผลที่ได้เป็นรูปแบบ XML ดีโดยวางข้อความ XML เป็นตัวตรวจสอบ XML เช่น [การปรับแนวแกน x](https://www.xmlvalidation.com/) .
     
### ติดตั้งเอดแดป แฟ้มสงคราม{#install-the-erddapwar-file} 

4. บนลินุกซ์, แมก, และวินโดวส์, _ดาวน์โหลด [เอดดาป](https://github.com/ERDDAP/erddap/releases/download/v2.28.1/erddap.war) เ_ปลี่ยนเข้า `tomcat/Webapps':

_Version 2.28.1, 622,676,238 ไบต์, MD5=48b4226059909909909969911b9c9, ลงวันที่ 2025-09-05_

แฟ้ม .War นี้ ใหญ่ มาก เพราะ มี แนว ชายฝั่ง ที่ ดี เยี่ยม, ขอบ เขต, และ ข้อมูล ระดับ สูง ซึ่ง จําเป็น ต่อ การ สร้าง แผนที่.

ฉบับ แปล บาง ฉบับ ก่อน หน้า นี้ มี อยู่ ด้วย.

   *  [2.17](https://github.com/ERDDAP/erddap/releases/download/v2.17/erddap.war)   (551,068,245 ไบต์, MD5 =5FEE9-1212B5D2-5ERABE491 F773A848D, ลงวันที่ 2022-02-16.) 
   *  [2.18](https://github.com/ERDDAP/erddap/releases/download/v2.18/erddap.war)   (551,069,844 ไบต์, MD5 =461325E97E7E77 671DD246C48B, ลงวันที่ 2022-02-23.) 
   *  [2.21](https://github.com/ERDDAP/erddap/releases/download/v2.21/erddap.war)   (568,644,411 ไบต์, MD5=F2CFE8080849944498F DD519B6, ลงวันที่ 2022-10-09.) 
   *  [2.22](https://github.com/ERDDAP/erddap/releases/download/v2.22/erddap.war)   (567,742,765 ไบต์, MD5=2B3333334F633294213AE2AFFDDDF486D0, ลงวันที่ 2022-12-08.) 
   *  [2. 23](https://github.com/ERDDAP/erddap/releases/download/v2.23/erddap.war)   (572,124,953 ไบต์, MD5=D843A043C550672525EBBD6F8FFEDDCFD5F, ลงวันที่ 2023-03-03-03.) 
   *  [2. 24](https://github.com/ERDDAP/erddap/releases/download/v2.24/erddap.war)   (568,748,187 ไบต์, MD5 =970fbase172E28bb8, 07166 BC898, ลงวันที่ 2024-06-07.) 
   *  [2. 25](https://github.com/ERDDAP/erddap/releases/download/v2.25.1/erddap.war)   (592,292,039 ไบต์, MD5 =652AFC9D1411421F5FF5FFF509891DA2484D4C, ลงวันที่ 2024-11-07.) 
   *  [2.26](https://github.com/ERDDAP/erddap/releases/download/v2.26.0/erddap.war)   (607,404,032 bytes, MD5=99a7211110910708E5420961616119, ลงวันที่ 2025-03-31.) 
   *  [2.27.0.](https://github.com/ERDDAP/erddap/releases/download/v2.27.0/erddap.war)   (620,554,403 ไบต์, MD5 =3b20666691145ca2df4474f4f7, ลงวันที่ 2025-06-11.) 

### ปรับแต่งพร็อกซี (ใช้ค่าเฉพาะ)  {#proxy} 

 ERDDAP™ ตามปกติจะถูกใช้งานอยู่เบื้องหลังเครื่องบริการ webserver Revolution เพื่ออนุญาตให้ให้บริการบนพอร์ตมาตรฐาน HTTP (80 และ 443) .
SSL/ TLS มักจะถูกแทนที่ที่ ชั้นพร็อกซีเว็บเซอร์ด้วย ข้อ กําหนด ต่าง ๆ ขึ้น อยู่ กับ ข้อ เรียก ร้อง ของ การ ใช้ แต่ ละ วิธี.

#### อาปาเช{#apache} 

1. แน่ใจว่า 'mod_ proxy' และ 'mod_ proxy__ http 'โหลดแล้ว:

```
LoadModule proxy_module modules/mod_proxy.so
LoadModule proxy_http_module modules/mod_proxy_http.so
```

2. แก้ไขรายการที่มีอยู่แล้ว <VirtualHost> ‘ ป้าย (ถ้ามีคนนึง) หรือเพิ่มที่ท้ายแฟ้ม:
```
<VirtualHost *:80>
   ServerName YourDomain.org
   ProxyRequests Off
   ProxyPreserveHost On
   ProxyPass /erddap http://localhost:8080/erddap
   ProxyPassReverse /erddap http://localhost:8080/erddap
</VirtualHost>
```

ถ้า ERDDAP™ จะให้บริการบนเส้นทางอื่น ๆ มากกว่า '%/ serdap', ยังตั้งค่าหัว 'X-forward-Prefix' ไปยัง
พาธของเ_ล่นเ_ตื้อหน้า '%/ reddap' การตั้งค่านี้จะเหมาะสมสําหรับ ERDDAP™ ทําหน้าที่ที่
~/ ห้อยพาท/ เซอดาป :

```
RequestHeader set X-Forwarded-Prefix /subpath
```

3. จากนั้นเรียก Apache ใหม่: ‘/usr/sbin/aptectl - สวยงาม ' (แต่บางครั้งมันก็อยู่ในไดเรกทอรีอื่น) .
         
#### INX{#nginx} 

ในแฟ้มปรับแต่งค่า nginx ให้ตั้งค่าหัวจดหมายเหล่านี้:
```
proxy_set_header Host              $http_host;
proxy_set_header X-Real-IP         $remote_addr;
proxy_set_header REMOTE_ADDR       $remote_addr;
proxy_set_header HTTP_CLIENT_IP    $remote_addr;
proxy_set_header X-Forwarded-For   $proxy_add_x_forwarded_for;
proxy_set_header X-Forwarded-Proto $scheme;
```

ถ้า ERDDAP™ จะให้บริการบนเส้นทางอื่น ๆ มากกว่า '%/ serdap', ยังตั้งค่าหัว 'X-forward-Prefix' ไปยัง
พาธของเ_ล่นเ_ตื้อหน้า '%/ reddap' การตั้งค่านี้จะเหมาะสมสําหรับ ERDDAP™ ทําหน้าที่ที่
~/ ห้อยพาท/ เซอดาป :

```
proxy_set_header X-Forwarded-Prefix /subpath
```


เพื่อที่จะได้รับ NGINX และ ERDDAP™ ทํางานอย่างถูกต้องกับ https คุณต้องใส่ชิ้นส่วนต่อไปนี้ไว้ในเซิร์ฟเวอร์ Tomcate.xml ` <Host> 'บล็อก:
```
<Valve className="org.apache.catalina.valves.RemoteIpValve"
  remoteIpHeader="X-Forwarded-For"
  protocolHeader="X-Forwarded-Proto"
  protocolHeaderHttpsValue="https" />
```
     
### เริ่ม Tomcat{#start-tomcat} 

*  (ผมไม่แนะนําให้ใช้ผู้จัดการเว็บทอมแคท ถ้าคุณไม่ปิดและเริ่มสร้างทอมแคท ไม่ช้าก็เร็วคุณจะมีปัญหาเกี่ยวกับหน่วยความจําเพอร์เม็น) 
*  (ในลินุกซ์หรือ Mac OS หากคุณได้สร้างผู้ใช้พิเศษให้ประมวลผล Tomcat, เช่น ทอมแคท, อย่าลืมทําขั้นตอนต่อไปนี้ของผู้ใช้ดังกล่าว) 
* ถ้าทอมแคทยังวิ่งอยู่ ก็ปิดทอมแคทด้วย (ในลินุกซ์หรือ Mac OS) 'tomcat/bin/shutown.sh'
หรือ (ในหน้าต่าง) ลบทั้งเธรด shutdown.bat '

บนลินุกซ์ ใช้ 'ps - f' | grap Tomcat' ก่อนและหลัง 'shutown.sh'เพื่อให้แน่ใจว่ากระบวนการทอมแคทยุติลง
ควร ลง รายการ กระบวนการ นี้ ก่อน การ หยุด และ ใน ที่ สุด จะ ไม่ ลง รายการ หลัง การ ปิด.
อาจใช้เวลาหนึ่งหรือสองนาที ERDDAP™ เพื่อปิดตัวลงอย่างสมบูรณ์ จง อด ทน. หรือถ้ามันดูเหมือนว่ามันจะไม่หยุดด้วยตัวเอง ใช้:
'ฆ่า - 9 <processID> '
* เริ่ม Tomcat ด้วย (ในลินุกซ์หรือ Mac OS) 'tomcat/bin/ startup.sh' หรือ (ในหน้าต่าง) 'tomcat\bin\\ startup. bat '

## คือ ERDDAP™ วิ่งเหรอ?{#is-erddap-running} 

ใช้เบราว์เซอร์เพื่อพยายามแสดงผลhttp://www.YourServer.org/erddap/status.html.
 ERDDAP™ เริ่มทํางานโดยไม่มีชุดข้อมูลใด ๆ ที่โหลด ชุดข้อมูลจะถูกโหลดไว้ในเธรดหลัง และกลายเป็นข้อมูลแบบทีละตัว

### การยิงปัญหา{#troubleshooting} 

* เมื่อ ผู้ ใช้ ขอ เข้า มา ก็ จะ ไป อา ปาเช (บนคอมพิวเตอร์ของลินุกซ์และแมค OS) จากนั้นทอมแคท ERDDAP™ .
* คุณเห็นได้ว่า อาปาเชเป็นอะไร (ข้อผิดพลาดที่สัมพันธ์กัน) ในแฟ้มปูมบันทึกของอาปาเช่
*    [คุณ](/docs/server-admin/additional-information#tomcat-logs) จะเห็นว่าอะไรเกิดขึ้นกับทอมแคท (ข้อผิดพลาดที่สัมพันธ์กัน) 
ในแฟ้มปูมบันทึกของ Tomcat (~omcat/logs/catalina. out' และแฟ้มอื่น ๆ ในไดเรกทอรีนั้น) .
*    [คุณ](/docs/server-admin/additional-information#log) มองเห็นว่าอะไรจะมา ERDDAP ตรวจหาข้อความจาก ERDDAP .
ข้อความผิดพลาดจาก ERDDAP ใน ERDDAP™ ' <bigParentDirectory> แฟ้ม/logs/log.txt
* ทอมแคทยังไม่เริ่ม ERDDAP™ จนกว่าทอมแคทจะร้องขอ ERDDAP™ . ดังนั้นคุณจะเห็นได้จากแฟ้มบันทึกของทอมแคท
เริ่ม ERDDAP™ หรือถ้ามีข้อความผิดพลาด ที่เกี่ยวข้องกับความพยายามนั้น
* เมื่อ ERDDAP™ เริ่ม, มันเปลี่ยนชื่อเดิม ERDDAP™ แฟ้มปูมบันทึก.txt (‘ logAchived ที่ <CurrentTime> .xt) และสร้างแฟ้มปูมบันทึกใหม่.txt
ดังนั้นถ้า 'log.txt' แฟ้มเก่า มันเป็นสัญญาณว่า ERDDAP™ ยังไม่เริ่มใหม่เลย ERDDAP™ เขียนข้อมูลปูมบันทึกไปยังบัฟเฟอร์
และเขียนบัฟเฟอร์ลงแฟ้มปูมบันทึกเป็นระยะ ๆ แต่คุณบังคับได้ ERDDAP™ เพื่อเขียนบัฟเฟอร์ไปยังแฟ้มปูมบันทึกโดยไปเยี่ยมชม
' /erddap/status.html ‘.

### ปัญหา: รุ่นเก่าของ Java  {#trouble-old-version-of-java} 

หากคุณกําลังใช้รุ่นของ Java นั่นเก่าเกินไปสําหรับ ERDDAP . ERDDAP™ จะไม่ทํางานและคุณจะเห็นข้อความผิดพลาดในแฟ้มปูมบันทึกของทอมแคทเช่น

```
Exception in thread "main" java.lang.UnsupportedClassVersionError:
_some/class/name_: Unsupported major.minor version _someNumber_
```

ทาง แก้ คือ การ ปรับ ปรุง ให้ ทัน สมัย ยิ่ง ขึ้น Java และทําให้แน่ใจว่าทอมแคทใช้มัน

### ปัญหา: เริ่ม ช้า{#trouble-slow-startup-first-time} 

Tomcat ต้องทํางานมาก ครั้งแรกที่โปรแกรมเช่น ERDDAP™ ได้เริ่มแล้ว, แน่นอน, มันต้องทําการเอารายการออกเป็น 'erdap.war' แฟ้ม
 (ซึ่งก็เหมือนกับ .zip แฟ้ม) . บนเซิร์ฟเวอร์บางส่วน ความพยายามแรกที่จะมอง ERDDAP™ ถ่วงเวลา (30 วินาที?) จนกว่างานจะเสร็จ
บนเซิร์ฟเวอร์อื่น ความพยายามแรกจะล้มเหลวทันที แต่ถ้าคุณรอ 30 วินาทีและลองอีกครั้ง มันจะสําเร็จถ้า ERDDAP™ ได้ติดตั้งไว้ถูกต้องแล้ว

ไม่มีการแก้ไขสําหรับสิ่งนี้ นี่เป็นเพียงวิธีการทํางานของทอมแคท แต่มันจะเกิดขึ้นครั้งแรกหลังจากที่คุณติดตั้งรุ่นใหม่ ERDDAP™ .

## ปิดระบบแล้วเริ่มใหม่{#shut-down-and-restart} 

ในอนาคต การปิดตัวลง (แล้วเริ่มใหม่)   ERDDAP™ ดู [วิธีการปิดตัวลงและเริ่มต้นทอมแคทและ ERDDAP ](/docs/server-admin/additional-information#shut-down-and-restart) .

## ปัญหา?{#trouble} 

ปัญหาการติดตั้ง Tomcat หรือ ERDDAP™ ? ดูของเรา [ส่วนของการได้รับการสนับสนุนเพิ่มเติม](/docs/intro#support) .

## การแจ้งให้ทราบทางอีเมลสําหรับรุ่นใหม่ ERDDAP  {#email-notification-of-new-versions-of-erddap} 

หากคุณต้องการรับอีเมล เมื่อไรก็ตามที่มีรุ่นใหม่ของ ERDDAP™ มีหรือสําคัญอื่น ๆ ERDDAP™ ประกาศ
คุณสามารถเข้าร่วม ERDDAP™ รายการประกาศ [ที่นี่](https://groups.google.com/g/erddap-announce) . รายชื่อนี้โดยเฉลี่ยแล้ว มีอีเมลประมาณ 1 ครั้ง ทุก ๆ 3 เดือน

## กําหนดเอง{#customize} 

*  [กําหนดเอง ERDDAP™ เพื่อเน้นองค์กรของคุณ (ไม่ NOAA   ERD ) .](#customize) 
* เปลี่ยนธงที่ปรากฏที่ด้านบนของทั้งหมด ERDDAP™ หน้า. html โดยแก้ไข ` <startBodyHtml5> ‘ ป้าย ใน ‘ datasets.xml แฟ้ม
(หากไม่มีหนึ่ง ให้คัดลอกค่าปริยายจาก ERDDAP™ 's' 'tomcat/Webapps/erdap/WEB-WEB-NF/คลาสิชัน/gov/noa/pfel/erdap/util/mas.xml' แฟ้ม
เข้าสู่ datasets.xml ‘และแก้ไขมัน.) ยกตัวอย่างเช่น คุณสามารถ
  * ใช้รูปภาพอื่น (โลโก้ขององค์กรคุณ) .
  * เปลี่ยนสีพื้นหลัง
  * เปลี่ยน " ERDDAP™ "ถึง "_สัญญาบัตรของคุณ" ERDDAP™ "
  * เปลี่ยน "ข้อมูลทางวิทยาศาสตร์ที่เข้าถึงได้" เป็น "สิทธิ์ในการเข้าถึงข้อมูล_ ของคุณ
  * เปลี่ยนส่วนเชื่อมโยง "นําเสนอให้คุณโดย" เพื่อเชื่อมโยงไปยังองค์กรของคุณและแหล่งเงินทุน
* เปลี่ยนข้อมูลของหน้าหลักด้านซ้ายของหน้าหลักโดยแก้ไข ` <theShortDescriptionHtml> ‘ ป้าย ใน ‘ datasets.xml แฟ้ม
(หากไม่มีหนึ่ง ให้คัดลอกค่าปริยายจาก ERDDAP™ 's' 'tomcat/Webapps/erdap/WEB-WEB-NF/คลาสิชัน/gov/noa/pfel/erdap/util/mas.xml' แฟ้ม
เข้าสู่ datasets.xml ‘และแก้ไขมัน.) ยกตัวอย่างเช่น คุณสามารถ
  * จง อธิบาย ว่า องค์การ ของ คุณ และ หรือ กลุ่ม ของ คุณ ทํา อะไร.
  * จง อธิบาย ว่า ข้อมูล ชนิด ใด ERDDAP™ เคย
  * เพื่อเปลี่ยนไอคอนที่ปรากฎบนแท็บของเบราว์เซอร์ ให้ใส่ไอคอนขององค์กรของคุณ ico ใน 'tomcat/ concent/erdap/images/'.
ดูhttps://en.wikipedia.org/wiki/Favicon.
