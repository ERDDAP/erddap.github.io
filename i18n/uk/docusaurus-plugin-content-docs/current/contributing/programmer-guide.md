---
sidebar_position: 2
---

# Керівництво програмістів

Ці речі, які мають право на роботу ERDDAP Р Java Для того, щоб дізнатися більше про класи.

###  **Отримання коду джерела**  {#getting-the-source-code} 
   

  - Код джерела на GitHub
Початковий код для останніх публічних версій і версій розробки також доступний через [ГітХуб](https://github.com/ERDDAP) й Про нас [Вікі](https://github.com/ERDDAP/erddap/wiki) для цього проекту. Якщо ви хочете змінити вихідний код (і, можливо, мати зміни, внесені в стандарт ERDDAP™ Розсилка) , це рекомендований підхід.

###  ** ERDDAP™ залежності**  {#erddap-dependencies} 
 ERDDAP™ використовує Maven для залежності коду завантаження, а також деякі статичні файли посилань (Статус на сервери) й Це робиться, щоб уникнути зберігання багатьох великих файлів в репозиторію.
Ви можете використовувати `mvn компіляція` і що буде фіксувати залежності і файли реф. Ви також можете використовувати `mvn пакет` для створення військового файлу.
Ви можете вручну завантажити файли реф:

  -  [etopo1\\_ice\\_g\\_i2 .zip ](https://github.com/ERDDAP/ERDDAPRefFiles/releases/download/1.0.0/etopo1_ice_g_i2.zip) і розпакувати його в / WEB-INF / реф / .

  -  [JavaScript licenses API Веб-сайт .zip ](https://github.com/ERDDAP/ERDDAPRefFiles/releases/download/1.0.0/ref_files.zip) і розпакувати його в / WEB-INF / реф / .

  -  [ерддапКонтент .zip ](https://github.com/ERDDAP/erddapContent/releases/download/content1.0.1/erddapContent.zip)   (версія 1.0.0, 20333 байтів, MD5=2B8D2A5AE5ED73E3A42B529C168C60B5, від 2024-10-14) і розпакувати його в _tomcat_, створення _tomcat_/content/erddap й

НЕ: За замовчуванням Maven буде кеш статичний посилання і тестовий архів даних завантаження і тільки витягти їх, коли нова версія завантажується. Щоб повністю завантажити пропустити, ви можете встановити `веб камера` та/або `JavaScript licenses API Веб-сайт` властивості в Мавен (Наприклад: `JavaScript licenses API Веб-сайт Go1.13.8` ) й Вилучення сили, набір `-Ddownload.unpack=true` і `JavaScript licenses API Веб-сайт Go1.13.8` й

-  ERDDAP™ і його субкомпоненти мають дуже ліберальний, відкритий [ліцензії](/license) , так що ви можете використовувати і змінити вихідний код для будь-якого призначення, для отримання прибутку або не для отримання прибутку. Примітка ERDDAP™ і багато субкомпонентів мають ліцензію, які вимагають, що ви визнаєте джерело коду, який ви використовуєте. Про нас [Кредитування](/credits) й Будь ласка, будь ласка, будь ласка, будь ласка, зв'яжіться з нами.
  

-  **Використовуйте код для інших проектів** 

Під час використання деталей ERDDAP™ Введіть номер мобільного, який Ви вказали при укладаннi договору з банком - для ідентифікації. Ми не обіцяємо підтримувати інші використання нашого коду. Git і GitHub стануть вашими основними рішеннями для боротьби з цим -- Git дозволяє об'єднати наші зміни в ваші зміни.
   **Для багатьох ситуацій, де можна захопити ERDDAP™ у вашому проекті ми думаємо, що ви знайдете набагато простіше встановити і використовувати ERDDAP™ як це,** а потім писати інші послуги, які використовують ERDDAP Послуги Ви можете налаштувати самостійно ERDDAP™ установка сирого в годину або два. Ви можете налаштувати самостійно ERDDAP™ установка в полірований спосіб за кілька днів (залежно від кількості та складності Ваших даних) й Але зламати частини ERDDAP™ для власного проекту, ймовірно, приймають тижні (і місяці зловити тонкощі) і ви втратите можливість включення змін і виправлення помилок з подальших ERDDAP™ релізи. Ми (очевидно) думаю, що існує багато переваг для використання ERDDAP™ як і зробити ваш ERDDAP™ встановлення загальнодоступних. Однак, в деяких випадках, ви не можете зробити вашу ERDDAP™ встановлення загальнодоступних. Після того, як ваша послуга може отримати доступ і використовувати Ваш приватний ERDDAP™ і Ваші клієнти не знають ERDDAP™ й

  ####  **Півлюкс** 

Або, є ще один підхід, який ви можете знайти корисний, який знаходиться на відстані між дайвінгом ERDDAP Код і використання ERDDAP™ як самостійний веб-сервіс: У класі EDD існує статичний метод, який дозволяє зробити екземпляр гарнітура (на основі специфікації datasets.xml ) :
`oneЗ альбомуDataset Хмл (Ступінь TDatasetID) 
`It повертає екземпляр EDDTable або EDDGrid датасет. Зважаючи на це, ви можете викликати \\
`makeNewFileForDapQuery (String userDapQuery, String dir, String fileName, String файл Головна) 
`Вкажіть екземпляр, щоб зробити файл даних, конкретний файлType, з результатами запиту користувача. Таким чином, це простий спосіб використання ERDDAP - способи запиту даних і отримання файлу у відповідь, так само як клієнт буде використовувати ERDDAP™ веб-додаток. Але цей підхід працює в межах вашого проекту Java Програма та об’єднує необхідність сервера додатків, таких як Tomcat. Ми використовуємо цей підхід для багатьох тестів на блок EDDTable та EDDGrid Підкласи, тому ви можете побачити приклади цього в початковому коді для всіх класів.

###  **Розробка середовища**  {#development-environment} 

  - Є налаштування [Кошик](https://github.com/ERDDAP/erddap/blob/main/development/jetty) і [Докер](https://github.com/ERDDAP/erddap/blob/main/development/docker) в GitHub, хоча релізи очікується запуску в Tomcat.

  -  **Додатково** : Налаштування ERDDAP™ в Tomcat
З ERDDAP™ Ми рекомендуємо дотримуватися стандарту [Інструкція по монтажу](/docs/server-admin/deploy-install) щоб встановити Tomcat, а потім встановити ERDDAP™ в каталозі Tomcat. Серед інших речей, ERDDAP™ Призначений для встановлення в структуру каталогу Tomcat і очікує Tomcat, щоб забезпечити деякі файли .jar.

  -  ERDDAP™ не вимагає конкретного IDE (Кріс в основному використовує Visual Studio Code, Боб використовується EditPlus) й Ми не використовуємо Eclipse, Ant та ін.; ERDDAP - пов'язана з ними підтримка. Проект використовує Maven.

  - Ми використовуємо пакетний файл, який видаляє всі файли .class у вихідного дерева, щоб переконатися, що у нас є чистий компіляція (з javaC) й

  - В даний час ми використовуємо плагін Adoptium jdk-21.0.3+9 для компіляції gov.noaa.pfeg.coastwatch.TestAll (вона має посилання на кілька класів, які не будуть скомпільовані інакше) і запустити тести. З причин безпеки, практично завжди краще використовувати останні версії Java 21 і Tomcat 10.

    - Коли ми запускаємо javaC або java, поточний каталог _tomcat_/webapps/erddap/WEB-INF .

    - Наш javascript і java-класпат
       `класи;./././lib/servlet-api.jar;lib/*` 

    - Так твоїй javaC командний рядок буде щось схоже\\
       `English, Українська, Français...` 

    - І твоїй java командний ряд буде щось схоже\\
`java -cp class;././lib/servlet-api.jar;lib/* -Xmx4000M -Xms4000M JavaScript licenses API Веб-сайт
       `Додатково: можна додати` -verbose:gc`, що говорить Java для друку статистика збору сміття.

    - Тестування Всі компіляції, все ERDDAP™ скомпільовано потреби. Кілька класів скомпільовані, які не потрібні для ERDDAP™ й Якщо компіляція TestAll досягається, але не компілює певного класу, що клас не потрібен. (Є кілька незакінчених класів.) 

  - У декількох випадках ми використовуємо 3-й код джерела замість файлів .jar (необов'язково для DODS ) і трохи змінили їх, щоб уникнути проблем, що компілюють з Java 21. Ми часто зробили інші незначні модифікації (необов'язково DODS ) з інших причин.

  - Більшість класів мають тестові методи в їх пов'язаних src/test файл. Ви можете запустити тести JUnit з тестами `mvn тест` команда. Це завантажить кілька поштових файлів даних, які тести спираються на останні релізи [ ERDDAP Українська Тести](https://github.com/ERDDAP/erddapTest/releases/) й
     
НЕБЕ: Maven кеш завантажує, але розпакувати завантажені архіви на кожному виконанні, що займає час. Пропустити завантаження
Ви можете вказати архіви даних, що містяться у тестовому режимі. `JavaScript licenses API Веб-сайт` нерухомість в Мавен (Наприклад: `JavaScript licenses API Веб-сайт Go1.13.8` ) й

###   **Важливі категорії**  {#important-classes} 

Якщо ви хочете подивитися на вихідний код і спробувати дізнатися, як ERDDAP™ робота, будь ласка,

  - Код має Java Коментарі до Doc, але Java Не було створено Docs. Відчуйте їх безкоштовно.

  - Найголовіші заняття (в тому числі зазначених нижче) gov/noaa/pfel/erddap.

  - Про нас ERDDAP™ Клас має найвищі методи рівня. Подовжує HttpServlet.

  -  ERDDAP™ передається запит на екземпляри підкласів EDDGrid або EDDTable, які представляють собою індивідуальні дані.

  - EDStatic має більшу частину статичної інформації та налаштувань (e.g., з налаштування.xml та повідомлень.xml) і пропонує статичні послуги (Наприклад, відправлення електронної пошти) й

  -  EDDGrid і EDDTable підкласи задають запит, отримайте дані від специфічних методів підкласу, потім відформатуйте дані для відповіді.

  -  EDDGrid Підкласи відштовхують дані в GridDataAccessor (контейнер внутрішніх даних для сітчастих даних) й

  - EDDTable subclasses штовхати дані в субкласи TableWriter, які напишіть дані на конкретний тип файлу на-fly.

  - Інші заняття (Наприклад, курси низького рівня) Також важливо, але, швидше за все, ви будете працювати, щоб змінити їх.
     

###  **Код Внески**  {#code-contributions} 

- GitHub Питання
Якщо ви хочете допомогти, але не маєте проекту, див. список [GitHub Питання](https://github.com/ERDDAP/erddap/issues) Багато хто з яких проектів можна взяти на себе. Якщо ви хочете працювати над питанням, будь ласка, вказавши себе, щоб вказати на інші, які ви працюєте на ньому. Питання GitHub - це найкраще місце для обговорення будь-яких питань, як приступити до роботи з цим питанням.

- Якщо зміни, які ви хочете зробити, є одним з наступних випадків, будь ласка, створіть [GitHub Питання](https://github.com/ERDDAP/erddap/issues) вказуючи зміни, які ви хочете зробити. Після того, як зміни завершуються, зробіть запит, щоб запитувати злиття. Загальні зміни включають:

  - Ви хочете писати інший підклас EDDGrid або EDDTable для обробки іншого типу джерела даних. Якщо так, рекомендуємо вам знайти найближчий існуючий підклас і використовувати цей код як початкова точка.

  - Ви хочете написати інший метод SaveAs_FileType_. Якщо так, рекомендуємо вам знайти найближчий існуючий метод SaveAs_FileType_ EDDGrid або EDDTable і використовувати цей код як початкова точка.

Ці ситуації мають перевагу, що код, який ви пишете, є самодотриманням. Не потрібно знати всі деталі ERDDAP - внутрішні. І це буде просто для нас, щоб включити ваш код в ERDDAP й Зверніть увагу, що якщо ви подаєте код, ліцензія буде потрібно сумісна з ERDDAP™   [ліцензія](/license)   (Наприклад, [Афіша](https://www.apache.org/licenses/) й [БДС](https://www.opensource.org/licenses/bsd-license.php) або [МІТ-X](https://www.opensource.org/licenses/mit-license.php) ) й Ми зараховуємо ваш внесок у [кредити](/credits) й

- Якщо у вас є функція, яку ви хочете додати ERDDAP , рекомендується спочатку створити дискусійну нитку в [GitHub Обговорення](https://github.com/ERDDAP/erddap/discussions/categories/ideas) й Для значних функцій / змін Технічна дошка обговорюватиме їх і вирішується, чи затверджувати її додавати ERDDAP™ й

###  **Рішення про внесення змін до коду**  {#judging-your-code-contributions} 
Якщо ви хочете подати код або інші зміни, які будуть включені в ERDDAP , що чудово. Ваш внесок має відповідати певним критеріям, щоб бути прийнятим. Якщо ви дотримуйтесь інструкцій нижче, ви значно збільшите шанси на ваш внесок.
   

  - Про нас ERDDAP™ Проект реалізується НАТД ( NOAA Технічний директор) з входом з технічної дошки.
З 2007 (початок початку ERDDAP ) через 2022, що був Боб Симони (також Засновник-Лідер) й Почати в Січень 2023, тобто Кріс Джон. В основному НАТД несе відповідальність за ERDDAP , так s/he має остаточне слово про рішення ERDDAP™ код, недорогий про дизайн і чи буде прийняти надана заявка на витяжку чи ні. Необхідно бути таким чином, частково з точки зору ефективності (він працює відмінно для торвальнірів Linus та Linux) і частково з причин безпеки: Для забезпечення безпеки та цілісності коду необхідно повідомити про те, що люди ІТ-безпеки, які мають відповідальність за безпеку та цілісність коду.
     

  - NATD не гарантує, що ви приймаєте свій код.
Якщо проект не працює, і ми сподівалися, і якщо його не можна скинути, НАТД не буде включати проект в проект ERDDAP™ розподіл. Будь ласка, не відчуйте себе погано. Інколи проекти не працюють і сподіваються. Це відбувається для всіх розробників програмного забезпечення. Якщо ви дотримуєтесь інструкцій нижче, ви значно збільшите свої шанси на успіх.
     

  - Найкраще, якщо зміни мають загальний інтерес і корисність.
Якщо код відрізняється Вашою організацією, то, ймовірно, краще підтримувати окрему гілку ERDDAP™ для вашого використання. Осьом це робить. На щастя, Git робить це легко зробити. NATD хоче підтримувати послідовне бачення для ERDDAP , не дозволяючи йому стати проектом мийки кухні, де кожен додає особливу функцію для свого проекту.
     

  - Підписатися Java Кодові конвенції.
В цілому, ваш код повинен бути гарним, і слідувати оригінальним [ Java Кодові конвенції](https://www.oracle.com/technetwork/java/codeconventions-150003.pdf) : покласти файли .class в належному місці в структурі каталогів, дати .class файли відповідне ім'я, включають правильне ім'я, включають в себе правильне місце в структуру каталогу, дати .class файли відповідне ім'я, включають в себе правильне ім'я, Java Коментарі до Doc, включають //comments при старті кожного пункту коду, відступ з 4 просторами (не вкладка) , уникнути рядків &gt;80 символів і т.д. Зміни конвенцій і вихідний код не завжди повністю до дати. При сумніві код матчу до конвенцій і не існуючого коду.

- Використовуйте дескриптивний клас, метод і змінні імена.
Що робить код простіше для інших для читання.
   

- Уникайте коду конфіденційності.
У довгостроковій перспективі ви або інші люди повинні розібратися в коді, щоб зберегти його. Так, будь ласка, використовуйте прості методи кодування, які простіше для інших (в тому числі в майбутньому) щоб з'ясувати. Очевидно, що якщо є реальна перевага для використання деяких фантазій Java Функція програмування, використовувати його, але великий документ, що ви зробили, чому, і як це працює.
   

- Робота з технічною радою перед початком роботи.
Якщо ви сподіваєтесь на те, щоб отримати ваші зміни коду, виведені в ERDDAP™ , Технічна дошка обов'язково сподобається поговорити про те, що ви збираєтеся зробити і як ви збираєтеся це зробити, перш ніж зробити будь-які зміни до коду. Таким чином, ми можемо уникнути змін, які NATD, в кінці, не приймаємо. Коли ви виконуєте роботу, NATD та технічна дошка готові відповісти на питання, щоб допомогти вам розібратися в існуючому коді та дізнатися існуючий код. (загальний) Як зробити свій проект.
   

- Робота самостійно (якомога простіше) після запуску.
На відміну від вищезазначеної "Робота з технічною дошкою", після того, як ви приступите до проекту, NATD заохочує вас працювати самостійно. Якщо НАТД має розповісти вам практично все і відповісти на багато питань (особливо, що ви можете відповісти на читання документації або коду) , після чого ваші зусилля не заощаджують час на NATD і s/he, можливо, також роблять роботу самостійно. Це [Міфічний ман Місяць](https://en.wikipedia.org/wiki/The_Mythical_Man-Month) проблеми. Звичайно, ми повинні спілкуватися. Щоб переконатися, що проект знаходиться на трасі. Але чим більше можна працювати самостійно (після технічної дошки погоджується з поставленим завданням і загальним підходом) , краще.
   

- Уникайте помилок.
Якщо помилка не спіймана до релізу, це викликає проблеми для користувачів (на краще) , повертає неправильну інформацію (в найгіршому) , є сином на ERDDAP - репутація, і буде зберігатися на застарілому ERDDAP™ установки на роки. Робота дуже важко уникнути помилок. Частина цього написання чистого коду (так легко бачити проблеми) й Частина цього - тести для написання блоків. Частина цього є постійним ставленням помилок, коли ви пишете код. Не робіть шкоду NATD, додавши код ERDDAP™ й
   

- Написати тест або тести на блок.
Для нового коду слід писати JUnit тести в тестовому файлі.
Будь ласка, напишіть принаймні один конкретний метод тестування, який ретельно перевірить код, який ви пишете і додайте його до файлу тесту класу JUnit, щоб він автоматично працює. Навігація (і пов'язані) Тести є одним з кращих способів зловити помилки, спочатку і в довгостроковій перспективі (як інші речі зміняться ERDDAP™ ) й Як сказав Боб, "Не тести, що дає мені сон вночі."
   

- Щоб зрозуміти та приймати зміни у бажанні.
Частина того, що написано метод тестування блоку (й) й Частина, яка обмежує ваші зміни до одного розділу коду (або один клас) якщо це можливо. NATD не прийматиме жодних запитань про внесення змін до коду. НАТД розповідає про людей з ІТ-безпеки, які мають відповідальність за безпеку та цілісність коду. Якщо є занадто багато змін або вони занадто важко розібратися, то це просто занадто важко перевірити зміни правильні і не вводити помилки або проблеми безпеки.
   

- Збережіть його просто.
Хороша загальна тема для вашого коду: зберегти його просто. Простий код для інших (в тому числі в майбутньому) читати і підтримувати. Ми можемо самі зателефонувати одержувачу і узгодити зручний час.
   

- Підбір довгострокової відповідальності за ваш код.
У довгостроковій перспективі краще, якщо ви берете на себе відповідальність за збереження вашого коду і відповіді на питання про це (Наприклад, в ERDDAP™ Українська) й Як зазначається деякі автори, код є відповідальністю, а також активом. Якщо ви не знаєте, що ваш код краще, ніж ви (також так, що є стимулом, щоб уникнути помилок в першому місці) й Компанія NATD не просить твердих зобов’язань забезпечити постійний супровід. НАТД - це просто казка, що робить технічне обслуговування буде значно оцінено.
