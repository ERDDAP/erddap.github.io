---
sidebar_position: 1
---

# Увійти
Як зробити початковий набірERDDAP™на сервері


ERDDAP™може працювати на будь-якому сервері, який підтримуєJavaі Томат (та інші сервери додатків, такі як Jetty, але ми не підтримуємо їх) йERDDAP™Тестовано на Linux (включаючи AWS Amazon) , Mac і Windows комп'ютери.
*    **Докер** --- Ми надаємо[ERDDAP™в контейнері Docker](https://hub.docker.com/r/erddap/erddap)IOOS тепер пропонує[Швидкий посібник для запускуERDDAP™в контейнері Docker](https://ioos.github.io/erddap-gold-standard/index.html)й
Це стандартERDDAP™установка, в контейнері Docker.
Через Docker Ми надаємо прості способи встановлення сли та моніторингу, читати далі[Документація](https://github.com/ERDDAP/erddap/blob/main/DOCKER.md)й
Якщо ви вже використовуєте Docker, ви напевно віддаєте перевагу версії Docker.
Якщо ви хочете запустити хмарні послуги, ви, ймовірно, віддаєте перевагу версії Docker.
*    **Українська** --- Якщо ви встановитеERDDAP™на сайті Amazon Web Services EC2 див. це[Огляд веб-сайтів Amazon](/docs/server-admin/additional-information#amazon)перший.
*    **Linux і Macs** ---ERDDAP™працює на комп'ютерах Linux і Mac. Переглянути інструкції нижче.
*    **Головна** --- Windows відмінно підходить для тестуванняERDDAP™і для особистого користування (Переглянути інструкції нижче) , але ми не рекомендуємо використовувати його для публічногоERDDAPй ЗапускERDDAP™на Windows може виникнути проблеми: необов'язково,ERDDAP™може бути не в змозі видалити і / або перейменувати файли швидко. Це, ймовірно, через антивірусне програмне забезпечення (Наприклад, з Макафе і Нортон) який перевіряє файли для вірусів. Якщо ви запустили цю проблему (які можна побачити повідомлення про помилки в[JavaScript licenses API Веб-сайт Go1.13.8](/docs/server-admin/additional-information#log)файл, як "Не вдалося видалити ...") Зміна параметрів антивірусного програмного забезпечення може частково полегшити проблему. Або розгляньте замість сервера Linux або Mac.

 **СтандартERDDAP™інструкції з монтажу для Linux, Macs та Windows комп'ютерів:** 

0. Обов'язково встановлюються будь-які залежності. На невірусних машинах (Linux і Mac) , вам потрібно csh.
## Java {#java} 
1.  [ДляERDDAP™v2.19+, налаштуватиJava21.](#java)
З причин безпеки, майже завжди краще використовувати останню версіюJava21.
Будь ласка, завантажте та встановіть останню версію
    [Адоптиум OpenJDK (Темурин) 21 мар (ЛТС) ](https://adoptium.net/temurin/releases/?version=21)й Для перевірки установки типу "/_javaJreBinDirectory_/java -version", наприклад
/usr/local/jdk-21.0.3+9/jre/bin/java -версія
    
    ERDDAP™роботи зJavaз інших джерел, але ми рекомендуємо Adoptium, оскільки це основний, громадський супровід, безкоштовно (як у пивному та мовному виступі) версіяJava21 пропонує довгострокову підтримку (безкоштовні оновлення протягом багатьох років минулого випуску) й З причин безпеки, будь ласка, поновіть свійERDDAP's версіяJavaперіодично як нові версіїJava21 стає доступним з Адоптиуму.
    
    ERDDAP™Випробувано і використовується в основному з 21, не іншими версіями. З різних причин ми не тестуємо за допомогою інших версійJavaй
     
## Кошик{#tomcat} 
2.  [Налаштування](#tomcat) [Кошик](https://tomcat.apache.org)й
Tomcat є найбільш поширенимJavaСервер додатків, якийJavaпрограмне забезпечення, яке стоїть між службами операційної системи таJavaсерверне програмне забезпеченняERDDAP™й Це безкоштовний і відкритий джерело програмного забезпечення (ФОСС) й
    
Ви можете використовувати іншийJavaСервер додатків (Наприклад, джинс) , але ми тільки тестуємо і підтримуємо Tomcat.
     
    
    * Завантажте Tomcat і відпакуйте його на сервері або ПК.
З причин безпеки, майже завжди краще використовувати останню версію Tomcat 10 (версія 9 і нижче не прийнятні) який призначений для роботи зJava21 або новий. Нижче наведено каталог Tomcat як _tomcat_.
        
Про нас Якщо у вас вже є Tomcat, яка працює на веб-додатку (особливо THREDDS) , ми рекомендуємо вам встановитиERDDAP™в[другий Tomcat](/docs/server-admin/additional-information#second-tomcat), боERDDAP™потребує різних налаштувань Tomcat і не потрібно заплутуватися з іншими додатками для пам'яті.
        
        * На Linux[завантажити "Core" "tar".gz"Розширення томатів"](https://tomcat.apache.org/download-10.cgi)і розпакуйте його. Ми рекомендуємо розпакувати його в /usr /local.
        * На Mac Tomcat, ймовірно, вже встановлений в / Library / Tomcat, але слід оновити його до останньої версії Tomcat 10.
Якщо завантажити його,[завантажити "Core" "tar".gz"Розширення томатів"](https://tomcat.apache.org/download-10.cgi)і розпакуйте його в / Лібрарі / Томкат.
        * На Windows ви можете[завантажити "Core" "zip" Tomcat дистриб'ютор](https://tomcat.apache.org/download-10.cgi)  (що не означає реєстр Windows, і який ви контролюєте з командного рядка DOS) і розпакуйте його в відповідному каталозі. (Для розробки ми використовуємо "Core" "zip". Ми робимо каталог /програм і розпакуємо його там.) Або ви можете завантажити "Core" "64-bit Windows zip" дистрибуція, яка включає більше функцій. Якщо дистрибуція є інсталятором Windows, вона, ймовірно, поставить Tomcat, наприклад, /Програмні файли / папаш-tomcat-10.0.23 .
             
### Сервер.xml{#serverxml} 
*   [Сервер.xml](#serverxml)- У _tomcat_/conf/server.xml файл є два зміни, які слід зробити кожному з двох&lt;Роз'єм і гт; теги- один для
```
        <Connector port="8080" 
```
і один
```
        <Conector port="8443"
```
    1.   (Рекомендовані) Збільшення значення параметра з'єднання, можливо, до 300000 (мілісекунди)   (5 хвилин) й
    2.   (Рекомендовані) Додати новий параметр: розслабленийQueryChars="\\[\\]|« » » » » » » » » » » » » » » Це необов'язково і дещо менш захищено, але виводить необхідність для користувачів до відсотків-коду цих символів, коли вони відбуваються в параметрах запиту користувача URL.
             
### JavaScript licenses API Веб-сайт Go1.13.8{#contentxml} 
* JavaScript licenses API Веб-сайт Go1.13.8 Ресурси кешу - В _tomcat_/conf/context.xml, прямо перед тим&lt;/Context&gt; тег, зміна тегів ресурсів (або додати його, якщо це вже немає) встановити кеш MaxSize параметр до 80000:
    &lt;Ресурси кешуванняДозволено="true" cacheMaxSize="80000" /&gt;
Це дозволяє уникнути численних попереджень у каталіні. з того, що все починається з
«Охорона\\[Головна\\]org.apache.catalina.webresources.Cache.getResource Неможливо додати ресурс в\\[/ WEB-INF / Класи / ...]
         
### Статус на сервери{#apache-timeout} 
* На комп'ютерах Linux змініть налаштування часу Apache, щоб часові запити користувачів не витрачали часу (з чим часто з'являється «Проксі» або «Bad Gateway» помилка) й Як користувач кореня:
    1. Змінення Apachehttpd.conf файл (зазвичай в /etc /httpдо/conf/) :
Зміна існуючої&lt;Налаштування та налаштування (або додати один в кінці файлу) до 3600 (час) , замість за замовчуванням 60 або 120 секунд.
Зміна існуючої&lt;ProxyTimeout&gt; налаштування (або додати один в кінці файлу) до 3600 (час) , замість за замовчуванням 60 або 120 секунд.
    2. Статус на сервери -k витончений (але іноді це в іншому каталозі) й
             
    * Рекомендації з безпеки: Про нас[ці інструкції](https://tomcat.apache.org/tomcat-10.0-doc/security-howto.html)збільшити безпеку вашої установки Tomcat, особливо для публічних серверів.
         
    * Для громадськостіERDDAP™Налаштування на Linux і Macs, краще налаштувати Tomcat (Програма) як приналежність до користувача "tomcat" (окремий користувач з обмеженими дозволами[немає пароля](https://unix.stackexchange.com/questions/56765/creating-an-user-without-a-password)) й Таким чином, тільки супер-користувач може переключатися, щоб дійти від користувача. Це робить його неможливим для хакерів, щоб увійти в свій сервер, як користувач tomcat. І в будь-якому випадку, ви повинні зробити це таким чином, щоб користувач тормка мав дуже обмежені дозволи на файлову систему сервера (читати+write+execute привілеї для каталогу apache-tomcat і&lt;bigParentDirectory&gt; і чит-only привілеї для каталогів з даними, якіERDDAP™необхідний доступ.
        * Ви можете створити обліковий запис користувача tomcat (не має пароля) за допомогою команди
sudo useradd tomcat -s /bin/bash -p "\\* Р
        * Ви можете переключатися на роботу як користувацького томка за допомогою команди
sudo su - tomcat
             (Вам запрошують пароль суперкористувацького пароля.) 
        * Ви можете зупинити роботу як користувацький томатор за допомогою команди
Увійти
        * До більшості решти Томата іERDDAP™інструкції налаштування як користувача "tomcat". Пізніше запустіть скрипти запуску.sh і вимкнути.sh, як користувач "tomcat", так що Tomcat має дозвіл на написання його файлів журналу.
        * Після розпакування Tomcat від батьківського каталогу apache-tomcat:
            
            * Зміна володіння каталогом apache-tomcat до користувача tomcat.
Български, English, Українська...
                 (але замініть фактичне ім'я вашого каталогу) й
            * Зміна "групи" для того, щоб бути томка, ім'я користувача або ім'я невеликої групи, яка включає в себе томка і всі адміністратори Tomcat/ERDDAP, наприклад,
HYIP и SSL UserName_ apache-tomcat_10.0.23_
            * Змінити дозволи так, щоб tomcat і група читати, писати, виконувати привілеї, наприклад,.
JavaScript licenses API Веб-сайт Go1.13.8
            * Видаліть "інші" дозволи користувачів читати, писати або виконувати:
JavaScript licenses API Веб-сайт Go1.13.8
Це важливо, тому що вона запобігає іншим користувачам від читання, можливо, конфіденційної інформації вERDDAP™Налаштування файлів.
            
              
### Навігація{#memory} 
* Настроювання Томата варіабельності
    
На Linux і Macs:
Створити файл _tomcat_/bin/setenv.sh (або в Red Hat Enterprise Linux\\[РХЕЛ\\], редагування ~tomcat/conf/tomcat10.conf) для встановлення змінних середовища Tomcat. Цей файл буде використовуватися _tomcat_/bin/startup.sh і відключення.sh. Файл повинен містити щось схоже:
```
    export JAVA\\_HOME=/usr/local/jdk-21.0.3+9  
    export JAVA\\_OPTS='-server -Djava.awt.headless=true -Xmx1500M -Xms1500M'  
    export TOMCAT\\_HOME=/usr/local/apache-tomcat-_10.0.23_  
    export CATALINA\\_HOME=/usr/local/apache-tomcat-_10.0.23_
```
 (але замініть імена каталогів з вашого комп'ютера) й
 (Якщо ви раніше встановили JRE\\_HOME, ви можете видалити це.)   
На Macs, ймовірно, не потрібно встановити JAVA\\_HOME.

На Windows:
Створіть файл _tomcat_\\bin\\setenv.bat для встановлення змін середовища Tomcat. Цей файл буде використовуватися _tomcat_\\bin\\startup.bat іshutdown.batй Файл повинен містити щось схоже:
```
    SET "JAVA\\_HOME=\\_someDirectory_\\jdk-21.0.3+9"  
    SET "JAVA\\_OPTS=-server -Xmx1500M -Xms1500M"  
    SET "TOMCAT\\_HOME=\\Program Files\\apache-tomcat-_10.0.23_"  
    SET "CATALINA\\_HOME=\\Program Files\\apache-tomcat-_10.0.23_"
```
 (але замініть імена каталогів з вашого комп'ютера) й
Якщо це просто для місцевих випробувань, видаліть "сервер".
 (Якщо ви раніше встановили JRE\\_HOME, ви можете видалити це.) 

Налаштування пам'яті Xmx і -Xms є важливими, оскількиERDDAP™працює краще з пам'яттю. Завжди встановити -Xms до того ж значення, як -Xmx.

* Для 32 біт операційних систем і 32 бітJava:
64 бітJavaнабагато краще 32 бітJava, але 32 бітJavaне дуже зайнятий сервер. Чим більше фізичного пам'яті в сервері краще: 4+ Гб дійсно хороший, 2 ГБ океї, менше не рекомендується. З 32 бітJava, навіть з рясною фізичною пам'яттю, Tomcat іJavaне запустіть, якщо ви намагаєтеся встановити -Xmx набагато вище 1500M (1200M на деяких комп'ютерах) й Якщо сервер має менше 2 Гб пам'яті, знижуйте значення -Xmx (в 'M'egaBytes) до 1/2 фізичної пам'яті комп'ютера.
* Для 64 біт Операційні системи та 64 бітJava:
64 бітJavaпрацюватиме лише на 64 біт операційній системі.
    
    * ЗJava8, вам потрібно додати \\-d64 до параметра Tomcat CATALINA \\_OPTS в setenv.bat
    * ЗJava21 вибираємо 64 бітJavaколи ви завантажуєте версіюJavaпозначений "64 біт".
    
З 64 бітJavaТвитнутьJavaможе використовувати дуже високі -Xmx і -Xms настройки. Більша фізична пам'ять в сервері краще. Ми рекомендуємо вам встановити -Xmx і -Xms до (в 'M'egaBytes) до 1/2 (або менше) Фізична пам'ять комп'ютера. Ви можете побачити, якщо Tomcat,JavaйERDDAP™дійсно працює в режимі 64 біт, шукаючи " біт",ERDDAP's Щоденний звіт електронної пошти або в _bigParentDirectory_/logs/[JavaScript licenses API Веб-сайт Go1.13.8](/docs/server-admin/additional-information#log)Головна (_bigParentDirectory_ вказаний в[Налаштування.xml](#setupxml)) й
#### Колекція Garbage{#garbage-collection} 
* УERDDAP™Р[JavaScript licenses API Веб-сайт Go1.13.8](/docs/server-admin/additional-information#log)файл, ви побачите багато "GC (Розміщений отвір) « повідомлення».
Це зазвичай не проблема. Це часте повідомлення від нормальної роботиJavaкажучи, що він просто закінчив незначний збір сміття, оскільки він виріс з кімнати в Едені (секція розділуJavaхап для дуже молодих предметів) й Зазвичай повідомлення ви _memoryUseBefore_\\-&gt;_memoryUseAfter_. Якщо у двох числах закриті разом, значить, збір сміття не було продуктивним. Повідомлення є тільки ознакою неприємностей, якщо це дуже часто (кожні кілька секунд) , не продуктивні, а цифри великі і не зростаючі, які разом вказують на те, щоJavaпотребує більше пам'яті, що суперечить пам'яті, і не може звільнити пам'ять. Це може статися під час стресового часу, потім піти. Але якщо він псує, то це ознака неприємностей.
* Якщо ви бачите java.lang.OutOfMemoryError's вERDDAP™Р[JavaScript licenses API Веб-сайт Go1.13.8](/docs/server-admin/additional-information#log)файл, див[ОфМемори](/docs/server-admin/additional-information#outofmemoryerror)Поради щодо діагностики та вирішення проблем.
         
### Дозвіли{#permissions} 
*   [На Linux і Macs змініть дозволи](#permissions)Всі\\*.shФайли в _tomcat_/bin/ для виконання власником, наприклад, з
```
    chmod +x \\*.sh  
```
### Кошик{#fonts} 
*   [Шрифти для зображень:](#fonts)Ми настійно віддаємо перевагу безкоштовно[ДеяВу шрифти](https://dejavu-fonts.github.io/)до іншоїJavaшрифти. За допомогою цих шрифтів дуже рекомендується, але не потрібно.
    
Якщо ви не можете використовувати шрифти DejaVu, вам потрібно змінити налаштування шрифту.xml&lt;JavaScript licenses API Веб-сайт Go1.13.8&lt;/fontFamily&gt, який доступний з усімаJavaрозподіли. Якщо ви встановите шрифтСімейно на ім'я шрифту, який не доступний,ERDDAP™не завантажується і буде друкувати список доступних шрифтів у файлі log.txt. Ви повинні використовувати один з цих шрифтів.
    
Якщо ви вирішили використовувати шрифти DejaVu, будь ласка, переконайтеся, що налаштування fontFamily у налаштуваннях.xml&lt;шрифт Family&gt;ДеяВу Санс&lt;/fontFamily&gt;
    
Щоб встановити шрифти DejaVu, будь ласка, завантажте[ДеяВуФонтс.zip](/DejaVuFonts.zip)  (5,522,795 байтів, MD5=33E1E61FAB06A547851ED308B4FFEFEF42) і розпакування файлів шрифтів до тимчасового каталогу.
    
    * На Linux:
        * Для Linux AdoptiumJavaрозподіли, див.[ці інструкції](https://blog.adoptopenjdk.net/2021/01/prerequisites-for-font-support-in-adoptopenjdk/)й
        * З іншого бокуJavaрозподіли: Як користувач Tomcat копіювати файли шрифтів у _JAVA\\_HOME_/lib/fonts такJavaможе знайти шрифти. Пам'ятайте: якщо / коли ви пізніше модернізуєте нову версіюJava, вам потрібно перевстановити ці шрифти.
    * На Macs: для кожного файлу шрифту двічі натисніть на нього, а потім натисніть кнопку Встановити шрифт.
    * На Windows 7 і 10: в Windows Explorer виберіть всі файли шрифтів. Клацніть правою кнопкою миші Натисніть на Встановити.
             
### Тест Tomcat{#test-tomcat} 
* Тестування установки Tomcat.
    * Українська
        * Як користувач "tomcat", запустити _tomcat_/bin/startup.sh
        * Перегляд URL + ":8080/" у вашому браузері (Наприклад,[ http://coastwatch.pfeg.noaa.gov:8080/ ](http://coastwatch.pfeg.noaa.gov:8080/)) й
        * Ви повинні бачити сторінку Tomcat.
Якщо є проблеми, див. файл Tomcat_/logs/catalina.out.
    * Мапа (запустити tomcat як адміністратор системи) :
        * Килимок _tomcat_/bin/startup.sh
        * Перегляд URL + ":8080/" у вашому браузері (Наприклад,[ http://coastwatch.pfeg.noaa.gov:8080/ ](http://coastwatch.pfeg.noaa.gov:8080/)) й Зверніть увагу, що за замовчуванням, ваш Tomcat доступний тільки для вас. Недоступно.
        * Ви повинні бачити сторінку Tomcat.
Якщо є проблеми, див. файл Tomcat_/logs/catalina.out.
    * Windows localhost:
        
        * Клацніть правою кнопкою миші на піктограму Tomcat в системному лотку, і виберіть "Почати послугу".
        * Переглянути[ http://127.0.0.1:8080/ ](http://127.0.0.1:8080/)або, можливо,[ http://localhost:8080/ ](http://localhost:8080/), у вашому браузері. Зверніть увагу, що за замовчуванням, ваш Tomcat доступний тільки для вас. Недоступно.
        * Ви повинні бачити сторінку Tomcat.
Якщо є проблеми, див. файл Tomcat_/logs/catalina.out.
            
### Зубки з установкою Tomcat?{#troubles-with-the-tomcat-installation} 
* На Linux і Mac, якщо ви не можете дістатися до Tomcat абоERDDAP™  (або, можливо, ви не можете дістатися до комп'ютера за межами вашого брандмауера) , ви можете перевірити, якщо Tomcat слухає порт 8080, набравши (як корінь) на командному рядку сервера:
```  
    netstat -tuplen | grep 8080  
```
Щоб повернути один рядок з чимось схожим:
``` 
    tcp 0 0 :::8080 :::\\* LISTEN ## ##### ####/java
``` 
     (де '#' є деякі цифри) , що свідчить про те, що процес «Ява» (Томат) Прослуховування на порту "8080" для "tcp" трафіку. Якщо не повернулися лінії, якщо повернуто рядок, або якщо повернулися дві або більше рядків, то може бути проблема з налаштуванням порту.
* Переглянути файл Tomcat _tomcat_/logs/catalina.out. Проблеми Tomcat і деякіERDDAP™проблеми стартапів практично завжди вказані. Це поширено, коли ви спочатку налаштованіERDDAP™й
* Дивитися[Кошик](https://tomcat.apache.org/)Якщо ви хочете, щоб допомогти вам, будь ласка, зв'яжіться з нами
* Про нас[розділ про отримання додаткової підтримки](/docs/intro#support)й
             
### ERDDAP™Зміст{#erddap-content} 
3.  [Налаштування_tomcat_/content/erddapналаштування файлів.](#erddap-content)  
На Linux, Mac і Windows, скачати[ерддапКонтент.zip](https://github.com/ERDDAP/erddapContent/releases/download/content1.0.0/erddapContent.zip)  (версія 1.0.0, 20333 байтів, MD5=2B8D2A5AE5ED73E3A42B529C168C60B5, від 2024-10-14) і розпакувати його в _tomcat_, створення_tomcat_/content/erddapй

    \\[Деякі попередні версії також доступні:
    [2.17](https://github.com/ERDDAP/erddap/releases/download/v2.17/erddapContent.zip)  (19792 байтів, MD5=8F892616BAEEF2DF0F4BB036DCB4AD7C, від 2022-02-16)   
    [2.18 р.](https://github.com/ERDDAP/erddap/releases/download/v2.18/erddapContent.zip)  (19792 байтів, MD5=8F892616BAEEF2DF0F4BB036DCB4AD7C, від 2022-02-16)   
    [2.21](https://github.com/ERDDAP/erddap/releases/download/v2.21/erddapContent.zip)  (19810 байтів, MD5=1E26F62E7A06191EE686868C40B9A29362, від 2022-10-09)   
    [2.22 км](https://github.com/ERDDAP/erddap/releases/download/v2.22/erddapContent.zip)  (19810 байтів, MD5=1E26F62E7A06191EE686868C40B9A29362, від 2022-12-08) 
    [2.23 р.](https://github.com/ERDDAP/erddap/releases/download/v2.23/erddapContent.zip)  (1E26F62E7A06191EE6868C40B9A29362, від 2023-02-27) 
і розпакувати його в _tomcat_, створення_tomcat_/content/erddapй\\]
    
#### Інші каталоги{#other-directory} 
Для Red Hat Enterprise Linux (РХЕЛ) або для інших ситуацій, де ви не можете змінити каталог Tomcat або де ви хочете / не ставитиERDDAP™каталог контенту в іншому місці для деяких інших причин (наприклад, якщо ви використовуєте Jetty замість Tomcat) , безконтактний erddapContent.zipв бажаний каталог (до якого тільки користувач=tomcat має доступ) і встановитиerddapContentDirectoryсистемне майно (Наприклад,erddapContentDirectory=~tomcat/content/erddap) доERDDAP™може знайти цей новий каталог контенту.
    
### Налаштування.xml{#setupxml} 
*   [Читати коментарі_tomcat_/content/erddapУкраїнська **Налаштування.xml** ](#setupxml)і змусити запитані зміни. Налаштування.xml є файлом з усіма налаштуваннями, які вказують на те, як вашERDDAP™бджіл.
Для початкової настройки ви MUST принаймні змініть ці налаштування:
```
    <bigParentDirectory>, <emailEverythingTo>, <baseUrl>, <email.\\*>, <admin.\\*> (and <baseHttpsUrl> when you set up https).
```
    
Коли ви створюєте bigParentDirectory, з батьківського каталогу bigParentDirectory:
    
    * Зробіть користувальницький=томатувати власника bigParentDirectory, наприклад,
```
        chown -R tomcat _bigParentDirectory_
```
    * Зміна "групи" для того, щоб бути томка, ім'я користувача або ім'я невеликої групи, яка включає в себе томка і всі адміністратори Tomcat/ERDDAP, наприклад,
```
        chgrp -R _yourUserName_ _bigParentDirectory_
```
    * Змінити дозволи так, щоб tomcat і група читати, писати, виконувати привілеї, наприклад,.
```
        chmod -R ug+rwx _bigParentDirectory_
```
    * Видаліть "інші" дозволи користувачів читати, писати або виконувати. Це важливо для запобігання читання, можливо, конфіденційної інформації вERDDAP™Файли та файли з інформацією про приватні дані.:
```
        chmod -R o-rwx _bigParentDirectory_
```

### Варіанти навколишнього середовища{#environment-variables} 
Почати зERDDAP™в2.13,ERDDAP™Адміністратори можуть перевизнати будь-яке значення в налаштуваннях.xml, вказавши змінну середовищаERDDAP\\__valueName_ до запускуERDDAP™й Наприклад, використанняERDDAP\\_baseУрл наділяє&lt;baseUrl&gt; значення. Це може бути зручно при розгортанніERDDAP™з контейнером, як Docker, так як ви можете покласти стандартні налаштування в налаштування.xml, а потім поставляти спеціальні налаштування через змінні середовища. Якщо ви подаєте секретну інформаціюERDDAP™через цей метод обов'язково перевірте, що інформація залишиться секретом.ERDDAP™тільки читає змінні середовища один раз на старт, в першій секунді запуску, так що один спосіб використовувати це: встановити змінні середовища, початиERDDAP, чекати доERDDAP™Починається, після чого відмінюється середовище.
    
### datasets.xml {#datasetsxml} 
* Читати коментарі[ **Робота зdatasets.xmlГоловна** ](/docs/server-admin/datasets)й Після того, як ви отримаєтеERDDAP™перший раз (як правило, з просто даними за замовчуванням) Ви зміните XML в_tomcat_/content/erddapУкраїнська **datasets.xml** щоб вказати всі дані, які ви хочете, щоб вашERDDAP™подавати. Це те, де ви будете витрачати об'єм вашого часу під час налаштуванняERDDAP™і пізніше, зберігаючи вашERDDAP™й

Ви можете побачити приклад[datasets.xmlна GitHub](https://github.com/ERDDAP/erddap/blob/main/development/jetty/config/datasets.xml)й
     
*    (На відміну) Відправити (трохи частіше) в майбутньому, якщо ви хочете змінити файл CSS erddap, зробити копію_tomcat_/content/erddap/images/erddapStart2.css назвав erddap2.css, а потім внести зміни до нього. Зміни до erddap2.css тільки приймають ефект приERDDAP™Працював і часто зажадає користувачу очистити файли кешування браузера.
     
ERDDAP™не працює правильно, якщо налаштування.xml абоdatasets.xmlФайл не є добре сформованим файлом XML. Отже, після того, як ви редагуєте ці файли, це гарна ідея для перевірки того, що результат добре сформований XML, поставивши текст XML у XML-реєстратор, як[анотація](https://www.xmlvalidation.com/)й
     
### Встановіть файл erddap.war{#install-the-erddapwar-file} 
4. На Linux, Mac і Windows, скачати[ерддап.воєнний](https://github.com/ERDDAP/erddap/releases/download/v2.27.0/erddap.war)в _tomcat_/webapps .
     (версія 2.27.0, 620,554,403 байтів, MD5=3b2086c659eee4145ca2dff447bf4ef7, відданий 06-11-2025) 
    
.war файл є великим, тому що він містить берегову лінію високої роздільної здатності, граничні та дані висоти, необхідні для створення карт.
    
    \\[Деякі попередні версії також доступні.
    [2.17](https://github.com/ERDDAP/erddap/releases/download/v2.17/erddap.war)  (551,068,245 байтів, MD5=5FEA912B5D42E50EAB9591F773EA848D, від 2022-02-16)   
    [2.18 р.](https://github.com/ERDDAP/erddap/releases/download/v2.18/erddap.war)  (551,069,844 байтів, MD5=461325E97E7577EC671DD50246CCFB8B, від 2022-02-23)   
    [2.21](https://github.com/ERDDAP/erddap/releases/download/v2.21/erddap.war)  (568,644,411 байтів, MD5=F2CFF805893146E932E498FDDBD519B6, від 2022-10-09)   
    [2.22 км](https://github.com/ERDDAP/erddap/releases/download/v2.22/erddap.war)  (567,742,765 байтів, MD5=2B33354F633294213AE2AFDDCF4DA6D0, від 2022-12-08) 
    [2.23 р.](https://github.com/ERDDAP/erddap/releases/download/v2.23/erddap.war)  (572,124,953 байти, MD5=D843A043C506725EBD6F8EFDCCA8FD5F, від 2023-03-03) 
    [2.24 р.](https://github.com/ERDDAP/erddap/releases/download/v2.24/erddap.war)  (568,748,187 байтів, MD5=970fbee172e28b0b8a07756eecbc898e, від 2024-06-07) 
    [2.25 р](https://github.com/ERDDAP/erddap/releases/download/v2.25.1/erddap.war)  (592,292,039 байтів, MD5=652AFC9D1421F00B5F789DA2C4732D4C, від 2024-11-07) 
    [2.26](https://github.com/ERDDAP/erddap/releases/download/v2.26.0/erddap.war)  (607,404,032 байтів, MD5=99a725108b37708e5420986c1616a119, від 2025-03-31) 
    \\]
    
#### ПроксиПас{#proxypass} 
5. Використання проксі Щоб користувачі не повинні поставити номер порту, наприклад, :8080, у URL.
На комп'ютерах Linux, якщо Tomcat працює в Apache, будь ласка, змініть Apachehttpd.conf файл (зазвичай в /etc /httpдо/conf/) щоб дозволити трафік HTTP в / зERDDAP™не вимагає номера порту, наприклад, :8080, у URL. Як користувач кореня:
    1. Змінення існуючої&lt;ВіртуальнийHost&gt; тег (якщо є один) , або додати один в кінці файлу:
```
        <VirtualHost \\*:80>
           ServerName _YourDomain.org_
           ProxyRequests Off
           ProxyPreserveHost On
           ProxyPass /erddap http://localhost:8080/erddap
           ProxyPassReverse /erddap http://localhost:8080/erddap
        </VirtualHost>
```
    2. Далі перезапустіть Apache: /usr/sbin/apachectl -k витончений (але іноді це в іншому каталозі) й
         
### NGINX{#nginx} 
 (УNCOМОН) Якщо ви використовуєте[NGINX](https://www.nginx.com/)  (веб-сервер і балансувальник навантаження) :
Для отримання NGINX іERDDAP™правильно працювати зhttps, вам потрібно покласти наступний фрагмент всередині сервера Tomcat.xml&lt;Хост&гт; блок:
```
    &lt;Valve className="org.apache.catalina.valves.RemoteIpValve"  
      remoteIpHeader="X-Forwarded-For"  
      protocolHeader="X-Forwarded-Proto"  
      protocolHeaderHttpsValue="https" /&gt; 
```
І в файлі nginx config вам потрібно встановити ці заголовки:
```
      proxy\\_set\\_header Host              $host;
      proxy\\_set\\_header X-Real-IP         $remote\\_addr;
      proxy\\_set\\_header REMOTE\\_ADDR       $remote\\_addr;
      proxy\\_set\\_header HTTP\\_CLIENT\\_IP    $remote\\_addr;
      proxy\\_set\\_header X-Forwarded-For   $proxy\\_add\\_x\\_forwarded\\_for;
      proxy\\_set\\_header X-Forwarded-Proto $scheme;
```
 (Завдяки Kyle Wilcox.)   
     
### Початок Tomcat{#start-tomcat} 
*    (Я не рекомендую використовувати Tomcat Web Application Manager. Якщо ви не повністю вимкнено і запустили Tomcat, швидше або пізніше ви будете мати проблеми пам'яті PermGen.)   
     
*    (У Linux або Mac OS, якщо ви створили спеціальний користувач для запуску Tomcat, наприклад, tomcat, не забудьте зробити наступні кроки, як це користувач.)   
     
* Якщо Tomcat вже працює, закриваємо Tomcat з (в Linux або Mac OS) _tomcat_/bin/shutdown.sh
або (у Windows) _tomcat_\\bin\\\'shutdown.bat
    
На Linux використовується ps -ef|заглушка перед і після завершення.sh, щоб переконатися, що процес tomcat зупинився. Процес повинен бути перерахований до завершення і в кінцевому підсумку не зазначений після завершення. Це може зайняти хвилину або два дляERDDAP™до повного відключення. Будьте хворими. Або якщо вона виглядає так, що вона не зупиниться на власній, використовуйте:
Вбити -9 _processID_
    
* Почати Tomcat (в Linux або Mac OS) _tomcat_/bin/startup.sh
або (у Windows) _tomcat_\\bin\\startup.bat

## Чи єERDDAP™бігти?{#is-erddap-running} 
Використовуйте браузер для перегляду http://_www.YourServer.org_/erddap/status.html   
ERDDAP™без навантажених даних. Дані завантажуються в фоновому рядку і тому стають доступні в одному режимі.

### Виправлення несправностей{#troubleshooting} 
* Коли запит від користувача надходить, він йде до Apache (на комп'ютерах Linux і Mac OS) , потім Tomcat, потімERDDAP™й
* Ви можете побачити, що йде до Apache (і пов'язані помилки) у файлах журналу Apache.
*   [Ви](/docs/server-admin/additional-information#tomcat-logs)може бачити те, що приходить до Tomcat (і пов'язані помилки) у файлах журналу Tomcat (_tomcat_/logs/catalina.out та інші файли в цьому каталозі) й
*   [Ви](/docs/server-admin/additional-information#log)може побачити, що приходить доERDDAP, діагностичні повідомлення відERDDAP, повідомлення про помилкиERDDAP, уERDDAP™ &lt;JavaScript licenses API Веб-сайт Go1.13.8
* Tomcat не стартуєERDDAP™до Tomcat отримує запитERDDAP™й Отже, ви можете побачити в файлах журналу Tomcat, якщо він почавERDDAP™або якщо є повідомлення про помилку, пов'язані з цією спробою.
* КолиERDDAP™початок, він перейменує старийERDDAP™Файл: Log.txt (JavaScript licenses API Веб-сайт Go1.13.8) і створює новий файл log.txt. Отже, якщо колода. txt файл старий, це знак, щоERDDAP™не нещодавно перезавантажений.ERDDAP™записує інформацію про журнал до буфера і тільки записує буфер до файлу журналу періодично, але ви можете примусовоERDDAP™щоб написати буфер до файлу журналу, відвідавши .../erddap/status.htmlй

### Публікація: Стара версіяJava {#trouble-old-version-of-java} 
Якщо ви використовуєте версіюJavaце занадто старий дляERDDAPйERDDAP™не запустіть і ви побачите повідомлення про помилку в файлі журналу Tomcat, як
Виняток на нитку "основний" java.lang.UnsupportedClassVersionError:
_ some/class/name_: Unsupported large.minor version _ someКількість_
Рішення для оновлення до останньої версіїJavaі переконайтеся, що Tomcat використовує його.

### Публікація: Slow Startup Перший раз{#trouble-slow-startup-first-time} 
Tomcat має зробити багато роботи в перший раз додаток, якERDDAP™Починається; мабуть, вона повинна розпакувати ерддап. War файл (що таке.zipГоловна) й На деяких серверах перша спроба переглянутиERDDAP™Стовпи (30 хв) до завершення роботи. На інших серверах з'явиться перша спроба. Але якщо ви очікуєте 30 секунд і спробуйте знову, це буде успішним, якщоERDDAP™було встановлено правильно.
Для цього немає фіксації. Як працює Tomcat. Але це тільки після встановлення нової версіїERDDAP™й

## Вимкніть і перезапустіть{#shut-down-and-restart} 
У майбутньому, щоб звільнитися (і відпочинок)  ERDDAP, див[Як відмітити вниз і перезапустити Tomcat іERDDAP](/docs/server-admin/additional-information#shut-down-and-restart)й
## Троубл?{#trouble} 
Парасолька установка Tomcat абоERDDAP? Про нас[розділ про отримання додаткової підтримки](/docs/intro#support)й
## Повідомлення електронної пошти про нові версіїERDDAP {#email-notification-of-new-versions-of-erddap} 
Якщо ви хочете отримувати повідомлення електронної пошти, якщо ви не бажаєте отримувати нову версіюERDDAP™чи інші важливіERDDAP™Ви можете приєднатися доERDDAP™Оголошення[Головна](https://groups.google.com/g/erddap-announce)й Цей список в середньому приблизно один лист через кожні три місяці.
## Налаштування{#customize} 
[НалаштуванняERDDAP™виділити вашу організацію (немаNOAA ERD) й](#customize)
    * Зміна банера, що з'являється вгорі всіхERDDAP™.html сторінки з редагуванням&lt;початокBodyHtml5&gt; тег у вашомуdatasets.xmlфайл. (Якщо не є одним, скопіюйте за замовчуванням зERDDAPР
        \\[домка\\]JavaScript licenses API Веб-сайт Go1.13.8datasets.xmlі редагувати його.) Наприклад, ви можете:
        * Використовуйте різні зображення (i.e., Ваш логотип організації) й
        * Зміна фонового кольору.
        * Зміна "ERDDAP"_YourOrganization_'sERDDAP« » » » » » » » » » » » » » »
        * Зміна "Знайомий доступ до наукових даних" до "Знайомий доступ до даних _YourOrganization_".
        * Змінити посилання на посилання на вашу організацію та джерела фінансування.
    * Зміна інформації про ліву сторону головної сторінки шляхом редагування&lt;TheShortDescriptionHtml&gt; тег у вашомуdatasets.xmlфайл. (Якщо не є одним, скопіюйте за замовчуванням зERDDAPР
        \\[домка\\]JavaScript licenses API Веб-сайт Go1.13.8datasets.xmlі редагувати його.) Наприклад, ви можете:
        * Опишіть, що ваша організація та/або група.
        * Опишіть те, що дані цеERDDAP™має.
    * Щоб змінити іконку, яка з'являється на вкладках браузера, поставте свою організацію favicon. ico в_tomcat_/content/erddap/зображення / . Про нас[ https://en.wikipedia.org/wiki/Favicon ](https://en.wikipedia.org/wiki/Favicon)й
