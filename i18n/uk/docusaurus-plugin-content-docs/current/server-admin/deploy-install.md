---
sidebar_position: 1
---

# Увійти
Як зробити початковий набір ERDDAP™ на сервері

 ERDDAP™ може працювати на будь-якому сервері, який підтримує Java і Томат (та інші сервери додатків, такі як Jetty, але ми не підтримуємо їх) й
 ERDDAP™ Тестовано на Linux (включаючи AWS Amazon) , Mac і Windows комп'ютери.

*  **Докер** --- Ми надаємо [ ERDDAP™ в контейнері Docker](https://hub.docker.com/r/erddap/erddap) 
IOOS тепер пропонує [Швидкий посібник для запуску ERDDAP™ в контейнері Docker](https://ioos.github.io/erddap-gold-standard/index.html) й
Це стандарт ERDDAP™ установка, в контейнері Docker.
Через Docker Ми надаємо прості способи встановлення сли та моніторингу, читати далі [Документація](https://github.com/ERDDAP/erddap/blob/main/DOCKER.md) й
Якщо ви вже використовуєте Docker, ви напевно віддаєте перевагу версії Docker.
Якщо ви хочете запустити хмарні послуги, ви, ймовірно, віддаєте перевагу версії Docker.
*  **Українська** --- Якщо ви встановите ERDDAP™ на сайті Amazon Web Services EC2 див. це [Огляд веб-сайтів Amazon](/docs/server-admin/additional-information#amazon) перший.
*  **Linux і Macs** --- ERDDAP™ працює на комп'ютерах Linux і Mac. Переглянути інструкції нижче.
*  **Головна** --- Windows відмінно підходить для тестування ERDDAP™ і для особистого користування (Переглянути інструкції нижче) й
але ми не рекомендуємо використовувати його для публічного ERDDAP™ розгортання. Запуск ERDDAP™ на Windows може виникнути проблеми:
помітно, ERDDAP™ може бути не в змозі видалити і / або перейменувати файли швидко. Це, ймовірно, через антивірусне програмне забезпечення
   (Наприклад, з Макафе і Нортон) який перевіряє файли для вірусів. Якщо ви запустили цю проблему
(який можна побачити повідомлення про помилки в [JavaScript licenses API Веб-сайт Go1.13.8](/docs/server-admin/additional-information#log) файл
"Неможливо видалити ...", зміни налаштувань антивірусного програмного забезпечення може частково полегшити проблему. Або розгляньте замість сервера Linux або Mac.

 **Стандарт ERDDAP™ інструкції з монтажу для Linux, Macs та Windows комп'ютерів:** 

0. Обов'язково встановлюються будь-які залежності. На невірусних машинах (Linux і Mac) , вам потрібно csh.

##  Java  {#java} 

1.  [Для ERDDAP™ v2.19+, налаштувати Java 21.](#java) 
З причин безпеки, майже завжди краще використовувати останню версію Java 21.
Будь ласка, завантажте та встановіть останню версію
    [Адоптиум OpenJDK (Темурин) 21 мар (ЛТС) ](https://adoptium.net/temurin/releases/?version=21) й
Для перевірки монтажу, запуску `/javaJreBinDirectory/java -версія` Наприклад,
    `/usr/local/jdk-21.0.3+9/jre/bin/java -версія` й

    ERDDAP™ роботи з Java з інших джерел, але ми рекомендуємо Adoptium, оскільки це основний, орієнтований на громаду,
Безкоштовно (як у пивному та мовному виступі) версія Java 21 пропонує довгострокову підтримку (безкоштовні оновлення протягом багатьох років минулого випуску) й
З причин безпеки, будь ласка, поновіть свій ERDDAP 's версія Java періодично як нові версії Java 21 стає доступним з Адоптиуму.

    ERDDAP™ Випробувано і використовується в основному з 21, не іншими версіями. З різних причин ми не тестуємо за допомогою інших версій Java й
     
## Кошик{#tomcat} 

2.  [Налаштування](#tomcat)   [Кошик](https://tomcat.apache.org) й Tomcat є найбільш поширеним Java Сервер додатків,
Що таке Java програмне забезпечення, яке стоїть між службами операційної системи та Java серверне програмне забезпечення ERDDAP™ й
Це безкоштовний і відкритий джерело програмного забезпечення (ФОСС) й

Ви можете використовувати інший Java Сервер додатків (Наприклад, джинс) , але ми тільки тестуємо і підтримуємо Tomcat.

   * Завантажте Tomcat і відпакуйте його на сервері або ПК.
З причин безпеки, майже завжди краще використовувати останню версію Tomcat 10 (версія 9 і нижче не прийнятні) 
який призначений для роботи з Java 21 або новий. Нижче наведено каталог Tomcat як `домка` й

__Захід&#33;__ Якщо у вас вже є Tomcat, яка працює на веб-додатку (особливо THREDDS) , ми рекомендуємо вам встановити ERDDAP™ в
      [другий Tomcat](/docs/server-admin/additional-information#second-tomcat) , бо ERDDAP™ потрібно різні налаштування Tomcat
і не варто забувати про інші програми для пам'яті.

     * На Linux [завантажити "Core" "tar" .gz "Розширення томатів"](https://tomcat.apache.org/download-10.cgi) і розпакуйте його.
Ми рекомендуємо розпакувати його в `Українська` й
     * На Mac вже встановлена Tomcat `Українська` , але слід оновити його до останньої версії Tomcat 10.
Якщо завантажити його, [завантажити "Core" "tar" .gz "Розширення томатів"](https://tomcat.apache.org/download-10.cgi) і розпакуйте його в `Українська` й
     * На Windows ви можете [завантажити "Core" "zip" Tomcat дистриб'ютор](https://tomcat.apache.org/download-10.cgi) 
        (що не означає реєстр Windows, і який ви контролюєте з командного рядка DOS) і розпакуйте його в відповідному каталозі.
        (Для розробки ми використовуємо "Core" "zip". Ми робимо `/програми` каталог і розпакувати його там.) 
Або ви можете завантажити "Core" "64-bit Windows zip" дистрибуція, яка включає більше функцій.
Якщо дистрибуція є Windows-інсталятором, він, ймовірно, поставить Tomcat, наприклад, `/Програма Файли/apache-tomcat-10.0.23` й
             
### Сервер.xml{#serverxml} 

*  [Сервер.xml](#serverxml) - У `JavaScript licenses API Веб-сайт` файл, є два зміни, які ви повинні зробити до кожного з двох ` <Connector> ` мітки
   (один для `&lt;Connector порт="8080"` і один `&lt;Conector порт="8443"` ) й
   1.  (Рекомендовані) Збільшення `підключення Розклад` значення параметра, можливо, до 300000 (мілісекунди, які 5 хвилин) й
   2.  (Рекомендовані) Додати новий параметр: `РозслабленийQueryChars="[] | « » » » » » » » » » » » » » »` й Це необов'язково і трохи менш надійний,
але видаліть необхідність для користувачів, щоб процентувати ці символи, коли вони відбуваються в параметрах URL запиту користувача.
             
### JavaScript licenses API Веб-сайт Go1.13.8{#contentxml} 

* JavaScript licenses API Веб-сайт Go1.13.8 --- Ресурси кеш - В `JavaScript licenses API Веб-сайт Go1.13.8` , прямо до ` </Context> ` тег, зміна тегу ресурсів
   (або додати його, якщо це вже немає) встановити кеш MaxSize параметр до 80000:
  ```
  <Resources cachingAllowed="true" cacheMaxSize="80000" />
  ```
Це дозволяє уникнути численних попереджень у каталіні. з того, що все починається з
  ```
  WARNING [main] org.apache.catalina.webresources.Cache.getResource Unable to add the resource at [/WEB-INF/classes/...]
  ```
         
### Статус на сервери{#apache-timeout} 

* На комп'ютерах Linux змініть налаштування часу Apache, щоб часові запити користувачів не витрачали часу
   (з чим часто з'являється «Проксі» або «Bad Gateway» помилка) й Як користувач кореня:
  * Змінення Apache ` http д.conf` Головна (зазвичай в `/ т/с http до/conf/` ) :
    * Зміна існуючої ` <Timeout> ` Налаштування (або додати один в кінці файлу) до 3600 (час) , замість за замовчуванням 60 або 120 секунд.
    * Зміна існуючої ` <ProxyTimeout> ` Налаштування (або додати один в кінці файлу) до 3600 (час) , замість за замовчуванням 60 або 120 секунд.
  * Статус на сервери `/usr/sbin/apachectl -k витончений`   (але іноді це в іншому каталозі) й

### Безпека{#security} 
         
* Рекомендації з безпеки: Про нас [ці інструкції](https://tomcat.apache.org/tomcat-10.0-doc/security-howto.html) збільшити безпеку
Встановлення Tomcat, особливо для публічних серверів.
         
* Для громадськості ERDDAP™ Налаштування на Linux і Macs, краще налаштувати Tomcat (Програма) як належність Користувача `домка` 
   (окремий користувач з обмеженими дозволами [немає пароля](https://unix.stackexchange.com/questions/56765/creating-an-user-without-a-password) ) й
Таким чином, тільки суперкористувач може переключатися в дію як користувача `домка` й Це робить його неможливим для хакерів, щоб увійти на сервер як користувач `домка` й
І в будь-якому випадку, ви повинні зробити це так, щоб `домка` Користувач має дуже обмежені дозволи на файлову систему сервера (читати+write+execute привілеї
для `apache-tomcat` каталог дерево і ` <bigParentDirectory> ` та ознайомчі привілеї для каталогів з даними, які ERDDAP™ необхідний доступ.
  * Ви можете створити `домка` обліковий запис користувача (не має пароля) за допомогою команди:
    ```
    sudo useradd tomcat -s /bin/bash -p '*'
    ```
  * Ви можете перейти до роботи користувача `домка` за допомогою команди
    ```
    sudo su - tomcat
    ```
     (Вам запрошують пароль суперкористувацького пароля.) 
    * Ви можете зупинити роботу як користувацький томатор за допомогою команди
    ```
    exit
    ````
    * До більшості решти Томата і ERDDAP™ інструкції налаштування користувача `домка` й Далі запустіть `стартап.sh` і `відключення. шемале` скрипти як користувач `домка` 
Так що Tomcat має дозвіл на написання своїх файлів журналу.
    * Після розпакування Tomcat, від батька `apache-tomcat` каталог:
      * Зміна володіння каталогом apache-tomcat до користувача tomcat.
        ```
        chown -R tomcat apache-tomcat-10.0.23
        ```
         (але замініть фактичне ім'я вашого каталогу) й
      * Зміна "групи" для того, щоб бути томка, ім'я користувача або ім'я невеликої групи, яка включає в себе томка і всі адміністратори Tomcat/ ERDDAP :
        ```
        chgrp -R yourUserName apache-tomcat-10.0.23
        ```
      * Змінити дозволи так, щоб tomcat і група читати, писати, виконувати привілеї:
        ```
        chmod -R ug+rwx apache-tomcat-10.0.23
        ```
      * Видаліть "інші" дозволи користувачів читати, писати або виконувати:
        ```
        chmod -R o-rwx apache-tomcat-10.0.23
        ```
Це важливо, тому що вона запобігає іншим користувачам від читання, можливо, конфіденційної інформації в ERDDAP™ Налаштування файлів.

### Навігація{#memory} 

Настроювання Томата варіабельності

* На Linux і Macs:
Створити файл `tomcat/bin/setenv.sh`   (або в Red Hat Enterprise Linux \\[ РХЕЛ \\] , редагування `JavaScript licenses API Веб-сайт Go1.13.8` ) для встановлення змінних середовища Tomcat.
Цей файл буде використовуватися `JavaScript licenses API Веб-сайт Go1.13.8` і `відключення. шемале` й Файл повинен містити щось схоже:
  ```
  export JAVA_HOME=/usr/local/jdk-21.0.3+9
  export JAVA_OPTS='-server -Djava.awt.headless=true -Xmx1500M -Xms1500M'
  export TOMCAT_HOME=/usr/local/apache-tomcat-10.0.23
  export CATALINA_HOME=/usr/local/apache-tomcat-10.0.23
  ```
   (але замініть імена каталогів з вашого комп'ютера) й
   (Якщо ви раніше встановили `ДЖРЕ_ХОМ` , ви можете видалити це.) 
На Macs ви, ймовірно, не повинні встановити `ЖАВА_ХОМ` й

* На Windows:
Створити файл `tomcat\bin\\setenv.bat` для встановлення змінних середовища Tomcat.
Цей файл буде використовуватися `JavaScript licenses API Веб-сайт Go1.13.8` і ` shutdown.bat ` й
Файл повинен містити щось схоже:
  ```
  SET "JAVA_HOME=\\someDirectory\\jdk-21.0.3+9"
  SET "JAVA_OPTS=-server -Xmx1500M -Xms1500M"
  SET "TOMCAT_HOME=\\Program Files\\apache-tomcat-10.0.23"
  SET "CATALINA_HOME=\\Program Files\\apache-tomcat-10.0.23"
  ```
   (але замініть імена каталогів з вашого комп'ютера) й
Якщо це просто для місцевих випробувань, видаліть "сервер".
   (Якщо ви раніше встановили `ДЖРЕ_ХОМ` , ви можете видалити це.) 

Про нас `-Хмкс` і `-Хм` Параметри пам'яті важливі, оскільки ERDDAP™ працює краще з пам'яттю.
Зареєструватися `-Хм` до того ж значення, як `-Хмкс` й

* Для 32 біт операційних систем і 32 біт Java :
64 біт Java набагато краще 32 біт Java , але 32 біт Java не дуже зайнятий сервер.
Чим більше фізичного пам'яті в сервері краще: 4+ Гб дійсно хороший, 2 ГБ океї, менше не рекомендується.
З 32 біт Java , навіть з рясною фізичною пам'яттю, Tomcat і Java не запустіть, якщо ви спробуєте встановити `-Хмкс` до 1500M (1200M на деяких комп'ютерах) й
Якщо сервер має менше 2 Гб пам'яті, знижуйте `-Хмкс` значення (в 'M'egaBytes) до 1/2 фізичної пам'яті комп'ютера.

* Для 64 біт Операційні системи та 64 біт Java :
64 біт Java працюватиме лише на 64 біт операційній системі.
  * З Java 8, потрібно додати `до64` до Tomcat `КАТАЛІНА_ОПТИ` параметр в `напляскване` й
  * З Java 21 вибираємо 64 біт Java коли ви завантажуєте версію Java позначений "64 біт".

З 64 біт Java Твитнуть Java може використовувати дуже високий `-Хмкс` і `-Хм` налаштування. Більша фізична пам'ять в сервері краще.
Ми рекомендуємо Вам встановити `-Хмкс` і `-Хм` до (в 'M'egaBytes) до 1/2 (або менше) Фізична пам'ять комп'ютера.
Ви можете побачити, якщо Tomcat, Java й ERDDAP™ дійсно працює в режимі 64 біт, шукаючи " біт", ERDDAP 's Щоденний звіт електронної пошти
або в `bigParentDirectory/logs/ [JavaScript licenses API Веб-сайт Go1.13.8](/docs/server-admin/additional-information#log) ` Головна ( `bigParentПублічний` вказаний в [Налаштування.xml](#setupxml) ) й

#### Колекція Garbage{#garbage-collection} 

* У ERDDAP™ Р [JavaScript licenses API Веб-сайт Go1.13.8](/docs/server-admin/additional-information#log) файл, ви побачите багато "GC (Розміщений отвір) « повідомлення».
Це зазвичай не проблема. Це часте повідомлення від нормальної роботи Java говоримо, що він просто закінчив незначний сміття
збірка, оскільки вона вибігла з кімнати в Едені (секція розділу Java хап для дуже молодих предметів) й Зазвичай повідомлення показує вам
   `Пам'ятіUseBefore-&gt;memoryUseAfter` й Якщо у двох числах закриті разом, значить, збір сміття не було продуктивним.
Повідомлення є тільки ознакою неприємностей, якщо це дуже часто (кожні кілька секунд) , не продуктивні, а цифри великі і не зростаючі,
які разом вказують на те, що Java потребує більше пам'яті, що суперечить пам'яті, і не може звільнити пам'ять.
Це може статися під час стресового часу, потім піти. Але якщо він псує, то це ознака неприємностей.
* Якщо ви бачите `English, Українська, Français...` й ERDDAP™ Р [JavaScript licenses API Веб-сайт Go1.13.8](/docs/server-admin/additional-information#log) файл,
Переглянути [ОфМемори](/docs/server-admin/additional-information#outofmemoryerror) Поради щодо діагностики та вирішення проблем.
         
### Дозвіли{#permissions} 

*  [На Linux і Macs змініть дозволи](#permissions) Всі `Ім'я *` Файли в `tomcat/бін/` бути виконавцем:
  ```
  chmod +x *.sh
  ```

### Кошик{#fonts} 

*  [Шрифти для зображень:](#fonts) Ми настійно віддаємо перевагу безкоштовно [ДеяВу шрифти](https://dejavu-fonts.github.io/) до іншої Java шрифти.
За допомогою цих шрифтів дуже рекомендується, але не потрібно.

Якщо ви не можете використовувати шрифти DejaVu, вам потрібно змінити налаштування шрифту.xml ` <fontFamily> Сансеріф </fontFamily> ` й
який доступний з усіма Java розподіли. Якщо ви вказали ` <fontFamily> ` до імені шрифту, який не доступний, ERDDAP™ не завантажується
і буде друкувати список доступних шрифтів у `JavaScript licenses API Веб-сайт Go1.13.8` файл. Ви повинні використовувати один з цих шрифтів.

Якщо ви хочете використовувати шрифти DejaVu, будь ласка, переконайтеся, що ` <fontFamily> ` Налаштування налаштування.xml ` <fontFamily> ДеяВу Санс </fontFamily> ` й

Щоб встановити шрифти DejaVu, будь ласка, завантажте [ДеяВуФонтс .zip ](/DejaVuFonts.zip)   (5,522,795 байтів, MD5=33E1E61FAB06A547851ED308B4FFEFEF42) 
і розпакування файлів шрифтів до тимчасового каталогу.

  * На Linux:
    * Для Linux Adoptium Java розподіли, див. [ці інструкції](https://blog.adoptopenjdk.net/2021/01/prerequisites-for-font-support-in-adoptopenjdk/) й
    * З іншого боку Java розподіли: Як `домка` користувач, копіювання файлів шрифту в `$JAVA_HOME/lib/fonts` до Java може знайти шрифти.
Пам'ятайте: якщо / коли ви пізніше модернізуєте нову версію Java , вам потрібно перевстановити ці шрифти.
  * На Macs: для кожного файлу шрифту двічі натисніть на нього, а потім натисніть кнопку Встановити шрифт.
  * На Windows 7 і 10: в Windows Explorer виберіть всі файли шрифтів. Клацніть правою кнопкою миші Натисніть на Встановити.
             
### Тест Tomcat{#test-tomcat} 

* Тестування установки Tomcat.
  * Українська
    * Як користувач "tomcat", запустити `JavaScript licenses API Веб-сайт Go1.13.8` й
    * Перегляд URL + ":8080/" у вашому браузері (Наприклад, [http://coastwatch.pfeg.noaa.gov:8080/](http://coastwatch.pfeg.noaa.gov:8080/) ) й
  * Мапа (запустити tomcat як адміністратор системи) :
    * Пробіг `JavaScript licenses API Веб-сайт Go1.13.8` й
    * Перегляд URL + ":8080/" у вашому браузері (Наприклад, [http://coastwatch.pfeg.noaa.gov:8080/](http://coastwatch.pfeg.noaa.gov:8080/) ) й
Зверніть увагу, що за замовчуванням, ваш Tomcat доступний тільки для вас. Недоступно.
  * Windows localhost:
    * Клацніть правою кнопкою миші на піктограму Tomcat в системному лотку, і виберіть "Почати послугу".
    * Переглянути [http://127.0.0.1:8080/](http://127.0.0.1:8080/) або, можливо, [http://localhost:8080/](http://localhost:8080/) , у вашому браузері. Зверніть увагу, що за замовчуванням, ваш Tomcat доступний тільки для вас. Недоступно.

Ви повинні бачити сторінку Tomcat.

Якщо є проблеми, див. файл журналу Tomcat на сайті `JavaScript licenses API Веб-сайт Go1.13.8` й

### Зубки з установкою Tomcat?{#troubles-with-the-tomcat-installation} 

* На Linux і Mac, якщо ви не можете дістатися до Tomcat або ERDDAP™   (або, можливо, ви не можете дістатися до комп'ютера за межами вашого брандмауера) й
Ви можете перевірити, якщо Tomcat слухає порт 8080, набравши (як корінь) на командному рядку сервера:

  ```
  netstat -tuplen | grep 8080
  ```

Щоб повернути один рядок з чимось схожим:

  ```
  tcp 0 0 :::8080 :::* LISTEN ## ##### ####/java
  ```

   (де `Нема` є деякі цифрові) , що вказує на те, що `Навігація` процес (Томат) Прослуховування на порту "8080" для "tcp" трафіку.
Якщо не повернулися лінії, якщо повернуто рядок, або якщо повернулися дві або більше рядків, то може бути проблема з налаштуванням порту.

* Переглянути файл Tomcat `JavaScript licenses API Веб-сайт Go1.13.8` й Проблеми Tomcat і деякі ERDDAP™ проблеми запуску практично завжди вказані.
Це поширено, коли ви спочатку налаштовані ERDDAP™ й

* Дивитися [Кошик](https://tomcat.apache.org/) Якщо ви хочете, щоб допомогти вам, будь ласка, зв'яжіться з нами

* Про нас [розділ про отримання додаткової підтримки](/docs/intro#support) й
             
###  ERDDAP™ Зміст{#erddap-content} 
3.   [Налаштування `JavaScript licenses API Веб-сайт` налаштування файлів.](#erddap-content) 
На Linux, Mac і Windows, скачати [ерддапКонтент .zip ](https://github.com/ERDDAP/erddapContent/releases/download/content1.0.0/erddapContent.zip) 
і розпакувати його в `домка` каталог, створення `JavaScript licenses API Веб-сайт` й

__Version 1.0.0, 20333 байтів, MD5=2B8D2A5AE5ED73E3A42B529C168C60B5, від 2024-10-14__

Деякі попередні версії також доступні:

    *  [2.17](https://github.com/ERDDAP/erddap/releases/download/v2.17/erddapContent.zip)   (19792 байтів, MD5=8F892616BAEEF2DF0F4BB036DCB4AD7C, від 2022-02-16) 
    *  [2.18 р.](https://github.com/ERDDAP/erddap/releases/download/v2.18/erddapContent.zip)   (19792 байтів, MD5=8F892616BAEEF2DF0F4BB036DCB4AD7C, від 2022-02-16) 
    *  [2.21](https://github.com/ERDDAP/erddap/releases/download/v2.21/erddapContent.zip)   (19810 байтів, MD5=1E26F62E7A06191EE686868C40B9A29362, від 2022-10-09) 
    *  [2.22 км](https://github.com/ERDDAP/erddap/releases/download/v2.22/erddapContent.zip)   (19810 байтів, MD5=1E26F62E7A06191EE686868C40B9A29362, від 2022-12-08) 
    *  [2.23 р.](https://github.com/ERDDAP/erddap/releases/download/v2.23/erddapContent.zip)   (1E26F62E7A06191EE6868C40B9A29362, від 2023-02-27) 

#### Інші каталоги{#other-directory} 

Для Red Hat Enterprise Linux (РХЕЛ) або для інших ситуацій, де ви не можете змінити каталог Tomcat або де ви хочете/need
щоб покласти ERDDAP™ каталог контенту в іншому місці для деяких інших причин (наприклад, якщо ви використовуєте Jetty замість Tomcat) й
Проксимус `ерддапКонтент .zip ` в бажаний каталог (до якого тільки `домка` Користувач має доступ) і встановити ` erddapContentDirectory ` системне майно
 (Наприклад: ` erddapContentDirectory  =~tomcat/content/erddap ` ) до ERDDAP™ може знайти цей новий каталог контенту.

### Налаштування.xml{#setupxml} 

*  [Читати коментарі `JavaScript licenses API Веб-сайт Go1.13.8` ](#setupxml) і змусити запитані зміни. Налаштування.xml є файлом з усіма налаштуваннями, які вказують на те, як ваш ERDDAP™ бджіл.

Для початкової настройки ви MUST принаймні змініть ці налаштування:
      *  ` <bigParentDirectory> ` 
      *  ` <emailEverythingTo> ` 
      *  ` <baseUrl> ` 
      *  ` <email...> ` Налаштування
      *  ` <admin...> ` Налаштування
      *  ` <baseHttpsUrl> `   (коли ви встановили https ) 

Коли ви створюєте bigParentDirectory, з батьківського каталогу bigParentDirectory:

    * Зроби `домка` користувач власнику власника `bigParentПублічний` :
      ```
      chown -R tomcat bigParentDirectory
      ```
    * Зміна "групи" для того, щоб бути томка, ім'я користувача або ім'я невеликої групи, яка включає в себе томка і всі адміністратори Tomcat/ ERDDAP :
      ```
      chgrp -R yourUserName bigParentDirectory
      ```
    * Змінити дозволи так, щоб tomcat і група читати, писати, виконувати привілеї:
      ```
      chmod -R ug+rwx bigParentDirectory
      ```
    * Видаліть "інші" дозволи користувачів читати, писати або виконувати. Це важливо для запобігання читання, можливо, чутлива інформація
в ERDDAP™ Файли та файли з інформацією про приватні дані.
      ```
      chmod -R o-rwx bigParentDirectory
      ```

### Варіанти навколишнього середовища{#environment-variables} 

Почати з ERDDAP™ в2.13, ERDDAP™ Адміністратори можуть перевизнати будь-яке значення в налаштуваннях.xml, вказавши змінну середовища
Ім'я ` ERDDAP _значенняName` до запуску ERDDAP™ й Наприклад, використання ` ERDDAP _ БазаУрл` наділяє ` <baseUrl> ` значення.
Це може бути зручно при розгортанні ERDDAP™ з контейнером, як Docker, як ви можете покласти стандартні налаштування в налаштування.xml
а потім подавати спеціальні налаштування за допомогою змінних середовища. Якщо ви подаєте секретну інформацію ERDDAP™ через цей метод,
Обов'язково перевірте, що інформація залишиться секретом. ERDDAP™ тільки прочитає змінні середовища один раз на запуск,
в першому другому старті, тому один спосіб використовувати це: встановити змінні середовища, почати ERDDAP й
до ERDDAP™ Починається, після чого відмінюється середовище.

###  datasets.xml  {#datasetsxml} 

* Читати коментарі [ **Робота з datasets.xml Головна** ](/docs/server-admin/datasets) й Після того, як ви отримаєте ERDDAP™ Пробіг
вперше (як правило, з просто даними за замовчуванням) Ви зміните XML в `JavaScript licenses API Веб-сайт datasets.xml ` 
щоб вказати всі дані, які ви хочете, щоб ваш ERDDAP™ подавати. Це те, де ви будете витрачати об'єм вашого часу
при налаштуванні ERDDAP™ і пізніше, зберігаючи ваш ERDDAP™ й

Ви можете побачити приклад [ datasets.xml на GitHub](https://github.com/ERDDAP/erddap/blob/main/development/jetty/config/datasets.xml) й
     
*  (На відміну) Відправити (трохи частіше) в майбутньому, якщо ви хочете змінити файл CSS erddap, копіювання
   `JavaScript licenses API Веб-сайт Go1.13.8` до `JavaScript licenses API Веб-сайт Go1.13.8` а потім вносити зміни до неї.
Зміни до `erddap2.css` тільки приймати ефект при ERDDAP™ Працював і часто зажадає користувачу очистити файли кешування браузера.
     
 ERDDAP™ не працює правильно, якщо налаштування.xml або datasets.xml Файл не є добре сформованим файлом XML. Отже, після редагування цих файлів,
це гарна ідея для перевірки того, що результат добре сформований XML шляхом перекачування XML тексту в XML-реєстратор, як [анотація](https://www.xmlvalidation.com/) й
     
### Встановіть ерддап. War файл{#install-the-erddapwar-file} 

4. На Linux, Mac та Windows, __download [ерддап.воєнний](https://github.com/ERDDAP/erddap/releases/download/v2.28.1/erddap.war) __ в `веб-камери` :

__Version 2.28.1, 622,676,238 байтів, MD5=48b4226045f950c8a8d69ef9521b9bc9, від 2025-09-05__

.war файл є великим, тому що він містить берегову лінію високої роздільної здатності, граничні та дані висоти, необхідні для створення карт.

Деякі попередні версії також доступні.

   *  [2.17](https://github.com/ERDDAP/erddap/releases/download/v2.17/erddap.war)   (551,068,245 байтів, MD5=5FEA912B5D42E50EAB9591F773EA848D, від 2022-02-16) 
   *  [2.18 р.](https://github.com/ERDDAP/erddap/releases/download/v2.18/erddap.war)   (551,069,844 байтів, MD5=461325E97E7577EC671DD50246CCFB8B, від 2022-02-23) 
   *  [2.21](https://github.com/ERDDAP/erddap/releases/download/v2.21/erddap.war)   (568,644,411 байтів, MD5=F2CFF805893146E932E498FDDBD519B6, від 2022-10-09) 
   *  [2.22 км](https://github.com/ERDDAP/erddap/releases/download/v2.22/erddap.war)   (567,742,765 байтів, MD5=2B33354F633294213AE2AFDDCF4DA6D0, від 2022-12-08) 
   *  [2.23 р.](https://github.com/ERDDAP/erddap/releases/download/v2.23/erddap.war)   (572,124,953 байти, MD5=D843A043C506725EBD6F8EFDCCA8FD5F, від 2023-03-03) 
   *  [2.24 р.](https://github.com/ERDDAP/erddap/releases/download/v2.24/erddap.war)   (568,748,187 байтів, MD5=970fbee172e28b0b8a07756eecbc898e, від 2024-06-07) 
   *  [2.25 р](https://github.com/ERDDAP/erddap/releases/download/v2.25.1/erddap.war)   (592,292,039 байтів, MD5=652AFC9D1421F00B5F789DA2C4732D4C, від 2024-11-07) 
   *  [2.26](https://github.com/ERDDAP/erddap/releases/download/v2.26.0/erddap.war)   (607,404,032 байтів, MD5=99a725108b37708e5420986c1616a119, від 2025-03-31) 
   *  [2.27.0](https://github.com/ERDDAP/erddap/releases/download/v2.27.0/erddap.war)   (620,554,403 байти, MD5=3b2086c659eee4145ca2dff447bf4ef7, від 2025-06-11) 

### Налаштування проксі (розгортання конкретної)  {#proxy} 

 ERDDAP™ зазвичай розгортається за допомогою вебсервера зворотного проксі, щоб дозволити його служити на стандартних портах HTTP (80 і 443) й
Строк дії SSL/TLS часто занурюється на вебсервері проксі-шару, а також. Специфікації залежать від вимог кожного розгортання.

#### Афіша{#apache} 

1. Задоволення `Мод_проксі` і `Мод_проксі_ http ` Завантажуються:

```
LoadModule proxy_module modules/mod_proxy.so
LoadModule proxy_http_module modules/mod_proxy_http.so
```

2. Змінення існуючої ` <VirtualHost> ` теги (якщо є один) , або додати один в кінці файлу:
```
<VirtualHost *:80>
   ServerName YourDomain.org
   ProxyRequests Off
   ProxyPreserveHost On
   ProxyPass /erddap http://localhost:8080/erddap
   ProxyPassReverse /erddap http://localhost:8080/erddap
</VirtualHost>
```

Якщо ERDDAP™ подається на шляху, крім `Українська` , також встановлюємо `X-Forwarded-Префікс` заголовок до
сегмент шляху _before_ `Українська` й Цей параметр буде доречним для ERDDAP™ подаються
 `Українська` :

```
RequestHeader set X-Forwarded-Prefix /subpath
```

3. Далі перезапустіть Apache: `/usr/sbin/apachectl -k витончений`   (але іноді це в іншому каталозі) й
         
#### NGINX{#nginx} 

У файлі nginx config встановіть ці заголовки:
```
proxy_set_header Host              $http_host;
proxy_set_header X-Real-IP         $remote_addr;
proxy_set_header REMOTE_ADDR       $remote_addr;
proxy_set_header HTTP_CLIENT_IP    $remote_addr;
proxy_set_header X-Forwarded-For   $proxy_add_x_forwarded_for;
proxy_set_header X-Forwarded-Proto $scheme;
```

Якщо ERDDAP™ подається на шляху, крім `Українська` , також встановлюємо `X-Forwarded-Префікс` заголовок до
сегмент шляху _before_ `Українська` й Цей параметр буде доречним для ERDDAP™ подаються
 `Українська` :

```
proxy_set_header X-Forwarded-Prefix /subpath
```


Для отримання NGINX і ERDDAP™ правильно працювати з https , вам потрібно покласти наступний фрагмент всередині сервера Tomcat.xml ` <Host> ` блок:
```
<Valve className="org.apache.catalina.valves.RemoteIpValve"
  remoteIpHeader="X-Forwarded-For"
  protocolHeader="X-Forwarded-Proto"
  protocolHeaderHttpsValue="https" />
```
     
### Початок Tomcat{#start-tomcat} 

*  (Я не рекомендую використовувати Tomcat Web Application Manager. Якщо ви не повністю вимкнено і запустили Tomcat, швидше або пізніше ви будете мати проблеми пам'яті PermGen.) 
*  (У Linux або Mac OS, якщо ви створили спеціальний користувач для запуску Tomcat, наприклад, tomcat, не забудьте зробити наступні кроки, як це користувач.) 
* Якщо Tomcat вже працює, закриваємо Tomcat з (в Linux або Mac OS)   `tomcat/bin/shutdown.sh` 
або (у Windows)   `Томка\\бін\\ shutdown.bat ` 

На Linux використовується `пс -ф | вся в соку` до і після `відключення. шемале` щоб переконатися, що процес томіка припинявся.
Процес повинен бути перерахований до завершення і в кінцевому підсумку не зазначений після завершення.
Це може зайняти хвилину або два для ERDDAP™ до повного відключення. Будьте хворими. Або якщо вона виглядає так, що вона не зупиниться на власній, використовуйте:
   `Вбити -9 <processID> ` 
* Почати Tomcat (в Linux або Mac OS)   `JavaScript licenses API Веб-сайт Go1.13.8` або (у Windows)   `JavaScript licenses API Веб-сайт Go1.13.8` 

## Чи є ERDDAP™ бігти?{#is-erddap-running} 

Використовуйте браузер для переглядуhttp://www.YourServer.org/erddap/status.html.
 ERDDAP™ без навантажених даних. Дані завантажуються в фоновому рядку і тому стають доступні в одному режимі.

### Виправлення несправностей{#troubleshooting} 

* Коли запит від користувача надходить, він йде до Apache (на комп'ютерах Linux і Mac OS) , потім Tomcat, потім ERDDAP™ й
* Ви можете побачити, що йде до Apache (і пов'язані помилки) у файлах журналу Apache.
*    [Ви](/docs/server-admin/additional-information#tomcat-logs) може бачити те, що приходить до Tomcat (і пов'язані помилки) 
у файлах журналу Tomcat ( `JavaScript licenses API Веб-сайт Go1.13.8` та інші файли в цьому каталозі) й
*    [Ви](/docs/server-admin/additional-information#log) може побачити, що приходить до ERDDAP , діагностичні повідомлення від ERDDAP й
і повідомлення про помилки ERDDAP , у ERDDAP™   ` <bigParentDirectory> Веб-сайт: www.facebook.com` файл.
* Tomcat не стартує ERDDAP™ до Tomcat отримує запит ERDDAP™ й Так ви можете побачити в файлах журналу Tomcat, якщо це
Почати ERDDAP™ або якщо є повідомлення про помилку, пов'язані з цією спробою.
* Коли ERDDAP™ початок, він перейменує старий ERDDAP™ Файл: Log.txt ( `Архів <CurrentTime> Українська` ) і створює новий файл log.txt.
Так, якщо `JavaScript licenses API Веб-сайт Go1.13.8` файл старий, це знак, що ERDDAP™ не нещодавно перезавантажений. ERDDAP™ напишіть інформацію про журнал на буфер
і тільки записує буфер до файлу журналу періодично, але ви можете ERDDAP™ писати буфер до файлу журналу, відвідавши
     ` /erddap/status.html ` й

### Публікація: Стара версія Java  {#trouble-old-version-of-java} 

Якщо ви використовуєте версію Java це занадто старий для ERDDAP й ERDDAP™ не запустіть і ви побачите повідомлення про помилку в файлі журналу Tomcat, як

```
Exception in thread "main" java.lang.UnsupportedClassVersionError:
_some/class/name_: Unsupported major.minor version _someNumber_
```

Рішення для оновлення до останньої версії Java і переконайтеся, що Tomcat використовує його.

### Публікація: Slow Startup Перший раз{#trouble-slow-startup-first-time} 

Tomcat має зробити багато роботи в перший раз додаток, як ERDDAP™ Починається; незважаючи на те, що він повинен розпакувати `ерддап.воєнний` Головна
 (що таке .zip Головна) й На деяких серверах перша спроба переглянути ERDDAP™ Стовпи (30 хв) до завершення роботи.
На інших серверах з'явиться перша спроба. Але якщо ви очікуєте 30 секунд і спробуйте знову, це буде успішним, якщо ERDDAP™ було встановлено правильно.

Для цього немає фіксації. Як працює Tomcat. Але це тільки після встановлення нової версії ERDDAP™ й

## Вимкніть і перезапустіть{#shut-down-and-restart} 

У майбутньому, щоб звільнитися (і відпочинок)   ERDDAP™ , див [Як відмітити вниз і перезапустити Tomcat і ERDDAP ](/docs/server-admin/additional-information#shut-down-and-restart) й

## Троубл?{#trouble} 

Парасолька установка Tomcat або ERDDAP™ ? Про нас [розділ про отримання додаткової підтримки](/docs/intro#support) й

## Повідомлення електронної пошти про нові версії ERDDAP  {#email-notification-of-new-versions-of-erddap} 

Якщо ви хочете отримувати повідомлення електронної пошти, якщо ви не бажаєте отримувати нову версію ERDDAP™ чи інші важливі ERDDAP™ оголошення,
Ви можете приєднатися до ERDDAP™ Оголошення [Головна](https://groups.google.com/g/erddap-announce) й Цей список в середньому приблизно один лист через кожні три місяці.

## Налаштування{#customize} 

*  [Налаштування ERDDAP™ виділити вашу організацію (нема NOAA   ERD ) й](#customize) 
* Зміна банера, що з'являється вгорі всіх ERDDAP™ .html сторінки з редагуванням ` <startBodyHtml5> ` тег у вашому ` datasets.xml ` файл.
(Якщо не є одним, скопіюйте за замовчуванням з ERDDAP™ Р `JavaScript licenses API Веб-сайт Go1.13.8` Головна
Увійти ` datasets.xml ` і редагувати його.) Наприклад, ви можете:
  * Використовуйте різні зображення (i.e., Ваш логотип організації) й
  * Зміна фонового кольору.
  * Зміна " ERDDAP™ "_YourOrganization_'s ERDDAP™ « » » » » » » » » » » » » » »
  * Зміна "Знайомий доступ до наукових даних" до "Знайомий доступ до даних _YourOrganization_".
  * Змінити посилання на посилання на вашу організацію та джерела фінансування.
* Зміна інформації про ліву сторону головної сторінки шляхом редагування ` <theShortDescriptionHtml> ` тег у вашому ` datasets.xml ` файл.
(Якщо не є одним, скопіюйте за замовчуванням з ERDDAP™ Р `JavaScript licenses API Веб-сайт Go1.13.8` Головна
Увійти ` datasets.xml ` і редагувати його.) Наприклад, ви можете:
  * Опишіть, що ваша організація та/або група.
  * Опишіть те, що дані це ERDDAP™ має.
  * Щоб змінити іконку, яка з'являється на вкладках браузера, поставте свою організацію favicon. ico в `JavaScript licenses API Веб-сайт Go1.13.8` й
Про насhttps://en.wikipedia.org/wiki/Favicon.
