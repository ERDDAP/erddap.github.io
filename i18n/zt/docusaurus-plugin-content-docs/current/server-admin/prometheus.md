---
sidebar_position: 9
---
# 普羅米修斯

[普羅米修斯度量衡](https://prometheus.io/)以/erddap/度量衡提供。 JVM核心度量衡在2.25中加入很多ERDDAP™2.26版本中添加的度量衡。 若您要使用測量, 請確認您至少是2. 26 版 。 它們默认啟用, 您可以新增以關閉它們
```xml
<usePrometheusMetrics>false</usePrometheusMetrics>
```
到您的設定值. xml 。

這些度量衡被設計為机器可讀性. 您可以手動檢查測量器頁面, 因為在深度監控中建議使用 Prometheus 伺服器 。 Prometheus 伺服器會儲存歷史測量, 以讓它更深入地監控 (像是率和從過去數值的變化) ,而且常常使用 Grafana 伺服器。 我們提供一些預設的儀表盤 管理者們可能會發現這些儀表板 有助于開始監控他們的伺服器

## 執行 Prometheus 伺服器

管理監控堆栈的最佳文件 (普羅米修斯 + Grafana) 在普羅米修斯[讀取我](https://github.com/ERDDAP/erddap/blob/main/docker/prometheus/README.md).

## ERDDAP™公尺

### JVM( 日文)

ERDDAP™匯出您可能發現有用的一些公尺 (起始于ERDDAP™2.25) . 我們用普羅米修斯客戶收集的量表來監控JVM的健康 包括垃圾收集、記憶體使用、線索等數據。 更多信息,请参阅[普羅米修斯Java客戶端 JVM 文件](https://prometheus.github.io/client_java/instrumentation/jvm/).

### ERDDAP™特定

我們也匯出一些ERDDAP™特定尺度 (起始于ERDDAP™2.26) . 如果你想挖掘密碼,可以找到收集的公制[Metrics.java (日文)](https://github.com/ERDDAP/erddap/blob/main/WEB-INF/classes/gov/noaa/pfel/erddap/util/Metrics.java).

#### ERDDAP建置(_F)

這是建築資訊ERDDAP™伺服器。 包含版本 (主要. 小于) 完整版本 (少校. minor.patch) 和部署_ info (用于指示伺服器的部署方式, 如 'Docker' ' ') .

#### 特性旗(_F)

這是一個顯示目前特征旗的資訊測量 。 大部分布林設定方案都視為特征旗號 。

#### 已缓冲 影像

這是一個資訊測量, 指示圖像是否可使用加速 。

#### http要求(_D)

這是要求回應的直方圖 。 標籤為要求型態 (例如,网格dap,tabledap,文件, wms) , 数据集_ id (如果适用,否则重复要求型態) ,檔案型態 (要求的輸出格式 例如 '.html', '.csv', '.iso19115' ' ') 字元 (要求的語言, 或缺省時的空字串) 狀態(_C) (http要求的狀態代碼, 例如 200, 302, 404) .

這可以用於追蹤用數據集 id 來決定伺服器的流行數據集 。 它也可以幫助辨識您的伺服器是否有特殊類型的慢要求 。

#### 觸摸(_thread_長度_秒

觸摸線的直方圖 。 他們的標籤很成功 (真/假) .

#### 工作(_thread_dult_秒

工作線程的直方圖 。 他們的標籤很成功 (真/假) 和工作(_T) (整數) .

#### 載入_datas集_期限_秒

加載數據集工作的直方圖 。 他們的標籤是主要 (真/假) .

#### 電子郵件(_thread_dult_秒

電子郵件線程的直方圖 。 他們的標籤很成功 (真/假) .

#### 電子郵件(_C)

每項工作的電子郵件直方圖 。

#### 數據集(_C)

數據集的測量器, 在每一個載入數據集呼叫後設定 。 此標籤為分類 (网格,表) .

#### 數據集(_F):

無法載入的數據集的測量器, 在每次載入數據集呼叫後設定 。

#### 全部

解答被解脫的请求 當伺服器相信伺服器內存不足時, 伺服器會放出要求 (内存) 要求會造成問題 這不包括因處理要求時 RAM 或磁碟空間少而提出的錯誤要求 。

#### 危險(_M)

伺服器試圖向管理員發送郵件,

#### 危險(_M) _ 失敗_ 完全

因機器內存耗盡而失敗的要求的對數 。 因為機器收到很多貴重的請求,

#### topo 要求(_A)

托波數據要求的對數 這是標籤快取 (已缓存/ 未儲存(_C)) .

#### 邊界衡子

亦有數位計數器,

 - 國家(_B)_ request_ total
 - 狀態(_B)_ request_ total
 - 河流 _ 边界_ 要求_ 總數
 - gshhs_ request_總和

這些標籤有狀態 (粗糙,成功,扔) .
