"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[8954],{21679(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>f,frontMatter:()=>l,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"server-admin/EDDTableFromEML","title":"EDDTableFromEML","description":"\\\\\\\\[ Denne webside vil kun v\xe6re af interesse for ERDDAP\u2122 Administratorer, der arbejder med EML-filer.","source":"@site/i18n/da/docusaurus-plugin-content-docs/current/server-admin/EDDTableFromEML.md","sourceDirName":"server-admin","slug":"/server-admin/EDDTableFromEML","permalink":"/da/docs/server-admin/EDDTableFromEML","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/EDDTableFromEML.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"EDDTableFromEML","sidebar_position":6},"sidebar":"docSidebar","previous":{"title":"Skalering","permalink":"/da/docs/server-admin/scaling"},"next":{"title":"Vis display Info og og og DisplayAttribute Tags","permalink":"/da/docs/server-admin/display-info"}}');var i=r(74848),a=r(28453);const l={title:"EDDTableFromEML",sidebar_position:6},s="Den EDDTableFraEML og EDDTableFraEMLBatch Valgmuligheder i GenererDatasets Xml",d={},o=[{value:"Sp\xf8rgsm\xe5l og svar",id:"questions",level:2},{value:"Designdetaljer",id:"design-details",level:2},{value:"En dataTable Bliver en ERDDAP\u2122 Datas\xe6t",id:"one-datatable-becomes-one-erddap-dataset",level:3},{value:"EML mod CF+ACDD",id:"eml-versus-cfacdd",level:3},{value:"Sm\xe5 \xe6ndringer",id:"small-changes",level:3},{value:"DocBook",id:"docbook",level:3},{value:"Datafiler",id:"data-files",level:3},{value:".zip &#39;d Datafiler",id:"zipd-data-files",level:3},{value:"Opbevaringstype",id:"storagetype",level:3},{value:"Enheder",id:"units",level:3},{value:"EML version 2.1.1",id:"eml-version-211",level:3},{value:"Problemer med EML-filer",id:"issues-with-the-eml-files",level:2},{value:"Separat dato og time kolonner",id:"separate-date-and-time-columns",level:3},{value:"Inconsistent kolonnenavne",id:"inconsistent-column-names",level:3},{value:"Forskellige kolonner Ordre",id:"different-column-order",level:3},{value:"Forkerte numHeaderLines",id:"incorrect-numheaderlines",level:3},{value:"NumHeaderLines = 0",id:"numheaderlines--0",level:3},{value:"DateTime Format strenge",id:"datetime-format-strings",level:3},{value:"Datotid men ingen tidszone",id:"datetime-but-no-time-zone",level:3},{value:"Missing missing\\_value",id:"missing-missing_value",level:3},{value:"Sm\xe5 problemer",id:"small-problems",level:3},{value:"Ugyldige Unicode tegn",id:"invalid-unicode-characters",level:3},{value:"Forskellige kolonneenheder] (#forskellige kolonneUnits)",id:"different-column-unitsdifferentcolumnunits",level:3},{value:"Forskellige versioner af EML",id:"different-versions-of-eml",level:3},{value:"Fejlfinding af datafilen",id:"trouble-parsing-the-data-file",level:3}];function m(e){const n={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"den-eddtablefraeml-og-eddtablefraemlbatch-valgmuligheder-i-genererdatasets-xml",children:"Den EDDTableFraEML og EDDTableFraEMLBatch Valgmuligheder i GenererDatasets Xml"})}),"\n",(0,i.jsx)(n.p,{children:"\\[ Denne webside vil kun v\xe6re af interesse for ERDDAP\u2122 Administratorer, der arbejder med EML-filer.\nDette dokument blev oprindeligt oprettet i 2016. Det blev senest redigeret den 30. april 2020. \\]"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/index.html",children:" ** ERDDAP\u2122 ** "})," er en dataserver, der giver brugerne en enkel, konsekvent m\xe5de at downloade subsets af gitterded og faneformede videnskabelige datas\xe6t i almindelige filformater og lave grafer og kort. ERDDAP\u2122 arbejder med en given datas\xe6t som enten en gruppe multidimensionelle gitterded variabler (f.eks. satellit- eller modeldata) eller som en databaselignende tabel (med en kolonne for hver type oplysninger og en r\xe6kke for hver observation) . ERDDAP\u2122 er gratis og Open Source Software, s\xe5 alle kan ",(0,i.jsx)(n.a,{href:"/docs/server-admin/deploy-install",children:"download og installation ERDDAP\u2122 "})," at tjene deres data."]}),"\n",(0,i.jsxs)(n.p,{children:["S\xe5dan tilf\xf8jer du et datas\xe6t til et ERDDAP\u2122 installation, installation ERDDAP\u2122 Administrator skal tilf\xf8je en smule XML, der beskriver datas\xe6ttet til en fil kaldet datasets.xml . (Der er der ",(0,i.jsx)(n.a,{href:"/docs/server-admin/datasets",children:"grundig dokumentation for datasets.xml "})," .) Selvom det er muligt at generere klumpen af XML for datasets.xml helt ved h\xe5nden, ERDDAP\u2122 leveres med et v\xe6rkt\xf8j kaldet ",(0,i.jsxs)(n.a,{href:"/docs/server-admin/datasets#tools",children:[" ",(0,i.jsx)(n.strong,{children:"GenererDatasetsXml"})," "]})," som kan generere det grove udkast til omfanget af XML n\xf8dvendig for en given datas\xe6t baseret p\xe5 nogle oplysninger om datas\xe6ttet."]}),"\n",(0,i.jsxs)(n.p,{children:["Den f\xf8rste ting GenererDatasets Xml sp\xf8rger, hvilken type datas\xe6t du \xf8nsker at oprette. GenererDatasets Xml har en s\xe6rlig mulighed, ",(0,i.jsx)(n.strong,{children:"EDDTableFraEML"})," , som bruger oplysningerne i en ",(0,i.jsx)(n.a,{href:"https://knb.ecoinformatics.org/external//emlparser/docs/index.html",children:"Ecological Metadata Sprog (EML) "})," XML-fil til at generere klumpen af XML for datasets.xml at oprette en ",(0,i.jsx)(n.a,{href:"/docs/server-admin/datasets#eddtablefromasciifiles",children:"EDDTableFraAsciiFiles"})," datas\xe6t fra hver datatabel i en EML-fil. Dette fungerer meget godt for de fleste EML-filer, for det meste fordi EML-filer g\xf8r et fremragende job for at gemme alle de n\xf8dvendige metadata til et datas\xe6t i et let-til-arbejde-med format. De oplysninger, der GenererDatasetsXml skal oprette datas\xe6t, er i EML-filen, herunder URL for datafilen, som GenererDatasetsXml downloads, parses og sammenligner til beskrivelsen i EML-filen. (Mange grupper vil g\xf8re godt for at skifte til EML, som er et godt system til at dokumentere eventuelle tabul\xe6re videnskabelige datas\xe6t, ikke kun \xf8kologiske data. Og mange grupper, der skaber XML schemas ville g\xf8re godt at bruge EML som en case unders\xf8gelse for XML schema, der er klar, til det punkt, ikke overdrevent dyb (dvs. for mange niveauer) , og let for mennesker og computere at arbejde med.)"]}),"\n",(0,i.jsx)(n.h2,{id:"questions",children:"Sp\xf8rgsm\xe5l og svar"}),"\n",(0,i.jsx)(n.p,{children:"Her er alle sp\xf8rgsm\xe5l GenererDatasets Xml vil sp\xf8rge, med kommentarer om, hvordan du skal svare, hvis du \xf8nsker at behandle kun en EML-fil eller en batch af EML-filer:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Hvilken EDDType?\nHvis du \xf8nsker at behandle en fil, skal du svare: EDDTableFraEML\nHvis du vil behandle en gruppe filer, skal du svare: EDDTableFraEMLBatch"}),"\n",(0,i.jsx)(n.li,{children:"Directory til at gemme filer?\nIndtast navnet p\xe5 den mappe, der vil blive brugt til at gemme downloadede EML og/eller datafiler.\nHvis mappen ikke findes, oprettes den."}),"\n",(0,i.jsx)(n.li,{children:"(Til EDDTableFraEML kun) EML URL eller lokal filnavn?\nIndtast URL-adressen eller det lokale filnavn p\xe5 en EML-fil."}),"\n",(0,i.jsxs)(n.li,{children:["(Til EDDTableFraEMLBatch kun) EML dir (URL eller lokal) ?\nIndtast navnet p\xe5 mappen med EML-filer (en URL eller en lokal dir) .\nFor eksempel:",(0,i.jsx)(n.a,{href:"http://sbc.lternet.edu/data/eml/files/",children:"http://sbc.lternet.edu/data/eml/files/"})]}),"\n",(0,i.jsx)(n.li,{children:"(Til EDDTableFraEMLBatch kun) Omd\xf8bt regex?\nIndtast det regul\xe6re udtryk, der vil blive brugt til at identificere de \xf8nskede EML-filer i EML-mappen.\nFor eksempel: knb-lter-sbc\xab."}),"\n",(0,i.jsx)(n.li,{children:"Brug lokale filer, hvis de er til stede (sande sande sande sande | falsk) ?\nIndtast sande for at bruge de eksisterende lokale EML-filer og datafiler, hvis de findes.\nIndtast falsk for altid at downloade EML-filer og / eller datafiler."}),"\n",(0,i.jsxs)(n.li,{children:['tilg\xe6ngelig Vil du?\nHvis du vil have de nye datas\xe6t til at v\xe6re private datas\xe6t i ERDDAP , angive navnet p\xe5 gruppen (s s s) det vil v\xe6re tilladt adgang.\nAnbefalet til LTER grupper: kombinere "lter" plus gruppen, f.eks. lter Sbc .\nHvis du indtaster "null", vil der ikke v\xe6re nogen<tilg\xe6ngelig Til> tag i output.\nSe endnu ',(0,i.jsx)(n.a,{href:"/docs/server-admin/datasets#accessibleto",children:"tilg\xe6ngelig S\xe5dan skal du til"})," ."]}),"\n",(0,i.jsxs)(n.li,{children:["lokal lokal lokal lokal lokal lokal lokale TimeZone (f.eks. US/Pacific) ?\nHvis en tidsvariabel angiver, at det har lokale tidsv\xe6rdier, vil denne tidszone blive tildelt.\nDette skal v\xe6re en v\xe6rdi fra ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones",children:"TZ kolonne liste over tidszonenavne"}),' .\nBem\xe6rk alle de brugervenlige "US/..." navne i slutningen af listen.\nHvis du senere finder det, der skal v\xe6re forkert, kan du \xe6ndre \xe6ndringen. time\\_zone i bunden af datasets.xml .']}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["EML plus ERDDAP\u2122 er en stor kombination, da ERDDAP\u2122 kan give brugerne mere direkte adgang til rigdom af ",(0,i.jsx)(n.a,{href:"https://knb.ecoinformatics.org/",children:"Vidensnet for Biocomplexity (KNB) "})," og og og ",(0,i.jsx)(n.a,{href:"https://lternet.edu/",children:"Langtids \xd8kologisk forskning (LTER) "})," data og hj\xe6lpe dem med at m\xf8de den amerikanske regerings ",(0,i.jsx)(n.a,{href:"https://nosc.noaa.gov/EDMC/PD.DSP.php",children:"Offentlig adgang til forskningsresultater (PARR) krav"})," ved at g\xf8re de tilg\xe6ngelige data via en webtjeneste. Ogs\xe5, EML plus ERDDAP\u2122 synes som en stor bro mellem forskere i det akademiske / NSF-funderede rige og forskere i det f\xf8derale agentur ( NOAA , NASA, USGS) rige."]}),"\n",(0,i.jsxs)(n.p,{children:["Se vores udvalg ",(0,i.jsx)(n.a,{href:"/docs/intro#support",children:"sektion om at f\xe5 ekstra st\xf8tte"})," .\n\xa0"]}),"\n",(0,i.jsx)(n.h2,{id:"design-details",children:"Designdetaljer"}),"\n",(0,i.jsx)(n.p,{children:"Her er designdetaljerne for EDDTableFraEML mulighed i GenererDatasetsXml.\nNogle er relateret til forskelle i, hvordan EML og ERDDAP\u2122 g\xf8re ting og hvordan GenererDatasets Xml behandler disse problemer."}),"\n",(0,i.jsx)(n.h3,{id:"one-datatable-becomes-one-erddap-dataset",children:"En dataTable Bliver en ERDDAP\u2122 Datas\xe6t"}),"\n",(0,i.jsxs)(n.p,{children:["En EML fil kan have flere<Datadata Tabel>s. ERDDAP\u2122 g\xf8r \xe9n ERDDAP\u2122 Datas\xe6t pr EML dataTable. The The The The The The The datasetID for datas\xe6ttet er\n",(0,i.jsx)(n.em,{children:"EMLName"})," \\_t ",(0,i.jsx)(n.em,{children:"tabelnummer"}),"   (n\xe5r EMLname er tekst) eller eller eller\n",(0,i.jsx)(n.em,{children:"System\\_EMLName"})," \\_t ",(0,i.jsx)(n.em,{children:"tabelnummer"}),"   (n\xe5r EMLname er et nummer) .\nFor eksempel, tabel #1 i filen knb-lter-sbc.28, bliver ERDDAP\u2122   datasetID =knb\\_lter\\_sbc\\_28\\_t1,\n\xa0"]}),"\n",(0,i.jsx)(n.h3,{id:"eml-versus-cfacdd",children:"EML mod CF+ACDD"}),"\n",(0,i.jsxs)(n.p,{children:["N\xe6sten alle metadata i EML-filer bliver i ERDDAP , men i et andet format. ERDDAP\u2122 Brug af cookies ",(0,i.jsx)(n.a,{href:"https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html",children:"CF"})," og og og ",(0,i.jsx)(n.a,{href:"https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3",children:"ACDD"})," metadatastandarder. De er komplement\xe6re metadatasystemer, der bruger n\xf8gle=v\xe6rdipar til globale metadata og for hver variabels metadata.\nJa, EML-pr\xe6sentationen af metadata er p\xe6nere end CF+ACDD-pr\xe6sentationen. Jeg foresl\xe5r ikke at bruge CF+ACDD-pr\xe6sentationen som erstatning for EML. T\xe6nk p\xe5 CF+ACDD som en del af broen fra EML verden til EML verden OPeNDAP /CF/ACDD verden.\n\xa0"]}),"\n",(0,i.jsx)(n.h3,{id:"small-changes",children:"Sm\xe5 \xe6ndringer"}),"\n",(0,i.jsx)(n.p,{children:"ERDDAP\u2122 g\xf8r en masse sm\xe5 \xe6ndringer. For eksempel, ERDDAP\u2122 Brug af EML ikke- DOI alternativ alternativ Identifier plus et dataTabelt nummer som ERDDAP\u2122   datasetID , men lidt \xe6ndringer alternativ Identifier til at g\xf8re det et gyldigt variabelt navn p\xe5 de fleste computersprog, f.eks. knb-lter-sbc.33 data Tabel #1 bliver knb\\_lter\\_sbc\\_33\\_t1.\n\xa0"}),"\n",(0,i.jsx)(n.h3,{id:"docbook",children:"DocBook"}),"\n",(0,i.jsx)(n.p,{children:"EML bruger DocBooks m\xe6rkningssystem til at give struktur til blokke af tekst i EML-filer. CF og ACDD kr\xe6ver, at metadata er almindelig tekst. S\xe5 GenererDatasets Xml konverterer den markerede tekst til almindelig tekst, der ligner den formaterede version af teksten. Inline tags er helliget med firkantede beslag, f.eks. \\[ understregede \\] , og venstre i tekst.\n\xa0"}),"\n",(0,i.jsx)(n.h3,{id:"data-files",children:"Datafiler"}),"\n",(0,i.jsx)(n.p,{children:"Da EML-dataTable indeholder URL'en for den faktiske datafil, indeholder GenererDatasetsets Xml vil:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Hent datafilen."}),"\n",(0,i.jsx)(n.li,{children:"Gem det i samme mappe som EML-filen."}),"\n",(0,i.jsx)(n.li,{children:"L\xe6s oplysningerne."}),"\n",(0,i.jsx)(n.li,{children:"Sammenlign beskrivelsen af dataene i EML med de faktiske data i filen."}),"\n",(0,i.jsx)(n.li,{children:"Hvis GenererDatasets Xml finder forskelle, det besk\xe6ftiger sig med dem, eller sp\xf8rger operat\xf8ren, om forskellene er okay, eller returnerer en fejlmeddelelse. Detaljerne er i forskellige emner nedenfor.\n\xa0"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"zipd-data-files",children:".zip 'd Datafiler"}),"\n",(0,i.jsxs)(n.p,{children:["Hvis den registrerede datafil er en .zip fil, det skal indeholde kun \xe9n fil. Denne fil vil blive brugt til ERDDAP\u2122 Datas\xe6t. Hvis der er mere end 1 fil. ERDDAP\u2122 vil afvise, at datas\xe6t. Hvis det er n\xf8dvendigt, kan dette \xe6ndres. (I praksis har alle SBC LTER zip-filer kun en datafil.)",(0,i.jsx)(n.br,{}),"\n","\xa0"]}),"\n",(0,i.jsx)(n.h3,{id:"storagetype",children:"Opbevaringstype"}),"\n",(0,i.jsx)(n.p,{children:"Hvis en kolonnes opbevaring Type er ikke angivet, ERDDAP\u2122 Brug dens bedste g\xe6tte baseret p\xe5 dataene i datafilen. Dette virker ret godt.\n\xa0"}),"\n",(0,i.jsx)(n.h3,{id:"units",children:"Enheder"}),"\n",(0,i.jsxs)(n.p,{children:["ERDDAP\u2122 Brug af anvendelser ",(0,i.jsx)(n.a,{href:"https://www.unidata.ucar.edu/software/udunits/",children:" UDUNITS formatering for enheder"}),' . GenererDatasets Xml er i stand til at konvertere EML enheder til UDUNITS rent omkring 95% af tiden. De resterende 5% resulterer i en l\xe6sbar beskrivelse af enhederne, f.eks. "biomassDensityUnitPerAbundanceUnit" i EML bliver "biomasst\xe6thed enhed pr overflod enhed" i ERDDAP . Teknisk set er dette ikke tilladt. Jeg tror ikke det er s\xe5 slemt under omst\xe6ndighederne. \\[ Hvis det er n\xf8dvendigt, kan enheder, der ikke kan g\xf8res UDUNITS kompatible kunne flyttes til den variables kommentar attribut. \\]',(0,i.jsx)(n.br,{}),"\n","\xa0"]}),"\n",(0,i.jsx)(n.h3,{id:"eml-version-211",children:"EML version 2.1.1"}),"\n",(0,i.jsx)(n.p,{children:"Denne underst\xf8ttelse af EML v2.1.1 filer blev tilf\xf8jet til GenererDatasets Xml i 2016 med h\xe5b om, at der ville v\xe6re nogle optagelse i EML f\xe6llesskabet. I 2020 er det ikke sket. The The The The The The The ERDDAP\u2122 udviklere ville v\xe6re glade for at tilf\xf8je st\xf8tte til flere nyeste versioner af EML, men kun hvis de nye funktioner faktisk vil blive brugt. Send en mail erd.data at noaa.gov hvis du vil st\xf8tte til flere seneste versioner af EML og vil faktisk bruge denne funktion.\n\xa0"}),"\n",(0,i.jsx)(n.h2,{id:"issues-with-the-eml-files",children:"Problemer med EML-filer"}),"\n",(0,i.jsx)(n.p,{children:"Der er nogle problemer / problemer med EML-filer, der for\xe5rsager problemer, n\xe5r en software klient (s\xe5som EDDTableFraEML mulighed i GenererDatasetsXML) fors\xf8ger at fortolke / behandle EML-filer."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Selvom der er flere sp\xf8rgsm\xe5l opf\xf8rt her, er de mest sm\xe5, s\xe5lvbare problemer. Generelt er EML et stort system, og det har v\xe6ret min forn\xf8jelse at arbejde med det."}),"\n",(0,i.jsx)(n.li,{children:"Disse er omtrent sorteret fra v\xe6rste / mest almindelige til mindst d\xe5rlige / mindre almindelige."}),"\n",(0,i.jsx)(n.li,{children:"De fleste er relateret til sm\xe5 problemer i specifikke EML-filer (som ikke er EML's fejl) ."}),"\n",(0,i.jsx)(n.li,{children:"De fleste kan fasts\xe6ttes ved enkle \xe6ndringer i EML-filen eller datafilen."}),"\n",(0,i.jsx)(n.li,{children:"I betragtning af at LTER mennesker bygger en EML-tjeker for at teste gyldigheden af EML-filer, har jeg tilf\xf8jet nogle forslag nedenfor om funktioner, der kan tilf\xf8jes til checkeren."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Her er problemerne:"}),"\n",(0,i.jsx)(n.h3,{id:"separate-date-and-time-columns",children:"Separat dato og time kolonner"}),"\n",(0,i.jsx)(n.p,{children:"Nogle datafiler har separate kolonner for dato og for tid, men ingen samlet dato + time kolonne. I \xf8jeblikket, GenererDatasets Xml skaber et datas\xe6t med disse separate kolonner, men det er ikke ideelt, fordi:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'Det er bedst, hvis datas\xe6t i ERDDAP\u2122 har en samlet dato+time kolonne kaldet "time" .'}),"\n",(0,i.jsx)(n.li,{children:'Ofte vil datas\xe6ttet ikke indl\xe6se i ERDDAP\u2122 fordi "time" kolonne har ikke dato+time data.'}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Der er to mulige l\xf8sninger:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Rediger kildedatafilen for at tilf\xf8je en ny kolonne i datafilen (og beskrive det i EML) hvor dato og tidskolonner flettes i en kolonne. S\xe5 rerun GenererDatasets Xml, s\xe5 det finder den nye kolonne."}),"\n",(0,i.jsxs)(n.li,{children:["Brug af ",(0,i.jsx)(n.a,{href:"/docs/server-admin/datasets#script-sourcenamesderived-variables",children:"Afledte Varer"})," Funktioner i tr\xe6k ERDDAP\u2122 at definere en ny variabel i datasets.xml som skabes ved at samle datoen og tidskolonnerne. En af eksemplerne omhandler is\xe6r denne situation.\n\xa0"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"inconsistent-column-names",children:"Inconsistent kolonnenavne"}),"\n",(0,i.jsx)(n.p,{children:"EML-filer lister datafilens kolonner og deres navne. Desv\xe6rre er de ofte forskellige fra kolonnenavnene i den faktiske datafil. Normalt er kolonneordren i EML-filen den samme som kolonneordren i datafilen, selvom navnene varierer lidt, men ikke altid. GenererDatasets Xml fors\xf8ger at matche kolonnenavnene. N\xe5r det ikke kan (som er f\xe6lles) , det vil stoppe, vise dig EML / data filnavn par, og sp\xf8rge om de er korrekt afstemt. Hvis du indtaster 's' for at springe et bord, vil GenererdDatasetsXml udskrive en fejlmeddelelse og g\xe5 p\xe5 den n\xe6ste tabel.\nL\xf8sningen er at \xe6ndre de fejlagtige kolonnenavne i EML-filen for at matche kolonnenavnene i datafilen.\n\xa0"}),"\n",(0,i.jsx)(n.h3,{id:"different-column-order",children:"Forskellige kolonner Ordre"}),"\n",(0,i.jsx)(n.p,{children:"Der er flere tilf\xe6lde, hvor EML specificerede kolonnerne i en anden r\xe6kkef\xf8lge, end de findes i datafilen. GenererDatasets Xml vil stoppe og sp\xf8rge operat\xf8ren, hvis matchups er okay, eller hvis datas\xe6ttet skal springes. Hvis det springes, vil der v\xe6re en fejlmeddelelse i resultatfilen, f.eks.:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"      &lt;-- SKIPPED (USUALLY BECAUSE THE COLUMN NAMES IN THE DATAFILE ARE IN\n      A DIFFERENT ORDER OR HAVE DIFFERENT UNITS THAN IN THE EML file):\n      datasetID=knb\\\\_lter\\\\_sbc\\\\_17\\\\_t1\n      dataFile=all\\\\_fish\\\\_all\\\\_years\\\\_20140903.csv\n      The data file and EML file have different column names.\n      ERDDAP\u2122 would like to equate these pairs of names:\n        SURVEY\\\\_TIMING        = notes\n        NOTES                = survey\\\\_timing\n      --&gt;\n"})}),"\n",(0,i.jsx)(n.p,{children:"L\xf8sningen er at fasts\xe6tte kolonneordren i disse EML-filer, s\xe5 de matcher ordren i datafiler."}),"\n",(0,i.jsx)(n.p,{children:"Det ville v\xe6re rart, hvis EML-kontrollen kontrollerede, at kolonner og kolonneordre i kildefilen matcher kolonner og kolonneordre i EML-filen."}),"\n",(0,i.jsx)(n.h3,{id:"incorrect-numheaderlines",children:"Forkerte numHeaderLines"}),"\n",(0,i.jsx)(n.p,{children:"Flere data Tabeller forkert tilstand numHeaderLines =, f.eks. ...sbc.4011. Dette \xe5rsager ERDDAP\u2122 at l\xe6se den f\xf8rste linje af data som kolonnenavne. Jeg fors\xf8gte at manuelt SKIP alle disse dataTables. De er indlysende, fordi de uovertruffen kildenavne er alle datav\xe6rdier. Og hvis der er filer, der forkert har numHeaderLines=0, g\xf8r mit system ikke det indlysende. Her er et eksempel fra SBC LTER-fejlfilen:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"      &lt;-- SKIPPED (USUALLY BECAUSE THE COLUMN NAMES IN THE DATAFILE ARE IN\n      A DIFFERENT ORDER OR HAVE DIFFERENT UNITS THAN IN THE EML file):\n       datasetID=knb\\\\_lter\\\\_sbc\\\\_3017\\\\_t1\n      dataFile=MC06\\\\_allyears\\\\_2012-03-03.txt\n      The data file and EML file have different column names.\n      ERDDAP\u2122 would like to equate these pairs of names:\n        2008-10-01T00:00     = timestamp\\\\_local\n        2008-10-01T07:00     = timestamp\\\\_UTC\n        2.27                 = discharge\\\\_lps\n        -999.0               = water\\\\_temperature\\\\_celsius\n      --&gt;\n"})}),"\n",(0,i.jsx)(n.p,{children:"S\xe5 fejlen kan vises som om GenererDatasets Xml mener, at den f\xf8rste linje med data i filen (f.eks. med 2008-10-01T00:00 osv.) er linjen med kolonnenavne (som om 2008-10-01T00:00 var et kolonnenavn) ."}),"\n",(0,i.jsx)(n.p,{children:"Det ville v\xe6re rart, hvis EML checker kontrollerede numHeaderLines v\xe6rdi."}),"\n",(0,i.jsx)(n.h3,{id:"numheaderlines--0",children:"NumHeaderLines = 0"}),"\n",(0,i.jsx)(n.p,{children:"Nogle kildefiler har ikke kolonnenavne. ERDDAP\u2122 accepterer, at hvis EML beskriver det samme antal kolonner."}),"\n",(0,i.jsx)(n.p,{children:"Efter min mening: dette synes meget farligt. Der kan v\xe6re kolonner i en anden r\xe6kkef\xf8lge eller med forskellige enheder (se nedenfor) og der er ingen m\xe5de at fange disse problemer. Det er meget bedre, hvis alle ASCII-datafiler har en r\xe6kke med kolonnenavne."}),"\n",(0,i.jsx)(n.h3,{id:"datetime-format-strings",children:"DateTime Format strenge"}),"\n",(0,i.jsxs)(n.p,{children:["EML har en standard m\xe5de at beskrive dato tidsformater. Men der er betydelig variation i dens brug i EML-filer. (Jeg var tidligere forkert om dette. Jeg ser EML-dokumentationen til formatString, som vises for at matche ",(0,i.jsx)(n.a,{href:"https://docs.oracle.com/javase/8/docs/api/index.html?java/time/format/DateTimeFomatter.html",children:" Java DateTimeFormatter specifikation"})," , men som mangler de vigtige retningslinjer for dens brug, med det resultat, at formatString ofte bruges forkert.) Der er flere forekomster med forkert sag, og/eller forkert kopiering af et brev, og/eller ikke-standard formatering. Det s\xe6tter en urimelig byrde p\xe5 klienter, is\xe6r softwareklienter som GenererDatasetsXml. GenererDatasets Xml fors\xf8ger at konvertere de forkert definerede formater i EML-filer til\n",(0,i.jsx)(n.a,{href:"/docs/server-admin/datasets#string-time-units",children:"dato/time format, der ERDDAP\u2122 kr\xe6ver behov"})," , som n\xe6sten er identisk med for Java /Joda tidsformat specifikation, men er lidt mere tilgivende."]}),"\n",(0,i.jsx)(n.p,{children:"Det ville v\xe6re rart, hvis EML checker kr\xe6vede streng overholdelse til den Java /Joda / ERDDAP timeenheder specifikation og verificeret, at datotidsv\xe6rdierne i datatabellen kunne parres korrekt med det angivne format."}),"\n",(0,i.jsx)(n.h3,{id:"datetime-but-no-time-zone",children:"Datotid men ingen tidszone"}),"\n",(0,i.jsx)(n.p,{children:'GenererDatasets Xml ser ud til en kolonne med dato Tid og en bestemt tidszone (enten Zulu : fra tid enheder, der slutter i \'Z\' eller et kolonnenavn eller attributdefinition, der indeholder "gmt" eller "utc", eller lokal: fra "lokal" i kolonnenavnet eller attributdefinitionen) . Ogs\xe5 acceptabelt er en fil med en datokolonne, men ingen tidskolonne. Ogs\xe5 acceptabelt er en fil uden dato eller tid information.'}),"\n",(0,i.jsx)(n.p,{children:'GenererDatasets Xml behandler alle "lokal" gange som v\xe6rende fra tidszonen, som du kan angive for et givet batch af filer, f.eks. SBC LTER, bruge US/Pacific. Oplysningerne er nogle gange i kommentarerne, men ikke i en form, der er let for et computerprogram at finde ud af.'}),"\n",(0,i.jsx)(n.p,{children:'Filer, der ikke opfylder disse kriterier, afvises med meddelelsen "NO GOOD DATE (Tidstid) VARIABLE. Almindelige problemer er:'}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Der er en kolonne med datoer og en kolonne med gange, men ikke dato Tidskolonne."}),"\n",(0,i.jsx)(n.li,{children:"Der er tidsenheder, men tidszonen er ikke angivet."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:['Andre kommentarer:\nHvis der er en god dato+time med tidszone kolonne, vil kolonnen blive opkaldt "time" i in in in in ERDDAP . ERDDAP\u2122 kr\xe6ver, at kolonnedata kan forst\xe5s/konvertible for at Zulu /UTC/GMT tidszone datoTimes. \\[ Min tro er: brug af lokale tider og forskellige dato/time formater (2-cifrede \xe5r! mm/dd/yyy vs dd/mm/yyyy vs...) i datafiler styrker slutbrugeren til at g\xf8re komplicerede konverteringer til Zulu tid for at sammenligne data fra et datas\xe6t med data fra en anden. S\xe5 ERDDAP\u2122 standardiserer alle tidsdata: Til strenge tider, ERDDAP\u2122 Brug altid ISO 8601:2004 (E) standardformat, for eksempel 1985-02T00:00:00Z. Til numeriske tider, ERDDAP\u2122 Brug altid "seconds since 1970-01-01T00:00:00Z" . ERDDAP\u2122 Brug altid brugeren Zulu   (UTC, GMT) tidszone for at fjerne vanskelighederne ved at arbejde med forskellige tidszoner og standardtid i forhold til dagslysbesparende tid. S\xe5 GenererDatasets Xml s\xf8ger en EML-dataTabel kolonne med dato+time Zulu . Dette er sv\xe6rt, fordi EML ikke bruger et formelt ordforr\xe5d/system (kan lide ',(0,i.jsx)(n.a,{href:"https://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormat.html",children:" Java /Joda tidsformat"}),' ) for at angive data Tidsformat:\nHvis der er en col med numeriske tidsv\xe6rdier (fx, Matlab gange tider) og og og Zulu tidszone (eller bare datoer, uden tidskolonner) , det bruges som "time" .\nHvis der er en col med dato- og klokkesl\xe6tsdata, skal du bruge Zulu tidszone, det bruges som "time" og enhver anden dato eller tidskolonne fjernes.\nEllers hvis en col med bare dato oplysninger findes, bruges det som den "time" variabel variabel variabel variabel (uden tidszone) .\nHvis der er en datakolonne og en tidskolonne og ingen kombinerede dato Tidskolonne, datas\xe6ttet er REJECTED \u2014 men datas\xe6ttet kan g\xf8res brugbar ved at tilf\xf8je en kombineret dato Tidskolonne (helst, helst Zulu tidszone) til datafilen og tilf\xf8je sin beskrivelse i EML-filen.\nEXAMPLE fra SBC LTER: ',(0,i.jsx)(n.a,{href:"https://sbclter.msi.ucsb.edu/external/InformationManagement/eml_2018_erddap/",children:"https://sbclter.msi.ucsb.edu/external/InformationManagement/eml\\_2018\\_erddap/"})," DataTable #2."]}),"\n",(0,i.jsxs)(n.p,{children:["Det ville v\xe6re rart, hvis EML/LTER kr\xe6vede optagelse af en kolonne med Zulu   (UTC, GMT) tidszone gange i alle relevante kildedatafiler. N\xe6ste bedste er at tilf\xf8je et system til EML for at angive et time\\_zone attribut ved hj\xe6lp af standardnavne (fra fra ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones",children:"TZ kolonne"})," ) ."]}),"\n",(0,i.jsx)(n.h3,{id:"missing-missing_value",children:"Missing missing\\_value"}),"\n",(0,i.jsx)(n.p,{children:"Nogle kolonner bruger en missing\\_value men ikke liste det i EML-metadata, f.eks. nedb\xf8r\\_mm i knb-lter-sbc.5011 anvendelser -999. Hvis ingen manglende v\xe6rdi er angivet i EML, s\xf8ger GenererDatasetsXml automatisk almindelige manglende v\xe6rdier (f.eks. 99, -99, 999, -999, 9999, -9999, etc) og skaber disse metadata. Men andre mangler missing\\_value s er ikke fanget."}),"\n",(0,i.jsx)(n.p,{children:"Det ville v\xe6re rart, hvis EML checker kiggede efter manglende missing\\_value s."}),"\n",(0,i.jsx)(n.h3,{id:"small-problems",children:"Sm\xe5 problemer"}),"\n",(0,i.jsx)(n.p,{children:"Der er en masse sm\xe5 problemer (stavem\xe5de, tegns\xe6tning) som sandsynligvis kun vil blive fundet af et menneske, der inspicerer hvert datas\xe6t."}),"\n",(0,i.jsx)(n.p,{children:"Det ville v\xe6re rart, hvis EML checker kiggede p\xe5 stavem\xe5de og grammatiske fejl. Dette er et vanskeligt problem, fordi ord i videnskaben ofte flages af stavekontrollen. Menneskeredigering er sandsynligvis n\xf8dvendig."}),"\n",(0,i.jsx)(n.h3,{id:"invalid-unicode-characters",children:"Ugyldige Unicode tegn"}),"\n",(0,i.jsx)(n.p,{children:"Nogle af EML-indholdet indeholder ugyldige Unicode-tegn. Disse er sandsynligvis tegn fra Windows charset, der var forkert kopieret og gik ind i UTF-8 EML-filer. GenererDatasets Xml helliger disse tegn for eksempel, \\[ #128 \\] , s\xe5 de er nemme at s\xf8ge efter i s\xf8gningen ERDDAP\u2122   datasets.xml fil."}),"\n",(0,i.jsx)(n.p,{children:"Det ville v\xe6re rart, hvis EML checker tjekket for dette. Det er nemt at finde og nemt at l\xf8se."}),"\n",(0,i.jsx)(n.h3,{id:"different-column-unitsdifferentcolumnunits",children:"Forskellige kolonneenheder] (#forskellige kolonneUnits)"}),"\n",(0,i.jsx)(n.p,{children:'Nogle EML dataTables definerer kolonner, der er uforenelige med kolonnerne i datafilen, is\xe6r fordi de har forskellige enheder. GenererDatasets Xml flager disse. Det er op til f\xf8reren at beslutte, om forskellene er okay eller ej. Disse vises i fejlfilen som "SKIPPED" dataTables. EXAMPLE i SBC LTER fejlfil:'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"      < SKIPPED (USUALLY BECAUSE THE COLUMN NAMES IN THE DATAFILE ARE IN\n      A DIFFERENT ORDER OR HAVE DIFFERENT UNITS THAN IN THE EML file):\n       datasetID=knb\\\\_lter\\\\_sbc\\\\_3\\\\_t1\n      dataFile=SBCFC\\\\_Precip\\\\_Daily\\\\_active\\\\_logger.csv\n      The data file and EML file have different column names.\n      ERDDAP\u2122 would like to equate these pairs of names:\n        Daily\\\\_Precipitation\\\\_Total\\\\_mm = Daily\\\\_Precipitation\\\\_Total\\\\_inch\n        Flag\\\\_Daily\\\\_Precipitation\\\\_Total\\\\_mm = Flag\\\\_Daily\\\\_Precipitation\\\\_Total\\\\_inch\n      --\x3e\n"})}),"\n",(0,i.jsx)(n.p,{children:"Det ville v\xe6re rart, hvis EML checker kontrollerede, at enhederne matcher. Desv\xe6rre er dette sandsynligvis umuligt at fange og s\xe5 umuligt at l\xf8se uden at kontakte datas\xe6ttets skaber, fordi kildefilen ikke omfatter enheder. Diskrepancy for eksemplet ovenfor var kun m\xe6rkbart, fordi enhederne var inkluderet i kildekolonnenavnet og EML kolonne navn. Hvor mange andre dataTables har dette problem, men er ubestridelig?"}),"\n",(0,i.jsx)(n.h3,{id:"different-versions-of-eml",children:"Forskellige versioner af EML"}),"\n",(0,i.jsx)(n.p,{children:"GenererDatasets Xml er designet til at arbejde med EML 2.1.1. Andre versioner af EML vil arbejde i det omfang, de matcher 2.1.1, eller at GenererDatasetsXml har s\xe6rlig kode til at h\xe5ndtere det. Dette er et sj\xe6ldent problem. N\xe5r det opst\xe5r, er l\xf8sningen at konvertere dine filer til EML 2.1.1, eller sende EML-filen til erd.data at noaa.gov , s\xe5 jeg kan foretage \xe6ndringer i GenererDatasets Xml til at h\xe5ndtere forskellene."}),"\n",(0,i.jsx)(n.p,{children:"Bob tilf\xf8jede underst\xf8ttelse af EML-filer til GenererDatasets Xml i 2016 med h\xe5b om, at der ville v\xe6re nogle optagelse i EML f\xe6llesskabet. I 2020 er det ikke sket. Bob er glad for at tilf\xf8je st\xf8tte til flere nyeste versioner af EML, men kun hvis de nye funktioner faktisk vil blive brugt. Send en mail erd.data at noaa.gov hvis du vil st\xf8tte til flere seneste versioner af EML og vil faktisk bruge denne funktion."}),"\n",(0,i.jsx)(n.h3,{id:"trouble-parsing-the-data-file",children:"Fejlfinding af datafilen"}),"\n",(0,i.jsxs)(n.p,{children:['Sj\xe6ldent kan en dataTabel afvises med fejlen "uventet antal varer p\xe5 linje #120 (observeret=52, forventet=50) " " " " En fejlmeddelelse som dette betyder, at en linje i datafilen havde et andet antal v\xe6rdier end de andre linjer. Det kan v\xe6re et problem i ERDDAP\u2122   (f.eks. ikke parsing af filen korrekt) eller i filen. EXAMPLE fra SBC LTER:\n',(0,i.jsx)(n.a,{href:"https://sbclter.msi.ucsb.edu/external/InformationManagement/eml_2018_erddap/",children:"https://sbclter.msi.ucsb.edu/external/InformationManagement/eml\\_2018\\_erddap/"})," DataTable #3, se datafil=LTER\\_m\xe5nedly\\_bottledata\\_registreret\\_stations\\_20140429.txt"]})]})}function f(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(m,{...e})}):m(e)}},28453(e,n,r){r.d(n,{R:()=>l,x:()=>s});var t=r(96540);const i={},a=t.createContext(i);function l(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);