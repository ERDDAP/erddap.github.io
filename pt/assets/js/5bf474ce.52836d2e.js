"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[6137],{1480:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>t,contentTitle:()=>d,default:()=>m,frontMatter:()=>i,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"server-admin/deploy-update","title":"Atualiza\xe7\xe3o","description":"Como fazer uma atualiza\xe7\xe3o de um existenteERDDAP\u2122em seu servidor","source":"@site/i18n/pt/docusaurus-plugin-content-docs/current/server-admin/deploy-update.md","sourceDirName":"server-admin","slug":"/server-admin/deploy-update","permalink":"/pt/docs/server-admin/deploy-update","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/documentation/docs/server-admin/deploy-update.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docSidebar","previous":{"title":"Instalar","permalink":"/pt/docs/server-admin/deploy-install"},"next":{"title":"ERDDAP\u2122 - Working with the datasets.xml File","permalink":"/pt/docs/server-admin/datasets"}}');var n=s(74848),o=s(28453);const i={sidebar_position:2},d="Atualiza\xe7\xe3o",t={},l=[{value:"Mudan\xe7as",id:"changes",level:2},{value:"Java",id:"java",level:2},{value:"Baixar",id:"download",level:2},{value:"mensagens.xml",id:"messagesxml",level:2},{value:"Instalar",id:"install",level:2},{value:"Linux e Macs",id:"linux-and-macs",level:3},{value:"Windows",id:"windows",level:3}];function c(e){const a={a:"a",br:"br",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.header,{children:(0,n.jsx)(a.h1,{id:"atualiza\xe7\xe3o",children:"Atualiza\xe7\xe3o"})}),"\n",(0,n.jsx)(a.p,{children:"Como fazer uma atualiza\xe7\xe3o de um existenteERDDAP\u2122em seu servidor"}),"\n",(0,n.jsx)(a.h2,{id:"changes",children:"Mudan\xe7as"}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["Fa\xe7a as altera\xe7\xf5es listadas em",(0,n.jsx)(a.a,{href:"/changes",children:"Mudan\xe7as"}),'na se\xe7\xe3o intitulada "CoisasERDDAP\u2122Os administradores precisam saber e fazer" para todos osERDDAP\u2122vers\xf5es desde a vers\xe3o que voc\xea estava usando.\r\n\xa0']}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"java",children:"Java"}),"\n",(0,n.jsxs)(a.ol,{start:"2",children:["\n",(0,n.jsxs)(a.li,{children:["Se voc\xea est\xe1 atualizando deERDDAP\u2122vers\xe3o 2.18 ou abaixo, voc\xea precisa mudar paraJava21 (ou mais recente) e o Tomcat 10 relacionado. Veja o regularERDDAP\u2122instru\xe7\xf5es de instala\xe7\xe3o para",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#java",children:"Java"}),"e",(0,n.jsx)(a.a,{href:"/docs/server-admin/deploy-install#tomcat",children:"Tomcat"}),". Voc\xea tamb\xe9m ter\xe1 que copiar o seu_tomcat_/content/erddapdiret\xf3rio de sua antiga instala\xe7\xe3o Tomcat para sua nova instala\xe7\xe3o Tomcat."]}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"download",children:"Baixar"}),"\n",(0,n.jsxs)(a.ol,{start:"3",children:["\n",(0,n.jsxs)(a.li,{children:["Baixar",(0,n.jsx)(a.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.25.1/erddap.war",children:"erddap.war"}),"em ",(0,n.jsx)(a.em,{children:"tomcat"}),"/webapps .\r\n(vers\xe3o 2.25_1, 592,292,039 bytes, MD5=652AFC9D1421F00B5F789DA2C4732D4C, datado de 2024-11-07)\r\n\xa0"]}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"messagesxml",children:"mensagens.xml"}),"\n",(0,n.jsxs)(a.ol,{start:"4",children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Comum: Se voc\xea est\xe1 atualizando deERDDAP\u2122vers\xe3o 1.46 (ou superior) e voc\xea apenas usar as mensagens padr\xe3o, o novo padr\xe3o message.xml ser\xe1 instalado automaticamente (entre os arquivos .class via erddap. Guerra) .\r\n\xa0"}),"\n",(0,n.jsxs)(a.li,{children:["Rare: Se voc\xea est\xe1 atualizando deERDDAP\u2122vers\xe3o 1.44 (ou abaixo) ,\r\nvoc\xea DEVE excluir o arquivo old message.xml:\r\n",(0,n.jsx)(a.em,{children:"tomcat"}),"/content/erddap/messages.xml .\r\nAs novas mensagens padr\xe3o.xml ser\xe3o instaladas automaticamente (entre os arquivos .class via erddap. Guerra) .\r\n\xa0"]}),"\n",(0,n.jsx)(a.li,{children:"Rare: Se voc\xea sempre fizer altera\xe7\xf5es no arquivo standard message.xml (no lugar) ,\r\nvoc\xea precisa fazer essas altera\xe7\xf5es no novo arquivo message.xml (que \xe9\r\nWEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml ap\xf3s o erddap.war \xe9 decomprimido por Tomcat.\r\n\xa0"}),"\n",(0,n.jsx)(a.li,{children:"Rare: Se voc\xea manter um arquivo custom message.xml em_tomcat_/content/erddap/,\r\nvoc\xea precisa descobrir (via diff) que mudan\xe7as foram feitas para o padr\xe3o message.xml (que est\xe3o no novo erddap. guerra como\r\nWEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml) e modificar seu arquivo custom message.xml de acordo.\r\n\xa0"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"install",children:"Instalar"}),"\n",(0,n.jsxs)(a.ol,{start:"5",children:["\n",(0,n.jsx)(a.li,{children:"Instalar o novoERDDAP\u2122em Tomcat:"}),"\n"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["N\xe3o use o Tomcat Manager. Mais cedo ou mais tarde haver\xe1 problemas de mem\xf3ria PermGen. \xc9 melhor desligar e iniciar Tomcat.\r\n\\* Substituir refer\xeancias a ",(0,n.jsx)(a.em,{children:"tomcat"})," abaixo com o diret\xf3rio Tomcat real em seu computador.\r\n\xa0"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"linux-and-macs",children:"Linux e Macs"}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["Tomcat de desligamento: De uma linha de comando, use: ",(0,n.jsx)(a.em,{children:"tomcat"}),"/bin/shutdown.sh\r\nE use ps -ef|grep tomcat para ver se / quando o processo foi interrompido. (Pode demorar um minuto ou dois.)"]}),"\n",(0,n.jsxs)(a.li,{children:["Remover o descomprimidoERDDAP\u2122instala\xe7\xe3o: Em ",(0,n.jsx)(a.em,{children:"tomcat"}),"/webapps, use\r\nRm -rf erddap"]}),"\n",(0,n.jsxs)(a.li,{children:["Apague o velho erddap. arquivo de guerra: In ",(0,n.jsx)(a.em,{children:"tomcat"}),"/webapps, use rm erddap. Guerra"]}),"\n",(0,n.jsxs)(a.li,{children:["Entendido. arquivo de guerra do diret\xf3rio tempor\xe1rio para ",(0,n.jsx)(a.em,{children:"tomcat"}),"/webapps"]}),"\n",(0,n.jsxs)(a.li,{children:["Reinicie Tomcat eERDDAP: use ",(0,n.jsx)(a.em,{children:"tomcat"}),"/bin/startup.sh"]}),"\n",(0,n.jsxs)(a.li,{children:["Visualiza\xe7\xe3oERDDAP\u2122no seu navegador para verificar que o rein\xedcio conseguiu.\r\n(Muitas vezes, voc\xea tem que tentar algumas vezes e esperar um minuto antes de verERDDAP\u2122.)",(0,n.jsx)(a.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"windows",children:"Windows"}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["Tomcat de desligamento: De uma linha de comando, use: ",(0,n.jsx)(a.em,{children:"tomcat"}),"\\bin\\\\shutdown.bat"]}),"\n",(0,n.jsxs)(a.li,{children:["Remover o descomprimidoERDDAP\u2122instala\xe7\xe3o: Em ",(0,n.jsx)(a.em,{children:"tomcat"}),"/webapps, use\r\n/S/Q erddap"]}),"\n",(0,n.jsxs)(a.li,{children:["Apague o velho erddap. arquivo de guerra: Em ",(0,n.jsx)(a.em,{children:"tomcat"}),"\\\\webapps, use del erddap. Guerra"]}),"\n",(0,n.jsxs)(a.li,{children:["Entendido. arquivo de guerra do diret\xf3rio tempor\xe1rio para ",(0,n.jsx)(a.em,{children:"tomcat"}),"\\webapps"]}),"\n",(0,n.jsxs)(a.li,{children:["Reinicie Tomcat eERDDAP: use ",(0,n.jsx)(a.em,{children:"tomcat"}),"\\bin\\\\startup.bat"]}),"\n",(0,n.jsx)(a.li,{children:"Visualiza\xe7\xe3oERDDAP\u2122no seu navegador para verificar que o rein\xedcio conseguiu.\r\n(Muitas vezes, voc\xea tem que tentar algumas vezes e esperar um minuto antes de verERDDAP\u2122.)"}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Atualiza\xe7\xe3o de problemasERDDAP? Veja o nosso",(0,n.jsx)(a.a,{href:"/docs/intro#support",children:"se\xe7\xe3o sobre como obter suporte adicional"}),"."]})]})}function m(e={}){const{wrapper:a}={...(0,o.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},28453:(e,a,s)=>{s.d(a,{R:()=>i,x:()=>d});var r=s(96540);const n={},o=r.createContext(n);function i(e){const a=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function d(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),r.createElement(o.Provider,{value:a},e.children)}}}]);