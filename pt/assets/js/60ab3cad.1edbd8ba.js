"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[9397],{28453:(e,a,o)=>{o.d(a,{R:()=>n,x:()=>i});var s=o(96540);const r={},d=s.createContext(r);function n(e){const a=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function i(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:n(e.components),s.createElement(d.Provider,{value:a},e.children)}},49430:(e,a,o)=>{o.r(a),o.d(a,{assets:()=>t,contentTitle:()=>i,default:()=>u,frontMatter:()=>n,metadata:()=>s,toc:()=>m});const s=JSON.parse('{"id":"server-admin/EDDTableFromEML","title":"EDDTableFromEML","description":"\\\\\\\\[Esta p\xe1gina ser\xe1 apenas de interesse paraERDDAP\u2122administradores que trabalham com arquivos EML.","source":"@site/i18n/pt/docusaurus-plugin-content-docs/current/server-admin/EDDTableFromEML.md","sourceDirName":"server-admin","slug":"/server-admin/EDDTableFromEML","permalink":"/pt/docs/server-admin/EDDTableFromEML","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/EDDTableFromEML.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"EDDTableFromEML","sidebar_position":6},"sidebar":"docSidebar","previous":{"title":"Escalada","permalink":"/pt/docs/server-admin/scaling"},"next":{"title":"displayInfo e displayAttribute Tags","permalink":"/pt/docs/server-admin/display-info"}}');var r=o(74848),d=o(28453);const n={title:"EDDTableFromEML",sidebar_position:6},i="A tabela EDDFromEML e tabela EDDFromEMLBatch Op\xe7\xf5es em GerarDatasets Xml",t={},m=[{value:"Perguntas",id:"questions",level:2},{value:"Detalhes do projeto",id:"design-details",level:2},{value:"Uma tabela de dados Becomes OneERDDAP\u2122Conjunto de dados",id:"one-datatable-becomes-one-erddap-dataset",level:3},{value:"EML versus CF+ACDD",id:"eml-versus-cfacdd",level:3},{value:"Pequenas mudan\xe7as",id:"small-changes",level:3},{value:"DocBook",id:"docbook",level:3},{value:"Arquivos de dados",id:"data-files",level:3},{value:".zipArquivos de dados",id:"zipd-data-files",level:3},{value:"Tipo de armazenamento",id:"storagetype",level:3},{value:"Unidades",id:"units",level:3},{value:"EML vers\xe3o 2.1.1",id:"eml-version-211",level:3},{value:"Quest\xf5es com os arquivos EML",id:"issues-with-the-eml-files",level:2},{value:"Colunas de data e hora separadas",id:"separate-date-and-time-columns",level:3},{value:"Nomes de coluna persistentes",id:"inconsistent-column-names",level:3},{value:"Ordem de coluna diferente",id:"different-column-order",level:3},{value:"Incorreto numHeaderLines",id:"incorrect-numheaderlines",level:3},{value:"n\xfameroHeaderLines = 0",id:"numheaderlines--0",level:3},{value:"DataTime Formato cordas",id:"datetime-format-strings",level:3},{value:"DateTime Mas Sem fuso hor\xe1rio",id:"datetime-but-no-time-zone",level:3},{value:"Faltandomissing\\_value",id:"missing-missing_value",level:3},{value:"Problemas pequenos",id:"small-problems",level:3},{value:"Personagens inv\xe1lidos do Unicode",id:"invalid-unicode-characters",level:3},{value:"Unidades de coluna diferentes] (# DifferentColumnUnits)",id:"different-column-unitsdifferentcolumnunits",level:3},{value:"Vers\xf5es diferentes de EML",id:"different-versions-of-eml",level:3},{value:"Solucionar o arquivo de dados",id:"trouble-parsing-the-data-file",level:3}];function l(e){const a={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.header,{children:(0,r.jsx)(a.h1,{id:"a-tabela-eddfromeml-e-tabela-eddfromemlbatch-op\xe7\xf5es-em-gerardatasets-xml",children:"A tabela EDDFromEML e tabela EDDFromEMLBatch Op\xe7\xf5es em GerarDatasets Xml"})}),"\n",(0,r.jsx)(a.p,{children:"\\[Esta p\xe1gina ser\xe1 apenas de interesse paraERDDAP\u2122administradores que trabalham com arquivos EML.\r\nEsse documento foi originalmente criado em 2016. Foi editado pela \xfaltima vez em 2020-11-30.\\]"}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsxs)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/index.html",children:[" ",(0,r.jsx)(a.strong,{children:"ERDDAP\u2122"})," "]}),"\xe9 um servidor de dados que d\xe1 aos usu\xe1rios uma maneira simples e consistente de baixar subconjuntos de conjuntos de dados cient\xedficos grelhados e tabulares em formatos de arquivo comuns e fazer gr\xe1ficos e mapas.ERDDAP\u2122funciona com um dado conjunto de dados como um grupo de vari\xe1veis multidimensionais gradeadas (por exemplo, dados de sat\xe9lite ou modelo) ou como uma tabela de banco de dados (com uma coluna para cada tipo de informa\xe7\xe3o e uma linha para cada observa\xe7\xe3o) .ERDDAP\u2122\xe9 Livre e Open Source Software, para que qualquer pessoa possa",(0,r.jsx)(a.a,{href:"/docs/server-admin/deploy-install",children:"baixar e instalarERDDAP\u2122"}),"para servir seus dados."]}),"\n",(0,r.jsxs)(a.p,{children:["Para adicionar um conjunto de dados a umERDDAP\u2122instala\xe7\xe3o, aERDDAP\u2122administrador deve adicionar um peda\xe7o de XML descrevendo o conjunto de dados em um arquivo chamadodatasets.xml. (H\xe1",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets",children:"documenta\xe7\xe3o completa paradatasets.xml"}),".) Embora seja poss\xedvel gerar o peda\xe7o de XML paradatasets.xmlinteiramente \xe0 m\xe3o,ERDDAP\u2122vem com uma ferramenta chamada",(0,r.jsxs)(a.a,{href:"/docs/server-admin/datasets#tools",children:[" ",(0,r.jsx)(a.strong,{children:"Gerar conjuntos de dadosXml"})," "]}),"que pode gerar o rascunho \xe1spero do peda\xe7o de XML necess\xe1rio para um dado conjunto de dados com base em alguma fonte de informa\xe7\xe3o sobre o conjunto de dados."]}),"\n",(0,r.jsxs)(a.p,{children:["A primeira coisa GerarDatasets Xml pergunta \xe9 que tipo de conjunto de dados que voc\xea deseja criar. Gerar conjuntos de dados Xml tem uma op\xe7\xe3o especial, ",(0,r.jsx)(a.strong,{children:"EDDTable FromEML"})," , que utiliza a informa\xe7\xe3o num",(0,r.jsx)(a.a,{href:"https://knb.ecoinformatics.org/external//emlparser/docs/index.html",children:"Idioma de Metadados Ecol\xf3gicos (EML) "}),"arquivo XML para gerar o peda\xe7o de XML paradatasets.xmlpara criar um",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablefromasciifiles",children:"EDDTable FromAsciiFiles"}),"dataset de cada tabela de dados em um arquivo EML. Isso funciona muito bem para a maioria dos arquivos EML, principalmente porque os arquivos EML fazem um excelente trabalho de armazenar todos os metadados necess\xe1rios para um conjunto de dados em um formato f\xe1cil de trabalhar. As informa\xe7\xf5es que GenerateDatasetsXml precisa para criar os conjuntos de dados est\xe3o no arquivo EML, incluindo a URL do arquivo de dados, que GerrateDatasetsXml downloads, parses e compara com a descri\xe7\xe3o no arquivo EML. (Muitos grupos fariam bem em mudar para EML, que \xe9 um grande sistema para documentar qualquer conjunto de dados cient\xedficos tabular, n\xe3o apenas dados ecol\xf3gicos. E muitos grupos que criam esquemas XML fariam bem em usar EML como um estudo de caso para esquemas XML que s\xe3o claros, ao ponto, n\xe3o excessivamente profundos (ou seja, muitos n\xedveis) , e f\xe1cil para humanos e computadores para trabalhar com.)"]}),"\n",(0,r.jsx)(a.h2,{id:"questions",children:"Perguntas"}),"\n",(0,r.jsx)(a.p,{children:"Aqui est\xe3o todas as perguntas GerarDatasets Xml vai perguntar, com coment\xe1rios sobre como voc\xea deve responder se voc\xea quer processar apenas um arquivo EML ou um lote de arquivos EML:"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"Qual EDDType?\r\nSe voc\xea quiser processar apenas um arquivo, responda: EDDTableFromEML\r\nSe voc\xea quiser processar um grupo de arquivos, responda: EDDTableFromEMLBatch"}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"Diret\xf3rio para armazenar arquivos?\r\nDigite o nome do diret\xf3rio que ser\xe1 usado para armazenar arquivos EML baixados e / ou dados.\r\nSe o diret\xf3rio n\xe3o existir, ele ser\xe1 criado."}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"(Para EDDTable FromEML apenas) URL EML ou arquivo localName?\r\nDigite o URL ou o nome de arquivo local de um arquivo EML."}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsxs)(a.p,{children:["(Para EDDTable FromEMLBatch somente) EML dir (URL ou local) ?\r\nDigite o nome do diret\xf3rio com os arquivos EML (uma URL ou um dir local) .\r\nPor exemplo: ",(0,r.jsx)(a.a,{href:"http://sbc.lternet.edu/data/eml/files/",children:"http://sbc.lternet.edu/data/eml/files/"})]}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"(Para EDDTable FromEMLBatch somente) Nome de arquivo regex?\r\nDigite a express\xe3o regular que ser\xe1 usada para identificar os arquivos EML desejados no diret\xf3rio EML.\r\nPor exemplo: knb-lter-sbc\\.\\d+"}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"Use arquivos locais se presentes (verdadeiro|falso) ?\r\nDigite true para usar os arquivos EML locais existentes e arquivos de dados, se eles existirem.\r\nDigite falso para sempre re-download dos arquivos EML e / ou arquivos de dados."}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsxs)(a.p,{children:['acess\xedvel Para?\r\nSe voc\xea quiser que os novos conjuntos de dados sejam conjuntos de dados privados emERDDAP, especifique o nome do grupo (S) que ser\xe1 permitido o acesso.\r\nRecomendado para grupos LTER: combinar "lter" mais o grupo, por exemplo, lter Sbc.\r\nSe voc\xea entrar "null", n\xe3o haver\xe1<acess\xedvel To > tag na sa\xedda.\r\nVer',(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#accessibleto",children:"acess\xedvel Para"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsxs)(a.p,{children:["local local TimeZone (por exemplo, EUA/Pac\xedfico) ?\r\nSe uma vari\xe1vel de tempo indicar que possui valores de hora local, este fuso hor\xe1rio ser\xe1 atribu\xeddo.\r\nEste deve ser um valor do",(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones",children:"Lista de colunas TZ de nomes de fuso hor\xe1rio"}),'.\r\nNote todos os nomes "US/..." f\xe1ceis de usar no final da lista.\r\nSe voc\xea achar que est\xe1 incorreta, voc\xea pode mudar otime\\_zoneno peda\xe7o dedatasets.xml.']}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(a.p,{children:["EML maisERDDAP\u2122\xe9 uma grande combina\xe7\xe3o, desdeERDDAP\u2122pode dar aos usu\xe1rios mais acesso direto \xe0 riqueza de",(0,r.jsx)(a.a,{href:"https://knb.ecoinformatics.org/",children:"Rede de Conhecimento para Biocomplexidade (KNB) "}),"e",(0,r.jsx)(a.a,{href:"https://lternet.edu/",children:"Pesquisa Ecol\xf3gica de Longo Prazo (LTER) "}),"dados e ajudar esses projetos a cumprir o governo dos EUA",(0,r.jsx)(a.a,{href:"https://nosc.noaa.gov/EDMC/PD.DSP.php",children:"Acesso p\xfablico aos resultados da pesquisa (PARR) requisitos"}),"fazendo os dados dispon\xedveis atrav\xe9s de um servi\xe7o web. Al\xe9m disso, EML plusERDDAP\u2122parece uma grande ponte entre cientistas no campo acad\xeamico / NSF-fundado e cientistas na ag\xeancia federal (NOAA, NASA, USGS) reino."]}),"\n",(0,r.jsxs)(a.p,{children:["Veja o nosso",(0,r.jsx)(a.a,{href:"/docs/intro#support",children:"se\xe7\xe3o sobre como obter suporte adicional"}),".\r\n\xa0"]}),"\n",(0,r.jsx)(a.h2,{id:"design-details",children:"Detalhes do projeto"}),"\n",(0,r.jsx)(a.p,{children:"Aqui est\xe3o os detalhes do projeto da op\xe7\xe3o EDDTableFromEML em GerarDatasetsXml.\r\nAlguns est\xe3o relacionados a diferen\xe7as em como EML eERDDAP\u2122fazer coisas e como GerarDatasets Xml lida com esses problemas."}),"\n",(0,r.jsx)(a.h3,{id:"one-datatable-becomes-one-erddap-dataset",children:"Uma tabela de dados Becomes OneERDDAP\u2122Conjunto de dados"}),"\n",(0,r.jsxs)(a.p,{children:["Um arquivo EML pode ter v\xe1rios<dados Table >s.ERDDAP\u2122faz umERDDAP\u2122dataset per EML dataTable. OdatasetIDpara o conjunto de dados \xe9\r\n",(0,r.jsx)(a.em,{children:"EMLNome"})," N\xe3o. ",(0,r.jsx)(a.em,{children:"tabela de madeira"}),"   (quando EMLname \xe9 texto) ou\r\n",(0,r.jsx)(a.em,{children:"sistema\\_EMLName"})," N\xe3o. ",(0,r.jsx)(a.em,{children:"tabela de madeira"}),"   (quando EMLname \xe9 um n\xfamero) .\r\nPor exemplo, a tabela #1 no arquivo knb-lter-sbc.28, torna-seERDDAP\u2122 datasetID= knb\\_lter\\_sbc\\_28\\_t1,\r\n\xa0"]}),"\n",(0,r.jsx)(a.h3,{id:"eml-versus-cfacdd",children:"EML versus CF+ACDD"}),"\n",(0,r.jsxs)(a.p,{children:["Quase todos os metadados nos arquivos EML entramERDDAP, mas em um formato diferente.ERDDAP\u2122usa o",(0,r.jsx)(a.a,{href:"https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html",children:"CF"}),"e",(0,r.jsx)(a.a,{href:"https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3",children:"AC\xd3RD\xc3O"}),"padr\xf5es de metadados. Eles s\xe3o sistemas de metadados complementares que usam pares chave=valor para metadados globais e para metadados de cada vari\xe1vel.\r\nSim, a representa\xe7\xe3o EML dos metadados \xe9 mais agrad\xe1vel do que a representa\xe7\xe3o CF+ACDD. N\xe3o estou a sugerir usar a representa\xe7\xe3o CF+ACDD como substituto para o EML. Por favor, pense em CF+ACDD como parte da ponte do mundo EML para oOPeNDAP/CF/ACDD mundo.\r\n\xa0"]}),"\n",(0,r.jsx)(a.h3,{id:"small-changes",children:"Pequenas mudan\xe7as"}),"\n",(0,r.jsx)(a.p,{children:"ERDDAP\u2122faz muitas pequenas mudan\xe7as. Por exemplo,ERDDAP\u2122usa o EML n\xe3o-DOIalternativa Identificador mais um n\xfamero de tabela de dados comoERDDAP\u2122 datasetID, mas ligeiramente muda alternar Identificador para torn\xe1-lo um nome vari\xe1vel v\xe1lido na maioria das linguagens de computador, por exemplo, dados knb-lter-sbc.33 A tabela #1 torna-se knb\\_lter\\_sbc\\_33\\_t1.\r\n\xa0"}),"\n",(0,r.jsx)(a.h3,{id:"docbook",children:"DocBook"}),"\n",(0,r.jsx)(a.p,{children:"EML usa o sistema de marca\xe7\xe3o do DocBook para fornecer estrutura para blocos de texto em arquivos EML. CF e ACDD exigem que os metadados sejam texto simples. Ent\xe3o Gerar conjuntos de dados Xml converte o texto marcado em texto simples que se parece com a vers\xe3o formatada do texto. As tags inline s\xe3o higienizadas com suportes quadrados, por exemplo,\\[enfatizado\\], e deixou no texto simples.\r\n\xa0"}),"\n",(0,r.jsx)(a.h3,{id:"data-files",children:"Arquivos de dados"}),"\n",(0,r.jsx)(a.p,{children:"Uma vez que a tabela de dados EML inclui a URL do arquivo de dados real, GerarDatasets Xml vai:"}),"\n",(0,r.jsxs)(a.ol,{children:["\n",(0,r.jsx)(a.li,{children:"Baixe o arquivo de dados."}),"\n",(0,r.jsx)(a.li,{children:"Armazen\xe1-lo no mesmo diret\xf3rio que o arquivo EML."}),"\n",(0,r.jsx)(a.li,{children:"Leia os dados."}),"\n",(0,r.jsx)(a.li,{children:"Compare a descri\xe7\xe3o dos dados no EML com os dados reais no arquivo."}),"\n",(0,r.jsx)(a.li,{children:"Se Gerar conjuntos de dados Xml encontra diferen\xe7as, lida com eles, ou pergunta ao operador se as diferen\xe7as est\xe3o bem, ou retorna uma mensagem de erro. Os detalhes est\xe3o em v\xe1rios itens abaixo.\r\n\xa0"}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"zipd-data-files",children:".zipArquivos de dados"}),"\n",(0,r.jsxs)(a.p,{children:["Se o arquivo de dados referenciado for um.ziparquivo, ele deve conter apenas um arquivo. Esse arquivo ser\xe1 usado para oERDDAP\u2122conjunto de dados. Se houver mais de 1 arquivo.ERDDAP\u2122rejeitar\xe1 esse conjunto de dados. Se necess\xe1rio, isso pode ser modificado. (Na pr\xe1tica, todos os arquivos zip SBC LTER t\xeam apenas um arquivo de dados.)",(0,r.jsx)(a.br,{}),"\n","\xa0"]}),"\n",(0,r.jsx)(a.h3,{id:"storagetype",children:"Tipo de armazenamento"}),"\n",(0,r.jsx)(a.p,{children:"Se um armazenamento de coluna O tipo n\xe3o \xe9 especificado,ERDDAP\u2122usa seu melhor palpite com base nos dados no arquivo de dados. Isto funciona muito bem.\r\n\xa0"}),"\n",(0,r.jsx)(a.h3,{id:"units",children:"Unidades"}),"\n",(0,r.jsxs)(a.p,{children:["ERDDAP\u2122uso",(0,r.jsx)(a.a,{href:"https://www.unidata.ucar.edu/software/udunits/",children:"UDUNITSformata\xe7\xe3o para unidades"}),'. Gerar conjuntos de dados Xml \xe9 capaz de converter unidades EML paraUDUNITSlimpamente cerca de 95% do tempo. Os 5% restantes resultam em uma descri\xe7\xe3o leg\xedvel das unidades, por exemplo, "biomassDensityUnitPerAbundanceUnit" em EML torna-se "unidade de densidade de biomassa por unidade de abund\xe2ncia" emERDDAP. Tecnicamente isto n\xe3o \xe9 permitido. Acho que n\xe3o \xe9 assim t\xe3o mau nas circunst\xe2ncias.\\[Se necess\xe1rio, unidades que n\xe3o podem ser feitasUDUNITScompat\xedvel pode ser movido para o atributo coment\xe1rio da vari\xe1vel.\\]',(0,r.jsx)(a.br,{}),"\n","\xa0"]}),"\n",(0,r.jsx)(a.h3,{id:"eml-version-211",children:"EML vers\xe3o 2.1.1"}),"\n",(0,r.jsx)(a.p,{children:"Este suporte para arquivos EML v2.1.1 foi adicionado ao GerarDatasets Xml em 2016 com a esperan\xe7a de que haveria alguma aceita\xe7\xe3o na comunidade EML. A partir de 2020, isso n\xe3o aconteceu. OERDDAP\u2122desenvolvedores ficaria feliz em adicionar suporte para vers\xf5es mais recentes do EML, mas apenas se os novos recursos realmente ser\xe3o usados. Por favor e-mailerd.data at noaa.govse voc\xea quiser suporte para vers\xf5es mais recentes do EML e vai realmente usar este recurso.\r\n\xa0"}),"\n",(0,r.jsx)(a.h2,{id:"issues-with-the-eml-files",children:"Quest\xf5es com os arquivos EML"}),"\n",(0,r.jsx)(a.p,{children:"Existem alguns problemas / problemas com os arquivos EML que causam problemas quando um cliente de software (como a op\xe7\xe3o EDDTableFromEML em GerarDatasetsXML) tenta interpretar / processar os arquivos EML."}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"Embora haja v\xe1rias quest\xf5es listadas aqui, eles s\xe3o principalmente pequenos, problemas solv\xe1veis. Em geral, EML \xe9 um grande sistema e foi meu prazer trabalhar com ele."}),"\n",(0,r.jsx)(a.li,{children:"Estes s\xe3o classificados aproximadamente do pior / mais comum ao menos ruim / menos comum."}),"\n",(0,r.jsx)(a.li,{children:"A maioria est\xe1 relacionada a pequenos problemas em arquivos espec\xedficos EML (que n\xe3o s\xe3o culpa do EML) ."}),"\n",(0,r.jsx)(a.li,{children:"A maioria pode ser corrigida por mudan\xe7as simples no arquivo EML ou arquivo de dados."}),"\n",(0,r.jsx)(a.li,{children:"Dado que as pessoas LTER est\xe3o construindo um verificador EML para testar a validade dos arquivos EML, eu adicionei algumas sugest\xf5es abaixo sobre recursos que poderiam ser adicionados ao verificador."}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:"Aqui est\xe3o os problemas:"}),"\n",(0,r.jsx)(a.h3,{id:"separate-date-and-time-columns",children:"Colunas de data e hora separadas"}),"\n",(0,r.jsx)(a.p,{children:"Alguns arquivos de dados t\xeam colunas separadas para data e para o tempo, mas nenhuma coluna data + hora unificada. Atualmente, GerarDatasets Xml cria um conjunto de dados com essas colunas separadas, mas n\xe3o \xe9 ideal porque:"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:'\xc9 melhor se os conjuntos de dados emERDDAP\u2122tem uma coluna de data + hora combinada chamada"time".'}),"\n",(0,r.jsx)(a.li,{children:'Muitas vezes o conjunto de dados n\xe3o vai carregarERDDAP\u2122porque o"time"A coluna n\xe3o tem dados de data+hora.'}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:"Existem duas solu\xe7\xf5es poss\xedveis:"}),"\n",(0,r.jsxs)(a.ol,{children:["\n",(0,r.jsx)(a.li,{children:"Editar o arquivo de dados de origem para adicionar uma nova coluna no arquivo de dados (e descrev\xea-lo no EML) onde as colunas de data e hora s\xe3o mescladas em uma coluna. Em seguida, reinicie GerarDatasets Xml para que ele encontre a nova coluna."}),"\n",(0,r.jsxs)(a.li,{children:["Use o",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#script-sourcenamesderived-variables",children:"Vari\xe1veis derivadas"}),"recurso emERDDAP\u2122para definir uma nova vari\xe1veldatasets.xmlque \xe9 criado concatenando a data e as colunas do tempo. Um dos exemplos trata especificamente desta situa\xe7\xe3o.\r\n\xa0"]}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"inconsistent-column-names",children:"Nomes de coluna persistentes"}),"\n",(0,r.jsx)(a.p,{children:"Os arquivos EML listam as colunas do arquivo de dados e seus nomes. Infelizmente, eles s\xc3\xa3o muitas vezes diferentes dos nomes das colunas no arquivo de dados real. Normalmente, a ordem da coluna no arquivo EML \xe9 a mesma que a ordem da coluna no arquivo de dados, mesmo que os nomes variam ligeiramente, mas nem sempre. Gerar conjuntos de dados Xml tenta combinar os nomes das colunas. Quando n\xe3o consegue (que \xe9 comum) , ele vai parar, mostrar-lhe os pares de nomes de arquivo EML/data, e perguntar se eles est\xe3o alinhados corretamente. Se voc\xea digitar 's' para pular uma tabela, GeneratedDatasetsXml imprimir\xe1 uma mensagem de erro e vai para a pr\xf3xima tabela.\r\nA solu\xe7\xe3o \xe9 alterar os nomes de colunas err\xf4neas no arquivo EML para corresponder aos nomes de colunas no arquivo de dados.\r\n\xa0"}),"\n",(0,r.jsx)(a.h3,{id:"different-column-order",children:"Ordem de coluna diferente"}),"\n",(0,r.jsx)(a.p,{children:"Existem v\xe1rios casos em que o EML especificou as colunas em uma ordem diferente do que existem no arquivo de dados. Gerar conjuntos de dados O Xml vai parar e perguntar ao operador se os matchups est\xe3o bem ou se o conjunto de dados deve ser ignorado. Se ele for ignorado, haver\xe1 uma mensagem de erro no arquivo de resultados, por exemplo,:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{children:"      &lt;-- SKIPPED (USUALLY BECAUSE THE COLUMN NAMES IN THE DATAFILE ARE IN\r\n      A DIFFERENT ORDER OR HAVE DIFFERENT UNITS THAN IN THE EML file):\r\n      datasetID=knb\\\\_lter\\\\_sbc\\\\_17\\\\_t1\r\n      dataFile=all\\\\_fish\\\\_all\\\\_years\\\\_20140903.csv\r\n      The data file and EML file have different column names.\r\n      ERDDAP\u2122 would like to equate these pairs of names:\r\n        SURVEY\\\\_TIMING        = notes\r\n        NOTES                = survey\\\\_timing\r\n      --&gt;\n"})}),"\n",(0,r.jsx)(a.p,{children:"A solu\xe7\xe3o \xe9 corrigir a ordem da coluna nestes arquivos EML para que eles correspondam \xe0 ordem nos arquivos de dados."}),"\n",(0,r.jsx)(a.p,{children:"Seria bom se o verificador EML verificasse que as colunas e a ordem da coluna no arquivo de origem correspondessem \xe0s colunas e \xe0 ordem da coluna no arquivo EML."}),"\n",(0,r.jsx)(a.h3,{id:"incorrect-numheaderlines",children:"Incorreto numHeaderLines"}),"\n",(0,r.jsx)(a.p,{children:"V\xe1rios dados Tabelas incorretamente estado numHeaderLines=1, por exemplo, ...sbc.4011. Isso causaERDDAP\u2122para ler a primeira linha de dados como nomes de colunas. Eu tentei manualmente SKIP todas essas tabelas de dados. Eles s\xe3o \xf3bvios porque os nomes de col de origem inigual\xe1vel s\xe3o todos os valores de dados. E se houver arquivos que incorretamente t\xeam numHeaderLines=0, meu sistema n\xe3o torna \xf3bvio. Aqui est\xe1 um exemplo do arquivo de falhas SBC LTER:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{children:"      &lt;-- SKIPPED (USUALLY BECAUSE THE COLUMN NAMES IN THE DATAFILE ARE IN\r\n      A DIFFERENT ORDER OR HAVE DIFFERENT UNITS THAN IN THE EML file):\r\n       datasetID=knb\\\\_lter\\\\_sbc\\\\_3017\\\\_t1\r\n      dataFile=MC06\\\\_allyears\\\\_2012-03-03.txt\r\n      The data file and EML file have different column names.\r\n      ERDDAP\u2122 would like to equate these pairs of names:\r\n        2008-10-01T00:00     = timestamp\\\\_local\r\n        2008-10-01T07:00     = timestamp\\\\_UTC\r\n        2.27                 = discharge\\\\_lps\r\n        -999.0               = water\\\\_temperature\\\\_celsius\r\n      --&gt;\n"})}),"\n",(0,r.jsx)(a.p,{children:"Assim, o erro pode aparecer como se GerarDatasets Xml acha que a primeira linha com dados no arquivo (por exemplo, com 2008-10-01T00:00 etc.) \xe9 a linha com nomes de colunas (como se 2008-10-01T00:00 fosse um nome de coluna) ."}),"\n",(0,r.jsx)(a.p,{children:"Seria bom se o verificador EML verificar o valor numHeaderLines."}),"\n",(0,r.jsx)(a.h3,{id:"numheaderlines--0",children:"n\xfameroHeaderLines = 0"}),"\n",(0,r.jsx)(a.p,{children:"Alguns arquivos de origem n\xe3o t\xeam nomes de colunas.ERDDAP\u2122aceita que se o EML descrever o mesmo n\xfamero de colunas."}),"\n",(0,r.jsx)(a.p,{children:"Na minha opini\xe3o, isto parece muito perigoso. Pode haver colunas em uma ordem diferente ou com unidades diferentes (ver abaixo) e n\xe3o h\xe1 maneira de pegar esses problemas. \xc9 muito melhor se todos os arquivos de dados ASCII t\xeam uma linha com nomes de colunas."}),"\n",(0,r.jsx)(a.h3,{id:"datetime-format-strings",children:"DataTime Formato cordas"}),"\n",(0,r.jsxs)(a.p,{children:["EML tem uma maneira padr\xe3o de descrever formatos de data time. mas h\xe1 uma varia\xe7\xe3o consider\xe1vel em seu uso em arquivos EML. (Eu estava anteriormente errado sobre isso. Eu vejo a documenta\xe7\xe3o EML para formatString que parece combinar com o",(0,r.jsx)(a.a,{href:"https://docs.oracle.com/javase/8/docs/api/index.html?java/time/format/DateTimeFomatter.html",children:"JavaEspecifica\xe7\xe3o DateTimeFormatter"}),", mas que n\xe3o tem as diretrizes importantes sobre o seu uso, com o resultado que formatString \xe9 frequentemente/usualmente usado incorretamente.) Existem v\xe1rias inst\xe2ncias com caso incorreto e/ou duplica\xe7\xe3o incorreta de uma letra e/ou formata\xe7\xe3o n\xe3o padr\xe3o. Isso coloca uma carga irracional sobre clientes, especialmente clientes de software como GenerateDatasetsXml. Gerar conjuntos de dados Xml tenta converter os formatos incorretamente definidos nos arquivos EML em\r\n",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#string-time-units",children:"o formato data/hora queERDDAP\u2122requerimento"}),", que \xe9 quase id\xeantico aoJava/Joda especifica\xe7\xe3o de formato de tempo, mas \xe9 ligeiramente mais perdoador."]}),"\n",(0,r.jsx)(a.p,{children:"Seria bom se o verificador EML exigisse a ades\xe3o rigorosa aoJava/JodaERDDAPespecifica\xe7\xe3o de unidades de tempo e verificou que os valores de tempo de data na tabela de dados podem ser analisados corretamente com o formato especificado."}),"\n",(0,r.jsx)(a.h3,{id:"datetime-but-no-time-zone",children:"DateTime Mas Sem fuso hor\xe1rio"}),"\n",(0,r.jsx)(a.p,{children:'Gerar conjuntos de dados Xml procura uma coluna com data Tempo e um fuso hor\xe1rio especificado (ouZulu: de unidades de tempo terminando em \'Z\' ou uma defini\xe7\xe3o de nome ou atributo de coluna que inclui "gmt" ou "utc", ou local: de "local" no nome da coluna ou defini\xe7\xe3o de atributo) . Tamb\xe9m aceit\xe1vel \xe9 um arquivo com uma coluna de data mas sem coluna de tempo. Tamb\xe9m aceit\xe1vel \xe9 um arquivo sem data ou hora.'}),"\n",(0,r.jsx)(a.p,{children:'Gerar conjuntos de dados Xml trata todos os tempos "locais" como sendo do fuso hor\xe1rio que voc\xea pode especificar para um determinado lote de arquivos, por exemplo, para SBC LTER, usar US / Pac\xedfico. A informa\xe7\xe3o \xe9 \xe0s vezes nos coment\xe1rios, mas n\xe3o em uma forma que \xe9 f\xe1cil para um programa de computador para descobrir.'}),"\n",(0,r.jsx)(a.p,{children:'Os arquivos que n\xe3o atendem a esse crit\xe9rio s\xe3o rejeitados com a mensagem "NO GOOD DATE (TIME) VARIABLE". Os problemas comuns s\xe3o:'}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"H\xe1 uma coluna com datas e uma coluna com tempos, mas n\xe3o data Coluna do tempo."}),"\n",(0,r.jsx)(a.li,{children:"H\xe1 unidades de tempo, mas o fuso hor\xe1rio n\xe3o \xe9 especificado."}),"\n"]}),"\n",(0,r.jsxs)(a.p,{children:['Outros coment\xe1rios:\r\nSe houver uma boa data + hora com a coluna do fuso hor\xe1rio, essa coluna ser\xe1 nomeada"time"emERDDAP.ERDDAP\u2122exige que os dados da coluna do tempo sejam compreens\xedveis/convers\xedveis paraZulu/UTC/GMT data fuso hor\xe1rioTimes.\\[Minha cren\xe7a \xe9: usando tempos locais e diferentes formatos de data/hora (2 d\xedgitos anos! mm/dd/yy vs dd/mm/yyy vs...) em arquivos de dados for\xe7a o usu\xe1rio final a fazer convers\xf5es complicadas paraZulutempo para comparar dados de um conjunto de dados com dados de outro. Ent\xe3o...ERDDAP\u2122padroniza todos os dados de tempo: Para tempos de cadeia,ERDDAP\u2122sempre usa o ISO 8601:2004 (E) formato padr\xe3o, por exemplo, 1985-01-02T00:00Z. Para tempos num\xe9ricos,ERDDAP\u2122sempre usa"seconds since 1970-01-01T00:00:00Z".ERDDAP\u2122sempre usa oZulu  (UTC, GMT) fuso hor\xe1rio para remover as dificuldades de trabalhar com diferentes fusos hor\xe1rios e hor\xe1rio padr\xe3o versus hor\xe1rio de ver\xe3o. Ent\xe3o Gerar conjuntos de dados Xml procura uma coluna de tabela de dados EML com data+horaZulu. Isso \xe9 dif\xedcil porque EML n\xe3o usa um vocabul\xe1rio/sistema formal (Tipo...',(0,r.jsx)(a.a,{href:"https://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormat.html",children:"Java/Joda formato de tempo"}),') para especificar os dados Formato do tempo:\r\nSe houver um col com valores num\xe9ricos de tempo (por exemplo,Matlabvezes) eZulufuso hor\xe1rio (ou apenas datas, sem colunas de tempo) , \xe9 usado como"time".\r\nSe houver um col com dados de data e hora, usando oZulufuso hor\xe1rio, \xe9 usado como"time"e qualquer outra coluna de data ou hora \xe9 removida.\r\nSe um col com apenas informa\xe7\xf5es de data \xe9 encontrado, ele \xe9 usado como o"time"vari\xe1vel (sem fuso hor\xe1rio) .\r\nSe houver uma coluna de dados e uma coluna de tempo e nenhuma data combinada Coluna de tempo, o conjunto de dados \xe9 REJECTED \u2014 mas o conjunto de dados pode ser tornado utiliz\xe1vel adicionando uma data combinada Coluna de tempo (de prefer\xeancia,Zulufuso hor\xe1rio) para o arquivo de dados e adicionando sua descri\xe7\xe3o no arquivo EML.\r\nEXEMPLO DA SBC LTER:',(0,r.jsx)(a.a,{href:"https://sbclter.msi.ucsb.edu/external/InformationManagement/eml_2018_erddap/",children:" https://sbclter.msi.ucsb.edu/external/InformationManagement/eml\\_2018\\_erddap/ "}),"dataTable #2."]}),"\n",(0,r.jsxs)(a.p,{children:["Seria bom se EML/LTER exigisse a inclus\xe3o de uma coluna comZulu  (UTC, GMT) fuso hor\xe1rio em todos os arquivos de dados de origem relevantes. O pr\xf3ximo melhor \xe9 adicionar um sistema ao EML para especificar umtime\\_zoneatributo usando nomes padr\xe3o (do",(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones",children:"Coluna TZ"}),") ."]}),"\n",(0,r.jsx)(a.h3,{id:"missing-missing_value",children:"Faltandomissing\\_value"}),"\n",(0,r.jsx)(a.p,{children:"Algumas colunas usam umamissing\\_valuemas n\xe3o list\xe1-lo nos metadados EML, por exemplo, precipita\xe7\xe3o\\_mm em knb-lter-sbc.5011 usa -999. Se nenhum valor faltando for especificado no EML, GerarDatasetsXml procura automaticamente valores em falta comuns (por exemplo, 99, -99, 999, -999, 9999, -9999, etc.) e cria esses metadados. Mas outro desaparecidomissing\\_valuen\xe3o s\xe3o apanhados."}),"\n",(0,r.jsx)(a.p,{children:"Seria bom se o verificador EML procurasse faltarmissing\\_valueS."}),"\n",(0,r.jsx)(a.h3,{id:"small-problems",children:"Problemas pequenos"}),"\n",(0,r.jsx)(a.p,{children:"H\xe1 muitos pequenos problemas (ortografia, pontua\xe7\xe3o) que provavelmente s\xf3 ser\xe1 encontrado por um humano inspecionando cada conjunto de dados."}),"\n",(0,r.jsx)(a.p,{children:"Seria bom se o verificador EML procurasse erros ortogr\xe1ficos e gramaticais. Este \xe9 um problema dif\xedcil porque as palavras na ci\xeancia s\xe3o frequentemente sinalizadas por verificadores de feiti\xe7os. A edi\xe7\xe3o humana \xe9 provavelmente necess\xe1ria."}),"\n",(0,r.jsx)(a.h3,{id:"invalid-unicode-characters",children:"Personagens inv\xe1lidos do Unicode"}),"\n",(0,r.jsx)(a.p,{children:"Alguns dos conte\xfados EML cont\xe9m caracteres Unicode inv\xe1lidos. Estes s\xe3o provavelmente personagens do Windows charset que foram copiados incorretamente e colados nos arquivos UTF-8 EML. Gerar conjuntos de dados Xml sanita esses caracteres para, por exemplo,\\[#128\\], ent\xe3o eles s\xe3o f\xe1ceis de procurar noERDDAP\u2122 datasets.xmlficheiro."}),"\n",(0,r.jsx)(a.p,{children:"Seria bom se o verificador EML verificasse isto. \xc9 f\xe1cil de encontrar e f\xe1cil de corrigir."}),"\n",(0,r.jsx)(a.h3,{id:"different-column-unitsdifferentcolumnunits",children:"Unidades de coluna diferentes] (# DifferentColumnUnits)"}),"\n",(0,r.jsx)(a.p,{children:'Algumas tabelas de dados EML definem colunas que s\xe3o inconsistentes com as colunas no arquivo de dados, notadamente porque possuem unidades diferentes. Gerar conjuntos de dados Xml sinaliza estes. Cabe ao operador decidir se as diferen\xe7as est\xe3o bem ou n\xe3o. Estes aparecem no arquivo de falhas como tabelas de dados "SKIPPED". EXEMPLO no arquivo de falhas SBC LTER:'}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{children:"      < SKIPPED (USUALLY BECAUSE THE COLUMN NAMES IN THE DATAFILE ARE IN\r\n      A DIFFERENT ORDER OR HAVE DIFFERENT UNITS THAN IN THE EML file):\r\n       datasetID=knb\\\\_lter\\\\_sbc\\\\_3\\\\_t1\r\n      dataFile=SBCFC\\\\_Precip\\\\_Daily\\\\_active\\\\_logger.csv\r\n      The data file and EML file have different column names.\r\n      ERDDAP\u2122 would like to equate these pairs of names:\r\n        Daily\\\\_Precipitation\\\\_Total\\\\_mm = Daily\\\\_Precipitation\\\\_Total\\\\_inch\r\n        Flag\\\\_Daily\\\\_Precipitation\\\\_Total\\\\_mm = Flag\\\\_Daily\\\\_Precipitation\\\\_Total\\\\_inch\r\n      --\x3e\n"})}),"\n",(0,r.jsx)(a.p,{children:"Seria bom se o verificador EML verificasse que as unidades correspondem. Infelizmente, isso provavelmente \xc3\xa9 imposs\xedvel de capturar e, em seguida, imposs\xedvel de resolver sem entrar em contato com o criador de conjuntos de dados, uma vez que o arquivo de origem n\xc3\xa3o inclui unidades. A discrep\xe2ncia para o exemplo acima s\xf3 foi percept\xedvel porque as unidades foram inclu\xeddas no nome da coluna de origem e no nome da coluna EML. Quantas outras tabelas de dados t\xeam esse problema, mas s\xe3o indetect\xe1veis?"}),"\n",(0,r.jsx)(a.h3,{id:"different-versions-of-eml",children:"Vers\xf5es diferentes de EML"}),"\n",(0,r.jsx)(a.p,{children:"Gerar conjuntos de dados Xml \xe9 projetado para trabalhar com EML 2.1.1. Outras vers\xf5es do EML funcionar\xe3o na medida em que correspondem a 2.1.1 ou que o GerrateDatasetsXml tem um c\xf3digo especial para lidar com ele. Este \xe9 um problema raro. Quando ocorre, a solu\xe7\xe3o \xe9 converter seus arquivos para EML 2.1.1, ou enviar o arquivo EML paraerd.data at noaa.gov, para que eu possa fazer altera\xe7\xf5es no GerarDatasets Xml para lidar com as diferen\xe7as."}),"\n",(0,r.jsx)(a.p,{children:"Bob adicionou suporte para arquivos EML para GerarDatasets Xml em 2016 com a esperan\xe7a de que haveria alguma aceita\xe7\xe3o na comunidade EML. A partir de 2020, isso n\xe3o aconteceu. Bob est\xe1 feliz em adicionar suporte para vers\xf5es mais recentes do EML, mas apenas se os novos recursos realmente ser\xe3o usados. Por favor e-mailerd.data at noaa.govse voc\xea quiser suporte para vers\xf5es mais recentes do EML e vai realmente usar este recurso."}),"\n",(0,r.jsx)(a.h3,{id:"trouble-parsing-the-data-file",children:"Solucionar o arquivo de dados"}),"\n",(0,r.jsxs)(a.p,{children:['Raramente, uma tabela de dados pode ser rejeitada com o erro "n\xfamero inesperado de itens na linha #120 (observado=52, esperado=50) " Uma mensagem de erro como esta significa que uma linha no arquivo de dados tinha um n\xfamero diferente de valores do que as outras linhas. Pode ser um problema emERDDAP\u2122  (por exemplo, n\xe3o analisar o arquivo corretamente) ou no arquivo. EXEMPLO DA SBC LTER:\r\n',(0,r.jsx)(a.a,{href:"https://sbclter.msi.ucsb.edu/external/InformationManagement/eml_2018_erddap/",children:" https://sbclter.msi.ucsb.edu/external/InformationManagement/eml\\_2018\\_erddap/ "}),"dataTable #3, veja datafile=LTER\\_monthly\\_bottledata\\_registered\\_stations\\_20140429.txt"]})]})}function u(e={}){const{wrapper:a}={...(0,d.R)(),...e.components};return a?(0,r.jsx)(a,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);