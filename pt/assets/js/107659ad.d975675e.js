"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[4354],{28453:(e,o,a)=>{a.d(o,{R:()=>n,x:()=>t});var r=a(96540);const s={},i=r.createContext(s);function n(e){const o=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function t(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:n(e.components),r.createElement(i.Provider,{value:o},e.children)}},32452:(e,o,a)=>{a.r(o),a.d(o,{assets:()=>d,contentTitle:()=>t,default:()=>m,frontMatter:()=>n,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"server-admin/deploy-install","title":"Instalar","description":"Como fazer a configura\xe7\xe3o inicial deERDDAP\u2122em seu servidor","source":"@site/i18n/pt/docusaurus-plugin-content-docs/current/server-admin/deploy-install.md","sourceDirName":"server-admin","slug":"/server-admin/deploy-install","permalink":"/pt/docs/server-admin/deploy-install","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/deploy-install.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docSidebar","previous":{"title":"Server Administration","permalink":"/pt/docs/category/server-administration"},"next":{"title":"Atualiza\xe7\xe3o","permalink":"/pt/docs/server-admin/deploy-update"}}');var s=a(74848),i=a(28453);const n={sidebar_position:1},t="Instalar",d={},c=[{value:"Java",id:"java",level:2},{value:"Tomcat",id:"tomcat",level:2},{value:"servidor.xml",id:"serverxml",level:3},{value:"content.xml",id:"contentxml",level:3},{value:"Apache Timeout",id:"apache-timeout",level:3},{value:"Mem\xf3ria",id:"memory",level:3},{value:"Cole\xe7\xe3o de lixo",id:"garbage-collection",level:4},{value:"Permiss\xf5es",id:"permissions",level:3},{value:"Fontes",id:"fonts",level:3},{value:"Teste Tomcat",id:"test-tomcat",level:3},{value:"Problemas com a instala\xe7\xe3o do Tomcat?",id:"troubles-with-the-tomcat-installation",level:3},{value:"ERDDAP\u2122Conte\xfado",id:"erddap-content",level:3},{value:"Outros relat\xf3rios",id:"other-directory",level:4},{value:"setup.xml",id:"setupxml",level:3},{value:"Vari\xe1veis de Ambiente",id:"environment-variables",level:3},{value:"datasets.xml",id:"datasetsxml",level:3},{value:"Instale o arquivo erddap.war",id:"install-the-erddapwar-file",level:3},{value:"ProxyPass",id:"proxypass",level:4},{value:"NGINX",id:"nginx",level:3},{value:"Come\xe7ar Tomcat",id:"start-tomcat",level:3},{value:"\xc9ERDDAP\u2122Correr?",id:"is-erddap-running",level:2},{value:"Resolu\xe7\xe3o de problemas",id:"troubleshooting",level:3},{value:"Problemas: Vers\xe3o antiga deJava",id:"trouble-old-version-of-java",level:3},{value:"Problemas: Inicializa\xe7\xe3o lenta Primeira vez",id:"trouble-slow-startup-first-time",level:3},{value:"Desligue e reinicie",id:"shut-down-and-restart",level:2},{value:"Problemas?",id:"trouble",level:2},{value:"Notifica\xe7\xe3o por e-mail de novas vers\xf5es deERDDAP",id:"email-notification-of-new-versions-of-erddap",level:2},{value:"Personalizar",id:"customize",level:2}];function l(e){const o={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.header,{children:(0,s.jsx)(o.h1,{id:"instalar",children:"Instalar"})}),"\n",(0,s.jsx)(o.p,{children:"Como fazer a configura\xe7\xe3o inicial deERDDAP\u2122em seu servidor"}),"\n",(0,s.jsx)(o.p,{children:"ERDDAP\u2122pode ser executado em qualquer servidor que suporteJavae Tomcat (e outros servidores de aplicativos como a Jetty, mas n\xe3o os apoiamos) .ERDDAP\u2122foi testado no Linux (incluindo na AWS da Amazon) , Mac e computadores Windows."}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Amazonas"})," - ... Se voc\xea est\xe1 instalandoERDDAP\u2122em uma inst\xe2ncia do Amazon Web Services EC2, veja isso",(0,s.jsx)(o.a,{href:"/docs/server-admin/additional-information#amazon",children:"Amazon Web Services Vis\xe3o geral"}),"primeiro."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Docker."})," - ... Axiom agora oferece",(0,s.jsx)(o.a,{href:"https://hub.docker.com/u/axiom/",children:"ERDDAP\u2122em um recipiente Docker"}),"e IOOS agora oferece um",(0,s.jsx)(o.a,{href:"https://ioos.github.io/erddap-gold-standard/index.html",children:"Guia de in\xedcio r\xe1pido paraERDDAP\u2122em um recipiente de Docker"}),".\n\xc9 o padr\xe3oERDDAP\u2122instala\xe7\xe3o, mas Axiom colocou-o em um recipiente docker.\nSe voc\xea j\xe1 usar Docker, voc\xea provavelmente vai preferir a vers\xe3o Docker.\nSe voc\xea ainda n\xe3o usa Docker, geralmente n\xe3o recomendamos isso.\nSe voc\xea escolheu instalarERDDAP\u2122via Docker, n\xe3o oferecemos suporte para o processo de instala\xe7\xe3o.\nAinda n\xe3o trabalhamos com o Docker. Se voc\xea trabalha com isso, envie-nos seus coment\xe1rios."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Linux e Macs"})," - ...ERDDAP\u2122funciona muito bem em computadores Linux e Mac. Veja as instru\xe7\xf5es abaixo."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Windows"})," - ... O Windows est\xe1 bem para testarERDDAP\u2122e para uso pessoal (ver as instru\xe7\xf5es abaixo) , mas n\xe3o recomendamos us\xe1-lo para p\xfablicoERDDAPS. CorrerERDDAP\u2122no Windows pode ter problemas: notavelmente,ERDDAP\u2122pode ser incapaz de excluir e / ou renomear arquivos rapidamente. Isto \xe9 provavelmente devido ao software antiv\xedrus (por exemplo, da McAfee e Norton) que est\xe1 verificando os arquivos para v\xedrus. Se voc\xea correr para este problema (que pode ser visto por mensagens de erro no",(0,s.jsx)(o.a,{href:"/docs/server-admin/additional-information#log",children:"- N\xe3o."}),'arquivo como "Unable to delete ...") , alterar as configura\xe7\xf5es do software antiv\xedrus pode aliviar parcialmente o problema. Ou considere usar um servidor Linux ou Mac em vez disso.']}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.strong,{children:"O padr\xe3oERDDAP\u2122instru\xe7\xf5es de instala\xe7\xe3o para computadores Linux, Macs e Windows s\xe3o:"})}),"\n",(0,s.jsxs)(o.ol,{start:"0",children:["\n",(0,s.jsx)(o.li,{children:"Certifique-se de que todas as depend\xeancias est\xe3o instaladas. Em m\xe1quinas n\xe3o Windows (Linux e Mac) , voc\xea precisa de csh."}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"java",children:"Java"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsxs)(o.p,{children:[(0,s.jsx)(o.a,{href:"#java",children:"ParaERDDAP\u2122v2.19+, configurarJava21."}),"\nPor raz\xf5es de seguran\xe7a, \xe9 quase sempre melhor usar a vers\xe3o mais recente doJava21.\nPor favor, baixe e instale a \xfaltima vers\xe3o do\n",(0,s.jsx)(o.a,{href:"https://adoptium.net/temurin/releases/?version=21",children:"OpenJDK do adotivo (Temurin) 21 (LTS) "}),'. Para verificar a instala\xe7\xe3o, digite "/',(0,s.jsx)(o.em,{children:"javaJreBinDirectory"}),'/java -vers\xe3o", por exemplo\n/usr/local/jdk-21.0.3+9/jre/bin/java -vers\xe3o']}),"\n",(0,s.jsx)(o.p,{children:"ERDDAP\u2122trabalhos comJavade outras fontes, mas recomendamos o Adotivo porque \xe9 o principal, apoiado pela comunidade, livre (como em cerveja e fala) vers\xe3o deJava21 que oferece suporte de longo prazo (atualiza\xe7\xf5es gratuitas por muitos anos ap\xf3s a vers\xe3o inicial) . Por raz\xf5es de seguran\xe7a, atualize o seuERDDAPA vers\xe3o deJavaperiodicamente como novas vers\xf5es deJava21 tornam-se dispon\xedveis a partir do Adotivo."}),"\n",(0,s.jsx)(o.p,{children:"ERDDAP\u2122foi testado e usado extensivamente com 21, n\xe3o outras vers\xf5es. Por v\xe1rias raz\xf5es, n\xe3o testamos nem apoiamos outras vers\xf5es deJava.\n\xa0"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"tomcat",children:"Tomcat"}),"\n",(0,s.jsxs)(o.ol,{start:"2",children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"#tomcat",children:"Configurar"})," ",(0,s.jsx)(o.a,{href:"https://tomcat.apache.org",children:"Tomcat"}),".\nTomcat \xe9 o mais amplamente utilizadoJavaServidor de Aplica\xe7\xe3o, que \xe9Javasoftware que est\xe1 entre os servi\xe7os de rede do sistema operacional eJavasoftware de servidor comoERDDAP\u2122. \xc9 Software de c\xf3digo livre e aberto (FOSS) ."]}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"Voc\xea pode usar outroJavaServidor de Aplica\xe7\xe3o (por exemplo, Jetty) Mas s\xf3 testamos e apoiamos o Tomcat.\n\xa0"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["Fa\xe7a o download do Tomcat e descompacte-o em seu servidor ou PC.\nPor raz\xf5es de seguran\xe7a, \xe9 quase sempre melhor usar a vers\xe3o mais recente do Tomcat 10 (vers\xe3o 9 e abaixo n\xe3o s\xe3o aceit\xe1veis) que \xe9 projetado para trabalhar comJava21 ou mais. Abaixo, o diret\xf3rio Tomcat ser\xe1 referido como ",(0,s.jsx)(o.em,{children:"tomcat"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["Aten\xe7\xe3o! Se voc\xea j\xe1 tem um Tomcat executando alguma outra aplica\xe7\xe3o web (especialmente TR\xcaS) , recomendamos que voc\xea instaleERDDAP\u2122em",(0,s.jsx)(o.a,{href:"/docs/server-admin/additional-information#second-tomcat",children:"um segundo Tomcat"}),"PorqueERDDAP\u2122precisa de diferentes configura\xe7\xf5es Tomcat e n\xe3o deve ter que lidar com outras aplica\xe7\xf5es para mem\xf3ria."]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["No Linux,",(0,s.jsx)(o.a,{href:"https://tomcat.apache.org/download-10.cgi",children:'baixar o "Core" "tar.gz" Distribui\xe7\xe3o Tomcat'}),"e desempachem-no. Recomendamos desempach\xe1-lo em /usr/local."]}),"\n",(0,s.jsxs)(o.li,{children:["Em um Mac, Tomcat provavelmente j\xe1 est\xe1 instalado em /Library/Tomcat, mas deve atualiz\xe1-lo para a vers\xe3o mais recente do Tomcat 10.\nSe voc\xea o baixar,",(0,s.jsx)(o.a,{href:"https://tomcat.apache.org/download-10.cgi",children:'baixar o "Core" "tar.gz" Distribui\xe7\xe3o Tomcat'}),"e desempach\xe1-lo em /Library/Tomcat."]}),"\n",(0,s.jsxs)(o.li,{children:["No Windows, voc\xea pode",(0,s.jsx)(o.a,{href:"https://tomcat.apache.org/download-10.cgi",children:'baixar a distribui\xe7\xe3o "Core" "zip" Tomcat'}),'  (que n\xe3o se mexe com o registro do Windows e que voc\xea controla de uma linha de comando DOS) e desempach\xe1-lo em um diret\xf3rio apropriado. (Para o desenvolvimento, usamos a distribui\xe7\xe3o "Core" "zip". Fazemos um diret\xf3rio /programs e desempach\xe1-lo l\xe1.) Ou voc\xea pode baixar a distribui\xe7\xe3o "Core" "64-bit Windows zip", que inclui mais recursos. Se a distribui\xe7\xe3o for um instalador do Windows, provavelmente colocar\xe1 Tomcat em, por exemplo, /Program Files/apache-tomcat-10.0.23 .\n\xa0']}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"serverxml",children:"servidor.xml"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"#serverxml",children:"servidor.xml"}),"- No arquivo ",(0,s.jsx)(o.em,{children:"tomcat"}),"/conf/server.xml, h\xe1 duas mudan\xe7as que voc\xea deve fazer para cada um dos dois<Connector > tags- um para"]}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:'        <Connector port="8080" \n'})}),"\n",(0,s.jsx)(o.p,{children:"e um para"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:'        <Conector port="8443"\n'})}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsx)(o.li,{children:"(Recomendado) Aumentar o valor do par\xe2metro de conex\xe3oTimeout, talvez para 300000 (milissegundos)   (que \xe9 5 minutos) ."}),"\n",(0,s.jsx)(o.li,{children:'(Recomendado) Adicione um novo par\xe2metro: relaxedQueryChars="\\[\\]|" Isso \xe9 opcional e ligeiramente menos seguro, mas remove a necessidade de usu\xe1rios codificar por cento esses caracteres quando ocorrem nos par\xe2metros da URL de solicita\xe7\xe3o de um usu\xe1rio.\n\xa0'}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"contentxml",children:"content.xml"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["context.xml -- Recursos Cache - Em ",(0,s.jsx)(o.em,{children:"tomcat"}),'/conf/context.xml, mesmo antes do</Context > tag, altere a tag Recursos (ou adicion\xe1-lo se j\xe1 n\xe3o estiver l\xe1) para definir o cache Par\xe2metro MaxSize para 80000:\n<Recursos cachingAllowed="true" cacheMaxSize="80000" />\nIsso evita in\xfameros avisos em catalina. que tudo come\xe7ar com\n"WARNING\\[principal\\]org.apache.catalina.webresources.Cache.getRecurso Incapaz de adicionar o recurso em\\[/WEB-INF/classes/...]"\n\xa0']}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"apache-timeout",children:"Apache Timeout"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:['Em computadores Linux, altere as configura\xe7\xf5es de tempo limite do Apache para que os pedidos de usu\xe1rios demorados n\xe3o sejam demorados (com o que muitas vezes aparece como um erro "Proxy" ou "Bad Gateway") . Como usu\xe1rio root:',"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsx)(o.li,{children:"Modificar o Apachehttparquivo d.conf (geralmente em /etc/httpd/conf/) :\nAlterar o existente<Timeout > configura\xe7\xe3o (ou adicionar um no final do arquivo) para 3600 (segundos.) , em vez do padr\xe3o 60 ou 120 segundos.\nAlterar o existente<ProxyTimeout > configura\xe7\xe3o (ou adicionar um no final do arquivo) para 3600 (segundos.) , em vez do padr\xe3o 60 ou 120 segundos."}),"\n",(0,s.jsx)(o.li,{children:"Reinicie Apache: /usr/sbin/apachectl -k gracioso (mas \xe0s vezes \xe9 em um diret\xf3rio diferente) .\n\xa0"}),"\n"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["Recomenda\xe7\xe3o de seguran\xe7a: Ver",(0,s.jsx)(o.a,{href:"https://tomcat.apache.org/tomcat-10.0-doc/security-howto.html",children:"estas instru\xe7\xf5es"}),"para aumentar a seguran\xe7a de sua instala\xe7\xe3o Tomcat, especialmente para servidores p\xfablicos.\n\xa0"]}),"\n",(0,s.jsxs)(o.li,{children:['Para o p\xfablicoERDDAP\u2122instala\xe7\xf5es no Linux e Macs, \xe9 melhor configurar o Tomcat (o programa) como pertencente ao usu\xe1rio "tomcat" (um usu\xe1rio separado com permiss\xf5es limitadas e que',(0,s.jsx)(o.a,{href:"https://unix.stackexchange.com/questions/56765/creating-an-user-without-a-password",children:"n\xe3o tem senha"}),") . Assim, apenas o super usu\xe1rio pode mudar para atuar como tomcat do usu\xe1rio. Isso torna imposs\xedvel para hackers fazer login em seu servidor como tomcat usu\xe1rio. E, em qualquer caso, voc\xea deve faz\xea-lo para que o usu\xe1rio tomcat tenha permiss\xf5es muito limitadas no sistema de arquivos do servidor (leia+write+execute privil\xe9gios para a \xe1rvore de diret\xf3rio apache-tomcat e<bigParentDirectory > e privil\xe9gios somente leitura para diret\xf3rios com dados queERDDAP\u2122precisa de acesso a).","\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsx)(o.p,{children:"Voc\xea pode criar a conta de usu\xe1rio tomcat (que n\xe3o tem senha) usando o comando\nsudo useradd tomcat -s /bin/bash -p '\\* '"}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsx)(o.p,{children:"Voc\xea pode mudar para trabalhar como tomcat do usu\xe1rio usando o comando\nsudo su - tomcat\n(Ele ir\xe1 pedir-lhe a senha do superusu\xe1rio para permiss\xe3o para fazer isso.)"}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsx)(o.p,{children:"Voc\xea pode parar de trabalhar como tomcat do usu\xe1rio usando o comando\nsa\xedda"}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsx)(o.p,{children:'Fa\xe7a a maior parte do resto do Tomcat eERDDAP\u2122instru\xe7\xf5es de configura\xe7\xe3o como usu\xe1rio "tomcat". Mais tarde, execute os scripts start.sh e shutdown.sh como usu\xe1rio "tomcat" para que Tomcat tenha permiss\xe3o para escrever para seus arquivos de log.'}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsx)(o.p,{children:"Depois de descompactar Tomcat, do pai do diret\xf3rio apache-tomcat:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["Alterar a propriedade da \xe1rvore de diret\xf3rio apache-tomcat para o usu\xe1rio tomcat.\nchown -R tomcat apache-tomcat-",(0,s.jsx)(o.em,{children:"10.0.23"}),"\n(mas substitua o nome real do seu diret\xf3rio tomcat) ."]}),"\n",(0,s.jsxs)(o.li,{children:['Alterar o "grupo" para ser tomcat, seu nome de usu\xe1rio ou o nome de um pequeno grupo que inclui tomcat e todos os administradores da Tomcat/ERDDAP, por exemplo,\nO que fazer? UserName_ apache-tomcat-',(0,s.jsx)(o.em,{children:"10.0.23"})]}),"\n",(0,s.jsxs)(o.li,{children:["Alterar permiss\xf5es para que o tomcat e o grupo tenham lido, escrever, executar privil\xe9gios, por exemplo,.\nchmod -R ug+rwx apache-tomcat-",(0,s.jsx)(o.em,{children:"10.0.23"})]}),"\n",(0,s.jsxs)(o.li,{children:['Remover as permiss\xf5es do usu\xe1rio "outros" para ler, escrever ou executar:\napache-tomcat-',(0,s.jsx)(o.em,{children:"10.0.23"}),"\nIsso \xe9 importante, porque impede que outros usu\xe1rios leiam informa\xe7\xf5es possivelmente sens\xedveis emERDDAP\u2122arquivos de configura\xe7\xe3o."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"memory",children:"Mem\xf3ria"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"Definir Vari\xe1veis de Ambiente da Tomcat"}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["No Linux e Macs:\nCriar um arquivo ",(0,s.jsx)(o.em,{children:"tomcat"}),"/bin/setenv.sh (ou em Red Hat Enterprise Linux\\[RH\\], edit ~tomcat/conf/tomcat10.conf) para definir as vari\xe1veis de ambiente da Tomcat. Este arquivo ser\xe1 usado por ",(0,s.jsx)(o.em,{children:"tomcat"}),"/bin/startup.sh e shutdown.sh. O arquivo deve conter algo como:"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"    export JAVA\\\\_HOME=/usr/local/jdk-21.0.3+9  \n    export JAVA\\\\_OPTS='-server -Djava.awt.headless=true -Xmx1500M -Xms1500M'  \n    export TOMCAT\\\\_HOME=/usr/local/apache-tomcat-_10.0.23_  \n    export CATALINA\\\\_HOME=/usr/local/apache-tomcat-_10.0.23_\n"})}),"\n",(0,s.jsxs)(o.p,{children:["(mas substitua os nomes de diret\xf3rio do seu computador) .\n(Se voc\xea definir anteriormente JRE\\_HOME, voc\xea pode remover isso.)",(0,s.jsx)(o.br,{}),"\n","Em Macs, voc\xea provavelmente n\xe3o precisa definir JAVA\\_HOME."]}),"\n",(0,s.jsxs)(o.p,{children:["No Windows:\nCrie um arquivo ",(0,s.jsx)(o.em,{children:"tomcat"}),"\\bin\\\\setenv.bat para definir as vari\xe1veis de ambiente de Tomcat. Este arquivo ser\xe1 usado por ",(0,s.jsx)(o.em,{children:"tomcat"}),"\\bin\\\\startup.bat eshutdown.bat. O arquivo deve conter algo como:"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:'    SET "JAVA\\\\_HOME=\\\\_someDirectory_\\\\jdk-21.0.3+9"  \n    SET "JAVA\\\\_OPTS=-server -Xmx1500M -Xms1500M"  \n    SET "TOMCAT\\\\_HOME=\\\\Program Files\\\\apache-tomcat-_10.0.23_"  \n    SET "CATALINA\\\\_HOME=\\\\Program Files\\\\apache-tomcat-_10.0.23_"\n'})}),"\n",(0,s.jsx)(o.p,{children:'(mas substitua os nomes de diret\xf3rio do seu computador) .\nSe isso for apenas para testes locais, remova "-servidor".\n(Se voc\xea definir anteriormente JRE\\_HOME, voc\xea pode remover isso.)'}),"\n",(0,s.jsx)(o.p,{children:"As configura\xe7\xf5es de mem\xf3ria -Xmx e -Xms s\xe3o importantes porqueERDDAP\u2122funciona melhor com mais mem\xf3ria. Sempre definir -Xms para o mesmo valor que -Xmx."}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsx)(o.p,{children:"Para sistemas operacionais de 32 bits e 32 bitsJava:\n64 bitsJava\xe9 muito melhor do que 32 bitsJava, mas 32 bitJavavai funcionar enquanto o servidor n\xe3o estiver realmente ocupado. Quanto mais mem\xf3ria f\xedsica no servidor melhor: 4+ GB \xe9 realmente bom, 2 GB \xe9 ok, menos n\xe3o \xe9 recomendado. Com 32 bitsJava, mesmo com abundante mem\xf3ria f\xedsica, Tomcat eJavan\xe3o ser\xe1 executado se voc\xea tentar definir -Xmx muito acima 1500M (1200M em alguns computadores) . Se o seu servidor tiver menos de 2GB de mem\xf3ria, reduza o valor -Xmx (em 'M'egaBytes) para 1/2 da mem\xf3ria f\xedsica do computador."}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsx)(o.p,{children:"Para sistemas operacionais de 64 bits e 64 bitsJava:\n64 bitsJavas\xf3 funcionar\xe1 em um sistema operacional de 64 bits."}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"ComJava8, voc\xea precisa adicionar \\-d64 ao par\xe2metro Tomcat CATALINA\\_OPTS em setenv.bat"}),"\n",(0,s.jsx)(o.li,{children:'ComJava21, voc\xea escolhe 64 bitsJavaQuando voc\xea baixar uma vers\xe3o doJavamarcado "64 bits".'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["Com 64 bitsJava, Tomcat eJavapode usar configura\xe7\xf5es muito altas -Xmx e -Xms. Quanto mais mem\xf3ria f\xedsica no servidor melhor. Como uma sugest\xe3o simplista: recomendamos que voc\xea definir -Xmx e -Xms para (em 'M'egaBytes) para 1/2 (ou menos) da mem\xf3ria f\xedsica do computador. Podes ver se o Tomcat,JavaeERDDAP\u2122est\xe3o realmente em execu\xe7\xe3o no modo de 64 bits, procurando por \" bit,\" emERDDAP's Daily Report email ou no ",(0,s.jsx)(o.em,{children:"bigParentDirectory"}),"/logs/",(0,s.jsx)(o.a,{href:"/docs/server-admin/additional-information#log",children:"- N\xe3o."}),"arquivo (",(0,s.jsx)(o.em,{children:"bigParentDirectory"})," \xe9 especificado em",(0,s.jsx)(o.a,{href:"#setupxml",children:"setup.xml"}),") ."]}),"\n",(0,s.jsx)(o.h4,{id:"garbage-collection",children:"Cole\xe7\xe3o de lixo"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["EmERDDAP\u2122'",(0,s.jsx)(o.a,{href:"/docs/server-admin/additional-information#log",children:"- N\xe3o."}),'arquivo, voc\xea ver\xe1 muitos "GC (Incumprimento de Estado) "mensagens.\nIsto geralmente n\xe3o \xe9 um problema. \xc9 uma mensagem frequente de um funcionamento normalJavadizendo que acabou de terminar uma pequena cole\xe7\xe3o de lixo porque ficou sem espa\xe7o no \xc9den (a se\xe7\xe3o daJavaheap para objetos muito jovens) . Normalmente a mensagem mostra-lhe ',(0,s.jsx)(o.em,{children:"memoryUseBefore"}),"\\->",(0,s.jsx)(o.em,{children:"memoryUseAfter"}),". Se esses dois n\xfameros est\xe3o pr\xf3ximos, significa que a cole\xe7\xe3o de lixo n\xe3o foi produtiva. A mensagem \xe9 apenas um sinal de problemas se \xe9 muito frequente (a cada poucos segundos) , n\xe3o produtivo, e os n\xfameros s\xe3o grandes e n\xe3o crescentes, que juntos indicam queJavaprecisa de mais mem\xf3ria, est\xe1 lutando para libertar a mem\xf3ria, e \xe9 incapaz de liberar a mem\xf3ria. Isso pode acontecer durante um tempo estressante, ent\xe3o v\xe1 embora. Mas se persistir, isso \xe9 um sinal de problemas."]}),"\n",(0,s.jsxs)(o.li,{children:["Se voc\xea v\xea java.lang.OutOfMemoryError est\xe1 emERDDAP\u2122'",(0,s.jsx)(o.a,{href:"/docs/server-admin/additional-information#log",children:"- N\xe3o."}),"ficheiro, ver",(0,s.jsx)(o.a,{href:"/docs/server-admin/additional-information#outofmemoryerror",children:"Erro"}),"para dicas sobre como diagnosticar e resolver os problemas.\n\xa0"]}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"permissions",children:"Permiss\xf5es"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"#permissions",children:"No Linux e Macs, altere as permiss\xf5es"}),"de todos\\*.sharquivos em ",(0,s.jsx)(o.em,{children:"tomcat"}),"/bin/ para ser execut\xe1vel pelo propriet\xe1rio, por exemplo, com"]}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"    chmod +x \\\\*.sh  \n"})}),"\n",(0,s.jsx)(o.h3,{id:"fonts",children:"Fontes"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"#fonts",children:"Fontes para imagens:"}),"Preferimos fortemente o livre",(0,s.jsx)(o.a,{href:"https://dejavu-fonts.github.io/",children:"Fontes de DejaVu"}),"para o outroJavafontes. Usar essas fontes \xe9 fortemente recomendado, mas n\xe3o \xe9 necess\xe1rio."]}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"Se voc\xea optar por n\xe3o usar as fontes DejaVu, voc\xea precisa alterar a configura\xe7\xe3o fontFamily no setup.xml para<fonteFamily > SansSerif</fontFamily>, que est\xe1 dispon\xedvel com todosJavadistribui\xe7\xf5es. Se voc\xea definir fontFamily para o nome de uma fonte que n\xe3o est\xe1 dispon\xedvel,ERDDAP\u2122N\xe3o carregar\xe1 e imprimir\xe1 uma lista de fontes dispon\xedveis no arquivo log.txt. Voc\xea deve usar uma dessas fontes."}),"\n",(0,s.jsx)(o.p,{children:"Se voc\xea optar por usar as fontes DejaVu, verifique se a configura\xe7\xe3o fontFamily no setup.xml \xe9<fonte Fam\xedlia > DejaVu Sans</fontFamily >."}),"\n",(0,s.jsxs)(o.p,{children:["Para instalar as fontes DejaVu, fa\xe7a o download",(0,s.jsx)(o.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:a(62900).A+"",children:"DejaVuFontes.zip"}),"  (5,522,795 bytes, MD5=33E1E61FAB06A547851ED308B4FFEF42) e descompactar os arquivos de fonte para um diret\xf3rio tempor\xe1rio."]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["No Linux:","\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["Para Linux AdoptiumJavadistribui\xe7\xe3o, ver",(0,s.jsx)(o.a,{href:"https://blog.adoptopenjdk.net/2021/01/prerequisites-for-font-support-in-adoptopenjdk/",children:"estas instru\xe7\xf5es"}),"."]}),"\n",(0,s.jsxs)(o.li,{children:["Com outrosJavadistribui\xe7\xf5es: Como o usu\xe1rio Tomcat, copie os arquivos de fonte em _JAVA\\",(0,s.jsx)(o.em,{children:"HOME"}),"/lib/fonts assimJavapode encontrar as fontes. Lembre-se: se / quando voc\xea mais tarde atualizar para uma vers\xe3o mais recente deJava, voc\xea precisa reinstalar essas fontes."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(o.li,{children:"Em Macs: para cada arquivo de fonte, clique duas vezes nele e, em seguida, clique em Instalar fonte."}),"\n",(0,s.jsx)(o.li,{children:"No Windows 7 e 10: no Windows Explorer, selecione todos os arquivos de fonte. Clique com o bot\xe3o direito. Clique em Instalar.\n\xa0"}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"test-tomcat",children:"Teste Tomcat"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["Teste sua instala\xe7\xe3o Tomcat.","\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsx)(o.p,{children:"Linux:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:['Como usu\xe1rio "tomcat", execute ',(0,s.jsx)(o.em,{children:"tomcat"}),"/bin/startup.sh"]}),"\n",(0,s.jsxs)(o.li,{children:['Ver sua URL + ":8080/" no seu navegador (por exemplo,',(0,s.jsx)(o.a,{href:"http://coastwatch.pfeg.noaa.gov:8080/",children:" http://coastwatch.pfeg.noaa.gov:8080/ "}),") ."]}),"\n",(0,s.jsxs)(o.li,{children:['Voc\xea deve ver a p\xe1gina "Parab\xe9ns" Tomcat.\nSe houver problemas, consulte o arquivo de log do Tomcat ',(0,s.jsx)(o.em,{children:"tomcat"}),"/logs/catalina.out."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsx)(o.p,{children:"Mac (executar tomcat como usu\xe1rio administrador do sistema) :"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["Executar ",(0,s.jsx)(o.em,{children:"tomcat"}),"/bin/startup.sh"]}),"\n",(0,s.jsxs)(o.li,{children:['Ver sua URL + ":8080/" no seu navegador (por exemplo,',(0,s.jsx)(o.a,{href:"http://coastwatch.pfeg.noaa.gov:8080/",children:" http://coastwatch.pfeg.noaa.gov:8080/ "}),") . Note que, por padr\xe3o, seu Tomcat s\xf3 \xe9 acess\xedvel por voc\xea. N\xe3o \xe9 publicamente acess\xedvel."]}),"\n",(0,s.jsxs)(o.li,{children:['Voc\xea deve ver a p\xe1gina "Parab\xe9ns" Tomcat.\nSe houver problemas, consulte o arquivo de log do Tomcat ',(0,s.jsx)(o.em,{children:"tomcat"}),"/logs/catalina.out."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsx)(o.p,{children:"Localhost do Windows:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:'Clique com o bot\xe3o direito no \xedcone Tomcat na bandeja do sistema e escolha "Servi\xe7o inicial".'}),"\n",(0,s.jsxs)(o.li,{children:["Visualiza\xe7\xe3o",(0,s.jsx)(o.a,{href:"http://127.0.0.1:8080/",children:" http://127.0.0.1:8080/ "}),", ou talvez",(0,s.jsx)(o.a,{href:"http://localhost:8080/",children:" http://localhost:8080/ "}),", no seu navegador. Note que, por padr\xe3o, seu Tomcat s\xf3 \xe9 acess\xedvel por voc\xea. N\xe3o \xe9 publicamente acess\xedvel."]}),"\n",(0,s.jsxs)(o.li,{children:['Voc\xea deve ver a p\xe1gina "Parab\xe9ns" Tomcat.\nSe houver problemas, consulte o arquivo de log do Tomcat ',(0,s.jsx)(o.em,{children:"tomcat"}),"/logs/catalina.out."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"troubles-with-the-tomcat-installation",children:"Problemas com a instala\xe7\xe3o do Tomcat?"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"No Linux e Mac, se voc\xea n\xe3o consegue alcan\xe7ar Tomcat ouERDDAP\u2122  (ou talvez voc\xea simplesmente n\xe3o pode alcan\xe7\xe1-los de um computador fora do seu firewall) , voc\xea pode testar se Tomcat est\xe1 ouvindo a porta 8080, digitando (como raiz) em uma linha de comando do servidor:"}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"    netstat -tuplen | grep 8080  \n"})}),"\n",(0,s.jsx)(o.p,{children:"Isso deve retornar uma linha com algo como:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"    tcp 0 0 :::8080 :::\\\\* LISTEN ## ##### ####/java\n"})}),"\n",(0,s.jsx)(o.p,{children:'(onde \'#\' \xe9 um d\xedgito) , indicando que um processo "java" (presumivelmente Tomcat) est\xe1 ouvindo na porta "8080" para tr\xe1fego "tcp". Se nenhuma linha foi retornada, se a linha retornada \xe9 significativamente diferente, ou se duas ou mais linhas foram retornadas, ent\xe3o pode haver um problema com as configura\xe7\xf5es da porta.'}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["Veja o arquivo de log do Tomcat ",(0,s.jsx)(o.em,{children:"tomcat"}),"/logs/catalina.out. Problemas de Tomcat e algunsERDDAP\u2122problemas de inicializa\xe7\xe3o s\xe3o quase sempre indicados l\xe1. Isso \xe9 comum quando voc\xea est\xe1 configurando primeiroERDDAP\u2122."]}),"\n",(0,s.jsxs)(o.li,{children:["Ver",(0,s.jsx)(o.a,{href:"https://tomcat.apache.org/",children:"Tomcat"}),"site ou pesquisar a web para ajuda, mas por favor nos avise os problemas que voc\xea tinha e as solu\xe7\xf5es que voc\xea encontrou."]}),"\n",(0,s.jsxs)(o.li,{children:["Veja o nosso",(0,s.jsx)(o.a,{href:"/docs/intro#support",children:"se\xe7\xe3o sobre como obter suporte adicional"}),".\n\xa0"]}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"erddap-content",children:"ERDDAP\u2122Conte\xfado"}),"\n",(0,s.jsxs)(o.ol,{start:"3",children:["\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsxs)(o.p,{children:[(0,s.jsx)(o.a,{href:"#erddap-content",children:"Configurar o_tomcat_/content/erddaparquivos de configura\xe7\xe3o."}),(0,s.jsx)(o.br,{}),"\n","No Linux, Mac e Windows, download",(0,s.jsx)(o.a,{href:"https://github.com/ERDDAP/erddapContent/releases/download/content1.0.0/erddapContent.zip",children:"O que \xe9 isso?.zip"}),"  (vers\xe3o 1.0.0, 20333 bytes, MD5=2B8D2A5AE5ED73E3A42B529C168C60B5, datada de 2024-10-14) e descompacte-o em ",(0,s.jsx)(o.em,{children:"tomcat"}),", criando_tomcat_/content/erddap."]}),"\n",(0,s.jsxs)(o.p,{children:["\\[Algumas vers\xf5es anteriores tamb\xe9m est\xe3o dispon\xedveis:\n",(0,s.jsx)(o.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.17/erddapContent.zip",children:"2.17"}),"  (19,792 bytes, MD5=8F892616BAEEF2DF0F4BB036DCB4AD7C, datado de 2022-02-16)",(0,s.jsx)(o.br,{}),"\n",(0,s.jsx)(o.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.18/erddapContent.zip",children:"2.18"}),"  (19,792 bytes, MD5=8F892616BAEEF2DF0F4BB036DCB4AD7C, datado de 2022-02-16)",(0,s.jsx)(o.br,{}),"\n",(0,s.jsx)(o.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.21/erddapContent.zip",children:"2.2.1."}),"  (19,810 bytes, MD5=1E26F62E7A06191EE68C40B9A29362, datado de 2022-10-09)",(0,s.jsx)(o.br,{}),"\n",(0,s.jsx)(o.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.22/erddapContent.zip",children:"2.22"}),"  (19,810 bytes, MD5=1E26F62E7A06191EE68C40B9A29362, datado de 2022-12-08)\n",(0,s.jsx)(o.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.23/erddapContent.zip",children:"2.2.3."}),"  (19,810 bytes, MD5=1E26F62E7A06191EE68C40B9A29362, datado de 2023-02-27)\ne descompacte-o em ",(0,s.jsx)(o.em,{children:"tomcat"}),", criando_tomcat_/content/erddap.\\]"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(o.h4,{id:"other-directory",children:"Outros relat\xf3rios"}),"\n",(0,s.jsx)(o.p,{children:"Para Red Hat Enterprise Linux (RH) ou para outras situa\xe7\xf5es em que voc\xea n\xe3o est\xe1 autorizado a modificar o diret\xf3rio Tomcat ou onde voc\xea quer / precisa colocar oERDDAP\u2122diret\xf3rio de conte\xfado em algum outro local por alguma outra raz\xe3o (por exemplo, se voc\xea usar Jetty em vez de Tomcat) , unzip erddapContent.zipno diret\xf3rio desejado (para o qual apenas user=tomcat tem acesso) e definir oerddapContentDirectorypropriedade do sistema (por exemplo,erddapContentDirectory=~tomcat/content/erddap) Ent\xe3o...ERDDAP\u2122pode encontrar este novo diret\xf3rio de conte\xfado."}),"\n",(0,s.jsx)(o.h3,{id:"setupxml",children:"setup.xml"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsxs)(o.a,{href:"#setupxml",children:["Leia os coment\xe1rios em_tomcat_/content/erddap/ ",(0,s.jsx)(o.strong,{children:"setup.xml"})," "]}),"e fazer as altera\xe7\xf5es solicitadas. setup.xml \xe9 o arquivo com todas as configura\xe7\xf5es que especificam como seuERDDAP\u2122comporta-se.\nPara a configura\xe7\xe3o inicial, voc\xea deve pelo menos alterar essas configura\xe7\xf5es:"]}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"    <bigParentDirectory>, <emailEverythingTo>, <baseUrl>, <email.\\\\*>, <admin.\\\\*> (and <baseHttpsUrl> when you set up https).\n"})}),"\n",(0,s.jsx)(o.p,{children:"Quando voc\xea cria o grandeParentDirectory, do diret\xf3rio pai do bigParentDirectory:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"Fa\xe7a user=tomcat o propriet\xe1rio do bigParentDirectory, por exemplo,"}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"        chown -R tomcat _bigParentDirectory_\n"})}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:'Alterar o "grupo" para ser tomcat, seu nome de usu\xe1rio ou o nome de um pequeno grupo que inclui tomcat e todos os administradores da Tomcat/ERDDAP, por exemplo,'}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"        chgrp -R _yourUserName_ _bigParentDirectory_\n"})}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"Alterar permiss\xf5es para que o tomcat e o grupo tenham lido, escrever, executar privil\xe9gios, por exemplo,."}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"        chmod -R ug+rwx _bigParentDirectory_\n"})}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:'Remova as permiss\xf5es do usu\xe1rio "outros" para ler, escrever ou executar. Isto \xe9 importante para evitar a leitura de informa\xe7\xf5es possivelmente sens\xedveis emERDDAP\u2122logar arquivos e arquivos com informa\xe7\xf5es sobre conjuntos de dados privados.:'}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"        chmod -R o-rwx _bigParentDirectory_\n"})}),"\n",(0,s.jsx)(o.h3,{id:"environment-variables",children:"Vari\xe1veis de Ambiente"}),"\n",(0,s.jsxs)(o.p,{children:["Come\xe7ar comERDDAP\u2122V2.13,ERDDAP\u2122Os administradores podem substituir qualquer valor no setup.xml especificando uma vari\xe1vel de ambiente nomeadaERDDAP\\_",(0,s.jsx)(o.em,{children:"valueName"})," antes de executarERDDAP\u2122. Por exemplo, useERDDAP\\_baseUrl substitui o<baseUrl> valor. Isso pode ser \xfatil ao implantarERDDAP\u2122com um recipiente como Docker, como voc\xea pode colocar configura\xe7\xf5es padr\xe3o no setup.xml e, em seguida, fornecer configura\xe7\xf5es especiais atrav\xe9s de vari\xe1veis de ambiente. Se voc\xea fornecer informa\xe7\xf5es secretas paraERDDAP\u2122atrav\xe9s deste m\xe9todo, certifique-se de verificar se as informa\xe7\xf5es permanecer\xe3o secretas.ERDDAP\u2122somente l\xea vari\xe1veis de ambiente uma vez por startup, no primeiro segundo da inicializa\xe7\xe3o, ent\xe3o uma maneira de usar isso \xe9: definir as vari\xe1veis de ambiente, iniciarERDDAP, espere at\xe9ERDDAP\u2122\xe9 iniciado, ent\xe3o n\xe3o definir as vari\xe1veis de ambiente."]}),"\n",(0,s.jsx)(o.h3,{id:"datasetsxml",children:"datasets.xml"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["Leia os coment\xe1rios em",(0,s.jsxs)(o.a,{href:"/docs/server-admin/datasets",children:[" ",(0,s.jsx)(o.strong,{children:"Trabalhar com odatasets.xmlArquivo"})," "]}),". Mais tarde, depois de voc\xea come\xe7arERDDAP\u2122correndo pela primeira vez (geralmente com apenas os conjuntos de dados padr\xe3o) , voc\xea modificar\xe1 o XML em_tomcat_/content/erddap/ ",(0,s.jsx)(o.strong,{children:"datasets.xml"})," para especificar todos os conjuntos de dados que voc\xea desejaERDDAP\u2122servir. \xc9 aqui que voc\xea vai gastar a maior parte do seu tempo ao configurarERDDAP\u2122e mais tarde, mantendo o seuERDDAP\u2122."]}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["Voc\xea pode ver um exemplo",(0,s.jsx)(o.a,{href:"https://github.com/ERDDAP/erddap/blob/main/development/jetty/config/datasets.xml",children:"datasets.xmlem GitHub"}),".\n\xa0"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["(Diferentemente) Agora ou (ligeiramente mais prov\xe1vel) no futuro, se voc\xea quiser modificar o arquivo CSS do erddap, fa\xe7a uma c\xf3pia do_tomcat_/content/erddap/images/erddapStart2.css chamado erddap2.css e, em seguida, fazer altera\xe7\xf5es a ele. As altera\xe7\xf5es ao erddap2.css s\xf3 entram em vigor quandoERDDAP\u2122\xe9 reiniciado e muitas vezes tamb\xe9m exigem que o usu\xe1rio desmarque os arquivos em cache do navegador.\n\xa0\nERDDAP\u2122n\xe3o funcionar\xe1 corretamente se o setup.xml oudatasets.xmlarquivo n\xe3o \xe9 um arquivo XML bem formado. Ent\xe3o, depois de editar esses arquivos, \xe9 uma boa ideia verificar se o resultado \xe9 XML bem formado, colando o texto XML em um verificador XML como",(0,s.jsx)(o.a,{href:"https://www.xmlvalidation.com/",children:"xmlvalida\xe7\xe3o"}),".\n\xa0"]}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"install-the-erddapwar-file",children:"Instale o arquivo erddap.war"}),"\n",(0,s.jsxs)(o.ol,{start:"4",children:["\n",(0,s.jsxs)(o.li,{children:["No Linux, Mac e Windows, download",(0,s.jsx)(o.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.27.0/erddap.war",children:"erddap.war"}),"em ",(0,s.jsx)(o.em,{children:"tomcat"}),"/webapps .\n(vers\xe3o 2.27.0, 620,554,403 bytes, MD5=3b2086c659eee4145ca2dff447bf4ef7, datado 06-11-2025)"]}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"O arquivo .war \xe9 grande porque cont\xe9m dados de costa de alta resolu\xe7\xe3o, limite e eleva\xe7\xe3o necess\xe1rios para criar mapas."}),"\n",(0,s.jsxs)(o.p,{children:["\\[Algumas vers\xf5es anteriores tamb\xe9m est\xe3o dispon\xedveis.\n",(0,s.jsx)(o.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.17/erddap.war",children:"2.17"}),"  (551,068,245 bytes, MD5=5FEA912B5D42E50EAB9591F773EA848D, datado de 2022-02-16)",(0,s.jsx)(o.br,{}),"\n",(0,s.jsx)(o.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.18/erddap.war",children:"2.18"}),"  (551,069,844 bytes, MD5=461325E97E7577EC671DD50246CCFB8B, datado de 2022-02-23)",(0,s.jsx)(o.br,{}),"\n",(0,s.jsx)(o.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.21/erddap.war",children:"2.2.1."}),"  (568,644,411 bytes, MD5=F2CFF805893146E932E498FDDBD519B6, datado de 2022-10-09)",(0,s.jsx)(o.br,{}),"\n",(0,s.jsx)(o.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.22/erddap.war",children:"2.22"}),"  (567,742,765 bytes, MD5=2B33354F633294213AE2AFDDCF4DA6D0, datado de 2022-12-08)\n",(0,s.jsx)(o.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.23/erddap.war",children:"2.2.3."}),"  (572,124,953 bytes, MD5=D843A043C506725EBD6F8EFDCCA8FD5F, datado de 2023-03)\n",(0,s.jsx)(o.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.24/erddap.war",children:"2.24"}),"  (568,748,187 bytes, MD5=970fbee172e28b0b8a07756eecbc898e, datado de 2024-06-07)\n",(0,s.jsx)(o.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.25.1/erddap.war",children:"2.25"}),"  (592,292,039 bytes, MD5=652AFC9D1421F00B5F789DA2C4732D4C, datado de 2024-11-07)\n",(0,s.jsx)(o.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.26.0/erddap.war",children:"2.26"}),"  (607,404,032 bytes, MD5=99a725108b37708e5420986c1616a119, datado de 2025-03-31)\n\\]"]}),"\n",(0,s.jsx)(o.h4,{id:"proxypass",children:"ProxyPass"}),"\n",(0,s.jsxs)(o.ol,{start:"5",children:["\n",(0,s.jsxs)(o.li,{children:["Use Proxy Passe para que os usu\xe1rios n\xe3o precisem colocar o n\xfamero da porta, por exemplo, :8080, na URL.\nEm computadores Linux, se Tomcat estiver em execu\xe7\xe3o no Apache, modifique o Apachehttparquivo d.conf (geralmente em /etc/httpd/conf/) para permitir o tr\xe1fego HTTPERDDAP\u2122sem exigir o n\xfamero da porta, por exemplo, :8080, na URL. Como usu\xe1rio root:","\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsx)(o.li,{children:"Modifique o existente<VirtualHost > tag (se houver um) , ou adicione um no final do arquivo:"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"        <VirtualHost \\\\*:80>\n           ServerName _YourDomain.org_\n           ProxyRequests Off\n           ProxyPreserveHost On\n           ProxyPass /erddap http://localhost:8080/erddap\n           ProxyPassReverse /erddap http://localhost:8080/erddap\n        </VirtualHost>\n"})}),"\n",(0,s.jsxs)(o.ol,{start:"2",children:["\n",(0,s.jsx)(o.li,{children:"Ent\xe3o reinicie Apache: /usr/sbin/apachectl -k gracioso (mas \xe0s vezes \xe9 em um diret\xf3rio diferente) .\n\xa0"}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"nginx",children:"NGINX"}),"\n",(0,s.jsxs)(o.p,{children:["(UNCOMULHER) Se voc\xea estiver usando",(0,s.jsx)(o.a,{href:"https://www.nginx.com/",children:"NGINX"}),"  (um servidor web e balanceador de carga) :\npara obter NGINX eERDDAP\u2122trabalhar corretamente comhttps, voc\xea precisa colocar o seguinte snippet dentro do Tomcat server.xml<Host > bloco:"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:'    &lt;Valve className="org.apache.catalina.valves.RemoteIpValve"  \n      remoteIpHeader="X-Forwarded-For"  \n      protocolHeader="X-Forwarded-Proto"  \n      protocolHeaderHttpsValue="https" /&gt; \n'})}),"\n",(0,s.jsx)(o.p,{children:"E no arquivo de configura\xe7\xe3o nginx, voc\xea precisa definir esses cabe\xe7alhos:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"      proxy\\\\_set\\\\_header Host              $host;\n      proxy\\\\_set\\\\_header X-Real-IP         $remote\\\\_addr;\n      proxy\\\\_set\\\\_header REMOTE\\\\_ADDR       $remote\\\\_addr;\n      proxy\\\\_set\\\\_header HTTP\\\\_CLIENT\\\\_IP    $remote\\\\_addr;\n      proxy\\\\_set\\\\_header X-Forwarded-For   $proxy\\\\_add\\\\_x\\\\_forwarded\\\\_for;\n      proxy\\\\_set\\\\_header X-Forwarded-Proto $scheme;\n"})}),"\n",(0,s.jsxs)(o.p,{children:["(Gra\xe7as ao Kyle Wilcox.)",(0,s.jsx)(o.br,{}),"\n","\xa0"]}),"\n",(0,s.jsx)(o.h3,{id:"start-tomcat",children:"Come\xe7ar Tomcat"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["(N\xe3o recomendo usar o Tomcat Web Application Manager. Se voc\xea n\xe3o desligar totalmente e iniciar Tomcat, mais cedo ou mais tarde voc\xea ter\xe1 problemas de mem\xf3ria PermGen.)",(0,s.jsx)(o.br,{}),"\n","\xa0"]}),"\n",(0,s.jsxs)(o.li,{children:["(No Linux ou Mac OS, se voc\xea criou um usu\xe1rio especial para executar Tomcat, por exemplo, tomcat, lembre-se de fazer os seguintes passos como esse usu\xe1rio.)",(0,s.jsx)(o.br,{}),"\n","\xa0"]}),"\n",(0,s.jsxs)(o.li,{children:["Se Tomcat j\xe1 estiver em execu\xe7\xe3o, desligue Tomcat com (em Linux ou Mac OS) ",(0,s.jsx)(o.em,{children:"tomcat"}),"/bin/shutdown.sh\nou (em Windows) ",(0,s.jsx)(o.em,{children:"tomcat"}),"\\bin\\\\shutdown.bat"]}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["No Linux, use ps -ef|grep tomcat antes e depois shutdown.sh para ter certeza de que o processo tomcat parou. O processo deve ser listado antes do desligamento e eventualmente n\xe3o listado ap\xf3s o desligamento. Pode levar um minuto ou dois paraERDDAP\u2122para desligar completamente. S\xea paciente. Ou se parecer que n\xe3o vai parar por conta pr\xf3pria, use:\nmatar -9 ",(0,s.jsx)(o.em,{children:"processID"})]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["Comece Tomcat com (em Linux ou Mac OS) ",(0,s.jsx)(o.em,{children:"tomcat"}),"/bin/startup.sh\nou (em Windows) ",(0,s.jsx)(o.em,{children:"tomcat"}),"\\bin\\\\startup.bat"]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"is-erddap-running",children:"\xc9ERDDAP\u2122Correr?"}),"\n",(0,s.jsxs)(o.p,{children:["Use um navegador para tentar visualizar http://",(0,s.jsx)(o.em,{children:(0,s.jsx)(o.a,{href:"http://www.YourServer.org",children:"www.YourServer.org"})}),"/erddap/status.html",(0,s.jsx)(o.br,{}),"\n","ERDDAP\u2122inicia-se sem nenhum conjunto de dados carregado. Os conjuntos de dados s\xe3o carregados em um segmento de fundo e assim tornar-se dispon\xedvel one-by-one."]}),"\n",(0,s.jsx)(o.h3,{id:"troubleshooting",children:"Resolu\xe7\xe3o de problemas"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"Quando um pedido de um usu\xe1rio entra, ele vai para o Apache (em computadores Linux e Mac OS) Ent\xe3o, Tomcat.ERDDAP\u2122."}),"\n",(0,s.jsx)(o.li,{children:"Voc\xea pode ver o que vem para Apache (e erros relacionados) nos arquivos de log Apache."}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"/docs/server-admin/additional-information#tomcat-logs",children:"Tu."}),"pode ver o que vem a Tomcat (e erros relacionados) nos arquivos de log Tomcat (",(0,s.jsx)(o.em,{children:"tomcat"}),"/logs/catalina.out e outros arquivos nesse diret\xf3rio) ."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"/docs/server-admin/additional-information#log",children:"Tu."}),"pode ver o que vem aERDDAP, mensagens de diagn\xf3stico deERDDAP, e mensagens de erroERDDAP, noERDDAP\u2122 <bigParentDirectory>logs/log.txt file."]}),"\n",(0,s.jsx)(o.li,{children:"O Tomcat n\xe3o come\xe7a.ERDDAP\u2122at\xe9 Tomcat receber um pedidoERDDAP\u2122. Ent\xe3o voc\xea pode ver nos arquivos de log Tomcat se ele come\xe7ouERDDAP\u2122ou se houver uma mensagem de erro relacionada a essa tentativa."}),"\n",(0,s.jsx)(o.li,{children:"QuandoERDDAP\u2122come\xe7a, ele renomeia o velhoERDDAP\u2122arquivo log.txt (logArchivedAt_CurrentTime_.txt) e cria um novo arquivo log.txt. Ent\xe3o, se o registo. arquivo txt \xe9 velho, \xe9 um sinal de queERDDAP\u2122recentemente n\xe3o reiniciou.ERDDAP\u2122escreve informa\xe7\xf5es de log para um buffer e s\xf3 escreve o buffer para o arquivo de log periodicamente, mas voc\xea pode for\xe7arERDDAP\u2122para escrever o buffer para o arquivo de log visitando .../erddap/status.html."}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"trouble-old-version-of-java",children:"Problemas: Vers\xe3o antiga deJava"}),"\n",(0,s.jsxs)(o.p,{children:['Se voc\xea estiver usando uma vers\xe3o deJava\xe9 muito velho paraERDDAP,ERDDAP\u2122n\xe3o ser\xe1 executado e voc\xea ver\xe1 uma mensagem de erro no arquivo de log do Tomcat como\nExce\xe7\xe3o na linha "principal" java.lang.UnsupportedClassVersionError:\n',(0,s.jsx)(o.em,{children:"some/class/name"}),": Vers\xe3o principal.minor n\xe3o suportada ",(0,s.jsx)(o.em,{children:"someNumber"}),"\nA solu\xe7\xe3o \xe9 atualizar para a vers\xe3o mais recente deJavae certifique-se de que Tomcat est\xe1 usando-o."]}),"\n",(0,s.jsx)(o.h3,{id:"trouble-slow-startup-first-time",children:"Problemas: Inicializa\xe7\xe3o lenta Primeira vez"}),"\n",(0,s.jsx)(o.p,{children:"Tomcat tem que fazer um monte de trabalho da primeira vez um aplicativo comoERDDAP\u2122\xe9 iniciado; notavelmente, tem de descompactar o erddap. arquivo de guerra (que \xe9 como um.ziparquivo) . Em alguns servidores, a primeira tentativa de visualizarERDDAP\u2122barracas (30 segundos?) at\xe9 que este trabalho esteja terminado. Em outros servidores, a primeira tentativa falhar\xe1 imediatamente. Mas se voc\xea esperar 30 segundos e tentar novamente, ter\xe1 sucesso seERDDAP\u2122foi instalado corretamente.\nN\xe3o h\xe1 solu\xe7\xe3o para isto. \xc9 assim que Tomcat funciona. Mas s\xf3 ocorre a primeira vez depois de instalar uma nova vers\xe3o deERDDAP\u2122."}),"\n",(0,s.jsx)(o.h2,{id:"shut-down-and-restart",children:"Desligue e reinicie"}),"\n",(0,s.jsxs)(o.p,{children:["No futuro, para fechar (e reiniciar)  ERDDAPVeja",(0,s.jsx)(o.a,{href:"/docs/server-admin/additional-information#shut-down-and-restart",children:"Como Desligar e Reiniciar Tomcat eERDDAP"}),"."]}),"\n",(0,s.jsx)(o.h2,{id:"trouble",children:"Problemas?"}),"\n",(0,s.jsxs)(o.p,{children:["Problemas para instalar Tomcat ouERDDAP? Veja o nosso",(0,s.jsx)(o.a,{href:"/docs/intro#support",children:"se\xe7\xe3o sobre como obter suporte adicional"}),"."]}),"\n",(0,s.jsx)(o.h2,{id:"email-notification-of-new-versions-of-erddap",children:"Notifica\xe7\xe3o por e-mail de novas vers\xf5es deERDDAP"}),"\n",(0,s.jsxs)(o.p,{children:["Se voc\xea quiser receber um e-mail sempre que uma nova vers\xe3o deERDDAP\u2122est\xe1 dispon\xedvel ou outro importanteERDDAP\u2122an\xfancios, voc\xea pode se juntar aoERDDAP\u2122lista de an\xfancios",(0,s.jsx)(o.a,{href:"https://groups.google.com/g/erddap-announce",children:"aqui."}),". Esta lista \xe9 m\xe9dia de aproximadamente um e-mail a cada tr\xeas meses."]}),"\n",(0,s.jsx)(o.h2,{id:"customize",children:"Personalizar"}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.a,{href:"#customize",children:"Personalize o seuERDDAP\u2122para destacar sua organiza\xe7\xe3o (n\xe3oNOAA ERD) ."})}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["Alterar o banner que aparece no topo de tudoERDDAP\u2122.html p\xe1ginas editando o<startBodyHtml5> tag em seudatasets.xmlficheiro. (Se n\xe3o houver um, copie o padr\xe3oERDDAP'\n\\[Toca a brincar.\\]/webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml ficheirodatasets.xmle edit\xe1-lo.) Por exemplo, voc\xea poderia:","\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"Use uma imagem diferente (ou seja, o logotipo da sua organiza\xe7\xe3o) ."}),"\n",(0,s.jsx)(o.li,{children:"Mude a cor de fundo."}),"\n",(0,s.jsxs)(o.li,{children:['Mudan\xe7a "ERDDAP" para "',(0,s.jsx)(o.em,{children:"YourOrganization"}),"'sERDDAP\""]}),"\n",(0,s.jsxs)(o.li,{children:['Alterar "Acesso mais f\xe1cil aos dados cient\xedficos" para "Acesso mais f\xe1cil aos dados do ',(0,s.jsx)(o.em,{children:"YourOrganization"}),'".']}),"\n",(0,s.jsx)(o.li,{children:'Altere os links "Comprei para voc\xea" para ser links para sua organiza\xe7\xe3o e fontes de financiamento.'}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:["Altere as informa\xe7\xf5es no lado esquerdo da p\xe1gina inicial editando a<theShortDescriptionHtml> tag in yourdatasets.xmlficheiro. (Se n\xe3o houver um, copie o padr\xe3oERDDAP'\n\\[Toca a brincar.\\]/webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml ficheirodatasets.xmle edit\xe1-lo.) Por exemplo, voc\xea poderia:","\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"Descreva o que sua organiza\xe7\xe3o e/ou grupo faz."}),"\n",(0,s.jsx)(o.li,{children:"Descrever que tipo de dados esteERDDAP\u2122Sim."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:["Para alterar o \xedcone que aparece nas guias do navegador, coloque o favicon da sua organiza\xe7\xe3o. ico em ico_tomcat_/content/erddap/imagens/ . Ver",(0,s.jsx)(o.a,{href:"https://en.wikipedia.org/wiki/Favicon",children:" https://en.wikipedia.org/wiki/Favicon "}),"."]}),"\n"]})]})}function m(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},62900:(e,o,a)=>{a.d(o,{A:()=>r});const r=a.p+"assets/files/DejaVuFonts-9be3895e6d216d0fc9bb8f3520f765c6.zip"}}]);