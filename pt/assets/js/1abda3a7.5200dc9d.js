"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[4199],{23290:(e,a,o)=>{o.r(a),o.d(a,{assets:()=>t,contentTitle:()=>n,default:()=>c,frontMatter:()=>i,metadata:()=>s,toc:()=>m});const s=JSON.parse('{"id":"server-admin/scaling","title":"Scaling","description":"ERDDAP\u2122- Cargas pesadas, Grades, Clusters, Federa\xe7\xf5es e Computa\xe7\xe3o em Nuvem","source":"@site/i18n/pt/docusaurus-plugin-content-docs/current/server-admin/scaling.md","sourceDirName":"server-admin","slug":"/server-admin/scaling","permalink":"/pt/docs/server-admin/scaling","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/documentation/docs/server-admin/scaling.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Scaling","sidebar_position":5},"sidebar":"docSidebar","previous":{"title":"additional-information","permalink":"/pt/docs/server-admin/additional-information"},"next":{"title":"EDDTableFromEML","permalink":"/pt/docs/server-admin/EDDTableFromEML"}}');var r=o(74848),d=o(28453);const i={title:"Scaling",sidebar_position:5},n="Escalada",t={},m=[{value:"ERDDAP\u2122- Cargas pesadas, Grades, Clusters, Federa\xe7\xf5es e Computa\xe7\xe3o em Nuvem",id:"erddap---heavy-loads-grids-clusters-federations-and-cloud-computing",level:2},{value:"DISCLAIMER",id:"disclaimer",level:2},{value:"Cargas pesadas / restri\xe7\xf5es",id:"heavy-loads--constraints",level:2},{value:"Largura de banda de origem remota",id:"remote-source-bandwidth",level:3},{value:"ERDDAPlargura de banda do servidor",id:"erddaps-server-bandwidth",level:3},{value:"Mem\xf3ria",id:"memory",level:3},{value:"Tive largura de banda de unidade",id:"had-drive-bandwidth",level:3},{value:"Muitos arquivos Cached",id:"too-many-files-cached",level:3},{value:"CPU",id:"cpu",level:3},{value:"M\xfaltiplos Ident\xe1riosERDDAPs com Balanceamento de Carga?",id:"multiple-identical-erddaps-with-load-balancing",level:2},{value:" <strong>Grades, Clusters e Federa\xe7\xf5es</strong> ",id:"grids-clusters-and-federations",level:2},{value:"Metas",id:"goals",level:3},{value:"Recomenda\xe7\xf5es",id:"recommendations",level:3},{value:"Pe\xe7as de grade",id:"grid-parts",level:3},{value:"CompostoERDDAP",id:"composite-erddap",level:4},{value:"M\xe1ximo actualizado (Tempo) ?",id:"up-to-date-maxtime",level:5},{value:"V\xe1rios compostosERDDAPS",id:"multiple-composite-erddaps",level:4},{value:"Conjuntos de dados em demanda muito alta",id:"datasets-in-very-high-demand",level:3},{value:"RAIDs versus discos r\xedgidos regulares",id:"raids-versus-regular-hard-drives",level:3},{value:"Infrac\xe7\xf5es",id:"failures",level:3},{value:"Simples, escal\xe1vel",id:"simple-scalable",level:3},{value:"Largura de banda",id:"bandwidth",level:3},{value:"Como o Legos",id:"like-legos",level:3},{value:"Diferentes tipos de pedidos",id:"different-types-of-requests",level:3},{value:"Estas s\xe3o as minhas opini\xf5es.",id:"these-are-my-opinions",level:3},{value:" <strong>Computa\xe7\xe3o em nuvem</strong> ",id:"cloud-computing",level:2},{value:"Subconfigura\xe7\xe3o",id:"subsetting",level:3},{value:"Dados hospedados",id:"hosted-data",level:3},{value:"Replica\xe7\xe3o remota de conjuntos de dados",id:"remote-replication-of-datasets",level:2},{value:" <strong>RelevanteERDDAP\u2122Ferramentas</strong> ",id:"relevant-erddap-tools",level:3},{value:"Solu\xe7\xf5es",id:"solutions",level:3},{value:"Personalizado, Brute Force Solutions",id:"custom-brute-force-solutions",level:4},{value:"rsync",id:"rsync",level:4},{value:"Cache De Url",id:"cache-from-url",level:4},{value:"ArquivoADataset",id:"archiveadataset",level:4},{value:"ERDDAP\u2122Sistema de solicita\xe7\xe3o padr\xe3o",id:"erddaps-standard-request-system",level:4},{value:"EDDTable FromHttpGet",id:"eddtablefromhttpget",level:4},{value:"Dados distribu\xeddos",id:"distributed-data",level:4},{value:"Conclus\xe3o",id:"conclusion",level:3}];function u(e){const a={a:"a",br:"br",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.header,{children:(0,r.jsx)(a.h1,{id:"escalada",children:"Escalada"})}),"\n",(0,r.jsx)(a.h2,{id:"erddap---heavy-loads-grids-clusters-federations-and-cloud-computing",children:"ERDDAP\u2122- Cargas pesadas, Grades, Clusters, Federa\xe7\xf5es e Computa\xe7\xe3o em Nuvem"}),"\n",(0,r.jsx)(a.p,{children:"\xa0"}),"\n",(0,r.jsx)(a.h1,{id:"erddap",children:"ERDDAP:"}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/index.html",children:"ERDDAP\u2122"}),"\xe9 um aplicativo web e um servi\xe7o web que agrega dados cient\xedficos de diversas fontes locais e remotas e oferece uma maneira simples e consistente de baixar subconjuntos dos dados em formatos de arquivo comuns e fazer gr\xe1ficos e mapas. Esta p\xe1gina discute quest\xf5es relacionadas com pesadoERDDAP\u2122cargas de uso e explora possibilidades para lidar com cargas extremamente pesadas atrav\xe9s de grades, clusters, federa\xe7\xf5es e computa\xe7\xe3o em nuvem."]}),"\n",(0,r.jsx)(a.p,{children:"A vers\xe3o original foi escrita em junho de 2009. N\xe3o houve mudan\xe7as significativas. Esta foi a \xfaltima atualiza\xe7\xe3o 2019-04-15."}),"\n",(0,r.jsx)(a.h2,{id:"disclaimer",children:"DISCLAIMER"}),"\n",(0,r.jsx)(a.p,{children:"O conte\xfado desta p\xe1gina web s\xe3o opini\xf5es pessoais de Bob Simons e n\xe3o refletem necessariamente qualquer posi\xe7\xe3o do Governo ou doNational Oceanic and Atmospheric Administration. Os c\xe1lculos s\xe3o simplistas, mas penso que as conclus\xf5es est\xe3o correctas. Eu usei l\xf3gica defeituosa ou cometi um erro nos meus c\xe1lculos? Se assim for, a culpa \xe9 minha sozinha. Por favor envie um e-mail com a corre\xe7\xe3o paraerd dot data at noaa dot gov.\r\n\xa0"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"N\xe3o."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(a.h2,{id:"heavy-loads--constraints",children:"Cargas pesadas / restri\xe7\xf5es"}),"\n",(0,r.jsx)(a.p,{children:"Com uso pesado, um standaloneERDDAP\u2122ser\xe1 restringido (da maioria a menos prov\xe1vel) por:"}),"\n",(0,r.jsx)(a.h3,{id:"remote-source-bandwidth",children:"Largura de banda de origem remota"}),"\n",(0,r.jsxs)(a.ol,{children:["\n",(0,r.jsxs)(a.li,{children:["Largura de banda de uma fonte de dados remota \u2014 Mesmo com uma conex\xe3o eficiente (por exemplo, viaOPeNDAP) , a menos que uma fonte de dados remota tenha uma conex\xe3o de Internet de largura de banda muito alta,ERDDAPAs respostas ser\xe3o constrangidas pelo qu\xe3o r\xe1pidoERDDAP\u2122pode obter dados da fonte de dados. Uma solu\xe7\xe3o \xe9 copiar o conjunto de dados paraERDDAPO disco r\xedgido, talvez com",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridEntendido."}),"ou",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDTableCopy"}),".\r\n\xa0"]}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"erddaps-server-bandwidth",children:"ERDDAPlargura de banda do servidor"}),"\n",(0,r.jsxs)(a.ol,{start:"2",children:["\n",(0,r.jsx)(a.li,{children:"A menos queERDDAPO servidor tem uma conex\xe3o de Internet de largura de banda muito alta,ERDDAPAs respostas ser\xe3o constrangidas pelo qu\xe3o r\xe1pidoERDDAP\u2122pode obter dados das fontes de dados e qu\xe3o r\xe1pidoERDDAP\u2122pode retornar dados aos clientes. A \xfanica solu\xe7\xe3o \xe9 obter uma conex\xe3o de Internet mais r\xe1pida.\r\n\xa0"}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"memory",children:"Mem\xf3ria"}),"\n",(0,r.jsxs)(a.ol,{start:"3",children:["\n",(0,r.jsxs)(a.li,{children:["Se houver muitos pedidos simult\xe2neos,ERDDAP\u2122pode ficar sem mem\xf3ria e recusar temporariamente novos pedidos. (ERDDAP\u2122tem alguns mecanismos para evitar isso e minimizar as consequ\xeancias se acontecer.) Ent\xe3o, quanto mais mem\xf3ria no servidor melhor. Em um servidor de 32 bits, 4+ GB \xe9 realmente bom, 2 GB \xe9 bom, menos n\xe3o \xe9 recomendado. Em um servidor de 64 bits, voc\xea pode quase completamente evitar o problema, obtendo muita mem\xf3ria. Ver",(0,r.jsx)(a.a,{href:"/docs/server-admin/deploy-install",children:"\\-Xmx e -Xms configura\xe7\xf5es"}),"paraERDDAP/Tomcat. UmERDDAP\u2122obter uso pesado em um computador com um servidor de 64 bits com 8GB de mem\xf3ria e -Xmx definido para 4000M \xe9 raramente, se nunca, limitado pela mem\xf3ria.\r\n\xa0"]}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"had-drive-bandwidth",children:"Tive largura de banda de unidade"}),"\n",(0,r.jsxs)(a.ol,{start:"4",children:["\n",(0,r.jsx)(a.li,{children:"Acessar dados armazenados no disco r\xedgido do servidor \xe9 muito mais r\xe1pido do que acessar dados remotos. Mesmo assim, se oERDDAP\u2122servidor tem uma conex\xe3o de Internet de largura de banda muito alta, \xe9 poss\xedvel que acessar dados no disco r\xedgido ser\xe1 um gargalo. Uma solu\xe7\xe3o parcial \xe9 usar mais r\xe1pido (por exemplo, 10.000 RPM) discos r\xedgidos magn\xe9ticos ou unidades SSD (se faz sentido no sentido) . Outra solu\xe7\xe3o \xe9 armazenar diferentes conjuntos de dados em diferentes unidades, de modo que a largura de banda cumulativa do disco r\xedgido \xe9 muito maior.\r\n\xa0"}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"too-many-files-cached",children:"Muitos arquivos Cached"}),"\n",(0,r.jsxs)(a.ol,{start:"5",children:["\n",(0,r.jsxs)(a.li,{children:["Muitos arquivos em um",(0,r.jsx)(a.a,{href:"/docs/server-admin/additional-information#cached-responses",children:"cache"}),"direct\xf3rio \u2014ERDDAP\u2122cache todas as imagens, mas apenas cache os dados para certos tipos de solicita\xe7\xf5es de dados. \xc9 poss\xedvel que o diret\xf3rio de cache para um conjunto de dados tenha um grande n\xfamero de arquivos temporariamente. Isso retardar\xe1 as solicita\xe7\xf5es para ver se um arquivo est\xe1 no cache (A s\xe9rio!) .<cache Minutos > em",(0,r.jsx)(a.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),"permite definir quanto tempo um arquivo pode estar no cache antes de ser exclu\xeddo. Definir um n\xfamero menor minimizaria esse problema.\r\n\xa0"]}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"cpu",children:"CPU"}),"\n",(0,r.jsxs)(a.ol,{start:"6",children:["\n",(0,r.jsxs)(a.li,{children:["Apenas duas coisas levam muito tempo de CPU:","\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"NetCDF4 eHDF5 agora suporta compress\xe3o interna de dados. Decomprimir um grande comprimidoNetCDF4 /HDF5 arquivo de dados pode levar 10 ou mais segundos. (Isso n\xe3o \xe9 uma falha de implementa\xe7\xe3o. \xc9 a natureza da compress\xe3o.) Assim, v\xe1rias solicita\xe7\xf5es simult\xe2neas para conjuntos de dados com dados armazenados em arquivos compactados podem colocar uma tens\xe3o grave em qualquer servidor. Se este \xe9 um problema, a solu\xe7\xe3o \xe9 armazenar conjuntos de dados populares em arquivos n\xe3o compactados, ou obter um servidor com uma CPU com mais n\xfacleos."}),"\n",(0,r.jsx)(a.li,{children:"Fazendo gr\xe1ficos (incluindo mapas) : aproximadamente 0,2 - 1 segundo por gr\xe1fico. Ent\xe3o, se houve muitos pedidos \xfanicos simult\xe2neos para gr\xe1ficos (WMSclientes muitas vezes fazem 6 pedidos simult\xe2neos!) , pode haver uma limita\xe7\xe3o de CPU. Quando v\xe1rios usu\xe1rios est\xe3o executandoWMSclientes, isso se torna um problema.\r\n\xa0"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"N\xe3o."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(a.h2,{id:"multiple-identical-erddaps-with-load-balancing",children:"M\xfaltiplos Ident\xe1riosERDDAPs com Balanceamento de Carga?"}),"\n",(0,r.jsx)(a.p,{children:'A pergunta muitas vezes surge: "Para lidar com cargas pesadas, posso configurar v\xe1rios id\xeanticosERDDAPcom balanceamento de carga?" \xc9 uma pergunta interessante porque rapidamente chega ao centro deERDDAPDesign. A resposta r\xe1pida \xe9 "n\xe3o". Eu sei que \xe9 uma resposta decepcionante, mas h\xe1 um par de raz\xf5es diretas e algumas raz\xf5es fundamentais maiores por que eu crieiERDDAP\u2122usar uma abordagem diferente (uma federa\xe7\xe3o deERDDAPs, descrito na maior parte deste documento) , que eu acredito \xe9 uma solu\xe7\xe3o melhor.'}),"\n",(0,r.jsx)(a.p,{children:"Algumas raz\xf5es diretas por que voc\xea n\xe3o pode / n\xe3o deve configurar v\xe1rios id\xeanticosERDDAPs s\xe3o:"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"Um dadoERDDAP\u2122l\xea cada arquivo de dados quando ele primeiro fica dispon\xedvel para encontrar os intervalos de dados no arquivo. Ele ent\xe3o armazena essas informa\xe7\xf5es em um arquivo de \xedndice. Mais tarde, quando um usu\xe1rio solicita dados entra,ERDDAP\u2122usa esse \xedndice para descobrir quais arquivos procurar os dados solicitados. Se houver v\xe1rios id\xeanticosERDDAPs, cada um estaria fazendo esta indexa\xe7\xe3o, que \xe9 desperdi\xe7ado esfor\xe7o. Com o sistema federado descrito abaixo, a indexa\xe7\xe3o \xe9 feita apenas uma vez, por um dosERDDAPS."}),"\n",(0,r.jsx)(a.li,{children:"Para alguns tipos de solicita\xe7\xf5es de usu\xe1rio (por exemplo, para.nc, .png, arquivos .pdf)  ERDDAP\u2122tem que fazer todo o arquivo antes que a resposta possa ser enviada. Ent\xe3o...ERDDAP\u2122cache esses arquivos por um curto per\xedodo de tempo. Se um pedido id\xeantico entrar (como muitas vezes faz, especialmente para imagens onde o URL \xe9 incorporado em uma p\xe1gina da web) ,ERDDAP\u2122pode reutilizar esse arquivo em cache. Em um sistema de m\xfaltiplos id\xeanticosERDDAPs, esses arquivos em cache n\xe3o s\xe3o compartilhados, ent\xe3o cadaERDDAP\u2122desnecessariamente e desperdi\xe7ada recriar o.nc, .png, ou arquivos .pdf. Com o sistema federado descrito abaixo, os arquivos s\xe3o feitos apenas uma vez, por um dosERDDAPe reutilizado."}),"\n",(0,r.jsx)(a.li,{children:"ERDDAPO sistema de assinatura n\xe3o est\xe1 configurado para ser partilhado por v\xe1riosERDDAPS. Por exemplo, se o balanceador de carga enviar um usu\xe1rio para umERDDAP\u2122e o usu\xe1rio assina um conjunto de dados, em seguida, o outroERDDAPn\xe3o estar\xe1 ciente dessa assinatura. Mais tarde, se o balanceador de carga enviar o usu\xe1rio para um diferenteERDDAP\u2122e pede uma lista de suas assinaturas, as outrasERDDAP\u2122vai dizer que n\xe3o h\xe1 nenhum (levando-o a fazer uma assinatura duplicada no outro EREDDAP) . Com o sistema federado descrito abaixo, o sistema de assinatura \xe9 simplesmente tratado pelo principal, p\xfablico, compostoERDDAP."}),"\n"]}),"\n",(0,r.jsxs)(a.p,{children:["Sim, para cada um desses problemas, eu poderia (com grande esfor\xe7o) projetar uma solu\xe7\xe3o (para compartilhar as informa\xe7\xf5es entreERDDAPS) Mas acho que o",(0,r.jsx)(a.a,{href:"#grids-clusters-and-federations",children:"Federa\xe7\xe3o de...ERDDAPabordagem s"}),"  (descrito na maior parte deste documento) \xe9 uma solu\xe7\xe3o geral muito melhor, em parte porque lida com outros problemas que o m\xfaltiplo-identical-ERDDAPA abordagem do balanceador de carga nem sequer come\xe7a a abordar, nomeadamente a natureza descentralizada das fontes de dados no mundo."]}),"\n",(0,r.jsxs)(a.p,{children:['\xc9 melhor aceitar o simples fato de que eu n\xe3o projetarERDDAP\u2122para ser implantado como m\xfaltiplos id\xeanticosERDDAPs com um balanceador de carga. Eu concebi conscientementeERDDAP\u2122trabalhar bem dentro de uma federa\xe7\xe3o deERDDAPs, que eu acredito tem muitas vantagens. Notavelmente, uma federa\xe7\xe3o deERDDAPs est\xe1 perfeitamente alinhado com o sistema descentralizado, distribu\xeddo de data centers que temos no mundo real (pense nas diferentes regi\xf5es do IOOS, ou nas diferentes regi\xf5es do CoastWatch, ou nas diferentes partes do NCEI, ou nos outros 100 centros de dados emNOAA, ou os diferentes DAACs da NASA, ou os 1000 de data centers em todo o mundo) . Em vez de dizer a todos os data centers do mundo que eles precisam abandonar seus esfor\xe7os e colocar todos os seus dados em um "lago de dados" centralizado (mesmo se fosse poss\xedvel, \xe9 uma ideia horr\xedvel por in\xfameras raz\xf5es -- veja as v\xe1rias an\xe1lises mostrando as in\xfameras vantagens de',(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Decentralised_system",children:"sistemas descentralizados"}),") ,ERDDAP's design funciona com o mundo como \xe9. Cada data center que produz dados pode continuar a manter, curar e servir seus dados (como eles deveriam) , e ainda, comERDDAP\u2122, os dados tamb\xe9m podem ser instantaneamente dispon\xedveis a partir de um centralizadoERDDAP, sem a necessidade de transmitir os dados ao centralizadoERDDAP\u2122ou armazenar c\xf3pias duplicadas dos dados. Na verdade, um dado conjunto de dados pode estar simultaneamente dispon\xedvel\r\nde umERDDAP\u2122na organiza\xe7\xe3o que produziu e realmente armazena os dados (por exemplo, GoMOOS) ,\r\nde umERDDAP\u2122na organiza\xe7\xe3o pai (por exemplo, IOOS central) ,\r\nde um tudo...NOAA ERDDAP\u2122,\r\nde um governo federalERDDAP\u2122,\r\nde um globalERDDAP\u2122  (GOOS) ,\r\ne de especializadoERDDAPS (por exemplo, umERDDAP\u2122em uma institui\xe7\xe3o dedicada \xe0 pesquisa HAB) ,\r\ntudo essencialmente instantaneamente, e eficientemente porque apenas os metadados s\xe3o transferidos entreERDDAPs, n\xe3o os dados. Melhor de tudo, ap\xf3s a inicialERDDAP\u2122na organiza\xe7\xe3o origin\xe1ria, todas as outrasERDDAPs pode ser configurado rapidamente (algumas horas de trabalho) , com recursos m\xednimos (um servidor que n\xe3o precisa de nenhum RAID para armazenamento de dados, uma vez que n\xe3o armazena dados localmente) , e assim a um custo verdadeiramente m\xednimo. Compare isso com o custo de configura\xe7\xe3o e manuten\xe7\xe3o de um centro de dados centralizado com um lago de dados e a necessidade de uma conex\xe3o verdadeiramente maci\xe7a, verdadeiramente cara, Internet, al\xe9m do problema participante do centro de dados centralizado ser um \xfanico ponto de falha. Para mim,ERDDAPa abordagem descentralizada, federada \xe9 muito, muito superior."]}),"\n",(0,r.jsxs)(a.p,{children:["Em situa\xe7\xf5es em que um determinado data center precisa de m\xfaltiplosERDDAPs para atender a alta demanda,ERDDAP's design \xe9 totalmente capaz de combinar ou superar o desempenho do m\xfaltiplo-identical-ERDDAPabordagem de equil\xedbrio de carga. Voc\xea sempre tem a op\xe7\xe3o de configurar",(0,r.jsx)(a.a,{href:"#multiple-composite-erddaps",children:"m\xfaltiplos compostosERDDAPS (como discutido abaixo) "}),", cada um dos quais recebe todos os seus dados de outrosERDDAPs, sem balanceamento de carga. Neste caso, eu recomendo que voc\xea fa\xe7a um ponto de dar cada um do compostoERDDAPs um nome diferente / identidade e se poss\xedvel configur\xe1-los em diferentes partes do mundo (por exemplo, diferentes regi\xf5es AWS) , por exemplo,ERD\\_US\\_East,ERD\\_US\\_West,ERD- Sim.ERD\\_FR,ERD\\_IT, de modo que os usu\xe1rios conscientemente, repetidamente, trabalhar com um espec\xedficoERDDAP, com o benef\xedcio adicional que voc\xea removeu o risco de um \xfanico ponto de falha.\r\n\xa0"]}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"N\xe3o."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(a.h2,{id:"grids-clusters-and-federations",children:(0,r.jsxs)(a.a,{href:"#grids-clusters-and-federations",children:[" ",(0,r.jsx)(a.strong,{children:"Grades, Clusters e Federa\xe7\xf5es"})," "]})}),"\n",(0,r.jsxs)(a.p,{children:["Sob uso muito pesado, um \xfanico standaloneERDDAP\u2122ser\xe1 executado em um ou mais dos",(0,r.jsx)(a.a,{href:"#heavy-loads--constraints",children:"restri\xe7\xf5es"}),"listados acima e mesmo as solu\xe7\xf5es sugeridas ser\xe3o insuficientes. Para tais situa\xe7\xf5es,ERDDAP\u2122tem recursos que facilitam a constru\xe7\xe3o de grades escal\xe1veis (tamb\xe9m chamados clusters ou federa\xe7\xf5es) deERDDAPs que permitem que o sistema manuseie o uso muito pesado (por exemplo, para um grande data center) ."]}),"\n",(0,r.jsxs)(a.p,{children:["Estou a usar",(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Grid_computing",children:"grade de grade"}),"como um termo geral para indicar um tipo de",(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Computer_cluster",children:"cluster de computador"}),"onde todas as partes podem ou n\xe3o estar localizadas fisicamente em uma instala\xe7\xe3o e podem ou n\xe3o ser administradas centralmente. Uma vantagem de redes co-localizadas, de propriedade central e administradas (clusters) \xe9 que eles se beneficiam de economias de escala (especialmente a carga de trabalho humana) e simplificar fazer as partes do sistema funcionar bem em conjunto. Uma vantagem de grades n\xe3o-co-localizadas, n\xe3o-centralmente de propriedade e administrada (federa\xe7\xf5es) \xe9 que eles distribuem a carga de trabalho humana e o custo, e podem fornecer alguma toler\xe2ncia adicional a falhas. A solu\xe7\xe3o que proponho abaixo funciona bem para todas as topografias de grade, cluster e federa\xe7\xe3o."]}),"\n",(0,r.jsxs)(a.p,{children:["A ideia b\xe1sica de projetar um sistema escal\xe1vel \xe9 identificar os gargalos potenciais e, em seguida, projetar o sistema para que as partes do sistema possam ser replicadas conforme necess\xe1rio para aliviar os gargalos. Idealmente, cada parte replicada aumenta a capacidade dessa parte do sistema linearmente (efici\xeancia de dimensionamento) . O sistema n\xe3o \xe9 escal\xe1vel a menos que haja uma solu\xe7\xe3o escal\xe1vel para cada gargalo.",(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Scalability",children:"Escalabilidade"}),"\xe9 diferente da efici\xeancia (como rapidamente uma tarefa pode ser feita \u2014 efici\xeancia das pe\xe7as) . A escalabilidade permite que o sistema cres\xe7a para lidar com qualquer n\xedvel de demanda. ",(0,r.jsx)(a.strong,{children:"Efici\xeancia"}),"   (de escalonamento e das pe\xe7as) determina quantos servidores, etc., ser\xe3o necess\xe1rios para atender a um determinado n\xedvel de demanda. A efici\xeancia \xe9 muito importante, mas sempre tem limites. A escalabilidade \xe9 a \xfanica solu\xe7\xe3o pr\xe1tica para a constru\xe7\xe3o de um sistema que possa lidar ",(0,r.jsx)(a.strong,{children:"Muito bem."})," uso pesado. Idealmente, o sistema ser\xe1 escal\xe1vel e eficiente."]}),"\n",(0,r.jsx)(a.h3,{id:"goals",children:"Metas"}),"\n",(0,r.jsx)(a.p,{children:"Os objetivos deste projeto s\xe3o:"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"Para fazer uma arquitetura escal\xe1vel (um que \xe9 facilmente extens\xedvel replicando qualquer parte que se torna over-burdened) . Para fazer um sistema eficiente que maximize a disponibilidade e a produtividade dos dados dados fornecidos aos recursos de computa\xe7\xe3o dispon\xedveis. (O custo \xe9 quase sempre um problema.)"}),"\n",(0,r.jsx)(a.li,{children:"Para equilibrar as capacidades das partes do sistema para que uma parte do sistema n\xe3o sobrecarregue outra parte."}),"\n",(0,r.jsx)(a.li,{children:"Fazer uma arquitetura simples para que o sistema seja f\xe1cil de configurar e administrar."}),"\n",(0,r.jsx)(a.li,{children:"Fazer uma arquitetura que funciona bem com todas as topografias da grade."}),"\n",(0,r.jsx)(a.li,{children:"Fazer um sistema que falha graciosamente e de uma forma limitada se alguma parte se torna sobrecarregado. (O tempo necess\xe1rio para copiar um grande conjunto de dados sempre limitar\xe1 a capacidade do sistema de lidar com aumentos repentinos na demanda por um conjunto de dados espec\xedfico.)"}),"\n",(0,r.jsxs)(a.li,{children:["(Se poss\xedvel) Para fazer uma arquitetura que n\xe3o est\xe1 ligada a nenhum espec\xedfico",(0,r.jsx)(a.a,{href:"#cloud-computing",children:"computa\xe7\xe3o em nuvem"}),"servi\xe7os ou outros servi\xe7os externos (porque n\xe3o precisa deles) ."]}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"recommendations",children:"Recomenda\xe7\xf5es"}),"\n",(0,r.jsxs)(a.p,{children:["Nossas recomenda\xe7\xf5es s\xe3o\r\n",(0,r.jsx)(a.img,{alt:"diagrama de grade/cluster",src:o(88623).A+"",width:"701",height:"516"})]}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:["Basicamente, sugiro configurar um CompostoERDDAP\u2122  ( ",(0,r.jsx)(a.strong,{children:"D"})," no diagrama) , que \xe9 um regularERDDAP\u2122exceto que apenas serve dados de outrosERDDAPS. A arquitetura da grade \xe9 projetada para mudar tanto trabalho quanto poss\xedvel (Uso de CPU, uso de mem\xf3ria, uso de largura de banda) do CompostoERDDAP\u2122para o outroERDDAPS."]}),"\n",(0,r.jsxs)(a.li,{children:["ERDDAP\u2122tem dois tipos especiais de conjuntos de dados,",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDGridDe Erddap"}),"e",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDTable FromErddap"}),", que se referem a\r\nconjuntos de dados em outrosERDDAPS."]}),"\n",(0,r.jsxs)(a.li,{children:["Quando o compostoERDDAP\u2122recebe um pedido de dados ou imagens desses conjuntos de dados, o compostoERDDAP\u2122 ",(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/URL_redirection",children:"redirecionamentos"}),"o pedido de dados para o outroERDDAP\u2122servidor. O resultado \xe9:","\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:["Isto \xe9 muito eficiente. (CPU, mem\xf3ria e largura de banda) , porque de outra forma","\n",(0,r.jsxs)(a.ol,{children:["\n",(0,r.jsx)(a.li,{children:"O compostoERDDAP\u2122tem que enviar a solicita\xe7\xe3o de dados para o outroERDDAP."}),"\n",(0,r.jsx)(a.li,{children:"O outroERDDAP\u2122tem que obter os dados, reformatar e transmitir os dados para o compostoERDDAP."}),"\n",(0,r.jsx)(a.li,{children:"O compostoERDDAP\u2122tem de receber os dados (usando largura de banda extra) , reformatar (usando tempo e mem\xf3ria de CPU extra) , e transmitir os dados ao usu\xe1rio (usando largura de banda extra) . Redirecionando o pedido de dados e permitindo o outroERDDAP\u2122para enviar a resposta diretamente ao usu\xe1rio, o compostoERDDAP\u2122gasta essencialmente nenhum tempo de CPU, mem\xf3ria ou largura de banda em solicita\xe7\xf5es de dados."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(a.li,{children:"O redirecionamento \xe9 transparente para o usu\xe1rio, independentemente do software cliente (um navegador ou qualquer outro software ou ferramenta de linha de comando) ."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"grid-parts",children:"Pe\xe7as de grade"}),"\n",(0,r.jsx)(a.p,{children:(0,r.jsx)(a.a,{href:"#grid-parts",children:"As partes da grade s\xe3o:"})}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"A"})," : Para cada fonte de dados remoto que tem uma largura de banda altaOPeNDAPservidor, voc\xea pode se conectar diretamente ao servidor remoto. Se o servidor remoto \xe9 umERDDAP\u2122, usoEDDGridDe Erddap ou EDDTable DeERDDAPpara servir os dados no CompositeERDDAP. Se o servidor remoto \xe9 outro tipo deDAPservidor, por exemplo,Hyrax, ou GrADS, useEDDGridDe Sab\xe3o."]}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"B"})," : Para cadaERDDAP- fonte de dados poss\xedvel (uma fonte de dados a partir da qualERDDAPpode ler dados) que tem um servidor de alta largura de banda, configure outroERDDAP\u2122na grade que \xe9 respons\xe1vel por servir os dados a partir desta fonte de dados."]}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"Se v\xe1rios dessesERDDAPs n\xe3o est\xe3o recebendo muitos pedidos de dados, voc\xea pode consol\xe1-los em umERDDAP."}),"\n",(0,r.jsxs)(a.li,{children:["Se oERDDAP\u2122dedicado a obter dados de uma fonte remota est\xe1 recebendo muitos pedidos, h\xe1 uma tenta\xe7\xe3o de adicionar maisERDDAPs para acessar a fonte de dados remota. Em casos especiais isso pode fazer sentido, mas \xe9 mais prov\xe1vel que isso ir\xe1 sobrecarregar a fonte de dados remota (que \xe9 auto-destrui\xe7\xe3o) e tamb\xe9m evitar que outros usu\xe1rios acessem a fonte de dados remota (que n\xe3o \xe9 agrad\xe1vel) . Neste caso, considere a cria\xe7\xe3o de outroERDDAP\u2122para servir esse conjunto de dados e copiar o conjunto de dados sobre issoERDDAPdisco r\xedgido (ver ",(0,r.jsx)(a.strong,{children:"C"})," ) , talvez com",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridEntendido."}),"e/ou",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDTableCopy"}),"."]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"B"})," servidores devem ser acess\xedveis publicamente."]}),"\n"]}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"C"})," : Para cadaERDDAP- fonte de dados que tem um servidor de baixa largura de banda (ou \xe9 um servi\xe7o lento por outras raz\xf5es) , considerar a cria\xe7\xe3o de outroERDDAP\u2122e armazenar uma c\xf3pia do conjunto de dados sobre issoERDDAPdiscos r\xedgidos, talvez com",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridEntendido."}),"e/ou",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDTableCopy"}),". Se v\xe1rios dessesERDDAPs n\xe3o est\xe3o recebendo muitos pedidos de dados, voc\xea pode consol\xe1-los em umERDDAP.\r\n",(0,r.jsx)(a.strong,{children:"C"})," servidores devem ser acess\xedveis publicamente."]}),"\n",(0,r.jsx)(a.h4,{id:"composite-erddap",children:"CompostoERDDAP"}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"D"})," : O compostoERDDAP\u2122\xe9 normalERDDAP\u2122exceto que apenas serve dados de outrosERDDAPS."]}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"Porque o compostoERDDAP\u2122tem informa\xe7\xf5es em mem\xf3ria sobre todos os conjuntos de dados, ele pode responder rapidamente a pedidos de listas de conjuntos de dados (pesquisa de texto completo, pesquisa de categoria, a lista de todos os conjuntos de dados) , e solicita\xe7\xf5es para o formul\xe1rio de acesso de dados de um conjunto de dados individual, Fa\xe7a um formul\xe1rio gr\xe1fico, ouWMSp\xe1gina de informa\xe7\xf5es. Estas s\xe3o todas as p\xe1ginas HTML pequenas, dinamicamente geradas com base em informa\xe7\xf5es que s\xe3o mantidas em mem\xf3ria. Ent\xe3o as respostas s\xe3o muito r\xe1pidas."}),"\n",(0,r.jsx)(a.li,{children:"Porque os pedidos de dados reais s\xe3o rapidamente redirecionados para o outroERDDAPs, o compostoERDDAP\u2122pode responder rapidamente a pedidos de dados reais sem usar qualquer tempo de CPU, mem\xf3ria ou largura de banda."}),"\n",(0,r.jsx)(a.li,{children:"Ao mudar tanto trabalho quanto poss\xedvel (CPU, mem\xf3ria, largura de banda) do CompostoERDDAP\u2122para o outroERDDAPs, o compostoERDDAP\u2122pode parecer servir dados de todos os conjuntos de dados e ainda manter-se com um grande n\xfamero de pedidos de dados de um grande n\xfamero de usu\xe1rios."}),"\n",(0,r.jsx)(a.li,{children:"Os testes preliminares indicam que o compostoERDDAP\u2122pode responder \xe0 maioria dos pedidos em ~1ms de tempo de CPU, ou 1000 pedidos / segundo. Assim, um processador de 8 n\xfacleos deve ser capaz de responder a cerca de 8000 pedidos/segundo. Embora seja poss\xedvel prever explos\xf5es de atividade mais elevada que causaria desacelera\xe7\xe3o, isso \xe9 muito de rendimento. \xc9 prov\xe1vel que a largura de banda do data center seja o gargalo muito antes do compostoERDDAP\u2122torna-se o gargalo."}),"\n"]}),"\n",(0,r.jsx)(a.h5,{id:"up-to-date-maxtime",children:"M\xe1ximo actualizado (Tempo) ?"}),"\n",(0,r.jsxs)(a.p,{children:["OEDDGrid/TableFromErddap no compostoERDDAP\u2122apenas muda suas informa\xe7\xf5es armazenadas sobre cada conjunto de dados de origem quando o conjunto de dados de origem \xe9",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#reloadeverynminutes",children:'"recarregar"'}),"e algumas mudan\xe7as de metadados (por exemplo, a vari\xe1vel de tempoactual\\_range) , gerando assim uma notifica\xe7\xe3o de assinatura. Se o conjunto de dados de origem tiver dados que mudam frequentemente (por exemplo, novos dados a cada segundo) e usa o",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#updateeverynmillis",children:'"update"'}),'sistema para notar mudan\xe7as freq\xfcentes nos dados subjacentes, oEDDGrid/TableFromErddap n\xe3o ser\xe1 notificado sobre essas mudan\xe7as frequentes at\xe9 que o pr\xf3ximo conjunto de dados "recarregar", de modo que oEDDGrid/TableFromErddap n\xe3o estar\xe1 perfeitamente atualizado. Voc\xea pode minimizar esse problema alterando o conjunto de dados de origem<reloadEveryNMinutes > a um valor menor (60? 15?) para que haja mais notifica\xe7\xf5es de assinatura para dizer oEDDGrid/TableFromErddap para atualizar suas informa\xe7\xf5es sobre o conjunto de dados de origem.']}),"\n",(0,r.jsx)(a.p,{children:"Ou, se o seu sistema de gerenciamento de dados souber quando o conjunto de dados de origem tem novos dados (por exemplo, atrav\xe9s de um script que copia um arquivo de dados no lugar) , e se isso n\xe3o \xe9 super frequente (por exemplo, a cada 5 minutos, ou menos frequentes) H\xe1 uma solu\xe7\xe3o melhor:"}),"\n",(0,r.jsxs)(a.ol,{children:["\n",(0,r.jsx)(a.li,{children:"N\xe3o use<updateEveryNMillis> para manter o conjunto de dados de origem atualizado."}),"\n",(0,r.jsx)(a.li,{children:"Defina o conjunto de dados de origem<reloadEveryNMinutes > para um n\xfamero maior (1440?) ."}),"\n",(0,r.jsxs)(a.li,{children:["Tenha o script em contato com o conjunto de dados de origem",(0,r.jsx)(a.a,{href:"/docs/server-admin/additional-information#set-dataset-flag",children:"URL da bandeira"}),"logo ap\xf3s ele copia um novo arquivo de dados no lugar.\r\nIsso levar\xe1 ao conjunto de dados de origem perfeitamente atualizado e far\xe1 com que ele gere uma notifica\xe7\xe3o de assinatura, que ser\xe1 enviada para aEDDGrid/TableFromErddap conjunto de dados. Isso vai liderar oEDDGrid/TableFromErddap dataset para estar perfeitamente atualizado (bem, dentro de 5 segundos de novos dados sendo adicionados) . E tudo o que ser\xe1 feito de forma eficiente (sem recargas de dados desnecess\xe1rios) ."]}),"\n"]}),"\n",(0,r.jsx)(a.h4,{id:"multiple-composite-erddaps",children:"V\xe1rios compostosERDDAPS"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"Em casos muito extremos, ou para toler\xe2ncia a falhas, voc\xea pode querer configurar mais de um compostoERDDAP. \xc9 prov\xe1vel que outras partes do sistema (notavelmente, a largura de banda do data center) vai se tornar um problema muito antes do compostoERDDAP\u2122torna-se um gargalo. Assim, a solu\xe7\xe3o \xe9 provavelmente para configurar centros de dados adicionais, geograficamente diversos (espelhos) , cada um com um compostoERDDAP\u2122e servidores comERDDAPe (pelo menos) c\xf3pias de espelho dos conjuntos de dados que est\xe3o em alta demanda. Tal configura\xe7\xe3o tamb\xe9m fornece toler\xe2ncia a falhas e backup de dados (atrav\xe9s da c\xf3pia) . Neste caso, \xe9 melhor se o compostoERDDAPs tem URLs diferentes."}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:"Se voc\xea realmente quer todo o compostoERDDAPs para ter a mesma URL, use um sistema front-end que atribui um determinado usu\xe1rio a apenas um dos compostosERDDAPS (com base no endere\xe7o IP) , para que todas as solicita\xe7\xf5es do usu\xe1rio ir para apenas um dos compostosERDDAPS. H\xe1 duas raz\xf5es:"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:["Quando um conjunto de dados subjacente \xe9 recarregado e os metadados mudam (por exemplo, um novo arquivo de dados em um conjunto de dados gradeado causa a vari\xe1vel de tempoactual\\_rangemudar) , o compostoERDDAPs ser\xe1 temporariamente ligeiramente fora de sincronia, mas com",(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Eventual_consistency",children:"eventual consist\xeancia"}),". Normalmente, eles v\xe3o re-sincronizar dentro de 5 segundos, mas \xe0s vezes ser\xe1 mais longo. Se um usu\xe1rio fizer um sistema automatizado que depende",(0,r.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/subscriptions/index.html",children:"ERDDAP\u2122assinaturas"}),"que desencadear a\xe7\xf5es, os breves problemas de sincroniza\xe7\xe3o se tornar\xe3o significativos."]}),"\n",(0,r.jsx)(a.li,{children:"O composto 2+ERDDAPs cada manter seu pr\xf3prio conjunto de assinaturas (por causa do problema de sincroniza\xe7\xe3o descrito acima) ."}),"\n"]}),"\n",(0,r.jsxs)(a.p,{children:["Ent\xe3o um determinado usu\xe1rio deve ser direcionado para apenas um dos compostosERDDAPpara evitar esses problemas. Se um dos compostosERDDAPs vai para baixo, o sistema front-end pode redirecionar queERDDAPOs usu\xe1rios para outroERDDAP\u2122Acabou. No entanto, se \xe9 um problema de capacidade que causa o primeiro compostoERDDAP\u2122para falhar (um usu\xe1rio superzeloso? um",(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Denial-of-service_attack",children:"ataque de nega\xe7\xe3o de servi\xe7o"}),"?) , isso torna muito prov\xe1vel que redirecionando seus usu\xe1rios para outro compostoERDDAPs causar\xe1 um",(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Cascading_failure",children:"falha em cascata"}),". Assim, a configura\xe7\xe3o mais robusta \xe9 ter compostoERDDAPs com URLs diferentes."]}),"\n",(0,r.jsx)(a.p,{children:"Ou, talvez melhor, configurar m\xfaltiplos compostosERDDAPs sem balanceamento de carga. Neste caso, voc\xea deve fazer um ponto de dar a cada um dosERDDAPs um nome diferente / identidade e se poss\xedvel configur\xe1-los em diferentes partes do mundo (por exemplo, diferentes regi\xf5es AWS) , por exemplo,ERD\\_US\\_East,ERD\\_US\\_West,ERD- Sim.ERD\\_FR,ERD\\_IT, de modo que os usu\xe1rios conscientemente, repetidamente trabalhar com um espec\xedficoERDDAP."}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:["\\[Para um design fascinante de um sistema de alto desempenho em execu\xe7\xe3o em um servidor, consulte este",(0,r.jsx)(a.a,{href:"https://mailinator.blogspot.com/2007/01/architecture-of-mailinator.html",children:"descri\xe7\xe3o detalhada do Mailinator"}),".\\]"]}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"datasets-in-very-high-demand",children:"Conjuntos de dados em demanda muito alta"}),"\n",(0,r.jsxs)(a.p,{children:["No caso realmente incomum que um dos ",(0,r.jsx)(a.strong,{children:"A"})," , ",(0,r.jsx)(a.strong,{children:"B"})," ou ",(0,r.jsx)(a.strong,{children:"C"}),"  ERDDAPs n\xe3o pode acompanhar as solicita\xe7\xf5es por causa de limita\xe7\xf5es de largura de banda ou disco r\xedgido, faz sentido copiar os dados (Outra vez.) para outro servidor+hard Drive+ERDDAP, talvez com",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridEntendido."}),"e/ou",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDTableCopy"}),'. Embora possa parecer ideal ter o conjunto de dados original e o conjunto de dados copiado aparecer perfeitamente como um conjunto de dados no compostoERDDAP\u2122, isso \xe9 dif\xedcil porque os dois conjuntos de dados estar\xe3o em estados ligeiramente diferentes em diferentes momentos (notavelmente, depois que o original recebe novos dados, mas antes que o conjunto de dados copiado recebe sua c\xf3pia) . Portanto, eu recomendo que os conjuntos de dados sejam dados t\xedtulos ligeiramente diferentes (por exemplo, "... (c\xf3pia #1) "e "... (c\xf3pia #2) ", ou talvez " (espelho ',(0,r.jsx)(a.em,{children:"n"}),' ) "ou " (servidor ',(0,r.jsx)(a.em,{children:"n"}),' ) ") e aparecem como conjuntos de dados separados no compostoERDDAP. Os usu\xe1rios s\xe3o usados para ver listas de',(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Website#mirror_site",children:"sites espelho"}),'em sites de download de arquivos populares, ent\xe3o isso n\xe3o deve surpreend\xea-los ou decepcion\xe1-los. Por causa das limita\xe7\xf5es de largura de banda em um determinado site, pode fazer sentido ter o espelho localizado em outro site. Se a c\xf3pia do espelho estiver em um data center diferente, acessada apenas pelo composto daquele data centerERDDAP\u2122, os diferentes t\xedtulos (por exemplo, "espelho #1) N\xe3o \xe9 necess\xe1rio.']}),"\n",(0,r.jsx)(a.h3,{id:"raids-versus-regular-hard-drives",children:"RAIDs versus discos r\xedgidos regulares"}),"\n",(0,r.jsxs)(a.p,{children:["Se um grande conjunto de dados ou um grupo de conjuntos de dados n\xe3o forem fortemente usados, pode fazer sentido armazenar os dados em um RAID uma vez que oferece toler\xe2ncia a falhas e uma vez que voc\xea n\xe3o precisa do poder de processamento ou largura de banda de outro servidor. Mas se um conjunto de dados \xe9 fortemente usado, pode fazer mais sentido copiar os dados em outro servidor +ERDDAP\u2122+ disco r\xedgido (similar a",(0,r.jsx)(a.a,{href:"https://storagemojo.com/2007/02/19/googles-disk-failure-experience/",children:"o que o Google faz"}),") em vez de usar um servidor e um RAID para armazenar v\xe1rios conjuntos de dados desde que voc\xea come\xe7a a usar tanto server+hardDrive+ERDDAPest\xe1 na grelha at\xe9 um deles falhar."]}),"\n",(0,r.jsx)(a.h3,{id:"failures",children:"Infrac\xe7\xf5es"}),"\n",(0,r.jsx)(a.p,{children:"O que acontece se..."}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"H\xe1 uma explos\xe3o de pedidos para um conjunto de dados (por exemplo, todos os alunos de uma classe simultaneamente solicitam dados semelhantes) ?\r\nS\xf3 oERDDAP\u2122servir esse conjunto de dados ser\xe1 esmagado e retardar ou recusar solicita\xe7\xf5es. O compostoERDDAP\u2122e outrosERDDAPN\xe3o ser\xe1 afectada. Como o fator limitante para um dado conjunto de dados dentro do sistema \xe9 o disco r\xedgido com os dados (n\xe3oERDDAP) , a \xfanica solu\xe7\xe3o (n\xe3o imediata) \xe9 fazer uma c\xf3pia do conjunto de dados em um servidor diferente+hardDrive+ERDDAP."}),"\n",(0,r.jsxs)(a.li,{children:["Um ",(0,r.jsx)(a.strong,{children:"A"})," , ",(0,r.jsx)(a.strong,{children:"B"})," ou ",(0,r.jsx)(a.strong,{children:"C"}),"  ERDDAP\u2122falha (por exemplo, falha no disco r\xedgido) ?\r\nApenas o conjunto de dados (S) servido por issoERDDAP\u2122s\xe3o afetados. Se o conjunto de dados (S) \xe9 espelhado em outro servidor+hardDrive+ERDDAP, o efeito \xe9 m\xednimo. Se o problema for uma falha no disco r\xedgido em um n\xedvel 5 ou 6 RAID, basta substituir a unidade e ter o RAID reconstruir os dados na unidade."]}),"\n",(0,r.jsxs)(a.li,{children:["O compostoERDDAP\u2122falha?\r\nSe voc\xea quiser fazer um sistema com muito",(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/High_availability",children:"alta disponibilidade"}),", voc\xea pode configurar",(0,r.jsx)(a.a,{href:"#multiple-composite-erddaps",children:"m\xfaltiplos compostosERDDAPS (como discutido acima) "}),"usando algo como",(0,r.jsx)(a.a,{href:"https://www.nginx.com/",children:"NGINX"}),"ou",(0,r.jsx)(a.a,{href:"https://traefik.io/",children:"Traefik"}),"para lidar com balanceamento de carga. Note que um dado compostoERDDAP\u2122pode lidar com um grande n\xfamero de pedidos de um grande n\xfamero de usu\xe1rios, porque\r\npedidos de metadados s\xe3o pequenos e s\xe3o tratados por informa\xe7\xf5es que est\xe3o em mem\xf3ria, e\r\npedidos de dados (que pode ser grande) s\xe3o redirecionados para a crian\xe7aERDDAPS."]}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"simple-scalable",children:"Simples, escal\xe1vel"}),"\n",(0,r.jsx)(a.p,{children:"Este sistema \xe9 f\xe1cil de configurar e administrar, e facilmente extens\xedvel quando qualquer parte dele se torna over-burdened. As \xfanicas limita\xe7\xf5es reais para um dado data center s\xe3o a largura de banda do data center e o custo do sistema."}),"\n",(0,r.jsx)(a.h3,{id:"bandwidth",children:"Largura de banda"}),"\n",(0,r.jsx)(a.p,{children:"Note a largura de banda aproximada de componentes comumente usados do sistema:"}),"\n",(0,r.jsx)(a.p,{children:"|Componente|Largura de banda aproximada (GBytes/s)  |\r\n|-...|-...|\r\n|Mem\xf3ria DDR|2.5.|\r\n|unidade SSD|1|\r\n|Disco r\xedgido SATA|0|\r\n|Gigabit Ethernet|0.1|\r\n|OC-12|0,06|\r\n|OC-3|0,015|\r\n|T1|0,0002|"}),"\n",(0,r.jsxs)(a.p,{children:["Ent\xe3o, um disco r\xedgido SATA (0,3GB/s) em um servidor com umERDDAP\u2122pode provavelmente saturar uma LAN Gigabit Ethernet (0.1GB/s) . E uma LAN Ethernet Gigabit (0.1GB/s) pode provavelmente saturar uma conex\xe3o de Internet OC-12 (0.06GB/s) . E pelo menos uma fonte lista linhas OC-12 custando cerca de $100.000 por m\xeas. (Sim, esses c\xe1lculos s\xe3o baseados em empurrar o sistema para seus limites, o que n\xe3o \xe9 bom porque leva a respostas muito lentos. Mas esses c\xe1lculos s\xe3o \xfateis para o planejamento e para equilibrar partes do sistema.)   ",(0,r.jsx)(a.strong,{children:"Claramente, uma conex\xe3o de Internet convenientemente r\xe1pida para o seu data center \xe9 de longe a parte mais cara do sistema."})," Voc\xea pode facilmente e relativamente barato construir uma grade com uma d\xfazia de servidores executando uma d\xfaziaERDDAPs que \xe9 capaz de bombear muitos dados rapidamente, mas uma conex\xe3o de Internet convenientemente r\xe1pida ser\xe1 muito, muito caro. As solu\xe7\xf5es parciais s\xe3o:"]}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"Encoraje os clientes a solicitar subconjuntos dos dados se isso for necess\xe1rio. Se o cliente s\xf3 precisa de dados para uma pequena regi\xe3o ou em uma resolu\xe7\xe3o mais baixa, \xe9 isso que eles devem solicitar. A subconfigura\xe7\xe3o \xe9 um foco central dos protocolosERDDAP\u2122suportes para solicitar dados."}),"\n",(0,r.jsxs)(a.li,{children:["Incentivar a transmiss\xe3o de dados comprimidos.ERDDAP\u2122 ",(0,r.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#compression",children:"Comprimentos"}),'uma transmiss\xe3o de dados se ele encontrar "aceitar-codifica\xe7\xe3o" noHTTP GETsolicitar cabe\xe7alho. Todos os navegadores usam "aceitar-codifica\xe7\xe3o" e descomprimir automaticamente a resposta. Outros clientes (por exemplo, programas de computador) tem que us\xe1-lo explicitamente.']}),"\n",(0,r.jsx)(a.li,{children:"Colocar seus servidores em um ISP ou outro site que oferece custos de largura de banda relativamente menos caros."}),"\n",(0,r.jsx)(a.li,{children:"Disperse os servidores com oERDDAPa diferentes institui\xe7\xf5es para que os custos sejam dispersos. Voc\xea pode ligar seu compostoERDDAP\u2122para a suaERDDAPS."}),"\n"]}),"\n",(0,r.jsxs)(a.p,{children:["Note que",(0,r.jsx)(a.a,{href:"#cloud-computing",children:"Computa\xe7\xe3o em nuvem"}),"e servi\xe7os de hospedagem web oferecem toda a largura de banda de Internet que voc\xea precisa, mas n\xe3o resolver o problema do pre\xe7o."]}),"\n",(0,r.jsxs)(a.p,{children:["Para obter informa\xe7\xf5es gerais sobre a concep\xe7\xe3o de sistemas escal\xe1veis, de alta capacidade, tolerantes a falhas, consulte o livro de Michael T. Nygard",(0,r.jsx)(a.a,{href:"https://www.amazon.com/Release-Production-Ready-Software-Pragmatic-Programmers/dp/0978739213",children:"Solte-o."}),"."]}),"\n",(0,r.jsx)(a.h3,{id:"like-legos",children:"Como o Legos"}),"\n",(0,r.jsxs)(a.p,{children:["Designers de software muitas vezes tentam usar bom",(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Software_design_pattern",children:"padr\xf5es de design de software"}),"resolver problemas. Bons padr\xf5es s\xe3o bons porque eles encapsulam boas, f\xe1ceis de criar e trabalhar com, solu\xe7\xf5es de uso geral que levam a sistemas com boas propriedades. Nomes padr\xe3o n\xe3o s\xe3o padronizados, ent\xe3o eu vou chamar o padr\xe3o queERDDAP\u2122usa o padr\xe3o Lego. Cada Lego (cada umERDDAP) \xe9 um simples, pequeno, padr\xe3o, stand-alone, tijolo (servidor de dados) com uma interface definida que permite que ele seja ligado a outros legos (ERDDAPS) . As partes deERDDAP\u2122que comp\xf5em este sistema s\xe3o: os sistemas de assinatura e bandeiraURL (que permite a comunica\xe7\xe3o entreERDDAPS) O EDD... sistema de redirecionamento FromErddap, e o sistema deRESTfulpedidos de dados que podem ser gerados por usu\xe1rios ou outrosERDDAPS. Assim, dado dois ou mais legos (ERDDAPS) , voc\xea pode criar um grande n\xfamero de formas diferentes (topologias de redeERDDAPS) . Claro, o design e as caracter\xedsticas deERDDAP\u2122poderia ter sido feito de forma diferente, n\xe3o como Lego, talvez apenas para permitir e otimizar para uma topologia espec\xedfica. Mas n\xf3s sentimos queERDDAP's Lego-like design oferece uma boa, solu\xe7\xe3o de uso geral que permite qualquerERDDAP\u2122administrador (ou grupo de administradores) criar todos os tipos de topologias de federa\xe7\xe3o diferentes. Por exemplo, uma \xfanica organiza\xe7\xe3o poderia criar tr\xeas (ou mais)  ERDDAPs como mostrado no",(0,r.jsx)(a.a,{href:"#recommendations",children:"ERDDAP\u2122Diagrama de grade/colaster acima"}),". Ou um grupo distribu\xeddo (IOOS? CoastWatch? NCEI? NWS?NOAA? USGS? DataONE? NEON? Mais tarde? OOI? BODC? ONC? JRC? WMO?) pode configurar umERDDAP\u2122em cada pequeno posto avan\xe7ado (para que os dados possam ficar perto da fonte) e, em seguida, configurar um compostoERDDAP\u2122no escrit\xf3rio central com conjuntos de dados virtuais (que est\xe3o sempre perfeitamente atualizados) de cada um dos pequenos postos avan\xe7adosERDDAPS. De facto, todos osERDDAPs, instalado em v\xe1rias institui\xe7\xf5es em todo o mundo, que obt\xe9m dados de outrosERDDAPs e/ou fornecer dados para outrosERDDAPs, formar uma rede gigante deERDDAPS. Que fixe \xe9 isso?! Assim, como no Lego's, as possibilidades s\xe3o infinitas. \xc9 por isso que este \xe9 um bom padr\xe3o. \xc9 por isso que este \xe9 um bom design paraERDDAP."]}),"\n",(0,r.jsx)(a.h3,{id:"different-types-of-requests",children:"Diferentes tipos de pedidos"}),"\n",(0,r.jsx)(a.p,{children:"Uma das complica\xe7\xf5es da vida real desta discuss\xe3o de topologias de servidores de dados \xe9 que existem diferentes tipos de pedidos e diferentes formas de otimizar para os diferentes tipos de pedidos. Esta \xe9 principalmente uma quest\xe3o separada (Qu\xe3o r\xe1pido pode oERDDAP\u2122com os dados respondem \xe0 solicita\xe7\xe3o de dados?) da discuss\xe3o de topologia (que lida com as rela\xe7\xf5es entre servidores de dados e que servidor tem os dados reais) .ERDDAP\u2122, \xe9 claro, tenta lidar com todos os tipos de pedidos de forma eficiente, mas lida com alguns melhores do que outros."}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"Muitos pedidos s\xe3o simples.\r\nPor exemplo: Quais s\xe3o os metadados para este conjunto de dados? Ou: Quais s\xe3o os valores da dimens\xe3o do tempo para este conjunto de dados grelhados?ERDDAP\u2122\xe9 projetado para lidar com estes o mais r\xe1pido poss\xedvel (geralmente em<= 2 ms) mantendo esta informa\xe7\xe3o em mem\xf3ria.\r\n\xa0"}),"\n",(0,r.jsx)(a.li,{children:"Alguns pedidos s\xe3o moderadamente dif\xedceis.\r\nPor exemplo: D\xea-me este subconjunto de um conjunto de dados (que est\xe1 em um arquivo de dados) . Estas solicita\xe7\xf5es podem ser tratadas relativamente rapidamente porque n\xe3o s\xe3o t\xe3o dif\xedceis.\r\n\xa0"}),"\n",(0,r.jsxs)(a.li,{children:["Alguns pedidos s\xe3o dif\xedceis e, portanto, s\xe3o demorados.\r\nPor exemplo: D\xea-me este subconjunto de um conjunto de dados (que pode estar em qualquer um dos mais de 10.000 arquivos de dados, ou pode ser de arquivos de dados compactados que cada um leva 10 segundos para descomprimir) .ERDDAP\u2122O v2.0 introduziu algumas novas formas mais r\xe1pidas de lidar com esses pedidos, nomeadamente permitindo que o segmento de manuseamento de pedidos desova v\xe1rios fios de trabalhadores que abordam diferentes subconjuntos do pedido. Mas h\xe1 uma outra abordagem deste problema queERDDAP\u2122ainda n\xe3o suporta: subconjuntos dos arquivos de dados para um determinado conjunto de dados podem ser armazenados e analisados em computadores separados e, em seguida, os resultados combinados no servidor original. Esta abordagem \xe9 chamada",(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/MapReduce",children:"Mapa"}),"e \xe9 exemplificado por",(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Apache_Hadoop",children:"Hadoop"}),", o primeiro (?) open-source programa MapReduce, que foi baseado em ideias de um papel do Google. (Se voc\xea precisar MapReduce inERDDAP, por favor envie um pedido de e-mail paraerd.data at noaa.gov.) Google",(0,r.jsx)(a.a,{href:"https://cloud.google.com/bigquery/",children:"BigQuery."}),"\xe9 interessante porque parece ser uma implementa\xe7\xe3o do MapReduce aplicado para subconfigurar conjuntos de dados tabulares, que \xe9 um dosERDDAPOs principais objetivos. \xc9 prov\xe1vel que voc\xea possa criar umERDDAP\u2122dataset de um conjunto de dados BigQuery via",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablefromdatabase",children:"EDDTable FromDatabase"}),"porque BigQuery pode ser acessado atrav\xe9s de uma interface JDBC."]}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"these-are-my-opinions",children:"Estas s\xe3o as minhas opini\xf5es."}),"\n",(0,r.jsx)(a.p,{children:"Sim, os c\xe1lculos s\xe3o simplistas (e agora ligeiramente datado) , mas acho que as conclus\xf5es est\xe3o correctas. Eu usei l\xf3gica defeituosa ou cometi um erro nos meus c\xe1lculos? Se assim for, a culpa \xe9 minha sozinha. Por favor envie um e-mail com a corre\xe7\xe3o paraerd dot data at noaa dot gov."}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"N\xe3o."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(a.h2,{id:"cloud-computing",children:(0,r.jsxs)(a.a,{href:"#cloud-computing",children:[" ",(0,r.jsx)(a.strong,{children:"Computa\xe7\xe3o em nuvem"})," "]})}),"\n",(0,r.jsxs)(a.p,{children:["V\xe1rias empresas oferecem servi\xe7os de computa\xe7\xe3o em nuvem (por exemplo,",(0,r.jsx)(a.a,{href:"https://aws.amazon.com/",children:"Amazon Web Services"}),"e",(0,r.jsx)(a.a,{href:"https://cloud.google.com/",children:"Plataforma de nuvem do Google"}),") .",(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Web_hosting_service",children:"Empresas de hospedagem web"}),'ofereceram servi\xe7os mais simples desde meados da d\xe9cada de 1990, mas os servi\xe7os "nuvem" expandiram consideravelmente a flexibilidade dos sistemas e a gama de servi\xe7os oferecidos. Desde oERDDAP\u2122grade apenas consiste emERDDAPe desdeERDDAPs s\xe3oJavaaplica\xe7\xf5es web que podem ser executadas em Tomcat (o servidor de aplicativos mais comum) ou outros servidores de aplicativos, deve ser relativamente f\xe1cil configurar umERDDAP\u2122grade em um servi\xe7o de nuvem ou web hosting site. As vantagens destes servi\xe7os s\xe3o:']}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"Eles oferecem acesso a conex\xf5es de Internet de largura de banda muito alta. S\xf3 isso pode justificar a utiliza\xe7\xe3o destes servi\xe7os."}),"\n",(0,r.jsx)(a.li,{children:"Eles cobram apenas pelos servi\xe7os que voc\xea usa. Por exemplo, voc\xea tem acesso a uma conex\xe3o de Internet de largura de banda muito alta, mas voc\xea s\xf3 paga por dados reais transferidos. Isso permite que voc\xea construa um sistema que raramente fica sobrecarregado (mesmo na demanda de pico) , sem ter que pagar por capacidade que raramente \xe9 usado."}),"\n",(0,r.jsx)(a.li,{children:"Eles s\xe3o facilmente extens\xedveis. Voc\xea pode alterar tipos de servidor ou adicionar tantos servidores ou quanto desejar, em menos de um minuto. S\xf3 isso pode justificar a utiliza\xe7\xe3o destes servi\xe7os."}),"\n",(0,r.jsx)(a.li,{children:"Eles o libertam de muitos dos deveres administrativos de executar os servidores e redes. S\xf3 isso pode justificar a utiliza\xe7\xe3o destes servi\xe7os."}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:"As desvantagens destes servi\xe7os s\xe3o:"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:["Eles cobram por seus servi\xe7os, \xe0s vezes muito (em termos absolutos; n\xe3o que n\xe3o seja um bom valor) . Os pre\xe7os listados aqui s\xe3o para",(0,r.jsx)(a.a,{href:"https://aws.amazon.com/ec2/pricing",children:"Amazon EC2"}),". Estes pre\xe7os (a partir de junho 2015) vai descer.\r\nNo passado, os pre\xe7os eram maiores, mas os arquivos de dados e o n\xfamero de pedidos eram menores.\r\nNo futuro, os pre\xe7os ser\xe3o mais baixos, mas os arquivos de dados e o n\xfamero de pedidos ser\xe3o maiores.\r\nEnt\xe3o os detalhes mudam, mas a situa\xe7\xe3o permanece relativamente constante.\r\nE n\xe3o \xe9 que o servi\xe7o \xe9 muito caro, \xe9 que estamos usando e comprando muito do servi\xe7o.","\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"Transfer\xeancia de dados \u2014 Transfer\xeancias de dados no sistema s\xe3o agora gratuitas (Sim!) .\r\nTransfer\xeancias de dados fora do sistema s\xe3o $0.09 / GB.\r\nUm disco r\xedgido SATA (0,3GB/s) em um servidor com umERDDAP\u2122pode provavelmente saturar uma LAN Gigabit Ethernet (0.1GB/s) .\r\nUma LAN Ethernet Gigabit (0.1GB/s) pode provavelmente saturar uma conex\xe3o de Internet OC-12 (0.06GB/s) .\r\nSe uma conex\xe3o OC-12 puder transmitir ~ 150,000 GB / m\xeas, os custos de transfer\xeancia de dados podem ser de at\xe9 150,000 GB @ $0.09/GB = $13,500 / m\xeas, o que \xe9 um custo significativo. Claramente, se voc\xea tem uma d\xfazia de trabalho duroERDDAPs em um servi\xe7o de nuvem, suas taxas mensais de transfer\xeancia de dados podem ser substanciais (at\xe9 $162,000/m\xeas) . (Novamente, n\xe3o \xe9 que o servi\xe7o \xe9 super caro, \xe9 que estamos usando e comprando um monte do servi\xe7o.)"}),"\n",(0,r.jsxs)(a.li,{children:["Armazenamento de dados \u2014 Amazon cobra $50/m\xeas por TB. (Compare isso com a compra de uma unidade empresarial 4TB diretamente por ~ $ 50 / TB, embora o RAID para coloc\xe1-lo e os custos administrativos adicionar ao custo total.) Ent\xe3o, se voc\xea precisa armazenar muitos dados na nuvem, pode ser bastante caro (por exemplo, 100TB custaria $5000 / m\xeas) . Mas a menos que voc\xea tenha uma grande quantidade de dados, este \xe9 um problema menor do que os custos de transfer\xeancia de largura de banda / dados. (Novamente, n\xe3o \xe9 que o servi\xe7o \xe9 super caro, \xe9 que estamos usando e comprando um monte do servi\xe7o.)",(0,r.jsx)(a.br,{}),"\n","\xa0"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"subsetting",children:"Subconfigura\xe7\xe3o"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"O problema de subconfigura\xe7\xe3o: A \xfanica maneira de distribuir eficientemente dados de arquivos de dados \xe9 ter o programa que est\xe1 distribuindo os dados (por exemplo,ERDDAP) executando em um servidor que tem os dados armazenados em um disco r\xedgido local (ou acesso r\xe1pido a uma SAN ou RAID local) . Sistemas de arquivos locais permitemERDDAP\u2122  (e bibliotecas subjacentes, como netcdf-java) para solicitar intervalos de byte espec\xedficos dos arquivos e obter respostas muito rapidamente. Muitos tipos de solicita\xe7\xf5es de dados deERDDAP\u2122para o arquivo (nomeadamente solicita\xe7\xf5es de dados em rede quando o valor do passo \xe9 > 1) n\xe3o pode ser feito de forma eficiente se o programa tem que solicitar todo o arquivo ou grandes peda\xe7os de um arquivo de um n\xe3o-local (da\xed mais devagar) sistema de armazenamento de dados e, em seguida, extrair um subconjunto. Se a configura\xe7\xe3o da nuvem n\xe3o d\xe1ERDDAP\u2122acesso r\xe1pido a intervalos de byte dos arquivos (t\xe3o r\xe1pido como com arquivos locais) ,ERDDAPO acesso aos dados ser\xe1 um gargalo grave e nega outros benef\xedcios de usar um servi\xe7o de nuvem."}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"hosted-data",children:"Dados hospedados"}),"\n",(0,r.jsx)(a.p,{children:"Uma alternativa \xe0 an\xe1lise de benef\xedcios de custo acima (que \xe9 baseado no propriet\xe1rio de dados (por exemplo,NOAA) pagando por seus dados a serem armazenados na nuvem) chegou em torno de 2012, quando Amazon (e em menor medida, alguns outros provedores de nuvem) come\xe7ou a hospedar alguns conjuntos de dados em sua nuvem (AWS S3) de gra\xe7a (presumivelmente com a esperan\xe7a de que eles pudessem recuperar seus custos se os usu\xe1rios alugariam inst\xe2ncias de computa\xe7\xe3o AWS EC2 para trabalhar com esses dados) . Claramente, isso torna a computa\xe7\xe3o em nuvem muito mais rent\xe1vel, porque o tempo e custo-up upload dos dados e hospedagem agora s\xe3o zero. ComERDDAP\u2122v2.0, existem novos recursos para facilitar a execu\xe7\xe3oERDDAPem uma nuvem:"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"Agora, umEDDGridFromFiles ou EDDTableFromFiles dataset pode ser criado a partir de arquivos de dados que s\xe3o remotos e acess\xedveis atrav\xe9s da internet (por exemplo, baldes AWS S3) usando o<cacheDeUrl> e<tamanho do cache GB > op\xe7\xf5es.ERDDAP\u2122manter\xe1 um cache local dos arquivos de dados mais usados recentemente."}),"\n",(0,r.jsx)(a.li,{children:"Agora, se algum arquivo de origem EDDTableFromFiles for compactado (por exemplo,.tgz) ,ERDDAP\u2122ir\xe1 descomprimir automaticamente quando l\xea-los."}),"\n",(0,r.jsx)(a.li,{children:"Agora, oERDDAP\u2122a resposta de rosca a uma determinada solicita\xe7\xe3o gerar\xe1 threads para trabalhar em subse\xe7\xf5es do pedido se voc\xea usar o<nThreads > op\xe7\xf5es. Esta paraleliza\xe7\xe3o deve permitir respostas mais r\xe1pidas a pedidos dif\xedceis."}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:"Essas mudan\xe7as resolvem o problema de AWS S3 n\xe3o oferecer armazenamento de arquivos local, n\xedvel de bloco e o (velho) problema de acesso a dados S3 com um atraso significativo. (Anos atr\xe1s (~ 2014) , esse atraso foi significativo, mas agora \xe9 muito mais curto e assim n\xe3o t\xe3o significativo.) Tudo em tudo, significa que a configura\xe7\xe3oERDDAP\u2122na nuvem funciona muito melhor agora."}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"Obrigado."})," \u2014 Muito obrigado a Matthew Arrott e seu grupo no esfor\xe7o original da OOI para o seu trabalho em colocarERDDAP\u2122na nuvem e as discuss\xf5es resultantes.\r\n\xa0"]}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"N\xe3o."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(a.h2,{id:"remote-replication-of-datasets",children:(0,r.jsx)(a.a,{href:"#remote-replication-of-datasets",children:"Replica\xe7\xe3o remota de conjuntos de dados"})}),"\n",(0,r.jsx)(a.p,{children:"H\xe1 um problema comum relacionado com a discuss\xe3o acima de grades e federa\xe7\xf5es deERDDAPs: replica\xe7\xe3o remota de conjuntos de dados. O problema b\xe1sico \xe9: um provedor de dados mant\xe9m um conjunto de dados que muda ocasionalmente e um usu\xe1rio quer manter uma c\xf3pia local atualizada deste conjunto de dados (para qualquer uma das v\xe1rias raz\xf5es) . Claramente, h\xe1 um grande n\xfamero de varia\xe7\xf5es disso. Algumas varia\xe7\xf5es s\xe3o muito mais dif\xedceis de lidar do que outras."}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:["Atualiza\xe7\xf5es r\xe1pidas\r\n\xc9 mais dif\xedcil manter os dados locais atualizados ",(0,r.jsx)(a.em,{children:"imediatamente imediatamente."}),"   (por exemplo, dentro de 3 segundos) depois de cada mudan\xe7a para a fonte, em vez de, por exemplo, dentro de algumas horas.\r\n\xa0"]}),"\n",(0,r.jsx)(a.li,{children:"Mudan\xe7as frequentes\r\nAs mudan\xe7as frequentes s\xe3o mais dif\xedceis de lidar do que as mudan\xe7as pouco frequentes. Por exemplo, uma vez por dia as mudan\xe7as s\xe3o muito mais f\xe1ceis de lidar do que as mudan\xe7as a cada 0,1 segundo.\r\n\xa0"}),"\n",(0,r.jsx)(a.li,{children:"Pequenas mudan\xe7as\r\nPequenas mudan\xe7as em um arquivo de origem s\xe3o mais dif\xedceis de lidar do que um arquivo totalmente novo. Isso \xe9 especialmente verdade se as pequenas mudan\xe7as podem estar em qualquer lugar do arquivo. Pequenas mudan\xe7as s\xe3o mais dif\xedceis de detectar e tornar dif\xedcil isolar os dados que precisam ser replicados. Novos arquivos s\xe3o f\xe1ceis de detectar e eficientes para transferir.\r\n\xa0"}),"\n",(0,r.jsx)(a.li,{children:"Conjunto de dados completo\r\nManter um conjunto de dados completo atualizado \xe9 mais dif\xedcil do que manter apenas dados recentes. Alguns usu\xe1rios apenas precisam de dados recentes (Por exemplo, o \xfaltimo vale de 8 dias) .\r\n\xa0"}),"\n",(0,r.jsx)(a.li,{children:"M\xfaltiplas c\xf3pias\r\nManter v\xe1rias c\xf3pias remotas em diferentes sites \xe9 mais dif\xedcil do que manter uma c\xf3pia remota. Este \xe9 o problema do escalonamento.\r\n\xa0"}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:"H\xe1, obviamente, um grande n\xfamero de varia\xe7\xf5es de tipos poss\xedveis de mudan\xe7as no conjunto de dados de origem e das necessidades e expectativas do usu\xe1rio. Muitas das varia\xe7\xf5es s\xe3o muito dif\xedceis de resolver. A melhor solu\xe7\xe3o para uma situa\xe7\xe3o muitas vezes n\xe3o \xe9 a melhor solu\xe7\xe3o para outra situa\xe7\xe3o \u2014 ainda n\xe3o h\xe1 uma grande solu\xe7\xe3o universal."}),"\n",(0,r.jsx)(a.h3,{id:"relevant-erddap-tools",children:(0,r.jsxs)(a.a,{href:"#relevant-erddap-tools",children:[" ",(0,r.jsx)(a.strong,{children:"RelevanteERDDAP\u2122Ferramentas"})," "]})}),"\n",(0,r.jsx)(a.p,{children:"ERDDAP\u2122oferece v\xe1rias ferramentas que podem ser usadas como parte de um sistema que busca manter uma c\xf3pia remota de um conjunto de dados:"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:["ERDDAP'",(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/RSS",children:"RSS  (Rich Site Sum\xe1rio?) servi\xe7o"}),(0,r.jsx)(a.br,{}),"\n","oferece uma maneira r\xe1pida de verificar se um conjunto de dados em um remotoERDDAP\u2122mudou.\r\n\xa0"]}),"\n",(0,r.jsxs)(a.li,{children:["ERDDAP'",(0,r.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions",children:"servi\xe7o de assinatura"}),(0,r.jsx)(a.br,{}),"\n","\xe9 mais eficiente (do queRSS) abordagem: enviar\xe1 imediatamente um e-mail ou entrar\xe1 em contato com um URL para cada assinante sempre que o conjunto de dados for atualizado e a atualiza\xe7\xe3o resultou em uma mudan\xe7a. \xc9 eficiente em que acontece o mais r\xe1pido poss\xedvel e n\xe3o h\xe1 esfor\xe7o desperdi\xe7ado (como com sondagem umRSSservi\xe7o) . Os usu\xe1rios podem usar outras ferramentas (Tipo...",(0,r.jsx)(a.a,{href:"https://ifttt.com/",children:"IFTTT"}),") para reagir \xe0s notifica\xe7\xf5es por e-mail do sistema de assinatura. Por exemplo, um usu\xe1rio pode assinar um conjunto de dados em um remotoERDDAP\u2122e use o IFTTT para reagir \xe0s notifica\xe7\xf5es por e-mail de assinatura e ativar a atualiza\xe7\xe3o do conjunto de dados local.\r\n\xa0"]}),"\n",(0,r.jsxs)(a.li,{children:["ERDDAP'",(0,r.jsx)(a.a,{href:"/docs/server-admin/additional-information#flag",children:"sistema de bandeira"}),(0,r.jsx)(a.br,{}),"\n","fornece uma maneira para umERDDAP\u2122administrador para contar um conjunto de dados em seu / herERDDAPpara recarregar o mais r\xe1pido poss\xedvel. A forma de URL de uma bandeira pode ser facilmente usada em scripts. O formul\xe1rio URL de uma bandeira tamb\xe9m pode ser usado como a a\xe7\xe3o para uma assinatura.\r\n\xa0"]}),"\n",(0,r.jsxs)(a.li,{children:["ERDDAP'",(0,r.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html",children:'"files"sistema'}),(0,r.jsx)(a.br,{}),"\n",'pode oferecer acesso aos arquivos de origem para um determinado conjunto de dados, incluindo uma lista de diret\xf3rios no estilo Apache dos arquivos (um "Web Accessible Folder") que tem URL de download de cada arquivo, \xfaltima vez modificada e tamanho. Uma desvantagem de usar o"files"sistema \xe9 que os arquivos de origem podem ter diferentes nomes vari\xe1veis e diferentes metadados do que o conjunto de dados como ele aparece emERDDAP. Se um remotoERDDAP\u2122dataset oferece acesso a seus arquivos de origem, que abre a possibilidade de uma vers\xe3o de rsync de homem pobre: torna-se f\xe1cil para um sistema local para ver quais arquivos remotos mudaram e precisam ser baixados. (Ver',(0,r.jsx)(a.a,{href:"#cache-from-url",children:"op\xe7\xe3o cacheFromUrl"}),"abaixo que pode fazer uso disto.)",(0,r.jsx)(a.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"solutions",children:(0,r.jsx)(a.a,{href:"#solutions",children:"Solu\xe7\xf5es"})}),"\n",(0,r.jsx)(a.p,{children:"Embora existam um grande n\xfamero de varia\xe7\xf5es para o problema e um n\xfamero infinito de poss\xedveis solu\xe7\xf5es, h\xe1 apenas um punhado de abordagens b\xe1sicas para solu\xe7\xf5es:"}),"\n",(0,r.jsx)(a.h4,{id:"custom-brute-force-solutions",children:"Personalizado, Brute Force Solutions"}),"\n",(0,r.jsx)(a.p,{children:"Uma solu\xe7\xe3o \xf3bvia \xe9 criar uma solu\xe7\xe3o personalizada, que \xe9, portanto, otimizada para uma determinada situa\xe7\xe3o: fazer um sistema que detecta/identifica quais dados mudaram e envia essas informa\xe7\xf5es ao usu\xe1rio para que o usu\xe1rio possa solicitar os dados alterados. Bem, voc\xea pode fazer isso, mas h\xe1 desvantagens:"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"Solu\xe7\xf5es personalizadas s\xe3o muito trabalho."}),"\n",(0,r.jsx)(a.li,{children:"As solu\xe7\xf5es personalizadas s\xe3o geralmente t\xe3o personalizadas para um dado conjunto de dados e dado o sistema do usu\xe1rio que eles n\xe3o podem facilmente ser reutilizados."}),"\n",(0,r.jsx)(a.li,{children:"As solu\xe7\xf5es personalizadas t\xeam de ser constru\xeddas e mantidas por voc\xea. (Isso nunca \xe9 uma boa ideia. \xc9 sempre uma boa ideia evitar o trabalho e arranjar outra pessoa para fazer o trabalho!)"}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:"Eu desencorajo a tomar essa abordagem porque \xe9 quase sempre melhor procurar solu\xe7\xf5es gerais, constru\xeddas e mantidas por outra pessoa, que pode ser facilmente reutilizada em situa\xe7\xf5es diferentes.\r\n\xa0"}),"\n",(0,r.jsx)(a.h4,{id:"rsync",children:"rsync"}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Rsync",children:"rsync"}),"\xe9 a solu\xe7\xe3o existente, surpreendentemente boa, de prop\xf3sito geral para manter uma cole\xe7\xe3o de arquivos em um computador de origem em sincronia no computador remoto de um usu\xe1rio. A forma como funciona \xe9:"]}),"\n",(0,r.jsxs)(a.ol,{children:["\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"algum evento (por exemplo, umERDDAP\u2122evento do sistema de assinatura) gatilhos executando rsync,\r\n(ou, um trabalho cron executa rsync em hor\xe1rios espec\xedficos todos os dias no computador do usu\xe1rio)"}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"que contatos rsync no computador de origem,"}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"que calcula uma s\xe9rie de hashes para peda\xe7os de cada arquivo e transmite esses hashes para o rsync do usu\xe1rio,"}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"que compara essas informa\xe7\xf5es com as informa\xe7\xf5es semelhantes para a c\xf3pia do usu\xe1rio dos arquivos,"}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"que ent\xe3o pede os peda\xe7os de arquivos que mudaram."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(a.p,{children:["Considerando tudo o que faz, o rsync opera muito rapidamente (por exemplo, 10 segundos mais tempo de transfer\xeancia de dados) e muito eficiente. H\xe1",(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Rsync#Variations",children:"varia\xe7\xf5es de rsync"}),"que otimizam para situa\xe7\xf5es diferentes (por exemplo, precalculando e caching os hashes dos peda\xe7os de cada arquivo de origem) ."]}),"\n",(0,r.jsx)(a.p,{children:"As principais fraquezas do rsync s\xe3o: \xe9 preciso algum esfor\xe7o para configurar (quest\xf5es de seguran\xe7a) ; h\xe1 alguns problemas de escala; e n\xe3o \xe9 bom para manter os conjuntos de dados NRT realmente atualizados (por exemplo, \xe9 estranho usar o rsync mais do que a cada 5 minutos) . Se voc\xea pode lidar com as fraquezas, ou se eles n\xe3o afetam sua situa\xe7\xe3o, o rsync \xe9 uma excelente solu\xe7\xe3o de prop\xf3sito geral que qualquer pessoa pode usar agora para resolver muitos cen\xe1rios envolvendo replica\xe7\xe3o remota de conjuntos de dados."}),"\n",(0,r.jsx)(a.p,{children:"H\xe1 um item noERDDAP\u2122Para fazer lista para tentar adicionar suporte para servi\xe7os rsync paraERDDAP  (provavelmente uma tarefa bastante dif\xedcil) , para que qualquer cliente possa usar rsync (ou uma variante) para manter uma c\xf3pia atualizada de um conjunto de dados. Se algu\xe9m quiser trabalhar nisso, por favor envie um e-mailerd.data at noaa.gov."}),"\n",(0,r.jsxs)(a.p,{children:["Existem outros programas que fazem mais ou menos o que o rsync faz, \xe0s vezes orientado para a replica\xe7\xe3o de conjuntos de dados (embora muitas vezes em um n\xedvel de c\xf3pia de arquivo) , por exemplo,Unidata'",(0,r.jsx)(a.a,{href:"https://www.unidata.ucar.edu/projects/index.html#idd",children:"IDD"}),"."]}),"\n",(0,r.jsx)(a.h4,{id:"cache-from-url",children:"Cache De Url"}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#cachefromurl",children:"O cache FromUrl"}),"configura\xe7\xe3o est\xe1 dispon\xedvel (come\xe7ar comERDDAP\u2122v2.0) para todosERDDAPOs tipos de conjuntos de dados que fazem conjuntos de dados de arquivos (basicamente, todas as subclasses de",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#eddgridfromfiles",children:"EDDGridDos quartos"}),"e",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablefromfiles",children:"Tabela EDD dos arquivos"}),') . cache FromUrl torna trivial para baixar automaticamente e manter os arquivos de dados locais copiando-os de uma fonte remota via cache Da configura\xe7\xe3o Url. Os arquivos remotos podem estar em uma Pasta Acess\xedvel Web ou uma lista de arquivos como diret\xf3rio oferecida pelo THREDDS,Hyrax, um balde S3, ouERDDAP\'"files"sistema.']}),"\n",(0,r.jsxs)(a.p,{children:['Se a fonte dos arquivos remotos \xe9 um remotoERDDAP\u2122dataset que oferece os arquivos de origem atrav\xe9s doERDDAP\u2122 "files"sistema, ent\xe3o voc\xea pode',(0,r.jsx)(a.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions",children:"Assinar"}),"para o conjunto de dados remoto, e usar o",(0,r.jsx)(a.a,{href:"/docs/server-admin/additional-information#flag",children:"URL da bandeira"}),"para o seu conjunto de dados local como a\xe7\xe3o para a assinatura. Ent\xe3o, sempre que o conjunto de dados remoto mudar, ele entrar\xe1 em contato com a URL da bandeira para seu conjunto de dados, o que lhe dir\xe1 para recarregar ASAP, que ir\xe1 detectar e baixar os arquivos de dados remotos alterados. Tudo isso acontece muito rapidamente (geralmente ~5 segundos mais o tempo necess\xe1rio para baixar os arquivos alterados) . Esta abordagem funciona muito bem se as altera\xe7\xf5es de conjunto de dados de origem s\xe3o novos arquivos sendo adicionados periodicamente e quando os arquivos existentes nunca mudam. Esta abordagem n\xe3o funciona bem se os dados s\xe3o frequentemente anexados a todos (ou mais) dos arquivos de dados de origem existentes, porque ent\xe3o seu conjunto de dados local est\xe1 frequentemente baixando todo o conjunto de dados remotos. (\xc9 aqui que uma abordagem semelhante a rsync \xe9 necess\xe1ria.)"]}),"\n",(0,r.jsx)(a.h4,{id:"archiveadataset",children:"ArquivoADataset"}),"\n",(0,r.jsxs)(a.p,{children:["ERDDAP\u2122'",(0,r.jsx)(a.a,{href:"/docs/server-admin/additional-information#archiveadataset",children:"ArquivoADataset"}),"\xe9 uma boa solu\xe7\xe3o quando os dados s\xe3o adicionados a um conjunto de dados com freq\xfc\xeancia, mas os dados mais antigos nunca s\xe3o alterados. Basicamente, umERDDAP\u2122administrador pode executar o ArchiveADataset (talvez em um script, talvez executado por cron) e especifique um subconjunto de um conjunto de dados que eles querem extrair (talvez em v\xe1rios arquivos) e pacote em um.zipou.tgzarquivo, para que voc\xea possa enviar o arquivo para pessoas ou grupos interessados (por exemplo, NCEI para arquivamento) ou torn\xe1-lo dispon\xedvel para download. Por exemplo, voc\xea poderia executar o ArchiveADataset todos os dias \xe0s 12:10 e t\xea-lo feito um.zipde todos os dados das 12:00h no dia anterior at\xe9 as 12:00h hoje. (Ou, fa\xe7a isso semanal, mensal ou anual, conforme necess\xe1rio.) Como o arquivo embalado \xe9 gerado off-line, n\xe3o h\xe1 perigo de um timeout ou muitos dados, como haveria para um padr\xe3oERDDAP\u2122pedido.\r\n\xa0"]}),"\n",(0,r.jsx)(a.h4,{id:"erddaps-standard-request-system",children:"ERDDAP\u2122Sistema de solicita\xe7\xe3o padr\xe3o"}),"\n",(0,r.jsx)(a.p,{children:"ERDDAP\u2122O sistema de solicita\xe7\xe3o padr\xe3o \xe9 uma boa solu\xe7\xe3o alternativa quando os dados s\xe3o adicionados a um conjunto de dados com freq\xfc\xeancia, mas os dados mais antigos nunca s\xe3o alterados. Basicamente, qualquer pessoa pode usar solicita\xe7\xf5es padr\xe3o para obter dados para uma gama espec\xedfica de tempo. Por exemplo, \xe0s 12:10 do dia-a-dia, voc\xea pode fazer um pedido para todos os dados de um conjunto de dados remoto das 12:00 da manh\xe3 no dia anterior at\xe9 as 12:00 da manh\xe3 de hoje. A limita\xe7\xe3o (em compara\xe7\xe3o com a abordagem ArchiveADataset) \xe9 o risco de um timeout ou h\xe1 muitos dados para um \xfanico arquivo. Voc\xea pode evitar a limita\xe7\xe3o, fazendo pedidos mais frequentes para per\xedodos de tempo menores.\r\n\xa0"}),"\n",(0,r.jsx)(a.h4,{id:"eddtablefromhttpget",children:"EDDTable FromHttpGet"}),"\n",(0,r.jsxs)(a.p,{children:["\\[Esta op\xe7\xe3o ainda n\xe3o existe, mas parece poss\xedvel construir no futuro pr\xf3ximo.\\]",(0,r.jsx)(a.br,{}),"\n","O novo",(0,r.jsx)(a.a,{href:"/docs/server-admin/datasets#eddtablefromhttpget",children:"EDDTable FromHttpGet"}),"tipo de conjunto de dados emERDDAP\u2122v2.0 torna poss\xedvel imaginar outra solu\xe7\xe3o. Os arquivos subjacentes mantidos por este tipo de conjunto de dados s\xe3o essencialmente registros de arquivos que registram altera\xe7\xf5es no conjunto de dados. Deve ser poss\xedvel construir um sistema que mantenha um conjunto de dados local periodicamente (ou com base em um gatilho) solicitando todas as mudan\xe7as que foram feitas no conjunto de dados remoto desde essa \xfaltima solicita\xe7\xe3o. Deve ser t\xe3o eficiente (ou mais) do que rsync e lidaria com muitos cen\xe1rios dif\xedceis, mas s\xf3 funcionaria se os conjuntos de dados remotos e locais fossem conjuntos de dados EDDTableFromHttpGet."]}),"\n",(0,r.jsx)(a.p,{children:"Se algu\xe9m quiser trabalhar nisto, por favor contacteerd.data at noaa.gov."}),"\n",(0,r.jsx)(a.h4,{id:"distributed-data",children:"Dados distribu\xeddos"}),"\n",(0,r.jsx)(a.p,{children:"Nenhuma das solu\xe7\xf5es acima faz um grande trabalho de resolver as varia\xe7\xf5es dif\xedceis do problema porque a replica\xe7\xe3o de quase tempo real (NRT) datasets \xe9 muito dif\xedcil, em parte por causa de todos os cen\xe1rios poss\xedveis."}),"\n",(0,r.jsx)(a.p,{children:"H\xe1 uma \xf3tima solu\xe7\xe3o: nem tente replicar os dados.\r\nEm vez disso, use uma fonte autorit\xe1ria (um conjunto de dados em umERDDAP) , mantido pelo provedor de dados (por exemplo, um escrit\xf3rio regional) . Todos os usu\xe1rios que querem dados desse conjunto de dados sempre obt\xea-lo a partir da fonte. Por exemplo, os aplicativos baseados em navegador obt\xeam os dados de uma solicita\xe7\xe3o baseada em URL, por isso n\xe3o importa que a solicita\xe7\xe3o seja para a fonte original em um servidor remoto (n\xe3o o mesmo servidor que est\xe1 hospedando o ESM) . Muitas pessoas t\xeam defendido esta abordagem de Dados Distribu\xeddos h\xe1 muito tempo (por exemplo, Roy Mendelssohn nos \xfaltimos 20 anos) .ERDDAPModelo de grade/federa\xe7\xe3o (o top 80% deste documento) \xe9 baseado nesta abordagem. Esta solu\xe7\xe3o \xe9 como uma espada para um n\xf3 Gordian \u2014 todo o problema desaparece."}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"Esta solu\xe7\xe3o \xe9 extremamente simples."}),"\n",(0,r.jsx)(a.li,{children:"Esta solu\xe7\xe3o \xe9 extremamente eficiente, pois nenhum trabalho \xe9 feito para manter um conjunto de dados replicado (S) actualizado."}),"\n",(0,r.jsx)(a.li,{children:"Os usu\xe1rios podem obter os dados mais recentes a qualquer momento (por exemplo, com uma lat\xeancia de apenas ~ 0,5 segundo) ."}),"\n",(0,r.jsxs)(a.li,{children:["Ele escala muito bem e h\xe1 maneiras de melhorar o escalonamento. (Veja a discuss\xe3o no top 80% deste documento.)",(0,r.jsx)(a.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:"N\xe3o, n\xe3o \xe9 uma solu\xe7\xe3o para todas as situa\xe7\xf5es poss\xedveis, mas \xe9 uma grande solu\xe7\xe3o para a grande maioria. Se houver problemas / fraquezas com esta solu\xe7\xe3o em certas situa\xe7\xf5es, muitas vezes vale a pena trabalhar para resolver esses problemas ou viver com essas fraquezas por causa das vantagens deslumbrantes desta solu\xe7\xe3o. Se / quando esta solu\xe7\xe3o \xe9 realmente inaceit\xe1vel para uma determinada situa\xe7\xe3o, por exemplo, quando voc\xea realmente deve ter uma c\xf3pia local dos dados, ent\xe3o considere as outras solu\xe7\xf5es discutidas acima.\r\n\xa0"}),"\n",(0,r.jsx)(a.h3,{id:"conclusion",children:"Conclus\xe3o"}),"\n",(0,r.jsx)(a.p,{children:"Embora n\xe3o haja uma solu\xe7\xe3o simples e simples que resolve perfeitamente todos os problemas em todos os cen\xe1rios (como rsync e dados distribu\xeddos quase s\xe3o) , espero que haja ferramentas e op\xe7\xf5es suficientes para que voc\xea possa encontrar uma solu\xe7\xe3o aceit\xe1vel para sua situa\xe7\xe3o particular."})]})}function c(e={}){const{wrapper:a}={...(0,d.R)(),...e.components};return a?(0,r.jsx)(a,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},88623:(e,a,o)=>{o.d(a,{A:()=>s});const s=o.p+"assets/images/cluster-73996a04326fe63934754f994e09f63f.png"},28453:(e,a,o)=>{o.d(a,{R:()=>i,x:()=>n});var s=o(96540);const r={},d=s.createContext(r);function i(e){const a=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function n(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(d.Provider,{value:a},e.children)}}}]);