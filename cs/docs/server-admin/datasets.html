<!doctype html>
<html lang="cs" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-server-admin/datasets" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Práce s datasets.xml Soubor | ERDDAP™ Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://erddap.github.io/cs/img/noaa_simple.gif"><meta data-rh="true" name="twitter:image" content="https://erddap.github.io/cs/img/noaa_simple.gif"><meta data-rh="true" property="og:url" content="https://erddap.github.io/cs/docs/server-admin/datasets"><meta data-rh="true" property="og:locale" content="cs"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="bn"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" property="og:locale:alternate" content="zt"><meta data-rh="true" property="og:locale:alternate" content="da"><meta data-rh="true" property="og:locale:alternate" content="nl"><meta data-rh="true" property="og:locale:alternate" content="fi"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" property="og:locale:alternate" content="el"><meta data-rh="true" property="og:locale:alternate" content="hi"><meta data-rh="true" property="og:locale:alternate" content="hu"><meta data-rh="true" property="og:locale:alternate" content="id"><meta data-rh="true" property="og:locale:alternate" content="ga"><meta data-rh="true" property="og:locale:alternate" content="it"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" property="og:locale:alternate" content="ko"><meta data-rh="true" property="og:locale:alternate" content="nb"><meta data-rh="true" property="og:locale:alternate" content="pl"><meta data-rh="true" property="og:locale:alternate" content="pt"><meta data-rh="true" property="og:locale:alternate" content="ro"><meta data-rh="true" property="og:locale:alternate" content="ru"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="sv"><meta data-rh="true" property="og:locale:alternate" content="tl"><meta data-rh="true" property="og:locale:alternate" content="th"><meta data-rh="true" property="og:locale:alternate" content="tr"><meta data-rh="true" property="og:locale:alternate" content="uk"><meta data-rh="true" property="og:locale:alternate" content="ur"><meta data-rh="true" name="docusaurus_locale" content="cs"><meta data-rh="true" name="docsearch:language" content="cs"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Práce s datasets.xml Soubor | ERDDAP™ Documentation"><meta data-rh="true" name="description" content="\\[ Tato webová stránka bude pouze zajímavé ERDDAP™ Správci. \\]"><meta data-rh="true" property="og:description" content="\\[ Tato webová stránka bude pouze zajímavé ERDDAP™ Správci. \\]"><link data-rh="true" rel="icon" href="/cs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://erddap.github.io/cs/docs/server-admin/datasets"><link data-rh="true" rel="alternate" href="https://erddap.github.io/docs/server-admin/datasets" hreflang="en"><link data-rh="true" rel="alternate" href="https://erddap.github.io/bn/docs/server-admin/datasets" hreflang="bn"><link data-rh="true" rel="alternate" href="https://erddap.github.io/zh/docs/server-admin/datasets" hreflang="zh"><link data-rh="true" rel="alternate" href="https://erddap.github.io/zt/docs/server-admin/datasets" hreflang="zt"><link data-rh="true" rel="alternate" href="https://erddap.github.io/cs/docs/server-admin/datasets" hreflang="cs"><link data-rh="true" rel="alternate" href="https://erddap.github.io/da/docs/server-admin/datasets" hreflang="da"><link data-rh="true" rel="alternate" href="https://erddap.github.io/nl/docs/server-admin/datasets" hreflang="nl"><link data-rh="true" rel="alternate" href="https://erddap.github.io/fi/docs/server-admin/datasets" hreflang="fi"><link data-rh="true" rel="alternate" href="https://erddap.github.io/fr/docs/server-admin/datasets" hreflang="fr"><link data-rh="true" rel="alternate" href="https://erddap.github.io/de/docs/server-admin/datasets" hreflang="de"><link data-rh="true" rel="alternate" href="https://erddap.github.io/el/docs/server-admin/datasets" hreflang="el"><link data-rh="true" rel="alternate" href="https://erddap.github.io/hi/docs/server-admin/datasets" hreflang="hi"><link data-rh="true" rel="alternate" href="https://erddap.github.io/hu/docs/server-admin/datasets" hreflang="hu"><link data-rh="true" rel="alternate" href="https://erddap.github.io/id/docs/server-admin/datasets" hreflang="id"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ga/docs/server-admin/datasets" hreflang="ga"><link data-rh="true" rel="alternate" href="https://erddap.github.io/it/docs/server-admin/datasets" hreflang="it"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ja/docs/server-admin/datasets" hreflang="ja"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ko/docs/server-admin/datasets" hreflang="ko"><link data-rh="true" rel="alternate" href="https://erddap.github.io/nb/docs/server-admin/datasets" hreflang="nb"><link data-rh="true" rel="alternate" href="https://erddap.github.io/pl/docs/server-admin/datasets" hreflang="pl"><link data-rh="true" rel="alternate" href="https://erddap.github.io/pt/docs/server-admin/datasets" hreflang="pt"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ro/docs/server-admin/datasets" hreflang="ro"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ru/docs/server-admin/datasets" hreflang="ru"><link data-rh="true" rel="alternate" href="https://erddap.github.io/es/docs/server-admin/datasets" hreflang="es"><link data-rh="true" rel="alternate" href="https://erddap.github.io/sv/docs/server-admin/datasets" hreflang="sv"><link data-rh="true" rel="alternate" href="https://erddap.github.io/tl/docs/server-admin/datasets" hreflang="tl"><link data-rh="true" rel="alternate" href="https://erddap.github.io/th/docs/server-admin/datasets" hreflang="th"><link data-rh="true" rel="alternate" href="https://erddap.github.io/tr/docs/server-admin/datasets" hreflang="tr"><link data-rh="true" rel="alternate" href="https://erddap.github.io/uk/docs/server-admin/datasets" hreflang="uk"><link data-rh="true" rel="alternate" href="https://erddap.github.io/ur/docs/server-admin/datasets" hreflang="ur"><link data-rh="true" rel="alternate" href="https://erddap.github.io/docs/server-admin/datasets" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Správa serveru","item":"https://erddap.github.io/cs/docs/category/server-administration"},{"@type":"ListItem","position":2,"name":"Práce s datasets.xml Soubor","item":"https://erddap.github.io/cs/docs/server-admin/datasets"}]}</script><link rel="stylesheet" href="/cs/assets/css/styles.c47a40ba.css">
<script src="/cs/assets/js/runtime~main.59dd845b.js" defer="defer"></script>
<script src="/cs/assets/js/main.ebf4fd3d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/cs/img/noaab.png"><div role="region" aria-label="Přeskočit na hlavní obsah"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Přeskočit na hlavní obsah</a></div><nav aria-label="Hlavní" class="theme-layout-navbar navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Přepnout navigační lištu" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cs/"><div class="navbar__logo"><img src="/cs/img/noaab.png" alt="NOAAlogo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/cs/img/noaab.png" alt="NOAAlogo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">ERDDAP™</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Čeština</a><ul class="dropdown__menu"><li><a href="/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/bn/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="bn">বাংলা</a></li><li><a href="/zh/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">中文</a></li><li><a href="/zt/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zt">Zt</a></li><li><a href="/cs/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="cs">Čeština</a></li><li><a href="/da/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="da">Dansk</a></li><li><a href="/nl/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="nl">Nederlands</a></li><li><a href="/fi/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fi">Suomi</a></li><li><a href="/fr/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/de/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="/el/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="el">Ελληνικά</a></li><li><a href="/hi/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="hi">हिन्दी</a></li><li><a href="/hu/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="hu">Magyar</a></li><li><a href="/id/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="id">Indonesia</a></li><li><a href="/ga/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ga">Gaeilge</a></li><li><a href="/it/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="it">Italiano</a></li><li><a href="/ja/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/ko/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">한국어</a></li><li><a href="/nb/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="nb">Norsk bokmål</a></li><li><a href="/pl/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pl">Polski</a></li><li><a href="/pt/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Português</a></li><li><a href="/ro/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ro">Română</a></li><li><a href="/ru/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ru">Русский</a></li><li><a href="/es/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/sv/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="sv">Svenska</a></li><li><a href="/tl/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="tl">Filipino</a></li><li><a href="/th/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="th">ไทย</a></li><li><a href="/tr/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="tr">Türkçe</a></li><li><a href="/uk/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="uk">Українська</a></li><li><a href="/ur/docs/server-admin/datasets" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ur">اردو</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cs/docs/intro">Doktoři</a><a class="navbar__item navbar__link" href="/cs/governance">Správa</a><a class="navbar__item navbar__link" href="/cs/cloud">Cloud</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Hledat" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/erddap/erddap" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(otevře v nové kartě)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS darkNavbarColorModeToggle_X3D1" type="button" disabled="" title="systémový režim" aria-label="Přepínání mezi tmavým a světelným režimem (v současné doběsystémový režim)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Skrolovat zpět nahoru" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Sidebar Docs" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cs/docs/intro"><span title="Dokumentace Úvod" class="linkLabel_WmDU">Dokumentace Úvod</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/cs/docs/category/server-administration"><span title="Správa serveru" class="categoryLinkLabel_W154">Správa serveru</span></a><button aria-label="Kategorie vedlejšího panelu &#x27;Správa serveru&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/cs/docs/category/admin-tips"><span title="Admin tipy" class="categoryLinkLabel_W154">Admin tipy</span></a><button aria-label="Rozšiřte kategorii postranních lišt &#x27;Admin tipy&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cs/docs/server-admin/deploy-install"><span title="Nainstalovat" class="linkLabel_WmDU">Nainstalovat</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cs/docs/server-admin/deploy-update"><span title="Aktualizovat" class="linkLabel_WmDU">Aktualizovat</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cs/docs/server-admin/datasets"><span title="Práce s datasets.xml Soubor" class="linkLabel_WmDU">Práce s datasets.xml Soubor</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cs/docs/server-admin/additional-information"><span title="Další informace" class="linkLabel_WmDU">Další informace</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cs/docs/server-admin/scaling"><span title="Stříkání" class="linkLabel_WmDU">Stříkání</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cs/docs/server-admin/EDDTableFromEML"><span title="EDDTableFromEML" class="linkLabel_WmDU">EDDTableFromEML</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cs/docs/server-admin/display-info"><span title="zobrazení Informace a displayAttribute Štítky" class="linkLabel_WmDU">zobrazení Informace a displayAttribute Štítky</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cs/docs/server-admin/localized-metadata"><span title="Lokální metadata" class="linkLabel_WmDU">Lokální metadata</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cs/docs/server-admin/prometheus"><span title="Prometheus" class="linkLabel_WmDU">Prometheus</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cs/docs/server-admin/feature-flags"><span title="Vlajky funkcí" class="linkLabel_WmDU">Vlajky funkcí</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cs/docs/server-admin/mqtt-integration"><span title="ERDDAP Integrace MQTT" class="linkLabel_WmDU">ERDDAP Integrace MQTT</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/cs/docs/category/contributing"><span title="Přispívá" class="categoryLinkLabel_W154">Přispívá</span></a><button aria-label="Rozšiřte kategorii postranních lišt &#x27;Přispívá&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/cs/docs/dokka"><span title="Dokumentace datové sady skriptů" class="categoryLinkLabel_W154">Dokumentace datové sady skriptů</span></a><button aria-label="Rozšiřte kategorii postranních lišt &#x27;Dokumentace datové sady skriptů&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/cs/docs/category/user"><span title="Uživatel" class="categoryLinkLabel_W154">Uživatel</span></a><button aria-label="Rozšiřte kategorii postranních lišt &#x27;Uživatel&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Chřest"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Hlavní strana" class="breadcrumbs__link" href="/cs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/cs/docs/category/server-administration"><span>Správa serveru</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Práce s datasets.xml Soubor</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Na této stránce</button></div><div class="theme-doc-markdown markdown"><header><h1>Práce s datasets.xml Soubor</h1></header>
<p>\[ Tato webová stránka bude pouze zajímavé ERDDAP™ Správci. \]</p>
<p>Poté, co jste následovali ERDDAP™   <a class="" href="/cs/docs/server-admin/deploy-install">Návod k instalaci</a> , musíte upravit datasets.xml soubor v <em>tomcat</em> /content/erddap/ pro popis souborů dat, které máte ERDDAP™ instalace bude sloužit.</p>
<p>Můžete vidět příklad <a href="https://github.com/ERDDAP/erddap/blob/main/development/jetty/config/datasets.xml" target="_blank" rel="noopener noreferrer" class=""> datasets.xml na GitHubu</a> .</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="introduction"><a href="#introduction" class="">Úvod</a><a href="#introduction" class="hash-link" aria-label="Přímý odkaz naintroduction" title="Přímý odkaz naintroduction" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="some-assembly-required">Některá montáž nutná<a href="#some-assembly-required" class="hash-link" aria-label="Přímý odkaz naNěkterá montáž nutná" title="Přímý odkaz naNěkterá montáž nutná" translate="no">​</a></h3>
<p>Nastavení datového souboru v ERDDAP™ není jen otázkou ukazování na adresář nebo URL souboru. Musíte napsat část XML pro datasets.xml který popisuje datový soubor.</p>
<ul>
<li class="">V případě roštových souborů údajů, aby byl datový soubor v souladu s ERDDAP &#x27;s datovou strukturou pro roštovaná data, musíte identifikovat podmnožinu proměnných datového souboru, které sdílejí stejné rozměry. ( <a href="#why-just-two-basic-data-structures" class="">Proč?</a>   <a href="#dimensions" class="">Jak?</a> )</li>
<li class="">Současná metadata datového souboru jsou importována automaticky. Ale pokud chcete upravit metadata nebo přidat jiná metadata, musíte je zadat v datasets.xml . A ERDDAP™ potřebuje další metadata, včetně <a href="#global-attributes" class="">globální atributy</a>   (např. infoUrl , instituce, sourceUrl , shrnutí a název) a <a href="#variable-addattributes" class="">proměnné atributy</a>   (např. long\_name a jednotky) . Stejně jako metadata, která jsou v současné době v datovém souboru, doplňují popisné informace do datového souboru, metadata požadovaná ERDDAP™ doplňuje popisné informace do souboru údajů. Další metadata jsou dobrým doplňkem k vašemu souboru dat a pomáhají ERDDAP™ lépe se snažte prezentovat svá data uživatelům, kteří je neznají.</li>
<li class="">ERDDAP™ potřebuje, abys dělal speciální věci s <a href="#destinationname" class="">zeměpisná délka, zeměpisná šířka, výška (nebo hloubka) , a časové proměnné</a> .</li>
</ul>
<p>Pokud si koupíte do těchto myšlenek a vynaložit úsilí vytvořit XML pro datasets.xml , dostanete všechny výhody ERDDAP™ včetně:</p>
<ul>
<li class="">Úplné vyhledávání textu pro soubory dat</li>
<li class="">Hledat datové soubory podle kategorií</li>
<li class="">Formuláře pro přístup k datům ( * datasetID * .html) takže můžete požádat o podmnožinu dat ve spoustě různých formátů souborů</li>
<li class="">Formuláře na vyžádání grafů a map ( * datasetID * .graph)</li>
<li class="">Web Map Service ( WMS ) pro mřížkované soubory dat</li>
<li class="">RESTful přístup k vašim údajům</li>
</ul>
<p>Making the datasets.xml vyžaduje značné úsilí pro prvních několik souborů údajů, ale <strong>Je to jednodušší.</strong> . Po prvním datovém souboru můžete často pro další datový soubor použít mnoho své práce. Naštěstí, ERDDAP™ přichází se dvěma <a href="#tools" class="">Nástroje</a> vám pomůže vytvořit XML pro každý soubor dat v datasets.xml .
Když se zasekneš, uvidíš naše <a class="" href="/cs/docs/intro#support">oddíl o získání dodatečné podpory</a> .</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="varaibles-in-datasetsxml">Proměnné v datasets.xml<a href="#varaibles-in-datasetsxml" class="hash-link" aria-label="Přímý odkaz naProměnné v datasets.xml" title="Přímý odkaz naProměnné v datasets.xml" translate="no">​</a></h3>
<p>Od ERDDAP™ verze 2.29.0, datasets.xml je nyní (volitelně) zpracované <a href="https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringSubstitutor.html" target="_blank" rel="noopener noreferrer" class="">Stringsubstitutor</a> . To má mnoho využití včetně nastavení soukromých hodnot (jako hesla) pomocí proměnných prostředí. To může být vypnuto nastavením EnvParsing na false v setup.xml.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="data-provider-form">Poskytovatel údajů Formulář<a href="#data-provider-form" class="hash-link" aria-label="Přímý odkaz naPoskytovatel údajů Formulář" title="Přímý odkaz naPoskytovatel údajů Formulář" translate="no">​</a></h3>
<p>Když k vám přijde poskytovatel údajů a doufá, že vám přidá nějaké údaje ERDDAP , může být obtížné a časově náročné shromažďovat všechna metadata (informace o datovém souboru) potřeba přidat soubor údajů do ERDDAP . Mnoho zdrojů údajů (například .csv soubory, Soubory Excelu, databáze) nemají žádná interní metadata, takže ERDDAP™ má formulář poskytovatele údajů, který shromažďuje metadata od poskytovatele údajů a poskytuje poskytovateli údajů další pokyny, včetně rozsáhlých pokynů pro <a href="https://coastwatch.pfeg.noaa.gov/erddap/dataProviderForm1.html#databases" target="_blank" rel="noopener noreferrer" class="">Data v databázích</a> . Předložené informace jsou převedeny na datasets.xml formát a pak e-mailem na ERDDAP™ Správce (Ty) a psáno (Přiložené) až <em>velkýRodič rodičů</em> /logs/dataProviderForm.log . Forma tak částečně automatizuje proces získání datového souboru do ERDDAP , ale ERDDAP™ Správce musí ještě dokončit datasets.xml střih a vypořádat se s získáním datového souboru (án) od poskytovatele nebo připojení k databázi.</p>
<p>Předkládání skutečných datových souborů z externích zdrojů je obrovské bezpečnostní riziko, takže ERDDAP™ s tím se nevyrovná. Musíte přijít na řešení, které funguje pro vás a poskytovatele dat, například, e-mail (pro malé soubory) , vytáhnout z mraku (například DropBox nebo Google Drive) , místo sftp (s hesly) nebo tenisky Čistá (USB disk nebo externí pevný disk) . Asi bys měl přijmout složky jen od lidí, které znáš. Budete muset skenovat soubory pro viry a přijmout další bezpečnostní opatření.</p>
<p>Není tam žádné spojení. ERDDAP™ na formulář poskytovatele údajů (např. ERDDAP™ domovská stránka) . Místo toho, když vám někdo řekne, že chce, aby jim jejich data doručila vaše ERDDAP , můžete jim poslat e-mail s nápisem:
Ano, můžeme vaše data dostat do ERDDAP . Pro začátek prosím vyplňte formulář nahttps://<em>yourUrl</em>/erddap/dataProviderForm.html  (nebo http:// pokud https:// není povoleno) .
Až to dokončíte, zavolám vám, abych vám vysvětlila detaily.
Pokud se jen chcete podívat na formulář (bez vyplnění) , můžete vidět formulář na ERD &#x27;s ERDDAP : <a href="https://coastwatch.pfeg.noaa.gov/erddap/dataProviderForm.html" target="_blank" rel="noopener noreferrer" class="">Úvod</a> , <a href="https://coastwatch.pfeg.noaa.gov/erddap/dataProviderForm1.html" target="_blank" rel="noopener noreferrer" class="">Část 1</a> , <a href="https://coastwatch.pfeg.noaa.gov/erddap/dataProviderForm2.html" target="_blank" rel="noopener noreferrer" class="">Část 2</a> , <a href="https://coastwatch.pfeg.noaa.gov/erddap/dataProviderForm3.html" target="_blank" rel="noopener noreferrer" class="">Část 3</a> a <a href="https://coastwatch.pfeg.noaa.gov/erddap/dataProviderForm4.html" target="_blank" rel="noopener noreferrer" class="">Část 4</a> . Tyto odkazy na ERD   ERDDAP™ Pošlete mi informace, ne vy, takže s nimi neposílejte informace, pokud opravdu nechcete přidat data do ERD   ERDDAP .</p>
<p>Chcete-li odstranit formulář poskytovatele dat ze svého ERDDAP™ , dát</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;dataProviderFormActive&gt;false&lt;/dataProviderFormActive&gt;  </span><br></span></code></pre></div></div>
<p>ve vašem souboru.xml.</p>
<p>Popud k tomu byl NOAA &#x27;s 2014 <a href="https://www.glerl.noaa.gov/review2016/reviewer_docs/NOAA_PARR_Plan_v5.04.pdf" target="_blank" rel="noopener noreferrer" class="">Přístup veřejnosti k výsledkům výzkumu (PARR) Směrnice</a> , které vyžaduje, aby všechny NOAA environmentální údaje financované prostřednictvím dolarů daňových poplatníků jsou zpřístupněny prostřednictvím datové služby (nejen soubory) do 12 měsíců od stvoření. Takže je zde zvýšený zájem o používání ERDDAP™ zpřístupnit soubory dat prostřednictvím služby ASAP. Potřebovali jsme účinnější způsob, jak se vypořádat s velkým počtem poskytovatelů dat.</p>
<p>Zpětná vazba/návrhy? Tento formulář je nový, tak prosím e-mail erd dot data at noaa dot gov pokud máte nějakou zpětnou vazbu nebo návrhy na zlepšení.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="tools">Nástroje<a href="#tools" class="hash-link" aria-label="Přímý odkaz naNástroje" title="Přímý odkaz naNástroje" translate="no">​</a></h3>
<p>ERDDAP™ přichází se dvěma programy příkazového řádku, které jsou nástroji, které vám pomohou vytvořit XML pro každý soubor dat, který chcete ERDDAP™ sloužit. Jakmile to nachystáš ERDDAP™ a spustit (alespoň jednou) , můžete najít a použít tyto programy v <em>tomcat</em> /webapps/erddap/WEB-INF adresář. Existují skripty Linux/Unix (s prodloužením .sh) a skripty Windows (s rozšířením .bat) pro každý program. \[ Na Linuxu, spusťte tyto nástroje jako stejný uživatel (Tomcat?) Tomcat. \] Když spustíte každý program, bude vám klást otázky. Pro každou otázku napište odpověď a stiskněte Enter. Nebo kdykoliv stiskněte ^C, abyste opustili program.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="program-wont-run">Program nebude fungovat?<a href="#program-wont-run" class="hash-link" aria-label="Přímý odkaz naProgram nebude fungovat?" title="Přímý odkaz naProgram nebude fungovat?" translate="no">​</a></h4>
<ul>
<li class="">Pokud dostanete neznámý program (nebo podobné) chybová zpráva, problém je pravděpodobně, že operační systém nemohl najít Java . Musíš zjistit, kde Java je ve vašem počítači, pak upravit odkaz na javu v .bat nebo .sh soubor, který se snažíte použít.</li>
<li class="">Pokud máte soubor se sklenicí nenalezen nebo třída nenalezena chybová zpráva, pak Java nemohl najít jednu ze tříd uvedených v .bat nebo .sh souboru se snažíte použít. Řešením je zjistit, kde .jar soubor je, a upravit java odkaz na něj v .bat nebo .sh souboru.</li>
<li class="">Pokud používáte verzi Java který je příliš starý na program, program nebude fungovat a uvidíte chybovou zprávu jako
Výjimku ve vlákně &quot;main&quot; java.lang.UnsupportedClassVersionError:
<em>některé/třída/jméno</em> : Nepodporovaná major.málo verze <em>některéČíslo</em><br>
<!-- -->Řešením je aktualizovat na nejnovější verzi Java a ujistěte se, že .sh nebo .bat soubor pro program používá.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-tools-print-various-diagnostic-messages">Nástroje tisknou různé diagnostické zprávy:<a href="#the-tools-print-various-diagnostic-messages" class="hash-link" aria-label="Přímý odkaz naNástroje tisknou různé diagnostické zprávy:" title="Přímý odkaz naNástroje tisknou různé diagnostické zprávy:" translate="no">​</a></h4>
<ul>
<li class="">Slovo &quot;ERROR&quot; se používá, když se něco pokazilo, takže postup nebyl dokončen. I když je otravné, aby se chyba, chyba vás nutí vypořádat se s problémem.</li>
<li class="">Slovo &quot;WARNING&quot; se používá, když se něco pokazilo, ale postup byl schopen dokončit. Tyhle jsou dost vzácné.</li>
<li class="">Všechno ostatní je jen informativní zpráva. Můžete přidat \-verbose do <a href="#generatedatasetsxml" class="">GenerovatDatasetsXml</a> nebo <a href="#dasdds" class="">DasDds</a> příkazový řádek pro získání dalších informativních zpráv, které někdy pomáhají řešit problémy.</li>
</ul>
<p>Oba nástroje jsou velkou pomocí, ale stále musíte přečíst všechny tyto pokyny na této stránce pečlivě a dělat důležitá rozhodnutí sami.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="generatedatasetsxml">GenerovatDatasetsXml<a href="#generatedatasetsxml" class="hash-link" aria-label="Přímý odkaz naGenerovatDatasetsXml" title="Přímý odkaz naGenerovatDatasetsXml" translate="no">​</a></h3>
<ul>
<li class=""><strong>GenerovatDatasetsXml</strong> je program příkazového řádku, který může generovat hrubý návrh datového souboru XML pro téměř jakýkoli typ datového souboru.</li>
</ul>
<p>We STRONGLY RECOMMEND that you use GenerateDatasets Xml místo vytváření částí datasets.xml ručně, protože:</p>
<ul>
<li class="">Generovat soubory dat Xml funguje za sekundu. Dělat to ručně je nejméně hodinová práce, i když víte, co děláte.</li>
<li class="">Generovat soubory dat Xml dělá lepší práci. Dělat to ručně vyžaduje rozsáhlé znalosti o tom, jak ERDDAP™ Funguje to. Je nepravděpodobné, že budete dělat lepší práci ručně. (Bob Simons vždy používá GenerátorDatasets Xml pro první návrh, a napsal ERDDAP .)</li>
<li class="">Generovat soubory dat Xml vždy generuje platný kus datasets.xml . Jakýkoliv kus datasets.xml že budete psát bude pravděpodobně mít alespoň několik chyb, které brání ERDDAP™ od načtení souboru údajů. Často lidem trvá hodiny, než tyto problémy diagnostikují. Neztrácej čas. Nechte generovat Datové soubory Xml dělat tvrdou práci. Pak můžete vylepšit .xml rukou, pokud chcete.</li>
</ul>
<p>Když používáte GeneranteDatasets Xml program:</p>
<ul>
<li class="">Na Windows, když poprvé spustíte GenerateDatasetsXml, musíte upravit soubor GenerateDatasetsXml.bat s textovým editorem pro změnu cesty k javě. exe soubor tak, aby Windows mohli najít Java .</li>
<li class="">Generovat soubory dat Xml Vás nejprve požádá, abyste zadali EDDType (Erd Dap Dataset Typ) souboru údajů. Viz <a href="#list-of-types-datasets" class="">Seznam typů datových souborů</a>   (v tomto dokumentu) zjistit, který typ je vhodný pro datový soubor, na kterém pracujete. Kromě pravidelných EDDTypes, existuje také několik <a href="#specialpseudo-dataset-types" class="">Speciální/Pseudo Typy datové sady</a>   (např. ten, který se plazí po katalogu THREDDS k vytvoření kusu datasets.xml pro každý soubor údajů v katalogu) .</li>
<li class="">Generovat soubory dat Xml se vás pak zeptá na řadu otázek specifických pro tento EDDType. Otázky shromažďují informace potřebné pro ERDDAP™ přístup ke zdroji datového souboru. Abych pochopil co ERDDAP™ žádá, viz dokumentaci pro EDDType, kterou jste zadali kliknutím na stejný typ datového souboru v <a href="#list-of-types-datasets" class="">Seznam typů datových souborů</a> .</li>
</ul>
<p>Pokud potřebujete zadat řetězec se speciálními znaky (Znaky Whitespace na začátku nebo konci, jiné než ASCII) , zadejte <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer" class="">String ve stylu JSON</a>   (se speciálními znaky utekl s \ znaky) . Například zadat pouze znak karty, zadejte &quot;\t&quot; (s okolními dvojitými citacemi, které říkají ERDDAP™ že tohle je řetězec ve stylu JSON.</p>
<ul>
<li class="">Často, jedna z vašich odpovědí nebude to, co GenerateDatasetsXml potřebuje. Pak můžete zkusit znovu, s revidovanými odpověďmi na otázky, až do GenerateDatasets Xml může úspěšně najít a pochopit zdrojová data.</li>
<li class="">Pokud správně odpovíte na otázky (nebo dostatečně správně) , GenerátorDatasets Xml se připojí ke zdroji datového souboru a shromáždí základní informace (například názvy proměnných a metadata) .
Pro soubory, které jsou z místních NetCDF   .nc a související soubory, GeneratorDatasets Xml bude často tisknout ncdump-jako strukturu souboru po prvním čtení souboru. To vám může poskytnout informace k odpovědi na otázky lépe na následné smyčce přes GenerateDatasetsXml.</li>
<li class="">Generovat soubory dat Xml pak vytvoří hrubý návrh datového XML pro tento datový soubor.</li>
<li class="">Diagnostické informace a hrubý návrh datového souboru XML budou zapsány do <em>velkýRodič rodičů</em> /logs/GenerateDatasetsXml.log .</li>
<li class="">Hrubý návrh souboru XML bude zapsán do <em>velkýRodič rodičů</em> /logs/GenerateDatasetsXml.out .</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="0-files-error-message">&quot;0 souborů&quot; Chyba zprávy<a href="#0-files-error-message" class="hash-link" aria-label="Přímý odkaz na&quot;0 souborů&quot; Chyba zprávy" title="Přímý odkaz na&quot;0 souborů&quot; Chyba zprávy" translate="no">​</a></h4>
<p>Pokud spustíte GenerateDatasets Xml nebo <a href="#dasdds" class="">DasDds</a> , nebo pokud se pokusíte načíst EDDGrid Z...Files nebo EDDTableFrom... Soubory souborů v ERDDAP™ , a dostanete chybovou zprávu &quot;0 souborů&quot; ukazující, že ERDDAP™ nalezeno 0 odpovídajících souborů v adresáři (když si myslíte, že jsou odpovídající soubory v tomto adresáři) :</p>
<ul>
<li class="">
<p>Zkontrolujte, zda jste zadali celé jméno adresáře. A pokud jste zadali název souboru vzorku, ujistěte se, že jste zadali celé jméno souboru, včetně celého názvu adresáře.</p>
</li>
<li class="">
<p>Zkontrolujte, zda jsou soubory skutečně v adresáři.</p>
</li>
<li class="">
<p>Zkontrolujte pravopis názvu adresáře.</p>
</li>
<li class="">
<p>Zkontrolujte souborNameRegex. Je opravdu snadné dělat chyby s regexy. Pro testovací účely zkuste regex .\*, který by měl odpovídat všem názvům souborů. (Vidíš tohle? <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">dokumentace regexu</a> a <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">reflexní tutoriál</a> .)</p>
</li>
<li class="">
<p>Zkontrolujte, zda uživatel, který program provozuje (např. user=tomcat (?) pro přípravek Tomcat/ ERDDAP ) má &quot;číst&quot; povolení pro tyto soubory.</p>
</li>
<li class="">
<p>V některých operačních systémech (např. SELinux) a v závislosti na nastavení systému musí mít uživatel, který program spustil, oprávnění číst celý řetězec adresářů vedoucích do adresáře, který má soubory.</p>
</li>
<li class="">
<p>Pokud máte problémy, které nemůžete vyřešit, <a class="" href="/cs/docs/intro#support">požádat o podporu</a> s co největším množstvím informací. Podobně, pokud se zdá, že vhodný EDDType pro daný datový soubor nefunguje s tímto datovým souborem, nebo pokud neexistuje vhodný EDDType, prosím, soubor <a href="https://github.com/ERDDAP/erddap/issues" target="_blank" rel="noopener noreferrer" class="">vydání na GitHubu</a> s údaji (a případně soubor vzorku) .
 </p>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="you-need-to-edit-the-output-from-generatedatasetsxml-to-make-it-better">Musíte editovat výstup z GenerateDatasets Xml, aby to bylo lepší.<a href="#you-need-to-edit-the-output-from-generatedatasetsxml-to-make-it-better" class="hash-link" aria-label="Přímý odkaz naMusíte editovat výstup z GenerateDatasets Xml, aby to bylo lepší." title="Přímý odkaz naMusíte editovat výstup z GenerateDatasets Xml, aby to bylo lepší." translate="no">​</a></h4>
<p> </p>
<ul>
<li class="">
<p>DISCLAIMER:
SCHUNG OF datasets.xml VYROBIT GenerovatDatasady Xml není perfektní. Musíte číst a editovat XML, než jej použijete u veřejnosti ERDDAP . Generovat soubory dat Xml odpouští spoustě pravidel, která nejsou vždy správná. Jste zodpovědní za zajištění správnosti XML, ke kterému se připojíte ERDDAP &#x27;S datasets.xml File.</p>
<p>(Nekřičím. Z historických právních důvodů musí být zřeknutí se odpovědnosti zapsáno ve všech hlavičkách.)</p>
</li>
</ul>
<p>Výstup GenerateDatasetsXml je hrubý návrh.
Budete ho téměř vždy muset upravit.
Vyvinuli jsme a i nadále vyvíjíme obrovské úsilí, abychom co nejpřipravenější výstup učinili, ale existují hranice. Ze zdrojových metadat nejsou často dostupné potřebné informace.</p>
<p>Základním problémem je, že žádáme počítačový program. (GenerovatDatasetsXml) dělat úkol, kde, pokud jste dali stejný úkol pro 100 lidí, dostanete 100 různých výsledků. Neexistuje jediná správná odpověď. Je zřejmé, že program je nejblíže čtení Bobovy mysli (Ne tvoje.) , ale i tak, to není vše-pochopení AI program, jen banda heuristiky dláždil dohromady dělat Al-jako úkol. (Ten den, kdy se všechno pochopí, může přijít, ale ještě nepřišel. Pokud ano, my lidé můžeme mít větší problémy. Opatrně, co si přeješ.)</p>
<ul>
<li class="">
<p>Pro informační účely ukazuje výstup globální zdrojAttributy a variabilní zdrojAttributy jako komentáře. ERDDAP™ kombinuje zdrojAttributy a addAttributes   (které mají přednost) k výrobě kombinované Atributy, které jsou zobrazeny uživateli. (A další atributy jsou automaticky přidávány do délky, zeměpisné šířky, výšky, hloubky a časových proměnných, když ERDDAP™ vlastně vytváří soubor dat) .
 </p>
</li>
<li class="">
<p>Pokud nemáte rádi zdrojAttribute, přepište jej přidáním addAttribute se stejným názvem, ale jinou hodnotou (nebo bez hodnoty, pokud ji chcete odstranit) .
 </p>
</li>
<li class="">
<p>Všechny addAttributes jsou počítačové návrhy. Upravte je! Pokud nemáte rádi addAttribute, změňte to.
 </p>
</li>
<li class="">
<p>Pokud chcete přidat další addAttributes , přidejte je.
 </p>
</li>
<li class="">
<p>Pokud chcete změnit destinationName Změň to. Ale neměň se. sourceName s.
 </p>
</li>
<li class="">
<p>Můžete změnit pořadí dataVariable s nebo odstranit některý z nich.</p>
<ul>
<li class="">Pak můžete použít <a href="#dasdds" class="">DasDds</a>   (viz níže) opakovaně testovat XML pro tento datový soubor, aby bylo zajištěno, že výsledný datový soubor se objeví, jak chcete, aby v ERDDAP .</li>
<li class="">Neváhejte udělat malé změny na datasets.xml například vygenerovaný kus dodává lepší infoUrl , shrnutí nebo název.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="donotaddstandardnames">DoNOTAddStandardNames<a href="#donotaddstandardnames" class="hash-link" aria-label="Přímý odkaz naDoNOTAddStandardNames" title="Přímý odkaz naDoNOTAddStandardNames" translate="no">​</a></h4>
<p>Pokud přidáte \-donotAddStandardNames jako parametr příkazového řádku při spuštění generování Datové soubory Xml, generovat Datové soubory Xml nepřidá standard\_name do addAttributes pro proměnné jiné než proměnné s názvem zeměpisná šířka, zeměpisná délka, výška, hloubka nebo čas (které mají očividné standard\_name án) . To může být užitečné, pokud používáte výstup z generování Datové soubory Xml přímo v ERDDAP™ bez úpravy výstupu, protože generovat Datové soubory Xml často hádá standard\_name špatně. (Všimněte si, že vždy doporučujeme upravit výstup před použitím v ERDDAP .) Použití tohoto parametru bude mít jiné menší související účinky, protože hádané standard\_name se často používá k jiným účelům, např. k vytvoření nového long\_name , a vytvořit nastavení barevBar.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="scripting">Skriptování<a href="#scripting" class="hash-link" aria-label="Přímý odkaz naSkriptování" title="Přímý odkaz naSkriptování" translate="no">​</a></h4>
<p>Jako alternativu k interaktivnímu zodpovězení otázek na klávesnici a smyčce pro generování dalších souborů dat můžete poskytnout argumenty příkazových řádků, abyste mohli zodpovědět všechny otázky pro vytvoření jednoho datového souboru. Generovat soubory dat Xml tyto parametry zpracuje, napíše výstup do výstupního souboru a program ukončí.</p>
<p>Chcete-li to nastavit, nejprve použijte program v interaktivním režimu a zapište své odpovědi. Zde je částečný příklad:
Řekněme, že spustíte skript: ./GenerateDatasetsXml.sh
Pak zadejte: EDDTableFromAsciiFiles
Pak zadejte: /u00/data/
Pak zadejte: .\ *\.ask
Pak zadejte: /u00/data/sampleFile.asc
Poté zadejte: ISO-8859-1</p>
<p>Pro neinteraktivní spuštění použijte tento příkaz:
./GenerateDatasetsXml.sh EDDTableFromAsciiFiles /u00/data/ .\*\.asc /u00/data/sampleFile.asc ISO-8859-1
Takže v podstatě vypíšete všechny odpovědi na příkazový řádek.
To by mělo být užitečné pro soubory dat, které se často mění způsobem, který vyžaduje opětovné spuštění GenerateDatasets Xml (zejména EDDGrid FromThreddsCatalog) .</p>
<p>Podrobnosti:</p>
<ul>
<li class="">Pokud parametr obsahuje prostor nebo nějaký zvláštní znak, pak enkódovat parametr jako <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer" class="">String ve stylu JSON</a> , např. &quot;můj parametr s mezerami a dvěma \n řádky.&quot;</li>
<li class="">Pokud chcete zadat prázdný řetězec jako parametr, použijte:</li>
<li class="">Pokud chcete zadat výchozí hodnotu parametru, použijte: výchozí
 </li>
<li class="">Generovat soubory dat Xml podporuje a -i <em>Soubory údajů XmlName</em> # <em>Název značky</em> parametr příkazového řádku, který vkládá výstup do zadaného datasets.xml soubor (výchozí je <em>tomcat</em> / content/ erddap/ datasets.xml ) . Generovat soubory dat Xml hledá dva řádky v souborech dat XmlName:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;!-- Begin GenerateDatasetsXml #*tagName someDatetime* --&gt;  </span><br></span></code></pre></div></div>
<p>a</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;!-- End GenerateDatasetsXml #*tagName someDatetime* --&gt;  </span><br></span></code></pre></div></div>
<p>a nahradí vše mezi těmito řádky novým obsahem, a změní některéDatetime.</p>
<ul>
<li class="">Přepínač -i je pouze zpracován (a změny datasets.xml jsou pouze vyrobeny) Pokud spustíte GenerateDatasets Xml s argumenty příkazového řádku, které specifikují všechny odpovědi na všechny otázky pro jednu smyčku programu. (Viz výše &quot;Scripting.&quot;)   (Myšlenka je: Tento parametr je určen pro použití se skripty. Pokud program používáte v interaktivním režimu (psaní informací na klávesnici) , jste pravděpodobně generovat některé nesprávné kousky XML před tím, než si vytvořit ten, který chcete.)</li>
<li class="">Pokud nejsou nalezeny Begin a End řádky, pak jsou tyto řádky a nový obsah vloženy těsně před&lt;/erddapDatasets&gt;.</li>
<li class="">Existuje také - I (kapitál i) přepínač pro testovací účely, který funguje stejně jako -i, ale vytváří soubor nazvaný datasets.xml  <em>Datum</em> a nedělá změny datasets.xml .</li>
<li class="">Nezkoušejte GenerovatDatasety Xml s -i ve dvou procesech najednou. Existuje šance, že bude zachována pouze jedna sada změn. Může to být vážný problém. (například poškozené soubory) .</li>
</ul>
<p>Pokud používáte &quot;GenerateDatasetsXml -verbose,&quot; vytiskne více diagnostických zpráv než obvykle.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="specialpseudo-dataset-types">Speciální/Pseudo Typy datové sady<a href="#specialpseudo-dataset-types" class="hash-link" aria-label="Přímý odkaz naSpeciální/Pseudo Typy datové sady" title="Přímý odkaz naSpeciální/Pseudo Typy datové sady" translate="no">​</a></h4>
<p>Obecně platí, že možnosti EDDType v GenerateDatasets Xml shoda typů EDD popsaných v tomto dokumentu (viz <a href="#list-of-types-datasets" class="">Seznam typů datových souborů</a> ) a vygenerovat jeden datasets.xml cuk pro vytvoření jednoho datového souboru z jednoho konkrétního zdroje dat. Existuje několik výjimek a zvláštních případů:</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromerddap">EDDGrid FromErddap<a href="#eddgridfromerddap" class="hash-link" aria-label="Přímý odkaz naEDDGrid FromErddap" title="Přímý odkaz naEDDGrid FromErddap" translate="no">​</a></h5>
<p>Tento EDDType generuje všechny datasets.xml kousky potřebné k výrobě <a href="#eddfromerddap" class=""> EDDGrid FromErddap</a> Data ze všech EDDGrid Data ve vzdáleném ERDDAP . Budete mít možnost ponechat si originál datasetID án (který může kopírovat některé datasetID již ERDDAP ) nebo generování nových jmen, které budou jedinečné (ale obvykle nejsou tak čitelné jako lidé.) .
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromerddap">EDDTableFromErddap<a href="#eddtablefromerddap" class="hash-link" aria-label="Přímý odkaz naEDDTableFromErddap" title="Přímý odkaz naEDDTableFromErddap" translate="no">​</a></h5>
<p>Tento EDDType generuje všechny datasets.xml kousky potřebné k výrobě <a href="#eddfromerddap" class="">EDDTableFromErddap</a> Soubory dat ze všech datových souborů EDDTable ve vzdáleném ERDDAP . Budete mít možnost ponechat si originál datasetID án (který může kopírovat některé datasetID již ERDDAP ) nebo generování nových jmen, které budou jedinečné (ale obvykle nejsou tak čitelné jako lidé.) .
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromthreddscatalog">EDDGrid FromThreddsCatalog<a href="#eddgridfromthreddscatalog" class="hash-link" aria-label="Přímý odkaz naEDDGrid FromThreddsCatalog" title="Přímý odkaz naEDDGrid FromThreddsCatalog" translate="no">​</a></h5>
<p>Tento EDDType generuje všechny datasets.xml kousky potřebné pro všechny <a href="#eddgridfromdap" class=""> EDDGrid FromDap</a> Soubory dat, které může najít tím, že se opakovaně plazí přes THREDDS (sub) Katalog. Existuje mnoho forem katalogových URL THREDDS. Tato volba REQUERES a THREDDS .xml URL s /catalog/ v ní, například,
<a href="https://oceanwatch.pfeg.noaa.gov/thredds/catalog/catalog.xmlnebo" target="_blank" rel="noopener noreferrer" class="">https://oceanwatch.pfeg.noaa.gov/thredds/catalog/catalog.xmlnebo</a>
<a href="https://oceanwatch.pfeg.noaa.gov/thredds/catalog/Satellite/aggregsatMH/chla/catalog.xml" target="_blank" rel="noopener noreferrer" class="">https://oceanwatch.pfeg.noaa.gov/thredds/catalog/Satellite/aggregsatMH/chla/catalog.xml</a><br>
<!-- -->(příbuzný katalog .html je na
<a href="https://oceanwatch.pfeg.noaa.gov/thredds/Satellite/aggregsatMH/chla/catalog.html" target="_blank" rel="noopener noreferrer" class="">https://oceanwatch.pfeg.noaa.gov/thredds/Satellite/aggregsatMH/chla/catalog.html</a>, které není přijatelné pro EDDGrid FromThreddsCatalog).
Pokud máte problémy s EDDGrid FromThredds Katalog:</p>
<ul>
<li class="">Ujistěte se, že URL, kterou používáte, je platné, obsahuje /catalog/ a končí s /catalog.xml .</li>
<li class="">Pokud je to možné, použijte veřejnou IP adresu (například:<a href="https://oceanwatch.pfeg.noaa.gov" target="_blank" rel="noopener noreferrer" class="">https://oceanwatch.pfeg.noaa.gov</a>) v URL, nikoli místní numerická IP adresa (například:<a href="https://12.34.56.78" target="_blank" rel="noopener noreferrer" class="">https://12.34.56.78</a>) . Pokud je THREDDS přístupný pouze prostřednictvím místní číselné IP adresy, můžete použít [&lt;convertToPublicSourceUrl&gt;] (# Konvertovat na veřejné zdrojeurl) tak ERDDAP™ uživatelé vidí veřejnou adresu, i když ERDDAP™ získává data z místní číselné adresy.</li>
<li class="">Pokud máte problémy, které nemůžete vyřešit, <a href="#troubleshooting-tips" class="">zkontrolovat tipy na odstraňování problémů</a> .</li>
<li class="">Nízkoúrovňové kód pro tento nyní používá Unidata katalogový kód netcdf-java (Thredds. Katalogové třídy) takže může zvládnout všechny katalogy THREDDS (což může být překvapivě složité.) Díky Unidata na ten kód.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridlonpm180fromerddapcatalog">EDDGrid LonPM180FromErddapKatalog<a href="#eddgridlonpm180fromerddapcatalog" class="hash-link" aria-label="Přímý odkaz naEDDGrid LonPM180FromErddapKatalog" title="Přímý odkaz naEDDGrid LonPM180FromErddapKatalog" translate="no">​</a></h5>
<p>Tento EDDType generuje datasets.xml k výrobě <a href="#eddgridlonpm180" class=""> EDDGrid LonPM180</a> Data ze všech EDDGrid data v souboru ERDDAP jejichž délka je větší než 180.</p>
<ul>
<li class="">Pokud je to možné, použijte veřejnou IP adresu (například:<a href="https://oceanwatch.pfeg.noaa.gov" target="_blank" rel="noopener noreferrer" class="">https://oceanwatch.pfeg.noaa.gov</a>) v URL, nikoli místní numerická IP adresa (například:<a href="https://12.34.56.78" target="_blank" rel="noopener noreferrer" class="">https://12.34.56.78</a>) . Pokud ERDDAP™ je přístupná pouze prostřednictvím místní číselné IP adresy, můžete použít [&lt;convertToPublicSourceUrl&gt;] (# Konvertovat na veřejné zdrojeurl) tak ERDDAP™ uživatelé vidí veřejnou adresu, i když ERDDAP™ získává data z místní číselné adresy.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridlon0360fromerddapcatalog">EDDGrid Lon0360FromErddapKatalog<a href="#eddgridlon0360fromerddapcatalog" class="hash-link" aria-label="Přímý odkaz naEDDGrid Lon0360FromErddapKatalog" title="Přímý odkaz naEDDGrid Lon0360FromErddapKatalog" translate="no">​</a></h5>
<p>Tento EDDType generuje datasets.xml k výrobě <a href="#eddgridlon0360" class=""> EDDGrid Lon0360</a> Data ze všech EDDGrid data v souboru ERDDAP jejichž délka je menší než 0.</p>
<ul>
<li class="">Pokud je to možné, použijte veřejnou IP adresu (například:<a href="https://oceanwatch.pfeg.noaa.gov" target="_blank" rel="noopener noreferrer" class="">https://oceanwatch.pfeg.noaa.gov</a>) v URL, nikoli místní numerická IP adresa (například:<a href="https://12.34.56.78" target="_blank" rel="noopener noreferrer" class="">https://12.34.56.78</a>) . Pokud ERDDAP™ je přístupná pouze prostřednictvím místní číselné IP adresy, můžete použít [&lt;convertToPublicSourceUrl&gt;] (# Konvertovat na veřejné zdrojeurl) tak ERDDAP™ uživatelé vidí veřejnou adresu, i když ERDDAP™ získává data z místní číselné adresy.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddsfromfiles">EDDsFromFoles<a href="#eddsfromfiles" class="hash-link" aria-label="Přímý odkaz naEDDsFromFoles" title="Přímý odkaz naEDDsFromFoles" translate="no">​</a></h5>
<p>Vzhledem k startovnímu adresáři prochází adresář a všechny podadresáře a snaží se vytvořit soubor pro každou skupinu datových souborů, které najde.</p>
<ul>
<li class="">To předpokládá, že pokud je soubor údajů nalezen, soubor údajů zahrnuje všechny podadresáře.</li>
<li class="">Pokud je soubor údajů nalezen, budou podobné adresáře sourozenců považovány za samostatné soubory dat (Například adresáře pro 90. léta, 2000 a 2010 budou vytvářet samostatné datové soubory) . Měli by být snadno kombinovat ručně - stačí změnit první datový soubor&lt;fileDir&gt; do mateřského adresáře a smažte všechny následující soubory sourozenců.</li>
<li class="">Tohle se bude snažit vytvořit jen kus datasets.xml pro nejčastější typ přípony souboru v adresáři (nepočítám .md5, který je ignorován) . Takže, vzhledem k adresáři s 10 .nc soubory a 5 .txt soubory, soubor bude generován pro .nc Pouze soubory.</li>
<li class="">To předpokládá, že všechny soubory v adresáři se stejným rozšířením patří do stejného datového souboru. Pokud má adresář nějaké .nc soubory s daty SST a některé .nc soubory s údaji o chlorofylu, pouze jeden vzorek .nc soubor bude přečten (SST? chlorofyl?) a pouze jeden soubor bude vytvořen pro tento typ souboru. Tento datový soubor se pravděpodobně nepodaří načíst kvůli komplikacím ze snaze načíst dva typy souborů do stejného souboru.</li>
<li class="">Pokud existuje méně než 4 soubory s nejčastějším rozšířením v adresáři, to předpokládá, že nejsou datové soubory a jen přeskočí adresář.</li>
<li class="">Pokud jsou 4 nebo více souborů v adresáři, ale to nemůže úspěšně generovat část datasets.xml pro soubory (například nepodporovaný typ souboru) , to bude generovat <a href="#eddtablefromfilenames" class="">EDDTableFromFileNames</a> Databáze souborů.</li>
<li class="">Na konci diagnostiky, že to píše do logu souboru, těsně před datasets.xml Tohle vytiskne tabulku se shrnutím informací shromážděných přes všechny podadresáře. Tabulka vyjme všechny podadresáře a uvede nejčastější typ přípony souboru, celkový počet souborů a jaký typ souboru byl vytvořen pro tyto soubory (pokud existuje) . Pokud čelíte složité, hluboce vnořené struktuře souborů, zvažte spuštění GenerateDatasets Xml s EDDType=EDDsFromFromFoles jen pro generování těchto informací,</li>
<li class="">Tato volba nemusí dělat velkou práci odhadovat nejlepší EDDType pro danou skupinu datových souborů, ale je to rychlé, snadné a stojí za pokus. Pokud jsou zdrojové soubory vhodné, funguje dobře a je dobrým prvním krokem při generování datasets.xml pro souborový systém se spoustou podadresářů, každý s datovými soubory z různých souborů dat.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromeml-and-eddtablefromemlbatch">EDDTableFromEML a EDDTableFromEMLBatch<a href="#eddtablefromeml-and-eddtablefromemlbatch" class="hash-link" aria-label="Přímý odkaz naEDDTableFromEML a EDDTableFromEMLBatch" title="Přímý odkaz naEDDTableFromEML a EDDTableFromEMLBatch" translate="no">​</a></h5>
<p>Tyto speciální EDDType generuje datasets.xml k vytvoření <a href="#eddtablefromasciifiles" class="">EDDTableFromAsciiFiles</a> soubor údajů z každé tabulky popsané v <a href="https://knb.ecoinformatics.org/external//emlparser/docs/index.html" target="_blank" rel="noopener noreferrer" class="">Jazyk ekologických metadat</a> XML soubor. Varianta &quot;Batch&quot; funguje na všech EML souborech v lokálním nebo vzdáleném adresáři. Prosím, podívejte se na oddělení <a class="" href="/cs/docs/server-admin/EDDTableFromEML">dokumentace pro EDDTableFromEML</a> .
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefrominport">EDDTableFromInPort<a href="#eddtablefrominport" class="hash-link" aria-label="Přímý odkaz naEDDTableFromInPort" title="Přímý odkaz naEDDTableFromInPort" translate="no">​</a></h5>
<p>Tento speciální EDDType generuje datasets.xml k vytvoření <a href="#eddtablefromasciifiles" class="">EDDTableFromAsciiFiles</a> Soubor údajů z informací v <a href="https://inport.nmfs.noaa.gov/inport" target="_blank" rel="noopener noreferrer" class="">inport- xml</a> Složka. Pokud můžete získat přístup ke zdrojovému datovému souboru (inport-xml soubor by měl mít vodítka, kde ho najít) , můžete vytvořit pracovní soubor v ERDDAP .</p>
<p>Následující kroky nastíní, jak používat GenerateDatasets Xml s inport-xml souborem, aby se pracovní data v ERDDAP .</p>
<ol>
<li class="">Jakmile máte přístup k inport-xml souboru (buď jako URL nebo lokální soubor) : spustit generováníDatasets Xml, zadejte EDDType=EDDTableFromInPort, zadejte inport-xml URL nebo celé jméno souboru, zadejte, kteréChild=0, a zadejte další požadované informace (pokud je známo) . (V tuto chvíli nemusíte mít zdrojový datový soubor nebo zadat jeho jméno.) Nastavení Child=0 říká GenerateDatasets Xml napsat informace pro <strong>všechny</strong> z&lt;Informace o subjektu a atributu &gt;&lt;Účetní jednotka &gt; je v inport-xml souboru (pokud existují) . Vytiskne také shrnutí informací o pozadí, včetně všech download-url uvedených v inport-xml souboru.</li>
<li class="">Podívej se na všechny ty informace. (včetně informací o pozadí, které generujíNastavení dat Xml otisky) a navštívit download-url (án) pro pokus o nalezení zdrojového datového souboru (án) . Jestli ho najdeš (Oni) , stáhnout (Oni) do adresáře, který je přístupný ERDDAP . (Pokud nemůžete najít žádné zdrojové datové soubory, není důvod pokračovat.)</li>
<li class="">Spustit generování Datové soubory Zase Xml.
Pokud zdrojový datový soubor odpovídá jednomu ze souborů inport-xml&lt;Informace o subjektu a atributu &gt;&lt;Účetní jednotka &gt;, uveďte, které Child= <em>které číslo Entity</em>   (např. 1, 2, 3, ...) . ERDDAP™ pokusí se spojit názvy sloupců v souboru zdrojových dat s názvy v informacích o subjektu a vyzve k přijetí/odmítnutí/opravení jakýchkoli nesrovnalostí.
Nebo, pokud inport-xml soubor nemá žádné&lt;Informace o subjektu a atributu &gt;&lt;Upřesněte, které dítě =0.</li>
<li class="">V části datasets.xml která byla vyrobena pomocí GenerateDatasets Xml, revidovat [globální&lt; addAttributes &gt;] (#Global-atributes) dle potřeby/žádoucí.</li>
<li class="">V části datasets.xml který byl vyroben GenerateDatasetsXml, přidat / obnovit [&lt; dataVariable &gt;] (# Dataproměnná) informace potřebné k popisu každé proměnné. Ujistěte se, že správně identifikujete každou proměnnou
[&lt; sourceName &gt;] (#zdrojové jméno)   (jak to vypadá ve zdroji) ,
[&lt; destinationName &gt;] (Název místa určení)   (který má více omezení povolených znaků než sourceName ) ,
[&lt;jednotky &gt;] (#jednotky)   (zvláště pokud je <a href="#timestamp-variables" class="">proměnné času nebo času</a> kde jednotky musí stanovit formát) a
[&lt; missing\_value &gt;] (#missing_value) ,</li>
<li class="">Když jste blízko dokončení, opakovaně používat <a href="#dasdds" class="">DasDds</a> nástroj, který rychle zjistí, zda je popis datového souboru platný a zda se soubor údajů objeví v ERDDAP™ jak si přeješ.
 </li>
</ol>
<p>Bylo by skvělé, kdyby skupiny používající InPort dokumentovaly své soubory dat. ERDDAP™ zpřístupnit skutečné údaje:</p>
<ul>
<li class="">ERDDAP™ je řešení, které lze použít právě teď, takže můžete splnit NOAA &#x27;s <a href="https://nosc.noaa.gov/EDMC/PD.DSP.php" target="_blank" rel="noopener noreferrer" class="">Přístup veřejnosti k výsledkům výzkumu (PARR) požadavky</a> Právě teď, ne v nějakém neurčitém čase v budoucnosti.</li>
<li class="">ERDDAP™ zpřístupní aktuální údaje uživatelům, nejen metadatům. (K čemu jsou metadata bez dat?)</li>
<li class="">ERDDAP™ podporuje metadata (zejména jednotky proměnných) , na rozdíl od některých jiných softwaru datového serveru je zvažován. (K čemu jsou data bez metadat?) Používat software, který nepodporuje metadata, je zvát data k nepochopení a zneužití.</li>
<li class="">ERDDAP™ je svobodný a open-source software, na rozdíl od některých jiných software je zvažován. Probíhající vývoj ERDDAP™ je již zaplaceno. Podpora ERDDAP™ uživatelé jsou zdarma.</li>
<li class="">ERDDAP &#x27;s vzhled lze snadno přizpůsobit, aby odrážel a zvýraznit vaši skupinu (ne ERD nebo ERDDAP ) .</li>
<li class="">ERDDAP™ nabízí konzistentní způsob přístupu ke všem datům.</li>
<li class="">ERDDAP™ lze číst data z mnoha typů datových souborů a z relačních databází.</li>
<li class="">ERDDAP™ může řešit velké soubory údajů, včetně souborů údajů, kde jsou zdrojová data v mnoha datových souborech.</li>
<li class="">ERDDAP™ mohou psát data do mnoha typů datových souborů, na žádost uživatele, včetně vědeckých datových souborů typů, jako je netCDF, ESRI .csv, a ODV .txt .</li>
<li class="">ERDDAP™ může vytvořit vlastní grafy a mapy podmnožin dat, na základě specifikace uživatele.</li>
<li class="">ERDDAP™ mohou řešit nedatové soubory, jako jsou sbírky obrazů, video nebo audio souborů.</li>
<li class="">ERDDAP™ byla instalována a použita při <a class="" href="/cs/#who-uses-erddap">více než 60 institucí po celém světě</a> .</li>
<li class="">ERDDAP™ je uveden jako jeden z datových serverů doporučených pro použití v rámci NOAA v <a href="https://www.ngdc.noaa.gov/wiki/index.php/Data_Access_Technical_Recommendations#Software_implementations" target="_blank" rel="noopener noreferrer" class=""> NOAA Procesní směrnice pro přístup k údajům</a> , na rozdíl od některých jiných software je zvažován.</li>
<li class="">ERDDAP™ je produktem NMFS / NOAA , takže použití uvnitř NMFS a NOAA by měla být pýchou pro NMFS a NOAA .</li>
</ul>
<p>Prosím, dej mi to. ERDDAP™ Zkus to. Pokud potřebujete pomoc, vyšlete prosím zprávu do ERDDAP™ Skupina Google.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="addfillvalueattributes">addFillValueAttributes<a href="#addfillvalueattributes" class="hash-link" aria-label="Přímý odkaz naaddFillValueAttributes" title="Přímý odkaz naaddFillValueAttributes" translate="no">​</a></h5>
<p>Tato speciální volba EDDType není typ souboru dat. Jedná se o nástroj, který může přidat atributy \_FillValue do některých proměnných v některých souborech dat. Viz <a href="#add-_fillvalue-attributes" class="">addFillValueAttributes</a> .
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="findduplicatetime">najítDuplicate Čas<a href="#findduplicatetime" class="hash-link" aria-label="Přímý odkaz nanajítDuplicate Čas" title="Přímý odkaz nanajítDuplicate Čas" translate="no">​</a></h5>
<p>Tato speciální volba EDDType není typ souboru dat. Místo toho to říká GenerateDatasets Xml prohledat sbírku mřížkovaných .nc   (a související) soubory k nalezení a vytištění seznamu souborů s duplikovanými hodnotami času. Když se podívá na časové hodnoty, převede je z původních jednotek na &quot;seconds since 1970-01-01&quot; v případě, že různé soubory používají různé jednotky řetězce. Musíte poskytnout výchozí adresář (též se stopovacím lomítkem) , název souboru regulární výraz (např. .\*\ .nc  ) , a název časové proměnné v souborech.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="ncdump">ncdump<a href="#ncdump" class="hash-link" aria-label="Přímý odkaz nancdump" title="Přímý odkaz nancdump" translate="no">​</a></h5>
<p>Tato speciální volba EDDType není typ souboru dat. Místo toho to říká GenerateDatasets Xml tisknout <a href="https://linux.die.net/man/1/ncdump" target="_blank" rel="noopener noreferrer" class="">ncdump</a> \-jako výtisk .nc , .nc ml nebo .hdf Složka. Ve skutečnosti používá netcdf-java <a href="https://docs.unidata.ucar.edu/netcdf-java/5.4/javadoc/ucar/nc2/write/Ncdump.html" target="_blank" rel="noopener noreferrer" class="">NCdump</a> , což je omezenější nástroj než C verze NCdump. Pokud použijete tuto volbu, GenerateDatasetsXml vás požádá, abyste využili jednu z možností: &quot;-h&quot; (hlavička) , &quot;-c&quot; (souřadnice varů) , &quot;-vall&quot; (výchozí) , &quot;-v var1;var2,&quot; &quot;-v var1 (0,0:10,0:20) &quot;. To je užitečné, protože bez ncdump je těžké vědět, co je v .nc , .nc ml nebo .hdf soubor a tím, který EDDType byste měli zadat pro GenerateDatasets Xml. Pro .nc ml soubor, bude tisknout výstup ncdump pro výsledek .nc Změny souborů v ml použité na podklad .nc nebo .hdf Složka.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dasdds">DasDds<a href="#dasdds" class="hash-link" aria-label="Přímý odkaz naDasDds" title="Přímý odkaz naDasDds" translate="no">​</a></h3>
<ul>
<li class=""><a href="#dasdds" class=""> <strong>DasDds</strong> </a> je program příkazového řádku, který můžete použít poté, co jste vytvořili první pokus na XML pro nový datový soubor v datasets.xml . S DasDds můžete opakovaně testovat a vylepšovat XML. Když používáte program DasDds:</li>
</ul>
<ol>
<li class="">Na Windows, když poprvé spustíte DasDds, musíte upravit DasDds. bat soubor s textovým editorem změnit cestu k javě. exe soubor tak, aby Windows mohli najít Java .</li>
<li class="">DasDds vás žádá o datasetID pro datový soubor, na kterém pracujete.</li>
<li class="">DasDds se snaží vytvořit datový soubor s tímto datasetID .<!-- -->
<ul>
<li class="">DasDds vždy tiskne spoustu diagnostických zpráv.
Pokud použijete &quot;DasDds -verbose,&quot; DasDds vytiskne více diagnostických zpráv než obvykle.</li>
<li class="">Pro bezpečnost, DasDds vždy odstraní všechny cached data data data (soubory) pro datový soubor před pokusem o vytvoření datového souboru. Toto je ekvivalent nastavení <a class="" href="/cs/docs/server-admin/additional-information#hard-flag">Tvrdá vlajka</a> Takže pro souhrnné soubory, možná budete chtít upravit souborNameRegex dočasně omezit počet souborů, které konstruktér najde.</li>
<li class="">Pokud datový soubor nenačte (z jakéhokoli důvodu) , DasDds se zastaví a ukáže vám chybovou zprávu pro první chybu, kterou najde.
<strong>Nesnažte se uhodnout, v čem by mohl být problém. Přečtěte si zprávu ERROR pozorně.</strong><br>
<!-- -->Pokud je to nutné, přečtěte si předchozí diagnostické zprávy a najděte další vodítka a informace.</li>
<li class=""><strong>Proveďte změnu XML souboru, abyste se pokusili vyřešit tento problém</strong><br>
<!-- -->a nechat DasDds se pokusit vytvořit soubor znovu.</li>
<li class=""><strong>Pokud budete opakovaně řešit každý problém, nakonec vyřešíte všechny problémy</strong><br>
<!-- -->a data se nabijí.</li>
</ul>
</li>
<li class="">Všechny DasDds výstup (diagnostika a výsledky) jsou zapsány na obrazovce a na <em>velkýRodič rodičů</em> /logs/DasDds.log .</li>
<li class="">Pokud DasDds mohou vytvořit soubor dat, DasDds vám pak ukáže <a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#fileType_das" target="_blank" rel="noopener noreferrer" class="">.das (Struktura datového souboru) </a> , <a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#fileType_dds" target="_blank" rel="noopener noreferrer" class="">.dds (Dataset Descriptor Struktura) </a> a <a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#timeGaps" target="_blank" rel="noopener noreferrer" class="">.timeGaps (časové mezery) </a> informace pro datový soubor na vaší obrazovce a zapsat na <em>velkýRodič rodičů</em> /logs/DasDds.out .</li>
<li class="">Často budete chtít provést nějakou malou změnu XML datového souboru, aby se vyčistila metadata datového souboru a znovu spustila DasDds.</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="bonus-third-party-tool-erddap-lint">Bonus Nástroj třetí strany: ERDDAP - Lint<a href="#bonus-third-party-tool-erddap-lint" class="hash-link" aria-label="Přímý odkaz naBonus Nástroj třetí strany: ERDDAP - Lint" title="Přímý odkaz naBonus Nástroj třetí strany: ERDDAP - Lint" translate="no">​</a></h3>
<p>ERDDAP -Lint je program od Roba Fullera a Adama Leadbettera z Irish Marine Institute, který můžete použít ke zlepšení metadat vašeho ERDDAP™ Data. ERDDAP -lint &quot;obsahuje pravidla a jednoduchou statické webové aplikace pro provádění některých ověřovacích testů proti vašemu ERDDAP™ server. Všechny testy jsou spuštěny ve webovém prohlížeči.&quot; Jako <a href="https://en.wikipedia.org/wiki/Lint_(software)" target="_blank" rel="noopener noreferrer" class="">Nástroj Unix/Linux lint</a>, můžete upravit stávající pravidla nebo přidat nová pravidla. Viz <a href="https://github.com/IrishMarineInstitute/erddap-lint" target="_blank" rel="noopener noreferrer" class=""> ERDDAP - Lint</a> pro více informací.</p>
<p>Tento nástroj je zvláště užitečný pro soubory dat, které jste vytvořili před nějakou dobou a nyní chcete aktualizovat s vašimi aktuálními preferencemi metadat. Například rané verze GenerateDatasets Xml se nesnažil vytvořit globální creator\_name , creator\_email , creator\_type nebo creator\_url metadata. Hodilo by se ti. ERDDAP -lt identifikovat soubory, které nemají atributy metadat.</p>
<p>Díky Rob a Adam za vytvoření tohoto nástroje a zpřístupnění ERDDAP™ komunita.
 </p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-basic-structure-of-the-datasetsxml-file">Základní struktura datasets.xml Soubor<a href="#the-basic-structure-of-the-datasetsxml-file" class="hash-link" aria-label="Přímý odkaz naZákladní struktura datasets.xml Soubor" title="Přímý odkaz naZákladní struktura datasets.xml Soubor" translate="no">​</a></h2>
<p>Požadované a volitelné značky povolené v datasets.xml soubor (a počet případů, kdy se mohou objevit) jsou uvedeny níže. V praxi, vaše datasets.xml bude mít hodně&lt;Štítky datového souboru&gt; a používat pouze ostatní značky uvnitř&lt;erddapDatasets&gt; podle potřeby.</p>
<blockquote>
<p> &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;<br>
<!-- --> &lt;erddapDatasets&gt;<br>
<!-- -->   <a href="#angulardegreeunits" class="">&lt;angularDegreeUnits&gt;</a>...&lt;/angularDegreeUnits&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#angulardegreetrueunits" class="">&lt;angularDegreeTrueUnits&gt;</a>...&lt;/angularDegreeTrueUnits&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#cacheminutes" class="">&lt;cacheMinutes&gt;</a>...&lt;/cacheMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#commonstandardnames" class="">&lt;commonStandardNames&gt;</a>...&lt;/commonStandardNames&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#convertinterpolaterequestcsvexample" class="">&lt;convertInterpolateRequestCSVExample /&gt;</a> &lt;!-- 0 or more --&gt;<br>
<!-- -->   <a href="#convertinterpolatedatasetidvariablelist" class="">&lt;convertInterpolateDatasetIDVariableList /&gt;</a> &lt;!-- 0 or more --&gt;<br>
<!-- -->   <a href="#converttopublicsourceurl" class="">&lt;convertToPublicSourceUrl /&gt;</a> &lt;!-- 0 or more --&gt;<br>
<!-- -->   <a href="#decompressed-cache" class="">&lt;decompressedCacheMaxGB&gt;</a>...&lt;/decompressedCacheMaxGB&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#decompressed-cache" class="">&lt;decompressedCacheMaxMinutesOld&gt;</a>...&lt;/decompressedCacheMaxMinutesOld&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#drawlandmask" class="">&lt;drawLandMask&gt;</a>...&lt;/drawLandMask&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#emaildiagnosticstoerddata" class="">&lt;emailDiagnosticsToErdData&gt;</a>...&lt;/emailDiagnosticsToErdData&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#graphbackgroundcolor" class="">&lt;graphBackgroundColor&gt;</a>...&lt;/graphBackgroundColor&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#ipaddressmaxrequests" class="">&lt;ipAddressMaxRequests&gt;</a>...&lt;/ipAddressMaxRequests&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#ipaddressmaxrequestsactive" class="">&lt;ipAddressMaxRequestsActive&gt;</a>...&lt;ipAddressMaxRequestsActive&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#ipaddressunlimited" class="">&lt;ipAddressUnlimited&gt;</a>...&lt;ipAddressUnlimited&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#loaddatasetsminminutes" class="">&lt;loadDatasetsMinMinutes&gt;</a>...&lt;/loadDatasetsMinMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#loaddatasetsmaxminutes" class="">&lt;loadDatasetsMaxMinutes&gt;</a>...&lt;/loadDatasetsMaxMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#loglevel" class="">&lt;logLevel&gt;</a>...&lt;/logLevel&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#nthreads" class="">&lt;nGridThreads&gt;</a>...&lt;/nGridThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#nthreads" class="">&lt;nTableThreads&gt;</a>...&lt;/nTableThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#palettes" class="">&lt;palettes&gt;</a>...&lt;/palettes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#partialrequestmaxbytes-and-partialrequestmaxcells" class="">&lt;partialRequestMaxBytes&gt;</a>...&lt;/partialRequestMaxBytes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#partialrequestmaxbytes-and-partialrequestmaxcells" class="">&lt;partialRequestMaxCells&gt;</a>...&lt;/partialRequestMaxCells&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#requestblacklist" class="">&lt;requestBlacklist&gt;</a>...&lt;/requestBlacklist&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#slowdowntroublemillis" class="">&lt;slowDownTroubleMillis&gt;</a>...&lt;/slowDownTroubleMillis&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#subscriptionemailblacklist" class="">&lt;subscriptionEmailBlacklist&gt;</a>...&lt;/subscriptionEmailBlacklist&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#unusualactivity" class="">&lt;unusualActivity&gt;</a>...&lt;/unusualActivity&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#updatemaxevents" class="">&lt;updateMaxEvents&gt;</a>...&lt;/updateMaxEvents&gt; &lt;!-- 0 or 1 --&gt;</p>
<p>   <a href="#standard-text" class="">&lt;standardLicense&gt;</a>...&lt;/standardLicense&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;standardContact&gt;</a>...&lt;/standardContact&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;standardDataLicenses&gt;</a>...&lt;/standardDataLicenses&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;standardDisclaimerOfEndorsement&gt;</a>...&lt;/standardDisclaimerOfEndorsement&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;standardDisclaimerOfExternalLinks&gt;</a>...&lt;/standardDisclaimerOfExternalLinks&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;standardGeneralDisclaimer&gt;</a>...&lt;/standardGeneralDisclaimer&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;standardPrivacyPolicy&gt;</a>...&lt;/standardPrivacyPolicy&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;startHeadHtml5&gt;</a>...&lt;/startHeadHtml5&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;startBodyHtml5&gt;</a>...&lt;/startBodyHtml5&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;theShortDescriptionHtml&gt;</a>...&lt;/theShortDescriptionHtml&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->   <a href="#standard-text" class="">&lt;endBodyHtml5&gt;</a>...&lt;/endBodyHtml5&gt; &lt;!-- 0 or 1 --&gt;</p>
<p>   <a href="#user" class="">&lt;user username=&quot;...&quot; password=&quot;...&quot; roles=&quot;...&quot; /&gt;</a> &lt;!-- 0 or more --&gt;</p>
<p>   <a href="#list-of-types-datasets" class="">&lt;dataset&gt;</a>...&lt;/dataset&gt; &lt;!-- 1 or more --&gt;<br>
<!-- --> &lt;/erddapDatasets&gt;</p>
</blockquote>
<p>Je možné, že v budoucnu budou povolena jiná kódování, ale prozatím se doporučuje pouze ISO-8859-1.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="xinclude">XInclude<a href="#xinclude" class="hash-link" aria-label="Přímý odkaz naXInclude" title="Přímý odkaz naXInclude" translate="no">​</a></h3>
<p>Novinka ve verzi 2.25 je podpora pro XInclude. To vyžaduje použití parseru SAX&lt;UseSaxParser &gt; true&lt;/useSaxParser &gt; ve vašem nastavení.xml. To vám umožní zapsat každý soubor do vlastního souboru a pak je všechny zahrnout do hlavního souboru datasets.xml , opakované části definic datového souboru nebo obojí. Pokud chcete vidět příklad, <a href="https://github.com/ERDDAP/erddap/blob/main/src/test/java/testDataset/EDDTestDataset.java" target="_blank" rel="noopener noreferrer" class="">EDDTestDataset.java</a> stanoví XInclude pro opětovné použití proměnných definic.
 </p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="notes">Poznámky<a href="#notes" class="hash-link" aria-label="Přímý odkaz naPoznámky" title="Přímý odkaz naPoznámky" translate="no">​</a></h2>
<p>Práce s datasets.xml Soubor je netriviální projekt. Přečtěte si prosím pozorně všechny tyto poznámky. Až si vybereš <a href="#list-of-types-datasets" class="">Typ souboru</a> , pečlivě si přečtěte podrobný popis.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="choosing-the-dataset-type">Výběr typu datové sady<a href="#choosing-the-dataset-type" class="hash-link" aria-label="Přímý odkaz naVýběr typu datové sady" title="Přímý odkaz naVýběr typu datové sady" translate="no">​</a></h3>
<p>Ve většině případů je jen jeden ERDDAP™ Typ datového souboru, který je vhodný pro daný zdroj dat. V několika případech (např. .nc soubory) , Existuje několik možností, ale obvykle jedna z nich je určitě nejlepší. První a největší rozhodnutí, které musíte udělat, je: je vhodné považovat soubor dat za skupinu multidimenzionálních polí (Pokud ano, uvidíte <a href="#eddgrid" class=""> EDDGrid Typy souborů údajů</a> ) nebo jako databázová tabulka údajů (Pokud ano, uvidíte <a href="#eddtable" class="">Typy datového souboru EDDTable</a> ) .
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="serving-the-data-as-is">Sloužit údaje, jak je<a href="#serving-the-data-as-is" class="hash-link" aria-label="Přímý odkaz naSloužit údaje, jak je" title="Přímý odkaz naSloužit údaje, jak je" translate="no">​</a></h3>
<p>Obvykle není třeba měnit zdroj dat (např. převést soubory na jiný typ souboru) takže ERDDAP™ může sloužit. Jeden z předpokladů ERDDAP™ je, že zdroj dat bude použit tak, jak je. Obvykle to funguje dobře. Některé výjimky jsou:</p>
<ul>
<li class="">Související databáze a Cassandra -- ERDDAP™ mohou sloužit data přímo z relačních databází a Cassandra. Ale pro bezpečnost, vyvážení zatížení a problémy s výkonem se můžete rozhodnout vytvořit jinou databázi se stejnými údaji nebo uložit data do NetCDF v3 .nc Soubory a mít ERDDAP™ slouží data z nového zdroje dat. Viz <a href="#eddtablefromdatabase" class="">EDDtableFromDatabase</a> a <a href="#eddtablefromcassandra" class="">EDDTableFromCassandra</a> .</li>
<li class="">Nepodporované zdroje dat -- ERDDAP™ může podporovat velký počet typů datových zdrojů, ale svět je naplněn 1000&#x27;s (Milióny?) různých zdrojů údajů (zejména struktury datových souborů) . Pokud ERDDAP™ nepodporuje váš zdroj dat:<!-- -->
<ul>
<li class="">Pokud je zdroj dat NetCDF   .nc soubory, můžete použít <a href="#ncml-files" class="">NcML</a> upravit soubory údajů při letu nebo použít <a href="#netcdf-operators-nco" class=""> NCO </a> trvale upravovat datové soubory.</li>
<li class="">Data můžete zapisovat do datového zdroje, který ERDDAP™ Podpora. NetCDF - 3 .nc soubory jsou dobré, obecné doporučení, protože jsou binární soubory, které ERDDAP™ umí číst velmi rychle. Pokud jde o tabulková data, zvažte uložení údajů do souboru .nc Soubory, které používají <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Geometrie diskrétního odběru vzorků (DSG) </a> Kontiguous Ragged Array datové struktury a tak lze zacházet s ERDDAP &#x27;s <a href="#eddtablefromnccffiles" class="">EDDTableFromNcCFFiles</a> ). Pokud jsou logicky organizovaní (každý s údaji pro kus prostoru a času) , ERDDAP™ může z nich velmi rychle extrahovat data.</li>
<li class="">Můžete požádat, aby podpora pro tento zdroj dat byla přidána do ERDDAP™ e-mailem Chrisovi. John v Noaa.gov.</li>
<li class="">Můžete přidat podporu pro tento zdroj dat tím, že zapíšete kód, aby se o něj postaral sám. Viz <a class="" href="/cs/docs/contributing/programmer-guide">vá ERDDAP™ Průvodce programátorem</a></li>
</ul>
</li>
<li class="">Rychlost... ERDDAP™ může číst data z některých zdrojů dat mnohem rychleji než ostatní. Například čtení NetCDF v3 .nc Soubory jsou rychlé a čtení ASCII souborů je pomalejší. A pokud je velký (&gt; 1000) nebo obrovský (&gt; 10 000) počet zdrojových datových souborů, ERDDAP™ bude reagovat na některé požadavky na údaje pomalu. Obvykle není rozdíl pro lidi patrný. Nicméně, pokud si myslíte, ERDDAP™ je pomalý pro daný datový soubor, můžete se rozhodnout vyřešit problém zápisem dat do efektivnější nastavení (obvykle: několik, dobře strukturovaných, NetCDF v3 .nc soubory) . Pro tabulková data viz <a href="#millions-of-files" class="">Tato rada</a> .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="hint">Nápověda<a href="#hint" class="hash-link" aria-label="Přímý odkaz naNápověda" title="Přímý odkaz naNápověda" translate="no">​</a></h3>
<p>Často je snazší vytvořit XML pro datový soubor tak, že vytvoří kopii pracovního popisu datového souboru v datovém souboru.xml a poté jej upraví.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="encoding-special-characters">Kódování zvláštních znaků<a href="#encoding-special-characters" class="hash-link" aria-label="Přímý odkaz naKódování zvláštních znaků" title="Přímý odkaz naKódování zvláštních znaků" translate="no">​</a></h3>
<p>Od datasets.xml je XML soubor, musíte <a href="https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Predefined_entities_in_XML" target="_blank" rel="noopener noreferrer" class="">&amp; Kód</a> &quot;&amp;,&quot;&lt;&quot;a &quot;&gt;&quot; v jakémkoli obsahu jako &quot;&amp;,&quot; &quot;&lt;&quot;a &quot;&gt;.&quot;
Špatně:&lt;Název &gt; Čas a osy&lt;/title &gt;
Správně:&lt;Název &gt; Čas a tides&lt;/title &gt;
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="xml-doesnt-tolerate-syntax-errors">XML netoleruje chyby syntaxe<a href="#xml-doesnt-tolerate-syntax-errors" class="hash-link" aria-label="Přímý odkaz naXML netoleruje chyby syntaxe" title="Přímý odkaz naXML netoleruje chyby syntaxe" translate="no">​</a></h3>
<p>Poté, co editujete soubor datate.xml, je dobrý nápad ověřit, že výsledek je <a href="https://www.w3schools.com/xml/xml_dtd.asp" target="_blank" rel="noopener noreferrer" class="">dobře tvarované XML</a> vložením XML textu do XML checkeru jako <a href="https://www.xmlvalidation.com/" target="_blank" rel="noopener noreferrer" class="">xmlvalidace</a> .
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="troubleshooting-tips">Tipy proti potížím<a href="#troubleshooting-tips" class="hash-link" aria-label="Přímý odkaz naTipy proti potížím" title="Přímý odkaz naTipy proti potížím" translate="no">​</a></h3>
<ul>
<li class=""><strong>Jiné způsoby, jak diagnostikovat problémy s daty</strong><br>
<!-- -->Kromě dvou hlavních <a href="#tools" class="">Nástroje</a> ,</li>
<li class=""><a class="" href="/cs/docs/server-admin/additional-information#log">log.txt</a> je log soubor se všemi ERDDAP Diagnostické zprávy.</li>
<li class="">The <a class="" href="/cs/docs/server-admin/additional-information#daily-report">Denní zpráva</a> má více informací než stránka stavu, včetně seznamu souborů údajů, které nebyly načteny, a výjimky (chyby) vygenerovali.</li>
<li class="">The <a class="" href="/cs/docs/server-admin/additional-information#status-page">Stavová stránka</a> je rychlý způsob, jak zkontrolovat ERDDAP &#x27;s statusem každého webového prohlížeče. Obsahuje seznam souborů, které nebyly načteny (i když ne související výjimky) a za úkolŠíření statistik (ukazující pokrok <a href="#eddgridcopy" class=""> EDDGrid Kopírovat</a> a <a href="#eddtablecopy" class="">EDDtableCopy</a> Soubory údajů a všechny <a href="#eddgridfromfiles" class=""> EDDGrid FromFiles</a> nebo <a href="#eddtablefromfiles" class="">EDDTableFromFoles</a> Soubory údajů, které používají <a href="#cachefromurl" class="">cacheFromUrl</a>   (ale ne cache VelikostGB) ) .</li>
<li class="">Když se zasekneš, uvidíš naše <a class="" href="/cs/docs/intro#support">oddíl o získání dodatečné podpory</a> .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="special-variables">Zvláštní proměnné<a href="#special-variables" class="hash-link" aria-label="Přímý odkaz naZvláštní proměnné" title="Přímý odkaz naZvláštní proměnné" translate="no">​</a></h3>
<ul>
<li class="">** <a href="#destinationname" class="">Zeměpisná délka, zeměpisná šířka, výška, hloubka, tlak a čas (LLAT) proměnná</a>   <a href="#destinationname" class=""> destinationName </a> Jsou zvláštní.**</li>
<li class="">Obecně:<!-- -->
<ul>
<li class="">LLAT proměnné jsou uvedeny na ERDDAP™ pokud proměnná osy je (místo EDDGrid Soubory údajů) nebo datové proměnné (pro soubory EDDTable)   <a href="#destinationname" class=""> destinationName </a> je &quot;délka,&quot; &quot;zeměpisná šířka,&quot; &quot;nadmořská výška,&quot; &quot;hloubka,&quot; nebo &quot;time&quot; .</li>
<li class="">Důrazně vás vybízíme, abyste pro tyto proměnné používali tyto standardní názvy, kdykoli je to možné. Žádný z nich není nutný. Pokud nepoužijete tyto speciální názvy proměnných, ERDDAP™ nepozná jejich význam. Například proměnné LLAT jsou zpracovávány speciálně pomocí Make A Graph ( * datasetID * .graph) : Pokud je proměnná X Axis &quot;délka&quot; a proměnná Y Axis je &quot;zeměpisná šířka,&quot; dostanete mapu (pomocí standardní projekce a s pozemní maskou, politickými hranicemi atd.) místo grafu.</li>
<li class="">ERDDAP™ automaticky přidá spoustu metadat k LLAT proměnných (Například, &quot; <a href="#ioos_category" class=""> ioos\_category </a> &quot;,&quot; <a href="#units" class="">jednotky</a> &quot;a několik atributů souvisejících s normami, jako je &quot;\_CoordinaceAxisType&quot;) .</li>
<li class="">ERDDAP™ automaticky, on-the-fly, přidá spoustu globálních metadat souvisejících s hodnotami LLAT vybrané podmnožiny dat (například &quot;geospatial\_lon\_min&quot;) .</li>
<li class="">Klienti, kteří podporují tyto standardy metadat, budou moci využít přidané metadata k umístění dat v čase a prostoru.</li>
<li class="">Pro klienty bude snazší vytvářet dotazy, které zahrnují proměnné LLAT, protože názvy proměnné jsou ve všech příslušných souborech stejné.</li>
</ul>
</li>
<li class="">Pro proměnnou &quot;délka&quot; a proměnnou &quot;zeměpisná šířka&quot;:<!-- -->
<ul>
<li class="">Použijte <a href="#destinationname" class=""> destinationName </a> s &quot;délka&quot; a &quot;zeměpisná šířka&quot; pouze pokud <a href="#units" class="">jednotky</a> jsou stupně\_východ a stupně\_north, resp. Pokud vaše údaje neodpovídají těmto požadavkům, použijte různé názvy proměnných (například x, y, lonRadians, latRadians) .</li>
<li class="">Pokud máte údaje o délce a zeměpisné šířce vyjádřené v různých jednotkách, a tedy s různými destinationName s, například, lonRadians a latRadians, Make A Graph ( * datasetID * .graph) vytvoří grafy (například časové řady) místo map.</li>
</ul>
</li>
<li class="">Pro &quot;nadmořskou výšku,&quot; &quot;presure&quot; nebo &quot;hloubkovou&quot; proměnnou:<!-- -->
<ul>
<li class="">Použijte <a href="#destinationname" class=""> destinationName </a> &quot;nadmořská výška&quot; pro identifikaci vzdálenosti dat nad hladinou moře (pozitivní hodnoty=&quot;up&quot;) . Volitelně můžete použít &quot;nadmořskou výšku&quot; pro vzdálenosti pod hladinou moře, pokud jsou hodnoty pod mořem záporné (nebo pokud například použijete,
[&lt;att name=&quot; scale\_factor &quot;type=&quot;int&quot; - 1&lt;/att&gt;] (#scale_factor) převést hodnoty hloubky na hodnoty nadmořské výšky.</li>
<li class="">Použijte destinationName &quot;hloubka&quot; pro identifikaci vzdálenosti dat pod hladinou moře (pozitivní hodnoty=&quot;down&quot;) .</li>
<li class="">Alternativně, pro zvýšení definované úrovně tlaku vzduchu (např. <a href="https://en.wikipedia.org/wiki/Contour_line#Barometric_pressure" target="_blank" rel="noopener noreferrer" class="">isobary</a> ) , měli byste nastavit destinationName na &quot;tlak.&quot; To podporuje jednotky v &quot;hPa,&quot; &quot;Pa&quot; a &quot;mbar&quot; (pozitivní hodnoty=&quot;down&quot;) .</li>
<li class="">Soubor údajů může mít pouze jednu &quot;nadmořskou výšku,&quot; &quot;tlak&quot; nebo &quot;hloubkovou&quot; proměnnou.</li>
<li class="">Pro tyto &quot;nadmořská výška&quot; a &quot;hloubkové&quot; proměnné <a href="#units" class="">jednotky</a> musí být &quot;m,&quot; &quot;meter&quot; nebo &quot;metry.&quot; Pokud se jednotky liší (například sáhy) , můžete použít
[&lt;att name=&quot; scale\_factor &quot;&gt; <em>některé Hodnota</em> &lt;/att&gt;] (#scale_factor) a [&lt;att name=&quot;jednotky&quot;&lt;/att&gt;] (#jednotky) převést jednotky na metry.</li>
<li class="">Pokud vaše údaje neodpovídají těmto požadavkům, použijte jiný destinationName   (například nadGround, vzdálenost ToBottom) .</li>
<li class="">Pokud znáte vertikální CRS, zadejte jej v metadatech, např. &quot;EPSG:5829&quot; (okamžitá výška nad hladinou moře) , &quot;EPSG:5831&quot; (okamžitá hloubka pod hladinou moře) , nebo &quot;EPSG:5703&quot; (NAVD88 výška) .</li>
</ul>
</li>
<li class="">Pro &quot;time&quot; proměnná:<!-- -->
<ul>
<li class="">Použijte <a href="#destinationname" class=""> destinationName </a>   &quot;time&quot; pouze pro proměnné, které zahrnují celé datum+čas (nebo datum, pokud je to vše, co existuje) . Pokud například existují samostatné sloupce pro datum a časOfDay, nepoužívejte název proměnné &quot;time&quot; .</li>
<li class="">Viz <a href="#time-units" class="">jednotky</a> pro více informací o atributu jednotek pro proměnné času a časuStamp.</li>
<li class="">Časová proměnná a související <a href="#timestamp-variables" class="">čas Proměnné známky</a> jsou jedinečné v tom, že vždy převést hodnoty dat z časového formátu zdroje (Ať je to cokoliv.) do číselné hodnoty (sekundy od 1970-01-01T00:00:00Z) nebo hodnota řetězce (ISO 8601:2004 (E) formát) V závislosti na situaci.</li>
<li class="">Pokud uživatel požaduje údaje o čase, může o ně požádat zadáním času jako číselné hodnoty (sekundy od 1970-01-01T00:00:00Z) nebo hodnota řetězce (ISO 8601:2004 (E) formát) .</li>
<li class="">ERDDAP™ má nástroj pro <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html" target="_blank" rel="noopener noreferrer" class="">Převést numerické Čas do/z doby řetězce</a> .</li>
<li class="">Viz <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html#erddap" target="_blank" rel="noopener noreferrer" class="">Jak ERDDAP Obchoduje s časem</a> .</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-just-two-basic-data-structures">Proč jen dvě základní datové struktury?<a href="#why-just-two-basic-data-structures" class="hash-link" aria-label="Přímý odkaz naProč jen dvě základní datové struktury?" title="Přímý odkaz naProč jen dvě základní datové struktury?" translate="no">​</a></h3>
<ul>
<li class="">Vzhledem k tomu, že je obtížné pro lidské klienty a počítačové klienty řešit komplexní soubor možných datových struktur, ERDDAP™ používá pouze dvě základní datové struktury:<!-- -->
<ul>
<li class="">a <a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#dataModel" target="_blank" rel="noopener noreferrer" class="">struktura roštových dat</a>   (například pro satelitní data a modelová data) a</li>
<li class="">a <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#dataModel" target="_blank" rel="noopener noreferrer" class="">struktura tabulkových dat</a>   (například pro in-situ bóje, stanice a data trajektorie) .</li>
</ul>
</li>
<li class="">Určitě ne všechny údaje mohou být vyjádřeny v těchto strukturách, ale většina z nich může. Zejména tabulky jsou velmi flexibilní datové struktury (Podívejte se na úspěch relačních databázových programů) .</li>
<li class="">Tím se datové dotazy snadněji konstruují.</li>
<li class="">Díky tomu mají datové odpovědi jednoduchou strukturu, díky které je jednodušší data sloužit v širší škále standardních typů souborů. (které často jen podporují jednoduché datové struktury) . To je hlavní důvod, proč jsme to naplánovali. ERDDAP™ Tudy.</li>
<li class="">Tohle nám to velmi usnadňuje. (nebo kdokoliv) psát klientský software, který pracuje se všemi ERDDAP™ Data.</li>
<li class="">To usnadňuje srovnání dat z různých zdrojů.</li>
<li class="">Jsme si velmi vědomi toho, že pokud jste zvyklí pracovat s daty v jiných datových strukturách, můžete si zpočátku myslet, že tento přístup je zjednodušující nebo nedostatečný. Ale všechny datové struktury mají kompromisy. Žádný není dokonalý. Dokonce i do-it-všechny struktury mají své nevýhody: práce s nimi je složitá a soubory lze psát nebo číst pouze se speciálními softwarovými knihovnami. Pokud přijmete ERDDAP &#x27;s přístupem dost na to, aby se s ním pokusil pracovat, můžete zjistit, že má své výhody (zejména podpora pro více typů souborů, které mohou držet odpovědi na údaje) . The <a href="https://coastwatch.pfeg.noaa.gov/erddap/images/erddapTalk/erddapTechTalk.html" target="_blank" rel="noopener noreferrer" class=""> ERDDAP™ slide show</a>   (zvláště <a href="https://coastwatch.pfeg.noaa.gov/erddap/images/erddapTalk/erddapTechTalk.html#dataStructures" target="_blank" rel="noopener noreferrer" class="">skluzavka datových struktur</a> ) Hodně o těchto otázkách mluví.</li>
<li class="">A i kdyby vám to připadalo divné, ERDDAP™ klienti si toho nikdy nevšimnou - prostě uvidí, že všechny datové soubory mají pěknou jednoduchou strukturu a budou vděční, že mohou získat data z široké škály zdrojů vrácených v široké škále formátů souborů.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dimensions">Rozměry<a href="#dimensions" class="hash-link" aria-label="Přímý odkaz naRozměry" title="Přímý odkaz naRozměry" translate="no">​</a></h3>
<ul>
<li class="">
<p><strong>Co když proměnné mřížky ve zdrojovém souboru NESdílejí stejné proměnné osy?</strong><br>
<!-- -->In EDDGrid Soubory údajů, všechny datové proměnné MUSÍ používat (podíl) všechny proměnné osy. Takže pokud zdrojový soubor má některé proměnné s jednou sadou rozměrů, a další proměnné s jinou sadou rozměrů, budete muset udělat dva soubory souborů v ERDDAP . Například, můžete udělat jeden ERDDAP™ Soubor s názvem &quot;Nějaká hlava (na povrchu) &quot; držet proměnné, které používají \[ čas \]  \[ zeměpisná šířka \]  \[ zeměpisná délka \] rozměry a další ERDDAP™ Soubor s názvem &quot;Nějaká hlava (v hloubkách) &quot; držet proměnné, které používají \[ čas \]  \[ výška \]  \[ zeměpisná šířka \]  \[ zeměpisná délka \] . Nebo můžete změnit zdroj dat a přidat rozměr s jedinou hodnotou. (například nadmořská výška=0) aby proměnné byly konzistentní.</p>
<p>ERDDAP™ nezvládá složitější soubory dat (například modely, které používají síť trojúhelníků) Dobře. Můžete sloužit tyto soubory v ERDDAP™ vytvořením dvou nebo více souborů údajů v ERDDAP™   (tak, aby všechny datové proměnné v každém novém datovém souboru sdílely stejnou sadu osových proměnných) Ale tohle uživatelé nechtějí. U některých souborů údajů můžete zvážit vytvoření pravidelné roštové verze datového souboru a nabídnout ji kromě původních údajů. Nějaký klientský software se může zabývat pouze pravidelnou sítí, takže tím získáte další klienty.
 </p>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="projected-gridded-data">Promítnutá data<a href="#projected-gridded-data" class="hash-link" aria-label="Přímý odkaz naPromítnutá data" title="Přímý odkaz naPromítnutá data" translate="no">​</a></h3>
<p>Některá data mají komplexní strukturu. Například satelitní úroveň 2 (&quot;Dlouhá trať&quot;) data nepoužívají jednoduchou projekci. Modelky (a další) často pracují s daty o různých necyklických projekcích (například kuželovité, polární stereografické, tripolární) nebo v nestrukturovaných sítích (komplexnější strukturu dat) . Někteří koncoví uživatelé chtějí tato data tak, jak jsou, takže nedochází ke ztrátě informací. Pro tyto klienty, ERDDAP™ mohou sloužit data, jak je, pouze pokud ERDDAP™ správce rozdělí původní datový soubor na několik souborů údajů, přičemž každá část obsahuje proměnné, které sdílejí stejné proměnné osy. Ano, je to zvláštní pro lidi, kteří jsou do toho zapleteni a je to jiné než většina OPeNDAP servery. Ale... ERDDAP™ zdůrazňuje zpřístupnění údajů v mnoha formátech. To je možné, protože ERDDAP™ použití/vyžaduje jednotnější strukturu údajů. I když je to trochu trapné. (tj. jiné, než se očekávalo) , ERDDAP™ může distribuovat promítaná data.</p>
<p>\[ Ano. ERDDAP™ mohou mít uvolněnější požadavky na strukturu dat, ale zachovat požadavky na výstupní formáty. Ale to by vedlo k záměně mezi mnoha uživateli, zejména nováčky, protože mnoho zdánlivě platných žádostí o data s různými strukturami by bylo neplatné, protože data by do typu souboru nezapadala. Stále se vracíme k návrhu současného systému. \]</p>
<p>Někteří koncoví uživatelé chtějí data v lat lon válcové projekce, jako je Equirectangulární / deska carrée nebo Mercator) pro snadné použití v různých situacích. V těchto situacích podporujeme ERDDAP™ správce používat jiný software ( NCO ? Matlab ? R? IDV? ...?) re-projektovat údaje na geograficky (Equirektangulární projekce / deska carrée) nebo jiné válcové projekce a slouží této formě dat v ERDDAP™ jako jiný datový soubor. To je podobné tomu, co lidé dělají, když převádějí satelitní data úrovně 2 na data úrovně 3. Jeden takový nástroj je <a href="https://nco.sourceforge.net/nco.html#Regridding" target="_blank" rel="noopener noreferrer" class=""> NCO </a> která nabízí možnosti rozšíření pro regriding dat.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="gis-and-reprojecting-data">GIS a reprojektování dat<a href="#gis-and-reprojecting-data" class="hash-link" aria-label="Přímý odkaz naGIS a reprojektování dat" title="Přímý odkaz naGIS a reprojektování dat" translate="no">​</a></h4>
<p>Vzhledem k tomu, že je svět GIS často orientován na mapu, programy GIS obvykle nabízejí podporu pro přeprojektování dat, tj. propracovávání dat na mapě s jinou projekcí.</p>
<p>V současné době, ERDDAP™ nemá nástroje pro přepracovávání údajů. Místo toho doporučujeme použít externí nástroj k vytvoření varianty datového souboru, kde byly údaje přeprojektovány z původního formuláře do obdélníku (zeměpisná délka) pole vhodné pro ERDDAP .</p>
<p>Podle našeho názoru CF/ DAP svět je trochu jiný než svět GIS a pracuje na mírně nižší úrovni. ERDDAP™ to odráží. Obecně, ERDDAP™ je určen především pro práci s daty (ne mapy) a nechce se změnit (např. reprojekt) ta data. Pro ERDDAP™ , roštovaná data jsou často/obvykle/nejlépe spojena s hodnotami lat lon a válcovou projekcí, a ne s hodnotami x,y. V každém případě, ERDDAP™ nedělá nic s projekcí dat, jen předává data, jak je to s jeho aktuální projekcí, o teorii, že reprojekce je významnou změnou dat a ERDDAP™ nechce být zapojen do významných změn. Následní uživatelé by také mohli naivně data znovu promítat, což by nebylo tak dobré, jako jen provést jednu rekonstrukci. (Takže, pokud ERDDAP™ Správce chce data nabídnout v jiné projekci, v pořádku; jen reprojektovat data offline a nabídnout, že jako jiný datový soubor v ERDDAP . Spousta satelitních dat je nabízena jako to, co NASA nazývá Level 2 (swath) a jako úroveň 3 (Ekvirektální projekce) verze.) Kdy? ERDDAP™ dělá mapy (přímo nebo prostřednictvím WMS nebo KML) , ERDDAP™ v současné době nabízí pouze mapy s projekcí Equirektangular / deska carrée, která je naštěstí přijata většina mapovacích programů.</p>
<p>Podporujeme ERDDAP™ Správci používají jiný software ( NCO ? Matlab ? R? IDV? ...?) re-projektovat údaje na geograficky (Equirektangulární projekce / deska carrée) nebo jiné válcové projekce a slouží této formě dat v ERDDAP™ jako jiný datový soubor. To je podobné tomu, co lidé dělají, když převádějí satelitní data úrovně 2 na data úrovně 3. Jeden takový nástroj je <a href="https://nco.sourceforge.net/nco.html#Regridding" target="_blank" rel="noopener noreferrer" class=""> NCO </a> která nabízí možnosti rozšíření pro regriding dat.</p>
<p>Doufáme, že ERDDAP™ budou mít v budoucnu vestavěné nástroje pro nabízení map s dalšími projekcemi. Také doufáme, že budeme mít v budoucnu lepší spojení se světem GIS (jiný než proud WMS služba) . Je hrozné, že v tomto &quot;moderním&quot; světě jsou vazby mezi CF/ DAP Svět a svět GIS jsou stále tak slabé. Obě ty věci jsou na seznamu To Do. (Chcete-li pomoci, zejména s připojením ERDDAP™ Na MapServer, prosím e-mail Chris. John at noaa.gov .)</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="data-types">Typy údajů<a href="#data-types" class="hash-link" aria-label="Přímý odkaz naTypy údajů" title="Přímý odkaz naTypy údajů" translate="no">​</a></h3>
<p>ERDDAP™ podporuje následující datové typy
(názvy jsou případově citlivé; &#x27;u&#x27; prefix znamená &quot;nepodepsaný&quot;; číslo mnoha jmen v jiných systémech je počet bitů) :</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="byte">byte<a href="#byte" class="hash-link" aria-label="Přímý odkaz nabyte" title="Přímý odkaz nabyte" translate="no">​</a></h4>
<ul>
<li class=""><strong>byte</strong> podepsal celé hodnoty s rozsahem -128 až 127.
V jiných systémech se tomu někdy říká int8.
Tomuhle se říká &quot;tinyint&quot; od SQL a Cassandry.
ERDDAP™ převody <a href="#boolean-data" class="">boolean</a> z některých zdrojů (např. SQL a Cassandra) do bajtů v ERDDAP™ s hodnotou 0=false, 1=true a 127= missing\_value .</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ubyte">ubyte<a href="#ubyte" class="hash-link" aria-label="Přímý odkaz naubyte" title="Přímý odkaz naubyte" translate="no">​</a></h4>
<ul>
<li class=""><strong>ubyte</strong> má nesignované celé hodnoty s rozsahem 0 až 255.
V jiných systémech se tomu někdy říká uint8.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="short">krátké<a href="#short" class="hash-link" aria-label="Přímý odkaz nakrátké" title="Přímý odkaz nakrátké" translate="no">​</a></h4>
<ul>
<li class=""><strong>krátké</strong> podepsal celé hodnoty s rozsahem -32768 až 32767.
V jiných systémech se tomu někdy říká int16.
Tomu se říká &quot;malý&quot; od SQL a Cassandry.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ushort">krátké<a href="#ushort" class="hash-link" aria-label="Přímý odkaz nakrátké" title="Přímý odkaz nakrátké" translate="no">​</a></h4>
<ul>
<li class=""><strong>krátké</strong> má nesignované celé hodnoty s rozsahem 0 až 65535.
V jiných systémech se tomu někdy říká uint16.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="int">int<a href="#int" class="hash-link" aria-label="Přímý odkaz naint" title="Přímý odkaz naint" translate="no">​</a></h4>
<ul>
<li class=""><strong>int</strong> podepsal celé hodnoty s rozsahem -2147483648 až 2147483647.
V jiných systémech se tomu někdy říká int32.
Tomuhle se říká &quot;integer&quot; | číselný (?) &quot; by SQL and &quot;int&quot; by Cassandra.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="uint">uint<a href="#uint" class="hash-link" aria-label="Přímý odkaz nauint" title="Přímý odkaz nauint" translate="no">​</a></h4>
<ul>
<li class=""><strong>uint</strong> má nesignované celočíselné hodnoty s rozsahem 0 až 4294967295.
V jiných systémech se tomu někdy říká uint32.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="long">dlouhé<a href="#long" class="hash-link" aria-label="Přímý odkaz nadlouhé" title="Přímý odkaz nadlouhé" translate="no">​</a></h4>
<ul>
<li class=""><strong>dlouhé</strong> podepsal celé hodnoty s rozsahem -9223372036854775808 až 922337236854775807.
V jiných systémech se tomu někdy říká int64.
Tomuhle se říká &quot;velký | číselný (?) &quot; od SQL a &quot;velký&quot; od Cassandry.
Protože mnoho typů souborů nepodporuje dlouhá data, jejich použití je deprimováno. Pokud je to možné, použijte místo toho dvojité (viz níže) .</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ulong">ulong<a href="#ulong" class="hash-link" aria-label="Přímý odkaz naulong" title="Přímý odkaz naulong" translate="no">​</a></h4>
<ul>
<li class=""><strong>ulong</strong> má nesignované celočíselné hodnoty v rozsahu 0 až 18446740737095516115
V jiných systémech se tomu někdy říká uint64.
Protože mnoho typů souborů nepodporuje ulong data, jejich použití je deprimováno. Pokud je to možné, použijte místo toho dvojité (viz níže) .</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="float">plavat<a href="#float" class="hash-link" aria-label="Přímý odkaz naplavat" title="Přímý odkaz naplavat" translate="no">​</a></h4>
<ul>
<li class=""><strong>plavat</strong> je plovák IEEE 754 s rozsahem přibližně +/- 3.402823466e+38.
V jiných systémech se tomu někdy říká plovák 32.
Tomuhle se říká &quot;skutečná | plavat (?)  | desetinné číslo (?)  | číselný (?) &quot; by SQL and &quot;float&quot; by Cassandra.
Zvláštní hodnota NaN znamená Not-a-Number.
ERDDAP™ převádí kladné a záporné hodnoty nekonečna na NaN.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="double">dvakrát<a href="#double" class="hash-link" aria-label="Přímý odkaz nadvakrát" title="Přímý odkaz nadvakrát" translate="no">​</a></h4>
<ul>
<li class=""><strong>dvakrát</strong> je dvoulůžkový IEEE 754 s rozsahem přibližně
+/- 1,7976931348623157E+308.
V jiných systémech se tomu někdy říká plovák64.
Tomu se říká &quot;dvojitá přesnost.&quot; | plavat (?)  | desetinné číslo (?)  | číselný (?) &quot; by SQL and &quot;double&quot; by Cassandra.
Zvláštní hodnota NaN znamená Not-a-Number.
ERDDAP™ převádí kladné a záporné hodnoty nekonečna na NaN.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="char">char<a href="#char" class="hash-link" aria-label="Přímý odkaz nachar" title="Přímý odkaz nachar" translate="no">​</a></h4>
<ul>
<li class=""><strong>char</strong> je jeden, 2- bajt (16-bit)   <a href="https://en.wikipedia.org/wiki/UTF-16" target="_blank" rel="noopener noreferrer" class="">Unicode UCS-2 znak</a> od \u0000   (# 0) přes \uffff   (#65535) .
\uffff &#x27;je definice není-a-charakter, analogická dvojité hodnotě NaN.
Použití znaku je deprimováno, protože mnoho typů souborů buď nepodporuje chary nebo pouze podporuje 1-bajtové chary (viz níže) . Zvažte místo toho použití Stringu.
Uživatelé mohou použít znakové proměnné k vytváření grafů. ERDDAP™ převést znaky na jejich kódové číslo Unicode, které lze použít jako numerická data.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="string">String<a href="#string" class="hash-link" aria-label="Přímý odkaz naString" title="Přímý odkaz naString" translate="no">​</a></h4>
<ul>
<li class=""><strong>String</strong> je sekvence 0 nebo více, 2-bajt (16-bit)   <a href="https://en.wikipedia.org/wiki/UTF-16" target="_blank" rel="noopener noreferrer" class="">Unicode UCS-2 znaky</a> .
ERDDAP™ používá/vykládá řetězec o délce 0 jako chybějící hodnotu. ERDDAP™ nepodporuje skutečný nulový řetězec.
Teoretická maximální délka řetězce je 2147483647 znaků, ale tam jsou pravděpodobně různé problémy na různých místech i s poněkud kratší Struny.
Použití ERDDAP &#x27;s String for SQL&#x27;s character, varchar, character change, binary, varbinary, interval, pole, multiset, xml, and any other database data type that doesn&#x27;t fit cleanly with any other ERDDAP™ datový typ.
Použití ERDDAP &#x27;s String for Cassandra&#x27;s &quot;text&quot; and any other Cassandra data type that doesn&#x27;t cleanly fit with any other ERDDAP™ datový typ.
 </li>
</ul>
<p>Před ERDDAP™ v2.10, ERDDAP™ nepodporula nepodepsané integer typy interně a nabídla omezenou podporu u svých čtenářů a spisovatelů dat.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="data-type-limitations">Omezení typu údajů<a href="#data-type-limitations" class="hash-link" aria-label="Přímý odkaz naOmezení typu údajů" title="Přímý odkaz naOmezení typu údajů" translate="no">​</a></h3>
<p>Napadá tě ERDDAP™ jako systém, který má virtuální datové soubory a který pracuje čtením dat ze zdroje datového souboru do interního datového modelu a zápisem dat do různých služeb (např.(OPeN)DAP, WMS ) a typy souborů v reakci na požadavky uživatelů.</p>
<ul>
<li class="">Každý vstupní čtečka podporuje podmnožinu datových typů, které ERDDAP™ Podpora. Takže čtení dat do ERDDAP Vnitřní datové struktury nejsou problém.</li>
<li class="">Každý autor výstupu také podporuje podmnožinu datových typů. To je problém, protože ERDDAP musí například zmáčknout dlouhá data do souborů, které nepodporují dlouhá data.
 </li>
</ul>
<p>Níže jsou uvedena vysvětlení omezení (nebo žádný) různých autorů výstupů a jak ERDDAP™ řeší problémy. Tyto komplikace jsou nedílnou součástí ERDDAP &#x27;je cílem učinit rozdílné systémy interoperabilní.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ascii">ASCII<a href="#ascii" class="hash-link" aria-label="Přímý odkaz naASCII" title="Přímý odkaz naASCII" translate="no">​</a></h4>
<ul>
<li class="">ASCII (.csv, .tsv , atd.) textové soubory -<!-- -->
<ul>
<li class="">Všechna numerická data jsou zapsána prostřednictvím svého reprezentace String (s chybějícími datovými hodnotami zobrazenými jako řetězce s délkou 0) .</li>
<li class="">I když ERDDAP™ píše dlouhé a ulong hodnoty správně do ASCII textových souborů, mnoho čtenářů (např. tabulkové programy) nemůže správně řešit dlouhé a ulong hodnoty a místo toho je převést na dvojnásobek hodnot (se ztrátou přesnosti v některých případech) .</li>
<li class="">Char a String data jsou psána přes JSON Strings, které řídí všechny znaky Unicode (zejména &quot;neobvyklé&quot; znaky za ASCII #127, např. znak Euro se jeví jako &quot;\u20ac&quot;) .</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="json">JSON<a href="#json" class="hash-link" aria-label="Přímý odkaz naJSON" title="Přímý odkaz naJSON" translate="no">​</a></h4>
<ul>
<li class="">JSON ( .json , .jsonlCSV , atd.) textové soubory -<!-- -->
<ul>
<li class="">Všechna numerická data se zapisují prostřednictvím reprezentace String.</li>
<li class="">Char a String data jsou zapsána jako JSON Strings, které řídí všechny znaky Unicode (zejména &quot;neobvyklé&quot; znaky za ASCII #127, např. znak Euro se jeví jako &quot;\u20ac&quot;) .</li>
<li class="">Chybějící hodnoty pro všechny numerické datové typy se jeví jako nulové.
 </li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="nc3-files">.nc 3 soubory<a href="#nc3-files" class="hash-link" aria-label="Přímý odkaz na.nc 3 soubory" title="Přímý odkaz na.nc 3 soubory" translate="no">​</a></h4>
<ul>
<li class="">.nc 3 soubory nativní podporu žádné nepodepsané integer datové typy. Před CF v1.9, CF nepodporuje nepodepsané integer typy. Abych se s tím vyrovnal, ERDDAP™ 2.10+ následuje standard NUG a vždy přidá atribut &quot;\_Unsigned&quot; s hodnotou &quot;true&quot; nebo &quot;false&quot; k označení, zda jsou data z nepodepsané nebo podepsané proměnné. Všechny celočíselné atributy jsou zapsány jako podepsané atributy (např. byte) s podepsanými hodnotami (např. ubyte actual\_range atribut s hodnotami 0 až 255, se zobrazí jako atribut byte s hodnotami 0 až -1 (překročení hodnoty komplementu obou hodnot mimo rozsah). Neexistuje žádný jednoduchý způsob, jak zjistit, které (podepsané) celočíselné atributy by se měly číst jako nepodepsané atributy. ERDDAP™ podporuje atribut &quot;\_Unsigned&quot; při čtení .nc 3 složky.</li>
<li class="">.nc 3 soubory nepodporuje dlouhé nebo dlouhé datové typy. ERDDAP™ se s tím vypořádá tím, že je dočasně převede do dvou proměnných. Dvojnásobek může přesně reprezentovat všechny hodnoty do +/- 9,007,199,254,740,992 Což je 2^53. To je nedokonalé řešení. Unidata odmítá provést menší upgrade na .nc 3 řešit tyto a související problémy, citace .nc 4 (velká změna) jako řešení.</li>
<li class="">Specifikace CF (před v1. 9) řekl, že podporuje znak datový typ, ale to není jasné, pokud znak je určen pouze jako stavební bloky char pole, které jsou efektivně Struny. Otázky na jejich mailing list přinesl pouze matoucí odpovědi. Vzhledem k těmto komplikacím, je nejlepší vyhnout se Char proměnné v ERDDAP™ a pokud možno použít String proměnné.</li>
<li class="">Tradičně .nc 3 soubory pouze podporované řetězce s ASCII-kódován (7-bit, #0 - #127) Postavy. NUG (a ERDDAP ) rozšířit, že (začínající ~2017) vložením atributu &quot;\_Encoding&quot; s hodnotou &quot;ISO-8859-1&quot; (rozšíření ASCII, které definuje všech 256 hodnot každého 8-bitového znaku) nebo &quot;UTF-8&quot; k označení toho, jak jsou zakódována String data. Jiné kódování může být legální, ale jsou odrazeni.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="nc4-files">.nc 4 soubory<a href="#nc4-files" class="hash-link" aria-label="Přímý odkaz na.nc 4 soubory" title="Přímý odkaz na.nc 4 soubory" translate="no">​</a></h4>
<ul>
<li class="">.nc 4 soubory podporují všechny ERDDAP &#x27;s datovými typy.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="nccsv-files">NCCSV soubory<a href="#nccsv-files" class="hash-link" aria-label="Přímý odkaz naNCCSV soubory" title="Přímý odkaz naNCCSV soubory" translate="no">​</a></h4>
<p>NCCSV 1.0 soubory nepodporuje žádné nepodepsané celočíselné datové typy.
<a class="" href="/cs/docs/user/nccsv-1.00">NCCSV 1.1+ soubory</a> podporovat všechny nepodepsané integer datové typy.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="dap">DAP<a href="#dap" class="hash-link" aria-label="Přímý odkaz naDAP" title="Přímý odkaz naDAP" translate="no">​</a></h4>
<ul>
<li class="">(OPeN)DAP  (.das, .dds, .asc ASCII soubory, a .dods binární soubory) -<!-- -->
<ul>
<li class="">(OPeN)DAPmá krátké, krátké, int, uint, float a dvojité hodnoty správně.</li>
<li class="">(OPeN)DAPmá &quot;byte&quot; datový typ, který definuje jako nepodepsaný, zatímco historicky THREDDS a ERDDAP™ zacházeli s &quot;byte&quot; jako s podepsanými v jejich(OPeN)DAPslužby. Abych se s tím vyrovnal lépe, ERDDAP™ 2,10+ se řídí normou NUG a vždy přidává atribut &quot;\_Unsigned&quot; s hodnotou &quot;true&quot; nebo &quot;false&quot; k označení, zda data jsou co ERDDAP™ volá byte nebo ubyte. Všechny atributy byte a ubyte jsou zapsány jako atributy &quot;byte&quot; s podepsanými hodnotami (např. ubyte actual\_range atribut s hodnotami 0 až 255, se zobrazí jako atribut byte s hodnotami 0 až -1 (překročení hodnoty komplementu obou hodnot mimo rozsah). Neexistuje jednoduchý způsob, jak zjistit, které atributy &quot;byte&quot; by se měly číst jako atributy ubyte.</li>
<li class="">(OPeN)DAPnepodporuje podepsané nebo nepodepsané longy. ERDDAP™ se s tím vypořádá tím, že je dočasně převede do dvou proměnných a atributů. Dvojnásobek může přesně reprezentovat všechny hodnoty do 9,007,199,254,740,992 Což je 2^53. To je nedokonalé řešení. OPeNDAP   (organizace) odmítá provést menší upgrade na DAP 2.0 řešit tyto a související problémy, citace DAP 4 (velká změna) jako řešení.</li>
<li class="">Protože(OPeN)DAPnemá samostatný znakový datový typ a technicky podporuje pouze 1-bayte ASCII znaky (#0 - #127) v řetězech se proměnné znakových dat zobrazí jako 1-znakové dlouhé řetězce v(OPeN)DAP.das, .dds, a .dods reakce.</li>
<li class="">Technicky vzato,(OPeN)DAPspecifikace podporuje pouze řetězce s ASCII kódovanými znaky (#0 - #127) . NUG (a ERDDAP ) rozšířit, že (začínající ~2017) vložením atributu &quot;\_Encoding&quot; s hodnotou &quot;ISO-8859-1&quot; (rozšíření ASCII, které definuje všech 256 hodnot každého 8-bitového znaku) nebo &quot;UTF-8&quot; k označení toho, jak jsou zakódována String data. Jiné kódování může být legální, ale jsou odrazeni.
 </li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="data-type-comments">Poznámky typu údajů<a href="#data-type-comments" class="hash-link" aria-label="Přímý odkaz naPoznámky typu údajů" title="Přímý odkaz naPoznámky typu údajů" translate="no">​</a></h3>
<ul>
<li class="">Vzhledem k tomu, že špatná podpora pro dlouhé, ulong, a char data v mnoha typech souborů, odrazujeme používání těchto datových typů v ERDDAP . Pokud je to možné, použijte dvojité místo dlouhé a ulong, a použijte String místo char.
 </li>
<li class="">Metadata - protože(OPeN)DAP&#x27;s .das a .dds odpovědi nepodporuje dlouhé nebo dlouhé atributy nebo datové typy (a místo toho jim ukázat jako dvojité) , můžete místo toho použít ERDDAP &#x27;s tabulární reprezentace metadat, jak je vidět v http .../erddap/ <strong>Informace</strong> / * datasetID * .html webová stránka (například: <a href="https://coastwatch.pfeg.noaa.gov/erddap/info/cwwcNDBCMet/index.html" target="_blank" rel="noopener noreferrer" class="">https://coastwatch.pfeg.noaa.gov/erddap/info/cwwcNDBCMet/index.html</a>  )   (které můžete také získat v jiných typech souborů, např. .csv, .htmlTable , .itx , .json , .jsonlCSV1 , .jsonlCSV , .jsonlKVP , .mat , .nc , .nccsv , .tsv , .xhtml ) nebo .nccsv Odpověď na metadata (například: <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/cwwcNDBCMet.nccsvMetadata" target="_blank" rel="noopener noreferrer" class="">https://coastwatch.pfeg.noaa.gov/erddap/tabledap/cwwcNDBCMet.nccsvMetadata</a> i když .nccsv Metadata jsou dostupná pouze pro tabulkové soubory dat) , obojí podporuje všechny datové typy (zejména dlouhé, ulong a char) .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="media-files">Soubory médií<a href="#media-files" class="hash-link" aria-label="Přímý odkaz naSoubory médií" title="Přímý odkaz naSoubory médií" translate="no">​</a></h3>
<p>Ne všechna data jsou pole čísel nebo textu. Některé soubory souborů se skládají z mediálních souborů, jako jsou obrazy, audio a video soubory. ERDDAP™ má některé speciální funkce, které uživatelům usnadní přístup k mediálním souborům. Je to dvoustupňový proces:
 </p>
<ol>
<li class="">Zpřístupněte každý soubor prostřednictvím vlastní URL prostřednictvím systému, který podporuje požadavky na rozsah byte.
Nejjednodušší způsob, jak to udělat, je dát soubory do adresáře, který ERDDAP™ má přístup k. (Pokud jsou v kontejneru jako .zip soubor, rozbalte je, i když možná budete chtít nabídnout .zip soubor také uživatelům.) Tak udělej <a href="#eddtablefromfilenames" class="">EDDTableFromFileNames</a> Soubor dat pro zpřístupnění souborů prostřednictvím ERDDAP™ , zejména prostřednictvím ERDDAP &#x27;s <a href="https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html" target="_blank" rel="noopener noreferrer" class=""> &quot;files&quot; systém</a> .</li>
</ol>
<p>Všechny soubory přístupné prostřednictvím EDDTableFromFileNames a ERDDAP &#x27;s &quot;files&quot; podpora systému <a href="https://en.wikipedia.org/wiki/Byte_serving" target="_blank" rel="noopener noreferrer" class="">požadavky na rozsah byte</a> . Normálně, když klient (Například prohlížeč) se žádost na URL, dostane celý soubor jako odpověď. Ale s žádostí o rozsah byte, žádost určuje rozsah bajtů ze souboru, a server vrací pouze tyto byty. To je zde důležité, protože audio a video přehrávače v prohlížečích fungují pouze v případě, že se k souboru lze dostat prostřednictvím požadavků na rozsah byte.</p>
<p>Nepovinné: Pokud máte více než jeden soubor souborů s přidruženými mediálními soubory, můžete vytvořit pouze jeden EDDTableFromFileNames, který má podsložka pro každou skupinu souborů. Výhodou je, že když chcete přidat nové soubory médií pro nový datový soubor, stačí vytvořit novou složku a vložit soubory do této složky. Složka a soubory budou automaticky přidány do souboru EDDTableFromFileNames.</p>
<ol start="2">
<li class="">Nepovinné: Pokud máte soubor dat, který obsahuje odkazy na soubory médií, přidejte jej do ERDDAP .
Například, můžete mít soubor .csv s řadou pokaždé, když někdo viděl velrybu a sloupec, který obsahuje název souboru obrázku související s tímto pozorováním. Pokud název souboru obrázku je pouze název souboru, např., Img20141024T192403Z, ne úplný URL, pak musíte přidat <a href="#fileaccessbaseurl" class="">souborAccessBase Url a/nebo souborAccessSuffix</a> atributy metadat pro tento účel dataVariable který určuje základní URL a příponu pro tyto názvy souborů. Pokud jste soubory zpřístupnili prostřednictvím EDDTableFromFileNames, URL bude ve formě
<em>baseUrl</em> /erddap/files/ * datasetID * /
Například,</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;fileAccessBaseUrl&quot;&gt;*someBaseURL*&lt;/a&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;fileAccessSuffix&quot;&gt;.png&lt;/a&gt;</span><br></span></code></pre></div></div>
<p>Pokud existuje .zip nebo jiný kontejnerový soubor se všemi mediálními soubory vztahujícími se k datové proměnné, doporučujeme, abyste tento soubor také zpřístupnit uživatelům (Viz krok 1 výše) a pak ji identifikovat pomocí <a href="#fileaccessarchiveurl" class="">souborAccessArchive Url</a> atribut.</p>
<p>\[ Začínáme ERDDAP™ v1. 82 \] Pokud uděláte první krok výše (nebo oba kroky) , pak když uživatel zobrazit ERDDAP™   &quot;files&quot; systém pro tento datový soubor (nebo žádá o zobrazení podmnožiny datového souboru prostřednictvím .htmlTable žádost, pokud jste udělali druhý krok) , ERDDAP™ zobrazí &#x27;?&#x27; ikonu vlevo od názvu souboru. Pokud se uživatel vznáší nad ikonou, uvidí popup zobrazující obraz, nebo audio přehrávač, nebo video přehrávač. Prohlížeče podporují pouze omezený počet typů</p>
<ul>
<li class="">obrázek (obvykle .gif, .jpg, a .png) ,</li>
<li class="">audio (obvykle .mp3, .ogg, a .wav) a</li>
<li class="">video soubory (obvykle .mp4, .ogv, a . webm) .</li>
</ul>
<p>Podpora se liší od různých verzí různých prohlížečů na různých operačních systémech. Takže pokud máte na výběr, který typ souboru nabídnout, dává smysl nabídnout tyto typy.</p>
<p>Nebo pokud uživatel klikne na název souboru zobrazený na ERDDAP™ webová stránka, jejich prohlížeč zobrazí obraz, audio nebo video soubor jako samostatné webové stránky. To je většinou užitečné vidět velmi velký obraz nebo video na celé obrazovce, místo v popup.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="working-with-aws-s3-files">Práce se soubory AWS S3<a href="#working-with-aws-s3-files" class="hash-link" aria-label="Přímý odkaz naPráce se soubory AWS S3" title="Přímý odkaz naPráce se soubory AWS S3" translate="no">​</a></h3>
<p><a href="https://aws.amazon.com" target="_blank" rel="noopener noreferrer" class="">Amazon Web Service (AWS) </a> je prodejcem <a href="https://en.wikipedia.org/wiki/Cloud_computing" target="_blank" rel="noopener noreferrer" class="">cloud computing</a> služby. <a href="https://aws.amazon.com/s3/" target="_blank" rel="noopener noreferrer" class="">S3</a> je systém úložiště objektů nabízený AWS. Místo hierarchického systému adresářů a souborů tradičního souborového systému (jako pevný disk ve vašem počítači) , S3 nabízí jen &quot;kakety,&quot; které drží &quot;objekty&quot; (Zavoláme jim. &quot;files&quot; ) .</p>
<p>Pro soubory ASCII (např. .csv) , ERDDAP™ může pracovat přímo se soubory v kbelících. Jediné, co musíte udělat, je upřesnit&lt;souborDir&gt; pro datový soubor, který používá specifický formát pro kbelík AWS, např.https://<em>bucketName</em>.s3.<em>aws-region</em>.amazonaws.com/<em>subdirectory</em>/. Nepoužívejte&lt;cacheFromUrl&gt; . Podrobnosti viz níže.</p>
<p>Ale pro binární soubory (např. .nc , .grib, .bufr a .hdf soubory) , musíte použít&lt;cacheFromUrl&gt; systém popsaný níže. ERDDAP , netcdf-java (která ERDDAP™ používá pro čtení dat z těchto souborů) , a další vědecký datový software jsou navrženy pro práci se soubory v tradičním souborovém systému, který nabízí <a href="https://en.wikipedia.org/wiki/Block-level_storage" target="_blank" rel="noopener noreferrer" class="">úroveň bloku</a> přístup ke souborům (který umožňuje čtení částí souboru) , ale pouze S3 nabízí <a href="https://en.wikipedia.org/wiki/Block-level_storage" target="_blank" rel="noopener noreferrer" class="">Úroveň souboru (objekt) </a> přístup ke souborům (což umožňuje pouze čtení celého souboru) . AWS nabízí alternativu k S3, <a href="https://aws.amazon.com/ebs/" target="_blank" rel="noopener noreferrer" class="">Elastický blokový obchod (EBS) </a> ), který podporuje přístup k souborům na úrovni bloku, ale je dražší než S3, takže se zřídka používá pro hromadné ukládání velkého množství datových souborů. (Takže když lidé říkají ukládání dat v cloudu (S3) je levné, je to obvykle jablka k pomerančům srovnání.)</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="s3-buckets">Kýble S3<a href="#s3-buckets" class="hash-link" aria-label="Přímý odkaz naKýble S3" title="Přímý odkaz naKýble S3" translate="no">​</a></h4>
<p><strong>Obsah kýblu. Klíče. Objekty, oddělovače.</strong><br>
<!-- -->Technicky S3 kbelíky nejsou organizovány v hierarchické struktuře souborů jako souborový systém na počítači. Místo toho kbelíky obsahují pouze &quot;objekty&quot; (soubory) , každý z nich má &quot;klíč&quot; (jméno) . Příkladem klíče v tomto noaa-goes17 kbelíku je</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ABI-L1b-RadC/2019/235/22/OR\\_ABI-L1b-RadC-M6C01\\_G17\\_s20192352201196\\_e20192352203569\\_c20192352204013.nc</span><br></span></code></pre></div></div>
<p>Odpovídající URL pro tento objekt je</p>
<p><a href="https://noaa-goes17.s3.us-east-1.amazonaws.com/ABI-L1b-RadC/2019/235/22/OR_ABI-L1b-RadC-M6C01_G17_s20192352201196_e20192352203569_c20192352204013.nc" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com/ABI-L1b-RadC/2019/235/22/OR\_ABI-L1b-RadC-M6C01\_G17\_s20192352201196\_e20192352203569\_c20192352204013.nc</a></p>
<p>AWS podporuje malou variaci v tom, jak je tato URL vytvořena, ale ERDDAP™ vyžaduje tento zvláštní formát:
  https://<em>bucketName</em>.s3.<em>region</em>.amazonaws.com/<em>key</em></p>
<p>Od ERDDAP V2.29 můžete nyní použít <code>s3://</code> URI formát místo kbelík URL. Toto je formát používaný <a href="https://docs.aws.amazon.com/cli/latest/reference/s3/" target="_blank" rel="noopener noreferrer" class="">AWS s3 cli</a> .
s3:// <em>kbelík Název</em> / <em>klíč</em></p>
<p>The <em>region</em> pro S3 URI lze určit jedním ze tří způsobů:</p>
<ul>
<li class="">The <em>region</em> v uživateli Tomcat <code>~/.aws/config</code> profil</li>
<li class="">The <code>AWS_DEFAULT_REGION</code> proměnná prostředí</li>
<li class="">The <code>aws.region</code> Proměnná JVM (v setenv.sh pro Tomcat)</li>
</ul>
<p>Je to běžná praxe, stejně jako u tohoto příkladu, aby jména klíčů vypadala jako hierarchická cesta plus název souboru, ale technicky nejsou. Protože je to běžné a užitečné, ERDDAP™ zachází s klíči / je, jako by se jedná o hierarchickou cestu plus název souboru, a tato dokumentace bude odkazovat na ně jako takové. Pokud klíče kbelíku nepoužívají / jsou (např., klíč jako
ABI-Lib.2018.052.22.OR\_ABI-L1b-RadM2-M3C10\_G16\_s201805222475755), poté ERDDAP™ bude celý klíč považovat za dlouhý název souboru.</p>
<p>Soukromé vs veřejné kýble -- Správce kbelíku S3 může učinit kbelík a jeho obsah veřejným nebo soukromým. Pokud je veřejný, jakýkoli soubor v kbelíku může být stažen někým, kdo používá URL pro soubor. Amazon má <a href="https://aws.amazon.com/opendata/" target="_blank" rel="noopener noreferrer" class="">Otevřít data</a> program, který hostí veřejné datové soubory (včetně údajů od NOAA , NASA a USGS) Zdarma a neúčtuje nikomu stáhnout soubory z těchto kbelíků. Pokud je kbelík soukromý, soubory v kbelíku jsou přístupné pouze oprávněným uživatelům a AWS účtuje poplatek (obvykle platí majitel kbelíku) pro stahování souborů do počítače S3. ERDDAP™ může pracovat s daty ve veřejných i soukromých kbelících.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="aws-credentials">AWS oprávnění<a href="#aws-credentials" class="hash-link" aria-label="Přímý odkaz naAWS oprávnění" title="Přímý odkaz naAWS oprávnění" translate="no">​</a></h4>
<p>Aby to tak bylo. ERDDAP™ můžete číst obsah soukromých kbelíků, potřebujete AWS pověřovací listiny a musíte uložit pověřovací soubor na standardní místo, takže ERDDAP™ může najít informace. Viz AWS SDK Java 2.x dokumentace: <a href="https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/setup.html#setup-credentials" target="_blank" rel="noopener noreferrer" class="">Nastavit výchozí akreditivy</a> . (Možnost uložení hodnot jako Java parametry příkazového řádku v \[ tomcat \] /bin/setenv.sh může být dobrá volba.)</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="aws-files">AWS /soubory/<a href="#aws-files" class="hash-link" aria-label="Přímý odkaz naAWS /soubory/" title="Přímý odkaz naAWS /soubory/" translate="no">​</a></h4>
<ul>
<li class="">/soubory/ systém -- The ERDDAP™   <a href="#accessibleviafiles" class="">/soubory/ systém</a> umožňuje uživatelům stáhnout zdrojové soubory pro datový soubor. Doporučujeme zapnout všechny soubory souborů se zdrojovými soubory, protože mnoho uživatelů si chce stáhnout původní zdrojové soubory.<!-- -->
<ul>
<li class="">Pokud jsou soubory v soukromém kbelíku S3, bude žádost uživatele o stažení souboru řešena ERDDAP™ , který přečte data ze souboru a pak je předá uživateli, čímž zvýší zatížení vašeho souboru ERDDAP™ , pomocí příchozí a odchozí šířky pásma, a dělá vás (vá ERDDAP™ Správce) zaplatit poplatek za výstup dat AWS.</li>
<li class="">Pokud jsou soubory ve veřejném kbelíku S3, bude žádost uživatele o stažení souboru přesměrována na URL AWS S3 pro tento soubor, takže data neprojdou ERDDAP™ , tedy snížení zatížení na ERDDAP . A pokud jsou soubory v Amazon Open Data (volný) veřejný kbelík, pak vy (vá ERDDAP™ Správce) nebude muset AWS platit žádný poplatek za přenos dat. Proto je zde velká výhoda, která slouží datům veřejnosti. (ne soukromá) Kbelíky S3 a obrovská výhoda pro podávání dat z Amazon Open Data (volný) Kbelíky.</li>
</ul>
</li>
</ul>
<p>ERDDAP Také podporuje anonymní pověřovací listiny pro veřejné vědro. Chcete-li použít anonymní pověřovací listiny, přidat <code>&lt;useAwsAnonymous&gt; pravda &lt;/useAwsAnonymous&gt;</code> na vaše nastavení.xml.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="custom-s3-endpoints">Vlastní S3 koncové body<a href="#custom-s3-endpoints" class="hash-link" aria-label="Přímý odkaz naVlastní S3 koncové body" title="Přímý odkaz naVlastní S3 koncové body" translate="no">​</a></h4>
<p>Pro S3 kompatibilní úložiště objektů, které Amazon hostí, musíte nastavit <a href="https://docs.aws.amazon.com/sdkref/latest/guide/feature-ss-endpoints.html" target="_blank" rel="noopener noreferrer" class="">endpoint_url</a> spolu s určením vašeho kbelíku/klíče pomocí <code>s3://</code> URI.</p>
<p>The <em>endpoint_url</em> lze určit jedním ze tří způsobů:</p>
<ul>
<li class="">The <em>endpoint_url</em> v uživateli Tomcat <code>~/.aws/config</code> profil</li>
<li class="">The <code>AWS_ENDPOINT_URL</code> proměnná prostředí</li>
<li class="">The <code>aws.endpoint Url</code> Proměnná JVM (v setenv.sh pro Tomcat)</li>
</ul>
<p>Pro úplný seznam konfiguračních proměnných S3, <a href="https://docs.aws.amazon.com/cli/latest/topic/config-vars.html" target="_blank" rel="noopener noreferrer" class="">Viz dokument Amazon</a> .</p>
<p><strong>Vlastní podpisové certifikáty</strong>
U samohostovaných kbelíků S3 budete mít často samopodepsané certifikáty SSL. Pro ERDDAP Chcete-li číst z těchto kbelíků, musíte přidat svůj řetězec certifikátů do JVM svěřenectví v <code>$JAVA_HOME/jre/lib/security/cacerts</code> . Navíc, ERDDAP používá <a href="https://docs.aws.amazon.com/sdkref/latest/guide/common-runtime.html" target="_blank" rel="noopener noreferrer" class="">AWS běžný běh</a> přístup k vědru synchronně. To zvyšuje výkon, ale také vyžaduje, aby vaše auto-podepsané certifikáty se přidají do vašeho OS specifického truststore. Pokud se tomu chcete vyhnout, můžete vyřadit AWS CRT pomocí <code>&lt;useAwsCrt&gt; false &lt;/useAwsCrt&gt;</code> ve vašem nastavení.xml.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="erddap-and-aws-s3-buckets">ERDDAP™ a AWS S3 Kýble<a href="#erddap-and-aws-s3-buckets" class="hash-link" aria-label="Přímý odkaz naERDDAP™ a AWS S3 Kýble" title="Přímý odkaz naERDDAP™ a AWS S3 Kýble" translate="no">​</a></h4>
<p><a href="#erddap-and-aws-s3-buckets" class=""> ** ERDDAP™ a AWS S3 Kýble** </a><br>
<!-- -->Naštěstí, po velkém úsilí, ERDDAP™ má řadu funkcí, které jí umožňují řešit vlastní problémy při práci s blokovým přístupem S3 souborů rozumně účinným způsobem:</p>
<ul>
<li class="">\[ Prohlášení: Práce s kbelíky AWS S3 je spousta práce navíc. AWS je obrovský ekosystém služeb a funkcí. Je toho hodně k učení. Chce to čas a úsilí, ale je to možné. Buď trpělivý a všechno zařídíš. Hledej/pros o pomoc
( <a href="https://aws.amazon.com/documentation/gettingstarted/" target="_blank" rel="noopener noreferrer" class="">AWS dokumentace</a> , webové stránky jako <a href="https://stackoverflow.com/" target="_blank" rel="noopener noreferrer" class="">Přetok zásobníku</a> , a pravidelné
<a class="" href="/cs/docs/intro#support"> ERDDAP™ možnosti podpory</a> Pokud se zasekneš. \]<br>
<!-- --> </li>
<li class="">Může být těžké zjistit strukturu adresáře a jména souborů v kbelíku S3. ERDDAP™ má řešení pro tento problém: EDDTableFromFileNames má speciální <a href="#fromonthefly" class="">\<em>\</em>\*fromOnTheFly</a> možnost, která umožňuje vytvořit soubor EDDTableFromFileNames, který umožňuje uživatelům prohlížet obsah kbelíku S3 (a stahovat soubory) prostřednictvím datového souboru &quot;files&quot; Možnost. Existuje <a href="#viewing-the-contents-of-a-bucket" class="">příklad níže</a> .
 </li>
<li class="">ERDDAP™ může číst data z <a href="#externally-compressed-files" class="">externí komprimované datové soubory</a> , takže je v pořádku, pokud soubory na S3 jsou uloženy jako .gz , .gzip , .bz2 , .Z, nebo jiné typy externě komprimovaných datových souborů, které mohou dramaticky (2 - 20X) snížit náklady na skladování souborů. Často není žádný časový trest za použití externě komprimovaných souborů, protože čas uložen přenosem menšího souboru ze S3 do ERDDAP zhruba bilance času potřebného pro ERDDAP™ aby dekomprimoval soubor. Chcete-li tuto funkci použít, stačí se ujistit, že soubor dat&lt;souborNázevRegex&gt; umožňuje typ komprimovaného souboru (např. přidáním ( |  .gz ) až do konce regexu) .
 </li>
<li class="">Pro nejčastější případ, kde máte ERDDAP™ nainstalován ve vašem PC pro test/vývoj a kde má datový soubor binární datové soubory, které jsou uloženy jako objekty v kbelíku S3, jeden přístup k získání datového souboru v ERDDAP™ je:<!-- -->
<ol>
<li class="">
<p>Vytvořte si adresář ve vašem PC a podržte několik testovacích datových souborů.</p>
</li>
<li class="">
<p>Stáhněte si dva datové soubory ze zdroje do adresáře, který jste právě vytvořili.</p>
</li>
<li class="">
<p>Použití <a href="#generatedatasetsxml" class="">GenerovatDatasetsXml</a> k vytvoření části datasets.xml pro datový soubor založený na dvou místních datových souborech.</p>
</li>
<li class="">
<p>Zkontrolujte, zda soubor údajů funguje podle potřeby <a href="#dasdds" class="">DasDds</a> a/nebo vaše místní ERDDAP .</p>
<p><strong>Následující kroky vytvoří kopii tohoto souboru údajů (který získá data z kbelíku S3) na veřejnosti ERDDAP .</strong></p>
</li>
<li class="">
<p>Kopírovat část datasets.xml pro soubor údajů do souboru datasets.xml pro veřejnost ERDDAP™ To bude sloužit datům.</p>
</li>
<li class="">
<p>Vytvořit adresář na veřejnosti ERDDAP Místní pevný disk, který udrží dočasné soubory. Adresář nebude používat mnoho místa na disku (viz cacheSizeGB níže) .</p>
</li>
<li class="">
<p>Změna hodnoty datového souboru&lt;fileDir&gt; tag tak, že ukazuje na adresář, který jste právě vytvořili (i když je adresář prázdný) .</p>
</li>
<li class="">
<p>Přidat a <a href="#cachefromurl" class="">cacheFromUrl</a> tag, který určuje název kbelíku datového souboru a volitelnou předponu (tj. adresář) v konkrétním <a href="#accessing-files-in-an-aws-s3-bucket" class="">Aws S3 URL formát, který ERDDAP™ vyžaduje</a> .</p>
</li>
<li class="">
<p>Přidat [&lt;cacheSizeGB&gt;] (#Cachefromurl) Označení xml datového souboru (Například 10 je dobrá hodnota pro většinu souborů údajů) říct ERDDAP™ omezit velikost místní cache (tj. nesnažte se skrývat všechny vzdálené soubory) .</p>
</li>
<li class="">
<p>Zjisti, jestli to funguje na veřejnosti. ERDDAP . Všimněte si, že poprvé ERDDAP™ načítá data, bude trvat dlouho načíst, protože ERDDAP™ potřebuje stáhnout a přečíst všechny datové soubory.</p>
</li>
</ol>
</li>
</ul>
<p>Pokud je datový soubor obrovskou sbírkou rozsáhlých datových souborů, bude to trvat velmi dlouho a bude to nepraktické. V některých případech, pro mřížkované datové soubory, ERDDAP™ může extrahovat potřebné informace (např. časový bod pro data v datovém souboru s mřížkou) ze jména souboru a vyhnout se tomuto problému. Viz <a href="#aggregation-via-file-names-or-global-metadata" class="">Agregace prostřednictvím Název souboru</a> .</p>
<ol start="11">
<li class="">Volitelně (ale zejména pro datové soubory EDDTableFromFoles) , můžete přidat <a href="#nthreads" class="">nThreads</a> tag k datovému souboru ERDDAP použít více než 1 vlákno při reakci na požadavek uživatele na data. To minimalizuje účinky zpoždění, které nastane, když ERDDAP™ čte datové soubory z (vzdálený) AWS S3 kbelíky do místní cache a (Možná.) Dekomprese.</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="aws-s3-open-data">AWS S3 Otevřít data<a href="#aws-s3-open-data" class="hash-link" aria-label="Přímý odkaz naAWS S3 Otevřít data" title="Přímý odkaz naAWS S3 Otevřít data" translate="no">​</a></h4>
<p>V rámci NOAA &#x27;s <a href="https://www.noaa.gov/nodd/about" target="_blank" rel="noopener noreferrer" class="">Velký datový program</a> , NOAA má partnerství s pěti organizacemi, včetně AWS, &quot;k prozkoumání možných výhod uložení kopií klíčových pozorování a výstupů modelu v Cloudu, aby bylo možné počítat přímo na datech bez nutnosti dalšího šíření.&quot; AWS zahrnuje soubory, ze kterých pochází NOAA jako součást svého programu nabídnout veřejnosti přístup k velké kolekci <a href="https://registry.opendata.aws/" target="_blank" rel="noopener noreferrer" class="">Otevřít data o AWS S3</a> z jakéhokoli počítače, zda se jedná o Amazon Compute instance (pronajatý počítač) na síti AWS nebo vlastním počítači v jakékoliv síti. Níže uvedený příklad předpokládá, že pracujete s veřejně přístupným datovým souborem.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="accessing-files-in-an-aws-s3-bucket">Přístup k souborům v AWS S3 Bucket<a href="#accessing-files-in-an-aws-s3-bucket" class="hash-link" aria-label="Přímý odkaz naPřístup k souborům v AWS S3 Bucket" title="Přímý odkaz naPřístup k souborům v AWS S3 Bucket" translate="no">​</a></h4>
<p>Pro soukromý datový kbelík S3 vám majitel kbelíku musí dát přístup k vědru. (Viz dokument AWS.)</p>
<p>Ve všech případech budete potřebovat účet AWS, protože AWS SDK pro Java   (která ERDDAP™ používá k získávání informací o obsahu vědra) vyžaduje oprávnění AWS účtu. (více v tomto níže)</p>
<p>ERDDAP™ přístup k kbelíkům AWS S3 pouze pokud zadáte [&lt;cacheFromUrl&gt;] (#Cachefromurl) (nebo&lt;souborDir&gt;) ve zvláštním formátu:
https://<em>bucketName</em>.s3.<em>aws-region</em>.amazonaws.com/<em>prefix/</em><br>
<!-- -->kde</p>
<ul>
<li class="">KbelíkJméno je krátká forma jména kbelíku, např. noaa-goes17 .</li>
<li class="">Oblast Aws, např. us-east-1, je ze sloupce &quot;Region&quot; v jedné z tabulek <a href="https://docs.aws.amazon.com/general/latest/gr/rande.html" target="_blank" rel="noopener noreferrer" class="">Konec služby AWS</a> kde je kbelík skutečně umístěn.</li>
<li class="">Předpona je volitelná. Pokud je přítomen, musí skončit &#x27;/&#x27; .</li>
</ul>
<p>Například,<a href="https://noaa-goes17.s3.us-east-1.amazonaws.com/ABI-L1b-RadC/" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com/ABI-L1b-RadC/</a><br>
<!-- -->Tento formát URL je jedním z doporučení AWS S3: viz <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html" target="_blank" rel="noopener noreferrer" class="">Přístup k kýblu</a> a <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/ListingKeysHierarchy.html" target="_blank" rel="noopener noreferrer" class="">popis předpon</a> . ERDDAP™ vyžaduje, abyste spojili kbelík URL a volitelný prefix do jedné URL, aby bylo možné určit&lt;cacheFromUrl&gt; (nebo&lt;fileDir&gt;) kde jsou soubory umístěny.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="test-public-aws-s3-buckets">Testování veřejných AWS S3 Kýble<a href="#test-public-aws-s3-buckets" class="hash-link" aria-label="Přímý odkaz naTestování veřejných AWS S3 Kýble" title="Přímý odkaz naTestování veřejných AWS S3 Kýble" translate="no">​</a></h4>
<p>Pro veřejné kbelíky můžete a měli byste otestovat kbelík URL adresáře AWS S3 ve vašem prohlížeči, např.
<a href="https://noaa-goes17.s3.us-east-1.amazonaws.com" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com</a> Pokud je kbelík URL správný a vhodný pro ERDDAP , vrátí XML dokument, který má (částečný) seznam obsahu toho vědra. Bohužel, celá URL (tj. kbelík URL plus předpona) že ERDDAP™ nefunguje v prohlížeči. AWS nenabízí systém prohlížení hierarchie kbelíku snadno ve vašem prohlížeči. (Pokud je to špatně, pošlete prosím Chrisovi email. John v Noaa.gov. Jinak, Amazone, prosím přidejte podporu!)</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="viewing-the-contents-of-a-bucket">Zobrazení obsahu kýblu<a href="#viewing-the-contents-of-a-bucket" class="hash-link" aria-label="Přímý odkaz naZobrazení obsahu kýblu" title="Přímý odkaz naZobrazení obsahu kýblu" translate="no">​</a></h4>
<p>Kbelíky S3 často obsahují několik kategorií souborů, v několika pseudo podadresářů, které by se mohly stát pár ERDDAP™ Data. Aby se ERDDAP™ Soubory dat, musíte znát výchozí adresář pro&lt;cacheFromUrl&gt; (nebo&lt;fileDir&gt;) a formát názvů souborů, které tuto podmnožinu souborů identifikují. Pokud se pokusíte zobrazit celý obsah kbelíku v prohlížeči, S3 vám ukáže prvních 1000 souborů, což je nedostatečné. V současné době, nejlepší způsob, jak si prohlédnout veškerý obsah kbelíku je vytvořit <a href="#eddtablefromfilenames" class="">EDDTableFromFileNames</a> Soubor údajů (na počítači. ERDDAP™ a/nebo na veřejnosti ERDDAP ) , který vám také dává snadný způsob, jak procházet strukturu adresáře a stahovat soubory. The&lt;souborDir&gt; pro to bude URL, které jste vytvořili výše, např.,<a href="https://noaa-goes17.s3.us-east-1.amazonaws.com" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com</a>. \[ Proč AWS S3 nenabízí rychlý a snadný způsob, jak to udělat bez účtu AWS? \] Všimněte si, že když tohle dělám na svém počítači v neamazonské síti, zdá se, že Amazon zpomaluje reakci na trik. (asi 100 (?) Soubory za kus) po prvních několika útržcích (1000 souborů za kus) jsou staženy. Vzhledem k tomu, kbelíky mohou mít obrovské množství souborů (Noaa-goes17 má 26 milionů) , získání všech obsahů kbelíku může trvat EDDTableFromFileJména několik hodin (např. 12!) do konce. \[ Amazonka, je to tak? \]</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="making-an-eddtablefromfilenames-dataset-with-an-aws-s3-bucket">Vytvářet graf ZFileNames Dataset s AWS S3 Bucket<a href="#making-an-eddtablefromfilenames-dataset-with-an-aws-s3-bucket" class="hash-link" aria-label="Přímý odkaz naVytvářet graf ZFileNames Dataset s AWS S3 Bucket" title="Přímý odkaz naVytvářet graf ZFileNames Dataset s AWS S3 Bucket" translate="no">​</a></h4>
<p>Pokud máte jméno kbelíku, ale již nemáte seznam souborů v kbelíku S3 nebo předponu, která identifikuje umístění příslušných souborů v kbelíku, použijte níže uvedené pokyny k vytvoření souboru EDDTableFromFileNames, abyste mohli procházet hierarchii adresáře kbelíku S3 prostřednictvím ERDDAP &#x27;s &quot;files&quot; systém.</p>
<ol>
<li class="">Otevřít účet AWS
ERDDAP™ používá <a href="https://docs.aws.amazon.com/sdk-for-java/index.html" target="_blank" rel="noopener noreferrer" class="">AWS SDK pro Java </a> získat informace o vědě od AWS, takže musíte <a href="https://aws.amazon.com/premiumsupport/knowledge-center/create-and-activate-aws-account/" target="_blank" rel="noopener noreferrer" class="">vytvořit a aktivovat účet AWS</a> . To je docela velká práce, se spoustou věcí, které se musíš naučit.
 </li>
<li class="">Dejte své AWS oprávnění kam ERDDAP™ může je najít.
Postupujte podle pokynů <a href="https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/setup.html#setup-credentials" target="_blank" rel="noopener noreferrer" class="">Nastavit AWS Credentials a Region for Development</a> tak ERDDAP™   (Konkrétně AWS SDK Java ) bude moci najít a použít vaše AWS pověření. Pokud ERDDAP™ Nemůžete najít doklady, uvidíte
Java.lang. IlegálníHargument Výjimkou: profilový soubor nemůže být chybou v ERDDAP &#x27;s log.txt soubor.</li>
</ol>
<p>Tip pro Linux a Mac OS: pověřovací soubor musí být v domovském adresáři uživatele, který spouští Tomcat (a ERDDAP )   (pro tento odstavec, budeme předpokládat user=tomcat) ve složce zvané ~/.aws/credentials . Nepředpokládejte, že ~ je /home/tomcat -- vlastně použít cd ~ zjistit, kde operační systém myslí ~ pro uživatele=tomcat je. Vytvořte adresář, pokud neexistuje. Dále, poté, co umístíte pověřovací soubor na místo, ujistěte se, že uživatel a skupina pro soubor jsou tomcat a pak použít Chmod 400 pověřovacích listin, aby se ujistil, že soubor je čten pouze pro uživatele=tomcat.</p>
<ol start="3">
<li class="">Vytvořit kbelík URL v <a href="#accessing-files-in-an-aws-s3-bucket" class="">formát, který ERDDAP™ vyžaduje</a> např.
<a href="https://noaa-goes17.s3.us-east-1.amazonaws.com" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com</a> a (pro veřejné vědro) otestujte jej v prohlížeči, aby se ujistil, že vrátí XML dokument, který má částečný seznam obsahu tohoto kbelíku.
 </li>
<li class="">Použití <a href="#generatedatasetsxml" class="">GenerovatDatasetsXml</a> vytvořit <a href="#eddtablefromfilenames" class="">EDDTableFromFileNames</a> Soubor údajů:<!-- -->
<ul>
<li class="">Pro úvodní adresář použijte tuto syntaxi:
\<em>\</em>\ <em>z OnTheFly,</em> Vaše BucketUrl*
například:
\<em>\</em>\* from OnThe Fly,<a href="https://noaa-goes17.s3.us-east-1.amazonaws.com/" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com/</a></li>
<li class="">Jméno souboru regex? .\*</li>
<li class="">Rekurzivní? pravda</li>
<li class="">reload Každý NMinutes? 10080</li>
<li class="">infoUrl ?<a href="https://registry.opendata.aws/noaa-goes/" target="_blank" rel="noopener noreferrer" class="">https://registry.opendata.aws/noaa-goes/</a></li>
<li class="">Instituce? NOAA</li>
<li class="">Shrnutí? Nic. ( ERDDAP™ automaticky vytvoří slušné shrnutí.)</li>
<li class="">Název? Nic. ( ERDDAP™ automaticky vytvoří slušný název.) Jako obvykle byste měli editovat výsledný XML pro ověření správnosti a provést vylepšení před částí souborů, které jej používají v datasets.xml .</li>
</ul>
</li>
<li class="">Pokud budete postupovat podle výše uvedených pokynů a načíst soubor údajů v ERDDAP , jste vytvořili EDDTableFromFoles soubor. Jako příklad, a aby bylo pro každého jednodušší procházet a stahovat soubory z kbelíků AWS Open Data, jsme vytvořili soubory EDDTableFromFileNames (viz seznam na
<a href="https://upwell.pfeg.noaa.gov/erddap/search/index.html?searchFor=awsS3Files_" target="_blank" rel="noopener noreferrer" class="">https://upwell.pfeg.noaa.gov/erddap/search/index.html?searchFor=awsS3Files\_</a> ) pro téměř všechny <a href="https://registry.opendata.aws/" target="_blank" rel="noopener noreferrer" class="">AWS S3 Otevřít datové vědro</a> .
\[ Pár kýblů, které jsme do kořenového adresáře nezahrnuli. (více než lze stáhnout v přiměřeném čase) , nebo nedovolují přístup veřejnosti (Neměly by být všechny veřejné?) , nebo jsou kbelíky Requester Pays (např. Sentinel) . \]<br>
<!-- -->Pokud kliknete na &quot;files&quot; odkaz na jeden z těchto souborů, můžete procházet adresář strom a soubory v tomto S3 kbelíku. Kvůli cestě\<em>\</em>\*fromOnTheFly EDDTableFromFiles funguje, tyto seznamy adresářů jsou vždy dokonale aktuální, protože ERDDAP™ Dostane je do letadla. Pokud kliknete na strom adresáře na aktuální název souboru a kliknete na název souboru, ERDDAP™ přesměruje váš požadavek na AWS S3 tak, abyste mohli soubor stáhnout přímo z AWS. Pak si můžete ten soubor prohlédnout.</li>
</ol>
<p>Problémy?
Pokud váš EDDTableFromFoles nenačte do ERDDAP™   (nebo DasDds) , podívejte se do souboru log.txt pro chybovou zprávu. Pokud uvidíte
Java.lang. NelegálníHargumentVýjimka: profilový soubor nemůže být chybou nula, problém je, že AWS SDK pro Java   (používaný ERDDAP ) Nenašel jsem tu složku. Viz pokyny výše.
 </p>
<p>Je nešťastné, že AWS nedovoluje lidem, aby prohlížečem prohlíželi obsah veřejného kbelíku.</p>
<p><strong>Pak můžete udělat ERDDAP™ data, která uživatelům umožňují přístup k datům v souborech.</strong><br>
<!-- -->Viz pokyny v <a href="#erddap-and-aws-s3-buckets" class=""> ERDDAP™ a S3 kýbly</a>   (nad) .
Pro vzorek EDDTableFromFileNames soubor, který jste vytvořili výše, pokud uděláte trochu pošťouchání kolem adresáře a názvy souborů ve stromu adresáře, je jasné, že jména adresářů nejvyšší úrovně (např. ABI-L1b-RadC) odpovídá tomu, co ERDDAP™ Volal bych samostatné soubory dat. Kbelík, se kterým pracujete, může být podobný. Pak byste mohli pokračovat v vytváření samostatných souborů v ERDDAP™ pro každý z těchto souborů údajů, např.
<a href="https://noaa-goes17.s3.us-east-1.amazonaws.com/ABI-L1b-RadC/" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com/ABI-L1b-RadC/</a><br>
<!-- -->jako&lt;cacheFromUrl&gt;. Bohužel, pro tento konkrétní příklad, soubory údajů v kbelíku se zdá být úroveň 1 nebo úroveň 2 soubory údajů, které ERDDAP™   <a href="#dimensions" class="">není moc dobrý v</a> , protože datový soubor je složitější sběr proměnných, které používají různé rozměry.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ncml-files">NcML soubory<a href="#ncml-files" class="hash-link" aria-label="Přímý odkaz naNcML soubory" title="Přímý odkaz naNcML soubory" translate="no">​</a></h3>
<p>NcML soubory vám umožní zadat změny při letu na jeden nebo více původních zdrojů NetCDF   (V3 nebo v4)   .nc , .grib, .bufr, nebo .hdf   (v4 nebo v5) soubory, a pak mít ERDDAP™ Léčba .nc ml soubory jako zdrojové soubory. ERDDAP™ Soubory budou akceptovat .nc ml soubory kdykoliv .nc Soubory se očekávají. NcML soubory musí mít rozšíření .nc ml. Viz <a href="https://docs.unidata.ucar.edu/netcdf-java/current/userguide/ncml_overview.html" target="_blank" rel="noopener noreferrer" class=""> Unidata Dokumentace NcML</a> . NcML je užitečné, protože můžete udělat některé věci s ním (například provádět různé změny různých souborů ve sbírce, včetně přidání rozměru se specifickou hodnotou do souboru) , že nemůžete dělat s ERDDAP &#x27;s datasets.xml .</p>
<ul>
<li class="">Změny .nc ml souboru posledníModifikovaný čas způsobí, že soubor bude znovu načten, kdykoli je soubor znovu načten, ale změny v podkladovém souboru .nc Datové soubory nebudou přímo zaznamenány.</li>
<li class="">Tip: NcML\*velmi\*citlivé na pořadí některých položek v NcML souboru. Myslete na NcML jako upřesnění řady pokynů v uvedeném pořadí, se záměrem změnit zdrojové soubory (stav na začátku/nahoře souboru NcML) do cílových souborů (stav na konci/podmínce souboru NcML) .</li>
</ul>
<p>Alternativou k NcML je <a href="#netcdf-operators-nco" class=""> NetCDF Provozovatelé ( NCO ) </a> . Velký rozdíl je v tom, že NcML je systém pro provádění změn při letu (takže zdrojové soubory nejsou změněny) , vzhledem k těmto důvodům: NCO lze použít k provedení změn (nebo nové verze) Složky. Oba NCO a NcML jsou velmi, velmi flexibilní a umožňují vám udělat téměř jakoukoli změnu můžete myslet na soubory. Pro oba, může být náročné přijít na to, jak přesně dělat to, co chcete dělat - zkontrolujte web pro podobné příklady. Oba jsou užitečné nástroje pro přípravu netCDF a HDF soubory pro použití s ERDDAP , zejména k provedení změn nad rámec toho, co ERDDAP Manipulační systém to zvládne.</p>
<p>Příklad #1: Přidání rozměru času s jednou hodnotou
Tady je. .nc ml soubor, který vytváří nový vnější rozměr (čas, s 1 hodnotou: 1041379200) a přidá tento rozměr do proměnné pic v souboru s názvem A2003001.L3m\_DAY\_PIC\_pic\_4km .nc :</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;netcdf xmlns=&#x27;https://www.unidata.ucar.edu/namespaces/netcdf/ncml-2.2&#x27;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;variable name=&#x27;time&#x27; type=&#x27;int&#x27; shape=&#x27;time&#x27; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;aggregation dimName=&#x27;time&#x27; type=&#x27;joinNew&#x27;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;variableAgg name=&#x27;pic&#x27;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;netcdf location=&#x27;A2003001.L3m\\_DAY\\_PIC\\_pic\\_4km.nc&#x27; coordValue=&#x27;1041379200&#x27;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/aggregation&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/netcdf&gt;</span><br></span></code></pre></div></div>
<p>Příklad #2: Změna stávající hodnoty času
Někdy zdroj .nc soubor již má časový rozměr a časovou hodnotu, ale hodnota je nesprávná (pro vaše účely) . Tohle .nc ml soubor říká: pro datový soubor s názvem &quot;&quot;19810825230030-NCEI...&quot; pro rozměr proměnné &quot;time&quot; , nastavit jednotky atribut být &#x27;sekundy od 1970-01-01T00:00:00Z&#x27; a nastavit časovou hodnotu 367588800.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;netcdf xmlns=&#x27;https://www.unidata.ucar.edu/namespaces/netcdf/ncml-2.2&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      location=&quot;19810825230030-NCEI-L3C\\_GHRSST-SSTskin-AVHRR\\_Pathfinder-PFV5.3\\_NOAA07\\_G\\_1981237\\_day-v02.0-fv01.0.nc&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;variable name=&quot;time&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;attribute name=&#x27;units&#x27; value=&#x27;seconds since 1970-01-01T00:00:00Z&#x27; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;values&gt;367588800&lt;/values&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/variable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/netcdf&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="netcdf-operators-nco">NetCDF Provozovatelé ( NCO )<a href="#netcdf-operators-nco" class="hash-link" aria-label="Přímý odkaz naNetCDF Provozovatelé ( NCO )" title="Přímý odkaz naNetCDF Provozovatelé ( NCO )" translate="no">​</a></h3>
<p>&quot;NetCDF operátori ( NCO ) se skládá z tuctu samostatných, příkazových programů, které berou netCDF \[ V3 nebo v4 \] , HDF   \[ v4 nebo v5 \] , \[ .grib, .bufr, \] nebo DAP soubory jako vstup, pak fungovat (Například odvození nových dat, výpočetní statistiky, tisk, hyperslab, manipulace metadat) a výstup výsledků na obrazovku nebo soubory v textových, binárních nebo netCDF formátech. NCO Asistence analýzy mřížkovaných vědeckých údajů. Shell-command style NCO umožňuje uživatelům interaktivně manipulovat a analyzovat soubory nebo s expresivními skripty, které se vyvarují nadbytku vyšších úrovní programovacích prostředí.&quot; (z <a href="https://nco.sourceforge.net/" target="_blank" rel="noopener noreferrer" class=""> NCO </a> domovská stránka) .</p>
<p>Alternativa k NCO je <a href="#ncml-files" class="">NcML</a> . Velký rozdíl je v tom, že NcML je systém pro provádění změn při letu (takže zdrojové soubory nejsou změněny) , vzhledem k těmto důvodům: NCO lze použít k provedení změn (nebo nové verze) Složky. Oba NCO a NcML jsou velmi, velmi flexibilní a umožňují vám udělat téměř jakoukoli změnu můžete myslet na soubory. Pro oba, může být náročné přijít na to, jak přesně dělat to, co chcete dělat - zkontrolujte web pro podobné příklady. Oba jsou užitečné nástroje pro přípravu netCDF a HDF soubory pro použití s ERDDAP , zejména k provedení změn nad rámec toho, co ERDDAP Manipulační systém to zvládne.</p>
<p>Můžete například použít NCO aby jednotky časové proměnné byly konzistentní ve skupině souborů, kde původně nebyly konzistentní. Nebo můžete použít NCO uplatnit scale\_factor a add\_offset ve skupině souborů, kde scale\_factor a add\_offset mají různé hodnoty v různých zdrojových souborech.
(Nebo se nyní můžete vypořádat s těmito problémy v ERDDAP™ přes <a href="#eddgridfromncfilesunpacked" class=""> EDDGrid FromNcFilesUnpacked</a> , což je varianta EDDGrid FromNcFiles, které rozebírá zabalená data a standardizuje časové hodnoty na nízké úrovni, aby se mohly zabývat soubory sběru, které mají různé scale\_factor s a add\_offset , nebo jiné časové jednotky.)</p>
<p>NCO je svobodný a otevřený zdroj software, který používá <a href="https://www.gnu.org/licenses/gpl-3.0.html" target="_blank" rel="noopener noreferrer" class="">GPL 3. 0</a> Řidičák.</p>
<p>Příklad #1: Udělat jednotky konzistentní
EDDGrid FromFiles a EDDTable Ze souborů trvají na tom, že jednotky dané proměnné jsou totožné ve všech souborech. Pokud některé soubory jsou triviálně (ne funkčně) jiné než jiné (např. časové jednotky
&quot;sekundy od 1970-01-01 00:00:00 UTC&quot; versus
&quot;seconds since 1970-01-01T00:00:00Z&quot; , můžete použít NCO &#x27;s <a href="https://nco.sourceforge.net/nco.html#ncatted-netCDF-Attribute-Editor" target="_blank" rel="noopener noreferrer" class="">ncatted</a> . změnit jednotky ve všech souborech být totožné s
nco/ncatted -a jednotky,time,o,c,&#x27;sekundy od 1970-01-01T00:00:00Z&#x27; \* .nc<br>
<!-- -->\[ Pro mnoho problémů, jako je tento v EDDTableFrom... Soubory souborů, nyní můžete použít <a href="#standardizewhat" class="">standardizovat Co?</a> říct ERDDAP standardizovat zdrojové soubory, jak jsou čteny do ERDDAP . \]</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="limits-to-the-size-of-a-dataset">Limity velikosti datové sady<a href="#limits-to-the-size-of-a-dataset" class="hash-link" aria-label="Přímý odkaz naLimity velikosti datové sady" title="Přímý odkaz naLimity velikosti datové sady" translate="no">​</a></h3>
<p>Uvidíte mnoho odkazů na &quot;2 miliardy&quot; níže. Přesněji řečeno, to je odkaz na 2.147, Praha4647 (2^31-1) , což je maximální hodnota 32-bit podepsané celé číslo. Například v některých počítačových jazycích Java   (která ERDDAP™ je napsáno) , že je největší datový typ, který lze použít pro mnoho datových struktur (například velikost pole) .</p>
<p>Pro hodnoty řetězce (například pro názvy proměnných, názvy atributů, hodnoty atributů String a hodnoty dat String) , maximální počet znaků na String ERDDAP™ 2 miliardy. Ale téměř ve všech případech, tam budou malé nebo velké problémy, pokud String přesahuje rozumnou velikost (např. 80 znaků pro názvy proměnných a názvy atributů a 255 znaků pro většinu hodnot atributu String a hodnot dat) . Například webové stránky, které zobrazují dlouhé názvy proměnných, budou trapně široké a dlouhé názvy proměnných seškrtány, pokud překročí limit typu souboru odezvy.</p>
<p>U mřížkovaných souborů údajů:</p>
<ul>
<li class="">Maximální počet axisVariable Je to 2 miliardy.
Maximální počet dataVariable Je to 2 miliardy.
Ale pokud má datový soubor &gt;100 proměnných, bude to obtížné pro uživatele používat.
A pokud má datový soubor více než 1 milion proměnných, bude váš server potřebovat mnoho fyzické paměti a budou zde další problémy.</li>
<li class="">Maximální velikost každého rozměru ( axisVariable ) je ~2 miliardy hodnot.</li>
<li class="">Myslím, že maximální celkový počet buněk (produkt všech rozměrů) je neomezené, ale může to být ~9e18.</li>
</ul>
<p>U tabulkových souborů:</p>
<ul>
<li class="">Maximální počet dataVariable Je to 2 miliardy.
Ale pokud má datový soubor &gt;100 proměnných, bude to obtížné pro uživatele používat.
A pokud má datový soubor více než 1 milion proměnných, bude váš server potřebovat mnoho fyzické paměti a budou zde další problémy.</li>
<li class="">Maximální počet zdrojů (například soubory) To se dá shrnout na ~2 miliardy.</li>
<li class="">V některých případech maximální počet řádků z jednotlivého zdroje (například soubor, ale ne databáze) je ~2 miliardy řad.</li>
<li class="">Nemyslím si, že existují jiné hranice.</li>
</ul>
<p>U roštových i tabulárních souborů existují určité interní limity velikosti podmnožiny, které může uživatel požadovat v jediné žádosti (často související s &gt;2 miliardy něčeho nebo ~9e18 něčeho) , ale je mnohem pravděpodobnější, že uživatel narazí na limit pro daný typ souboru.</p>
<ul>
<li class="">NetCDF verze 3 .nc soubory jsou omezeny na 2GB bajty. (Pokud je to pro někoho opravdu problém, dejte mi vědět: Mohl bych přidat podporu pro NetCDF verze 3 .nc 64-bitové rozšíření nebo NetCDF Verze 4, která by výrazně zvýšila limit, ale ne nekonečně.)</li>
<li class="">Prohlížeče havarovat pouze po ~500MB dat, takže ERDDAP™ omezuje odpověď na .htmlTable požaduje ~400MB dat.</li>
<li class="">Mnoho programů analýzy dat má podobné limity (Například, maximální velikost rozměru je často ~2 miliardy hodnot) , takže není důvod tvrdě pracovat, aby se dostali kolem omezení typu souboru.</li>
<li class="">Limity specifické pro daný soubor jsou užitečné v tom, že brání naivním žádostem o skutečně obrovské množství údajů (Například &quot;dejte mi celý tento soubor údajů,&quot; když má datový soubor 20TB dat) , které by trvalo týdny nebo měsíce ke stažení. Čím delší bude stahování, tím pravděpodobněji selže z různých důvodů.</li>
<li class="">Limity specifické pro daný soubor jsou užitečné v tom, že přinutí uživatele zabývat se přiměřeně velkými podskupinami (např. řešení velkého mřížkovaného datového souboru prostřednictvím souborů s daty z jednoho časového bodu) .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="switch-to-acdd-13">Přepnout na ACDD-1.3<a href="#switch-to-acdd-13" class="hash-link" aria-label="Přímý odkaz naPřepnout na ACDD-1.3" title="Přímý odkaz naPřepnout na ACDD-1.3" translate="no">​</a></h3>
<p>My (zejména <a href="#generatedatasetsxml" class="">GenerovatDatasetsXml</a> ) v současné době doporučujeme <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD verze 1.3</a> , která byla ratifikována na počátku roku 2015 a která je v atributu globálních úmluv označována jako &quot;ACDD-1.3.&quot; Před ERDDAP™ verze 1.62 (vydané v červnu 2015) , ERDDAP™ použitý/doporučený originál, verze 1.0, <a href="https://wiki.esipfed.org/ArchivalCopyOfVersion1" target="_blank" rel="noopener noreferrer" class=""> NetCDF Atributová úmluva pro Discovery datových souborů</a> který byl označován jako &quot; Unidata Dataset Discovery v1.0&quot; v globálních úmluvách a Metadata\_Conventions atributy.</p>
<p>Pokud vaše datové soubory používají dřívější verze ACDD, DOPORUČUJEme, že přepnete na ACDD-1.3. Není to těžké. ACDD-1.3 je vysoce zpětně kompatibilní s verzí 1.0. Přepnout pro všechny soubory dat (kromě EDDGrid OdErddap a EDDTable Z dat Erddapu) :</p>
<ol>
<li class="">Odstranit nově deprecovaný globální Metadata\_Conventions atribut přidáním (nebo změnou existujícího Metadata\_Conventions atribut)</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;Metadata\\_Conventions&quot;&gt;null&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>do globálního souboru údajů&lt; addAttributes &gt;.
 
2. Pokud má datový soubor atribut Konvence v globálním měřítku&lt; addAttributes &gt;, změnit vše &quot; Unidata Dataset Discovery v1.0&quot; reference na &quot;ACDD-1.3.&quot;
Pokud datový soubor nemá atribut Conventions v globálním měřítku&lt; addAttributes &gt;, pak přidat jeden, který odkazuje na ACDD-1.3. Například,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;Conventions&quot;&gt;COARDS, CF-1.6, ACDD-1.3&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p> 
3. Pokud má datový soubor globální standard\_name\_vocabulary atribut, prosím změňte formát hodnoty například na:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;standard\\_name\\_vocabulary&quot;&gt;CF Standard Name Table v65&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Pokud je odkaz na starší verzi <a href="https://cfconventions.org/Data/cf-standard-names/current/build/cf-standard-name-table.html" target="_blank" rel="noopener noreferrer" class="">Standardní tabulka názvu CF</a> . je pravděpodobně dobrý nápad přejít na aktuální verzi (65, jak to píšeme) , Vzhledem k tomu, že nové standardní názvy jsou přidány do této tabulky s následnými verzemi, ale staré standardní názvy jsou zřídka deprekovány a nikdy odstraněny.
 
4. I když ACDD-1.0 zahrnoval globální atributy pro creator\_name , creator\_email , creator\_url , <a href="#generatedatasetsxml" class="">GenerovatDatasetsXml</a> automaticky je přidal až někdy kolem ERDDAP™ v1.50. Jedná se o důležité informace:</p>
<ul>
<li class="">creator\_name dává uživatelům vědět / citovat tvůrce datového souboru.</li>
<li class="">creator\_email sdělí uživatelům preferovanou e-mailovou adresu pro kontaktování tvůrce datového souboru, například pokud mají otázky týkající se datového souboru.</li>
<li class="">creator\_url dává uživatelům způsob, jak zjistit více o tvůrce.</li>
<li class="">ERDDAP™ všechny tyto informace využívá při vytváření dokumentů o metadatech FGDC a ISO 19115-2/19139 pro každý datový soubor. Tyto dokumenty často používají externí vyhledávací služby.</li>
</ul>
<p>Přidejte prosím tyto atributy do globálního souboru dat&lt; addAttributes &gt;.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;creator\\_name&quot;&gt;NOAA NMFS SWFSC ERD&lt;/att&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;creator\\_email&quot;&gt;erd.data@noaa.gov&lt;/att&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;creator\\_url&quot;&gt;https://www.pfeg.noaa.gov&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>To je ono. Doufám, že to nebylo tak těžké.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="zarr">Zarr<a href="#zarr" class="hash-link" aria-label="Přímý odkaz naZarr" title="Přímý odkaz naZarr" translate="no">​</a></h3>
<p>Od verze 2.25 ERDDAP™ může číst místní Zarr soubory pomocí <a href="#eddtablefromncfiles" class="">EDDTableFromNcFiles</a> a <a href="#eddgridfromncfiles" class=""> EDDGrid FromNcFiles</a> .</p>
<p>(Od srpna 2019) Snadno se můžeme mýlit, ale ještě nejsme přesvědčeni, že <a href="https://github.com/zarr-developers/zarr-python" target="_blank" rel="noopener noreferrer" class="">Zarr</a> , nebo podobné systémy, které rozbíjejí datové soubory do menších částí, jsou skvělá řešení problému ERDDAP™ čtení dat uložených v cloudových službách jako Amazon AWS S3. Zarr je skvělá technologie, která ukázala svou užitečnost v různých situacích, jen si nejsme jisti, že ERDDAP +S3 bude jednou z těchto situací. Hlavně říkáme, že než se pokusíme uložit všechna data do Zarru, uděláme nějaké testy, abychom zjistili, jestli je to skutečně lepší řešení.</p>
<p>Problémy s přístupem k datům v cloudu jsou latence (zpoždění na první získání údajů) a přístup na úrovni souborů (spíše než blokový přístup) . Zarr řeší problém přístupu na úrovni souborů, ale s latencí nic nedělá. Ve srovnání s pouhým stažením souboru (takže lze číst jako místní soubor s přístupem na úroveň bloku) , Zarr může dokonce zhoršit problém latence, protože se Zarr, čtení souboru nyní zahrnuje řadu několika volání číst různé části souboru (každý s vlastním zpožděním) . Problém latence lze vyřešit paralelizací požadavků, ale to je řešení vyšší úrovně, které není závislé na Zarr.</p>
<p>A se Zarr (jako u relačních databází) , ztratíme pohodlí mít datový soubor je jednoduchý, jediný soubor, který můžete snadno ověřit integritu, nebo provést / stáhnout kopii.</p>
<p>ERDDAP™   (od v2) má systém pro udržování lokální cache souborů ze zdroje URL (např. S3) (viz [&lt;cacheFromUrl&gt; a&lt;cacheMaxGB&gt;] (#Cachefromurl) ). A nový [&lt;nThreads&gt;] (# nitra) by měl minimalizovat problém latence paralelizací vyhledávání dat na vysoké úrovni.&lt;cacheFromUrl&gt; se zdá, že pracuje velmi dobře pro mnoho scénářů. (Nejsme si jistí, jak prospěšné&lt;nThreads&gt; je bez dalších zkoušek.) Připouštíme, že jsme neudělali časové testy na AWS instance s dobrým síťovým připojením, ale úspěšně jsme testovali s různými vzdálenými URL zdroji souborů. A ERDDAP &#x27;s&lt;cacheFromUrl&gt; pracuje s jakýmkoli typem datového souboru (např. .nc , .hdf , .csv, .jsonlCSV ) , i když externě komprimované (např. .gz ) , bez jakýchkoli změn souborů (Například je přepisuje jako sbírky Zarr) .</p>
<p>Je pravděpodobné, že různé scénáře upřednostní různá řešení, např., stačí si přečíst část souboru jednou (Zarr vyhraje.) , vs. potřeba číst celý soubor jednou, vs. potřeba číst část nebo celý soubor opakovaně (&lt;cacheFromUrl&gt; vyhraje).</p>
<p>Hlavně říkáme, že než se pokusíme uložit všechna data do Zarru, uděláme nějaké testy, abychom zjistili, jestli je to skutečně lepší řešení.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="list-of-types-datasets">Seznam datových souborů typu<a href="#list-of-types-datasets" class="hash-link" aria-label="Přímý odkaz naSeznam datových souborů typu" title="Přímý odkaz naSeznam datových souborů typu" translate="no">​</a></h2>
<p>Pokud potřebujete pomoci vybrat správný typ datového souboru, viz <a href="#choosing-the-dataset-type" class="">Výběr typu datové sady</a> .</p>
<p>Typy souborů dat spadají do dvou kategorií. ( <a href="#why-just-two-basic-data-structures" class="">Proč?</a> )</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgrid">EDDGrid<a href="#eddgrid" class="hash-link" aria-label="Přímý odkaz naEDDGrid" title="Přímý odkaz naEDDGrid" translate="no">​</a></h3>
<ul>
<li class=""><a href="#eddgrid" class=""> ** EDDGrid ** </a> Datové soubory zvládají datovaná data.</li>
<li class="">In EDDGrid datové soubory, datové proměnné jsou multidimenzionální pole dat.</li>
<li class="">Pro každý rozměr musí existovat proměnná osy. Proměnné osy MUSÍ být specifikovány v pořadí, v jakém je datové proměnné používají.</li>
<li class="">In EDDGrid Soubory údajů, všechny datové proměnné MUSÍ používat (podíl) všechny proměnné osy.
( <a href="#why-just-two-basic-data-structures" class="">Proč?</a>   <a href="#dimensions" class="">Co když ne?</a> )
Nový ERDDAP™ verze 2.29.0 EDDGrid FromNcFiles je experimentální podpora datových proměnných, které nepodporují všechny proměnné osy (nebo jak to někteří nazvali 1D a 2D dat ve stejném datovém souboru) .</li>
<li class="">Vytříděné hodnoty rozměrů - Celkem EDDGrid Soubory údajů, každý rozměr musí být v seřazeném pořadí (vzestupně nebo sestupně) . Každý může být nepravidelně mezerný. Nejsou žádné vazby. To je požadavek <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">Standard metadat CF</a> . Pokud hodnoty jakéhokoli rozměru nejsou v seřazeném pořadí, soubor dat se nenačte a ERDDAP™ určí první netříděnou hodnotu v souboru záznamu, <em>velkýRodič rodičů</em> /logs/log.txt .</li>
</ul>
<p>Několik podtříd má další omezení (zejména, EDDGrid AgregátExistingDimension vyžaduje, aby vnější (nejlevější, první) rozměr byl vzestupný.</p>
<p>Netříděné hodnoty rozměrů téměř vždy indikují problém se zdrojovým souborem. To se nejčastěji vyskytuje, když je do agregace zahrnut chybný nebo nevhodný soubor, což vede k netříděné časové dimenzi. Pro vyřešení tohoto problému viz chybová zpráva v ERDDAP™ log.txt soubor k nalezení urážlivé časové hodnoty. Pak se podívejte do zdrojových souborů najít odpovídající soubor (nebo jeden před nebo jeden po) To nepatří do agregace.</p>
<ul>
<li class="">Viz podrobnější popis <a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#dataModel" target="_blank" rel="noopener noreferrer" class=""> EDDGrid datový model</a> .</li>
<li class="">The EDDGrid Typy údajů jsou:<!-- -->
<ul>
<li class=""><a href="#eddfromaudiofiles" class=""> EDDGrid FromAudioFiles</a> shromažďuje data ze skupiny místních audio souborů.</li>
<li class=""><a href="#eddgridfromdap" class=""> EDDGrid FromDap</a> zpracovává roštová data z DAP servery.</li>
<li class=""><a href="#eddgridfromeddtable" class=""> EDDGrid OdEDDTable</a> umožňuje převést tabulkový soubor do mřížkového souboru.</li>
<li class=""><a href="#eddfromerddap" class=""> EDDGrid FromErddap</a> zvládá mřížkovaná data ze vzdáleného ERDDAP .</li>
<li class=""><a href="#eddgridfrometopo" class=""> EDDGrid OdEtopa</a> jen zpracovává vestavěná data ETOPO topography.</li>
<li class=""><a href="#eddgridfromfiles" class=""> EDDGrid FromFiles</a> je supertřída všech EDDGrid Z... tříd.</li>
<li class=""><a href="#eddgridfrommergeirfiles" class=""> EDDGrid Z MergeIRFiles</a> Sčítání údajů ze skupiny místních MergeIR .gz Složky.</li>
<li class=""><a href="#eddgridfromncfiles" class=""> EDDGrid FromNcFiles</a> Údaje o agregátech ze skupiny místních NetCDF   (V3 nebo v4)   .nc a související soubory.</li>
<li class=""><a href="#eddgridfromncfilesunpacked" class=""> EDDGrid FromNcFilesUnpacked</a> je varianta, pokud EDDGrid FromNcFiles, které také hromadí data ze skupiny místních NetCDF   (V3 nebo v4)   .nc a související soubory, které ERDDAP™ Vybaluje na nízké úrovni.</li>
<li class=""><a href="#eddgridlonpm180" class=""> EDDGrid LonPM180</a> mění hodnoty délky dítěte EDDGrid takže jsou v rozmezí -180 až 180.</li>
<li class=""><a href="#eddgridlon0360" class=""> EDDGrid Lon0360</a> mění hodnoty délky dítěte EDDGrid takže jsou v rozmezí 0 až 360.</li>
<li class=""><a href="#eddgridsidebyside" class=""> EDDGrid SideBySide</a> agregáty dvě nebo více EDDGrid Údaje bok po boku.</li>
<li class=""><a href="#eddgridaggregateexistingdimension" class=""> EDDGrid AgregátExistujícíRozměr</a> agregáty dvě nebo více EDDGrid datové soubory, z nichž každý má jiný rozsah hodnot pro první rozměr, ale stejné hodnoty pro ostatní rozměry.</li>
<li class=""><a href="#eddgridcopy" class=""> EDDGrid Kopírovat</a> může vytvořit místní kopii jiného EDDGrid &#x27;s daty a slouží data z místní kopie.
 </li>
</ul>
</li>
<li class="">Všechny EDDGrid Soubory dat podporují nastavení nThreads, které říká ERDDAP™ kolik vláken použít při reakci na žádost. Viz <a href="#nthreads" class="">nThreads</a> dokumentace pro podrobnosti.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtable">EDDTabulka<a href="#eddtable" class="hash-link" aria-label="Přímý odkaz naEDDTabulka" title="Přímý odkaz naEDDTabulka" translate="no">​</a></h3>
<ul>
<li class=""><a href="#eddtable" class=""> <strong>EDDTabulka</strong> </a> Soubory dat zpracovávají tabulární data.</li>
<li class="">Tabulková data mohou být reprezentována jako databázová tabulka s řádky a sloupcemi. Každý sloupec (datové proměnné) má název, soubor atributů a ukládá pouze jeden typ dat. Každá řada má postřeh (nebo skupina souvisejících hodnot) . Zdroj dat může mít data v jiné datové struktuře, složitější datové struktuře a/nebo více datových souborů, ale ERDDAP™ musí být schopna srovnat zdrojová data do tabulky podobné databázi, aby bylo možné prezentovat data jako soubor tabulek uživatelům ERDDAP .</li>
<li class="">Viz podrobnější popis <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#dataModel" target="_blank" rel="noopener noreferrer" class="">Datový model EDDTable</a> .</li>
<li class="">Typy souborů údajů EDDTable jsou:<!-- -->
<ul>
<li class=""><a href="#eddtablefromalldatasets" class="">EDDTableFromAllDatasets</a> je datový soubor vyšší úrovně, který má informace o všech ostatních datových souborech ve vašem ERDDAP .</li>
<li class=""><a href="#eddtablefromasciifiles" class="">EDDTableFromAsciiFiles</a> agreguje data z čárkových, tabulkových, středníkových nebo mezerně oddělených datových souborů ASCII.</li>
<li class=""><a href="#eddtablefromasciiservice" class="">EDDTableFromAsciiService</a> je supertřída všech EDDTableFromAsciiService... tříd.</li>
<li class=""><a href="#eddtablefromasciiservicenos" class="">EDDTableFromAsciiServiceNOS</a> zpracovává údaje z některých NOAA NOS webové služby.</li>
<li class=""><a href="#eddfromaudiofiles" class="">EDDTableFromAudioFiles</a> shromažďuje data ze skupiny místních audio souborů.</li>
<li class=""><a href="#eddtablefromawsxmlfiles" class="">EDDTableFrom AwsXmlFiles</a> agreguje data ze sady automatických počasí (AWS) XML soubory.</li>
<li class=""><a href="#eddtablefromcassandra" class="">EDDTableFromCassandra</a> zpracovává tabulková data z jedné Cassandry tabulky.</li>
<li class=""><a href="#eddtablefromcolumnarasciifiles" class="">EDDTableFromColumnarAsciiFiles</a> shromažďuje data z tabulkových datových souborů ASCII s datovými sloupy s pevnou šířkou.</li>
<li class=""><a href="#eddtablefromdapsequence" class="">EDDTableFromDapSekvence</a> zpracovává tabulární data z DAP sekvenční servery.</li>
<li class=""><a href="#eddtablefromdatabase" class="">EDDtableFromDatabase</a> zpracovává tabulková data z jedné tabulky databáze.</li>
<li class=""><a href="#eddtablefromeddgrid" class="">EDDTableFrom EDDGrid </a> umožňuje vytvořit soubor EDDTable z EDDGrid Soubor dat.</li>
<li class=""><a href="#eddfromerddap" class="">EDDTableFromErddap</a> zpracovává tabulková data ze vzdáleného ERDDAP .</li>
<li class=""><a href="#eddtablefromfilenames" class="">EDDTableFromFileNames</a> vytváří soubor dat z informací o skupině souborů v systému souborů serveru, ale nepodává data zevnitř souborů.</li>
<li class=""><a href="#eddtablefromfiles" class="">EDDTableFromFoles</a> je supertřída všech EDDTableFrom...Files třídy.</li>
<li class=""><a href="#eddtablefromhttpget" class="">EDDTableFromHttpGet</a> je ERDDAP &#x27;je pouze systém pro import dat a export dat.</li>
<li class=""><a href="#eddtablefromhyraxfiles" class="">EDDTableFrom Hyrax Soubory</a>   (ODCHYLKY) kumuluje data ze souborů s několika proměnnými se sdílenými rozměry poskytovanými <a href="https://www.opendap.org/software/hyrax-data-server" target="_blank" rel="noopener noreferrer" class=""> Hyrax   OPeNDAP server</a> .</li>
<li class=""><a href="#eddtablefrominvalidcrafiles" class="">EDDTableFromNeplatnéCRAFile</a> Údaje z agregátů NetCDF   (V3 nebo v4)   .nc soubory, které používají specifický, neplatný, varianta CF DSG Contiguous Ragged Array (CRA) Složky. I když ERDDAP™ podporuje tento typ souboru, je to neplatný typ souboru, který by nikdo neměl používat. Skupiny, které v současné době používají tento typ souboru, jsou důrazně vybízeny k používání ERDDAP™ generovat platné soubory CF DSG CRA a přestat používat tyto soubory.</li>
<li class=""><a href="#eddtablefromjsonlcsvfiles" class="">EDDTableFromJsoniCSVFiles</a> Údaje z agregátů <a href="https://jsonlines.org/examples/" target="_blank" rel="noopener noreferrer" class="">JSON Řádky CSV souborů</a> .</li>
<li class=""><a href="#eddtablefrommultidimncfiles" class="">EDDTablefromMultidimNcFiles</a> Údaje z agregátů NetCDF   (V3 nebo v4)   .nc soubory s několika proměnnými se sdílenými rozměry.</li>
<li class=""><a class="" href="/cs/docs/server-admin/mqtt-integration">EDDTableFromMqtt</a> konstruuje soubor založený na MQTT zprávách. Poznámka: dokumentace je na vyhrazené stránce. Všimněte si, že existuje mnoho podobností s <a href="#eddtablefromhttpget" class="">EDDTableFromHttpGet</a> .</li>
<li class=""><a href="#eddtablefromncfiles" class="">EDDTableFromNcFiles</a> Údaje z agregátů NetCDF   (V3 nebo v4)   .nc soubory s několika proměnnými se sdílenými rozměry. Je v pořádku pokračovat v používání tohoto datového souboru pro stávající datové soubory, ale pro nové datové soubory doporučujeme použít místo toho EDDTableFromMultidimNcFiles.</li>
<li class=""><a href="#eddtablefromnccffiles" class="">EDDTableFromNcCFFiles</a> Údaje z agregátů NetCDF   (V3 nebo v4)   .nc soubory, které používají jeden ze formátů souborů uvedených v <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Geometrie diskrétního odběru vzorků (DSG) </a> Konvence. Ale pro soubory používající jednu z multidimenzionálních CF DSG variant, použijte <a href="#eddtablefrommultidimncfiles" class="">EDDTablefromMultidimNcFiles</a> Místo toho.</li>
<li class=""><a href="#eddtablefromnccsvfiles" class="">EDDTableFromNccsvFiles</a> Údaje z agregátů <a class="" href="/cs/docs/user/nccsv-1.00">NCCSV</a> ASCII .csv soubory.</li>
<li class=""><a href="#eddtablefromnos" class="">EDDTableFromNOS</a>   (ODCHYLKY) zpracovává tabulková data z NOS XML serverů.</li>
<li class=""><a href="#eddtablefromobis" class="">EDDTableFromOBIS</a> zpracovává tabulková data ze serverů OBIS.</li>
<li class=""><a href="#eddtablefromparquetfiles" class="">EDDTableFromParquetFiles</a> zpracovává údaje od <a href="https://parquet.apache.org/" target="_blank" rel="noopener noreferrer" class="">Parket</a> .</li>
<li class=""><a href="#eddtablefromsos" class="">EDDTableFrom SOS </a> zpracovává tabulární data z SOS servery.</li>
<li class=""><a href="#eddtablefromthreddsfiles" class="">EDDTableFromThreddsFiles</a>   (ODCHYLKY) kumuluje data ze souborů s několika proměnnými se sdílenými rozměry poskytovanými <a href="https://www.unidata.ucar.edu/software/tds/" target="_blank" rel="noopener noreferrer" class="">THREDDS OPeNDAP server</a> .</li>
<li class=""><a href="#eddtablefromwfsfiles" class="">EDDTableFrom WFS Soubory</a>   (ODCHYLKY) vytvoří místní kopii všech údajů z ArcGIS MapServer WFS server, takže data pak mohou být rychle re-served ERDDAP™ uživatelé.</li>
<li class=""><a href="#eddtableaggregaterows" class="">EDDTableAggregateRows</a> může vytvořit soubor EDDTable ze skupiny datových souborů EDDTable.</li>
<li class=""><a href="#eddtablecopy" class="">EDDtableCopy</a> může vytvořit místní kopii mnoha typů souborů údajů EDDTable a pak rychle re-serve dat z místní kopie.</li>
</ul>
</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="detailed-descriptions-of-dataset-types">Podrobné popisy typů datových souborů<a href="#detailed-descriptions-of-dataset-types" class="hash-link" aria-label="Přímý odkaz naPodrobné popisy typů datových souborů" title="Přímý odkaz naPodrobné popisy typů datových souborů" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromdap">EDDGrid FromDap<a href="#eddgridfromdap" class="hash-link" aria-label="Přímý odkaz naEDDGrid FromDap" title="Přímý odkaz naEDDGrid FromDap" translate="no">​</a></h3>
<p><a href="#eddgridfromdap" class=""> ** EDDGrid FromDap** </a> zpracovává proměnné sítě z <a href="https://www.opendap.org/" target="_blank" rel="noopener noreferrer" class=""> DAP </a> servery.</p>
<ul>
<li class="">Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Můžete shromáždit informace, které potřebujete k vylepšení, nebo vytvořit vlastní XML pro EDDGrid FromDap data database tím, že se podíváte na soubory DDS a DAS zdrojového souboru ve vašem prohlížeči (přidáním .das a .dds do sourceUrl Například: <a href="https://thredds1.pfeg.noaa.gov/thredds/dodsC/satellite/BA/ssta/5day.dds" target="_blank" rel="noopener noreferrer" class="">https://thredds1.pfeg.noaa.gov/thredds/dodsC/satellite/BA/ssta/5day.dds</a> ) .
 </li>
<li class="">EDDGrid FromDap může získat data z jakékoliv multidimenzionální proměnné z a DAP datový server. (V předchozích dílech... EDDGrid FromDap byl omezen na proměnné označené jako &quot;grid,&quot; ale to již není požadavek.)<br>
<!-- --> </li>
<li class="">Vytříděné hodnoty rozměrů - Hodnoty pro každý rozměr MUSÍ být v seřazeném pořadí (vzestupně nebo sestupně) . Hodnoty mohou být nepravidelně rozloženy. Nejsou žádné vazby. To je požadavek <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">Standard metadat CF</a> . Pokud hodnoty jakéhokoli rozměru nejsou v seřazeném pořadí, soubor dat se nenačte a ERDDAP™ určí první netříděnou hodnotu v souboru záznamu, <em>velkýRodič rodičů</em> /logs/log.txt .</li>
</ul>
<p>Netříděné hodnoty rozměrů téměř vždy indikují problém se zdrojovým souborem. To se nejčastěji vyskytuje, když je do agregace zahrnut chybný nebo nevhodný soubor, což vede k netříděné časové dimenzi. Pro vyřešení tohoto problému viz chybová zpráva v ERDDAP™ log.txt soubor k nalezení urážlivé časové hodnoty. Pak se podívejte do zdrojových souborů najít odpovídající soubor (nebo jeden před nebo jeden po) To nepatří do agregace.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromdap-skeleton-xml">EDDGrid FromDap kostra XML<a href="#eddgridfromdap-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDGrid FromDap kostra XML" title="Přímý odkaz naEDDGrid FromDap kostra XML" translate="no">​</a></h4>
<blockquote>
<p>    &lt;dataset type=&quot;EDDGridFromDap&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1.<br>
<!-- -->        For EDDGridFromDap, this gets the remote .dds and then gets the new<br>
<!-- -->        leftmost (first) dimension values. --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#axisvariable" class="">&lt;axisVariable&gt;</a>...&lt;/axisVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->    &lt;/dataset&gt;</p>
</blockquote>
<p> </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromeddtable">EDDGrid OdEDDTable<a href="#eddgridfromeddtable" class="hash-link" aria-label="Přímý odkaz naEDDGrid OdEDDTable" title="Přímý odkaz naEDDGrid OdEDDTable" translate="no">​</a></h3>
<p><a href="#eddgridfromeddtable" class=""> ** EDDGrid OdEDDTable** </a> umožňuje převést soubor tabulky EDDTable do souboru EDDGrid Souřadnice dat. Pamatuj si to. ERDDAP™ považuje soubory údajů za buď <a href="#why-just-two-basic-data-structures" class="">Souřadnice dat (podtřídy EDDGrid ) nebo soubor tabulkových dat (podtřídy EDDTable) </a> .</p>
<ul>
<li class="">Normálně, pokud máte nastavená data, stačí nastavit EDDGrid Databáze přímo. Někdy to není možné, například když máte data uložená v relační databázi, která ERDDAP™ lze přistupovat pouze přes EDDTableFromDatabase. EDDGrid Z třídy EDDTable vám umožní tuto situaci napravit.
 </li>
<li class="">Je zřejmé, že údaje v podkladovém souboru EDDTable musí být (v podstatě) datová pole, ale v tabulkové formě. Databáze EDDTable může mít například data CDD: měření východního a severního proudu, v několika hloubkách, několikrát. Vzhledem k tomu, že hloubky jsou v každém bodě stejné, EDDGrid FromEDDTable může vytvořit roštový soubor s časem a rozměrem hloubky, který přístup k datům prostřednictvím základního datového souboru EDDTable.
 </li>
<li class="">Generovat soubory dat Xml... Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Můžete shromáždit informace, které potřebujete ke zlepšení hrubého návrhu.
 </li>
<li class="">Zdrojové atributy -- Stejně jako u všech ostatních typů souborů údajů, EDDGrid FromTable má představu, že existují globální zdrojAttributes a <a href="#global-attributes" class="">globální addAttributes </a>   (uvedené v datasets.xml ) , které jsou kombinovány pro globální kombinaci Atributy, které uživatelé vidí. Pro globální zdrojAttributy, EDDGrid FromEDDTable používá globální kombinaci Atributy podkladového souboru EDDTable. (Když se nad tím chvíli zamyslíš, dává to smysl.)</li>
</ul>
<p>Podobně, pro každý axisVariable &#x27;s a dataVariable &#x27;s <a href="#addattributes" class=""> addAttributes </a> , EDDGrid FromEDDTable používá kombinaci proměnné Atributy základního datového souboru EDDTable jako EDDGrid Od zdroje EDDTable proměnnéAttributy. (Když se nad tím chvíli zamyslíš, dává to smysl.)</p>
<p>V důsledku toho, pokud má EDDTable dobrá metadata, EDDGrid FromEDDTable často potřebuje velmi málo addAttributes Metadata -- jen pár vylepšení sem a tam.</p>
<ul>
<li class="">
<p>dataVariable s versus axisVariable s -- Základní EDDTable má pouze dataVariable s. An EDDGrid Soubor dat z EDDTable bude mít některé axisVariable án (vytvořeno z některé z EDDTable dataVariable án) a některé dataVariable án (vytvořen ze zbývajícího EDDTable dataVariable án) . <a href="#generatedatasetsxml" class="">GenerovatDatasetsXml</a> bude hádat, o který EDDTable dataVariable s EDDGrid OdEDDTable axisVariable Ale je to jen odhad. Musíte upravit výstup GenerateDatasetsXml, abyste určili, který dataVariable s se stane axisVariable s, a v jakém pořadí.
 </p>
</li>
<li class="">
<p>OsaValues -- Není nic o podkladovém EDDTable říct EDDGrid OdEDDTable možné hodnoty axisVariable s v roštové verzi datového souboru, takže musíte poskytnout tyto informace pro každý axisVariable přes jeden z těchto atributů:</p>
<ul>
<li class="">osaValues -- umožňuje zadat seznam hodnot. Například,
&lt;att name=&quot;axisValues&quot; <a href="#attributetype" class="">type=&quot;doubleList&quot;</a> \&gt;2, 2.5, 3, 3.5, 4&lt;/att &gt;
Všimněte si použití <a href="#data-types" class="">datový typ</a> plus slovo List. Také typ seznamu (například dvojitá) , MUSÍ odpovídat údajům Typ proměnné v EDDTable a EDDGrid Z dat EDDTable.</li>
<li class="">osaValuesStartStrideStop -- umožňuje zadat posloupnost pravidelně rozložených hodnot zadáním start, krok a stop hodnot. Zde je příklad, který odpovídá příkladu osValues výše:
&lt;att name=&quot;axisValuesStartStrideStop&quot; <a href="#attributetype" class="">type=&quot;doubleList&quot;</a> \&gt;2, 0, 5, 4&lt;/att &gt;
Znovu si všimněte použití datového typu seznamu. Také typ seznamu (například dvojitá) , MUSÍ odpovídat údajům Typ proměnné v EDDTable a EDDGrid Z dat EDDTable.
 </li>
</ul>
</li>
</ul>
<p>Aktualizace... Stejně jako neexistuje žádná možnost pro EDDGrid FromEDDTable pro stanovení osValues z EDDTable zpočátku neexistuje spolehlivý způsob pro EDDGrid FromEDDTable to determine from the EDDTable when the axisValues have changed (zejména pokud existují nové hodnoty časové proměnné) . V současné době je jediným řešením změna atributu OsaValues v datasets.xml a znovu načíst data. Například, můžete napsat scénář</p>
<ol>
<li class="">Hledat datasets.xml místo
datasetID =&quot; <em>theDatasetID</em> &quot;
Takže pracujete se správným souborem dat.</li>
<li class="">Hledat datasets.xml pro další výskyt
<sourcename>  <em>VariablesSourceName</em>  </sourcename><br>
<!-- -->Takže pracujete se správnou proměnnou.</li>
<li class="">Hledat datasets.xml pro další výskyt</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;axisValuesStartStrideStop&quot; type=&quot;doubleList&quot;&gt;  </span><br></span></code></pre></div></div>
<p>takže znáte výchozí pozici značky.
4. Hledat datasets.xml pro další výskyt</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>takže znáte konečnou polohu hodnot osy.
5. Nahradit starý start, krok, zastavit hodnoty s novými hodnotami.
6. Kontaktujte <a class="" href="/cs/docs/server-admin/additional-information#set-dataset-flag">URL vlajky</a> pro soubor údajů, který má sdělit ERDDAP™ znovu načíst soubor údajů.</p>
<p>Není to ideální, ale funguje to.
 </p>
<ul>
<li class="">přesnost... Kdy? EDDGrid FromEDDTable reaguje na požadavek uživatele na data, přenáší řádek dat z tabulky odezvy EDDTable do tabulky EDDGrid reakční síť. Aby to bylo možné, musí zjistit, zda hodnoty &quot;osy&quot; v daném řádku tabulky odpovídají kombinaci hodnot osy v mřížkě. Pro celé datové typy je snadné určit, zda jsou dvě hodnoty stejné. Ale pro plováky a dvojité, to přináší hrozný problém plovoucí bod čísla <a href="https://randomascii.wordpress.com/2012/02/25/comparing-floating-point-numbers-2012-edition/" target="_blank" rel="noopener noreferrer" class="">přesně neodpovídá</a> . (například 0,2 versus 0.199999999999996) . Do (pokusit se) Vypořádej se s tím. EDDGrid FromTable umožňuje určit atribut přesnosti pro některý z axisVariable s, který určuje celkový počet desetinných čísel, které musí být totožné.<!-- -->
<ul>
<li class="">Například,&lt;att name=&quot;precision&quot; type=&quot;int [51]5&lt;/att &gt;</li>
<li class="">Pro různé typy datových proměnných existují různé výchozí přesné hodnoty. Výchozí hodnoty jsou obvykle vhodné. Pokud nejsou, musíte určit různé hodnoty.</li>
<li class="">Pro axisVariable , které jsou <a href="#timestamp-variables" class="">čas nebo čas Proměnné známky</a> , výchozí je plná přesnost (přesná shoda) .</li>
<li class="">Pro axisVariable s, které jsou plováky, výchozí přesnost je 5.</li>
<li class="">Pro axisVariable s, které jsou dvojité, výchozí přesnost je 9.</li>
<li class="">Pro axisVariable s, které mají celé datové typy, EDDGrid FromEDDTable ignoruje přesný atribut a vždy používá plnou přesnost (přesná shoda) .
 </li>
<li class=""><strong>Varování!</strong> Při konverzi kusu tabulárních dat na kus mřížkovaných dat, pokud EDDGrid FromEDDTable nemůže shodovat hodnotu &quot;osy&quot; eddTable s jednou z očekávaných EDDGrid hodnoty osy EDDTable, EDDGrid OdEDDTable tiše (žádná chyba) vyhodí data z této řádky tabulky. Například mohou existovat jiné údaje (není na síti) v souboru EDDTable. (A pokud krok &gt; 1, není zřejmé, že EDDGrid OdTable, které hodnoty osy jsou požadované hodnoty a které jsou ty, které mají být přeskočeny kvůli kroku.) Takže pokud jsou přesné hodnoty příliš vysoké, uživatel uvidí chybějící hodnoty v odezvě na data, pokud skutečně existují platné hodnoty dat.</li>
</ul>
</li>
</ul>
<p>Naopak, pokud jsou hodnoty přesnosti nastaveny příliš nízko, hodnoty &quot;osy&quot; eddTable, které by neměly odpovídat EDDGrid Od EDDTable hodnoty osy budou (chybně) shoda.</p>
<p>Tyto potenciální problémy jsou hrozné, protože uživatel dostane špatná data (nebo chybějící hodnoty) kdy by měli získat správné údaje (nebo alespoň chybová zpráva) .
Tohle není chyba. EDDGrid Z tabulky. EDDGrid FromTable tento problém nevyřeší. Problém spočívá v převodu tabulkových dat na roštovaná data (Ledaže by bylo možné učinit jiné předpoklady, ale tady je udělat nelze.) .
Je to na tobě. ERDDAP™ správce <strong>Vyzkoušejte si EDDGrid OdEDDTable důkladně</strong> zajistit, aby byly stanoveny přesné hodnoty, aby se zabránilo těmto potenciálním problémům.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="gapthreshold">gapThreshold<a href="#gapthreshold" class="hash-link" aria-label="Přímý odkaz nagapThreshold" title="Přímý odkaz nagapThreshold" translate="no">​</a></h4>
<ul>
<li class=""><a href="#gapthreshold" class="">gapThreshold</a> -- Toto je velmi neobvyklý typ datového souboru. Vzhledem k tomu, typy dotazů, které mohou být provedeny na (Vyřešeno) a EDDGrid Soubor údajů (v souvislosti s rozsahy a kroky axisVariable án) jsou velmi odlišné od typů dotazů, které mohou být provedeny na (Vyřešeno) soubor údajů EDDTable (jen souvisí s rozsahy některých proměnných) , výkon EDDGrid Z údajů EDDTable se budou značně lišit v závislosti na přesné žádosti, která je podána, a rychlosti základního souboru EDDTable. Pro žádosti, které mají postupnou hodnotu &gt; 1, EDDGrid FromEDDTable může požádat o poměrně velký kus dat o podkladovém EDDTable (jako kdyby stride=1) a pak prosévat výsledky, uchovávat data z některých řádků a vyhazovat data od ostatních. Pokud bude muset prosít hodně dat, aby získal data, která potřebuje, bude žádost trvat déle.</li>
</ul>
<p>Pokud EDDGrid OdEDDTable může říci, že tam budou velké mezery (s řádky nežádoucích údajů) mezi řádky s požadovanými údaji, EDDGrid FromEDDTable se může rozhodnout, že provede několik dílčích žádostí k podkladovému EDDTable namísto jedné velké žádosti, čímž přeskočí nežádoucí řádky dat ve velkých mezerách. Citlivost pro toto rozhodnutí je kontrolována mezerouThreshold hodnota, jak je uvedeno v&lt;gapThreshold&gt; tag (výchozí=1000 řádků zdrojových dat) . Nastavení mezeryThreshold na menší číslo povede k vytvoření datového souboru (obecně) Další žádosti. Nastavení mezeryThreshold k většímu počtu povede k vytvoření datového souboru (obecně) Méně žádostí.</p>
<p>Pokud je mezeraThreshold nastavena příliš malá, EDDGrid FromEDDTable bude fungovat pomaleji, protože nadmořská výška více požadavků bude větší než čas uložený získáním některých přebytečných dat. Je-li mezeraThreshold je nastaven příliš velký, EDDGrid FromEDDTable bude fungovat pomaleji, protože z EDDTable budou vyčerpána tolik přebytečných dat, jen aby byla vyřazena. (Jak Goldilocks objevil, uprostřed je &quot;právě.&quot;) Nadmořská výška pro různé typy datových souborů EDDTable se značně liší, takže jediný způsob, jak znát aktuální nejlepší nastavení vašeho datového souboru, je prostřednictvím experimentování. Ale nezajdeš příliš daleko, když se budeš držet výchozí hodnoty.</p>
<p>Jednoduchý příklad je: Představte si EDDGrid OdTable pouze s jedním axisVariable   (čas, o velikosti 100000) , jedna dataVariable   (teplota) , a výchozí mezeraThreshold 1000.</p>
<ul>
<li class="">Pokud uživatel požaduje teplotu \[ 0<!-- -->💯<!-- -->5000 \] , krok je 100, takže velikost mezery je 99, což je méně než mezeraThreshold. Takže... EDDGrid OdTable bude pouze jeden požadavek na EDDTable pro všechny údaje potřebné pro žádost (odpovídá teplotě \[ 0:5000 \] ) a zahodit všechny řádky dat, které nepotřebuje.</li>
<li class="">Pokud uživatel požaduje teplotu \[ 0:2500:5000 \] , že krok je 2500 takže velikost mezery je 2499, což je větší než mezeraThreshold. Takže... EDDGrid FromTable bude podávat samostatné požadavky na EDDTable, které odpovídají teplotě \[ 0 \] , teplota \[ 2500 \] , teplota \[ 5000 \] .</li>
</ul>
<p>Výpočet velikosti mezery je složitější, pokud existuje více os.</p>
<p>Pro každou žádost uživatele: EDDGrid FromEDDTable tiskne diagnostické zprávy související s tímto v <a class="" href="/cs/docs/server-admin/additional-information#log">log.txt</a> Složka.</p>
<ul>
<li class="">Pokud [&lt;LogLevel &gt;] (#loglevel) v datasets.xml je nastaven na info, to vytiskne zprávu jako
\* nOuterAxes=1 of 4 nOuterRequests=22
Pokud nOuterAxes=0, gapThreshold nebyl překročen a pouze jedna žádost bude podána do EDDTable.
Pokud nOuterAxes&gt;0, gapThreshold byl překročen a nOuterRequests budou provedeny do EDDTable, což odpovídá každé požadované kombinaci nejlevějších nOuterAxes. Například pokud má datový soubor 4 axisVariable s a dataVariable Jako na východ. \[ čas \]  \[ zeměpisná šířka \]  \[ zeměpisná délka \]  \[ hloubka \] , nejlevější (první) Osová proměnná je čas.</li>
<li class="">Pokud&lt;logLevel &gt; v datasets.xml je nastaven na všechny, další informace jsou zapsány do log.txt souboru.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromeddtable-skeleton-xml">EDDGrid Z EDDTable kostry XML<a href="#eddgridfromeddtable-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDGrid Z EDDTable kostry XML" title="Přímý odkaz naEDDGrid Z EDDTable kostry XML" translate="no">​</a></h4>
<blockquote>
<p> &lt;dataset type=&quot;EDDGridFromEDDTable&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->    <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1.<br>
<!-- -->     For EDDGridFromEDDTable, this only works if the underlying EDDTable<br>
<!-- -->     supports updateEveryNMillis. --&gt;<br>
<!-- -->    <a href="#gapthreshold" class="">&lt;gapThreshold&gt;</a>...&lt;/gapThreshold&gt; &lt;!-- 0 or 1. The default is 1000. &gt;<br>
<!-- -->    <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->    <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->    <a href="#axisvariable" class="">&lt;axisVariable&gt;</a>...&lt;/axisVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->    <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->    &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- The underlying source EDDTable dataset. --&gt;<br>
<!-- --> &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddfromerddap">EDD* from ERDDAP<a href="#eddfromerddap" class="hash-link" aria-label="Přímý odkaz naEDD* from ERDDAP" title="Přímý odkaz naEDD* from ERDDAP" translate="no">​</a></h3>
<p>** EDDGrid FromErddap** zvládá mřížkovaná data ze vzdáleného ERDDAP™ server.
<strong>EDDTableFromErddap</strong> zpracovává tabulková data ze vzdáleného ERDDAP™ server.</p>
<ul>
<li class="">EDDGrid FromErddap a EDDTableFromErddap se chovají odlišně od všech ostatních typů souborů dat v ERDDAP .</li>
<li class="">Stejně jako ostatní typy souborů dat, i tyto soubory dat získávají informace o datovém souboru ze zdroje a uchovávají jej v paměti.</li>
<li class="">Stejně jako jiné typy souborů údajů, když ERDDAP™ vyhledávání souborů dat, zobrazení formuláře pro přístup k datům ( * datasetID * .html) , nebo zobrazí formulář Make A Graph ( * datasetID * .graph) , ERDDAP™ používá informace o datovém souboru, který je v paměti.</li>
<li class="">EDDGrid OdErddap a EDDTable FromErddap jsou základem pro <a class="" href="/cs/docs/server-admin/scaling">mřížky/klastry/federace</a> z ERDDAP s, která efektivně distribuuje využití procesoru (převážně pro vytváření map) , využití paměti, ukládání dat a využití pásma velkého datového centra.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="redirect">Přesměrování<a href="#redirect" class="hash-link" aria-label="Přímý odkaz naPřesměrování" title="Přímý odkaz naPřesměrování" translate="no">​</a></h4>
<ul>
<li class="">Na rozdíl od jiných typů souborů údajů, kdy ERDDAP™ přijímá žádost o údaje nebo obrázky z těchto souborů údajů, ERDDAP   <a href="https://en.wikipedia.org/wiki/URL_redirection" target="_blank" rel="noopener noreferrer" class="">přesměrování</a> požadavek na ovladač ERDDAP™ server. Výsledkem je:<!-- -->
<ul>
<li class="">Tohle je velmi efektivní. (CPU, paměť a šířka pásma) , protože jinak<!-- -->
<ol>
<li class="">Kompozit ERDDAP™ musí zaslat žádost druhé osobě ERDDAP™   (Což zabere čas.) .</li>
<li class="">Druhý ERDDAP™ musí získat data, přeformátovat je a předat data kompozitu. ERDDAP .</li>
<li class="">Kompozit ERDDAP™ musí přijímat údaje (pomocí šířky pásma) , přeformátovat ji (pomocí procesoru a paměti) , a předat data uživateli (pomocí šířky pásma) . Přesměrováním žádosti a umožněním druhé ERDDAP™ zaslat odpověď přímo uživateli, složenému ERDDAP™ V podstatě netráví čas, paměť nebo šířku pásma na žádost.</li>
</ol>
</li>
<li class="">Přesměrování je transparentní pro uživatele bez ohledu na klientský software (prohlížeč nebo jiný software nebo nástroj příkazového řádku) .</li>
</ul>
</li>
<li class=""><a href="#redirect" class="">You can tell ERDDAP™ </a> nepřesměrovat žádné uživatelské požadavky nastavením&lt;přesměrování&gt;false&lt;/redirect&gt;, ale to neguje většinu výhod datového souboru ...FromErddap (zejména rozptyl zatížení na předním konci ERDDAP™ na vzdálený/zádaj ERDDAP ) .
 
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="subscriptions">Předplatné<a href="#subscriptions" class="hash-link" aria-label="Přímý odkaz naPředplatné" title="Přímý odkaz naPředplatné" translate="no">​</a></h4>
<p>Normálně, když EDDGrid OdErddap a EDDTable OdErddap jsou (re) nabitý na vašem ERDDAP , se snaží přidat předplatné do vzdáleného datového souboru prostřednictvím vzdáleného ERDDAP &#x27;s e-mailem / URL předplatné systém. Tak, kdykoli se vzdálený soubor změní, je vzdálený ERDDAP™ kontaktujte <a class="" href="/cs/docs/server-admin/additional-information#set-dataset-flag">setDataset URL vlajky</a> na Vašem ERDDAP™ tak, aby byl místní datový soubor znovu načten ASAP a aby byl místní datový soubor vždy dokonale aktualizován a napodoboval vzdálený datový soubor. Takže, když se to stane poprvé, měli byste dostat e-mail, který požaduje, abyste potvrdili předplatné. Nicméně, pokud místní ERDDAP™ nelze poslat e-mail nebo pokud ovladač ERDDAP &#x27;s e-mailem / URL předplatné systém není aktivní, měli byste e-mailem vzdálené ERDDAP™ správce a požádat, aby s/he ručně přidat [&lt;oZměnit&gt;] (#Změnit) ...&lt;/onChange&gt; značky na všechny příslušné soubory dat volat soubor dat <a class="" href="/cs/docs/server-admin/additional-information#set-dataset-flag">setDataset URL vlajky</a> . Podívejte se. ERDDAP™ denní report pro seznam setuDataset Vlajka URL, ale jen poslat ty pro EDDGrid FromErddap a EDDTableFromErddap soubory do vzdáleného ERDDAP™ Správce.</p>
<p>Nefunguje to? Nezůstávají vaše lokální data v synchronizaci se vzdálenými soubory dat?
Několik věcí musí fungovat správně, aby tento systém fungoval tak, aby vaše datové soubory zůstaly aktuální. Zkontrolujte každou z těchto věcí v pořadí:</p>
<ol>
<li class="">Vaše ERDDAP™ musí být schopen odesílat e-maily. Viz nastavení e-mailu ve vašem nastavení.xml.</li>
<li class="">Obecně (ale ne vždy) , vaše ERDDAP &#x27;s&lt;baseUrl&gt; a&lt;baseHttpsUrl &gt; nesmí mít číslo portu (např.: 8080, :8443) . Pokud ano, použijte <a class="" href="/cs/docs/server-admin/deploy-install#proxypass">proxypass</a> k odstranění přístavu z Urlu.</li>
<li class="">Ve vašem nastavení.&lt;screenToRemoteErddapDataset&gt; musí být nastaven na true.</li>
<li class="">Když váš místní EDD... FromErddap soubor je znovu načten, měl by poslat žádost na vzdálený ERDDAP™ k odběru vzdáleného datového souboru. Podívejte se do log.txt, jestli se to děje.</li>
<li class="">Měli byste dostat e-mail a požádat vás o potvrzení žádosti o předplatné.</li>
<li class="">Musíte kliknout na odkaz v tomto e-mailu potvrdit žádost o předplatné.</li>
<li class="">Ovladač ERDDAP™ by měl říci, že potvrzení bylo úspěšné. Kdykoli si můžete vyžádat e-mail ze vzdáleného ERDDAP™ se seznamem vašich předplatných. Viz formulář na <em>vzdálenýErddapBase Url</em> /erddap/subscriptions/list.html .</li>
<li class="">Při změně vzdáleného souboru dat (např. získá další údaje) , ovladač ERDDAP™ zkuste kontaktovat vlajku URL na vašem ERDDAP . Nemůžete to zkontrolovat, ale můžete se zeptat správce ovladače. ERDDAP™ Zkontrolovat tohle.</li>
<li class="">Vaše ERDDAP™ musí obdržet žádost o stanovení této vlajkyURL. Podívejte se do svého log.txt pro &quot;nastavitDatasetFlag.txt?&quot; požadavek (án) a zjistěte, zda existuje chybová zpráva spojená s požadavky.</li>
<li class="">Vaše ERDDAP™ pak by se měl pokusit znovu načíst soubor (Možná ne hned, ale ASAP) .
 </li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="up-to-date-maxtime">Aktuální max (čas) ?<a href="#up-to-date-maxtime" class="hash-link" aria-label="Přímý odkaz naAktuální max (čas) ?" title="Přímý odkaz naAktuální max (čas) ?" translate="no">​</a></h4>
<p>EDDGrid /TableFromErddap soubory dat mění své uložené informace o každém zdrojovém souboru pouze tehdy, když zdrojový soubor je <a href="#reloadeverynminutes" class="">&quot;reloaded&quot;ed</a> a některé změny metadat (např. časová proměnná actual\_range ) , čímž vzniká oznámení o předplatném. Pokud má zdrojový soubor data, která se často mění (například nová data každou sekundu) a používá <a href="#updateeverynmillis" class="">&quot;aktualizace&quot;</a> systém pro zjištění častých změn základních údajů, EDDGrid /TableFromErddap nebude informován o těchto častých změnách až do dalšího souboru souborů &quot;načíst,&quot; takže EDDGrid /TableFromErddap nebude dokonale aktuální. Tento problém lze minimalizovat změnou zdrojového souboru&lt;reloadEveryNMinutes &gt; na menší hodnotu (60, 15?) takže existuje více oznámení o předplatném říct EDDGrid /TableFromErddap aktualizovat své informace o zdrojovém souboru.</p>
<p>Nebo pokud váš systém správy dat ví, kdy má zdrojový soubor nová data (např. prostřednictvím skriptu, který kopíruje datový soubor na místo) , a pokud to není super časté (např. každých 5 minut nebo méně často) Existuje lepší řešení:</p>
<ol>
<li class="">Nepoužívejte&lt;updateEveryNMillis&gt; za účelem aktualizace zdrojového souboru.</li>
<li class="">Nastavit zdrojový soubor&lt;reloadEveryNMinutes &gt; na větší číslo (1440?) .</li>
<li class="">Ať skript kontaktuje zdrojový soubor <a class="" href="/cs/docs/server-admin/additional-information#set-dataset-flag">URL vlajky</a> Hned poté, co kopíruje nový datový soubor.
 </li>
</ol>
<p>To povede k tomu, že zdrojový soubor bude dokonale aktualizován a způsobí, že vytvoří oznámení o předplatném, které bude zasláno EDDGrid /TableFromErddap data data. To povede EDDGrid /TableFromErddap database to be perfectly up-to-date (No, do 5 sekund po přidání nových údajů) . A vše, co bude provedeno efektivně (bez zbytečného opětovného načítání dat) .
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="no-addattributes-axisvariable-or-datavariable">Ne. addAttributes , axisVariable nebo dataVariable<a href="#no-addattributes-axisvariable-or-datavariable" class="hash-link" aria-label="Přímý odkaz naNe. addAttributes , axisVariable nebo dataVariable" title="Přímý odkaz naNe. addAttributes , axisVariable nebo dataVariable" translate="no">​</a></h4>
<p>Na rozdíl od jiných typů souborů dat, EDDTableFromErddap a EDDGrid OdErddap soubory neumožňují globální&lt;addAttributes&gt;,&lt; axisVariable &gt; nebo&lt; dataVariable &gt; sekce datasets.xml pro tento datový soubor. Problém je v tom, že to by vedlo k nesrovnalosti:</p>
<ol>
<li class="">Řekněme, že to bylo povoleno a vy jste přidal nový globální atribut.</li>
<li class="">Když se uživatel zeptá ERDDAP™ pro globální atributy se objeví nový atribut.</li>
<li class="">Ale když se uživatel zeptá ERDDAP™ pro datový soubor, Váš ERDDAP™ přesměruje žádost na zdroj ERDDAP . To ERDDAP™ neví o novém atributu. Pokud tedy vytvoří datový soubor s metadaty, např. .nc Soubor, metadata nebudou mít nový atribut.</li>
</ol>
<p>Existují dvě pracovní skupiny:</p>
<ol>
<li class="">Přesvědčit správce zdroje ERDDAP™ provést změny, které chcete k metadatům.</li>
<li class="">Místo eddtableFromErddap použijte <a href="#eddtablefromdapsequence" class="">EDDTableFromDapSekvence</a> . Nebo místo EDDGrid FromErddap, use <a href="#eddgridfromdap" class=""> EDDGrid FromDap</a> . Tyto typy EDD vám umožní efektivně se připojit k datovému souboru na vzdáleném ERDDAP™   (ale bez přesměrování požadavků na údaje) a umožňují vám zahrnout globální&lt;addAttributes&gt;,&lt; axisVariable &gt; nebo&lt; dataVariable &gt; sekce datasets.xml . Další rozdíl: budete se muset ručně přihlásit ke vzdálenému datovému souboru, aby soubor dat na vašem ERDDAP™ bude oznámeno (prostřednictvím <a class="" href="/cs/docs/server-admin/additional-information#set-dataset-flag">URL vlajky</a> ) pokud dojde ke změnám vzdáleného datového souboru. Vytváříte tedy nový datový soubor namísto propojení se vzdáleným datovým souborem.
 </li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="other-notes">Ostatní poznámky<a href="#other-notes" class="hash-link" aria-label="Přímý odkaz naOstatní poznámky" title="Přímý odkaz naOstatní poznámky" translate="no">​</a></h4>
<ul>
<li class="">Z bezpečnostních důvodů EDDGrid OdErddap a EDDTable FromErddap nepodporuje [&lt;accessTo&gt;] (#přístupný) tag a nemůže být použit se vzdálenými soubory dat, které vyžadují přihlášení (protože používají [&lt;accessTo&gt;] (#přístupný) )... Viz ERDDAP &#x27;s <a class="" href="/cs/docs/server-admin/additional-information#security">bezpečnostní systém</a> za omezení přístupu k některým datům pro některé uživatele.
 </li>
<li class="">Začneme s ERDDAP™ v2.10, EDDGrid FromErddap a EddtableFromErddap podporu [&lt;dostupnéViaFiles&gt;] (#Accessibleviafiles) Tagu. Na rozdíl od jiných typů souborů dat je výchozí hodnota pravdivá, ale soubory datového souboru budou přístupnéViaFiles pouze v případě, že zdrojový soubor má také&lt;přístupnéViaFiles&gt; nastaveno na true.
 </li>
<li class="">Můžete použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> k vytvoření datasets.xml kus pro tento typ datového souboru. Ale tyto typy dat můžete provádět snadno ručně.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromerddap-skeleton-xml">EDDGrid Od kostry Erddap XML<a href="#eddgridfromerddap-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDGrid Od kostry Erddap XML" title="Přímý odkaz naEDDGrid Od kostry Erddap XML" translate="no">​</a></h4>
<ul>
<li class="">EDDGrid Od kostry Erddap XML datový soubor je velmi jednoduchý, protože záměrem je pouze napodobit vzdálený datový soubor, který je již vhodný pro použití v ERDDAP :</li>
</ul>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridFromErddap&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviafiles" class="">&lt;accessibleViaFiles&gt;</a>...&lt;/accessibleViaFiles&gt; &lt;!-- 0 or 1, default=true. --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1<br>
<!-- -->        For EDDGridFromErddap, this gets the remote .dds and then gets<br>
<!-- -->        the new leftmost (first) dimension values. --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#redirect" class="">&lt;redirect&gt;</a>true(default)|false&lt;/redirect&gt; &lt;!-- 0 or 1; --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromerddap-skeleton-xml">EDDTableFromErddap kostra XML<a href="#eddtablefromerddap-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDTableFromErddap kostra XML" title="Přímý odkaz naEDDTableFromErddap kostra XML" translate="no">​</a></h4>
<ul>
<li class="">Kostra XML pro soubor EDDTableFromErddap je velmi jednoduchá, protože záměrem je pouze napodobit vzdálený soubor dat, který je již vhodný pro použití v ERDDAP :</li>
</ul>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromErddap&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#redirect" class="">&lt;redirect&gt;</a>true(default)|false&lt;/redirect&gt; &lt;!-- 0 or 1; --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfrometopo">EDDGrid OdEtopa<a href="#eddgridfrometopo" class="hash-link" aria-label="Přímý odkaz naEDDGrid OdEtopa" title="Přímý odkaz naEDDGrid OdEtopa" translate="no">​</a></h3>
<p><a href="#eddgridfrometopo" class=""> ** EDDGrid OdEtopa** </a> Jen slouží <a href="https://www.ngdc.noaa.gov/mgg/global/global.html" target="_blank" rel="noopener noreferrer" class="">ETOPO1 Global 1-Minute Gridd</a>   (Ice Surface, mřížka registrovaná, binární, 2byte int: etopo1\_ice\_g\_i2 .zip ) který je distribuován s ERDDAP .</p>
<ul>
<li class="">Jen dva. datasetID jsou podporovány pro EDDGrid FromEtopo, takže můžete přistupovat k datům s hodnotami délky -180 až 180, nebo k hodnotám délky 0 až 360.</li>
<li class="">Nikdy nejsou žádné subtagy, protože data jsou již popsána v rámci ERDDAP .</li>
<li class="">Takže dvě možnosti pro EDDGrid Z Etopo souborů jsou (Doslova) :</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;!-- etopo180 serves the data from longitude -180 to 180 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;dataset type=&quot;EDDGridFromEtopo&quot; datasetID=&quot;etopo180&quot; /&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;!-- etopo360 serves the data from longitude 0 to 360 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;dataset type=&quot;EDDGridFromEtopo&quot; datasetID=&quot;etopo360&quot; /&gt; </span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromfiles">EDDGrid FromFiles<a href="#eddgridfromfiles" class="hash-link" aria-label="Přímý odkaz naEDDGrid FromFiles" title="Přímý odkaz naEDDGrid FromFiles" translate="no">​</a></h3>
<p><a href="#eddgridfromfiles" class=""> ** EDDGrid FromFiles** </a> je supertřída všech EDDGrid Z... tříd. Nemůžeš použít EDDGrid Z Files přímo. Místo toho použijte podtřídu EDDGrid OdFiles pro zpracování konkrétního typu souboru:</p>
<ul>
<li class=""><a href="#eddgridfrommergeirfiles" class=""> EDDGrid Z MergeIRFiles</a> zpracovává data z mřížky <a href="https://www.cpc.ncep.noaa.gov/products/global_precip/html/README" target="_blank" rel="noopener noreferrer" class="">MergeIR .gz </a> Složky.</li>
<li class=""><a href="#eddfromaudiofiles" class=""> EDDGrid FromAudioFiles</a> shromažďuje data ze skupiny místních audio souborů.</li>
<li class=""><a href="#eddgridfromncfiles" class=""> EDDGrid FromNcFiles</a> zpracovává data z mřížky <a href="https://en.wikipedia.org/wiki/GRIB" target="_blank" rel="noopener noreferrer" class="">GRIB .grb</a> soubory, <a href="https://www.hdfgroup.org/" target="_blank" rel="noopener noreferrer" class=""> HDF   (v4 nebo v5)   .hdf </a> soubory, <a href="#ncml-files" class=""> .nc ml</a> soubory a <a href="https://www.unidata.ucar.edu/software/netcdf/" target="_blank" rel="noopener noreferrer" class=""> NetCDF   (V3 nebo v4)   .nc </a> Složky. To může fungovat s jinými typy souborů (například BUFR) Jen jsme to neotestovali. Prosím, pošlete nám nějaké vzorky, pokud máte zájem.</li>
<li class=""><a href="#eddgridfromncfilesunpacked" class=""> EDDGrid FromNcFilesUnpacked</a> je varianta EDDGrid FromNcFiles, které zpracovává data z mřížky NetCDF   (V3 nebo v4)   .nc a související soubory, které ERDDAP™ Vybaluje na nízké úrovni.</li>
</ul>
<p>V současné době nejsou podporovány žádné jiné typy souborů. Obvykle je však poměrně snadné přidat podporu pro jiné typy souborů. Kontaktujte nás, pokud máte požadavek. Nebo, pokud jsou vaše data ve starém formátu, ze kterého byste se chtěli odstěhovat, doporučujeme převést soubory, které mají být NetCDF v3 .nc Složky. NetCDF je široce podporovaný binární formát, umožňuje rychlý náhodný přístup k datům a je již podporován ERDDAP .</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="from-files-details">Z detailů souborů<a href="#from-files-details" class="hash-link" aria-label="Přímý odkaz naZ detailů souborů" title="Přímý odkaz naZ detailů souborů" translate="no">​</a></h4>
<p>Následující informace se vztahují na všechny podtřídy EDDGrid Z Files.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="aggregation-of-an-existing-dimension">Agregace stávajícího rozměru<a href="#aggregation-of-an-existing-dimension" class="hash-link" aria-label="Přímý odkaz naAgregace stávajícího rozměru" title="Přímý odkaz naAgregace stávajícího rozměru" translate="no">​</a></h5>
<p>Všechny varianty EDDGrid FromFiles mohou hromadit data z místních souborů, kde každý soubor má 1 (nebo více) různé hodnoty pro nejlevější (první) rozměr, obvykle \[ čas \] , které budou shrnuty. Například, rozměry mohou být \[ čas \]  \[ výška \]  \[ zeměpisná šířka \]  \[ zeměpisná délka \] , a soubory mohou mít data pro jednoho (nebo pár) časová hodnota (án) na soubor. Výsledný datový soubor se jeví jako by všechny údaje souboru byly kombinovány. Velké výhody agregace jsou:</p>
<ul>
<li class="">Velikost souhrnné datové sady může být mnohem větší než jeden soubor může být pohodlně (~2GB) .</li>
<li class="">Pro téměř aktuální data je snadné přidat nový soubor s nejnovějším souborem dat. Nemusíš přepisovat celý soubor.</li>
</ul>
<p>Požadavky na agregaci jsou:</p>
<ul>
<li class="">Místní složky nemusí mít stejné. dataVariable án (podle definice v datovém souboru datasets.xml ) . Databáze bude mít dataVariable s definovaná v datasets.xml . Pokud daný soubor nemá daný dataVariable , ERDDAP™ přidá chybějící hodnoty podle potřeby.</li>
<li class="">Všechny dataVariable s axisVariable s/rozměry (podle definice v datovém souboru datasets.xml ) . Soubory budou shrnuty na základě prvního (nejvíce vlevo) rozměr, tříděný vzestupně.</li>
<li class="">Každý soubor MŮŽE mít data pro jednu nebo více hodnot prvního rozměru, ale mezi soubory nemůže být žádné překrytí. Pokud má soubor více než jednu hodnotu pro první rozměr, hodnoty MUSÍ být tříděny vzestupně, bez vazeb.</li>
<li class="">Všechny soubory musí mít přesně stejné hodnoty pro všechny ostatní rozměry. Přesnost zkoušky určuje <a href="#matchaxisndigits" class="">zápasAxisNDigits</a> .</li>
<li class="">Všechny soubory musí mít úplně stejné. <a href="#units" class="">jednotky</a> metadata pro všechny axisVariable s a dataVariable s. Pokud je problém, můžete být schopni použít <a href="#ncml-files" class="">NcML</a> nebo <a href="#netcdf-operators-nco" class=""> NCO </a> Napravit problém.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="aggregation-via-file-names-or-global-metadata">Agregace prostřednictvím názvů souborů nebo globálních metadat<a href="#aggregation-via-file-names-or-global-metadata" class="hash-link" aria-label="Přímý odkaz naAgregace prostřednictvím názvů souborů nebo globálních metadat" title="Přímý odkaz naAgregace prostřednictvím názvů souborů nebo globálních metadat" translate="no">​</a></h5>
<p>Všechny varianty EDDGrid FromFiles může také agregovat skupinu souborů přidáním nového levičáku (první) rozměr, obvykle čas, na základě hodnoty odvozené z každého názvu souboru nebo z hodnoty globálního atributu, který je v každém souboru. Například název souboru může obsahovat časovou hodnotu dat v souboru. ERDDAP™ pak vytvoří novou časovou dimenzi.</p>
<p>Na rozdíl od podobné funkce v THREDDS, ERDDAP™ vždy vytvoří axisVariable s číselnými hodnotami (podle požadavků CF) , nikdy String hodnoty (které nejsou povoleny CF) . Také, ERDDAP™ bude třídit soubory v agregace na základě číselné axisVariable hodnota, která je přiřazena každému souboru, takže proměnná osy bude mít vždy tříděné hodnoty, jak požaduje CF. Přístup THREDDS k provedení lexikografického typu na základě názvů souborů vede k agregace, kde hodnoty osy nejsou tříděny (který není povolen CF) pokud názvy souborů třídí jinak než odvozená axisVariable hodnoty.</p>
<p>Nastavit jednu z těchto agregace v ERDDAP™ , budete definovat nový levý nejvíce (první)   <a href="#axisvariable" class=""> axisVariable </a> se speciálním pseudo&lt; sourceName &gt;, který říká ERDDAP™ kde a jak najít hodnotu nového rozměru z každého souboru.</p>
<ul>
<li class="">Formát pseudo sourceName která získává hodnotu z názvu souboru (jen filename.ext) je
\<em>\</em>\ <em>název souboru,</em>  <a href="#data-types" class="">údaje Typ</a>  <em>,</em> extraktRegex <em>,</em> ZachytitSkupinovéČíslo*</li>
<li class="">Formát pseudo sourceName která získá hodnotu z absolutního jména cesty souboru je
\<em>\</em>\ <em>název cesty,</em>  <a href="#data-types" class="">údaje Typ</a>  <em>,</em> extraktRegex <em>,</em> ZachytitSkupinovéČíslo*
\[ Pro to, název cesty vždy používá &#x27;/&#x27; jako znak oddělovače adresáře, nikdy &#x27;\&#x27;. \]</li>
<li class="">Formát pseudo sourceName který získává hodnotu z globálního atributu je
\<em>\</em>\ <em>globální:</em> atribut Název <em>,</em>  <a href="#data-types" class="">údaje Typ</a>  <em>,</em> extraktRegex <em>,</em> ZachytitSkupinovéČíslo*</li>
<li class="">Tento pseudo sourceName volba funguje jinak než ostatní: místo vytvoření nového levičáku (první)   axisVariable , to nahrazuje hodnotu proudu axisVariable s hodnotou získanou z názvu souboru (jen filename.ext) . Formát je
\<em>\</em>\ <em>nahradit FromFileName,</em>  <a href="#data-types" class="">údaje Typ</a>  <em>,</em> extraktRegex <em>,</em> ZachytitSkupinovéČíslo*
 </li>
</ul>
<p>Popisy částí, které potřebujete poskytnout, jsou:</p>
<ul>
<li class=""><em>atribut Název</em> -- název globálního atributu, který je v každém souboru a který obsahuje rozměrovou hodnotu.</li>
<li class=""><em>údaje Typ</em> -- To určuje datový typ, který bude použit k ukládání hodnot. Viz standardní seznam <a href="#data-types" class="">údaje Typy</a> že ERDDAP™ podporuje, kromě toho, že String zde není povolen, protože proměnné osy v ERDDAP™ nemůže být String proměnné.</li>
</ul>
<p>Existuje další pseudodataType, timeFormat= <em>řetězec TimeFormat</em> , který říká ERDDAP™ že hodnota je String timeStamp <a href="#string-time-units" class="">jednotky vhodné pro časy strun</a> . Ve většině případů, stringTimeFormat budete potřebovat bude změna jednoho z těchto formátů:</p>
<ul>
<li class="">yyyy-MM-dd &quot;T&#x27;HH:mm<!-- -->:ss<!-- -->.SSSZ -- která ISO 8601:2004 (E) formát času data. Možná budete potřebovat zkrácenou verzi, např. yyyy-MM-dd T&#x27;HH:mm<!-- -->:ss<!-- --> nebo yyyy-MM-dd .</li>
<li class="">rrrrMMddHHmmss.SSS -- což je kompaktní verze formátu data ISO 8601. Můžete potřebovat zkrácenou verzi, např. rrrrMMddHHmmss nebo rrrrMMdd.</li>
<li class="">M/d/rrrr H:mm<!-- -->:ss<!-- -->.SSS -- což je U.S. slash datum formátu. Můžete potřebovat zkrácenou verzi, např. M/d/rrrr .</li>
<li class="">rrrrDDDHmmssSSS -- což je rok plus nula-polstrovaný den roku (např. 001 = 1. leden 365 = 31. prosinec v nelegálním roce; to je někdy chybně nazýváno Julian datum) . Můžete potřebovat zkrácenou verzi tohoto, např. rrrrDDD .</li>
</ul>
<p>Pokud použijete tento pseudo dataType, přidejte to do nové proměnné&lt; addAttributes &gt;:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;units&quot;&gt;seconds since 1970-01-01T00:00:00Z&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Pokud chcete posunout všechny časové hodnoty, posuňte časovou hodnotu v jednotkách, např.
1970-01-01T12:00:00Z.</p>
<ul>
<li class=""><em>extraktRegex</em> -- Tohle je <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">regulární výraz</a>   ( <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">tutoriál</a> ) která zahrnuje skupinu zachytávání (v závorce) který popisuje, jak extrahovat hodnotu z názvu souboru nebo globální hodnoty atributu. Například název souboru jako S19980011998031.L3b\_MO\_CHL .nc , zachytit skupinu #1, &quot;\ \dtutoriál &quot;v pravidelném výrazu S (\ \dtutoriál ) \ \dtutoriál \.L3b.\* zachytí prvních 7 číslic za &#x27;S&#x27;: 1998001.</li>
<li class=""><em>Comment</em> -- Tohle je číslo zachycené skupiny. (v závorce) v pravidelném vyjádření, které obsahuje informace o zájmu. Obvykle je to 1, první skupina. Někdy je třeba použít zachycení skupin pro jiné účely v regexu, takže důležité zachycení skupiny číslo bude 2 (druhá skupina zajetí) nebo 3 (třetí) , atd.</li>
</ul>
<p>Plný příklad axisVariable což činí souhrnný datový soubor s novou časovou osou, která získá časové hodnoty z názvu souboru každého souboru je</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;axisVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*fileName,timeFormat=yyyyDDD,S(\\d{7})\\.L3m.\\*,1&lt;/sourceName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;time&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/axisVariable&gt;</span><br></span></code></pre></div></div>
<p>Když používáte &quot;timeFormat=&quot; pseudo data Typ, ERDDAP™ přidá 2 atributy do axisVariable takže se zdá, že pocházejí ze zdroje:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;standard\\_name&quot;&gt;time&lt;/att&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;units&quot;&gt;seconds since 1970-01-01T00:00:00Z&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Takže v tomto případě, ERDDAP™ vytvoří novou osu pojmenovanou &quot;time&quot; s dvojitými hodnotami (sekundy od 1970-01-01T00:00:00Z) extrahováním 7 číslic za &#x27;S&#x27; a před &quot;.L3m&quot; v názvu souboru a výkladem hodnot jako časových hodnot formátovaných jako rrrrDDD.</p>
<p>Můžete přepsat výchozí základní čas (1970-01-01T00:00:00Z) přidáním <a href="#addattributes" class="">addAttribut</a> který určuje jiný atribut jednotek s jiným základním časem. Běžná situace je: existují skupiny datových souborů, každý s jedním dnem složené ze satelitního datového souboru, kde chcete, aby čas hodnota být poledne dne uvedený v názvu souboru (středový čas každého dne) a chtějí proměnnou long\_name být &quot;Centered Time.&quot; Příkladem je:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;axisVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*fileName,timeFormat=yyyyDDD,S(\\d{7})\\.L3m.\\*,1&lt;/sourceName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;time&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;att name=&quot;long\\_name&quot;&gt;Centered Time&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;att name=&quot;units&quot;&gt;seconds since 1970-01-01T12:00:00Z&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/axisVariable&gt;</span><br></span></code></pre></div></div>
<p>Note hours=12 in the base time, which adds 12 hours related to the original base time of 1970-01-01T00:00:00Z.</p>
<p>Plný příklad axisVariable což činí souhrnný soubor údajů s novou &quot;běh&quot; osou (s int hodnotami) který získává spuštěné hodnoty z globálního atributu &quot;runID&quot; v každém souboru (s hodnotami jako &quot;r17\_globální,&quot; kde 17 je číslo spuštění) je</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;axisVariable&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*global:runID,int,(r|s)(\\d+)\\_global,2&lt;/sourceName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;run&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;att name=&quot;ioos\\_category&quot;&gt;Other&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;att name=&quot;units&quot;&gt;count&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/axisVariable&gt;</span><br></span></code></pre></div></div>
<p>Všimněte si, že skupina zachytit číslo 2 zachytit číslice, které se vyskytují po &#x27;r&#x27; nebo &#x27;s&#x27;, a před &quot;\_globální&#x27;. Tento příklad také ukazuje, jak přidat další atributy (např. ioos\_category a jednotky) k proměnné osy.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="externally-compressed-files">Vnější komprimované soubory<a href="#externally-compressed-files" class="hash-link" aria-label="Přímý odkaz naVnější komprimované soubory" title="Přímý odkaz naVnější komprimované soubory" translate="no">​</a></h4>
<ul>
<li class="">
<p>Datové soubory, které jsou podskupinami EDDGrid FromFiles a EDDTable FromFiles mohou sloužit data přímo z externě komprimovaných datových souborů, včetně .tgz , .tar  .gz , .tar  .gzip , .gz , .gzip , .zip , .bz2 , a .Z soubory.
 </p>
</li>
<li class="">
<p><strong>To funguje překvapivě dobře!</strong><br>
<!-- -->Ve většině případů je zpomalení spojené s dekompresí malých a středních datových souborů menší. Pokud potřebujete ušetřit místo na disku, důrazně podporujeme použití této funkce, zejména pro starší soubory, které jsou zřídka přístupné.
 </p>
</li>
<li class="">
<p><strong>Šetřete peníze!</strong><br>
<!-- -->To je jeden z mála funkcí v ERDDAP™ To vám nabízí šanci ušetřit spoustu peněz (i když za cenu mírně sníženého výkonu) . Pokud je kompresní poměr např. 6:1 (Někdy to bude mnohem vyšší.) , pak datové soubory souboru budou potřebovat pouze 1/6 prostor disku. Pak možná dokážeš zvládnout 1 RAID (o dané velikosti) místo 6 RAIDS (o stejné velikosti) . To jsou obrovské úspory nákladů. Doufejme, že schopnost komprimovat některé soubory ve sbírce (Ty starší?) a nestlačit ostatní (Ty novější?) , A změnit to kdykoliv, pojďme minimalizovat nevýhody komprimovat některé ze souborů (pomalejší přístup) . A pokud je volba mezi uložením souborů na pásku (a přístupné pouze na požádání, po prodlení) vs uložení komprimované na RAID (a přístupné prostřednictvím ERDDAP ) , pak je obrovská výhoda pro použití komprese tak, aby uživatelé dostat interaktivní a (relativně) rychlý přístup k datům. A pokud vám to může ušetřit od zakoupení dalšího RAIDu, může vám tato funkce ušetřit asi 30 000 dolarů.
 </p>
</li>
<li class="">
<p>Pro všechny EDDGrid Podtřídy FromFiles, pokud mají datové soubory rozšíření, které naznačuje, že jsou externě komprimované soubory (v současné době: .tgz , .tar  .gz , .tar  .gzip , .gz , .gzip , .zip , .bz2 nebo .Z) , ERDDAP™ dekompresní soubory do adresáře cache datového souboru, když je čte (pokud už nejsou v cache) . Totéž platí pro binární soubor (např. .nc ) podtřídy EDDTableFromFoles.
 </p>
</li>
<li class="">
<p>Pro podtřídy EDDTableFromFoles pro nebinární soubory (např. .csv) , datové soubory s příponou naznačující, že jsou externě komprimované soubory budou dekompresovány při čtení souboru.
 </p>
</li>
<li class="">
<p>POŽADAVEK: Pokud je použit typ externího komprimovaného souboru (např. .tgz nebo .zip ) podporuje více než 1 soubor uvnitř komprimovaného souboru, komprimovaný soubor musí obsahovat pouze 1 soubor.
 </p>
</li>
<li class="">
<p>REQUIREMENT: Tato funkce předpokládá, že obsah externě komprimovaných souborů se nemění, takže může být znovu použit dekomprimovaný soubor. Pokud jsou některé nebo všechny datové soubory datového souboru někdy změněny, neshrňte tyto soubory. To odpovídá běžnému používání, protože lidé obvykle nestlačí soubory, které někdy potřebují změnit.
 </p>
</li>
<li class="">
<p>&lt;souborNázevRegex&gt; Aby to fungovalo, data jsou&lt;souborNameRegex&gt; musí odpovídat jménům komprimovaných souborů. Očividně, regexy jako .\<em>bude odpovídat všem jménům souborů. Pokud zadáte specifický typ souboru, např. .\</em>\ .nc , pak je třeba upravit regex tak, aby zahrnovala i kompresní rozšíření, např., .\ <em>\ .nc \ .gz (pokud všechny soubory budou</em> Něco * .nc  .gz Soubory) .
 </p>
</li>
<li class="">
<p>Je v pořádku, pokud váš datový soubor obsahuje kombinaci komprimovaných a ne komprimovaných souborů. To může být užitečné, pokud věříte, že některé soubory (např. starší soubory) bude používán méně často, a proto by bylo užitečné ušetřit prostor na disku stlačením. Aby to fungovalo,&lt;fileNameRegex&gt; se musí shodovat s názvy komprimovaných a nestlačených souborů, např. .\<em>nebo .\</em>\ .nc  ( | \ .gz ) (pokud skupina zachycuje na konci této skupiny stanoví, že .gz je volitelné.
 </p>
</li>
<li class="">
<p>Je v pořádku, pokud komprimujete nebo dekompresujete konkrétní soubory ve sbírce kdykoliv.
Pokud soubor údajů nepoužívá [&lt;updateEveryNMillis&gt;] (#update everynmillis) , nastavit soubor údajů <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> říct ERDDAP™ znovu načíst datový soubor a tím si všimnout změn. Zajímavé je, že můžete použít různé kompresní algoritmy a nastavení pro různé soubory ve stejném souboru (např. .bz2 pro zřídka používané soubory, .gz pro často nepoužité soubory a bez komprese pro často používané soubory) , Ujistěte se, že regex podporuje všechny použité přípony souboru, např. .\*\ .nc  ( | \ .gz  | \ .bz2 ) .
 </p>
</li>
<li class="">
<p>Kompresní poměry a rychlosti pro různé kompresní algoritmy se samozřejmě liší podle zdrojového souboru a nastavení (např. úroveň stlačení) . Pokud chcete optimalizovat tento systém pro vaše soubory, proveďte test různých kompresních metod s vašimi soubory a s celou řadou nastavení komprese. Pokud chcete spolehlivě dobré (nemusí být nutně nejlepší) nastavení, budeme mírně doporučit gzip   ( .gz ) . gzip nedělá nejmenší komprimovaný soubor (Je to dost blízko.) , ale komprimuje soubor velmi rychle a (důležitější pro ERDDAP™ uživatelé) Rozkládá soubor velmi rychle. Navíc, gzip software přichází standardně s každou instalací Linux a Mac OS a je snadno dostupný pro Windows prostřednictvím bezplatných nástrojů, jako jsou 7Zip a Linux doplňky jako Git Bash. Například pro stlačení zdrojového souboru do .gz verze souboru (stejný název souboru, ale s .gz Přiložené) , použití (v Linuxu, Mac OS a Git Bash)<br>
<!-- -->gzip   * sourceName *<br>
<!-- -->Dekompresní a .gz soubor zpět k originálu, použijte
gunzip * sourceName  .gz *<br>
<!-- -->Chcete-li komprimovat každý ze zdrojových souborů v adresáři a jeho podadresáře, rekurzivně, použijte
gzip - R <em>režisér Název</em><br>
<!-- -->Dekompresní každý z .gz soubory v adresáři a jeho podadresáře , rekurzivně , použití
gunzip - r <em>režisér Název</em><br>
<!-- --> </p>
</li>
<li class="">
<p>UPOZORNĚNÍ: Nekomprimujte vnější tlak ( gzip ) Soubory, které jsou již interně komprimované!
Mnoho souborů již má komprimovaná data interně. Jestliže gzip Tyto soubory, výsledné soubory nebudou o moc menší (&lt;5%) a ERDDAP™ bude ztrácet čas dekompresí je, když je potřebuje přečíst. Například:</p>
<ul>
<li class="">datové soubory: např. .nc 4 a .hdf 5 souborů: Některé soubory používají vnitřní komprese, některé ne. Jak říct: komprimované proměnné mají atributy &quot;\_Chunksize.&quot; Také, pokud skupina roštů .nc nebo .hdf Soubory jsou různé velikosti, jsou pravděpodobně vnitřně komprimované. Pokud jsou všechny stejné velikosti, nejsou vnitřně stlačené.</li>
<li class="">Soubory obrázků: např. .gif, .jpg a .png</li>
<li class="">audio soubory: např. .mp3 a .ogg.</li>
<li class="">video soubory: např. .mp4, .ogv, a .webm.</li>
</ul>
</li>
</ul>
<p>Jeden nešťastný případ: .wav audio soubory jsou obrovské a nejsou vnitřně komprimované. Bylo by hezké stlačit ( gzip ) Oni, ale obecně byste neměli, protože pokud ano, uživatelé nebudou schopni přehrávat komprimované soubory ve svém prohlížeči.
 </p>
<ul>
<li class="">
<p>Zkušební pouzdro: stlačení (s gzip ) datový soubor s mřížkou 1523 .nc Složky.</p>
<ul>
<li class="">Údaje ve zdrojových souborech byly řídké. (mnoho chybějících hodnot) .</li>
<li class="">Celkový diskový prostor šel z 57 GB před kompresí na 7 GB po.</li>
<li class="">Žádost o mnoho údajů z 1 time point je&lt;1 s před a po kompresi.</li>
<li class="">Žádost o 1 datový bod pro 365 časových bodů (nejhorší případ) přešla ze 4 s na 71 s.
 </li>
</ul>
</li>
</ul>
<p>Pro mě je to rozumný kompromis pro jakýkoli soubor údajů a určitě pro soubory údajů, které jsou často používány.
 </p>
<ul>
<li class="">
<p>Vnitřní versus vnější tlak --
Ve srovnání s interní kompresí souborů nabízených .nc 4 a .hdf 5 souborů, ERDDAP &#x27;s přístupem pro externě komprimované binární soubory má výhody a nevýhody. Nevýhodou je: pro jednou přečíst malou část jednoho souboru, vnitřní komprese je lepší, protože EDDGrid FromFiles stačí dekompresovat pár kusů (án) Složka, ne celá složka. Ale... ERDDAP &#x27;s přístupem má některé výhody:</p>
<ul>
<li class="">ERDDAP™ podporuje komprese všech typů datových souborů (binární a non-binář, např. .nc 3 a .csv) nejen .nc 4 a .hdf 4.</li>
<li class="">Pokud většina souboru musí být přečtena více než jednou v krátkém časovém období, pak šetří čas na dekompresi souboru jednou a přečíst jej mnohokrát. To se stává v ERDDAP™ pokud uživatel používá Make-A-Graph pro datový soubor a provede sérii malých změn v grafu.</li>
<li class="">Schopnost mít komprimované soubory a nekomprimované soubory ve stejné kolekci vám umožní více ovládat, které soubory jsou komprimovány a které nejsou. A toto přidané ovládání přichází bez úpravy zdrojového souboru (protože můžete zkomprimovat soubor např. .gz a pak ji dekomprimovat pro získání původního souboru) .</li>
<li class="">Schopnost kdykoli změnit, zda je daný soubor komprimován a jak je komprimován (různé algoritmy a nastavení) dává vám větší kontrolu nad výkonem systému. A původní nestlačený soubor můžete snadno kdykoliv obnovit.</li>
</ul>
</li>
</ul>
<p>I když ani jeden přístup není vítězem ve všech situacích, je jasné, že ERDDAP &#x27;s schopností sloužit datům z externích komprimovaných souborů činí vnější kompresi přiměřenou alternativou k vnitřní komprese nabízené .nc 4 a .hdf 5. To je důležité vzhledem k tomu, že vnitřní komprese je jedním z hlavních důvodů, proč se lidé rozhodnou použít .nc 4 a .hdf 5.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="decompressed-cache">Dekomprese Cache<a href="#decompressed-cache" class="hash-link" aria-label="Přímý odkaz naDekomprese Cache" title="Přímý odkaz naDekomprese Cache" translate="no">​</a></h5>
<p>ERDDAP™ je dekompresní verze komprimované binární (např. .nc ) datový soubor, když je potřeba soubor přečíst. Dekompresované soubory jsou uloženy v adresáři datového souboru <em>velkýRodič rodičů</em> /dekomprimováno/ . Dekompresované soubory, které nebyly v poslední době použity, budou vymazány, aby uvolnily prostor, když je kumulativní velikost souboru &gt;10GB. Můžete to změnit nastavením&lt;dekomprimovanýCacheMaxGB&gt; (výchozí=10) v souborech údajů Xml.xml, např.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;decompressedCacheMaxGB&gt;40&lt;/decompressedCacheMaxGB&gt;  </span><br></span></code></pre></div></div>
<p>Také, dekompresované soubory, které nebyly použity v posledních 15 minutách budou vymazány na začátku každého hlavního souboru reload. Můžete to změnit nastavením&lt;dekompresovanýCacheMaxMinutesOld&gt; (výchozí=15) v souborech údajů Xml.xml, např.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;decompressedCacheMaxMinutesOld&gt;60&lt;/decompressedCacheMaxMinutesOld&gt;  </span><br></span></code></pre></div></div>
<p>Větší čísla jsou pěkné, ale kumulativní velikost dekompresních souborů může způsobit <em>velkýRodič rodičů</em> dojít z diskového prostoru, což způsobuje vážné problémy.
 </p>
<ul>
<li class="">Protože dekomprese souboru může trvat hodně času. (0,1 až 10 sekund) , soubory souborů s komprimovanými soubory mohou využít nastavení souboru [&lt;nThreads&gt;] (# nitra) nastavení na vyšší číslo (2? 3? 4?) . Nevýhody k ještě vyššímu počtu (Například 5? 6? 7?) snižují výnosy a požadavek jednoho uživatele pak může využít vysoké procento zdrojů systému, čímž výrazně zpomalí zpracování žádostí druhého uživatele. Proto neexistuje žádné ideální nastavení nThreads, jen různé důsledky v různých situacích s různými nastaveními.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sorted-dimension-values">Vytříděné hodnoty rozměrů<a href="#sorted-dimension-values" class="hash-link" aria-label="Přímý odkaz naVytříděné hodnoty rozměrů" title="Přímý odkaz naVytříděné hodnoty rozměrů" translate="no">​</a></h4>
<p>Hodnoty pro každý rozměr MUSÍ být v seřazeném pořadí (vzestupně nebo sestupně, kromě prvního (nejvíce vlevo) rozměr, který musí být vzestupný) . Hodnoty mohou být nepravidelně rozloženy. Nemůžou být žádné vazby. To je požadavek <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">Standard metadat CF</a> . Pokud hodnoty jakéhokoli rozměru nejsou v seřazeném pořadí, soubor dat se nenačte a ERDDAP™ určí první netříděnou hodnotu v souboru záznamu, <em>velkýRodič rodičů</em> /logs/log.txt .</p>
<p>Netříděné hodnoty rozměrů téměř vždy indikují problém se zdrojovým souborem. To se nejčastěji vyskytuje, když je do agregace zahrnut chybný nebo nevhodný soubor, což vede k netříděné časové dimenzi. Pro vyřešení tohoto problému viz chybová zpráva v ERDDAP™ log.txt soubor k nalezení urážlivé časové hodnoty. Pak se podívejte do zdrojových souborů najít odpovídající soubor (nebo jeden před nebo jeden po) To nepatří do agregace.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="directories">Adresáře<a href="#directories" class="hash-link" aria-label="Přímý odkaz naAdresáře" title="Přímý odkaz naAdresáře" translate="no">​</a></h4>
<p>Soubory mohou být v jednom adresáři nebo v adresáři a jeho podadresáři (rekurzivně) . Pokud existuje velký počet souborů (např. &gt; 1 000) , operační systém (a tak EDDGrid FromFiles) bude fungovat mnohem efektivněji, pokud uložíte soubory do řady podadresářů (jeden za rok nebo jeden za měsíc pro soubory údajů s velmi častými soubory) , tak, že nikdy neexistuje obrovské množství souborů v daném adresáři.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cachefromurl">&lt;cacheFromUrl&gt;<a href="#cachefromurl" class="hash-link" aria-label="Přímý odkaz na&lt;cacheFromUrl&gt;" title="Přímý odkaz na&lt;cacheFromUrl&gt;" translate="no">​</a></h4>
<p>Všechny EDDGrid FromFiles a všechny soubory EDDTableFromFoles podporují sadu tagů, které říkají ERDDAP™ stáhnout a udržovat kopii všech souborů vzdáleného datového souboru nebo cache několika souborů (stažen podle potřeby) . Tohle může být neuvěřitelně užitečné. Viz <a href="#cachefromurl" class="">cache FromUrl dokumentace</a> .</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="remote-directories-and-http-range-requests">Vzdálené adresáře a HTTP požadavky na rozsah<a href="#remote-directories-and-http-range-requests" class="hash-link" aria-label="Přímý odkaz naVzdálené adresáře a HTTP požadavky na rozsah" title="Přímý odkaz naVzdálené adresáře a HTTP požadavky na rozsah" translate="no">​</a></h4>
<p>(AKA Byte Servírování, Byte Range Žádosti, Přijmout-Ranges http hlavička)<br>
<!-- -->EDDGrid FromNcFiles, EDDTableFromMultidimNcFiles, EDDTableFromNcFiles, and EDDTableFromNcCFFiles, can <em>Někdy</em> sloužit údaje od .nc soubory na vzdálených serverech a přístupné přes HTTP, pokud server podporuje <a href="https://en.wikipedia.org/wiki/Byte_serving" target="_blank" rel="noopener noreferrer" class="">Byte Slouží</a> přes HTTP požadavky na rozsah (HTTP mechanismus pro bajtové podávání) . To je možné, protože netcdf-java (která ERDDAP™ použití ke čtení .nc soubory) podporuje čtení dat ze vzdáleného .nc soubory přes HTTP požadavky na rozsah.</p>
<p><strong>Nedělej to!</strong> Je strašně neefektivní a pomalý.
Místo toho použijte [&lt;cacheFromUrl&gt; system] (#Cachefromurl) .</p>
<p>Přístup ERDDAP™ Soubory jako soubory prostřednictvím žádostí o rozsah byte --
Otočím to kolem, vzhledem k tomu, že můžete (teoreticky) Pomyšlení na soubor údajů v ERDDAP™ jako obr .nc soubor započítáním &quot; .nc &quot; na základnu OPen DAP URL pro daný datový soubor (např.<a href="https://myserver.org/erddap/griddap/datasetID.nca" target="_blank" rel="noopener noreferrer" class="">https://myserver.org/erddap/griddap/datasetID.nca</a> také přidáním ?query poté, co zadat podmnožinu) , je možná rozumné se zeptat, zda můžete použít netcdf-java, Ferret , nebo jiné NetCDF klientský software pro čtení dat prostřednictvím Žádosti o HTTP rozsah od ERDDAP . Odpověď je ne, protože není opravdu velký &quot; .nc &quot;Složka. Pokud to chcete udělat, udělejte místo toho jednu z těchto možností:</p>
<ul>
<li class="">Použití(OPeN)DAPklientský software pro připojení ke službám Griddap nabízeným ERDDAP . To je ono. DAP   (a tak ERDDAP ) byl navržen pro. Je velmi efektivní.</li>
<li class="">Nebo stáhnout zdrojový soubor (án) z &quot;files&quot; systém (nebo podmnožina souboru prostřednictvím .nc ? dotaz) do počítače a používat netcdf-java, Ferret , nebo jiné NetCDF klientský software pro čtení (Teď) místní soubor (án) .
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cached-file-information">Informace o souboru<a href="#cached-file-information" class="hash-link" aria-label="Přímý odkaz naInformace o souboru" title="Přímý odkaz naInformace o souboru" translate="no">​</a></h4>
<p>Když EDDGrid Databáze FromFiles je nejprve načtena, EDDGrid FromFiles čte informace ze všech příslušných souborů a vytváří tabulky (jeden řádek pro každý soubor) s informacemi o každém platném souboru a každém &quot;špatném&quot; (jiný nebo neplatný) Složka.</p>
<ul>
<li class="">Tabulky jsou také uloženy na disku, jako NetCDF v3 .nc soubory v <em>velkýRodič rodičů</em> /dataset/ <em>last2CharsOfDatasetID</em> / * datasetID * / v souborech pojmenovaných:
dirTable .nc   (který obsahuje seznam jedinečných názvů adresářů) ,
soubor Tabulka .nc   (která obsahuje tabulku s údaji každého platného souboru) ,
badFiles .nc   (který drží tabulku s informacemi každého špatného souboru) .</li>
<li class="">Pro urychlení přístupu k EDDGrid Databáze souborů (ale na úkor využití více paměti) , můžete použít [&lt;souborTableInMemory&gt; true&lt;/fileTableInMemory&gt;] (# filetableinmemory) říct ERDDAP™ uchovávat kopii tabulek informací o souboru v paměti.</li>
<li class="">Kopie tabulek informací o souboru na disku je také užitečná, když ERDDAP™ je vypnuto a restartováno: ukládá EDDGrid OdFiles z nutnosti znovu přečíst všechny datové soubory.</li>
<li class="">Když je soubor dat znovu načten, ERDDAP™ stačí přečíst data v nových souborech a souborech, které se změnily.</li>
<li class="">Pokud má soubor jinou strukturu než ostatní soubory (například jiný datový typ pro jednu z proměnných nebo jinou hodnotu pro &quot; <a href="#units" class="">jednotky</a> &quot; atribut) , ERDDAP přidá soubor do seznamu &quot;špatných&quot; souborů. Informace o problému se souborem budou zapsány do <em>velkýRodič rodičů</em> /logs/log.txt soubor.</li>
<li class="">Nikdy byste neměli muset smazat nebo pracovat s těmito soubory. Jednou výjimkou je: pokud stále provádíte změny datového souboru datasets.xml nastavit, možná budete chtít odstranit tyto soubory k vynucení ERDDAP™ znovu přečíst všechny soubory, protože soubory budou číst/interpretovat jinak. Pokud budete někdy potřebovat odstranit tyto soubory, můžete to udělat, když ERDDAP™ Utíká. (Pak nastavte <a class="" href="/cs/docs/server-admin/additional-information#set-dataset-flag">vlajka</a> co nejdříve načíst soubor údajů.) Nicméně, ERDDAP™ obvykle si všimne, že datasets.xml informace neodpovídají souboru Informace o tabulce a automaticky smaže tabulky souborů.</li>
<li class="">Pokud chcete podpořit ERDDAP™ aktualizovat uložené informace o datovém souboru (například, pokud jste právě přidali, odstranili nebo změnili některé soubory do datového adresáře datového souboru) , použijte <a class="" href="/cs/docs/server-admin/additional-information#flag">Systém vlajky</a> donutit ERDDAP™ aktualizovat informace o cached souboru.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="handling-requests">Žádosti o zacházení<a href="#handling-requests" class="hash-link" aria-label="Přímý odkaz naŽádosti o zacházení" title="Přímý odkaz naŽádosti o zacházení" translate="no">​</a></h4>
<p>Při zpracování žádosti klienta o údaje, EDDGrid FromFiles se může rychle podívat do tabulky s platnou informací o souboru zjistit, které soubory mají požadovaná data.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="updating-the-cached-file-information">Aktualizace informací o souboru<a href="#updating-the-cached-file-information" class="hash-link" aria-label="Přímý odkaz naAktualizace informací o souboru" title="Přímý odkaz naAktualizace informací o souboru" translate="no">​</a></h4>
<p>Kdykoli je soubor znovu načten, jsou aktualizovány informace o cache souboru.</p>
<ul>
<li class="">Databáze se pravidelně načítá tak, jak stanoví&lt;reloadEveryNMinutes&gt; v informacích datového souboru v datasets.xml .</li>
<li class="">Databáze je znovu načítána co nejdříve. ERDDAP™ zjistí, že jste přidali, odstranili, <a href="https://en.wikipedia.org/wiki/Touch_(Unix)" target="_blank" rel="noopener noreferrer" class="">Touch&#x27;d</a> (změnit poslední soubor Změněný čas) , nebo změnil datový soubor.</li>
<li class="">Databáze je znovu načtena co nejdříve, pokud použijete <a class="" href="/cs/docs/server-admin/additional-information#flag">Systém vlajky</a> .</li>
</ul>
<p>Když je soubor dat znovu načten, ERDDAP™ Porovnává aktuálně dostupné soubory s informačními tabulkami v cache. Nové soubory se čtou a přidávají do platné tabulky souborů. Soubory, které již neexistují, jsou staženy z platné tabulky souborů. Soubory, kde došlo ke změně časového razítka souboru, se čtou a jejich informace se aktualizují. Nové tabulky nahrazují staré tabulky v paměti a na disku.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="bad-files">Špatné soubory<a href="#bad-files" class="hash-link" aria-label="Přímý odkaz naŠpatné soubory" title="Přímý odkaz naŠpatné soubory" translate="no">​</a></h4>
<p>Tabulka špatných souborů a důvody, proč byly soubory prohlášeny za špatné (poškozený soubor, chybějící proměnné atd.) je e-mailem na e-mail Všechno Na e-mailovou adresu (Pravděpodobně vy.) pokaždé, když je soubor dat znovu načten. Měli byste tyto soubory co nejdříve nahradit nebo opravit.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="missing-variables">Chybějící proměnné<a href="#missing-variables" class="hash-link" aria-label="Přímý odkaz naChybějící proměnné" title="Přímý odkaz naChybějící proměnné" translate="no">​</a></h4>
<p>Pokud některé složky nemají některé z dataVariable s definovaná v souboru údajů datasets.xml To je v pořádku. Kdy? EDDGrid FromFiles čte jeden z těchto souborů, to bude působit, jako by soubor měl proměnnou, ale se všemi chybějícími hodnotami.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ftp-troubleadvice">FTP Potíže/Advice<a href="#ftp-troubleadvice" class="hash-link" aria-label="Přímý odkaz naFTP Potíže/Advice" title="Přímý odkaz naFTP Potíže/Advice" translate="no">​</a></h4>
<p>Pokud FTP nové datové soubory do ERDDAP™ server zatímco ERDDAP™ Utíká, je tu šance, že ERDDAP™ bude soubor údajů během procesu FTP znovu nabíjet. Stává se to častěji, než si myslíte! Pokud k tomu dojde, bude se soubor zdát platný (má platné jméno) Ale ta složka ještě není platná. Pokud ERDDAP™ pokusí se číst data z tohoto neplatného souboru, výsledná chyba způsobí přidání souboru do tabulky neplatných souborů. To není dobré. Aby se zabránilo tomuto problému, použijte dočasné jméno souboru při FTP &#x27;ing soubor, například ABC2005 .nc \_TEMP . Pak souborNameRegex test (viz níže) uvede, že se nejedná o relevantní soubor. Po dokončení procesu FTP přejmenujte soubor na správný název. Proces přejmenování způsobí, že soubor bude okamžitě relevantní.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="0-files-error-message-1">&quot;0 souborů&quot; Chyba zprávy<a href="#0-files-error-message-1" class="hash-link" aria-label="Přímý odkaz na&quot;0 souborů&quot; Chyba zprávy" title="Přímý odkaz na&quot;0 souborů&quot; Chyba zprávy" translate="no">​</a></h4>
<p>Když utečeš <a href="#generatedatasetsxml" class="">GenerovatDatasetsXml</a> nebo <a href="#dasdds" class="">DasDds</a> , nebo pokud se pokusíte načíst EDDGrid Z... soubory souborů dat v ERDDAP™ , a dostanete chybovou zprávu &quot;0 souborů&quot; ukazující, že ERDDAP™ nalezeno 0 odpovídajících souborů v adresáři (když si myslíte, že jsou odpovídající soubory v tomto adresáři) :</p>
<ul>
<li class="">Zkontrolujte, zda jsou soubory skutečně v adresáři.</li>
<li class="">Zkontrolujte pravopis názvu adresáře.</li>
<li class="">Zkontrolujte souborNameRegex. Je opravdu snadné dělat chyby s regexy. Pro testovací účely zkuste regex .\*, který by měl odpovídat všem názvům souborů. (Vidíš tohle? <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">dokumentace regexu</a> a <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">reflexní tutoriál</a> .)</li>
<li class="">Zkontrolujte, zda uživatel, který program provozuje (např. user=tomcat (?) pro přípravek Tomcat/ ERDDAP ) má &quot;číst&quot; povolení pro tyto soubory.</li>
<li class="">V některých operačních systémech (např. SELinux) a v závislosti na nastavení systému musí mít uživatel, který program spustil, oprávnění číst celý řetězec adresářů vedoucích do adresáře, který má soubory.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromfiles-skeleton-xml">EDDGrid Z files kostra XML<a href="#eddgridfromfiles-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDGrid Z files kostra XML" title="Přímý odkaz naEDDGrid Z files kostra XML" translate="no">​</a></h4>
<ul>
<li class=""><strong>Kostra XML</strong> pro všechny EDDGrid Podtřídy FromFiles jsou:</li>
</ul>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridFrom...Files&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1. For<br>
<!-- -->        EDDGridFromFiles subclasses, this uses Java&#x27;s WatchDirectory system<br>
<!-- -->        to notice new/deleted/changed files quickly and efficiently. --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#matchaxisndigits" class="">&lt;matchAxisNDigits&gt;</a>...&lt;/matchAxisNDigits&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;fileDir&gt;...&lt;/fileDir&gt; &lt;-- The directory (absolute) with the<br>
<!-- -->        data files. --&gt;<br>
<!-- -->      &lt;recursive&gt;true|false&lt;/recursive&gt; &lt;!-- 0 or 1. Indicates if<br>
<!-- -->        subdirectories of fileDir have data files, too. --&gt;<br>
<!-- -->      <a href="#pathregex" class="">&lt;pathRegex&gt;</a>...&lt;/pathRegex&gt;  &lt;!-- 0 or 1. Only directory names which<br>
<!-- -->        match the pathRegex (default=&quot;.\<em>&quot;) will be accepted. --&gt;<br>
<!-- -->      &lt;fileNameRegex&gt;...&lt;/fileNameRegex&gt; &lt;-- 0 or 1. A<br>
<!-- -->        <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">regular expression</a> (<a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">tutorial</a>) describing valid data<br>
<!-- -->        file names, for example, &quot;.\</em>\.nc&quot; for all .nc files. --&gt;<br>
<!-- -->      <a href="#accessibleviafiles" class="">&lt;accessibleViaFiles&gt;</a>true|false(default)&lt;/accessibleViaFiles&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;metadataFrom&gt;...&lt;/metadataFrom&gt; &lt;-- The file to get<br>
<!-- -->        metadata from (&quot;first&quot; or &quot;last&quot; (the default) based on file&#x27;s<br>
<!-- -->        lastModifiedTime). --&gt;<br>
<!-- -->      <a href="#filetableinmemory" class="">&lt;fileTableInMemory&gt;</a>...&lt;/fileTableInMemory&gt; &lt;!-- 0 or 1 (true or<br>
<!-- -->        false (the default)) --&gt;<br>
<!-- -->      <a href="#cachefromurl" class="">&lt;cacheFromUrl&gt;</a>...&lt;/cacheFromUrl&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#cachefromurl" class="">&lt;cacheSizeGB&gt;</a>...&lt;/cacheSizeGB&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#axisvariable" class="">&lt;axisVariable&gt;</a>...&lt;/axisVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddfromaudiofiles">EDD*FromAudioFiles<a href="#eddfromaudiofiles" class="hash-link" aria-label="Přímý odkaz naEDD*FromAudioFiles" title="Přímý odkaz naEDD*FromAudioFiles" translate="no">​</a></h3>
<p>** EDDGrid FromAudioFiles** a <strong>EDDTableFromAudioFiles</strong> souhrn dat ze sbírky místních audio souborů. (Tyto se poprvé objevily v ERDDAP™ v1.82.) Rozdíl je, že EDDGrid FromAudioFiles považuje data za multidimenzionální datový soubor (obvykle se 2 rozměry: \[ start souboru Čas \] a \[ uplynulo Čas v rámci souboru \] ) , zatímco EDDTableFromAudioFiles považuje data za tabulární data (obvykle se sloupcemi pro spuštění souboruTime, uplynulý čas se souborem a data z audio kanálů) . EDDGrid FromAudioFiles vyžaduje, aby všechny soubory měly stejný počet vzorků, takže pokud to není pravda, musíte použít EDDTableFromAudioFiles. Jinak je volba typu EDD zcela na vás. Jednou z výhod EDDTableFromAudioFiles: můžete přidat další proměnné s jinými informacemi, např., stationID , staniceType. V obou případech nedostatek jednotné časové proměnné ztěžuje práci s daty z těchto typů EDD, ale nebyl žádný dobrý způsob, jak nastavit jednotnou časovou proměnnou.</p>
<p>Vidíš tyhle třídy? <a href="#eddgridfromfiles" class=""> EDDGrid FromFiles</a> a <a href="#eddtablefromfiles" class="">EDDTableFromFoles</a> , pro obecné informace o tom, jak tato třída funguje a jak ji používat.</p>
<p>Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Vzhledem k tomu, že audio soubory nemají jiná metadata než informace související se kódováním zvukových dat, budete muset editovat výstup z GenerateDatasets Xml poskytovat základní informace (např. titul, shrnutí, creator\_name , instituce, historie) .</p>
<p>Podrobnosti:</p>
<ul>
<li class="">Existuje velký počet formátů audio souborů. V současné době, ERDDAP™ lze číst data z většiny .wav a .au souborů. Momentálně nemůže číst jiné typy audio souborů, např. .aiff nebo .mp3. Pokud potřebujete podporu pro jiné formáty audio souborů nebo jiné varianty .wav a .au, prosím, pošlete svou žádost Chrisovi. John at noaa.gov . Nebo jako workaround můžete použít právě teď, můžete převést své zvukové soubory na PCM\_ Podepsáno (pro celá data) nebo PCM\_ FLOAT (pro údaje o plovoucích bodech) .wav soubory tak, že ERDDAP™ může s nimi pracovat.</li>
<li class="">V současné době, ERDDAP™ může číst audio soubory s tím, co Java &#x27;s AudioFormat třída volá PCM\_FLOAT, PCM\_SIGNED, PCM\_UNSIGNED, ALAW, a ULAW kódování. ERDDAP™ konvertuje hodnoty PCM\_UNSIGNED (např. 0 až 255) do podepsaných hodnot (např. -128 až 128) přeskupením bitů v hodnotách dat. ERDDAP™ konvertuje ALAW a ULAW kódován z jejich nativní kódovaný byte formát do krátké (int16) hodnoty. Od Java chce bigEndian=true data, ERDDAP™ přerovnává bajty dat uložených s bigEndian=false (malý endián) pro správné čtení hodnot. Pro všechna ostatní kódování (PCM) , ERDDAP™ čte data tak, jak je.</li>
<li class="">Kdy? ERDDAP™ čte data z audio souborů, převádí dostupná audio metadata souboru na globální atributy. To bude vždy zahrnovat (s zobrazenými hodnotami vzorku)</li>
</ul>
<p>Smyčcový audioBigEndian &quot;false&quot;; //true or false
int audio kanály 1;
Smyčcové audiokódování &quot;PCM\_SIGNED&quot;;
float audioFrameRate 9600.0; //per second
int audioFrameSize 2; //# of data bytes per frame
float audioSampleRate 9600.0; //per second
int audioSampleSizeInBits 16; //# bitů na kanál na vzorek</p>
<p>Pro ERDDAP &#x27;s účely, rám je synonymem pro vzorek, což jsou údaje pro jeden bod v čase.
Vlastnosti v ERDDAP™ bude mít informace popisující data, jak to bylo ve zdrojových souborech. ERDDAP™ budou často měnit tato data při čtení dat, např. PCM\_UNSIGNED, ALAW, a ULAW kódovaná data jsou převedena na PCM\_SIGNED a bigEndian=false data jsou převedena na bigEndian=true data (což je jak Java chce si to přečíst.) . Nakonec hodnoty údajů ERDDAP™ vždy bude <a href="https://en.wikipedia.org/wiki/Pulse-code_modulation" target="_blank" rel="noopener noreferrer" class="">Kódováno PCM</a> hodnoty údajů (tj. jednoduché digitalizované vzorky zvukové vlny) .</p>
<ul>
<li class="">Kdy? ERDDAP™ čte data z audio souborů, čte celý soubor. ERDDAP™ může číst až 2 miliardy vzorků na jeden kanál. Například pokud je vzorkovací frekvence 44,100 vzorků za sekundu, 2 miliardy vzorků se přeloží na asi 756 minut zvukových údajů na jeden soubor. Pokud máte audio soubory s více než tímto množstvím dat, musíte rozebrat soubory do menších částí tak, aby ERDDAP™ může je přečíst.</li>
<li class="">Protože ERDDAP™ čte celé zvukové soubory, ERDDAP™ musí mít přístup k velkému množství paměti pro práci s velkými zvukovými soubory. Viz <a class="" href="/cs/docs/server-admin/deploy-install#memory"> ERDDAP &#x27;s nastavením paměti</a> . Opět, pokud je to problém, práce, kterou můžete použít právě teď je rozebrat soubory na menší kousky tak, že ERDDAP™ umí je přečíst s menší pamětí.</li>
<li class="">Některé zvukové soubory byly špatně napsány. ERDDAP™ vyvíjí malé úsilí, aby se těmito případy zabýval. Ale obecně, když je chyba, ERDDAP™ a věru se vymaní (a odmítnout tento soubor) nebo (pokud je chyba nezjistitelná) číst údaje (ale údaje budou nesprávné) .</li>
<li class="">ERDDAP™ nekontroluje ani nemění hlasitost zvuku. V ideálním případě jsou celočíselná data zvuku zvětšena tak, aby byla použita celá škála datového typu.</li>
<li class="">Audio soubory a audio přehrávače nemají systém pro chybějící hodnoty (např. -999 nebo Float.NaN) . Takže audio data by neměla mít žádné chybějící hodnoty. Pokud chybí hodnoty (např. pokud potřebujete prodloužit audio soubor) Použijte řadu 0, které budou vykládány jako dokonalé ticho.</li>
<li class="">Kdy? ERDDAP™ čte data z audio souborů, vždy vytváří sloupec zvaný &quot;prošlý&quot; Čas s časem pro každý vzorek, v sekundách (uloženy jako dvojité) , vzhledem k prvnímu vzorku (který je přidělen Time=0.0 s) . S EDDGrid FromAudioFiles se stává proměnnou uplynulé časové osy.</li>
<li class="">EDDGrid FromAudioFiles vyžaduje, aby všechny soubory měly stejný počet vzorků. Takže pokud to není pravda, musíte použít EDDTableFromAudioFiles.</li>
<li class="">Pro EDDGrid FromAudioFiles, doporučujeme nastavit [&lt;dimensionValuesInMemory&gt;] (# Dimensionvalueinmemory) na false (jak doporučuje GenerateDatasets Xml) Protože časový rozměr má často obrovský počet hodnot.</li>
<li class="">Pro EDDGrid FromAudioFiles, měli byste téměř vždy používat EDDGrid Systém FromFiles pro <a href="#aggregation-via-file-names-or-global-metadata" class="">Agregace prostřednictvím Název souboru</a> , téměř vždy výpisem data zahájení nahrávky Čas z názvů souborů. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;\\*\\*\\*fileName,&quot;timeFormat=yyyyMMdd&#x27;\\_&#x27;HHmmss&quot;,aco\\_acoustic\\.(\\[0-9\\]{8}\\_\\[0-9\\]{6})\\.wav,1&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Generovat soubory dat Xml to podpoří a pomůže vám s tím.</p>
<ul>
<li class="">Pro EDDTableFromAudioFiles byste měli téměř vždy používat systém EDDTableFromFoles pro <a href="#filename-sourcenames" class="">\<em>\</em>\* fileName pseudo sourceName án</a> k získání informací ze jména souboru (téměř vždy datum zahájení Čas na nahrávání) a podporovat jej tak, aby byl sloupcem údajů. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;\\*\\*\\*fileName,aco\\_acoustic\\.(\\[0-9\\]{8}\\_\\[0-9\\]{6})\\.wav,1&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Časový formát by pak měl být uveden jako atribut jednotek:&lt;att name=&quot;onities=&quot;yyyMMdd&quot;\_&#x27;HHmmss&lt;/att &gt;
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfrommergeirfiles">EDDGrid Z MergeIRFiles<a href="#eddgridfrommergeirfiles" class="hash-link" aria-label="Přímý odkaz naEDDGrid Z MergeIRFiles" title="Přímý odkaz naEDDGrid Z MergeIRFiles" translate="no">​</a></h3>
<p><a href="#eddgridfrommergeirfiles" class=""> ** EDDGrid Z MergeIRFiles** </a> souhrnné údaje z místních, <a href="https://www.cpc.ncep.noaa.gov/products/global_precip/html/README" target="_blank" rel="noopener noreferrer" class="">MergeIR</a> Soubory, které jsou z <a href="https://trmm.gsfc.nasa.gov" target="_blank" rel="noopener noreferrer" class="">Měřící mise pro tropické deště (TRMM) </a> , což je společná mise mezi NASA a Japan Aerospace Exploration Agency (JAXA) . Sloučit IR soubory lze stáhnout z <a href="ftp://disc2.nascom.nasa.gov/data/s4pa/TRMM_ANCILLARY/MERG/" target="_blank" rel="noopener noreferrer" class="">NASA</a> .</p>
<p>EDDGrid OdMergeIRFiles.java byl napsán a přispěl k ERDDAP™ projekt Jonathana Lafiteho a Philippa Makowskiho z R.Tech Engineeringu (licence: autorizovaný open source) .</p>
<p>EDDGrid Z MergeIRFiles je trochu neobvyklé:</p>
<ul>
<li class="">EDDGrid FromMergeIRFile podporuje komprimované nebo nestlačené zdrojové datové soubory, v jakékoli kombinaci, ve stejném datovém souboru. To vám například umožňuje komprimovat starší soubory, které jsou zřídka přístupné, ale odkompresovat nové soubory, které jsou často přístupné. Nebo můžete změnit typ kompresi z původní . Z na příklad, .gz .</li>
<li class="">Pokud máte komprimované a nestlačené verze stejných datových souborů ve stejném adresáři, ujistěte se prosím, že&lt;fileNameRegex&gt; pro váš soubor se shoduje s názvy souborů, které chcete, aby se shodovaly a neodpovídá názvům souborů, které nechcete, aby se shodovaly.</li>
<li class="">Nekompresní zdrojové datové soubory nesmí mít příponu souboru (tj. žádné &quot;&quot; v názvu souboru) .</li>
<li class="">Stlačené zdrojové datové soubory musí mít příponu souboru, ale ERDDAP™ určuje typ komprese tím, že zkontroluje obsah souboru, nikoli pohledem na příponu souboru souboru (například &quot;.Z&quot;) . Podporované typy komprese zahrnují &quot;gz,&quot; &quot;bzip2,&quot; &quot;xz,&quot; &quot;lzma,&quot; &quot;nappy-raw,&quot; &quot;nappy-framed,&quot; &quot;pack200&quot; a &quot;z.&quot; Kdy? ERDDAP™ čte komprimované soubory, dekompresuje se při letu, bez zápisu do dočasného souboru.</li>
<li class="">Všechny zdrojové datové soubory musí používat původní systém pojmenování souborů: tj., merg\_ <em>RRRRMMDDHH</em> \_4km-pixel (kde <em>RRRRMMDDHH</em> označuje čas spojený s údaji v souboru) , plus přípona souboru, pokud je soubor komprimován.</li>
</ul>
<p>Vidíš tuhle třídu? <a href="#eddgridfromfiles" class=""> EDDGrid FromFiles</a> , pro obecné informace o tom, jak tato třída funguje a jak ji používat.</p>
<p>Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Pak to můžete upravit tak, abyste to naladili.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromncfiles">EDDGrid FromNcFiles<a href="#eddgridfromncfiles" class="hash-link" aria-label="Přímý odkaz naEDDGrid FromNcFiles" title="Přímý odkaz naEDDGrid FromNcFiles" translate="no">​</a></h3>
<p><a href="#eddgridfromncfiles" class=""> ** EDDGrid FromNcFiles** </a> souhrnné údaje z místní, mřížkované, <a href="https://en.wikipedia.org/wiki/GRIB" target="_blank" rel="noopener noreferrer" class="">GRIB .grb a .grb2</a> soubory, <a href="https://www.hdfgroup.org/" target="_blank" rel="noopener noreferrer" class=""> HDF   (v4 nebo v5)   .hdf </a> soubory, <a href="#ncml-files" class=""> .nc ml</a> soubory, <a href="https://www.unidata.ucar.edu/software/netcdf/" target="_blank" rel="noopener noreferrer" class=""> NetCDF   (V3 nebo v4)   .nc </a> soubory a <a href="https://github.com/zarr-developers/zarr-python" target="_blank" rel="noopener noreferrer" class="">Zarr</a> soubory (od verze 2.25) . Soubory Zarr mají mírně odlišné chování a vyžadují buď souborNameRegex nebo cestuRegex zahrnout &quot;zarr.&quot;</p>
<p>Nový ERDDAP™ verze 2.29.0 je experimentální podpora datových proměnných, které nepodporují všechny proměnné osy (nebo jak to někteří nazvali 1D a 2D dat ve stejném datovém souboru) . Prosím, kontaktujte GitHuba. (diskuse nebo otázky) se zpětnou vazbou a brouky.</p>
<p>To může fungovat s jinými typy souborů (například BUFR) Jen jsme to neotestovali. Prosím, pošlete nám nějaké vzorky.</p>
<ul>
<li class="">Pro soubory GRIB, ERDDAP™ udělá .gbx index soubor poprvé čte každý soubor GRIB. Takže soubory GRIB musí být v adresáři, kde &quot;uživatel,&quot; který spustil Tomcat má oprávnění číst + psát.</li>
<li class="">Vidíš tuhle třídu? <a href="#eddgridfromfiles" class=""> EDDGrid FromFiles</a> , informace o tom, jak tato třída funguje a jak ji používat.</li>
<li class="">Začneme s ERDDAP™ v2.12 EDDGrid FromNcFiles a EDDGrid FromNcFiles Vybalené mohou číst data z &quot;struktur&quot; v .nc 4 a .hdf 4 soubory. Pro identifikaci proměnné, která je ze struktury,&lt; sourceName &gt; musí používat formát: <em>FullStructureName</em>  |  <em>Název člena</em> , například skupina1/myStruct | Můj pane.</li>
<li class="">Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Pak to můžete upravit tak, abyste to naladili.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="groups-in-gridded-nc-files">Skupiny v souborech Gridded Nc<a href="#groups-in-gridded-nc-files" class="hash-link" aria-label="Přímý odkaz naSkupiny v souborech Gridded Nc" title="Přímý odkaz naSkupiny v souborech Gridded Nc" translate="no">​</a></h4>
<p><a href="#groups-in-gridded-nc-files" class="">Netcdf4 soubory mohou obsahovat skupiny.</a>   ERDDAP™ jen vytvoří soubor údajů z proměnných v jedné skupině a všech jejích mateřských skupinách. Můžete zadat konkrétní název skupiny v GeneranteDatasets Xml (vynechat stopovací lomítko) , nebo použít &quot;&quot; mít GenerateDatasets Xml hledat všechny skupiny pro proměnné, které používají nejvíce rozměrů, nebo použití &quot; \[ kořen \] &quot; mít GenerateDatasets stačí hledat proměnné v kořenové skupině.</p>
<p>První věc, kterou GenerateDatasetsXml dělá pro tento typ datového souboru poté, co odpovíte na otázky, je tisk ncdump-jako struktura výběrového souboru. Takže pokud zadáte pár hloupých odpovědí pro první smyčku přes GenerateDatasets Xml, aspoň uvidíš, jestli ERDDAP™ může přečíst soubor a zjistit, jaké rozměry a proměnné jsou v souboru. Pak můžete dát lepší odpovědi pro druhou smyčku přes GenerateDatasetsXml.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridfromncfilesunpacked">EDDGrid FromNcFilesUnpacked<a href="#eddgridfromncfilesunpacked" class="hash-link" aria-label="Přímý odkaz naEDDGrid FromNcFilesUnpacked" title="Přímý odkaz naEDDGrid FromNcFilesUnpacked" translate="no">​</a></h3>
<p><a href="#eddgridfromncfilesunpacked" class=""> ** EDDGrid FromNcFilesUnpacked** </a> je varianta <a href="#eddgridfromncfiles" class=""> EDDGrid FromNcFiles</a> které agregují údaje z místní, mřížkované NetCDF   (V3 nebo v4)   .nc a související soubory. Rozdíl je v tom, že tato třída vybalí každý datový soubor před EDDGrid FromFiles se dívá na soubory:</p>
<ul>
<li class="">Vybaluje proměnné, které jsou plné <a href="#scale_factor" class=""> scale\_factor nebo add\_offset </a> .</li>
<li class="">Převádí \_FillValue a missing\_value hodnoty, které mají být NaN (nebo MAX\_VALUE pro celé datové typy) .</li>
<li class="">Převádí hodnoty času a času na &quot;seconds since 1970-01-01T00:00:00Z&quot; .</li>
</ul>
<p>Velkou výhodou této třídy je, že poskytuje způsob, jak se vypořádat s různými hodnotami scale\_factor , add\_offset \_FillValue, missing\_value , nebo časové jednotky v různých zdrojových souborech ve sbírce. Jinak byste museli použít nástroj jako <a href="#ncml-files" class="">NcML</a> nebo <a href="#netcdf-operators-nco" class=""> NCO </a> upravit každý soubor k odstranění rozdílů tak, aby soubory mohly být řešeny EDDGrid Z NcFiles. Aby tato třída správně fungovala, musí soubory dodržovat standardy CF pro související atributy.</p>
<ul>
<li class="">Pokud se pokusíte vytvořit EDDGrid FromNcFiles Vybalené ze skupiny souborů, se kterými jste se dříve snažili a nepoužívali EDDGrid OdNcFiles, cd do
<em>velkýRodič rodičů</em> /dataset/ <em>Last2Letters</em> / * datasetID * /
kde <em>Last2Letters</em> je poslední 2 písmena datasetID ,
a odstranit všechny soubory v tomto adresáři.</li>
<li class="">Začneme s ERDDAP™ v2.12 EDDGrid FromNcFiles a EDDGrid FromNcFiles Vybalené mohou číst data z &quot;struktur&quot; v .nc 4 a .hdf 4 soubory. Pro identifikaci proměnné, která je ze struktury,&lt; sourceName &gt; musí používat formát: <em>FullStructureName</em>  |  <em>Název člena</em> , například skupina1/myStruct | Můj pane.</li>
<li class="">Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Pak to můžete upravit tak, abyste to naladili.</li>
</ul>
<p>Netcdf4 soubory mohou obsahovat skupiny. Viz <a href="#groups-in-gridded-nc-files" class="">Tato dokumentace</a> .</p>
<p>První věc, kterou GenerateDatasetsXml dělá pro tento typ datového souboru poté, co odpovíte na otázky, je tisk ncdump-jako struktura výběrového souboru <strong>předtím</strong> Je vybalená. Takže pokud zadáte pár hloupých odpovědí pro první smyčku přes GenerateDatasets Xml, aspoň uvidíš, jestli ERDDAP™ může přečíst soubor a zjistit, jaké rozměry a proměnné jsou v souboru. Pak můžete dát lepší odpovědi pro druhou smyčku přes GenerateDatasetsXml.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridlonpm180">EDDGrid LonPM180<a href="#eddgridlonpm180" class="hash-link" aria-label="Přímý odkaz naEDDGrid LonPM180" title="Přímý odkaz naEDDGrid LonPM180" translate="no">​</a></h3>
<p><a href="#eddgridlonpm180" class=""> ** EDDGrid LonPM180** </a> mění hodnoty délky dítěte (uzavřen)   EDDGrid data, která mají některé hodnoty délky větší než 180 (například 0 až 360) takže jsou v rozmezí -180 až 180 (Zeměpisná délka Plus nebo Minus 180, proto název) .</p>
<ul>
<li class="">To poskytuje způsob, jak vytvořit soubory údajů, které mají hodnoty délky větší než 180 v souladu s OGC Služby (např. WMS server v ERDDAP ) , protože všechny OGC služby vyžadují hodnoty délky v rozmezí -180 až 180.</li>
<li class="">Práce v blízkosti přerušení způsobuje problémy bez ohledu na to, zda je přerušení na délce 0 nebo na délce 180. Tento typ datového souboru umožňuje vyhnout se těmto problémům pro každého tím, že nabízí dvě verze stejného datového souboru:
jedna s hodnotami délky v rozmezí 0 až 360 (&quot;Pacificentric&quot;?) ,
jedna s hodnotami délky v rozmezí -180 až 180 (&quot;Atlanticentric&quot;?) .</li>
<li class="">U dětských souborů se všemi hodnotami délky většími než 180 jsou všechny nové hodnoty délky prostě o 360 stupňů nižší. Například datový soubor s hodnotami délky 180 až 240 by se stal datovým souborem s hodnotami délky -180 až -120.</li>
<li class="">U dětských souborů údajů, které mají hodnoty délky pro celou planetu (přibližně 0 až 360) , nová hodnota délky bude upravena tak, aby byla (zhruba) - 180 až 180:
Původní hodnoty 0 až téměř 180 se nemění.
Původní hodnoty 180 až 360 jsou převedeny na -180 až 0 a přesunuty na začátek pole délky.</li>
<li class="">U dětských souborů, které se pohybují 180, ale nepokrývají svět, ERDDAP™ vloží chybějící hodnoty podle potřeby k vytvoření souboru, který pokrývá zeměkouli. Například dětský datový soubor s hodnotami délky 140 až 200 by se stal datovým souborem s hodnotami délky -180 až 180.
Hodnoty dětí 180 až 200 by se staly -180 až -160.
Vkládají se nové hodnoty délky od -160 do 140. Odpovídající hodnoty dat budou \_FillValues.
Hodnoty dětí 140 až téměř 180 by se nezměnily.
Vložení chybějících hodnot se může zdát divné, ale vyhýbá se několika problémům, které vyplývají z toho, že hodnoty délky, které náhle skočí (např. od -160 do 140) .</li>
<li class="">In <a href="#generatedatasetsxml" class="">GenerovatDatasetsXml</a> , existuje zvláštní &quot;dataset type,&quot; EDDGrid LonPM180FromErddapCatalog, který umožňuje generovat datasets.xml místo EDDGrid LonPM180 datové soubory z každého z EDDGrid data v souboru ERDDAP jejichž délka je větší než 180. To usnadňuje nabízet dvě verze těchto souborů údajů:
originál s hodnotami délky v rozmezí 0 až 360,
a nový datový soubor s hodnotami délky v rozmezí -180 až 180.</li>
</ul>
<p>Soubor údajů o dětech v rámci každého EDDGrid Databáze LonPM180 bude EDDGrid Od souboru Erddap, který ukazuje na původní datový soubor.
Nový soubor údajů datasetID bude název původního datového souboru plus &quot;\_LonPM180.&quot;
Například,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dataset type=&quot;EDDGridLonPM180&quot; datasetID=&quot;erdMBsstdmday\\_LonPM180&quot; active=&quot;true&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;dataset type=&quot;EDDGridFromErddap&quot; datasetID=&quot;erdMBsstdmday\\_LonPM180Child&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;!-- SST, Aqua MODIS, NPP, 0.025 degrees, Pacific Ocean, Daytime </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          (Monthly Composite) minLon=120.0 maxLon=320.0 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceUrl&gt;https://coastwatch.pfeg.noaa.gov/erddap/griddap/erdMBsstdmday</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/sourceUrl&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/dataset&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dataset&gt; </span><br></span></code></pre></div></div>
<p>Polož to. EDDGrid Databáze LonPM180 <strong>níže</strong> původní soubor údajů v datasets.xml . To se vyhýbá některým možným problémům.</p>
<p>Alternativně můžete nahradit EDDGrid FromErddap child database with the original database&#x27;s datasets.xml . Pak bude existovat pouze jedna verze datového souboru: ta s hodnotami délky v rozmezí -180 až 180. Odradíme ji, protože jsou chvíle, kdy je každá verze datového souboru pohodlnější.</p>
<ul>
<li class="">
<p>Pokud například nabízíte dvě verze datového souboru s délkou 0 až 360 a jednou s délkou 180 až 180:</p>
<ul>
<li class="">Můžete použít volitelné [&lt;přístupný Via WMS &gt; false&lt;/přístupný Via WMS &gt;] (#Accessibleviawms) s datovým souborem 0-360 k násilnému vypnutí WMS služba pro tento datový soubor. Pak bude přístupná pouze verze souboru LonPM180 WMS .</li>
<li class="">Existuje několik způsobů, jak udržet soubor údajů LonPM180 aktuální se změnami základního datového souboru:<!-- -->
<ul>
<li class="">Pokud je soubor údajů o dítěti EDDGrid FromErddap soubor, který odkazuje na datový soubor ve stejném ERDDAP™ , soubor údajů LonPM180 se pokusí přímo přihlásit k podkladovému datovému souboru tak, aby byl vždy aktuální. Přímé předplatné nevytváří e-maily, které vás žádají o potvrzení předplatného - validace by měla být provedena automaticky.</li>
<li class="">Pokud dětský soubor údajů není EDDGrid OdErddap soubor, který je na stejné ERDDAP™ Databáze LonPM180 se pokusí používat systém pravidelného předplatného k upsání základního datového souboru. Pokud máte systém předplatného ve svém ERDDAP™ Zapnuto, měli byste dostat e-maily a požádat vás o potvrzení předplatného. Prosím, udělejte to.</li>
<li class="">Pokud máte systém předplatného ve svém ERDDAP™ Vypnuto, databázový soubor LonPM180 může mít někdy zastaralá metadata, dokud nebude soubor LonPM180 znovu načten. Takže pokud je systém předplatného vypnut, měli byste nastavit [&lt;reload EveryNMinutes &gt;] (# reload everynminutes) nastavení souboru údajů LonPM180 na menší číslo, takže je pravděpodobnější, že dříve zachytí změny v souboru údajů o dítěti.</li>
</ul>
</li>
</ul>
</li>
<li class="">
<p>Pro datové soubory s maximální délkou &gt; 360 použijte následující volitelnou konfiguraci pro nastavení maximální hodnoty a datový soubor se opraví na -180 až 180.</p>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;maxSourceLon&gt;540&lt;/maxSourceLon&gt;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridlonpm180-skeleton-xml">EDDGrid kostra LonPM180 XML<a href="#eddgridlonpm180-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDGrid kostra LonPM180 XML" title="Přímý odkaz naEDDGrid kostra LonPM180 XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridLonPM180&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1. For<br>
<!-- -->        EDDGridFromDap, this gets the remote .dds and then gets the new<br>
<!-- -->        leftmost (first) dimension values. --&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- The child EDDGrid dataset. --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridlon0360">EDDGrid Lon0360<a href="#eddgridlon0360" class="hash-link" aria-label="Přímý odkaz naEDDGrid Lon0360" title="Přímý odkaz naEDDGrid Lon0360" translate="no">​</a></h3>
<p><a href="#eddgridlon0360" class=""> ** EDDGrid Lon0360** </a> mění hodnoty délky dítěte (uzavřen)   EDDGrid Soubor údajů, který má některé hodnoty délky menší než 0 (například -180 až 180) takže jsou v rozmezí 0 až 360 (Proto název) .</p>
<ul>
<li class="">Práce v blízkosti přerušení způsobuje problémy bez ohledu na to, zda je přerušení na délce 0 nebo na délce 180. Tento typ datového souboru umožňuje vyhnout se těmto problémům pro každého tím, že nabízí dvě verze stejného datového souboru:
jedna s hodnotami délky v rozmezí -180 až 180 (&quot;Atlanticentric&quot;?) .
jedna s hodnotami délky v rozmezí 0 až 360 (&quot;Pacificentric&quot;?) ,</li>
<li class="">U dětských souborů se všemi hodnotami délky menšími než 0, jsou všechny nové hodnoty délky jednoduše o 360 stupňů vyšší. Například datový soubor s hodnotami délky -180 až -120 by se stal datovým souborem s hodnotami délky 180 až 240.</li>
<li class="">U dětských souborů údajů, které mají hodnoty délky pro celou planetu (zhruba -180 až 180) , nová hodnota délky bude upravena tak, aby byla (zhruba) 0 až 360:
Původní hodnoty -180 až 0 se převedou na 180 až 360 a posunou se na konec pole délky.
Původní hodnoty 0 až téměř 180 se nemění.</li>
<li class="">U dětských souborů, které pokrývají lon=0, ale nepokrývají glóbus, ERDDAP™ vloží chybějící hodnoty podle potřeby k vytvoření souboru, který pokrývá zeměkouli. Například dětský datový soubor s hodnotami délky -40 až 20 by se stal datovým souborem s hodnotami délky 0 až 360.
Hodnoty dětí od 0 do 20 by se nezměnily.
Nové hodnoty délky budou vloženy od 20 do 320. Odpovídající hodnoty dat budou \_FillValues.
Hodnoty dětí -40 až 0 by se staly 320 až 360.
Vložení chybějících hodnot se může zdát divné, ale vyhýbá se několika problémům, které vyplývají z toho, že hodnoty délky, které náhle skočí (např. od 20 do 320) .</li>
<li class="">In <a href="#generatedatasetsxml" class="">GenerovatDatasetsXml</a> , existuje zvláštní &quot;dataset type,&quot; EDDGrid Lon0360From ErddapCatalog, který vám umožní generovat datasets.xml místo EDDGrid Lon0360 datové soubory z každého z EDDGrid data v souboru ERDDAP jejichž délka je větší než 180. To usnadňuje nabízet dvě verze těchto souborů údajů:
originál s hodnotami délky v rozmezí 0 až 360,
a nový datový soubor s hodnotami délky v rozmezí -180 až 180.</li>
</ul>
<p>Soubor údajů o dětech v rámci každého EDDGrid Lon0360 bude soubor dat EDDGrid Od souboru Erddap, který ukazuje na původní datový soubor.
Nový soubor údajů datasetID bude název původního datového souboru plus &quot;\_Lon0360.&quot;
Například,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dataset type=&quot;EDDGridLon0360&quot; datasetID=&quot;erdMBsstdmday\\_Lon0360&quot; active=&quot;true&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;dataset type=&quot;EDDGridFromErddap&quot; datasetID=&quot;erdMBsstdmday\\_Lon0360Child&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;!-- SST, Aqua MODIS, NPP, 0.025 degrees, Pacific Ocean, Daytime </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          (Monthly Composite) minLon=-40.0 maxLon=20.0 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceUrl&gt;https://coastwatch.pfeg.noaa.gov/erddap/griddap/erdMBsstdmday</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/sourceUrl&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/dataset&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dataset&gt; </span><br></span></code></pre></div></div>
<p>Polož to. EDDGrid Databáze Lon0360 <strong>níže</strong> původní soubor údajů v datasets.xml . To se vyhýbá některým možným problémům.</p>
<p>Alternativně můžete nahradit EDDGrid FromErddap child database with the original database&#x27;s datasets.xml . Pak bude existovat pouze jedna verze datového souboru: ta s hodnotami délky v rozmezí 0 až 360. Odradíme ji, protože jsou chvíle, kdy je každá verze datového souboru pohodlnější.</p>
<ul>
<li class="">Pokud například nabízíte dvě verze datového souboru s délkou 0 až 360 a jednou s délkou 180 až 180:<!-- -->
<ul>
<li class="">Můžete použít volitelné [&lt;přístupný Via WMS &gt; false&lt;/přístupný Via WMS &gt;] (#Accessibleviawms) s 0 až 360 datovým souborem k násilnému vypnutí WMS služba pro tento datový soubor. Pak bude přístupná pouze verze -180 až 180 souborů WMS .</li>
<li class="">Existuje několik způsobů, jak udržet datový soubor Lon0360 aktuální se změnami základního datového souboru:<!-- -->
<ul>
<li class="">Pokud je soubor údajů o dítěti EDDGrid FromErddap soubor, který odkazuje na datový soubor ve stejném ERDDAP™ , soubor údajů Lon0360 se pokusí přímo přihlásit k podkladovému souboru tak, aby byl vždy aktuální. Přímé předplatné nevytváří e-maily, které vás žádají o potvrzení předplatného - validace by měla být provedena automaticky.</li>
<li class="">Pokud dětský soubor údajů není EDDGrid OdErddap soubor, který je na stejné ERDDAP™ , soubor údajů Lon0360 se pokusí použít systém pravidelného předplatného k upsání základního datového souboru. Pokud máte systém předplatného ve svém ERDDAP™ Zapnuto, měli byste dostat e-maily a požádat vás o potvrzení předplatného. Prosím, udělejte to.</li>
<li class="">Pokud máte systém předplatného ve svém ERDDAP™ Vypnuto, soubor souborů Lon0360 může někdy mít zastaralá metadata, dokud není soubor Lon0360 znovu načten. Takže pokud je systém předplatného vypnut, měli byste nastavit [&lt;reload EveryNMinutes &gt;] (# reload everynminutes) nastavení souboru údajů Lon0360 na menší číslo, takže je pravděpodobnější, že dříve zachytí změny souboru údajů o dítěti.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridlon0360-skeleton-xml">EDDGrid Lon0360 kostra XML<a href="#eddgridlon0360-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDGrid Lon0360 kostra XML" title="Přímý odkaz naEDDGrid Lon0360 kostra XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridLon0360&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1. For<br>
<!-- -->        EDDGridFromDap, this gets the remote .dds and then gets the new<br>
<!-- -->        leftmost (first) dimension values. --&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- The child EDDGrid dataset. --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridsidebyside">EDDGrid SideBySide<a href="#eddgridsidebyside" class="hash-link" aria-label="Přímý odkaz naEDDGrid SideBySide" title="Přímý odkaz naEDDGrid SideBySide" translate="no">​</a></h3>
<p><a href="#eddgridsidebyside" class=""> ** EDDGrid SideBySide** </a> agregáty dvě nebo více EDDGrid Soubory údajů (děti) Bok po boku.</p>
<ul>
<li class="">Výsledný datový soubor má všechny proměnné ze všech dětských souborů.</li>
<li class="">Databáze rodičů a všechny soubory údajů o dětech musí být odlišné datasetID s. Pokud jsou jména v rodině úplně stejná, soubor údajů selže při načtení (s chybovou zprávou, že hodnoty souhrnné osy nejsou v seřazeném pořadí) .</li>
<li class="">Všechny děti musí mít stejné výchozí hodnoty pro axisVariable án \[ 1+ \]   (například zeměpisná šířka, zeměpisná délka) . Přesnost zkoušky určuje <a href="#matchaxisndigits" class="">zápasAxisNDigits</a> .</li>
<li class="">Děti mohou mít různé výchozí hodnoty pro axisVariable án \[ 0 \]   (například čas) , ale obvykle jsou většinou stejné.</li>
<li class="">Zdá se, že mateřský soubor bude mít všechny axisVariable án \[ 0 \] výchozí hodnoty od všech dětí.</li>
<li class="">To například umožňuje kombinovat zdrojový soubor s U-komponentou vektoru a dalším zdrojovým datovým souborem s v-komponentou vektoru, takže mohou být podávaná kombinovaná data.</li>
<li class="">Děti vytvořené touto metodou jsou drženy v soukromí. Nejsou samostatně přístupné datové soubory (například požadavky klientů na údaje nebo <a class="" href="/cs/docs/server-admin/additional-information#flag">Soubory s vlajkou</a> ) .</li>
<li class="">Globální metadata a nastavení pro rodiče pocházejí z globálních metadat a nastavení pro první dítě.</li>
<li class="">Pokud existuje výjimka při vytváření prvního dítěte, rodiče nebudou stvořeni.</li>
<li class="">Pokud existuje výjimka při vytváření jiných dětí, to posílá e-mail na e-mail vše (jak je uvedeno v <a class="" href="/cs/docs/server-admin/deploy-install#setupxml">setup.xml</a> ) a pokračuje s ostatními dětmi.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridsidebyside-skeleton-xml">EDDGrid Boční kostra XML<a href="#eddgridsidebyside-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDGrid Boční kostra XML" title="Přímý odkaz naEDDGrid Boční kostra XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridSideBySide&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#matchaxisndigits" class="">&lt;matchAxisNDigits&gt;</a>...&lt;/matchAxisNDigits&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- 2 or more --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridaggregateexistingdimension">EDDGrid AgregátExistujícíRozměr<a href="#eddgridaggregateexistingdimension" class="hash-link" aria-label="Přímý odkaz naEDDGrid AgregátExistujícíRozměr" title="Přímý odkaz naEDDGrid AgregátExistujícíRozměr" translate="no">​</a></h3>
<p><a href="#eddgridaggregateexistingdimension" class=""> ** EDDGrid AgregátExistujícíRozměr** </a> agregáty dvě nebo více EDDGrid datové soubory, z nichž každý má jiný rozsah hodnot pro první rozměr, ale stejné hodnoty pro ostatní rozměry.</p>
<ul>
<li class="">Například jeden soubor údajů o dětech může mít 366 hodnot. (pro rok 2004) pro časový rozměr a jiné dítě může mít 365 hodnot (pro rok 2005) pro časovou dimenzi.</li>
<li class="">Všechny hodnoty pro všechny ostatní rozměry (například zeměpisná šířka, zeměpisná délka) Musí být stejné pro všechny děti. Přesnost zkoušky určuje <a href="#matchaxisndigits" class="">zápasAxisNDigits</a> .</li>
<li class="">Vytříděné hodnoty rozměrů - Hodnoty pro každý rozměr MUSÍ být v seřazeném pořadí (vzestupně nebo sestupně) . Hodnoty mohou být nepravidelně rozloženy. Nejsou žádné vazby. To je požadavek <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">Standard metadat CF</a> . Pokud hodnoty jakéhokoli rozměru nejsou v seřazeném pořadí, soubor dat se nenačte a ERDDAP™ určí první netříděnou hodnotu v souboru záznamu, <em>velkýRodič rodičů</em> /logs/log.txt .</li>
</ul>
<p>Netříděné hodnoty rozměrů téměř vždy indikují problém se zdrojovým souborem. To se nejčastěji vyskytuje, když je do agregace zahrnut chybný nebo nevhodný soubor, což vede k netříděné časové dimenzi. Pro vyřešení tohoto problému viz chybová zpráva v ERDDAP™ log.txt soubor k nalezení urážlivé časové hodnoty. Pak se podívejte do zdrojových souborů najít odpovídající soubor (nebo jeden před nebo jeden po) To nepatří do agregace.</p>
<ul>
<li class="">Databáze rodičů a soubor údajů o dětech se musí lišit datasetID s. Pokud jsou jména v rodině úplně stejná, soubor údajů selže při načtení (s chybovou zprávou, že hodnoty souhrnné osy nejsou v seřazeném pořadí) .</li>
<li class="">V současné době, dítě soubor musí být EDDGrid FromDap data data a MUSÍ mít nejnižší hodnoty souhrnné dimenze (obvykle nejstarší časové hodnoty) . Všechny ostatní děti musí být téměř stejné soubory údajů. (se liší jen v hodnotách pro první rozměr) a jsou určeny jen jejich sourceUrl .</li>
<li class="">Souhrnný soubor dat získává metadata od prvního dítěte.</li>
<li class="">The <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> může vytvořit hrubý návrh datasets.xml pro EDDGrid AgregátExisingDimension založený na souboru souborů, které podává Hyrax nebo THREDDS server. Například, použijte tento vstup pro program (&quot;/1988&quot; v URL dělá příklad běžet rychleji) :<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  EDDType? EDDGridAggregateExistingDimension  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Server type (hyrax, thredds, or dodsindex)? hyrax  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Parent URL (for example, for hyrax, ending in &quot;contents.html&quot;;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for thredds, ending in &quot;catalog.xml&quot;)  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ? https://opendap.jpl.nasa.gov/opendap/ocean\\_wind/ccmp/L3.5a/data/  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    flk/1988/contents.html  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  File name regex (for example, &quot;.\\*\\.nc&quot;)? month.\\*flk\\.nc\\.gz  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ReloadEveryNMinutes (for example, 10080)? 10080  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Můžete použít výsledný&lt; sourceUrl &gt; značky nebo odstranit a odkomentovat&lt; sourceUrl &gt; tag (tak, že nové soubory jsou zaznamenány pokaždé, když je soubor znovu načten.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridaggregateexistingdimension-skeleton-xml">EDDGrid AgregátExistující kostra rozdělení XML<a href="#eddgridaggregateexistingdimension-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDGrid AgregátExistující kostra rozdělení XML" title="Přímý odkaz naEDDGrid AgregátExistující kostra rozdělení XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridAggregateExistingDimension&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot;<br>
<!-- -->        <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- This is a regular <a href="#eddgridfromdap" class="">EDDGridFromDap</a> dataset<br>
<!-- -->        description child with the lowest values for the aggregated<br>
<!-- -->        dimensions. --&gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt; &lt;!-- 0 or many; the sourceUrls for<br>
<!-- -->        other children.  These children must be listed in order of<br>
<!-- -->        ascending values for the aggregated dimension. --&gt;<br>
<!-- -->      &lt;sourceUrls serverType=&quot;...&quot; regex=&quot;...&quot; recursive=&quot;true&quot;<br>
<!-- -->        <a href="#pathregex" class="">pathRegex</a>\=&quot;.\<em>&quot;<br>
<!-- -->        &gt;https://<em>someServer/someDirectory/someSubdirectory</em>/catalog.xml&lt;/sourceUrls&gt;<br>
<!-- -->        &lt;!-- 0 or 1. This specifies how to find the other children,<br>
<!-- -->        instead of using separate sourceUrl tags for each child.  The<br>
<!-- -->        advantage of this is: new children will be detected each time<br>
<!-- -->        the dataset is reloaded. The serverType must be &quot;thredds&quot;,<br>
<!-- -->        &quot;hyrax&quot;, or &quot;dodsindex&quot;.
        An example of a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">regular expression</a> (regex)  (<a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">tutorial</a>) is .\</em>\.nc<br>
<!-- -->        recursive can be &quot;true&quot; or &quot;false&quot;.<br>
<!-- -->        Only directory names which match the<br>
<!-- -->        <a href="#pathregex" class="">&lt;pathRegex&gt;</a><br>
<!-- -->        (default=&quot;.\*&quot;) will be accepted.<br>
<!-- -->        A thredds catalogUrl MUST include &quot;/thredds/catalog/&quot;.<br>
<!-- -->        An example of a thredds catalogUrl is<br>
<!-- -->        <a href="https://thredds1.pfeg.noaa.gov/thredds/catalog/Satellite/aggregsatMH/chla/catalog.xml" target="_blank" rel="noopener noreferrer" class="">https://thredds1.pfeg.noaa.gov/thredds/catalog/Satellite/aggregsatMH/<br>
<!-- -->          chla/catalog.xml</a><br>
<!-- -->        An example of a hyrax catalogUrl is<br>
<!-- -->        <a href="https://opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/1988/contents.html" target="_blank" rel="noopener noreferrer" class="">https://opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/<br>
<!-- -->        flk/1988/contents.html</a><br>
<!-- -->        An example of a dodsindex URL is<br>
<!-- -->        <a href="https://opendap.jpl.nasa.gov/opendap/GeodeticsGravity/tellus/L3/mascon/RL06/JPL/v02/CRI/netcdf/contents.html" target="_blank" rel="noopener noreferrer" class="">https://opendap.jpl.nasa.gov/opendap/GeodeticsGravity/tellus/L3/mascon/RL06/JPL/v02/CRI/netcdf/contents.html</a><br>
<!-- -->        (Note the &quot;OPeNDAP logo at the top of the page.)<br>
<!-- -->        When these children are sorted by filename, they must be in<br>
<!-- -->        order of ascending values for the aggregated dimension. --&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#matchaxisndigits" class="">&lt;matchAxisNDigits&gt;</a>...&lt;/matchAxisNDigits&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#dimensionvaluesinmemory" class="">&lt;dimensionValuesInMemory&gt;</a>...&lt;/dimensionValuesInMemory&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridcopy">EDDGrid Kopírovat<a href="#eddgridcopy" class="hash-link" aria-label="Přímý odkaz naEDDGrid Kopírovat" title="Přímý odkaz naEDDGrid Kopírovat" translate="no">​</a></h3>
<p><a href="#eddgridcopy" class=""> ** EDDGrid Kopírovat** </a> vyrábí a udržuje místní kopii jiného EDDGrid &#x27;s daty a slouží data z místní kopie.</p>
<ul>
<li class="">EDDGrid Kopírovat (a pro tabulková data, <a href="#eddtablecopy" class="">EDDtableCopy</a> ) je velmi snadné použití a velmi efektivní
<strong>řešení některých největších problémů se službou dat ze vzdáleného zdroje dat:</strong></li>
<li class="">Přístup k datům ze vzdáleného zdroje dat může být pomalý.<!-- -->
<ul>
<li class="">Může být pomalý, protože je neodmyslitelně pomalý. (například neefektivní typ serveru) ,</li>
<li class="">Protože je přemožena příliš mnoha požadavky,</li>
<li class="">nebo proto, že váš server nebo vzdálený server je omezen.</li>
</ul>
</li>
<li class="">Vzdálený datový soubor je někdy nedostupný (znovu, z různých důvodů) .</li>
<li class="">Spoléhání na jeden zdroj pro data se neměří dobře (například, když mnoho uživatelů a mnoho ERDDAP Využijte ho.) .
 </li>
<li class="">Jak to funguje... EDDGrid Kopírování řeší tyto problémy tím, že automaticky vytvoří a udržuje místní kopii dat a slouží data z místní kopie. ERDDAP™ může sloužit data z místní kopie velmi, velmi rychle. A vytvoření místní kopie uvolní zátěž vzdáleného serveru. A místní kopie je záloha originálu, což je užitečné pro případ, že by se něco stalo s originálem.</li>
</ul>
<p>Na vytvoření místní kopie souboru není nic nového. Co je tady nového je, že tato třída to dělá\*snadné\*vytvořit a\*udržovat\*místní kopie údajů z\*odrůda\*typů vzdálených zdrojů dat a\*přidat metadata\*při kopírování dat.</p>
<ul>
<li class="">Kousky dat... EDDGrid Kopírování dělá místní kopii dat tím, že požaduje kousky dat ze vzdáleného&lt;Soubor údajů &gt; . Tam bude kus pro každou hodnotu z nejlevnějších (první) proměnná osy. EDDGrid Kopírování nespoléhá na čísla indexu vzdáleného datového souboru pro osu - ty se mohou změnit.</li>
</ul>
<p>UPOZORNĚNÍ: Pokud je velikost kusu dat tak velká (&gt; 2GB) že způsobuje problémy, EDDGrid Kopii nelze použít. (Promiňte, doufáme, že pro tento problém budeme mít řešení v budoucnosti.)</p>
<ul>
<li class="">\[ Alternativa k EDDGrid Kopírovat -
Pokud jsou vzdálená data dostupná prostřednictvím stažených souborů, nikoli webové služby, použijte <a href="#cachefromurl" class="">cache Možnost FromUrl pro EDDGrid FromFiles</a> , který tvoří místní kopii vzdálených souborů a slouží data z místních souborů. \]</li>
<li class="">Místní soubory... Každý kus dat je uložen v samostatném NetCDF soubor v podadresáři <em>velkýRodič rodičů</em> /kopie/ * datasetID * / (jak je uvedeno v <a class="" href="/cs/docs/server-admin/deploy-install#setupxml">setup.xml</a> ) . Jméno souboru vytvořené z osových hodnot je upraveno tak, aby byly bezpečné (Například pomlčky se nahrazují &quot;x2D&quot;) Tohle nemá vliv na skutečná data.
 </li>
<li class="">Nová data -- Pokaždé EDDGrid Kopírování je znovu načteno, kontroluje ovladač&lt;Databáze &gt; zjistit, jaké kousky jsou k dispozici. Pokud soubor pro kus dat již neexistuje, je do fronty přidán požadavek na získání kusu. ERDDAP &#x27;s úkolemThread zpracovává všechny ve frontě žádosti o kousky dat, jeden po druhém. Můžete vidět statistiky pro úkolThread činnost na <a class="" href="/cs/docs/server-admin/additional-information#status-page">Stavová stránka</a> a v <a class="" href="/cs/docs/server-admin/additional-information#daily-report">Denní zpráva</a> . (Ano. ERDDAP™ by mohl přidělit více úkolů tomuto procesu, ale to by využít spoustu vzdáleného zdroje dat šířky pásma, paměti a času CPU, a mnoho místních ERDDAP &#x27;s šířkou pásma, pamětí a CPU časem, ani jeden z nich není dobrý nápad.)</li>
</ul>
<p>POZNÁMKA: Úplně poprvé EDDGrid Rozumím. (Pokud vše půjde dobře) Do fronty úkolThread bude přidáno mnoho žádostí o kousky dat, ale nebudou vytvořeny žádné místní datové soubory. Takže konstruktér selže, ale úkolThread bude i nadále pracovat a vytvářet místní soubory. Pokud vše půjde dobře, úkolThread vytvoří místní datové soubory a další pokus o opětovné načtení datového souboru (za ~15 minut) bude úspěšný, ale zpočátku s velmi omezeným množstvím dat.</p>
<p>POZNÁMKA: Poté, co má místní datový soubor nějaká data a objeví se ve vašem ERDDAP , pokud je vzdálený datový soubor dočasně nebo trvale nepřístupný, bude místní datový soubor stále fungovat.</p>
<p>UPOZORNĚNÍ: Pokud je vzdálený datový soubor velký a/nebo je vzdálený server pomalý (To je ten problém, že?) , bude trvat dlouho, aby kompletní místní kopii. V některých případech bude potřebný čas nepřijatelný. Například přenos 1 TB dat přes řádek T1 (0, 15 GB/s) trvá nejméně 60 dní, za optimálních podmínek. Navíc využívá spoustu šířky pásma, paměti a času CPU na vzdálených a místních počítačích. Řešením je odeslání pevného disku správci vzdálené datové sady tak, aby mohl vytvořit kopii souboru dat a odeslat pevný disk zpět vám. Použít tyto údaje jako výchozí bod a EDDGrid Kopírování do něj přidá data. (To je jeden způsob, jak <a href="https://aws.amazon.com/importexport/" target="_blank" rel="noopener noreferrer" class="">Cloud Service společnosti Amazon</a> řeší problém, i když jejich systém má hodně šířky pásma.)</p>
<p>UPOZORNĚNÍ: Pokud je daná hodnota pro levý (první) proměnná osy mizí ze vzdáleného datového souboru, EDDGrid Kopírování nevymaže místní zkopírovaný soubor. Jestli chceš, můžeš to smazat sám.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="grid-copy-checksourcedata">@ info: whatsthis Údaje<a href="#grid-copy-checksourcedata" class="hash-link" aria-label="Přímý odkaz na@ info: whatsthis Údaje" title="Přímý odkaz na@ info: whatsthis Údaje" translate="no">​</a></h4>
<p>The datasets.xml pro tento datový soubor může mít volitelnou značku</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;checkSourceData&gt;true&lt;/checkSourceData&gt;  </span><br></span></code></pre></div></div>
<p>Výchozí hodnota je pravdivá. Pokud / když jej nastavíte na false, data nikdy nezkontrolují zdrojový soubor, aby zjistili, zda jsou k dispozici další data.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="onlysince">pouze od<a href="#onlysince" class="hash-link" aria-label="Přímý odkaz napouze od" title="Přímý odkaz napouze od" translate="no">​</a></h4>
<p>You can tell EDDGrid Kopírovat pro vytvoření kopie podmnožiny zdrojového souboru, místo celého zdrojového souboru, přidáním značky ve formuláři&lt;pouzeOd&gt; <em>některé Hodnota</em> &lt;/pouzeOd &gt; do souboru údajů datasets.xml kus. EDDGrid Kopírování bude stahovat pouze hodnoty dat související s hodnotami prvního rozměru (obvykle časový rozměr) které jsou větší než <em>některé Hodnota</em> . <em>některé Hodnota</em> může být:</p>
<ul>
<li class="">
<p>Relativní čas stanovený prostřednictvím now-  <em>nJednotky</em> .
Například,&lt;pouzeOd&gt; now- 2 roky&lt;/pouzeVzhledem k tomu, že &gt; říká datovému souboru, aby pouze místní kopie údajů pro data, kde hodnoty vnějšího rozměru (obvykle časové hodnoty) jsou v posledních dvou letech (který je přehodnocen pokaždé, když je soubor dat znovu načten, což je, když hledá nové údaje kopírovat) . Viz <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#now" target="_blank" rel="noopener noreferrer" class=""> now-  <em>nJednotky</em> Popis syntaxe</a> . To je užitečné, pokud má první rozměr časová data, což obvykle má.</p>
<p>EDDGrid Kopírování nevymaže místní datové soubory, které mají data, která časem zestárnou now-  <em>nJednotky</em> . Tyto soubory můžete kdykoli smazat, pokud se rozhodnete. Pokud ano, důrazně doporučujeme nastavit <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> poté, co smažete soubory k prozrazení EDDGrid Kopírovat pro aktualizaci seznamu cached souborů.</p>
</li>
<li class="">
<p>Pevný bod v čase určený jako řetězec ISO 8601 yyyy-MM-ddTHH:mm<!-- -->:ssZ<!-- --> .
Například,&lt;pouzeOd &gt;2000-01-01T00:00:00Z&lt;/onlyOd té doby&gt; říká souboru dat pouze, aby místní kopie dat, kde je hodnota prvního rozměru \&gt;=2000-01-01T00:00:00Z . To je užitečné, pokud první rozměr má data času, což obvykle dělá.
 </p>
</li>
<li class="">
<p>Číslo plovoucího bodu.
Například,&lt;pouzeOd &gt;94668480. 0&lt;/pouzeOd &gt; . Jednotky budou cílové jednotky první dimenze. Například pro časové rozměry, jednotky v ERDDAP™ jsou vždy &quot;seconds since 1970-01-01T00:00:00Z&quot; . Takže 94668480.0. &quot;seconds since 1970-01-01T00:00:00Z&quot; odpovídá 2000-01-01T00:00:00Z. To je vždy užitečná volba, ale je zvláště užitečná, když první dimenze nemá data o čase.</p>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridcopy-recomended-use">EDDGrid Kopírovat doporučené použití<a href="#eddgridcopy-recomended-use" class="hash-link" aria-label="Přímý odkaz naEDDGrid Kopírovat doporučené použití" title="Přímý odkaz naEDDGrid Kopírovat doporučené použití" translate="no">​</a></h4>
<ol>
<li class="">Vytvořit&lt;Databáze &gt; položka (původní typ, nikoli EDDGrid Kopírovat) pro vzdálený zdroj dat.
<strong>Udělejte to správně, včetně všech požadovaných metadat.</strong></li>
<li class="">Pokud je to příliš pomalé, přidejte XML kód k zabalení do EDDGrid Kopírovat data.<!-- -->
<ul>
<li class="">Použít jiný datasetID   (Možná změnou datasetID starých datasetID mírně) .</li>
<li class="">Kopírovat&lt;přístupný To&gt;,&lt;reloadEveryNMinutes&gt; a&lt;onChange&gt; ze vzdáleného EDDGrid &#x27;s XML na EDDGrid XML kopie. (Jejich hodnoty pro EDDGrid Kopírovat hmotu; jejich hodnoty pro vnitřní datový soubor jsou irelevantní.)</li>
</ul>
</li>
<li class="">ERDDAP™ vytvoří a udržuje místní kopii údajů.
 </li>
</ol>
<ul>
<li class="">UPOZORNĚNÍ: EDDGrid Kopírovat předpokládá, že hodnoty dat pro každý kus se nikdy nezmění. Pokud ano, musíte ručně smazat jednotlivé soubory v <em>velkýRodič rodičů</em> /kopie/ * datasetID * / která se změnila a <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> soubor údajů, který má být znovu načten, aby byly smazané kusy nahrazeny. Pokud máte e-mailové předplatné datového souboru, dostanete dva e-maily: jeden, když soubor dat poprvé načte a začne kopírovat data, a další, když se soubor dat znovu načte (automaticky) a detekuje nové místní datové soubory.
 </li>
<li class="">Všechny hodnoty osy musí být stejné.
Pro každou z os kromě těch nejlevějších (první) , všechny hodnoty musí být stejné pro všechny děti. Přesnost zkoušky určuje <a href="#matchaxisndigits" class="">zápasAxisNDigits</a> .
 </li>
<li class="">Nastavení, Metadata, Proměnné -- EDDGrid Kopírovat používá nastavení, metadata a proměnné z uzavřeného zdrojového souboru.
 </li>
<li class="">Změnit metadata -- Pokud potřebujete změnit některý addAttributes nebo změnit pořadí proměnných spojených se zdrojovým datovým souborem:<!-- -->
<ol>
<li class="">Změňte addAttributes pro zdrojový soubor dat v datasets.xml , podle potřeby.</li>
<li class="">Smazat jeden z kopírovaných souborů.</li>
<li class="">Nastavit <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> okamžitě načíst soubor údajů. Pokud použijete vlajku a máte e-mailové předplatné datového souboru, dostanete dva e-maily: jeden, když soubor dat poprvé znovu načte a začne kopírovat data, a druhý, když se soubor dat znovu načte (automaticky) a detekuje nové místní datové soubory.</li>
<li class="">Smazaný soubor bude regenerován s novými metadaty. Pokud zdrojový soubor není k dispozici, EDDGrid Kopírovat soubor získá metadata z regenerovaného souboru, protože je to nejmladší soubor.</li>
</ol>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddgridcopy-skeleton-xml">EDDGrid Kopírovat kostru XML<a href="#eddgridcopy-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDGrid Kopírovat kostru XML" title="Přímý odkaz naEDDGrid Kopírovat kostru XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDGridCopy&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviafiles" class="">&lt;accessibleViaFiles&gt;</a>true|false(default)&lt;/accessibleViaFiles&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviawms" class="">&lt;accessibleViaWMS&gt;</a>...&lt;/accessibleViaWMS&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#matchaxisndigits" class="">&lt;matchAxisNDigits&gt;</a>...&lt;/matchAxisNDigits&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#filetableinmemory" class="">&lt;fileTableInMemory&gt;</a>...&lt;/fileTableInMemory&gt; &lt;!-- 0 or 1 (true or false<br>
<!-- -->        (the default)) --&gt;<br>
<!-- -->      <a href="#grid-copy-checksourcedata" class="">&lt;checkSourceData&gt;</a>...&lt;/checkSourceData&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onlysince" class="">&lt;onlySince&gt;</a>...&lt;/onlySince&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- 1 --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromcassandra">EDDTableFromCassandra<a href="#eddtablefromcassandra" class="hash-link" aria-label="Přímý odkaz naEDDTableFromCassandra" title="Přímý odkaz naEDDTableFromCassandra" translate="no">​</a></h3>
<p><a href="#eddtablefromcassandra" class=""> <strong>EDDTableFromCassandra</strong> </a> zpracovává údaje z jednoho <a href="https://cassandra.apache.org/" target="_blank" rel="noopener noreferrer" class="">Cassandra</a> stůl. Cassandra je databáze NoSQL.</p>
<ul>
<li class="">ERDDAP™ může pracovat s Cassandra v2 a v3 bez změn nebo rozdílů v nastavení. Testovali jsme s <a href="https://cassandra.apache.org/download/" target="_blank" rel="noopener noreferrer" class="">Cassandra v2 a v3 z Apač</a> . Pravděpodobně ERDDAP™ může také pracovat s Cassandrou staženou z DataStax.
 </li>
<li class="">Pro srpen 2019 - květen 2021 jsme měli problém přimět Cassandru pracovat s AdoptOpenJdkem Java v8. Hodila EXCEPTION\_ACCESS\_VIOLATION). Ale teď (květen 2021) , že problém je pryč: můžeme úspěšně použít Cassandra v2.1.22 a AdopOpenJdk jdk8u292-b10.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="one-table">Jedna tabulka<a href="#one-table" class="hash-link" aria-label="Přímý odkaz naJedna tabulka" title="Přímý odkaz naJedna tabulka" translate="no">​</a></h4>
<p>Cassandra nepodporuje &quot;připojení&quot; tak, jak to dělají relační databáze. Jedna ERDDAP™ EDDTableFromCassandra databázové mapy na jednu (možná podmnožina jednoho) Stůl Cassandry.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-datasetsxml">Cassandra datasets.xml<a href="#cassandra-datasetsxml" class="hash-link" aria-label="Přímý odkaz naCassandra datasets.xml" title="Přímý odkaz naCassandra datasets.xml" translate="no">​</a></h4>
<ul>
<li class="">ERDDAP™ přichází s Cassandrou. Java řidič, takže nemusíte instalovat samostatně.</li>
<li class="">Pečlivě si přečtěte všechny informace tohoto dokumentu o EDDTableFromCassandra. Některé detaily jsou velmi důležité.</li>
<li class="">Cassandra Java řidič je určen k práci s Apache Cassandra (1,2+) a DataStax Enterprise (3.1+) . Pokud používáte Apache Cassandra 1.2.x, musíte upravit soubor cassandra.yaml pro každý uzel pro nastavení startu\_native\_transport: true, pak restartovat každý uzel.</li>
<li class="">Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Pak můžete upravit, že na jemné naladění (zejména [&lt;oddíl Název KeySource &gt;] (#partitionkeysourcenames) ). Většinu informací, které potřebujete k vytvoření XML pro datový soubor EDDTableFromCassandra, můžete shromáždit prostřednictvím kontaktu se správcem Cassandry a vyhledáváním na webu.</li>
</ul>
<p>Generovat soubory dat Xml má dvě speciální možnosti pro EDDTableFromCassandra:</p>
<ol>
<li class="">Pokud vstoupíte &quot;!!!LIST!!!!&quot; (bez kotací) pro klíčový prostor program zobrazí seznam klíčových prostor</li>
<li class="">Pokud vstoupíte do určitého klíčového prostoru a zadáte &quot;!!!LIST!!!!&quot; (bez kotací) pro název tabulky, program zobrazí seznam tabulek v tomto keyspace a jejich sloupců.</li>
</ol>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="case-sensitivity">Citlivost případu<a href="#case-sensitivity" class="hash-link" aria-label="Přímý odkaz naCitlivost případu" title="Přímý odkaz naCitlivost případu" translate="no">​</a></h5>
<ul>
<li class="">Klíčově citlivé názvy a tabulky -
Cassandra zachází se jmény klíčů a tabulky způsobem, který je citlivý na případy. Kvůli tomuhle nesmíte nikdy použít rezervované slovo. (ale s jiným případem) jako keyspace Cassandra nebo jméno stolu.</li>
<li class="">Název sloupce necitlivý na případy --
Ve výchozím nastavení, Cassandra zachází názvy sloupců způsobem, který je citlivý na případy. Pokud použijete jedno z Cassandriných vyhrazených slov jako název sloupce (Prosím, ne!) , musíte použít</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;columnNameQuotes&gt;&quot;&lt;columnNameQuotes&gt;  </span><br></span></code></pre></div></div>
<p>v datasets.xml pro tento datový soubor tak, aby Cassandra a ERDDAP™ bude s názvy sloupců zacházet způsobem, který je citlivý na případy. To bude pravděpodobně masivní bolest hlavy pro vás, protože je těžké určit případ citlivé verze jmen sloupců - Cassandra téměř vždy zobrazuje názvy sloupců jako všechny malé-případ, bez ohledu na skutečný případ.</p>
<ul>
<li class="">úzce spolupracovat se správcem Cassandry, který může mít příslušné zkušenosti. Pokud datový soubor nenačte, přečtěte si <a href="#troubleshooting-tips" class="">chybová zpráva</a> pečlivě zjistit proč.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-connectionproperty">Cassandra&lt;spojení Nemovitost&gt;<a href="#cassandra-connectionproperty" class="hash-link" aria-label="Přímý odkaz naCassandra&lt;spojení Nemovitost&gt;" title="Přímý odkaz naCassandra&lt;spojení Nemovitost&gt;" translate="no">​</a></h4>
<p>Cassandra má vlastnosti připojení, které mohou být uvedeny v datasets.xml . Mnoho z nich ovlivní výkon Cassandry... ERDDAP™ spojení. Bohužel, vlastnosti Cassandra musí být nastaveny programově v Java Takže ERDDAP™ musí mít kód pro každou nemovitost ERDDAP™ Podpora. V současné době, ERDDAP™ podporuje tyto vlastnosti:
(Zobrazené výchozí hodnoty jsou to, co vidíme. Default vašeho systému může být jiný.)</p>
<ul>
<li class=""><strong>Obecné možnosti</strong><br>
<!-- -->&lt;spojení Název nemovitosti=&quot; <strong>komprese</strong> &quot;&gt; <em>žádný | LZ4 | Snappy</em> &lt;/připojení Majetek &gt; (případ-necitlivý, výchozí=ne)<br>
<!-- -->(Obecné kompresní poradenství: použijte &quot;ne,&quot; pokud je spojení mezi Cassandrou a ERDDAP™ je lokální/rychlostní a pokud je spojení vzdálené/pomalé, použijte &#x27;LZ4&#x27;.)<br>
<!-- -->&lt;spojení Název nemovitosti=&quot; <strong>pověřovací listiny</strong> &quot;&gt; <em>uživatelské jméno/heslo</em> &lt;/připojení Majetek &gt; (To je doslova. &#x27;/&#x27; )<br>
<!-- -->&lt;spojení Název nemovitosti=&quot; <strong>metriky</strong> &quot;&gt; <em>pravda | false</em> &lt;/připojení Majetek &gt; (2021-01-25 byl výchozí=true, nyní ignorován a vždy false)<br>
<!-- -->&lt;spojení Název nemovitosti=&quot; <strong>přístav</strong> &quot;&gt; <em>anInteger</em> &lt;/připojení Majetek &gt; (výchozí pro nativní binární protokol=9042)<br>
<!-- -->&lt;spojení Název nemovitosti=&quot; <strong>ssl</strong> &quot;&gt; <em>pravda | false</em> &lt;/připojení Majetek &gt; (default=false)<br>
<!-- -->(Můj rychlý pokus použít ssl selhal. Pokud uspějete, prosím, řekněte mi, jak jste to udělal.)</li>
<li class=""><strong>Možnosti dotazu</strong><br>
<!-- -->&lt;spojení Název nemovitosti=&quot; <strong>soulad Úroveň</strong> &quot;&gt; <em>všechny | jakékoli | každý\_quorum | místní\_one | místní\_quorum | místní\_serial | jeden | usnášeníschopnost | sériová | tři | dva</em> &lt;/připojení Majetek &gt; (případ necitlivý, výchozí=ON)<br>
<!-- -->&lt;spojení Název nemovitosti=&quot; <strong>getSize</strong> &quot;&gt; <em>anInteger</em> &lt;/připojení Majetek &gt; (výchozí=5000)<br>
<!-- -->(Nenastavujte getSize na menší hodnotu.)<br>
<!-- -->&lt;spojení Název nemovitosti=&quot; <strong>Sériová konzistenceLevel</strong> &quot;&gt; <em>všechny | jakékoli | každý\_quorum | místní\_one | místní\_quorum | místní\_serial | jeden | usnášeníschopnost | sériová | tři | dva</em> &lt;/připojení Majetek &gt; (nesenzitivní případ, výchozí hodnota = SERIAL)</li>
<li class=""><strong>Možnosti socketu</strong><br>
<!-- -->&lt;spojení Název nemovitosti=&quot; <strong>connectTimeoutMillis</strong> &quot;&gt; <em>anInteger</em> &lt;/připojení Majetek &gt; (výchozí=5000)<br>
<!-- -->(Nenastavit připojení TimeoutMillis na menší hodnotu.)<br>
<!-- -->&lt;spojení Název nemovitosti=&quot; <strong>uchovávatAlive</strong> &quot;&gt; <em>pravda | false</em> &lt;/připojení Majetek &gt;
&lt;spojení Název nemovitosti=&quot; <strong>readTimeoutMillis</strong> &quot;&gt; <em>anInteger</em> &lt;/připojení Majetek &gt;
(Cassandra výchozí readTimeoutMillis je 12000, ale ERDDAP™ změní výchozí hodnotu na 120000. Pokud Cassandra hází readTimeouts, zvýšení to nemusí pomoci, protože Cassandra někdy hází je dříve než tentokrát. Problém je pravděpodobnější, že ukládáte příliš mnoho dat na oddíl Klíčová kombinace.)<br>
<!-- -->&lt;spojení Název nemovitosti=&quot; <strong>receiveBufferSize</strong> &quot;&gt; <em>anInteger</em> &lt;/připojení Majetek &gt;
(Není jasné, co je výchozí receiveBufferSize. Nenastav to na malou hodnotu.)<br>
<!-- -->&lt;spojení Název nemovitosti=&quot; <strong>soLinger</strong> &quot;&gt; <em>anInteger</em> &lt;/připojení Majetek &gt;
&lt;spojení Název nemovitosti=&quot; <strong>tcpNoDelay</strong> &quot;&gt; <em>pravda | false</em> &lt;/připojení Majetek &gt; (default=null)</li>
</ul>
<p>Pokud potřebujete být schopni nastavit další vlastnosti připojení, viz naše <a class="" href="/cs/docs/intro#support">oddíl o získání dodatečné podpory</a> .</p>
<p>Pro daný startup Tomcat se připojeníProperties používá pouze poprvé, kdy je vytvořen soubor dat pro danou Cassandra URL. Všechny reloady tohoto datového souboru a všech následných souborů, které sdílejí stejnou URL, budou používat tyto originální připojeníProperties.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cql">CQL<a href="#cql" class="hash-link" aria-label="Přímý odkaz naCQL" title="Přímý odkaz naCQL" translate="no">​</a></h4>
<p>Jazyk dotazů Cassandra (CQL) je povrchně jako SQL, dotaz jazyk používaný tradiční databáze. Protože OPeNDAP &#x27;s tabulkovými požadavky na data byly navrženy tak, aby napodobovaly požadavky SQL tabulky dat, je možné pro ERDDAP™ převést tabulkové žádosti o data do CQL Bound/PreparedStatements. ERDDAP™ vloží prohlášení do <a class="" href="/cs/docs/server-admin/additional-information#log">log.txt</a> jako
prohlášení jako text: <em>státAsText</em><br>
<!-- -->Verze prohlášení, kterou uvidíte, bude textovou reprezentací prohlášení a bude mít pouze &quot;?&quot; kde budou umístěny mezní hodnoty.
 <br>
<!-- -->Není to tak jednoduché... Bohužel, CQL má mnoho omezení, na které sloupce mohou být dotazovány, s kterými typy omezení, například oddíly klíčových sloupců lze omezit s = a IN, takže ERDDAP™ pošle Cassandra několik omezení a použije všechna omezení po obdržení údajů od Cassandry. Abych pomohl. ERDDAP™ efektivně jednat s Cassandra, musíte upřesnit [&lt;oddíl Název KeySource &gt;] (#partitionkeysourcenames) , [&lt;ClosterColumnSourceNames&gt;] (#clustercolumsourcenames) a [&lt;indexColumnSourceNázevs&gt;] (#indexcolunctionsourcenames) v datasets.xml pro tento datový soubor. To jsou nejdůležitější způsoby, jak pomoci. ERDDAP™ efektivně pracovat s Cassandrou. Když to neřekneš ERDDAP™ Tyto informace, data budou bolestivě pomalé v ERDDAP™ a využít tuny zdrojů Cassandry.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="partitionkeysourcenames">&lt;oddíl Jméno KeySource&gt;<a href="#partitionkeysourcenames" class="hash-link" aria-label="Přímý odkaz na&lt;oddíl Jméno KeySource&gt;" title="Přímý odkaz na&lt;oddíl Jméno KeySource&gt;" translate="no">​</a></h4>
<p>Protože diskové klíče hrají ústřední roli v tabulkách Cassandra, ERDDAP™ potřebuje znát jejich sourceName s a případně další informace o tom, jak s nimi pracovat.</p>
<ul>
<li class="">Musíte zadat čárku oddělený seznam jmen zdrojového sloupce oddílu v datasets.xml přes&lt;oddíl KeySourceNames&gt;.
Jednoduchý příklad,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;partitionKeySourceNames&gt;station, deviceid&lt;partitionKeySourceNames&gt;  </span><br></span></code></pre></div></div>
<p>Složitější příklad:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;partitionKeySourceNames&gt;deviceid=1007, date/sampletime/1970-01-01&lt;partitionKeySourceNames&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">TimeStamp Partition Keys -- Je-li jedním ze sloupců klíčů oddílu sloupec časové razítko, který má hrubou verzi jiného sloupce časového razítka, zadejte tuto informaci přes
*oddílKeySourcName/otherColumnSourceName/ time\_precision *<br>
<!-- -->kde time\_precision je jeden z <a href="#time_precision" class=""> time\_precision </a> struny používané jinde v ERDDAP .
Stopa Z v time\_precision řetězec je výchozí, takže nezáleží na tom, zda time\_precision řetězec končí v Z nebo ne.
Například, ERDDAP™ bude interpretovat datum/vzorkčas/1970-01-01 jako &quot;Závazky pro datum lze vytvořit z omezení doby odběru vzorků pomocí tohoto time\_precision ..&quot; Skutečná konverze omezení je složitější, ale to je přehled.
<strong>Použijte to, kdykoli je to důležité.</strong> Umožňuje ERDDAP™ pracovat efektivně s Cassandrou. Pokud tento vztah mezi sloupcemi existuje v tabulce Cassandra a neřeknete ERDDAP™ , datový soubor bude bolestivě pomalý v ERDDAP™ a využít tuny zdrojů Cassandry.</li>
<li class="">Jednoduché Klíče k rozdělení hodnot -- Pokud chcete ERDDAP™ Soubor dat pro práci pouze s jednou hodnotou jednoho diskového klíče, upřesněte <em>oddílKeySourceName=hodnota</em> .
Nepoužívejte citace pro numerický sloupec, například deviceid=1007
Používat citace pro String sloupec, například, standid=&quot;Point Pinos&quot;</li>
<li class="">Nastavení dat Default Sort Order -- Pořadí klíče pro rozdělení&lt; dataVariable &gt; je v datasets.xml určuje výchozí pořadí výsledků od Cassandry. Uživatelé samozřejmě mohou požádat o jiný druh objednávky pro daný soubor výsledků zadáním &amp; orderBy  (&quot; <em>čárka oddělený seznam proměnných</em> &quot;) až do konce jejich dotazu.</li>
<li class="">Ve výchozím nastavení, Cassandra a ERDDAP™ zacházet s názvy sloupců necitlivým způsobem. Ale když to nastavíš <a href="#case-sensitivity" class="">sloupecNázevQuotes</a> &quot; ERDDAP™ bude zacházet s názvy sloupců Cassandra v případě citlivém způsobem.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="partitionkeycsv">&lt;oddíl KeyCSV&gt;<a href="#partitionkeycsv" class="hash-link" aria-label="Přímý odkaz na&lt;oddíl KeyCSV&gt;" title="Přímý odkaz na&lt;oddíl KeyCSV&gt;" translate="no">​</a></h4>
<p>Je-li uvedeno toto, ERDDAP™ použije ho místo toho, aby požádal Cassandru o oddíl Klíčové informace při každém opětovném načtení souboru údajů. To poskytuje seznam různých hodnot klíče oddílu, v pořadí budou použity. Časy musí být specifikovány jako sekundy od 1970-01-01T00:00:00Z. Ale existují také dva zvláštní alternativní způsoby, jak určit časy (každá zakódovaná jako řetězec) :</p>
<ol>
<li class="">čas (aISO8601 Čas)   (MŮŽE být zakódován jako řetězec)</li>
<li class="">&quot;časy (anISO8601StartTime, strideSecond, stopTime) &quot; (Musí být zakódován jako řetězec)<br>
<!-- -->stop Čas může být ISO8601 Čas nebo &quot; now- čas nUnits (např. &quot; now- 3 minuty&quot;) .
stop Čas nemusí přesně odpovídat startu. Čas + x krokSecond.
Hádka s časy () hodnota dostane rozšířen do více řádků před každým dotazem, takže seznam oddílu Klíče mohou být vždy dokonale aktuální.
Například,</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;partitionKeyCSV&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    deviceid,date</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1001,&quot;times(2014-11-01T00:00:00Z, 86400, 2014-11-02T00:00:00Z)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1007,&quot;time(2014-11-07T00:00:00Z)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1008,time(2014-11-08T00:00:00Z)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1009,1.4154912E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/partitionKeyCSV&gt;</span><br></span></code></pre></div></div>
<p>expanduje do této tabulky kombinací diskových klíčů:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    deviceid,date</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1001,1.4148E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1001,1.4148864E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1007,1.4153184E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1008,1.4154048E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1009,1.4154912E9 </span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="clustercolumnsourcenames">&lt;ClosterColumnSourceNames&gt;<a href="#clustercolumnsourcenames" class="hash-link" aria-label="Přímý odkaz na&lt;ClosterColumnSourceNames&gt;" title="Přímý odkaz na&lt;ClosterColumnSourceNames&gt;" translate="no">​</a></h4>
<p>Cassandra akceptuje omezení SQL na klastry, které tvoří druhou část primárního klíče (za rozdělovacím klíčem (án) ) . Takže je důležité identifikovat tyto sloupce pomocí&lt;closterColumnSourceNames&gt;. To umožňuje ERDDAP™ pracovat efektivně s Cassandrou. Pokud jsou shluky sloupců a neřeknete ERDDAP , datový soubor bude bolestivě pomalý v ERDDAP™ a využít tuny zdrojů Cassandry.</p>
<ul>
<li class="">Například,&lt;ClosterColumnSourceNames&gt; <em>myClusterColumn1, myClusterColumn2</em> &lt;/clusterColumnSourceNames&gt;</li>
<li class="">Pokud tabulka Cassandra nemá žádné sloupce, buď nespecifikujte&lt;closterColumnSourceNames&gt; nebo jej zadat bez hodnoty.</li>
<li class="">Ve výchozím nastavení, Cassandra a ERDDAP™ zacházet s názvy sloupců necitlivým způsobem. Ale když to nastavíš <a href="#case-sensitivity" class="">sloupecNázevQuotes</a> &quot; ERDDAP™ bude zacházet s názvy sloupců Cassandra způsobem citlivým na případy.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="indexcolumnsourcenames">&lt;indexColumnSourceNames&gt;<a href="#indexcolumnsourcenames" class="hash-link" aria-label="Přímý odkaz na&lt;indexColumnSourceNames&gt;" title="Přímý odkaz na&lt;indexColumnSourceNames&gt;" translate="no">​</a></h4>
<p>Cassandra přijímá &#x27;=&#x27; omezení na sekundární index sloupce, které jsou sloupce, které jste výslovně vytvořili indexy pro přes</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    CREATE INDEX *indexName* ON *keyspace.tableName* (*columnName*);  </span><br></span></code></pre></div></div>
<p>(Ano, závorky jsou nutné.)<br>
<!-- -->Takže je velmi užitečné, když identifikujete tyto sloupce pomocí&lt;indexColumnSourceNázevs&gt;. To umožňuje ERDDAP™ pracovat efektivně s Cassandrou. Pokud existují sloupce indexu a neřeknete ERDDAP , Některé dotazy budou zbytečné, bolestivě pomalé v ERDDAP™ a využít tuny zdrojů Cassandry.</p>
<ul>
<li class="">Například,&lt;indexColumnSourceNázevs&gt; <em>myIndexColumn1, myIndexColumn2</em> &lt;/indexColumnSourceNázevs&gt;</li>
<li class="">Pokud tabulka Cassandra nemá žádné sloupce indexu, buď nespecifikujte&lt;indexColumnSourceNames&gt;, nebo jej zadat bez hodnoty.</li>
<li class="">Cassandra indexy nejsou jako databázové indexy. Cassandra indexy pomáhají pouze s &#x27;=&#x27; omezení. A jsou jen <a href="https://cassandra.apache.org/doc/latest/cql/indexes.html" target="_blank" rel="noopener noreferrer" class="">doporučené</a> pro sloupce, které mají mnohem méně odlišných hodnot než celkové hodnoty.</li>
<li class="">Ve výchozím nastavení, Cassandra a ERDDAP™ zacházet s názvy sloupců necitlivým způsobem. Ale když to nastavíš <a href="#case-sensitivity" class="">sloupecNázevQuotes</a> &quot; ERDDAP™ bude zacházet s názvy sloupců Cassandra způsobem citlivým na případy.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="maxrequestfraction">&lt;maxRequestFraction&gt;<a href="#maxrequestfraction" class="hash-link" aria-label="Přímý odkaz na&lt;maxRequestFraction&gt;" title="Přímý odkaz na&lt;maxRequestFraction&gt;" translate="no">​</a></h4>
<p>Kdy? ERDDAP™   (re) zatížení souboru dat, ERDDAP™ dostane od Cassandry seznam různých kombinací diskových klíčů. Pro obrovský datový soubor bude počet kombinací obrovský. Pokud chcete zabránit žádosti uživatelů požadovat většinu nebo všechny soubory údajů (nebo dokonce žádost, která se ptá ERDDAP™ stáhnout většinu nebo všechny údaje za účelem dalšího filtrování) , můžete říct ERDDAP™ pouze povolit žádosti, které snižují počet kombinací prostřednictvím&lt;maxRequestFraction&gt;, což je číslo plovoucího bodu mezi 1e-10 (Což znamená, že žádost nemůže potřebovat více než jednu kombinaci v miliardě.) a 1 (selhání, což znamená, že žádost může být pro celý soubor údajů) .
Například pokud má datový soubor 10000 různých kombinací diskových klíčů a maxRequestFraction je nastaven na 0,1,
pak žádosti, které potřebují data ze 1001 nebo více kombinací, vytvoří chybovou zprávu,
ale budou povoleny žádosti, které potřebují údaje od 1000 nebo méně kombinací.</p>
<p>Obecně platí, že čím větší soubor dat, tím nižší byste měli nastavit&lt;maxRequestFraction&gt;. Takže to můžete nastavit na 1 pro malý datový soubor, 0,1 pro středně velký datový soubor, 0,01 pro velký datový soubor a 0,0001 pro obrovský datový soubor.</p>
<p>Tento přístup zdaleka není dokonalý. To povede k tomu, že některé rozumné žádosti budou zamítnuty a některé příliš velké žádosti budou povoleny. Je to však obtížný problém a toto řešení je mnohem lepší než nic.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-subsetvariables">Cassandra subsetVariables<a href="#cassandra-subsetvariables" class="hash-link" aria-label="Přímý odkaz naCassandra subsetVariables" title="Přímý odkaz naCassandra subsetVariables" translate="no">​</a></h4>
<p>Stejně jako u ostatních datových souborů v programu EDDTable můžete zadat seznam oddělených čárkami&lt; dataVariable &gt; destinationName s v globálním atributu nazvaném &quot; <a href="#subsetvariables" class=""> subsetVariables </a> &quot; určit proměnné, které mají omezený počet hodnot. Soubor pak bude mít webovou stránku .subset a zobrazí seznamy různých hodnot pro tyto proměnné v seznamech drop-down na mnoha webových stránkách.</p>
<p>Včetně proměnných klíčů pro rozdělení a statických sloupců v seznamu je STRONGLIE E NCO Uraged. Cassandra bude moci vytvořit seznam různých kombinací velmi rychle a snadno pokaždé, když je soubor dat znovu načten. Výjimkou jsou klíče od časoznaku, které jsou hrubými verzemi některého jiného sloupce časového razítka -- je pravděpodobně nejlepší je vynechat ze seznamu subsetVariables protože existuje velké množství hodnot a nejsou příliš užitečné pro uživatele.</p>
<p>Pokud zahrnete nerozdělovací klíč, nestatické proměnné do seznamu, bude pravděpodobně <strong>velmi</strong> Výpočetně drahé pro Cassandra pokaždé, když je soubor dat znovu načten, protože ERDDAP™ musí procházet každý řádek datového souboru, aby informace vygeneroval. Ve skutečnosti, dotaz pravděpodobně selže. Takže, až na velmi malé soubory dat, toto je STRONGLY DISCOURAGED.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-datatypes">DataTypes Cassandra<a href="#cassandra-datatypes" class="hash-link" aria-label="Přímý odkaz naDataTypes Cassandra" title="Přímý odkaz naDataTypes Cassandra" translate="no">​</a></h4>
<p>Protože je tu nějaká nejednoznačnost, o které <a href="https://cassandra.apache.org/doc/latest/cql/types.html" target="_blank" rel="noopener noreferrer" class="">Datové typy Cassandra</a> mapa, na kterou ERDDAP™ datové typy, musíte zadat [&lt;dataType&gt;] (#datatyp) tag pro každého [&lt; dataVariable &gt;] (# Dataproměnná) říct ERDDAP™ které dataType použít. Standard ERDDAP™ údaje Typy (a nejčastější odpovídající datové typy Cassandra) jsou:</p>
<ul>
<li class=""><a href="#boolean-data" class="">boolean</a>   (boolean) , které ERDDAP™ pak obchody jako byty</li>
<li class="">byte (int, pokud je rozsah -128 až 127)</li>
<li class="">krátké (int, pokud je rozsah -32768 až 32767)</li>
<li class="">int (int, counter?, varint?, pokud je dosah -2147483648 až 2147483647)</li>
<li class="">dlouhé (bigint, pult?, varint?, je-li rozsah -9223372036854775808 až 922337236854775807)</li>
<li class="">plavat (plavat)</li>
<li class="">dvakrát (dvojité desetinné číslo (s možnou ztrátou přesnosti) , časové razítko)</li>
<li class="">char (ascii nebo text, pokud nikdy nemají více než 1 znak)</li>
<li class="">String (Ascii, text, varchar, inet, uuid, timeuid, blob, mapa, set, list?)</li>
</ul>
<p>Cassandra&#x27;s <a href="#cassandra-timestamp-data" class="">časové razítko</a> je zvláštní případ: použití ERDDAP &#x27;s dvojími údaji Typ.</p>
<p>Pokud zadáte String dataType v ERDDAP™ pro Cassandra mapu, nastavit nebo seznam, mapa, nastavit nebo seznam v každém řádku Cassandra bude převeden na jeden řetězec v jednom řádku v ERDDAP™ stůl. ERDDAP™ má alternativní systém pro seznamy; viz níže.</p>
<p><em>typ</em> Seznamy... ERDDAP &#x27;s [&lt;dataType&gt;] (#datatyp) značka pro Cassandru dataVariable s může zahrnovat pravidelné ERDDAP™ údaje Typy (viz výše) plus několik speciálních datových typů, které lze použít pro sloupce seznamu Cassandra: booleanList, byteList, ubyteList, shortList, intList, uintList, longList, ulongList, floatList, doubleList, charList, StringList. Když jeden z těchto sloupců seznamu je ve výsledcích jsou předány do ERDDAP™ , každý řádek zdrojových dat bude rozšířen na seznam. velikost () řádky údajů v ERDDAP ; jednoduchá data Typy (např. int) v tomto řádku zdrojových dat bude duplikován seznam. velikost () krát. Pokud výsledky obsahují více než jeden seznam proměnných, všechny seznamy v daném řádku údajů musí mít stejnou velikost a musí být &quot;paralelní&quot; seznamy nebo ERDDAP™ vytvoří chybovou zprávu. Například pro měření proudů z ADCP,
hloubka \[ 0 \] , uCurrent \[ 0 \] , vCurrent \[ 0 \] , a zCurrent \[ 0 \] jsou všechny související a
hloubka \[ 1 \] , uCurrent \[ 1 \] , vCurrent \[ 1 \] , a zCurrent \[ 1 \] jsou všichni příbuzní, ...
Alternativně, pokud nechcete ERDDAP™ rozšířit seznam do více řádků ERDDAP™ tabulka, zadejte String jako dataVariable &#x27;s údaji Zadejte tak, aby celý seznam byl reprezentován jako jeden String v jednom řádku ERDDAP .</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-timestamp-data">Cassandra TimeStamp Data<a href="#cassandra-timestamp-data" class="hash-link" aria-label="Přímý odkaz naCassandra TimeStamp Data" title="Přímý odkaz naCassandra TimeStamp Data" translate="no">​</a></h4>
<p>Data Cassandry jsou vždy obeznámena s časovými pásmy. Pokud zadáte data časového razítka bez upřesnění časového pásma, Cassandra předpokládá, že časové razítko používá místní časové pásmo.</p>
<p>ERDDAP™ podporuje data časového razítka a vždy uvádí data v Zulu /GMT časové pásmo. Takže pokud zadáte data časového razítka v Cassandra pomocí jiného časového pásma než Zulu /GMT, nezapomeňte, že musíte udělat všechny dotazy pro data časového razítka v ERDDAP™ s použitím Zulu /GMT časové pásmo. Takže nebuď překvapená, když hodnoty časového razítka, které vycházejí z ERDDAP jsou posunuty o několik hodin kvůli přepínání časového pásma z lokálního na Zulu Čas GMT.</p>
<ul>
<li class="">In ERDDAP &#x27;s datasets.xml , v&lt; dataVariable &gt; tag pro proměnnou časového razítka, nastaveno</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;dataType&gt;double&lt;/dataType&gt;  </span><br></span></code></pre></div></div>
<p>a&lt; addAttributes &gt; nastaveno</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;att name=&quot;units&quot;&gt;seconds since 1970-01-01T00:00:00Z&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Návrh: Pokud jsou data časovým rozsahem, je užitečné, aby se hodnoty časového razítka vztahovaly na střed implikovaného časového rozsahu. (například poledne) . Například pokud má uživatel data za 2010-03-26T13:00Z z jiného datového souboru a chce nejbližší data z tohoto souboru souborů Cassandra, která mají data za každý den, pak data za 2010-03-26T12:00Z (představující údaje Cassandra pro uvedené datum) je samozřejmě nejlepší (oproti půlnoci před nebo po, kde je méně zřejmé, co je nejlepší) .</li>
<li class="">ERDDAP™ má nástroj pro <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html" target="_blank" rel="noopener noreferrer" class="">Převést numerické Čas do/z doby řetězce</a> .</li>
<li class="">Viz <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html#erddap" target="_blank" rel="noopener noreferrer" class="">Jak ERDDAP™ Obchoduje s časem</a> .
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="integer-nulls">Integer nulls<a href="#integer-nulls" class="hash-link" aria-label="Přímý odkaz naInteger nulls" title="Přímý odkaz naInteger nulls" translate="no">​</a></h4>
<p>Cassandra podporuje nuly v Cassandra int ( ERDDAP™ int) a velký ( ERDDAP™ dlouhé) sloupce, ale ERDDAP™ nepodporuje true nulles pro žádný integer datový typ.
Ve výchozím nastavení, Cassandra integer nulls bude převeden v ERDDAP™ do 2147483647 pro int sloupce nebo 9223372036854775807 pro dlouhé sloupy. Tyto se objeví jako &quot;NaN&quot; v některých typech textových výstupních souborů (například .csv) , &quot;&quot; v jiných typech textových výstupních souborů (například: .htmlTable ) , a zvláštní číslo (2147483647 pro chybějící int hodnoty) v jiných typech souborů (například binární soubory jako .nc a rohož) . Uživatel může vyhledávat řádky dat s tímto typem chybějící hodnoty odkazem na &quot;NaN,&quot; např. &quot;&amp;windSpeed=NaN.&quot;</p>
<p>Pokud použijete nějakou jinou celočíselnou hodnotu k označení chybějících hodnot v tabulce Cassandra, prosím, uveďte tuto hodnotu v datasets.xml :</p>
<blockquote>
<p>&lt;att name=&quot;missing\_value&quot; <a href="#attributetype" class="">type=&quot;int&quot;</a>\&gt;-999&lt;/att&gt;</p>
</blockquote>
<p>Pro Cassandra plovoucí bod sloupce, nuly se převést na NaNs v ERDDAP . Pro datové typy Cassandra, které jsou převedeny na Strings in ERDDAP™ , nuly jsou převedeny na prázdné Strings. To by neměl být problém.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="warning-re-preparing-already-prepared-query">&quot;WARNING: Re-příprava již připravený dotaz&quot;<a href="#warning-re-preparing-already-prepared-query" class="hash-link" aria-label="Přímý odkaz na&quot;WARNING: Re-příprava již připravený dotaz&quot;" title="Přímý odkaz na&quot;WARNING: Re-příprava již připravený dotaz&quot;" translate="no">​</a></h4>
<ul>
<li class="">&quot;WARNING: Re-příprava již připravený dotaz&quot; v <em>tomcat</em> /logs/catalina.out (nebo nějaký jiný soubor protokolu Tomcat)<br>
<!-- -->Cassandra dokumentace říká, že je problém, pokud stejný dotaz je provedena do připravenéStatement dvakrát (nebo více) . (Vidíš tohle? <a href="https://datastax-oss.atlassian.net/browse/JAVA-236" target="_blank" rel="noopener noreferrer" class="">hlášení chyby</a> .) Aby se vyhnula naštvání Cassandry, ERDDAP™ caches všechny PřipravenéStatements tak, aby je mohl znovu použít. Tato cache je ztracena, pokud / když Tomcat / ERDDAP™ je restartován, ale myslím, že je to v pořádku, protože připravené stavy jsou spojeny s danou relací (mezi Java a Cassandra) , který je také ztracen. Takže můžete vidět tyto zprávy. Neznám žádné jiné řešení. Naštěstí je to varování, ne chyba. (Ačkoli Cassandra hrozí, že to může vést k problémům s výkonem) .</li>
</ul>
<p>Cassandra tvrdí, že připravené stavy jsou navždy dobré, takže ERDDAP &#x27;s cache PreparedStatements by nikdy neměla být zastaralá/neplatná. Jestli to není pravda a dostanete chyby ohledně zastaralého stavu, který je zastaralý/neplatný, pak musíte restartovat ERDDAP™ vymazat ERDDAP &#x27;s cache připravených stavů.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-security">Bezpečnost Cassandry<a href="#cassandra-security" class="hash-link" aria-label="Přímý odkaz naBezpečnost Cassandry" title="Přímý odkaz naBezpečnost Cassandry" translate="no">​</a></h4>
<p>Viz <a href="https://cassandra.apache.org/doc/latest/operating/security.html" target="_blank" rel="noopener noreferrer" class="">Zabezpečení Cassandry</a></p>
<p>Při práci s Cassandrou musíte dělat věci tak bezpečně a bezpečně, jak je to možné, abyste nedovolili škodlivému uživateli poškodit Vaši Cassandru nebo získat přístup k datům, ke kterým by neměli mít přístup. ERDDAP™ Snaží se také dělat věci bezpečně.</p>
<ul>
<li class="">Povzbuzujeme vás, abyste to připravili. ERDDAP™ připojit se k Cassandra jako uživatel Cassandra, který má přístup pouze k <strong>relevantní</strong> tabulka (án) a má pouze práva na čtení.</li>
<li class="">Doporučujeme vám nastavit spojení od ERDDAP™ Cassandra tak, aby to<!-- -->
<ul>
<li class="">vždy používá SSL,</li>
<li class="">pouze umožňuje připojení z jedné IP adresy (nebo jeden blok adres) a z jednoho ERDDAP™ uživatele a</li>
<li class="">pouze přenáší hesla ve své MD5 hashed formě.</li>
</ul>
</li>
<li class="">\[ ZNÁMÝ PROBLÉM \] SpojeníProperties (včetně hesla!) jsou uloženy jako prostý text v datasets.xml . Nenašli jsme způsob, jak nechat správce zadat heslo Cassandra během ERDDAP &#x27;s startup in Tomcat (který nastane bez vstupu uživatele) , takže heslo musí být přístupné v souboru. Aby to bylo bezpečnější:</li>
<li class="">Ty. (vá ERDDAP™ Správce) měl by být vlastníkem datasets.xml a mají READ a WRITE přístup.</li>
<li class="">Vytvořte skupinu, která zahrnuje pouze uživatelskou=tomcat. Použijte chgrp, aby se skupina pro datasets.xml , jen s oprávněním číst.</li>
<li class="">Použít chmod pro přiřazení práv O-rwx (žádný přístup READ nebo WRITE pro &quot;jiné&quot; uživatele) místo datasets.xml .</li>
<li class="">Až dovnitř ERDDAP™ , heslo a další vlastnosti připojení jsou uloženy v &quot;soukromém&quot; Java proměnné.</li>
<li class="">Žádosti klientů jsou rozebrány a zkontrolovány platnost před generováním CQL žádostí o Cassandru.</li>
<li class="">Žádosti o aplikaci Cassandra se podávají s CQL Bound/PreparedStatements, aby se zabránilo aplikaci CQL. Cassandra je v každém případě méně náchylná k CQL injekci než tradiční databáze <a href="https://en.wikipedia.org/wiki/SQL_injection" target="_blank" rel="noopener noreferrer" class="">SQL injekce</a> .
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-speed">Cassandra rychlost<a href="#cassandra-speed" class="hash-link" aria-label="Přímý odkaz naCassandra rychlost" title="Přímý odkaz naCassandra rychlost" translate="no">​</a></h4>
<p>Cassandra může být rychlá nebo pomalá. Existují věci, které můžete udělat, aby to rychle:</p>
<ul>
<li class="">Obecně -
Povaha CQL je, že dotazy jsou <a href="https://en.wikipedia.org/wiki/Declarative_programming" target="_blank" rel="noopener noreferrer" class="">deklarativní</a> . Jen určují, co uživatel chce. Neobsahují specifikace nebo tipy, jak má být dotaz řešen nebo optimalizován. Takže neexistuje žádná možnost pro ERDDAP™ generovat dotaz takovým způsobem, že to pomáhá Cassandra optimalizovat dotaz (nebo jakýmkoli způsobem určuje, jak má být dotaz řešen) . Obecně je na správci Cassandry, aby věci naplánovali. (například indexy) optimalizovat pro určité typy dotazů.
 </li>
<li class="">Upřesnění sloupců časového razítka, které jsou spojeny s hrubým přesným časovým znakem přes [&lt;oddíl Název KeySource &gt;] (#partitionkeysourcenames) je nejdůležitější způsob, jak pomoci ERDDAP™ efektivně pracovat s Cassandrou. Pokud tento vztah existuje v tabulce Cassandra a neřeknete ERDDAP™ , datový soubor bude bolestivě pomalý v ERDDAP™ a využít tuny zdrojů Cassandry.
 </li>
<li class="">Upřesnění sloupců seskupení prostřednictvím [&lt;ClosterColumnSourceNames&gt;] (#clustercolumsourcenames) je druhý nejdůležitější způsob, jak pomoci ERDDAP™ efektivně pracovat s Cassandrou. Pokud jsou shluky sloupců a neřeknete ERDDAP , velká podmnožina možných dotazů na data bude zbytečně, bolestivě pomalé v ERDDAP™ a využít tuny zdrojů Cassandry.
 </li>
<li class="">Značka <a href="https://cassandra.apache.org/doc/latest/cql/indexes.html" target="_blank" rel="noopener noreferrer" class="">Indexy</a> pro běžné proměnné --
Můžete urychlit několik dotazů vytvořením indexů pro sloupce Cassandra, které jsou často omezeny s &quot;=&quot; omezení.</li>
</ul>
<p>Cassandra nemůže dělat indexy pro seznam, množinu nebo mapu sloupců.</p>
<ul>
<li class="">Upřesnění sloupců indexu prostřednictvím [&lt;indexColumnSourceNázevs&gt;] (#indexcolunctionsourcenames) je důležitý způsob, jak pomoci ERDDAP™ efektivně pracovat s Cassandrou. Pokud existují sloupce indexu a neřeknete ERDDAP , některé dotazy na data budou zbytečné, bolestivě pomalé v ERDDAP™ a využít tuny zdrojů Cassandry.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cassandra-stats">Statistiky Cassandry<a href="#cassandra-stats" class="hash-link" aria-label="Přímý odkaz naStatistiky Cassandry" title="Přímý odkaz naStatistiky Cassandry" translate="no">​</a></h4>
<ul>
<li class=""><a href="#cassandra-stats" class="">&quot;Cassandra stats&quot; Diagnostické zprávy</a> -- Za každou ERDDAP™ uživatelský dotaz do souboru Cassandra, ERDDAP™ vytiskne řádek v souboru protokolu, <em>velkýRodič rodičů</em> /logs/log.txt, s některými statistikami souvisejícími s dotazem, například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        \\* Cassandra stats: partitionKeyTable: 2/10000=2e-4 &lt; 0.1 nCassRows=1200 nErddapRows=12000 nRowsToUser=7405  </span><br></span></code></pre></div></div>
<p>Použití čísel v příkladu výše, to znamená:</p>
<ul>
<li class="">Kdy? ERDDAP™ poslední (re) Cassandra řekla: ERDDAP™ že existuje 10000 různých kombinací diskových klíčů. ERDDAP™ cache všechny odlišné kombinace v souboru.</li>
<li class="">Vzhledem k omezením uživatele, ERDDAP™ identifikovány 2 kombinace z 10000, které mohou mít požadované údaje. Takže, ERDDAP™ 2 hovory do Cassandry, jeden pro každou kombinaci diskových klíčů. (To Cassandra vyžaduje.) Je zřejmé, že je obtížné, pokud velký datový soubor má velký počet kombinací diskových klíčů a daný požadavek není drasticky snížit, že. Můžete požadovat, aby každý požadavek snížit klíčový prostor nastavením [&lt;maxRequestFraction&gt;] (#maxrequestfraction) . Tady, 2/10000=2e-4, což je méně než maxRequestFraction (0, 1) Takže žádost byla povolena.</li>
<li class="">Po uplatnění omezení na diskové klíče, <a href="#clustercolumnsourcenames" class="">sloupce klastrů</a> a <a href="#indexcolumnsourcenames" class="">indexové sloupce</a> které poslal ERDDAP™ , Cassandra vrátil 1200 řádků dat do ERDDAP™ v ResultSet.</li>
<li class="">Výsledek Set musel mít <a href="#cassandra-datatypes" class="">údaje Type= <em>nějaký typ</em> Seznam</a> sloupce (s průměrem 10 položek na seznam) , protože ERDDAP™ Rozšíření 1200 řad z Cassandry na 12000 řad ERDDAP .</li>
<li class="">ERDDAP™ vždy aplikuje všechna omezení uživatele na data z Cassandry. V tomto případě omezení, která Cassandra nezvládla, snížila počet řádků na 7405. To je počet řádků odeslaných uživateli.</li>
</ul>
<p>Nejdůležitější použití těchto diagnostických zpráv je zajistit, aby ERDDAP™ Dělá to, co si myslíš, že dělá. Jestli ne. (Například, není to snížení počtu odlišných kombinací, jak se očekávalo?) Pak můžete použít informace, abyste zjistili, co se děje.
 </p>
<ul>
<li class="">Výzkum a experiment najít a nastavit lépe [&lt;spojeníProperty&gt;] (#cassandra-connectionproperty) Je.
 </li>
<li class="">Zkontrolujte rychlost síťového spojení mezi Cassandrou a ERDDAP . Pokud je spojení pomalé, zkuste to zlepšit. Nejlepší je, když ERDDAP™ běží na serveru připojeném ke stejnému (rychle) přepnout jako server běžící uzel Cassandra, ke kterému jste připojeni.
 </li>
<li class="">Prosím, buď trpělivý. Informace si pozorně přečtěte zde a v dokumentaci Cassandry. Experiment. Zkontroluj si práci. Pokud Cassandra... ERDDAP™ spojení je stále pomalejší, než jste očekávali, prosím, uveďte schéma vašeho stolu Cassandra a ERDDAP™ část datasets.xml a vidět naše <a class="" href="/cs/docs/intro#support">oddíl o získání dodatečné podpory</a> .
 </li>
<li class="">Pokud všechno ostatní selže,
zvážit uložení údajů ve shromažďování NetCDF v3 .nc soubory (zvláště .nc Soubory, které používají <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Geometrie diskrétního odběru vzorků (DSG) </a> Kontiguous Ragged Array datové struktury a tak lze zacházet s ERDDAP &#x27;s <a href="#eddtablefromnccffiles" class="">EDDTableFromNcCFFiles</a> ) . Pokud jsou logicky organizovaní (každý s údaji pro kus prostoru a času) , ERDDAP™ může z nich velmi rychle extrahovat data.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromcassandra-skeleton-xml">EDDTableFromCassandra kostra XML<a href="#eddtablefromcassandra-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDTableFromCassandra kostra XML" title="Přímý odkaz naEDDTableFromCassandra kostra XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromCassandra&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;ipAddress&gt;</a>...&lt;/ipAddress&gt;<br>
<!-- -->        &lt;!-- The Cassandra URL without the port number, for example,<br>
<!-- -->        127.0.0.1 REQUIRED. --&gt;<br>
<!-- -->      &lt;<a href="#cassandra-connectionproperty" class="">connectionProperty</a> name=&quot;<em>name</em>&quot;&gt;<em>value</em>&lt;/connectionProperty&gt;<br>
<!-- -->        &lt;!-- The names (for example, &quot;readTimeoutMillis&quot;) and values<br>
<!-- -->          of the Cassandra properties that ERDDAP™ needs to change.<br>
<!-- -->          0 or more. --&gt;<br>
<!-- -->      &lt;keyspace&gt;...&lt;/keyspace&gt; &lt;!-- The name of the keyspace that has<br>
<!-- -->        the table. REQUIRED. --&gt;<br>
<!-- -->      &lt;tableName&gt;...&lt;/tableName&gt; &lt;!-- The name of the table, default = &quot;&quot;.<br>
<!-- -->        REQUIRED. --&gt;<br>
<!-- -->      <a href="#partitionkeysourcenames" class="">&lt;partitionKeySourceNames&gt;</a>...&lt;partitionKeySourceNames&gt;<br>
<!-- -->        &lt;!-- REQUIRED. --&gt;<br>
<!-- -->      <a href="#clustercolumnsourcenames" class="">&lt;clusterColumnSourceNames&gt;</a>...&lt;clusterColumnSourceNames&gt;<br>
<!-- -->        &lt;!-- OPTIONAL. --&gt;<br>
<!-- -->      <a href="#indexcolumnsourcenames" class="">&lt;indexColumnSourceNames&gt;</a>...&lt;indexColumnSourceNames&gt; &lt;!-- OPTIONAL. --&gt;<br>
<!-- -->      <a href="#maxrequestfraction" class="">&lt;maxRequestFraction&gt;</a>...&lt;maxRequestFraction&gt;<br>
<!-- -->        &lt;!-- OPTIONAL double between 1e-10 and 1 (the default). --&gt;<br>
<!-- -->      <a href="#case-sensitivity" class="">&lt;columnNameQuotes&gt;</a>...&lt;columnNameQuotes&gt; &lt;!-- OPTIONAL.<br>
<!-- -->        Options: \[nothing\] (the default) or &quot;. --&gt;<br>
<!-- -->      <a href="#sourceneedsexpandedfp_eq" class="">&lt;sourceNeedsExpandedFP\_EQ&gt;</a>true(default)|false&lt;/sourceNeedsExpandedFP\_EQ&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more.<br>
<!-- -->         Each dataVariable MUST include a <a href="#datatype" class="">&lt;dataType&gt;</a> tag. See<br>
<!-- -->           <a href="#cassandra-datatypes" class="">Cassandra DataTypes</a>.<br>
<!-- -->         For <a href="#cassandra-timestamp-data" class="">Cassandra timestamp columns</a>, set dataType=double and<br>
<!-- -->         units=seconds since 1970-01-01T00:00:00Z --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromdapsequence">EDDTableFromDapSekvence<a href="#eddtablefromdapsequence" class="hash-link" aria-label="Přímý odkaz naEDDTableFromDapSekvence" title="Přímý odkaz naEDDTableFromDapSekvence" translate="no">​</a></h3>
<p><a href="#eddtablefromdapsequence" class=""> <strong>EDDTableFromDapSekvence</strong> </a> zpracovává proměnné v rámci 1- a 2-úrovňové posloupnosti od <a href="https://www.opendap.org/" target="_blank" rel="noopener noreferrer" class=""> DAP </a> servery jako např. DAP PE (vhttps://<a href="http://www.pmel.noaa.gov/epic/software/dapper/" target="_blank" rel="noopener noreferrer" class="">www.pmel.noaa.gov/epic/software/dapper/</a>,<!-- --> nyní přerušen) .</p>
<ul>
<li class="">
<p>Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Pak to můžete upravit tak, abyste to naladili. Informace, které potřebujete, můžete získat při pohledu na soubory DDS zdrojových dat a DAS ve vašem prohlížeči (přidáním .das a .dds do sourceUrl (příklad bylhttps://dapper.pmel.noaa.gov/dapper/epic/tao\_time\_series.cdp.dds).</p>
</li>
<li class="">
<p>Proměnná je v DAP sekvence, pokud odpověď .dds ukazuje, že datová struktura drží proměnnou je &quot;sekvence&quot; (případ necitlivý) .</p>
</li>
<li class="">
<p>V některých případech uvidíte sekvenci v sekvenci, dvouúrovňovou sekvenci -- EDDTableFromDapSekvence je také zpracovává.</p>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromdapsequence-skeleton-xml">EDDTableFromDapSekvenční kostra XML<a href="#eddtablefromdapsequence-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDTableFromDapSekvenční kostra XML" title="Přímý odkaz naEDDTableFromDapSekvenční kostra XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromDapSequence&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;outerSequenceName&gt;...&lt;/outerSequenceName&gt;<br>
<!-- -->        &lt;!-- The name of the outer sequence for DAP sequence data.<br>
<!-- -->        This tag is REQUIRED. --&gt;<br>
<!-- -->      &lt;innerSequenceName&gt;...&lt;/innerSequenceName&gt;<br>
<!-- -->        &lt;!-- The name of the inner sequence for DAP sequence data.<br>
<!-- -->        This tag is OPTIONAL; use it if the DAP data is a two level<br>
<!-- -->        sequence. --&gt;<br>
<!-- -->      <a href="#sourceneedsexpandedfp_eq" class="">&lt;sourceNeedsExpandedFP\_EQ&gt;</a>true(default)|false&lt;/sourceNeedsExpandedFP\_EQ&gt;<br>
<!-- -->      <a href="#sourcecanconstrainstringeqne" class="">&lt;sourceCanConstrainStringEQNE&gt;</a>true|false&lt;/sourceCanConstrainStringEQNE&gt;<br>
<!-- -->      <a href="#sourcecanconstrainstringgtlt" class="">&lt;sourceCanConstrainStringGTLT&gt;</a>true|false&lt;/sourceCanConstrainStringGTLT&gt;<br>
<!-- -->      <a href="#sourcecanconstrainstringregex" class="">&lt;sourceCanConstrainStringRegex&gt;</a>...&lt;/sourceCanConstrainStringRegex&gt;<br>
<!-- -->      &lt;skipDapperSpacerRows&gt;...&lt;/skipDapperSpacerRows&gt;<br>
<!-- -->        &lt;!-- skipDapperSpacerRows specifies whether the dataset<br>
<!-- -->        will skip the last row of each innerSequence other than the<br>
<!-- -->        last innerSequence (because Dapper servers put NaNs in the<br>
<!-- -->        row to act as a spacer).  This tag is OPTIONAL. The default<br>
<!-- -->        is false.  It is recommended that you set this to true for<br>
<!-- -->        all Dapper sources and false for all other data sources. --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->    &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromdatabase">EDDtableFromDatabase<a href="#eddtablefromdatabase" class="hash-link" aria-label="Přímý odkaz naEDDtableFromDatabase" title="Přímý odkaz naEDDtableFromDatabase" translate="no">​</a></h3>
<p><a href="#eddtablefromdatabase" class=""> <strong>EDDtableFromDatabase</strong> </a> zpracovává data z jedné relační databáze nebo <a href="https://en.wikipedia.org/wiki/View_(database)" target="_blank" rel="noopener noreferrer" class="">pohled</a>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="one-table-or-view">Jedna tabulka nebo pohled<a href="#one-table-or-view" class="hash-link" aria-label="Přímý odkaz naJedna tabulka nebo pohled" title="Přímý odkaz naJedna tabulka nebo pohled" translate="no">​</a></h4>
<p>Pokud data, která chcete sloužit, jsou ve dvou nebo více tabulkách (a proto je třeba join k získání údajů z obou tabulek najednou) , musíte udělat jeden <a href="https://en.wikipedia.org/wiki/Denormalization" target="_blank" rel="noopener noreferrer" class="">denormalizované</a>   (již připojen) Tabulka nebo <a href="https://en.wikipedia.org/wiki/View_(SQL)" target="_blank" rel="noopener noreferrer" class="">pohled</a> se všemi údaji, které chcete zpřístupnit jako jeden datový soubor v ERDDAP .</p>
<p>U velkých, komplexních databází může mít smysl oddělit několik částí jako denormalizované tabulky, každá s jiným typem dat, které se stanou samostatnými soubory dat v ERDDAP .</p>
<p>Příprava denormalizované tabulky pro použití v ERDDAP™ Možná to zní jako šílený nápad. Prosím, věřte nám. Existuje několik důvodů, proč ERDDAP™ pracuje s denormalizovanými tabulkami:</p>
<ul>
<li class="">Pro uživatele je to mnohem jednodušší.
Kdy? ERDDAP™ prezentuje soubor dat jako jeden, jednoduchý, denormalizovaný, jeden stůl, je velmi snadné pro každého pochopit data. Většina uživatelů nikdy neslyšel o normalizovaných tabulek, a velmi málo pochopit klíče, cizí klíče, nebo tabulky se připojí, a téměř jistě neznají podrobnosti různých typů spojení, nebo jak určit SQL, aby se připojili (nebo více spojení) Správně. Používání denormalizovaného stolu se vyhýbá všem těmto problémům. Tento důvod sám o sobě ospravedlňuje použití denormalizované jediné tabulky pro prezentaci datového souboru ERDDAP™ uživatelé.
 </li>
<li class="">Normalizované tabulky (více tabulek souvisejících podle klíčových sloupců) jsou skvělé pro ukládání dat v databázi.
Ale i v SQL, výsledek, který je vrácen k uživateli je denormalizovaný (Připojeno) Jeden stůl. Takže se zdá rozumné prezentovat soubor dat uživatelům jako obrovskou, denormalizovanou, jedinou tabulku, ze které pak mohou požadovat podskupiny (např. ukažte mi řádky tabulky, kde teplota &gt; 30) .
 </li>
<li class="">Můžete udělat změny pro ERDDAP™ bez výměny stolů.
ERDDAP™ má několik požadavků, které mohou být odlišné od toho, jak jste založili svou databázi.
Například, ERDDAP™ vyžaduje, aby data časového razítka byla uložena v polích &quot;časové razítko s časovým pásem.&quot;
Vytvořením oddělené tabulky/pohledu pro ERDDAP™ , Můžete provést tyto změny, když uděláte denormalizovaný stůl pro ERDDAP . Nemusíte tedy měnit své stoly.
 </li>
<li class="">ERDDAP™ bude rekonstruovat některé z struktury standardizovaných tabulek.
Můžete určit, které sloupce dat pocházejí z tabulek &quot;vnější,&quot; a proto mají omezený počet různých hodnot. ERDDAP™ bude shromažďovat všechny různé kombinace hodnot v těchto sloupcích a prezentovat je uživatelům na speciální . Podmnožina webové stránky, která pomáhá uživatelům rychle vybrat podmnožiny datového souboru. Rozdílné hodnoty pro každý sloupec jsou rovněž uvedeny v seznamech drop-down na ostatních webových stránkách datového souboru.
 </li>
<li class="">Denormalizovaná tabulka dělá data předání od vás do ERDDAP Pomalu správce.
Jste expert na tento soubor dat, takže dává smysl, abyste rozhodovali o tom, které tabulky a které sloupce se připojit a jak se k nim připojit. Takže nám nemusíš nic dávat. (nebo hůř, koncoví uživatelé) Několik tabulek a podrobné pokyny, jak se k nim připojit, stačí nám dát přístup k denormalizovanému stolu.
 </li>
<li class="">Denormalizovaná tabulka umožňuje efektivní přístup k datům.
Denormalizovaná forma je obvykle rychlejší přístup než normalizovaná forma. Spojení může být pomalé. Několik spojení může být velmi pomalé.
 </li>
</ul>
<p>Za účelem získání dat ze dvou nebo více tabulek v databázi do ERDDAP™ , Existují tři možnosti:
 </p>
<ul>
<li class="">Doporučená volba:
S daty z denormalizované tabulky si můžete vytvořit soubor čárky nebo záložky oddělené hodnoty.
Pokud je soubor obrovský, pak dává smysl vytvořit několik souborů, každý s soudržnou podmnožinu denormalizované tabulky (například údaje z menšího časového rozmezí) .</li>
</ul>
<p>Velkou výhodou je, že ERDDAP™ bude schopen zvládnout uživatelské požadavky na data bez dalšího úsilí vaší databází. Takže... ERDDAP™ nebude zátěží pro vaši databázi nebo bezpečnostní riziko. To je nejlepší možnost za téměř všech okolností, protože ERDDAP™ obvykle získat data ze souborů rychleji než z databáze (Pokud jsme převést .csv soubory na .nc Soubory CF) . (Součástí je, že ERDDAP + soubory je systém pouze pro čtení a nemusí se zabývat změnami při poskytování <a href="https://en.wikipedia.org/wiki/ACID" target="_blank" rel="noopener noreferrer" class="">KYSELINA</a>   (Atomie, konzistence, izolace, trvanlivost) .) Také, pravděpodobně nebudete potřebovat samostatný server, protože můžeme ukládat data na jednom z našich RAID a přístup k němu s existující ERDDAP™ na existujícím serveru.</p>
<ul>
<li class="">Možnost:
Vytvoříte novou databázi na jiném počítači s denormalizovaným stolem.
Vzhledem k tomu, že tato databáze může být zdarma a open source databáze jako MariaDB, MySQL, a PostgreSQL, tato volba nemusí stát hodně.</li>
</ul>
<p>Velkou výhodou je, že ERDDAP™ bude schopen zvládnout uživatelské požadavky na data bez dalšího úsilí vaší aktuální databází. Takže... ERDDAP™ nebude zátěží pro vaši současnou databázi. To také eliminuje mnoho bezpečnostních obav, protože ERDDAP™ nebude mít přístup do vaší aktuální databáze.</p>
<ul>
<li class="">
<p>Odporná možnost:
Můžeme se spojit. ERDDAP™ do vaší současné databáze.
K tomu musíte:</p>
<ul>
<li class="">Vytvořte oddělenou tabulku nebo zobrazení s denormalizovanou tabulkou dat.</li>
<li class="">Vytvořit uživatele &quot;erddap,&quot; který má přístup pouze ke čtení pouze k denormalizované tabulce (án) .
 </li>
</ul>
</li>
</ul>
<p>To je možnost, pokud se data mění velmi často a chcete dát ERDDAP™ uživatelům okamžitý přístup k těmto změnám; nicméně, i tak, může mít smysl použít volbu souboru výše a pravidelně (každých 30 minut?) nahradit soubor, který má dnešní data.
Obrovské nevýhody tohoto přístupu jsou, že ERDDAP™ uživatelské požadavky budou pravděpodobně klást nesnesitelně velké břemeno na vaší databázi a že ERDDAP™ spojení představuje bezpečnostní riziko (I když můžeme minimalizovat/spravovat riziko) .</p>
<p>Výroba denormalizované tabulky nebo pohled na ERDDAP™ je dobrá příležitost udělat několik změn, které ERDDAP™ potřeby, způsobem, který neovlivňuje vaše původní stoly:</p>
<ul>
<li class="">Změna dat a časových polí/sloupců pro použití datového typu, který Postgres volá <a href="#database-date-time-data" class="">časové razítko s časovým pásem</a>   (nebo ekvivalent ve vaší databázi) .
Časové značky bez informací časového pásma nefungují správně v ERDDAP .</li>
<li class="">Vytvořit indexy pro sloupce, které uživatelé často hledají.</li>
<li class="">Být velmi vědomi <a href="#quotes-for-names-and-case-sensitivity" class="">případ pole/název sloupce</a>   (například použijte všechny malé případy) když je píšeš.</li>
<li class="">Nepoužívejte vyhrazená slova pro tabulku a pro názvy polí/sloupců.</li>
</ul>
<p>Pokud potřebujete pomoc s denormalizovanou tabulkou nebo zobrazením, kontaktujte prosím správce databáze.
Pokud chcete mluvit o celém tomto přístupu nebo strategii, jak to nejlépe udělat, prosím, e-mail Chris. John at noaa.gov .</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="database-in-datasetsxml">databáze v datasets.xml<a href="#database-in-datasetsxml" class="hash-link" aria-label="Přímý odkaz nadatabáze v datasets.xml" title="Přímý odkaz nadatabáze v datasets.xml" translate="no">​</a></h4>
<p>Je těžké vytvořit správnou datasets.xml informace potřebné pro ERDDAP™ navázat spojení s databází. Buď trpělivý. Buďte metodičtí.</p>
<ul>
<li class="">Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Pak to můžete upravit tak, abyste to naladili.</li>
</ul>
<p>Generovat soubory dat Xml má tři speciální možnosti pro EDDTableFromDatabase:</p>
<ol>
<li class="">Pokud vstoupíte &quot;!!!LIST!!!!&quot; (bez kotací) pro název katalogu zobrazí program seznam názvů katalogů.</li>
<li class="">Pokud vstoupíte &quot;!!!LIST!!!!&quot; (bez kotací) pro název schématu zobrazí program seznam názvů schémat.</li>
<li class="">Pokud vstoupíte &quot;!!!LIST!!!!&quot; (bez kotací) pro název tabulky program zobrazí seznam tabulek a jejich sloupců. První &quot;!!!LIST!!!!&quot; položka, kterou uděláte, je ten, který bude použit.</li>
</ol>
<ul>
<li class="">Pečlivě si přečtěte všechny informace tohoto dokumentu o EDDTableFromDatabase.</li>
<li class="">Většinu informací, které potřebujete k vytvoření XML pro datový soubor EDDTableFromDatabase, můžete shromáždit prostřednictvím kontaktu se správcem databáze a vyhledáváním na webu.</li>
<li class="">I když databáze často zachází s názvy sloupců a názvy tabulek způsobem, který je citlivý na případ, jsou případ-citlivý v ERDDAP . Takže pokud chybová zpráva z databáze říká, že název sloupce je neznámý (například &quot;Neznámý identifikátor= &#x27; <em>sloupec\_název</em> &#x27;&quot;) i když víte, že existuje, zkuste použít všechny hlavní města, například, <em>COLUMN\_NAME</em> , což je často pravda, případ-citlivý verze názvu sloupce.</li>
<li class="">úzce spolupracovat se správcem databáze, který může mít příslušné zkušenosti. Pokud datový soubor nenačte, přečtěte si <a href="#troubleshooting-tips" class="">chybová zpráva</a> pečlivě zjistit proč.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="jdbc-driver">JDBC ovladač<a href="#jdbc-driver" class="hash-link" aria-label="Přímý odkaz naJDBC ovladač" title="Přímý odkaz naJDBC ovladač" translate="no">​</a></h4>
<ul>
<li class="">
<p>[JDBC ovladač a&lt;Název řidiče &gt;] (#jdbc-driver) -- Musíte získat příslušný JDBC 3 nebo JDBC 4 ovladač .jar soubor pro vaši databázi a
Dej to tam. <em>tomcat</em> /webapps/erddap/WEB-INF/lib po instalaci ERDDAP . Pak ve tvém datasets.xml pro tento soubor údajů musíte uvést&lt;DriverName&gt; pro tohoto řidiče, který je (Bohužel) jiný než název souboru. Hledat na webu JDBC ovladač pro vaši databázi a ovladačJméno, že Java Musíš ho použít.</p>
<ul>
<li class="">Pro MariaDB, zkuste <a href="https://mariadb.com/kb/en/about-the-mariadb-java-client/" target="_blank" rel="noopener noreferrer" class="">https://mariadb.com/kb/en/about-the-mariadb-java-client/</a><br>
<!-- -->The&lt;název řidiče &gt; pro použití v datasets.xml   (viz níže) je pravděpodobně org.mariadb.jdbc. Řidiči.</li>
<li class="">Pro MySQL a Amazon RDS, zkuste <a href="https://dev.mysql.com/downloads/connector/j/" target="_blank" rel="noopener noreferrer" class="">https://dev.mysql.com/downloads/connector/j/</a><br>
<!-- -->The&lt;název řidiče &gt; pro použití v datasets.xml   (viz níže) je pravděpodobně com.mysql.jdbc. Řidiči.</li>
<li class="">Pro Oracle , zkuste <a href="https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html" target="_blank" rel="noopener noreferrer" class="">https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html</a> .
The&lt;název řidiče &gt; pro použití v datasets.xml   (viz níže) je pravděpodobně oracle.jdbc.driver. Oracle Řidiči.</li>
<li class="">Pro Postgresql jsme dostali JDBC 4 řidiče z <a href="https://mvnrepository.com/artifact/org.postgresql/postgresql" target="_blank" rel="noopener noreferrer" class="">https://mvnrepository.com/artifact/org.postgresql/postgresql</a><br>
<!-- -->The&lt;název řidiče &gt; pro použití v datasets.xml   (viz níže) je pravděpodobně Org.postgresql. Řidiči.</li>
<li class="">Pro SQL Server můžete získat JTDS JDBC ovladač od <a href="https://jtds.sourceforge.net" target="_blank" rel="noopener noreferrer" class="">https://jtds.sourceforge.net</a> .
The&lt;název řidiče &gt; pro použití v datasets.xml   (viz níže) je pravděpodobně net.sourceforge.jtds.jdbc. Řidiči.</li>
</ul>
</li>
</ul>
<p>Poté, co dáte JDBC ovladač .jar ERDDAP™ lib adresář, musíte přidat odkaz na že .jar soubor v .bat a / nebo .sh skript soubory pro GenerateDatasets Xml, DasDds, a ArchiveADataset, které jsou v <em>tomcat</em> /webapps/erddap/WEB-INF/ adresář; jinak získáte ClassNotFoundException při spuštění těchto skriptů.</p>
<p>Bohužel, JDBC je někdy zdrojem problémů. Ve své roli prostředníka ERDDAP™ a v databázi někdy provádí jemné změny standardní/generické databáze SQL požadovat, aby ERDDAP™ vytváří, čímž způsobuje problémy (například související <a href="#quotes-for-names-and-case-sensitivity" class="">identifikátory horních/nízkých případů</a> a související <a href="#database-date-time-data" class="">datum/časová časová pásma</a> ) . Prosím, buďte trpěliví, pozorně si přečtěte informace, zkontrolujte si svou práci a podívejte se na naši <a class="" href="/cs/docs/intro#support">oddíl o získání dodatečné podpory</a> .</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="database-connectionproperty">Databáze&lt;spojení Nemovitost&gt;<a href="#database-connectionproperty" class="hash-link" aria-label="Přímý odkaz naDatabáze&lt;spojení Nemovitost&gt;" title="Přímý odkaz naDatabáze&lt;spojení Nemovitost&gt;" translate="no">​</a></h4>
<ul>
<li class="">[&lt;spojeníProperty&gt;] (#Database-connectionproperty) -- V datasets.xml pro váš datový soubor musíte definovat několik spojení Majetkové značky ERDDAP™ jak se připojit k vaší databázi (například pro upřesnění uživatelského jména, hesla, ssl připojení a <a href="#set-the-fetch-size" class="">velikost webu</a> ) . Pro každou situaci je to jiné a je trochu těžké to zjistit. Vyhledejte na webu příklady použití JDBC ovladače pro připojení do vaší databáze. The&lt;connectionProperty&gt; names (například &quot;uživatel,&quot; &quot;heslo&quot; a &quot;ssl&quot;) , a některé z připojeníProperty hodnoty lze nalézt vyhledáváním na webu pro &quot;Vlastnosti připojení JDBC <em>databáze Typ</em> &quot; (například: Oracle , MySQL, Amazon RDS, MariaDB, PostgreSQL) .
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="quotes-for-names-and-case-sensitivity">Citlivost jmen a případů<a href="#quotes-for-names-and-case-sensitivity" class="hash-link" aria-label="Přímý odkaz naCitlivost jmen a případů" title="Přímý odkaz naCitlivost jmen a případů" translate="no">​</a></h4>
<ul>
<li class=""><a href="#quotes-for-names-and-case-sensitivity" class="">Citlivost případu</a> - Ve výchozím nastavení EDDTableFromDatabase uvádí ANSI-SQL-standardní dvojité citace kolem názvu pole/sloupce ve SELECT příkazech v případě, že jste použili vyhrazené slovo jako název pole/sloupce nebo zvláštní znak v názvu pole/sloupce. Dvojité citace také zmařit některé typy SQL vstřikových útoků. You can tell ERDDAP™ používat &quot;, &quot; nebo žádné citace prostřednictvím&lt;sloupecNázevQuotes&gt; v datasets.xml pro tento datový soubor.</li>
</ul>
<p>Pro mnoho databází, použití jakéhokoliv typu citací způsobí, že databáze pracovat s názvem pole / sloupce v případě citlivé způsobem (místo výchozího databázového případu necitlivý způsob) . Databáze často zobrazují názvy souborů/sloupců jako všechny vyšší případy, kdy je ve skutečnosti citlivá forma jiná. In ERDDAP™ , Prosím vždy pokládejte názvy sloupců databáze za citlivé případy.</p>
<ul>
<li class="">Pro Marii DB, musíte spustit databázi s <a href="https://mariadb.com/kb/en/mysql-command-line-client/" target="_blank" rel="noopener noreferrer" class="">\---sql-mode=ANSI\_QUOTES</a> .</li>
<li class="">Pro MySQL a Amazon RDS musíte spustit databázi s <a href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ansi_quotes" target="_blank" rel="noopener noreferrer" class="">\---sql-mode=ANSI\_QUOTES</a> .</li>
<li class="">Oracle podporuje ANSI-SQL-standardní dvojité uvozovky <a href="https://docs.oracle.com/database/121/SQLRF/sql_elements008.htm#SQLRF00223" target="_blank" rel="noopener noreferrer" class="">ve výchozím nastavení</a> .</li>
<li class="">PostgreSQL standardně podporuje dvojcitace ANSI-SQL.</li>
</ul>
<p>Nepoužívejte rezervované slovo pro databázi, katalog, schéma nebo jméno tabulky. ERDDAP™ Nedává jim to uvozovky.</p>
<p>Pokud je to možné, použijte při vytváření tabulky databáze všechny malé případy pro databázi, katalog, schémata, názvy tabulek a názvy polí (nebo pohled) a při odkazování na pole/název sloupce v datasets.xml v ERDDAP . Jinak můžete dostat chybovou zprávu s nápisem databáze, katalog, schéma, tabulka a/nebo pole nebyla nalezena. Pokud dostanete chybovou zprávu, zkuste použít verzi citlivou na případ, veškerou verzi v horním případě a všechny malé verze názvu v ERDDAP . Jeden z nich může fungovat. Pokud ne, musíte změnit název databáze, katalogu, schématu a/nebo tabulky na všechny malé případy.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="database-datatype">Databáze&lt;údaje Typ&gt;<a href="#database-datatype" class="hash-link" aria-label="Přímý odkaz naDatabáze&lt;údaje Typ&gt;" title="Přímý odkaz naDatabáze&lt;údaje Typ&gt;" translate="no">​</a></h4>
<ul>
<li class=""><a href="#database-datatype" class="">Databáze</a> [&lt;dataType&gt;] (#datatyp) Tagy... Protože je tu nějaká nejednoznačnost, o které <a href="https://www.w3schools.com/sql/sql_datatypes_general.asp" target="_blank" rel="noopener noreferrer" class="">databázové datové typy</a> mapa, na kterou ERDDAP™ datové typy, musíte zadat [&lt;dataType&gt;] (#datatyp) tag pro každého [&lt; dataVariable &gt;] (# Dataproměnná) říct ERDDAP™ které dataType použít. Součástí problému je to, že různé datové soubory používají různé termíny pro různé datové typy - takže se vždy snažte odpovídat definicím, nejen jménům. Viz popis <a href="#data-types" class="">standardní ERDDAP™ údaje Typy</a> , který zahrnuje odkazy na odpovídající datové typy SQL. <a href="#database-date-time-data" class="">Datum a časové razítko</a> jsou zvláštní případy: použití ERDDAP &#x27;s dvojími údaji Typ.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="database-date-time-data">Databáze Datum Čas Data<a href="#database-date-time-data" class="hash-link" aria-label="Přímý odkaz naDatabáze Datum Čas Data" title="Přímý odkaz naDatabáze Datum Čas Data" translate="no">​</a></h4>
<p>Některé časové sloupce databázových dat nemají výslovné časové pásmo. Takové sloupy jsou pro nás problém. ERDDAP . Databáze podporují pojem data (s časem nebo bez) bez časového pásma jako přibližného rozsahu času. Ale... Java   (a tak ERDDAP ) se zabývá pouze okamžitým datem + časy s časovým pásem. Takže možná víte, že data data data jsou založena na místním časovém pásmu (též s šetřícím časem denního světla) nebo GMT/ Zulu časové pásmo, ale Java   (a ERDDAP ) Ne. Původně jsme si mysleli, že bychom mohli tento problém vyřešit. (Například upřesněním časového pásma pro sloupec) , ale databáze+JDBC+ Java interakce z toho udělaly nespolehlivé řešení.</p>
<ul>
<li class="">Takže, ERDDAP™ vyžaduje, abyste v databázové tabulce uložili všechna data data data a data data data databázového datového typu, který odpovídá typu JDBC &quot;timestrom s časovým pásem&quot; (ideálně, že používá GMT/ Zulu časové pásmo) .</li>
<li class="">In ERDDAP &#x27;s datasets.xml , v&lt; dataVariable &gt; tag pro proměnnou časového razítka, nastaveno<!-- -->
<blockquote>
<p>  <a href="#datatype" class="">&lt;dataType&gt;double&lt;/dataType&gt;</a></p>
</blockquote>
</li>
</ul>
<p>a&lt; addAttributes &gt; nastaveno</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;att name=&quot;units&quot;&gt;seconds since 1970-01-01T00:00:00Z&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Návrh: Pokud jsou data časovým rozsahem, je užitečné, aby se hodnoty časového razítka vztahovaly na střed implikovaného časového rozsahu. (například poledne) . Například pokud má uživatel data pro 2010-03-26T13:00Z z jiného datového souboru a chce nejbližší data z databázového datového souboru, který má data za každý den, pak databázová data pro 2010-03-26T12:00Z (představující údaje pro uvedené datum) je samozřejmě nejlepší (oproti půlnoci před nebo po, kde je méně zřejmé, co je nejlepší) .</li>
<li class="">ERDDAP™ má nástroj pro <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html" target="_blank" rel="noopener noreferrer" class="">Převést numerické Čas do/z doby řetězce</a> .</li>
<li class="">Viz <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html#erddap" target="_blank" rel="noopener noreferrer" class="">Jak ERDDAP Obchoduje s časem</a> .</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="integer-nulls-1">Integer nulls<a href="#integer-nulls-1" class="hash-link" aria-label="Přímý odkaz naInteger nulls" title="Přímý odkaz naInteger nulls" translate="no">​</a></h4>
<p>Databáze podporují nuly v celé řadě (int, drobounký, malinký) sloupce, ale ERDDAP™ nepodporuje pravé nuly.
Databáze nulls bude převedena v ERDDAP™ 127 pro bytové sloupce, 255 pro ubytové sloupce, 32767 pro krátké sloupce, 65535 pro krátké sloupce, 2147483647 pro int sloupce, 4294967295 pro uint sloupce, 9,223,372,036,854,775,807 pro dlouhé sloupce, nebo 184467407370955115 pro dlouhé sloupce. Pokud použijete tyto výchozí hodnoty, identifikujte prosím tyto missing\_value s pro uživatele datového souboru v ERDDAP™ s</p>
<blockquote>
<p>&lt;att name=&quot;\_FillValue&quot; <a href="#attributetype" class="">type=&quot;int&quot;</a>\&gt;2147483647&lt;/att&gt;</p>
</blockquote>
<p>nebo</p>
<blockquote>
<p>&lt;att name=&quot;\_FillValue&quot; <a href="#attributetype" class="">type=&quot;short&quot;</a>\&gt;32767&lt;/att&gt;</p>
</blockquote>
<p>Alternativně můžete použít &quot; missing\_value &quot; atribut místo &quot;\_FillValue.&quot;
Generovat soubory dat Xml automaticky přidá tyto atributy \_FillValue, když generuje navrhované datasets.xml pro databázové soubory.</p>
<p>Pro databázi plovoucích bodů sloupce, nuly se převést na NaNs v ERDDAP .
Pro databázové datové typy, které jsou převedeny do Strings in ERDDAP™ , nuly jsou převedeny na prázdné Strings.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="database-security">Bezpečnost databáze<a href="#database-security" class="hash-link" aria-label="Přímý odkaz naBezpečnost databáze" title="Přímý odkaz naBezpečnost databáze" translate="no">​</a></h4>
<ul>
<li class="">Při práci s databázemi musíte dělat věci tak bezpečně a bezpečně, jak je to možné, abyste zabránili tomu, aby škodlivý uživatel poškodil vaši databázi nebo získal přístup k datům, ke kterým by neměl mít přístup. ERDDAP™ Snaží se také dělat věci bezpečně.<!-- -->
<ul>
<li class="">Zvažte replikování, na jiném počítači, databáze a databázové tabulky s daty, které chcete ERDDAP™ sloužit. (Ano, pro komerční databáze jako Oracle To zahrnuje dodatečné licenční poplatky. Ale pro databáze open source jako PostgreSQL, MySQL, Amazon RDS a MariaDB to nic nestojí.) To vám dává vysokou úroveň bezpečnosti a také zabraňuje ERDDAP™ žádosti o zpomalení původní databáze.</li>
<li class="">Povzbuzujeme vás, abyste to připravili. ERDDAP™ připojit se k databázi jako uživatel databáze, který má přístup pouze k <strong>relevantní</strong> databáze (án) a má pouze práva na čtení.</li>
<li class="">Doporučujeme vám nastavit spojení od ERDDAP™ do databáze tak, aby<!-- -->
<ul>
<li class="">vždy používá SSL,</li>
<li class="">pouze umožňuje připojení z jedné IP adresy (nebo jeden blok adres) a z jednoho ERDDAP™ uživatele a</li>
<li class="">pouze přenáší hesla ve své MD5 hashed formě.</li>
</ul>
</li>
<li class="">\[ ZNÁMÝ PROBLÉM \] SpojeníProperties (včetně hesla!) jsou uloženy jako prostý text v datasets.xml . Nenašli jsme způsob, jak nechat správce zadat heslo k databázi během ERDDAP &#x27;s startup in Tomcat (který nastane bez vstupu uživatele) , takže heslo musí být přístupné v souboru. Aby to bylo bezpečnější:</li>
<li class="">Ty. (vá ERDDAP™ Správce) měl by být vlastníkem datasets.xml a mají READ a WRITE přístup.</li>
<li class="">Vytvořte skupinu, která zahrnuje pouze uživatelskou=tomcat. Použijte chgrp, aby se skupina pro datasets.xml , jen s oprávněním číst.</li>
<li class="">Použít chmod pro přiřazení práv O-rwx (žádný přístup READ nebo WRITE pro &quot;jiné&quot; uživatele) místo datasets.xml .</li>
<li class="">Až dovnitř ERDDAP™ , heslo a další vlastnosti připojení jsou uloženy v &quot;soukromém&quot; Java proměnné.</li>
<li class="">Žádosti klientů jsou rozebrány a zkontrolovány platnost před vytvořením SQL žádosti o databázi.</li>
<li class="">Žádosti do databáze jsou podány s SQL ReadyStatements, aby se zabránilo <a href="https://en.wikipedia.org/wiki/SQL_injection" target="_blank" rel="noopener noreferrer" class="">SQL injekce</a> .</li>
<li class="">Žádosti do databáze se podávají s provedením Dotaz (neprovede seStation) omezit žádosti pouze o čtení (takže pokus o SQL injekci změnit databázi selže také z tohoto důvodu,) .
 </li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sql">SQL<a href="#sql" class="hash-link" aria-label="Přímý odkaz naSQL" title="Přímý odkaz naSQL" translate="no">​</a></h4>
<ul>
<li class="">Protože OPeNDAP &#x27;s tabulkovými požadavky na data byly navrženy pro napodobení SQL tabulkových požadavků na data, je to snadné pro ERDDAP™ převést tabulkové žádosti o data na jednoduché SQL PřipravenéStatements. Například: ERDDAP™ žádost</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    time,temperature&amp;time&gt;=2008-01-01T00:00:00Z&amp;time&amp;lt;=2008-02-01T00:00:00Z  </span><br></span></code></pre></div></div>
<p>bude převeden na SQL připravený stav</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    SELECT &quot;time&quot;, &quot;temperature&quot; FROM *tableName*  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WHERE &quot;time&quot; &gt;= 2008-01-01T00:00:00Z AND &quot;time&quot; &amp;lt;= 2008-02-01T00:00:00Z  </span><br></span></code></pre></div></div>
<p>ERDDAP™ požadavky s &amp; distinct () a/nebo &amp; orderBy  ( <em>proměnné</em> ) přidá DISTINCT a/nebo ORDER BY <em>proměnné</em> SQL připravené prohlášení. Obecně platí, že to výrazně zpomalí odpověď z databáze.
ERDDAP™ přihlásí připravený stav do <a class="" href="/cs/docs/server-admin/additional-information#log">log.txt</a> jako</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    statement=*thePreparedStatement*  </span><br></span></code></pre></div></div>
<p>Toto bude textová reprezentace PřipravenéhoStatementu, která se může mírně lišit od skutečného PřipravenéhoStatementu. Například v PřipravenémStatementu jsou časy zakódovány zvláštním způsobem. Ale v textové reprezentaci se zobrazují jako data ISO 8601.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="database-speed">Rychlost databáze<a href="#database-speed" class="hash-link" aria-label="Přímý odkaz naRychlost databáze" title="Přímý odkaz naRychlost databáze" translate="no">​</a></h4>
<ul>
<li class="">Databáze mohou být pomalé. Jsou věci, které můžete udělat:<!-- -->
<ul>
<li class="">Obecně -
Povaha SQL je, že dotazy jsou <a href="https://en.wikipedia.org/wiki/Declarative_programming" target="_blank" rel="noopener noreferrer" class="">deklarativní</a> . Jen určují, co uživatel chce. Neobsahují specifikace nebo tipy, jak má být dotaz řešen nebo optimalizován. Takže neexistuje žádná možnost pro ERDDAP™ generovat dotaz takovým způsobem, že pomáhá databázi optimalizovat dotaz (nebo jakýmkoli způsobem určuje, jak má být dotaz řešen) . Obecně je na správci databáze, aby věci nastavil. (například indexy) optimalizovat pro určité typy dotazů.</li>
</ul>
</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="set-the-fetch-size">Nastavit velikost souboru<a href="#set-the-fetch-size" class="hash-link" aria-label="Přímý odkaz naNastavit velikost souboru" title="Přímý odkaz naNastavit velikost souboru" translate="no">​</a></h5>
<p>Databáze vrací data do ERDDAP™ v kouscích. Ve výchozím nastavení vrací různé databáze jiný počet řádků. Často je toto číslo velmi malé a velmi neefektivní. Například výchozí pro Oracle 10! Přečti si dokumentaci JDBC pro ovladač databáze JDBC pro nalezení vlastnosti připojení, která má být nastavena, a přidej ji k popisu datového souboru datasets.xml . Například,
Pro MySQL a Amazon RDS použijte</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;connectionProperty name=&quot;defaultFetchSize&quot;&gt;10000&lt;/connectionProperty&gt;  </span><br></span></code></pre></div></div>
<p>Pro MariaDB není v současné době možné změnit velikost aportu. Ale je to požadovaná funkce, takže hledat na webu zjistit, zda to bylo provedeno.
Pro Oracle , použití</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;connectionProperty name=&quot;defaultRowPrefetch&quot;&gt;10000&lt;/connectionProperty&gt;  </span><br></span></code></pre></div></div>
<p>Pro PostgreSQL použijte</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;connectionProperty name=&quot;defaultRowFetchSize&quot;&gt;10000&lt;/connectionProperty&gt;  </span><br></span></code></pre></div></div>
<p>Ale klidně to číslo změňte. Nastavení čísla příliš velké způsobí ERDDAP™ používat spoustu paměti a být více pravděpodobné, že dojde paměti.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="connectionproperties">Vlastnosti připojení<a href="#connectionproperties" class="hash-link" aria-label="Přímý odkaz naVlastnosti připojení" title="Přímý odkaz naVlastnosti připojení" translate="no">​</a></h4>
<p>Každá databáze má jiné vlastnosti připojení, které mohou být uvedeny v datasets.xml . Mnoho z nich bude mít vliv na výkon databáze ERDDAP™ spojení. Pro zobrazení možností si přečtěte dokumentaci pro ovladač JDBC databáze. Pokud zjistíte vlastnosti připojení, které jsou užitečné, prosím, pošlete e-mail s údaji na erd dot data at noaa dot gov .</p>
<ul>
<li class="">Udělej stůl...
Pravděpodobně dostanete rychlejší odpovědi, pokud budete pravidelně (Každý den? Kdykoliv jsou nová data?) generovat skutečnou tabulku (Podobně jako jste vytvořili názor) a říct ERDDAP™ získat data z tabulky místo VIEW. Vzhledem k tomu, že každý požadavek na stůl pak může být splněn bez připojení k jinému stolu, odpověď bude mnohem rychlejší.</li>
<li class="">Vysavač stolu -
MySQL a Amazon RDS budou reagovat mnohem rychleji, pokud používáte <a href="https://dev.mysql.com/doc/refman/5.7/en/optimize-table.html" target="_blank" rel="noopener noreferrer" class="">OPTIMILNÍ TABULKA</a> .
Maria DB bude reagovat mnohem rychleji, pokud používáte <a href="https://mariadb.com/kb/en/optimize-table/" target="_blank" rel="noopener noreferrer" class="">OPTIMILNÍ TABULKA</a> .
PostgreSQL bude reagovat mnohem rychleji, pokud <a href="https://www.postgresql.org/docs/8.3/static/sql-vacuum.html" target="_blank" rel="noopener noreferrer" class="">VACUUM</a> Stůl.
Oracle nemá ani nepotřebuje analogický příkaz.</li>
<li class="">Značka <a href="https://en.wikipedia.org/wiki/Database_index" target="_blank" rel="noopener noreferrer" class="">Indexy</a> pro běžné proměnné --
Můžete urychlit mnoho / většina dotazů vytvořením indexů v databázi pro proměnné (které databáze nazývají &quot;sloupce&quot;) které jsou často omezeny v dotazu uživatele. Obecně platí, že tyto proměnné jsou stejné jako [&lt; subsetVariables &gt;] (#subsetvariables) a/nebo zeměpisné šířky, délky a časových proměnných.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-connection-pooling">Použít spojení<a href="#use-connection-pooling" class="hash-link" aria-label="Přímý odkaz naPoužít spojení" title="Přímý odkaz naPoužít spojení" translate="no">​</a></h5>
<p>Normálně, ERDDAP™ provede samostatné připojení k databázi pro každou žádost. To je nejspolehlivější přístup. Rychlejší alternativou je použití datového zdroje, který podporuje sdílení připojení. Pro nastavení, upřesněte (například)</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;dataSourceName&gt;java:comp/env/jdbc/postgres/erddap&lt;/dataSourceName&gt;  </span><br></span></code></pre></div></div>
<p>přímo vedle&lt; sourceUrl &gt;,&lt;název řidiče &gt; a&lt;spojení Property&gt;.
A v <em>tomcat</em> /conf/context.xml, definovat zdroj se stejnou informací, například,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;Resource  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name=&quot;jdbc/postgres/erddap&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        driverClassName=&quot;org.postgresql.Driver&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        url=&quot;*jdbc:postgresql://somehost:5432/myDatabaseName*&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        username=&quot;*myUsername*&quot; password=&quot;*myPassword*&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        initialSize=&quot;0&quot; maxActive=&quot;8&quot; minIdle=&quot;0&quot; maxIdle=&quot;0&quot; maxWait=&quot;-1&quot;/&gt;  </span><br></span></code></pre></div></div>
<p>Obecné informace o použití datového zdroje jsou na <a href="https://docs.oracle.com/javase/tutorial/jdbc/basics/sqldatasources.html" target="_blank" rel="noopener noreferrer" class="">https://docs.oracle.com/javase/tutorial/jdbc/basics/sqldatasources.html</a> .
Viz <a href="https://tomcat.apache.org/tomcat-7.0-doc/jndi-resources-howto.html#JDBC_Data_Sources" target="_blank" rel="noopener noreferrer" class="">Informace o datovém zdroji Tomcat</a> a <a href="https://tomcat.apache.org/tomcat-7.0-doc/jndi-datasource-examples-howto.html" target="_blank" rel="noopener noreferrer" class="">Příklady datového zdroje Tomcat</a> nebo hledat na webu příklady použití DataSources s jinými servery aplikace.</p>
<ul>
<li class="">Pokud všechno ostatní selže,
zvážit uložení údajů ve shromažďování NetCDF v3 .nc soubory (zvláště .nc Soubory, které používají <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Geometrie diskrétního odběru vzorků (DSG) </a> Kontiguous Ragged Array datové struktury a tak lze zacházet s ERDDAP &#x27;s <a href="#eddtablefromnccffiles" class="">EDDTableFromNcCFFiles</a> ) . Pokud jsou logicky organizovaní (každý s údaji pro kus prostoru a času) , ERDDAP™ může z nich velmi rychle extrahovat data.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromdatabase-skeleton-xml">EDDTableFromDatabase kostra XML<a href="#eddtablefromdatabase-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDTableFromDatabase kostra XML" title="Přímý odkaz naEDDTableFromDatabase kostra XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromDatabase&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->        &lt;!-- The format varies for each type of database, but will be<br>
<!-- -->          something like:<br>
<!-- -->          For MariaDB:    jdbc:mariadb://<em>xxx.xxx.xxx.xxx</em>:3306/<em>databaseName</em><br>
<!-- -->          For MySql       jdbc:mysql://<em>xxx.xxx.xxx.xxx</em>:3306/<em>databaseName</em><br>
<!-- -->          For Amazon RDS: jdbc:mysql://<em>xxx.xxx.xxx.xxx</em>:3306/<em>databaseName</em><br>
<!-- -->          For Oracle:     jdbc:oracle:thin:@<em>xxx.xxx.xxx.xxx</em>:1521:<em>databaseName</em><br>
<!-- -->          For Postgresql: jdbc:postgresql://<em>xxx.xxx.xxx.xxx</em>:5432/<em>databaseName</em><br>
<!-- -->          where <em>xxx.xxx.xxx.xxx</em> is the host computer&#x27;s numeric IP address<br>
<!-- -->          followed by :<em>PortNumber</em> (4 digits), which may be different for your<br>
<!-- -->          database.  REQUIRED. --&gt;<br>
<!-- -->      &lt;<a href="#jdbc-driver" class="">driverName</a>\&gt;...&lt;/driverName&gt;<br>
<!-- -->        &lt;!-- The high-level name of the database driver, for example,<br>
<!-- -->          &quot;org.postgresql.Driver&quot;.  You need to put the actual database<br>
<!-- -->          driver .jar file (for example, postgresql.jdbc.jar) in<br>
<!-- -->          <em>tomcat</em>/webapps/erddap/WEB-INF/lib.  REQUIRED. --&gt;<br>
<!-- -->      &lt;<a href="#database-connectionproperty" class="">connectionProperty</a> name=&quot;<em>name</em>&quot;&gt;<em>value</em>&lt;/connectionProperty&gt;<br>
<!-- -->        &lt;!-- The names (for example, &quot;user&quot;, &quot;password&quot;, and &quot;ssl&quot;)<br>
<!-- -->          and values of the properties needed for ERDDAP™ to establish<br>
<!-- -->          the connection to the database.  0 or more. --&gt;<br>
<!-- -->      <a href="#use-connection-pooling" class="">&lt;dataSourceName&gt;</a>...&lt;/dataSourceName&gt;  &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;catalogName&gt;...&lt;/catalogName&gt;<br>
<!-- -->        &lt;!-- The name of the catalog which has the schema which has the<br>
<!-- -->          table, default = &quot;&quot;.  OPTIONAL.  Some databases don&#x27;t use<br>
<!-- -->          this. --&gt;<br>
<!-- -->      &lt;schemaName&gt;...&lt;/schemaName&gt; &lt;!-- The name of the<br>
<!-- -->        schema which has the table, default = &quot;&quot;.  OPTIONAL. --&gt;<br>
<!-- -->      &lt;tableName&gt;...&lt;/tableName&gt;  &lt;!-- The name of the<br>
<!-- -->        table, default = &quot;&quot;.  REQUIRED. --&gt;<br>
<!-- -->      <a href="#quotes-for-names-and-case-sensitivity" class="">&lt;columnNameQuotes&gt;</a>&lt;columnNameQuotes&gt; &lt;!-- OPTIONAL. Options:<br>
<!-- -->        &quot; (the default), &#x27;, \[nothing\]. --&gt;<br>
<!-- -->      &lt;orderBy&gt;...&lt;/orderBy&gt;  &lt;!-- A comma-separated list of<br>
<!-- -->        <a href="#sourcename" class="">sourceName</a>s to be used in an ORDER BY clause at the end of the<br>
<!-- -->        every query sent to the database (unless the user&#x27;s request<br>
<!-- -->        includes an &amp;orderBy() filter, in which case the user&#x27;s<br>
<!-- -->        orderBy is used).  The order of the sourceNames is important.<br>
<!-- -->        The leftmost (first) sourceName is most important; subsequent<br>
<!-- -->        sourceNames are only used to break ties.  Only relevant<br>
<!-- -->        sourceNames are included in the ORDER BY clause for a given user<br>
<!-- -->        request.  If this is not specified, the order of the returned<br>
<!-- -->        values is not specified. Default = &quot;&quot;.  OPTIONAL. --&gt;<br>
<!-- -->      <a href="#sourcecanorderby" class="">&lt;sourceCanOrderBy&gt;</a>no(default)|partial|yes&lt;/sourceCanOrderBy&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#sourcecandodistinct" class="">&lt;sourceCanDoDistinct&gt;</a>no(default)|partial|yes&lt;/sourceCanDoDistinct&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#sourceneedsexpandedfp_eq" class="">&lt;sourceNeedsExpandedFP\_EQ&gt;</a>true(default)|false&lt;/sourceNeedsExpandedFP\_EQ&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more.<br>
<!-- -->        Each dataVariable MUST include a <a href="#datatype" class="">&lt;dataType&gt;</a> tag.<br>
<!-- -->        See <a href="#database-datatype" class="">Database DataTypes</a>.<br>
<!-- -->        For <a href="#database-date-time-data" class="">database date and timestamp columns</a>, set dataType=double and<br>
<!-- -->        units=seconds since 1970-01-01T00:00:00Z --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromeddgrid">EDDTableFrom EDDGrid<a href="#eddtablefromeddgrid" class="hash-link" aria-label="Přímý odkaz naEDDTableFrom EDDGrid" title="Přímý odkaz naEDDTableFrom EDDGrid" translate="no">​</a></h3>
<p><a href="#eddtablefromeddgrid" class=""> **EDDTableFrom EDDGrid ** </a> umožňuje vytvořit soubor EDDTable z libovolného EDDGrid Soubor dat.</p>
<ul>
<li class="">Některé společné důvody k tomu jsou:<!-- -->
<ul>
<li class="">To umožňuje, aby soubor údajů byl dotazován s OPeNDAP omezení výběru, což je typ &quot;požadavky podle hodnoty&quot; (který mohl uživatel požádat) .</li>
<li class="">Soubor údajů je ze své podstaty souborem tabulek.</li>
</ul>
</li>
<li class="">Hodnota globálního atributu &quot;maxAxis0&quot; (obvykle type=&quot;int&quot;) , (výchozí hodnota je 10) budou použity k omezení počtu os \[ 0 \]   (obvykle &quot;time&quot; osa) hodnoty uzavřeného EDDGrid data, ke kterým lze přistupovat na žádost o údaje. Pokud nechcete mít žádný limit, zadejte hodnotu 0. Toto nastavení je důležité, protože jinak by pro uživatele bylo příliš snadné požádat EDDTableFrom EDDGrid prohledat všechna data datového souboru. To by trvalo dlouho a téměř jistě by selhalo s timeout chybou. Toto je nastavení, díky kterému je bezpečné mít EDDTableFrom EDDGrid Soubory dat ve Vašem ERDDAP bez obav, že povedou k nepřiměřenému využívání výpočetních zdrojů.</li>
<li class="">Pokud je uzavřen EDDGrid vá <a href="#eddfromerddap" class=""> EDDGrid FromErddap</a> a ERDDAP™ je stejné ERDDAP , pak EDDTableFrom EDDGrid bude vždy používat aktuálně dostupná verze referenčního datového souboru přímo. To je velmi efektivní způsob pro EDDTableFrom EDDGrid přístup k datům v síti.</li>
<li class="">Tato třída je [&lt;reload EveryNMinutes &gt;] (# reload everynminutes) Záleží na tom. Přiložené EDDGrid &#x27;s&lt;reloadEveryNMinutes&gt; se ignoruje.</li>
<li class="">Pokud hodnota pro [&lt;updateEveryNMillis&gt;] (#update everynmillis) je dodáván pro tento datový soubor, je ignorován. Přiložené EDDGrid &#x27;s&lt;updateEveryNMillis&gt; je to, na čem záleží.</li>
<li class=""><a href="#generatedatasetsxml" class="">GenerovatDatasetsXml</a> má možnost pro datový typ=EDDTableFrom EDDGrid který žádá o URL ERDDAP   (obvykle stejné ERDDAP )   (končí v &quot;/erddap/&quot;) a pravidelný výraz. Generovat soubory dat Xml pak vytvoří XML pro EDDTableFrom EDDGrid Databáze pro každý datový soubor v síti ERDDAP™ který má datasetID který odpovídá regulárnímu výrazu (použijte .\* k porovnání všech datasetID s pro mřížkované soubory dat) .</li>
</ul>
<p>Část XML, která je generována pomocí GenerateDatasetsXml pro každý soubor dat, zahrnuje:</p>
<ul>
<li class="">A datasetID což je EDDGrid &#x27;s datasetID plus &quot;\_AsATable.&quot;</li>
<li class="">Nový souhrnný globální atribut, který je EDDGrid &#x27;s shrnutím plus nový první odstavec popisující, co je tento datový soubor.</li>
<li class="">Nový titul globální atribut, který je EDDGrid &#x27;s názvem plus&#x27;, (Jako tabulka) &quot;.</li>
<li class="">Nový globální atribut maxAxis0 s hodnotou 10.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromeddgrid-skeleton-xml">EDDTableFrom EDDGrid kostra XML<a href="#eddtablefromeddgrid-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDTableFrom EDDGrid kostra XML" title="Přímý odkaz naEDDTableFrom EDDGrid kostra XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromEDDGrid&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1.<br>
<!-- -->        For EDDTableFromEDDGrid, this calls lowUpdate() of the underlying<br>
<!-- -->        EDDGrid. --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt;  &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#eddgrid" class="">&lt;dataset&gt;</a>...&lt;/dataset&gt; &lt;!-- 1<br>
<!-- -->         Any type of EDDGrid dataset.  You can even use an<br>
<!-- -->         EDDGridFromERDDAP™ to access an independent EDDGrid dataset on<br>
<!-- -->         this server. --&gt;<br>
<!-- -->    &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromfilenames">EDDTableFromFileNames<a href="#eddtablefromfilenames" class="hash-link" aria-label="Přímý odkaz naEDDTableFromFileNames" title="Přímý odkaz naEDDTableFromFileNames" translate="no">​</a></h3>
<p><a href="#eddtablefromfilenames" class=""> <strong>EDDTableFromFileNames</strong> </a> vytvoří soubor dat z informací o skupině souborů v systému serveru, včetně URL pro každý soubor, aby uživatelé mohli soubory stáhnout prostřednictvím ERDDAP &#x27;s <a href="https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html" target="_blank" rel="noopener noreferrer" class=""> &quot;files&quot; systém</a> . Na rozdíl od všech <a href="#eddtablefromfiles" class="">EDDTableFromFoles</a> podtřídy, tento typ datového souboru neslouží datům zevnitř souborů.</p>
<ul>
<li class="">EDDTableFromFileNames je užitečné, když:<!-- -->
<ul>
<li class="">Máte skupinu souborů, které chcete distribuovat jako celé soubory, protože neobsahují &quot;data&quot; stejným způsobem, jako mají pravidelné datové soubory data. Například obrazové soubory, video soubory, Word dokumenty, Excel tabulkové soubory, PowerPoint prezentační soubory, nebo textové soubory s nestrukturovaným textem.</li>
<li class="">Máte skupinu souborů, které mají data ve formátu, který ERDDAP™ Ještě neumím číst. Například projektově specifický, vlastní, binární formát.
 </li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromfilenames-data">EDDTableFromFileNames Data<a href="#eddtablefromfilenames-data" class="hash-link" aria-label="Přímý odkaz naEDDTableFromFileNames Data" title="Přímý odkaz naEDDTableFromFileNames Data" translate="no">​</a></h4>
<ul>
<li class=""><a href="#eddtablefromfilenames-data" class="">Údaje v souboru EDDTableFromFileNames</a> je stůl, který ERDDAP™ vytváří on-the-fly s informacemi o skupině místních souborů. V tabulce je řádek pro každý soubor. Čtyři zvláštní atributy v <a href="#eddtablefromfilenames-skeleton-xml" class=""> datasets.xml pro tento soubor údajů</a> určit, které soubory budou zahrnuty do tohoto souboru údajů:</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="filedir">soubor Dir<a href="#filedir" class="hash-link" aria-label="Přímý odkaz nasoubor Dir" title="Přímý odkaz nasoubor Dir" translate="no">​</a></h5>
<ul>
<li class="">&lt;fileDir&gt; -- To určuje zdrojový adresář v souborovém systému serveru soubory pro tento soubor. Soubory, které jsou skutečně umístěny v systému serveru v&lt;fileDir&gt; se objeví ve sloupci URL tohoto datového souboru ve virtuálním adresáři s názvemhttps://<em>serverUrl</em>/erddap/files/<em>datasetID/</em>.
Například, pokud datasetID n jplMU RSS T,
a&lt;fileDir&gt; is /home/data/mur/ ,
a že adresář má soubor jplMU RSS T20150103000000.png,
pak URL, která bude zobrazena uživatelům pro tento soubor bude
https://<em>serverUrl</em>/erddap/jplMURSST/jplMURSST20150103000000.png.</li>
</ul>
<p>Kromě použití místního adresáře pro&lt;fileDir&gt; můžete také zadat URL vzdálené webové stránky podobné adresáři. To funguje s:</p>
<ul>
<li class="">Neagregovaná data v THREDDS, např.
<a href="https://data.nodc.noaa.gov/thredds/catalog/aquarius/nodc%5C%5C_binned%5C%5C_V3.0/monthly/" target="_blank" rel="noopener noreferrer" class="">https://data.nodc.noaa.gov/thredds/catalog/aquarius/nodc\\_binned\\_V3.0/monthly/</a>  \[ 2020-10-21 Tento server již není spolehlivě dostupný. \]</li>
<li class="">Neagregované datové soubory v Hyrax např.
<a href="https://podaac-opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/" target="_blank" rel="noopener noreferrer" class="">https://podaac-opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/</a></li>
<li class="">Většina adresářů podobných Apači, např.
<a href="https://www1.ncdc.noaa.gov/pub/data/cmb/ersst/v5/netcdf/" target="_blank" rel="noopener noreferrer" class="">https://www1.ncdc.noaa.gov/pub/data/cmb/ersst/v5/netcdf/</a></li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="fromonthefly">zOnTheFly<a href="#fromonthefly" class="hash-link" aria-label="Přímý odkaz nazOnTheFly" title="Přímý odkaz nazOnTheFly" translate="no">​</a></h5>
<p><a href="#fromonthefly" class="">\<em>\</em>\*fromOnTheFly</a> -- Pro nějaké velké S3 vědro (jako noaa-goes17, který má 26 milionů souborů) , může trvat ERDDAP™ do 12 hodin ke stažení veškeré informace o obsahu kbelíku (a pak jsou tu další problémy.) . Abych se přes to dostal, existuje zvláštní způsob, jak použít&lt;fileDir&gt; v EDDTableFromFileNames vytvořit soubor s adresářem a názvy souborů z kbelíku AWS S3. Databáze nebude mít seznam všech adresářů kbelíku S3 a názvů souborů, které uživatel může vyhledávat prostřednictvím žádostí do datového souboru. Ale soubor dostane jména adresářů a souborů on-the-fly, pokud uživatel přejde hierarchii adresáře s datovým souborem &quot;files&quot; Možnost. To umožňuje uživatelům prohlížet hierarchii souborů a souborů v kbelíku S3 prostřednictvím datového souboru &quot;files&quot; systém. K tomu místo určení URL pro kbelík S3 jako &quot;Starting adresář&quot; (ve generováníDatasets Xml) nebo&lt;souborDir&gt; (v datasets.xml ) , použití:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">\\*\\*\\*fromOnTheFly,*theS3BucketUrl*  </span><br></span></code></pre></div></div>
<p>například:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">\\*\\*\\*fromOnTheFly,https://noaa-goes17.s3.us-east-1.amazonaws.com/  </span><br></span></code></pre></div></div>
<p>Viz dokument <a href="#working-with-aws-s3-files" class="">práce s S3 Kyblíky v ERDDAP™ </a> , zejména popis konkrétního formátu, který musí být použit pro S3 kbelík URL. A vidíš
<a href="#making-an-eddtablefromfilenames-dataset-with-an-aws-s3-bucket" class="">tyto podrobnosti a příklad</a> používání\*\*Z OnThe Fly.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="recursive">rekurzivní<a href="#recursive" class="hash-link" aria-label="Přímý odkaz narekurzivní" title="Přímý odkaz narekurzivní" translate="no">​</a></h5>
<ul>
<li class="">&lt;rekurzivní &gt; -- Soubory v podadresáři&lt;fileDir&gt; s názvy, které odpovídají&lt;souborRegex&gt; se objeví ve stejných podadresách &quot;files&quot; URL pokud&lt;rekursive&gt; je nastaven na true. Výchozí hodnota je nepravdivá.</li>
<li class="">[&lt;pathRegex&gt;] (#pathragex) -- Pokud rekursive=true, Pouze názvy adresářů, které odpovídají cestěRegex (default=&quot;.\*&quot;) budou přijaty. Pokud se rekursive=false, to je ignorováno. To se zřídka používá, ale může být velmi užitečné za neobvyklých okolností. (Vidíš tohle? <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">dokumentace regexu</a> a <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">reflexní tutoriál</a> .)</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="fileregex">souborRegex<a href="#fileregex" class="hash-link" aria-label="Přímý odkaz nasouborRegex" title="Přímý odkaz nasouborRegex" translate="no">​</a></h5>
<ul>
<li class="">&lt;souborRegex&gt; -- Pouze názvy souborů, kde celý název souboru (bez názvu adresáře) odpovídá&lt;souborRegex&gt; bude zařazen do tohoto souboru. Například jplMU RSS T.{14}\.png . (Vidíš tohle? <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">dokumentace regexu</a> a <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">reflexní tutoriál</a> .)<br>
<!-- --> </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="from-file-names-data-table-contents">Z názvů souborů Obsah tabulky dat<a href="#from-file-names-data-table-contents" class="hash-link" aria-label="Přímý odkaz naZ názvů souborů Obsah tabulky dat" title="Přímý odkaz naZ názvů souborů Obsah tabulky dat" translate="no">​</a></h5>
<p>V tabulce budou sloupce s:</p>
<ul>
<li class="">
<p>URL... URL, které mohou uživatelé použít ke stažení souboru přes ERDDAP &#x27;s <a href="https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html" target="_blank" rel="noopener noreferrer" class=""> &quot;files&quot; systém</a> .</p>
</li>
<li class="">
<p>jméno -- Jméno souboru (bez názvu adresáře) .</p>
</li>
<li class="">
<p>Poslední věc... Doba, kdy byl soubor naposledy upraven (uloženy jako dvojníky s &quot;seconds since 1970-01-01T00:00:00Z&quot; ) . Tato proměnná je užitečná, protože uživatelé mohou vidět, zda obsah daného souboru naposledy změnil. Tato proměnná je a <a href="#timestamp-variables" class="">čas Proměnná známka</a> , takže údaje se mohou objevit jako číselné hodnoty (sekundy od 1970-01-01T00:00:00Z) nebo hodnota řetězce (ISO 8601:2004 (E) formát) V závislosti na situaci.</p>
</li>
<li class="">
<p>velikost -- Velikost souboru v bajtech, uloženo jako dvojnásob. Jsou uloženy jako dvojité soubory, protože některé soubory mohou být větší, než umožňují ints a dlouhé nejsou podporovány v některých typech souborů odezvy. Dvojité dá přesnou velikost, dokonce i pro velké soubory.</p>
</li>
<li class="">
<p>sloupce pro přidávání definované ERDDAP™ správce s informacemi extrahovanými z názvu souboru (například čas spojený s údaji v souboru) na základě dvou atributů, které zadáte v metadatech pro každý další sloupec/ dataVariable :</p>
<ul>
<li class="">ExtractRegex -- Tohle je <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">regulární výraz</a>   ( <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">tutoriál</a> ) . Celý regex musí odpovídat celému názvu souboru (bez názvu adresáře) . Regex musí zahrnovat alespoň jednu zachycovací skupinu. (část regulárního výrazu, která je přiložena závorkami) která ERDDAP™ používá k určení, který oddíl názvu souboru pro získání dat.</li>
<li class="">výtažek Skupina... Tohle je číslo zachycené skupiny. (#1 je první skupina zachycení) v pravidelném vyjádření. Výchozí hodnota je 1. Zachycovací skupina je část regulárního výrazu, který je uzavřen závorkami.</li>
</ul>
</li>
</ul>
<p>Zde jsou dva příklady:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;dataVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;sourceName&gt;time&lt;/sourceName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;destinationName&gt;time&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;dataType&gt;String&lt;/dataType&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;att name=&quot;extractRegex&quot;&gt;jplMURSST(.{14})\\.png&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;att name=&quot;extractGroup&quot; type=&quot;int&quot;&gt;1&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;att name=&quot;units&quot;&gt;yyyyMMddHHmmss&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/dataVariable&gt;</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;dataVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;sourceName&gt;day&lt;/sourceName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;destinationName&gt;day&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;dataType&gt;int&lt;/dataType&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;att name=&quot;extractRegex&quot;&gt;jplMURSST.{6}(..).{6}\\.png&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;att name=&quot;extractGroup&quot; type=&quot;int&quot;&gt;1&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;att name=&quot;ioos\\_category&quot;&gt;Time&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/dataVariable&gt; </span><br></span></code></pre></div></div>
<p>V případě časové proměnné, pokud má soubor název jplMU RSS T20150103000000.png, extraktRegex bude odpovídat názvu souboru, extrahovat znaky, které odpovídají první skupina zachycení (&quot;20150103000000&quot;) jako dataType=String, pak použijte <a href="#string-time-units" class="">jednotky vhodné pro časy strun</a> k analýze řetězců do hodnot časových dat (2015-01-03T00:00:00Z) .</p>
<p>V případě denní proměnné, pokud má soubor název jplMU RSS T20150103000000.png, extraktRegex bude odpovídat názvu souboru, extrahovat znaky, které odpovídají první skupina zachycení (&quot;03&quot;) jako [&lt;dataType&gt;] (#datatyp) \=int, získávání datové hodnoty 3.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="other-information">Další informace<a href="#other-information" class="hash-link" aria-label="Přímý odkaz naDalší informace" title="Přímý odkaz naDalší informace" translate="no">​</a></h4>
<ul>
<li class="">Ne [&lt;updateEveryNMillis&gt;] (#update everynmillis) -- Tento typ datového souboru nepotřebuje a nemůže použít&lt;updateEveryNMillis&gt; tag, protože informace, které EDDTableFromFileJména jsou vždy dokonale aktuální, protože ERDDAP™ dotazuje souborový systém, aby reagoval na každou žádost o údaje. I když existuje obrovské množství souborů, tento přístup by měl fungovat přiměřeně dobře. Odpověď může být pomalá, pokud existuje obrovský počet souborů a databáz nebyl dotazován na chvíli. Ale několik minut poté, operační systém uchovává informace v cache, takže odpovědi by měly být velmi rychlé.
 </li>
<li class="">Můžete použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> k vytvoření datasets.xml kus pro tento typ datového souboru. Můžete přidat/definovat další sloupce s informacemi extrahovanými z názvu souboru, jak je uvedeno výše.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromfilenames-skeleton-xml">EDDTableFromFileNázev kostry XML<a href="#eddtablefromfilenames-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDTableFromFileNázev kostry XML" title="Přímý odkaz naEDDTableFromFileNázev kostry XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromFileNames&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      <a href="#eddtablefromfilenames-data" class="">&lt;fileDir&gt;</a>...&lt;/fileDir&gt;<br>
<!-- -->      <a href="#eddtablefromfilenames-data" class="">&lt;recursive&gt;</a>...&lt;/recursive&gt;  &lt;!-- true or false (the default) --&gt;<br>
<!-- -->      <a href="#pathregex" class="">&lt;pathRegex&gt;</a>...&lt;/pathRegex&gt;  &lt;!-- 0 or 1. Only directory names which<br>
<!-- -->        match the pathRegex (default=&quot;.\*&quot;) will be accepted. --&gt;<br>
<!-- -->      <a href="#eddtablefromfilenames-data" class="">&lt;fileNameRegex&gt;</a>...&lt;/fileNameRegex&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more.<br>
<!-- -->         Each dataVariable MUST include <a href="#datatype" class="">&lt;dataType&gt;</a> tag. --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromfiles">EDDTableFromFoles<a href="#eddtablefromfiles" class="hash-link" aria-label="Přímý odkaz naEDDTableFromFoles" title="Přímý odkaz naEDDTableFromFoles" translate="no">​</a></h3>
<p><a href="#eddtablefromfiles" class=""> <strong>EDDTableFromFoles</strong> </a> je supertřída všech EDDTableFrom...Files třídy. Nemůžete použít EDDTableFromFoFoles přímo. Místo toho použijte podtřída EDDTableFromFromFoles pro zpracování konkrétního typu souboru:</p>
<ul>
<li class=""><a href="#eddtablefromasciifiles" class="">EDDTableFromAsciiFiles</a> agreguje data z čárkových, tabulkových, středníkových nebo mezerně oddělených datových souborů ASCII.</li>
<li class=""><a href="#eddfromaudiofiles" class="">EDDTableFromAudioFiles</a> shromažďuje data ze skupiny místních audio souborů.</li>
<li class=""><a href="#eddtablefromawsxmlfiles" class="">EDDTableFrom AwsXmlFiles</a> agreguje data ze sady automatických počasí (AWS) XML soubory.</li>
<li class=""><a href="#eddtablefromcolumnarasciifiles" class="">EDDTableFromColumnarAsciiFiles</a> shromažďuje data z tabulkových datových souborů ASCII s datovými sloupy s pevnou šířkou.</li>
<li class=""><a href="#eddtablefromhyraxfiles" class="">EDDTableFrom Hyrax Soubory</a>   (ODCHYLKY) souhrnné údaje o několika proměnných, každá se sdílenými rozměry (například čas, výška (nebo hloubka) , zeměpisná šířka, zeměpisná délka) , a sloužil <a href="https://www.opendap.org/software/hyrax-data-server" target="_blank" rel="noopener noreferrer" class=""> Hyrax   OPeNDAP server</a> .</li>
<li class=""><a href="#eddtablefrominvalidcrafiles" class="">EDDTableFromNeplatnéCRAFile</a> Údaje z agregátů NetCDF   (V3 nebo v4)   .nc soubory, které používají specifický, neplatný, varianta CF DSG Contiguous Ragged Array (CRA) Složky. I když ERDDAP™ podporuje tento typ souboru, je to neplatný typ souboru, který by nikdo neměl používat. Skupiny, které v současné době používají tento typ souboru, jsou důrazně vybízeny k používání ERDDAP™ generovat platné soubory CF DSG CRA a přestat používat tyto soubory.</li>
<li class=""><a href="#eddtablefromjsonlcsvfiles" class="">EDDTableFromJsoniCSVFiles</a> Údaje z agregátů <a href="https://jsonlines.org/examples/" target="_blank" rel="noopener noreferrer" class="">JSON Řádky CSV souborů</a> .</li>
<li class=""><a href="#eddtablefrommultidimncfiles" class="">EDDTablefromMultidimNcFiles</a> Údaje z agregátů NetCDF   (V3 nebo v4)   .nc   (nebo <a href="#ncml-files" class=""> .nc ml</a> ) soubory s několika proměnnými, každá se sdílenými rozměry (například čas, výška (nebo hloubka) , zeměpisná šířka, zeměpisná délka) .</li>
<li class=""><a href="#eddtablefromncfiles" class="">EDDTableFromNcFiles</a> Údaje z agregátů NetCDF   (V3 nebo v4)   .nc   (nebo <a href="#ncml-files" class=""> .nc ml</a> ) soubory s několika proměnnými, každá se sdílenými rozměry (například čas, výška (nebo hloubka) , zeměpisná šířka, zeměpisná délka) . Je v pořádku pokračovat v používání tohoto datového souboru pro stávající datové soubory, ale pro nové datové soubory doporučujeme použít místo toho EDDTableFromMultidimNcFiles.</li>
<li class=""><a href="#eddtablefromnccffiles" class="">EDDTableFromNcCFFiles</a> Údaje z agregátů NetCDF   (V3 nebo v4)   .nc   (nebo <a href="#ncml-files" class=""> .nc ml</a> ) soubory, které používají jeden ze formátů souborů uvedených v <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Geometrie diskrétního odběru vzorků (DSG) </a> Konvence. Ale pro soubory používající jednu z multidimenzionálních CF DSG variant, použijte <a href="#eddtablefrommultidimncfiles" class="">EDDTablefromMultidimNcFiles</a> Místo toho.</li>
<li class=""><a href="#eddtablefromnccsvfiles" class="">EDDTableFromNccsvFiles</a> Údaje z agregátů <a class="" href="/cs/docs/user/nccsv-1.00">NCCSV</a> ASCII .csv soubory.</li>
<li class=""><a href="#eddtablefromparquetfiles" class="">EDDTableFromParquetFiles</a> zpracovává údaje od <a href="https://parquet.apache.org/" target="_blank" rel="noopener noreferrer" class="">Parket</a> .</li>
<li class=""><a href="#eddtablefromthreddsfiles" class="">EDDTableFromThreddsFiles</a>   (ODCHYLKY) kumuluje data ze souborů s několika proměnnými se sdílenými rozměry poskytovanými <a href="https://www.unidata.ucar.edu/software/tds/" target="_blank" rel="noopener noreferrer" class="">THREDDS OPeNDAP server</a> .</li>
<li class=""><a href="#eddtablefromwfsfiles" class="">EDDTableFrom WFS Soubory</a>   (ODCHYLKY) vytvoří místní kopii všech údajů z ArcGIS MapServer WFS server, takže data pak mohou být rychle re-served ERDDAP™ uživatelé.</li>
</ul>
<p>V současné době nejsou podporovány žádné jiné typy souborů. Obvykle je však poměrně snadné přidat podporu pro jiné typy souborů. Kontaktujte nás, pokud máte požadavek. Nebo, pokud jsou vaše data ve starém formátu, ze kterého byste se chtěli odstěhovat, doporučujeme převést soubory, které mají být NetCDF v3 .nc soubory (a zejména .nc Soubory s <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Geometrie diskrétního odběru vzorků (DSG) </a> Kontiguous Ragged Array data struktura -- ERDDAP™ může z nich velmi rychle extrahovat data) . NetCDF je široce podporovaný binární formát, umožňuje rychlý náhodný přístup k datům a je již podporován ERDDAP .</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="fromfiles-details">Podrobnosti z souborů<a href="#fromfiles-details" class="hash-link" aria-label="Přímý odkaz naPodrobnosti z souborů" title="Přímý odkaz naPodrobnosti z souborů" translate="no">​</a></h4>
<p>Následující informace platí pro všechny podtřídy EDDTableFromFoles.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="aggregation">Agregace<a href="#aggregation" class="hash-link" aria-label="Přímý odkaz naAgregace" title="Přímý odkaz naAgregace" translate="no">​</a></h5>
<p>Tato třída shromažďuje data z místních souborů. Každý soubor má (relativně) malá tabulka dat.</p>
<ul>
<li class="">Výsledný datový soubor se jeví jako by všechny tabulky souboru byly kombinovány (všechny řádky dat ze souboru #1, plus všechny řádky ze souboru #2, ...) .</li>
<li class="">Soubory nemusí mít všechny zadané proměnné. Pokud daný soubor nemá zadanou proměnnou, ERDDAP™ přidá chybějící hodnoty podle potřeby.</li>
<li class="">Proměnné ve všech souborech MUSÍ mít stejné hodnoty pro <a href="#scale_factor" class=""> add\_offset </a> , <a href="#missing_value" class=""> missing\_value </a> , <a href="#missing_value" class="">\_Fill Hodnota</a> , <a href="#scale_factor" class=""> scale\_factor </a> a <a href="#units" class="">jednotky</a> atributy (pokud existuje) . ERDDAP™ kontroly, ale je to nedokonalý test -- pokud existují různé hodnoty, ERDDAP neví, co je správné, a proto, které soubory jsou neplatné. Pokud je problém, můžete být schopni použít <a href="#ncml-files" class="">NcML</a> nebo <a href="#netcdf-operators-nco" class=""> NCO </a> Napravit problém.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="compressed-files">Stlačené soubory<a href="#compressed-files" class="hash-link" aria-label="Přímý odkaz naStlačené soubory" title="Přímý odkaz naStlačené soubory" translate="no">​</a></h5>
<p>Soubory zdrojových dat pro všechny podtřídy EDDTableFromFromFoles lze externě komprimovat (např. .tgz , .tar  .gz , .tar  .gzip , .gz , .gzip , .zip , .bz2 nebo .Z) . Viz <a href="#externally-compressed-files" class="">Vnější dokumentace komprimovaných souborů</a> .
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="cached-file-information-1">Informace o souboru<a href="#cached-file-information-1" class="hash-link" aria-label="Přímý odkaz naInformace o souboru" title="Přímý odkaz naInformace o souboru" translate="no">​</a></h5>
<ul>
<li class="">Při prvním načtení databázového souboru EDDTableFromFoles čte informace ze všech příslušných souborů a vytváří tabulky (jeden řádek pro každý soubor) s informacemi o každém platném souboru a každém &quot;špatném&quot; (jiný nebo neplatný) Složka.<!-- -->
<ul>
<li class="">Tabulky jsou také uloženy na disku, jako NetCDF v3 .nc soubory v <em>velkýRodič rodičů</em> /dataset/ <em>last2CharsOfDatasetID</em> / * datasetID * / v souborech pojmenovaných:
dirTable .nc   (který obsahuje seznam jedinečných názvů adresářů) ,
soubor Tabulka .nc   (která obsahuje tabulku s údaji každého platného souboru) ,
badFiles .nc   (který drží tabulku s informacemi každého špatného souboru) .</li>
<li class="">Pro urychlení přístupu k datovému souboru EDDTableFromFoles (ale na úkor využití více paměti) , můžete použít
[&lt;souborTableInMemory&gt; true&lt;/fileTableInMemory&gt;] (# filetableinmemory)<br>
<!-- -->říct ERDDAP™ uchovávat kopii tabulek informací o souboru v paměti.</li>
<li class="">Kopie tabulek informací o souboru na disku je také užitečná, když ERDDAP™ je vypnuto a restartováno: ukládá EDDTable OdFiles z nutnosti znovu přečíst všechny datové soubory.</li>
<li class="">Když je soubor dat znovu načten, ERDDAP™ stačí přečíst data v nových souborech a souborech, které se změnily.</li>
<li class="">Pokud má soubor jinou strukturu než ostatní soubory (například jiný datový typ pro jednu z proměnných nebo jinou hodnotu pro &quot; <a href="#units" class="">jednotky</a> &quot; atribut) , ERDDAP přidá soubor do seznamu &quot;špatných&quot; souborů. Informace o problému se souborem budou zapsány do <em>velkýRodič rodičů</em> /logs/log.txt soubor.</li>
<li class="">Nikdy byste neměli muset smazat nebo pracovat s těmito soubory. Jednou výjimkou je: pokud stále provádíte změny datového souboru datasets.xml nastavit, možná budete chtít odstranit tyto soubory k vynucení ERDDAP™ znovu přečíst všechny soubory, protože soubory budou číst/interpretovat jinak. Pokud budete někdy potřebovat odstranit tyto soubory, můžete to udělat, když ERDDAP™ Utíká. (Pak nastavte <a class="" href="/cs/docs/server-admin/additional-information#set-dataset-flag">vlajka</a> co nejdříve načíst soubor údajů.) Nicméně, ERDDAP™ obvykle si všimne, že datasets.xml informace neodpovídají souboru Informace o tabulce a automaticky smaže tabulky souborů.</li>
<li class="">Pokud chcete podpořit ERDDAP™ aktualizovat uložené informace o datovém souboru (například, pokud jste právě přidali, odstranili nebo změnili některé soubory do datového adresáře datového souboru) , použijte <a class="" href="/cs/docs/server-admin/additional-information#flag">Systém vlajky</a> donutit ERDDAP™ aktualizovat informace o cached souboru.
 </li>
</ul>
</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="handling-requests-1">Žádosti o zacházení<a href="#handling-requests-1" class="hash-link" aria-label="Přímý odkaz naŽádosti o zacházení" title="Přímý odkaz naŽádosti o zacházení" translate="no">​</a></h5>
<ul>
<li class="">ERDDAP™ Tabulkové žádosti o údaje mohou klást omezení na jakoukoli proměnnou.</li>
<li class="">Při zpracování požadavku klienta na data se může EDDTableFromFoles rychle podívat do tabulky s platnou informací o souboru, aby zjistil, které soubory mohou mít příslušná data. Například pokud má každý zdrojový soubor data pro jednu bóji s pevným umístěním, může EDDTableFromFoles velmi účinně určit, které soubory mohou mít data v daném rozsahu délky a zeměpisné šířky.</li>
<li class="">Vzhledem k tomu, že platná tabulka informací o souboru obsahuje minimální a maximální hodnotu každé proměnné pro každý platný soubor, může EDDTableFromFoles často efektivně řešit další dotazy. Například pokud některé z bójí nemají čidlo tlaku vzduchu a klient požaduje data pro AirPressure!=NaN, EdDTableFromFiles může efektivně určit, která bóje mají údaje o tlaku vzduchu.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="updating-the-cached-file-information-1">Aktualizace informací o souboru<a href="#updating-the-cached-file-information-1" class="hash-link" aria-label="Přímý odkaz naAktualizace informací o souboru" title="Přímý odkaz naAktualizace informací o souboru" translate="no">​</a></h5>
<p>Kdykoli je soubor znovu načten, jsou aktualizovány informace o cache souboru.</p>
<ul>
<li class="">Databáze se pravidelně načítá tak, jak stanoví&lt;reloadEveryNMinutes&gt; v informacích datového souboru v datasets.xml .</li>
<li class="">Databáze je znovu načítána co nejdříve. ERDDAP™ zjistí, že jste přidali, odstranili, <a href="https://en.wikipedia.org/wiki/Touch_(Unix)" target="_blank" rel="noopener noreferrer" class="">Touch&#x27;d</a> (změnit poslední soubor Změněný čas) , nebo změnil datový soubor.</li>
<li class="">Databáze je znovu načtena co nejdříve, pokud použijete <a class="" href="/cs/docs/server-admin/additional-information#flag">Systém vlajky</a> .</li>
</ul>
<p>Když je soubor dat znovu načten, ERDDAP™ Porovnává aktuálně dostupné soubory s kašovanou informační tabulkou souboru. Nové soubory se čtou a přidávají do platné tabulky souborů. Soubory, které již neexistují, jsou staženy z platné tabulky souborů. Soubory, kde došlo ke změně časového razítka souboru, se čtou a jejich informace se aktualizují. Nové tabulky nahrazují staré tabulky v paměti a na disku.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="bad-files-1">Špatné soubory<a href="#bad-files-1" class="hash-link" aria-label="Přímý odkaz naŠpatné soubory" title="Přímý odkaz naŠpatné soubory" translate="no">​</a></h5>
<p>Tabulka špatných souborů a důvody, proč byly soubory prohlášeny za špatné (poškozený soubor, chybějící proměnné, nesprávné hodnoty osy atd.) je e-mailem na e-mail Všechno Na e-mailovou adresu (Pravděpodobně vy.) pokaždé, když je soubor dat znovu načten. Měli byste tyto soubory co nejdříve nahradit nebo opravit.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="missing-variables-1">Chybějící proměnné<a href="#missing-variables-1" class="hash-link" aria-label="Přímý odkaz naChybějící proměnné" title="Přímý odkaz naChybějící proměnné" translate="no">​</a></h5>
<p>Pokud některé složky nemají některé z dataVariable s definovaná v souboru údajů datasets.xml To je v pořádku. Když EDDTableFromFoles čte jeden z těchto souborů, bude to působit, jako by soubor měl proměnnou, ale se všemi chybějícími hodnotami.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="near-real-time-data">Údaje v blízkém reálném čase<a href="#near-real-time-data" class="hash-link" aria-label="Přímý odkaz naÚdaje v blízkém reálném čase" title="Přímý odkaz naÚdaje v blízkém reálném čase" translate="no">​</a></h5>
<ul>
<li class="">EDDTableFromFoles považuje žádosti o nejnovější data za zvláštní případ. Problém: Pokud jsou soubory tvořící soubor často aktualizovány, je pravděpodobné, že data nebudou aktualizována pokaždé, když se soubor změní. Takže EDDTableFromFoles nebude vědět o změně souborů. (Můžeš použít <a class="" href="/cs/docs/server-admin/additional-information#flag">Systém vlajky</a> , ale to může vést k ERDDAP™ načítání dat téměř neustále. Ve většině případů to nedoporučujeme.) EDDTableFromFoles se tímto zabývá následujícím systémem: Kdy? ERDDAP™ obdrží žádost o údaje během posledních 20 hodin (například před 8 hodinami až do teď) , ERDDAP™ bude vyhledávat všechny soubory, které mají všechna data za posledních 20 hodin. Takže, ERDDAP™ nemusí mít dokonale aktuální data pro všechny soubory, aby našel nejnovější data. Měli byste se ještě nastavit [&lt;reload EveryNMinutes &gt;] (# reload everynminutes) na přiměřeně malou hodnotu (například 60) , Ale nemusí to být malé (například 3) .
 <!-- -->
<ul>
<li class="">
<p><strong>Nedoporučuje se</strong> organizace téměř reálných dat v souborech: Pokud například máte datový soubor, který ukládá data pro mnoho stanic (nebo bóje, nebo trajektorie, ...) po mnoho let, můžete zařídit soubory tak, aby například, tam je jeden soubor na stanici. Ale pokaždé, když dorazí nová data pro stanici, musíte si přečíst velký starý soubor a napsat velký nový soubor. A kdy ERDDAP™ znovu načte soubor, všimne si, že některé soubory byly upraveny, takže tyto soubory čte úplně. To je neefektivní.
 </p>
</li>
<li class="">
<p><strong>Doporučené</strong> organizace téměř reálných dat v souborech: Uložit data například do bloků, všechna data za jednu stanici/buoy/trajektorii za jeden rok (nebo jeden měsíc) . Pak, když přijde nový datum, jen soubor s letošní (nebo měsíc) jsou ovlivněny údaje.</p>
</li>
<li class="">
<p>Nejlepší: Použití NetCDF v3 .nc soubory s neomezeným rozměrem (čas) . Pak, pro přidání nových dat, stačí přidat nová data, aniž byste museli číst a přepisovat celý soubor. Změna se provádí velmi efektivně a v podstatě atomově, takže soubor není nikdy v rozporu.</p>
</li>
<li class="">
<p>Jinak: .nc soubory s neomezeným rozměrem (čas) , pak, když potřebujete přidat nová data, musíte přečíst a přepsat celý dotčený soubor (Doufejme, že malé, protože to má jen rok (nebo měsíc) hodnota údajů) . Naštěstí všechny soubory za předchozí roky (nebo měsíce) pro tuto stanici zůstat beze změny.</p>
</li>
</ul>
</li>
</ul>
<p>V obou případech, kdy ERDDAP™ reloads soubor, většina souborů se nemění; jen několik, malé soubory se změnily a je třeba číst.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="directories-1">Adresáře<a href="#directories-1" class="hash-link" aria-label="Přímý odkaz naAdresáře" title="Přímý odkaz naAdresáře" translate="no">​</a></h5>
<p>Soubory mohou být v jednom adresáři nebo v adresáři a jeho podadresáři (rekurzivně) . Pokud existuje velký počet souborů (např. &gt; 1 000) , operační systém (a tedy EDDTableFromFoles) bude fungovat mnohem efektivněji, pokud uložíte soubory do řady podadresářů (jeden za rok nebo jeden za měsíc pro soubory údajů s velmi častými soubory) , tak, že nikdy neexistuje obrovské množství souborů v daném adresáři.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="remote-directories-and-http-range-requests-1">Vzdálené adresáře a HTTP požadavky na rozsah<a href="#remote-directories-and-http-range-requests-1" class="hash-link" aria-label="Přímý odkaz naVzdálené adresáře a HTTP požadavky na rozsah" title="Přímý odkaz naVzdálené adresáře a HTTP požadavky na rozsah" translate="no">​</a></h5>
<ul>
<li class="">
<p><strong>Vzdálené adresáře a HTTP požadavky na rozsah</strong>   (AKA Byte Servis, Byte Range žádosti) --
EDDGrid EDDTableFromMultidimNcFiles, EDDTableFromNcFiles a EDDTableFromNcCFFiles mohou někdy sloužit data z .nc soubory na vzdálených serverech a přístupné přes HTTP, pokud server podporuje <a href="https://en.wikipedia.org/wiki/Byte_serving" target="_blank" rel="noopener noreferrer" class="">Byte Slouží</a> přes HTTP požadavky na rozsah (HTTP mechanismus pro bajtové podávání) . To je možné, protože netcdf-java (která ERDDAP™ použití ke čtení .nc soubory) podporuje čtení dat ze vzdáleného .nc soubory přes HTTP požadavky na rozsah.</p>
<p><strong>Nedělej to!</strong><br>
<!-- -->Místo toho použijte [&lt;cacheFromUrl&gt; system] (#Cachefromurl) .</p>
</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="cachefromurl">CacheFromUrl<a href="#cachefromurl" class="hash-link" aria-label="Přímý odkaz naCacheFromUrl" title="Přímý odkaz naCacheFromUrl" translate="no">​</a></h5>
<ul>
<li class="">[ ** &lt;cacheFromUrl&gt; ** ] (#Cachefromurl) -
Všechny EDDGrid FromFiles a všechny soubory EDDTableFromFoles podporují sadu tagů, které říkají ERDDAP™ stáhnout a udržovat kopii všech souborů vzdáleného datového souboru nebo cache několika souborů (stažen podle potřeby) . <strong>Tohle je neuvěřitelně užitečná vlastnost.</strong>
<ul>
<li class="">
<p>The&lt;cacheFromUrl&gt; tag umožňuje zadat URL se seznamem souborů vzdáleného souboru ze vzdáleného seznamu souborů.</p>
<ul>
<li class="">Neagregovaná data v THREDDS, např.
<a href="https://data.nodc.noaa.gov/thredds/catalog/aquarius/nodc%5C%5C_binned%5C%5C_V3.0/monthly/" target="_blank" rel="noopener noreferrer" class="">https://data.nodc.noaa.gov/thredds/catalog/aquarius/nodc\\_binned\\_V3.0/monthly/</a>  \[ 2020-10-21 Tento server již není spolehlivě dostupný. \]</li>
<li class="">Neagregované datové soubory v Hyrax např.
<a href="https://podaac-opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/" target="_blank" rel="noopener noreferrer" class="">https://podaac-opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/</a></li>
<li class="">Většina adresářů podobných Apači, např.
<a href="https://www.ncei.noaa.gov/data/global-precipitation-climatology-project-gpcp-daily/" target="_blank" rel="noopener noreferrer" class="">https://www.ncei.noaa.gov/data/global-precipitation-climatology-project-gpcp-daily/</a></li>
<li class="">S3 kbelíky, např.
<a href="https://noaa-goes17.s3.us-east-1.amazonaws.com/" target="_blank" rel="noopener noreferrer" class="">https://noaa-goes17.s3.us-east-1.amazonaws.com/</a><br>
<!-- -->To však může vyžadovat účet AWS a další nastavení.
Viz <a href="#working-with-aws-s3-files" class="">práce s S3 Kyblíky v ERDDAP™ </a> .
Také, obvykle nemusíte používat cache FromUrl se soubory v S3 kbelíky, pokud jsou soubory ASCII soubory (např. .csv) , protože ERDDAP™ efektivně číst data z kbelíku přímo přes proud.</li>
</ul>
<p>ERDDAP™ bude kopírovat nebo cachovat tyto soubory v souboru&lt;fileDir&gt; adresář. Pokud potřebujete podporu pro jiný typ vzdáleného seznamu souborů (např. FTP) Pošlete prosím svou žádost Chrisovi. John at noaa.gov .</p>
<ul>
<li class="">Výchozí hodnota pro&lt;cacheFromUrl&gt; tag je null. Pokud nespecifikujete hodnotu pro&lt;cacheFromUrl&gt; tag, systém kopírování/cache nebude použit pro tento datový soubor.</li>
<li class="">Pokud je datový soubor&lt;souborRegex&gt; nastavení je něco jiného než .\*, ERDDAP™ bude stahovat pouze soubory, které odpovídají souboruRegex.</li>
<li class="">Pokud je datový soubor&lt;rekursive&gt; nastavení je pravda a vzdálené soubory jsou v podadresáři, ERDDAP™ bude hledat ve vzdálených podadresářech, které odpovídají datovému souboru [&lt;pathRegex&gt;] (#pathragex) , vytvořit stejnou strukturu adresáře lokálně a dát místní soubory do stejných podadresářů.</li>
<li class="">Ve generováníDatasets Xml, pokud zadáte&lt;cacheFromUrl&gt; hodnota, Generovat Datové soubory Xml vytvoří místní&lt;fileDir&gt; adresář a kopírovat 1 vzdálený soubor do něj. Generovat soubory dat Xml pak generuje datasets.xml kus založený na souboru vzorku (specifikovat vzorek Soubor=nic) .</li>
<li class="">Pokud je zdroj dat vzdálený ERDDAP™ , použití <a href="#eddfromerddap" class=""> EDDGrid FromErddap</a> nebo <a href="#eddfromerddap" class="">EDDTableFromErddap</a> místo&lt;cacheFromUrl&gt;. Tímto způsobem, váš místní ERDDAP™ Zdá se, že data mají, ale nebudou muset ukládat žádná z dat na místě. Jediný důvod k použití&lt;cacheFromUrl &gt; získat data ze vzdáleného ERDDAP™ je, když máte nějaký jiný důvod, proč chcete mít místní kopii datových souborů. V takovém případě:<!-- -->
<ul>
<li class="">Tento datový soubor se pokusí odeslat datový soubor na vzdáleném ERDDAP takže změny tohoto datového souboru budou nazývat vlajku tohoto souboru Url, což způsobuje, že tento místní datový soubor znovu načíst a stáhnout změněné vzdálené soubory. Místní datový soubor bude proto aktualizován velmi brzy po provedení změn vzdáleného datového souboru.</li>
<li class="">Měli byste e-mail správce vzdáleného ERDDAP™ požádat o datasets.xml pro vzdálený datový soubor, takže můžete vytvořit datový soubor ve svém lokálním ERDDAP™ Vypadá to jako datový soubor ve vzdáleném ERDDAP .</li>
</ul>
</li>
<li class="">Pokud je zdroj dat vzdálený ERDDAP™ , místní datový soubor se pokusí přihlásit ke vzdálenému datovému souboru.<!-- -->
<ul>
<li class="">Pokud předplatné uspěje, kdykoli je vzdálené ERDDAP reloads and has new data, it will contact the flagURL for this data data, což způsobí, že bude znovu načíst a stáhnout nové a / nebo změněné datové soubory.</li>
<li class="">Pokud předplatné selže (z jakéhokoli důvodu) nebo pokud jednoduše chcete zajistit, aby byl místní datový soubor aktualizován, můžete nastavit <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> pro místní datový soubor, takže bude znovu načíst, takže bude kontrolovat nové a/nebo změněné vzdálené datové soubory.</li>
</ul>
</li>
<li class="">Pokud zdroj dat není vzdálený ERDDAP : databázový soubor zkontroluje nové a/nebo změněné vzdálené soubory pokaždé, když je znovu načte. Normálně je řízen [&lt;reload EveryNMinutes &gt;] (# reload everynminutes) . Ale pokud víte, kdy jsou nové vzdálené soubory, můžete nastavit <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> pro místní datový soubor, takže bude znovu načíst a kontrolovat nové a/nebo změněné vzdálené datové soubory. Pokud k tomu dojde pravidelně v určitou denní dobu (např. v 7 ráno) , můžete udělat cron práci používat curl kontaktovat vlajku Url pro tento datový soubor, takže bude znovu načíst a kontrolovat nové a/nebo změněné vzdálené datové soubory.</li>
</ul>
</li>
<li class="">
<p>The&lt;cacheSizeGB&gt; tag určuje velikost místní cache. Pravděpodobně to potřebujete použít pouze při práci s cloudovými úložnými systémy, jako je <a href="https://aws.amazon.com/s3/" target="_blank" rel="noopener noreferrer" class="">Amazon S3</a> což je běžně používaný skladovací systém, který je součástí <a href="https://aws.amazon.com/" target="_blank" rel="noopener noreferrer" class="">Amazon Webové služby (AWS) </a> . Výchozí hodnota je -1.</p>
<ul>
<li class="">Pokud je hodnota&lt;0, 0 (např. výchozí hodnota -1) ,
ERDDAP™ stáhne a udržuje <strong>kompletní kopie</strong> ze všech souborů vzdáleného datového souboru v datovém souboru&lt;fileDir&gt;.<!-- -->
<ul>
<li class="">Toto je nastavení, které se doporučuje kdykoli je to možné.</li>
<li class="">Pokaždé, když je soubor dat znovu načten, porovnává jména, velikosti a poslední kodifikované časy vzdálených souborů a místních souborů a stahuje všechny vzdálené soubory, které jsou nové nebo se změnily.</li>
<li class="">Pokud soubor, který byl na vzdáleném serveru zmizí, ERDDAP™ nevymaže odpovídající místní soubor (jinak, pokud je něco dočasně špatně se vzdáleným serverem, ERDDAP™ může smazat některé nebo všechny místní soubory!) .</li>
<li class="">S tímto nastavením, obvykle budete nastavit&lt;updateEveryNMillis&gt; to -1, protože datový soubor si je vědom toho, kdy kopíroval nové datové soubory.</li>
</ul>
</li>
<li class="">Je-li hodnota &gt;0,
ERDDAP™ bude stahovat soubory ze vzdáleného souboru podle potřeby do místního <strong>cache</strong> (v souboru údajů)&lt;fileDir&gt;) s mezní velikostí uvedeného počtu GB.<!-- -->
<ul>
<li class="">Ceche musí být dostatečně velká, aby měla alespoň několik datových souborů.</li>
<li class="">Obecně platí, že čím větší cache, tím lepší, protože další požadovaný datový soubor bude pravděpodobnější, že již bude v cache.</li>
<li class="">Caching by měl být použit pouze tehdy, ERDDAP™ běží na cloud computing serveru (např. výpočetní instance AWS) a vzdálené soubory v cloudovém úložišti (např. AWS S3) .</li>
<li class="">Když místo na disku používané místními soubory přesahuje cache VelikostGB, ERDDAP™ bude brzy (Možná ne hned.) smazat některé z cached souborů (v současné době, na základě nejméně nedávno použité (LRU) algoritmus) dokud není místo na disku používané místními soubory&lt;0.75\*cacheSizeGB (&quot;cíl&quot;) . Ano, existují případy, kdy LRU provádí velmi špatně - neexistuje žádný dokonalý algoritmus.</li>
<li class="">ERDDAP™ se nikdy nepokusí smazat cached soubor, který ERDDAP™ začal používat během posledních 10 sekund. Jedná se o nedokonalý systém pro řešení systému cache a systém čtečky dat je pouze volně integrován. Kvůli tomuto pravidlu, ERDDAP™ nemusí být schopen odstranit dostatek souborů pro dosažení svého cíle, v tom případě to bude tisknout VAROVÁNÍ do log.txt souboru, a systém bude plýtvat hodně času se snaží prořezat cache, a je možné, že velikost souborů v cache může výrazně překročit cacheSizeGB. Pokud k tomu někdy dojde, použijte větší cacheSizeGB nastavení pro tento datový soubor.</li>
<li class="">V současné době, ERDDAP™ nikdy nekontrolujte, zda má vzdálený server novější verzi souboru, který je v lokální cache. Pokud potřebujete tuto funkci, prosím, e-mail Chris. John at noaa.gov .</li>
</ul>
</li>
<li class="">Ačkoli použití stejných názvů značek může znamenat, že kopírovací systém a systém cache používají stejný základní systém, to není správné.<!-- -->
<ul>
<li class="">Kopírovací systém aktivně spouští úkolyThread pro stahování nových a změněných souborů pokaždé, když je soubor znovu načten. Pouze soubory, které byly skutečně zkopírovány do místního adresáře jsou k dispozici prostřednictvím ERDDAP™ Soubor dat.</li>
<li class="">Systém cache získá seznam vzdálených souborů pokaždé, když je soubor znovu načten a předstírá, že všechny tyto soubory jsou k dispozici prostřednictvím ERDDAP™ Soubor dat. Zajímavé je, že všechny vzdálené soubory se dokonce objeví v /souborech/ webových stránkách datového souboru a jsou k dispozici ke stažení (I když možná až po zpoždění, zatímco soubor je nejprve stažen ze vzdáleného serveru do místní cache.)</li>
</ul>
</li>
<li class="">Datové soubory, které používají cacheSizeGB, mohou mít prospěch z použití <a href="#nthreads" class="">nThreads</a> nastavení větší než 1, protože to umožní soubor dat stáhnout více než 1 vzdálený soubor najednou.</li>
</ul>
</li>
<li class="">
<p>The&lt;cachePartialPathRegex&gt; tag je zřídka používaný tag, který může určit alternativu pro soubor dat [&lt;pathRegex&gt;] (#pathragex) . Výchozí hodnota je nulová.</p>
<ul>
<li class="">Použijte to pouze v případě, že kopírujete celý soubor souborů přes výchozí&lt;cacheSizeGB&gt; hodnota -1.&lt;cacheSizeGB&gt; hodnoty &gt;1, to bude ignorováno, protože to je nesmyslné.</li>
<li class="">Viz [dokumentace pro&lt;pathRegex&gt;] (#pathragex) pro návod, jak vytvořit regex.</li>
<li class="">Je-li uvedeno toto, použije se vždy při opětovném načtení souboru dat, s výjimkou prvního opětovného načtení datového souboru na začátku měsíce.</li>
<li class="">To je užitečné, když je vzdálený soubor uložen v labyrintu podadresářů a kdy se velká většina těchto souborů, pokud vůbec, mění. (&lt;kašel &gt; NASA&lt;kašel &gt;) Můžete například zadat&lt;cachePartialPathRegex&gt;, který jen odpovídá aktuálnímu roku nebo aktuálnímu měsíci. Tyto regexy jsou velmi složité určit, protože všechny částečné a plné názvy cest musí odpovídat&lt;cachePartialPathRegex&gt; a protože&lt;cachePartialPathRegex&gt; musí pracovat se vzdálenými URL adresami a místními adresáři. Skutečný životní příklad je:</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;cacheFromUrl&gt;https://data.nodc.noaa.gov/ghrsst/GDS2/L4/GLOB/JPL/MUR/v4.1/&lt;/cacheFromUrl&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            \\&gt;!-- \\[2020-10-21 This server is no longer reliably available.\\] For most types of remote directories, omit the filename (e.g., contents.html for Hyrax). --&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;fileDir&gt;/u00/satellite/MUR41/&lt;/fileDir&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;fileNameRegex&gt;\\*\\.nc&lt;/fileNameRegex&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;recursive&gt;true&lt;/recursive&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;pathRegex&gt;.\\*&lt;/pathRegex&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;cachePartialPathRegex&gt;.\\*/v4\\.1/(|2018/(|01./))&lt;/cachePartialPathRegex&gt;  </span><br></span></code></pre></div></div>
<p>Sample URL má soubory v podadresářech podle roku (např., 2018) a den roku (např. 001, 002, ..., 365 nebo 366) .
Všimněte si, že&lt;cachePartialPathRegex&gt; začíná na .\*,
pak má konkrétní podadresář, který je společný pro vzdálené URL a lokální adresáře, např., /v4\.1/
pak má řadu vnořených skupin, kde první možnost je nic.
a druhá možnost je specifická hodnota.</p>
<p>Výše uvedený příklad bude odpovídat adresářům pouze pro druhé 10 dnů roku 2018, např.
<a href="https://data.nodc.noaa.gov/ghrsst/GDS2/L4/GLOB/JPL/MUR/v4.1/2018/010/" target="_blank" rel="noopener noreferrer" class="">https://data.nodc.noaa.gov/ghrsst/GDS2/L4/GLOB/JPL/MUR/v4.1/2018/010/</a>  \[ 2020-10-21 Tento server již není spolehlivě dostupný. \]<br>
<!-- -->a den 011, 012, ..., 019.
(Vidíš tohle? <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">dokumentace regexu</a> a <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">reflexní tutoriál</a> .)<br>
<!-- -->Pokud potřebujete pomoct vytvořit&lt;cachePartialPathRegex&gt;, prosím e-mailem&lt;cacheFromUrl&gt; to Chris. John at noaa.gov .</p>
<ul>
<li class="">Společný přístup: Pokud chcete použít&lt;cachePartialPathRegex&gt;, nepoužívejte jej zpočátku, protože chcete ERDDAP™ stáhnout všechny soubory zpočátku. Po ERDDAP™ stáhnul všechny soubory, přidal je do souboru datasets.xml .
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="thousands-of-files">Tisíce souborů<a href="#thousands-of-files" class="hash-link" aria-label="Přímý odkaz naTisíce souborů" title="Přímý odkaz naTisíce souborů" translate="no">​</a></h5>
<p>Pokud váš soubor má mnoho tisíc souborů, ERDDAP™ může být pomalé reagovat na žádosti o údaje z tohoto datového souboru. Jsou tu dva problémy:
 </p>
<ol>
<li class="">Počet souborů v adresáři.
Vnitřní, ERDDAP™ pracuje stejnou rychlostí bez ohledu na to, zda jsou n soubory v jednom adresáři nebo rozptýleny v několika adresářích.
 
Ale je tu problém: Čím více souborů v daném adresáři, tím pomalejší je operační systém při vrácení seznamu souborů v adresáři (na soubor) až ERDDAP . Doba odezvy může být 0. (n log n) . Je těžké říct, kolik souborů v jednom adresáři je příliš mnoho, ale 10 000 je pravděpodobně příliš mnoho. Takže pokud vaše nastavení generuje spoustu souborů, doporučení zde může být: dát soubory do logicky organizovaných podadresářů (např. stanice nebo stanice/rok) .</li>
</ol>
<p>Další důvod k použití podadresářů: pokud uživatel chce použít ERDDAP &#x27;s &quot;files&quot; systém pro nalezení jména nejstaršího souboru pro stanici X, je rychlejší a efektivnější, pokud jsou soubory ve stanici / rok podadresáře, protože mnohem méně informací je třeba převést.</p>
<ol start="2">
<li class="">Celkový počet souborů.
Pro soubor tabulkových dat, ERDDAP™ sleduje rozsah hodnot pro každou proměnnou v každém souboru. Když uživatel podá žádost, ERDDAP™ musí číst všechna data ze všech souborů, které mohou mít data odpovídající žádosti uživatele. Pokud uživatel požádá o data z omezeného času (např. jeden den nebo jeden měsíc) , pak ERDDAP™ nebude muset otevřít příliš mnoho souborů ve vašem souboru. Ale jsou extrémní případy, kdy téměř každý soubor může mít odpovídající data (např. při voděTeplota =13.2C) . Od té doby ERDDAP™ trochu času (částečně čas hledání na HDD, částečně čas na čtení hlavičky souboru) jen otevřít daný soubor (a více, pokud je mnoho souborů v adresáři) , existuje významný časový trest, pokud celkový počet souborů, které ERDDAP™ Musí se otevřít, je velmi velká. I otevření 1000 souborů vyžaduje značný čas. Takže jsou tu výhody, jak pravidelně konsolidovat denní soubory do větších částí (např. 1 stanice na 1 rok) . Chápu, že to možná nechcete dělat z různých důvodů, ale vede to k mnohem rychlejším reakcím. V extrémních případech (Například, jednám s datovým souborem GTSPP, který má ~35 milionů zdrojových souborů) , podávání dat z obrovského počtu zdrojových souborů je nepraktické, protože ERDDAP &#x27;s odpovědí na jednoduché dotazy může trvat hodiny a používat tuny paměti. Konsolidací zdrojových souborů do menšího čísla (pro GTSPP mám nyní 720, 2 měsíčně) , ERDDAP™ může reagovat rozumně rychle. Viz <a href="#millions-of-files" class="">Miliony souborů</a><br>
<!-- --> </li>
</ol>
<p>N.B. Solid State Drives jsou skvělé! Nejrychlejší, nejjednodušší, nejlevnější způsob, jak pomoci ERDDAP™ vypořádat se s obrovským počtem (malý) Soubory je použít pevný stav disk. Viz <a class="" href="/cs/docs/server-admin/additional-information#solid-state-drives">Solid State Drives jsou skvělé!</a><br>
<!-- --> </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="millions-of-files">Miliony souborů<a href="#millions-of-files" class="hash-link" aria-label="Přímý odkaz naMiliony souborů" title="Přímý odkaz naMiliony souborů" translate="no">​</a></h5>
<ul>
<li class="">
<p>Některé soubory mají miliony zdrojových souborů. ERDDAP™ Zvládne to, ale se smíšenými výsledky.</p>
<ul>
<li class="">Pro žádosti, které zahrnují pouze proměnné uvedené v [&lt; subsetVariables &gt;] (#subsetvariables) , ERDDAP™ má všechny potřebné informace již extrahované z datových souborů a uložené v jednom souboru, takže může reagovat velmi, velmi rychle.</li>
<li class="">Pro další žádosti, ERDDAP™ může skenovat soubory dat <a href="#cached-file-information" class="">cachované informace o souboru</a> a zjistit, že pouze několik souborů může mít údaje, které jsou relevantní pro žádost, a tak rychle reagovat.</li>
<li class="">Ale na jiné požadavky (například vodaTeplota=18 stupňů\_C) kde jakýkoli soubor může mít příslušné údaje, ERDDAP™ musí otevřít velký počet souborů, aby zjistil, zda každý soubor má nějaké údaje, které jsou relevantní pro žádost. Soubory se otevírají postupně. Na jakémkoli operačním systému a jakémkoli souborovém systému (jiné než pevné pohony) Trvá to dlouho. (tak ERDDAP™ reaguje pomalu.) a opravdu spojuje souborový systém (tak ERDDAP™ reaguje pomalu na jiné požadavky) .</li>
</ul>
</li>
</ul>
<p>Naštěstí existuje řešení.</p>
<ol>
<li class="">Nastavení datového souboru na neveřejném ERDDAP™   (Váš osobní počítač?) .</li>
<li class="">Vytvořit a spustit skript, který požaduje řadu .nc CF soubory, každý s velkým kusem datového souboru, obvykle časové období (například všechny údaje za daný měsíc) . Vyberte si časové období tak, aby všechny výsledné soubory byly menší než 2GB (ale doufejme, že větší než 1GB) . Pokud má datový soubor data téměř v reálném čase, spusťte skript pro regeneraci souboru za aktuální časové období (např. tento měsíc) často (každých 10 minut? každou hodinu?) . Žádosti o ERDDAP™ místo .nc CF soubory vytvořit a NetCDF v3 .nc soubor, který používá <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Geometrie diskrétního odběru vzorků (DSG) </a> Kontiguous Ragged Array data structures).</li>
<li class="">Nastavit <a href="#eddtablefromnccffiles" class="">EDDTableFromNcCFFiles</a> Soubor údajů na veřejnosti ERDDAP™ který získává data od .nc  (CF) Složky. ERDDAP™ může extrahovat data z těchto souborů velmi rychle. A protože jsou teď tucty nebo stovky (místo milionů) souborů, i když ERDDAP™ musí otevřít všechny soubory, může to udělat rychle.</li>
</ol>
<p>Ano, tento systém vyžaduje nějaký čas a úsilí, ale funguje velmi, velmi dobře. Většinu požadavků na data lze zvládnout stokrát rychleji než předtím.
\[ Bob věděl, že je to možné, ale byl to Kevin O&#x27;Brien, kdo to udělal poprvé a ukázal, že to funguje dobře. Teď, Bob to používá pro soubor GTSPP, který má asi 18 milionů zdrojových souborů a který ERDDAP™ Nyní slouží přes asi 500 .nc  (CF) Složky. \]</p>
<p>N.B. Solid State Drives jsou skvělé! Nejrychlejší, nejjednodušší, nejlevnější způsob, jak pomoci ERDDAP™ vypořádat se s obrovským počtem (malý) Soubory je použít pevný stav disk. Viz <a class="" href="/cs/docs/server-admin/additional-information#solid-state-drives">Solid State Drives jsou skvělé!</a><br>
<!-- --> </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="huge-files">Obrovské soubory<a href="#huge-files" class="hash-link" aria-label="Přímý odkaz naObrovské soubory" title="Přímý odkaz naObrovské soubory" translate="no">​</a></h5>
<ul>
<li class="">Jeden obrovský datový soubor (zejména obrovské datové soubory ASCII) Může způsobit OutOfMemoryError. Pokud je to problém, mělo by to být zřejmé, protože ERDDAP™ nebude načítat soubor údajů. Řešením, pokud je to proveditelné, je rozdělit soubor na více souborů. V ideálním případě můžete rozdělit soubor na logické kousky. Například pokud má soubor 20 měsíční hodnotu dat, rozdělí je na 20 souborů, každý z nich má 1 měsíční hodnotu dat. Ale existují výhody, i když je hlavní soubor rozdělen libovolně. Tento přístup má více výhod: a) Tím se sníží paměť potřebná pro čtení datových souborů na 1/20th, protože pouze jeden soubor se čte najednou. b) Často, ERDDAP™ může řešit požadavky mnohem rychleji, protože se musí podívat pouze do jednoho nebo několika souborů najít data pro danou žádost. c) Pokud sběr dat probíhá, pak se může stávající 20 souborů změnit, a stačí upravit jeden, malý, nový soubor pro přidání dat v hodnotě příští měsíc do souboru.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="ftp-troubleadvice-1">FTP Potíže/Advice<a href="#ftp-troubleadvice-1" class="hash-link" aria-label="Přímý odkaz naFTP Potíže/Advice" title="Přímý odkaz naFTP Potíže/Advice" translate="no">​</a></h5>
<ul>
<li class="">Pokud FTP nové datové soubory do ERDDAP™ server zatímco ERDDAP™ Utíká, je tu šance, že ERDDAP™ bude soubor údajů během procesu FTP znovu nabíjet. Stává se to častěji, než si myslíte! Pokud k tomu dojde, bude se soubor zdát platný (má platné jméno) Ale ta složka není platná. Pokud ERDDAP™ pokusí se číst data z tohoto neplatného souboru, výsledná chyba způsobí přidání souboru do tabulky neplatných souborů. To není dobré. Aby se zabránilo tomuto problému, použijte dočasné jméno souboru při FTP &#x27;ing soubor, například ABC2005 .nc \_TEMP . Pak souborNameRegex test (viz níže) uvede, že se nejedná o relevantní soubor. Po dokončení procesu FTP přejmenujte soubor na správný název. Proces přejmenování způsobí, že soubor bude okamžitě relevantní.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="file-name-extracts">Extrakty názvu souboru<a href="#file-name-extracts" class="hash-link" aria-label="Přímý odkaz naExtrakty názvu souboru" title="Přímý odkaz naExtrakty názvu souboru" translate="no">​</a></h5>
<p>\[ Tato funkce je DEPRECED. Prosím použijte <a href="#filename-sourcenames" class="">\<em>\</em>\* fileName pseudo sourceName </a> Místo toho. \]<br>
<!-- -->EDDTableFromFoles má systém pro extrahování Stringu z každého názvu souboru a jeho použití k vytvoření pseudo datové proměnné. V současné době neexistuje systém, který by tyto Struny interpretoval jako data/časy. Existuje několik XML značek pro nastavení tohoto systému. Pokud nepotřebujete část nebo celý tento systém, prostě nespecifikujte tyto značky nebo použijte &quot;&quot; hodnoty.</p>
<ul>
<li class="">PreExtractRegex je <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">regulární výraz</a>   ( <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">tutoriál</a> ) slouží k identifikaci textu, který má být odstraněn od začátku názvu souboru. K odstranění dojde pouze tehdy, pokud se regex shoduje. To obvykle začíná na &quot;^,&quot; aby odpovídal začátku názvu souboru.</li>
<li class="">místo ExtractRegex je regulární výraz používaný k identifikaci textu, který má být odstraněn z konce názvu souboru. K odstranění dojde pouze tehdy, pokud se regex shoduje. To obvykle končí &quot;$&quot; na konci názvu souboru.</li>
<li class="">extraktRegex Je-li přítomen, používá se tento regulární výraz po preExtractRegex a postExtractRegex k identifikaci řetězce, který má být extrahován z názvu souboru (např. stationID ) . Pokud regex neodpovídá, použije se celý název souboru (- PreExtract a post Výtažek) . Použijte &quot;.\*&quot; k porovnání celého názvu souboru, který je ponechán po preExtractRegex a postExtractRegex.</li>
<li class="">sloupec NázevForExtract je zdrojový název datového sloupce pro extrahované řetězce. A dataVariable s tímhle. <a href="#sourcename" class=""> sourceName </a> musí být v dataVariable Seznam (s jakýmkoli datovým typem, ale obvykle String) .</li>
</ul>
<p>Například pokud má datový soubor soubory se jmény jako XYZAble .nc , XYZBaker .nc , XYZCharlie .nc , ... a chcete vytvořit novou proměnnou ( stationID ) při čtení každého souboru, který bude mít hodnoty stanice ID (Able, Baker, Charlie, ...) extrahované z názvů souborů, můžete použít tyto značky:</p>
<ul>
<li class="">&lt;PreExtractRegex&gt;^XYZ&lt;/preExtractRegex &gt;
Počáteční ^ je regulární výraz zvláštní znak, který nutí ERDDAP™ hledat XYZ na začátku názvu souboru. To způsobuje, že XYZ, pokud je nalezen na začátku názvu souboru, bude odstraněn (například název souboru XYZAble .nc se stane Able .nc ) .</li>
<li class="">&lt;PostExtractRegex&gt;\ .nc $&lt;/postExtractRegex&gt;
$ na konci je pravidelný výraz zvláštní znak, který nutí ERDDAP™ Hledat .nc na konci názvu souboru. Od . je regulární výraz zvláštní znak (který odpovídá jakékoli postavě) , je kódován jako \. Tady. (protože 2E je hexadecimální číslo znaku po dobu) . To způsobuje .nc , najdete-li na konci názvu souboru, který má být odstraněn (například částečný název souboru Able .nc se stane Able) .</li>
<li class="">&lt;extraktRegex&gt;.\<em>&lt;/extrahRegex&gt;
.\</em> regulární výraz odpovídá všem zbývajícím znakům (například částečný název souboru Able se stává výpisem pro první soubor) .</li>
<li class="">&lt;sloupecNázevForExtract&gt; stationID &lt;/SloupceNázevForExtract&gt;
To říká ERDDAP™ vytvořit nový zdrojový sloupec nazvaný stationID při čtení každého souboru. Každý řádek dat pro daný soubor bude mít text extrahovaný z názvu souboru (například: Able) jako hodnota v stationID sloupek.</li>
</ul>
<p>Ve většině případů existuje mnoho hodnot pro tyto extrahovací značky, které budou mít stejné výsledky - regulární výrazy jsou velmi flexibilní. Ale v několika případech existuje jen jeden způsob, jak získat požadované výsledky.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="pseudo-sourcenames">Pseudo sourceName án<a href="#pseudo-sourcenames" class="hash-link" aria-label="Přímý odkaz naPseudo sourceName án" title="Přímý odkaz naPseudo sourceName án" translate="no">​</a></h5>
<p>Každá proměnná v každém datovém souboru v ERDDAP™ má [&lt; sourceName &gt;] (#zdrojové jméno) který určuje název zdroje proměnné. EDDTableFromFoles podporuje několik pseudo sourceName s, které extrahují hodnotu z jiného místa (např. název souboru nebo hodnota globálního atributu) a podporovat tuto hodnotu jako sloupec konstantních hodnot pro tento kus dat (Například tabulka údajů tohoto souboru) . Pro tyto proměnné musíte zadat datový typ proměnné přes [&lt;dataType&gt;] (#datatyp) Tagu. Pokud jsou extrahované informace řetězec dateTime, zadejte formát řetězce dateTime v <a href="#string-time-units" class="">atribut jednotek</a> . Jméno sourceName možnosti jsou:
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="global-sourcenames">globální: sourceName án<a href="#global-sourcenames" class="hash-link" aria-label="Přímý odkaz naglobální: sourceName án" title="Přímý odkaz naglobální: sourceName án" translate="no">​</a></h6>
<p>Příznak globálních metadat v každém zdrojovém datovém souboru může být podporován jako sloupec dat. Pokud proměnná je&lt; sourceName &gt; má formát</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;global:*attributeName*&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>pak když ERDDAP™ čte data ze souboru, ERDDAP™ bude hledat globální atribut tohoto jména (např. PI) a vytvořit sloupec naplněný hodnotou atributu. To je užitečné, pokud atribut má různé hodnoty v různých zdrojových souborech, protože jinak by uživatelé viděli pouze jednu z těchto hodnot pro celý soubor dat. Například,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;global:PI&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Když propagujete atribut jako data, ERDDAP™ odstraní odpovídající atribut. To je vhodné, protože hodnota je pravděpodobně odlišná v každém souboru; vzhledem k tomu, že v souhrnném souboru údajů ERDDAP™ bude mít jen jednu hodnotu. Pokud chcete, můžete přidat novou hodnotu pro atribut pro celý soubor dat přidáním&lt;att name=&quot; <em>atribut Název</em> &quot;&gt; <em>nový Hodnota</em> &lt;/att &gt; na globální soubor dat [&lt; addAttributes &gt;] (#addattributy) . Pro globální atributy, které ERDDAP™ vyžaduje například instituci, musíte přidat novou hodnotu atributu.
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="variable-sourcenames">proměnná: sourceName án<a href="#variable-sourcenames" class="hash-link" aria-label="Přímý odkaz naproměnná: sourceName án" title="Přímý odkaz naproměnná: sourceName án" translate="no">​</a></h6>
<p>Příznak metadat proměnné v každém souboru může být podporován jako sloupec dat. Pokud proměnná je&lt; <a href="#sourcename" class=""> sourceName </a> \&gt; má formát</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;variable:*variableName*:*attributeName*&lt;sourceName&gt;</span><br></span></code></pre></div></div>
<p>pak když ERDDAP™ čte data ze souboru, ERDDAP™ bude hledat zadaný atribut (například ID) zadané proměnné (například nástroj) a vytvořit sloupec naplněný hodnotou atributu. Mateřská proměnná (například nástroj) Nemusí být jedním z dataVariable S zahrnutý v definici datového souboru ERDDAP . Například,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;variable:instrument:ID&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>To je užitečné, pokud atribut má různé hodnoty v různých zdrojových souborech, protože jinak by uživatelé viděli pouze jednu z těchto hodnot pro celý soubor dat.</p>
<p>Když propagujete atribut jako data, ERDDAP™ odstraní odpovídající atribut. To je vhodné, protože hodnota je pravděpodobně odlišná v každém souboru; vzhledem k tomu, že v souhrnném souboru údajů ERDDAP™ bude mít jen jednu hodnotu. Pokud chcete, můžete přidat novou hodnotu pro atribut pro celý soubor dat přidáním&lt;att name=&quot; <em>atribut Název</em> &quot;&gt; <em>nový Hodnota</em> &lt;/att &gt; k proměnné [&lt; addAttributes &gt;] (#addattributy) . Pro atributy, které ERDDAP™ vyžaduje například: ioos\_category   (v závislosti na nastavení) , musíte přidat novou hodnotu pro atribut.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="filename-sourcenames">název souboru sourceName án<a href="#filename-sourcenames" class="hash-link" aria-label="Přímý odkaz nanázev souboru sourceName án" title="Přímý odkaz nanázev souboru sourceName án" translate="no">​</a></h6>
<p>Můžete extrahovat část souboruJméno a propagovat jej jako sloupec dat. Formát tohoto pseudo [&lt; sourceName &gt;] (#zdrojové jméno) je</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*fileName,*regex*,*captureGroupNumber*&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Například,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*fileName,A(\\d{12})\\.slcpV1.nc,1&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Když EDDTableFromFromFoles čte data ze souboru, ujistí se, že název souboru (například A201807041442.slcpV1 .nc ) odpovídá specifikovanému regulárnímu výrazu (&quot;regex&quot;) a extrahovat specifikované (v tomto případě první) Skupina pro zachycení (která je součástí obklopená závorkami) Například &quot;201807041442.&quot; (Vidíš tohle? <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">dokumentace regexu</a> a <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">reflexní tutoriál</a> .) Reflex může být specifikován jako řetězec s okolními citacemi nebo bez nich. Pokud je regex určen jako řetězec s okolními citacemi, musí být řetězec <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer" class="">String ve stylu JSON</a>   (se speciálními znaky utekl s \ znaky) . Číslo skupiny zachycení je obvykle 1 (první skupina zajetí) , ale může být jakékoliv číslo.
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="pathname-sourcenames">název cesty sourceName án<a href="#pathname-sourcenames" class="hash-link" aria-label="Přímý odkaz nanázev cesty sourceName án" title="Přímý odkaz nanázev cesty sourceName án" translate="no">​</a></h6>
<p>Můžete extrahovat část plné cesty souboru Název (/adresáře/fileName.ext) a podporovat to, aby to byl sloupec údajů. Formát tohoto pseudo [&lt; sourceName &gt;] (#zdrojové jméno) je</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*pathName,*regex*,*captureGroupNumber*&lt;sourceName&gt;</span><br></span></code></pre></div></div>
<p>Například,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;\\*\\*\\*pathName,/data/myDatasetID/(\\[A-Z0-9\\]\\*)/B(\\d{12}).nc,1&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Když EDDTableFromFromFoles čte data ze souboru, zajistí celou cestuName (např. /data/myDatasetID/BAY17/B201807041442 .nc . Pro tento test, adresář oddělovače budou vždy &#x27;/&#x27; , nikdy &#x27;\ &#x27;) odpovídá specifikovanému regulárnímu výrazu (&quot;regex&quot;) a extrahovat specifikované (v tomto případě první) Skupina pro zachycení (která je součástí obklopená závorkami) Například &quot;BAY17.&quot; (Vidíš tohle? <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">dokumentace regexu</a> a <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">reflexní tutoriál</a> .) Reflex může být specifikován jako řetězec s okolními citacemi nebo bez nich. Pokud je regex určen jako řetězec s okolními citacemi, musí být řetězec <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer" class="">String ve stylu JSON</a>   (se speciálními znaky utekl s \ znaky) . Číslo skupiny zachycení je obvykle 1 (první skupina zajetí) , ale může být jakékoliv číslo.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="0-files-error-message-2">&quot;0 souborů&quot; Chyba zprávy<a href="#0-files-error-message-2" class="hash-link" aria-label="Přímý odkaz na&quot;0 souborů&quot; Chyba zprávy" title="Přímý odkaz na&quot;0 souborů&quot; Chyba zprávy" translate="no">​</a></h5>
<ul>
<li class="">Když utečeš <a href="#generatedatasetsxml" class="">GenerovatDatasetsXml</a> nebo <a href="#dasdds" class="">DasDds</a> , nebo pokud se pokusíte načíst EDDTableFrom... Soubory souborů v ERDDAP™ , a dostanete chybovou zprávu &quot;0 souborů&quot; ukazující, že ERDDAP™ nalezeno 0 odpovídajících souborů v adresáři (když si myslíte, že jsou odpovídající soubory v tomto adresáři) :<!-- -->
<ul>
<li class="">Zkontrolujte, zda jsou soubory skutečně v adresáři.</li>
<li class="">Zkontrolujte pravopis názvu adresáře.</li>
<li class="">Zkontrolujte souborNameRegex. Je opravdu snadné dělat chyby s regexy. Pro testovací účely zkuste regex .\*, který by měl odpovídat všem názvům souborů. (Vidíš tohle? <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">dokumentace regexu</a> a <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">reflexní tutoriál</a> .)</li>
<li class="">Zkontrolujte, zda uživatel, který program provozuje (např. user=tomcat (?) pro přípravek Tomcat/ ERDDAP ) má &quot;číst&quot; povolení pro tyto soubory.</li>
<li class="">V některých operačních systémech (např. SELinux) a v závislosti na nastavení systému musí mít uživatel, který program spustil, oprávnění číst celý řetězec adresářů vedoucích do adresáře, který má soubory.
 </li>
</ul>
</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="standardizewhat">standardizovat Co?<a href="#standardizewhat" class="hash-link" aria-label="Přímý odkaz nastandardizovat Co?" title="Přímý odkaz nastandardizovat Co?" translate="no">​</a></h5>
<ul>
<li class="">Pokud každá podtřída EDDTableFromFromFoles agreguje soubor zdrojových souborů pro danou proměnnou, všechny zdrojové soubory musí mít stejné hodnoty atributů pro několik atributů: scale\_factor , add\<em>offset , \</em> nepodepsané, missing\_value , \_FillValue a jednotky). Zamyslete se nad tím: pokud jeden soubor má windSpeed jednotky=knots a druhý má windSpeed jednotky=m/s, pak by se hodnoty dat ze dvou souborů neměly zahrnout do stejného souhrnného souboru. Když tedy EDDTableFromFoles nejprve vytvoří soubor, přečte hodnoty atributu z jednoho souboru, pak odmítne všechny soubory, které mají pro tyto důležité atributy různé hodnoty. Pro většinu souborů to není problém, protože atributy všech proměnných jsou konzistentní. U jiných sbírek souborů to však může vést k 1%, 10%, 50%, 90% nebo dokonce k 99% odmítnutých souborů jako &quot;špatných.&quot; To je problém.</li>
</ul>
<p>EDDTableFrom soubory má systém, který řeší tento problém: standardizovat Co? Standardizace To, co nastavení říká, že EDDTableFromFromFoles má standardizovat soubory, jakmile je přečte, než se EdDTableFromFoles podívá na atributy, aby zjistil, zda jsou konzistentní.</p>
<p>Obrácená strana je: pokud datový soubor nemá tento problém, nepoužívejte standardizaci Co? standardizovat Co má některá možná rizika (Diskutováno níže) a neefektivnosti. Takže pokud vlastně nepotřebujete funkce standardizace Není třeba čelit potenciálním rizikům a neefektivitě. Největší neefektivita je: Když různé standardizovat Jaké možnosti používá datový soubor, to znamená, že zdrojové soubory ukládají data výrazně různými způsoby (např. s různými scale\_factor a add\_offset , nebo s časovými řetězci používajícími různé formáty) . Proto pro dané omezení v žádosti uživatele neexistuje žádný způsob, jak ERDDAP™ vytvořit jediné omezení úrovně zdroje, které lze aplikovat na všechny zdrojové soubory. Takže... ERDDAP™ mohou dotčená omezení uplatňovat pouze na vyšší úrovni. Takže... ERDDAP™ musí před použitím vyšších omezení cílové úrovně číst údaje z více souborů. Takže žádosti o soubory, které používají standardizaci Co trvá déle, než bude zpracováno.</p>
<p>Chcete-li tento systém používat, musíte určit</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;standardizeWhat&gt;*standardizeWhat*&lt;/standardizeWhat&gt;  </span><br></span></code></pre></div></div>
<p>v <a href="#eddtablefromfiles-skeleton-xml" class=""> datasets.xml pro EDDtableFrom... Soubory souborů</a> (v rámci&lt;Soubor údajů &gt; značka).</p>
<p>The <em>standardizovat Co?</em> hodnota určuje, které změny by se měly zkusit použít. Změny jsou součtem některých kombinací:</p>
<ol>
<li class="">Vybalit
To dělá mnoho běžných a bezpečných operací pro standardizaci numerických sloupců v souborech:<!-- -->
<ul>
<li class="">Pokud scale\_factor nebo add\_offset atributy jsou přítomny, odstranit je a použít je k vybalení hodnot dat.</li>
<li class="">Rozbalit zabalené atributy (např. aktuální\_min, aktuální\_max, actual\_range , data\_min , data\_max , data\_range, valid\_min , valid\_max , valid\_range ) , pokud existuje, pokud proměnná byla zabalena, a pokud atribut hodnoty byly zabaleny (Je to složité, ale přiměřeně spolehlivé.) .</li>
<li class="">Pokud \_FillValue a/nebo missing\_value jsou přítomny, převést tyto hodnoty dat na ERDDAP &#x27;s &quot;standardní&quot; chybějící hodnoty: MAX\_valueE pro integer typy (např. 127 pro bajty, 32,767 pro zkratku a 2.147, 21.3.200647 pro ints, 9223372036854775807 dlouho) a NaN pro dvojníky a plováky.</li>
<li class="">Odstranit staré \_FillValue a/nebo missing\_value atributy (pokud existuje) , a nahradit je pouze \_FillValue= \[ vá ERDDAP™ standardní chybějící hodnota \] .
 </li>
</ul>
</li>
<li class="">Standardizovat číselné časy
Pokud má číselný sloupec číselné časové jednotky ve stylu CF (&quot; <em>timeUnits</em> od <em>baseTime</em> &quot;např. &quot;dny od roku 1900-01-01&quot;) , To převádí datum Hodnoty času do &quot;seconds since 1970-01-01T00:00:00Z&quot; hodnoty a změny atributu jednotek to indikují.
Pokud je zvolena a existuje šance, že tato proměnná má scale\_factor nebo add\_offset , #1 MUSÍ být také vybrán.
 </li>
<li class="">Použít řetězec missing\_value<br>
<!-- -->Pokud má sloupec String \_FillValue a/nebo missing\_value atributy, to převádí tyto hodnoty na &quot;&quot; a odstraňuje atributy.
 </li>
<li class="">Najít číselnou missing\_value<br>
<!-- -->Pokud číselný sloupec nemá \_FillValue nebo missing\_value atributy, které se snaží identifikovat nedefinované číselné missing\_value   (např. -999, 999, 1e37f) a převést její případy na &quot;standardní&quot; hodnoty (MAX\_VALUE pro integer typy, a NAN pro dvojníky a plováky) .
<strong>Tato možnost má riziko:</strong> pokud největší nebo nejmenší platná hodnota údajů vypadá jako chybějící hodnota (např. 999) , pak tyto platné hodnoty údajů budou převedeny na chybějící hodnoty (např. NaN) .
 </li>
<li class="">Změnit řetězec &quot;N/A&quot; na &quot;&quot;
Pro každý sloupec String, převést několik řetězců běžně používaných k označení chybějící hodnota String na &quot;&quot; . V současné době to vypadá jako &quot;,&quot; &quot;...&quot; &quot;-,&quot; &quot;?&quot; &quot;??&quot; &quot;N/A,&quot; &quot;NA,&quot; &quot;None,&quot; &quot;není použitelné,&quot; &quot;null,&quot; &quot;neznámý,&quot; &quot;nespecifikovaný.&quot; Hledání strun je případ-necitlivé a aplikovat po strun jsou trim&#x27;d. &quot;nd&quot; a &quot;ostatní&quot; nejsou konkrétně na seznamu.
<strong>Tato možnost má riziko:</strong> Struny, které považujete za platné hodnoty, mohou být převedeny na &quot;&quot;
 </li>
<li class="">Standardizovat na řetězec ISO 8601 DateTimes
Pro každý sloupec String se snažte převést ne-čisté-numerické datum řetězceTimes (např. &quot;Jan 2, 2018&quot;) ISO 8601 Datum provázku (&quot;2018-01-02&quot;) .
<strong>Poznámka</strong> že všechny hodnoty údajů pro sloupec musí používat stejný formát, jinak tato volba neprovede žádné změny v daném sloupci.
<strong>Tato možnost má riziko:</strong> Pokud existuje sloupec s hodnotami řetězce, který vypadá jako běžné datum Časový formát, budou převedeny na ISO 8601 String dateTimes.
 </li>
<li class="">Standardizovat Compact DateTimes do ISO 8601 DateTimes
Pro každý sloupec String nebo integer-type se snažte převést čistě numerické datum řetězceTimes (např. &quot;20180102&quot;) ISO 8601 Datum provázku (&quot;2018-01-02&quot;) .
<strong>Poznámka</strong> že všechny hodnoty údajů pro sloupec musí používat stejný formát, jinak tato volba neprovede žádné změny v daném sloupci.
<strong>Tato možnost má riziko:</strong> Pokud existuje sloupec s hodnotami, které nejsou kompaktní datum Times but look like compact dateTimes, they will be converted to ISO 8601 String dateTimes.
 </li>
<li class="">Standardizovat jednotky
To se snaží standardizovat řetězec jednotek pro každou proměnnou. Například &quot;metry za sekundu,&quot; &quot;metr za sekundu,&quot; &quot;m.s^-1&quot; , &quot;m s-1&quot; , &quot;m.s-1&quot; budou všechny převedeny na &quot;m.s-1.&quot; To nemění hodnoty dat. To funguje dobře pro platné UDUNITS jednotky řetězce, ale může mít problémy s invalidy nebo složité řetězce. Můžete se vypořádat s problémy tím, že konkrétní od-na páry v&lt;standardizaceUd units &gt; v ERDDAP &#x27;s
\[ tomcat \] /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml file. Prosím, pošlete Chrisovi všechny změny. John na noaa.gov tak, aby mohly být začleněny do výchozích zpráv.xml.
<strong>Tato možnost má riziko:</strong> To může zamotat některé složité nebo neplatné jednotky; nicméně, můžete použít pracovní-obcházení výše popsané k obcházení problémů, pokud k nim dojde.
 </li>
</ol>
<p>Výchozí hodnota standardizace Co je 0, což nic nedělá.</p>
<p>Pokud změníte hodnotu standardizace Co, příště až bude soubor znovu načten, ERDDAP™ bude znovu číst všechny datové soubory pro datový soubor s cílem obnovit mini-databázi s informacemi o každém souboru. Pokud má soubor mnoho souborů, bude to trvat dlouho.</p>
<p>Poznámky:</p>
<ul>
<li class="">Ošemetná věc je...
Standardizace Jaké nastavení se používá pro všechny sloupce ve zdrojovém souboru. Například použití #2048 může úspěšně převést sloupec kompaktního smyčcového dataTimes do ISO 8601 String dateTimes, ale může také omylem převést sloupec se Strings, který se náhodou jeví jako kompaktní datumTimes.
 </li>
<li class="">datasets.xml a generovatDatasety Xml -
Je obzvláště obtížné dostat nastavení správné v datasets.xml aby váš soubor fungoval tak, jak chcete. Nejlepší přístup (jako vždy) je:</li>
</ul>
<ol>
<li class="">Použití <a href="#generatedatasetsxml" class="">GenerovatDatasetsXml</a> a zadat hodnotu standardizace Co byste chtěl použít.</li>
<li class="">Použití <a href="#dasdds" class="">DasDds</a> zajistit správné zatížení datového souboru a odrážet standardizaci Jaké nastavení jste zadali.</li>
<li class="">Otestovat soubor údajů ručně, když je v ERDDAP™ zajistit, aby postižené proměnné fungovaly podle očekávání.
 </li>
</ol>
<ul>
<li class="">Riziko -
Možnosti #256 a vyšší jsou více riskantní, tj. je větší šance, že ERDDAP™ udělá změnu, která by neměla být provedena. Například možnost #2048 může omylem převést proměnnou pomocí řetězce stanice ID, které se jen náhodou podívat ISO 8601 &quot;kompaktní&quot; data (např. 20180102) do ISO 8601 &quot;extended&quot; data (&quot;2018-01-02&quot;) .
 </li>
<li class="">Pomalu po změně...
Od hodnoty standardizace Co mění hodnoty dat, které EDDTableFromFromFoles vidí pro každý datový soubor, pokud změníte standardizaci Jaké nastavení, EDDTableFromFoles vyhodí všechny cached informace o každém souboru (která zahrnuje min a max pro každou datovou proměnnou v každém souboru) a znovu si přečtěte každý datový soubor. Pokud má datový soubor velký počet souborů, může to být velmi časově náročné, takže bude trvat dlouho, než soubor bude poprvé znovu načíst ERDDAP™ Nabije ho po změně.
 </li>
<li class="">Heuristika -
Možnosti #256 a výše použít heuristiku k provedení jejich změn. Pokud narazíte na situaci, kdy se heuristici špatně rozhodnou, pošlete prosím Chrisovi popis problému. John v Noaa. Gov, abychom mohli zlepšit heuristiku.
 </li>
<li class="">Alternativy...
Pokud jedna ze standardních možností nevyřeší problém pro daný datový soubor, můžete být schopni vyřešit problém vytvořením <a href="#ncml-files" class=""> .nc soubor ml</a> paralelně každý datový soubor a definovat změny ve věcech v souborech tak, aby byly soubory konzistentní. Pak řekni EDDTableFrom... Soubory souborů k shrnutí .nc ml souborů.</li>
</ul>
<p>Nebo použít <a href="#netcdf-operators-nco" class=""> NCO </a> skutečně provést změny souborů tak, aby soubory byly konzistentní.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="separate-columns-for-year-month-date-hour-minute-second">Samostatné sloupce pro rok, měsíc, datum, hodina, minuta, druhý<a href="#separate-columns-for-year-month-date-hour-minute-second" class="hash-link" aria-label="Přímý odkaz naSamostatné sloupce pro rok, měsíc, datum, hodina, minuta, druhý" title="Přímý odkaz naSamostatné sloupce pro rok, měsíc, datum, hodina, minuta, druhý" translate="no">​</a></h5>
<p>Je poměrně běžné, že tabulkové datové soubory mají samostatné sloupce pro rok, měsíc, datum, hodinu, minutu, sekundu. Před ERDDAP™ V2.10, jediným řešením bylo upravit datový soubor tak, aby tyto sloupce byly kombinovány do jednotného časového sloupce. S ERDDAP™ 2, 0+, můžete použít
[&lt; sourceName Ostatní <em>výraz</em> &lt; sourceName &gt;] (#zdrojové jméno) říct ERDDAP™ jak kombinovat zdrojové sloupce pro vytvoření jednotného časového sloupce, takže již nemusíte editovat zdrojový soubor.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="skipheadertoregex">&lt;SkipHeaderToRegex&gt;<a href="#skipheadertoregex" class="hash-link" aria-label="Přímý odkaz na&lt;SkipHeaderToRegex&gt;" title="Přímý odkaz na&lt;SkipHeaderToRegex&gt;" translate="no">​</a></h5>
<ul>
<li class="">[&lt;skipheaderToRegex&gt;] (# Skipheadertoregex) --
Volitelně. (Pro EDDTableFromAsciiFiles a EDDTableFromColumnarAsciiFiles pouze datové soubory.)<br>
<!-- -->Když EDDTableFromAsciiFiles přečte datový soubor, bude ignorovat všechny řádky až do řádky včetně řádku, který odpovídá tomuto regulárnímu výrazu. Výchozí je &quot;,&quot; který nepoužívá tuto volbu. Příkladem je</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;skipHeaderToRegex&gt;\\\*\\\*\\\* END OF HEADER.\\*&lt;skipHeaderToRegex&gt;  </span><br></span></code></pre></div></div>
<p>který bude ignorovat všechny řádky až do a včetně řádku, který začíná na &quot;\*\*Konec hlavy.</p>
<p>Když používáte tuto značku,&lt;sloupecNázevRow&gt; a&lt;prvníDataRow&gt; působí, jako by hlavička byla odstraněna před čtením souboru. Například byste použili sloupecNázevsRow=0 pokud jsou názvy sloupců v řádku hned za hlavičkou.</p>
<p>Pokud chcete použít generovat Datové soubory Xml s datovým souborem, který potřebuje tuto značku:</p>
<ol>
<li class="">Vytvořit nový, dočasný, vzorek soubor kopírováním existující soubor a odstranění hlavičky.</li>
<li class="">Spustit generovat Datové soubory Xml a zadejte vzorek souboru.</li>
<li class="">Ručně přidejte&lt;skipheaderToRegex&gt; tag na datasets.xml kus.</li>
<li class="">Smažte dočasný soubor.</li>
<li class="">Použít datový soubor v ERDDAP .</li>
</ol>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="skiplinesregex">&lt;SkipLinesRegex&gt;<a href="#skiplinesregex" class="hash-link" aria-label="Přímý odkaz na&lt;SkipLinesRegex&gt;" title="Přímý odkaz na&lt;SkipLinesRegex&gt;" translate="no">​</a></h5>
<p>Volitelně. (Pro EDDTableFromAsciiFiles a EDDTableFromColumnarAsciiFiles pouze datové soubory.)<br>
<!-- -->Když EDDTableFromAsciiFiles přečte datový soubor, bude ignorovat všechny řádky, které odpovídají tomuto regulárnímu výrazu. Výchozí je &quot;,&quot; který nepoužívá tuto volbu. Příkladem je</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;skipLinesRegex&gt;#.\\*&lt;skipLinesRegex&gt;  </span><br></span></code></pre></div></div>
<p>které budou ignorovat všechny řádky, které začínají na &quot;#.&quot;</p>
<p>Když používáte tuto značku,&lt;sloupecNázevRow&gt; a&lt;prvníDataRow&gt; působí, jako by všechny odpovídající řádky byly odstraněny před čtením souboru. Například byste použili sloupecNázevsRow=0 i když existuje několik řádků začínajících například &quot;#&quot; na začátku souboru.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromfiles-skeleton-xml">EDDTableFromFoles kostra XML<a href="#eddtablefromfiles-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDTableFromFoles kostra XML" title="Přímý odkaz naEDDTableFromFoles kostra XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFrom...Files&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      &lt;nDimensions&gt;...&lt;/nDimensions&gt;  &lt;!-- This was used prior to ERDDAP™<br>
<!-- -->        version 1.30, but is now ignored. --&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1. For<br>
<!-- -->        EDDTableFromFiles subclasses, this uses Java&#x27;s WatchDirectory system<br>
<!-- -->        to notice new/deleted/changed files quickly and efficiently. --&gt;<br>
<!-- -->      <a href="#standardizewhat" class="">&lt;standardizeWhat&gt;</a>...&lt;/standardizeWhat&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#nthreads" class="">&lt;nThreads&gt;</a>...&lt;/nThreads&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;specialMode&gt;<em>mode</em>&lt;/specialMode&gt;  &lt;-- This rarely-used, OPTIONAL tag<br>
<!-- -->        can be used with EDDTableFromThreddsFiles to specify that special,<br>
<!-- -->        hard-coded rules should be used to determine which files should<br>
<!-- -->        be downloaded from the server. Currently, the only valid <em>mode</em><br>
<!-- -->        is SAMOS which is used with datasets from<br>
<!-- -->        <a href="https://tds.coaps.fsu.edu/thredds/catalog/samos" target="_blank" rel="noopener noreferrer" class="">https://tds.coaps.fsu.edu/thredds/catalog/samos</a> to download only the<br>
<!-- -->        files with the last version number. --&gt;<br>
<!-- -->      &lt;sourceUrl&gt;...&lt;/sourceUrl&gt;  &lt;-- For subclasses like<br>
<!-- -->        EDDTableFromHyraxFiles and EDDTableFromThreddsFiles, this is where<br>
<!-- -->        you specify the base URL for the files on the remote server.<br>
<!-- -->        For subclasses that get data from local files, ERDDAP™ doesn&#x27;t use<br>
<!-- -->        this information to get the data, but does display the<br>
<!-- -->        information to users. So I usually use &quot;(local files)&quot;. --&gt;<br>
<!-- -->      &lt;fileDir&gt;...&lt;/fileDir&gt; &lt;-- The directory (absolute) with the data<br>
<!-- -->        files. --&gt;<br>
<!-- -->      &lt;recursive&gt;true|false&lt;/recursive&gt; &lt;!-- 0 or 1. Indicates if<br>
<!-- -->        subdirectories of fileDir have data files, too. --&gt;<br>
<!-- -->      <a href="#pathregex" class="">&lt;pathRegex&gt;</a>...&lt;/pathRegex&gt;  &lt;!-- 0 or 1. Only directory names which<br>
<!-- -->        match the pathRegex (default=&quot;.\<em>&quot;) will be accepted. --&gt;<br>
<!-- -->      &lt;fileNameRegex&gt;...&lt;/fileNameRegex&gt; &lt;-- 0 or 1. A <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">regular expression</a><br>
<!-- -->        (<a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">tutorial</a>) describing valid data file names, for example,<br>
<!-- -->            &quot;.\</em>\.nc&quot; for all .nc files. --&gt;<br>
<!-- -->      <a href="#accessibleviafiles" class="">&lt;accessibleViaFiles&gt;</a>true|false(default)&lt;/accessibleViaFiles&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;metadataFrom&gt;...&lt;/metadataFrom&gt; &lt;-- The file to get metadata<br>
<!-- -->        from (&quot;first&quot; or &quot;last&quot; (the default) based on file&#x27;s<br>
<!-- -->        lastModifiedTime). --&gt;<br>
<!-- -->      &lt;charset&gt;...&lt;/charset&gt;<br>
<!-- -->        &lt;!-- (For EDDTableFromAsciiFiles and EDDTableFromColumnarAsciiFiles<br>
<!-- -->        only) This OPTIONAL tag specifies the character set (case<br>
<!-- -->        sensitive!) of the source files, for example, ISO-8859-1<br>
<!-- -->        (the default) and UTF-8.  --&gt;<br>
<!-- -->      <a href="#skipheadertoregex" class="">&lt;skipHeaderToRegex&gt;</a>...&lt;/skipHeaderToRegex&gt;<br>
<!-- -->      <a href="#skiplinesregex" class="">&lt;skipLinesRegex&gt;</a>...&lt;/skipLinesRegex&gt;<br>
<!-- -->      &lt;columnNamesRow&gt;...&lt;/columnNamesRow&gt; &lt;-- (For EDDTableFromAsciiFiles<br>
<!-- -->        only) This specifies the number of the row with the column<br>
<!-- -->        names in the files. (The first row of the file is &quot;1&quot;.<br>
<!-- -->        Default = 1.)  If you specify 0, ERDDAP™ will not look for<br>
<!-- -->        column names and will assign names: Column#1, Column#2, ... --&gt;<br>
<!-- -->      &lt;firstDataRow&gt;...&lt;/firstDataRow&gt;<br>
<!-- -->        &lt;-- (For EDDTableFromAsciiFiles and EDDTableFromColumnarAsciiFiles<br>
<!-- -->        only) This specifies the number of the first row with data in the<br>
<!-- -->        files. (The first row of the file is &quot;1&quot;. Default = 2.) --&gt;<br>
<!-- -->      &lt;dimensionsCSV&gt;...&lt;/dimensionsCSV&gt; &lt;-- (For EDDTableFromNcFiles<br>
<!-- -->        and EDDTableFromMultidimNcFiles only) This is a comma-separated<br>
<!-- -->        list of dimension fullNames. If specified, ERDDAP™ will only read<br>
<!-- -->        variables in the source files which use some or all of these<br>
<!-- -->        dimensions, plus all of the scalar variables. If a dimension<br>
<!-- -->        is in a group, you must specify its fullName,<br>
<!-- -->        e.g., &quot;<em>groupName/dimensionName</em>&quot;. --&gt;<br>
<!-- -->      &lt;-- The next four tags are DEPRECATED. For more information, see<br>
<!-- -->        <a href="#filename-sourcenames" class="">File Name Extracts</a>. --&gt;<br>
<!-- -->      &lt;preExtractRegex&gt;...&lt;/preExtractRegex&gt;<br>
<!-- -->      &lt;postExtractRegex&gt;...&lt;/postExtractRegex&gt;<br>
<!-- -->      &lt;extractRegex&gt;...&lt;/extractRegex&gt;<br>
<!-- -->      &lt;columnNameForExtract&gt;...&lt;/columnNameForExtract&gt;<br>
<!-- -->      &lt;sortedColumnSourceName&gt;...&lt;/sortedColumnSourceName&gt;<br>
<!-- -->        &lt;-- The <a href="#sourcename" class="">sourceName</a> of the numeric column that the data files are<br>
<!-- -->        usually already sorted by within each file, for example, &quot;time&quot;.<br>
<!-- -->        Don&#x27;t specify this or use an empty string if no variable is<br>
<!-- -->        suitable. It is ok if not all files are sorted by this column.<br>
<!-- -->        If present, this can greatly speed up some data requests.<br>
<!-- -->        For EDDTableFromHyraxFiles, EDDTableFromNcFiles and<br>
<!-- -->        EDDTableFromThreddsFiles, this must be the leftmost (first) axis variable.<br>
<!-- -->        EDDTableFromMultidimNcFiles ignores this because it has a better<br>
<!-- -->        system. --&gt;<br>
<!-- -->      &lt;sortFilesBySourceNames&gt;...&lt;/sortFilesBySourceNames&gt;<br>
<!-- -->        &lt;-- This is a space-separated list of <a href="#sourcename" class="">sourceName</a>s<br>
<!-- -->        which specifies how the internal list of files should be sorted<br>
<!-- -->        (in ascending order), for example &quot;id time&quot;.<br>
<!-- -->        It is the minimum value of the specified columns in each file<br>
<!-- -->        that is used for sorting.<br>
<!-- -->        When a data request is filled, data is obtained from the files<br>
<!-- -->        in this order. Thus it determines the overall order of the data<br>
<!-- -->        in the response.  If you specify more than one column name, the<br>
<!-- -->        second name is used if there is a tie for the first column; the<br>
<!-- -->        third is used if there is a tie for the first and second<br>
<!-- -->        columns; ... This is OPTIONAL (the default is<br>
<!-- -->        fileDir+fileName order). --&gt;<br>
<!-- -->        <br>
<!-- -->      <a href="#sourceneedsexpandedfp_eq" class="">&lt;sourceNeedsExpandedFP\_EQ&gt;</a>true(default)|false&lt;/sourceNeedsExpandedFP\_EQ&gt;<br>
<!-- -->      <a href="#filetableinmemory" class="">&lt;fileTableInMemory&gt;</a>...&lt;/fileTableInMemory&gt; &lt;!-- 0 or 1 (true or<br>
<!-- -->        false (the default)) --&gt;<br>
<!-- -->      <a href="#cachefromurl" class="">&lt;cacheFromUrl&gt;</a>...&lt;/cacheFromUrl&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#cachefromurl" class="">&lt;cacheSizeGB&gt;</a>...&lt;/cacheSizeGB&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->        &lt;-- For EDDTableFromHyraxFiles, EDDTableFromMultidimNcFiles,<br>
<!-- -->        EDDTableFromNcFiles, EDDTableFromNccsvFiles, and<br>
<!-- -->        EDDTableFromThreddsFiles, the source&#x27;s axis variables (for<br>
<!-- -->        example, time) needn&#x27;t be first or in any specific order. --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromasciiservice">EDDTableFromAsciiService<a href="#eddtablefromasciiservice" class="hash-link" aria-label="Přímý odkaz naEDDTableFromAsciiService" title="Přímý odkaz naEDDTableFromAsciiService" translate="no">​</a></h3>
<p><a href="#eddtablefromasciiservice" class=""> <strong>EDDTableFromAsciiService</strong> </a> je v podstatě škrabač obrazovky. Je určena k řešení zdrojů dat, které mají jednoduchou webovou službu pro žádost o údaje (často HTML formulář na webové stránce) a které mohou údaje vrátit ve strukturovaném formátu ASCII (například formát textu ASCII oddělený čárkou nebo sloupcem, často s jinými informacemi před údaji a/nebo po nich) .</p>
<p>EDDTableFromAsciiService je supertřída všech EDDTableFromAsciiService... tříd. Nemůžete použít EDDTableFromAsciiService přímo. Místo toho použijte podtřídu EDDTableFromAsciiService pro zpracování konkrétních typů služeb:</p>
<ul>
<li class=""><a href="#eddtablefromasciiservicenos" class="">EDDTableFromAsciiServiceNOS</a> získává data od NOAA NOSovy ASCII služby.</li>
</ul>
<p>V současné době nejsou podporovány žádné jiné typy služeb. Je však obvykle relativně snadné podporovat jiné služby, pokud fungují podobným způsobem. Kontaktujte nás, pokud máte požadavek.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="details">Podrobnosti<a href="#details" class="hash-link" aria-label="Přímý odkaz naPodrobnosti" title="Přímý odkaz naPodrobnosti" translate="no">​</a></h4>
<p>Následující informace se vztahují na všechny podtřídy EDDTableFromAsciiService.</p>
<ul>
<li class="">Omezení... ERDDAP™ Tabulkové žádosti o údaje mohou klást omezení na jakoukoli proměnnou. Základní služba může, ale nemusí umožňovat omezení všech proměnných. Například mnoho služeb podporuje pouze omezení jmen stanic, zeměpisné šířky, délky a času. Když tedy podtřída EDDTableFromAsciiService obdrží žádost o podmnožinu datového souboru, přenese co nejvíce omezení na zdrojovou datovou službu a poté použije zbývající omezení na data, která služba vrací, před předáním dat uživateli.</li>
<li class="">Platný rozsah -- Na rozdíl od mnoha jiných typů souborů dat, EDDTableFromAsciiService obvykle nezná rozsah dat pro každou proměnnou, takže nemůže rychle odmítnout žádosti o data mimo platný rozsah.</li>
<li class="">Analýza ASCII textové odpovědi -- Když EDDTableFromAsciiService dostane odpověď od ASCII Text Service, musí potvrdit, že odpověď má očekávaný formát a informace, a pak extrahovat data. Formát můžete zadat pomocí různých speciálních značek v části XML pro tento datový soubor:<!-- -->
<ul>
<li class="">&lt;předData1&gt; přes&lt;před značkamiData10&gt; -- Můžete zadat řadu kusů textu (kolik chceš, až do deseti.) že EDDTableFromAsciiService musí hledat v hlavičce textu ASCII vráceného službou s&lt;předData1&gt; přes&lt;předData10&gt;. To je například užitečné pro ověření, zda odpověď zahrnuje očekávané proměnné využívající očekávané jednotky. Poslední předdatová značka, kterou určíte, identifikuje text, který nastane těsně před spuštěním dat.</li>
<li class="">&lt;afterData&gt; -- To určuje text, který bude EDDTableFromAsciiService hledat v textu ASCII vráceném službou, která označuje konec dat.</li>
<li class="">&lt;noData&gt; -- Pokud EDDTableFromAsciiService najde tento text v textu ASCII vráceném službou, dojde k závěru, že neexistují žádné údaje, které by odpovídaly požadavku.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromasciiservice-skeleton-xml">EDDTableFromAsciiService kostra XML<a href="#eddtablefromasciiservice-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDTableFromAsciiService kostra XML" title="Přímý odkaz naEDDTableFromAsciiService kostra XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromAsciiService...&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;sourceUrl&gt;...&lt;/sourceUrl&gt;<br>
<!-- -->      &lt;beforeData1&gt;...&lt;beforeData1&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      ...<br>
<!-- -->      &lt;beforeData10&gt;...&lt;beforeData10&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;afterData&gt;...&lt;afterData&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;noData&gt;...&lt;noData&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromasciiservicenos">EDDTableFromAsciiServiceNOS<a href="#eddtablefromasciiservicenos" class="hash-link" aria-label="Přímý odkaz naEDDTableFromAsciiServiceNOS" title="Přímý odkaz naEDDTableFromAsciiServiceNOS" translate="no">​</a></h3>
<p><a href="#eddtablefromasciiservicenos" class=""> <strong>EDDTableFromAsciiServiceNOS</strong> </a> provádí datové soubory EDDTable z textových datových služeb ASCII nabízených NOAA &#x27;s <a href="https://oceanservice.noaa.gov/" target="_blank" rel="noopener noreferrer" class="">National Ocean Service (NOS) </a> . Informace o tom, jak tato třída funguje a jak ji používat, naleznete v supertřídě této třídy. <a href="#eddtablefromasciiservice" class="">EDDTableFromAsciiService</a> . Je nepravděpodobné, že někdo jiný než Bob Simons bude muset použít tuto podtřídu.</p>
<p>Vzhledem k tomu, že údaje v rámci odezvy ze služby NOS používají formát textového sloupce ASCII, musí mít datové proměnné jiné než zeměpisná šířka a délka zvláštní atribut, který určuje, které znaky každé datové linky obsahují například údaje této proměnné,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;responseSubstring&quot;&gt;17, 25&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p> </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromalldatasets">EDDTableFromAllDatasets<a href="#eddtablefromalldatasets" class="hash-link" aria-label="Přímý odkaz naEDDTableFromAllDatasets" title="Přímý odkaz naEDDTableFromAllDatasets" translate="no">​</a></h3>
<p><a href="#eddtablefromalldatasets" class=""> <strong>EDDTableFromAllDatasets</strong> </a> je datový soubor vyšší úrovně, který má informace o všech ostatních datových souborech, které jsou v současné době naloženy do vašeho souboru ERDDAP . Na rozdíl od jiných typů souborů údajů neexistuje žádná specifikace pro allDatasets Soubor údajů v datasets.xml . ERDDAP™ automaticky vytvoří jeden EDDTableFromAllDatasets soubor (s datasetID = allDatasets ) . Proto allDatasets Databáze bude vytvořena v každém ERDDAP™ instalace a bude pracovat stejným způsobem v každém ERDDAP™ instalace.</p>
<p>The allDatasets Databáze je soubor tabulek. Má řadu informací pro každý soubor údajů. Má sloupce s informacemi o každém datovém souboru, např. datasetID , přístupné, instituce, název, minLongitude, maxLongitude, minZeměpisná šířka, maxZeměpisná šířka, minTime, maxTime, atd. Protože allDatasets je tabulkový datový soubor, můžete si jej vyžádat stejným způsobem, jak si můžete vyžádat jakýkoli jiný soubor tabulky v ERDDAP™ , a můžete určit typ souboru pro odpověď. To umožňuje uživatelům hledat soubory zájmů velmi mocnými způsoby.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromasciifiles">EDDTableFromAsciiFiles<a href="#eddtablefromasciifiles" class="hash-link" aria-label="Přímý odkaz naEDDTableFromAsciiFiles" title="Přímý odkaz naEDDTableFromAsciiFiles" translate="no">​</a></h3>
<p><a href="#eddtablefromasciifiles" class=""> <strong>EDDTableFromAsciiFiles</strong> </a> agreguje data z čárkových, tabulkových, středníkových nebo mezerně oddělených datových souborů ASCII.</p>
<ul>
<li class="">Nejčastěji budou mít soubory jména sloupců v prvním řádku a data začínající ve druhém řádku. (První řádek souboru se nazývá řádek číslo 1.) Ale můžete použít&lt;sloupecNázevRow&gt; a&lt;prvníDataRow&gt; ve Vašem datasets.xml soubor pro upřesnění jiného čísla řádku.</li>
<li class="">ERDDAP™ umožňuje řádkům dat mít různé počty hodnot dat. ERDDAP™ předpokládá, že chybějící hodnoty údajů jsou poslední sloupce v řádku. ERDDAP™ přidělí standardní chybějící hodnoty pro chybějící hodnoty údajů. (přidáno v1.56)</li>
<li class="">Soubory ASCII se snadno pracují, ale nejsou nejúčinnějším způsobem, jak ukládat/vymazat data. Pro větší efektivitu uložte soubory jako NetCDF v3 .nc soubory (s jedním rozměrem, &quot;řádkem,&quot; sdíleným všemi proměnnými) Místo toho. Můžeš. <a href="#millions-of-files" class="">podání ERDDAP™ generovat nové soubory</a> .</li>
<li class="">Vidíš tuhle třídu? <a href="#eddtablefromfiles" class="">EDDTableFromFoles</a> , informace o tom, jak tato třída funguje a jak ji používat.</li>
<li class="">Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Vzhledem k celkovému nedostatku metadat v ASCII souborech, budete vždy muset upravit výsledky GenerateDatasetsXml.</li>
<li class="">UPOZORNĚNÍ: Kdy ERDDAP™ čte datové soubory ASCII, pokud na daném řádku najde chybu (např. nesprávný počet položek) , zaznamenává varovný signál (Špatná linka (án) data&quot; ... se seznamem špatných řádků na následujících řádcích) do <a class="" href="/cs/docs/server-admin/additional-information#log">log.txt soubor</a> a dále čte zbytek datového souboru. Je tedy vaší povinností pravidelně se dívat (nebo k tomu napsat scénář) pro tuto zprávu v deníku. txt tak, že můžete opravit problémy v datových souborech. ERDDAP™ je nastaven tak, aby uživatelé mohli i nadále číst všechny dostupné platné údaje, i když některé řádky souboru mají nedostatky.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromawsxmlfiles">EDDTableFrom AwsXmlFiles<a href="#eddtablefromawsxmlfiles" class="hash-link" aria-label="Přímý odkaz naEDDTableFrom AwsXmlFiles" title="Přímý odkaz naEDDTableFrom AwsXmlFiles" translate="no">​</a></h3>
<p><a href="#eddtablefromawsxmlfiles" class=""> <strong>EDDTableFrom AwsXmlFiles</strong> </a> agreguje data ze sady automatických počasí (AWS) XML datové soubory pomocí WeatherBug Rest XML API (která již není aktivní) .</p>
<ul>
<li class="">Tento typ souboru je jednoduchý, ale neefektivní způsob uložení dat, protože se zdá, že každý soubor obvykle obsahuje pozorování jen z jednoho časového bodu. Takže může být velký počet souborů. Pokud chcete zlepšit výkonnost, zvažte konsolidaci skupin pozorování. (Za týden?) v NetCDF v3 .nc soubory (Nejlepší: .nc Soubory s <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Geometrie diskrétního odběru vzorků (DSG) Kontiguous Ragged Array format</a> ) a použití <a href="#eddtablefrommultidimncfiles" class="">EDDTablefromMultidimNcFiles</a>   (nebo <a href="#eddtablefromnccffiles" class="">EDDTableFromNcCFFiles</a> ) sloužit datům. Můžeš. <a href="#millions-of-files" class="">podání ERDDAP™ generovat nové soubory</a> .</li>
<li class="">Vidíš tuhle třídu? <a href="#eddtablefromfiles" class="">EDDTableFromFoles</a> , informace o tom, jak tato třída funguje a jak ji používat.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromcolumnarasciifiles">EDDTableFromColumnarAsciiFiles<a href="#eddtablefromcolumnarasciifiles" class="hash-link" aria-label="Přímý odkaz naEDDTableFromColumnarAsciiFiles" title="Přímý odkaz naEDDTableFromColumnarAsciiFiles" translate="no">​</a></h3>
<p><a href="#eddtablefromcolumnarasciifiles" class=""> <strong>EDDTableFromColumnarAsciiFiles</strong> </a> kumuluje data z tabulkových datových souborů ASCII s kolonami s pevnou šířkou.</p>
<ul>
<li class="">
<p>Nejčastěji budou mít soubory jména sloupců v prvním řádku a data začínající ve druhém řádku. První řádek/řádek v souboru se nazývá řádek #1. Ale můžete použít&lt;sloupecNázevRow&gt; a&lt;prvníDataRow&gt; ve Vašem datasets.xml soubor pro upřesnění jiného čísla řádku.</p>
</li>
<li class="">
<p>The&lt; addAttributes &gt; pro každý&lt; dataVariable &gt; pro tyto datové soubory MUSÍ zahrnovat tyto dva zvláštní atributy:</p>
<ul>
<li class="">&lt;att name=&quot;startColumn&gt; <em>celé číslo</em> &lt;attt&gt; -- určuje sloupec znaků v každém řádku, který je začátkem této datové proměnné.</li>
<li class="">&lt;att name=&quot;stopColumn] <em>celé číslo</em> &lt;attt&gt; -- určuje sloupec znaku v každém řádku, který je 1 za koncem této datové proměnné.</li>
</ul>
</li>
</ul>
<p>První sloupec znaku se nazývá sloupec #0.
Například pro tento soubor, který má časové hodnoty abutting teplotní hodnoty :</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      0         1         2        &lt;-- character column number 10&#x27;s digit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      0123456789012345678901234567 &lt;-- character column number 1&#x27;s digit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      time                temp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      2014-12-01T12:00:00Z12.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      2014-12-02T12:00:00Z13.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      2014-12-03T12:00:00Z11.0</span><br></span></code></pre></div></div>
<p>proměnná časových údajů by měla</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;att name=&quot;startColumn&quot;&gt;0&lt;att&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;att name=&quot;stopColumn&quot;&gt;20&lt;att&gt;  </span><br></span></code></pre></div></div>
<p>a proměnná časových údajů by měla</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;att name=&quot;startColumn&quot;&gt;20&lt;att&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;att name=&quot;stopColumn&quot;&gt;24&lt;att&gt;  </span><br></span></code></pre></div></div>
<p>Tyto atributy MUSÍ být specifikovány pro všechny proměnné kromě <a href="#fixed-value-sourcenames" class="">pevná hodnota</a> a <a href="#filename-sourcenames" class="">název souboru a zdrojová jména</a> proměnné.</p>
<ul>
<li class="">Soubory ASCII se snadno pracují, ale nejsou efektivním způsobem, jak ukládat/oddělovat data. Pro větší efektivitu uložte soubory jako NetCDF v3 .nc soubory (s jedním rozměrem, &quot;řádkem,&quot; sdíleným všemi proměnnými) Místo toho. Můžeš. <a href="#millions-of-files" class="">podání ERDDAP™ generovat nové soubory</a> .</li>
<li class="">Vidíš tuhle třídu? <a href="#eddtablefromfiles" class="">EDDTableFromFoles</a> , informace o tom, jak tato třída funguje a jak ji používat.</li>
<li class="">Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Vzhledem k tomu, že je obtížné určit počáteční a koncové pozice pro každý datový sloupec a celkový nedostatek metadat v ASCII souborů, budete vždy muset upravit výsledky z GenerateDatasetsXml.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromhttpget">EDDTableFromHttpGet<a href="#eddtablefromhttpget" class="hash-link" aria-label="Přímý odkaz naEDDTableFromHttpGet" title="Přímý odkaz naEDDTableFromHttpGet" translate="no">​</a></h3>
<p>EDDTabulka OdHttpGet se liší od všech ostatních typů souborů dat v ERDDAP™ v tom, že má systém, ve kterém mohou konkrétní &quot;autoré&quot; pravidelně přidávat údaje, revidovat údaje nebo mazat údaje z datového souboru HTTP GET nebo <a href="#http-post" class="">POST</a> žádosti z počítačového programu, skriptu nebo prohlížeče. Databázový soubor je dotazovatelný uživateli stejným způsobem, jako jsou všechny ostatní soubory údajů z EDDTable v ERDDAP . Viz popis supertřídy této třídy, <a href="#eddtablefromfiles" class="">EDDTableFromFoles</a> , číst o funkcích, které jsou zděděny z této supertřídy.</p>
<p>Unikátní vlastnosti EDDTableFromHttpGet jsou popsány níže. Musíte si přečíst celou tuto úvodní část a pochopit ji; jinak můžete mít nerealistická očekávání nebo se dostat do problémů, které je těžké opravit.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="intended-use">Zamýšlené použití<a href="#intended-use" class="hash-link" aria-label="Přímý odkaz naZamýšlené použití" title="Přímý odkaz naZamýšlené použití" translate="no">​</a></h4>
<p>Tento systém je určen pro:</p>
<ul>
<li class="">Tabulkové (in situ) data, ne síťovaná data.</li>
<li class="">Údaje v reálném čase -
Cílem je umožnit autorovi (např. senzor, automatický QC skript nebo konkrétní člověk) provést změnu datového souboru (prostřednictvím <a href="#insert-and-delete" class="">. vložit nebo .delete příkaz</a> ) a zpřístupnit tuto změnu ERDDAP™ uživatelé, vše za méně než 1 sekundu, a možná mnohem rychleji. Většina té sekundy je síťový čas. ERDDAP™ může žádost zpracovat za cca 1 ms a údaje jsou okamžitě přístupné uživatelům. Tohle je <a href="#httpget-speed" class="">rychle</a> , <a href="#robust" class="">robustní</a> a <a href="#system-reliability" class="">spolehlivý systém</a> .</li>
<li class="">Téměř jakákoli frekvence dat -
Tento systém může přijímat častá data (např. denně) prostřednictvím velmi častých údajů (např. data 100 Hz) . Pokud optimalizujete systém, zvládne vyšší frekvenci dat (snad 10 KHz dat, pokud jdete do extrémů) .</li>
<li class="">Data z jednoho senzoru nebo sbírky podobných senzorů.</li>
<li class=""><a href="#versioning" class="">Verze</a> / <a href="https://en.wikipedia.org/wiki/Reproducibility" target="_blank" rel="noopener noreferrer" class="">Reprodukovatelné vědy</a> / DOI s --
Situace, kdy musíte být schopni provést změny údajů (Například změnit vlajku kontroly kvality) , vědět, který autor udělal každou změnu, znát časové razítko, kdy autor udělal změnu, a (na vyžádání) být schopni vidět původní údaje z doby před provedením změny. Proto jsou tyto datové soubory způsobilé pro <a href="https://en.wikipedia.org/wiki/Digital_object_identifier" target="_blank" rel="noopener noreferrer" class=""> DOI án</a> . Protože se scházejí DOI požadavek, že soubor údajů se nemění, s výjimkou agregací. Obecně platí, že údaje v reálném čase nejsou způsobilé pro DOI s, protože údaje se často zpětně mění (např. pro účely QA/QC) .
 </li>
</ul>
<p>Jakmile jsou data v souboru EDDTableFromHttpGet, může každý uživatel požadovat data stejným způsobem, jako požadují data z jakéhokoliv jiného souboru EDDTable.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="experimental-be-careful">Experimentální: Opatrně.<a href="#experimental-be-careful" class="hash-link" aria-label="Přímý odkaz naExperimentální: Opatrně." title="Přímý odkaz naExperimentální: Opatrně." translate="no">​</a></h4>
<p>Vzhledem k tomu, že tento systém je nový a protože ztracená data o životním prostředí nelze znovu získat, měli byste se k EDDTableFromHttpGet jako experimentální. Pokud jste přechod z jiného systému, spusťte prosím starý systém a nový systém souběžně, dokud si nejste jisti, že nový systém funguje dobře (týdny nebo měsíce, nejen hodiny nebo dny) . Ve všech případech se prosím ujistěte, že váš systém odděleně archivuje .vložte a .delete URL adresy, které jsou zaslány do EDDTableFromHttpGet database (i když jen v Apači a/nebo Tomcatových protokolech) Aspoň na chvíli. A ve všech případech se ujistěte, že datové soubory vytvořené vaším souborem EDDTableFromHttpGet jsou rutinně zálohovány až na externí paměťová zařízení. (Všimněte si, že <a href="https://en.wikipedia.org/wiki/Rsync" target="_blank" rel="noopener noreferrer" class="">rsync</a> . může zálohovat datové soubory vytvořené pomocí EDDTableFromHttpZískejte velmi efektivně.)<br>
<!-- --> </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="insert-and-delete">. vložit a .delete<a href="#insert-and-delete" class="hash-link" aria-label="Přímý odkaz na. vložit a .delete" title="Přímý odkaz na. vložit a .delete" translate="no">​</a></h4>
<p>Pro jakýkoli datový soubor v ERDDAP™ , když zašlete žádost na ERDDAP™ pro podmnožinu dat v souboru zadáte typ souboru, který chcete pro odpověď, např. .csv, .htmlTable , .nc , .json . EDDTableFromHttp Získat rozšíření tohoto systému na podporu dvou dalších &quot;typů souborů,&quot; které mohou vložit (nebo změna) nebo vymazat údaje v souboru údajů:</p>
<ul>
<li class="">. vložit<!-- -->
<ul>
<li class="">Žádost je formátována jako standardní HTML forma odezvy, s key=value párů, oddělena &#x27;&amp;&#x27;. Například,
https://<em>some.erddap.url</em>/erddap/tabledap/myDataset**.insert**?stationID=46088&amp;time=2016-03-30T12:37:55Z&amp;latitude=10.1&amp;longitude=-150.1&amp;airTemp=17.23&amp;waterTemp=12.3&amp;author=JohnSmith\_someKey1<br>
<!-- -->říká ERDDAP™ přidat nebo změnit údaje pro stationID =46088 pro stanovený čas.</li>
<li class="">Autorem této změny je JohnSmith a klíčem je Klíč1.</li>
<li class="">URL musí obsahovat platné hodnoty (chybějící hodnoty) pro všechny <a href="#httpgetrequiredvariables-global-attribute" class=""> http GetRequiredVariables</a></li>
<li class="">Pokud hodnoty http GetRequest Proměnné v žádosti (např. stationID a čas) odpovídají hodnoty v řádku již v datovém souboru, nové hodnoty efektivně přepisují staré hodnoty (i když staré hodnoty jsou stále přístupné, pokud uživatel požaduje údaje z předchozího <a href="#versioning" class="">verze</a> souboru údajů) .</li>
<li class="">. vložit URL nesmí nikdy obsahovat &amp;timestrom= ( ERDDAP™ generuje tuto hodnotu) nebo příkaz = (který je určen . vložit (což je příkaz=0) nebo .delete (což je příkaz= 1) ) .</li>
<li class="">Pokud .instalovat URL nespecifikuje hodnoty pro jiné sloupce, které jsou v datovém souboru, jsou považovány za nativní chybějící hodnoty (MAX\_VALUE pro celočíselné datové typy, NaN pro plováky a dvojité a &quot;&quot; pro Struny) .
 </li>
<li class="">.delete<!-- -->
<ul>
<li class="">Žádost je formátována jako standardní HTML forma odezvy, s key=value párů, oddělena &#x27;&amp;&#x27;. Například,
https://<em>some.erddap.url</em>/erddap/tabledap/myDataset**.delete**?stationID=46088&amp;time=2016-03-30T12:37:55Z&amp;author=JohnSmith\_someKey1<br>
<!-- -->říká ERDDAP™ smazat údaje pro stationID =46088 ve stanovené době.</li>
<li class="">Autorem této změny je JohnSmith a klíčem je Klíč1.</li>
<li class="">URL musí určit <a href="#httpgetrequiredvariables-global-attribute" class=""> http GetRequiredVariables</a> v žádosti (např. stationID a čas) . Pokud tyto hodnoty odpovídají hodnotám v řádku, které jsou již v datovém souboru (které obvykle budou) , staré hodnoty jsou účinně smazány (i když staré hodnoty jsou stále přístupné, pokud uživatel požaduje údaje z předchozího <a href="#versioning" class="">verze</a> souboru údajů) .</li>
<li class="">Není třeba uvádět hodnoty pro non-HttpGetRequiredVariables, jiné než autor, které jsou potřebné k ověření žádosti.
 </li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Podrobnosti:</p>
<ul>
<li class="">.Vložit a .delete žádosti jsou formátovány jako standardní HTML formuláře odpovědi, s key=hodnota párů, odděleny &#x27;&amp;&#x27;. Hodnoty musí být: <a href="https://en.wikipedia.org/wiki/Percent-encoding" target="_blank" rel="noopener noreferrer" class="">% zakódováno</a> . Proto je třeba zakódovat speciální znaky do formuláře %HH, kde HH je 2 číslice hexadecimální hodnota znaku. Obvykle stačí převést několik interpunkčních znaků: % na% 225, &amp; na% 226, &quot;na% 222,&lt;do% 3C, = do% 3D, &gt; do% 3E, + do% 2B, | do% 7C, \[ do % 5B, \] do %5D, prostor na%20, a převést všechny znaky nad #127 do jejich UTF-8 formuláře a pak procento enkódovat každý byte UTF-8 formuláře do%HH formátu (Požádat programátora o pomoc) .</li>
<li class="">. Vložit a .delete žádosti musí obsahovat <a href="#httpgetrequiredvariables-global-attribute" class=""> http GetRequiredVariables</a> např. stationID a čas. Pro . vložit žádosti, proměnné, které nejsou uvedeny v žádosti se považují za chybějící hodnoty (MAX\_VALUE pro celočíselné proměnné, NaN pro float a dvojité proměnné a prázdný řetězec pro proměnné String) . Pro .delete žádosti, hodnoty pro non-HtpGetPožadováno Proměnné (jiný než autor, který je vyžadován) jsou ignorováni.</li>
<li class="">.Vložit a .delete žádosti musí obsahovat jméno autora a autorův klíč přes parametr ve formuláři autor= <em>autor\_key</em> jako poslední parametr v žádosti. Požadovat to jako poslední zajistí, že celá žádost byla obdržena ERDDAP . Pouze autor (Ne ten klíč.) budou uloženy v datovém souboru. Musíte uvést seznam povolených <em>autor\_key</em> &#x27;s pomocí globálního atributu <a href="#httpgetkeys" class=""> http GetKeys</a></li>
<li class="">. Vložit a .delete parametry mohou být skalární (svobodný) hodnoty nebo pole jakékoli délky ve formě \[ hodnota1, hodnota2, hodnota3,..., hodnotaN \] . Pro daný požadavek musí mít všechny proměnné s polemi pole se stejným počtem hodnot (jinak je to chyba.) . Pokud má požadavek skalární hodnoty a hodnoty pole, skalární hodnoty se replikují tak, aby se staly polemi o stejné délce jako zadaná pole, např. stationID = 46088 lze považovat za stationID = \[ 46088 46088 46088 \] . Arrays jsou klíčem k <a href="#httpget-speed" class="">vysoká propustnost</a> . Bez polí bude náročné .vložit nebo .vymazat více než 8 řádků dat za sekundu od vzdáleného autora (kvůli všem hlavám sítě) . Pomocí polí bude snadné .vložit nebo .vymazat více než 1000 řádků dat za sekundu ze vzdáleného senzoru.</li>
<li class="">. vložit a .delete přijmout (bez chybové zprávy) čísla plovoucích bodů, pokud jsou očekávána celá čísla. V těchto případech datový soubor zaokrouhlí hodnoty na celá čísla.</li>
<li class="">. vložit a .delete přijmout (bez chybové zprávy) celá čísla a čísla plovoucích bodů, která jsou mimo rozsah datového typu proměnné. V těchto případech databáz ukládá hodnoty jako ERDDAP &#x27;s nativní chybějící hodnoty pro tento datový typ (MAX\_VALUE pro integer typy a NaN pro plováky a dvojité) .
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="response">Odpověď<a href="#response" class="hash-link" aria-label="Přímý odkaz naOdpověď" title="Přímý odkaz naOdpověď" translate="no">​</a></h4>
<p>Pokud URL . vložit nebo .delete uspěje, HTTP kód odezvy bude 200 (Dobře.) a odpověď bude text s .json předmět, např.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;status&quot;:&quot;success&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;nRowsReceived&quot;:1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;stringTimestamp&quot;:&quot;2018-11-05T22:12:19.517Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;numericTimestamp&quot;:1.541455939517+E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>Všimněte si, že časové značky mají milisekundovou přesnost.</p>
<p>Pokud URL . insert nebo .delete selže, dostanete jiný HTTP kód odezvy než 200 (Dobře.) , např. chyba 403 Zakázat, pokud předložíte nesprávnou hodnotu autora\_key. ERDDAP™ odešle HTTP kód odezvy (ne, např., .json Zformátovaná chyba) protože tak se věci dělají na internetu a protože chyby se mohou objevit kdekoliv v systému (např. v síti, která vrací chybu HTTP) . Pokud je chyba z ERDDAP™ , odpověď může obsahovat nějaký text (ne .json ) s podrobnějším vysvětlením, co se pokazilo, ale HTTP kód odezvy (200=OK, všechno ostatní jsou potíže) je správný způsob, jak zkontrolovat, zda . vložit nebo .delete podařilo. Pokud není kontrola HTTP kódu odezvy možná nebo není vhodná, hledejte &quot;status&quot;:&quot;úspěch&quot; v textu odpovědi, který by měl být spolehlivým ukazatelem úspěchu.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="log-files">Soubory záznamů<a href="#log-files" class="hash-link" aria-label="Přímý odkaz naSoubory záznamů" title="Přímý odkaz naSoubory záznamů" translate="no">​</a></h4>
<p>Když EDDTableFromHttpGet receives . vložit a .delete příkazy, jednoduše připojí informace k příslušnému souboru v sadě log souborů, z nichž každý je tabulka uložená v <a href="https://jsonlines.org/examples/" target="_blank" rel="noopener noreferrer" class="">JSON Řádky CSV souboru</a> . Pokud uživatel podá žádost o údaje, ERDDAP™ rychle čte příslušné soubory záznamů, aplikuje změny datového souboru v pořadí, které byly provedeny, a pak filtruje žádost prostřednictvím omezení uživatele, jako každý jiný ERDDAP™ požadavek na údaje. Rozdělení dat do různých souborů protokolu, ukládání různých informací (např. časové razítko příkazu a zda příkaz byl . vložit nebo .delete) , a různé aspekty nastavení datového souboru, vše umožňuje pro ERDDAP ukládat data do tohoto datového souboru a získávat data z tohoto souboru velmi rychle a velmi efektivně.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="security-and-author">Bezpečnost a autor<a href="#security-and-author" class="hash-link" aria-label="Přímý odkaz naBezpečnost a autor" title="Přímý odkaz naBezpečnost a autor" translate="no">​</a></h4>
<p>Každý příkaz . vložit a .delete musí obsahovat &amp;autor= <em>autor\_key</em> jako poslední parametr, kde se autor\_key skládá z identifikátoru autora (jste si vybrali: jméno, iniciály, pseudonym, číslo) Podtržení a tajný klíč. The ERDDAP™ Správce bude pracovat s autory na vytvoření seznamu platných hodnot autora\_key, které lze kdykoli změnit.
Když EDDTableFromHttpGet obdrží příkaz .vlož nebo .delete, zajistí, že autorID\_key je poslední parametr a je platný. Protože je to poslední parametr, ukazuje to, že celá příkazová čára dosáhla ERDDAP™ a nebyl zkrácen. Tajný klíč zajišťuje, že údaje do datového souboru mohou vkládat nebo smazat pouze konkrétní autoři. ERDDAP™ pak extrahuje autoraID a uloží to do proměnné autora, aby každý mohl vidět, kdo byl zodpovědný za danou změnu datového souboru.
. vložit a .delete příkazy lze provést pouze prostřednictvím https:   (bezpečné)   ERDDAP™ URL. Tím se zajistí, že informace, které se předávají, jsou během přepravy utajeny.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="timestamp">časové razítko<a href="#timestamp" class="hash-link" aria-label="Přímý odkaz načasové razítko" title="Přímý odkaz načasové razítko" translate="no">​</a></h4>
<p>Jako součást systému záznamu, EDDTableFromHttpGet přidá časové razítko (čas, kdy ERDDAP obdržel žádost) na každý příkaz, který ukládá do logových souborů. Protože ERDDAP™ generuje časové razítko, ne autory, nezáleží na tom, zda různí autoři provádějí změny z počítačů s hodinami nastavenými na mírně odlišné časy. Časové razítko spolehlivě označuje dobu, kdy byla provedena změna datového souboru.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="http-post">HTTP POST<a href="#http-post" class="hash-link" aria-label="Přímý odkaz naHTTP POST" title="Přímý odkaz naHTTP POST" translate="no">​</a></h4>
<ul>
<li class=""><a href="#http-post" class="">&quot;A co HTTP POST?&quot;</a><br>
<!-- -->HTTP <a href="https://en.wikipedia.org/wiki/POST_(HTTP)" target="_blank" rel="noopener noreferrer" class="">POST</a> je lepší alternativa (ve srovnání s HTTP GET ) pro zasílání informací od klienta na HTTP server. Pokud můžete, nebo pokud opravdu chcete zlepšit bezpečnost, použijte POST místo GET odeslat informace na ERDDAP . POST je bezpečnější, protože: s GET a https , URL je přenášena bezpečným způsobem, ale celé URL (včetně parametrů, včetně autora\_key) budou napsány Apači, Tomcatovi a ERDDAP™ soubory protokolu, kde je někdo může přečíst, pokud nejsou řádně zabezpečeny. S POST jsou parametry přenášeny bezpečným způsobem a nejsou zapsány do logových souborů. POST je trochu těžší pro klienty pracovat a není podporován tak široce klientským softwarem, ale programovací jazyky jej podporují. Obsah, který zašlete do souboru dat prostřednictvím GET nebo POST, bude stejný, jen formátován jiným způsobem.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="httpgetrequiredvariables-global-attribute">http GetRequest Proměnné Globální atribut<a href="#httpgetrequiredvariables-global-attribute" class="hash-link" aria-label="Přímý odkaz nahttp GetRequest Proměnné Globální atribut" title="Přímý odkaz nahttp GetRequest Proměnné Globální atribut" translate="no">​</a></h4>
<p>Základní součástí toho, co dělá celý tento systém funkční je požadovaný globální atribut http GetRequest Proměnné, které je čárkou oddělený seznam dataVariable název zdroje, který jednoznačně identifikuje řádek údajů. To by mělo být co nejmenší a bude téměř vždy obsahovat časovou proměnnou. Například zde jsou doporučené http GetRequest Proměnné pro každou z <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Geometrie diskrétního odběru vzorků (DSG) </a>   (ID jména se samozřejmě mohou ve vašem souboru lišit.) :</p>
<ul>
<li class="">Pro časové řady: stationID , čas</li>
<li class="">Pro trajektorie: trajektorie ID, čas</li>
<li class="">Pro profil: čas (za předpokladu, že čas je profil\_id) , hloubka</li>
<li class="">Pro časové řady Profil: stationID , čas (za předpokladu, že čas je profil\_id) , hloubka</li>
<li class="">Pro trajektorii Profil: trajektorie ID, čas (za předpokladu, že čas je profil\_id) , hloubka</li>
</ul>
<p>Bereme TimeSeries jako příklad:
Vzhledem k tomu, . vložit příkaz, který zahrnuje stationID =46088 a čas=2016-06-23T19:53:00Z (a další hodnoty pro jiné proměnné) :</p>
<ul>
<li class="">Pokud pro tuto stanici a tuto dobu neexistují žádné údaje, pak bude mít za následek přidání údajů do souboru údajů.</li>
<li class="">Pokud pro tuto stanici a tuto dobu existují údaje, pak bude mít za následek nahrazení existujícího řádku dat těmito novými daty. (Samozřejmě, od ERDDAP™ uchovává záznam každého příkazu, který obdrží, stará data jsou stále v záznamu. Pokud uživatel před touto změnou požádá o data z verze datového souboru, uvidí starší data.)<br>
<!-- --> </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="httpgetdirectorystructure">http Get DirectoryStrukture<a href="#httpgetdirectorystructure" class="hash-link" aria-label="Přímý odkaz nahttp Get DirectoryStrukture" title="Přímý odkaz nahttp Get DirectoryStrukture" translate="no">​</a></h4>
<ul>
<li class="">
<p><a href="#httpgetdirectorystructure" class=""> http Get Directory Struktura Globální atribut a data (Záznam) Název souboru</a><br>
<!-- -->Součástí toho, co dělá celý tento systém efektivně fungovat, je, že ERDDAP™ vytvoří soubor dat (log) soubory, každý s jiným kusem datového souboru. Jestli jsou dobře nastavené, ERDDAP™ bude moci rychle reagovat na většinu žádostí o údaje. Toto nastavení je určeno http GetDirectoryStructure globální atribut, což je String, který vypadá jako relativní název souboru, např., &quot; stationID /10 let,&quot; ale ve skutečnosti je to specifikace struktury adresáře. V části, která označuje, jak adresář a názvy souborů pro data (log) Soubory budou vytvořeny.</p>
</li>
<li class="">
<p>Pokud část je celé číslo (Ostatní 1) plus časPeriod (milisekunda, sekunda, minuta, hodina, datum, měsíc, rok nebo jejich množné číslo) , např. 10 let, pak EDDTableFromHttpGet soubor dat bude mít časovou hodnotu pro řádek dat (např. 2016-06-23T19:53:00Z) , vypočítat čas zkrácený na tuto přesnost (např. 2010) , a vytvořit složku nebo soubor Jméno z toho.</p>
</li>
</ul>
<p>Cílem je dostat poměrně velký kus dat do každého souboru, ale mnohem méně než 2GB.</p>
<ul>
<li class="">V opačném případě musí být část specifikace dataVariable &#x27;s sourceName např. stationID . V tomto případě, EDDTableFromHttpGet vytvoří složku nebo název souboru z hodnoty této proměnné pro nový řádek dat (např. &quot;46088&quot;) .</li>
</ul>
<p>Vzhledem k tomu, . vložit a .delete příkaz data jsou uloženy v konkrétních datech (log) soubory, EDDTableFromHttpZískejte obvykle pouze jednu nebo několik dat (log) soubory k nalezení údajů pro daný uživatelský požadavek. A protože každá data (log) soubor má všechny relevantní informace pro jeho část datového souboru, je to rychlé a snadné pro EDDTableFromHttpZískejte konkrétní verzi (nebo aktuální verze) souboru údajů pro údaje v tomto souboru (a nemusí vytvářet požadovanou verzi celého souboru údajů) .</p>
<p>Obecné pokyny vycházejí z množství a četnosti údajů. Pokud předpokládáme 100 bytů za řádek dat, pak ...</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    | Frequency  &lt;br&gt;of measurements | Recommended  &lt;br&gt;httpGetDirectoryStructure |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    | --- | --- |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    | \\&gt;=1 per second | *featureID*/1year/1day |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    | \\&gt;=1 per minute | *featureID*/2months |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    | \\&gt;=1 per hour | *featureID*/10years |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    | \\&gt;=1 per day | *featureID* |</span><br></span></code></pre></div></div>
<p>Například, pokud struktura adresáře je stationID /2 měsíce a vložíte data ze dvou stanic (46088 a 46155) s časovými hodnotami od prosince 2015 do května 2016, EDDTableFromHttp Get vytvoří adresáře pojmenované 46088 a 46155 a vytvoří soubory v každém pojmenovaném 2015-11 .json L, 2016-01 .json L, 2016-03 .json L, 2016-05 .json l (každý podnik v hodnotě dvou měsíců údajů pro příslušnou stanici) . Kdykoliv v budoucnu, pokud používáte .vložte nebo .delete pro změnu nebo vymazání údajů například pro stanici 46088 na 2016-04-05T14:45:00Z, EDDTableFromHttp Získat připojí tento příkaz na 46088/2016-03 .json l příslušné údaje (log) Složka. A je jasné, že je v pořádku kdykoli v budoucnu přidávat data pro další stanice, protože datový soubor vytvoří pouze další adresáře potřebné k uchování dat z nových stanic.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="httpgetkeys">http GetKeys<a href="#httpgetkeys" class="hash-link" aria-label="Přímý odkaz nahttp GetKeys" title="Přímý odkaz nahttp GetKeys" translate="no">​</a></h4>
<p>Každý EDDTable OdHttp Získat soubor dat musí mít globální atribut http GetKeys, který určuje seznam autorů a jejich tajných klíčů jako čárku oddělený seznam <em>autor\_key</em> např. JohnSmith\_someKey1, HOBOLogger\_someKey2, QCScript59\_someKey3 .</p>
<ul>
<li class="">autor\_key jsou citlivé na případ a musí být zcela ASCII znaky (#33 - #126, a bez čárky, &quot; nebo &#x27; znaků</li>
<li class="">Klíče jsou jako hesla, takže MUSÍ být [ng.8] znaků, těžko uhodnout, a bez vnitřních slovníkových slov. Měli byste se k nim chovat tak, jako byste k heslům přistupovali. Udržujte je v soukromí.</li>
<li class="">První znak &#x27;\<em>&#x27; odděluje autora od klíče, takže jméno autora nemůže obsahovat znak &#x27;\</em>&#x27; (Ale klíč může) .</li>
<li class="">Každý daný autor může mít jeden nebo více autorů, např. JohnSmith\_some Key1, JohnSmith\_some Key7, atd.</li>
<li class="">Hodnota tohoto atributu můžete kdykoli změnit. Změny nabývají účinku, až bude příště soubor dat načten.</li>
<li class="">Tyto informace budou odstraněny z globálních atributů datového souboru dříve, než budou zveřejněny.</li>
<li class="">Každá žádost o vložení nebo odstranění údajů do datového souboru musí obsahovat &amp;Author= <em>autor\_key</em> parametr. Po ověření platnosti klíče, ERDDAP™ pouze zachrání autorskou část (Ne ten klíč.) v datovém souboru.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="set-up">Nastavit<a href="#set-up" class="hash-link" aria-label="Přímý odkaz naNastavit" title="Přímý odkaz naNastavit" translate="no">​</a></h4>
<p>Zde jsou doporučené kroky k nastavení EDDTableFromHttpGet souboru:</p>
<ol>
<li class="">
<p>Udělejte hlavní adresář pro uložení dat tohoto datového souboru. Pro tento příklad pojďme použít /data/testGet/ . Uživatel běžící GenerateDatasetsXml a běžící uživatel ERDDAP™ musí mít oba přístup ke čtení do tohoto adresáře.
 </p>
</li>
<li class="">
<p>Použijte textový editor k vytvoření vzorku .json l CSV soubor s příponou .json V tom adresáři.
Jméno není důležité. Například, můžete tomu říkat vzorek. .json l
Udělejte čáru 2 .json l CSV soubor s názvy sloupců na prvním řádku a netypickými hodnotami (správného datového typu) na druhém řádku. Zde je vzorek soubor, který je vhodný pro sběr featureType =TimeSeries data, která měří teplotu vzduchu a vody.
\[ Pro featureType Trajectory, možná se změníš. stationID k trajektorii ID. \]<br>
<!-- -->\[ Pro featureType Profile, můžete změnit stationID být profileID a přidat proměnnou hloubky. \]</p>
<p>\[ &quot; stationID &quot; &quot;time&quot; , &quot;zeměpisná šířka,&quot; &quot;podélka,&quot; &quot;airTemp,&quot; &quot;waterTemp,&quot; &quot;timestrom,&quot; &quot;autor,&quot; &quot;command&quot; \]
\[ &quot;myStation,&quot; &quot;2018-06-25T17:00:00Z,&quot; 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, &quot;SomeBody,&quot; 0 \]</p>
</li>
</ol>
<p>Poznámka:</p>
<ul>
<li class="">Na skutečných datových hodnotách nezáleží, protože nakonec tento soubor smažete, ale měly by být správného datového typu. Zejména by časová proměnná měla používat stejný formát, jaký budou používat skutečná data ze zdroje.</li>
<li class="">Pro všechny proměnné sourceName bude rovno destinationName , tak použijte správné/konečné názvy proměnných nyní, včetně času, zeměpisné šířky, délky a někdy hloubky nebo výšky, pokud budou zahrnuty proměnné s těmito informacemi.</li>
<li class="">Téměř vždy bude proměnná pojmenovaná čas, který zaznamenává čas pozorování. Může to být dataType String s <a href="#string-time-units" class="">jednotky vhodné pro časy strun</a>   (např. yyyy-MM-dd T&#x27;HH:mm<!-- -->:ss<!-- -->.SSSZ) nebo údaje Typ dvojitý s <a href="#time-units" class="">jednotky vhodné pro numerické časy</a>   (např. sekundy od 1970-01-01T00:00:00Z nebo nějaký jiný základní čas) .</li>
<li class="">Tři sloupce (obvykle poslední tři.) Musí to být časové razítko, autore, příkaz.</li>
<li class="">Sloupec časového razítka bude použit pomocí EDDTableFromHttpGet to add a timemarking when it added a protection of data to the data file. Bude mít dataType double a jednotky sekundy od 1970-01-01T00:00:00Z.</li>
<li class="">Autorský sloupec s datyType String bude použit k záznamu autora, který poskytl data tohoto řádku. Autorizovaní autoři jsou určeni <a href="#httpgetkeys" class=""> http GetKeys globální atribut</a> . Přestože klíče jsou specifikovány jako <em>autor\_key</em> a jsou v &quot;žádosti&quot; URL v této podobě, pouze autorská část je uložena v datovém souboru.</li>
<li class="">Sloupec příkazu s datovým typem byte označuje, zda jsou data na tomto řádku vložena (0) nebo výmaz (1) .
 </li>
</ul>
<ol start="3">
<li class="">
<p>Spustit generováníDatasets Xml a řekni to.</p>
<ol>
<li class="">Typ datového souboru je EDDTableFromHttpGet</li>
<li class="">Adresář je (pro tento příklad) /data/test Dostat/</li>
<li class="">Soubor vzorku je (pro tento příklad) /data/testGet/startup .json l</li>
<li class="">The http GetRequest Proměnné jsou (pro tento příklad)   stationID , čas Viz popis <a href="#httpgetrequiredvariables-global-attribute" class=""> http GetRequiredVariables</a> dole.</li>
<li class="">Pokud jsou údaje shromažďovány každých 5 minut, http GetDirectoryStruktura pro tento příklad je stationID /2 měsíce . Viz popis <a href="#httpgetdirectorystructure" class=""> http Get DirectoryStrukture</a> dole.</li>
<li class="">The <a href="#httpgetkeys" class=""> http GetKeys</a></li>
</ol>
</li>
</ol>
<p>Přidat výstup (část datasets.xml pro soubor údajů) až datasets.xml .
 
4. Upravit datasets.xml kus pro tento datový soubor, aby byl správný a kompletní.
Hlavně nahradit všechny ??? se správným obsahem.
 
5. Pro&lt;souborTableInMemory&gt; nastavení:</p>
<ul>
<li class="">Nastavte to na true, pokud soubor souborů obvykle dostane časté . vložit a / nebo .delete žádosti (např. častěji než jednou za 10 sekund) . To pomáhá EDDTableFromHttpZískejte odpověď rychleji .vložit a / nebo .delete žádosti. Pokud to nastavíte na true, EDDTableFromHttpGet bude stále ukládat souborTable a související informace na disk pravidelně (podle potřeby přibližně každých 5 sekund) .</li>
<li class="">Nastav to na faleš. (výchozí) v případě, že soubor údajů se obvykle dostane zřídka . vložit a / nebo .delete žádosti (např. méně než jednou za 10 sekund) .
 </li>
</ul>
<ol start="6">
<li class="">Poznámka: Je možné použít&lt;cacheFromUrl&gt; a související nastavení v datasets.xml pro EDDTable OdHttp Získejte soubory dat jako způsob, jak vytvořit a udržovat místní kopii vzdáleného EDDTableFromHttpGet soubor na jiném ERDDAP . V tomto případě však tento místní datový soubor odmítne žádné . vložit a .delete žádosti.</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="using-eddtablefromhttpget-datasets">Použití EDDTable OdHttpGet Datasets<a href="#using-eddtablefromhttpget-datasets" class="hash-link" aria-label="Přímý odkaz naPoužití EDDTable OdHttpGet Datasets" title="Přímý odkaz naPoužití EDDTable OdHttpGet Datasets" translate="no">​</a></h4>
<ul>
<li class="">Autoři mohou podat &quot;žádost,&quot; která <a href="#insert-and-delete" class="">vložit údaje do souboru údajů nebo je z něj vymazat</a> .
 </li>
<li class="">Po vložení reálných dat do datového souboru můžete a měli byste smazat původní soubor se vzorkem dat.
 </li>
<li class="">Uživatelé mohou požadovat data z datového souboru, jako to dělají pro jakýkoli jiný datový soubor EDDTable v ERDDAP . Pokud žádost neobsahuje omezení sloupce časového razítka, pak žádost získá data z aktuální verze datového souboru (soubor záznamu po zpracování všech příkazů k vložení a vymazání a opětovném třídění http GetRequiredVariables) .
 </li>
<li class="">Uživatelé mohou také podávat žádosti, které jsou specifické pro EDDTableFromHttpZískejte soubory dat:<!-- -->
<ul>
<li class="">Pokud žádost obsahuje&lt;nebo&lt;= omezení sloupce časového razítka, pak ERDDAP™ zpracovává řádky souboru záznamu až do stanoveného časového razítka. To ve skutečnosti dočasně odstraní všechny změny v datovém souboru od této hodnoty časového razítka. Více informací viz <a href="#versioning" class="">Verze</a> .</li>
<li class="">Pokud žádost obsahuje &gt;, &gt; &gt;, &gt; nebo = omezení sloupce časového razítka, např. &amp;time razítko&lt;=0, pak ERDDAP™ vrací data z datových souborů tak, jak je, bez zpracování vkládání a vymazání příkazů.</li>
</ul>
</li>
<li class="">V budoucnu si představujeme, že nástroje budou postaveny (námi? tebou?) pro práci s těmito soubory dat. Například by mohl existovat skript, který čte raw log soubory, používá jinou kalibrační rovnici, a generuje / aktualizuje jiný datový soubor s těmito odvozenými informacemi. Všimněte si, že skript může získat původní data prostřednictvím požadavku na ERDDAP™   (který dostane data ve formátu souboru, který je nejjednodušší pro skript pracovat s) a generovat / aktualizovat nový datový soubor prostřednictvím . vložit &quot;žádosti&quot; na ERDDAP . Skript nepotřebuje přímý přístup k datovým souborům; může být na libovolném autorském počítači.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="detailed-information-about-eddtablefromhttpget">Podrobné informace o EDDTableFromHttpGet<a href="#detailed-information-about-eddtablefromhttpget" class="hash-link" aria-label="Přímý odkaz naPodrobné informace o EDDTableFromHttpGet" title="Přímý odkaz naPodrobné informace o EDDTableFromHttpGet" translate="no">​</a></h4>
<p>Témata jsou:</p>
<ul>
<li class=""><a href="#dont-change-the-setup" class="">Neměňte nastavení!</a></li>
<li class=""><a href="#crud" class="">CRUD</a></li>
<li class=""><a href="#invalidrequests" class="">Neplatné žádosti</a></li>
<li class=""><a href="#httpget-speed" class="">Rychlost</a></li>
<li class=""><a href="#robust" class="">Robustní</a></li>
<li class=""><a href="#system-reliability" class="">Spolehlivost systému</a></li>
<li class=""><a href="#versioning" class="">Verze</a></li>
<li class=""><a href="#https-put-and-delete" class="">&quot;A co HTTP PUT a DELETE?!&quot;</a></li>
<li class=""><a href="#httpget-notes" class="">Poznámky</a></li>
<li class=""><a href="#thanks" class="">Díky CHORDS za základní myšlenku.</a></li>
</ul>
<p>Zde jsou podrobné informace:</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="dont-change-the-setup">Neměňte nastavení!<a href="#dont-change-the-setup" class="hash-link" aria-label="Přímý odkaz naNeměňte nastavení!" title="Přímý odkaz naNeměňte nastavení!" translate="no">​</a></h5>
<p>Po vytvoření datového souboru jste k němu přidali data:</p>
<ul>
<li class="">Nepřidávejte ani neodstraňujte dataVariable s.</li>
<li class="">Neměňte sourceName nebo destinationName z dataVariable s.</li>
<li class="">Neměňte data. Druh dataVariable s. Ale můžete změnit dataVariable Metadata.</li>
<li class="">Neměňte http GetRequest Proměnné globální atribut.</li>
<li class="">Neměňte http Získat globální atribut DirectoryStructure.</li>
</ul>
<p>Pokud potřebujete změnit některou z těchto věcí, vytvořte nový datový soubor a všechny údaje přeneste do nového datového souboru.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="crud">CRUD<a href="#crud" class="hash-link" aria-label="Přímý odkaz naCRUD" title="Přímý odkaz naCRUD" translate="no">​</a></h5>
<p>V počítačové vědě jsou čtyři základní příkazy pro práci s datovým souborem <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete" target="_blank" rel="noopener noreferrer" class="">CREATE, READ, UPDATE, DELETE (CRUD) </a> . SQL, jazyk pro práci s relačními databázemi, má ekvivalent v INSERT, SELECT, UPDATE a DELETE. V EDDTableFromHttpGet,</p>
<ul>
<li class="">.Vložit je kombinace CREATE a UPDATE.</li>
<li class="">.delete je DELETE.</li>
<li class="">Pravidelný systém pro požadavek podskupin dat je READ.</li>
</ul>
<p>Proto EDDTableFromHttpGet podporuje všechny základní příkazy pro práci s datovým souborem.
 </p>
<ul>
<li class="">.vložte nebo .delete žádosti bez chyb vrátí HTTP status kód=200 a JSON objekt, např.,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;status&quot;:&quot;success&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;nRowsReceived&quot;:1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;stringTimestamp&quot;:&quot;2018-03-26T15:34:05.552Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;numericTimestamp&quot;:1.522078445552E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>Dvě hodnoty časového razítka se vztahují na stejnou milisekundu, což je milisekunda, která bude uložena v proměnné časového razítka pro řádky dat, které byly vloženy nebo smazány. ERDDAP™ nezmění jméno a formátování těchto párů hodnot klíče v budoucnu. ERDDAP™ může v budoucnu přidat další dvojice hodnot klíče k objektu JSON.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="invalidrequests">Neplatné žádosti<a href="#invalidrequests" class="hash-link" aria-label="Přímý odkaz naNeplatné žádosti" title="Přímý odkaz naNeplatné žádosti" translate="no">​</a></h5>
<p>Neplatné . vložte nebo .delete žádosti vrátí HTTP chybový kód jiný než status=200 a žádná změna nebude provedena do souboru dat. To zahrnuje požadavky s nesprávnými autorskými informacemi, nesprávné názvy proměnných, různé délky pole pro různé proměnné, chybějící požadované proměnné, chybějící požadované proměnné atd. Pokud se žádost týká více než jednoho datového souboru, je možné, že část žádosti uspěje a část selže. Nicméně by to neměl být problém, pokud senzor odešle požadavek považuje jakékoli selhání za úplné selhání. Například, když řeknete ERDDAP™ k vložení (nebo smazat) stejná data dvakrát v řadě, nejhorší případ je, že tato informace je uložena dvakrát, zavřít společně v log souboru. Je těžké pochopit, jak by to mohlo způsobit potíže.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="httpget-speed">HttpGet Speed<a href="#httpget-speed" class="hash-link" aria-label="Přímý odkaz naHttpGet Speed" title="Přímý odkaz naHttpGet Speed" translate="no">​</a></h5>
<p>Pro . vložit nebo . vymazat žádosti (nepočítám http režijní náklady) , Ballpark čísla rychlost . vložit nebo .delete jsou
1ms per . vložit s 1 řádek údajů
2ms per . vložte 10 řádků dat do polí ( \[  \] )<br>
<!-- -->3ms per . vložte do polí 100 řádků dat ( \[  \] )<br>
<!-- -->13ms per . Vložte 1000 řádků dat do polí ( \[  \] )<br>
<!-- -->Jasně pole jsou klíčem k <a href="#httpget-speed" class="">vysoká propustnost</a> . Bez polí bude náročné .vložit nebo .vymazat více než 8 řádků dat za sekundu od vzdáleného autora (kvůli všem hlavám sítě) . Pomocí polí bude snadné .vložit nebo .vymazat více než 1000 řádků dat za sekundu ze vzdáleného senzoru.</p>
<p>S velmi velkým množstvím dat na žádost, budete hit Tomcat je limit na maximální délku dotazu (výchozí je 8KB?) , ale to lze zvýšit editací nastavení maxHttpHeaderSize ve vašem <em>tomcat</em> /conf/server.xml HTTP/1.1 Vstup konektoru.</p>
<p>Kdy? ERDDAP™ čte data JSON Lines CSV (log) soubory, tam je malý časový trest ve srovnání s čtením binárních datových souborů. Měli jsme pocit, že tento časový trest při čtení byl rozumnou cenou za rychlost a robustnost systému při psaní údajů (která má zásadní význam) .</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="ssd">SSD<a href="#ssd" class="hash-link" aria-label="Přímý odkaz naSSD" title="Přímý odkaz naSSD" translate="no">​</a></h5>
<p><a href="#ssd" class="">Pro větší rychlost,</a> a <a href="https://en.wikipedia.org/wiki/Solid-state_drive" target="_blank" rel="noopener noreferrer" class="">Solid State Drive (SSD) </a> uchovávat data. Mají mnohem rychlejší přístupový čas (&lt;0.1ms) než pevné disky (3 - 12 ms) . Také mají rychlejší přenos dat. (200 - 2500 MB/s) než disky pevných disků (~200 MB/s) . Jejich náklady se v posledních letech značně snížily. I když brzy SSD měl problémy po velkém počtu píše na daný blok, tento problém je nyní výrazně snížena. Pokud stačí použít SSD pro zápis dat jednou pak přečíst mnohokrát, dokonce i spotřebitelské třídy SSD (která je podstatně levnější než SSD kategorie podniků) Mělo by to vydržet dlouho.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="robust">Robustní<a href="#robust" class="hash-link" aria-label="Přímý odkaz naRobustní" title="Přímý odkaz naRobustní" translate="no">​</a></h5>
<p>Snažili jsme se, aby tento systém byl co nejjednodušší a co nejpevnější.</p>
<ul>
<li class="">Systém je navržen tak, aby měl více vláken (např. senzor, automatický QC skript a člověk) současně pracuje na stejném datovém souboru a dokonce na stejném souboru. Většinu z toho je možné pomocí log souboru přístup k ukládání dat a pomocí velmi jednoduchý typ souboru, <a href="https://jsonlines.org/examples/" target="_blank" rel="noopener noreferrer" class="">JSON Řádky CSV souborů</a> Uložit data.</li>
<li class="">Další obrovskou výhodou JSON Lines CSV je, že pokud se soubor někdy zkazí (např. neplatná kvůli chybě na řádku) , je snadné otevřít soubor v textovém editoru a opravit problém.</li>
<li class="">Další výhodou je, že pokud je chyba na řádku v souboru, systém může stále číst všechna data na řádku před a po řádku chyb. A systém může stále log další . vložit a .delete informace.</li>
<li class="">Obrovská výhoda použití admin-přístupných standardních souborů (ve srovnání s relační databází nebo Cassandrou nebo jiným softwarem) : Neexistuje žádný jiný software, který musí být udržován a který musí být spuštěn, aby mohl ukládat nebo získávat data. A je snadné zálohovat standardní soubory kdykoliv a postupně, protože data jsou v částech (Po chvíli se bude měnit pouze aktuální soubor pro každou stanici) . Naproti tomu k vytvoření externích zálohových souborů z databází a z Cassandry vyžaduje značné úsilí a systém dolů.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="system-reliability">Spolehlivost systému<a href="#system-reliability" class="hash-link" aria-label="Přímý odkaz naSpolehlivost systému" title="Přímý odkaz naSpolehlivost systému" translate="no">​</a></h5>
<p>Je rozumné očekávat jeden server s ERDDAP™ mít 99,9% přesčas - to je asi 9 hodin volna ročně (I když to můžeš použít za jednu špatnou noc!) .
Pokud jste pilní a šťastní, můžete dostat 99,99% přesčas (53 minut prostoje ročně) , Protože jen několik restartů pro aktualizace bude trvat tolik času.
Musíte přijmout extrémní opatření. (samostatný záložní server, nepřerušitelný zdroj energie, záložní klimatizace, 24x7x365 personál sledovat stránky, atd.) mít malou šanci na 99,99% přesčas (5,25 minut prostoje ročně) . I tehdy je velmi nepravděpodobné, že dosáhnete 99,99% přesčasu. (nebo dokonce 99,99%) Protože problémy jsou často mimo vaši kontrolu. Například Amazon Web Service a Google nabízejí neuvěřitelně spolehlivé webové služby, ale velké části z nich jsou někdy mimo hodiny.</p>
<p>Přiznej si to, každý chce ERDDAP™ mít stoprocentní čas, nebo alespoň &quot;šest devítek&quot; (99,9999% přepážky se rovná 32 sekund prostoje za rok) Ale není možné, abys ho dostal, bez ohledu na to, kolik času, úsilí a peněz utratíš.</p>
<p>Ale... ERDDAP™ Uptime není skutečný cíl. Cílem je vybudovat spolehlivé <strong>systém</strong> , který neztratí žádná data. Tohle je řešitelný problém.</p>
<p>Řešením je: vybudovat chybovou toleranci do počítačového softwaru, který posílá data do ERDDAP . Konkrétně, tento software by měl udržovat frontu dat čekajících na přechod na ERDDAP . Když jsou data přidána do fronty, software by měl zkontrolovat odpověď ERDDAP . Pokud odpověď nezahrnuje přijatá data. Žádné chyby., pak software by měl nechat data ve frontě. Při generování a přidávání dat do fronty by se software měl pokusit znovu vložit data do fronty. (Možná s \[  \] systém) . Uspěje nebo selže. Pokud selže, zkusí to později. Pokud napíšete software pro práci tímto způsobem a pokud je software připraven na frontu několika dní v hodnotě dat, máte skutečně dobrou šanci nahrát 100% dat senzoru do ERDDAP . A uděláte to bez velkého úsilí nebo výdajů.</p>
<p>\[ Pozadí: Nevymysleli jsme si to. <a href="https://en.wikipedia.org/wiki/Reliability_(computer_networking)" target="_blank" rel="noopener noreferrer" class="">Takto počítačové sítě dosahují spolehlivosti.</a> Počítačové sítě jsou neodmyslitelně nespolehlivé. Takže když přenesete soubor z jednoho počítače do druhého, odesílací software ví / očekává, že některé pakety mohou být ztraceny. Pokud nedostane správné uznání pro daný paket z přijímače, odešle ztracený paket. S tímto přístupem může relativně jednoduchý odesilatel a přijímačový software vybudovat spolehlivý systém přenosu souborů na vrcholu nespolehlivé sítě. \]</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-json-lines-csv-files">Proč JSON Lines CSV soubory?!<a href="#why-json-lines-csv-files" class="hash-link" aria-label="Přímý odkaz naProč JSON Lines CSV soubory?!" title="Přímý odkaz naProč JSON Lines CSV soubory?!" translate="no">​</a></h5>
<p>EDDTableFromHttpZískat použití <a href="https://jsonlines.org/examples/" target="_blank" rel="noopener noreferrer" class="">JSON Řádky CSV souborů</a> . pro uložení dat. Důvody jsou:</p>
<ul>
<li class="">Hlavním důvodem je: jednoduchost souborů JSON Lines CSV nabízí rychlý, snadný a spolehlivý způsob, jak umožnit více vláken k zápisu do daného souboru (např. synchronizací názvu souboru) .</li>
<li class="">Pokud se soubor JSON Lines CSV někdy zkazil (např. neplatná kvůli chybě na řádku) , EDDTableFromHttpGet mohl stále číst všechna data na všech řádcích před a po řádku chyb. A .insert a .delete systém by mohl i nadále přidávat nová data do datového souboru.</li>
<li class="">Protože soubory JSON Lines CSV jsou ASCII soubory, pokud by soubor byl někdy poškozen, bylo by snadné opravit (v textovém editoru) .</li>
<li class="">JSON Lines CSV podporuje Unicode strings.</li>
<li class="">JSON Lines CSV podporuje řetězce délky proměnné (není omezena na určitou maximální délku) .</li>
<li class="">JSON Lines CSV podporuje 64-bit celá čísla (dlouhé) .</li>
<li class="">Formální povaha a extra syntaxe JSON Lines CSV (CSV ze staré školy) poskytuje zvláštní ujištění, že daná linka nebyla poškozena.</li>
</ul>
<p>Zpočátku jsme se snažili použít .nc 3 soubory s neomezeným rozměrem. Byly však problémy:</p>
<ul>
<li class="">Hlavním problémem bylo: Neexistuje spolehlivý způsob, jak umožnit více vláken psát na .nc 3 soubor, i když vlákna spolupracují tím, že píše synchronizovaným způsobem.</li>
<li class="">Pokud .nc 3 soubor se zkazí, . vložit a .delete systém nemůže nadále používat soubor.</li>
<li class="">Protože .nc 3 soubory jsou binární, pokud se soubor zkazí (což dělají kvůli problému s více vlákny) jsou mimořádně těžké nebo nemožné opravit. Nejsou žádné nástroje, které by pomohly s opravou.</li>
<li class="">CF nemá žádný způsob, jak určit kódování řetězců, takže neexistuje oficiální způsob, jak podpořit Unicode, např. kódování UTF-8. Snažili jsme se získat CF na podporu atributu \_Encoding, ale nebyli schopni dosáhnout žádného pokroku. ( Unidata , ke svému úvěru, podporuje atribut \_Encoding.)</li>
<li class="">.nc 3 soubory podporují pouze řetězce s pevnou délkou. Znovu jsme se snažili získat CF a Unidata podporovat řetězce proměnné délky, ale nebyli schopni dosáhnout žádného pokroku.</li>
<li class="">.nc 3 soubory nepodporuje snadný způsob, jak rozlišit proměnné jednotlivých znaků od proměnných String. Znovu jsme se snažili získat CF a Unidata podporovat systém pro rozlišení těchto dvou typů údajů, avšak nebyli schopni dosáhnout žádného pokroku.</li>
<li class="">.nc 3 soubory podporují pouze 8-bitové znaky s nespecifikovaným kódováním. Znovu jsme se snažili získat CF a Unidata podporovat systém pro určení kódování, ale nebyli schopni dosáhnout žádného pokroku.</li>
<li class="">.nc 3 soubory nepodporuje 64-bit celá čísla (dlouhé) . Znovu jsme se snažili získat CF a Unidata podporovat systém po dlouhou dobu, ale nebyli schopni dosáhnout žádného pokroku.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="versioning">Verze<a href="#versioning" class="hash-link" aria-label="Přímý odkaz naVerze" title="Přímý odkaz naVerze" translate="no">​</a></h5>
<p>Protože EDDTable OdHttp Získejte záznamy všech změn datového souboru s časovým razítkem a autorem každé změny, může rychle obnovit tento datový soubor kdykoli. V jistém smyslu existuje verze pro jakýkoliv čas. Pokud žádost uživatele o údaje obsahuje časové razítko&lt;= omezení, např. &amp;časové razítko&lt;=2016-06-23T16:32:22.128Z (nebo jakýkoli časový bod) , ale bez omezení autora nebo příkazu, ERDDAP™ bude na žádost reagovat prvním vytvořením verze datového souboru k tomuto okamžiku. Pak, ERDDAP™ uplatňuje jiná omezení uživatele, stejně jako u všech ostatních žádostí o údaje od ERDDAP . EDDTableFromHttpGet je nastaven tak, že tento proces je velmi rychlý a efektivní, i pro velmi velké soubory dat.</p>
<p>Podobně může uživatel zjistit, kdy byl datový soubor naposledy aktualizován žádostí o ...?timerazítko&amp;timerazítko=max (časové razítko) &amp; Distinct ()</p>
<p>A pro každou žádost o data, pro jakoukoli verzi datového souboru, uživatelé mohou vidět, který autor udělal, které změny, a když je udělali.</p>
<p>Tento systém verzí umožňuje <a href="https://en.wikipedia.org/wiki/Reproducibility" target="_blank" rel="noopener noreferrer" class="">Reprodukovatelné vědy</a> protože kdokoliv může kdykoli požádat o údaje z verze datového souboru. Toto jemné verze není možné s žádným jiným systémem, o kterém víme. Podkladový mechanismus je velmi efektivní, protože není zapotřebí žádné další skladovací prostory, a zpracování nad rámec je skutečně minimální.</p>
<p>Ne každý potřebuje tento typ jemné verze, ale je mimořádně užitečný, možná nezbytný, v kontextu velké organizace pro správu dat. (např. OOI, Earth Cube, Data One a NOAA &#x27;s NCEI) kde soubor údajů může mít více autorů (např. senzor, automatický QC skript a lidský editor) .</p>
<p>\[ Historie: Potřeba tohoto typu verze poprvé přišla pro mě (Bobe.) při čtení a diskusi o OOI v roce 2008. V té době, OOI měl těžkopádný, pomalý, neefektivní systém pro verze založené na Git. Git je skvělý pro to, k čemu byl navržen, ale ne pro tohle. V roce 2008 jsem na diskuzi OOI navrhl rozsáhlý, účinný alternativní systém pro správu dat, včetně mnoha funkcí, které jsem přidal k ERDDAP™ od té doby, včetně tohoto systému verzí. V té době a od té doby byl OOI oddán jejich systému verzí a nezajímal se o alternativy. V roce 2016 se objevily další aspekty tohoto plánu a začal jsem jej provádět. Vzhledem k tomu, že tam bylo mnoho přerušení pracovat na jiných projektech, jsem neměl dokončit až 2018. Ani teď nevím o žádném jiném vědeckém datovém systému, který nabízí tak rychlý a snadný přístup k verzi dat z jakéhokoliv okamžiku, pro často se měnící soubory dat. Jednoduchý souborový systém to nenabízí. Relativní databáze ne. Cassandra ne. \]</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="https-put-and-delete">HTTPS Put and Delete<a href="#https-put-and-delete" class="hash-link" aria-label="Přímý odkaz naHTTPS Put and Delete" title="Přímý odkaz naHTTPS Put and Delete" translate="no">​</a></h5>
<ul>
<li class=""><a href="#https-put-and-delete" class="">&quot;A co HTTPS PUT a DELETE?!&quot;</a><br>
<a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol" target="_blank" rel="noopener noreferrer" class="">Protokol Hypertext Transfer (HTTP) </a> je základem World Wide Web a důvod, proč webové stránky URL začínají s &quot;http://&quot;nebo &quot;https://&quot;. HTTPS je HTTP s dodatečnou bezpečnostní vrstvou. Každý den, prohlížeče, skripty a počítačové programy tvoří miliardy HTTP (S)   <strong>GET</strong> žádá o získání informací ze vzdálených zdrojů. HTTP (S) zahrnuje také jiné <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods" target="_blank" rel="noopener noreferrer" class="">slovesa</a> , zejména PUT (přesměrovat data na server) A DELETE (na DELETE data ze serveru) . Ano, PUT a DELETE jsou vhodným způsobem, jak vložit data do datového souboru a z něj odstranit data přes HTTP (S) . GET podporuje každý kousek softwaru, který může pracovat s HTTP (S) . GET je opravdu snadné pracovat s. Každý již ví, jak pracovat s GET a mnozí vědí, jak používat POST (které lze použít v podstatě stejným způsobem jako GET) , Takže jsme udělali EDDTableFromHttpZískejte práci s GET a POST. Velmi málo lidí (i málo programátorů počítačů) kdy pracoval s PUT a DELETE. PUT a DELETE jsou obecně podporovány pouze počítačovými jazyky, takže jejich použití vyžaduje zručný program. Takže PUT a DELETE jsou obvykle mnohem náročnější přístup vzhledem k tomu, jak se nástroje vyvinuly.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="httpget-notes">HttpGet Notes<a href="#httpget-notes" class="hash-link" aria-label="Přímý odkaz naHttpGet Notes" title="Přímý odkaz naHttpGet Notes" translate="no">​</a></h5>
<ul>
<li class=""><a href="#httpget-notes" class="">Poznámky</a></li>
<li class="">Ne. dataVariable může mít dataType=char. Místo toho použijte dataType=String. Pokud opravdu potřebujete dataType=char, email Chris. John at noaa.gov .
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="thanks">Díky.<a href="#thanks" class="hash-link" aria-label="Přímý odkaz naDíky." title="Přímý odkaz naDíky." translate="no">​</a></h5>
<ul>
<li class=""><a href="#thanks" class="">Díky CHORDS za základní myšlenku.</a><br>
<!-- -->Základní myšlenka pro EDDTableFromHttpGet (tj. použití HTTP GET žádost o přidání údajů do souboru údajů) je z UCAR (NOR?)   <a href="https://github.com/earthcubeprojects-chords" target="_blank" rel="noopener noreferrer" class="">Cloudové datové služby v reálném čase (OZNAČENÍ) </a> projekt. Formát parametrů v žádosti (opakovaná <em>name=value</em> , odděleno pomocí &amp;) je stejný standardní formát, který používá HTML formuláře na webových stránkách. Je to jednoduchý a brilantní nápad a ještě více proto, že se tak dokonale prolíná s ERDDAP &#x27;s existujícím systémem pro zpracování tabulkových dat. Myšlenka je jasná, ale já (Bobe.) Nepřemýšlel jsem o tom. EDDTableFromHttp Získejte využití této základní myšlenky, v kombinaci s našimi představami o tom, jak ji implementovat, aby systém v ERDDAP™ pro nahrávání dat. Kromě základní myšlenky použití GET pro vkládání dat do systému je implementace EDDTableFromHttpGet zcela odlišná a zcela nezávislá na CHORDS a má různé vlastnosti (např. soubory záznamů, ukládání dat, jiný bezpečnostní systém, podpora CRUD, opakovatelná data) . Naše vystavení CHORDS byl jen webinar. Nedívali jsme se na jejich kód ani nečetli o jejich projektu, protože jsme okamžitě věděli, že chceme systém implementovat jiným způsobem. Ale jsme jim vděční za základní myšlenku. Plná zmínka o přípravku CHORDS je
Daniels, M. D., Kerkez, B., Chandrasekar, V., Graves, S., Stamps, D. S., Martin, C., Dye, M., Gooch, R., Bartos, M., Jones, J., Keiser, K. (2014) . Cloud-hosted v reálném čase datové služby pro geovědy (OZNAČENÍ) software. UCAR/NCAR -- Laboratoř pozorování Země. <a href="https://doi.org/10.5065/d6v1236q" target="_blank" rel="noopener noreferrer" class="">https://doi.org/10.5065/d6v1236q</a><br>
<!-- --> </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromhyraxfiles">EDDTableFrom Hyrax Soubory<a href="#eddtablefromhyraxfiles" class="hash-link" aria-label="Přímý odkaz naEDDTableFrom Hyrax Soubory" title="Přímý odkaz naEDDTableFrom Hyrax Soubory" translate="no">​</a></h3>
<p><a href="#eddtablefromhyraxfiles" class=""> <strong>EDDTableFrom Hyrax Soubory</strong> </a>   (odprekovaný) agreguje datové soubory s několika proměnnými, každý s jednou nebo více sdílenými rozměry (například čas, výška (nebo hloubka) , zeměpisná šířka, zeměpisná délka) , a sloužil <a href="https://www.opendap.org/software/hyrax-data-server" target="_blank" rel="noopener noreferrer" class=""> Hyrax   OPeNDAP server</a> .</p>
<ul>
<li class="">Tento datový soubor je <strong>ODCHYLKY</strong> . Nejnovější a obecnější řešení je použít <a href="#cachefromurl" class="">cache Možnost FromUrl pro EDDTable FromFiles</a>   (nebo varianta) , který tvoří místní kopii vzdálených souborů a slouží data z místních souborů. The&lt;cacheFromUrl&gt; možnost lze použít s libovolným typem tabulkového datového souboru. **<br>
<!-- -->Jestli to z nějakého důvodu nezvládneš, napiš Chrisovi. John at noaa.gov .
Pokud před rokem 2020 neexistují žádné stížnosti, může být tento typ datového souboru odstraněn. **</li>
<li class="">Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Pak to můžete upravit tak, abyste to naladili.</li>
<li class="">Ve většině případů má každý soubor více hodnot pro levý (první) rozměr, například čas.</li>
<li class="">Soubory často (Ale nemusíš.) mají jedinou hodnotu pro ostatní rozměry (například výška (nebo hloubka) , zeměpisná šířka, zeměpisná délka) .</li>
<li class="">Soubory mohou mít proměnné znaku s dodatečným rozměrem (například nCharacters) .</li>
<li class="">Hyrax servery lze identifikovat pomocí &quot;/dods-bin/nph-dods/&quot; nebo &quot;/opendap/&quot; v URL.</li>
<li class="">Tato třída obrazovka-scrapes Hyrax webové stránky se seznamy souborů v každém adresáři. Vzhledem k tomu, že je velmi specifický pro současný formát Hyrax webové stránky. Pokusíme se přizpůsobit. ERDDAP™ rychle pokud / pokud budoucí verze Hyrax změnit, jak jsou soubory uvedeny.</li>
<li class="">The&lt;fileDir&gt; nastavení je ignorováno. Protože tato třída stáhne a vytvoří místní kopii každého vzdáleného datového souboru, ERDDAP™ nutí soubor Dir to be <em>velkýRodič rodičů</em> /kopie/ * datasetID * /.</li>
<li class="">Pro&lt; sourceUrl &gt; použijte URL základního adresáře datového souboru v Hyrax například server,
&lt; sourceUrl &gt;<a href="http://edac-dap.northerngulfinstitute.org/dods-bin/nph-dods/WCOS/nmsp/wcos/&amp;lt;/" target="_blank" rel="noopener noreferrer" class="">http://edac-dap.northerngulfinstitute.org/dods-bin/nph-dods/WCOS/nmsp/wcos/&amp;lt;/</a> sourceUrl &gt;
(Ale dejte to na jednu čáru.)   (Promiň, ale ten server už není k dispozici.) .
The sourceUrl Webová stránka má obvykle &quot; OPeNDAP Index serveru \[ název adresáře \] &quot;nahoře.</li>
<li class="">Vzhledem k tomu, že tato třída vždy stáhne a vytvoří místní kopii každého vzdáleného datového souboru, nikdy byste neměli zabalit tento soubor do <a href="#eddtablecopy" class="">EDDtableCopy</a> .</li>
<li class="">Vidíš tuhle třídu? <a href="#eddtablefromfiles" class="">EDDTableFromFoles</a> , informace o tom, jak tato třída funguje a jak ji používat.</li>
<li class="">Viz příklady 1D, 2D, 3D a 4D <a href="#eddtablefromncfiles" class="">EDDTableFromNcFiles</a> .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefrominvalidcrafiles">EDDTableFromNeplatnéCRAFile<a href="#eddtablefrominvalidcrafiles" class="hash-link" aria-label="Přímý odkaz naEDDTableFromNeplatnéCRAFile" title="Přímý odkaz naEDDTableFromNeplatnéCRAFile" translate="no">​</a></h3>
<p><a href="#eddtablefrominvalidcrafiles" class=""> <strong>EDDTableFromNeplatnéCRAFile</strong> </a> Údaje z agregátů NetCDF   (V3 nebo v4)   .nc soubory, které používají specifický, neplatný, varianta CF DSG Contiguous Ragged Array (CRA) Složky. I když ERDDAP™ podporuje tento typ souboru, je to neplatný typ souboru, který by nikdo neměl používat. Skupiny, které v současné době používají tento typ souboru, jsou důrazně vybízeny k používání ERDDAP™ generovat platné soubory CF DSG CRA a přestat používat tyto soubory.</p>
<p>Podrobnosti: Tyto soubory mají více proměnných řádků\_size, z nichž každá má atribut vzor\_dimension. Soubory jsou non-CF-standardní soubory, protože více vzorků (obs) rozměry musí být dekódovány a vzájemně spojeny s tímto doplňkovým pravidlem a slibem, který není součástí specifikace CF DSG: &quot;Můžete spojovat danou např. hodnotu teploty (rozměr tempa\_obs) s danou hloubkou (z\_obs rozměr, rozměr s nejvíce hodnot) , protože: teplotní řádek\_velikost (pro danou sádru) bude buď 0 nebo rovno příslušnému řádku hloubky\_velikost (pro tyto obsazení)   (To je pravidlo.) . Pokud tedy teplotní řádek\_velikost není 0, pak hodnoty n teploty pro tento odlitek se vztahují přímo k hodnotám n hloubky pro tento odlitek (To je slib.) ..&quot;</p>
<p>Další problém s těmito soubory: proměnná Principal\_Investigator row\_size nemá atribut vzor\_dimension a neřídí se výše uvedeným pravidlem.</p>
<p>Ukázky souborů pro tento typ souboru lze nalézt nahttps://data.nodc.noaa.gov/thredds/catalog/ncei/wod/  \[ 2020-10-21 Tento server již není spolehlivě dostupný \] .</p>
<p>Vidíš tuhle třídu? <a href="#eddtablefromfiles" class="">EDDTableFromFoles</a> , informace o tom, jak tato třída funguje a jak ji používat.</p>
<p>Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Pak to můžete upravit tak, abyste to naladili.</p>
<p>První věc GenerovatDatasets Xml dělá pro tento typ souboru dat poté, co odpovíte na otázky, je vytisknout strukturu ncdump-jako vzorku souboru. Takže pokud zadáte pár hloupých odpovědí pro první smyčku přes GenerateDatasets Xml, aspoň uvidíš, jestli ERDDAP™ může přečíst soubor a zjistit, jaké rozměry a proměnné jsou v souboru. Pak můžete dát lepší odpovědi pro druhou smyčku přes GenerateDatasetsXml.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromjsonlcsvfiles">EDDTableFromJsoniCSVFiles<a href="#eddtablefromjsonlcsvfiles" class="hash-link" aria-label="Přímý odkaz naEDDTableFromJsoniCSVFiles" title="Přímý odkaz naEDDTableFromJsoniCSVFiles" translate="no">​</a></h3>
<p><a href="#eddtablefromjsonlcsvfiles" class=""> <strong>EDDTableFromJsoniCSVFiles</strong> </a> Údaje z agregátů <a href="https://jsonlines.org/examples/" target="_blank" rel="noopener noreferrer" class="">JSON Řádky CSV souborů</a> . Vidíš tuhle třídu? <a href="#eddtablefromfiles" class="">EDDTableFromFoles</a> , informace o tom, jak tato třída funguje a jak ji používat.</p>
<ul>
<li class="">Jak říká jsonlines.org, tento formát je &quot;Lepší než CSV&quot; (A legálně, jako federální zaměstnanec s nimi nemůžu souhlasit nebo nesouhlasit -- jak šílené to je?) . CSV nebyl nikdy formálně definován a je brzděn historickými zavazadly souvisejícími s jeho připojením k původním tabulkovým programům. JSON Lines CSV je ve srovnání s tím plně definován a těží z jeho připojení k široce používanému standardu JSON, který zase těží z jeho připojení k Java Skript a Java . Bohužel existuje plná podpora pro dlouhá celá čísla a pro Unicode znaky v řetězech, a jasný způsob, jak zahrnout další speciální znaky (Zejména karty a nové linky) v řetězech.</li>
</ul>
<p>Tento formát je vhodný zejména pro datové soubory, kde potřebujete pravidelně přidávat další řádky na konec daného datového souboru. Z tohoto důvodu a další (viz výše) , <a href="#eddtablefromhttpget" class="">EDDTableFromHttpGet</a> používá soubory Json Lines CSV pro ukládání dat.</p>
<ul>
<li class="">Předpokládají se, že vstupní soubory jsou zakódovány UTF-8. Nicméně vzhledem k \ u <em>dddd</em> formát pro kódování zvláštních znaků (např. \u20ac je kódování znaku Euro) , Máte možnost napsat soubory tak, že obsahují pouze 7-bit ASCII znaky pomocí \u <em>dddd</em> zakódovat všechny znaky nad 127.
 </li>
<li class="">Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Pak to můžete upravit tak, abyste to naladili.</li>
</ul>
<p>První věc, kterou GenerateDatasetsXml dělá pro tento typ datového souboru poté, co odpovíte na otázky, je tisk ncdump-jako struktura výběrového souboru. Takže pokud zadáte pár hloupých odpovědí pro první smyčku přes GenerateDatasets Xml, aspoň uvidíš, jestli ERDDAP™ může přečíst soubor a zjistit, jaké rozměry a proměnné jsou v souboru. Pak můžete dát lepší odpovědi pro druhou smyčku přes GenerateDatasetsXml.</p>
<ul>
<li class="">UPOZORNĚNÍ: Kdy ERDDAP™ čte JSON Linky datové soubory CSV, pokud zjistí chybu na daném řádku (např. nesprávný počet položek) , zaznamenává varovný signál (Špatná linka (án) data&quot; ... se seznamem špatných řádků na následujících řádcích) do <a class="" href="/cs/docs/server-admin/additional-information#log">log.txt soubor</a> a dále čte zbytek datového souboru. Je tedy vaší povinností pravidelně se dívat (nebo k tomu napsat scénář) pro tuto zprávu v deníku. txt tak, že můžete opravit problémy v datových souborech. ERDDAP™ je nastaven tak, aby uživatelé mohli i nadále číst všechny dostupné platné údaje, i když některé řádky souboru mají nedostatky.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefrommultidimncfiles">EDDTablefromMultidimNcFiles<a href="#eddtablefrommultidimncfiles" class="hash-link" aria-label="Přímý odkaz naEDDTablefromMultidimNcFiles" title="Přímý odkaz naEDDTablefromMultidimNcFiles" translate="no">​</a></h3>
<p><a href="#eddtablefrommultidimncfiles" class=""> <strong>EDDTablefromMultidimNcFiles</strong> </a> Údaje z agregátů NetCDF   (V3 nebo v4)   .nc   (nebo <a href="#ncml-files" class=""> .nc ml</a> ) soubory s několika proměnnými, každá s jednou nebo více sdílenými rozměry. Soubory mohou mít proměnné znaku s doplňkovým rozměrem nebo bez něj (například: STRING14) . Vidíš tuhle třídu? <a href="#eddtablefromfiles" class="">EDDTableFromFoles</a> , informace o tom, jak tato třída funguje a jak ji používat.</p>
<ul>
<li class="">Pokud jsou soubory multidimenzionální CF DSG varianty, použijte tento typ souborů místo <a href="#eddtablefromncfiles" class="">EDDTableFromNcCFFiles</a> .
 </li>
<li class="">Pro nové tabulkové soubory dat z .nc soubory, použijte tuto volbu před pokusem o starší <a href="#eddtablefromncfiles" class="">EDDTableFromNcFiles</a> . Některé výhody této třídy jsou:<!-- -->
<ul>
<li class="">Tato třída může číst více proměnných z širší škály struktur souborů. Pokud zadáte rozměryCSV (čárkou oddělený seznam názvů rozměrů) ve generováníDatasets Xml (nebo&lt;rozměryCSV&gt; v datasets.xml informace pro jeden z těchto souborů údajů), pak ERDDAP™ budou číst pouze proměnné ve zdrojových souborech, které používají některé nebo všechny tyto rozměry, plus všechny skalární proměnné. Pokud je rozměr ve skupině, musíte zadat celé jméno, např. &quot; <em>groupName/dimensionName</em> &quot;.</li>
<li class="">Tato třída může často odmítnout soubory velmi rychle, pokud se neshodují s omezeními žádosti. Čtení dat z velkých sbírek tedy bude často mnohem rychlejší.</li>
<li class="">Tato třída zpracovává skutečné proměnné znaku (jiné proměnné než String) Správně.</li>
<li class="">Tato třída může zmenšit String proměnné, když tvůrce nepoužil Netcdf-java writeStrings (což znamená znak #0 označit konec řetězce) .</li>
<li class="">Tato třída je lepší při řešení jednotlivých souborů, které postrádají určité proměnné nebo rozměry.</li>
<li class="">Tato třída může odstranit bloky řádků s chybějícími hodnotami, jak je uvedeno pro <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#_incomplete_multidimensional_array_representation" target="_blank" rel="noopener noreferrer" class="">CF Geometrie diskrétního odběru vzorků (DSG) Nekompletní multidimenzionální soubory Array</a><br>
<!-- --> </li>
</ul>
</li>
<li class="">Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Pak to můžete upravit tak, abyste to naladili.</li>
</ul>
<p>První věc, kterou GenerateDatasetsXml dělá pro tento typ datového souboru poté, co odpovíte na otázky, je tisk ncdump-jako struktura výběrového souboru. Takže pokud zadáte pár hloupých odpovědí pro první smyčku přes GenerateDatasets Xml, aspoň uvidíš, jestli ERDDAP™ může přečíst soubor a zjistit, jaké rozměry a proměnné jsou v souboru. Pak můžete dát lepší odpovědi pro druhou smyčku přes GenerateDatasetsXml.</p>
<p>Skupina... Generovat soubory dat Xml požádá o &quot;Skupinu.&quot; Můžete zadat &quot;&quot; aby hledala všechny skupiny, &quot; <em>některé Skupina</em> &quot;nebo &quot; <em>některéGroup/nějakýSubGroup</em> &quot;prohledat určitou skupinu, nebo &quot; \[ kořen \] &quot;aby hledala jen kořenovou skupinu. Řetězec &quot;Skupina&quot; se stává&lt;skupina &gt; ve datasets.xml Informace pro soubor údajů (i když &quot; \[ kořen \] &quot;se stane&quot;) .</p>
<p>RozměryCSV -- GenerovatNastavení dat Xml požádá o &quot;RozměryCSV&quot; řetězec. Toto je seznam jmen zdrojových jmen sady rozměrů oddělených čárkou. Generovat soubory dat Xml bude číst pouze datové proměnné ve vzorku .nc soubory, které používají některé nebo všechny tyto rozměry (a žádné jiné rozměry) , plus všechny skalární proměnné v souboru, a vytvořit soubor z těchto datových proměnných. Pokud je rozměr ve skupině, musíte zadat celé jméno, např. &quot; <em>groupName/dimensionName</em> &quot;.
Pokud nic nespecifikujete (prázdný řetězec) , GenerátorDatasets Xml bude hledat proměnné s nejvíce rozměry, na teorii, že budou nejzajímavější, ale tam mohou být časy, kdy budete chtít vytvořit soubor z některé jiné skupiny datových proměnných, které používají některé jiné skupiny rozměrů.
Pokud zadáte název rozměru, který neexistuje (např. NO\_MATCH) , ERDDAP™ najde všechny skalární proměnné.
Řetězec &quot;RozměryCSV&quot; se stává&lt;rozměryCSV&gt; v datasets.xml informace pro datový soubor.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="treatdimensionsas">léčbaRozměryAs<a href="#treatdimensionsas" class="hash-link" aria-label="Přímý odkaz naléčbaRozměryAs" title="Přímý odkaz naléčbaRozměryAs" translate="no">​</a></h4>
<p>Je kategorie invalidů .nc soubory (Protože se neřídí pravidly CF) které mají více rozměrů (např. lat, lon, čas) kdy měli použít jen jeden rozměr (např. čas) , například:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    dimensions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        time = UNLIMITED ; // (1437 currently)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        depth = 10;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lat = 1437 ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lon = 1437 ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    variables:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        double time(time) ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        double lat(lat) ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        double lon(lon) ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float temperature(time, depth) ;</span><br></span></code></pre></div></div>
<p>EDDTableFromMultidimNcFiles má speciální funkci pro řešení těchto souborů: pokud přidáte globální atribut &quot;treatDimensionsAs&quot; do souborů globální addAttributes , můžete říct ERDDAP™ k léčbě určitých rozměrů (např. lat a lat) jako by byly jiné dimenze (např. čas) . Hodnota atributu musí být čárkou oddělený seznam, který určuje &quot;od&quot; rozměrů a pak rozměr &quot;do,&quot; např.
<att name="treatDimensionsAs"> jihoameričanky, chvilka, čas </att><br>
<!-- -->Pak ERDDAP™ bude číst soubor, jako by byl:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    dimensions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        time = UNLIMITED ; // (1437 currently)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        depth = 10;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    variables:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        double time(time) ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        double lat(time) ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        double lon(time) ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float temperature(time, depth) ;</span><br></span></code></pre></div></div>
<p>Současná velikost každého z rozměrů v seznamu musí být samozřejmě stejná; ERDDAP™ bude soubor považovat za &quot;špatný soubor.&quot;</p>
<p>Všimněte si, že tyto soubory jsou neplatné, protože se neřídí pravidly CF. Takže i když ERDDAP™ může číst, důrazně doporučujeme, abyste nevytvářeli soubory, jako je tato, protože ostatní softwarové nástroje založené na CF je nebudou moci správně přečíst. Pokud již tyto soubory máte, doporučujeme je co nejdříve nahradit platnými soubory.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromncfiles">EDDTableFromNcFiles<a href="#eddtablefromncfiles" class="hash-link" aria-label="Přímý odkaz naEDDTableFromNcFiles" title="Přímý odkaz naEDDTableFromNcFiles" translate="no">​</a></h3>
<p><a href="#eddtablefromncfiles" class=""> <strong>EDDTableFromNcFiles</strong> </a> Údaje z agregátů NetCDF   (V3 nebo v4)   .nc   (nebo <a href="#ncml-files" class=""> .nc ml</a> ) soubory a <a href="https://github.com/zarr-developers/zarr-python" target="_blank" rel="noopener noreferrer" class="">Zarr</a> soubory (od verze 2.25) s několika proměnnými, každá s jedním společným rozměrem (například čas) nebo více než jeden společný rozměr (například čas, výška (nebo hloubka) , zeměpisná šířka, zeměpisná délka) . Soubory musí mít stejné názvy rozměrů. Zadaný soubor může mít pro každý rozměr více hodnot a hodnoty se mohou lišit v různých zdrojových souborech. Soubory mohou mít proměnné znaku s dodatečným rozměrem (například: STRING14) . Vidíš tuhle třídu? <a href="#eddtablefromfiles" class="">EDDTableFromFoles</a> , informace o tom, jak tato třída funguje a jak ji používat.</p>
<p>Soubory Zarr mají mírně odlišné chování a vyžadují buď souborNameRegex nebo cestuRegex zahrnout &quot;zarr.&quot;</p>
<ul>
<li class="">Pokud .nc Soubory používají jeden z <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Geometrie diskrétního odběru vzorků (DSG) </a> formáty souborů, zkuste použít <a href="#eddtablefromncfiles" class="">EDDTableFromNcCFFiles</a> než zkusím tohle.
 </li>
<li class="">Pro nové tabulkové soubory dat z .nc soubory, zkuste novější <a href="#eddtablefrommultidimncfiles" class="">EDDTablefromMultidimNcFiles</a> Nejdřív.
 </li>
<li class="">Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Pak to můžete upravit tak, abyste to naladili.</li>
</ul>
<p>První věc, kterou GenerateDatasetsXml dělá pro tento typ datového souboru poté, co odpovíte na otázky, je tisk ncdump-jako struktura výběrového souboru. Takže pokud zadáte pár hloupých odpovědí pro první smyčku přes GenerateDatasets Xml, aspoň uvidíš, jestli ERDDAP™ může přečíst soubor a zjistit, jaké rozměry a proměnné jsou v souboru. Pak můžete dát lepší odpovědi pro druhou smyčku přes GenerateDatasetsXml.</p>
<p>RozměryCSV -- GenerovatNastavení dat Xml požádá o &quot;RozměryCSV&quot; řetězec. Toto je seznam jmen zdrojových jmen sady rozměrů oddělených čárkou. Generovat soubory dat Xml najde datové proměnné v .nc soubory, které používají některé nebo všechny tyto rozměry, plus všechny skalární proměnné, a aby data z těchto datových proměnných. Pokud nic nespecifikujete (prázdný řetězec) , GenerátorDatasets Xml bude hledat proměnné s nejvíce rozměry, na teorii, že budou nejzajímavější, ale tam mohou být časy, kdy budete chtít vytvořit soubor z některé jiné skupiny datových proměnných, které používají některé jiné skupiny rozměrů.</p>
<ul>
<li class="">1D Příklad: 1D soubory jsou poněkud odlišné od 2D, 3D, 4D, ... souborů.<!-- -->
<ul>
<li class="">Možná máte sadu .nc datové soubory, kde každý soubor má měsíční hodnotu dat z jedné unášené bóje.</li>
<li class="">Každý soubor bude mít 1 rozměr, například čas (velikost = \[ mnoho \] ) .</li>
<li class="">Každý soubor bude mít jednu nebo více 1D proměnných, které používají tento rozměr, například čas, zeměpisná délka, zeměpisná šířka, teplota vzduchu, ....</li>
<li class="">Každý soubor může mít například 2D proměnné znaků s rozměry (Time,nCharacters) .
 </li>
</ul>
</li>
<li class="">2D příklad:<!-- -->
<ul>
<li class="">Možná máte sadu .nc datové soubory, kde každý soubor má měsíční hodnotu dat z jedné unášené bóje.</li>
<li class="">Každý soubor bude mít 2 rozměry, například čas (velikost = \[ mnoho \] ) a ID (velikost = 1) .</li>
<li class="">Každý soubor bude mít 2 1D proměnné se stejnými názvy jako rozměry a pomocí stejného rozměru jména, například čas (čas) , id (id) . Tyto 1D proměnné by měly být zařazeny do seznamu&lt; dataVariable &gt; je v XML souboru.</li>
<li class="">Každý soubor bude mít jednu nebo více 2D proměnných, například délku, šířku, teplotu vzduchu, teplotu vody, ...</li>
<li class="">Každý soubor může mít například proměnné 3D znaku s rozměry (Čas, id,nCharacters) .
 </li>
</ul>
</li>
<li class="">3D příklad:<!-- -->
<ul>
<li class="">Možná máte sadu .nc datové soubory, kde každý soubor má měsíční hodnotu dat z jedné stacionární bóje.</li>
<li class="">Každý soubor bude mít 3 rozměry, například čas (velikost = \[ mnoho \] ) , lat (velikost = 1) , av (velikost = 1) .</li>
<li class="">Každý soubor bude mít 3 1D proměnné se stejnými názvy jako rozměry a pomocí stejného rozměru jména, například čas (čas) , lat (lat) , (ní) . Tyto 1D proměnné by měly být zařazeny do seznamu&lt; dataVariable &gt; je v XML souboru.</li>
<li class="">Každý soubor bude mít jednu nebo více 3D proměnných, například teplotu vzduchu, teplotu vody, ...</li>
<li class="">Každý soubor může mít například 4D proměnné znaků s rozměry (Time,lat,lon,nCharakterers) .</li>
<li class="">Jméno souboru může mít jméno bóje uvnitř složky.
 </li>
</ul>
</li>
<li class="">Příklad 4D:<!-- -->
<ul>
<li class="">Možná máte sadu .nc datové soubory, kde každý soubor má měsíční hodnotu dat z jedné stanice. V každém okamžiku, stanice bere údaje v sérii hlubin.</li>
<li class="">Každý soubor bude mít 4 rozměry, například čas (velikost = \[ mnoho \] ) , hloubka (velikost = \[ mnoho \] ) , lat (velikost = 1) , av (velikost = 1) .</li>
<li class="">Každý soubor bude mít 4 1D proměnné se stejnými názvy jako rozměry a pomocí stejného rozměru jména, například čas (čas) , hloubka (hloubka) , lat (lat) , (ní) . Tyto 1D proměnné by měly být zařazeny do seznamu&lt; dataVariable &gt; je v XML souboru.</li>
<li class="">Každý soubor bude mít jednu nebo více 4D proměnných, například teplotu vzduchu, teplotu vody, ...</li>
<li class="">Každý soubor může mít například 5D proměnné znaků s rozměry (čas, hloubka, la, la, la, characters) .</li>
<li class="">Jméno souboru může mít jméno bóje uvnitř složky.
 </li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromnccffiles">EDDTableFromNcCFFiles<a href="#eddtablefromnccffiles" class="hash-link" aria-label="Přímý odkaz naEDDTableFromNcCFFiles" title="Přímý odkaz naEDDTableFromNcCFFiles" translate="no">​</a></h3>
<p><a href="#eddtablefromnccffiles" class=""> <strong>EDDTableFromNcCFFiles</strong> </a> Údaje o agregátech NetCDF   (V3 nebo v4)   .nc   (nebo <a href="#ncml-files" class=""> .nc ml</a> ) soubory, které používají jeden ze formátů souborů uvedených v <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Geometrie diskrétního odběru vzorků (DSG) </a> Konvence. Vidíš tuhle třídu? <a href="#eddtablefromfiles" class="">EDDTableFromFoles</a> , informace o tom, jak tato třída funguje a jak ji používat.</p>
<p>Pro soubory používající jednu z multidimenzionálních CF DSG variant použijte <a href="#eddtablefrommultidimncfiles" class="">EDDTablefromMultidimNcFiles</a> Místo toho.</p>
<p>Konvence CF DSG definují desítky formátů souborů a zahrnují četné drobné varianty. Tato třída se zabývá všemi variacemi, o kterých víme, ale možná jsme jeden propásli. (nebo více) . Takže pokud tato třída nemůže číst data z vašich CF DSG souborů, prosím. <a class="" href="/cs/docs/intro#support">požádat o dodatečnou podporu</a> .</p>
<p>Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Pak to můžete upravit tak, abyste to naladili.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromnccsvfiles">EDDTableFromNccsvFiles<a href="#eddtablefromnccsvfiles" class="hash-link" aria-label="Přímý odkaz naEDDTableFromNccsvFiles" title="Přímý odkaz naEDDTableFromNccsvFiles" translate="no">​</a></h3>
<p><a href="#eddtablefromnccsvfiles" class=""> <strong>EDDTableFromNccsvFiles</strong> </a> Údaje z agregátů <a class="" href="/cs/docs/user/nccsv-1.00">NCCSV</a> ASCII .csv soubory. Vidíš tuhle třídu? <a href="#eddtablefromfiles" class="">EDDTableFromFoles</a> , informace o tom, jak tato třída funguje a jak ji používat.</p>
<ul>
<li class="">Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Pak to můžete upravit tak, abyste to naladili.</li>
</ul>
<p>První věc, kterou GenerateDatasetsXml dělá pro tento typ datového souboru poté, co odpovíte na otázky, je tisk ncdump-jako struktura výběrového souboru. Takže pokud zadáte pár hloupých odpovědí pro první smyčku přes GenerateDatasets Xml, aspoň uvidíš, jestli ERDDAP™ může přečíst soubor a zjistit, jaké rozměry a proměnné jsou v souboru. Pak můžete dát lepší odpovědi pro druhou smyčku přes GenerateDatasetsXml.</p>
<ul>
<li class="">UPOZORNĚNÍ: Kdy ERDDAP™ čte NCCSV datové soubory, pokud na daném řádku najde chybu (např. nesprávný počet položek) , zaznamenává varovný signál (Špatná linka (án) data&quot; ... se seznamem špatných řádků na následujících řádcích) do <a class="" href="/cs/docs/server-admin/additional-information#log">log.txt soubor</a> a dále čte zbytek datového souboru. Je tedy vaší povinností pravidelně se dívat (nebo k tomu napsat scénář) pro tuto zprávu v deníku. txt tak, že můžete opravit problémy v datových souborech. ERDDAP™ je nastaven tak, aby uživatelé mohli i nadále číst všechny dostupné platné údaje, i když některé řádky souboru mají nedostatky.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromnos">EDDTableFromNOS<a href="#eddtablefromnos" class="hash-link" aria-label="Přímý odkaz naEDDTableFromNOS" title="Přímý odkaz naEDDTableFromNOS" translate="no">​</a></h3>
<p><a href="#eddtablefromnos" class=""> <strong>EDDTableFromNOS</strong> </a>   (ODCHYLKY) zpracovává údaje od NOAA   <a href="https://opendap.co-ops.nos.noaa.gov/axis/" target="_blank" rel="noopener noreferrer" class="">NOS</a> zdroj, který používá <a href="https://www.w3schools.com/xml/xml_soap.asp" target="_blank" rel="noopener noreferrer" class=""> SOAP+XML </a> pro žádosti a odpovědi. Je to velmi specifické pro NOAA XML. Viz vzorek EDDTableFromNOS v souborech dat2.xml.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromobis">EDDTableFromOBIS<a href="#eddtablefromobis" class="hash-link" aria-label="Přímý odkaz naEDDTableFromOBIS" title="Přímý odkaz naEDDTableFromOBIS" translate="no">​</a></h3>
<p><a href="#eddtablefromobis" class=""> <strong>EDDTableFromOBIS</strong> </a> zpracovává data z Ocean Biogeographic Information System (OBIS) server (bylhttp://<a href="http://www.iobis.org" target="_blank" rel="noopener noreferrer" class="">www.iobis.org</a> ) . Je možné, že již neexistují žádné aktivní servery, které tento zastaralý typ OBIS serveru používají.</p>
<ul>
<li class="">OBIS servery očekávají požadavek XML a vrací XML odpověď.</li>
<li class="">Protože všechny OBIS servery slouží stejným způsobem. (bylhttp://iobis.org/tech/provider/questions) , Nemusíte specifikovat moc, aby nastavení OBIS data v ERDDAP .</li>
<li class="">Musíte zahrnout &quot; creator\_email &quot; atribut v globální addAttributes Vzhledem k tomu, že se tato informace používá v rámci licence. Vhodná e-mailová adresa lze nalézt čtením XML odezvy ze zdrojeURL.</li>
<li class="">Můžete, ale nemusíte být schopni získat globální atribut [&lt; subsetVariables &gt;] (#subsetvariables) pracovat s daným OBIS serverem. Pokud to zkusíte, zkuste jednu proměnnou. (například vědecký název nebo genus) .</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromobis-skeleton-xml">EDDTableFromOBIS kostra XML<a href="#eddtablefromobis-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDTableFromOBIS kostra XML" title="Přímý odkaz naEDDTableFromOBIS kostra XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromOBIS&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->      &lt;sourceCode&gt;...&lt;/sourceCode&gt;<br>
<!-- -->        &lt;!-- If you read the XML response from the sourceUrl, the<br>
<!-- -->        source code (for example, GHMP) is the value from one of the<br>
<!-- -->        &lt;resource&gt;&lt;code&gt; tags. --&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;-- All ...SourceMinimum and Maximum tags are OPTIONAL --&gt;<br>
<!-- -->      &lt;longitudeSourceMinimum&gt;...&lt;/longitudeSourceMinimum&gt;<br>
<!-- -->      &lt;longitudeSourceMaximum&gt;...&lt;/longitudeSourceMaximum&gt;<br>
<!-- -->      &lt;latitudeSourceMinimum&gt;...&lt;/latitudeSourceMinimum&gt;<br>
<!-- -->      &lt;latitudeSourceMaximum&gt;...&lt;/latitudeSourceMaximum&gt;<br>
<!-- -->      &lt;altitudeSourceMinimum&gt;...&lt;/altitudeSourceMinimum&gt;<br>
<!-- -->      &lt;altitudeSourceMaximum&gt;...&lt;/altitudeSourceMaximum&gt;<br>
<!-- -->      &lt;-- For timeSource... tags, use yyyy-MM-dd&#x27;T&#x27;HH:mm<!-- -->:ssZ<!-- --> format. --&gt;<br>
<!-- -->      &lt;timeSourceMinimum&gt;...&lt;/timeSourceMinimum&gt;<br>
<!-- -->      &lt;timeSourceMaximum&gt;...&lt;/timeSourceMaximum&gt;<br>
<!-- -->      <a href="#sourceneedsexpandedfp_eq" class="">&lt;sourceNeedsExpandedFP\_EQ&gt;</a>true(default)|false&lt;/sourceNeedsExpandedFP\_EQ&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1.  This MUST include<br>
<!-- -->        &quot;creator\_email&quot; --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromparquetfiles">EDDTableFromParquetFiles<a href="#eddtablefromparquetfiles" class="hash-link" aria-label="Přímý odkaz naEDDTableFromParquetFiles" title="Přímý odkaz naEDDTableFromParquetFiles" translate="no">​</a></h3>
<p><a href="#eddtablefromparquetfiles" class=""> <strong>EDDTableFromParquetFiles</strong> </a> zpracovává údaje od <a href="https://parquet.apache.org/" target="_blank" rel="noopener noreferrer" class="">Parket</a> . Vidíš tuhle třídu? <a href="#eddtablefromfiles" class="">EDDTableFromFoles</a> , informace o tom, jak tato třída funguje a jak ji používat.</p>
<ul>
<li class="">Parket je navržen tak, aby komprimoval velmi efektivně, takže vám může dát menší velikost souborů než jiné formáty.</li>
<li class="">Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Pak to můžete upravit tak, abyste to naladili.</li>
<li class="">UPOZORNĚNÍ: Kdy ERDDAP™ čte datové soubory Parquet, pokud na daném řádku najde chybu (např. nesprávný počet položek) , zaznamenává varovný signál (Špatná linka (án) data&quot; ... se seznamem špatných řádků na následujících řádcích) do <a class="" href="/cs/docs/server-admin/additional-information#log">log.txt soubor</a> a dále čte zbytek datového souboru. Je tedy vaší povinností pravidelně se dívat (nebo k tomu napsat scénář) pro tuto zprávu v deníku. txt tak, že můžete opravit problémy v datových souborech. ERDDAP™ je nastaven tak, aby uživatelé mohli i nadále číst všechny dostupné platné údaje, i když některé řádky souboru mají nedostatky.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromsos">EDDTableFrom SOS<a href="#eddtablefromsos" class="hash-link" aria-label="Přímý odkaz naEDDTableFrom SOS" title="Přímý odkaz naEDDTableFrom SOS" translate="no">​</a></h3>
<p><a href="#eddtablefromsos" class=""> **EDDTableFrom SOS ** </a> zpracovává data ze služby sledování senzorů (SWE/ <a href="https://www.ogc.org/standards/sos" target="_blank" rel="noopener noreferrer" class=""> SOS </a> ) server.</p>
<ul>
<li class="">Tento typ datového souboru agreguje údaje ze skupiny stanic, které jsou všechny obslouženy jednou SOS server.</li>
<li class="">Všechny stanice slouží stejné sadě proměnných (i když zdroj pro každou stanici nemusí sloužit všem proměnným) .</li>
<li class="">SOS servery očekávají požadavek XML a vrací XML odpověď.</li>
<li class="">Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Pak to můžete upravit tak, abyste to naladili. Není snadné vytvořit soubor XML pro SOS Údaje ručně. Chcete-li najít potřebné informace, musíte navštívit sourceUrl +&quot;? služba= SOS &amp; Žádost= GetCapabilities &quot;v prohlížeči; podívejte se na XML; ručně vyžádejte GetObservation a podívejte se na XML odpověď na žádost.</li>
<li class="">S příležitostným přidáním nových typů SOS servery a změny starých serverů, je stále těžší pro ERDDAP™ automaticky detekovat typ serveru z odpovědí serveru. Použití&lt;sosServerType&gt; (s hodnotou IOOS\_NDBC, IOOS\_NOS, OOSTethys , nebo KDO) je nyní STRONGLIE DOPORUČUJE. Pokud máte problémy s jakýmkoliv datovým souborem tohoto typu, zkuste znovu spustit GenerátorDatasets Xml pro SOS server. Generovat Datové soubory Xml vám umožní vyzkoušet různé&lt;sosServerType&gt; možnosti, dokud nenajdete tu správnou pro daný server.</li>
<li class="">SOS přehled:</li>
<li class="">SWE (Povolit web senzoru) a SOS   (Služba sledování senzorů) jsou <a href="https://www.ogc.org/standards" target="_blank" rel="noopener noreferrer" class="">Standardy OpenGIS®</a> . Tato webová stránka má standardní dokumenty.</li>
<li class="">The OGC Webové služby Společné specifikace ver 1.1.0 ( OGC 06-121r3) pokrývá výstavbu dotazů GET a POST (viz bod 7.2.3 a bod 9) .</li>
<li class="">Pokud jste poslat getKapacity xml žádost na SOS server ( sourceUrl +&quot;?service= SOS &amp; Žádost= GetCapabilities &quot;) , dostanete xml výsledek se seznam stanic a pozorované Vlastnosti, které mají data.</li>
<li class="">ObservedProperty je formální URI odkaz na vlastnost. Například urn:ogc<!-- -->:fenom<!-- -->én:longitude<!-- -->:wgs84<!-- --> nebohttps://mmisw.org/ont/cf/parameter/sea\_water\_temperature</li>
<li class="">Pozorovaná vlastnost není proměnná.</li>
<li class="">Více než jedna proměnná může mít stejný pozorovaný Majetek (například uvnitřTempu a vně Teplota by mohla pozorovat oba Majetekhttps://mmisw.org/ont/cf/parameter/air\_temperature) .</li>
<li class="">Pokud pošlete GetObservation xml žádost na SOS server, dostanete xml výsledek s popisy jmen polí v odpovědi, jednotky pole, a data. Název pole bude zahrnovat délku, zeměpisnou šířku, hloubku (Možná.) A čas.</li>
<li class="">Každý dataVariable pro EDDTableFrom SOS musí obsahovat atribut &quot;observedProperty,&quot; který identifikuje observedProperty, který musí být vyžádán ze serveru pro získání této proměnné. Často, několik dataVariable s bude vyjmenována stejná směs ObservedProperty.</li>
<li class="">DataType pro každý dataVariable server nemusí být specifikován. Pokud ano, musíte se podívat na odpovědi XML dat ze serveru a přiřadit příslušné [&lt;dataType&gt;s] (#datatyp) v ERDDAP™ Soubor údajů dataVariable definice.</li>
<li class="">(V době psaní) některé SOS servery reagují na GetObservation požadavky pro více než jeden pozorovaný Vlastnost tím, že jen vrací výsledky pro první z sledovanýchProperties. (Žádná chybová zpráva!) Viz požadavek parametru konstruktoru Sledoval jsem vlastnosti separátně.</li>
<li class="">EDDTableFrom SOS automaticky přidává<!-- -->
<blockquote>
<p><att name="[subsetVariables](#subsetvariables)">station\_id, longitude, latitude</att><br>
<!-- -->globální atributy datového souboru při vytváření datového souboru.</p>
</blockquote>
</li>
<li class="">SOS servery obvykle expresní <a href="#units" class="">jednotky</a> s <a href="https://unitsofmeasure.org/ucum.html" target="_blank" rel="noopener noreferrer" class="">UCUM</a> systém. Většina ERDDAP™ servery expresní jednotky s <a href="https://www.unidata.ucar.edu/software/udunits/" target="_blank" rel="noopener noreferrer" class=""> UDUNITS </a> systém. Pokud potřebujete převést mezi oběma systémy, můžete použít <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/units.html" target="_blank" rel="noopener noreferrer" class=""> ERDDAP &#x27;s webovou službou převést UCUM jednotky na / z UDUNITS </a> .</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromsos-skeleton-xml">EDDTableFrom SOS kostra XML<a href="#eddtablefromsos-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDTableFrom SOS kostra XML" title="Přímý odkaz naEDDTableFrom SOS kostra XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableFromSOS&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#sourceurl" class="">&lt;sourceUrl&gt;</a>...&lt;/sourceUrl&gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;sosServerType&gt;...&lt;/sosServerType&gt; &lt;!-- 0 or 1, but STRONGLY<br>
<!-- -->        RECOMMENDED. This lets you specify the type of SOS server<br>
<!-- -->        (so ERDDAP™ doesn&#x27;t have to figure it out).<br>
<!-- -->        Valid values are: IOOS\_NDBC, IOOS\_NOS, OOSTethys, and WHOI. --&gt;<br>
<!-- -->      &lt;responseFormat&gt;...&lt;/responseFormat&gt; &lt;!-- 0 or 1. Use this only if<br>
<!-- -->        you need to override the default responseFormat for the<br>
<!-- -->        specified sosServerType.  --&gt;<br>
<!-- -->      &lt;stationIdSourceName&gt;...&lt;/stationIdSourceName&gt; &lt;!-- 0 or 1.<br>
<!-- -->        Default=&quot;station\_id&quot;. --&gt;<br>
<!-- -->      &lt;longitudeSourceName&gt;...&lt;/longitudeSourceName&gt;<br>
<!-- -->      &lt;latitudeSourceName&gt;...&lt;/latitudeSourceName&gt;<br>
<!-- -->      &lt;altitudeSourceName&gt;...&lt;/altitudeSourceName&gt;<br>
<!-- -->      &lt;altitudeSourceMinimum&gt;...&lt;/altitudeSourceMinimum&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;altitudeSourceMaximum&gt;...&lt;/altitudeSourceMaximum&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#altitudemeterspersourceunit" class="">&lt;altitudeMetersPerSourceUnit&gt;</a>...&lt;/altitudeMetersPerSourceUnit&gt;<br>
<!-- -->      &lt;timeSourceName&gt;...&lt;/timeSourceName&gt;<br>
<!-- -->      &lt;timeSourceFormat&gt;...&lt;/timeSourceFormat&gt;<br>
<!-- -->        &lt;!-- timeSourceFormat MUST be either<br>
<!-- -->        \* For numeric data: a <a href="https://www.unidata.ucar.edu/software/udunits/" target="_blank" rel="noopener noreferrer" class="">UDUnits</a>\-compatible string (with the format<br>
<!-- -->          &quot;<em>units</em> since <em>baseTime</em>&quot;) describing how to interpret<br>
<!-- -->          source time values (for example,<br>
<!-- -->          &quot;seconds since 1970-01-01T00:00:00Z&quot;), where the<br>
<!-- -->          base time is an ISO 8601:2004(E) formatted date time<br>
<!-- -->          string (yyyy-MM-dd&#x27;T&#x27;HH:mm<!-- -->:ssZ<!-- -->).<br>
<!-- -->        \* For String date time data: specify<br>
<!-- -->          <a href="#string-time-units" class="">units suitable for string times</a><br>
<!-- -->          describing how to interpret string times  (for example, the<br>
<!-- -->          ISO8601TZ\_FORMAT &quot;yyyy-MM-dd&#x27;T&#x27;HH:mm<!-- -->:ssZ<!-- -->&quot;). --&gt;<br>
<!-- -->      &lt;observationOfferingIdRegex&gt;...&lt;/observationOfferingIdRegex&gt;<br>
<!-- -->        &lt;!-- Only observationOfferings with IDs (usually the station names)<br>
<!-- -->        which match this <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">regular expression</a> (<a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">tutorial</a>) will be included<br>
<!-- -->        in the dataset (&quot;.+&quot; will catch all station names). --&gt;<br>
<!-- -->      &lt;requestObservedPropertiesSeparately&gt;true|false(default)<br>
<!-- -->        &lt;/requestObservedPropertiesSeparately&gt;<br>
<!-- -->      <a href="#sourceneedsexpandedfp_eq" class="">&lt;sourceNeedsExpandedFP\_EQ&gt;</a>true(default)|false&lt;/sourceNeedsExpandedFP\_EQ&gt;<br>
<!-- -->      <a href="#global-attributes" class="">&lt;addAttributes&gt;</a>...&lt;/addAttributes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#datavariable" class="">&lt;dataVariable&gt;</a>...&lt;/dataVariable&gt; &lt;!-- 1 or more.<br>
<!-- -->        \* Each dataVariable MUST include the <a href="#datatype" class="">dataType</a> tag.<br>
<!-- -->        \* Each dataVariable MUST include the observedProperty attribute.<br>
<!-- -->        \* For IOOS SOS servers, \<em>every\</em> variable returned in the text/csv<br>
<!-- -->          response MUST be included in this ERDDAP™ dataset definition. --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromthreddsfiles">EDDTableFromThreddsFiles<a href="#eddtablefromthreddsfiles" class="hash-link" aria-label="Přímý odkaz naEDDTableFromThreddsFiles" title="Přímý odkaz naEDDTableFromThreddsFiles" translate="no">​</a></h3>
<p><a href="#eddtablefromthreddsfiles" class=""> <strong>EDDTableFromThreddsFiles</strong> </a>   (odprekovaný) agreguje datové soubory s několika proměnnými, každý s jednou nebo více sdílenými rozměry (například čas, výška (nebo hloubka) , zeměpisná šířka, zeměpisná délka) , a sloužil <a href="https://www.unidata.ucar.edu/software/tds/" target="_blank" rel="noopener noreferrer" class="">THREDDS OPeNDAP server</a> .</p>
<ul>
<li class="">Tento datový soubor je <strong>ODCHYLKY</strong> . Nejnovější a obecnější řešení je použít <a href="#cachefromurl" class="">cache Možnost FromUrl pro EDDTable FromFiles</a>   (nebo varianta) , který tvoří místní kopii vzdálených souborů a slouží data z místních souborů. The&lt;cacheFromUrl&gt; lze použít s libovolným typem tabulkového datového souboru z libovolného webového zdroje, který publikuje adresářový seznam souborů. **<br>
<!-- -->Jestli to z nějakého důvodu nezvládneš, napiš Chrisovi. John at noaa.gov .
Pokud před rokem 2020 neexistují žádné stížnosti, může být tento typ datového souboru odstraněn. **</li>
<li class="">Důrazně doporučujeme použít <a href="#generatedatasetsxml" class="">Generovat soubory dat Xml program</a> vytvořit hrubý návrh datasets.xml kus pro tento datový soubor. Pak to můžete upravit tak, abyste to naladili.</li>
<li class="">Ve většině případů má každý soubor více hodnot pro levý (první) rozměr, například čas.</li>
<li class="">Soubory často (Ale nemusíš.) mají jedinou hodnotu pro ostatní rozměry (například výška (nebo hloubka) , zeměpisná šířka, zeměpisná délka) .</li>
<li class="">Soubory mohou mít proměnné znaku s dodatečným rozměrem (například nCharacters) .</li>
<li class="">Servery THREDDS lze v URL identifikovat pomocí &quot;/thredds/.&quot; Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    https://www.ncei.noaa.gov/thredds/catalog/uv/6h\\_strs\\_agg/catalog.html</span><br></span></code></pre></div></div>
<ul>
<li class="">Servery THREDDS mají katalogy na různých místech. Tato třída VYBAVÍ, že URL obsahuje &quot;/thredds/catalog/.&quot; Tuto proměnnou můžete obvykle najít spuštěním v prohlížeči v kořenovém katalogu a poté kliknutím na požadovaný podkatalog.</li>
<li class="">Tato třída čte katalog.xml soubory podávané THREDDS se seznamy&lt;katalogRefs&gt; (odkazy na další katalog.xml podsoubory) a&lt;Databáze &gt; (datové soubory) .</li>
<li class="">The&lt;fileDir&gt; nastavení je ignorováno. Protože tato třída stáhne a vytvoří místní kopii každého vzdáleného datového souboru, ERDDAP™ nutí soubor Dir to be <em>velkýRodič rodičů</em> /kopie/ * datasetID * /.</li>
<li class="">Pro&lt; sourceUrl &gt; použijte URL souboru catalog.xml pro soubor dat v THREDDS serveru, například: pro tuto URL, která může být použita ve webovém prohlížeči,
<a href="https://data.nodc.noaa.gov/thredds/catalog/nmsp/wcos/catalog.html" target="_blank" rel="noopener noreferrer" class="">https://data.nodc.noaa.gov/thredds/catalog/nmsp/wcos/catalog.html</a>  \[ 2020-10-21 Tento server již není spolehlivě dostupný. \] ,
podání&lt; sourceUrl &gt;<a href="https://data.nodc.noaa.gov/thredds/catalog/nmsp/wcos/catalog.xml&amp;lt;/" target="_blank" rel="noopener noreferrer" class="">https://data.nodc.noaa.gov/thredds/catalog/nmsp/wcos/catalog.xml&amp;lt;/</a> sourceUrl &gt;
(Ale dejte to na jednu čáru.) .</li>
<li class="">Vzhledem k tomu, že tato třída vždy stáhne a vytvoří místní kopii každého vzdáleného datového souboru, nikdy byste neměli zabalit tento soubor do <a href="#eddtablecopy" class="">EDDtableCopy</a> .</li>
<li class="">Tento typ datového souboru podporuje VOLITELNÝ, zřídka používaný speciální štítek,&lt;SpecialMode&gt; <em>režim</em> &lt;/specialMode&gt;, které lze použít k určení, že by měla být použita speciální, hard-kódovaná pravidla k určení, které soubory by měly být staženy ze serveru. V současné době jediný platný <em>režim</em> je SAMOS, který se používá s datovými soubory zhttps://tds.coaps.fsu.edu/thredds/catalog/samosstáhnout pouze soubory s číslem poslední verze.</li>
<li class="">Vidíš tuhle třídu? <a href="#eddtablefromfiles" class="">EDDTableFromFoles</a> , informace o tom, jak tato třída funguje a jak ji používat.</li>
<li class="">Viz příklady 1D, 2D, 3D a 4D <a href="#eddtablefromncfiles" class="">EDDTableFromNcFiles</a> .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablefromwfsfiles">EDDTableFrom WFS Soubory<a href="#eddtablefromwfsfiles" class="hash-link" aria-label="Přímý odkaz naEDDTableFrom WFS Soubory" title="Přímý odkaz naEDDTableFrom WFS Soubory" translate="no">​</a></h3>
<p><a href="#eddtablefromwfsfiles" class=""> <strong>EDDTableFrom WFS Soubory</strong> </a>   (ODCHYLKY) vytvoří místní kopii všech údajů z ArcGIS MapServer WFS server, takže data pak mohou být rychle re-served ERDDAP™ uživatelé.</p>
<ul>
<li class="">Musíte zadat speciálně formátovaný sourceUrl globální atribut ERDDAP™ jak požádat o informace o funkcích ze serveru. Použijte tento příklad jako šablonu:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;sourceUrl&quot;&gt;http://*someUrl/dir1/dir2*/MapServer/WFSServer?request=GetFeature&amp;amp;service=WFS&amp;amp;typename=aasg:BoreholeTemperature&amp;amp;format=&amp;quot;text/xml;%20subType=gml/3.1.1/profiles/gmlsf/1.0.0/0&quot;&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>(ale dát to všechno na jeden řádek)</p>
<ul>
<li class="">Musíte přidat speciální globální atribut říct ERDDAP™ jak identifikovat názvy částí dat, které by měly být staženy. To bude pravděpodobně fungovat pro všechny EDDTableFrom WFS Soubory souborů:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;rowElementXPath&quot;&gt;/wfs:FeatureCollection/gml:featureMember&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Vzhledem k tomu, že tato třída vždy stáhne a vytvoří místní kopii každého vzdáleného datového souboru, nikdy byste neměli zabalit tento soubor do <a href="#eddtablecopy" class="">EDDtableCopy</a> .</li>
<li class="">Vidíš tuhle třídu? <a href="#eddtablefromfiles" class="">EDDTableFromFoles</a> , pro další informace o tom, jak tato třída funguje a jak ji používat.
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtableaggregaterows">EDDTableAggregateRows<a href="#eddtableaggregaterows" class="hash-link" aria-label="Přímý odkaz naEDDTableAggregateRows" title="Přímý odkaz naEDDTableAggregateRows" translate="no">​</a></h3>
<p><a href="#eddtableaggregaterows" class=""> <strong>EDDTableAggregateRows</strong> </a> může vytvořit soubor údajů EDDTable ze skupiny souborů &quot;dítěte&quot; EdDTable.</p>
<ul>
<li class="">Zde jsou některé použití pro EDDTableAggregateRows:<!-- -->
<ul>
<li class="">Mohli byste vytvořit soubor EDDTableAggregateRows ze dvou různých typů souborů nebo zdrojů dat, například soubor dat s daty až do konce posledního měsíce uložené v .nc CF soubory a datový soubor s daty za běžný měsíc uloženými v relační databázi.</li>
<li class="">Mohli byste vytvořit EDDTableAggregateRows soubor pro řešení změny zdrojových souborů (například změna časového formátu nebo změna názvu proměnné nebo data Typ/ scale\_factor / add\_offset změna) . V tomto případě by jedno dítě získalo data ze souborů provedených před změnou a druhé dítě by získalo data ze souborů provedených po změně. Toto použití EDDTableAggregateRows je alternativou k použití <a href="#ncml-files" class="">NcML</a> nebo <a href="#netcdf-operators-nco" class=""> NCO </a> . Pokud není v názvu souboru rozlišovací funkce (takže můžete použít&lt;fileNameRegex&gt; k určení, který soubor patří do jakého dětského souboru), budete pravděpodobně muset uložit soubory pro dva dětské soubory do různých adresářů.</li>
<li class="">Mohli byste vytvořit soubor EDDTableAggregateRows, který má sdílenou podmnožinu proměnných jedné nebo více podobných, ale různých souborů souborů, například soubor údajů, který vytváří soubor profilů z kombinace datového souboru profilu, datového souboru TimeSeriesProfile a datového souboru TrajectoryProfile (které mají některé různé proměnné a některé proměnné společné -- v tom případě budete muset vytvořit speciální varianty pro dětské soubory, s pouze in-common proměnné) .</li>
<li class="">Můžete mít několik samostatných souborů, každý se stejným typem dat, ale z jiné stanice. Mohli byste nechat tyto soubory nedotčené, ale také vytvořit soubor EDDTableAggregateRows, který má data ze všech stanic -- každý soubor údajů o dětech může být jednoduchý <a href="#eddfromerddap" class="">EDDTableFromErddap</a> , který ukazuje na jeden ze stávajících datových souborů stanic. Pokud to uděláte, dejte každému z EDDTableFromErddap soubory jiné datasetID než původní samostatné datové soubory, např. přidáváním &quot;Child&quot; originálu datasetID .</li>
</ul>
</li>
<li class="">Každé dítě&lt;Soubor údajů&gt; musí být úplným datovým souborem, jako by se jednalo o samostatný datový soubor. Každý musí mít stejný. <a href="#datavariable" class=""> dataVariable án</a> , ve stejném pořadí , se stejným <a href="#destinationname" class=""> destinationName án</a> , <a href="#datatype" class="">údaje Typy</a> , <a href="#missing_value" class=""> missing\_value án</a> , <a href="#missing_value" class="">\_FillValues</a> a <a href="#units" class="">jednotky</a> . Metadata pro každou proměnnou pro soubor EDDTableAggregateRows pocházejí z proměnných v prvním dětském souboru, ale EDDTableAggregateRows budou aktualizovat <a href="#actual_range" class=""> actual\_range </a> Metadata mají být skutečným rozsahem pro všechny děti.</li>
<li class="">Doporučení: Získat každý soubor údajů o dětech jako samostatné soubory údajů. Pak se pokuste vytvořit soubor EDDTableAggregateRows řezáním a lepením datasets.xml kus pro každého do nového EDDTableAggregate Soubor řádků.</li>
<li class="">Nastavení dat Default Sort Order -- Pořadí dětských souborů stanoví celkový standard pořadí výsledků. Uživatelé samozřejmě mohou požádat o jiný druh objednávky pro daný soubor výsledků zadáním &amp; orderBy  (&quot; <em>čárka oddělený seznam proměnných</em> &quot;) až do konce jejich dotazu.</li>
<li class="">Zdroj <a href="#global-attributes" class="">globální Atributy</a> pro EDDTableAggregateRows jsou kombinované globální atributy z prvního dětského souboru. EDDTableAggregate Řádky mohou mít globální&lt; addAttributes &gt; poskytovat další globální atributy nebo přepsat zdrojové globální atributy.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtableaggregaterows-skeleton-xml">EDDTableAggregate Řádky kostry XML<a href="#eddtableaggregaterows-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDTableAggregate Řádky kostry XML" title="Přímý odkaz naEDDTableAggregate Řádky kostry XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableAggregateRows&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviafiles" class="">&lt;accessibleViaFiles&gt;</a>true|false(default)&lt;/accessibleViaFiles&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#updateeverynmillis" class="">&lt;updateEveryNMillis&gt;</a>...&lt;/updateEveryNMillis&gt; &lt;!-- 0 or 1. --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- 1 or more --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablecopy">EDDtableCopy<a href="#eddtablecopy" class="hash-link" aria-label="Přímý odkaz naEDDtableCopy" title="Přímý odkaz naEDDtableCopy" translate="no">​</a></h3>
<p><a href="#eddtablecopy" class=""> <strong>EDDtableCopy</strong> </a> může vytvořit místní kopii mnoha typů souborů údajů EDDTable a pak rychle re-serve dat z místní kopie.</p>
<ul>
<li class="">EDDtableCopy (a pro údaje o souřadnicích, <a href="#eddgridcopy" class=""> EDDGrid Kopírovat</a> ) je velmi snadné použití a velmi efektivní <strong>řešení některých největších problémů se službou dat ze vzdálených zdrojů dat:</strong>
<ul>
<li class="">Přístup k datům ze vzdáleného zdroje dat může být pomalý.<!-- -->
<ul>
<li class="">Mohou být pomalé, protože jsou neodmyslitelně pomalé (například neefektivní typ serveru) ,</li>
<li class="">protože jsou přemoženi příliš mnoha žádostmi,</li>
<li class="">nebo proto, že váš server nebo vzdálený server je omezen.</li>
</ul>
</li>
<li class="">Vzdálený datový soubor je někdy nedostupný (znovu, z různých důvodů) .</li>
<li class="">Spoléhání na jeden zdroj pro data se neměří dobře (například, když mnoho uživatelů a mnoho ERDDAP Využijte ho.) .
 </li>
</ul>
</li>
<li class="">Jak to funguje -- EdDtableCopy řeší tyto problémy automatickým vytvářením a udržováním místní kopie dat a podáváním dat z místní kopie. ERDDAP™ může sloužit data z místní kopie velmi, velmi rychle. A vytváření a používání místní kopie zmírňuje zátěž vzdáleného serveru. A místní kopie je záloha originálu, což je užitečné pro případ, že by se něco stalo s originálem.</li>
</ul>
<p>Na vytvoření místní kopie souboru není nic nového. Co je tady nového je, že tato třída to dělá\*snadné\*vytvořit a\*udržovat\*místní kopie údajů z\*odrůda\*typů vzdálených zdrojů dat a\*přidat metadata\*při kopírování dat.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablecopy-vs-cachefromurl">EDDtableCopy vs&lt;cacheFromUrl&gt;<a href="#eddtablecopy-vs-cachefromurl" class="hash-link" aria-label="Přímý odkaz naEDDtableCopy vs&lt;cacheFromUrl&gt;" title="Přímý odkaz naEDDtableCopy vs&lt;cacheFromUrl&gt;" translate="no">​</a></h4>
<p>&lt;cacheFromUrl&gt; je alternativou k EdDtableCopy. Pracují jinak.</p>
<ul>
<li class="">EDDTabulka Kopírování pracuje tím, že požaduje kousky dat ze vzdálené služby a ukládá tyto kousky do místních souborů. Proto je EDDTableCopy užitečné v některých případech, kdy jsou data dostupná prostřednictvím vzdálené služby.</li>
<li class="">[&lt;cacheFromUrl&gt;] (#Cachefromurl) stáhne existující soubory uvedené na vzdálené webové stránce.&lt;cacheFromUrl&gt; je jednodušší použít a spolehlivější, protože snadno pozná, kdy existuje nový vzdálený datový soubor nebo kdy se změnil vzdálený datový soubor, a proto je třeba jej stáhnout.</li>
</ul>
<p>Jsou-li situace, kdy EdDtableCopy nebo&lt;cacheFromUrl&gt; lze použít, použít&lt;cacheFromUrl&gt;, protože je jednodušší a spolehlivější.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="extractdestinationnames">&lt;extrahování Jméno&gt;<a href="#extractdestinationnames" class="hash-link" aria-label="Přímý odkaz na&lt;extrahování Jméno&gt;" title="Přímý odkaz na&lt;extrahování Jméno&gt;" translate="no">​</a></h4>
<p>EDDTabulka Kopírování vytváří místní kopii dat tím, že požaduje kousky dat ze vzdáleného datového souboru. EDDTabulka Kopírovat určuje, které kousky požádat o &amp; distinct () hodnoty pro&lt;extractDestinationNames&gt; (uvedené v datasets.xml , viz níže) , které jsou názvy proměnných ve vzdáleném datovém souboru oddělené od místa. Například,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;extractDestinationNames&gt;drifter profile&lt;/extractDestinationNames&gt;  </span><br></span></code></pre></div></div>
<p>může generovat odlišné kombinace hodnot tuláku=tig17,profile=1017, tulák=tig17,profile=1095, ... tulák=une12,profile=1223, tulák=une12,profile=1251, ....</p>
<p>V situacích, kdy jeden sloupec (například profil) může být vše, co je nezbytné pro jedinečnou identifikaci skupiny řádků údajů, pokud existuje velmi velký počet například profilů, může být užitečné také uvést další výpis Země určení Název (například tulák) který slouží k rozdělení profilů. To vede k menšímu počtu datových souborů v daném adresáři, což může vést k rychlejšímu přístupu.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="local-files">Místní soubory<a href="#local-files" class="hash-link" aria-label="Přímý odkaz naMístní soubory" title="Přímý odkaz naMístní soubory" translate="no">​</a></h4>
<p>Každý kus dat je uložen v samostatném NetCDF soubor v podadresáři <em>velkýRodič rodičů</em> /kopie/ * datasetID * / (jak je uvedeno v <a class="" href="/cs/docs/server-admin/deploy-install#setupxml">setup.xml</a> ) . Existuje jedna podadresářská úroveň pro všechny kromě posledního výpisuDestinationName. Například data pro tig17+0117 by byla uložena v
<em>velkýRodič rodičů</em> /kopie/vzorekDataset/tig17/1017 .nc .
Například data une12+1251, budou uložena v
<em>velkýRodič rodičů</em> /kopie/vzorekDataset/une12/1251 .nc .
Adresář a názvy souborů vytvořené z hodnot dat jsou modifikovány tak, aby byly bezpečné (Například prostory se nahrazují slovy &quot;x20&quot;) Tohle nemá vliv na skutečná data.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-data">Nová data<a href="#new-data" class="hash-link" aria-label="Přímý odkaz naNová data" title="Přímý odkaz naNová data" translate="no">​</a></h4>
<p>Pokaždé EDDTable Kopírování je znovu načteno, kontroluje vzdálený datový soubor, aby zjistil, jaké jednotlivé kusy jsou k dispozici. Pokud soubor pro kus dat již neexistuje, je do fronty přidán požadavek na získání kusu. ERDDAP &#x27;s úkolemThread zpracovává všechny ve frontě žádosti o kousky dat, jeden po druhém. Můžete vidět statistiky pro úkolThread činnost na <a class="" href="/cs/docs/server-admin/additional-information#status-page">Stavová stránka</a> a v <a class="" href="/cs/docs/server-admin/additional-information#daily-report">Denní zpráva</a> . (Ano. ERDDAP™ by mohl přidělit více úkolů tomuto procesu, ale to by využít spoustu vzdáleného zdroje dat šířky pásma, paměti a času CPU, a mnoho místních ERDDAP &#x27;s šířkou pásma, pamětí a CPU časem, ani jeden z nich není dobrý nápad.)</p>
<p>POZNÁMKA: Úplně poprvé se načte EdDtableCopy, (Pokud vše půjde dobře) Do fronty úkolThread bude přidáno mnoho žádostí o kousky dat, ale nebudou vytvořeny žádné místní datové soubory. Takže konstruktér selže, ale úkolThread bude i nadále pracovat a vytvářet místní soubory. Pokud vše půjde dobře, úkolThread vytvoří místní datové soubory a další pokus o opětovné načtení datového souboru (za ~15 minut) bude úspěšný, ale zpočátku s velmi omezeným množstvím dat.</p>
<p>POZNÁMKA: Poté, co má místní datový soubor nějaká data a objeví se ve vašem ERDDAP , pokud je vzdálený datový soubor dočasně nebo trvale nepřístupný, bude místní datový soubor stále fungovat.</p>
<p>UPOZORNĚNÍ: Pokud je vzdálený datový soubor velký a/nebo je vzdálený server pomalý (To je ten problém, že?) , bude trvat dlouho, aby kompletní místní kopii. V některých případech bude potřebný čas nepřijatelný. Například přenos 1 TB dat přes řádek T1 (0, 15 GB/s) trvá nejméně 60 dní, za optimálních podmínek. Navíc využívá spoustu šířky pásma, paměti a času CPU na vzdálených a místních počítačích. Řešením je odeslání pevného disku správci vzdálené datové sady tak, aby mohl vytvořit kopii souboru dat a odeslat pevný disk zpět vám. Použijte tato data jako výchozí bod a EDDTableCopy k nim přidá data. (To je způsob, jak Amazon EC2 Cloud Service používá k řešení problému, i když jejich systém má hodně šířky pásma.)</p>
<p>POZOR: Pokud daná kombinace hodnot zmizí ze vzdáleného datového souboru, EdDtableCopy nevymaže lokální zkopírovaný soubor. Jestli chceš, můžeš to smazat sám.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="tablecopy-checksourcedata">TabulkaCopy&lt;zkontrolovatSourceData&gt;<a href="#tablecopy-checksourcedata" class="hash-link" aria-label="Přímý odkaz naTabulkaCopy&lt;zkontrolovatSourceData&gt;" title="Přímý odkaz naTabulkaCopy&lt;zkontrolovatSourceData&gt;" translate="no">​</a></h4>
<p>The datasets.xml pro tento datový soubor může mít volitelnou značku</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;checkSourceData&gt;true&lt;/checkSourceData&gt;  </span><br></span></code></pre></div></div>
<p>Výchozí hodnota je pravdivá. Pokud / když jej nastavíte na false, data nikdy nezkontrolují zdrojový soubor, aby zjistili, zda jsou k dispozici další data.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="recommended-use">Doporučené použití<a href="#recommended-use" class="hash-link" aria-label="Přímý odkaz naDoporučené použití" title="Přímý odkaz naDoporučené použití" translate="no">​</a></h4>
<ol>
<li class="">Vytvořit&lt;Databáze &gt; položka (Nativní typ, nikoli EdDtableCopy) pro vzdálený zdroj dat. <strong>Udělejte to správně, včetně všech požadovaných metadat.</strong></li>
<li class="">Pokud je to příliš pomalé, přidejte XML kód k zabalení do souboru EDDTableCopy.<!-- -->
<ul>
<li class="">Použít jiný datasetID   (Možná změnou datasetID starých datasetID mírně) .</li>
<li class="">Kopírovat&lt;přístupný To&gt;,&lt;reloadEveryNMinutes&gt; a&lt;onChange&gt; od vzdáleného EDDTable XML až po XML EDDTableCopy. (Jejich hodnoty pro EDDTableCopy hmoty; jejich hodnoty pro vnitřní datový soubor se stávají nepodstatnými.)</li>
<li class="">Vytvořit&lt;extractDestinationNames&gt; tag (viz výše) .</li>
<li class="">&lt;orderExtractBy&gt; je OPTIVAL space oddělený seznam jmen cílových proměnných ve vzdáleném datovém souboru. Když se každý kus dat stáhne ze vzdáleného serveru, bude blok seřazen těmito proměnnými (první proměnnou, pak druhou proměnnou, pokud je první proměnná svázána, ...) . V některých případech ERDDAP™ bude moci extrahovat data rychleji z místních datových souborů, pokud první proměnná v seznamu je numerická proměnná ( &quot;time&quot; počítá jako numerická proměnná) . Ale vyberte tyto proměnné způsobem, který je vhodný pro datový soubor.</li>
</ul>
</li>
<li class="">ERDDAP™ vytvoří a udržuje místní kopii údajů.
 </li>
</ol>
<ul>
<li class="">UPOZORNĚNÍ: EDDTableCopy předpokládá, že hodnoty dat pro každý kus se nikdy nemění. Pokud ano, musíte ručně smazat jednotlivé soubory v <em>velkýRodič rodičů</em> /kopie/ * datasetID * / která se změnila a <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> soubor údajů, který má být znovu načten, aby byly smazané kusy nahrazeny. Pokud máte e-mailové předplatné datového souboru, dostanete dva e-maily: jeden, když soubor dat poprvé načte a začne kopírovat data, a další, když se soubor dat znovu načte (automaticky) a detekuje nové místní datové soubory.
 </li>
<li class="">Změnit metadata -- Pokud potřebujete změnit některý addAttributes nebo změnit pořadí proměnných spojených se zdrojovým datovým souborem:<!-- -->
<ol>
<li class="">Změňte addAttributes pro zdrojový soubor dat v datasets.xml , podle potřeby.</li>
<li class="">Smazat jeden z kopírovaných souborů.</li>
<li class="">Nastavit <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> okamžitě načíst soubor údajů. Pokud použijete vlajku a máte e-mailové předplatné datového souboru, dostanete dva e-maily: jeden, když soubor dat poprvé znovu načte a začne kopírovat data, a druhý, když se soubor dat znovu načte (automaticky) a detekuje nové místní datové soubory.</li>
<li class="">Smazaný soubor bude regenerován s novými metadaty. Pokud zdrojový soubor není k dispozici, databázový soubor EDDTableCopy získá metadata z regenerovaného souboru, protože je to nejmladší soubor.
 </li>
</ol>
</li>
<li class=""><a href="#eddgridcopy" class=""> EDDGrid Kopírovat</a> je velmi podobný EdDtableCopy, ale pracuje s roštovými soubory dat.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtablecopy-skeleton-xml">EDDtableCopy kostra XML<a href="#eddtablecopy-skeleton-xml" class="hash-link" aria-label="Přímý odkaz naEDDtableCopy kostra XML" title="Přímý odkaz naEDDtableCopy kostra XML" translate="no">​</a></h4>
<blockquote>
<p>  &lt;dataset type=&quot;EDDTableCopy&quot; <a href="#datasetid" class="">datasetID</a>\=&quot;...&quot; <a href="#active" class="">active</a>\=&quot;...&quot; &gt;<br>
<!-- -->      <a href="#accessibleto" class="">&lt;accessibleTo&gt;</a>...&lt;/accessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#graphsaccessibleto" class="">&lt;graphsAccessibleTo&gt;</a>auto|public&lt;/graphsAccessibleTo&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#accessibleviafiles" class="">&lt;accessibleViaFiles&gt;</a>true|false(default)&lt;/accessibleViaFiles&gt;<br>
<!-- -->        &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#reloadeverynminutes" class="">&lt;reloadEveryNMinutes&gt;</a>...&lt;/reloadEveryNMinutes&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultdataquery" class="">&lt;defaultDataQuery&gt;</a>...&lt;/defaultDataQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#defaultgraphquery" class="">&lt;defaultGraphQuery&gt;</a>...&lt;/defaultGraphQuery&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#addvariableswhere" class="">&lt;addVariablesWhere&gt;</a>...&lt;/addVariablesWhere&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#fgdcfile" class="">&lt;fgdcFile&gt;</a>...&lt;/fgdcFile&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#iso19115file" class="">&lt;iso19115File&gt;</a>...&lt;/iso19115File&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#onchange" class="">&lt;onChange&gt;</a>...&lt;/onChange&gt; &lt;!-- 0 or more --&gt;<br>
<!-- -->      &lt;extractDestinationNames&gt;...&lt;/extractDestinationNames&gt;  &lt;!-- 1 --&gt;<br>
<!-- -->      &lt;orderExtractBy&gt;...&lt;/orderExtractBy&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      <a href="#filetableinmemory" class="">&lt;fileTableInMemory&gt;</a>...&lt;/fileTableInMemory&gt; &lt;!-- 0 or 1 (true or false<br>
<!-- -->        (the default)) --&gt;<br>
<!-- -->      <a href="#tablecopy-checksourcedata" class="">&lt;checkSourceData&gt;</a>...&lt;/checkSourceData&gt; &lt;!-- 0 or 1 --&gt;<br>
<!-- -->      &lt;dataset&gt;...&lt;/dataset&gt; &lt;!-- 1 --&gt;<br>
<!-- -->  &lt;/dataset&gt;</p>
</blockquote>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="details-1">Podrobnosti<a href="#details-1" class="hash-link" aria-label="Přímý odkaz naPodrobnosti" title="Přímý odkaz naPodrobnosti" translate="no">​</a></h2>
<p>Zde jsou podrobné popisy běžných značek a atributů.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="angulardegreeunits">&lt;úhlovýRozhodněUnits&gt;<a href="#angulardegreeunits" class="hash-link" aria-label="Přímý odkaz na&lt;úhlovýRozhodněUnits&gt;" title="Přímý odkaz na&lt;úhlovýRozhodněUnits&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;angulaDegreeUnits&gt; ** ] (#angulární jednotky) je vzácně používaná VOLITELNÁ tag v rámci&lt;erddapDatasets&gt; tag in datasets.xml který obsahuje čárku oddělený seznam jednotek řetězců, které ERDDAP™ by se mělo zacházet jako s jednotkami úhlových stupňů. Pokud má proměnná jednu z těchto jednotek, tabledap &#x27;s orderByMean filtr vypočítá průměr zvláštním způsobem, pak uvede průměr jako hodnotu od -180 do 180. Viz ERDDAP &#x27;s ED Static.java zdrojový kód soubor pro aktuální výchozí seznam. Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP™ čte datasets.xml , včetně odpovědi na soubor údajů <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> .</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="angulardegreetrueunits">&lt;úhlováSouhlasíPravdaUnits&gt;<a href="#angulardegreetrueunits" class="hash-link" aria-label="Přímý odkaz na&lt;úhlováSouhlasíPravdaUnits&gt;" title="Přímý odkaz na&lt;úhlováSouhlasíPravdaUnits&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;úhel DegreeTrueUnits&gt; ** ] (#angulargree true units) je vzácně používaná VOLITELNÁ tag v rámci&lt;erddapDatasets&gt; tag in datasets.xml který obsahuje čárku oddělený seznam jednotek řetězců, které ERDDAP™ Měli bychom se chovat jako úhlové stupně. Pokud má proměnná jednu z těchto jednotek, tabledap &#x27;s orderByMean filtr vypočítá průměr zvláštním způsobem, pak uvede průměr jako hodnotu od 0 do 360. Viz ERDDAP &#x27;s ED Static.java zdrojový soubor pro aktuální výchozí seznam. Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP™ čte datasets.xml , včetně odpovědi na soubor údajů <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="commonstandardnames">&lt;Obecný standardJména&gt;<a href="#commonstandardnames" class="hash-link" aria-label="Přímý odkaz na&lt;Obecný standardJména&gt;" title="Přímý odkaz na&lt;Obecný standardJména&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;Obecný standardJména&gt; ** ] (#commonstandardnames) je vzácně používaná VOLITELNÁ tag v rámci&lt;erddapDatasets&gt; tag in datasets.xml pro upřesnění čárky oddělené seznamu společného <a href="https://cfconventions.org/Data/cf-standard-names/current/build/cf-standard-name-table.html" target="_blank" rel="noopener noreferrer" class="">Standardní názvy CF</a> . např.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;commonStandardNames&gt;air\\_pressure, ..., wind\\_to\\_direction&lt;/commonStandardNames&gt;  </span><br></span></code></pre></div></div>
<p>Tento seznam se používá v DataProviderForm3.html jako komfort pro uživatele.
Pokud chcete tyto informace poskytnout datasets.xml , začít kopírováním aktuálního výchozího seznamu v&lt;DEFAULT\_commonStandardNames &gt; v ERDDAP &#x27;s
\[ tomcat \] /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml file.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cacheminutes">&lt;cacheMinutes&gt;<a href="#cacheminutes" class="hash-link" aria-label="Přímý odkaz na&lt;cacheMinutes&gt;" title="Přímý odkaz na&lt;cacheMinutes&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;cacheMinutes&gt; ** ] (#cachemintes) je vzácně používaná VOLITELNÁ tag v rámci&lt;erddapDatasets&gt; tag in datasets.xml určit věk (v minutách) na kterém souboru v cache by měly být vymazány (default=60) . např.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;cacheMinutes&gt;60&lt;/cacheMinutes&gt;  </span><br></span></code></pre></div></div>
<p>Obecně platí, že pouze obrazové soubory (Protože stejné obrázky jsou často žádány opakovaně) a .nc soubory (protože musí být plně vytvořeny před odesláním uživateli) jsou utajené. I když by to mohlo vypadat, že daná žádost by měla vždy vrátit stejnou odpověď, to není pravda. Například: tabledap žádost, která zahrnuje čas&gt; <em>některé Čas</em> změní se, jakmile pro datový soubor dorazí nové údaje. A požadavek Griddap, který zahrnuje \[ poslední \] pro časový rozměr se změní, jakmile pro datový soubor přijdou nová data. Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP™ čte datasets.xml , včetně odpovědi na soubor údajů <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> . Před ERDDAP™ v2.00, to bylo uvedeno v nastavení.xml, který je stále povoleno, ale odrazen.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cacheclearminutes">&lt;cachearMinutes&gt;<a href="#cacheclearminutes" class="hash-link" aria-label="Přímý odkaz na&lt;cachearMinutes&gt;" title="Přímý odkaz na&lt;cachearMinutes&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;cacheClearMinutes&gt; ** ] (#cacheclearminutes) je vzácně používaná VOLITELNÁ tag v rámci&lt;erddapDatasets&gt; tag in datasets.xml zadat frekvenci pro kontrolu cached souborů a odstranit staré (v minutách)   (výchozí=15) . např.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;cacheClearMinutes&gt;15&lt;/cacheClearMinutes&gt;  </span><br></span></code></pre></div></div>
<p>Když server dokončí zpracování požadavku, bude kontrolovat, jak dlouho byla poslední cache čistá. Pokud to bylo příliš dávno, bude fronta na úkolThread vymazat cache. Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP™ čte datasets.xml , včetně odpovědi na soubor údajů <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> . To může být specifikováno v setup.xml, ale to je odrazeno.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="convertinterpolaterequestcsvexample">&lt;ConvertI TálibánuRequestCSVexample&gt;<a href="#convertinterpolaterequestcsvexample" class="hash-link" aria-label="Přímý odkaz na&lt;ConvertI TálibánuRequestCSVexample&gt;" title="Přímý odkaz na&lt;ConvertI TálibánuRequestCSVexample&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;ConvertI TálibánuRequestCSVexample&gt; ** ] (#Konverti Tipolaterequestcsvexample) je VOLITELNÁ tag v rámci&lt;erddapDatasets&gt; tag in datasets.xml   \[ Začneme s ERDDAP™ v2.10 \] který obsahuje příklad, který bude uveden na webové stránce Interpolate převodníku. Výchozí hodnota je: jplMU RSS T41/analyzovaný\_ sst /Bilineární/4 .</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="convertinterpolatedatasetidvariablelist">&lt;ConvertI TipolateDatasetIDVariableList&gt;<a href="#convertinterpolatedatasetidvariablelist" class="hash-link" aria-label="Přímý odkaz na&lt;ConvertI TipolateDatasetIDVariableList&gt;" title="Přímý odkaz na&lt;ConvertI TipolateDatasetIDVariableList&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;ConvertI TipolateDatasetIDVariableList&gt; ** ] (#Konverti Tipolatedatasetidvariablelist) je VOLITELNÁ tag v rámci&lt;erddapDatasets&gt; tag in datasets.xml   \[ Začneme s ERDDAP™ v2.10 \] který obsahuje seznam CSV datasetID /proměnná Příklady jmen, které budou použity jako návrhy webové stránky Interpolate převodníku. Výchozí hodnota je: jplMU RSS T41/analyzovaný\_ sst .</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="converttopublicsourceurl">&lt;convertToPublicSourceUrl&gt;<a href="#converttopublicsourceurl" class="hash-link" aria-label="Přímý odkaz na&lt;convertToPublicSourceUrl&gt;" title="Přímý odkaz na&lt;convertToPublicSourceUrl&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;convertToPublicSourceUrl&gt; ** ] (# Konvertovat na veřejné zdrojeurl) je VOLITELNÁ tag v rámci&lt;erddapDatasets&gt; tag in datasets.xml který obsahuje &quot;od&quot; a &quot;do&quot; atribut, který určuje, jak převést odpovídající místní sourceUrl   (obvykle IP číslo) do veřejnosti sourceUrl   (název domény) . &quot;z&quot; musí mít formu &quot; \[ něco \] // \[ něco \] /.&quot; Může jich být 0 nebo více. Více informací viz [&lt; sourceUrl &gt;] (#sourcerl) . Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;convertToPublicSourceUrl from=&quot;https://192.168.31.18/&quot; to=&quot;https://oceanwatch.pfeg.noaa.gov/&quot; /&gt;  </span><br></span></code></pre></div></div>
<p>způsobí odpovídající místní sourceUrl   (např.<a href="https://192.168.31.18/thredds/dodsC/satellite/BA/ssta/5day" target="_blank" rel="noopener noreferrer" class="">https://192.168.31.18/thredds/dodsC/satellite/BA/ssta/5day</a>)<br>
<!-- -->do veřejnosti sourceUrl   (<a href="https://oceanwatch.pfeg.noaa.gov/thredds/dodsC/satellite/BA/ssta/5day" target="_blank" rel="noopener noreferrer" class="">https://oceanwatch.pfeg.noaa.gov/thredds/dodsC/satellite/BA/ssta/5day</a>) .
Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP™ čte datasets.xml , včetně odpovědi na soubor údajů <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> .</p>
<p>Ale z bezpečnostních důvodů a důvodů spojených se systémem předplatného, <strong>Nepoužívej tenhle pytel!</strong><br>
<!-- -->Místo toho vždy použijte název veřejné domény v&lt; sourceUrl &gt; označení a použití <a href="https://linux.die.net/man/5/hosts" target="_blank" rel="noopener noreferrer" class="">Tabulka /etc/hosté</a> na vašem serveru převést místní doménová jména na IP čísla bez použití DNS serveru. Můžete testovat, zda je název domény správně převeden na IP číslo pomocí:
ping <em>Někteří. Doména. jméno</em><br>
<!-- --> </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dataimagepngbase64">údaje<!-- -->:obraz<!-- -->/png;base64,<a href="#dataimagepngbase64" class="hash-link" aria-label="Přímý odkaz nadataimagepngbase64" title="Přímý odkaz nadataimagepngbase64" translate="no">​</a></h3>
<ul>
<li class="">Pokud uživatel požaduje .htmlTable odpověď od ERDDAP™ , pokud data v buňce String obsahují data<!-- -->:obraz<!-- -->/png;base64, následovaná base64 zakódovaným .png obrazem, ERDDAP™ zobrazí ikonu (takže uživatel může vidět obrázek, pokud nad ním vznáší) a tlačítka pro uložení textu nebo obrázku do schránky. Tato funkce byla přidána v ERDDAP™ v2.19 od Marca Alby.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="drawlandmask">drawLandMask<a href="#drawlandmask" class="hash-link" aria-label="Přímý odkaz nadrawLandMask" title="Přímý odkaz nadrawLandMask" translate="no">​</a></h3>
<ul>
<li class=""><a href="#drawlandmask" class=""> ** drawLandMask ** </a> určuje výchozí nastavení, které kontroluje kdy a jak má být peněženka kreslena ERDDAP™ Nakreslí mapu. To může být uvedeno na třech různých místech v datasets.xml   (uvedené od nejnižší do nejvyšší priority) :</li>
</ul>
<ol>
<li class="">Pokud drawLandMask je uvedeno uvnitř&lt;erddapDatasets&gt; (není spojena s žádným konkrétním datovým souborem) , pak určuje výchozí hodnotu drawLandMask pro všechny proměnné ve všech datových souborech. Například,</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;drawLandMask&gt;under&lt;/drawLandMask&gt;  </span><br></span></code></pre></div></div>
<p>Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP čte datasets.xml .
Pokud tato značka není přítomna, výchozí hodnota je nižší.
 
2. Pokud drawLandMask je určen jako globální atribut daného datového souboru, pak určuje výchozí hodnotu drawLandMask u všech proměnných v tomto datovém souboru převažuje jakékoli nastavení nižší priority. Například,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;drawLandMask&quot;&gt;under&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP™ Nabije ten soubor.
 
3. Pokud drawLandMask je zadán jako atribut proměnné v daném datovém souboru, pak určuje výchozí hodnotu drawLandMask pro tuto proměnnou v tomto datovém souboru převažuje jakékoli nižší prioritní nastavení. Například,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;drawLandMask&quot;&gt;under&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP™ Nabije ten soubor.</p>
<p>Uživatel může přepsat výchozí hodnotu (kde je uvedeno) výběrem hodnoty pro &quot;Draw land mask&quot; ze seznamu dropdown na webové stránce souboru Make A Graph, nebo zahrnutím &amp;.land= <em>hodnota</em> v URL, která požaduje mapu z ERDDAP .</p>
<p>Ve všech situacích jsou pro atribut 4 možné hodnoty:</p>
<ul>
<li class="">&quot;Pod&quot; kreslí pevninu dřív, než nakreslí data na mapě.
U mřížkovaných souborů se půda jeví jako konstantní světle šedá barva.
U tabulkových souborů &quot;pod&quot; zobrazuje data topografie nad zemí a oceány.</li>
<li class="">&quot;přes&quot; -- U roštových souborů &quot;přes&quot; čerpá pevnina poté, co nakreslí data o mapách, aby zamaskovala všechna data nad zemí. U tabulkových souborů ukazuje &quot;přes&quot; batymetrii oceánu a konstantní světle šedou, kde je půda, oba vykreslené pod údaji.</li>
<li class="">&quot;outline&quot; kreslí obrys pevniny, politických hranic, jezer a řek.</li>
<li class="">&quot;vypnout&quot; nic nenakreslí.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="emaildiagnosticstoerddata">&lt;emailDiagnostikaToErdData&gt;<a href="#emaildiagnosticstoerddata" class="hash-link" aria-label="Přímý odkaz na&lt;emailDiagnostikaToErdData&gt;" title="Přímý odkaz na&lt;emailDiagnostikaToErdData&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;emailDiagnostikaToErdData&gt; ** ] (#emaildiagnosticstoerddata) je vzácně používaná VOLITELNÁ tag v rámci&lt;erddapDatasets&gt; tag in datasets.xml . Hodnota značky může být pravdivá (výchozí) nebo falešně. Pokud je to pravda, ERDDAP™ Pošlete zprávu Chrisovi. John v Noaa. gov (vá ERDDAP™ vývojový tým) . To by mělo být bezpečné a bezpečné, protože žádné důvěrné informace (např. žádostUrl) je součástí e-mailu. To by mělo umožnit chytit všechny obskurní, zcela neočekávané chyby, které vedou k NullPointerExceptions. V opačném případě uživatel vidí výjimky, ale ERDDAP™ Vývojový tým ne. (takže nevíme, jestli je tu nějaký problém, který je třeba napravit.) .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="graphbackgroundcolor">&lt;grafBackgroundColor&gt;<a href="#graphbackgroundcolor" class="hash-link" aria-label="Přímý odkaz na&lt;grafBackgroundColor&gt;" title="Přímý odkaz na&lt;grafBackgroundColor&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;graphBackgroundColor&gt; ** ] (#grafbackgroundcolor) je vzácně používaná VOLITELNÁ tag v rámci&lt;erddapDatasets&gt; tag in datasets.xml zadat výchozí barvu pozadí na grafech. To ovlivňuje téměř všechny grafy. Existuje několik situací, které nebyly ovlivněny. Barva je specifikována jako osmimístný hexadecimální hodnota ve formě 0xAARRGGBB, kde AA, RR, GG a BB jsou opacity, červené, zelené a modré složky. &quot;0x&quot; je případ citlivý, ale hexadecimální číslice nejsou citlivé. Například zcela neprůhledná (ff) zelená modrá barva s červenou=22, zelená=88, modrá=ee by byla 0xff2288e. Neprůhledná bílá je 0xffffffffffff. Výchozí je neprůhledná světle modrá (0xffffccff) , která má tu výhodu, že se liší od bílé, což je důležitá barva v mnoha paletách používaných k kreslení dat. Například,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;graphBackgroundColor&gt;0xffffffff&lt;/graphBackgroundColor&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP™ čte datasets.xml , včetně odpovědi na soubor údajů <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> .</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ipaddressmaxrequests">&lt;ipAddressMaxRequests&gt;<a href="#ipaddressmaxrequests" class="hash-link" aria-label="Přímý odkaz na&lt;ipAddressMaxRequests&gt;" title="Přímý odkaz na&lt;ipAddressMaxRequests&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;ipAddressMaxRequests&gt; ** ] (#ipaddressmax requests) je zřídka používaná volitelná značka (První podporovaná ERDDAP™ v2. 12) v rámci&lt;erddapDatasets&gt; tag in datasets.xml který je součástí systému, který omezuje schopnost příliš agresivních oprávněných uživatelů a škodlivých uživatelů podávat velký počet simultánních žádostí, které by degradovaly výkon systému pro ostatní uživatele. ipAdresa MaxRequests určuje maximální počet simultánních žádostí, které budou přijaty z jakékoli konkrétní IP adresy. Další žádosti obdrží HTTP 429 chyba: Příliš mnoho požadavků. Malé, statické soubory v erddap/download/ a erddap/images/ nejsou z tohoto počtu vyloučeny. Výchozí hodnota je 15. Maximálně 1000, což je šíleně vysoko -- nedělejte to! ERDDAP™ Nepřijme číslo menší než 6, protože mnoho oprávněných uživatelů (zejména webové prohlížeče a WMS klienti) vyplňte až 6 žádostí najednou. The ERDDAP™ Daily Report a podobné informace napsané do log.txt souboru s každým Major Dataset Reload, budou nyní obsahovat přehled požadavků těchto IP adres pod názvem &quot;Requester&#x27;s IP Address (Příliš mnoho žádostí) &quot;.
Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP™ čte datasets.xml , včetně odpovědi na soubor údajů <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> .</li>
</ul>
<p>&quot;Major LoadDatasets Time Series&quot; sekce status.html obsahuje sloupec &quot;TooMany,&quot; který uvádí počet žádostí, které přesahují nastavení ipAddressMaxRequests uživatele a tak viděl chybu &quot;Too Many Requests.&quot; To vám umožní snadno vidět, když jsou aktivní příliš agresivní legitimní uživatelé a škodlivé uživatele, takže můžete (volitelně) podívejte se do log.txt souboru a rozhodněte se, zda chcete tyto uživatele na černou listinu.</p>
<p>Není nic konkrétně špatného na tom, nastavit to na vyšší číslo. Je to na tobě. Ale to umožňuje/povzbuzuje lidi, aby nastavili systémy, které používají velké množství vláken k práci na projektech a pak jim nedává žádnou zpětnou vazbu, že to, co dělají, jim nepřináší žádnou výhodu.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ipaddressmaxrequestsactive">&lt;ipAddressMaxRequestsActive&gt;<a href="#ipaddressmaxrequestsactive" class="hash-link" aria-label="Přímý odkaz na&lt;ipAddressMaxRequestsActive&gt;" title="Přímý odkaz na&lt;ipAddressMaxRequestsActive&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;ipAddressMaxRequestsActive&gt; ** ] (#ipaddressmax requestsactive) je zřídka používaná volitelná značka (První podporovaná ERDDAP™ v2. 12) v rámci&lt;erddapDatasets&gt; tag in datasets.xml který je součástí systému, který omezuje schopnost příliš agresivních oprávněných uživatelů a škodlivých uživatelů podávat velký počet simultánních žádostí, které by degradovaly výkon systému pro ostatní uživatele. ipAddressMaxRequestsActive určuje maximální počet simultánních žádostí, které budou aktivně zpracovávány z jakékoli konkrétní IP adresy. Další žádosti budou sedět ve frontě, dokud nebudou vyřízeny předchozí žádosti. Malé, statické soubory v erddap/download/ a erddap/images/ jsou z tohoto počtu a souvisejícího throtlingu vyňaty. Výchozí hodnota je 2. Maximální povoleno je 100, což je šíleně vysoko -- nedělejte to! Můžete to nastavit na 1 být striktní, zejména pokud máte problémy s příliš agresivní nebo zlomyslné uživatele. Uživatelé budou stále rychle získat všechna data, která požadují (až ipAddressMaxRequests) Ale nebudou schopni využít systémové zdroje. Nedoporučujeme to nastavit na větší číslo, protože umožňuje příliš agresivní legitimní uživatele a škodlivé uživatele dominovat ERDDAP &#x27;s kapacitou zpracování.
Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP™ čte datasets.xml , včetně odpovědi na soubor údajů <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ipaddressunlimited">&lt;ipAddressUnlimited&gt;<a href="#ipaddressunlimited" class="hash-link" aria-label="Přímý odkaz na&lt;ipAddressUnlimited&gt;" title="Přímý odkaz na&lt;ipAddressUnlimited&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;ipAddressUnlimited&gt; ** ] (#ipadadressunlimited) je zřídka používaná volitelná značka (První podporovaná ERDDAP™ v2. 12) v rámci&lt;erddapDatasets&gt; tag in datasets.xml který je součástí systému, který omezuje schopnost příliš agresivních oprávněných uživatelů a škodlivých uživatelů podávat velký počet simultánních žádostí, které by degradovaly výkon systému pro ostatní uživatele. ipAddressUnlimited je čárka-oddělený seznam IP adres, které chcete povolit neomezený přístup k vašemu ERDDAP . Podívej se do svého deníku. txt soubor zjistit, který formát váš server používá pro IP adresy. Na některých serverech budou IP adresy ve formátu #.#.#.# (kde # je celé číslo od 0 do 255) ; zatímco na ostatních to bude ve formátu #:#:#:#:#:#:#:#:#:#:# . Žádající na tomto seznamu nepodléhají ani ipAddressMaxRequests, ani ipAddressMaxRequestsActive nastavení. Tohle by mohlo být sekundární. ERDDAP™ nebo pro některé uživatele nebo servery ve vašem systému. ERDDAP™ vždy přidá &quot; (neznámáNPPadresa) &quot; ERDDAP™ používá, když není možné určit IP adresu requesteru, např. pro jiné procesy běžící na stejném serveru.
Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP™ čte datasets.xml , včetně odpovědi na soubor údajů <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> .</li>
</ul>
<p>Pokud z nějakého důvodu všechny žádosti uživatele dostanou chybovou zprávu &quot;Timeout čeká na vaše další požadavky na zpracování.&quot; pak můžete problém vyřešit přidáním IP adresy uživatele do ipAddressUnlimited list, aplikace této změny, pak odstranit z tohoto seznamu.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="loaddatasetsminminutes">&lt;loadDatasetsMinMinutes&gt;<a href="#loaddatasetsminminutes" class="hash-link" aria-label="Přímý odkaz na&lt;loadDatasetsMinMinutes&gt;" title="Přímý odkaz na&lt;loadDatasetsMinMinutes&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;loadDatasetsMinMinutes&gt; ** ] (#loaddatasetsminminutes) je vzácně používaná VOLITELNÁ tag v rámci&lt;erddapDatasets&gt; tag in datasets.xml stanovit minimální čas (v minutách) mezi hlavním zatížením Datové soubory (kdy ERDDAP™ reprocesy datasets.xml , včetně kontroly každého datového souboru, zda je třeba jej znovu načíst podle jeho opětovného načtení Nastavení everyNMinutes, default=15) . např.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;loadDatasetsMinMinutes&gt;15&lt;/loadDatasetsMinMinutes&gt;  </span><br></span></code></pre></div></div>
<p>Pokud daný průběh zatíženíDatasets trvá méně než tentokrát, nakladač se jen opakovaně dívá do adresáře vlajky a/nebo spí, dokud neuplyne zbývající čas. Výchozí hodnota je 15 minut, což by mělo stačit téměř všem. Jediná nevýhoda nastavení tohoto na menší počet je, že zvýší frekvenci, že ERDDAP™ retruje soubory, které mají chyby, které jim brání v načtení (např. nefunguje vzdálený server) . Pokud je takových souborů mnoho a jsou často přezkoušeny, zdroj údajů by mohl považovat za otravné/agresivní chování. Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP™ čte datasets.xml , včetně odpovědi na soubor údajů <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> . Před ERDDAP™ v2.00, to bylo uvedeno v nastavení.xml, který je stále povoleno, ale odrazen.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="loaddatasetsmaxminutes">&lt;loadDatasetsMaxMinutes&gt;<a href="#loaddatasetsmaxminutes" class="hash-link" aria-label="Přímý odkaz na&lt;loadDatasetsMaxMinutes&gt;" title="Přímý odkaz na&lt;loadDatasetsMaxMinutes&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;loadDatasetsMaxMinutes&gt; ** ] (#loaddatasetsmaxminutes) je VOLITELNÁ tag v rámci&lt;erddapDatasets&gt; tag in datasets.xml stanovit maximální čas (v minutách) hlavní zátěž Snaha datových souborů je povolena (před zatížením Datové sady nitě považované za &quot;nainstalované&quot; a jsou přerušeny)   (default=60) . např.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;loadDatasetsMaxMinutes&gt;60&lt;/loadDatasetsMaxMinutes&gt;  </span><br></span></code></pre></div></div>
<p>Obecně by to mělo být nastaveno nejméně dvakrát tak dlouho, pokud si rozumně myslíte, že přehrávání všech souborů dat (kumulativně) měl by brát (protože počítače a sítě jsou někdy pomalejší, než se očekávalo) To by mělo být vždy mnohem delší než načítáníDatasetsMinMinutes. Výchozí hodnota je 60 minut. Někteří lidé to nastaví na delší dobu. Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP™ čte datasets.xml , včetně odpovědi na soubor údajů <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> . Před ERDDAP™ v2.00, to bylo uvedeno v nastavení.xml, který je stále povoleno, ale odrazen.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="loglevel">&lt;LogLevel&gt;<a href="#loglevel" class="hash-link" aria-label="Přímý odkaz na&lt;LogLevel&gt;" title="Přímý odkaz na&lt;LogLevel&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;logLevel &gt; ** ] (#loglevel) je VOLITELNÁ tag v rámci&lt;erddapDatasets&gt; tag in datasets.xml určit, kolik diagnostických zpráv je odesláno do souboru log.txt. Může být nastaveno na &quot;varování&quot; (Nejmenší zprávy) , &quot;info&quot; (výchozí) , nebo &quot;všechny&quot; (nejvíce zpráv) . např.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;logLevel&gt;info&lt;/logLevel&gt;  </span><br></span></code></pre></div></div>
<p>Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP™ čte datasets.xml , včetně odpovědi na soubor údajů <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> . Před ERDDAP™ v2.00, to bylo uvedeno v nastavení.xml, který je stále povoleno, ale odrazen.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="partialrequestmaxbytes-and-partialrequestmaxcells">&lt;částečný požadavekMaxBytes&gt; a&lt;Částečná žádostMaxCells&gt;<a href="#partialrequestmaxbytes-and-partialrequestmaxcells" class="hash-link" aria-label="Přímý odkaz na&lt;částečný požadavekMaxBytes&gt; a&lt;Částečná žádostMaxCells&gt;" title="Přímý odkaz na&lt;částečný požadavekMaxBytes&gt; a&lt;Částečná žádostMaxCells&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;partitionalRequestMaxBytes &gt; <strong>] (#částečněpožadavekmaxbytes-a-částečněpožadavekmaxbuňky) a [</strong> &lt;partitionalRequestMaxCells&gt; ** ] (#částečněpožadavekmaxbytes-a-částečněpožadavekmaxbuňky) jsou vzácně používány VOLITELNÉ tagy v rámci&lt;erddapDatasets&gt; tag in datasets.xml . Pokud je to možné (A není to vždy možné.) , ERDDAP™ rozbíjí velké požadavky na data do kousků pro zachování paměti.</li>
</ul>
<p>S 32 bity Java , v zjednodušeném smyslu, maximální počet současně <em>velký</em> požadavky jsou zhruba 3/4 dostupné paměti (hodnota -Xmx přenesena na Tomcat) děleno velikostí kusu (např. 1200 MB / 100 MB =&gt; 12 žádostí) . Jiné věci vyžadují paměť, takže skutečný počet žádostí bude menší. V praxi to není vždy možné. Takže jedna obrovská nebo několik velmi velkých simultánně nenáročných žádostí může způsobit problémy 32 bitů. Java .</p>
<p>Se 64 bity Java , hodnota -Xmx může být mnohem větší. Takže paměť je mnohem méně pravděpodobná jako omezení.</p>
<p>Můžete přepsat výchozí velikost bloku definováním těchto značek v datasets.xml   (s různými hodnotami, než je zde uvedeno) :
U sítí:&lt;ČástRequestMaxBytes&gt;100000000&lt;/částečněRequestMaxBytes &gt;
Pro tabulky:&lt;parciálníRequestMaxCells&gt;1000000&lt;/částečněRequestMaxCells &gt;</p>
<p>particiousRequestMaxBytes je preferovaný maximální počet bytů pro žádost o dílčí údaje sítě (část celkové žádosti) . default=100000000 (10^8) . Větší velikosti nejsou nutně lepší. (a nejezdi nad 500 MB, protože to je výchozí limit THREDDS pro DAP odpovědi) . Ale větší velikosti mohou vyžadovat méně přístupu tun souborů (myslet na ERD &#x27;s satelitními daty s každým časovým bodem v samostatném souboru - je lepší získat více dat z každého souboru v každé částečné žádosti) .</p>
<p>parciálníRequestMaxCells je preferovaný maximální počet buněk (nRows \* nColumns v tabulce dat) pro žádost o dílčí údaje TABLE (část celkové žádosti) . Výchozí = 100000. Větší velikosti nejsou nutně lepší. Výsledkem je delší čekání na počáteční dávku dat ze zdroje.</p>
<p>Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP™ čte datasets.xml , včetně odpovědi na soubor údajů <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> . Před ERDDAP™ v2.00, tyto byly specifikovány v nastavení.xml, který je stále povoleno, ale odrazen.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="requestblacklist">&lt;ŽádostBlacklist&gt;<a href="#requestblacklist" class="hash-link" aria-label="Přímý odkaz na&lt;ŽádostBlacklist&gt;" title="Přímý odkaz na&lt;ŽádostBlacklist&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;requestBlacklist&gt; ** ] (#Request blacklist)   <a class="" href="/cs/docs/server-admin/additional-information#frequent-crashes-or-freezes">je VOLITELNÁ tag</a> v rámci&lt;erddapDatasets&gt; tag in datasets.xml který obsahuje čárku oddělený seznam číselných IP adres, které budou na černé listině. Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP™ čte datasets.xml , včetně odpovědi na soubor údajů <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> .<!-- -->
<ul>
<li class="">To lze použít k odvrácení <a href="https://en.wikipedia.org/wiki/Denial_of_service" target="_blank" rel="noopener noreferrer" class="">Popírání služebního útoku</a> , příliš horlivý <a href="https://en.wikipedia.org/wiki/Internet_bot" target="_blank" rel="noopener noreferrer" class="">web robot</a> , nebo jakýkoli jiný typ problémového uživatele.</li>
<li class="">Potížistka... Pokud ERDDAP™ zpomalí na plazí nebo zamrzne / zastaví, příčinou je často problémový uživatel, který běží více než jeden skript najednou a / nebo dělá velký počet velmi velké, extrémně neefektivní, nebo neplatné žádosti, nebo současné žádosti. Podívejte se dovnitř. <a class="" href="/cs/docs/server-admin/additional-information#log">log.txt</a> zjistit, zda tomu tak je, a najít numerickou IP adresu problematického uživatele. Jestli je tohle ten problém, měl bys toho uživatele asi vymazat.</li>
</ul>
</li>
</ul>
<p>Kdy? ERDDAP™ dostane žádost z blacklisted IP adresy, vrátí HTTP Chyba 403: Zakázané. Doprovodná textová chybová zpráva podporuje uživatele, aby vám e-mail, ERDDAP Správce, aby vyřešil problémy. Pokud chtějí čas na čtení chybové zprávy (Mnozí zřejmě ne.) a kontaktovat vás, pak můžete pracovat s nimi, aby spustit jen jeden skript najednou, dělat účinnější požadavky, opravit problémy ve svém scénáři (například požadavek na údaje ze vzdáleného datového souboru, který nemůže odpovědět před načasováním) Nebo cokoliv jiného bylo zdrojem problémů.</p>
<p>Uživatelé si často prostě neuvědomují, že jejich požadavky jsou nepříjemné. Často si neuvědomují chyby, hrubé nedostatky nebo jiné problémy se svými scénáři. Často si to myslí, protože ERDDAP™ nabízí data zdarma, že mohou požadovat tolik dat, kolik chtějí, např. spuštěním více skriptů nebo pomocí více vláken současně.</p>
<ul>
<li class="">Můžete jim vysvětlit, že každý ERDDAP™ , Nyní záleží na tom, jak velký a silný, má konečné zdroje (CPU čas, pevný disk I/O, síťová šířka pásma, atd.) a není fér, pokud jeden uživatel požaduje data způsobem, který vytěsní ostatní uživatele nebo přetížení ERDDAP .</li>
<li class="">Jakmile uživatel ví, jak podat 2 simultánní žádosti, často nevidí žádný důvod, proč nevyužít 5, 10 nebo 20 simultánní žádosti, protože dodatečné žádosti je nic nestojí. Je to jako asymetrická válka: zde mají útočné zbraně obrovskou výhodu (nulové náklady) přes obranné zbraně (konečná instalace se skutečnými náklady) .</li>
<li class="">Upozorňujeme na ně, že dochází ke snížení výnosů k podávání stále více a více simultánních žádostí; dodatečné žádosti jen dále blokují požadavky jiných uživatelů; nevytvářejí pro ně obrovské zlepšení.</li>
<li class="">Připomeň jim, že jsou i jiní uživatelé (jak příležitostní uživatelé, tak i jiní uživatelé běžící skripty) , takže to není fér od nich, aby všechny ERDDAP Zdroje.</li>
<li class="">Poukaz na to, že techničtí obři přiměli uživatele, aby od webových služeb očekávali nekonečné zdroje. Zatímco existují způsoby, jak to nastavit <a class="" href="/cs/docs/server-admin/scaling">mřížky/klastry/federace ERDDAP án</a> k vytvoření ERDDAP™ systém s více zdroji, většina ERDDAP™ Správci nemají peníze ani lidi, kteří by takové systémy nastavili, a takový systém bude stále konečný. V ERD Například, je tu jedna osoba. (Já.) psaní ERDDAP™ , podávání dvou ERDDAP án (s pomocí mého šéfa) , a řízení několika zdrojů dat, vše s ročním hardwarovým rozpočtem ve výši 0 dolarů (spoléháme na příležitostné granty na zaplacení hardwaru) . To není Google, Facebook, Amazon, atd. se 100&#x27;s inženýrů, a miliony dolarů příjmů recyklovat do stále větších systémů. A nemůžeme jen tak hýbat ERDDAP™ například Amazon AWS, protože náklady na ukládání dat jsou velké a poplatky za výstup dat jsou velké a variabilní, zatímco náš rozpočet na externí služby je fixní 0 dolarů.</li>
<li class="">Mým požadavkem pro uživatele je: pro non-time-citlivé žádosti (což je zdaleka nejčastější případ) Jejich systém by měl podat jednu žádost najednou. Pokud jsou žádosti časově citlivé (např. více .pngs na webové stránce, více dlaždic pro WMS klient atd.) , pak možná 4 simultánní žádosti by měly být max (a jen na krátkou dobu) .</li>
<li class="">Pokud vysvětlíte situaci uživateli, většina uživatelů pochopí a bude ochotna provést nezbytné změny, abyste mohli odstranit jejich IP adresu z černé listiny.
 </li>
<li class="">Pro blacklist uživatele přidejte jejich numerickou IP adresu do čárkového seznamu IP adres v&lt;requestBlacklist&gt; ve vašem datasets.xml Složka. Chcete- li najít problémovou IP adresu uživatele, podívejte se do ERDDAP™   <em>velkýRodič rodičů</em> /logs/log.txt soubor ( <em>velkýRodič rodičů</em> je uvedeno v <a class="" href="/cs/docs/server-admin/deploy-install#setupxml">setup.xml</a> ) zjistit, zda tomu tak je, a najít IP adresu uživatele. IP adresa pro každou žádost je uvedena na řádku začínajícím &quot;{{{{#123;#&quot; a je 4 čísla oddělena například obdobími 123.45.67.8 . Hledání &quot;ERROR&quot; vám pomůže najít problémy, jako jsou neplatné žádosti.</li>
<li class="">Můžete také nahradit poslední číslo na IP adrese\<em>(například 202.109.200.\</em>) blokovat rozsah IP adres, 0-255.</li>
<li class="">Můžete také nahradit poslední 2 čísla v IP adrese\<em>.\</em>  (například 121.204.\<em>.\</em>) blokovat širší rozsah IP adres, 0-255.0-255.</li>
<li class="">Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;requestBlacklist&gt;98.76.54.321, 202.109.200.\\*, 121.204.\\*.\\*&lt;/requestBlacklist&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Nemusíš restartovat. ERDDAP™ pro změny&lt;requestBlacklist&gt; nabýt účinku. Změny budou detekovány příště ERDDAP™ kontroluje, zda je třeba znovu načíst některé soubory údajů. Nebo můžete urychlit proces návštěvou <a class="" href="/cs/docs/server-admin/additional-information#set-dataset-flag">setDataset URL vlajky</a> pro jakýkoli datový soubor.</li>
<li class="">Vaše ERDDAP™ denní zpráva obsahuje seznam/tálně těch nejaktivnějších povolených a blokovaných žadatelů.</li>
<li class="">Pokud chcete zjistit, jaká doména/instituce souvisí s numerickou IP adresou, můžete použít bezplatnou, reverzní DNS webovou službu jako <a href="https://network-tools.com/" target="_blank" rel="noopener noreferrer" class="">https://network-tools.com/</a> .</li>
<li class="">Mohou nastat chvíle, kdy má smysl blokovat určité uživatele na vyšší úrovni, například škodlivé uživatele. Například můžete blokovat jejich přístup ke všemu na vašem serveru, nejen ERDDAP . Na Linux, jedna taková metoda je použít <a href="https://www.linode.com/docs/guides/control-network-traffic-with-iptables/" target="_blank" rel="noopener noreferrer" class="">iptables</a> . Například můžete přidat pravidlo, které zablokuje vše přicházející z 198.51.100.0 příkazem
iptables -I INPUT -s 198.51.100.0 -J DROP</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="slowdowntroublemillis">&lt;ZpomalilTalloubleMillis&gt;<a href="#slowdowntroublemillis" class="hash-link" aria-label="Přímý odkaz na&lt;ZpomalilTalloubleMillis&gt;" title="Přímý odkaz na&lt;ZpomalilTalloubleMillis&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;slowDownTroubleMillis&gt; ** ] (# Slowdowntroublemillis) je vzácně používaná VOLITELNÁ tag v rámci&lt;erddapDatasets&gt; tag in datasets.xml který obsahuje celé číslo s uvedením počtu milisekund (výchozí=1000) zastavit při reakci na všechny neúspěšné žádosti, např. neznámý datový soubor, požadavek příliš velký, uživatel na černé listině. např.<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;slowDownTroubleMillis&gt;2000&lt;/slowDownTroubleMillis&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Pokud scénář podává jednu žádost okamžitě za druhou, pak by mohl rychle podat jednu špatnou žádost za druhou. S tímto nastavením můžete zpomalit selhávání skriptu, takže ERDDAP™ není zaplaven špatnými požadavky. Pokud člověk podá špatnou žádost, ani si nevšimnou tohoto zpoždění. Doporučení:</p>
<ul>
<li class="">Je-li to problém, je to rozptýlené zapírání služby (DDOS) útok 100+ útočníků, nastavte to na menší počet (100?) . Zpomalit je všechny příliš dlouho vede k příliš mnoho aktivním vláknům.</li>
<li class="">Pokud je problém z 1-10 zdrojů, nastavte to na 1000 ms (výchozí) , ale větší číslo (jako 10000) je také rozumný. To je zpomaluje, takže plýtvají méně síťových zdrojů. Také, 1000 ms nebo tak nebude otravovat lidské uživatele, kteří mají špatnou žádost.</li>
</ul>
<p>Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP™ čte datasets.xml , včetně odpovědi na soubor údajů <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> .
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="subscriptionemailblacklist">&lt;předplatnéEmailBlacklist&gt;<a href="#subscriptionemailblacklist" class="hash-link" aria-label="Přímý odkaz na&lt;předplatnéEmailBlacklist&gt;" title="Přímý odkaz na&lt;předplatnéEmailBlacklist&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;předplatné EmailBlacklist&gt; ** ] (#Předplatnémail blacklist) je vzácně používaná VOLITELNÁ tag v rámci&lt;erddapDatasets&gt; tag in datasets.xml který obsahuje čárku oddělený seznam e-mailových adres, které jsou okamžitě načerno <a href="https://coastwatch.pfeg.noaa.gov/erddap/subscriptions" target="_blank" rel="noopener noreferrer" class="">systém předplatného</a> , například<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;subscriptionEmailBlacklist&gt;bob@badguy.com, john@badguy.com&lt;/subscriptionEmailBlacklist&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Tohle je systém necitlivý na případy. Pokud je do tohoto seznamu přidána e-mailová adresa, pokud má tato e-mailová adresa předplatné, předplatné bude zrušeno. Pokud se e-mailová adresa v seznamu pokusí přihlásit, žádost bude zamítnuta. Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP™ čte datasets.xml , včetně odpovědi na soubor údajů <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> .
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="standard-text">Standardní text<a href="#standard-text" class="hash-link" aria-label="Přímý odkaz naStandardní text" title="Přímý odkaz naStandardní text" translate="no">​</a></h3>
<ul>
<li class="">
<p><a href="#standard-text" class=""> <strong>Standardní text</strong> </a> -- Existuje několik VOLITELNÝCH tagů (nejčastěji se používají vzácně) v rámci&lt;erddapDatasets&gt; tag in datasets.xml zadat text, který se objeví na různých místech v ERDDAP . Pokud chcete změnit výchozí text, zkopírujte existující hodnotu ze značky stejného jména v
<em>tomcat</em> /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util.messages.xml do datasets.xml , pak upravit obsah. Výhoda mít tyto v datasets.xml je, že můžete zadat nové hodnoty kdykoliv, i když ERDDAP™ Utíká. Jakékoli změny hodnot těchto značek nabudou účinku příště ERDDAP™ čte datasets.xml , včetně odpovědi na soubor údajů <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> . Jména tag popisují svůj účel, ale pro hlubší pochopení viz výchozí obsah zpráv.xml.</p>
</li>
<li class="">
<p>&lt;standardLicense&gt;</p>
</li>
<li class="">
<p>&lt;StandardKontakt&gt;</p>
</li>
<li class="">
<p>&lt;standardDataLicenses&gt;</p>
</li>
<li class="">
<p>&lt;StandardDisclaimerOfEndorsement&gt;</p>
</li>
<li class="">
<p>&lt;StandardDisclaimerOfExternalLinks&gt;</p>
</li>
<li class="">
<p>&lt;Norma GeneralDisclaimer&gt;</p>
</li>
<li class="">
<p>&lt;standardní PrivacyPolicy&gt;</p>
</li>
<li class="">
<p>&lt;startHeadHtml5&gt;</p>
</li>
<li class="">
<p>&lt;startBodyHtml5&gt; je dobrá značka pro změnu s cílem přizpůsobit vzhled horní části každé webové stránky ve vašem ERDDAP . Můžete to použít k přidání dočasné zprávy na ERDDAP™ domovská stránka (např. &quot;Podívejte se na nový soubor dat JPL MUR SST v4.1 ...&quot; nebo &quot;Toto ERDDAP™ bude offline pro údržbu 2019-05-08T17:00:00 PDT až 2019-05-08T20:00:00 PDT.&quot;) . Jeden vtip dát tuto značku do datasets.xml je: při restartu ERDDAP , první žádost o ERDDAP™ vrátí výchozí start BodyHtml5 HTML, ale každý další požadavek bude používat startBodyHtml5 HTML uvedené v datasets.xml .</p>
</li>
<li class="">
<p>&lt;ShortDescription Html&gt; je dobrá značka pro změnu pro přizpůsobení popisu ERDDAP . Všimněte si, že můžete snadno změnit toto přidat dočasnou zprávu na domovské stránce (např. &quot;Toto ERDDAP™ bude offline pro údržbu 2019-05-08T17:00:00 PDT až 2019-05-08T20:00:00 PDT.&quot;) .</p>
</li>
<li class="">
<p>&lt;EndBodyHtml5&gt;</p>
</li>
</ul>
<p>Před ERDDAP™ v2.00, tyto byly specifikovány v nastavení.xml, který je stále povoleno, ale odrazen.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="unusualactivity">&lt;neobvyklé Aktivita&gt;<a href="#unusualactivity" class="hash-link" aria-label="Přímý odkaz na&lt;neobvyklé Aktivita&gt;" title="Přímý odkaz na&lt;neobvyklé Aktivita&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;neobvykláaktivita&gt; ** ] (#neobvyklá aktivita) je vzácně používaná VOLITELNÁ tag v rámci&lt;erddapDatasets&gt; tag in datasets.xml k určení maximálního počtu žádostí mezi dvěma řadami souborů LoadDatasets, které jsou považovány za normální (výchozí hodnota=10000) . Pokud je toto číslo překročeno, e-mail je odeslán na e-mailEverythingTo (jak je uvedeno v setup.xml) . např.<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;unusualActivity&gt;10000&lt;/unusualActivity&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP™ čte datasets.xml , včetně odpovědi na soubor údajů <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> . Před ERDDAP™ v2.00, to bylo uvedeno v nastavení.xml, který je stále povoleno, ale odrazen.
 </p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="updatemaxevents">&lt;Aktualizace MaxEvents&gt;<a href="#updatemaxevents" class="hash-link" aria-label="Přímý odkaz na&lt;Aktualizace MaxEvents&gt;" title="Přímý odkaz na&lt;Aktualizace MaxEvents&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;updateMaxEvents&gt; ** ] (#updatemaxevents) je vzácně používaná VOLITELNÁ tag v rámci&lt;erddapDatasets&gt; tag in datasets.xml zadat maximální počet událostí změny souboru (výchozí=10) který bude řešen [&lt;updateEveryNMillis&gt;] (#update everynmillis) systém před přepnutím na opětovné načtení datového souboru. Například,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;updateMaxEvents&gt;10&lt;/updateMaxEvents&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>UpdateEveryNMillis system má běžet velmi rychle těsně před zpracováním požadavku uživatele. Pokud existuje mnoho událostí změny souboru, pak pravděpodobně nemůže běžet rychle, takže místo toho volá po opětovném načtení souboru. Jestliže ERDDAP™ se zabývá soubory dat, které musí být aktualizovány, i když dochází ke změnám velkého počtu datových souborů, můžete to nastavit na větší číslo (100?) .</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="user">&lt;uživatel&gt;<a href="#user" class="hash-link" aria-label="Přímý odkaz na&lt;uživatel&gt;" title="Přímý odkaz na&lt;uživatel&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;uživatel &gt; ** ] (# user) je VOLITELNÁ tag v rámci&lt;erddapDatasets&gt; tag in datasets.xml které identifikuje uživatelské jméno uživatele, heslo (pokud autentizace=custom) , a role (seznam oddělených čárek) . Použití uživatelského jména a hesla se mírně liší podle hodnoty [&lt;autentizace&gt;] (/docs/server-admin/dodatečné informace#authentication) ve Vašem ERDDAP &#x27;s nastavit.xml soubor.<!-- -->
<ul>
<li class="">Tohle je část ERDDAP &#x27;s <a class="" href="/cs/docs/server-admin/additional-information#security">bezpečnostní systém</a> za omezení přístupu k některým datům pro některé uživatele.</li>
<li class="">Oddělit&lt;user &gt; tag pro každého uživatele. Volitelně, pokud autentizace=oauth2, můžete nastavit dvě&lt;uživatel &gt; značky pro každého uživatele: jeden pro případ, kdy se uživatel přihlásí přes Google, jeden pro kdy uživatel přihlásí přes Orcid, pravděpodobně se stejnými rolemi.</li>
<li class="">Pokud není&lt;user&gt; tag pro klienta, bude mít přístup pouze k veřejným souborům dat, tj. souborům, které nemají [&lt;accessTo&gt;] (#přístupný) Tagu.</li>
<li class="">uživatelské jméno
Pro autentizaci=zákaz je uživatelské jméno obvykle kombinací písmen, číslic, podtrhuje a period.
Pro autentizaci=email je uživatelské jméno e-mailovou adresou uživatele. Může to být jakákoli e-mailová adresa.
Pro autentizaci=google je uživatelské jméno plnou adresou uživatele Google. To zahrnuje účty vedené společností Google, jako je @noaa.gov účty.
Pro autentizaci=orcid je uživatelské jméno číslo účtu uživatele Orcid (s pomlčkami) .
Pro autentizaci=oauth2 je uživatelské jméno úplná e-mailová adresa uživatele Google nebo číslo účtu uživatele Orcid (s pomlčkami) .</li>
<li class="">heslo
Pro autentizaci=email, google, orcid, nebo oauth2, nespecifikujte atribut hesla.
Pro autentizaci=custom musíte pro každého uživatele zadat atribut hesla.<!-- -->
<ul>
<li class="">Hesla, která uživatelé zadávají, jsou případově citlivá a musí mít 8 nebo více znaků, takže je těžší je rozlousknout. V současné době lze i 8 znaků rychle a levně rozluštit hrubou silou pomocí clusteru počítačů na AWS. ERDDAP™ Vymáhá minimálně 8 znaků, pouze když se uživatel pokusí přihlásit (ne když&lt;user &gt; tag je zpracováván, protože tento kód vidí pouze hash dist hesla, ne prostý text heslo).</li>
<li class="">setup.xml&lt;Heslo Kódování&gt; určuje, jak jsou hesla uložena v&lt;uživatel &gt; značky v datasets.xml . V zájmu zvýšení bezpečnosti jsou tyto možnosti:<!-- -->
<ul>
<li class=""><a href="https://en.wikipedia.org/wiki/MD5" target="_blank" rel="noopener noreferrer" class="">MD5</a>   (Nepoužívej to!) -- pro atribut hesla zadejte hash dist uživatele.</li>
<li class="">UEPMD5 (Nepoužívej to!) -- pro atribut hesla zadejte MD5 hash dist <em>uživatelské jméno</em> : ERDDAP : <em>heslo</em> . Uživatelské jméno a &quot; ERDDAP &quot;jsou zvyklí <a href="https://en.wikipedia.org/wiki/Salt_(cryptography)" target="_blank" rel="noopener noreferrer" class="">sůl</a> hodnotu hašiše, takže je obtížnější dekódovat.</li>
<li class=""><a href="https://en.wikipedia.org/wiki/SHA-2" target="_blank" rel="noopener noreferrer" class="">SHA256</a>   (nedoporučuje se) -- pro atribut hesla zadejte SHA-256 hash dist uživatelského hesla.</li>
<li class="">UEPSHA256 (výchozí, doporučené heslo Kódování. Ale mnohem lepší: použijte Google, orchideje, nebo Oauth2 možnosti ověřování.) -- pro atribut hesla zadejte SHA-256 hash dist <em>uživatelské jméno</em> : ERDDAP : <em>heslo</em> . Uživatelské jméno a &quot; ERDDAP &quot; se používají k osolení hašišové hodnoty, takže je obtížnější dekódovat.</li>
</ul>
</li>
<li class="">Na Windows můžete generovat hodnoty MD5 Heslo dist pomocí stahování programu MD5 (např. <a href="https://www.fourmilab.ch/md5/" target="_blank" rel="noopener noreferrer" class="">MD5</a> ) a použití (například) :
md5 -djsmith: ERDDAP : <em>aktuálníHeslo</em></li>
<li class="">Na Linux/Unix můžete generovat hodnoty MD5 dist pomocí vestavěného md5sum programu (například) :
echo-n &quot;Jsmith: ERDDAP : <em>aktuálníHeslo</em> &quot; | md5sum</li>
<li class="">Uložený prostý text hesla jsou případově citlivé. Uložené formy hesel MD5 a UEPMD5 nejsou případově citlivé.</li>
<li class="">Například (pomocí UEPMD5) , pokud uživatelské jméno=&quot;jsmith&quot; a heslo=&quot;myPassword&quot;&lt;user &gt; tag je:</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;user username=&quot;jsmith&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            password=&quot;57AB7ACCEB545E0BEB46C4C75CEC3C30&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            roles=&quot;JASmith, JASmithGroup&quot; /&gt;  </span><br></span></code></pre></div></div>
<p>kde bylo uložené heslo generováno s
md5 -djsmith: ERDDAP <!-- -->:myPassword</p>
<ul>
<li class="">role jsou čárkou oddělený seznam rolí, pro které je uživatel oprávněn. Jakýkoli&lt;Soubor údajů &gt; může mít [&lt;accessTo&gt;] (#přístupný) tag, který obsahuje seznam rolí, ke kterým lze přistupovat. U daného uživatele a daného datového souboru, pokud jedna z rolí v seznamu úloh uživatele odpovídá jedné z rolí uvedených v seznamu datového souboru&lt;accessableTo&gt; role, pak je uživatel oprávněn k přístupu k tomuto datovému souboru.</li>
</ul>
<p>Každý uživatel, který se přihlásí, je automaticky uveden v roli \[ Kdokoliv Přidán In \] , zda existuje&lt;tag pro uživatele <em>BAR</em> datasets.xml nebo ne. Takže pokud má daný datový soubor</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;accessibleTo&gt;\\[anyoneLoggedIn\\]&lt;/accessibleTo&gt;  </span><br></span></code></pre></div></div>
<p>pak každý uživatel, který je přihlášen, bude oprávněn k přístupu k tomuto souboru dat, i když neexistuje&lt;tag pro uživatele <em>BAR</em> datasets.xml .</p>
<ul>
<li class="">Jakékoli změny hodnoty této značky nabudou účinku příště ERDDAP™ čte datasets.xml , včetně odpovědi na soubor údajů <a class="" href="/cs/docs/server-admin/additional-information#flag">vlajka</a> .
 </li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pathregex">&lt;CestaRegex&gt;<a href="#pathregex" class="hash-link" aria-label="Přímý odkaz na&lt;CestaRegex&gt;" title="Přímý odkaz na&lt;CestaRegex&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;pathRegex&gt; ** ] (#pathragex) umožňuje zadat regulární výraz, který omezuje cestu (které podadresáře) budou zahrnuty do souboru údajů. Výchozí je .\*, která odpovídá všem cestám. To je vzácně používané, vzácně potřebné, VOLITELNÁ tag pro EDDGrid Databáze souborů FromFiles, datové soubory EDDTableFromFoles a několik dalších typů souborů dat. Nicméně, když to potřebuješ, opravdu to potřebuješ.</li>
</ul>
<p>Aby to fungovalo, musíš být opravdu dobrý s pravidelnými výrazy. Vidíš tohle? <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html" target="_blank" rel="noopener noreferrer" class="">dokumentace regexu</a> a <a href="https://www.vogella.com/tutorials/JavaRegularExpressions/article.html" target="_blank" rel="noopener noreferrer" class="">reflexní tutoriál</a> . Zejména potřebujete vědět o zachycovacích skupinách (něco uvnitř závorky) , a &quot;nebo&quot; symbol &quot; | &quot;.
Společně vám umožní určit libovolný počet možností, např. (možnost1 | možnost2 | možnost3) .
Taky žádná z možností nemůže být nic, např., ( | možnost2 | možnost3) .
Také je třeba vědět, že zachycovací skupiny mohou být vnořeny do hnízda, tj. každá možnost v zachycovací skupině může obsahovat další skupinu, např. ( | možnost2 ( | možnost2 b | option2c)  | možnost3) což říká, že možnost 2 nemůže být následována ničím, nebo option2b, nebo option2c.
Pro cestuRegexes bude každá volba jedním jménem složky následovaným /, např., bar/ .</p>
<p>Obtížná část cestyRegex je: ERDDAP™ Rekurzivně sestupuje strom adresáře, cestaRegex musí přijmout všechny cesty, se kterými se setká na své cestě do adresářů s daty. Regex je s hnízděnými zajatci je dobrý způsob, jak se s tím vypořádat.</p>
<p>Příklad:
Předpokládejme, že máme následující strukturu adresáře:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/foo/bar/D0001/a/\\*.nc  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/foo/bar/D0001/b/\\*.nc  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/foo/bar/D0002/a/\\*.nc  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/foo/bar/D0002/b/\\*.nc  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/foo/bar/E0001/a/\\*.nc  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...  </span><br></span></code></pre></div></div>
<p>a zadaný souborAdresář je /foo/bar/, a chceme jen .nc soubory v D \[ 0-9 \] {4}/ a/ subdirectories.
Řešením je nastavit cestuRegex na /foo/bar/ ( | D \[ 0-9 \] {4}/ ( | a/) )<br>
<!-- -->To znamená:
Cesta musí začít s /foo/bar/
To může následovat nic nebo D \[ 0-9 \] {4}/
To může následovat nic nebo a/</p>
<p>Ano, cesta Regex se dá neuvěřitelně těžko formulovat. Pokud se zaseknete, zeptejte se počítačového programátora (Nejbližší věc ve skutečném světě kouzelnickému zaříkávání?) nebo poslat Chrisovi e-mail. John v Noaa.gov.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dataset">&lt;Databáze&gt;<a href="#dataset" class="hash-link" aria-label="Přímý odkaz na&lt;Databáze&gt;" title="Přímý odkaz na&lt;Databáze&gt;" translate="no">​</a></h3>
<ul>
<li class="">[ ** &lt;Databáze &gt; ** ] (#Dataset) VOLITELNĚ (ale vždy použité) označení uvnitř&lt;erddapDatasets&gt; tag in datasets.xml že (pokud zahrnete všechny informace mezi&lt;Soubor údajů &gt; a&lt;/dataset&gt;) zcela popisuje jeden datový soubor. Například,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;dataset type=&quot;EDDGridFromDap&quot; datasetID=&quot;erdPHssta8day&quot; active=&quot;true&quot;&gt; ... &lt;/dataset&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>MŮŽE být nějaký počet značek datového souboru ve vašem datasets.xml Složka.
V rámci&lt;Soubor údajů &gt; značka:
 </p>
<ul>
<li class=""><strong>type=&quot; <em>a Typ</em> &quot;</strong> je požadovaný atribut v rámci&lt;Soubor údajů &gt; značka v datasets.xml který identifikuje typ datového souboru (např. EDDGrid /gridd nebo EDDTable/tabulární soubor dat) a zdroj údajů (například databáze, soubory nebo vzdálená OPeNDAP server) . Viz <a href="#list-of-types-datasets" class=""> <strong>Seznam typů datových souborů</strong> </a> .
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="datasetid">Soubor údajů Id<a href="#datasetid" class="hash-link" aria-label="Přímý odkaz naSoubor údajů Id" title="Přímý odkaz naSoubor údajů Id" translate="no">​</a></h4>
<ul>
<li class=""><a href="#datasetid" class=""> ** datasetID =&quot; <em>aDatasetID</em> &quot;** </a> je požadovaný atribut v rámci&lt;Databáze &gt; značka, která přiřazuje krátký (obvykle&lt;15 znaků), jedinečné, identifikační jméno datového souboru.</li>
<li class="">The datasetID Musí to být písmeno. (A-Z, a-z) následované libovolným počtem A-Z, A-Z, 0-9 a \_ (ale nejlepší pokud&lt;Celkem 32 znaků).</li>
<li class="">Soubor dat ID jsou citlivé na případ, ale nevytvářejte dva datasetID s, které se liší pouze v horních/ dolních písmenech. To způsobí problémy na Windows počítačích (Váš a/nebo uživatelský počítač) .</li>
<li class="">Osvědčené postupy: Doporučujeme použít <a href="https://en.wikipedia.org/wiki/CamelCase" target="_blank" rel="noopener noreferrer" class="">velbloud Případ</a> .</li>
<li class="">Osvědčené postupy: Doporučujeme, aby první část byla zkratkou nebo zkratkou jména zdrojové instituce a druhá část zkratkou jména datového souboru. Pokud je to možné, vytvoříme název, který odráží název zdroje pro datový soubor. Například jsme použili datasetID =&quot;erdPH sst a8day&quot; pro soubor údajů z NOAA   NMFS   SWFSC Oddělení environmentálního výzkumu ( ERD ) který je určen zdrojem jako satelit/PH/ sst 8 dní.</li>
<li class="">Pokud změníte název datového souboru, starý datový soubor (se starým jménem) budou stále žít v ERDDAP . To je &quot;orfan&quot; soubor, protože specifikace pro něj v datasets.xml je pryč. To musí být řešeno:<!-- -->
<ol>
<li class="">Pro ERDDAP™ V2.19 a později nemusíš dělat nic. ERDDAP™ automaticky odstraní tyto sirotčí soubory.</li>
<li class="">Pro ERDDAP™ V2.18 a dříve musíte udělat něco pro odstranění osiřelých souborů: Vytvořit datový soubor aktivní=&quot;false,&quot; např.</li>
</ol>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;dataset type=&quot;EDDTableFromNcFiles&quot; datasetID=&quot;*theOldName*&quot; active=&quot;false&quot; /&gt;  </span><br></span></code></pre></div></div>
<p>Po dalším velkém zatížení datové soubory, Tuto značku můžete odstranit poté, co je starý datový soubor neaktivní.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="active">aktivní<a href="#active" class="hash-link" aria-label="Přímý odkaz naaktivní" title="Přímý odkaz naaktivní" translate="no">​</a></h4>
<ul>
<li class=""><a href="#active" class=""> <strong>active=&quot; <em>boolean</em> &quot;</strong> </a> je VOLITELNÝ atribut v rámci&lt;Soubor údajů &gt; značka v datasets.xml který označuje, zda je soubor údajů aktivní (způsobilé pro použití v ERDDAP ) nebo ne.</li>
<li class="">Platné hodnoty jsou pravdivé (výchozí) a falešné.</li>
<li class="">Vzhledem k tomu, že výchozí hodnota je pravdivá, nemusíte používat tento atribut, dokud nechcete dočasně nebo trvale odstranit tento soubor z ERDDAP .</li>
<li class="">Pokud jen odstraníte soubor Active=&quot;true&quot; z datasets.xml , soubor údajů bude stále aktivní v ERDDAP™ ale nikdy nebude aktualizován. Takový datový soubor bude &quot;orfan&quot; a bude jako takový uveden ve statutu. html webová stránka přímo pod seznamem souborů, které se nepodařilo načíst.</li>
<li class="">Pokud nastavíte aktivní=&quot;false,&quot; ERDDAP™ bude deaktivovat soubor údajů, když se příště pokusí aktualizovat soubor údajů. Když to uděláš, ERDDAP™ nevyhazuje žádné informace, které by mohly být uloženy o datovém souboru a rozhodně nedělá nic s aktuálními údaji.</li>
<li class="">Za účelem odstranění datového souboru ERDDAP™ , viz <a class="" href="/cs/docs/server-admin/additional-information#removing-datasets">Vynutit odstranění dat</a> .
 </li>
</ul>
<p>** Několik značek se může objevit mezi&lt;Soubor údajů &gt; a&lt;/dataset&gt; značky. **<br>
<!-- -->Existuje určitá odchylka, ve které značky jsou povoleny, které typy souborů dat. Viz dokumentace pro konkrétní <a href="#list-of-types-datasets" class="">typ datového souboru</a> pro detaily.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="accessibleto">&lt;přístupný Na...<a href="#accessibleto" class="hash-link" aria-label="Přímý odkaz na&lt;přístupný Na..." title="Přímý odkaz na&lt;přístupný Na..." translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;přístupný To&gt; ** ] (#přístupný) je VOLITELNÁ tag v rámci&lt;tag datového souboru &gt;, který určuje čárkový seznam <a href="#user" class="">role</a> které mají přístup k tomuto souboru údajů. Například,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;accessibleTo&gt;RASmith, NEJones&lt;/accessibleTo&gt;  </span><br></span></code></pre></div></div>
<ul>
<li class="">Tohle je část ERDDAP &#x27;s <a class="" href="/cs/docs/server-admin/additional-information#security">bezpečnostní systém</a> za omezení přístupu k některým datům pro některé uživatele.</li>
<li class="">Pokud tato značka není přítomna, všichni uživatelé (i když se nepřihlásili) bude mít přístup k tomuto datovému souboru.</li>
<li class="">Pokud je tato značka přítomna, bude tento soubor viditelný a přístupný pouze pro přihlášené uživatele, kteří mají jednu z uvedených rolí. Tento soubor nebude viditelný pro uživatele, kteří nejsou přihlášeni.</li>
<li class="">Každý uživatel, který se přihlásí, je automaticky uveden v roli \[ Kdokoliv Přidán In \] , zda existuje&lt;tag pro uživatele <em>BAR</em> datasets.xml nebo ne. Takže pokud má daný datový soubor</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;accessibleTo&gt;\\[anyoneLoggedIn\\]&lt;/accessibleTo&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>pak každý uživatel, který je přihlášen, bude oprávněn k přístupu k tomuto souboru dat, i když neexistuje&lt;tag pro uživatele <em>BAR</em> datasets.xml .
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="graphsaccessibleto">&lt;grafyPřístupnépro&gt;<a href="#graphsaccessibleto" class="hash-link" aria-label="Přímý odkaz na&lt;grafyPřístupnépro&gt;" title="Přímý odkaz na&lt;grafyPřístupnépro&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;grafyPřístupnéTo&gt; ** ] (#grafsaccessibleto) je VOLITELNÁ tag v rámci&lt;Soubor údajů &gt; značka v datasets.xml která určuje, zda jsou grafika a metadata pro datový soubor k dispozici veřejnosti. Nabízí způsob, jak částečně přepsat datový soubor [&lt;accessTo&gt;] (#přístupný) Nastavení. Přípustné hodnoty jsou:<!-- -->
<ul>
<li class="">auto -- Tato hodnota (nebo absence&lt;grafyPříslušnéTo&gt; tag pro datový soubor) umožňuje přístup k grafům a metadatům z datového souboru napodobovat soubor dat&lt;accessableTo&gt; nastavení.
Takže pokud je datový soubor soukromý, jeho grafy a metadata budou soukromé.
A pokud je datový soubor veřejný, jeho grafy a metadata budou veřejné.</li>
<li class="">veřejný -- Toto nastavení umožňuje přístup k grafům a metadatům datového souboru komukoli, dokonce i uživatelům, kteří nejsou přihlášeni, i když je soubor dat jinak soukromý, protože má&lt;accessedTo&gt; tag.
 </li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="accessibleviafiles">&lt;přístupný ViaFiles&gt;<a href="#accessibleviafiles" class="hash-link" aria-label="Přímý odkaz na&lt;přístupný ViaFiles&gt;" title="Přímý odkaz na&lt;přístupný ViaFiles&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;accessibleViaFiles &gt; ** ] (#Accessibleviafiles) je VOLITELNÁ tag v rámci&lt;Soubor údajů &gt; značka v datasets.xml místo <a href="#eddgridaggregateexistingdimension" class=""> EDDGrid AgregátExistujícíRozměr</a> , <a href="#eddgridcopy" class=""> EDDGrid Kopírovat</a> , <a href="#eddgridfromeddtable" class=""> EDDGrid OdEDDTable</a> , <a href="#eddfromerddap" class=""> EDDGrid FromErddap</a> , <a href="#eddgridfrometopo" class=""> EDDGrid OdEtopa</a> , <a href="#eddgridfromfiles" class=""> EDDGrid FromFiles</a>   (včetně všech podtříd) , <a href="#eddgridsidebyside" class=""> EDDGrid SideBySide</a> , <a href="#eddtablecopy" class="">EDDtableCopy</a>   <a href="#eddfromerddap" class="">EDDTableFromErddap</a> , <a href="#eddtablefromeddgrid" class="">EDDTableFrom EDDGrid </a> a <a href="#eddtablefromfiles" class="">EDDTableFromFoles</a>   (včetně všech podtříd) Data. Může mít hodnotu pravdy nebo lži. Například,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;accessibleViaFiles&gt;true&lt;/accessibleViaFiles&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Pokud je hodnota pravdivá, ERDDAP™ bude to tak, aby uživatelé mohli procházet a stahovat zdrojové soubory datového souboru prostřednictvím ERDDAP &#x27;s <a href="https://coastwatch.pfeg.noaa.gov/erddap/files/" target="_blank" rel="noopener noreferrer" class=""> &quot;files&quot; systém</a> . Viz &quot;files&quot; systém <a href="https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html" target="_blank" rel="noopener noreferrer" class="">Dokumentace</a> pro více informací.</p>
<p>Výchozí hodnota&lt;accessibleViaFiles &gt; pochází z&lt;defaultAccessibleViaFiles&gt; v <a class="" href="/cs/docs/server-admin/deploy-install#setupxml">setup.xml</a> . Má výchozí hodnotu false, ale doporučujeme přidat tento tag do nastavení.xml s hodnotou true.</p>
<p>Doporučení -- Doporučujeme zpřístupnit všechny příslušné soubory prostřednictvím systému souborů nastavením&lt;defaultAccessibleViaFiles&gt; to true in setup.xml, protože existuje skupina uživatelů, pro které je to preferovaný způsob, jak získat data. Kromě jiných důvodů &quot;files&quot; systém usnadňuje uživatelům sledovat, které soubory jsou k dispozici a kdy se naposledy změnily, a tak umožňuje uživateli udržovat si vlastní kopii celého datového souboru. Pokud obecně nechcete zpřístupnit soubory prostřednictvím systému souborů, nastavit&lt;defaultAccessibleViaFiles &gt; to false. V obou případech stačí použít&lt;přístupnéViaFiles&gt; pro několik souborů údajů, které jsou výjimkami z obecné politiky stanovené&lt;defaultAccessibleViaFiles&gt; (například při použití datového souboru <a href="#ncml-files" class=""> .nc ml</a> soubory, které nejsou opravdu užitečné pro uživatele) .
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="accessibleviawms">&lt;přístupný Via WMS &gt;<a href="#accessibleviawms" class="hash-link" aria-label="Přímý odkaz na&lt;přístupný Via WMS &gt;" title="Přímý odkaz na&lt;přístupný Via WMS &gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;přístupný Via WMS &gt; ** ] (#Accessibleviawms) je VOLITELNÁ tag v rámci&lt;Soubor údajů &gt; značka v datasets.xml pro všechny <a href="#eddgrid" class=""> EDDGrid </a> podtřídy. Může mít hodnotu pravdy. (výchozí) nebo falešně. Například,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;accessibleViaWMS&gt;true&lt;/accessibleViaWMS&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Pokud je hodnota falešná, ERDDAP &#x27;s WMS server nebude pro tento soubor k dispozici. To se běžně používá pro soubory údajů, které mají některé hodnoty délky větší než 180 (který je technicky neplatný WMS Služby) , a pro které nabízíte také variantu datového souboru s hodnotami délky zcela v rozmezí -180 až 180 přes <a href="#eddgridlonpm180" class=""> EDDGrid LonPM180</a> .
Pokud je hodnota pravdivá, ERDDAP™ se pokusí zpřístupnit datový soubor prostřednictvím ERDDAP &#x27;s WMS server. Ale pokud je datový soubor zcela nevhodný pro WMS   (Například neexistují údaje o délce nebo šířce) , pak soubor nebude k dispozici prostřednictvím ERDDAP &#x27;s WMS server, bez ohledu na toto nastavení.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="addvariableswhere">&lt;přidat Proměnné Kde?<a href="#addvariableswhere" class="hash-link" aria-label="Přímý odkaz na&lt;přidat Proměnné Kde?" title="Přímý odkaz na&lt;přidat Proměnné Kde?" translate="no">​</a></h4>
<ul>
<li class="">[&lt;addVariablesKde &gt;] (#Addvariableswhere) je VOLITELNÝ tag uvnitř&lt;Soubor údajů &gt; tag pro všechny soubory údajů z databáze EDDTable.</li>
</ul>
<p>Žádosti o libovolný datový soubor podle protokolu EDDTable mohou zahrnovat &amp;add Proměnné kde (&quot; <em>atribut Název</em> &quot;,&quot; <em>atribut Hodnota</em> &quot;) , který říká ERDDAP™ přidat všechny proměnné do datového souboru, kde <em>atributName=attributeValue</em> na seznam požadovaných proměnných. Například pokud uživatel přidá &amp;add Proměnné kde (&quot; ioos\_category &quot;&quot;Vítr&quot;) na dotaz, ERDDAP přidá všechny proměnné v datovém souboru, které mají ioos\_category =Wind atribut seznamu požadovaných proměnných (například windSpeed, windDirection, windGustSpeed) . <em>atribut Název</em> a <em>atribut Hodnota</em> jsou citlivé na případy.</p>
<p>In datasets.xml , pokud část datového souboru.xml pro datový soubor má</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;addVariablesWhere&gt;*attributeNamesCSV*&lt;addVariablesWhere&gt;  </span><br></span></code></pre></div></div>
<p>například:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;addVariablesWhere&gt;ioos\\_category,units&lt;addVariablesWhere&gt;  </span><br></span></code></pre></div></div>
<p>formulář pro přístup k údajům (.html webová stránka) pro soubor bude obsahovat widget (pro každý atributJméno v čárce odděleném seznamu) přímo pod seznamem proměnných, které umožňují uživatelům určit hodnotu atributu. Pokud uživatel zvolí hodnotu atributu pro jeden nebo více jmen atributů, budou k žádosti přidány prostřednictvím &amp;add Proměnné kde (&quot; <em>atribut Název</em> &quot;,&quot; <em>atribut Hodnota</em> &quot;) . Proto tento štítek datasets.xml umožňuje zadat seznam jmen atributů, které se zobrazí ve formuláři pro přístup k datům pro tento datový soubor, a umožňuje uživatelům přidat &amp;addVariables Kde funkce na žádost. The <em>atributNázevsCSV</em> Seznam je citlivý na případy.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="altitudemeterspersourceunit">&lt;nadmořská výškaMeteřiPerSourceUnit&gt;<a href="#altitudemeterspersourceunit" class="hash-link" aria-label="Přímý odkaz na&lt;nadmořská výškaMeteřiPerSourceUnit&gt;" title="Přímý odkaz na&lt;nadmořská výškaMeteřiPerSourceUnit&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;nadmořské výškyMatersPerSourceUnit&gt; ** ] (#Altitudemetrypersourceunit) je VOLITELNÝ tag uvnitř&lt;Databáze &gt; značka v souborech dat. xxml pro EDDTableFrom SOS Soubory údajů (Jen!) která udává číslo, které se vynásobí výchozí nadmořskou výškou nebo hodnotami hloubky pro jejich přeměnu na hodnoty výšky (v metrech nad hladinou moře) . Například,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;altitudeMetersPerSourceUnit&gt;-1&lt;/altitudeMetersPerSourceUnit&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Tato značka MUSÍ být použita, pokud hodnoty vertikální osy datového souboru nejsou metry, pozitivní=up. Jinak je to VOLITELNÉ, protože výchozí hodnota je 1. Například,</p>
<ul>
<li class="">Pokud je zdroj již měřen v metrech nad hladinou moře, použijte 1 (nebo nepoužívejte tuto značku, protože 1 je výchozí hodnota) .</li>
<li class="">Pokud se zdroj měří v metrech pod hladinou moře, použijte -1.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;altitudeMetersPerSourceUnit&gt;-1&lt;/altitudeMetersPerSourceUnit&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Pokud se zdroj měří v km nad mořem, použijte 0.001.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="defaultdataquery">&lt;defaultDataQuery&gt;<a href="#defaultdataquery" class="hash-link" aria-label="Přímý odkaz na&lt;defaultDataQuery&gt;" title="Přímý odkaz na&lt;defaultDataQuery&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;defaultDataQuery&gt; ** ] (#defaultdataquery) je VOLITELNÁ tag v rámci&lt;Soubor údajů &gt; značka v datasets.xml To říká ERDDAP™ použít zadaný dotaz (část URL za &quot;?&quot;) pokud je soubor .html Typ (formulář pro přístup k údajům) je požadováno bez dotazu.<!-- -->
<ul>
<li class="">Tohle budete pravděpodobně potřebovat jen zřídka.</li>
<li class="">Potřebujete XML kód (ne procentní kód) výchozí dotazy, protože jsou v XML dokumentu. Například se stane &amp; ,&lt;se stane&lt;, &gt; se stává &gt; .</li>
<li class="">Prosím, zkontrolujte si práci. Je snadné udělat chybu a nedostat to, co chcete. ERDDAP™ Pokusí se očistit vaše chyby -- ale nespoléhejte se na to, protože\*Jak\*se může změnit.</li>
<li class="">Pro soubory dat o souřadnicích je společným použitím tato hodnota určena pro jinou hodnotu výchozí hloubky nebo nadmořské výšky. (například: \[ 0 \] místo \[ poslední \] ) .
V každém případě byste měli vždy uvést všechny proměnné, vždy použít stejné hodnoty rozměrů pro všechny proměnné a téměř vždy použít \[ 0 \] , \[ poslední \] nebo \[ 0: poslední \] pro hodnoty rozměrů.
Například:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;defaultDataQuery&gt;u\\[last\\]\\[0\\]\\[0:last\\]\\[0:last\\],v\\[last\\]\\[0\\]\\[0:last\\]\\[0:last\\]&lt;/defaultDataQuery&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Pro tabledap Databáze, pokud neurčíte žádné omezení, žádost vrátí celý soubor údajů, který může být neprakticky velký, v závislosti na datovém souboru. Pokud nechcete určit žádná omezení, spíše než mít prázdný&lt;defaultDataQuery&gt; (což je stejné jako nespecifikovat selhání DataQuery) , musíte explicitně vyjmenovat všechny proměnné, které chcete zahrnout do defaultDataQuery.</li>
<li class="">Pro tabledap Nejběžnějším použitím těchto údajů je určit jiný výchozí časový rozsah (vzhledem k max. (čas) Například &amp;time &gt;=max (čas) -1day, nebo vzhledem k teď, například, &amp;time &gt;= now- 1 den) .
Nezapomeňte, že požadavek na žádné datové proměnné je stejný jako určení všech datových proměnných, takže obvykle můžete jen zadat nové časové omezení.
Například:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;defaultDataQuery&gt;&amp;amp;time&amp;gt;=max(time)-1day&lt;/defaultDataQuery&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>nebo</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;defaultDataQuery&gt;&amp;amp;time&amp;gt;=now-1day&lt;/defaultDataQuery&gt;  </span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="defaultgraphquery">&lt;defaultGraphQuery&gt;<a href="#defaultgraphquery" class="hash-link" aria-label="Přímý odkaz na&lt;defaultGraphQuery&gt;" title="Přímý odkaz na&lt;defaultGraphQuery&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;defaultGraphQuery&gt; ** ] (#defaultgraphquery) je VOLITELNÁ tag v rámci&lt;Soubor údajů &gt; značka v datasets.xml To říká ERDDAP™ použít zadaný dotaz (část URL za &quot;?&quot;) pokud soubor .graph Typ (zformovat graf) je požadováno bez dotazu.<!-- -->
<ul>
<li class="">Tohle budete pravděpodobně potřebovat jen zřídka.</li>
<li class="">Potřebujete XML kód (ne procentní kód) výchozí dotazy, protože jsou v XML dokumentu. Například se stane &amp; ,&lt;se stane&lt;, &gt; se stává &gt; .</li>
<li class="">Prosím, zkontrolujte si práci. Je snadné udělat chybu a nedostat to, co chcete. ERDDAP™ Pokusí se očistit vaše chyby -- ale nespoléhejte se na to, protože\*Jak\*se může změnit.</li>
<li class="">U datových souborů mřížky je nejčastějším použitím těchto údajů určit jinou hodnotu výchozí hloubky nebo rozměr výšky. (například: \[ 0 \] místo \[ poslední \] ) a/nebo upřesnit, že konkrétní proměnná je grafizována.
V každém případě budete téměř vždy používat \[ 0 \] , \[ poslední \] nebo \[ 0: poslední \] pro hodnoty rozměrů.
Například:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;defaultGraphQuery&gt;temp\\[last\\]\\[0\\]\\[0:last\\]\\[0:last\\]&amp;amp;.draw=surface&amp;amp;.vars=longitude|latitude|temp&lt;/defaultGraphQuery&gt;  </span><br></span></code></pre></div></div>
<!-- -->(ale dát to všechno na jeden řádek)<!-- -->
<ul>
<li class="">Pro tabledap Databázové soubory, pokud neurčíte žádné omezení, bude požadavek grafizovat celý datový soubor, který může trvat dlouho, v závislosti na datovém souboru.</li>
<li class="">Pro tabledap Nejběžnějším použitím těchto údajů je určit jiný výchozí časový rozsah (vzhledem k max. (čas) Například &amp;time &gt;=max (čas) -1day, nebo vzhledem k teď, například, &amp;time &gt;= now- 1 den) .
Nezapomeňte, že požadavek na žádné datové proměnné je stejný jako určení všech datových proměnných, takže obvykle můžete jen zadat nové časové omezení.
Například:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;defaultGraphQuery&gt;&amp;amp;time&amp;gt;=max(time)-1day&lt;/defaultGraphQuery&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>nebo</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;defaultGraphQuery&gt;&amp;amp;time&amp;gt;=now-1day&lt;/defaultGraphQuery&gt;  </span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="dimensionvaluesinmemory">&lt;DimensionValuesInMemory&gt;<a href="#dimensionvaluesinmemory" class="hash-link" aria-label="Přímý odkaz na&lt;DimensionValuesInMemory&gt;" title="Přímý odkaz na&lt;DimensionValuesInMemory&gt;" translate="no">​</a></h4>
<ul>
<li class="">
<p>[ ** &lt;rozměr HodnotyInMemory&gt; ** ] (# Dimensionvalueinmemory)   (pravda (výchozí) nebo falešné) je VOLITELNÝ a vzácně používaný štítek uvnitř&lt;Databáze &gt; značka pro všechny EDDGrid Soubor údajů, který uvádí ERDDAP™ kde zachovat výchozí hodnoty rozměrů (také známý jako axisVariable án) :</p>
<ul>
<li class="">true = v paměti (který je rychlejší, ale používá více paměti)</li>
<li class="">false = na disku (který je pomalejší, ale nepoužívá žádnou paměť)</li>
</ul>
</li>
</ul>
<p>Například,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;dimensionValuesInMemory&gt;false&lt;/dimensionValuesInMemory&gt;  </span><br></span></code></pre></div></div>
<p>Měli byste to použít pouze s nevýchozí hodnotou false, pokud ERDDAP™ má mnoho souborů s velmi velkými rozměry (Například miliony hodnot, např. v EDDGrid Databáze souborů FromAudioFiles) a ERDDAP &#x27;s In Use použití paměti je vždy příliš vysoká. Viz paměť: momentálně používá řádek na \[ Vaše Doména \]  /erddap/status.html sledovat ERDDAP™ používání paměti.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="filetableinmemory">&lt;souborTableInMemory&gt;<a href="#filetableinmemory" class="hash-link" aria-label="Přímý odkaz na&lt;souborTableInMemory&gt;" title="Přímý odkaz na&lt;souborTableInMemory&gt;" translate="no">​</a></h4>
<ul>
<li class="">
<p>[ ** &lt;souborTableInMemory&gt; ** ] (# filetableinmemory)   (Pravda nebo lež (výchozí) ) je VOLITELNÝ tag uvnitř&lt;Databáze &gt; značka pro všechny EDDGrid FromFiles a EDDTable Databáze FromFiles, která říká ERDDAP™ kde uchovávat souborTable (který má informace o každém zdrojovém datovém souboru) :</p>
<ul>
<li class="">true = v paměti (který je rychlejší, ale používá více paměti)</li>
<li class="">false = na disku (který je pomalejší, ale nepoužívá žádnou paměť)</li>
</ul>
</li>
</ul>
<p>Například,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;fileTableInMemory&gt;true&lt;/fileTableInMemory&gt;  </span><br></span></code></pre></div></div>
<p>Pokud to nastavíte na true pro jakýkoli datový soubor, dávejte pozor na paměť: v současné době používá řádek na \[ Vaše Doména \]  /erddap/status.html zajistit, aby ERDDAP™ Pořád má spoustu volné paměti.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="fgdcfile">&lt;fgdcFile&gt;<a href="#fgdcfile" class="hash-link" aria-label="Přímý odkaz na&lt;fgdcFile&gt;" title="Přímý odkaz na&lt;fgdcFile&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;fgdcFile &gt; ** ] (#fgdcfile) je VOLITELNÁ tag v rámci&lt;Soubor údajů &gt; značka v datasets.xml To říká ERDDAP™ použít předvyrobený soubor FGDC namísto ERDDAP™ pokuste se vytvořit soubor. Použití:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;fgdcFile&gt;*fullFileName*&lt;/fgdcFile&gt;  </span><br></span></code></pre></div></div>
<p><em>plný Název souboru</em> může odkazovat na místní soubor (Někde na serverovém souborovém systému) nebo URL vzdáleného souboru.
Pokud <em>plný Název souboru</em> \=&quot;&quot; nebo soubor není nalezen, soubor nebude mít žádná metadata FGDC. To je také užitečné, pokud chcete potlačit metadata FGDC pro konkrétní datový soubor.
Nebo můžete dát&lt;fgdcActive&gt;false&lt;/fgdcActive&gt; in setup.xml to tell ERDDAP™ nenabízíme FGDC metadata pro jakýkoli datový soubor.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="iso19115file">&lt;iso19115 Soubor&gt;<a href="#iso19115file" class="hash-link" aria-label="Přímý odkaz na&lt;iso19115 Soubor&gt;" title="Přímý odkaz na&lt;iso19115 Soubor&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;iso19115File&gt; ** ] (#iso19115file) je VOLITELNÁ tag v rámci&lt;Soubor údajů &gt; značka v datasets.xml To říká ERDDAP™ použít předvyrobený soubor ISO 19115 namísto ERDDAP™ pokuste se vytvořit soubor. Použití:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;iso19115File&gt;*fullFileName*&lt;/iso19115File&gt;  </span><br></span></code></pre></div></div>
<em>plný Název souboru</em> může odkazovat na místní soubor (Někde na serverovém souborovém systému) nebo URL vzdáleného souboru.
Pokud <em>plný Název souboru</em> \=&quot;&quot; nebo soubor není nalezen, soubor nebude mít žádné ISO 19115 metadata. To je také užitečné, pokud chcete potlačit ISO 19115 metadata pro konkrétní datový soubor.
Nebo můžete dát&lt;iso19115Active&gt;false&lt;/iso19115Active&gt; in setup.xml to tell ERDDAP™ nenabízíme ISO 19115 metadata pro jakýkoli datový soubor.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="matchaxisndigits">&lt;matchAxis NDigits&gt;<a href="#matchaxisndigits" class="hash-link" aria-label="Přímý odkaz na&lt;matchAxis NDigits&gt;" title="Přímý odkaz na&lt;matchAxis NDigits&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;zápasAxisNDigits&gt; ** ] (#matchaxisndigraphics) je VOLITELNÁ tag v rámci EDDGrid  &lt;Soubor údajů &gt; značka pro EDDGrid datové soubory, které jsou agregace, např. agregace souborů. Pokaždé, když je soubor dat znovu načten, ERDDAP™ kontroluje, zda hodnoty os každé složky agregace jsou stejné. Přesnost zkoušky určuje <a href="#matchaxisndigits" class="">zápasAxisNDigits</a> , který určuje celkový počet číslic, které musí odpovídat při zkoušení hodnot dvojité přesné osy, 0 - 18 (výchozí) . Při testování hodnot float os se zkouška provádí se zápasemAxisNDigits/2. Hodnota 18 nebo vyšší říká EDDGrid udělat přesný test. Hodnota 0 říká EDDGrid nesmí provádět žádné zkoušky, které se nedoporučuje, s výjimkou níže popsaných.</li>
</ul>
<p>I když EDDGrid umožňuje, aby součásti agregace měly mírně odlišné hodnoty os, uživateli je zobrazena pouze jedna sada hodnot os. Sada je ze stejné složky, která poskytuje zdrojová metadata datového souboru. Například: EDDGrid Databáze FromFiles, která je specifikována&lt;metadataod &gt; nastavení (default=last) .</p>
<p>Použití matchAxisNDigits\=0 je ve většině případů silně deprimován, protože vypne všechny kontroly. I minimální kontrola je užitečná, protože zajišťuje, že komponenty jsou vhodné pro agregaci. Všichni předpokládáme, že všechny komponenty jsou vhodné, ale není tomu tak vždy. Jedná se tedy o důležitý test duševního zdraví. Dokonce i hodnoty zápasuAxisNDigits1, 2, 3 nebo 4 jsou odrazeny, protože různé hodnoty osy často naznačují, že komponenty byly vytvořeny (Vyhozený?) jiným způsobem a nejsou proto vhodné pro agregace.</p>
<p>Existuje jeden případ, kdy je použití matchAxisNDigits\=0 užitečné a doporučené: s agregacemi vzdálených souborů, např. dat v kbelících S3. V tomto případě, pokud datový soubor používá cacheFromUrl, cacheSizeGB, matchAxisNDigits\=0, a EDDGrid Systém FromFiles pro <a href="#aggregation-via-file-names-or-global-metadata" class="">Agregace prostřednictvím Název souboru</a> , pak EDDGrid nemusí číst všechny vzdálené soubory, aby udělal agregace. To umožňuje velmi rychle načíst soubory z dat v kbelících S3 (na rozdíl od absurdně pomalu, pokud EDDGrid musí stáhnout a přečíst všechny soubory) .</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="nthreads">&lt;NThreads&gt;<a href="#nthreads" class="hash-link" aria-label="Přímý odkaz na&lt;NThreads&gt;" title="Přímý odkaz na&lt;NThreads&gt;" translate="no">​</a></h4>
<ul>
<li class="">Začneme s ERDDAP™ verze 2.00, pokud je podtřída EDDTableFromFoles nebo EDDGrid čte data ze svého zdroje, dokáže číst jeden kus dat (např. jeden zdrojový soubor) v čase (v jednom vlákně)   (To je výchozí hodnota.) nebo více než jeden kus dat (např. 2+ zdrojové soubory) v čase (do 2 nebo více nití) při zpracování každé žádosti.
 <!-- -->
<ul>
<li class="">
<p>Pravidlo palce:
Pro většinu souborů souborů na většině systémů použijte nThreads=1, výchozí. Pokud máte výkonný počítač (spousta CPU jader, spousta paměti) , pak zvážit nastavení nThreards na 2, 3, 4, nebo vyšší (ale nikdy více než počet CPU jader v počítači) pro soubory údajů, které by mohly mít prospěch:</p>
<ul>
<li class="">Většina EDDTableFromFoles bude přínosem.</li>
<li class="">Datasety, kde něco způsobí zpoždění před tím, než může být část dat skutečně zpracována, budou přínosem například:<!-- -->
<ul>
<li class="">Datové soubory s <a href="#externally-compressed-files" class="">vnější komprimované (např. .gz ) </a> binární (např. .nc ) Soubory, protože ERDDAP™ musí dekompresovat celý soubor, než začne číst soubor.</li>
<li class="">Datové soubory, které používají <a href="#cachefromurl" class="">cacheSizeGB</a> , protože ERDDAP™ často musí soubor stáhnout, než ho bude moci přečíst.</li>
<li class="">Datasety s datovými soubory uloženými v paralelním systému s vysokou šířkou pásma, protože může na požádání dodat více dat, rychleji. Příklady paralelních souborových systémů zahrnují <a href="https://en.wikipedia.org/wiki/Non-RAID_drive_architectures" target="_blank" rel="noopener noreferrer" class="">JBOD</a> , <a href="http://www.pnfs.com/" target="_blank" rel="noopener noreferrer" class="">pNFS</a> , <a href="https://en.wikipedia.org/wiki/Gluster" target="_blank" rel="noopener noreferrer" class="">GlusterFS</a> , Amazon S3, a Google Cloud Storage.
 </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Varování: Při použití nThreads &gt; 1, dávejte pozor ERDDAP &#x27;s použitím paměti, použitím nití a celkovou citlivostí (viz <a class="" href="/cs/docs/server-admin/additional-information#status-page"> ERDDAP &#x27;s status page</a> ) . Viz připomínky k těmto otázkám níže.
 </p>
<ul>
<li class="">
<p>Pro daný datový soubor může toto nastavení nThreads pocházet z různých míst:</p>
<ul>
<li class="">Pokud datasets.xml část pro datový soubor má&lt;nThreads&gt; značka (v rámci&lt;Soubory údajů &gt; tag, nikoli jako globální atribut) s hodnotou &gt; 1, že hodnota nThreads se používá. Pro každý soubor můžete zadat jiné číslo.</li>
<li class="">Jinak, pokud datasets.xml má&lt;nTableThreads&gt; tag (pro EDDTable Databáze souborů) nebo&lt;nGridThrads&gt; tag (místo EDDGrid Soubory údajů) v hodnotě &gt; 30 € za 100 kg čisté hmotnosti 1, mimo&lt;Soubor &gt; značka, že hodnota nThreads se používá.</li>
<li class="">Jinak se použije 1 vlákno, což je bezpečná volba, protože používá nejmenší množství paměti.
 </li>
</ul>
</li>
</ul>
<p>Pro <a href="https://coastwatch.pfeg.noaa.gov/erddap/index.html" target="_blank" rel="noopener noreferrer" class="">originál ERDDAP™ instalace</a> , používáme
&lt;nTableThreads&gt; 6&lt;/nTableThrads &gt; (Je to silný server.) Obtížné žádosti nyní vyžadují 30% z předchozího času.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="monitor-resource-usage">Sledování využívání zdrojů<a href="#monitor-resource-usage" class="hash-link" aria-label="Přímý odkaz naSledování využívání zdrojů" title="Přímý odkaz naSledování využívání zdrojů" translate="no">​</a></h5>
<p>Když experimentujete s různými nastaveními nThreads (a možná obtížné žádosti o vzorek na vaše ERDDAP ) , můžete sledovat využívání zdrojů počítače:</p>
<ul>
<li class="">Na Macs použít vyhledávač: Aplikace: Nástroje : Monitor aktivity</li>
<li class="">Na Linuxu použijte horní část</li>
<li class="">Na Windows 10 použijte <em>Ctrl + Shift + Esc</em> otevřít správce úloh
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="warning-decreased-responsiveness">Varování: snížená odezva<a href="#warning-decreased-responsiveness" class="hash-link" aria-label="Přímý odkaz naVarování: snížená odezva" title="Přímý odkaz naVarování: snížená odezva" translate="no">​</a></h5>
<p>V izolaci, ERDDAP™ splní požadavek na soubor dat s vyšším nastavením nThreads rychleji, než když nThreads=1. Ale zatímco se tato žádost zpracovává, další požadavky od jiných uživatelů budou poněkud vytěsněny a dostanou pomalejší odpověď. Také, když ERDDAP™ reaguje na danou žádost, jiné výpočetní zdroje (např. přístup na disk, síťová šířka pásma) může být omezující, zejména s vyšší nastavení nThreads. Proto s vyššími nastaveními nThreads, celková systémová citlivost bude horší, když se zpracovává více žádostí - to může být velmi nepříjemné pro uživatele! Kvůli tomu: nikdy nenastavte nThreads na více než počet CPU jader v počítači. nThreads=1 je nejspravedlivější nastavení od každé žádosti (mezi několika současnými žádostmi) dostane stejný podíl na výpočetních zdrojích. Ale čím silnější počítač, tím méně to bude problém.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="warning-higher-memory-use-for-eddgrid-datasets">Varování: Vyšší paměť Použití pro EDDGrid Datové soubory<a href="#warning-higher-memory-use-for-eddgrid-datasets" class="hash-link" aria-label="Přímý odkaz naVarování: Vyšší paměť Použití pro EDDGrid Datové soubory" title="Přímý odkaz naVarování: Vyšší paměť Použití pro EDDGrid Datové soubory" translate="no">​</a></h5>
<p>Použití paměti při zpracování požadavků je přímo úměrné nastavení nThreads. Dostatečně bezpečné pravidlo palce je: musíte nastavit <a class="" href="/cs/docs/server-admin/deploy-install#memory"> ERDDAP &#x27;s nastavením paměti</a> alespoň 2GB + (2GB \* nThreads) . Některé požadavky na některé datové soubory budou potřebovat více paměti. Například nastavení nThreads=3 pro všechny EDDGrid Soubor dat znamená, že nastavení -Xmx by mělo být alespoň -Xmx8000M. Pokud je nastavení paměti větší než 3/4 fyzickou paměť počítače, zmenšte nastavení nThreards tak, abyste mohli snížit nastavení paměti.</p>
<p>Použití paměti žádostí o zpracování vláken na soubory EDDTable je téměř vždy nižší, protože soubory jsou obvykle mnohem menší. Nicméně, pokud má daný soubor údajů EDDTable obrovský (Ostatní, j. n.) datové soubory, dále výše uvedené poznámky se vztahují i na tyto soubory údajů.</p>
<p>Ať už je nastavení nThreads jakékoliv, pozorně sledujte statistiky využití paměti na vašem <a class="" href="/cs/docs/server-admin/additional-information#status-page"> ERDDAP &#x27;s status page</a> . Nikdy byste se neměli přiblížit k maximalizaci využití paměti v ERDDAP ; jinak dojde k vážným chybám a chybám.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="temporarily-set-to-1">Dočasně nastaveno na 1<a href="#temporarily-set-to-1" class="hash-link" aria-label="Přímý odkaz naDočasně nastaveno na 1" title="Přímý odkaz naDočasně nastaveno na 1" translate="no">​</a></h5>
<p>Pokud je současné využití paměti dokonce mírně vysoké, ERDDAP™ nastaví nThreards pro tuto žádost na 1. Takže, ERDDAP™ Uchovává paměť, když je paměť vzácná.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="diminishing-returns">Zmenšující se návrat<a href="#diminishing-returns" class="hash-link" aria-label="Přímý odkaz naZmenšující se návrat" title="Přímý odkaz naZmenšující se návrat" translate="no">​</a></h5>
<p>Tam jsou klesající výnosy ke zvýšení nastavení nThreads: 2 vlákna budou mnohem lepší než 1 (Pokud budeme ignorovat dynamické přetáčení) . Ale 3 bude jen kus lepší než 2. A 4 bude jen okrajově lepší než 3.</p>
<p>V jedné zkoušce obtížného dotazu na velký soubor údajů z EDDTable byla doba odezvy 1, 2, 3, 4, 5, 6 vláken 38, 36, 20, 18, 13, 11 sekund. (Nyní používáme nTableThreads=6 na tomto serveru.)</p>
<p>nThreads=2: Ačkoliv, tam je často významný přínos pro určení nThreads=2 místo nThreads=1, to často nebude mít velký rozdíl v hodinový čas potřebný k reakci na žádost daného uživatele. Důvodem je: s nThreads=1, většina moderní CPU vůle často <a href="https://en.wikipedia.org/wiki/Intel_Turbo_Boost" target="_blank" rel="noopener noreferrer" class="">dynamicky přesčas</a>   (zvýšení turbo) dočasně zvýšit rychlost hodin procesoru. Takže s nThreads=1, jedno jádro bude často pracovat vyšší rychlostí hodin než každé ze dvou jader, pokud jste použili nThreads=2. Bez ohledu na to, stále si myslíme, že je lepší použít nThrads=2 spíše než nThrads=1, protože toto nastavení přinese lepší výsledky v širší škále situací. A samozřejmě, pokud váš počítač má dostatečné CPU jádra, ještě vyšší nastavení nThreadů by mělo přinést lepší výsledky.</p>
<p>Jak bylo uvedeno výše, velmi vysoká nastavení nThreads může vést k rychlejší odpovědi na některé žádosti, ale riziko celkového poklesu ERDDAP™ citlivost a použití vysoké paměti (jak je uvedeno výše) Zatímco tyto žádosti jsou zpracovávány znamená, že obecně není dobrý nápad.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="cpu-cores">CPU Jádra<a href="#cpu-cores" class="hash-link" aria-label="Přímý odkaz naCPU Jádra" title="Přímý odkaz naCPU Jádra" translate="no">​</a></h5>
<p>Neměli byste nikdy nastavit nThreads na číslo větší než počet CPU jader v procesoru počítače. V podstatě všechny moderní procesory mají více jader (např. 2, 4 nebo 8) . Některé počítače dokonce mají více procesorů (např. 2 procesory \* 4 jádra/CPU = 8 jader procesoru) . Chcete-li zjistit, kolik procesorů a jader počítač má:</p>
<ul>
<li class="">Na Macs, použijte <em>Klíč pro volbu</em> : Apple Menu : Systémové informace</li>
<li class="">Na Linuxu použijte kočku /proc/cpuinfo</li>
<li class="">Na Windows 10 použijte <em>Ctrl + Shift + Esc</em> otevřít Správce úloh: Výkon (Logické procesory zobrazují celkový počet CPU jader)</li>
</ul>
<p>Ano, většina procesorů dnes říká, že podporují 2 vlákna na jádro (přes <a href="https://en.wikipedia.org/wiki/Hyper-threading" target="_blank" rel="noopener noreferrer" class="">hypervaziva</a> ) , ale 2 vlákna sdílet výpočetní zdroje, takže neuvidíte dvakrát průchodnost na procesoru pod těžkým zatížením. Například počítač s jedním procesorem se 4 jádry může tvrdit, že podporuje až 8 vláken, ale nikdy byste neměli překročit nThreads=4 v tom, že ERDDAP . Pamatuj si to:</p>
<ul>
<li class="">NThreads nastavení v ERDDAP™ je na žádost. ERDDAP™ často řeší více žádostí současně.</li>
<li class="">ERDDAP™ provádí jiné věci než žádosti o zpracování, např. opětovné načtení dat.</li>
<li class="">Kdy? ERDDAP™ reaguje na danou žádost, jiné výpočetní zdroje (např. přístup na disk, síťová šířka pásma) může být omezující. Čím vyšší budete nastavit nThreads, tím pravděpodobnější, že tyto další zdroje budou maximalizovány a zpomalí ERDDAP &#x27;s obecnou citlivostí.</li>
<li class="">Operační systém dělá věci jiné než spustit ERDDAP .</li>
</ul>
<p>Takže je lepší nenastavit nastavení nThreadů na více než počet jader v procesoru počítače.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="your-mileage-may-vary-ymmv">Vaše míle květen Vary (YMMV)<a href="#your-mileage-may-vary-ymmv" class="hash-link" aria-label="Přímý odkaz naVaše míle květen Vary (YMMV)" title="Přímý odkaz naVaše míle květen Vary (YMMV)" translate="no">​</a></h5>
<p>Výsledky různých nastavení nThreads se budou značně lišit u různých požadavků na různé soubory dat na různých systémech. Pokud opravdu chcete znát vliv různých nastavení nThreads, spusťte realistické testy.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-nthreads-per-request">Proč nThreads na žádost?<a href="#why-nthreads-per-request" class="hash-link" aria-label="Přímý odkaz naProč nThreads na žádost?" title="Přímý odkaz naProč nThreads na žádost?" translate="no">​</a></h5>
<p>Někteří z vás si myslí: &quot;Proč je nThreads na žádost? Kdybych to kódoval, použil bych jedno stálé pracovní vlákno a frontu na zprávy pro lepší výkon.&quot; Problém s použitím jednoho dělnického poolu a fronty zpráv je, že jeden obtížný požadavek by zaplavit frontu s mnoha pomalými úkoly. To by účinně zablokovalo ERDDAP™ od i zahájení práce na úkolech týkajících se jiných žádostí až do počáteční žádosti byla (v podstatě) Hotovo. Dokonce i jednoduché následné žádosti by reagovaly velmi pomalu. ERDDAP &#x27;s použitím nThreads na žádost vede k mnohem spravedlivější využití výpočetních zdrojů.
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="nthreads-vs-multiple-worker-computers">nThreads vs. více pracovních počítačů<a href="#nthreads-vs-multiple-worker-computers" class="hash-link" aria-label="Přímý odkaz nanThreads vs. více pracovních počítačů" title="Přímý odkaz nanThreads vs. více pracovních počítačů" translate="no">​</a></h5>
<p>Bohužel, ERDDAP &#x27;s nThreads systém nebude nikdy tak účinný jako skutečné paralelizace prostřednictvím více pracovních počítačů, s každým pracuje na kusu dat, ve způsobu, jakým Hadoop nebo Apache Spark jsou obvykle používány. Když je úkol skutečně paralelizován/distribuován na více počítačů, každý počítač může využít všechny své zdroje na svou část úkolu. S ERDDAP &#x27;s systémem nThreads, každá z vláken soutěží o stejnou šířku pásma počítače, diskové disky, paměť, atd. Bohužel, většina z nás nemá prostředky ani prostředky na založení ani pronájem (o webových službách Amazon (AWS) nebo Google Cloud Platform (GCP) ) masivní sítě počítačů. Na rozdíl od relační databáze, která může vrátit řádky výsledků v libovolném pořadí, ERDDAP™ slibuje, že vrátí řádky výsledků v konzistentním pořadí. Toto omezení dělá ERDDAP &#x27;s nThreads implementace méně efektivní. Ale... ERDDAP &#x27;s nThreads je užitečné v mnoha případech.</p>
<p>Existují však způsoby, jak ERDDAP™ stupnice pro rychlé zvládnutí obrovského počtu žádostí vytvořením <a class="" href="/cs/docs/server-admin/scaling">mřížka/klastr/federace ERDDAP án</a> .
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="palettes">&lt;palety&gt;<a href="#palettes" class="hash-link" aria-label="Přímý odkaz na&lt;palety&gt;" title="Přímý odkaz na&lt;palety&gt;" translate="no">​</a></h4>
<ul>
<li class="">Začneme s ERDDAP™ verze 2.2, datasets.xml může zahrnovat&lt;palety&gt; značka (v rámci&lt;erddapDatasets&gt;), který přepíše&lt;palety &gt; hodnota značky ze zpráv.xml (nebo se vrátí k hodnotě zprávy.xml, pokud tag datasets.xml je prázdná) . To vám umožní změnit seznam dostupných palet, zatímco ERDDAP™ Utíká. Umožňuje také provést změnu a mít ji přetrvávající, když nainstalujete novou verzi ERDDAP .
UPOZORNĚNÍ: palety uvedené v datasets.xml musí být superset palet uvedených ve zprávách.xml; jinak ERDDAP™ Hodí výjimku a přestane zpracování datasets.xml . To zajišťuje, že všechny ERDDAP™ instalace alespoň podporují stejné základní palety.
UPOZORNĚNÍ: ERDDAP™ kontroluje, že palety souborů uvedených ve zprávách.xml skutečně existují, ale nekontroluje paletové soubory uvedené v datasets.xml . Je vaší povinností zajistit, aby byly soubory přítomny.</li>
</ul>
<p>Také začínáme s ERDDAP™ verze 2.12, pokud vytvoříte podadresář cptfiles v ERDDAP™ adresář obsahu, ERDDAP™ zkopíruje všechny soubory \*.cpt v tomto adresáři do \[ tomcat \] /webapps/erddap/WEB-INF/cptfiles adresář pokaždé ERDDAP™ Začneme. Pokud tedy vložíte do tohoto adresáře vlastní soubory cpt, budou tyto soubory použity ERDDAP™ , bez extra úsilí na vaší straně, i když nainstalujete novou verzi ERDDAP .</p>
<p>UPOZORNĚNÍ: Pokud přidáte vlastní palety do svého ERDDAP™ a máte EDDGrid FromErddap a/nebo EDDTableFromErddap soubory ve vašem ERDDAP™ , pak uživatelé uvidí své vlastní paletové možnosti na ERDDAP™ Vytvořit graf webové stránky, ale pokud se je uživatel pokusí použít, dostanou graf s výchozím (obvykle duha) paleta. Je to proto, že obraz je vytvořen ovladačem ERDDAP™ která nemá vlastní paletu. Jediná řešení jsou nyní e-mailem vzdálené ERDDAP™ správce, který přidá vaše vlastní palety do své/ji ERDDAP nebo e-mail Chris. John v noaa.gov požádat, aby palety byly přidány do normy ERDDAP™ distribuce.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="onchange">&lt;onChange&gt;<a href="#onchange" class="hash-link" aria-label="Přímý odkaz na&lt;onChange&gt;" title="Přímý odkaz na&lt;onChange&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;onChange&gt; ** ] (#Změnit) je VOLITELNÁ tag v rámci&lt;Soubor údajů &gt; značka v datasets.xml která určuje činnost, která bude provedena při vytvoření tohoto souboru údajů (kdy ERDDAP™ restartováno) a kdykoli se tento datový soubor jakýmkoli způsobem změní.<!-- -->
<ul>
<li class="">V současné době pro EDDGrid podtřídy, jakákoli změna metadat nebo proměnné osy (například nový časový bod pro data v reálném čase) je považována za změnu, ale opětovné načtení datového souboru se nepovažuje za změnu (sama) .</li>
<li class="">V současné době se u podtříd EDDTable jakékoli opětovné načtení datového souboru považuje za změnu.</li>
<li class="">V současné době jsou povoleny pouze dva druhy akcí:<!-- -->
<ul>
<li class="">&quot;http://&quot;nebo &quot;https://&quot;-- Pokud akce začíná na &quot;http://&quot;nebo &quot;https://&quot;, ERDDAP™ pošle HTTP GET požadavek na zadanou URL adresu. Odpověď bude ignorována. Například, URL může říct některé jiné webové služby, aby něco udělat.<!-- -->
<ul>
<li class="">Pokud má URL dotaz (po &quot;?&quot;) , to musí být již <a href="https://en.wikipedia.org/wiki/Percent-encoding" target="_blank" rel="noopener noreferrer" class="">% zakódováno</a> . Musíte zakódovat speciální znaky do omezení (jiné než počáteční &quot;&amp;&quot; a hlavní &#x27;=&#x27; omezení) do formuláře %HH, kde HH je 2 číslice hexadecimální hodnota znaku. Obvykle stačí převést několik interpunkčních znaků: % na% 225, &amp; na% 226, &quot;na% 222,&lt;do% 3C, = do% 3D, &gt; do% 3E, + do% 2B, | do% 7C, \[ do % 5B, \] do %5D, prostor na%20, a převést všechny znaky nad #127 do jejich UTF-8 formuláře a pak procento enkódovat každý byte UTF-8 formuláře do%HH formátu (Požádat programátora o pomoc) .
Například stationID Podvozky a jejich části a součásti
se stává &amp; stationID % 3E=% 2241004%22
Procentuální kódování je obecně nutné, když přístup ERDDAP přes jiný software než prohlížeč. Prohlížeče obvykle zvládnout procento kódování pro vás.
V některých situacích, musíte procent enkódovat všechny znaky jiné než A-Za-z0-9\_-!.~ &#x27; () \*, ale stále nezakódujte počáteční &quot;&amp;&quot; nebo hlavní &#x27;=&#x27; v omezeních.
Programovací jazyky mají k tomu nástroje (např. viz Java &#x27;s <a href="https://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html" target="_blank" rel="noopener noreferrer" class=""> java.net.URLEncoder </a> a Java Skript je [encodeURIComponent()] (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent" target="_blank" rel="noopener noreferrer" class="">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent</a>) ) a existují
<a href="https://www.url-encode-decode.com/" target="_blank" rel="noopener noreferrer" class="">webové stránky, které pro vás tvoří procento enkódování/dekódování</a> .</li>
<li class="">Od datasets.xml je XML soubor, musíte také kódovat ALL &#x27;&amp;&#x27;, &#x27;&lt;&quot;a &quot;&gt;&quot; v URL jako &quot;&amp;,&quot; &quot;&lt;&#x27; a &#x27;&gt;&#x27; po procentu kódování.</li>
<li class="">Příklad: Pro URL, které můžete zadat do prohlížeče jako:
<a href="https://www.company.com/webService?department=R%26D&amp;param2=value2" target="_blank" rel="noopener noreferrer" class="">https://www.company.com/webService?department=R%26D&amp;param2=value2</a><br>
<!-- -->Měli byste určit&lt;onChange&gt; značka prostřednictvím (na jednom řádku)</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;onChange&gt;https://www.company.com/webService?department=R%26D&amp;amp;param2=value2&lt;/onChange&gt;</span><br></span></code></pre></div></div>
</li>
<li class="">mailto: -- Pokud akce začíná na &quot;mailto:,&quot; ERDDAP™ zašle e-mail na následující e-mailovou adresu, v níž uvede, že datový soubor byl aktualizován/změnil.
Například:&lt;onChange&gt;mailto<!-- -->:john<a href="mailto:.smith@company.com" target="_blank" rel="noopener noreferrer" class="">.smith@company.com</a>&lt;/onChange &gt; Pokud máte dobrý důvod ERDDAP™ na podporu jiného typu akce, pošlete nám e-mail popisující, co chcete.</li>
</ul>
</li>
<li class="">Tato značka je volitelná. Může jich být tolik, kolik budeš chtít. Pro každou akci použijte jeden z těchto značek.</li>
<li class="">To je analogické s ERDDAP &#x27;s e-mailem / URL předplatné systém, ale tyto akce nejsou uloženy trvale (tj. jsou uloženy pouze v objektu EDD) .</li>
<li class="">Pro odstranění předplatného stačí odstranit&lt;onChange&gt; tag. Změna bude zaznamenána až bude příště soubor údajů znovu načten.
 </li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="reloadeverynminutes">&lt;znovu načíst každý NMinutes&gt;<a href="#reloadeverynminutes" class="hash-link" aria-label="Přímý odkaz na&lt;znovu načíst každý NMinutes&gt;" title="Přímý odkaz na&lt;znovu načíst každý NMinutes&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;reload EveryNMinutes&gt; ** ] (# reload everynminutes) je VOLITELNÁ tag v rámci&lt;Soubor údajů &gt; značka v datasets.xml téměř všech typů souborů údajů, které určují, jak často by měl být soubor údajů znovu načítán. Například,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;reloadEveryNMinutes&gt;60&lt;/reloadEveryNMinutes&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">
<p>Obecně platí, že soubory, které se často mění (například získat nové datové soubory) je třeba často znovu nabíjet například každých 60 minut.</p>
</li>
<li class="">
<p>Datasety, které se mění zřídka, by měly být opakovaně načítány, například každých 1440 minut (denně) nebo 10080 minut (týdenní) .</p>
</li>
<li class="">
<p>Tato značka je VOLITELNÁ, ale doporučená. Výchozí hodnota je 10080.</p>
</li>
<li class="">
<p>Příkladem je:&lt;reloadEveryNMinutes&gt;1440&lt;/reload EveryNMinutes&gt;</p>
</li>
<li class="">
<p>Když je soubor dat znovu načten, všechny soubory v souboru <em>velkýRodič rodičů</em> /cache/ * datasetID * adresář se smaže.</p>
</li>
<li class="">
<p>Bez ohledu na to, co je nastaveno, nebude soubor dat načten častěji než&lt;loadDatasetsMinMinutes&gt; (výchozí hodnota = 15) , jak je uvedeno v <a class="" href="/cs/docs/server-admin/deploy-install#setupxml">setup.xml</a> . Takže pokud chcete, aby byly soubory znovu načítány velmi často, musíte nastavit jak reloadEveryNMinutes a loadDatasets MinMinutes na malé hodnoty.</p>
</li>
<li class="">
<p>Nenastavovat znovunačítáníEveryNMinutes na stejnou hodnotu jako loadDatasets MinMinutes, protože uplynulý čas bude pravděpodobně (například) 14:58 nebo 15:02, takže data budou znovu načtena pouze asi v polovině hlavních reloadů. Místo toho, použijte menší (například 10) nebo větší (například 20) reload Každý NMinutes má hodnotu.</p>
</li>
<li class="">
<p>Bez ohledu na reloadEveryNMinutes, můžete ručně říct ERDDAP™ co nejdříve znovu načíst konkrétní datový soubor <a class="" href="/cs/docs/server-admin/additional-information#flag">Soubor s vlajkou</a> .</p>
</li>
<li class="">
<p>Pro podivné programátory -- ERDDAP™ , opětovné načtení všech souborů dat je řešeno dvěma jednotlivými účelově vázanými vlákny. Jedno vlákno spustí menší opětovné načtení, pokud najde vlajkový soubor nebo hlavní opětovné načtení (který kontroluje všechny soubory dat, aby zjistil, zda je třeba je znovu načíst) . Druhé vlákno načítá data po jednom. Tato vlákna fungují v pozadí a zajišťují, aby byly všechny soubory údajů aktualizovány. Vlákno, které skutečně reloads připravuje novou verzi datového souboru, pak jej vymění na místo (v podstatě nahrazuje starou verzi atomicky) . Takže je velmi možné, že následující sled událostí nastane (To je dobře.) :</p>
<ol>
<li class="">ERDDAP™ začne znovu načítat soubor údajů (vytvoření nové verze) v pozadí.</li>
<li class="">Uživatelské &#x27;A&#x27; podává žádost k datovému souboru. ERDDAP™ k vytvoření odezvy používá aktuální verzi datového souboru. (To je dobře. Uživatel neměl žádné zpoždění a současná verze datového souboru by nikdy neměla být příliš zastaralá.)</li>
<li class="">ERDDAP™ dokončuje vytvoření nové reloadované verze datového souboru a swapy této nové verze do výroby. Všechny následující nové žádosti jsou řešeny novou verzí datového souboru. Pro konzistence je požadavek uživatele A stále vyplněn původní verzí.</li>
<li class="">Uživatelské &#x27;B&#x27; podává žádost k datovému souboru a ERDDAP™ použije novou verzi datového souboru k vytvoření odezvy.</li>
<li class="">Nakonec jsou vyplněny požadavky uživatele A a uživatele B (Možná. A je první, možná B je první.) .</li>
</ol>
</li>
</ul>
</li>
</ul>
<p>Slyším někoho říkat, &quot;Jen dvě trojky! Ha! To je ubohý! Měl by to nastavit tak, aby opětovné nabíjení souborů dat používalo tolik vláken, kolik je potřeba, takže se to všechno dělá rychleji a s malým nebo žádným zpožděním.&quot; Ano i ne. Problém je v tom, že načítání více dat najednou vytváří několik těžkých nových problémů. Musí být vyřešeny nebo vyřešeny. Současný systém funguje dobře a má zvládnutelné problémy (například možnost zpoždění před vlajkou) . (Pokud potřebujete pomoc s jejich řízením, podívejte se na naše <a class="" href="/cs/docs/intro#support">oddíl o získání dodatečné podpory</a> .) Související <a href="#updateeverynmillis" class="">aktualizace EveryNMillis</a> . systém funguje v rámci reakčních vláken, takže může a vede k více soubory souborů jsou aktualizovány (ne naplno načíst) současně.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="proactive-vs-reactive">Proaktivní vs. reaktivní<a href="#proactive-vs-reactive" class="hash-link" aria-label="Přímý odkaz naProaktivní vs. reaktivní" title="Přímý odkaz naProaktivní vs. reaktivní" translate="no">​</a></h5>
<p>ERDDAP &#x27;s reload system is proaktivní -- data jsou znovu načtena brzy po jejich opětovném načtení EveryNMinutes time is up (To znamená, že se z nich stane &quot;příběh,&quot; ale nikdy příliš otupělý) , zda soubor údajů dostává žádosti od uživatelů nebo ne. Takže... ERDDAP™ Data jsou vždy aktuální a jsou připravena k použití. To je v rozporu s reaktivním přístupem THREDDS: žádost uživatele je to, co říká THREDDS zkontrolovat, zda je soubor dat zastaralý (to může být velmi zatuchlé) . Pokud je zatuchlý, THREDDS nechá uživatele čekat (často na několik minut) Zatímco data jsou znovu načítána.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="updateeverynmillis">&lt;aktualizace EveryNMillis&gt;<a href="#updateeverynmillis" class="hash-link" aria-label="Přímý odkaz na&lt;aktualizace EveryNMillis&gt;" title="Přímý odkaz na&lt;aktualizace EveryNMillis&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;updateEveryNMillis&gt; ** ] (#update everynmillis) je VOLITELNÁ tag v rámci&lt;Soubor údajů &gt; značka v datasets.xml některé typy souborů údajů, které pomáhají ERDDAP™ práce s datovými soubory, které se mění velmi často (často tak zhruba každou sekundu) . Na rozdíl od ERDDAP Je pravidelný, aktivní, [&lt;reload EveryNMinutes &gt;] (# reload everynminutes) systém pro úplné načtení každého datového souboru, tento VOLITELNÝ doplňkový systém je reaktivní (spuštěno žádostí uživatele) a rychlejší, protože je to postupné (pouze aktualizovat informace, které je třeba aktualizovat) . Například, pokud žádost o EDDGrid Soubor dat FromDap se vyskytuje více než stanovený počet milisekund od poslední aktualizace, ERDDAP™ uvidíme, jestli jsou nějaké nové hodnoty pro ty nejlevější. (první, obvykle &quot;time&quot; ) rozměr a pokud ano, stáhněte si tyto nové hodnoty dříve, než se postaráte o požadavek uživatele. Tento systém je velmi dobrý v udržování rychle se měnícího souboru aktuálního s minimálními nároky na zdroj dat, ale za cenu mírného zpomalení zpracování některých žádostí uživatelů.<!-- -->
<ul>
<li class="">Pro použití tohoto systému, přidat (například) :<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;updateEveryNMillis&gt;1000&lt;/updateEveryNMillis&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
</li>
</ul>
<p>bezprostředně po&lt;reloadEveryNMinutes&gt; Označení datového souboru v datasets.xml . Počet milisekund, které zadáte může být stejně malý jako 1 (zajistit, aby soubor údajů byl vždy aktuální) . Hodnota 0 (výchozí) nebo záporné číslo vypne systém.</p>
<ul>
<li class="">Vzhledem k jejich přírůstkové povaze by aktualizace měly skončit velmi rychle, takže by uživatelé nikdy neměli čekat dlouho.</li>
<li class="">Pokud druhá žádost o údaje dorazí před dokončením předchozí aktualizace, druhá žádost nespustí další aktualizaci.</li>
<li class="">V celé dokumentaci se pokusíme použít slovo &quot;reload&quot; pro pravidelné, úplné opětovné načítání souborů a &quot;update&quot; pro tyto nové přírůstkové, částečné aktualizace.</li>
<li class="">Pro testovací účely jsou některé diagnostiky vytištěny pro log.txt, pokud [&lt;LogLevel &gt;] (#loglevel) v datasets.xml je nastaven na &quot;všechny.&quot;</li>
<li class="">Pokud používáte přírůstkové aktualizace a zejména pokud nejlevější (první) Například čas, osa je velká, možná budete chtít nastavit&lt;reloadEveryNMinutes &gt; na větší číslo (1440?) , tak, aby aktualizace dělat většinu práce udržet soubor údajů aktuální, a plné opětovné načítání se provádí zřídka.</li>
<li class="">Poznámka: tento nový systém aktualizace metadat (například čas actual\_range , time\_coverage\_end, ...) ale nespouští na Change (emailem nebo dotykem URL) nebo změnit RSS krmiva (Možná by to mělo...) .</li>
<li class="">Pro všechny datové soubory, které používají podtřídy <a href="#eddgridfromfiles" class=""> EDDGrid FromFiles</a> a <a href="#eddtablefromfiles" class="">EDDTableFromFoles</a> :<!-- -->
<ul>
<li class=""><strong>UPOZORNĚNÍ:</strong> při přidání nového datového souboru do datového souboru kopírováním do adresáře, který ERDDAP™ Podívejte, je tu nebezpečí, že ERDDAP™ všimne si částečně písemného souboru; pokusí se jej přečíst, ale selže, protože soubor je nekompletní; prohlásí soubor za &quot;špatný&quot; soubor a odstraní jej (dočasně) z datového souboru.
Abychom se tomu vyhnuli, <strong>DOPORUČIT SE STRONGLII</strong> že kopírujete nový soubor do adresáře s dočasným jménem (např. 20150226 .nc Tmp) který neodpovídá souboru souborů dat NázevRegex (\*\ .nc ) , pak přejmenovat soubor na správný název (např. 20150226 .nc ) . Pokud použijete tento přístup, ERDDAP™ bude ignorovat dočasný soubor a všimne si správně pojmenovaný soubor pouze tehdy, když je dokončen a připraven k použití.</li>
<li class="">Pokud změníte existující datové soubory na místě (například přidání nového datového bodu) ,&lt;updateEveryNMillis&gt; bude fungovat dobře, pokud se změny objeví atomicky (v okamžiku) a soubor je vždy platný soubor. Například netcdf-java knihovna umožňuje přidání do neomezeného rozměru &quot;klasické&quot; .nc V3 soubor se provede atomovy.
&lt;updateEveryNMillis&gt; bude špatně fungovat, pokud je soubor neplatný při provádění změn.</li>
<li class="">&lt;updateEveryNMillis&gt; bude pracovat dobře pro soubory, kde se jeden nebo několik souborů změní v krátkém čase.</li>
<li class="">&lt;updateEveryNMillis&gt; bude špatně pracovat pro soubory souborů, kde se velký počet souborů mění v krátkém čase (pokud se změny neobjeví atomově) . Pro tyto datové soubory je lepší nepoužívat&lt;aktualizovatEveryNMillis&gt; a nastavit a <a class="" href="/cs/docs/server-admin/additional-information#set-dataset-flag">vlajka</a> říct ERDDAP™ znovu načíst soubor údajů.</li>
<li class="">&lt;updateEveryNMillis&gt; neaktualizuje informace související s [&lt; subsetVariables &gt;] (#subsetvariables) . Normálně to není problém, protože subsetVariables mít informace o věcech, které se příliš často nemění (například seznam názvů stanic, zeměpisné šířky a délky) . Pokud subsetVariables změny údajů (například při přidání nové stanice do datového souboru) , pak kontaktujte <a class="" href="/cs/docs/server-admin/additional-information#set-dataset-flag">URL vlajky</a> pro soubor údajů, který má sdělit ERDDAP™ znovu načíst soubor údajů. Jinak, ERDDAP™ nevšimne si nové podmnožiny Proměnné informace až do příštího opětovného načtení datového souboru (&lt;reloadEveryNMinutes&gt;).</li>
<li class="">Naše obecné doporučení je použít:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;reloadEveryNMinutes&gt;1440&lt;/reloadEveryNMinutes&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;updateEveryNMillis&gt;10000&lt;/updateEveryNMillis&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Problémy? Na Linuxových počítačích, pokud používáte&lt;updateEveryNMillis&gt; s EDDGrid FromFiles nebo EDDTableFromFoles třídy, můžete vidět problém, kde datový soubor selže načíst (příležitostně nebo důsledně) s chybovou zprávou: &quot;IOException: Uživatelský limit inotify instancí dosaženo nebo příliš mnoho otevřených souborů.&quot; Příčinou může být chyba v Java což způsobuje, že případy nejsou shromažďovány odpadky. Tento problém se vyhnout v ERDDAP™ V1.66 a vyšší. Takže nejlepší řešení je přepnout nejnovější verzi ERDDAP .
Pokud to nevyřeší problém (tj. pokud máte opravdu velký počet souborů pomocí&lt;updateEveryNMillis&gt;), můžete tento problém napravit voláním:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo sysctl fs.inotify.max\\_user\\_watches=65536  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo sysctl fs.inotify.max\\_user\\_instances=1024  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo sysctl -p  </span><br></span></code></pre></div></div>
</li>
</ul>
</li>
</ul>
<p>Nebo použijte vyšší čísla, pokud problém přetrvává. Výchozí hodnota hodinek je 8192. Výchozí hodnota pro případy je 128.</p>
<ul>
<li class="">Můžete tam dát&lt;updateMaxEvents&gt;10&lt;/updateMaxEvents&gt; v datasets.xml   (s ostatními nastaveními v blízkosti horní části) změnit maximální počet změn souboru (výchozí=10) která bude zpracována systémem updateEveryNMillis. Větší číslo může být užitečné pro soubor údajů, kde je velmi důležité, aby byly vždy aktualizovány. Viz <a href="#updatemaxevents" class="">aktualizace dokumentaceMaxEvents</a> .</li>
<li class="">Pro podivné programátory -- tyto přírůstkové aktualizace, na rozdíl od ERDDAP Je plná. <a href="#reloadeverynminutes" class="">reloadEveryNMinutes</a> systém, objeví se v rámci uživatelského požadavku vlákna. Jakýkoliv počet souborů dat může být aktualizován současně. Existuje kód. (a zámek) zajistit, aby na aktualizaci daného datového souboru v daném okamžiku pracovalo pouze jedno vlákno. Umožnit více simultánních aktualizací bylo snadné; umožnit více simultánních celých reloadů by bylo těžší.
 </li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcecanconstrainstringeqne">&lt;sourceCanCanstrainStringEQNE&gt;<a href="#sourcecanconstrainstringeqne" class="hash-link" aria-label="Přímý odkaz na&lt;sourceCanCanstrainStringEQNE&gt;" title="Přímý odkaz na&lt;sourceCanCanstrainStringEQNE&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;sourceCanCanstrainStringEQNE&gt; ** ] (# sourcecantrainstringeqne) je VOLITELNÁ tag v tabulce&lt;Soubor údajů &gt; značka v datasets.xml který určuje, zda zdroj může omezit proměnné String pomocí operátorů = a !=.<!-- -->
<ul>
<li class="">Pro EDDTableFromDapSequence to platí pouze pro vnější sekvence String proměnné. Předpokládá se, že zdroj nezvládne žádná omezení na proměnné vnitřní sekvence.</li>
<li class="">Tato značka je volitelná. Platné hodnoty jsou pravdivé (výchozí) a falešné.</li>
<li class="">Pro EDDTableFromDapSequence OPeNDAP DRDS servery, to by mělo být nastaveno na true (výchozí) .</li>
<li class="">Pro EDDTableFromDapSequence Dapper servery, tohle by mělo být nastaveno na false.</li>
<li class="">Příkladem je:</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceCanConstrainStringEQNE&gt;true&lt;/sourceCanConstrainStringEQNE&gt;  </span><br></span></code></pre></div></div>
<p> </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcecanconstrainstringgtlt">&lt;zdrojCanCanstrainStringGTLT&gt;<a href="#sourcecanconstrainstringgtlt" class="hash-link" aria-label="Přímý odkaz na&lt;zdrojCanCanstrainStringGTLT&gt;" title="Přímý odkaz na&lt;zdrojCanCanstrainStringGTLT&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;zdrojCanCanstrainStringGTLT&gt; ** ] (#sourcecantrainstringgtlt) je VOLITELNÁ tag v tabulce&lt;Soubor &gt; značka, která určuje, zda zdroj může omezit proměnné String pomocí&lt;,&lt;=, &gt; a &gt; hospodářské subjekty.<!-- -->
<ul>
<li class="">Pro EDDTableFromDapSequence to platí pouze pro vnější sekvence String proměnné. Předpokládá se, že zdroj nezvládne žádná omezení na proměnné vnitřní sekvence.</li>
<li class="">Platné hodnoty jsou pravdivé (výchozí) a falešné.</li>
<li class="">Tato značka je volitelná. Default je pravdivý.</li>
<li class="">Pro EDDTableFromDapSequence OPeNDAP DRDS servery, to by mělo být nastaveno na true (výchozí) .</li>
<li class="">Pro EDDTableFromDapSequence Dapper servery, tohle by mělo být nastaveno na false.</li>
<li class="">Příkladem je:</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceCanConstrainStringGTLT&gt;true&lt;/sourceCanConstrainStringGTLT&gt;  </span><br></span></code></pre></div></div>
<p> </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcecanconstrainstringregex">&lt;zdrojCanCanstrainStringRegex&gt;<a href="#sourcecanconstrainstringregex" class="hash-link" aria-label="Přímý odkaz na&lt;zdrojCanCanstrainStringRegex&gt;" title="Přímý odkaz na&lt;zdrojCanCanstrainStringRegex&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;sourceCanCanstrainStringRegex&gt; ** ] (# sourcecanconstriningregex) je VOLITELNÁ tag v tabulce&lt;tag datového souboru &gt;, který určuje, zda zdroj může omezit proměnné String pomocí pravidelných výrazů, a pokud ano, co je operátor.<!-- -->
<ul>
<li class="">Platné hodnoty jsou &quot;=<del>&quot; (vá DAP standardní) , &quot;</del>=&quot; (mylně podporován mnoha lidmi DAP servery) nebo &quot;&quot; (naznačující, že zdroj nepodporuje pravidelné výrazy) .</li>
<li class="">Tato značka je volitelná. Výchozí je &quot;&quot;</li>
<li class="">Pro EDDTableFromDapSequence OPeNDAP DRDS servery, to by mělo být nastaveno na &quot;&quot; (výchozí) .</li>
<li class="">Pro EDDTableFromDapSequence Dapper servery, to by mělo být nastaveno na &quot;&quot; (výchozí) .</li>
<li class="">Příkladem je:</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceCanConstrainStringRegex&gt;=~&lt;/sourceCanConstrainStringRegex&gt;  </span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcecandodistinct">&lt;zdrojCanDoDistinct&gt;<a href="#sourcecandodistinct" class="hash-link" aria-label="Přímý odkaz na&lt;zdrojCanDoDistinct&gt;" title="Přímý odkaz na&lt;zdrojCanDoDistinct&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;sourceCanDoDistinct&gt; ** ] (# sourcecandodistant) je VOLITELNÝ tag v databázi EdDtableFromDatabase&lt;tag datového souboru &gt;, který určuje, zda má zdrojová databáze zvládnout &amp; Distinct () omezení v uživatelských dotazech.<!-- -->
<ul>
<li class="">Tato značka je volitelná. Platné hodnoty jsou ne ( ERDDAP™ ovládá odlišné; výchozí) , částečné (zdroj ovládá odlišné a ERDDAP™ Zvládne to znovu.) , a ano (zdroj zvládá odlišné) .</li>
<li class="">Jestliže užíváte ne a ERDDAP™ Dochází mu paměť, když se s ním zachází jinak, použijte ano.</li>
<li class="">Pokud používáte ano a zdrojová databáze pracuje příliš pomalu, použijte ne.</li>
<li class="">parciální vám dává nejhorší z obou: to je pomalé, protože zpracování databáze odlišné je pomalé a může dojít paměť v ERDDAP .</li>
<li class="">Databáze interpretují DISTINCT jako požadavek na pouze jedinečné řádky výsledků, zatímco ERDDAP™ interpretuje jej jako žádost o setříděný seznam unikátních řádků výsledků. Pokud to nastavíte na částečné nebo ano, ERDDAP™ automaticky také říká databázi, aby třídila výsledky.</li>
<li class="">Jeden malý rozdíl ve výsledcích:
Ne. | částečné, ERDDAP™ bude třídit &quot;&quot; na začátku výsledků (před ne-&quot;&quot;&quot; řetězce) .
S ano, databáze může (Postgres bude) Sort &quot;&quot; na konci výsledků (po non-&quot;&quot; řetězce) .
Budu hádat, že to také ovlivní třídění krátkých slov oproti delším slovům, která začínají krátkým slovem. Například, ERDDAP™ bude třídit &quot;Simon&quot; před &quot;Simony.&quot;</li>
<li class="">Příkladem je:</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceCanDoDistinct&gt;yes&lt;/sourceCanDoDistinct&gt;  </span><br></span></code></pre></div></div>
<p> </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcecanorderby">&lt;sourceCanOrderBy&gt;<a href="#sourcecanorderby" class="hash-link" aria-label="Přímý odkaz na&lt;sourceCanOrderBy&gt;" title="Přímý odkaz na&lt;sourceCanOrderBy&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;zdroj CanOrderBy&gt; ** ] (#Sourcecanorderby) je VOLITELNÝ tag v databázi EdDtableFromDatabase&lt;tag datového souboru &gt;, který určuje, zda má zdrojová databáze zvládnout &amp; orderBy  (...) omezení v uživatelských dotazech.<!-- -->
<ul>
<li class="">Tato značka je volitelná. Platné hodnoty jsou ne ( ERDDAP™ kliky orderBy  (...) ; výchozí) , částečné (zdrojové kliky orderBy a ERDDAP™ Zvládne to znovu.) , a ano (zdrojové kliky orderBy  (...) ) .</li>
<li class="">Jestliže užíváte ne a ERDDAP™ dochází mi paměť při manipulaci orderBy  (...) , použijte ano.</li>
<li class="">Pokud používáte ano a kliky na zdrojovou databázi orderBy  (...) příliš pomalu, použijte ne.</li>
<li class="">částečné dává vám nejhorší z obou: je to pomalé, protože databázové zpracování orderBy  (...) je pomalý a může dojít paměť v ERDDAP .</li>
<li class="">Jeden malý rozdíl ve výsledcích:
Ne. | částečné, ERDDAP™ bude třídit &quot;&quot; na začátku výsledků (před ne-&quot;&quot;&quot; řetězce) .
S ano, databáze může (Postgres bude) Sort &quot;&quot; na konci výsledků (po non-&quot;&quot; řetězce) .
To může také ovlivnit třídění krátkých slov oproti delším slovům, která začínají krátkým slovem. Například, ERDDAP™ bude třídit &quot;Simon&quot; před &quot;Simony,&quot; ale nejsem si jistý, jak je bude databáze třídit.</li>
<li class="">Příkladem je:</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceCanOrderBy&gt;yes&lt;/sourceCanOrderBy&gt;  </span><br></span></code></pre></div></div>
<p> </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourceneedsexpandedfp_eq">&lt;zdrojNeedsExpandedFP\_EQ&gt;<a href="#sourceneedsexpandedfp_eq" class="hash-link" aria-label="Přímý odkaz na&lt;zdrojNeedsExpandedFP\_EQ&gt;" title="Přímý odkaz na&lt;zdrojNeedsExpandedFP\_EQ&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt;zdrojNeedsExpandedFP\_EQ&gt; ** ] (#sourceneedsexpandedfp_eq) je VOLITELNÁ tag v tabulce&lt;Soubor &gt; značka, která určuje (pravda (výchozí) nebo falešné) pokud zdroj potřebuje pomoct s dotazy s&lt;číselný Proměnná &gt;=&lt;floatingPointValue&gt; (a !=, &gt;&lt;=). Například,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;sourceNeedsExpandedFP\\_EQ&gt;false&lt;/sourceNeedsExpandedFP\\_EQ&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Pro některé zdroje dat, číselné dotazy zahrnující =, !=,&lt;= nebo &gt; nesmí pracovat podle přání s čísly plovoucích bodů. Například hledání délky=220.2 může selhat, pokud je hodnota uložena jako 220.20000000000001.</li>
<li class="">Tento problém vzniká, protože plovoucí bod čísla jsou <a href="https://randomascii.wordpress.com/2012/02/25/comparing-floating-point-numbers-2012-edition/" target="_blank" rel="noopener noreferrer" class="">není zrovna v počítačích</a> .</li>
<li class="">Pokud zdrojNeedsExpandedFP\_EQ je nastaven na true (výchozí) , ERDDAP™ modifikuje dotazy zaslané do zdroje dat, aby se zabránilo tomuto problému. Je vždy bezpečné a v pořádku nechat tento soubor být.
 </li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourceurl">&lt; sourceUrl &gt;<a href="#sourceurl" class="hash-link" aria-label="Přímý odkaz na&lt; sourceUrl &gt;" title="Přímý odkaz na&lt; sourceUrl &gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt; sourceUrl &gt; ** ] (#sourcerl) je společná značka v rámci globálního datového souboru&lt; addAttributes &gt; tag, který určuje URL, který je zdrojem dat.<!-- -->
<ul>
<li class="">Příkladem je:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceUrl&gt;https://oceanwatch.pfeg.noaa.gov/thredds/dodsC/satellite/VH/chla/1day&lt;/sourceUrl&gt;  </span><br></span></code></pre></div></div>
<!-- -->(ale dát to všechno na jeden řádek)<!-- -->
<ul>
<li class="">In ERDDAP™ , všechny datové soubory budou mít &quot; sourceUrl &quot; v kombinovaných globálních atributech, které jsou zobrazeny uživatelům.</li>
<li class="">U většiny typů souborů dat je tato značka povinná. Viz popis typu datového souboru, aby bylo možné zjistit, zda je to vyžadováno či nikoli.</li>
<li class="">Pro některé datové soubory je oddělená&lt; sourceUrl &gt; značka není povolena. Místo toho musíš poskytnout &quot; sourceUrl &quot; <a href="#global-attributes" class="">globální atribut</a> , obvykle v globální \ &gt; addAttributes &lt;. Pokud neexistuje skutečná zdrojová URL (například pokud jsou data uložena v místních souborech) , Tento atribut má často jen místodržitel hodnotu, například,&lt;att name=&quot;name] (místní soubory) &lt;/att&gt; .</li>
<li class="">Pro většinu souborů dat je to základ URL, který se používá k požadavku na data. Například: DAP servery, toto je URL, do kterého lze přidat .dods, .das, .dds nebo .html.</li>
<li class="">Od datasets.xml je XML soubor, musíte také enkódovat &#x27;&amp;&#x27;, &#x27;&lt;&quot;a &quot;&gt;&quot; v URL jako &quot;&amp;,&quot; &quot;&lt;&#x27; a &#x27;&gt;&#x27;.</li>
<li class="">U většiny typů souborů údajů ERDDAP™ přidá originál sourceUrl   (&quot;localSourceUrl&quot; ve zdrojovém kódu) do <a href="#global-attributes" class="">globální atributy</a>   (kde se stane &quot;publicSourceUrl&quot; ve zdrojovém kódu) . Když zdroj dat je místní soubory, ERDDAP™ přidat sourceUrl =&quot; (místní soubory) &quot; globálním atributům jako bezpečnostní opatření. Pokud je zdrojem dat databáze, ERDDAP™ přidat sourceUrl =&quot; (databáze zdrojů) &quot; globálním atributům jako bezpečnostní opatření. Pokud některé vaše datové soubory používají neveřejné sourceUrl &#x27;s (obvykle proto, že jejich počítač je ve vašem DMZ nebo na lokální LAN) můžete použít [&lt;convertToPublicSourceUrl&gt;] (# Konvertovat na veřejné zdrojeurl) značky pro upřesnění, jak převést místní sourceUrl s na veřejnost sourceUrl s.</li>
<li class="">A sourceUrl může začít http:// , https:// , ftp://, a možná další předpony. https spojení čte a kontroluje digitální certifikát zdroje, aby bylo zajištěno, že zdroj je tím, kým říkají, že jsou. Ve vzácných případech může tato kontrola selhat s chybou &quot;javax.net.ssl.SSLProtocolVýjimkou: handshake alarm: uncognized\_name.&quot; To je pravděpodobně způsobeno doménovým jménem na certifikátu, který neodpovídá doménovému názvu, které používáte. Můžete a měli byste si přečíst podrobnosti o sourceUrl &#x27;s certifikátem ve vašem webovém prohlížeči, zejména seznam &quot;DNS Name&quot; v sekci &quot;Subjekt Alternative Name.&quot;</li>
</ul>
</li>
</ul>
<p>V některých případech sourceUrl používáte jméno domény uvedené v osvědčení. Například,
<a href="https://podaac-opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/bude" target="_blank" rel="noopener noreferrer" class="">https://podaac-opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/bude</a> házet tuto chybu, ale
<a href="https://opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/" target="_blank" rel="noopener noreferrer" class="">https://opendap.jpl.nasa.gov/opendap/allData/ccmp/L3.5a/monthly/flk/</a>, Který používá název domény na certifikátu, nebude. Řešením v těchto případech je proto najít a použít název domény na osvědčení. Pokud ho nenajdete v certifikátu, kontaktujte poskytovatele dat.</p>
<p>V ostatních případech může být název domény uvedený v osvědčení pro skupinu jmen. Pokud k tomu dojde nebo je problém jinak neřešitelný, prosím, e-mail Chris. John v Noaa.gov nahlásí problém.
 </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="addattributes">&lt;addAttributes&gt;<a href="#addattributes" class="hash-link" aria-label="Přímý odkaz na&lt;addAttributes&gt;" title="Přímý odkaz na&lt;addAttributes&gt;" translate="no">​</a></h4>
<ul>
<li class="">[ ** &lt; addAttributes &gt; ** ] (#addattributy) je VOLITELNÁ tag pro každý soubor údajů a pro každou proměnnou, která umožňuje ERDDAP Správci kontrolují atributy metadat spojené s datovým souborem a jeho proměnnými.<!-- -->
<ul>
<li class="">ERDDAP™ kombinuje atributy ze zdroje datového souboru (&quot;sourceAttributes&quot;) a &quot; addAttributes &quot;který definujete datasets.xml   (které mají přednost) k vytvoření &quot;kombinovaných atributů,&quot; což je co ERDDAP™ uživatelé vidí. Můžete tedy použít addAttributes redefinovat hodnoty zdrojových atributů, přidat nové atributy nebo odstranit atributy.</li>
<li class="">The&lt; addAttributes &gt; značka obsahuje 0 nebo více ** &lt;att &gt; ** podtagy, které se používají k určení jednotlivých atributů.</li>
<li class="">Každý atribut se skládá z názvu a hodnoty (který má specifický datový typ, například, dvojitý) .</li>
<li class="">S daným jménem může existovat pouze jeden atribut. Jestli je jich víc, tak ten poslední má přednost.</li>
<li class="">Hodnota může být jedna hodnota nebo mezerně oddělený seznam hodnot.</li>
<li class="">Syntaxe<!-- -->
<ul>
<li class="">Pořadí&lt;att &gt; subtags within addAttributes není důležité.</li>
<li class="">The&lt;attt&gt; podtag formát je</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;*name*&quot; \\[type=&quot;*type*&quot;\\] &gt;*value*&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Název místa určení všech atributů MUSÍ začít písmenem (A-Z, a-z) a MUSÍ obsahovat pouze znaky A-Z, a-z, 0-9 nebo &#x27;\_&#x27;.</li>
<li class="">Pokud&lt;attt&gt; podtag nemá hodnotu nebo hodnotu nuly, tento atribut bude odstraněn z kombinovaných atributů.
Například,&lt;att name=&quot;rows&quot; /&gt; odstraní řádky z kombinovaných atributů.
Například,&lt;att name=&quot;coordinations¶null&lt;/att&gt; odstraní souřadnice z kombinovaných atributů.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="attributetype">atribut Typ<a href="#attributetype" class="hash-link" aria-label="Přímý odkaz naatribut Typ" title="Přímý odkaz naatribut Typ" translate="no">​</a></h5>
<ul>
<li class="">[VOLITELNÁ hodnota typu pro&lt;att &gt; subtags] (#atributetyp) označuje datový typ hodnot. Výchozím typem je String. Příkladem atributu String je:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;creator\\_name&quot;&gt;NASA/GSFC OBPG&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Platné typy pro jednotlivé hodnoty jsou byte (8-bitové celé číslo) , krátké (16-bit podepsané celé číslo) , int (32-bit podepsané celé číslo) , dlouhá (64-bit podepsané celé číslo) , plavat (32-bitový plovoucí bod) , dvojitá (64-bitový plovoucí bod) , Char, a String. Například,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;scale\\_factor&quot; type=&quot;float&quot;&gt;0.1&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
</ul>
<p>Viz tyto poznámky o <a href="#char" class="">datový typ znaku</a> .
Viz tyto poznámky o <a href="#long" class="">Dlouhý datový typ</a> .</p>
<ul>
<li class="">Platné typy pro seznamy hodnot oddělených od prostoru (nebo jednotné hodnoty) jsou byteList, shortList, unsignedShortList, charList, intList, longList, floatList, double Seznam. Například,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;actual\\_range&quot; type=&quot;doubleList&quot;&gt;10.34 23.91&lt;/att&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>UnsignedShortList vám umožní zadat seznam nesignovaných kraťasů, ale budou převedeny na seznam odpovídajících znaků Unicode (např. &quot;65 67 69&quot; bude přeměněno na &quot;A C E.&quot;
Pokud zadáte charList, zakódujte jakékoliv speciální znaky (např. prostor, dvojité uvozovky, backslash,&lt;#32 nebo &gt;#127), jak byste je zakódovali v datové sekci NCCSV souboru (např., &quot;,&quot; &quot;\&quot;&quot; nebo &quot;&quot;&quot;,&quot; &quot;\\,&quot; &quot; \n &quot;, &quot;\ u20ac&quot;) .
Není žádný strunný list. Uložte hodnoty String jako multi-line String. Například,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;history&quot;&gt;2011-08-05T08:55:02Z ATAM - made CF-1.6 compliant.  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2012-04-08T08:34:58Z ATAM - Changed &#x27;height&#x27; from double to float.&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p> </p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="global-attributes">Globální Atributy<a href="#global-attributes" class="hash-link" aria-label="Přímý odkaz naGlobální Atributy" title="Přímý odkaz naGlobální Atributy" translate="no">​</a></h4>
<ul>
<li class="">
<p>[ ** Globální Atributy / Global&lt; addAttributes &gt; ** ] (#Global-atributes) --
&lt; addAttributes &gt; je VOLITELNÁ tag v rámci&lt;Databáze &gt; značka, která se používá ke změně atributů, které se vztahují na celý datový soubor.</p>
<ul>
<li class="">** Použijte globální&lt; addAttributes &gt; změnit globální atributy datového souboru. **  ERDDAP™ kombinuje globální atributy ze zdroje datového souboru (** zdrojAtributy <strong>) a globální</strong>  addAttributes  <strong>který definujete v datasets.xml   (které mají přednost) vytvořit globální</strong> kombinovanéAtributy ** , které jsou co ERDDAP™ uživatelé vidí. Můžete tedy použít addAttributes redefinovat hodnoty zdrojových atributů, přidat nové atributy nebo odstranit atributy.</li>
<li class="">Viz [ ** &lt; addAttributes &gt; <strong>informace] (#addattributy) která se vztahuje na globální a variabilní</strong> &lt; addAttributes &gt; ** .</li>
<li class=""><a href="https://www.fgdc.gov/standards/projects/FGDC-standards-projects/metadata/base-metadata/index_html" target="_blank" rel="noopener noreferrer" class="">FGDC</a> a <a href="https://en.wikipedia.org/wiki/Geospatial_metadata" target="_blank" rel="noopener noreferrer" class="">ISO 19115-2/19139</a> Metadata -- Normálně, ERDDAP™ automaticky generuje ISO 19115-2/19139 a FGDC (FGDC-STD-001-1998) Soubory XML metadat pro každý datový soubor s využitím informací z metadat datového souboru. Takže, <strong>dobrá metadata datového souboru vede k dobrému ERDDAP -vygenerovala metadata ISO 19115 a FGDC. Zvažte, prosím, vložit hodně času a úsilí do zlepšení metadat vašich souborů (Což je stejně dobrá věc.) .</strong> Většina atributů metadat datového souboru, které se používají pro generování metadat ISO 19115 a FGDC jsou z <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">Standard metadat ACDD</a> a jsou uvedeny níže.</li>
<li class="">Mnohé globální atributy jsou zvláštní v tom, že ERDDAP™ Hledá je a používá je různými způsoby. Například odkaz na infoUrl je zahrnuta na webových stránkách se seznamy souborů dat a dalších míst, aby uživatelé mohli zjistit více o datovém souboru.</li>
<li class="">Pokud uživatel vybere podmnožinu dat, globální atributy vztahující se k délce proměnné, zeměpisné šířce, výšce (nebo hloubka) , a časové rozsahy (např. Southernmost\_severní, Northernmost\_severní, time\_coverage\_start, time\_coverage\_end) jsou automaticky generovány nebo aktualizovány.</li>
<li class="">Jednoduchý globální vzorek&lt; addAttributes &gt; je:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;addAttributes&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;att name=&quot;Conventions&quot;&gt;COARDS, CF-1.6, ACDD-1.3&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;att name=&quot;infoUrl&quot;&gt;https://coastwatch.pfeg.noaa.gov/infog/PH\\_ssta\\_las.html&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;att name=&quot;institution&quot;&gt;NOAA CoastWatch, West Coast Node&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;att name=&quot;title&quot;&gt;SST, Pathfinder Ver 5.0, Day and Night, Global&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;att name=&quot;cwhdf\\_version&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/addAttributes&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
</li>
</ul>
<p>Prázdný atribut cwhdf\_version způsobuje atribut zdroj cwhdf\_version (pokud existuje) která se odstraní ze konečného seznamu atributů.</p>
<ul>
<li class="">Poskytování těchto informací pomáhá ERDDAP™ dělat lepší práci a pomáhá uživatelům pochopit soubory dat.
Dobré metadata činí datový soubor použitelný.
Nedostatečná metadata činí datový soubor k ničemu.
Prosím, udělejte si čas na dobrou práci s atributy metadat.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="zvláštní-globální-atributy-v-erddap">Zvláštní globální atributy v ERDDAP™<a href="#zvláštní-globální-atributy-v-erddap" class="hash-link" aria-label="Přímý odkaz naZvláštní globální atributy v ERDDAP™" title="Přímý odkaz naZvláštní globální atributy v ERDDAP™" translate="no">​</a></h5>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="acknowledgement">Potvrzení<a href="#acknowledgement" class="hash-link" aria-label="Přímý odkaz naPotvrzení" title="Přímý odkaz naPotvrzení" translate="no">​</a></h6>
<ul>
<li class=""><a href="#acknowledgement" class=""> <strong>Potvrzení</strong> </a> a <strong>uznání</strong>   (z <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> standard metadat) je DOPORUČENÝ způsob uznání skupiny nebo skupin, které poskytly podporu (zejména finanční) pro projekt, který vytvořil tato data. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;acknowledgment&quot;&gt;AVISO&lt;/att&gt;</span><br></span></code></pre></div></div>
<p>Všimněte si, že ACDD 1.0 a 1.1 používají hláskování &quot;poznámky&quot; (což je obvyklé pravopis v USA.) , ale ACDD 1.3 to změnilo na &quot;poznání&quot; (což je obvyklé pravopis ve Velké Británii.) . Chápu to tak, že změna byla v podstatě nehoda a že rozhodně nepoznali důsledky změny. To je bordel! Po celém světě jsou miliony datových souborů, které mají &quot;poznání&quot; a miliony, které mají &quot;poznání.&quot; To zdůrazňuje pošetilost &quot;jednoduchých&quot; změn normy a zdůrazňuje potřebu stability norem. Protože ACDD 1.3 (což je verze ACDD, že ERDDAP™ Podpora) říká &quot;poznání,&quot; ERDDAP™   (GenerovatDatasety Xml) podporuje.
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="cdm_altitude_proxy">cdm\_altitude\_proxy<a href="#cdm_altitude_proxy" class="hash-link" aria-label="Přímý odkaz nacdm\_altitude\_proxy" title="Přímý odkaz nacdm\_altitude\_proxy" translate="no">​</a></h6>
<ul>
<li class=""><a href="#cdm_altitude_proxy" class=""> <strong>cdm\_altitude\_proxy</strong> </a> je pouze pro soubory EDDTable, které nemají proměnnou výšky nebo hloubky, ale mají proměnnou, která je proxy pro nadmořskou výšku nebo hloubku (například tlak, sigma, láhevČíslo) , můžete použít tento atribut k identifikaci této proměnné. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_altitude\\_proxy&quot;&gt;pressure&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Pokud <a href="#cdm_data_type" class="">cdm\_data\_type</a> je Profile nebo TrajectoryProfile a neexistuje žádná proměnná výšky nebo hloubky, cdm\_altitude\_proxy MUSÍ být definováno. Pokud je definován cdm\_altitude\_proxy, ERDDAP™ přidá do proměnné následující metadata: \_Souřadnice AxisType=Height and axis=Z.
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="cdm_data_type">cdm\_data\_type<a href="#cdm_data_type" class="hash-link" aria-label="Přímý odkaz nacdm\_data\_type" title="Přímý odkaz nacdm\_data\_type" translate="no">​</a></h6>
<ul>
<li class=""><a href="#cdm_data_type" class=""> <strong>cdm\_data\_type</strong> </a>   (z <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> standard metadat) je globální atribut, který označuje Unidata   <a href="https://www.unidata.ucar.edu/software/netcdf-java/v4.6/CDM/index.html" target="_blank" rel="noopener noreferrer" class="">Společný datový model</a> datový typ datového souboru. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_data\\_type&quot;&gt;Point&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>CDM se stále vyvíjí a může se opět změnit. ERDDAP™ splňuje související a podrobnější požadavky <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">Geometrie diskrétního odběru vzorků (DSG) </a> kapitola <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF 1.6</a> Konvence metadat (dříve nazývané úmluvy o sledování CF bod) .</p>
<ul>
<li class="">Buď je soubor globální <a href="#global-attributes" class="">zdrojAtributy</a> nebo jeho globální&lt; addAttributes &gt; MUSÍ obsahovat atribut cdm\_data\_type. Několik typů souborů údajů (jako EDDTable FromObis) automaticky to nastaví.</li>
<li class="">Pro EDDGrid Soubory dat, možnosti cdm\_data\_type jsou Grid (výchozí a zdaleka nejčastější typ pro EDDGrid Soubory údajů) , MovingGrid, Other, Point, Profile, RadialSweep, TimeSeries, TimeSeriesProfile, Swath, Trajektorie a TrajektoryProfile. V současné době, EDDGrid nevyžaduje, aby byla specifikována žádná související metadata, ani nekontroluje, zda data odpovídají typu cdm\<em>data\</em>. To se pravděpodobně v blízké budoucnosti změní.</li>
<li class="">EDDTable používá cdm\_data\_type přísně, po specifikaci CF DSG spíše než CDM, který z nějakého důvodu nebyl aktualizován, aby byl v souladu s DSG. Pokud metadata datového souboru neodpovídá ERDDAP &#x27;s požadavky cdm\_data\_type&#x27; (viz níže) , datový soubor nebude načíst a bude generovat <a href="#troubleshooting-tips" class="">chybová zpráva</a> . (To je dobře, v tom smyslu, že chybová zpráva vám řekne, co je špatně, abyste to mohli napravit.) A pokud data datového souboru neodpovídají nastavení metadat datového souboru (Například pokud existuje více než jedna hodnota zeměpisné šířky pro danou stanici v souboru časových řad) , některé žádosti o údaje vrátí nesprávné údaje v odpovědi. Takže se ujisti, že to všechno uděláš správně.</li>
</ul>
<p>Pro všechny tyto soubory údajů, v úmluvách a Metadata\_Conventions globální atributy, viz CF-1.6 (ne CF-1,0, 1.1, 1.2, 1.3, 1.4 nebo 1.5) , protože CF-1.6 je první verze, která zahrnuje změny související s diskrétní odběr vzorků geometrie (DSG) Konvence.</p>
<ul>
<li class="">** ERDDAP™ nemá jednoduchý vztah k CF DSG**</li>
<li class="">ERDDAP™ může vytvořit platný datový soubor DSG ze zdrojového souboru, který je již platným DSG souborem (án) , nebo ze zdrojového souboru, který není nastaven pro DSG, ale lze jej provést prostřednictvím změn metadat (některé z nich jsou ERDDAP -specifický s cílem poskytnout obecnější přístup k upřesnění nastavení DSG) .</li>
<li class="">ERDDAP™ provádí hodně zkoušek platnosti, když načítá soubor údajů. Pokud má datový soubor cdm\_data\_type (nebo featureType ) atribut úspěšně zatížení v ERDDAP™ , pak ERDDAP™ tvrdí, že datový soubor splňuje požadavky DSG (jinak, ERDDAP™ bude hodit výjimku vysvětlit první problém, který našel) .
UPOZORNĚNÍ: Zdá se, že úspěšně naložený soubor dat splňuje požadavky DSG (má správnou kombinaci atributů) , ale stále může být špatně nastaven, což vede k nesprávným výsledkům .nc CF a .nc Soubory odpovědí CFMA. (Software je v některých ohledech chytrý a v jiných netušící.)</li>
<li class="">Když se podíváte na metadata souboru v ERDDAP™ , zdá se, že DSG soubor je v ERDDAP &#x27;s vnitřním formátem (obří, databázová tabulka) . Není v jednom z DSG formátů (Například rozměry a metadata nejsou správné) , ale informace potřebné pro zpracování datového souboru jako DSG data jsou v metadatech (například cdm\_data\_type=TimeSeries a cdm\_timeseries\_variables= <em>aCsvListOfStationRelatedVarables</em> v globálních metadatech a cf\_role=timeseries\_id pro některé proměnné) .</li>
<li class="">Pokud uživatel požaduje podmnožinu datového souboru v .nc CF (a .nc soubor ve formátu DSG kontiguous Ragged Array) nebo .nc Soubor CFMA (a .nc soubor ve formátu DSG Multidimenzional Array) , že soubor bude platný CF DSG soubor.
UPOZORNĚNÍ: Nicméně, pokud byl soubor dat nastaven nesprávně (takže sliby z metadat nejsou pravdivé) , pak soubor odpovědi bude technicky platný, ale bude být nějakým způsobem nesprávné.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="eddtable-cdm_data_types">EDDTable cdm_data_types<a href="#eddtable-cdm_data_types" class="hash-link" aria-label="Přímý odkaz naEDDTable cdm_data_types" title="Přímý odkaz naEDDTable cdm_data_types" translate="no">​</a></h6>
<ul>
<li class="">Pro soubory EDDTable jsou možnosti cdm\_data\_type (a související požadavky v ERDDAP ) jsou</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="point">Bod<a href="#point" class="hash-link" aria-label="Přímý odkaz naBod" title="Přímý odkaz naBod" translate="no">​</a></h6>
<ul>
<li class=""><a href="#point" class="">Bod</a> -- je pro soubor měření provedených v nesouvisejících časech a místech.</li>
<li class="">Stejně jako u všech cdm\_data\_typů jiných než jiných, musí mít bodové datové soubory délku, šířku a časové proměnné.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="profile">Profil<a href="#profile" class="hash-link" aria-label="Přímý odkaz naProfil" title="Přímý odkaz naProfil" translate="no">​</a></h6>
<ul>
<li class="">
<p><a href="#profile" class="">Profil</a> -- je soubor měření všech provedených najednou, v jedné zeměpisné šířce, ale ve více než jedné hloubce (nebo výška) . Soubor údajů může být souborem těchto profilů, například 7 profilů z různých míst. Tento cdm\_data\_type neznamená žádné logické spojení mezi žádným z profilů.</p>
</li>
<li class="">
<p>Jedna z proměnných (například profil\_číslo) MUSÍ mít variabilní atribut cf\_role=profile\_id pro identifikaci proměnné, která jednoznačně identifikuje profily.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cf\\_role&quot;&gt;profile\\_id&lt;/att&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>Pokud žádná jiná proměnná není vhodná, zvažte použití časové proměnné.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="cdm_profile_variables">cdm\_profile\_variables<a href="#cdm_profile_variables" class="hash-link" aria-label="Přímý odkaz nacdm\_profile\_variables" title="Přímý odkaz nacdm\_profile\_variables" translate="no">​</a></h6>
<ul>
<li class="">Soubor údajů MUSÍ obsahovat globální atribut <a href="#cdm_profile_variables" class="">cdm\_profile\_variables</a> , kde hodnota je čárkou oddělený seznam proměnných, které mají informace o každém profilu. Pro daný profil musí být hodnoty těchto proměnných konstantní. Například,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_profile\\_variables&quot;&gt;profile\\_number,time,latitude,longitude&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Seznam MUSÍ obsahovat proměnnou cf\_role=profile\_id a všechny další proměnné s informacemi o profilu, a čas, zeměpisná šířka a délka.
Seznam nebude nikdy zahrnovat nadmořskou výšku, hloubku ani žádné proměnné pozorování.
 </p>
<p>\[ Opinion: cdm\_data\_type=Profil by měl být používán zřídka. V praxi je daný datový soubor obvykle buď TimeSeriesProfile (profily v pevné poloze) nebo TrajektoryProfile (profily podél trajektorie) , a to by mělo být řádně identifikováno jako takové. \]</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="timeseries">Časové řady<a href="#timeseries" class="hash-link" aria-label="Přímý odkaz naČasové řady" title="Přímý odkaz naČasové řady" translate="no">​</a></h6>
<ul>
<li class=""><a href="#timeseries" class="">Časové řady</a> -- je sled měření (Například teplota mořské vody) 1 písm. a) a čl. (nebo výška) Umístění. (Ber to jako &quot;station.&quot;) Databáze může být sbírkou těchto TimeSeries, například posloupnost z každé ze 3 různých míst.</li>
<li class="">Jedna z proměnných (například stanice\_id) MUSÍ mít variabilní atribut cf\_role=timeseries\_id pro identifikaci proměnné, která jednoznačně identifikuje stanice.<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cf\\_role&quot;&gt;timeseries\\_id&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="cdm_timeseries_variables">cdm\_timeseries\_variables<a href="#cdm_timeseries_variables" class="hash-link" aria-label="Přímý odkaz nacdm\_timeseries\_variables" title="Přímý odkaz nacdm\_timeseries\_variables" translate="no">​</a></h6>
<ul>
<li class="">Soubor údajů MUSÍ obsahovat globální atribut <a href="#cdm_timeseries_variables" class="">cdm\_timeseries\_variables</a> , kde hodnota je čárkou oddělený seznam proměnných, které mají informace o každé stanici. Pro danou stanici musí být hodnoty těchto proměnných konstantní. Například,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_timeseries\\_variables&quot;&gt;station\\_id,station\\_type,latitude,longitude&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Seznam MUSÍ obsahovat proměnnou cf\_role=timeseries\_id a všechny ostatní proměnné s informacemi o stanici, která téměř vždy zahrnuje zeměpisnou šířku a délku (a výška nebo hloubka, pokud jsou přítomny) .
Seznam nikdy nebude obsahovat časové nebo pozorovací proměnné.</p>
<ul>
<li class="">Pro některé kotvené bóje může mít datový soubor dvě sady proměnných zeměpisné šířky a délky:<!-- -->
<ol>
<li class="">Jeden pár hodnot zeměpisné šířky a délky, které jsou konstantní (tj. pevné umístění kotviště) . In ERDDAP™ , dát tyto proměnné destinationName s zeměpisné šířky a délky a zahrnout tyto proměnné do seznamu cdm\_timeseries\_variables.</li>
<li class="">Přesné hodnoty zeměpisné šířky a délky spojené s každým pozorováním. In ERDDAP™ , dát tyto proměnné různé destinationName án (např. přesné a přesné Lon) a nezahrnují tyto proměnné do seznamu cdm\_timeseries\_variables.
Důvodem je: z teoretického hlediska soubor dat DSG TimeSeries, zeměpisná šířka a délka (a výška nebo hloubka, pokud jsou přítomny) Umístění stanice musí být konstantní.</li>
</ol>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="timeseriesprofile">TimeSeriesProfil<a href="#timeseriesprofile" class="hash-link" aria-label="Přímý odkaz naTimeSeriesProfil" title="Přímý odkaz naTimeSeriesProfil" translate="no">​</a></h6>
<ul>
<li class=""><a href="#timeseriesprofile" class="">TimeSeriesProfil</a> -- je pro sekvenci profilů pořízených v jednom, pevném, zeměpisné poloze. Každý profil je soubor měření provedených ve více výškách nebo hloubkách. Databáze může být sbírkou těchto TimeSeriesProfiles, například sled profilů pořízených na každém z 12 různých míst.</li>
<li class="">Jedna z proměnných (například stanice\_id) MUSÍ mít variabilní atribut cf\_role=timeseries\_id pro identifikaci proměnné, která jednoznačně identifikuje stanice.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;cf\\_role&quot;&gt;timeseries\\_id&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Jedna z proměnných (například profil\_číslo) MUSÍ mít variabilní atribut cf\_role=profile\_id pro identifikaci proměnné, která jednoznačně identifikuje profily.<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cf\\_role&quot;&gt;profile\\_id&lt;/att&gt;  </span><br></span></code></pre></div></div>
<!-- -->(Zadaný profil\_id musí být jedinečný pouze pro dané časové řady\_id.) Pokud žádná jiná proměnná není vhodná, zvažte použití časové proměnné.</li>
<li class="">Databáze MUSÍ obsahovat globálníAttribute cdm\_timeseries\_variables, kde hodnota je čárkou oddělený seznam proměnných, které mají informace o každé stanici. Pro danou stanici musí být hodnoty těchto proměnných konstantní. Například,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_timeseries\\_variables&quot;&gt;station\\_id,station\\_type,latitude,longitude&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Seznam MUSÍ obsahovat proměnnou cf\_role=timeseries\_id a všechny ostatní proměnné s informacemi o stanici, která téměř vždy zahrnuje zeměpisnou šířku a délku.
Seznam nikdy nebude zahrnovat čas, výšku, hloubku nebo jakékoli proměnné pozorování.</p>
<ul>
<li class="">Soubor údajů MUSÍ zahrnovat globálníAttribute cdm\_profile\_variables, kde hodnota je čárkou oddělený seznam proměnných, které mají informace o každém profilu. Pro daný profil musí být hodnoty těchto proměnných konstantní. Například,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_profile\\_variables&quot;&gt;profile\\_number,time&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Seznam MUSÍ obsahovat proměnnou cf\_role=profile\_id a všechny další proměnné s informacemi o profilu, který téměř vždy obsahuje čas.
Seznam nebude nikdy zahrnovat zeměpisnou šířku, délku, výšku, hloubku nebo jakékoli proměnné pozorování.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="trajectory">Trajektorie<a href="#trajectory" class="hash-link" aria-label="Přímý odkaz naTrajektorie" title="Přímý odkaz naTrajektorie" translate="no">​</a></h6>
<ul>
<li class=""><a href="#trajectory" class="">Trajektorie</a> -- je sled měření na trajektorii (cesta prostorem a časem)   (např. teplota moře\_voda\_teplota pořízené lodí při pohybu vodou) . Databáze může být sbírkou těchto trajektorií, například posloupnosti z každé ze 4 různých lodí.</li>
<li class="">Jedna z proměnných (například ship\_id) Musí mít atribut cf\_role=trajektory\_id pro identifikaci proměnné, která jednoznačně identifikuje trajektorie.<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cf\\_role&quot;&gt;trajectory\\_id&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="cdm_trajectory_variables">cdm\_trajektory\_variables<a href="#cdm_trajectory_variables" class="hash-link" aria-label="Přímý odkaz nacdm\_trajektory\_variables" title="Přímý odkaz nacdm\_trajektory\_variables" translate="no">​</a></h6>
<ul>
<li class="">Soubor údajů MUSÍ obsahovat globální atribut <a href="#cdm_trajectory_variables" class="">cdm\_trajektory\_variables</a> , kde hodnota je čárkou oddělený seznam proměnných, které mají informace o každé trajektorii. Pro danou trajektorii musí být hodnoty těchto proměnných konstantní. Například,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_trajectory\\_variables&quot;&gt;ship\\_id,ship\\_type,ship\\_owner&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Seznam MUSÍ obsahovat proměnnou cf\_role=trajectory\_id a všechny další proměnné s informacemi o trajektorii.
Seznam nebude nikdy zahrnovat čas, zeměpisnou šířku, délku nebo jakékoli proměnné pozorování.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="trajectoryprofile">TrajektorieProfile<a href="#trajectoryprofile" class="hash-link" aria-label="Přímý odkaz naTrajektorieProfile" title="Přímý odkaz naTrajektorieProfile" translate="no">​</a></h6>
<ul>
<li class=""><a href="#trajectoryprofile" class="">TrajektorieProfile</a> -- je sekvence profilů na trajektorii. Databáze může být sbírkou těchto TrajectoryProfiles, například sled profilů pořízených 14 různými loděmi.</li>
<li class="">Jedna z proměnných (například ship\_id) MUSÍ mít variabilní atribut cf\_role=trajektory\_id pro identifikaci proměnné, která jednoznačně identifikuje trajektorie.<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cf\\_role&quot;&gt;trajectory\\_id&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
<li class="">Jedna z proměnných (například profil\_číslo) MUSÍ mít variabilní atribut cf\_role=profile\_id pro identifikaci proměnné, která jednoznačně identifikuje profily.<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cf\\_role&quot;&gt;profile\\_id&lt;/att&gt;  </span><br></span></code></pre></div></div>
<!-- -->(Zadaný profil\_id musí být jedinečný pouze pro danou trajektorii\_id.) Pokud žádná jiná proměnná není vhodná, zvažte použití časové proměnné.</li>
<li class="">Soubor údajů MUSÍ zahrnovat globálníAttribute cdm\_trajektory\_variables, kde hodnota je čárkou oddělený seznam proměnných, které mají informace o každé trajektorii. Pro danou trajektorii musí být hodnoty těchto proměnných konstantní. Například,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_trajectory\\_variables&quot;&gt;ship\\_id,ship\\_type,ship\\_owner&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Seznam MUSÍ obsahovat proměnnou cf\_role=trajectory\_id a všechny další proměnné s informacemi o trajektorii.
Seznam nebude nikdy obsahovat proměnné související s profilem, čas, zeměpisná šířka, zeměpisná délka nebo jakékoli proměnné pozorování.</p>
<ul>
<li class="">Soubor údajů MUSÍ zahrnovat globálníAttribute cdm\_profile\_variables, kde hodnota je čárkou oddělený seznam proměnných, které mají informace o každém profilu. Pro daný profil musí být hodnoty těchto proměnných konstantní. Například,<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;cdm\\_profile\\_variables&quot;&gt;profile\\_number,time,latitude,longitude&lt;/att&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Seznam MUSÍ obsahovat proměnnou cf\_role=profile\_id a všechny další proměnné s informacemi o profilu, který téměř vždy zahrnuje čas, zeměpisnou šířku a délku.
Seznam nebude nikdy zahrnovat nadmořskou výšku, hloubku ani žádné proměnné pozorování.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="other">Ostatní<a href="#other" class="hash-link" aria-label="Přímý odkaz naOstatní" title="Přímý odkaz naOstatní" translate="no">​</a></h6>
<ul>
<li class=""><a href="#other" class="">Ostatní</a> -- nemá žádné požadavky. Použijte jej, pokud datový soubor neodpovídá jedné z dalších možností, zejména pokud datový soubor neobsahuje zeměpisnou šířku, délku a časové proměnné.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="related-notes">Související poznámky<a href="#related-notes" class="hash-link" aria-label="Přímý odkaz naSouvisející poznámky" title="Přímý odkaz naSouvisející poznámky" translate="no">​</a></h6>
<ul>
<li class="">Všechny soubory EDDTable s cdm\_data\_typem jiným než &quot;Ostatní&quot; musí mít délku, šířku a časové proměnné.</li>
<li class="">Datasety s profily MUSÍ mít proměnnou výšky, proměnnou hloubky nebo <a href="#cdm_altitude_proxy" class="">cdm\_altitude\_proxy</a> proměnná.</li>
<li class="">Pokud nemůžete vytvořit soubor dat v souladu se všemi požadavky na ideální cdm\_data\_type, použijte &quot;Point&quot; (který má několik požadavků) nebo &quot;Ostatní&quot; (který nemá žádné požadavky) Místo toho.</li>
<li class="">Tyto informace používá ERDDAP™ různými způsoby, například, ale hlavně pro výrobu .nc Soubory CF ( .nc soubory, které odpovídají Contiguous Ragged Array Representations spojené s cdm\_data\_type) a .nc Soubory CFMA ( .nc soubory, které jsou v souladu s Multidimenzionální Array Reprezentations spojené s datovým souborem cdm\_data\_type) podle definice v <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">Geometrie diskrétního odběru vzorků (DSG) </a> kapitola <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> úmluvy o metadatech, které byly dříve označovány jako &quot;konvence o pozorování bodů CF.&quot;</li>
<li class="">Tip: Pro tyto soubory dat je správné nastavení pro <a href="#subsetvariables" class=""> subsetVariables </a> je obvykle kombinací všech proměnných uvedených v atributech cdm\_...\_variables. Například pro TimeSeriesProfile použijte cdm\_timeseries\_variables plus cdm\_profile\_variables.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="contributor_name">contributor\_name<a href="#contributor_name" class="hash-link" aria-label="Přímý odkaz nacontributor\_name" title="Přímý odkaz nacontributor\_name" translate="no">​</a></h6>
<ul>
<li class=""><a href="#contributor_name" class=""> ** contributor\_name ** </a>   (z <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> standard metadat) je DOPORUČENÝ způsob identifikace osoby, organizace nebo projektu, který přispěl k tomuto datovému souboru (například původní tvůrce dat, před tím, než je tvůrce tohoto datového souboru přepracoval) . Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;contributor\\_name&quot;&gt;NOAA OceanWatch - Central Pacific&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Pokud se &quot;sponzor&quot; ve skutečnosti nevztahuje na datový soubor, vynechat tento atribut. Ve srovnání s <a href="#creator_name" class=""> creator\_name </a> To je někdy více zaměřeno na zdroj financování.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="contributor_role">contributor\_role<a href="#contributor_role" class="hash-link" aria-label="Přímý odkaz nacontributor\_role" title="Přímý odkaz nacontributor\_role" translate="no">​</a></h6>
<ul>
<li class=""><a href="#contributor_role" class=""> ** contributor\_role ** </a>   (z <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> standard metadat) je DOPORUČENÝ způsob určení úlohy <a href="#creator_name" class=""> contributor\_name </a> . Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;contributor\\_role&quot;&gt;Source of Level 2b data&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Pokud se &quot;sponzor&quot; ve skutečnosti nevztahuje na datový soubor, vynechat tento atribut.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="conventions">Sjezdy<a href="#conventions" class="hash-link" aria-label="Přímý odkaz naSjezdy" title="Přímý odkaz naSjezdy" translate="no">​</a></h6>
<ul>
<li class=""><a href="#conventions" class=""> <strong>Sjezdy</strong> </a>   (z <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> standard metadat) Velmi časté: (Může být požadováno v budoucnu.) Hodnota je čárkou oddělený seznam standardů metadat, které tento datový soubor sleduje. Například:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;Conventions&quot;&gt;COARDS, CF-1.6, ACDD-1.3&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Společné úmluvy o metadatech používané v ERDDAP™ jsou:</p>
<ul>
<li class=""><a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class=""> COARDS Sjezdy</a> je prekurzor CF.</li>
<li class=""><a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">Klima a předpovědi (CF) Sjezdy</a> je zdrojem mnoha doporučených a požadovaných atributů v ERDDAP . Současná verze CF je označena jako &quot;CF-1.6.&quot;</li>
<li class="">The NetCDF Atributová úmluva pro Discovery datových souborů (ACDD) je zdrojem mnoha doporučených a požadovaných atributů v ERDDAP . Originální verze 1.0 ACDD (brilantní dílo Ethana Davise) , byl identifikován jako <a href="https://wiki.esipfed.org/ArchivalCopyOfVersion1" target="_blank" rel="noopener noreferrer" class=""> Unidata Dataset Discovery v1.0</a> Proud (od roku 2015) 1.3 verze ACDD je označena jako <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD-1, 3</a> . Pokud vaše datové soubory používají Unidata Dataset Discovery v1.0, doporučujeme <a href="#switch-to-acdd-13" class="">přepněte své soubory dat pro použití ACDD-1.3</a> .</li>
</ul>
<p>Pokud se váš datový soubor řídí nějakým dodatečným standardem metadat, přidejte název do CSV seznamu v atributu Conventions.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="coverage_content_type">coverage\_content\_type<a href="#coverage_content_type" class="hash-link" aria-label="Přímý odkaz nacoverage\_content\_type" title="Přímý odkaz nacoverage\_content\_type" translate="no">​</a></h6>
<ul>
<li class=""><a href="#coverage_content_type" class=""> ** coverage\_content\_type ** </a>   (z <a href="https://en.wikipedia.org/wiki/Geospatial_metadata" target="_blank" rel="noopener noreferrer" class="">ISO 19115</a> standard metadat) je DOPORUČENÝ způsob, jak určit typ roštových dat (v EDDGrid Soubory údajů) . Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;coverage\\_content\\_type&quot;&gt;modelResult&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Jediné povolené hodnoty jsou pomocnéInformace, obraz, modelResult, fyzický Měření (výchozí hodnota při generování metadat podle ISO 19115) , kvalitaInformace, referenceInformace a tematickéKlasifikace. (Nepoužívej tuto tag pro soubory EDDTable.)</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="creator_name">creator\_name<a href="#creator_name" class="hash-link" aria-label="Přímý odkaz nacreator\_name" title="Přímý odkaz nacreator\_name" translate="no">​</a></h6>
<ul>
<li class=""><a href="#creator_name" class=""> ** creator\_name ** </a>   (z <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> standard metadat) je DOPORUČENÝ způsob identifikace osoby, organizace nebo projektu (pokud ne konkrétní osoba nebo organizace) , nejzodpovědnější za tvorbu (nebo poslední přepracování) těchto údajů. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;creator\\_name&quot;&gt;NOAA NMFS SWFSC ERD&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Pokud byly údaje rozsáhle přepracovány (Například satelitní data z úrovně 2 do úrovně 3 nebo 4) , pak obvykle reprocesor je uveden jako tvůrce a původní tvůrce je uveden přes <a href="#contributor_name" class=""> contributor\_name </a> . Ve srovnání s <a href="#project" class="">projekt</a> , To je pružnější, protože to může identifikovat osobu, organizaci, nebo projekt.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="creator_email">creator\_email<a href="#creator_email" class="hash-link" aria-label="Přímý odkaz nacreator\_email" title="Přímý odkaz nacreator\_email" translate="no">​</a></h6>
<ul>
<li class=""><a href="#creator_email" class=""> ** creator\_email ** </a>   (z <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> standard metadat) je DOPORUČENÝ způsob identifikace e-mailové adresy (správně upravený) který poskytuje způsob, jak kontaktovat tvůrce. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;creator\\_email&quot;&gt;erd.data@noaa.gov&lt;/att&gt;  </span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="creator_url">creator\_url<a href="#creator_url" class="hash-link" aria-label="Přímý odkaz nacreator\_url" title="Přímý odkaz nacreator\_url" translate="no">​</a></h6>
<ul>
<li class=""><a href="#creator_url" class=""> ** creator\_url ** </a>   (z <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> standard metadat) je RECOMMENDED způsob, jak identifikovat URL pro organizaci, která vytvořila soubor údajů, nebo URL s informacemi tvůrce o tomto datovém souboru (ale to je spíš účel <a href="#infourl" class=""> infoUrl </a> ) . Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;creator\\_url&quot;&gt;https://www.pfeg.noaa.gov&lt;/att&gt;  </span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="date_created">date\_created<a href="#date_created" class="hash-link" aria-label="Přímý odkaz nadate\_created" title="Přímý odkaz nadate\_created" translate="no">​</a></h6>
<ul>
<li class=""><a href="#date_created" class=""> ** date\_created ** </a>   (z <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> standard metadat) je způsob, jak zjistit datum, kdy byly údaje poprvé vytvořeny (například zpracované do této formy) , ve formátu ISO 8601. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;date\\_created&quot;&gt;2010-01-30&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Pokud jsou údaje pravidelně přidávány do souboru údajů, je to první datum, kdy byly k dispozici původní údaje.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="date_modified">date\_modified<a href="#date_modified" class="hash-link" aria-label="Přímý odkaz nadate\_modified" title="Přímý odkaz nadate\_modified" translate="no">​</a></h6>
<ul>
<li class=""><a href="#date_modified" class=""> ** date\_modified ** </a>   (z <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> standard metadat) je DOPORUČENÝ způsob, jak určit datum poslední úpravy údajů (například při opravě chyby nebo při přidání nejnovějších údajů) , ve formátu ISO 8601. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;date\\_modified&quot;&gt;2012-03-15&lt;/att&gt;  </span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="date_issued">date\_issued<a href="#date_issued" class="hash-link" aria-label="Přímý odkaz nadate\_issued" title="Přímý odkaz nadate\_issued" translate="no">​</a></h6>
<ul>
<li class=""><a href="#date_issued" class=""> ** date\_issued ** </a>   (z <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> standard metadat) je DOPORUČENÝ způsob, jak určit datum, kdy byly údaje poprvé zpřístupněny ostatním, například ve formátu ISO 8601 2012-03-15. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;date\\_issued&quot;&gt;2010-07-30&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Například soubor údajů může mít <a href="#date_created" class=""> date\_created </a> ze dne 2010-01-30, ale byl zveřejněn pouze 2010-07-30. date\_issued je méně často používán než date\_created a date\_modified . Pokud date\_issued je vynechán, předpokládá se, že je stejný jako date\_created .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="global-drawlandmask">globální drawLandMask<a href="#global-drawlandmask" class="hash-link" aria-label="Přímý odkaz naglobální drawLandMask" title="Přímý odkaz naglobální drawLandMask" translate="no">​</a></h6>
<ul>
<li class=""><a href="#global-drawlandmask" class=""> ** drawLandMask ** </a> -- Jedná se o VOLITELNÝ globální atribut používaný ERDDAP™   (a žádné standardy metadat) který určuje výchozí hodnotu pro volbu &quot;Draw Land Mask&quot; ve formuláři Make A Graph ( * datasetID * .graph) a pro parametr &amp;.land v URL žádající mapu dat. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;drawLandMask&quot;&gt;over&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Viz <a href="#drawlandmask" class=""> drawLandMask přehled</a> .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="featuretype">featureType<a href="#featuretype" class="hash-link" aria-label="Přímý odkaz nafeatureType" title="Přímý odkaz nafeatureType" translate="no">​</a></h6>
<ul>
<li class=""><a href="#featuretype" class=""> ** featureType ** </a>   (z <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> standard metadat) je ignorován a/nebo placen. Pokud je datový soubor <a href="#cdm_data_type" class="">cdm\_data\_type</a> je vhodné, ERDDAP™ automaticky ji použije k vytvoření featureType atribut. Takže není třeba, abys to přidal.</li>
</ul>
<p>Jestliže však užíváte <a href="#eddtablefromnccffiles" class="">EDDTableFromNcCFFiles</a> vytvořit soubor souborů, které budou následovat <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#discrete-sampling-geometries" target="_blank" rel="noopener noreferrer" class="">CF Geometrie diskrétního odběru vzorků (DSG) standardní</a> , soubory musí mít sám featureType správně definované, takže ERDDAP™ může správně přečíst soubory. To je součástí požadavků CF DSG pro tento typ souboru.
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="history">historie<a href="#history" class="hash-link" aria-label="Přímý odkaz nahistorie" title="Přímý odkaz nahistorie" translate="no">​</a></h6>
<ul>
<li class=""><a href="#history" class=""> <strong>historie</strong> </a>   (z <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> a <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Standardy metadat) je globální atribut RECOMMENDED multi-line String s řádkou pro každý proces, kterým byly údaje podrobeny. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;history&quot;&gt;2011-08-05T08:55:02Z CMOR: Rewrote data to comply with CF standards.  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2012-04-08T08:34:58Z CMOR: Converted &#x27;height&#x27; type from &#x27;d&#x27; to &#x27;f&#x27;.&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">V ideálním případě má každá řada ISO 8601:2004 (E) Zformátované datum+timeZ (např. 2011-08-05T08:55:02Z) následuje popis zpracovatelského kroku.</li>
<li class="">ERDDAP™ vytvoří to, pokud už neexistuje.</li>
<li class="">Pokud už existuje, ERDDAP™ připojí nové informace ke stávajícím informacím.</li>
<li class="">historie je důležitá, protože umožňuje klientům vrátit se zpět k původnímu zdroji dat.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="infourl">infoUrl<a href="#infourl" class="hash-link" aria-label="Přímý odkaz nainfoUrl" title="Přímý odkaz nainfoUrl" translate="no">​</a></h6>
<ul>
<li class=""><a href="#infourl" class=""> ** infoUrl ** </a> je požadovaný globální atribut s URL webové stránky s více informacemi o tomto datovém souboru (obvykle na internetových stránkách zdrojové instituce) . Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;infoUrl&quot;&gt;http://www.globec.org/&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Buď je soubor globální <a href="#global-attributes" class="">zdrojAtributy</a> nebo jeho globální&lt; addAttributes &gt; Musí obsahovat tento atribut.</li>
<li class="">infoUrl je důležité, protože umožňuje klientům dozvědět se více o datech z původního zdroje.</li>
<li class="">ERDDAP™ zobrazí odkaz na infoUrl o formuláři pro přístup k datům datového souboru ( * datasetID * .html) , Vytvořit graf webové stránky ( * datasetID * .graph) , a další webové stránky.</li>
<li class="">Pokud má URL dotaz (po &quot;?&quot;) , to musí být již <a href="https://en.wikipedia.org/wiki/Percent-encoding" target="_blank" rel="noopener noreferrer" class="">% zakódováno</a> . Musíte zakódovat speciální znaky do omezení (jiné než počáteční &quot;&amp;&quot; a hlavní &#x27;=&#x27; , pokud existuje) do formuláře %HH, kde HH je 2 číslice hexadecimální hodnota znaku. Obvykle stačí převést několik interpunkčních znaků: % na% 225, &amp; na% 226, &quot;na% 222,&lt;do% 3C, = do% 3D, &gt; do% 3E, + do% 2B, | do% 7C, \[ do % 5B, \] do %5D, prostor na%20, a převést všechny znaky nad #127 do jejich UTF-8 formuláře a pak procento enkódovat každý byte UTF-8 formuláře do%HH formátu (Požádat programátora o pomoc) .
Například stationID Podvozky a jejich části a součásti
se stává &amp; stationID % 3E=% 2241004%22
Procentuální kódování je obecně nutné, když přístup ERDDAP přes jiný software než prohlížeč. Prohlížeče obvykle zvládnout procento kódování pro vás.
V některých situacích, musíte procent enkódovat všechny znaky jiné než A-Za-z0-9\_-!.~ &#x27; () \*, ale stále nezakódujte počáteční &quot;&amp;&quot; nebo hlavní &#x27;=&#x27; .
Programovací jazyky mají k tomu nástroje (např. viz Java &#x27;s <a href="https://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html" target="_blank" rel="noopener noreferrer" class=""> java.net.URLEncoder </a><br>
<!-- -->a Java Skript je [encodeURIComponent()] (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent" target="_blank" rel="noopener noreferrer" class="">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent</a>) ) a existují
<a href="https://www.url-encode-decode.com/" target="_blank" rel="noopener noreferrer" class="">webové stránky, které pro vás tvoří procento enkódování/dekódování</a> .</li>
<li class="">Od datasets.xml je XML soubor, musíte také kódovat ALL &#x27;&amp;&#x27;, &#x27;&lt;&quot;a &quot;&gt;&quot; v URL jako &quot;&amp;,&quot; &quot;&lt;&#x27; a &#x27;&gt;&#x27; po procentu kódování.</li>
<li class="">infoUrl je jedinečná pro ERDDAP . Není to ze standardu metadat.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="institution">instituce<a href="#institution" class="hash-link" aria-label="Přímý odkaz nainstituce" title="Přímý odkaz nainstituce" translate="no">​</a></h6>
<ul>
<li class=""><a href="#institution" class=""> <strong>instituce</strong> </a>   (z <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> a <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Standardy metadat) je požadovaný globální atribut s krátkou verzí názvu instituce, která je zdrojem těchto údajů (obvykle zkratka, obvykle&lt;20 znaků). Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;institution&quot;&gt;NASA GSFC&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Buď je soubor globální <a href="#global-attributes" class="">zdrojAtributy</a> nebo jeho globální&lt; addAttributes &gt; Musí obsahovat tento atribut.</li>
<li class="">ERDDAP™ zobrazí instituci pokaždé, když zobrazí seznam souborů údajů. Pokud je zde název instituce delší než 20 znaků, bude v seznamu souborů údajů viditelné pouze prvních 20 znaků (ale celá instituce může být vidět tím, že kurzor myši přes sousední &quot;?&quot; ikona) .</li>
<li class="">Pokud přidáte instituci na seznam&lt; categoryAttributes &gt; v ERDDAP &#x27;s <a class="" href="/cs/docs/server-admin/deploy-install#setupxml">setup.xml</a> soubor, uživatelé mohou snadno najít soubory dat ze stejné instituce prostřednictvím ERDDAP &#x27;Search for Datasets by Category&#x27; na domovské stránce.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="keywords">Klíčová slova<a href="#keywords" class="hash-link" aria-label="Přímý odkaz naKlíčová slova" title="Přímý odkaz naKlíčová slova" translate="no">​</a></h6>
<ul>
<li class=""><a href="#keywords" class=""> <strong>Klíčová slova</strong> </a>   (z <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> standard metadat) je seznam slov a krátkých frází, které jsou odděleny čárkou (například: <a href="https://wiki.earthdata.nasa.gov/display/CMR/GCMD+Keyword+Access" target="_blank" rel="noopener noreferrer" class="">GCMD Věda Klíčová slova</a> ) které obecně popisují soubor údajů a nezakládají žádné jiné znalosti datového souboru (například pro oceánografická data zahrnují oceán) . Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;keywords&quot;&gt;ano, circulation, coastwatch, currents, derived, Earth Science &amp;gt; Oceans &amp;gt; Ocean Circulation &amp;gt; Ocean Currents, eastward, eastward\\_sea\\_water\\_velocity, experimental, hf radio, meridional, noaa, northward, northward\\_sea\\_water\\_velocity, nuevo, ocean, oceans, radio, radio-derived, scan, sea, seawater, velocity, water, zonal&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Od datasets.xml je XML dokument, znaky &amp;,&lt;, a &gt; v atributu, jako jsou klíčová slova (např. znaky ve vědeckých klíčových slovech GCMD) musí být zakódováno jako &amp;&lt;, a &gt; resp.
Při načtení datového souboru ERDDAP ,</p>
<ul>
<li class="">&quot;Země věda &gt; &quot; je přidána na začátek každého klíčového slova GCMD, které chybí.</li>
<li class="">Klíčová slova GCMD jsou převedena na titulní případ (tj. první písmena jsou kapitalizována) .</li>
<li class="">Klíčová slova jsou přeřazena do seřazeného pořadí a všechny nové znaky jsou odstraněny.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="keywords_vocabulary">keywords\_vocabulary<a href="#keywords_vocabulary" class="hash-link" aria-label="Přímý odkaz nakeywords\_vocabulary" title="Přímý odkaz nakeywords\_vocabulary" translate="no">​</a></h6>
<ul>
<li class=""><a href="#keywords_vocabulary" class=""> ** keywords\_vocabulary ** </a>   (z <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> standard metadat) je atribut DOPORUČENÉ: pokud se řídíte pokyny pro slova / fráze v atributu klíčová slova (například, GCMD věda Klíčová slova) , dát název tohoto pokynu sem. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;keywords\\_vocabulary&quot;&gt;GCMD Science Keywords&lt;/att&gt;  </span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="license">licence<a href="#license" class="hash-link" aria-label="Přímý odkaz nalicence" title="Přímý odkaz nalicence" translate="no">​</a></h6>
<ul>
<li class=""><a href="#license" class=""> <strong>licence</strong> </a>   (z <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> standard metadat) je globální atribut STRONGLIE s licencí a/nebo omezeními používání. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;license&quot;&gt;\\[standard\\]&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Pokud &quot; \[ standardní \] &quot; se vyskytuje v hodnotě atributu, bude nahrazen standardem ERDDAP™ licence od&lt;standardní značkaLicence&gt; ERDDAP &#x27;s
\[ tomcat \] /webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml file.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="metadata_conventions">Metadata\_Conventions<a href="#metadata_conventions" class="hash-link" aria-label="Přímý odkaz naMetadata\_Conventions" title="Přímý odkaz naMetadata\_Conventions" translate="no">​</a></h6>
<ul>
<li class=""><a href="#metadata_conventions" class=""> ** Metadata\_Conventions ** </a> je ze zastaralých <a href="https://wiki.esipfed.org/ArchivalCopyOfVersion1" target="_blank" rel="noopener noreferrer" class="">ACDD 1. 0</a>   (který byl identifikován v Metadata\_Conventions jako &quot; Unidata Dataset Discovery v1.0&quot;) Standard metadat. Hodnota atributu byla čárkou odděleným seznamem úmluv metadat použitých tímto datovým souborem.
Pokud datový soubor používá ACDD 1.0, tento atribut je například STRONGLY RECOMMENDED,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;Metadata\\_Conventions&quot;&gt;COARDS, CF-1.6, Unidata Dataset Discovery v1.0&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Ale... ERDDAP™ Nyní doporučujeme ACDD-1.3. Jestliže máte <a href="#switch-to-acdd-13" class="">přepnul vaše soubory dat k použití ACDD-1.3</a> , použití Metadata\_Conventions STRONGLIE SLEVA: stačí použít [&lt;Úmluva &gt;] (#konvence) Místo toho.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="processing_level">processing\_level<a href="#processing_level" class="hash-link" aria-label="Přímý odkaz naprocessing\_level" title="Přímý odkaz naprocessing\_level" translate="no">​</a></h6>
<ul>
<li class=""><a href="#processing_level" class=""> ** processing\_level ** </a>   (z <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> standard metadat) je textový popis zpracování (například: <a href="https://www.earthdata.nasa.gov/learn/earth-observation-data-basics/data-processing-levels" target="_blank" rel="noopener noreferrer" class="">Úroveň zpracování dat ze Země NASA</a> Například úroveň 3) nebo úroveň kontroly jakosti (např. kvalita vědy) údajů. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;processing\\_level&quot;&gt;3&lt;/att&gt;  </span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="project">projekt<a href="#project" class="hash-link" aria-label="Přímý odkaz naprojekt" title="Přímý odkaz naprojekt" translate="no">​</a></h6>
<ul>
<li class=""><a href="#project" class=""> <strong>projekt</strong> </a>   (z <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> standard metadat) je VOLITELNÝ atribut pro identifikaci projektu, kterého je datový soubor součástí. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;project&quot;&gt;GTSPP&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Pokud data nejsou součástí projektu, nepoužívejte tento atribut. Ve srovnání s <a href="#creator_name" class=""> creator\_name </a> , to je zaměřeno na projekt (osoba nebo organizace, které se mohou účastnit více projektů) .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="publisher_name">publisher\_name<a href="#publisher_name" class="hash-link" aria-label="Přímý odkaz napublisher\_name" title="Přímý odkaz napublisher\_name" translate="no">​</a></h6>
<ul>
<li class=""><a href="#publisher_name" class=""> ** publisher\_name ** </a>   (z <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> standard metadat) je DOPORUČENÝ způsob, jak identifikovat osobu, organizaci nebo projekt, který vydává tento datový soubor. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;publisher\\_name&quot;&gt;JPL&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Například, jste vydavatel, pokud jiná osoba nebo skupina <a href="#creator_name" class="">vytvořen</a> data a vy jste jen re-serving přes ERDDAP . Pokud se &quot;vydavatel&quot; ve skutečnosti nevztahuje na datový soubor, vynechat tento atribut. Ve srovnání s <a href="#creator_name" class=""> creator\_name </a> , vydavatel pravděpodobně nijak významně neupravoval nebo znovu nezpracovával data; vydavatel jen dodává data do nového místa.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="publisher_email">publisher\_email<a href="#publisher_email" class="hash-link" aria-label="Přímý odkaz napublisher\_email" title="Přímý odkaz napublisher\_email" translate="no">​</a></h6>
<ul>
<li class=""><a href="#publisher_email" class=""> ** publisher\_email ** </a>   (z <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> standard metadat) je DOPORUČENÝ způsob identifikace e-mailové adresy (správně formátovaný např. john\<a href="mailto:_smith@great.org" target="_blank" rel="noopener noreferrer" class="">_smith@great.org</a>) který poskytuje způsob, jak kontaktovat vydavatele. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;publisher\\_email&quot;&gt;john\\_smith@great.org&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Pokud se &quot;vydavatel&quot; ve skutečnosti nevztahuje na datový soubor, vynechat tento atribut.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="publisher_url">publisher\_url<a href="#publisher_url" class="hash-link" aria-label="Přímý odkaz napublisher\_url" title="Přímý odkaz napublisher\_url" translate="no">​</a></h6>
<ul>
<li class=""><a href="#publisher_url" class=""> ** publisher\_url ** </a>   (z <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> standard metadat) je RECOMMENDED způsob, jak identifikovat URL pro organizaci, která zveřejnila soubor údajů, nebo URL s informacemi vydavatele o tomto souboru dat (ale to je spíš účel <a href="#infourl" class=""> infoUrl </a> ) . Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;publisher\\_url&quot;&gt;https://podaac.jpl.nasa.gov&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Pokud se &quot;vydavatel&quot; ve skutečnosti nevztahuje na datový soubor, vynechat tento atribut.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="real_time">real\_time<a href="#real_time" class="hash-link" aria-label="Přímý odkaz nareal\_time" title="Přímý odkaz nareal\_time" translate="no">​</a></h6>
<ul>
<li class=""><a href="#real_time" class=""> ** real\_time ** </a> je globální atribut String (není z žádné normy) uvádí, zda se jedná o datový soubor v reálném čase. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;real\\_time&quot;&gt;true&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Jestli je to lež (výchozí) , ERDDAP™ bude cache odpovědi na žádosti o typy souborů, kde celý soubor musí být vytvořen před ERDDAP™ může začít odesílat odpověď uživateli a znovu je používat po dobu cca 15 minut (např. .nc , . png) .
Jestli je to pravda, ERDDAP™ nebude nikdy cache souborů odezvy a vždy vrátí nově vytvořené soubory.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourceurl-attribute">sourceUrl atribut<a href="#sourceurl-attribute" class="hash-link" aria-label="Přímý odkaz nasourceUrl atribut" title="Přímý odkaz nasourceUrl atribut" translate="no">​</a></h6>
<ul>
<li class=""><a href="#sourceurl-attribute" class=""> ** sourceUrl ** </a> je globální atribut s URL zdroje dat. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;sourceUrl&quot;&gt;https://opendap.co-ops.nos.noaa.gov/ioos-dif-sos/SOS&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>(ale dát to všechno na jeden řádek)</p>
<ul>
<li class="">ERDDAP™ obvykle vytváří tento globální atribut automaticky. Dvě výjimky jsou EDDTableFrom Hyrax Soubory a EDDTableFromThreddsFiles.</li>
<li class="">Pokud jsou zdrojem místní soubory a soubory byly vytvořeny vaší organizací, použijte</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;sourceUrl&quot;&gt;(local files)&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Pokud je zdrojem místní databáze a data byla vytvořena vaší organizací, použijte</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;sourceUrl&quot;&gt;(local database)&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">sourceUrl je důležité, protože umožňuje klientům vrátit se zpět k původnímu zdroji dat.</li>
<li class="">sourceUrl je jedinečná pro ERDDAP . Není to ze standardu metadat.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="standard_name_vocabulary">standard\_name\_vocabulary<a href="#standard_name_vocabulary" class="hash-link" aria-label="Přímý odkaz nastandard\_name\_vocabulary" title="Přímý odkaz nastandard\_name\_vocabulary" translate="no">​</a></h6>
<ul>
<li class=""><a href="#standard_name_vocabulary" class=""> ** standard\_name\_vocabulary ** </a>   (z <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> standard metadat) je atribut DOPORUČENÉ k identifikaci názvu kontrolované slovní zásoby, ze které proměnné <a href="#standard_name" class=""> standard\_name </a> Jsou obsazeny. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;standard\\_name\\_vocabulary&quot;&gt;CF Standard Name Table v77&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>pro verzi 77 <a href="https://cfconventions.org/Data/cf-standard-names/current/build/cf-standard-name-table.html" target="_blank" rel="noopener noreferrer" class="">Standardní tabulka názvu CF</a> .
 </p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="subsetvariables">subsetVariables<a href="#subsetvariables" class="hash-link" aria-label="Přímý odkaz nasubsetVariables" title="Přímý odkaz nasubsetVariables" translate="no">​</a></h5>
<ul>
<li class="">** subsetVariables **   (pouze pro soubory EDDTable) je globální atribut, který umožňuje zadat čárku oddělený seznam [&lt; dataVariable &gt;] (# Dataproměnná)   <a href="#destinationname" class=""> destinationName </a> s pro identifikaci proměnných s omezeným počtem hodnot (uvedl jiný způsob: proměnné, pro které má každá z hodnot mnoho duplikátů) . Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;subsetVariables&quot;&gt;station\\_id, longitude, latitude&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Pokud je tento atribut přítomen, bude mít datový soubor * datasetID * .subset webové stránky (a odkaz na něj na každém seznamu souborů údajů) což umožňuje uživatelům rychle a snadno vybrat různé podmnožiny dat.</p>
<ul>
<li class="">Pokaždé, když je soubor dat načten, ERDDAP zatížení a ukládání na disku stůl se všemi odlišnými () kombinace podskupiny Hodnoty proměnné. ERDDAP™ může číst, že subsetVariables stůl a velmi rychle jej zpracovat (zejména ve srovnání se čtením spousty datových souborů nebo získáním dat z databáze nebo jiné externí služby) .</li>
<li class="">To umožňuje ERDDAP™ dělat 3 věci:<!-- -->
<ol>
<li class="">Umožňuje ERDDAP™ vložit seznam možných hodnot do seznamu dropdownů na formulář Data Access, vytvořit grafickou webovou stránku a .subset webové stránky.</li>
<li class="">Umožňuje ERDDAP™ nabídnout .subset webovou stránku pro tento datový soubor. Tato stránka je zajímavá, protože je snadné najít platné kombinace hodnot těchto proměnných, které pro některé datové soubory a některé proměnné je velmi, velmi těžké (téměř nemožné) . Pak všechny uživatelské požadavky pro odlišné () Podkategorie Proměnná data budou velmi rychlá.</li>
<li class="">Pokud existuje požadavek uživatele, který odkazuje pouze na podmnožinu těchto proměnných, ERDDAP™ může rychle přečíst subsetVariables stůl a reagovat na žádost. To může ušetřit spoustu času a úsilí pro ERDDAP .</li>
</ol>
</li>
<li class="">Pořadí destinationName s určujete pořadí na * datasetID * .subset webová stránka, takže obvykle zadat nejdůležitější proměnné nejprve, pak nejméně důležité. Například pro datové soubory s daty časových řad pro několik stanic můžete použít například:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;subsetVariables&quot;&gt;station\\_id, longitude, latitude&lt;/att&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>tak, aby hodnoty byly tříděny podle stanice\_id.</p>
<ul>
<li class="">Samozřejmě, je to vaše volba, které proměnné zahrnout do subsetVariables seznam, ale navrhované použití je:</li>
</ul>
<p>Obecně uveďte proměnné, pro které chcete ERDDAP™ Zobrazení seznamu možností pro stažení na datovém formuláři datového přístupu datového souboru (.html) a Make-A-Graf (.graph) webové stránky.</p>
<p>Obecně uveďte proměnné s informacemi o vlastnostech datového souboru (stanice, profily a/nebo trajektorie, zejména z <a href="#cdm_timeseries_variables" class="">cdm\_timeseries\_variables</a> , <a href="#cdm_profile_variables" class="">cdm\_profile\_variables</a> , <a href="#cdm_trajectory_variables" class="">cdm\_trajektory\_variables</a> ) . Pro tyto proměnné existuje jen několik různých hodnot, takže dobře fungují se seznamem drop-down.</p>
<p>Nezahrnujte nikdy žádné datové proměnné spojené s jednotlivými pozorováními (např. čas, teplota, slanost, aktuální rychlost) v subsetVariables seznam. Existuje příliš mnoho různých hodnot pro tyto proměnné, takže seznam drop-down by bylo pomalé zatížení a je těžké pracovat s (nebo nepracuje) .</p>
<ul>
<li class="">Pokud je počet různých kombinací těchto proměnných větší než asi 1 000 000, měli byste zvážit omezení subsetVariables že jste určit snížit počet různých kombinací pod 1 000 000; jinak, * datasetID * .subset webové stránky mohou být generovány pomalu. V extrémních případech nesmí soubor údajů zadávat ERDDAP™ protože generování seznamu odlišných kombinací využívá příliš mnoho paměti. Pokud ano, musíte odstranit některé proměnné z subsetVariables seznam.</li>
<li class="">Pokud je počet různých hodnot jedné podmnožiny větší než 20 000, měli byste zvážit, že do seznamu subsetVariables ; jinak, to trvá dlouhou dobu, aby předal * datasetID * .subset, * datasetID * .graf a * datasetID * .html webové stránky. Také, na Mac, je velmi těžké, aby výběry ze seznamu drop down s více než 500 položek, protože chybí scroll bar. Kompromisem je: odstranění proměnných ze seznamu, kdy uživatelé pravděpodobně nevyberou hodnoty ze seznamu dolů.</li>
<li class="">Měli byste otestovat každý soubor dat, abyste zjistili, zda subsetVariables nastavení je v pořádku. Pokud je zdrojový datový server pomalý a trvá to příliš dlouho (nebo selže) stáhnout data, buď snížit počet určených proměnných nebo odstranit subsetVariables globální atribut.</li>
<li class="">Subset Proměnné jsou velmi užitečné. Takže pokud je váš datový soubor vhodný, vytvořte prosím subsetVariables atribut.</li>
<li class="">EDDTableFrom SOS automaticky přidává<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;subsetVariables&quot;&gt;station\\_id, longitude, latitude&lt;/att&gt;  </span><br></span></code></pre></div></div>
</li>
</ul>
<p>při vytvoření datového souboru.</p>
<ul>
<li class="">Možné varování: pokud uživatel používá * datasetID * .subset webová stránka vybere hodnotu, která má kočárReturn nebo nový znak, * datasetID * .subset selže. ERDDAP™ nemůže pracovat kolem tohoto problému, protože některé HTML detaily. V každém případě je téměř vždy dobrý nápad odstranit kočárReturn a nové znaky z dat. Chcete-li vám pomoci vyřešit problém, pokud EDDTable. subsetVariables Metoda DataTable v ERDDAP detekuje hodnoty dat, které způsobí potíže, e-mailem varování se seznam urážlivých hodnot na e-mail Všechno Pro e-mailové adresy uvedené v setup.xml. Tak víte, co je třeba napravit.</li>
<li class=""><strong>Předvyrobené podskupinové tabulky.</strong> Normálně, když ERDDAP™ načítá soubor údajů, požaduje odlišné () podmnožina proměnných datové tabulky ze zdroje dat, jen přes normální požadavek na data. V některých případech nejsou tato data dostupná ze zdroje dat nebo jejich získání ze zdroje dat může být na serveru datového zdroje obtížné. Pokud ano, můžete poskytnout tabulku s informacemi v .json nebo .csv soubor se jménem <em>tomcat</em> / content/ erddap/ subset/ * datasetID *  .json   (nebo .csv) . Pokud je přítomen, ERDDAP™ bude číst jednou při načtení datového souboru a používat jej jako zdroj podmnožinových dat.</li>
<li class="">Pokud dojde k chybě při jejím čtení, soubor souborů selže v načtení.</li>
<li class="">Musí mít stejné názvy sloupců. (například stejný případ) jako&lt; subsetVariables &gt;, ale sloupce mohou být v libovolném pořadí.</li>
<li class="">Může mít navíc sloupce (budou odstraněny a nově uvolněné řádky budou odstraněny) .</li>
<li class="">Chybějící hodnoty by měly chybět (není falešný čísla jako -99) .</li>
<li class="">.json soubory může být trochu těžší vytvořit, ale vypořádat se s Unicode znaky dobře. .json soubory jsou snadno vytvořit, pokud je vytvořit s ERDDAP .</li>
<li class="">.csv soubory jsou snadno pracovat s, ale vhodné pouze pro ISO 8859-1 znaků. .csv soubory MUSÍ mít jména sloupců v prvním řádku a data v následujících řádcích.</li>
<li class="">Pro velké soubory dat nebo kdy&lt; subsetVariables &gt; je chybně konfigurována, tabulka kombinací hodnot může být dostatečně velká, aby způsobila příliš mnoho dat nebo chyby OutOfMemory. Řešením je odstranit proměnné ze seznamu&lt; subsetVariables &gt; pro které existuje velký počet hodnot, nebo odstranit proměnné podle potřeby, dokud velikost této tabulky není přiměřená. Bez ohledu na chybu, části ERDDAP™ které subsetVariables systém nefunguje dobře (např., webové stránky se načítají velmi pomalu) když je příliš mnoho řádků (např. více než milion) v tom stole.</li>
<li class="">subsetVariables nemá nic společného s určením, které proměnné mohou uživatelé používat v omezeních, tj. jak mohou uživatelé požadovat podmnožiny datového souboru. ERDDAP™ vždy umožňuje omezení odkazovat na některou z proměnných.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="time-units">Časové jednotky<a href="#time-units" class="hash-link" aria-label="Přímý odkaz naČasové jednotky" title="Přímý odkaz naČasové jednotky" translate="no">​</a></h6>
<p><a href="#time-units" class="">Čas a časové razítko</a> sloupce by měly mít ISO 8601:2004 (E) Zformátované datum+čas Z řetězce (např. 1985-01-31T15:31:00Z) .
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">shrnutí<a href="#summary" class="hash-link" aria-label="Přímý odkaz nashrnutí" title="Přímý odkaz nashrnutí" translate="no">​</a></h6>
<ul>
<li class=""><a href="#summary" class=""> <strong>shrnutí</strong> </a>   (z <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> a <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Standardy metadat) je požadovaný globální atribut s dlouhým popisem datového souboru (obvykle&lt;500 znaků). Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;summary&quot;&gt;VIIRSN Level-3 Standard Mapped Image, Global, 4km, Chlorophyll a, Daily. The Visible and Infrared Imager/Radiometer Suite (VIIRS) is a multi-disciplinary instrument that flies on the National Polar-orbiting Operational Environmental Satellite System (NPOESS) series of spacecraft, including the NPOESS Preparatory Project (NPP).&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Buď je soubor globální <a href="#global-attributes" class="">zdrojAtributy</a> nebo jeho globální&lt; addAttributes &gt; Musí obsahovat tento atribut.</li>
<li class="">shrnutí je velmi důležité, protože umožňuje klientům přečíst popis datového souboru, který má více informací než název, a tím rychle pochopit, co je datový soubor.</li>
<li class="">Poradenství: napište shrnutí, aby bylo možné popsat datový soubor náhodné osobě, se kterou se setkáte na ulici nebo kolegovi. Nezapomeňte zahrnout <a href="https://en.wikipedia.org/wiki/Five_Ws" target="_blank" rel="noopener noreferrer" class="">Pět W a jedna H.</a> : Kdo vytvořil soubor dat? Jaké informace byly shromážděny? Kdy byly shromážděny údaje? Kde ho sebrali? Proč byl vybrán? Jak byla shromážděna?</li>
<li class="">ERDDAP™ zobrazí souhrn ve formuláři pro přístup k datům datového souboru ( * datasetID * .html) , Vytvořit graf webové stránky ( * datasetID * .graph) , a další webové stránky. ERDDAP™ souhrn používá při vytváření dokumentů FGDC a ISO 19115.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="testoutofdate">testOutOfDate<a href="#testoutofdate" class="hash-link" aria-label="Přímý odkaz natestOutOfDate" title="Přímý odkaz natestOutOfDate" translate="no">​</a></h6>
<ul>
<li class=""><a href="#testoutofdate" class=""> ** testOutOfDate ** </a>   (volitelný ERDDAP - specifický atribut globálních metadat, nikoli z žádného standardu) specifikuje zjednodušujícím způsobem, kdy jsou data pro datový soubor v reálném čase považována za zastaralá, specifikovaná jako now-  <em>nJednotky</em> Například: now- 2 dny pro data, která se obvykle objevují 24-48 hodin po časové hodnotě. Pro předpověď dat použijte nyní <strong>+</strong>  <em>nJednotky</em> , například nyní+6dny pro předpověď dat, která jsou maximálně 8d v budoucnu. (Viz <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#now" target="_blank" rel="noopener noreferrer" class=""> now-  <em>nJednotky</em> Popis syntaxe</a> .) Pokud je maximální časová hodnota datového souboru čerstvější než stanovená doba, považuje se datový soubor za aktuální. Je-li maximální časová hodnota starší než stanovená doba, považuje se datový soubor za aktuální. Pro zastaralé datové soubory existuje pravděpodobně problém se zdrojem dat, takže ERDDAP™ není schopen získat přístup k údajům z novějších časových bodů.</li>
</ul>
<p>The testOutOfDate hodnota je zobrazena jako sloupec ve sloupci <a href="#eddtablefromalldatasets" class=""> allDatasets Soubor údajů</a> ve Vašem ERDDAP . Používá se také k výpočtu indexu OutOfDate, což je další sloupec v allDatasets Soubor dat.
Pokud index je&lt;1, datový soubor se považuje za aktuální.
Pokud index je&lt;=1, datový soubor se považuje za zastaralý.
Pokud index je&lt;=2 je datový soubor považován za velmi zastaralý.</p>
<p>The testOutOfDate hodnota je také použita ERDDAP™ generovathttps://<em>yourDomain</em>/erddap/outOfDateDatasets.htmlwebová stránka ( <a href="https://coastwatch.pfeg.noaa.gov/erddap/outOfDateDatasets.html" target="_blank" rel="noopener noreferrer" class="">příklad</a> ) který ukazuje soubory údajů, které mají&lt; testOutOfDate &gt; značky, s datovými soubory zařazenými podle toho, jak jsou zastaralé. Pokud změníte typ souboru (od .html do .csv, .jsonlCSV , .nc , .tsv , ...) , můžete získat tyto informace v různých formátech souborů.</p>
<p>Pokud je to možné, <a href="#generatedatasetsxml" class="">GenerovatDatasetsXml</a> přidává a testOutOfDate atribut globální addAttributes datového souboru. Tato hodnota je návrh založený na informacích dostupných pro GenerateDatasetsXml. Pokud hodnota není vhodná, změňte ji.</p>
<p>&quot;Ven-of-date&quot; zde je velmi odlišné od [&lt;reload EveryNMinutes &gt;] (# reload everynminutes) , který se zabývá tím, jak aktuální ERDDAP Je to znalost datového souboru. The&lt; testOutOfDate &gt; systém předpokládá, že ERDDAP Znalost datového souboru je aktuální. K otázce&lt; testOutOfDate &gt; řešení je: zdá se, že je něco špatně se zdrojem dat, což způsobuje, že novější údaje nejsou přístupné ERDDAP ?</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="title">název<a href="#title" class="hash-link" aria-label="Přímý odkaz nanázev" title="Přímý odkaz nanázev" translate="no">​</a></h6>
<ul>
<li class=""><a href="#title" class=""> <strong>název</strong> </a>   (z <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> a <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Standardy metadat) je požadovaný globální atribut s krátkým popisem datového souboru (obvykle&lt;= 95 znaků). Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;att name=&quot;title&quot;&gt;VIIRSN Level-3 Mapped, Global, 4km, Chlorophyll a, Daily&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Buď je soubor globální <a href="#global-attributes" class="">zdrojAtributy</a> nebo jeho globální&lt; addAttributes &gt; Musí obsahovat tento atribut.</li>
<li class="">název je důležitý, protože každý seznam souborů dat předložených ERDDAP   (jiné než výsledky hledání) uvádí data v abecedním pořadí podle názvu. Takže pokud chcete určit pořadí souborů dat, nebo mít některé soubory souborů seskupené dohromady, musíte vytvořit tituly s ohledem na to. Mnoho seznamů souborů údajů (například v reakci na vyhledávání kategorií) , Zobrazit podmnožinu celého seznamu a v jiném pořadí. Název každého datového souboru by tedy měl zůstat sám.</li>
<li class="">Pokud název obsahuje slovo &quot;OCHRANA&quot; (všechna velká písmena) , pak datový soubor dostane nižší pořadí při vyhledávání.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="axisvariable">&lt; axisVariable &gt;<a href="#axisvariable" class="hash-link" aria-label="Přímý odkaz na&lt; axisVariable &gt;" title="Přímý odkaz na&lt; axisVariable &gt;" translate="no">​</a></h5>
<ul>
<li class="">[ ** &lt; axisVariable &gt; ** ] (#oxisvariable) se používá k popisu rozměru (také nazývané &quot;osa&quot;) .
Pro EDDGrid Soubory údajů, jeden nebo více axisVariable Štítky jsou povinné a všechny <a href="#datavariable" class=""> dataVariable án</a> vždy sdílet / používat všechny proměnné osy. ( <a href="#why-just-two-basic-data-structures" class="">Proč?</a>   <a href="#dimensions" class="">Co když ne?</a> )<br>
<!-- -->Pro každý rozměr datových proměnných musí existovat proměnná osy.
Proměnné osy MUSÍ být specifikovány v pořadí, v jakém je datové proměnné používají.
(EDDTable soubory nelze použít&lt; axisVariable &gt; značky.)
Příkladem je:</li>
</ul>
<blockquote>
<p>  &lt;axisVariable&gt;<br>
<!-- -->      &lt;<a href="#sourcename" class="">sourceName</a>\&gt;MT&lt;/sourceName&gt;<br>
<!-- -->      &lt;<a href="#destinationname" class="">destinationName</a>\&gt;time&lt;/destinationName&gt;<br>
<!-- -->      &lt;addAttributes&gt;<br>
<!-- -->        &lt;att name=&quot;<a href="#units" class="">units</a>&quot;&gt;days since 1902-01-01T12:00:00Z&lt;/att&gt;<br>
<!-- -->      &lt;/addAttributes&gt;<br>
<!-- -->  &lt;/axisVariable&gt;</p>
</blockquote>
<p>&lt; axisVariable &gt; podporuje tyto podtagy:</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcename">&lt; sourceName \&gt;<a href="#sourcename" class="hash-link" aria-label="Přímý odkaz na&lt; sourceName \&gt;" title="Přímý odkaz na&lt; sourceName \&gt;" translate="no">​</a></h6>
<ul>
<li class="">[&lt; sourceName \&gt;] (#zdrojové jméno) -- název datového zdroje proměnné. To je jméno, které ERDDAP™ použije se při požadavku na údaje ze zdroje údajů. To je jméno, které ERDDAP™ bude hledat, kdy jsou data vrácena ze zdroje dat. Tohle je případ citlivý. To je nutné.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="destinationname">&lt; destinationName \&gt;<a href="#destinationname" class="hash-link" aria-label="Přímý odkaz na&lt; destinationName \&gt;" title="Přímý odkaz na&lt; destinationName \&gt;" translate="no">​</a></h6>
<ul>
<li class="">[&lt; destinationName \&gt;] (Název místa určení) je název proměnné, která bude zobrazena a použita ERDDAP™ uživatelé.<!-- -->
<ul>
<li class="">Tohle je volitelné. Pokud chybí, sourceName používá se.</li>
<li class="">To je užitečné, protože umožňuje změnit záhadné nebo podivné sourceName .</li>
<li class="">destinationName je případ citlivý.</li>
<li class="">destinationName MUSÍME začít písmenem (A-Z, a-z) a MUSÍ následovat 0 nebo více znaků (A-Z, a-z, 0-9 a \_) . (&#x27;-&#x27; bylo dovoleno předtím ERDDAP™ verze 1.10.) Toto omezení umožňuje, aby názvy os proměnných byly stejné v ERDDAP™ , ve souborech odpovědí a ve všech softwarech, kde budou tyto soubory použity, včetně programovacích jazyků (jako Python , Matlab a Java Skript) kde existují podobná omezení pro názvy proměnných.</li>
<li class="">In EDDGrid datové soubory, <a href="#destinationname" class="">zeměpisná délka, zeměpisná šířka, výška, hloubka a čas</a> proměnné osy jsou zvláštní.
 </li>
</ul>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="axisvariable-addattributes">axisVariable  &lt;addAttributes&gt;<a href="#axisvariable-addattributes" class="hash-link" aria-label="Přímý odkaz naaxisVariable  &lt;addAttributes&gt;" title="Přímý odkaz naaxisVariable  &lt;addAttributes&gt;" translate="no">​</a></h6>
<ul>
<li class="">[&lt; addAttributes &gt;] (#variable-addattributes) definuje VOLITELNOU sadu atributů ( <em>název</em> = <em>hodnota</em> ) které jsou přidány do atributů zdroje pro proměnnou, aby se kombinované atributy pro proměnnou.
Pokud proměnná je <a href="#variable-addattributes" class="">zdrojAtributy</a> nebo&lt; addAttributes &gt; zahrnují <a href="#scale_factor" class=""> scale\_factor nebo add\_offset </a> atributy, jejich hodnoty budou použity k vybalení dat ze zdroje před odesláním klientovi
(výsledek Hodnota = zdroj Hodnota \* scale\_factor + add\_offset ) . Vybalená proměnná bude stejného datového typu (například plovák) jako scale\_factor a add\_offset hodnoty.
 </li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="datavariable">&lt; dataVariable &gt;<a href="#datavariable" class="hash-link" aria-label="Přímý odkaz na&lt; dataVariable &gt;" title="Přímý odkaz na&lt; dataVariable &gt;" translate="no">​</a></h5>
<ul>
<li class="">[ ** &lt; dataVariable &gt; ** ] (# Dataproměnná) je požadováno (pro téměř všechny datové soubory) Štítek uvnitř&lt;Soubor údajů &gt; značka, která se používá k popisu datové proměnné. Musí být 1 nebo více případů této značky. Příkladem je:</li>
</ul>
<blockquote>
<p>  &lt;dataVariable&gt;<br>
<!-- -->      &lt;<a href="#sourcename" class="">sourceName</a>\&gt;waterTemperature&lt;/sourceName&gt;<br>
<!-- -->      &lt;<a href="#destinationname" class="">destinationName</a>\&gt;sea\_water\_temperature&lt;/destinationName&gt;<br>
<!-- -->      <a href="#datatype" class="">&lt;dataType&gt;</a>float&lt;/dataType&gt;<br>
<!-- -->      &lt;addAttributes&gt;<br>
<!-- -->        &lt;att name=&quot;<a href="#ioos_category" class="">ioos\_category</a>&quot;&gt;Temperature&lt;/att&gt;<br>
<!-- -->        &lt;att name=&quot;<a href="#long_name" class="">long\_name</a>&quot;&gt;Sea Water Temperature&lt;/att&gt;<br>
<!-- -->        &lt;att name=&quot;<a href="#standard_name" class="">standard\_name</a>&quot;&gt;sea\_water\_temperature&lt;/att&gt;<br>
<!-- -->        &lt;att name=&quot;<a href="#units" class="">units</a>&quot;&gt;degree\_C&lt;/att&gt;<br>
<!-- -->      &lt;/addAttributes&gt;<br>
<!-- -->  &lt;/dataVariable&gt;</p>
</blockquote>
<p>&lt; dataVariable &gt; podporuje tyto podtagy:</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="sourcename-1">&lt; sourceName &gt;<a href="#sourcename-1" class="hash-link" aria-label="Přímý odkaz na&lt; sourceName &gt;" title="Přímý odkaz na&lt; sourceName &gt;" translate="no">​</a></h6>
<ul>
<li class="">[&lt; sourceName &gt;] (#zdrojové jméno) -- název datového zdroje proměnné. To je jméno, které ERDDAP™ použije se při požadavku na údaje ze zdroje údajů. To je jméno, které ERDDAP™ bude hledat, kdy jsou data vrácena ze zdroje dat. Tohle je případ citlivý. To je nutné.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="groups">Skupiny<a href="#groups" class="hash-link" aria-label="Přímý odkaz naSkupiny" title="Přímý odkaz naSkupiny" translate="no">​</a></h6>
<p>CF přidala podporu pro skupiny s CF v1.8. Od ~2020, NetCDF nástroje podpory uvedení proměnných do skupin ve .nc Složka. V praxi to znamená, že proměnné mají dlouhý název, který identifikuje skupinu (án) a název proměnné, například skupina1a/group2c/varName ). ERDDAP™ podporuje skupiny převodem &quot;/&quot; v proměnné&lt; sourceName &gt; do &quot;\_&quot; je v proměnné&lt; destinationName &gt; například skupina1a\_group2c\_varName . (Když to vidíte, měli byste si uvědomit, že skupiny nejsou nic víc než syntaxní sjezd.) Pokud jsou proměnné uvedeny v ERDDAP™ , Všechny proměnné ve skupině se objeví společně, napodobující základní skupinu. \[ Pokud ERDDAP™ , zejména GenerateDatasets Xml, nevystupuje tak dobře, jak by to šlo se zdrojovými soubory, které mají skupiny, prosím, odeslat vzorek soubor Chrisovi. John at noaa.gov . \]</p>
<p>Databáze EDDTableFromFoles mohou používat speciálně kódované pseudo sourceName s definovat nové datové proměnné, např. pro podporu globálního atributu jako datové proměnné. Viz <a href="#pseudo-sourcenames" class="">Tato dokumentace</a> .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="hdf-structures">HDF Struktura<a href="#hdf-structures" class="hash-link" aria-label="Přímý odkaz naHDF Struktura" title="Přímý odkaz naHDF Struktura" translate="no">​</a></h6>
<p>Začneme s ERDDAP™ v2.12 EDDGrid FromNcFiles a EDDGrid FromNcFiles Vybalené mohou číst data z &quot;struktur&quot; v .nc 4 a .hdf 4 soubory. Pro identifikaci proměnné, která je ze struktury,&lt; sourceName &gt; musí používat formát: <em>FullStructureName</em>  |  <em>Název člena</em> , například skupina1/myStruct | Můj pane.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="fixed-value-sourcenames">Název zdroje pevné hodnoty<a href="#fixed-value-sourcenames" class="hash-link" aria-label="Přímý odkaz naNázev zdroje pevné hodnoty" title="Přímý odkaz naNázev zdroje pevné hodnoty" translate="no">​</a></h6>
<p>V souboru EDDTable, pokud chcete vytvořit proměnnou (s jedinou pevnou hodnotou) který není ve zdrojovém souboru, použijte:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=*fixedValue*&lt;/sourceName&gt;  </span><br></span></code></pre></div></div>
<p>Prvotní rovná se značka říká ERDDAP™ to a fixed Hodnota bude následovat.</p>
<ul>
<li class="">Pro číselné proměnné musí být pevná hodnota jedinou konečnou hodnotou nebo NaN (necitlivé případy, např. \=NaN) .</li>
<li class="">Pro proměnné String musí být pevná hodnota jednoduchá, <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer" class="">String ve stylu JSON</a>   (se speciálními znaky utekl s \ znaky) , např. \=&quot;Můj \&quot;Special\&quot; String&quot; .</li>
<li class="">Pro proměnnou časového razítka uveďte pevnou hodnotu jako číslo v &quot;seconds since 1970-01-01T00:00:00Z&quot; a použití
jednotky=sekundy od 1970-01-01T00:00:00Z .</li>
</ul>
<p>Ostatní značky pro&lt; dataVariable &gt; pracovat jako by to byla pravidelná proměnná.
Například vytvořit proměnnou zvanou nadmořská výška s pevnou hodnotou 0,0 (plavat) , použití:</p>
<blockquote>
<p>&lt;sourceName&gt;=0&lt;/sourceName&gt;<br>
<a href="#destinationname" class="">&lt;destinationName\&gt;</a>altitude&lt;/destinationName&gt;<br>
<a href="#datatype" class="">&lt;dataType&gt;float&lt;/dataType&gt;</a></p>
</blockquote>
<p>Pro neobvyklé situace můžete dokonce určit actual\_range addAttribute, který přepíše očekávané hodnoty destinationMin a destinationMax (což by se jinak rovnalo pevné Hodnota) .
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="script-sourcenamesderived-variables">Název zdroje skriptu/zadané proměnné<a href="#script-sourcenamesderived-variables" class="hash-link" aria-label="Přímý odkaz naNázev zdroje skriptu/zadané proměnné" title="Přímý odkaz naNázev zdroje skriptu/zadané proměnné" translate="no">​</a></h6>
<p>Začneme s ERDDAP™ v2.10, v an <a href="#eddtablefromfiles" class="">EDDTableFromFoles</a> , <a href="#eddtablefromdatabase" class="">EDDtableFromDatabase</a> nebo <a href="#eddtablefromfilenames" class="">EDDTableFromFileNames</a> Soubor údajů,&lt; sourceName &gt; může být
výraz (rovnice, která hodnotí jedinou hodnotu) , pomocí formátu</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=*expression*&lt;/sourceName&gt;  </span><br></span></code></pre></div></div>
<p>nebo scénář (série příkazů, které vrací jedinou hodnotu) , pomocí formátu</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=*script*&lt;/sourceName&gt;  </span><br></span></code></pre></div></div>
<p>ERDDAP™ spoléhá na <a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="">Projekt Apache</a>   <a href="https://commons.apache.org/proper/commons-jexl/" target="_blank" rel="noopener noreferrer" class=""> Java Jazyk výrazu (JEXL) </a>   (licence: <a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank" rel="noopener noreferrer" class="">Apač</a> ) vyhodnotit výrazy a spustit skripty.
Výpočet pro danou novou proměnnou se provádí v rámci jednoho řádku výsledků, opakovaně pro všechny řádky.
Výrazy a skripty používají Java - a Java Syntaxe podobná skriptu a může použít některý z
<a href="https://commons.apache.org/proper/commons-jexl/reference/syntax.html" target="_blank" rel="noopener noreferrer" class="">provozovatele a metody, které jsou zabudovány do JEXL</a> .
Skripty mohou také používat metody (funkce) z těchto tříd:</p>
<ul>
<li class=""><a class="" href="/cs/docs/dokka/-e-r-d-d-a-p/com.cohort.util/-script-calendar2">Kalendář2</a> , což je obal pro některé statické, časové a kalendářové metody v com.cohort.util.Calendar2 ( <a class="" href="/cs/acknowledgements#cohort-software">licence</a> ) . Například,
Kalendář2.parseToEpochSecond ( <em>zdrojTime, datum TimeFormat</em> ) bude zkoumat zdroj Časový řetězec přes datumTimeFormat řetězec a vrátit &quot;seconds since 1970-01-01T00:00:00Z&quot;   (epochsekundární) Dvojitou hodnotu.</li>
<li class=""><a class="" href="/cs/docs/dokka/-e-r-d-d-a-p/com.cohort.util/-script-math">Matematika</a> , což je obal pro téměř všechny statické, matematicky související metody v <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html" target="_blank" rel="noopener noreferrer" class="">Java.lang. Matematika</a> . Například, Math.atan2 ( <em>y, x</em> ) přijímá obdélníkové souřadnice (y, x) a vrací polární souřadnice (pole dvojníků s \[ r, theta \] ) .</li>
<li class=""><a class="" href="/cs/docs/dokka/-e-r-d-d-a-p/com.cohort.util/-script-math2">Matematika2</a> , což je obal pro téměř všechny statické matematicky související metody v com.cohort.util. Matematika2 ( <a class="" href="/cs/acknowledgements#cohort-software">licence</a> ) . Například,
Matematika 2. kolo ( <em>d, nPlaces</em> ) bude zaokrouhlit d na uvedený počet číslic vpravo od desetinné hodnoty.</li>
<li class="">String, který vám umožní přístup ke všem statickým metodám souvisejícím se stringem <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String" target="_blank" rel="noopener noreferrer" class="">Java.lang. String</a> . String objects in ERDDAP™ výrazy a skripty mohou použít některý z jejich souvisejících Java metody, jak je popsáno v java.lang. Provázková dokumentace. Například String.valueOf (d) změní dvojitou hodnotu d na řetězec (i když můžete také použít &quot;&quot;+d) .</li>
<li class=""><a class="" href="/cs/docs/dokka/-e-r-d-d-a-p/com.cohort.util/-script-string2">String2color</a> , který je obalem pro většinu statických, String- a pole souvisejících metod v com.cohort.util.String2 ( <a class="" href="/cs/acknowledgements#cohort-software">licence</a> ) . Například String2 .z eropad ( <em>číslo, nDigits</em> ) přidá 0 nalevo od čísla String tak, aby celkový počet číslic byl nDigits (např. String2 .z eropad (&quot;6,&quot; 2) vrátí &quot;06&quot;) .</li>
<li class=""><a class="" href="/cs/docs/dokka/-e-r-d-d-a-p/com.cohort.util/-script-row">řádek</a> , který má nestatické metody pro přístup k datům z různých sloupců v aktuálním řádku tabulky zdrojových dat. Například řádek.sloupecString (&quot;rok&quot;) čte hodnotu ze sloupce &quot;rok&quot; jako String, zatímco řádek. sloupec Int (&quot;rok&quot;) čte hodnotu ze sloupce &quot;rok&quot; jako celé číslo.</li>
</ul>
<p>Z bezpečnostních důvodů nemohou výrazy a skripty používat jiné třídy než ty 6. ERDDAP™ vymáhá toto omezení vytvořením výchozí černé listiny (které černé listy všechny třídy) a pak bílý seznam (který výslovně umožňuje 6 výše popsaných tříd) . Pokud potřebujete jiné metody a/nebo jiné třídy, abyste mohli pracovat, pošlete prosím své žádosti Chrisovi. John at noaa.gov .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="účinnost">Účinnost<a href="#účinnost" class="hash-link" aria-label="Přímý odkaz naÚčinnost" title="Přímý odkaz naÚčinnost" translate="no">​</a></h6>
<p>Pro soubory EDDTableFromFoles je pouze velmi, velmi minimální (pravděpodobně není patrné) zpomalení žádostí o údaje z těchto proměnných. Pro EDDTableFromDatabase existuje obrovský trest za rychlost pro žádosti, které zahrnují omezení těchto proměnných (např. (&amp;longitude0360&gt;30&amp;longitude0360)&lt;40) protože omezení nelze přenést do databáze, takže databáze musí vrátit mnohem více dat do ERDDAP™   (který je velmi časově náročný) takže ERDDAP™ může vytvořit novou proměnnou a uplatnit omezení. Abych se vyhnul nejhoršímu případu (kde nejsou do databáze přenesena žádná omezení) , ERDDAP™ hodí chybovou zprávu, aby databáze nemusela vrátit celý obsah tabulky. (Pokud to chcete obejít, přidejte omezení ke sloupci non-skriptu, který bude vždy pravdivý, např. &amp;time&lt;3000-01-01.) Z tohoto důvodu, s EdDtableFromDatabase, je pravděpodobně vždy lepší vytvořit odvozený sloupec v databázi spíše než použít sourceName = popis ERDDAP .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="přehled-jak-vyjádřit-nebo-skript-používá-se">Přehled, jak vyjádřit (Nebo skript) Používá se:<a href="#přehled-jak-vyjádřit-nebo-skript-používá-se" class="hash-link" aria-label="Přímý odkaz naPřehled, jak vyjádřit (Nebo skript) Používá se:" title="Přímý odkaz naPřehled, jak vyjádřit (Nebo skript) Používá se:" translate="no">​</a></h6>
<p>V reakci na žádost uživatele o tabulková data, ERDDAP™ získává data ze série zdrojových souborů. Každý zdrojový soubor vytvoří tabulku syrových (přímo ze zdroje) data. ERDDAP™ pak prochází tabulkou surových dat, řádek po řádku, a vyhodnotí výraz nebo skript jednou pro každý řádek, aby se vytvořil nový sloupec, který má tento výraz nebo skript jako sourceName .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="generovatdatasetsxml">GenerovatDatasetsXml<a href="#generovatdatasetsxml" class="hash-link" aria-label="Přímý odkaz naGenerovatDatasetsXml" title="Přímý odkaz naGenerovatDatasetsXml" translate="no">​</a></h6>
<p>Všimněte si, že generovatDatasety Xml je zcela nevědomý, když je potřeba vytvořit proměnnou s&lt; sourceName Ostatní <em>výraz</em> &lt;/ sourceName &gt;. Musíte vytvořit proměnnou v datasets.xml ručně.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="příklady-vyjádření">Příklady vyjádření:<a href="#příklady-vyjádření" class="hash-link" aria-label="Přímý odkaz naPříklady vyjádření:" title="Přímý odkaz naPříklady vyjádření:" translate="no">​</a></h6>
<p>Zde jsou některé kompletní příklady datových proměnných, které používají výraz pro vytvoření nového sloupce dat. Očekáváme, že tyto příklady (a jejich varianty) bude zahrnovat asi 95% využití všech získaných výrazů sourceName s.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="kombinace-samostatných-datum-a-time-sloupce-do-jednotného-časového-sloupce">Kombinace samostatných &quot;datum&quot; a &quot;time&quot; sloupce do jednotného časového sloupce:<a href="#kombinace-samostatných-datum-a-time-sloupce-do-jednotného-časového-sloupce" class="hash-link" aria-label="Přímý odkaz naKombinace samostatných &quot;datum&quot; a &quot;time&quot; sloupce do jednotného časového sloupce:" title="Přímý odkaz naKombinace samostatných &quot;datum&quot; a &quot;time&quot; sloupce do jednotného časového sloupce:" translate="no">​</a></h6>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dataVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;=Calendar2.parseToEpochSeconds(row.columnString(&quot;date&quot;) + &quot;T&quot; + </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            row.columnString(&quot;time&quot;) + &quot;Z&quot;, &quot;yyyy-MM-dd&#x27;T&#x27;HH:mm:ss&#x27;Z&#x27;&quot;)&lt;/sourceName&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;time&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;dataType&gt;double&lt;/dataType&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;att name=&quot;units&quot;&gt;seconds since 1970-01-01&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dataVariable&gt;</span><br></span></code></pre></div></div>
<p>To sourceName výraz dělá nový &quot;time&quot; sloupec konkatováním Stringových hodnot z &quot;datum&quot; ( yyyy-MM-dd ) a &quot;time&quot;   (HH:mm<!-- -->:ss<!-- -->) sloupce v každém řádku zdrojového souboru a přeměnou tohoto řetězce na &quot;seconds since 1970-01-01&quot;   (epochsekundární) Dvojitou hodnotu.</p>
<p>Nebo kurz, budete muset přizpůsobit řetězec časového formátu se vypořádat s konkrétním formátem v každém souboru zdroj datum a čas sloupce, viz
<a href="#string-time-units" class="">dokumentace časových jednotek</a> .</p>
<p>Technicky vzato nemusíš používat Kalendář2.parseToEpochSecond () převést kombinované datum+čas na epochsekundy. Můžete prostě předat datum + čas String na ERDDAP™ a uveďte formát (např.
yyyy-MM-dd &#x27;T&#x27;HH:mm<!-- -->:ss<!-- -->&#x27;Z&#x27; přes atribut jednotek. Ale existují významné výhody pro převod do epochSekund -- zejména, EDDTableFromFoles pak může snadno sledovat rozsah časových hodnot v každém souboru a tak rychle rozhodnout, zda se podívat do daného souboru při reakci na žádost, která má časová omezení.</p>
<p>S tím souvisí potřeba vytvořit jednotný sloupec date+time ze zdroje se samostatným rokem, měsícem, datem, hodinou, minutou, sekundou. Řešení je velmi podobné, ale budete často muset nula-pad mnoho z polí, takže, například, měsíc (1 - 12) a datum (1 - 31) vždy mají 2 číslice. Zde je příklad s rokem, měsícem, datem:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=Calendar2.parseToEpochSeconds(row.columnString(&quot;year&quot;) + </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String2.zeroPad(row.columnString(&quot;month&quot;), 2) + </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String2.zeroPad(row.columnString(&quot;date&quot;), 2), &quot;yyyyMMdd&quot;)&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>S tím související problém je potřeba vytvořit jednotný sloupec zeměpisné šířky nebo délky kombinací dat v samostatném stupni, minutách a sekundách sloupce, každý uložen jako celá čísla. Například,</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=row.columnInt(&quot;deg&quot;) + row.columnInt(&quot;min&quot;)/60.0 + </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        row.columnInt(&quot;sec&quot;)/3660.0&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="převod-sloupce-s-názvem-lon-s-hodnotami-délky-od-0-do-360-do-sloupce-nazvaného-loučení-s-hodnotami-od--180---180">Převod sloupce s názvem &quot;lon&quot; s hodnotami délky od 0 do 360° do sloupce nazvaného &quot;loučení&quot; s hodnotami od -180 - 180°<a href="#převod-sloupce-s-názvem-lon-s-hodnotami-délky-od-0-do-360-do-sloupce-nazvaného-loučení-s-hodnotami-od--180---180" class="hash-link" aria-label="Přímý odkaz naPřevod sloupce s názvem &quot;lon&quot; s hodnotami délky od 0 do 360° do sloupce nazvaného &quot;loučení&quot; s hodnotami od -180 - 180°" title="Přímý odkaz naPřevod sloupce s názvem &quot;lon&quot; s hodnotami délky od 0 do 360° do sloupce nazvaného &quot;loučení&quot; s hodnotami od -180 - 180°" translate="no">​</a></h6>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dataVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;=Math2.anglePM180(row.columnDouble(&quot;lon&quot;))&lt;/sourceName&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;longitude&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;dataType&gt;double&lt;/dataType&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;att name=&quot;units&quot;&gt;degrees\\_east&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dataVariable&gt;</span><br></span></code></pre></div></div>
<p>To sourceName výraz dělá nový sloupec &quot;délka&quot; převodem dvojité hodnoty ze sloupce &quot;lon&quot; v každém řádku zdrojového souboru (pravděpodobně s hodnotami 0 - 360) , A tím, že převést to na -180 na 180 dvojnásobek hodnoty.</p>
<p>Pokud místo toho chcete převést hodnoty výchozí délky -180 - 180° na 0 - 360°, použijte</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=Math2.angle0360(row.columnDouble(&quot;lon&quot;))&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Pojmenování dvou proměnných délky:
Pokud bude mít datový soubor 2 proměnné délky, doporučujeme použít destinationName = délka pro proměnnou -180 - 180° a destinationName =longitude0360 (a dlouhý název=\&quot;Longitude 0-360°&quot;) u proměnné 0 - 360°. To je důležité, protože uživatelé někdy používají Advanced Search k vyhledávání dat v rámci určitého rozsahu délky. Toto vyhledávání bude fungovat lépe, pokud má zeměpisná délka trvale -180 - 180° hodnot pro všechny datové soubory. Také geospantial\_lon\_min, geospatial\_lon\_max, Westernmost\_Easting a Easternmost\_Eastings globální atributy budou pak nastaveny konzistentním způsobem (s hodnotami délky -180 až 180°) ;</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="převod-sloupce-s-názvem-tempf-s-hodnotami-teploty-ve-stupni_-f-do-sloupce-s-názvem-tempc-s-teplotami-ve-stupních_-c">Převod sloupce s názvem &quot;TempF&quot; s hodnotami teploty ve stupni\_ F do sloupce s názvem &quot;TempC&quot; s teplotami ve stupních\_ C:<a href="#převod-sloupce-s-názvem-tempf-s-hodnotami-teploty-ve-stupni_-f-do-sloupce-s-názvem-tempc-s-teplotami-ve-stupních_-c" class="hash-link" aria-label="Přímý odkaz naPřevod sloupce s názvem &quot;TempF&quot; s hodnotami teploty ve stupni\_ F do sloupce s názvem &quot;TempC&quot; s teplotami ve stupních\_ C:" title="Přímý odkaz naPřevod sloupce s názvem &quot;TempF&quot; s hodnotami teploty ve stupni\_ F do sloupce s názvem &quot;TempC&quot; s teplotami ve stupních\_ C:" translate="no">​</a></h6>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dataVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;=(row.columnFloat(&quot;tempF&quot;)-32)\\*5/9&lt;/sourceName&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;tempC&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;dataType&gt;float&lt;/dataType&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;att name=&quot;units&quot;&gt;degrees\\_C&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dataVariable&gt;</span><br></span></code></pre></div></div>
<p>To sourceName výraz dělá nový sloupec &quot;tempC&quot; převodem plovákového stupně\_ Hodnota F ze sloupce &quot;TempF&quot; v každém řádku zdrojového souboru do plovoucího stupně\_ Hodnota C.</p>
<p>Všimněte si, že váš datový soubor může mít jak původní teplotu F proměnná a nová teplota C proměnná tím, že má jinou proměnnou s</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;tempF&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="převod-rychlost-a-směr-sloupců-do-dvou-sloupců-s-uv-komponenty">Převod &quot;rychlost&quot; a &quot;směr&quot; sloupců do dvou sloupců s u,v komponenty<a href="#převod-rychlost-a-směr-sloupců-do-dvou-sloupců-s-uv-komponenty" class="hash-link" aria-label="Přímý odkaz naPřevod &quot;rychlost&quot; a &quot;směr&quot; sloupců do dvou sloupců s u,v komponenty" title="Přímý odkaz naPřevod &quot;rychlost&quot; a &quot;směr&quot; sloupců do dvou sloupců s u,v komponenty" translate="no">​</a></h6>
<ul>
<li class="">Pro vytvoření proměnné U použijte</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=row.columnFloat(&quot;speed&quot;) \\* Math.cos(row.columnFloat(&quot;direction&quot;))&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Pro vytvoření proměnné v použijte</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=row.columnFloat(&quot;speed&quot;) \\* Math.sin(row.columnFloat(&quot;direction&quot;))&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<p>Nebo, vzhledem k u, v:</p>
<ul>
<li class="">K vytvoření proměnné rychlosti použijte</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=Math.atan2(row.columnDouble(&quot;v&quot;), row.columnDouble(&quot;u&quot;))\\[0\\]&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Pro vytvoření směrové proměnné použijte</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;=Math.toDegrees(Math.atan2(row.columnDouble(&quot;v&quot;), row.columnDouble(&quot;u&quot;))\\[1\\])&lt;/sourceName&gt;</span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="příklad-skriptu">Příklad skriptu:<a href="#příklad-skriptu" class="hash-link" aria-label="Přímý odkaz naPříklad skriptu:" title="Přímý odkaz naPříklad skriptu:" translate="no">​</a></h6>
<p>Zde je příklad použití skriptu, nejen výraz, jako sourceName . Očekáváme, že scénáře, na rozdíl od výrazů, nebudou potřeba často. V tomto případě je cílem vrátit chybějící hodnotu non-NaN (- 99) pro hodnoty teploty mimo určitý rozsah. Všimněte si, že skript je část za &quot;=&quot;.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dataVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;sourceName&gt;=var tc=row.columnFloat(&quot;tempC&quot;); return tc&amp;gt;35 || tc&amp;lt;-5? -99.0f : tc\\*9/5+32;&lt;/sourceName&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;destinationName&gt;tempF&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;dataType&gt;float&lt;/dataType&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;att name=&quot;units&quot;&gt;degrees\\_F&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dataVariable&gt;</span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="tvrdá-vlajka">Tvrdá vlajka<a href="#tvrdá-vlajka" class="hash-link" aria-label="Přímý odkaz naTvrdá vlajka" title="Přímý odkaz naTvrdá vlajka" translate="no">​</a></h6>
<p>Pokud změníte výraz nebo skript definovaný v sourceName , musíte nastavit <a class="" href="/cs/docs/server-admin/additional-information#hard-flag">Tvrdá vlajka</a> pro datový soubor, takže ERDDAP™ smaže všechny cachované informace pro datový soubor a znovu přečte každý datový soubor (pomocí nového výrazu nebo skriptu) příště nabije soubor dat. Alternativně můžete použít <a href="#dasdds" class="">DasDds</a> což odpovídá nastavení tvrdé vlajky.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="procentuální-kód">Procentuální kód<a href="#procentuální-kód" class="hash-link" aria-label="Přímý odkaz naProcentuální kód" title="Přímý odkaz naProcentuální kód" translate="no">​</a></h6>
<p>To je jen vzácně relevantní: Protože výrazy a scénáře jsou napsány v datasets.xml , což je XML dokument, musíte procent enkódovat&lt;, \&gt; a &amp; znaky v výrazech a skriptech jako&lt;, &gt; a &amp; .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="časté-problémy">Časté problémy<a href="#časté-problémy" class="hash-link" aria-label="Přímý odkaz naČasté problémy" title="Přímý odkaz naČasté problémy" translate="no">​</a></h6>
<p>Běžný problém je, že vytvoříte proměnnou s sourceName = <em>výraz</em> ale výsledný sloupec dat má chybějící hodnoty. Případně některé řádky nového sloupce mají chybějící hodnoty a vy si myslíte, že by neměly. Základní problém je, že něco je špatně s výrazem a ERDDAP je převést tuto chybu na chybějící hodnotu. Abych vyřešil problém,</p>
<ul>
<li class="">Podívej se na ten výraz a uvidíš, jaký by mohl být problém.</li>
<li class="">Podívejte se dovnitř. <a class="" href="/cs/docs/server-admin/additional-information#log">log.txt</a> , která zobrazí první chybovou zprávu vygenerovanou během vytvoření každého nového sloupce.</li>
</ul>
<p>Časté příčiny jsou:</p>
<ul>
<li class="">Použil jsi špatný případ. Výrazy a scénáře jsou případově citlivé.</li>
<li class="">Vynechal jsi jméno třídy. Například, musíte použít Math.abs () , nejen svaly () .</li>
<li class="">Nedělala jsi typ konverze. Například pokud je datovým typem parametru String a máte dvojí hodnotu, musíte převést dvojitou na String přes &quot;&quot;+d.</li>
<li class="">Název sloupce ve výrazu neodpovídá přesně názvu sloupce v souboru (nebo jméno může být v některých souborech jiné) .</li>
<li class="">Ve výrazu je chyba syntaxe (např. chybějící nebo extra &quot;) &quot;).</li>
</ul>
<p>Pokud uvíznete nebo potřebujete pomoc,
prosím uveďte podrobnosti a viz naše <a class="" href="/cs/docs/intro#support">oddíl o získání dodatečné podpory</a> .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="destinationname-1">&lt; destinationName &gt;<a href="#destinationname-1" class="hash-link" aria-label="Přímý odkaz na&lt; destinationName &gt;" title="Přímý odkaz na&lt; destinationName &gt;" translate="no">​</a></h6>
<ul>
<li class="">[&lt; destinationName &gt;] (Název místa určení) -- název proměnné, která bude zobrazena a použita ERDDAP™ uživatelé.<!-- -->
<ul>
<li class="">Tohle je volitelné. Pokud chybí, <a href="#sourcename" class=""> sourceName </a> používá se.</li>
<li class="">To je užitečné, protože umožňuje změnit záhadné nebo podivné sourceName .</li>
<li class="">destinationName je případ citlivý.</li>
<li class="">destinationName MUSÍME začít písmenem (A-Z, a-z) a MUSÍ následovat 0 nebo více znaků (A-Z, a-z, 0-9 a \_) . (&#x27;-&#x27; bylo dovoleno předtím ERDDAP™ verze 1.10.) Toto omezení umožňuje v ERDDAP™ , ve souborech odpovědí a ve všech softwarech, kde budou tyto soubory použity, včetně programovacích jazyků (jako Python , Matlab a Java Skript) kde existují podobná omezení pro názvy proměnných.</li>
<li class="">V datových souborech EDDTable <a href="#destinationname" class="">zeměpisná délka, zeměpisná šířka, výška (nebo hloubka) , a čas</a> datové proměnné jsou zvláštní.
 </li>
</ul>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="datatype">&lt;údaje Typ&gt;<a href="#datatype" class="hash-link" aria-label="Přímý odkaz na&lt;údaje Typ&gt;" title="Přímý odkaz na&lt;údaje Typ&gt;" translate="no">​</a></h6>
<ul>
<li class="">[&lt;dataType&gt;] (#datatyp) -- určuje datový typ pocházející ze zdroje. (V některých případech například při čtení dat ze souborů ASCII určuje, jak by měla být data pocházející ze zdroje uložena.)<!-- -->
<ul>
<li class="">To vyžadují některé typy souborů údajů a jiné je ignorují. Typy datových souborů, které to vyžadují pro jejich dataVariable jsou: EDDGrid FromXxxFiles, EDDTableFromXxxFiles, EDDTableFromM WFS , EDDTableFromNOS, EDDTableFrom SOS . Jiné typy souborů ignorují tuto značku, protože získávají informace ze zdroje.
 </li>
<li class="">Platné hodnoty jsou některé z norem <a href="#data-types" class=""> ERDDAP™ datové typy</a> plus boolean (viz níže) . Názvy DataType jsou citlivé na případy.
 </li>
</ul>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="boolean-data">booleovské údaje<a href="#boolean-data" class="hash-link" aria-label="Přímý odkaz nabooleovské údaje" title="Přímý odkaz nabooleovské údaje" translate="no">​</a></h6>
<ul>
<li class=""><a href="#boolean-data" class="">&quot;Boolean&quot;</a> je zvláštní případ.</li>
<li class="">Vnitřní, ERDDAP™ nepodporuje booleánský typ, protože booleáni nemohou ukládat chybějící hodnoty a většina typů souborů nepodporuje booleans. Také, DAP nepodporuje booleany, takže neexistuje standardní způsob, jak se ptát na booleovské proměnné.</li>
<li class="">Upřesnění &quot;boolean&quot; pro data Zadat datasets.xml způsobí uložení a zastoupení booleánských hodnot jako bajtů: 0=false, 1=true, 127= missing\_value .</li>
<li class="">Uživatelé mohou určit omezení pomocí číselných hodnot (například &quot;isAlive=1&quot;) .</li>
<li class="">ERDDAP™ Správci někdy potřebují použít data &quot;boolean&quot; Zadat datasets.xml říct ERDDAP™ jak komunikovat se zdrojem dat (např. pro čtení booleánských hodnot z relační databáze a jejich převod na 0, 1, nebo 127) .
 </li>
<li class="">Pokud chcete změnit proměnnou dat z datového typu ve zdrojových souborech (například krátká) do některých dalších údajů Typ datového souboru (např. int) , Nepoužívejte&lt;dataType&gt; zadat, co chcete. (Pracuje pro některé typy souborů dat, ale ne pro jiné.) Místo toho:<!-- -->
<ul>
<li class="">Použití&lt;dataType&gt; zadat, co je v souborech (například krátká) .</li>
<li class="">V&lt; addAttributes &gt; pro proměnnou, přidat a <a href="#scale_factor" class=""> scale\_factor </a> atribut s novými údaji Typ (např. int) a hodnotu 1, například,</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;att name=&quot;scale\\_factor&quot; type=&quot;int&quot;&gt;1&lt;/att&gt;  </span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="datavariable-addattributes">dataVariable  &lt;addAttributes&gt;<a href="#datavariable-addattributes" class="hash-link" aria-label="Přímý odkaz nadataVariable  &lt;addAttributes&gt;" title="Přímý odkaz nadataVariable  &lt;addAttributes&gt;" translate="no">​</a></h6>
<ul>
<li class="">[&lt; addAttributes &gt;] (#variable-addattributes) -- definuje soubor atributů ( <em>název</em> = <em>hodnota</em> ) které jsou přidány do atributů zdroje pro proměnnou, aby se kombinované atributy pro proměnnou. Tohle je volitelné.
Pokud proměnná je <a href="#variable-addattributes" class="">zdrojAtributy</a> nebo&lt; addAttributes &gt; zahrnují <a href="#scale_factor" class=""> scale\_factor nebo add\_offset </a> atributy, jejich hodnoty budou použity k vybalení dat ze zdroje před odesláním klientovi. Vybalená proměnná bude stejného datového typu (například plovák) jako scale\_factor a add\_offset hodnoty.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="variable-addattributes">Proměnná&lt;addAttributes&gt;<a href="#variable-addattributes" class="hash-link" aria-label="Přímý odkaz naProměnná&lt;addAttributes&gt;" title="Přímý odkaz naProměnná&lt;addAttributes&gt;" translate="no">​</a></h6>
<ul>
<li class="">
<p>[ ** Variabilní Atributy / Proměnná&lt; addAttributes &gt; ** ] (#variable-addattributes) --&lt; addAttributes &gt; je VOLITELNÁ tag v rámci&lt; axisVariable &gt; nebo&lt; dataVariable &gt; tag, který se používá ke změně atributů proměnné.</p>
<ul>
<li class="">** Použít proměnné&lt; addAttributes &gt; změnit atributy proměnné. **  ERDDAP™ kombinuje atributy proměnné ze zdroje datového souboru (** zdrojAtributy <strong>) a proměnná je</strong>  addAttributes  <strong>který definujete v datasets.xml   (které mají přednost) k vytvoření proměnné &quot;</strong> kombinovanéAtributy ** &quot;což je co ERDDAP™ uživatelé vidí. Můžete tedy použít addAttributes redefinovat hodnoty zdrojových atributů, přidat nové atributy nebo odstranit atributy.</li>
<li class="">Viz [ ** &lt; addAttributes &gt; <strong>informace] (#addattributy) která se vztahuje na globální a variabilní</strong> &lt; addAttributes &gt; ** .</li>
<li class="">ERDDAP™ hledá a využívá mnoho z těchto atributů různými způsoby. Například, barevnéBar hodnoty jsou nutné, aby proměnná k dispozici přes WMS , tak, že mapy mohou být vyrobeny s konzistentní barvyBars.</li>
<li class=""><a href="#destinationname" class="">Zeměpisná délka, zeměpisná šířka, výška (nebo hloubka) , a časové proměnné</a> získat spoustu vhodných metadat automaticky (například: <a href="#units" class="">jednotky</a> ) .</li>
<li class="">Vzorek&lt; addAttributes &gt; u datové proměnné je:</li>
</ul>
<blockquote>
<p>    &lt;addAttributes&gt;<br>
<!-- -->          &lt;att name=&quot;actual\_range&quot; type=&quot;doubleList&quot;&gt;10.34 23.91&lt;/att&gt;<br>
<!-- -->          &lt;att name=&quot;colorBarMinimum&quot; type=&quot;double&quot;&gt;0&lt;/att&gt;<br>
<!-- -->          &lt;att name=&quot;colorBarMaximum&quot; type=&quot;double&quot;&gt;32&lt;/att&gt;<br>
<!-- -->          &lt;att name=&quot;<a href="#ioos_category" class="">ioos\_category</a>&quot;&gt;Temperature&lt;/att&gt;<br>
<!-- -->          &lt;att name=&quot;<a href="#long_name" class="">long\_name</a>&quot;&gt;Sea Surface Temperature&lt;/att&gt;<br>
<!-- -->          &lt;att name=&quot;numberOfObservations&quot; /&gt;<br>
<!-- -->          &lt;att name=&quot;<a href="#units" class="">units</a>&quot;&gt;degree\_C&lt;/att&gt;<br>
<!-- -->    &lt;/addAttributes&gt;</p>
</blockquote>
</li>
</ul>
<p>Prázdné čísloObservations atribut způsobuje zdrojové čísloObservations atribut (pokud existuje) která se odstraní ze konečného seznamu atributů.</p>
<ul>
<li class="">Poskytování těchto informací pomáhá ERDDAP™ dělat lepší práci a pomáhá uživatelům pochopit soubory dat.
Dobré metadata činí datový soubor použitelný.
Nedostatečná metadata činí datový soubor k ničemu.
Prosím, udělejte si čas na dobrou práci s atributy metadat.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="komentáře-o-proměnných-atributů-které-jsou-zvláštní-v-erddap-">Komentáře o proměnných atributů, které jsou zvláštní v ERDDAP :<a href="#komentáře-o-proměnných-atributů-které-jsou-zvláštní-v-erddap-" class="hash-link" aria-label="Přímý odkaz naKomentáře o proměnných atributů, které jsou zvláštní v ERDDAP :" title="Přímý odkaz naKomentáře o proměnných atributů, které jsou zvláštní v ERDDAP :" translate="no">​</a></h6>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="actual_range">actual\_range<a href="#actual_range" class="hash-link" aria-label="Přímý odkaz naactual\_range" title="Přímý odkaz naactual\_range" translate="no">​</a></h6>
<ul>
<li class=""><a href="#actual_range" class=""> ** actual\_range ** </a> je atribut proměnné RECOMMENDED. Například,</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;actual\_range&quot; <a href="#attributetype" class="">type=&quot;floatList&quot;</a>\&gt;0.17 23.58&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">Tento atribut je z <a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class="">CDC COARDS </a> a <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF 1. 7+</a> Standardy metadat.</li>
<li class="">Pokud existuje, musí to být pole dvou hodnot téhož datového typu jako cílový datový typ proměnné s uvedením skutečné (není teoretický nebo povolený) minimální a maximální hodnoty údajů pro tuto proměnnou.</li>
<li class="">Pokud jsou data zabalena <a href="#scale_factor" class=""> scale\_factor nebo add\_offset </a> , actual\_range musí mít vybalené hodnoty a být stejného datového typu jako vybalené hodnoty.</li>
<li class="">Pro některé zdroje dat (například všechny EDDTableFrom... Soubory souborů) , ERDDAP™ určuje actual\_range každé proměnné a nastaví actual\_range atribut. S jinými zdroji dat (například relační databáze, Cassandra, DAP PER, Hyrax ) , to může být obtížné nebo zátěž pro zdroj vypočítat rozsah, takže ERDDAP™ Nežádá o to. V tomto případě je nejlepší, pokud můžete nastavit actual\_range   (zejména u proměnných délky, zeměpisné šířky, výšky, hloubky a času) přidáním actual\_range atribut každé proměnné [&lt; addAttributes &gt;] (#addattributy) pro tento soubor údajů v datasets.xml Například:</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;actual\_range&quot; <a href="#attributetype" class="">type=&quot;doubleList&quot;</a>\&gt;-180 180&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">Pro numerické <a href="#time-units" class="">proměnné času a času</a> , stanovené hodnoty by měly být relevantním zdrojem (místo určení) číselné hodnoty. Například pokud jsou výchozí hodnoty času uloženy jako &quot;dny od roku 1985- 01- 01,&quot; pak actual\_range by měly být uvedeny v &quot;dnech od roku 1985-01-01.&quot; A pokud chcete odkazovat na Now jako druhá hodnota pro téměř-real-time data, která jsou pravidelně aktualizována, měli byste použít NaN . Například pro upřesnění datového rozpětí 1985-01-17 až do TEĎ použijte</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;actual\_range&quot; <a href="#attributetype" class="">type=&quot;doubleList&quot;</a>\&gt;16 NaN&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">Pokud actual\_range je známo (buď ERDDAP™ výpočet nebo přidáním přes&lt; addAttributes &gt;), ERDDAP™ zobrazí jej uživateli na formuláři pro přístup k datům ( * datasetID * .html) a vytvořit grafické webové stránky ( * datasetID * .graph) pro tento datový soubor a používat jej při vytváření metadat FGDC a ISO 19115. Také, posledních 7 dní času actual\_range jsou použity jako výchozí podmnožina času.</li>
<li class="">Pokud actual\_range je známo, uživatelé mohou použít <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#min" target="_blank" rel="noopener noreferrer" class="">min () a max () funkce</a> v požadavcích, které jsou často velmi užitečné.</li>
<li class="">Pro všechny soubory EDDTable... pokud actual\_range je známo (buď tím, že to určíte, nebo ERDDAP™ výpočet) , ERDDAP™ bude moci rychle odmítnout jakékoli žádosti o údaje mimo tento rozsah. Například, pokud nejnižší časová hodnota datového souboru odpovídá 1985-01-17, pak žádost o všechna data od 1985-01-01 do 1985-01-16 bude okamžitě odmítnuta chybovou zprávou &quot;Váš dotaz nevytvořil žádné odpovídající výsledky.&quot; To dělá actual\_range velmi důležitý kus metadat, jak to může uložit ERDDAP™ hodně úsilí a ušetřit uživateli spoustu času. A to zdůrazňuje, že actual\_range hodnoty nesmí být užší než skutečný rozsah údajů; jinak ERDDAP™ může chybně říci: &quot;Neexistují žádná odpovídající data,&quot; pokud ve skutečnosti existují relevantní data.</li>
<li class="">Pokud uživatel vybere podmnožinu dat a požádá o typ souboru, který obsahuje metadata (například: .nc ) , ERDDAP™ Změny actual\_range v souboru odezvy, aby odrážel rozsah podmnožiny.</li>
<li class="">Viz také <a href="#data_min-and-data_max" class=""> data\_min a data\_max </a> , které jsou alternativním způsobem, jak upřesnit actual\_range . Nicméně, jsou deprecovány teď, když actual\_range je definována CF 1.7+.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="color-bar-attributes">Atributy barevné lišty<a href="#color-bar-attributes" class="hash-link" aria-label="Přímý odkaz naAtributy barevné lišty" title="Přímý odkaz naAtributy barevné lišty" translate="no">​</a></h6>
<p>Existuje několik VOLITELNÉ proměnné atributy, které zadávají navrhované výchozí atributy pro barevnou lištu (slouží k převodu hodnot dat do barev na obrazech) pro tuto proměnnou.</p>
<ul>
<li class="">
<p>Pokud jsou tyto informace k dispozici, použijí se jako výchozí informace pomocí mřížky a tabledap Kdykoli si vyžádáte obrázek, který používá barevnou lištu.</p>
</li>
<li class="">
<p>Například v případě, že jsou datová délka zeměpisné šířky nastavena jako pokrytí na mapě, barevná lišta určuje, jak jsou hodnoty dat převedeny na barvy.</p>
</li>
<li class="">
<p>Mít tyto hodnoty umožňuje ERDDAP™ vytvořit obrázky, které používají konzistentní barevnou lištu napříč různými požadavky, i když se hodnoty času nebo jiných rozměrů liší.</p>
</li>
<li class="">
<p>Tyto názvy atributů byly vytvořeny pro použití v ERDDAP . Nejsou ze standardu metadat.</p>
</li>
<li class="">
<p>Vlastnosti vztahující se k barevnému panelu jsou:</p>
<ul>
<li class="">** colorBarMinimum ** určuje minimální hodnotu v barvěBar. Například,</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;colorBarMinimum&quot; <a href="#attributetype" class="">type=&quot;double&quot;</a>\&gt;-5&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">Pokud jsou data zabalena <a href="#scale_factor" class=""> scale\_factor nebo add\_offset </a> , uveďte colorBarMinimum jako nevybalenou hodnotu.</li>
<li class="">Hodnoty údajů nižší než colorBarMinimum jsou zastoupeny stejnou barvou jako colorBarMinimum hodnoty.</li>
<li class="">Příznak by měl být <a href="#attributetype" class="">type=&quot;double&quot;</a> , bez ohledu na typ datové proměnné.</li>
<li class="">Hodnota je obvykle pěkné kulaté číslo.</li>
<li class="">Osvědčené postupy: Doporučujeme hodnotu mírně vyšší než minimální hodnota dat.</li>
<li class="">Neexistuje žádná výchozí hodnota.</li>
</ul>
</li>
<li class="">
<p>** colorBarMaximum ** určuje maximální hodnotu v barvěBar. Například,</p>
</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;colorBarMaximum&quot; <a href="#attributetype" class="">type=&quot;double&quot;</a>\&gt;5&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">Pokud jsou data zabalena <a href="#scale_factor" class=""> scale\_factor nebo add\_offset </a> , uveďte colorBarMinimum jako nevybalenou hodnotu.</li>
<li class="">Hodnoty údajů vyšší než colorBarMaximum jsou zastoupeny stejnou barvou jako colorBarMaximum hodnoty.</li>
<li class="">Příznak by měl být <a href="#attributetype" class="">type=&quot;double&quot;</a> , bez ohledu na typ datové proměnné.</li>
<li class="">Hodnota je obvykle pěkné kulaté číslo.</li>
<li class="">Osvědčené postupy: Doporučujeme hodnotu mírně nižší než maximální hodnota dat.</li>
<li class="">Neexistuje žádná výchozí hodnota.</li>
<li class=""><strong>barva BarPalette</strong> určuje paletu pro barvuBar. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;colorBarPalette&quot;&gt;WhiteRedBlack&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Všechny ERDDAP™ instalace podporují tyto standardní palety: BlackBlueWhite, BlackRedWhite, BlackWhite, BlueWhiteRed, LightRainbow, Ocean, OceanDepth, Rainbow, RedWhiteBlue, ReverseRainbow, Topography, TopographyDepth \[ přidáno do v1.74 \] WhiteBlack, WhiteBlueBlack a WhiteRedBlack.</li>
<li class="">Pokud jste nainstalovali <a class="" href="/cs/docs/server-admin/additional-information#palettes">další palety</a> , můžete odkazovat na jeden z nich.</li>
<li class="">Pokud tento atribut není přítomen, výchozí je BlueWhiteRed pokud \-1\* colorBarMinimum = colorBarMaximum ; jinak výchozí je Duha.</li>
<li class=""><strong>BarScale</strong> určuje stupnici pro barvuBar. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;colorBarScale&quot;&gt;Log&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Platné hodnoty jsou Lineární a Log.</li>
<li class="">Pokud je hodnota Log, colorBarMinimum musí být větší než 0.</li>
<li class="">Pokud tento atribut není přítomen, výchozí hodnota je lineární.</li>
<li class=""><strong>barva Kontinuální</strong> určuje, zda barvaBar má souvislou paletu barev, nebo zda barvaBar má několik diskrétních barev. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;colorBarContinuous&quot;&gt;false&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Platné hodnoty jsou řetězce pravdivé a falešné.</li>
<li class="">Pokud tento atribut není přítomen, je výchozí hodnota pravdivá.</li>
<li class=""><strong>barvaBarNOddíly</strong> určuje výchozí počet oddílů v barvěBar. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;colorBarNSections&quot; type=&quot;int&quot;&gt;6&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Platné hodnoty jsou pozitivní celá čísla.</li>
<li class="">Pokud tento atribut není přítomen, výchozí hodnota je \-1, která říká ERDDAP™ vybrat počet sekcí na základě rozsahu barevBar.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="wms">WMS<a href="#wms" class="hash-link" aria-label="Přímý odkaz naWMS" title="Přímý odkaz naWMS" translate="no">​</a></h6>
<p>Hlavní požadavky na přístup k proměnné prostřednictvím ERDDAP &#x27;s WMS server jsou:</p>
<ul>
<li class="">Soubor údajů musí být EDDGrid ... data.</li>
<li class="">Datová proměnná MUSÍ být roštovaná proměnná.</li>
<li class="">Datová proměnná MUSÍ mít proměnné délky a šířky. (Jiné proměnné osy jsou VOLITELNÉ.)</li>
<li class="">Musí být nějaké hodnoty délky mezi -180 a 180.</li>
<li class="">The colorBarMinimum a colorBarMaximum atributy MUSÍ být specifikovány. (Další atributy barev jsou VOLITELNÉ.)</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="data_min-and-data_max">data\_min a data\_max<a href="#data_min-and-data_max" class="hash-link" aria-label="Přímý odkaz nadata\_min a data\_max" title="Přímý odkaz nadata\_min a data\_max" translate="no">​</a></h6>
<ul>
<li class=""><a href="#data_min-and-data_max" class=""> ** data\_min ** a ** data\_max ** </a> -- Toto jsou deprecované proměnné atributy definované ve Světovém experimentu s cirkulací oceánu (WOCE) popis metadat. Například,</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;data\_min&quot; <a href="#attributetype" class="">type=&quot;float&quot;</a>\&gt;0.17&lt;/att&gt;<br>
<!-- -->&lt;att name=&quot;data\_max&quot; <a href="#attributetype" class="">type=&quot;float&quot;</a>\&gt;23.58&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">Doporučujeme použít <a href="#actual_range" class=""> actual\_range </a> , místo data\_min a data\_max , protože actual\_range je nyní definován specifikací CF.</li>
<li class="">Pokud jsou přítomny, musí být stejného typu údajů jako datový typ proměnné určení a musí uvádět skutečný (není teoretický nebo povolený) minimální a maximální hodnoty údajů pro tuto proměnnou.</li>
<li class="">Pokud jsou data zabalena <a href="#scale_factor" class=""> scale\_factor nebo add\_offset </a> , data\_min a data\_max musí být vybaleny hodnoty pomocí rozbaleného datového typu.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="variable-drawlandmask">proměnná drawLandMask<a href="#variable-drawlandmask" class="hash-link" aria-label="Přímý odkaz naproměnná drawLandMask" title="Přímý odkaz naproměnná drawLandMask" translate="no">​</a></h6>
<ul>
<li class=""><a href="#variable-drawlandmask" class=""> ** drawLandMask ** </a> -- Jedná se o VOLITELNÝ atribut proměnné používaný ERDDAP™   (a žádné standardy metadat) který určuje výchozí hodnotu pro volbu &quot;Draw Land Mask&quot; ve formuláři Make A Graph ( * datasetID * .graph) a pro parametr &amp;.land v URL žádající mapu dat. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;drawLandMask&quot;&gt;under&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>Viz <a href="#drawlandmask" class=""> drawLandMask přehled</a> .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="encoding">Kódování<a href="#encoding" class="hash-link" aria-label="Přímý odkaz naKódování" title="Přímý odkaz naKódování" translate="no">​</a></h6>
<ul>
<li class=""><a href="#encoding" class=""> <strong>\_ Kódování</strong> </a></li>
<li class="">Tento atribut lze použít pouze s proměnnými String .</li>
<li class="">Tento atribut se důrazně doporučuje.</li>
<li class="">Tento atribut je z <a href="https://docs.unidata.ucar.edu/netcdf-java/current/userguide/index.html" target="_blank" rel="noopener noreferrer" class=""> NetCDF Uživatelská příručka (NUG) </a> .</li>
<li class="">Vnitřní ERDDAP™ , Struny jsou posloupnost 2-bajtových znaků, které používají <a href="https://en.wikipedia.org/wiki/UTF-16" target="_blank" rel="noopener noreferrer" class="">Unicode UCS-2 znaková sada</a> .</li>
<li class="">Mnoho typů souborů podporuje pouze 1-bajtové znaky v Strings a proto tento atribut potřebuje k identifikaci přiřazeného
<a href="https://en.wikipedia.org/wiki/Code_page" target="_blank" rel="noopener noreferrer" class="">charset (AKA kódová stránka) </a> která definuje, jak zmapovat 256 možných hodnot do souboru 256 znaků vytažených ze sady znaků UCS-2 a/nebo kódovacího systému, např. <a href="https://en.wikipedia.org/wiki/UTF-8" target="_blank" rel="noopener noreferrer" class="">UTF-8</a>   (který vyžaduje mezi 1 a 4 byty na znak) .</li>
<li class="">Hodnoty pro \_Encoding jsou případově citlivé.</li>
<li class="">Teoreticky, ERDDAP™ mohou podporovat \_kódování identifikátorů z <a href="https://www.iana.org/assignments/character-sets/character-sets.xhtml" target="_blank" rel="noopener noreferrer" class="">Tento seznam IANA</a> Ale v praxi, ERDDAP™ v současné době jen podporuje<!-- -->
<ul>
<li class="">ISO-8859-1 (všimněte si, že má pomlčky, ne podtržení) , která má výhodu, že je identická s prvními 256 znaky Unicode a</li>
<li class="">UTF-8.</li>
</ul>
</li>
<li class="">Při čtení zdrojových souborů je výchozí hodnota ISO-8859-1, kromě netcdf-4 souborů, kde je výchozí hodnota UTF-8.</li>
<li class="">Jedná se o pokračující problém, protože mnoho zdrojových souborů používá charsety nebo kódování, které jsou odlišné od ISO-8859-1, ale neidentifikujte znakovou sadu nebo kódování. Například mnoho zdrojových datových souborů má některá metadata zkopírovaná a vložená z Microsoft Word na Windows a tak mají fantastické pomlčky a apostrofy z znakové sady specifické pro Windows místo pomlček ASCII a apostrophes. Tyto postavy pak ukázat jako zvláštní znaky nebo &#x27;?&#x27; v ERDDAP .
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="fileaccessbaseurl">souborAccessBaseUrl<a href="#fileaccessbaseurl" class="hash-link" aria-label="Přímý odkaz nasouborAccessBaseUrl" title="Přímý odkaz nasouborAccessBaseUrl" translate="no">​</a></h6>
<ul>
<li class="">** <a href="#fileaccessbaseurl" class="">souborAccessBaseUrl</a> a souborAccessSuffix** jsou velmi zřídka používané atributy, které nejsou z žádného standardu. Pokud má EDDTable sloupec názvy souborů přístupných k webu (např. obraz, video nebo audio soubory) , můžete přidat</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;fileAccessBaseUrl&quot;&gt;*someBaseURL*&lt;/a&gt;  </span><br></span></code></pre></div></div>
<p>zadat základní URL (končí s /) potřeba, aby jména souborů byla kompletní URL. V neobvyklých případech, například když má sloupec odkazy na soubory .png, ale hodnoty chybí &quot;.png,&quot; můžete přidat</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;fileAccessSuffix&quot;&gt;*someSuffix*&lt;/a&gt;  </span><br></span></code></pre></div></div>
<p>(například&lt;att name=&quot;fileAccessSuffix.png&lt;/a&gt;)
zadat příponu, která má být přidána, aby jména souborů byla kompletní URL. Pak pro .htmlTable odpovědi, ERDDAP™ zobrazí název souboru jako odkaz na plnou URL (základ Url plus název souboru plus přípona) .</p>
<p>Jestli chceš ERDDAP™ sloužit souvisejícím souborům, oddělovat <a href="#eddtablefromfilenames" class="">EDDTableFromFileNames</a> Soubor údajů pro tyto soubory (může se jednat o soukromý soubor údajů) .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="fileaccessarchiveurl">souborAccessArchive Url<a href="#fileaccessarchiveurl" class="hash-link" aria-label="Přímý odkaz nasouborAccessArchive Url" title="Přímý odkaz nasouborAccessArchive Url" translate="no">​</a></h6>
<ul>
<li class=""><a href="#fileaccessarchiveurl" class=""> <strong>souborAccessArchive Url</strong> </a> je velmi zřídka používaný atribut, který není z žádného standardu. Pokud má EDDTable sloupec názvy souborů přístupných k webu (např. obraz, video nebo audio soubory) které jsou přístupné prostřednictvím archivu (např. .zip soubor) přístupná přes URL, použití&lt;att name=&quot;fileAccessArchiveUrl] <em>URL</em> &lt;/att&gt; zadat URL pro archiv.</li>
</ul>
<p>Jestli chceš ERDDAP™ sloužit archivnímu souboru, oddělovat <a href="#eddtablefromfilenames" class="">EDDTableFromFileNames</a> Soubor údajů pro tento soubor (může se jednat o soukromý soubor údajů) .</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="ioos_category">ioos\_category<a href="#ioos_category" class="hash-link" aria-label="Přímý odkaz naioos\_category" title="Přímý odkaz naioos\_category" translate="no">​</a></h6>
<ul>
<li class="">
<p><a href="#ioos_category" class=""> ** ioos\_category ** </a> -- Jedná se o požadovaný atribut proměnné, pokud&lt;proměnnéMusíHaveIoosKategorie&gt; je nastavena na true (výchozí) v <a class="" href="/cs/docs/server-admin/deploy-install#setupxml">setup.xml</a> ; jinak je to VOLITELNÉ.
Například,&lt;att name=&quot; ioos\_category &quot;&gt;Slanost&lt;/att &gt;
Kategorie jsou z <a href="https://ioos.noaa.gov/" target="_blank" rel="noopener noreferrer" class=""> NOAA Integrovaný systém pozorování oceánu (IOOS) </a> .</p>
</li>
<li class="">
<p>(K psaní) Nejsme si vědomi formálních definic těchto jmen.</p>
</li>
<li class="">
<p>Hlavní názvy jsou ze Zdenky Willisové.ppt &quot;Integrovaný systém pozorování oceánu&quot; (IOOS)   NOAA &#x27;s přístupem k budování počáteční provozní schopnosti&#x27; a z <a href="https://www.iooc.us/wp-content/uploads/2010/11/US-IOOS-Blueprint-for-Full-Capability-Version-1.0.pdf" target="_blank" rel="noopener noreferrer" class="">US IOOS plán</a>   (Strana 1-5) .</p>
</li>
<li class="">
<p>Je pravděpodobné, že tento seznam bude v budoucnu revidován. Pokud máte nějaké požadavky, prosím, e-mail Chris. John v Noaa.gov.</p>
</li>
<li class="">
<p>ERDDAP™ podporuje větší seznam kategorií než IOOS, protože Bob Simons přidal další jména (většinou založené na jménech vědeckých oborů, např. biologie, ekologie, meteorologie, statistika, taxonomie) pro jiné typy údajů.</p>
</li>
<li class="">
<p>Aktuální platné hodnoty ERDDAP™ jsou Bathymetrie, Biologie, Spodní znak, CO2, Barevné rozpuštěné organické hmoty, Kontaminanty, Proudy, Rozpuštěné živiny, Rozpuštěné O2, Ekologie, Ryby Hojnost, Ryby Druhy, Teplá Flux, Hydraologie, Distribuce ledu, Identifikátor, Umístění, Meteorologie, Barva oceánu, Optické vlastnosti, Ostatní, Patogeny, Fytoplankton Druhy, Tlak, Produktivita, Kvalita, Slanost, Úroveň moře, Statistiky, Průtok proudu, Povrchové vlny, Taxonomie, Teplota, Čas, Total Suspended Matter, Neznámý, Wind, Zooplankton Druhy, a Zooplankton Abundance.</p>
</li>
<li class="">
<p>Mezi různými pojmy je určité překrytí a nejednoznačnost - snažte se.</p>
</li>
<li class="">
<p>Pokud přidáte ioos\_category na seznam&lt; categoryAttributes &gt; v ERDDAP &#x27;s <a class="" href="/cs/docs/server-admin/deploy-install#setupxml">setup.xml</a> soubor, uživatelé mohou snadno najít datové soubory s podobnými údaji prostřednictvím ERDDAP &#x27;Search for Datasets by Category&#x27; na domovské stránce.
<a href="https://coastwatch.pfeg.noaa.gov/erddap/categorize/ioos_category/index.html?page=1&amp;itemsPerPage=1000" target="_blank" rel="noopener noreferrer" class="">Zkuste použít ioos\_category hledat soubory údajů o zájmech.</a></p>
</li>
<li class="">
<p>Tam byl <a href="https://groups.google.com/forum/#!topic/erddap/TnwbgzpSS0w" target="_blank" rel="noopener noreferrer" class="">diskuse o ERDDAP™ a ioos\_category v ERDDAP™ Google Group.</a></p>
</li>
</ul>
<p>Můžete být v pokušení nastavit&lt;proměnnéMusíHaveIoosKategorie&gt; false tak, aby tento atribut nebyl vyžadován. (&quot;Pfft! Co je mi do toho?&quot;) Některé důvody k tomu, aby to bylo správné (výchozí) a použití ioos\_category jsou:</p>
<ul>
<li class="">Pokud nastavení.xml&lt;proměnnéMusí mítIoosKategorie&gt; je pravda, <a href="#generatedatasetsxml" class="">GenerovatDatasetsXml</a> vždy vytváří / navrhuje ioos\_category atribut pro každou proměnnou v každém novém datovém souboru. Tak proč to tam nenechat?</li>
<li class="">ERDDAP™ umožňuje uživatelům vyhledávat soubory zájmů podle kategorií. ioos\_category je velmi užitečná vyhledávací kategorie, protože joos\_kategorie (např. teplota) jsou docela široké. To dělá ioos\_category mnohem lepší pro tento účel než například mnohem jemnější CF standard\_name án (které nejsou pro tento účel tak dobré, protože všechny synonyma a mírné varianty, například, moře\_povrch\<em>teplota versus moře\</em> voda\_teplota) .
(Použití ioos\_category za tímto účelem je kontrolován&lt; categoryAttributes &gt; ve vašem setup.xml souboru.)
<a href="https://coastwatch.pfeg.noaa.gov/erddap/categorize/ioos_category/index.html?page=1&amp;itemsPerPage=1000" target="_blank" rel="noopener noreferrer" class="">Zkuste použít ioos\_category hledat soubory údajů o zájmech.</a></li>
<li class="">Tyto kategorie jsou z <a href="https://ioos.noaa.gov/" target="_blank" rel="noopener noreferrer" class=""> NOAA Integrovaný systém pozorování oceánu (IOOS) </a> . Tyto kategorie jsou zásadní pro popis mise IOOS. Pokud jste uvnitř NOAA , podpora ioos\_category je dobrá Jedna... NOAA co dělat. (Sleduj. <a href="https://www.youtube.com/watch?v=nBnCsMYm2yQ" target="_blank" rel="noopener noreferrer" class="">Jedna NOAA video</a> a inspirovat se!) Pokud jste v nějaké jiné americké nebo mezinárodní agentuře, nebo pracujete s vládními agenturami, nebo pracujete s jinými Ocean Observing System, není dobrý nápad spolupracovat s kanceláří IOOS USA?</li>
<li class="">Dříve nebo později možná budete chtít někoho jiného. ERDDAP™ odkaz na vaše soubory dat prostřednictvím <a href="#eddfromerddap" class=""> EDDGrid FromErddap</a> a <a href="#eddfromerddap" class="">EDDTableFromErddap</a> . Pokud druhý ERDDAP™ vyžaduje ioos\_category , vaše soubory musí mít ioos\_category v případě EDDGrid OdErddap a EddtableFromErddap do práce.</li>
<li class="">Je mnohem jednodušší zahrnout ioos\_category když vytvoříte soubor dat (Je to jen další věc, která ERDDAP™ vyžaduje přidání datového souboru do ERDDAP ) , než přidat to po faktu (Pokud jste se rozhodli ji použít v budoucnu) .
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="long_name">long\_name<a href="#long_name" class="hash-link" aria-label="Přímý odkaz nalong\_name" title="Přímý odkaz nalong\_name" translate="no">​</a></h6>
<ul>
<li class=""><a href="#long_name" class=""> ** long\_name ** </a>   ( <a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class=""> COARDS </a> , <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> a <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> Standardy metadat) je atribut proměnné v ERDDAP . Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;long\\_name&quot;&gt;Eastward Sea Water Velocity&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">ERDDAP™ používá long\_name pro značení os na grafech.</li>
<li class="">Osvědčené postupy: Kapitalizovat slova v long\_name jako by to byl titul (Získejte první slovo a všechna slova bez článku) . Nezahrnujte jednotky do long\_name . Dlouhé jméno by nemělo být příliš dlouhé (obvykle&lt;20 znaků), ale mělo by být více popisné než <a href="#destinationname" class=""> destinationName </a> , což je často velmi stručné.</li>
<li class="">Pokud &quot; long\_name &quot;není definován v proměnné&quot; <a href="#variable-addattributes" class="">zdrojAtributy</a> nebo&lt; addAttributes &gt;, ERDDAP™ bude generovat tím, že čistí <a href="#standard_name" class=""> standard\_name </a>   (pokud je přítomen) nebo destinationName .
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="missing_value">missing\_value<a href="#missing_value" class="hash-link" aria-label="Přímý odkaz namissing\_value" title="Přímý odkaz namissing\_value" translate="no">​</a></h6>
<ul>
<li class=""><a href="#missing_value" class=""> ** missing\_value ** </a> a <strong>\_Fill Hodnota</strong>   ( <a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class=""> COARDS </a> a <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> ) jsou proměnné atributy, které popisují číslo (například -9999) která se používá k vyjádření chybějící hodnoty. Například,</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;missing\_value&quot; <a href="#attributetype" class="">type=&quot;double&quot;</a>\&gt;-9999&lt;/att&gt;</p>
</blockquote>
<p>Pro String proměnné, výchozí pro oba je &quot;&quot; (prázdný řetězec) .
Pro numerické proměnné je výchozí hodnota pro obě proměnné NaN.</p>
<ul>
<li class="">ERDDAP™ podporuje obojí missing\_value a \_FillValue, protože některé datové zdroje jim přiřazují trochu jiný význam.</li>
<li class="">Pokud jsou přítomny, měly by mít stejný datový typ jako proměnná.</li>
<li class="">Pokud jsou data zabalena <a href="#scale_factor" class=""> scale\_factor nebo add\_offset </a> , missing\_value a hodnoty \_FillValue by měly být rovněž zabaleny. Podobně pro sloupec s hodnotami String date/time, které používají lokální <a href="#time_zone" class=""> time\_zone </a> , missing\_value a hodnoty \_FillValue by měly používat místní časové pásmo.</li>
<li class="">Pokud proměnná používá tyto speciální hodnoty, missing\_value a/nebo \_FillValue atributy jsou povinné.</li>
<li class="">Pro <a href="#time-units" class="">proměnné času a času</a>   (zda je zdrojem řetězec nebo číselný) , missing\_value s a \_FillValues se objeví jako &quot;&quot; (prázdný řetězec) když je čas napsán jako String a jako NaN, kdy je čas napsán jako dvojitý. Hodnoty zdroje pro missing\_value a \_FillValue se neobjeví v metadatech proměnné.</li>
<li class="">Pro proměnné String, ERDDAP™ vždy konvertuje jakékoliv missing\_value s nebo \_FillValue hodnoty dat do &quot;&quot; (prázdný řetězec) . Hodnoty zdroje pro missing\_value a \_FillValue se neobjeví v metadatech proměnné.</li>
<li class="">Pro číselné proměnné:
The missing\_value a \_FillValue se objeví v metadatech proměnné.
Pro některé výstupní datové formáty, ERDDAP™ tato speciální čísla zůstanou nedotčena, např. uvidíte -9999.
Pro ostatní výstupní datové formáty (zejména textové formáty jako .csv a .htmlTable ) , ERDDAP™ nahradí tato speciální čísla s NaN nebo &quot;&quot; .</li>
<li class="">Některé datové typy mají vlastní chybějící hodnoty, které nemusí být výslovně označeny missing\_value nebo atributy \_FillValue: float a dvojité proměnné mají NaN (Není číslo) , Hodnoty Stringu používají prázdný řetězec a hodnoty znaku mají znak \uffff   (znak #65535, což je hodnota Unicode for Not a Character) . Datové typy Integer nemají vlastní chybějící hodnoty.</li>
<li class="">Pokud má celá proměnná chybějící hodnotu (například prázdná pozice v souboru .csv) , ERDDAP™ bude interpretovat hodnotu jako definovanou missing\_value nebo \_FillValue pro tuto proměnnou. Pokud žádný není definován, ERDDAP™ bude interpretovat hodnotu jako výchozí chybějící hodnotu pro tento datový typ, což je vždy maximální hodnota, kterou může tento datový typ držet:
127 pro byte proměnné, 32767 pro zkratku, 2147483647 pro int, 9223372036854775807 dlouho,
255 pro ubyte, 65535 pro ukrote, 4294967295 pro uint a 184467440737095516115 pro ulong.</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="add-_fillvalue-attributes">ADD \_FillValue ATTRIBUTES ?<a href="#add-_fillvalue-attributes" class="hash-link" aria-label="Přímý odkaz naADD \_FillValue ATTRIBUTES ?" title="Přímý odkaz naADD \_FillValue ATTRIBUTES ?" translate="no">​</a></h6>
<ul>
<li class=""><a href="#add-_fillvalue-attributes" class=""> ADD \_FillValue ATTRIBUTES ?</a><br>
<!-- -->Pokaždé ERDDAP™ načítá soubor údajů, kontroluje, zda proměnné s celočíselný zdroj datové typy mají definované missing\_value nebo atribut \_FillValue. Pokud proměnná ne, pak ERDDAP™ vytiskne zprávu do souboru záznamu (začínající na &quot;Přidat \_FillValue Attribute?&quot;) doporučuje ERDDAP™ Správce přidá \_Fill Hodnota atributu pro tuto proměnnou v datasets.xml . Je velmi užitečné pro každou proměnnou mít \_FillValue nebo missing\_value protože chybějící hodnoty jsou vždy možné, např. pokud daný soubor v souboru nemá danou proměnnou, ERDDAP™ musí být schopen tuto proměnnou prezentovat jako všechny chybějící hodnoty této proměnné. Pokud se rozhodnete, že proměnná by neměla mít atribut \_FillValue, můžete přidat
&lt;att names=&quot;\_FillValue&gt;null&lt;/att &gt; místo toho, který potlačí zprávu pro to datasetID +variační kombinace v budoucnu.</li>
</ul>
<p>Pokaždé ERDDAP™ spustí se, shromažďuje všechna doporučení do zprávy, která je zapsána do souboru protokolu (začínáme s &quot; ADD \_FillValue ATTRIBUTES ?&quot;) , e-mailem ERDDAP™ správce a napsaný do datového souboru CSV v \[ velkýRodič rodičů \] /logy/ adresář. Pokud chcete, můžete použít program GenerateDatasetsXml (a možnost AddFillValueAttributes) použít všechny návrhy v CSV souboru na datasets.xml Složka. Pro všechny datasetID /proměnné kombinace v tomto souboru, pokud se rozhodnete, že není třeba přidat přiřazený, můžete změnit atribut&lt;att names=&quot;\_FillValue&gt;null&lt;/att &gt; k potlačení tohoto doporučení datasetID +variační kombinace v budoucnu.</p>
<p>Tohle je důležité!
Jak často říká Bob: bylo by to špatné (a trapné) pokud byly některé důkazy o globálním oteplování způsobeny neidentifikovanými chybějícími hodnotami v údajích (Například hodnoty teplot 99 nebo 127 stupňů\_ C, které měly být označeny jako chybějící hodnoty, a tím zkreslily střední a/nebo střední statistiky vyšší) .</p>
<ul>
<li class="">\_FillValue a missing\_value hodnoty dané proměnné v různých zdrojových souborech musí být konzistentní; jinak ERDDAP™ přijme soubory s jednou sadou hodnot a všechny ostatní soubory odmítne jako &quot;Špatné soubory.&quot; Abych vyřešil problém,<!-- -->
<ul>
<li class="">Pokud jsou soubory roštovány .nc soubory, můžete použít <a href="#eddgridfromncfilesunpacked" class=""> EDDGrid FromNcFilesUnpacked</a> .</li>
<li class="">Pokud jsou soubory tabulkové datové soubory, můžete použít EDDTableFrom... &#x27; <a href="#standardizewhat" class="">standardizovat Co?</a> říct ERDDAP standardizovat zdrojové soubory, jak jsou čteny do ERDDAP .</li>
<li class="">Pro těžší problémy, můžete použít <a href="#ncml-files" class="">NcML</a> nebo <a href="#netcdf-operators-nco" class=""> NCO </a> vyřešit problém.
 </li>
</ul>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="scale_factor">scale\_factor<a href="#scale_factor" class="hash-link" aria-label="Přímý odkaz nascale\_factor" title="Přímý odkaz nascale\_factor" translate="no">​</a></h6>
<ul>
<li class=""><a href="#scale_factor" class=""> ** scale\_factor ** </a>   (výchozí hodnota = 1) a ** add\_offset **   (výchozí = 0)   ( <a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class=""> COARDS </a> a <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> ) jsou VOLITELNÉ proměnné atributy, které popisují data, která jsou zabalena do jednoduššího datového typu prostřednictvím jednoduché transformace.</li>
<li class="">Pokud jsou přítomny, jejich datový typ se liší od typu zdrojových dat a popisuje datový typ cílových hodnot.
Například zdroj dat mohl uložit float datové hodnoty s jednou desetinnou čárkou zabalenou jako krátké inty (int16) , použitím scale\_factor = 0, 1 a add\_offset Například</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;scale\_factor&quot; <a href="#attributetype" class="">type=&quot;float&quot;</a>\&gt;0.1&lt;/att&gt;<br>
<!-- -->&lt;att name=&quot;add\_offset&quot; <a href="#attributetype" class="">type=&quot;float&quot;</a>\&gt;0&lt;/att&gt;</p>
</blockquote>
<p>V tomto příkladu, ERDDAP™ vybalí data a prezentuje je uživateli jako float data hodnoty.</p>
<ul>
<li class="">Pokud je přítomen, ERDDAP™ bude extrahovat hodnoty z těchto atributů, odstranit atributy a automaticky rozebrat data pro uživatele:
místo určení Hodnota = zdroj Hodnota \* scale\_factor + add\_offset<br>
<!-- -->Nebo, řekl jiný způsob:
unpackedValue = baleno Hodnota \* scale\_factor + add\_offset</li>
<li class="">The scale\_factor a add\_offset hodnoty dané proměnné v různých zdrojových souborech musí být konzistentní; jinak ERDDAP™ přijme soubory s jednou sadou hodnot a všechny ostatní soubory odmítne jako &quot;Špatné soubory.&quot; Abych vyřešil problém,<!-- -->
<ul>
<li class="">Pokud jsou soubory roštovány .nc soubory, můžete použít <a href="#eddgridfromncfilesunpacked" class=""> EDDGrid FromNcFilesUnpacked</a> .</li>
<li class="">Pokud jsou soubory tabulkové datové soubory, můžete použít EDDTableFrom... &#x27; <a href="#standardizewhat" class="">standardizovat Co?</a> říct ERDDAP standardizovat zdrojové soubory, jak jsou čteny do ERDDAP .</li>
<li class="">Pro těžší problémy, můžete použít <a href="#ncml-files" class="">NcML</a> nebo <a href="#netcdf-operators-nco" class=""> NCO </a> vyřešit problém.
 </li>
</ul>
</li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="standard_name">standard\_name<a href="#standard_name" class="hash-link" aria-label="Přímý odkaz nastandard\_name" title="Přímý odkaz nastandard\_name" translate="no">​</a></h6>
<ul>
<li class=""><a href="#standard_name" class=""> ** standard\_name ** </a>   (z <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> standard metadat) je atribut proměnné v ERDDAP . CF vede seznam povolených <a href="https://cfconventions.org/Data/cf-standard-names/current/build/cf-standard-name-table.html" target="_blank" rel="noopener noreferrer" class="">Standardní názvy CF</a> . Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;standard\\_name&quot;&gt;eastward\\_sea\\_water\\_velocity&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">Pokud přidáte standard\_name k atributům proměnných a k přidání standard\_name na seznam&lt; categoryAttributes &gt; v ERDDAP &#x27;s <a class="" href="/cs/docs/server-admin/deploy-install#setupxml">setup.xml</a> soubor, uživatelé mohou snadno najít datové soubory s podobnými údaji prostřednictvím ERDDAP &#x27;Search for Datasets by Category&#x27; na domovské stránce.</li>
<li class="">Pokud zadáte CF standard\_name u proměnné atribut jednotek proměnné nemusí být totožný s kanonickými jednotkami uvedenými pro standardní název v tabulce názvu CF Standard Name, ale jednotky MUSÍ být konvertibilní ke kanonickým jednotkám. Například všechny CF související s teplotou standard\_name &quot;K&quot; (Kelvin) jako kanonické jednotky. Takže proměnná s teplotou související standard\_name Musí mít jednotky K, stupeň\_C, stupeň\_F, nebo některé varianty UDUnits těchto názvů, protože jsou všechny vzájemně proměnitelné.</li>
<li class="">Osvědčené postupy: Část síly <a href="https://en.wikipedia.org/wiki/Controlled_vocabulary" target="_blank" rel="noopener noreferrer" class="">kontrolované slovní zásoby</a> pochází z používání pouze podmínek v seznamu. Takže doporučujeme držet se pojmů definovaných v kontrolovaném slovníku, a doporučujeme ne vymýšlet termín, pokud není vhodný v seznamu. Pokud potřebujete další podmínky, podívejte se, zda výbor norem je přidá do kontrolované slovní zásoby.</li>
<li class="">standard\_name hodnoty jsou jediné hodnoty atributu CF, které jsou případově citlivé. Všechny jsou vždy malé. Začínáme ERDDAP™ v1.82, GenerateDatasets budou převádět velká písmena na malá písmena. A když je soubor načten ERDDAP , velká písmena se tiše mění na malá písmena.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="time_precision">time\_precision<a href="#time_precision" class="hash-link" aria-label="Přímý odkaz natime\_precision" title="Přímý odkaz natime\_precision" translate="no">​</a></h6>
<ul>
<li class="">time\_precision je VOLITELNÝ atribut používaný ERDDAP™   (a žádné standardy metadat) místo <a href="#time-units" class="">proměnné času a času</a> , které mohou být v mřížkových datových souborech nebo tabulárních datech a axisVariable s nebo dataVariable s. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;time\\_precision&quot;&gt;1970-01-01&lt;/att&gt;  </span><br></span></code></pre></div></div>
<p>time\_precision určuje přesnost, která má být použita vždy ERDDAP™ formátuje časové hodnoty z této proměnné jako řetězce na webových stránkách, včetně .htmlTable reakce. Ve formátech souborů, kde ERDDAP™ formáty krát jako řetězce (například .csv a .json ) , ERDDAP™ pouze time\_precision - stanovený formát, pokud zahrnuje zlomkové sekundy; ERDDAP™ používá 1970-01-01T00:00:00 Formát Z.</p>
<ul>
<li class="">Platné hodnoty jsou 1970-01, 1970-01-01, 1970-01T00Z, 1970-01-01T00:00Z, 1970-01-01T00:00Z (výchozí) , 1970-01-01T00:00:0.0Z, 1970-01-01T00:00:00.00Z, 1970-01-01T00:00:0.000Z. \[ 1970 není možnost, protože je jedno číslo, takže ERDDAP™ nemůže vědět, jestli je to formátovaný časový řetězec (rok) nebo pokud je to nějaký počet sekund od 1970-01-01T00:00:00Z. \]</li>
<li class="">Pokud time\_precision není zadána nebo hodnota není shodná, použije se výchozí hodnota.</li>
<li class="">Tady, jako v jiných částech ERDDAP™ Předpokládá se, že všechna pole formátovaného času, která nejsou zobrazena, mají minimální hodnotu. Například 1985-07, 1985-07-01, 1985-07-01T00Z, 1985-07-01T00:00Z a 1985-07-01T00:00:00 Z jsou všechny považovány za rovnocenné, i když s různou úrovní přesnosti implikované. To odpovídá <a href="https://www.iso.org/iso/date_and_time_format" target="_blank" rel="noopener noreferrer" class="">ISO 8601:2004 &quot;extended&quot; Specifikace formátu času</a> .</li>
<li class=""><strong>UPOZORNĚNÍ:</strong> Měl (a) byste užívat pouze omezené množství time\_precision pokud <strong>všechny</strong> hodnoty údajů pro proměnnou mají pouze minimální hodnotu pro všechna pole, která jsou skryta.</li>
<li class="">Například můžete použít time\_precision z 1970-01-01, pokud mají všechny hodnoty dat hodinu = 0, minuta = 0, a druhá =0 (např. 2005-03-04T00:00:00Z a 2005-03-05T00:00:00Z) .</li>
<li class="">Například, nepoužívejte time\_precision ze dne 1970-01-01, pokud existují hodnoty non-0 hodiny, minuty nebo sekund, (např. 2005-03-05T12:00:00Z) protože hodnota nedefaultní hodiny by nebyla zobrazena. Jinak, pokud uživatel požádá o všechna data s time=2005-03-05, žádost nečekaně selže.
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="time_zone">time\_zone<a href="#time_zone" class="hash-link" aria-label="Přímý odkaz natime\_zone" title="Přímý odkaz natime\_zone" translate="no">​</a></h6>
<ul>
<li class=""><a href="#time_zone" class=""> ** time\_zone ** </a></li>
<li class="">time\_zone je VOLITELNÝ atribut používaný ERDDAP™   (a žádné standardy metadat) místo <a href="#time-units" class="">proměnné času a času</a> , které mohou být v mřížkových datových souborech nebo souborech tabulek.</li>
<li class="">Výchozí je &quot; Zulu &quot; (což je moderní časová zóna verze GMT) .</li>
<li class="">Základní informace: &quot;časové offsety&quot; (např. Pacific Standard Time, -08:00, GMT-8) jsou pevné, specifické, offsety vzhledem k Zulu   (GMT) . Naproti tomu &quot;časové zóny&quot; jsou mnohem složitější věci, které jsou ovlivněny úsporou denního světla (např. &quot;US/Pacific&quot;) , které měly různá pravidla na různých místech v různých časech. Časová pásma mají vždy jména, protože nemohou být shrnuta jednoduchou offsetovou hodnotou. (viz sloupec &quot;TZ database names&quot; v tabulce v <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones" target="_blank" rel="noopener noreferrer" class="">https://en.wikipedia.org/wiki/List\_of\_tz\_database\_time\_zones</a> ) . ERDDAP &#x27;s time\_zone atribut vám pomůže vypořádat se s místními daty z určitého časového pásma (např. 1987-03-25T17:32:05 Tichý oceán Čas) . Pokud máte řetězec nebo numerická data času s (pevný) časový posun, měli byste jednoduše upravit data na Zulu   (Což je co ERDDAP™ chce) určením jiného základního času v atributu jednotek (např. &quot;hodiny od 1970-01-01T08:00Z,&quot; zaznamenejte T08 pro upřesnění časové kompenzace) , a vždy zkontrolujte výsledky, abyste získali výsledky, které chcete.</li>
<li class="">Pro proměnné časového razítka se zdrojovými daty ze Strings vám tento atribut umožňuje určit časové pásmo, které vede ERDDAP™ převést na místní čas-zóna zdrojové časy (někteří ve standardním čase, někteří v denním světle šetří čas) do Zulu časy (které jsou vždy ve standardním čase) . Seznam platných názvů časových pásem je pravděpodobně totožný se seznamem ve sloupci TZ <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones" target="_blank" rel="noopener noreferrer" class="">https://en.wikipedia.org/wiki/List\_of\_tz\_database\_time\_zones</a> . Společná americká časová pásma jsou: USA/Hawaii, USA/Alaska, USA/Pacific, USA/Mountain, USA/Arizona, USA/Central, USA/Východ.</li>
<li class="">Pro proměnné časového razítka s číselnými zdrojovými daty můžete zadat &quot; time\_zone &quot; atribut, ale hodnota musí být &quot; Zulu &quot;nebo &quot;UTC.&quot; Pokud potřebujete podporu pro jiná časová pásma, prosím e-mail Chris. John at noaa.gov .
 </li>
</ul>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="legacy_time_adjust">odkaz_time_adjust<a href="#legacy_time_adjust" class="hash-link" aria-label="Přímý odkaz naodkaz_time_adjust" title="Přímý odkaz naodkaz_time_adjust" translate="no">​</a></h6>
<ul>
<li class=""><a href="#legacy_time_adjust" class=""> <strong>odkaz_time_adjust</strong> </a> Začínáme ERDDAP™ 2.29.0, časové proměnné fungují trochu jinak. Ve vzácných případech, s největší pravděpodobností při užívání <code>dny od</code> a rok před 1582 (tak <code>dny od 0000-01-01</code> nebo <code>den od 1-1- 1 00:00: 0. 0</code> ) budete muset uvést pro úpravu proměnné datum. Důvodem je ERDDAP™ pomocí java.time knihovny spravovat data interně. Existují některé soubory, které vyžadují použití staré GregorianKalendář knihovny, aby bolavé správné data.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;axisVariable&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;sourceName&gt;time&lt;/sourceName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;destinationName&gt;time&lt;/destinationName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;!-- sourceAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ... removed several lines ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;units&quot;&gt;days since 1-1-1 00:00:0.0&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/sourceAttributes --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ... removed several lines ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;att name=&quot;legacy_time_adjust&quot;&gt;true&lt;/att&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/addAttributes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/axisVariable&gt;</span><br></span></code></pre></div></div>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="units">jednotky<a href="#units" class="hash-link" aria-label="Přímý odkaz najednotky" title="Přímý odkaz najednotky" translate="no">​</a></h6>
<ul>
<li class=""><a href="#units" class=""> <strong>jednotky</strong> </a>   ( <a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class=""> COARDS </a> , <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> a <a href="https://wiki.esipfed.org/Attribute_Convention_for_Data_Discovery_1-3" target="_blank" rel="noopener noreferrer" class="">ACDD</a> standard metadat) definuje jednotky hodnot dat. Například,</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;att name=&quot;units&quot;&gt;degree\\_C&lt;/att&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">
<p>&quot;jednotky&quot; jsou povinné buď jako zdrojAttribute, nebo jako addAttribute pro &quot;time&quot; proměnné a je STRONGLIE DOPORUČEN pro jiné proměnné, kdykoli je to vhodné (Což je skoro vždy.) .</p>
</li>
<li class="">
<p>Obecně doporučujeme <a href="https://www.unidata.ucar.edu/software/udunits/" target="_blank" rel="noopener noreferrer" class="">UDjednotky</a> \ kompatibilní jednotky, které vyžadují <a href="https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html" target="_blank" rel="noopener noreferrer" class=""> COARDS </a> a <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> standardy.</p>
</li>
<li class="">
<p>Dalším společným standardem je <a href="https://unitsofmeasure.org/ucum.html" target="_blank" rel="noopener noreferrer" class="">UCUM</a> -- Unified Code for Units of Measure. <a href="https://www.ogc.org/" target="_blank" rel="noopener noreferrer" class=""> OGC </a> služby jako např. <a href="https://www.ogc.org/standards/sos" target="_blank" rel="noopener noreferrer" class=""> SOS </a> , <a href="https://www.ogc.org/standards/wcs" target="_blank" rel="noopener noreferrer" class=""> WCS </a> a <a href="https://www.ogc.org/standards/wms" target="_blank" rel="noopener noreferrer" class=""> WMS </a> vyžaduje UCUM a často se na UCUM odkazuje jako na UOM (Jednotky opatření) .</p>
</li>
<li class="">
<p>Doporučujeme použít jednu jednotku standard pro všechny soubory souborů ve vašem ERDDAP . Měl bys to říct. ERDDAP™ který standard používáte&lt;jednotky\_standard&gt;, ve Vašem <a class="" href="/cs/docs/server-admin/deploy-install#setupxml">setup.xml</a> Složka.</p>
</li>
<li class="">
<p>Jednotky dané proměnné v různých zdrojových souborech musí být konzistentní. Pokud máte sběr datových souborů, kde jedna podmnožina souborů používá různé hodnoty jednotek než jedna nebo více dalších podskupin souborů (například,
&quot;days since 1985-01-01&quot; versus &quot;days since 2000-01-01,&quot;
&quot;stupeň\_Celsius&quot; versus &quot;deg\_C,&quot; nebo
&quot;uzel&quot; versus &quot;m/s&quot;) musíte najít způsob, jak standardizovat hodnoty jednotek, jinak, ERDDAP™ načte pouze jednu podmnožinu souborů. Přemýšlejte o tom: pokud má jeden soubor windSpeed jednotky=knots a druhý má windSpeed jednotky=m/s, pak by hodnoty ze dvou souborů neměly být zahrnuty do stejného souhrnného souboru.</p>
<ul>
<li class="">Pokud jsou soubory roštovány .nc soubory, v mnoha situacích můžete použít <a href="#eddgridfromncfilesunpacked" class=""> EDDGrid FromNcFilesUnpacked</a> .</li>
<li class="">Pokud jsou soubory tabulkové datové soubory, v mnoha situacích můžete použít EDDTableFrom... &#x27; <a href="#standardizewhat" class="">standardizovat Co?</a> říct ERDDAP standardizovat zdrojové soubory, jak jsou čteny do ERDDAP .</li>
<li class="">Pro těžší problémy, můžete použít <a href="#ncml-files" class="">NcML</a> nebo <a href="#netcdf-operators-nco" class=""> NCO </a> vyřešit problém.</li>
</ul>
</li>
<li class="">
<p>Norma CF sekce 8.1 říká, že pokud jsou data proměnné zabalena přes <a href="#scale_factor" class=""> scale\_factor nebo add\_offset </a> , &quot;Jednotky proměnné by měly být reprezentativní pro rozbalená data.&quot;</p>
</li>
<li class="">
<p><a href="#time-units" class="">Pro proměnné času a času,</a> buď proměnná je <a href="#variable-addattributes" class="">zdrojAtributy</a> nebo&lt; addAttributes &gt; (který má přednost) Musí mít <a href="#units" class="">jednotky</a> což je buď</p>
</li>
<li class="">
<p>Pro proměnné časové osy nebo proměnné časových údajů s číselnými údaji: <a href="https://www.unidata.ucar.edu/software/udunits/" target="_blank" rel="noopener noreferrer" class="">UDjednotky</a> \ kompatibilní řetězec (s formátem <em>jednotky</em> od <em>baseTime</em> ) popis toho, jak interpretovat hodnoty času zdroje (například sekundy od 1970-01-01T00:00:00Z) .</p>
</li>
</ul>
<p><em>jednotky</em> může být některý z:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    ms, msec, msecs, millis, millisec, millisecs, millisecond, milliseconds,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    s, sec, secs, second, seconds, m, min, mins, minute, minutes, h, hr, hrs, hour, hours,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    d, day, days, week, weeks, mon, mons, month, months, yr, yrs, year, or years.  </span><br></span></code></pre></div></div>
<p>Technicky vzato, ERDDAP™ NETÝKÁ SE UDUNITS standardní při převodu &quot;years since&quot; a &quot;months since&quot; časové hodnoty do &quot;seconds since&quot; . The UDUNITS standard definuje rok jako pevnou jedinou hodnotu: 3.15569259747e7 sekund. A UDUNITS definuje měsíc jako rok/12. Bohužel, většina/všechny soubory údajů, které jsme viděli, že použití &quot;years since&quot; nebo &quot;months since&quot; jasně zamýšlejí hodnoty jako kalendářní roky nebo kalendářní měsíce. Například, 3 &quot;months since 1970-01-01&quot; má obvykle znamenat 1970-04-01. Takže, ERDDAP™ interpretuje &quot;years since&quot; a &quot;months since&quot; jako kalendářní roky a měsíce, a ne přesně sledovat UDUNITS standardní.</p>
<p>The <em>baseTime</em> musí být ISO 8601:2004 (E) Name ( yyyy-MM-dd &#x27;T&#x27;HH:mm<!-- -->:ssZ<!-- -->, například, 1970-01-01T00:00:00Z) , nebo některé změny, že (například s chybějícími částmi na konci) . ERDDAP™ se snaží pracovat s širokou škálou variant tohoto ideálního formátu, například &quot;1970-1-1 0:0:0&quot; je podporován. Pokud informace o časovém pásmu chybí, předpokládá se, že se jedná o Zulu časové pásmo (AKA GMT) . I kdyby byl stanoven jiný časový posun, ERDDAP™ Nikdy nepoužívá Daylight Saving Time. Pokud základnaTime používá jiný formát, musíte použít&lt; addAttributes &gt; zadat nový řetězec jednotek, který používá změnu ISO 8601:2004 (E) formát (např. změna dnů od 1. ledna 1985 do dnů od roku 1985-01-01.</p>
<p>Můžete to otestovat. ERDDAP &#x27;s schopností vypořádat se s konkrétní <em>jednotky</em> od <em>baseTime</em> s ERDDAP &#x27;s <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html" target="_blank" rel="noopener noreferrer" class="">Časový převodník</a> . Doufejme, že můžete připojit číslo (první časová hodnota ze zdroje dat?) a jednotky řetězec, klikněte na Convert, a ERDDAP™ bude moci převést na ISO 8601:2004 (E) Zformátovaný časový řetězec data. Převodník vrátí chybovou zprávu, pokud řetězec jednotek není rozpoznatelný.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="string-time-units">Časové jednotky řetězce<a href="#string-time-units" class="hash-link" aria-label="Přímý odkaz naČasové jednotky řetězce" title="Přímý odkaz naČasové jednotky řetězce" translate="no">​</a></h6>
<ul>
<li class=""><a href="#string-time-units" class="">Pro atribut jednotek pro proměnné času nebo času s daty String,</a> musíte uvést <a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html" target="_blank" rel="noopener noreferrer" class="">Java.time.DatumForhmota</a> vzor (který je většinou kompatibilní s java.textem. SimpleDateFormat) který popisuje, jak interpretovat časy strun.</li>
</ul>
<p>Pro běžně používané časové formáty, které jsou variantami ISO 8601:2004 (E) standardní formát (např. 2018-01-02T00:00:00Z) , můžete zadat varianty yyyy-MM-dd &#x27;T&#x27;HH:mm<!-- -->:ssZ<!-- -->, například použití yyyy-MM-dd pokud má strunný čas pouze datum. Pro jakýkoli formát začínající na rrrr-M, ERDDAP používá speciální parser, který je velmi odpouštějící drobných variant ve formátu. Parser zvládá časová pásma ve formátu &quot;Z,&quot; &quot;UTC,&quot; &quot;GMT,&quot; ±XX<!-- -->:XX<!-- -->, ±XXXX a ±XX. Pokud části data nejsou specifikovány (například minuty a sekundy) , ERDDAP™ předpokládá nejnižší hodnotu pro toto pole (Například pokud nejsou zadány sekundy, předpokládá se sekundy =0) .</p>
<p>Pro všechny ostatní formáty strun je třeba přesně zadat řetězec formátu DateTimeForhmotu kompatibilní s časem. Jako yyyy-MM-dd &#x27;T&#x27;HH:mm<!-- -->:ssZ<!-- -->, tyto formátové řetězce jsou postaveny z znaků, které určují určitý typ informací z časového řetězce, např. m znamená minutu za hodinu. Pokud opakujete znak formátu určitý početkrát, dále zpřesní význam, např. m znamená, že hodnota může být specifikována libovolným počtem číslic, mm znamená, že hodnota musí být specifikována dvěma číslicemi. The Java dokumentace pro DateTimeForhmota je hrubý přehled a nedává tyto podrobnosti jasně najevo. Takže tady je seznam vzorových variací znaků a jejich význam v rámci ERDDAP™   (která se někdy trochu liší od Java &#x27;s DateTimeForhmota) :</p>
<table><thead><tr><th>Znaky</th><th>Příklady</th><th>Význam</th></tr></thead><tbody><tr><td>u, y, Y</td><td>\-4712, 0, 1, 10, 100, 2018</td><td>roční číslo, libovolný počet číslic. ERDDAP™ léčí y (roční období) a Y (týdenní rok, protože se často špatně používá místo y) jako u, <a href="https://en.wikipedia.org/wiki/Astronomical_year_numbering" target="_blank" rel="noopener noreferrer" class="">astronomické číslo roku</a> . Astronomické roky jsou pozitivní nebo negativní celá čísla, která nepoužívají BCE (BC) nebo CE (AD) era designators: 2018=2018CE, ..., 2=2CE, 1=1CE, 0=1BCE, -1=2BCE, -2=3BCE, ...</td></tr><tr><td>uuuu, rrrr, RRRR</td><td>\-4712, 0000, 0001, 0010, 0100, 2018</td><td>4 číslice astronomického roku čísla (Ignorovat všechny předchozí &#x27;-&#x27;)</td></tr><tr><td>Př</td><td>1, 01, 12</td><td>měsíční číslo, libovolný počet číslic (1= leden)</td></tr><tr><td>MM</td><td>01, 12</td><td>2 číslice (0 polstrovaný) měsíční číslo</td></tr><tr><td>MMM</td><td>Jan, Jan, JAN</td><td>3 písmeno anglického měsíce jméno, případ necitlivý</td></tr><tr><td>MMMM</td><td>Jan, Jan, Jan, Leden, leden, leden</td><td>3 písmeno nebo celé anglické jméno měsíce, případ necitlivý</td></tr><tr><td>d</td><td>1, 01, 31</td><td>číslo dne měsíce, jakýkoli počet číslic</td></tr><tr><td>dd</td><td>01, 31</td><td>2 číslice (0 polstrovaný) Den v měsíci. První číslice může být prostor.</td></tr><tr><td>D</td><td>1, 001, 366</td><td>Den v roce, libovolný počet číslic, 001=Jan 1</td></tr><tr><td>DDD</td><td>001, 366</td><td>den v roce, 3 číslice, 001=Jan 1</td></tr><tr><td>OEEZ</td><td>Thu, THU, Thu</td><td>3 písmeno den v týdnu, hodnota je ignorována při analýze</td></tr><tr><td>OEEZ</td><td>Thu, THU, Thu, čtvrtek, čtvrtek, čtvrtek</td><td>3 písmeno nebo celý anglický den v týdnu, případ necitlivý, hodnota je ignorována při analýze</td></tr><tr><td>H</td><td>0, 00, 23</td><td>H hodina dne (0- 23) , libovolný počet číslic</td></tr><tr><td>HH</td><td>00, 23</td><td>HH hodina dne (00- 23) , 2 číslice. První číslice může být prostor.</td></tr><tr><td>a</td><td>AM, AM, PM, PM</td><td>AM nebo PM, citlivé na případy</td></tr><tr><td>h</td><td>12, 1, 01, 11</td><td>hodinová hodina (12, 1, 2, ... 11) , libovolný počet číslic</td></tr><tr><td>hh</td><td>12, 01, 11</td><td>hodinová hodina (12, 1, 2, ... 11) , 2 číslice. První číslice může být prostor.</td></tr><tr><td>K</td><td>0, 1, 11</td><td>hodina (0, 1, ...11) , libovolný počet číslic</td></tr><tr><td>KK</td><td>00, 01, 11</td><td>hodina-am-pm, 2 číslice</td></tr><tr><td>m</td><td>0, 00, 59</td><td>minuta za hodinu, libovolný počet číslic</td></tr><tr><td>mm</td><td>00, 59</td><td>minuta za hodinu, 2 číslice</td></tr><tr><td>án</td><td>0, 00, 59</td><td>druhá minuta, libovolný počet číslic</td></tr><tr><td>ss</td><td>00, 59</td><td>druhá minuta, 2 číslice</td></tr><tr><td>S</td><td>0, 000, 9, 999</td><td>zlomek sekundy, jako kdyby po desetinné čárce, jakýkoliv počet číslic</td></tr><tr><td>SS</td><td>00, 99</td><td>Setiny sekundy, 2 číslice</td></tr><tr><td>SSS</td><td>000, 999</td><td>tisíce sekund, 3 číslice</td></tr><tr><td>A</td><td>0, 0000, 86399999</td><td>milisekunda dne, libovolný počet číslic</td></tr><tr><td>AAAAAAAA</td><td>00000000, 86399999</td><td>milisekunda dne, 8 číslic</td></tr><tr><td>N</td><td>0, 00000000000000, 86399999999999</td><td>nanosekundu dne, libovolný počet číslic. In ERDDAP™ Tohle je zkrácené na nMillis.</td></tr><tr><td>NNNNNNNNNNNNNNN</td><td>00000000000000, 86399999999999999</td><td>Nanosekunda dne, 14 číslic. In ERDDAP™ Toto je zkráceno na nMillis.</td></tr><tr><td>n</td><td>0, 00000000000, 59999999999</td><td>nanosekundu sekundy, libovolný počet číslic. In ERDDAP™ Toto je zkráceno na nMillis.</td></tr><tr><td>nnnnnn[nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn]][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn][nn]]][nn][nn][nn][nn][nn]</td><td>00000000000, 59999999999</td><td>nanosekunda sekundy, 11 číslic. In ERDDAP™ Toto je zkráceno na nMillis.</td></tr><tr><td>XXX, ZZZ</td><td>Z, -08:00, +01:00</td><td>časové pásmo s formátem &quot;Z&quot; nebo ± (2 číslice hodiny offset) : (2 číslice minuty offset) . Tohle zabírá. <em>prostor</em> jako + (nestandardní) . ZZZ podpora &#x27;Z&#x27; je nestandardní, ale zabývá se společnou uživatelskou chybou.</td></tr><tr><td>XX, ZZ</td><td>Z -0800, +100</td><td>časové pásmo s formátem &quot;Z&quot; nebo ± (2 číslice hodiny offset) : (2 číslice minuty offset) . Tohle zabírá. <em>prostor</em> jako + (nestandardní) . ZZ podpora &#x27;Z&#x27; je nestandardní, ale zabývá se běžným uživatelským omylem.</td></tr><tr><td>X, Z</td><td>Z, -08, +01</td><td>časové pásmo s formátem &quot;Z&quot; nebo ± (2 číslice hodiny offset) : (2 číslice minuty offset) . Tohle zabírá. <em>prostor</em> jako + (nestandardní) . Z podpora &#x27;Z&#x27; je nestandardní, ale zabývá se běžným uživatelským omylem.</td></tr><tr><td>xxx</td><td>\-08:00, +01:00</td><td>časové pásmo s formátem ± (2 číslice hodiny offset) : (2 číslice minuty offset) . Tohle zabírá. <em>prostor</em> jako + (nestandardní) .</td></tr><tr><td>xx</td><td>\-0800, +0100</td><td>časové pásmo s formátem ± (2 číslice hodiny offset)  (2 číslice minuty offset) . Tohle zabírá. <em>prostor</em> jako + (nestandardní) .</td></tr><tr><td>x</td><td>\-08, +01</td><td>časové pásmo s formátem ± (2 číslice hodiny offset) . Tohle zabírá. <em>prostor</em> jako + (nestandardní) .</td></tr><tr><td>&#x27;</td><td>&quot;T,&quot; &quot;Z,&quot; &quot;GMT&quot;</td><td>start a konec série doslovných znaků</td></tr><tr><td>&#x27; &#x27; (dvě jediné citace)</td><td>&#x27; &#x27;</td><td>dvě jediné citace označuje doslovnou jedinou nabídku</td></tr><tr><td>\[  \]</td><td>\[   \]</td><td>začátek (&quot; \[ &quot;) a konec (&quot; \] &quot;) volitelného oddílu. Tato notace je podporována pouze pro doslovné znaky a na konci řetězce formátu.</td></tr><tr><td># { }</td><td># { }</td><td>vyhrazeno pro budoucí použití</td></tr><tr><td>G,L,Q,e,c,V,z,O,p</td><td></td><td>Tyto formátovací znaky jsou podporovány Java &#x27;s DateTimeForhmota, ale momentálně není podporován ERDDAP . Pokud potřebujete podporu, pošlete Chrisovi email. John at noaa.gov .</td></tr></tbody></table>
<p>Poznámky:</p>
<ul>
<li class="">V datovém čase s interpunkcí mohou mít číselné hodnoty variabilní počet číslic (Například v americkém formátu &quot;1/2/1985&quot; může být měsíc a datum 1 nebo 2 číslice) formát musí tedy používat jednopísmenné žetony, např. M/d/rrrr, které přijímají libovolný počet číslic za měsíc a datum.</li>
<li class="">Je-li počet číslic pro položku konstantní, např. 01/02/1985, uveďte počet číslic ve formátu, např. MM/dd/rrrr pro dvoumístný měsíc, dvoumístné datum a čtyřmístný rok.</li>
<li class="">Tyto formáty jsou složité pracovat s. Zadaný formát může pracovat pro většinu, ale ne pro všechny, časové řetězce pro danou proměnnou. Vždy zkontrolujte, zda formát, který zadáte, funguje podle očekávání ERDDAP pro všechny časové řetězce proměnné.</li>
<li class="">Pokud je to možné, GenerateDatasetXml navrhne řetězce ve formátu času.</li>
<li class="">Pokud potřebujete pomoct vytvořit formátovací řetězec, prosím email Chris. John at noaa.gov .</li>
</ul>
<p>Hlavní proměnná časových dat (pro soubor tabulkových dat) a proměnná hlavní časové osy (pro mřížkované soubory dat) jsou uznávány <a href="#destinationname" class=""> destinationName </a> Čas. Jejich metadata jednotek musí být řetězec jednotek kompatibilních s UDUnits pro číselné časové hodnoty, např. &quot;den od 1970-01-01&quot; (pro tabulkové nebo mřížkované soubory dat) nebo <a href="#string-time-units" class="">jednotky vhodné pro časy strun</a> , např. &quot;M/d/rrrr&quot; (pro soubor tabulkových dat) .</p>
<p>Různé časové jednotky v různých gridd .nc Soubory - Pokud máte sbírku mřížkovaných .nc soubory, kde pro časovou proměnnou jedna podmnožina souborů používá různé časové jednotky než jedna nebo více dalších podmnožin souborů, můžete použít <a href="#eddgridfromncfilesunpacked" class=""> EDDGrid FromNcFilesUnpacked</a> . Převádí časové hodnoty na &quot;seconds since 1970-01-01T00:00:00Z&quot; na nižší úrovni, a tím skrývá rozdíly, takže můžete vytvořit jeden soubor ze sbírky heterogenních souborů.</p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="timestamp-variables">Proměnné časového údaje<a href="#timestamp-variables" class="hash-link" aria-label="Přímý odkaz naProměnné časového údaje" title="Přímý odkaz naProměnné časového údaje" translate="no">​</a></h6>
<p><a href="#timestamp-variables" class="">Proměnné časového údaje</a> -- Každá jiná proměnná ( axisVariable nebo dataVariable , EDDGrid nebo EDDTable soubor) může být proměnná timeStamp. Časové proměnné jsou proměnné, které mají časové jednotky a data, ale mají&lt; destinationName &gt; jiná než čas. TimeStamp proměnné se chovají jako hlavní čas proměnné v tom, že převést zdroj je časový formát do &quot;seconds since 1970-01-01T00:00:00Z&quot; a/nebo ISO 8601:2004 (E) formát). ERDDAP™ rozpozná čas Proměnné známek podle jejich časové souvislosti &quot; <a href="#units" class="">jednotky</a> &quot; Metadata, která musí odpovídat tomuto pravidelnému výrazu &quot; \[ a-zA-Z \] + + +od + \[ 0-9 \] .+&quot; (pro číselné datum Například časy, &quot;seconds since 1970-01-01T00:00:00Z&quot; ) nebo být datem String ve formátu času obsahující &quot;uuuuu,&quot; &quot;rrrr&quot; nebo &quot;RRRR&quot; (Například, &quot; yyyy-MM-dd T&#x27;HH:mm<!-- -->:ssZ<!-- -->&quot;) . Ale použij prosím destinationName   &quot;time&quot; pro hlavní datum Časová proměnná.</p>
<p><strong>Vždy zkontrolujte svou práci, abyste si byli jisti, že časové údaje, které se objeví v ERDDAP™ je správná časová data.</strong> Práce s daty o čase je vždy ošemetná a chybovitá.</p>
<p>Viz <a href="#destinationname" class="">více informací o časových proměnných</a> .
ERDDAP™ má nástroj pro <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html" target="_blank" rel="noopener noreferrer" class="">Převést numerické Čas do/z doby řetězce</a> .
Viz <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html#erddap" target="_blank" rel="noopener noreferrer" class="">Jak ERDDAP™ Obchoduje s časem</a> .
 </p>
<h6 class="anchor anchorTargetStickyNavbar_Vzrq" id="valid_range">valid\_range<a href="#valid_range" class="hash-link" aria-label="Přímý odkaz navalid\_range" title="Přímý odkaz navalid\_range" translate="no">​</a></h6>
<ul>
<li class=""><a href="#valid_range" class=""> ** valid\_range ** nebo ** valid\_min ** a ** valid\_max ** </a> -- Jedná se o VOLITELNÉ proměnné atributy definované v <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html" target="_blank" rel="noopener noreferrer" class="">CF</a> Konvence metadat. Například,</li>
</ul>
<blockquote>
<p>&lt;att name=&quot;valid\_range&quot; <a href="#attributetype" class="">type=&quot;floatList&quot;</a>\&gt;0.0 40.0&lt;/att&gt;</p>
</blockquote>
<p>nebo</p>
<blockquote>
<p>&lt;att name=&quot;valid\_min&quot; <a href="#attributetype" class="">type=&quot;float&quot;</a>\&gt;0.0&lt;/att&gt;<br>
<!-- -->&lt;att name=&quot;valid\_max&quot; <a href="#attributetype" class="">type=&quot;float&quot;</a>\&gt;40.0&lt;/att&gt;</p>
</blockquote>
<ul>
<li class="">Pokud jsou přítomny, měly by mít stejný datový typ jako proměnná a uvádět platné minimální a maximální hodnoty údajů pro tuto proměnnou. Uživatelé by měli považovat hodnoty mimo tento rozsah za neplatné.</li>
<li class="">ERDDAP™ nepoužívá valid\_range . Řekl jsem to jinak: ERDDAP™ nepřevádí hodnoty dat mimo valid\<em>range \</em> Fill Hodnota nebo missing\_value . ERDDAP™ Prostě předá tato metadata a aplikaci nechá na vás.
Proč? Na to jsou ta metadata. Pokud by poskytovatel údajů chtěl, mohl převést hodnoty údajů mimo rámec valid\_range být \_FillValues. ERDDAP™ nehádá poskytovatele dat. Tento přístup je bezpečnější: pokud se později ukáže, že valid\_range byl příliš úzký nebo jinak nesprávný, ERDDAP™ nevymaže data.</li>
<li class="">Pokud jsou data zabalena <a href="#scale_factor" class=""> scale\_factor nebo add\_offset </a> , valid\_range , valid\_min a valid\_max by měl být balený datový typ a hodnoty. Od ERDDAP™ platí scale\_factor a add\_offset při zatížení souboru dat, ERDDAP™ vybalí valid\_range , valid\_min a valid\<em>max hodnoty tak, aby metadata místa určení (zobrazeno uživatelům) označuje rozbalený datový typ a rozsah.
Nebo, pokud vybalené\</em> valid\_range je přítomen atribut, bude přejmenován valid\_range kdy ERDDAP™ načítá data.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="removemvrows">&lt;Odstranit MVRows&gt;<a href="#removemvrows" class="hash-link" aria-label="Přímý odkaz na&lt;Odstranit MVRows&gt;" title="Přímý odkaz na&lt;Odstranit MVRows&gt;" translate="no">​</a></h5>
<ul>
<li class="">[ ** &lt;removeMVRows&gt; ** ] (#removemvrows) je VOLITELNÝ tag v záložce datasets.xml pro EDDTableFromFoles (včetně všech podtříd) Databáze, i když se používá pouze pro EDDTableFromMultidimNcFiles. Může mít hodnotu pravdy nebo lži. Například pravda
Tím se odstraní jakýkoliv blok řádků na konci skupiny, kde jsou všechny hodnoty missing\_value , \_FillValue, nebo CoHort ...Array nativní chybějící hodnota (nebo char=#32 pro CharArrays) . To je pro CF DSG Multidimenzional Array typ souboru a podobné soubory. Pokud je to pravda, je to správná zkouška a tak vždy načte všechny proměnné max dim, takže to může trvat déle.
Výchozí hodnota je falešná.
Doporučení -- Pokud je to pro váš datový soubor možné, doporučujeme nastavení odstranit MVRows na false. Nastavení odstraněníMVRows do true může výrazně zpomalit požadavky, i když může být potřeba pro některé soubory dat.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/datasets.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Upravit tuto stránku</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Dokumenty"><a class="pagination-nav__link pagination-nav__link--prev" href="/cs/docs/server-admin/deploy-update"><div class="pagination-nav__sublabel">Předchozí</div><div class="pagination-nav__label">Aktualizovat</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cs/docs/server-admin/additional-information"><div class="pagination-nav__sublabel">Další</div><div class="pagination-nav__label">Další informace</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Úvod</a><ul><li><a href="#some-assembly-required" class="table-of-contents__link toc-highlight">Některá montáž nutná</a></li><li><a href="#varaibles-in-datasetsxml" class="table-of-contents__link toc-highlight">Proměnné v datasets.xml</a></li><li><a href="#data-provider-form" class="table-of-contents__link toc-highlight">Poskytovatel údajů Formulář</a></li><li><a href="#tools" class="table-of-contents__link toc-highlight">Nástroje</a></li><li><a href="#generatedatasetsxml" class="table-of-contents__link toc-highlight">GenerovatDatasetsXml</a></li><li><a href="#dasdds" class="table-of-contents__link toc-highlight">DasDds</a></li><li><a href="#bonus-third-party-tool-erddap-lint" class="table-of-contents__link toc-highlight">Bonus Nástroj třetí strany: ERDDAP - Lint</a></li></ul></li><li><a href="#the-basic-structure-of-the-datasetsxml-file" class="table-of-contents__link toc-highlight">Základní struktura datasets.xml Soubor</a><ul><li><a href="#xinclude" class="table-of-contents__link toc-highlight">XInclude</a></li></ul></li><li><a href="#notes" class="table-of-contents__link toc-highlight">Poznámky</a><ul><li><a href="#choosing-the-dataset-type" class="table-of-contents__link toc-highlight">Výběr typu datové sady</a></li><li><a href="#serving-the-data-as-is" class="table-of-contents__link toc-highlight">Sloužit údaje, jak je</a></li><li><a href="#hint" class="table-of-contents__link toc-highlight">Nápověda</a></li><li><a href="#encoding-special-characters" class="table-of-contents__link toc-highlight">Kódování zvláštních znaků</a></li><li><a href="#xml-doesnt-tolerate-syntax-errors" class="table-of-contents__link toc-highlight">XML netoleruje chyby syntaxe</a></li><li><a href="#troubleshooting-tips" class="table-of-contents__link toc-highlight">Tipy proti potížím</a></li><li><a href="#special-variables" class="table-of-contents__link toc-highlight">Zvláštní proměnné</a></li><li><a href="#why-just-two-basic-data-structures" class="table-of-contents__link toc-highlight">Proč jen dvě základní datové struktury?</a></li><li><a href="#dimensions" class="table-of-contents__link toc-highlight">Rozměry</a></li><li><a href="#projected-gridded-data" class="table-of-contents__link toc-highlight">Promítnutá data</a></li><li><a href="#data-types" class="table-of-contents__link toc-highlight">Typy údajů</a></li><li><a href="#data-type-limitations" class="table-of-contents__link toc-highlight">Omezení typu údajů</a></li><li><a href="#data-type-comments" class="table-of-contents__link toc-highlight">Poznámky typu údajů</a></li><li><a href="#media-files" class="table-of-contents__link toc-highlight">Soubory médií</a></li><li><a href="#working-with-aws-s3-files" class="table-of-contents__link toc-highlight">Práce se soubory AWS S3</a></li><li><a href="#ncml-files" class="table-of-contents__link toc-highlight">NcML soubory</a></li><li><a href="#netcdf-operators-nco" class="table-of-contents__link toc-highlight">NetCDF Provozovatelé ( NCO )</a></li><li><a href="#limits-to-the-size-of-a-dataset" class="table-of-contents__link toc-highlight">Limity velikosti datové sady</a></li><li><a href="#switch-to-acdd-13" class="table-of-contents__link toc-highlight">Přepnout na ACDD-1.3</a></li><li><a href="#zarr" class="table-of-contents__link toc-highlight">Zarr</a></li></ul></li><li><a href="#list-of-types-datasets" class="table-of-contents__link toc-highlight">Seznam datových souborů typu</a><ul><li><a href="#eddgrid" class="table-of-contents__link toc-highlight">EDDGrid</a></li><li><a href="#eddtable" class="table-of-contents__link toc-highlight">EDDTabulka</a></li></ul></li><li><a href="#detailed-descriptions-of-dataset-types" class="table-of-contents__link toc-highlight">Podrobné popisy typů datových souborů</a><ul><li><a href="#eddgridfromdap" class="table-of-contents__link toc-highlight">EDDGrid FromDap</a></li><li><a href="#eddgridfromeddtable" class="table-of-contents__link toc-highlight">EDDGrid OdEDDTable</a></li><li><a href="#eddfromerddap" class="table-of-contents__link toc-highlight">EDD* from ERDDAP</a></li><li><a href="#eddgridfrometopo" class="table-of-contents__link toc-highlight">EDDGrid OdEtopa</a></li><li><a href="#eddgridfromfiles" class="table-of-contents__link toc-highlight">EDDGrid FromFiles</a></li><li><a href="#eddfromaudiofiles" class="table-of-contents__link toc-highlight">EDD*FromAudioFiles</a></li><li><a href="#eddgridfrommergeirfiles" class="table-of-contents__link toc-highlight">EDDGrid Z MergeIRFiles</a></li><li><a href="#eddgridfromncfiles" class="table-of-contents__link toc-highlight">EDDGrid FromNcFiles</a></li><li><a href="#eddgridfromncfilesunpacked" class="table-of-contents__link toc-highlight">EDDGrid FromNcFilesUnpacked</a></li><li><a href="#eddgridlonpm180" class="table-of-contents__link toc-highlight">EDDGrid LonPM180</a></li><li><a href="#eddgridlon0360" class="table-of-contents__link toc-highlight">EDDGrid Lon0360</a></li><li><a href="#eddgridsidebyside" class="table-of-contents__link toc-highlight">EDDGrid SideBySide</a></li><li><a href="#eddgridaggregateexistingdimension" class="table-of-contents__link toc-highlight">EDDGrid AgregátExistujícíRozměr</a></li><li><a href="#eddgridcopy" class="table-of-contents__link toc-highlight">EDDGrid Kopírovat</a></li><li><a href="#eddtablefromcassandra" class="table-of-contents__link toc-highlight">EDDTableFromCassandra</a></li><li><a href="#eddtablefromdapsequence" class="table-of-contents__link toc-highlight">EDDTableFromDapSekvence</a></li><li><a href="#eddtablefromdatabase" class="table-of-contents__link toc-highlight">EDDtableFromDatabase</a></li><li><a href="#eddtablefromeddgrid" class="table-of-contents__link toc-highlight">EDDTableFrom EDDGrid</a></li><li><a href="#eddtablefromfilenames" class="table-of-contents__link toc-highlight">EDDTableFromFileNames</a></li><li><a href="#eddtablefromfiles" class="table-of-contents__link toc-highlight">EDDTableFromFoles</a></li><li><a href="#eddtablefromasciiservice" class="table-of-contents__link toc-highlight">EDDTableFromAsciiService</a></li><li><a href="#eddtablefromasciiservicenos" class="table-of-contents__link toc-highlight">EDDTableFromAsciiServiceNOS</a></li><li><a href="#eddtablefromalldatasets" class="table-of-contents__link toc-highlight">EDDTableFromAllDatasets</a></li><li><a href="#eddtablefromasciifiles" class="table-of-contents__link toc-highlight">EDDTableFromAsciiFiles</a></li><li><a href="#eddtablefromawsxmlfiles" class="table-of-contents__link toc-highlight">EDDTableFrom AwsXmlFiles</a></li><li><a href="#eddtablefromcolumnarasciifiles" class="table-of-contents__link toc-highlight">EDDTableFromColumnarAsciiFiles</a></li><li><a href="#eddtablefromhttpget" class="table-of-contents__link toc-highlight">EDDTableFromHttpGet</a></li><li><a href="#eddtablefromhyraxfiles" class="table-of-contents__link toc-highlight">EDDTableFrom Hyrax Soubory</a></li><li><a href="#eddtablefrominvalidcrafiles" class="table-of-contents__link toc-highlight">EDDTableFromNeplatnéCRAFile</a></li><li><a href="#eddtablefromjsonlcsvfiles" class="table-of-contents__link toc-highlight">EDDTableFromJsoniCSVFiles</a></li><li><a href="#eddtablefrommultidimncfiles" class="table-of-contents__link toc-highlight">EDDTablefromMultidimNcFiles</a></li><li><a href="#eddtablefromncfiles" class="table-of-contents__link toc-highlight">EDDTableFromNcFiles</a></li><li><a href="#eddtablefromnccffiles" class="table-of-contents__link toc-highlight">EDDTableFromNcCFFiles</a></li><li><a href="#eddtablefromnccsvfiles" class="table-of-contents__link toc-highlight">EDDTableFromNccsvFiles</a></li><li><a href="#eddtablefromnos" class="table-of-contents__link toc-highlight">EDDTableFromNOS</a></li><li><a href="#eddtablefromobis" class="table-of-contents__link toc-highlight">EDDTableFromOBIS</a></li><li><a href="#eddtablefromparquetfiles" class="table-of-contents__link toc-highlight">EDDTableFromParquetFiles</a></li><li><a href="#eddtablefromsos" class="table-of-contents__link toc-highlight">EDDTableFrom SOS</a></li><li><a href="#eddtablefromthreddsfiles" class="table-of-contents__link toc-highlight">EDDTableFromThreddsFiles</a></li><li><a href="#eddtablefromwfsfiles" class="table-of-contents__link toc-highlight">EDDTableFrom WFS Soubory</a></li><li><a href="#eddtableaggregaterows" class="table-of-contents__link toc-highlight">EDDTableAggregateRows</a></li><li><a href="#eddtablecopy" class="table-of-contents__link toc-highlight">EDDtableCopy</a></li></ul></li><li><a href="#details-1" class="table-of-contents__link toc-highlight">Podrobnosti</a><ul><li><a href="#angulardegreeunits" class="table-of-contents__link toc-highlight">&lt;úhlovýRozhodněUnits&gt;</a></li><li><a href="#angulardegreetrueunits" class="table-of-contents__link toc-highlight">&lt;úhlováSouhlasíPravdaUnits&gt;</a></li><li><a href="#commonstandardnames" class="table-of-contents__link toc-highlight">&lt;Obecný standardJména&gt;</a></li><li><a href="#cacheminutes" class="table-of-contents__link toc-highlight">&lt;cacheMinutes&gt;</a></li><li><a href="#cacheclearminutes" class="table-of-contents__link toc-highlight">&lt;cachearMinutes&gt;</a></li><li><a href="#convertinterpolaterequestcsvexample" class="table-of-contents__link toc-highlight">&lt;ConvertI TálibánuRequestCSVexample&gt;</a></li><li><a href="#convertinterpolatedatasetidvariablelist" class="table-of-contents__link toc-highlight">&lt;ConvertI TipolateDatasetIDVariableList&gt;</a></li><li><a href="#converttopublicsourceurl" class="table-of-contents__link toc-highlight">&lt;convertToPublicSourceUrl&gt;</a></li><li><a href="#dataimagepngbase64" class="table-of-contents__link toc-highlight">údaje/png;base64,</a></li><li><a href="#drawlandmask" class="table-of-contents__link toc-highlight">drawLandMask</a></li><li><a href="#emaildiagnosticstoerddata" class="table-of-contents__link toc-highlight">&lt;emailDiagnostikaToErdData&gt;</a></li><li><a href="#graphbackgroundcolor" class="table-of-contents__link toc-highlight">&lt;grafBackgroundColor&gt;</a></li><li><a href="#ipaddressmaxrequests" class="table-of-contents__link toc-highlight">&lt;ipAddressMaxRequests&gt;</a></li><li><a href="#ipaddressmaxrequestsactive" class="table-of-contents__link toc-highlight">&lt;ipAddressMaxRequestsActive&gt;</a></li><li><a href="#ipaddressunlimited" class="table-of-contents__link toc-highlight">&lt;ipAddressUnlimited&gt;</a></li><li><a href="#loaddatasetsminminutes" class="table-of-contents__link toc-highlight">&lt;loadDatasetsMinMinutes&gt;</a></li><li><a href="#loaddatasetsmaxminutes" class="table-of-contents__link toc-highlight">&lt;loadDatasetsMaxMinutes&gt;</a></li><li><a href="#loglevel" class="table-of-contents__link toc-highlight">&lt;LogLevel&gt;</a></li><li><a href="#partialrequestmaxbytes-and-partialrequestmaxcells" class="table-of-contents__link toc-highlight">&lt;částečný požadavekMaxBytes&gt; a&lt;Částečná žádostMaxCells&gt;</a></li><li><a href="#requestblacklist" class="table-of-contents__link toc-highlight">&lt;ŽádostBlacklist&gt;</a></li><li><a href="#slowdowntroublemillis" class="table-of-contents__link toc-highlight">&lt;ZpomalilTalloubleMillis&gt;</a></li><li><a href="#subscriptionemailblacklist" class="table-of-contents__link toc-highlight">&lt;předplatnéEmailBlacklist&gt;</a></li><li><a href="#standard-text" class="table-of-contents__link toc-highlight">Standardní text</a></li><li><a href="#unusualactivity" class="table-of-contents__link toc-highlight">&lt;neobvyklé Aktivita&gt;</a></li><li><a href="#updatemaxevents" class="table-of-contents__link toc-highlight">&lt;Aktualizace MaxEvents&gt;</a></li><li><a href="#user" class="table-of-contents__link toc-highlight">&lt;uživatel&gt;</a></li><li><a href="#pathregex" class="table-of-contents__link toc-highlight">&lt;CestaRegex&gt;</a></li><li><a href="#dataset" class="table-of-contents__link toc-highlight">&lt;Databáze&gt;</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Doktoři</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cs/docs/intro">Dokumentace</a></li><li class="footer__item"><a class="footer__link-item" href="/cs/docs/contributing">Přispívá</a></li><li class="footer__item"><a class="footer__link-item" href="/cs/license">Licence</a></li><li class="footer__item"><a class="footer__link-item" href="/cs/changes">Změny</a></li><li class="footer__item"><a class="footer__link-item" href="/cs/cloud">Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/cs/docs/intro#support">Podpora/Kontakt</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Společenství</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cs/governance">Správa</a></li><li class="footer__item"><a class="footer__link-item" href="/cs/technical-board">Technická rada</a></li><li class="footer__item"><a href="https://groups.google.com/g/erddap" target="_blank" rel="noopener noreferrer" class="footer__link-item">ERDDAP™Uživatelská skupina<svg width="13.5" height="13.5" aria-label="(otevře v nové kartě)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://groups.google.com/g/erddap-announce" target="_blank" rel="noopener noreferrer" class="footer__link-item">ERDDAP™Oznámení<svg width="13.5" height="13.5" aria-label="(otevře v nové kartě)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/ERDDAP/erddap/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(otevře v nové kartě)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/cs/credits">Kredity</a></li><li class="footer__item"><a class="footer__link-item" href="/cs/acknowledgements">Poděkování</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Přinesl jsem ti</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.noaa.gov" target="_blank" rel="noopener noreferrer" class="footer__link-item">NOAA<svg width="13.5" height="13.5" aria-label="(otevře v nové kartě)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.fisheries.noaa.gov" target="_blank" rel="noopener noreferrer" class="footer__link-item">NMFS<svg width="13.5" height="13.5" aria-label="(otevře v nové kartě)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.fisheries.noaa.gov/about/southwest-fisheries-science-center" target="_blank" rel="noopener noreferrer" class="footer__link-item">SWFSC<svg width="13.5" height="13.5" aria-label="(otevře v nové kartě)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.fisheries.noaa.gov/about/environmental-research-division-southwest-fisheries-science-center" target="_blank" rel="noopener noreferrer" class="footer__link-item">ERD<svg width="13.5" height="13.5" aria-label="(otevře v nové kartě)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">ERDDAP™, Verze 2.29.0. Copyright © 2026ERDDAP™. Postaven s Docusaurem.</div></div></div></footer></div>
</body>
</html>