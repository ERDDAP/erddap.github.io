"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[6782],{28453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>d});var a=o(96540);const t={},r=a.createContext(t);function s(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),a.createElement(r.Provider,{value:n},e.children)}},62900:(e,n,o)=>{o.d(n,{A:()=>a});const a=o.p+"assets/files/DejaVuFonts-9be3895e6d216d0fc9bb8f3520f765c6.zip"},81766:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>i,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"server-admin/deploy-install","title":"Nainstalovat","description":"Jak ud\u011blat po\u010d\xe1te\u010dn\xed nastaven\xed ERDDAP\u2122 na Va\u0161em serveru","source":"@site/i18n/cs/docusaurus-plugin-content-docs/current/server-admin/deploy-install.md","sourceDirName":"server-admin","slug":"/server-admin/deploy-install","permalink":"/cs/docs/server-admin/deploy-install","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/deploy-install.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docSidebar","previous":{"title":"Server Administration","permalink":"/cs/docs/category/server-administration"},"next":{"title":"Aktualizovat","permalink":"/cs/docs/server-admin/deploy-update"}}');var t=o(74848),r=o(28453);const s={sidebar_position:1},d="Nainstalovat",i={},l=[{value:"Java",id:"java",level:2},{value:"Tomcat",id:"tomcat",level:2},{value:"server.xml",id:"serverxml",level:3},{value:"obsah.xml",id:"contentxml",level:3},{value:"Timeout Apache",id:"apache-timeout",level:3},{value:"Bezpe\u010dnost",id:"security",level:3},{value:"pam\u011b\u0165",id:"memory",level:3},{value:"Sb\u011br odpadk\u016f",id:"garbage-collection",level:4},{value:"Povolen\xed",id:"permissions",level:3},{value:"P\xedsma",id:"fonts",level:3},{value:"Test Tomcat",id:"test-tomcat",level:3},{value:"Probl\xe9my s instalac\xed Tomcat?",id:"troubles-with-the-tomcat-installation",level:3},{value:"ERDDAP\u2122 Obsah",id:"erddap-content",level:3},{value:"Dal\u0161\xed adres\xe1\u0159",id:"other-directory",level:4},{value:"setup.xml",id:"setupxml",level:3},{value:"Prom\u011bnn\xe9 prost\u0159ed\xed",id:"environment-variables",level:3},{value:"datasets.xml",id:"datasetsxml",level:3},{value:"Nainstalujte erddap. v\xe1le\u010dn\xfd soubor",id:"install-the-erddapwar-file",level:3},{value:"Nastavit proxy (specifick\xe9 nasazen\xed)",id:"proxy",level:3},{value:"Apa\u010d",id:"apache",level:4},{value:"NGINX",id:"nginx",level:4},{value:"Spustit Tomcat",id:"start-tomcat",level:3},{value:"Je ERDDAP\u2122 B\u011bhat?",id:"is-erddap-running",level:2},{value:"\u0158e\u0161en\xed probl\xe9m\u016f",id:"troubleshooting",level:3},{value:"Probl\xe9m: Star\xe1 verze Java",id:"trouble-old-version-of-java",level:3},{value:"Probl\xe9m: Pomal\xe9 spu\u0161t\u011bn\xed poprv\xe9",id:"trouble-slow-startup-first-time",level:3},{value:"Vypnout a restartovat",id:"shut-down-and-restart",level:2},{value:"Probl\xe9my?",id:"trouble",level:2},{value:"E-mailov\xe9 ozn\xe1men\xed nov\xfdch verz\xed ERDDAP",id:"email-notification-of-new-versions-of-erddap",level:2},{value:"P\u0159izp\u016fsobit",id:"customize",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"nainstalovat",children:"Nainstalovat"})}),"\n",(0,t.jsx)(n.p,{children:"Jak ud\u011blat po\u010d\xe1te\u010dn\xed nastaven\xed ERDDAP\u2122 na Va\u0161em serveru"}),"\n",(0,t.jsx)(n.p,{children:"ERDDAP\u2122 m\u016f\u017ee b\u011b\u017eet na jak\xe9mkoli serveru, kter\xfd podporuje Java a Tomcat (a dal\u0161\xed servery jako Jetty, ale my je nepodporujeme.) .\r\nERDDAP\u2122 byla testov\xe1na na Linuxu (v\u010detn\u011b AWS Amazonu) , Mac a Windows po\u010d\xedta\u010de."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Docker"})," -- Poskytujeme ",(0,t.jsx)(n.a,{href:"https://hub.docker.com/r/erddap/erddap",children:" ERDDAP\u2122 v kontejneru Docker"}),"\r\na IOOS nyn\xed nab\xedz\xed ",(0,t.jsx)(n.a,{href:"https://ioos.github.io/erddap-gold-standard/index.html",children:"N\xe1vod k rychl\xe9mu startu pro ERDDAP\u2122 v kontejneru Docker"})," .\r\nJe to standard. ERDDAP\u2122 instalace v kontejneru Docker.\r\nP\u0159es Dockera Kompozit poskytujeme jednoduch\xe9 zp\u016fsoby, jak nastavit ssl a monitoring, \u010d\xedst v\xedce ven ",(0,t.jsx)(n.a,{href:"https://github.com/ERDDAP/erddap/blob/main/DOCKER.md",children:"Dokumentace docker\u016f"})," .\r\nPokud ji\u017e pou\u017e\xedv\xe1te Docker, budete pravd\u011bpodobn\u011b preferovat Docker verzi.\r\nPokud hled\xe1te spustit na cloud slu\u017eby budete pravd\u011bpodobn\u011b preferovat verzi Docker."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Amazon"})," -- Pokud instalujete ERDDAP\u2122 v p\u0159\xedpad\u011b Amazon Web Services EC2: ",(0,t.jsx)(n.a,{href:"/docs/server-admin/additional-information#amazon",children:"P\u0159ehled webov\xfdch slu\u017eeb Amazon"})," Nejd\u0159\xedv."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Linux a Macs"})," -- ERDDAP\u2122 funguje skv\u011ble na Linux a Mac po\u010d\xedta\u010de. Viz pokyny n\xed\u017ee."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Okna"})," -- Windows je v po\u0159\xe1dku pro testov\xe1n\xed ERDDAP\u2122 a pro osobn\xed pou\u017eit\xed (viz n\xed\u017ee uveden\xe9 pokyny) ,\r\nale nedoporu\u010dujeme ho pou\u017e\xedvat pro ve\u0159ejnost. ERDDAP\u2122 nasazen\xed. B\u011bh ERDDAP\u2122 na Windows mohou m\xedt probl\xe9my:\r\nzejm\xe9na: ERDDAP\u2122 nemus\xed b\xfdt schopen rychle smazat a/nebo p\u0159ejmenovat soubory. To je pravd\u011bpodobn\u011b kv\u016fli antivirov\xe9mu softwaru.\r\n(nap\u0159. z McAfee a Norton) kter\xfd kontroluje soubory na viry. Pokud naraz\xedte na tento probl\xe9m\r\n(kter\xe9 lze vid\u011bt chybov\xfdmi zpr\xe1vami v ",(0,t.jsx)(n.a,{href:"/docs/server-admin/additional-information#log",children:"log.txt"}),' soubor jako\r\n"Neschopen odstranit ..."), zm\u011bna nastaven\xed antivirov\xe9ho softwaru m\u016f\u017ee \u010d\xe1ste\u010dn\u011b zm\xedrnit probl\xe9m. Nebo m\xedsto toho pou\u017e\xedvejte Linux nebo Mac server.']}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Standard ERDDAP\u2122 n\xe1vod k instalaci po\u010d\xedta\u010d\u016f Linux, Macs a Windows jsou:"})}),"\n",(0,t.jsxs)(n.ol,{start:"0",children:["\n",(0,t.jsx)(n.li,{children:"Ujist\u011bte se, \u017ee jsou nainstalov\xe1ny jak\xe9koli z\xe1vislosti. Na nev\u011btrn\xfdch stroj\xedch (Linux a Mac) Pot\u0159ebuje\u0161 csh."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"java",children:"Java"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"#java",children:"Pro ERDDAP\u2122 v2.19+, nastaveno Java 21."}),"\r\nZ bezpe\u010dnostn\xedch d\u016fvod\u016f je t\xe9m\u011b\u0159 v\u017edy nejlep\u0161\xed pou\u017e\xedt nejnov\u011bj\u0161\xed verzi Java 21.\r\nSt\xe1hnout a nainstalovat nejnov\u011bj\u0161\xed verzi\r\n",(0,t.jsx)(n.a,{href:"https://adoptium.net/temurin/releases/?version=21",children:"Adoptium OpenJDK (Temurin) 21 (LTS) "})," .\r\nPro ov\u011b\u0159en\xed instalace spus\u0165te ",(0,t.jsx)(n.code,{children:"/javaJreBinDirectory/java -verze"})," , nap\u0159\xedklad\r\n",(0,t.jsx)(n.code,{children:"/usr/local/jdk-21.0.3+9/jre/bin/java -verze"})," ."]}),"\n",(0,t.jsx)(n.p,{children:"ERDDAP\u2122 spolupracuje s Java z jin\xfdch zdroj\u016f, ale doporu\u010dujeme Adoptium, proto\u017ee je to hlavn\xed, komunitn\u011b podporovan\xe9,\r\nvoln\xfd (jako pivo a \u0159e\u010d) verze Java 21, kter\xe1 nab\xedz\xed dlouhodobou podporu (bezplatn\xe9 upgrady pro mnoho let po po\u010d\xe1te\u010dn\xed vyd\xe1n\xed) .\r\nZ bezpe\u010dnostn\xedch d\u016fvod\u016f, pros\xedm aktualizujte ERDDAP 's verz\xed Java pravideln\u011b jako nov\xe9 verze Java 21 bude k dispozici z Adoptia."}),"\n",(0,t.jsx)(n.p,{children:"ERDDAP\u2122 byl testov\xe1n a pou\u017e\xedv\xe1n rozs\xe1hle s 21, nikoli s jin\xfdmi verzemi. Z r\u016fzn\xfdch d\u016fvod\u016f netestujeme s jin\xfdmi verzemi Java .\r\n\xa0"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"tomcat",children:"Tomcat"}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"#tomcat",children:"P\u0159ipravit"}),"   ",(0,t.jsx)(n.a,{href:"https://tomcat.apache.org",children:"Tomcat"})," . Tomcat je nejv\xedce pou\u017e\xedvan\xfd Java Aplika\u010dn\xed server,\r\nco\u017e je Java software, kter\xfd stoj\xed mezi s\xed\u0165ov\xfdmi slu\u017ebami opera\u010dn\xedho syst\xe9mu a Java Serverov\xfd software jako ERDDAP\u2122 .\r\nJe to svobodn\xfd a otev\u0159en\xfd zdrojov\xfd software (FOSS) ."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"M\u016f\u017ee\u0161 pou\u017e\xedt jin\xfd. Java Aplika\u010dn\xed server (nap\u0159. Jetty) Ale testujeme jen s Tomcatem a podporujeme ho."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["St\xe1hn\u011bte si Tomcat a vybalte ho na server nebo PC.\r\nZ bezpe\u010dnostn\xedch d\u016fvod\u016f je t\xe9m\u011b\u0159 v\u017edy nejlep\u0161\xed pou\u017e\xedt nejnov\u011bj\u0161\xed verzi Tomcat 10 (Verze 9 a n\xed\u017ee nejsou p\u0159ijateln\xe9)\r\nkter\xe1 je ur\u010dena pro pr\xe1ci s Java 21 nebo nov\u011bj\u0161\xed. N\xed\u017ee bude adres\xe1\u0159 Tomcat ozna\u010dov\xe1n jako ",(0,t.jsx)(n.code,{children:"tomcat"})," ."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["__ Varov\xe1n\xed!_ Pokud ji\u017e m\xe1te Tomcat spu\u0161t\u011bnou jinou webovou aplikaci (zejm\xe9na THREDDS) , Doporu\u010dujeme v\xe1m nainstalovat ERDDAP\u2122 v\r\n",(0,t.jsx)(n.a,{href:"/docs/server-admin/additional-information#second-tomcat",children:"druh\xfd Tomcat"})," , proto\u017ee ERDDAP\u2122 pot\u0159ebuje r\u016fzn\xe9 nastaven\xed Tomcat\r\na nem\u011bl by se muset pot\xfdkat s jin\xfdmi aplikacemi pro pam\u011b\u0165."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Na Linuxu, ",(0,t.jsx)(n.a,{href:"https://tomcat.apache.org/download-10.cgi",children:'st\xe1hnout "Core" "tar .gz " Distribuce Tomcat'})," a vybalit.\r\nDoporu\u010dujeme vybalit ",(0,t.jsx)(n.code,{children:"/usr/local"})," ."]}),"\n",(0,t.jsxs)(n.li,{children:["Na Mac, Tomcat je pravd\u011bpodobn\u011b ji\u017e nainstalov\xe1n v ",(0,t.jsx)(n.code,{children:"/Knihovna/Tomcat"})," , ale m\u011bl by ji aktualizovat na nejnov\u011bj\u0161\xed verzi Tomcat 10.\r\nKdy\u017e to st\xe1hne\u0161, ",(0,t.jsx)(n.a,{href:"https://tomcat.apache.org/download-10.cgi",children:'st\xe1hnout "Core" "tar .gz " Distribuce Tomcat'})," a vybalit ",(0,t.jsx)(n.code,{children:"/Knihovna/Tomcat"})," ."]}),"\n",(0,t.jsxs)(n.li,{children:["Na Windows, m\u016f\u017eete ",(0,t.jsx)(n.a,{href:"https://tomcat.apache.org/download-10.cgi",children:'st\xe1hnout "Core" "zip" Tomcat distribuce'}),'\r\n(kter\xfd nezahr\xe1v\xe1 s registrem Windows a kter\xfd ovl\xe1d\xe1te z p\u0159\xedkazov\xe9ho \u0159\xe1dku DOS) a vybalit ji do vhodn\xe9ho adres\xe1\u0159e.\r\n(Pro v\xfdvoj pou\u017e\xedv\xe1me distribuci "Core" "zip." Ud\u011bl\xe1me ',(0,t.jsx)(n.code,{children:"/programy"}),' adres\xe1\u0159 a vybalit ho tam.)\r\nNebo si m\u016f\u017eete st\xe1hnout distribuci "Core" "64-bit Windows zip," kter\xe1 obsahuje v\xedce funkc\xed.\r\nPokud je distribuce instal\xe1torem Windows, bude pravd\u011bpodobn\u011b d\xe1t Tomcat do, nap\u0159\xedklad, ',(0,t.jsx)(n.code,{children:"/Programov\xe9 soubory/apache-tomcat-10,0.23"})," .\r\n\xa0"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"serverxml",children:"server.xml"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"#serverxml",children:"server.xml"})," - V ",(0,t.jsx)(n.code,{children:"tomcat/conf/server.xml"})," soubor, existuj\xed dv\u011b zm\u011bny, kter\xe9 byste m\u011bli ud\u011blat pro ka\u017edou z obou ",(0,t.jsx)(n.code,{children:"<Connector>"})," zna\u010dky\r\n(jeden pro ",(0,t.jsx)(n.code,{children:'&lt;Connector port="8080"'})," a jeden pro ",(0,t.jsx)(n.code,{children:'&lt;Konektorov\xfd port="8443"'})," ) .","\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["(Doporu\u010den\xe9) Zv\xfd\u0161it ",(0,t.jsx)(n.code,{children:"spojen\xed Timeout"})," hodnota parametru, mo\u017en\xe1 300000 (milisekundy, co\u017e je 5 minut) ."]}),"\n",(0,t.jsxs)(n.li,{children:["(Doporu\u010den\xe9) P\u0159idat nov\xfd parametr: ",(0,t.jsx)(n.code,{children:'relaxQueryChars="[] | "'})," . Toto je voliteln\xe9 a o n\u011bco m\xe9n\u011b bezpe\u010dn\xe9,\r\nale odstra\u0148uje pot\u0159ebu, aby u\u017eivatel\xe9 procentn\u011b k\xf3dovali tyto znaky, kdy\u017e se objev\xed v parametrech po\u017eadavku u\u017eivatele URL.\r\n\xa0"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"contentxml",children:"obsah.xml"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["context.xml -- Zdroje Cache - In ",(0,t.jsx)(n.code,{children:"tomcat/conf/context.xml"})," , t\u011bsn\u011b p\u0159ed ",(0,t.jsx)(n.code,{children:"</Context>"})," tag, zm\u011bna zna\u010dky Resources\r\n(nebo p\u0159idejte, pokud u\u017e tam nen\xed.) nastavit cache MaxSize parametr to 80000:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'<Resources cachingAllowed="true" cacheMaxSize="80000" />\n'})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"T\xedm se v Catalin\u011b vyh\xfdb\xe1me mnoha varov\xe1n\xedm. ven, \u017ee v\u0161echny za\u010d\xednaj\xed s"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"WARNING [main] org.apache.catalina.webresources.Cache.getResource Unable to add the resource at [/WEB-INF/classes/...]\n"})}),"\n",(0,t.jsx)(n.p,{children:"\xa0"}),"\n",(0,t.jsx)(n.h3,{id:"apache-timeout",children:"Timeout Apache"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:['Na Linuxov\xfdch po\u010d\xedta\u010d\xedch, zm\u011bnit nastaven\xed timeout Apache tak, aby \u010dasov\u011b n\xe1ro\u010dn\xe9 po\u017eadavky u\u017eivatel\u016f netimeout\r\n(s t\xedm, co \u010dasto vypad\xe1 jako chyba "Proxy" nebo "Bad Gateway") . Jako u\u017eivatel ko\u0159ene:',"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Upravit Apa\u010de ",(0,t.jsx)(n.code,{children:" http d.conf"})," soubor (obvykle v ",(0,t.jsx)(n.code,{children:"/etc/ http d/conf/"})," ) :","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Zm\u011bnit existuj\xedc\xed ",(0,t.jsx)(n.code,{children:"<Timeout>"})," nastaven\xed (nebo p\u0159idat jeden na konci souboru) do 3600 (sekund) , m\xedsto v\xfdchoz\xed 60 nebo 120 sekund."]}),"\n",(0,t.jsxs)(n.li,{children:["Zm\u011bnit existuj\xedc\xed ",(0,t.jsx)(n.code,{children:"<ProxyTimeout>"})," nastaven\xed (nebo p\u0159idat jeden na konci souboru) do 3600 (sekund) , m\xedsto v\xfdchoz\xed 60 nebo 120 sekund."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Restartovat Apache: ",(0,t.jsx)(n.code,{children:"/usr/sbin/apachectl - K elegantn\xed."}),"   (ale n\u011bkdy je v jin\xe9m adres\xe1\u0159i) ."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"security",children:"Bezpe\u010dnost"}),"\n",(0,t.jsx)(n.p,{children:"\xa0"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Bezpe\u010dnostn\xed doporu\u010den\xed: Viz ",(0,t.jsx)(n.a,{href:"https://tomcat.apache.org/tomcat-10.0-doc/security-howto.html",children:"Tyto pokyny"})," zv\xfd\u0161it bezpe\u010dnost\r\nVa\u0161e instalace Tomcat, zejm\xe9na pro ve\u0159ejn\xe9 servery.\r\n\xa0"]}),"\n",(0,t.jsxs)(n.li,{children:["Pro ve\u0159ejnost ERDDAP\u2122 instalace na Linux a Macs, je nejlep\u0161\xed nastavit Tomcat (program) jako sou\u010d\xe1st u\u017eivatele ",(0,t.jsx)(n.code,{children:"tomcat"}),"\r\n(samostatn\xfd u\u017eivatel s omezen\xfdm opr\xe1vn\u011bn\xedm a kter\xfd ",(0,t.jsx)(n.a,{href:"https://unix.stackexchange.com/questions/56765/creating-an-user-without-a-password",children:"nem\xe1 \u017e\xe1dn\xe9 heslo"})," ) .\r\nTak, jen super u\u017eivatel m\u016f\u017ee p\u0159ej\xedt k jedn\xe1n\xed jako u\u017eivatel ",(0,t.jsx)(n.code,{children:"tomcat"})," . To znemo\u017e\u0148uje hacker\u016fm p\u0159ihl\xe1sit se na v\xe1\u0161 server jako u\u017eivatel ",(0,t.jsx)(n.code,{children:"tomcat"})," .\r\nA v ka\u017ed\xe9m p\u0159\xedpad\u011b byste to m\u011bli ud\u011blat tak, aby ",(0,t.jsx)(n.code,{children:"tomcat"})," u\u017eivatel m\xe1 v syst\xe9mu souboru serveru velmi omezen\xe1 opr\xe1vn\u011bn\xed (read+write+execute privilegia)\r\npro ",(0,t.jsx)(n.code,{children:"apache-tomcat"})," adres\xe1\u0159ov\xfd strom a ",(0,t.jsx)(n.code,{children:"<bigParentDirectory>"})," a pr\xe1va pouze pro \u010dten\xed pro adres\xe1\u0159e s daty, kter\xe1 ERDDAP\u2122 vy\u017eaduje p\u0159\xedstup k).","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["M\u016f\u017eete vytvo\u0159it ",(0,t.jsx)(n.code,{children:"tomcat"})," u\u017eivatelsk\xfd \xfa\u010det (kter\xfd nem\xe1 heslo) pomoc\xed p\u0159\xedkazu:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"sudo useradd tomcat -s /bin/bash -p '*'\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["M\u016f\u017eete p\u0159ej\xedt na pr\xe1ci jako u\u017eivatel ",(0,t.jsx)(n.code,{children:"tomcat"})," pomoc\xed p\u0159\xedkazu","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"sudo su - tomcat\n"})}),"\n","(Po\u017e\xe1d\xe1 v\xe1s o heslo pro superu\u017eivatele, abyste to mohli ud\u011blat.)","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"M\u016f\u017eete p\u0159estat pracovat jako u\u017eivatel tomcat pomoc\xed p\u0159\xedkazu"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"exit\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Ud\u011blat v\u011bt\u0161inu zbytku Tomcat a ERDDAP\u2122 nastavit n\xe1vod k nastaven\xed jako u\u017eivatel ",(0,t.jsx)(n.code,{children:"tomcat"})," . Pozd\u011bji, spus\u0165te ",(0,t.jsx)(n.code,{children:"startup."})," a ",(0,t.jsx)(n.code,{children:"Vypnout. s"})," skripty jako u\u017eivatel ",(0,t.jsx)(n.code,{children:"tomcat"}),"\r\naby m\u011bl Tomcat povolen\xed napsat do sv\xfdch logov\xfdch soubor\u016f."]}),"\n",(0,t.jsxs)(n.li,{children:["Po vybalen\xed Tomcat, od rodi\u010de ",(0,t.jsx)(n.code,{children:"apache-tomcat"})," adres\xe1\u0159:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Zm\u011bna vlastnictv\xed adres\xe1\u0159e apache-tomcat na u\u017eivatele tomcat.","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"chown -R tomcat apache-tomcat-10.0.23\n"})}),"\n","(ale nahra\u010fte skute\u010dn\xfd n\xe1zev va\u0161eho adres\xe1\u0159e) ."]}),"\n",(0,t.jsxs)(n.li,{children:['Zm\u011b\u0148te "skupina" b\xfdt tomcat, va\u0161e u\u017eivatelsk\xe9 jm\xe9no, nebo n\xe1zev mal\xe9 skupiny, kter\xe1 zahrnuje tomcat a v\u0161echny spr\xe1vce Tomcat/ ERDDAP :',"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"chgrp -R yourUserName apache-tomcat-10.0.23\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Zm\u011bnit opr\xe1vn\u011bn\xed tak, aby Tomcat a skupina \u010detli, psali, prov\xe1d\u011bli pr\xe1va:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"chmod -R ug+rwx apache-tomcat-10.0.23\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:['Odstranit "ostatn\xed" u\u017eivatelsk\xe1 opr\xe1vn\u011bn\xed ke \u010dten\xed, z\xe1pisu nebo spu\u0161t\u011bn\xed:',"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"chmod -R o-rwx apache-tomcat-10.0.23\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"To je d\u016fle\u017eit\xe9, proto\u017ee to br\xe1n\xed ostatn\xedm u\u017eivatel\u016fm \u010d\xedst mo\u017en\xe1 citliv\xe9 informace v ERDDAP\u2122 nastavit soubory."}),"\n",(0,t.jsx)(n.h3,{id:"memory",children:"pam\u011b\u0165"}),"\n",(0,t.jsx)(n.p,{children:"Nastavit prom\u011bnn\xe9 prost\u0159ed\xed Tomcat"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Na Linuxu a Macu:\r\nVytvo\u0159it soubor ",(0,t.jsx)(n.code,{children:"Tomcat/bin/setenv.sh"}),"   (nebo v Red Hat Enterprise Linux \\[ RHEL \\] , upravit ",(0,t.jsx)(n.code,{children:"~tomcat/conf/tomcat10.conf"})," ) nastavit Tomcatovy prom\u011bnn\xe9 prost\u0159ed\xed.\r\nTento soubor bude pou\u017eit ",(0,t.jsx)(n.code,{children:"tomcat/bin/startup.sh"})," a ",(0,t.jsx)(n.code,{children:"Vypnout. s"})," . Soubor by m\u011bl obsahovat n\u011bco jako:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"export JAVA_HOME=/usr/local/jdk-21.0.3+9\r\nexport JAVA_OPTS='-server -Djava.awt.headless=true -Xmx1500M -Xms1500M'\r\nexport TOMCAT_HOME=/usr/local/apache-tomcat-10.0.23\r\nexport CATALINA_HOME=/usr/local/apache-tomcat-10.0.23\n"})}),"\n",(0,t.jsxs)(n.p,{children:["(ale nahradit n\xe1zvy adres\xe1\u0159\u016f z po\u010d\xedta\u010de) .\r\n(Pokud jste ji\u017e d\u0159\xedve nastaven ",(0,t.jsx)(n.code,{children:"JRE_HOME"})," M\u016f\u017ee\u0161 to odstranit.)\r\nNa Macs, pravd\u011bpodobn\u011b nemus\xedte nastavit ",(0,t.jsx)(n.code,{children:"JAVA_ DOM\u016e"})," ."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Na Windows:\r\nVytvo\u0159it soubor ",(0,t.jsx)(n.code,{children:"Tomcat\\bin\\\\setenv.bat"})," nastavit Tomcatovy prom\u011bnn\xe9 prost\u0159ed\xed.\r\nTento soubor bude pou\u017eit ",(0,t.jsx)(n.code,{children:"Tomcat\\bin\\\\ startup.bat"})," a ",(0,t.jsx)(n.code,{children:"shutdown.bat"})," .\r\nSoubor by m\u011bl obsahovat n\u011bco jako:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'SET "JAVA_HOME=\\\\someDirectory\\\\jdk-21.0.3+9"\r\nSET "JAVA_OPTS=-server -Xmx1500M -Xms1500M"\r\nSET "TOMCAT_HOME=\\\\Program Files\\\\apache-tomcat-10.0.23"\r\nSET "CATALINA_HOME=\\\\Program Files\\\\apache-tomcat-10.0.23"\n'})}),"\n",(0,t.jsxs)(n.p,{children:['(ale nahradit n\xe1zvy adres\xe1\u0159\u016f z po\u010d\xedta\u010de) .\r\nPokud je to jen pro m\xedstn\xed testov\xe1n\xed, odstra\u0148te "-server."\r\n(Pokud jste ji\u017e d\u0159\xedve nastaven ',(0,t.jsx)(n.code,{children:"JRE_HOME"})," M\u016f\u017ee\u0161 to odstranit.)"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"- Xmx"})," a ",(0,t.jsx)(n.code,{children:"- Xms"})," nastaven\xed pam\u011bti je d\u016fle\u017eit\xe9, proto\u017ee ERDDAP\u2122 l\xe9pe funguje s v\xedce pam\u011bti.\r\nV\u017edy nastaveno ",(0,t.jsx)(n.code,{children:"- Xms"})," na stejnou hodnotu jako ",(0,t.jsx)(n.code,{children:"- Xmx"})," ."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Pro 32 bitov\xe9 opera\u010dn\xed syst\xe9my a 32 bit\u016f Java :\r\n64 bit\u016f Java je mnohem lep\u0161\xed ne\u017e 32 bit\u016f Java , ale 32 bit\u016f Java bude fungovat tak dlouho, dokud nebude server zanepr\xe1zdn\u011bn.\r\n\u010c\xedm v\xedce fyzick\xe9 pam\u011bti na serveru, t\xedm l\xe9pe: 4+ GB je opravdu dobr\xe9, 2 GB je v po\u0159\xe1dku, m\xe9n\u011b se nedoporu\u010duje.\r\nS 32 bity Java , i s bohatou fyzickou pam\u011bt\xed, Tomcat a Java neute\u010de, kdy\u017e se pokus\xedte nastavit ",(0,t.jsx)(n.code,{children:"- Xmx"})," vysoko nad 1500M (1200M na n\u011bkter\xfdch po\u010d\xedta\u010d\xedch) .\r\nPokud m\xe1 v\xe1\u0161 server m\xe9n\u011b ne\u017e 2GB pam\u011bti, sni\u017ete ",(0,t.jsx)(n.code,{children:"- Xmx"})," hodnota (v 'M'egaBytech) na 1/2 fyzick\xe9 pam\u011bti po\u010d\xedta\u010de."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Pro 64 bit\u016f opera\u010dn\xedch syst\xe9m\u016f a 64 bit\u016f Java :\r\n64 bit\u016f Java bude fungovat pouze na 64 bitov\xe9m opera\u010dn\xedm syst\xe9mu."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["S Java 8, mus\xedte p\u0159idat ",(0,t.jsx)(n.code,{children:"-d64"})," Tomcatovi ",(0,t.jsx)(n.code,{children:"CATALINA_OPTS"})," parametr v ",(0,t.jsx)(n.code,{children:"setenv.bat"})," ."]}),"\n",(0,t.jsx)(n.li,{children:'S Java 21, vyberete 64 bit\u016f. Java p\u0159i sta\u017een\xed verze Java ozna\u010den\xe9 "64 bit."'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Se 64 bity Java , Tomcat a Java m\u016f\u017ee pou\u017e\xedt velmi vysok\xe9 ",(0,t.jsx)(n.code,{children:"- Xmx"})," a ",(0,t.jsx)(n.code,{children:"- Xms"})," nastaven\xed. \u010c\xedm v\xedce fyzick\xe9 pam\u011bti na serveru, t\xedm l\xe9pe.\r\nJako zjednodu\u0161en\xfd n\xe1vrh: doporu\u010dujeme nastavit ",(0,t.jsx)(n.code,{children:"- Xmx"})," a ",(0,t.jsx)(n.code,{children:"- Xms"})," a\u017e (v 'M'egaBytech) a\u017e 1/2 (nebo m\xe9n\u011b) fyzick\xe9 pam\u011bti po\u010d\xedta\u010de.\r\nUvid\xed\u0161, jestli Tomcat, Java a ERDDAP\u2122 jsou skute\u010dn\u011b b\u011b\u017e\xed v 64 bitov\xe9m re\u017eimu hled\xe1n\xedm \" bit,\" v ERDDAP 's Daily Report email\r\nnebo ",(0,t.jsx)(n.code,{children:"bigDirectory/logs/ [log.txt](/docs/server-admin/additional-information#log) "})," soubor ( ",(0,t.jsx)(n.code,{children:"velk\xfdRodi\u010d rodi\u010d\u016f"})," je uvedeno v ",(0,t.jsx)(n.a,{href:"#setupxml",children:"setup.xml"})," ) ."]}),"\n",(0,t.jsx)(n.h4,{id:"garbage-collection",children:"Sb\u011br odpadk\u016f"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["In ERDDAP\u2122 's ",(0,t.jsx)(n.a,{href:"/docs/server-admin/additional-information#log",children:"log.txt"}),' soubor, uvid\xedte mnoho "GC (Selh\xe1n\xed p\u0159id\u011blen\xed) "zpr\xe1vy.\r\nTohle obvykle nen\xed probl\xe9m. Je to \u010dastou zpr\xe1vou od norm\xe1ln\u011b funguj\xedc\xedho Java \u017ee pr\xe1v\u011b dokon\u010dila men\u0161\xed odpad.\r\nsb\xedrka, proto\u017ee j\xed do\u0161el prostor v Edenu (\u010d\xe1st Java hromada pro velmi mlad\xe9 p\u0159edm\u011bty) . Obvykle v\xe1m zpr\xe1va ukazuje\r\n',(0,t.jsx)(n.code,{children:"Pam\u011b\u0165Pou\u017e\xedtP\u0159ed-&gt;pam\u011b\u0165Po pou\u017eit\xed"})," . Pokud jsou ta dv\u011b \u010d\xedsla bl\xedzko sebe, znamen\xe1 to, \u017ee odpadky nebyly produktivn\xed.\r\nZpr\xe1va je jen zn\xe1mkou probl\xe9m\u016f, pokud je velmi \u010dast\xe9 (ka\u017ed\xfdch p\xe1r sekund) , nen\xed produktivn\xed, a \u010d\xedsla jsou velk\xe9 a nerostou,\r\nkter\xe9 spole\u010dn\u011b nazna\u010duj\xed, \u017ee Java pot\u0159ebuje v\xedce pam\u011bti, sna\u017e\xed se uvolnit pam\u011b\u0165 a nem\u016f\u017ee uvolnit pam\u011b\u0165.\r\nTo se m\u016f\u017ee st\xe1t b\u011bhem stresuj\xedc\xed doby a pak odej\xedt. Ale pokud bude pokra\u010dovat, je to zn\xe1mka probl\xe9m\u016f."]}),"\n",(0,t.jsxs)(n.li,{children:["Pokud uvid\xedte ",(0,t.jsx)(n.code,{children:"java.lang.OutOfMemoryError"})," s v ERDDAP\u2122 's ",(0,t.jsx)(n.a,{href:"/docs/server-admin/additional-information#log",children:"log.txt"})," soubor,\r\nviz ",(0,t.jsx)(n.a,{href:"/docs/server-admin/additional-information#outofmemoryerror",children:"OutOfMemoryError"})," pro tipy, jak diagnostikovat a \u0159e\u0161it probl\xe9my.\r\n\xa0"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"permissions",children:"Povolen\xed"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"#permissions",children:"Na Linux a Macs, zm\u011bnit opr\xe1vn\u011bn\xed"})," ze v\u0161ech ",(0,t.jsx)(n.code,{children:"*.sh"})," soubory v ",(0,t.jsx)(n.code,{children:"tomcat/bin/"})," mus\xed b\xfdt spustiteln\xfd vlastn\xedkem:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"chmod +x *.sh\n"})}),"\n",(0,t.jsx)(n.h3,{id:"fonts",children:"P\xedsma"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"#fonts",children:"P\xedsma pro obr\xe1zky:"})," Rozhodn\u011b d\xe1v\xe1me p\u0159ednost svobodn\xfdm. ",(0,t.jsx)(n.a,{href:"https://dejavu-fonts.github.io/",children:"DejaVu p\xedsma"})," na druhou Java p\xedsma.\r\nPou\u017e\xedv\xe1n\xed t\u011bchto p\xedsem se d\u016frazn\u011b doporu\u010duje, ale nevy\u017eaduje se."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Pokud se rozhodnete nepou\u017e\xedvat p\xedsma DejaVu, mus\xedte zm\u011bnit p\xedsmoFamily nastaven\xed v setup.xml na ",(0,t.jsx)(n.code,{children:"<fontFamily> SansSerif </fontFamily>"})," ,\r\nkter\xfd je k dispozici se v\u0161emi Java distribuce. P\u0159i nastaven\xed ",(0,t.jsx)(n.code,{children:"<fontFamily>"})," na jm\xe9no p\xedsma, kter\xe9 nen\xed k dispozici, ERDDAP\u2122 Nenab\xedj\xed.\r\na vytiskne seznam dostupn\xfdch p\xedsem v ",(0,t.jsx)(n.code,{children:"log.txt"})," Slo\u017eka. Mus\xedte pou\u017e\xedt jedno z t\u011bch p\xedsm."]}),"\n",(0,t.jsxs)(n.p,{children:["Pokud se rozhodnete pou\u017e\xedt p\xedsma DejaVu, ujist\u011bte se, \u017ee ",(0,t.jsx)(n.code,{children:"<fontFamily>"})," nastaven\xed v setup.xml je ",(0,t.jsx)(n.code,{children:"<fontFamily> DejaVu Sans </fontFamily>"})," ."]}),"\n",(0,t.jsxs)(n.p,{children:["Pro instalaci p\xedsem DejaVu si st\xe1hn\u011bte ",(0,t.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:o(62900).A+"",children:"DejaVuFonts .zip "}),"   (5,522,795 bytes, MD5=33E1E61FAB06A547851ED308B4FFEF42)\r\na rozepnout soubory s p\xedsmem do do\u010dasn\xe9ho adres\xe1\u0159e."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Na Linuxu:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Pro Linux Adoptium Java distribuce, viz ",(0,t.jsx)(n.a,{href:"https://blog.adoptopenjdk.net/2021/01/prerequisites-for-font-support-in-adoptopenjdk/",children:"Tyto pokyny"})," ."]}),"\n",(0,t.jsxs)(n.li,{children:["Ostatn\xed Java distribuce: Jako ",(0,t.jsx)(n.code,{children:"tomcat"})," u\u017eivatel, zkop\xedrovat soubory p\xedsma do ",(0,t.jsx)(n.code,{children:"$JAVA_HOME/LIB/fonts"})," tak Java m\u016f\u017ee naj\xedt p\xedsma.\r\nPamatujte: pokud/kdy\u017e pozd\u011bji upgrade na nov\u011bj\u0161\xed verzi Java , mus\xedte reinstalovat tato p\xedsma."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Na Macs: pro ka\u017ed\xfd soubor s p\xedsmem dvakr\xe1t klikn\u011bte na n\u011bj a pak klikn\u011bte na Install Font."}),"\n",(0,t.jsx)(n.li,{children:"Na Windows 7 a 10: ve Windows Exploreru vyberte v\u0161echny soubory p\xedsma. Prav\xfdm tla\u010d\xedtkem. Klikn\u011bte na Install.\r\n\xa0"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"test-tomcat",children:"Test Tomcat"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Otestujte si instalaci Tomcat.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Linux:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:['Jako u\u017eivatel "tomcat," spustit ',(0,t.jsx)(n.code,{children:"tomcat/bin/startup.sh"})," ."]}),"\n",(0,t.jsxs)(n.li,{children:['Zobrazit sv\xe9 URL + ":8080/" ve sv\xe9m prohl\xed\u017ee\u010di (nap\u0159. ',(0,t.jsx)(n.a,{href:"http://coastwatch.pfeg.noaa.gov:8080/",children:"http://coastwatch.pfeg.noaa.gov:8080/"})," ) ."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Mac (spustit tomcat jako u\u017eivatel spr\xe1vce syst\xe9mu) :","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Ut\xedkej. ",(0,t.jsx)(n.code,{children:"tomcat/bin/startup.sh"})," ."]}),"\n",(0,t.jsxs)(n.li,{children:['Zobrazit sv\xe9 URL + ":8080/" ve sv\xe9m prohl\xed\u017ee\u010di (nap\u0159. ',(0,t.jsx)(n.a,{href:"http://coastwatch.pfeg.noaa.gov:8080/",children:"http://coastwatch.pfeg.noaa.gov:8080/"})," ) .\r\nV\u0161imn\u011bte si, \u017ee ve v\xfdchoz\xedm nastaven\xed je v\xe1\u0161 Tomcat p\u0159\xedstupn\xfd pouze v\xe1mi. Nen\xed ve\u0159ejn\u011b p\u0159\xedstupn\xe1."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Localhost Windows:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'Klikn\u011bte prav\xfdm tla\u010d\xedtkem na ikonu Tomcat v syst\xe9mov\xe9 podnose a vyberte "Spustit slu\u017ebu."'}),"\n",(0,t.jsxs)(n.li,{children:["Pohled ",(0,t.jsx)(n.a,{href:"http://127.0.0.1:8080/",children:"http://127.0.0.1:8080/"})," nebo snad ",(0,t.jsx)(n.a,{href:"http://localhost:8080/",children:"http://localhost:8080/"})," Ve va\u0161em prohl\xed\u017ee\u010di. V\u0161imn\u011bte si, \u017ee ve v\xfdchoz\xedm nastaven\xed je v\xe1\u0161 Tomcat p\u0159\xedstupn\xfd pouze v\xe1mi. Nen\xed ve\u0159ejn\u011b p\u0159\xedstupn\xe1."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:'M\u011bli byste vid\u011bt str\xe1nku Tomcat "Gratulujeme."'}),"\n",(0,t.jsxs)(n.p,{children:["Jestli se n\u011bco stane, pod\xedvejte se do souboru Tomcat. ",(0,t.jsx)(n.code,{children:"Tomcat/logs/catalina.out"})," ."]}),"\n",(0,t.jsx)(n.h3,{id:"troubles-with-the-tomcat-installation",children:"Probl\xe9my s instalac\xed Tomcat?"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Na Linux a Mac, pokud nem\u016f\u017eete dos\xe1hnout Tomcat nebo ERDDAP\u2122   (nebo se k nim mo\u017en\xe1 nedostanete z po\u010d\xedta\u010de mimo v\xe1\u0161 firewall.) ,\r\nm\u016f\u017eete testovat, zda Tomcat poslouch\xe1 port 8080, psan\xedm (jako ko\u0159en) na p\u0159\xedkazov\xe9m \u0159\xe1dku serveru:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"netstat -tuplen | grep 8080\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"To by m\u011blo vr\xe1tit jeden \u0159\xe1dek s n\u011b\u010d\xedm jako:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"tcp 0 0 :::8080 :::* LISTEN ## ##### ####/java\n"})}),"\n",(0,t.jsxs)(n.p,{children:["(kde ",(0,t.jsx)(n.code,{children:"#"})," je n\u011bjak\xe1 \u010d\xedslice) , s uveden\xedm, \u017ee a ",(0,t.jsx)(n.code,{children:"kava"}),' postup (pravd\u011bpodobn\u011b Tomcat) poslouch\xe1 v p\u0159\xedstavu "8080" pro "tcp" provoz.\r\nPokud nebyly vr\xe1ceny \u017e\xe1dn\xe9 linky, pokud se \u0159\xe1dek v\xfdrazn\u011b li\u0161\xed, nebo pokud byly vr\xe1ceny dv\u011b nebo v\xedce \u0159\xe1dk\u016f, pak m\u016f\u017ee b\xfdt probl\xe9m s nastaven\xedm portu.']}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Viz soubor s logem Tomcat ",(0,t.jsx)(n.code,{children:"Tomcat/logs/catalina.out"})," . Tomcat probl\xe9my a n\u011bkter\xe9 ERDDAP\u2122 startup probl\xe9my jsou t\xe9m\u011b\u0159 v\u017edy uvedeny tam.\r\nTo je b\u011b\u017en\xe9, kdy\u017e jste poprv\xe9 nastaven\xed ERDDAP\u2122 ."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Viz ",(0,t.jsx)(n.a,{href:"https://tomcat.apache.org/",children:"Tomcat"})," webov\xe9 str\xe1nky nebo hledat web o pomoc, ale pros\xedm dejte n\xe1m v\u011bd\u011bt probl\xe9my, kter\xe9 jste m\u011bli a \u0159e\u0161en\xed jste na\u0161li."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Pod\xedvejte se na na\u0161e ",(0,t.jsx)(n.a,{href:"/docs/intro#support",children:"odd\xedl o z\xedsk\xe1n\xed dodate\u010dn\xe9 podpory"})," .\r\n\xa0"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"erddap-content",children:"ERDDAP\u2122 Obsah"}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.a,{href:"#erddap-content",children:["P\u0159ipravit ",(0,t.jsx)(n.code,{children:"Tomcat/content/erddap"})," Konfigura\u010dn\xed soubory."]}),"\r\nNa Linux, Mac a Windows, st\xe1hnout ",(0,t.jsx)(n.a,{href:"https://github.com/ERDDAP/erddapContent/releases/download/content1.0.0/erddapContent.zip",children:"erddapContent .zip "}),"\r\na rozepnout do ",(0,t.jsx)(n.code,{children:"tomcat"})," adres\xe1\u0159, vytv\xe1\u0159en\xed ",(0,t.jsx)(n.code,{children:"Tomcat/content/erddap"})," ."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Version 1.0.0, 20333 bytes, MD5=2B8D2A5AE5ED73E3A42B529C168C60B5, dated 2024-10-14"})}),"\n",(0,t.jsx)(n.p,{children:"N\u011bkter\xe9 p\u0159edchoz\xed verze jsou tak\xe9 k dispozici:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.17/erddapContent.zip",children:"2. 17"}),"   (19,792 bytes, MD5=8F892616BAEEF2DF0F4BB036DCB4AD7C, dat. 2022-02-16)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.18/erddapContent.zip",children:"2. 18"}),"   (19,792 bytes, MD5=8F892616BAEEF2DF0F4BB036DCB4AD7C, dat. 2022-02-16)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.21/erddapContent.zip",children:"2. 21"}),"   (19,810 bytes, MD5=1E26F62E7A06191,EE6868C40B9A29362, dat. 2022-10-09)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.22/erddapContent.zip",children:"2. 22"}),"   (19,810 bytes, MD5=1E26F62E7A06191EE6868C40B9A29362, dat. 2022-12-08)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.23/erddapContent.zip",children:"2. 23"}),"   (19,810 bytes, MD5=1E26F62E7A06191,EE6868C40B9A29362, dat. 2023-02-27)"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"other-directory",children:"Dal\u0161\xed adres\xe1\u0159"}),"\n",(0,t.jsxs)(n.p,{children:["Pro Red Hat Enterprise Linux (RHEL) nebo pro jin\xe9 situace, kdy nen\xed dovoleno upravovat adres\xe1\u0159 Tomcat nebo kde chcete/pot\u0159ebujete\r\nd\xe1t ERDDAP\u2122 adres\xe1\u0159 obsahu v jin\xe9m m\xedst\u011b z n\u011bjak\xe9ho jin\xe9ho d\u016fvodu (nap\u0159\xedklad, pokud pou\u017e\xedv\xe1te Jetty m\xedsto Tomcat) ,\r\nunzip ",(0,t.jsx)(n.code,{children:"erddapContent .zip "})," do po\u017eadovan\xe9ho adres\xe1\u0159e (na kter\xe9 pouze ",(0,t.jsx)(n.code,{children:"tomcat"})," u\u017eivatel m\xe1 p\u0159\xedstup) a nastavit ",(0,t.jsx)(n.code,{children:"erddapContentDirectory"})," vlastnost syst\xe9mu\r\n(nap\u0159. ",(0,t.jsx)(n.code,{children:"erddapContentDirectory  =~tomcat/content/erddap"})," ) tak ERDDAP\u2122 m\u016f\u017ee naj\xedt tento nov\xfd adres\xe1\u0159 obsahu."]}),"\n",(0,t.jsx)(n.h3,{id:"setupxml",children:"setup.xml"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.a,{href:"#setupxml",children:["P\u0159e\u010dti si koment\xe1\u0159e ",(0,t.jsx)(n.code,{children:"tomcat/content/erddap/setup.xml"})," "]})," a prov\xe9st po\u017eadovan\xe9 zm\u011bny. setup.xml je soubor se v\u0161emi nastaven\xedmi, kter\xe9 ur\u010duj\xed, jak ERDDAP\u2122 Chov\xe1 se slu\u0161n\u011b."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Pro po\u010d\xe1te\u010dn\xed nastaven\xed mus\xedte alespo\u0148 zm\u011bnit tato nastaven\xed:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"<bigParentDirectory>"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"<emailEverythingTo>"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"<baseUrl>"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<email...>"})," nastaven\xed"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<admin...>"})," nastaven\xed"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<baseHttpsUrl>"}),"   (Kdy\u017e jste to nachystali https )"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Kdy\u017e vytvo\u0159\xedte velk\xfd Rodi\u010d Directory, z rodi\u010dovsk\xe9ho adres\xe1\u0159e bigParentDirectory:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Make the ",(0,t.jsx)(n.code,{children:"tomcat"})," u\u017eivatel majitele ",(0,t.jsx)(n.code,{children:"velk\xfdRodi\u010d rodi\u010d\u016f"})," :","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"chown -R tomcat bigParentDirectory\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:['Zm\u011b\u0148te "skupina" b\xfdt tomcat, va\u0161e u\u017eivatelsk\xe9 jm\xe9no, nebo n\xe1zev mal\xe9 skupiny, kter\xe1 zahrnuje tomcat a v\u0161echny spr\xe1vce Tomcat/ ERDDAP :',"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"chgrp -R yourUserName bigParentDirectory\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Zm\u011bnit opr\xe1vn\u011bn\xed tak, aby Tomcat a skupina \u010detli, psali, prov\xe1d\u011bli pr\xe1va:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"chmod -R ug+rwx bigParentDirectory\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:['Odstra\u0148te "jin\xe9" u\u017eivatelsk\xe9 opr\xe1vn\u011bn\xed ke \u010dten\xed, z\xe1pisu nebo spu\u0161t\u011bn\xed. To je d\u016fle\u017eit\xe9, aby se zabr\xe1nilo \u010dten\xed potenci\xe1ln\u011b citliv\xfdch informac\xed\r\nv ERDDAP\u2122 log soubory a soubory s informacemi o soukrom\xfdch datov\xfdch souborech.',"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"chmod -R o-rwx bigParentDirectory\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"environment-variables",children:"Prom\u011bnn\xe9 prost\u0159ed\xed"}),"\n",(0,t.jsxs)(n.p,{children:["Za\u010dneme s ERDDAP\u2122 v2.13, ERDDAP\u2122 Spr\xe1vci mohou p\u0159epsat jakoukoli hodnotu v setup.xml zad\xe1n\xedm prom\u011bnn\xe9 prost\u0159ed\xed\r\njm\xe9no ",(0,t.jsx)(n.code,{children:" ERDDAP _hodnotaN\xe1zev"})," p\u0159ed spu\u0161t\u011bn\xedm ERDDAP\u2122 . Nap\u0159\xedklad pou\u017eit\xed ",(0,t.jsx)(n.code,{children:" ERDDAP _baseUrl"})," P\u0159ep\xed\u0161e ",(0,t.jsx)(n.code,{children:"<baseUrl>"})," hodnota.\r\nTo m\u016f\u017ee b\xfdt u\u017eite\u010dn\xe9 p\u0159i nasazen\xed ERDDAP\u2122 s kontejnerem jako je Docker, jak m\u016f\u017eete d\xe1t standardn\xed nastaven\xed do setup.xml\r\na pak dodat speci\xe1ln\xed nastaven\xed pomoc\xed prom\u011bnn\xfdch prost\u0159ed\xed. Pokud poskytnete tajn\xe9 informace ERDDAP\u2122 pomoc\xed t\xe9to metody,\r\nUjist\u011bte se, \u017ee informace z\u016fstanou v tajnosti. ERDDAP\u2122 pouze \u010dte prom\u011bnn\xe9 prost\u0159ed\xed jednou za spu\u0161t\u011bn\xed,\r\nv prvn\xed sekund\u011b startupu, tak\u017ee jeden zp\u016fsob, jak to pou\u017e\xedt, je: nastavit prom\u011bnn\xe9 prost\u0159ed\xed, za\u010d\xedt ERDDAP ,\r\nPo\u010dkej. ERDDAP\u2122 je spu\u0161t\u011bn, pak odnastavit prom\u011bnn\xe9 prost\u0159ed\xed."]}),"\n",(0,t.jsx)(n.h3,{id:"datasetsxml",children:"datasets.xml"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["P\u0159e\u010dti si koment\xe1\u0159e ",(0,t.jsxs)(n.a,{href:"/docs/server-admin/datasets",children:[" ",(0,t.jsx)(n.strong,{children:"Pr\xe1ce s datasets.xml Soubor"})," "]})," . Pozd\u011bji, a\u017e se dostane\u0161 ERDDAP\u2122 b\u011b\u017e\xed\r\npoprv\xe9 (obvykle pouze s v\xfdchoz\xedmi soubory dat) , budete modifikovat XML v ",(0,t.jsx)(n.code,{children:"tomcat/content/erddap/ datasets.xml "}),"\r\nk ur\u010den\xed v\u0161ech soubor\u016f dat, kter\xe9 chcete ERDDAP\u2122 slou\u017eit. Tady bude\u0161 tr\xe1vit v\u011bt\u0161inu \u010dasu.\r\np\u0159i nastaven\xed ERDDAP\u2122 a pozd\u011bji p\u0159i zachov\xe1n\xed ERDDAP\u2122 ."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["M\u016f\u017eete vid\u011bt p\u0159\xedklad ",(0,t.jsx)(n.a,{href:"https://github.com/ERDDAP/erddap/blob/main/development/jetty/config/datasets.xml",children:" datasets.xml na GitHubu"})," .\r\n\xa0"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["(Nepravd\u011bpodobn\xe9) Te\u010f nebo (o n\u011bco pravd\u011bpodobn\u011bj\u0161\xed) v budoucnu, pokud chcete zm\u011bnit soubor Erddap CSS, kop\xedrujte\r\n",(0,t.jsx)(n.code,{children:"Tomcat/content/erddap/images/erddapStart2.cs"})," a\u017e ",(0,t.jsx)(n.code,{children:"Tomcat/content/erddap/images/erddap2.cs"})," a pak ud\u011blat zm\u011bny.\r\nZm\u011bny ",(0,t.jsx)(n.code,{children:"erddap2.css"})," nab\xfdvaj\xed \xfa\u010dinku pouze tehdy, ERDDAP\u2122 je restartov\xe1n a \u010dasto tak\xe9 vy\u017eaduje, aby u\u017eivatel vymazal cachovan\xe9 soubory prohl\xed\u017ee\u010de.\r\n\xa0\r\nERDDAP\u2122 nefunguje spr\xe1vn\u011b, pokud nastaven\xed.xml nebo datasets.xml soubor nen\xed dob\u0159e vytvo\u0159en\xfd XML soubor. Tak\u017ee, po editaci t\u011bchto soubor\u016f,\r\nje dobr\xfd n\xe1pad ov\u011b\u0159it, \u017ee v\xfdsledek je dob\u0159e vytvo\u0159en\xfd XML vlo\u017een\xedm XML textu do XML checkeru, jako je ",(0,t.jsx)(n.a,{href:"https://www.xmlvalidation.com/",children:"xmlvalidace"})," .\r\n\xa0"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"install-the-erddapwar-file",children:"Nainstalujte erddap. v\xe1le\u010dn\xfd soubor"}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsxs)(n.li,{children:["Na Linuxu, Macu a Windows, __download ",(0,t.jsx)(n.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.28.1/erddap.war",children:"erddap.war"})," __ do ",(0,t.jsx)(n.code,{children:"Tamcat/webaps"})," :"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Version 2.28.1, 622,676,238 bytes, MD5=48b4226045f950c8a8d69ef9521b9bc9, dated 2025-09-05"})}),"\n",(0,t.jsx)(n.p,{children:"Soubor .war je velk\xfd, proto\u017ee obsahuje pob\u0159e\u017e\xed s vysok\xfdm rozli\u0161en\xedm, hranice a nadmo\u0159sk\xe9 v\xfd\u0161ky pot\u0159ebn\xe9 k vytvo\u0159en\xed map."}),"\n",(0,t.jsx)(n.p,{children:"N\u011bkter\xe9 p\u0159edchoz\xed verze jsou tak\xe9 k dispozici."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.17/erddap.war",children:"2. 17"}),"   (551,068,245 bytes, MD5=5FEA912B5D42E50EAB9591F773EA848D, dat. 2022-02-16)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.18/erddap.war",children:"2. 18"}),"   (551,069,844 bytes, MD5=461325E97E7577EC671DD50246CCFB8B, dat. 2022-02-23)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.21/erddap.war",children:"2. 21"}),"   (568,644,411 bytes, MD5=F2CFF805893146E932E498FDDB519B6, dat. 2022-10-09)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.22/erddap.war",children:"2. 22"}),"   (567,742,765 bytes, MD5=2B33354F633294213AE2AFDDCF4DA6D0, dat. 2022-12-08)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.23/erddap.war",children:"2. 23"}),"   (572,124,953 bytes, MD5=D843A043C506725EBD6F8EFDCCA8FD5F, dat. 2023-03-03)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.24/erddap.war",children:"2. 24"}),"   (568,748,187 bytes, MD5=970fbee172e28b0b8a07756eecbc898e, dat.2024-06-07e)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.25.1/erddap.war",children:"2. 25"}),"   (592,292,039 bytes, MD5=652AFC9D1421F00B5F789DA2C4732D4C, datov\xe1no 2024-11-07)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.26.0/erddap.war",children:"2. 26"}),"   (607,404,032 bytes, MD5=99a725108b37708e5420986c1616a119, dat. 2025-03-31)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.27.0/erddap.war",children:"2, 27. 0"}),"   (620,554,403 bytes, MD5=3b2086c659eee4145ca2dff447bf4ef7, dat. 2025-06-11)"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"proxy",children:"Nastavit proxy (specifick\xe9 nasazen\xed)"}),"\n",(0,t.jsx)(n.p,{children:"ERDDAP\u2122 je obvykle nasazen za webserveru reverzn\xed proxy, aby bylo mo\u017en\xe9 jej obslou\u017eit na standardn\xedch HTTP portech (80 a 443) .\r\nUkon\u010den\xed SSL/TLS je \u010dasto zahaleno i ve vrstv\u011b proxy serveru. Specifikace z\xe1vis\xed na po\u017eadavc\xedch ka\u017ed\xe9ho nasazen\xed."}),"\n",(0,t.jsx)(n.h4,{id:"apache",children:"Apa\u010d"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Zajistit, aby ",(0,t.jsx)(n.code,{children:"mod_ proxy"})," a ",(0,t.jsx)(n.code,{children:"mod_proxy_ http "})," jsou nalo\u017eeny:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"LoadModule proxy_module modules/mod_proxy.so\r\nLoadModule proxy_http_module modules/mod_proxy_http.so\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:["Upravit existuj\xedc\xed ",(0,t.jsx)(n.code,{children:"<VirtualHost>"})," Zna\u010dka (pokud n\u011bjak\xfd existuje) , nebo p\u0159idat jeden na konci souboru:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"<VirtualHost *:80>\r\n   ServerName YourDomain.org\r\n   ProxyRequests Off\r\n   ProxyPreserveHost On\r\n   ProxyPass /erddap http://localhost:8080/erddap\r\n   ProxyPassReverse /erddap http://localhost:8080/erddap\r\n</VirtualHost>\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Pokud ERDDAP\u2122 se pod\xe1v\xe1 na jin\xe9 cest\u011b ne\u017e ",(0,t.jsx)(n.code,{children:"/erddap"})," , tak\xe9 nastavit ",(0,t.jsx)(n.code,{children:"X- Forward- Prefix"})," hlavi\u010dka k\r\n\xfasek cesty ",(0,t.jsx)(n.em,{children:"p\u0159ed"})," ",(0,t.jsx)(n.code,{children:"/erddap"})," . Toto nastaven\xed by bylo vhodn\xe9 pro ERDDAP\u2122 pod\xe1van\xe9 v\r\n",(0,t.jsx)(n.code,{children:"/subpath/erddap"})," :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"RequestHeader set X-Forwarded-Prefix /subpath\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsxs)(n.li,{children:["Pak restartujte Apache: ",(0,t.jsx)(n.code,{children:"/usr/sbin/apachectl - K elegantn\xed."}),"   (ale n\u011bkdy je v jin\xe9m adres\xe1\u0159i) .\r\n\xa0"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"nginx",children:"NGINX"}),"\n",(0,t.jsx)(n.p,{children:"V konfigura\u010dn\xedm souboru zadejte tyto hlavi\u010dky:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"proxy_set_header Host              $http_host;\r\nproxy_set_header X-Real-IP         $remote_addr;\r\nproxy_set_header REMOTE_ADDR       $remote_addr;\r\nproxy_set_header HTTP_CLIENT_IP    $remote_addr;\r\nproxy_set_header X-Forwarded-For   $proxy_add_x_forwarded_for;\r\nproxy_set_header X-Forwarded-Proto $scheme;\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Pokud ERDDAP\u2122 se pod\xe1v\xe1 na jin\xe9 cest\u011b ne\u017e ",(0,t.jsx)(n.code,{children:"/erddap"})," , tak\xe9 nastavit ",(0,t.jsx)(n.code,{children:"X- Forward- Prefix"})," hlavi\u010dka k\r\n\xfasek cesty ",(0,t.jsx)(n.em,{children:"p\u0159ed"})," ",(0,t.jsx)(n.code,{children:"/erddap"})," . Toto nastaven\xed by bylo vhodn\xe9 pro ERDDAP\u2122 pod\xe1van\xe9 v\r\n",(0,t.jsx)(n.code,{children:"/subpath/erddap"})," :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"proxy_set_header X-Forwarded-Prefix /subpath\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Pro z\xedsk\xe1n\xed NGINX a ERDDAP\u2122 spr\xe1vn\u011b pracovat s https , mus\xedte d\xe1t n\xe1sleduj\xedc\xed \xfaryvek do Tomcat server.xml ",(0,t.jsx)(n.code,{children:"<Host>"})," blok:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'<Valve className="org.apache.catalina.valves.RemoteIpValve"\r\n  remoteIpHeader="X-Forwarded-For"\r\n  protocolHeader="X-Forwarded-Proto"\r\n  protocolHeaderHttpsValue="https" />\n'})}),"\n",(0,t.jsx)(n.p,{children:"\xa0"}),"\n",(0,t.jsx)(n.h3,{id:"start-tomcat",children:"Spustit Tomcat"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"(Nedoporu\u010duji pou\u017e\xedvat Tomcat Web Application Manager. Pokud \xfapln\u011b nevypnete a nespust\xedte Tomcat, d\u0159\xedve nebo pozd\u011bji budete m\xedt probl\xe9my s permGen pam\u011bt\xed.)"}),"\n",(0,t.jsx)(n.li,{children:"(V Linuxu nebo Mac OS, pokud jste vytvo\u0159ili speci\xe1ln\xedho u\u017eivatele ke spu\u0161t\u011bn\xed Tomcat, nap\u0159. Tomcat, nezapome\u0148te ud\u011blat n\xe1sleduj\xedc\xed kroky jako tento u\u017eivatel.)"}),"\n",(0,t.jsxs)(n.li,{children:["Pokud Tomcat u\u017e b\u011b\u017e\xed, zav\u0159ete Tomcat s (v Linuxu nebo Mac OS)   ",(0,t.jsx)(n.code,{children:"Tomcat/bin/shutdown.sh"}),"\r\nnebo (ve Windows)   ",(0,t.jsx)(n.code,{children:"tomcat\\bin\\\\ shutdown.bat "})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["U Linuxu pou\u017eijte ",(0,t.jsx)(n.code,{children:"ps -ef | grep tomcat"})," p\u0159ed a po ",(0,t.jsx)(n.code,{children:"Vypnout. s"})," aby se ujistil, \u017ee proces tomcat p\u0159estal.\r\nProces by m\u011bl b\xfdt uveden p\u0159ed vypnut\xedm a po vypnut\xed by nakonec nebyl uveden.\r\nTo m\u016f\u017ee trvat minutu nebo dv\u011b pro ERDDAP\u2122 \xfapln\u011b vypnuto. Bu\u010f trp\u011bliv\xfd. Nebo pokud to vypad\xe1, \u017ee to s\xe1m nezastav\xed, pou\u017eijte:\r\n",(0,t.jsx)(n.code,{children:"zab\xedt - 9 <processID> "})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Za\u010dn\u011bte s Tomcat (v Linuxu nebo Mac OS)   ",(0,t.jsx)(n.code,{children:"tomcat/bin/startup.sh"})," nebo (ve Windows)   ",(0,t.jsx)(n.code,{children:"Tomcat\\bin\\\\ startup.bat"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"is-erddap-running",children:"Je ERDDAP\u2122 B\u011bhat?"}),"\n",(0,t.jsxs)(n.p,{children:["Pro zobrazen\xed pou\u017eijte prohl\xed\u017ee\u010d",(0,t.jsx)(n.a,{href:"http://www.YourServer.org/erddap/status.html",children:"http://www.YourServer.org/erddap/status.html"}),".\r\nERDDAP\u2122 Za\u010d\xedn\xe1 bez na\u010dten\xed dat. Datasety jsou na\u010dteny v podkladov\xe9m vl\xe1kn\u011b, tak\u017ee jsou dostupn\xe9 jedno po druh\xe9m."]}),"\n",(0,t.jsx)(n.h3,{id:"troubleshooting",children:"\u0158e\u0161en\xed probl\xe9m\u016f"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Kdy\u017e p\u0159ijde \u017e\xe1dost u\u017eivatele, jde do Apache (na po\u010d\xedta\u010d\xedch Linux a Mac OS) , pak Tomcat, pak ERDDAP\u2122 ."}),"\n",(0,t.jsx)(n.li,{children:"M\u016f\u017eete vid\u011bt, co p\u0159ijde do Apa\u010de (a souvisej\xedc\xed chyby) v z\xe1znamech Apache."}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/server-admin/additional-information#tomcat-logs",children:"Ty."})," m\u016f\u017ee vid\u011bt, co p\u0159ijde na Tomcat (a souvisej\xedc\xed chyby)\r\nv souborech protokolu Tomcat ( ",(0,t.jsx)(n.code,{children:"Tomcat/logs/catalina.out"})," a dal\u0161\xed soubory v tomto adres\xe1\u0159i) ."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/server-admin/additional-information#log",children:"Ty."})," m\u016f\u017ee vid\u011bt, co p\u0159ijde na ERDDAP , diagnostick\xe9 zpr\xe1vy z ERDDAP ,\r\na chybov\xe9 zpr\xe1vy z ERDDAP , v ERDDAP\u2122   ",(0,t.jsx)(n.code,{children:" <bigParentDirectory> /logs/log.txt"})," Slo\u017eka."]}),"\n",(0,t.jsx)(n.li,{children:"Tomcat neza\u010d\xedn\xe1. ERDDAP\u2122 dokud Tomcat nedostane \u017e\xe1dost o ERDDAP\u2122 . Tak\u017ee m\u016f\u017eete vid\u011bt v z\xe1znamech Tomcat, pokud to\r\nZa\u010dalo ERDDAP\u2122 nebo pokud existuje chybov\xe1 zpr\xe1va souvisej\xedc\xed s t\xedmto pokusem."}),"\n",(0,t.jsxs)(n.li,{children:["Kdy? ERDDAP\u2122 Za\u010d\xedn\xe1 to, p\u0159ejmenov\xe1v\xe1 star\xe9 ERDDAP\u2122 log.txt soubor ( ",(0,t.jsx)(n.code,{children:"logArchivedAt <CurrentTime> .txt"})," ) a vytvo\u0159\xed nov\xfd log.txt soubor.\r\nTak\u017ee pokud ",(0,t.jsx)(n.code,{children:"log.txt"})," soubor je star\xfd, je to znamen\xed, \u017ee ERDDAP\u2122 Je\u0161t\u011b se nevr\xe1til. ERDDAP\u2122 zap\xed\u0161e informace o z\xe1znamu do bufferu\r\na pouze pravideln\u011b p\xed\u0161e buffer do log souboru, ale m\u016f\u017eete nutit ERDDAP\u2122 napsat buffer do souboru protokolu n\xe1v\u0161t\u011bvou\r\n",(0,t.jsx)(n.code,{children:"/erddap/status.html"})," ."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"trouble-old-version-of-java",children:"Probl\xe9m: Star\xe1 verze Java"}),"\n",(0,t.jsx)(n.p,{children:"Pokud pou\u017e\xedv\xe1te verzi Java To je p\u0159\xedli\u0161 star\xe9 na ERDDAP , ERDDAP\u2122 nebude b\u011b\u017eet a uvid\xedte chybovou zpr\xe1vu v Tomcat je log souboru jako"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'Exception in thread "main" java.lang.UnsupportedClassVersionError:\r\n_some/class/name_: Unsupported major.minor version _someNumber_\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u0158e\u0161en\xedm je aktualizovat na nejnov\u011bj\u0161\xed verzi Java A ujisti se, \u017ee ji Tomcat pou\u017e\xedv\xe1."}),"\n",(0,t.jsx)(n.h3,{id:"trouble-slow-startup-first-time",children:"Probl\xe9m: Pomal\xe9 spu\u0161t\u011bn\xed poprv\xe9"}),"\n",(0,t.jsxs)(n.p,{children:["Tomcat mus\xed ud\u011blat hodn\u011b pr\xe1ce, kdy\u017e poprv\xe9 aplikace jako ERDDAP\u2122 je zah\xe1jena; zejm\xe9na mus\xed vybalit ",(0,t.jsx)(n.code,{children:"erddap.war"})," soubor\r\n(co\u017e je jako .zip soubor) . Na n\u011bkter\xfdch serverech, prvn\xed pokus o zobrazen\xed ERDDAP\u2122 st\xe1nky (30 sekund?) Dokud ta pr\xe1ce neskon\u010d\xed.\r\nNa jin\xfdch serverech prvn\xed pokus okam\u017eit\u011b sel\u017ee. Ale kdy\u017e po\u010dk\xe1te 30 sekund a zkus\xedte to znovu, usp\u011bje to, pokud ERDDAP\u2122 byla nainstalov\xe1na spr\xe1vn\u011b."]}),"\n",(0,t.jsx)(n.p,{children:"Na tohle nen\xed \u0159e\u0161en\xed. Takhle prost\u011b Tomcat pracuje. Ale to nastane pouze poprv\xe9 pot\xe9, co nainstalujete novou verzi ERDDAP\u2122 ."}),"\n",(0,t.jsx)(n.h2,{id:"shut-down-and-restart",children:"Vypnout a restartovat"}),"\n",(0,t.jsxs)(n.p,{children:["V budoucnosti, zav\u0159\xedt (a restartovat)   ERDDAP\u2122 , viz ",(0,t.jsx)(n.a,{href:"/docs/server-admin/additional-information#shut-down-and-restart",children:"Jak vypnout a znovu nastartovat Tomcat a ERDDAP "})," ."]}),"\n",(0,t.jsx)(n.h2,{id:"trouble",children:"Probl\xe9my?"}),"\n",(0,t.jsxs)(n.p,{children:["Pot\xed\u017ee s instalac\xed Tomcat nebo ERDDAP\u2122 ? Pod\xedvejte se na na\u0161e ",(0,t.jsx)(n.a,{href:"/docs/intro#support",children:"odd\xedl o z\xedsk\xe1n\xed dodate\u010dn\xe9 podpory"})," ."]}),"\n",(0,t.jsx)(n.h2,{id:"email-notification-of-new-versions-of-erddap",children:"E-mailov\xe9 ozn\xe1men\xed nov\xfdch verz\xed ERDDAP"}),"\n",(0,t.jsxs)(n.p,{children:["Pokud chcete dost\xe1vat e-mail, kdykoli nov\xe1 verze ERDDAP\u2122 je k dispozici nebo jin\xe9 d\u016fle\u017eit\xe9 ERDDAP\u2122 ozn\xe1men\xed,\r\nM\u016f\u017eete se p\u0159ipojit k ERDDAP\u2122 seznam ozn\xe1men\xed ",(0,t.jsx)(n.a,{href:"https://groups.google.com/g/erddap-announce",children:"Tady."})," . Tento seznam m\xe1 pr\u016fm\u011br zhruba jeden e-mail ka\u017ed\xe9 t\u0159i m\u011bs\xedce."]}),"\n",(0,t.jsx)(n.h2,{id:"customize",children:"P\u0159izp\u016fsobit"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#customize",children:"P\u0159izp\u016fsobte si sv\u016fj ERDDAP\u2122 zv\xfdraznit va\u0161i organizaci (ne NOAA   ERD ) ."})}),"\n",(0,t.jsxs)(n.li,{children:["Zm\u011b\u0148te banner, kter\xfd se objev\xed naho\u0159e ERDDAP\u2122 .html str\xe1nky editac\xed ",(0,t.jsx)(n.code,{children:"<startBodyHtml5>"})," tag in your ",(0,t.jsx)(n.code,{children:"datasets.xml"})," Slo\u017eka.\r\n(Pokud \u017e\xe1dn\xfd nen\xed, zkop\xedrujte v\xfdchoz\xed z ERDDAP\u2122 's ",(0,t.jsx)(n.code,{children:"Tomcat/webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/ messages.xml"})," soubor\r\ndo ",(0,t.jsx)(n.code,{children:"datasets.xml"})," a upravit.) Nap\u0159\xedklad byste mohli:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Pou\u017e\xedt jin\xfd obr\xe1zek (tj. logo va\u0161\xed organizace) ."}),"\n",(0,t.jsx)(n.li,{children:"Zm\u011b\u0148te barvu pozad\xed."}),"\n",(0,t.jsxs)(n.li,{children:['Zm\u011bna " ERDDAP\u2122 "na "',(0,t.jsx)(n.em,{children:"Va\u0161eOrganizace"}),' ERDDAP\u2122 "']}),"\n",(0,t.jsxs)(n.li,{children:['Zm\u011b\u0148te "jednodu\u0161\u0161\xed p\u0159\xedstup k v\u011bdeck\xfdm dat\u016fm" na "jednodu\u0161\u0161\xed p\u0159\xedstup k dat\u016fm ',(0,t.jsx)(n.em,{children:"YourOrganization"}),'."']}),"\n",(0,t.jsx)(n.li,{children:'Zm\u011b\u0148te odkazy "P\u0159ivedl k v\xe1m" na odkazy na va\u0161i organizaci a zdroje financov\xe1n\xed.'}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Zm\u011bnit informace na lev\xe9 stran\u011b domovsk\xe9 str\xe1nky editac\xed ",(0,t.jsx)(n.code,{children:"<theShortDescriptionHtml>"})," tag in your ",(0,t.jsx)(n.code,{children:"datasets.xml"})," Slo\u017eka.\r\n(Pokud \u017e\xe1dn\xfd nen\xed, zkop\xedrujte v\xfdchoz\xed z ERDDAP\u2122 's ",(0,t.jsx)(n.code,{children:"Tomcat/webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/ messages.xml"})," soubor\r\ndo ",(0,t.jsx)(n.code,{children:"datasets.xml"})," a upravit.) Nap\u0159\xedklad byste mohli:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Popi\u0161te, co va\u0161e organizace a/nebo skupina d\u011bl\xe1."}),"\n",(0,t.jsx)(n.li,{children:"Popi\u0161te jak\xe1 data to jsou. ERDDAP\u2122 Ano."}),"\n",(0,t.jsxs)(n.li,{children:["Chcete-li zm\u011bnit ikonu, kter\xe1 se objev\xed na z\xe1lo\u017ece prohl\xed\u017ee\u010de, vlo\u017ete do va\u0161\xed organizace favicon. ico in ",(0,t.jsx)(n.code,{children:"Tomcat/content/erddap/images/"})," .\r\nVizhttps://en.wikipedia.org/wiki/Favicon."]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);