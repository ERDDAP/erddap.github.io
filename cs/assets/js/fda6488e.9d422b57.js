"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[7717],{28453:(e,o,t)=>{t.d(o,{R:()=>a,x:()=>i});var n=t(96540);const s={},r=n.createContext(s);function a(e){const o=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function i(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(r.Provider,{value:o},e.children)}},61336:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>n,toc:()=>p});const n=JSON.parse('{"id":"user/AccessToPrivateDatasets","title":"Access to Private Datasets","description":"MnohoERDDAP\u2122instalace nemaj\xed autentizaci povolenou, a proto nemaj\xed pro u\u017eivatele \u017e\xe1dn\xfd zp\u016fsob, jak se p\u0159ihl\xe1sit, ani nemaj\xed \u017e\xe1dn\xe9 soukrom\xe9 soubory dat.","source":"@site/i18n/cs/docusaurus-plugin-content-docs/current/user/AccessToPrivateDatasets.md","sourceDirName":"user","slug":"/user/AccessToPrivateDatasets","permalink":"/cs/docs/user/AccessToPrivateDatasets","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/user/AccessToPrivateDatasets.md","tags":[],"version":"current","frontMatter":{"title":"Access to Private Datasets"},"sidebar":"docSidebar","previous":{"title":"User","permalink":"/cs/docs/category/user"},"next":{"title":"NCCSV 1.00","permalink":"/cs/docs/user/nccsv-1.00"}}');var s=t(74848),r=t(28453);const a={title:"Access to Private Datasets"},i="P\u0159\xedstup k priv\xe1tn\xedm dat\u016fm vERDDAP\u2122",c={},p=[{value:"Aktualizovan\xe9 pokyny",id:"updated-instructions",level:2},{value:"Lid\xe9 s prohl\xed\u017ee\u010di",id:"humans-with-browsers",level:2},{value:"Skripty",id:"scripts",level:2}];function l(e){const o={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.header,{children:(0,s.jsx)(o.h1,{id:"p\u0159\xedstup-k-priv\xe1tn\xedm-dat\u016fm-verddap",children:"P\u0159\xedstup k priv\xe1tn\xedm dat\u016fm vERDDAP\u2122"})}),"\n",(0,s.jsx)(o.p,{children:"MnohoERDDAP\u2122instalace nemaj\xed autentizaci povolenou, a proto nemaj\xed pro u\u017eivatele \u017e\xe1dn\xfd zp\u016fsob, jak se p\u0159ihl\xe1sit, ani nemaj\xed \u017e\xe1dn\xe9 soukrom\xe9 soubory dat."}),"\n",(0,s.jsx)(o.p,{children:"N\u011bkter\xe9ERDDAP\u2122instalace maj\xed povolenou autentizaci. V sou\u010dasn\xe9 dob\u011b,ERDDAP\u2122podporuje autentizaci pouze prost\u0159ednictv\xedm e-mailov\xfdch \xfa\u010dt\u016f spravovan\xfdch spole\u010dnost\xed Google, kter\xe9 zahrnuj\xed e-mailov\xe9 \xfa\u010dty naNOAAa mnoho univerzit. PokudERDDAP\u2122m\xe1 autentizaci povolenou, ka\u017ed\xfd, kdo m\xe1 e-mailov\xfd \xfa\u010det veden\xfd spole\u010dnost\xed Google, se m\u016f\u017ee p\u0159ihl\xe1sit, ale bude m\xedt p\u0159\xedstup pouze k soukrom\xfdm soubor\u016fm \xfadaj\u016f, kter\xe9ERDDAP\u2122Spr\xe1vce jim v\xfdslovn\u011b povolil p\u0159\xedstup."}),"\n",(0,s.jsx)(o.h2,{id:"updated-instructions",children:"Aktualizovan\xe9 pokyny"}),"\n",(0,s.jsxs)(o.p,{children:["N\u011bkter\xe9 z n\xed\u017ee uveden\xfdch informac\xed jsou zastaral\xe9. A\u017e do t\xe9to aktualizace m\u016f\u017eete pou\u017e\xedt",(0,s.jsx)(o.a,{href:"https://shospital.github.io/blog/posts/blog-post/erddap_private_dataset.html",children:"tento blog post"}),"pro ned\xe1vn\xe9 kroky k z\xedsk\xe1n\xed dat ze soukrom\xe9ho datov\xe9ho souboru se skripty."]}),"\n",(0,s.jsx)(o.h2,{id:"humans-with-browsers",children:"Lid\xe9 s prohl\xed\u017ee\u010di"}),"\n",(0,s.jsx)(o.p,{children:"U\u017eivatel\xe9ERDDAP\u2122m\u016f\u017ee se p\u0159ihl\xe1sitERDDAP\u2122v prohl\xed\u017ee\u010di za \xfa\u010delem z\xedsk\xe1n\xed p\u0159\xedstupu k soukrom\xfdm soubor\u016fm dat, ke kter\xfdm maj\xed opr\xe1vn\u011bn\xed."}),"\n",(0,s.jsx)(o.p,{children:"Pro p\u0159ihl\xe1\u0161en\xed:"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsx)(o.li,{children:"Klikn\u011bte na p\u0159ihla\u0161ovac\xed odkaz v lev\xe9 horn\xed \u010d\xe1stiERDDAP\u2122webov\xe9 str\xe1nky.\r\nPokud nen\xed \u017e\xe1dn\xfd z\xe1znam v odkazu,ERDDAP\u2122instalace nem\xe1 zapnutou autentizaci a neexistuj\xed \u017e\xe1dn\xe9 soukrom\xe9 soubory dat.\r\n\xa0"}),"\n",(0,s.jsx)(o.li,{children:'Kliknut\xedm na tla\u010d\xedtko P\u0159ihl\xe1sit se m\u016f\u017eete p\u0159ihl\xe1sit do \xfa\u010dtu Google.\r\nText tla\u010d\xedtka by m\u011bl b\xfdt p\u0159epnut na "Podeps\xe1n."\r\n\xa0'}),"\n",(0,s.jsxs)(o.li,{children:["Klikn\u011bte na z\xe1znam doERDDAPknofl\xedk.\r\nWebov\xe1 str\xe1nka by m\u011bla zm\u011bnit n\xe1zev Jste p\u0159ihl\xe1\u0161eni jako ",(0,s.jsx)(o.em,{children:"Va\u0161e EmailAdresa"})," .\r\nPokud ne, po\u010dkejte 5 sekund a klikn\u011bte na z\xe1znam doERDDAPZase knofl\xedk.\r\nV extr\xe9mn\xedch p\u0159\xedpadech mo\u017en\xe1 budete muset po\u010dkat a n\u011bkolikr\xe1t to zkusit znovu.\r\n\xa0"]}),"\n",(0,s.jsx)(o.li,{children:'Nepou\u017e\xedvej zadn\xed tla\u010d\xedtko prohl\xed\u017ee\u010de. Pou\u017eijte "ERDDAP" odkaz v horn\xed \u010d\xe1sti v\xfd\u0161e, pak pou\u017eijte jin\xe9 odkazy p\u0159ej\xedt naERDDAP\u2122str\xe1nky, kter\xe9 v\xe1s zaj\xedmaj\xed. Pokud cached webov\xe1 str\xe1nka \u0159\xedk\xe1, \u017ee nejste p\u0159ihl\xe1\u0161eni, znovu na\u010d\xedst str\xe1nku.\r\n\xa0'}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"scripts",children:"Skripty"}),"\n",(0,s.jsx)(o.p,{children:"\\[To je m\xedrn\u011b upraveno z informac\xed poskytnut\xfdch Lynn DeWittovou, kter\xe1 odvedla t\u011b\u017ekou pr\xe1ci p\u0159i \u0159e\u0161en\xed tohoto probl\xe9mu. Lynn, d\xedky moc!\r\nPokud m\xe1te opravy nebo n\xe1vrhy, pros\xedm email erd.data @ noaa.gov .\\]"}),"\n",(0,s.jsx)(o.p,{children:"Je tak\xe9 mo\u017en\xe9 se p\u0159ihl\xe1sit doERDDAP\u2122a p\u0159\xedstup k soukrom\xfdm soubor\u016fm prost\u0159ednictv\xedm skriptu. Zde je p\u0159\xedklad, kter\xfd pou\u017e\xedv\xe1curl:"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsx)(o.li,{children:"Tyto instrukce p\u0159edpokl\xe1daj\xed, \u017ee pou\u017e\xedv\xe1te Gmail adresu, kde nen\xed zapnuta dvoufaktorov\xe1 autentizace. Pokud m\xe1 va\u0161e hlavn\xed gmailov\xe1 adresa zapnutou autentizaci 2-faktor, zva\u017ete vytvo\u0159en\xed dal\u0161\xed gmailov\xe9 adresy s vypnutou autentizac\xed 2-faktor\u016f.\r\n\xa0"}),"\n",(0,s.jsx)(o.li,{children:"P\u0159ihl\xe1sit seERDDAP\u2122ru\u010dn\u011b s gmailovou adresou, kterou chcete pou\u017e\xedt ve va\u0161em skriptu a p\u0159ijmout ve\u0161ker\xe1 pot\u0159ebn\xe1 povolen\xed, pak se zcela odhl\xe1sit zp\u011bt.\r\n\xa0"}),"\n",(0,s.jsx)(o.li,{children:"Otev\u0159ete n\xe1stroj v\xfdvoj\xe1\u0159e prohl\xed\u017ee\u010de a p\u0159ejd\u011bte na kartu Network.\r\n\xa0"}),"\n",(0,s.jsx)(o.li,{children:'Klikn\u011bte naERDDAP\u2122"log in" odkaz, pak tla\u010d\xedtko "P\u0159ihl\xe1sit" a vyberte vhodnou e-mailovou adresu, pokud je vyzv\xe1n.\r\n\xa0'}),"\n",(0,s.jsx)(o.li,{children:'Pot\xe9, co se tla\u010d\xedtko "P\u0159ihl\xe1sit" zm\u011bn\xed na "Signed in," z\xe1lo\u017eka Developer Tools Network zobraz\xed dv\u011b polo\u017eky, kter\xe9 vypadaj\xed jako n\xe1sleduj\xedc\xed (p\u0159\xedklad z Firefoxu) :'}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"    iframerpc?action=issueToken&response loginGoogle.html  \n"})}),"\n",(0,s.jsx)(o.p,{children:'Pomoc\xed my\u0161i prav\xfdm tla\u010d\xedtkem kontextov\xe9 menu "kop\xedrovat jako CURL" oba tyto URL a vlo\u017ete je do textov\xe9ho editoru\r\n\xa0\r\n6. Klikn\u011bte na "P\u0159ipojit doERDDAP" tla\u010d\xedtko a "kop\xedrovat jako CURL" odkaz, kter\xfd vypad\xe1 jako:'}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"    login.html  \n"})}),"\n",(0,s.jsxs)(o.p,{children:["a vlo\u017ete to t\u0159et\xed.curlP\u0159\xedkaz do textov\xe9ho souboru.\r\n\xa0\r\n7. V textov\xe9m souboru budete m\xedt nyn\xed 3 \u0159\xe1dky, jako jsou n\xe1sleduj\xedc\xed, kde jste se p\u0159ihl\xe1sili doERDDAP\u2122server v ' * ",(0,s.jsx)(o.a,{href:"https://host.somewhere.com/erddap",children:"https://host.somewhere.com/erddap"}),' * \'. Prvn\xedcurlp\u0159\xedkaz z\xedsk\xe1 v\xe1\u0161 u\u017eivatelsk\xfd profil v "login\\_hint" a vytvo\u0159\xed "id\\_token." Druh\xfd pou\u017e\xedv\xe1 id\\_token pro p\u0159ihl\xe1\u0161en\xed do Google, a t\u0159et\xed pak p\u0159ihl\xe1s\xed doERDDAP.']}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"    curl 'https://accounts.google.com/o/oauth2/iframerpc?action=issueToken&response\\\\_type=token%20id\\\\_token&scope=openid%20profile%20email&client\\\\_id=ABCDEFG.apps.googleusercontent.com&login\\\\_hint=XXXXXXXXXX&ss\\\\_domain=https%3A%2F%2Fhost.somewhere.com&origin=https%3A%2F%2Fhost.somewhere.com' --2.0 -H 'Host: accounts.google.com' -H 'User-Agent: useragentstuff' -H 'Accept: \\\\*/\\\\*' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://accounts.google.com/o/oauth2/iframe' -H 'Cookie: lotsofcookiestuff' -H 'Connection: keep-alive' curl 'https://host.somewhere.com/erddap/loginGoogle.html' -H 'Host: host.somewhere.com' -H 'User-Agent: useragentstuff' -H 'Accept: \\\\*/\\\\*' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://host.somewhere.com/erddap/login.html' -H 'Content-Type: application/x-www-form-urlencoded' -H 'Cookie: cookiestuff' -H 'Connection: keep-alive' --data 'idtoken=HUGELONGIDTOKEN' curl 'https://host.somewhere.com/erddap/login.html' -H 'Host: host.somewhere.com' -H 'User-Agent: useragentstuff' -H 'Accept: typeacceptstuff' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://host.somewhere.com/erddap/login.html' -H 'Cookie: cookiestuff' -H 'Connection: keep-alive' -H 'Upgrade-Insecure-Requests: 1'\n"})}),"\n",(0,s.jsxs)(o.ol,{start:"8",children:["\n",(0,s.jsx)(o.li,{children:"V\xfd\u0161e uveden\xe9 3 \u0159\xe1dky, kdy\u017e b\u011b\u017e\xed postupn\u011b z p\u0159\xedkazov\xe9ho \u0159\xe1dku, se p\u0159ihl\xe1s\xed doERDDAP. Abyste je mohli pou\u017e\xedt ve skriptu, mus\xedte zachytit id\\_token z prvn\xedho \u0159\xe1dku, hodit je do druh\xe9ho \u0159\xe1dku a napsat cookie, kter\xe9 budou \u010dteny n\xe1sleduj\xedc\xedmi \u0159\xe1dky.\r\n\xa0"}),"\n",(0,s.jsxs)(o.li,{children:["Chcete-li vytvo\u0159it sc\xe9n\xe1\u0159, spus\u0165te prvn\xed (' ",(0,s.jsx)(o.a,{href:"https://accounts.google.com",children:"https://accounts.google.com"}),' )  curllinka p\u0159esn\u011b tak, jak byla zkop\xedrov\xe1na z n\xe1stroj\u016f v\xfdvoj\xe1\u0159e, a zachytit odpov\u011b\u010f (m\u016f\u017eete dostatcurlchyba o vlajce " - 2.0" jen odstranit) . V php to vypad\xe1 jako n\xe1sleduj\xedc\xed:']}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"    $gcurlstuff=\"curl 'https://accounts.google.com/o/oauth2/iframerpc?action=issueToken&response\\\\_type=token%20id\\\\_token&scope=openid%20profile%20email&client\\\\_id=ABCDEFG.apps.googleusercontent.com&login\\\\_hint=XXXXXXXXXX&ss\\\\_domain=https%3A%2F%2Fhost.somewhere.com&origin=https%3A%2F%2Fhost.somewhere.com' -H 'Host: accounts.google.com' -H 'User-Agent: useragentstuff' -H 'Accept: \\\\*/\\\\*' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://accounts.google.com/o/oauth2/iframe' -H 'Cookie: lotsofcookiestuff' -H 'Connection: keep-alive'\"; //execute the curl command: exec($gcurlstuff,$output,$status); //the response is a json array in $output $response=json\\\\_decode($output\\\\[0\\\\],true); //the part you need is in \"id\\\\_token\": $id\\\\_token=$response\\\\[\"id\\\\_token\"\\\\];\n"})}),"\n",(0,s.jsx)(o.p,{children:"P\u0159ihl\xe1sit se do Google proveden\xedm druh\xe9ho \u0159\xe1dku pomoc\xed $id\\_token, nejprve odstranit parametr \"-H 'Cookie: stuff'\" a m\xedsto toho \u0159\xedctcurlnapsat cookie:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"    $glcurlstuff=\"curl 'https://host.somewhere.com/erddap/loginGoogle.html' -H 'Host: host.somewhere.com' -H 'User-Agent: useragentstuff' -H 'Accept: \\\\*/\\\\*' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://host.somewhere.com/erddap/login.html' -H 'Content-Type: application/x-www-form-urlencoded' -H 'Cookie: cookiestuff' -H 'Connection: keep-alive' --data 'idtoken=\".$id\\\\_token.\"' -b cookies.txt -c cookies.txt\" exec($glcurlstuff,$output1,$status);\n"})}),"\n",(0,s.jsx)(o.p,{children:"P\u0159ihl\xe1sit seERDDAP\u2122, op\u011bt odstranit parametr \"-H 'Cookie: stuff'\" a pomoc\xed p\u0159edchoz\xedho p\xedsemn\xe9ho souboru cookie:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"    $ecurlstuff=\"curl 'https://host.somewhere.com/erddap/login.html' -H 'Host: host.somewhere.com' -H 'User-Agent: useragentstuff' -H 'Accept: typeacceptstuff' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://host.somewhere.com/erddap/login.html' -H 'Connection: keep-alive' -H 'Upgrade-Insecure-Requests: 1 -b cookies.txt\"' exec($ecurlstuff,$output2,$status);\n"})}),"\n",(0,s.jsx)(o.p,{children:"Nyn\xed byste m\u011bli m\xedt mo\u017enost po\u017eadovat data ze serveru pomoc\xed stejn\xe9ho souboru cookie:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"    $curlstuff=\"curl -s 'https://host.somewhere.com/erddap/tabledap/datasetid.csv?variablelist' -H 'Host: host.somewhere.com' -H 'User-Agent: useragentstuff' -H 'Accept: typeacceptstuff' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Connection: keep-alive' -H 'Upgrade-Insecure-Requests: 1' -b cookies.txt\"; exec($curlstuff,$output3,$status); //$output3 will be data in csv!\n"})})]})}function u(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);