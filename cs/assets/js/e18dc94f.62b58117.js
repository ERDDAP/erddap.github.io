"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[4215],{28453:(e,o,n)=>{n.d(o,{R:()=>d,x:()=>r});var a=n(96540);const t={},s=a.createContext(t);function d(e){const o=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),a.createElement(s.Provider,{value:o},e.children)}},29854:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>i,contentTitle:()=>r,default:()=>v,frontMatter:()=>d,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"server-admin/scaling","title":"Scaling","description":"ERDDAP\u2122- Heavy Loads, Grids, Clusters, Federations, and Cloud Computing","source":"@site/i18n/cs/docusaurus-plugin-content-docs/current/server-admin/scaling.md","sourceDirName":"server-admin","slug":"/server-admin/scaling","permalink":"/cs/docs/server-admin/scaling","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap.github.io/tree/main/docs/server-admin/scaling.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Scaling","sidebar_position":5},"sidebar":"docSidebar","previous":{"title":"additional-information","permalink":"/cs/docs/server-admin/additional-information"},"next":{"title":"EDDTableFromEML","permalink":"/cs/docs/server-admin/EDDTableFromEML"}}');var t=n(74848),s=n(28453);const d={title:"Scaling",sidebar_position:5},r="St\u0159\xedk\xe1n\xed",i={},l=[{value:"ERDDAP\u2122- Heavy Loads, Grids, Clusters, Federations, and Cloud Computing",id:"erddap---heavy-loads-grids-clusters-federations-and-cloud-computing",level:2},{value:"ZD\u016eVODN\u011aN\xcd",id:"disclaimer",level:2},{value:"T\u011b\u017ek\xe9 zat\xed\u017een\xed / omezen\xed",id:"heavy-loads--constraints",level:2},{value:"\u0160\xed\u0159ka p\xe1sma vzd\xe1len\xe9ho zdroje",id:"remote-source-bandwidth",level:3},{value:"ERDDAP&#39;s \u0161\xed\u0159ka p\xe1sma serveru",id:"erddaps-server-bandwidth",level:3},{value:"pam\u011b\u0165",id:"memory",level:3},{value:"Had Drive Bandwidth",id:"had-drive-bandwidth",level:3},{value:"P\u0159\xedli\u0161 mnoho soubor\u016f zachycen\xfdch",id:"too-many-files-cached",level:3},{value:"CPU",id:"cpu",level:3},{value:"V\xedcezna\u010dn\xe9ERDDAPS Load Balancing?",id:"multiple-identical-erddaps-with-load-balancing",level:2},{value:" <strong>M\u0159\xed\u017eky, hv\u011bzdokupy a federace</strong> ",id:"grids-clusters-and-federations",level:2},{value:"C\xedle",id:"goals",level:3},{value:"Doporu\u010den\xed",id:"recommendations",level:3},{value:"\u010c\xe1sti m\u0159\xed\u017eky",id:"grid-parts",level:3},{value:"Kompozitn\xedERDDAP",id:"composite-erddap",level:4},{value:"Aktu\xe1ln\xed max (\u010das) ?",id:"up-to-date-maxtime",level:5},{value:"V\xedceslo\u017ekov\xe9ERDDAP\xe1n",id:"multiple-composite-erddaps",level:4},{value:"Datov\xe9 soubory ve velmi vysok\xe9 popt\xe1vce",id:"datasets-in-very-high-demand",level:3},{value:"RAID versus pravideln\xe9 pevn\xe9 disky",id:"raids-versus-regular-hard-drives",level:3},{value:"Selh\xe1n\xed",id:"failures",level:3},{value:"Jednoduch\xe9, \u0161k\xe1lovateln\xe9",id:"simple-scalable",level:3},{value:"\u0160\xed\u0159ka p\xe1sma",id:"bandwidth",level:3},{value:"Jako Lego.",id:"like-legos",level:3},{value:"R\u016fzn\xe9 typy \u017e\xe1dost\xed",id:"different-types-of-requests",level:3},{value:"To jsou moje n\xe1zory.",id:"these-are-my-opinions",level:3},{value:" <strong>Cloud Computing</strong> ",id:"cloud-computing",level:2},{value:"Subsetting",id:"subsetting",level:3},{value:"Hostovan\xe9 \xfadaje",id:"hosted-data",level:3},{value:"Vzd\xe1len\xe1 replikace datov\xfdch soubor\u016f",id:"remote-replication-of-datasets",level:2},{value:" <strong>P\u0159\xedslu\u0161n\xe1ERDDAP\u2122N\xe1stroje</strong> ",id:"relevant-erddap-tools",level:3},{value:"\u0158e\u0161en\xed",id:"solutions",level:3},{value:"Vlastn\xed, Brute Force Solutions",id:"custom-brute-force-solutions",level:4},{value:"rsync",id:"rsync",level:4},{value:"Cache z Urlu",id:"cache-from-url",level:4},{value:"ArchiveADataset",id:"archiveadataset",level:4},{value:"ERDDAP\u2122&#39;s standardn\xedm syst\xe9mem \u017e\xe1dosti",id:"erddaps-standard-request-system",level:4},{value:"EDDTableFromHttpGet",id:"eddtablefromhttpget",level:4},{value:"Distribuovan\xe9 \xfadaje",id:"distributed-data",level:4},{value:"Z\xe1v\u011br",id:"conclusion",level:3}];function u(e){const o={a:"a",br:"br",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.header,{children:(0,t.jsx)(o.h1,{id:"st\u0159\xedk\xe1n\xed",children:"St\u0159\xedk\xe1n\xed"})}),"\n",(0,t.jsx)(o.h2,{id:"erddap---heavy-loads-grids-clusters-federations-and-cloud-computing",children:"ERDDAP\u2122- Heavy Loads, Grids, Clusters, Federations, and Cloud Computing"}),"\n",(0,t.jsx)(o.p,{children:"\xa0"}),"\n",(0,t.jsx)(o.h1,{id:"erddap",children:"ERDDAP:"}),"\n",(0,t.jsxs)(o.p,{children:[(0,t.jsx)(o.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/index.html",children:"ERDDAP\u2122"}),"je webov\xe1 aplikace a webov\xe1 slu\u017eba, kter\xe1 shroma\u017e\u010fuje v\u011bdeck\xe1 data z r\u016fzn\xfdch m\xedstn\xedch a vzd\xe1len\xfdch zdroj\u016f a nab\xedz\xed jednoduch\xfd a konzistentn\xed zp\u016fsob, jak st\xe1hnout podmno\u017einy dat ve spole\u010dn\xfdch form\xe1tech soubor\u016f a vytv\xe1\u0159et grafy a mapy. Tato webov\xe1 str\xe1nka pojedn\xe1v\xe1 o ot\xe1zk\xe1ch souvisej\xedc\xedch s t\u011b\u017ek\xfdmERDDAP\u2122pou\u017e\xedv\xe1n\xed zat\xed\u017een\xed a zkoum\xe1 mo\u017enosti \u0159e\u0161en\xed extr\xe9mn\u011b t\u011b\u017ek\xfdch zat\xed\u017een\xed prost\u0159ednictv\xedm s\xedt\xed, klastr\u016f, federac\xed a cloud computingu."]}),"\n",(0,t.jsx)(o.p,{children:"P\u016fvodn\xed verze byla naps\xe1na v \u010dervnu 2009. Nedo\u0161lo k \u017e\xe1dn\xfdm v\xfdznamn\xfdm zm\u011bn\xe1m. Toto bylo naposledy aktualizov\xe1no 2019-04-15."}),"\n",(0,t.jsx)(o.h2,{id:"disclaimer",children:"ZD\u016eVODN\u011aN\xcd"}),"\n",(0,t.jsx)(o.p,{children:"Obsah t\xe9to webov\xe9 str\xe1nky jsou Bob Simons osobn\xed n\xe1zory a nemus\xed nutn\u011b odr\xe1\u017eet \u017e\xe1dn\xe9 postaven\xed vl\xe1dy neboNational Oceanic and Atmospheric Administration. V\xfdpo\u010dty jsou zjednodu\u0161en\xe9, ale mysl\xedm, \u017ee z\xe1v\u011bry jsou spr\xe1vn\xe9. Pou\u017eil jsem chybnou logiku nebo jsem ud\u011blal chybu ve sv\xfdch v\xfdpo\u010dtech? Pokud ano, je to jen moje chyba. Pros\xedm, po\u0161lete e-mail s opravouerd dot data at noaa dot gov.\r\n\xa0"}),"\n",(0,t.jsx)(o.hr,{}),"\n",(0,t.jsx)(o.h2,{id:"heavy-loads--constraints",children:"T\u011b\u017ek\xe9 zat\xed\u017een\xed / omezen\xed"}),"\n",(0,t.jsx)(o.p,{children:"S t\u011b\u017ek\xfdm pou\u017eit\xedm, samostatn\xfdERDDAP\u2122budou omezeny (od nejv\xedce do nejm\xe9n\u011b pravd\u011bpodobn\xe9) podle:"}),"\n",(0,t.jsx)(o.h3,{id:"remote-source-bandwidth",children:"\u0160\xed\u0159ka p\xe1sma vzd\xe1len\xe9ho zdroje"}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsxs)(o.li,{children:["Vzd\xe1len\xfd zdroj dat je \u0161\xed\u0159ka p\xe1sma i s efektivn\xedm p\u0159ipojen\xedm (nap\u0159. prost\u0159ednictv\xedmOPeNDAP) , pokud vzd\xe1len\xfd zdroj dat nem\xe1 velmi vysok\xe9 p\u0159ipojen\xed k internetu,ERDDAP's reakce budou omezeny t\xedm, jak rychleERDDAP\u2122m\u016f\u017ee z\xedskat data ze zdroje dat. \u0158e\u0161en\xedm je zkop\xedrovat soubor dat naERDDAP's pevn\xfdm diskem, mo\u017en\xe1 s",(0,t.jsx)(o.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridKop\xedrovat"}),"nebo",(0,t.jsx)(o.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDtableCopy"}),".\r\n\xa0"]}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"erddaps-server-bandwidth",children:"ERDDAP's \u0161\xed\u0159ka p\xe1sma serveru"}),"\n",(0,t.jsxs)(o.ol,{start:"2",children:["\n",(0,t.jsx)(o.li,{children:"PokudERDDAP's serverem m\xe1 velmi velk\xe9 p\u0159ipojen\xed k internetu,ERDDAP's reakce budou omezeny t\xedm, jak rychleERDDAP\u2122m\u016f\u017ee z\xedskat data ze zdroj\u016f dat a jak rychleERDDAP\u2122m\u016f\u017ee klient\u016fm vr\xe1tit data. Jedin\xfdm \u0159e\u0161en\xedm je z\xedskat rychlej\u0161\xed internetov\xe9 p\u0159ipojen\xed.\r\n\xa0"}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"memory",children:"pam\u011b\u0165"}),"\n",(0,t.jsxs)(o.ol,{start:"3",children:["\n",(0,t.jsxs)(o.li,{children:["Pokud existuje mnoho sou\u010dasn\xfdch \u017e\xe1dost\xed,ERDDAP\u2122m\u016f\u017ee doj\xedt pam\u011bti a do\u010dasn\u011b odm\xedtnout nov\xe9 po\u017eadavky. (ERDDAP\u2122m\xe1 n\u011bkolik mechanism\u016f, jak se tomu vyhnout a minimalizovat d\u016fsledky, pokud k tomu dojde.) \u010c\xedm v\xedce pam\u011bti na serveru, t\xedm l\xe9pe. Na 32bitov\xe9m serveru je 4+ GB opravdu dobr\xe1, 2 GB je v po\u0159\xe1dku, m\xe9n\u011b se nedoporu\u010duje. Na 64-bitov\xe9m serveru se m\u016f\u017eete t\xe9m\u011b\u0159 zcela vyhnout probl\xe9mu t\xedm, \u017ee z\xedsk\xe1te spoustu pam\u011bti. Viz",(0,t.jsx)(o.a,{href:"/docs/server-admin/deploy-install",children:"Nastaven\xed \\-Xmx a -Xms"}),"m\xedstoERDDAPTomcat. AnERDDAP\u2122z\xedsk\xe1n\xed t\u011b\u017ek\xe9ho pou\u017eit\xed na po\u010d\xedta\u010di s 64-bitov\xfdm serverem s 8GB pam\u011bti a -Xmx nastaven na 4000M je z\u0159\xeddka, pokud v\u016fbec, omezena pam\u011bt\xed.\r\n\xa0"]}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"had-drive-bandwidth",children:"Had Drive Bandwidth"}),"\n",(0,t.jsxs)(o.ol,{start:"4",children:["\n",(0,t.jsx)(o.li,{children:"P\u0159\xedstup k dat\u016fm ulo\u017een\xfdm na pevn\xe9m disku serveru je mnohem rychlej\u0161\xed ne\u017e p\u0159\xedstup k vzd\xe1len\xfdm dat\u016fm. I tak, pokudERDDAP\u2122server m\xe1 velmi vysokou \u0161\xed\u0159ku p\xe1sma p\u0159ipojen\xed k internetu, je mo\u017en\xe9, \u017ee p\u0159\xedstup k dat\u016fm na pevn\xe9m disku bude zablokovat. \u010c\xe1ste\u010dn\xfd roztok je rychlej\u0161\xed (nap\u0159. 10 000 ot\xe1\u010dek za minutu) magnetick\xe9 pevn\xe9 disky nebo SSD disky (Jestli to d\xe1v\xe1 smysl.) . Dal\u0161\xedm \u0159e\u0161en\xedm je ukl\xe1dat r\u016fzn\xe9 soubory dat na r\u016fzn\xfdch diskech, tak\u017ee kumulativn\xed \u0161\xed\u0159ka p\xe1sma pevn\xe9ho disku je mnohem vy\u0161\u0161\xed.\r\n\xa0"}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"too-many-files-cached",children:"P\u0159\xedli\u0161 mnoho soubor\u016f zachycen\xfdch"}),"\n",(0,t.jsxs)(o.ol,{start:"5",children:["\n",(0,t.jsxs)(o.li,{children:["P\u0159\xedli\u0161 mnoho soubor\u016f v",(0,t.jsx)(o.a,{href:"/docs/server-admin/additional-information#cached-responses",children:"cache"}),"adres\xe1\u0159ERDDAP\u2122caches v\u0161echny obr\xe1zky, ale pouze caches data pro n\u011bkter\xe9 typy po\u017eadavk\u016f na data. Je mo\u017en\xe9, aby adres\xe1\u0159 cache pro datov\xfd soubor m\u011bl do\u010dasn\u011b velk\xfd po\u010det soubor\u016f. To zpomal\xed po\u017eadavky, zda je soubor v cache (Opravdu!) .<cache Minuty",(0,t.jsx)(o.a,{href:"/docs/server-admin/deploy-install#setupxml",children:"setup.xml"}),"umo\u017e\u0148uje nastavit, jak dlouho m\u016f\u017ee b\xfdt soubor v cache p\u0159ed jeho odstran\u011bn\xedm. Nastaven\xed men\u0161\xedho \u010d\xedsla by tento probl\xe9m minimalizovalo.\r\n\xa0"]}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"cpu",children:"CPU"}),"\n",(0,t.jsxs)(o.ol,{start:"6",children:["\n",(0,t.jsxs)(o.li,{children:["Jen dv\u011b v\u011bci zaberou spoustu \u010dasu CPU:","\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"NetCDF4 aHDF5 nyn\xed podporuje vnit\u0159n\xed komprese dat. Dekompresn\xed velk\xfd komprimovan\xfdNetCDF4 /HDF5 datov\xfdch soubor\u016f m\u016f\u017ee trvat 10 nebo v\xedce sekund. (To nen\xed chyba p\u0159i realizaci. Je to povaha komprese.) Tak\u017ee v\xedce simult\xe1nn\xedch \u017e\xe1dost\xed o datov\xe9 soubory s daty ulo\u017een\xfdmi v komprimovan\xfdch souborech m\u016f\u017ee zp\u016fsobit v\xe1\u017en\xe9 nap\u011bt\xed na jak\xe9mkoli serveru. Pokud jde o probl\xe9m, \u0159e\u0161en\xedm je ukl\xe1dat popul\xe1rn\xed data v nestla\u010den\xfdch souborech nebo z\xedskat server s procesorem s v\xedce j\xe1dry."}),"\n",(0,t.jsx)(o.li,{children:"V\xfdroba graf\u016f (v\u010detn\u011b map) : p\u0159ibli\u017en\u011b 0,2 - 1 sekunda na graf. Tak\u017ee pokud existuje mnoho sou\u010dasn\xfdch unik\xe1tn\xedch \u017e\xe1dost\xed o grafy (WMSklienti \u010dasto po\u017eaduj\xed 6 sou\u010dasn\u011b!) Mohlo by doj\xedt k omezen\xed CPU. Kdy\u017e b\u011b\u017e\xed v\xedce u\u017eivatel\u016fWMSKlienti, tohle je probl\xe9m.\r\n\xa0"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(o.hr,{}),"\n",(0,t.jsx)(o.h2,{id:"multiple-identical-erddaps-with-load-balancing",children:"V\xedcezna\u010dn\xe9ERDDAPS Load Balancing?"}),"\n",(0,t.jsx)(o.p,{children:'\u010casto p\u0159ich\xe1z\xed ot\xe1zka: "M\u016f\u017eu se vypo\u0159\xe1dat s t\u011b\u017ek\xfdmi b\u0159emeny, a tak vytvo\u0159it v\xedce stejn\xfdchERDDAPs vyva\u017eov\xe1n\xedm n\xe1kladu?" Je to zaj\xedmav\xe1 ot\xe1zka, proto\u017ee se rychle dostane do j\xe1draERDDAPJe to design. Rychl\xe1 odpov\u011b\u010f je "ne." V\xedm, \u017ee je to neuspokojiv\xe1 odpov\u011b\u010f, ale existuje n\u011bkolik p\u0159\xedm\xfdch d\u016fvod\u016f a n\u011bkter\xe9 v\u011bt\u0161\xed z\xe1kladn\xed d\u016fvody, pro\u010d jsem navrhlERDDAP\u2122pou\u017e\xedvat jin\xfd p\u0159\xedstup (federaceERDDAPs, popsan\xe1 ve velk\xe9 \u010d\xe1sti tohoto dokumentu) Co\u017e je podle m\u011b lep\u0161\xed \u0159e\u0161en\xed.'}),"\n",(0,t.jsx)(o.p,{children:"N\u011bkter\xe9 p\u0159\xedm\xe9 d\u016fvody, pro\u010d nem\u016f\u017eete / by nem\u011bl nastavit v\xedce stejn\xfdchERDDAPjsou:"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Zad\xe1noERDDAP\u2122\u010dte ka\u017ed\xfd datov\xfd soubor, jakmile je poprv\xe9 k dispozici, aby bylo mo\u017en\xe9 naj\xedt rozsah dat v souboru. Pak tyto informace ulo\u017e\xed do indexu. Pozd\u011bji, kdy\u017e p\u0159ijde \u017e\xe1dost u\u017eivatele o data,ERDDAP\u2122pomoc\xed tohoto indexu zjistit, kter\xe9 soubory hledat po\u017eadovan\xe9 \xfadaje. Pokud by bylo v\xedce stejn\xfdchERDDAPS, ka\u017ed\xfd by d\u011blal toto indexov\xe1n\xed, co\u017e je promarn\u011bn\xe9 \xfasil\xed. S federovan\xfdm syst\xe9mem popsan\xfdm n\xed\u017ee, indexov\xe1n\xed se prov\xe1d\xed pouze jednou, jedn\xedm zERDDAPs."}),"\n",(0,t.jsx)(o.li,{children:"Pro n\u011bkter\xe9 typy \u017e\xe1dost\xed o u\u017eivatele (nap\u0159. pro.nc, .png, .pdf soubory)  ERDDAP\u2122mus\xed prov\xe9st cel\xfd soubor p\u0159ed odesl\xe1n\xedm odpov\u011bdi. Tak\u017ee...ERDDAP\u2122na kr\xe1tkou dobu ukl\xe1d\xe1 tyto soubory. Pokud p\u0159ijde stejn\xe1 \u017e\xe1dost (jako \u010dasto, zejm\xe9na pro obr\xe1zky, kde je URL vlo\u017eena do webov\xe9 str\xe1nky) ,ERDDAP\u2122m\u016f\u017ee znovu pou\u017e\xedt ten cachovan\xfd soubor. V syst\xe9mu v\xedce identick\xfdchERDDAPs, tyto cachovan\xe9 soubory nejsou sd\xedleny, tak\u017ee ka\u017ed\xfdERDDAP\u2122by zbyte\u010dn\u011b a zbyte\u010dn\u011b znovu vytvo\u0159it.nc, .png, nebo .pdf soubory. S federovan\xfdm syst\xe9mem popsan\xfdm n\xed\u017ee, soubory jsou vyrobeny pouze jednou, jedn\xedm zERDDAPs a znovu pou\u017e\xedt."}),"\n",(0,t.jsx)(o.li,{children:"ERDDAP's syst\xe9m p\u0159edplatn\xe9ho nen\xed nastaven tak, aby byl sd\xedlen v\xedceERDDAPs. Nap\u0159\xedklad pokud vyva\u017eova\u010d zat\xed\u017een\xed po\u0161le u\u017eivateli jednuERDDAP\u2122a u\u017eivatel se p\u0159ihl\xe1s\xed k datov\xe9mu souboru, pak k druh\xe9muERDDAPNebude si toho p\u0159edplatn\xe9ho v\u011bdom. Pozd\u011bji, pokud vyva\u017eova\u010d zat\xed\u017een\xed po\u0161le u\u017eivatele jin\xe9muERDDAP\u2122a \u017e\xe1d\xe1 o seznam jeho p\u0159edplatn\xe9ho, druh\xfdERDDAP\u2122\u0159ekne, \u017ee \u017e\xe1dn\xe9 nejsou. (vede ho k dvoj\xedmu p\u0159edplatn\xe9mu na druh\xe9 EREDDAP) . S federovan\xfdm syst\xe9mem popsan\xfdm n\xed\u017ee je syst\xe9m p\u0159edplatn\xe9ho jednodu\u0161e \u0159e\u0161en hlavn\xedm, ve\u0159ejn\xfdm, kompozitemERDDAP."}),"\n"]}),"\n",(0,t.jsxs)(o.p,{children:["Ano, pro ka\u017ed\xfd z t\u011bchto probl\xe9m\u016f bych mohl (s velk\xfdm \xfasil\xedm) vytvo\u0159it \u0159e\u0161en\xed (sd\xedlet informace meziERDDAP\xe1n) , ale mysl\xedm, \u017ee",(0,t.jsx)(o.a,{href:"#grids-clusters-and-federations",children:"Federace-of-ERDDAPs p\u0159ibl\xed\u017een\xed"}),"  (popisovan\xfd ve velk\xe9 \u010d\xe1sti tohoto dokumentu) je mnohem lep\u0161\xed celkov\xe9 \u0159e\u0161en\xed, \u010d\xe1ste\u010dn\u011b proto, \u017ee se zab\xfdv\xe1 jin\xfdmi probl\xe9my, kter\xe9 v\xedce-identick\xe9-ERDDAPs-s-a-ta-balancer p\u0159\xedstup ani neza\u010dne \u0159e\u0161it, zejm\xe9na decentralizovan\xe9 povahy zdroj\u016f dat ve sv\u011bt\u011b."]}),"\n",(0,t.jsxs)(o.p,{children:['Nejlep\u0161\xed je p\u0159ijmout prost\xfd fakt, \u017ee jsem nenavrhovalERDDAP\u2122rozm\xedst\u011bno jako v\xedcen\xe1sobn\xe1 identick\xe1ERDDAPs vyva\u017eova\u010dem zat\xed\u017een\xed. I v\u011bdom\u011b navr\u017eenERDDAP\u2122pracovat dob\u0159e v r\xe1mci federaceERDDAPMysl\xedm, \u017ee m\xe1 mnoho v\xfdhod. FederaceERDDAPs je dokonale slad\u011bno s decentralizovan\xfdm, distribuovan\xfdm syst\xe9mem datov\xfdch center, kter\xe1 m\xe1me v re\xe1ln\xe9m sv\u011bt\u011b (Myslete na r\u016fzn\xe9 regiony IOOS, nebo r\u016fzn\xe9 regiony CoastWatch, nebo r\u016fzn\xe9 \u010d\xe1sti NCEI, nebo 100 dal\u0161\xedch datov\xfdch center vNOAA, nebo r\u016fzn\xe9 NASA DAAC, nebo 1000\'s datov\xfdch center po cel\xe9m sv\u011bt\u011b) . M\xedsto toho, aby \u0159ekli v\u0161em datacentr\u016fm sv\u011bta, \u017ee mus\xed opustit sv\xe9 \xfasil\xed a d\xe1t v\u0161echna data do centralizovan\xe9ho "data lake" (i kdyby to bylo mo\u017en\xe9, je to hrozn\xfd n\xe1pad z mnoha d\u016fvod\u016f - viz r\u016fzn\xe9 anal\xfdzy ukazuj\xedc\xed \u010detn\xe9 v\xfdhody',(0,t.jsx)(o.a,{href:"https://en.wikipedia.org/wiki/Decentralised_system",children:"decentralizovan\xe9 syst\xe9my"}),") ,ERDDAPDesign pracuje se sv\u011btem tak, jak je. Ka\u017ed\xe9 datov\xe9 centrum, kter\xe9 vytv\xe1\u0159\xed data, m\u016f\u017ee i nad\xe1le udr\u017eovat, kurovat a slou\u017eit sv\xfdm \xfadaj\u016fm (jak by m\u011bly) , a p\u0159esto, sERDDAP\u2122, data mohou b\xfdt tak\xe9 okam\u017eit\u011b k dispozici z centralizovan\xe9ERDDAP, bez nutnosti p\u0159enosu dat do centralizovan\xe9ERDDAP\u2122nebo uchov\xe1v\xe1n\xed duplik\xe1tn\xedch kopi\xed \xfadaj\u016f. Vskutku, dan\xfd soubor \xfadaj\u016f m\u016f\u017ee b\xfdt sou\u010dasn\u011b k dispozici\r\nzERDDAP\u2122v organizaci, kter\xe1 vytvo\u0159ila a skute\u010dn\u011b uchov\xe1v\xe1 \xfadaje (nap\u0159. GoMOOS) ,\r\nzERDDAP\u2122v mate\u0159sk\xe9 organizaci (nap\u0159. IOOS central) ,\r\nze v\u0161ech-NOAA ERDDAP\u2122,\r\nod americk\xe9 feder\xe1ln\xed vl\xe1dyERDDAP\u2122,\r\nz glob\xe1ln\xedhoERDDAP\u2122  (Goos) ,\r\na ze specializovan\xfdchERDDAP\xe1n (nap\u0159.ERDDAP\u2122v instituci v\u011bnovan\xe9 v\xfdzkumu HAB) ,\r\nv\u0161echny v podstat\u011b okam\u017eit\u011b a efektivn\u011b, proto\u017ee pouze metadata jsou p\u0159enesena meziERDDAPS, ne data. Nejlep\u0161\xed ze v\u0161eho, po inici\xe1luERDDAP\u2122v p\u016fvodn\xed organizaci, v\u0161echny ostatn\xedERDDAPs lze nastavit rychle (P\xe1r hodin pr\xe1ce) , s minim\xe1ln\xedmi zdroji (jeden server, kter\xfd nepot\u0159ebuje RAID pro ukl\xe1d\xe1n\xed dat, proto\u017ee neukl\xe1d\xe1 \u017e\xe1dn\xe1 data lok\xe1ln\u011b) , a tedy za skute\u010dn\u011b minim\xe1ln\xed cenu. Porovnejte to s n\xe1klady na z\u0159\xedzen\xed a udr\u017eov\xe1n\xed centralizovan\xe9ho datov\xe9ho centra s datov\xfdm jezerem a nutnost\xed skute\u010dn\u011b masivn\xedho, skute\u010dn\u011b drah\xe9ho p\u0159ipojen\xed k internetu, plus s doprovodem probl\xe9mu centralizovan\xe9ho datov\xe9ho centra je jedin\xfdm m\xedstem selh\xe1n\xed. Pro m\u011b,ERDDAPDecentralizovan\xfd p\u0159\xedstup je daleko lep\u0161\xed."]}),"\n",(0,t.jsxs)(o.p,{children:["V situac\xedch, kdy dan\xe9 datov\xe9 centrum pot\u0159ebuje v\xedceERDDAPs k uspokojen\xed vysok\xe9 popt\xe1vky,ERDDAP's designem je pln\u011b schopen sladit nebo p\u0159ekro\u010dit v\xfdkon v\xedceidentick\xe9ho--ERDDAPs-s-a-balancer p\u0159\xedstup. V\u017edycky m\xe1\u0161 mo\u017enost nastavit",(0,t.jsx)(o.a,{href:"#multiple-composite-erddaps",children:"v\xedceslo\u017ekov\xe9ERDDAP\xe1n (jak je uvedeno n\xed\u017ee) "}),", ka\u017ed\xfd z nich dostane v\u0161echny sv\xe9 \xfadaje od ostatn\xedchERDDAPs, bez vyva\u017eov\xe1n\xed zat\xed\u017een\xed. V tomto p\u0159\xedpad\u011b doporu\u010duji v\xe1m, abyste dali ka\u017ed\xe9mu z kompozit\u016fERDDAPs odli\u0161n\xfdm jm\xe9nem / identitou a pokud mo\u017eno nastaven\xedm v r\u016fzn\xfdch \u010d\xe1stech sv\u011bta (nap\u0159. r\u016fzn\xe9 oblasti AWS) nap\u0159.ERD\\_US\\_V\xfdchod,ERD\\_US\\_West,ERD\\_IE,ERD\\_FR,ERD\\_IT, tak\u017ee u\u017eivatel\xe9 v\u011bdom\u011b, opakovan\u011b, pracovat s konkr\xe9tn\xedERDDAP, s p\u0159idan\xfdm p\u0159\xednosem, \u017ee jste odstranili riziko z jedin\xe9ho bodu selh\xe1n\xed.\r\n\xa0"]}),"\n",(0,t.jsx)(o.hr,{}),"\n",(0,t.jsx)(o.h2,{id:"grids-clusters-and-federations",children:(0,t.jsxs)(o.a,{href:"#grids-clusters-and-federations",children:[" ",(0,t.jsx)(o.strong,{children:"M\u0159\xed\u017eky, hv\u011bzdokupy a federace"})," "]})}),"\n",(0,t.jsxs)(o.p,{children:["P\u0159i velmi t\u011b\u017ek\xe9m pou\u017eit\xed, jedin\xfd samostatn\xfdERDDAP\u2122naraz\xed na jednu nebo v\xedce z",(0,t.jsx)(o.a,{href:"#heavy-loads--constraints",children:"omezen\xed"}),"uveden\xe9 v\xfd\u0161e a dokonce i navrhovan\xe9 \u0159e\u0161en\xed budou nedostate\u010dn\xe9. V takov\xfdch situac\xedchERDDAP\u2122m\xe1 vlastnosti, kter\xe9 usnad\u0148uj\xed konstrukci \u0161k\xe1lovateln\xfdch s\xedt\xed (tak\xe9 naz\xfdvan\xe9 klastry nebo federace) zERDDAPs, kter\xe9 umo\u017e\u0148uj\xed syst\xe9mu zvl\xe1dnout velmi t\u011b\u017ek\xe9 pou\u017eit\xed (nap\u0159. pro velk\xe9 datov\xe9 centrum) ."]}),"\n",(0,t.jsxs)(o.p,{children:["Pou\u017e\xedv\xe1m",(0,t.jsx)(o.a,{href:"https://en.wikipedia.org/wiki/Grid_computing",children:"m\u0159\xed\u017eka"}),"jako obecn\xfd v\xfdraz pro ozna\u010den\xed typu",(0,t.jsx)(o.a,{href:"https://en.wikipedia.org/wiki/Computer_cluster",children:"po\u010d\xedta\u010dov\xfd klastr"}),"kde v\u0161echny \u010d\xe1sti mohou nebo nemus\xed b\xfdt fyzicky um\xedst\u011bny v jednom za\u0159\xedzen\xed a mohou nebo nemus\xed b\xfdt centr\xe1ln\u011b spravov\xe1ny. V\xfdhoda spole\u010dn\xfdch, centr\xe1ln\u011b vlastn\u011bn\xfdch a regulovan\xfdch s\xedt\xed (klastry) \u017ee maj\xed prosp\u011bch z \xfaspor z rozsahu (zejm\xe9na pracovn\xed z\xe1t\u011b\u017e) a zjednodu\u0161it fungov\xe1n\xed \u010d\xe1st\xed syst\xe9mu. V\xfdhoda nelokovan\xfdch s\xedt\xed, kter\xe9 nejsou centr\xe1ln\u011b vlastn\u011bny a spravov\xe1ny (federace) je to, \u017ee distribuuj\xed lidskou pracovn\xed z\xe1t\u011b\u017e a n\xe1klady a mohou poskytnout dodate\u010dnou chybovou toleranci. \u0158e\u0161en\xed, kter\xe9 navrhuji n\xed\u017ee, funguje dob\u0159e pro v\u0161echny topografie s\xedt\u011b, clusteru a federace."]}),"\n",(0,t.jsxs)(o.p,{children:["Z\xe1kladn\xed my\u0161lenkou n\xe1vrhu \u0161k\xe1lovateln\xe9ho syst\xe9mu je ur\u010dit potenci\xe1ln\xed p\u0159ek\xe1\u017eky a navrhnout syst\xe9m tak, aby \u010d\xe1sti syst\xe9mu mohly b\xfdt replikov\xe1ny podle pot\u0159eby ke zm\xedrn\u011bn\xed p\u0159ek\xe1\u017eek. V ide\xe1ln\xedm p\u0159\xedpad\u011b ka\u017ed\xe1 replikovan\xe1 \u010d\xe1st zvy\u0161uje kapacitu t\xe9to \u010d\xe1sti syst\xe9mu line\xe1rn\u011b (\xfa\u010dinnost \u0161k\xe1lov\xe1n\xed) . Syst\xe9m nen\xed \u0161k\xe1lovateln\xfd, pokud neexistuje \u0161k\xe1lovateln\xe9 \u0159e\u0161en\xed pro ka\u017ed\xfd v\xfdb\u011b\u017eek.",(0,t.jsx)(o.a,{href:"https://en.wikipedia.org/wiki/Scalability",children:"Skalovatelnost"}),"se li\u0161\xed od \xfa\u010dinnosti (jak rychle je mo\u017en\xe9 prov\xe9st \xfakol - \xfa\u010dinnost d\xedl\u016f) . \u0160k\xe1lovatelnost umo\u017e\u0148uje, aby syst\xe9m rostl a zvl\xe1dl jakoukoli \xfarove\u0148 popt\xe1vky. ",(0,t.jsx)(o.strong,{children:"\xda\u010dinnost"}),"   (o rozm\u011brech a \u010d\xe1stech) ur\u010duje, kolik server\u016f, atd. bude pot\u0159eba k uspokojen\xed dan\xe9 \xfarovn\u011b popt\xe1vky. \xda\u010dinnost je velmi d\u016fle\u017eit\xe1, ale v\u017edy m\xe1 limity. \u0160k\xe1lovatelnost je jedin\xfdm praktick\xfdm \u0159e\u0161en\xedm budov\xe1n\xed syst\xe9mu, kter\xfd dok\xe1\u017ee zvl\xe1dnout ",(0,t.jsx)(o.strong,{children:"velmi"})," t\u011b\u017ek\xe9 vyu\u017eit\xed. V ide\xe1ln\xedm p\u0159\xedpad\u011b bude syst\xe9m \u0161k\xe1lovateln\xfd a efektivn\xed."]}),"\n",(0,t.jsx)(o.h3,{id:"goals",children:"C\xedle"}),"\n",(0,t.jsx)(o.p,{children:"C\xedlem tohoto n\xe1vrhu jsou:"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Vytvo\u0159it \u0161k\xe1lovatelnou architekturu (ten, kter\xfd je snadno extenzovateln\xfd replikac\xed jak\xe9koliv \u010d\xe1sti, kter\xe1 se stane p\u0159et\xed\u017een\xfd) . Pro vytvo\u0159en\xed efektivn\xedho syst\xe9mu, kter\xfd maximalizuje dostupnost a pr\u016fchodnost dat za p\u0159edpokladu dostupn\xfdch v\xfdpo\u010detn\xedch zdroj\u016f. (Cena je t\xe9m\u011b\u0159 v\u017edy probl\xe9m.)"}),"\n",(0,t.jsx)(o.li,{children:"Vyv\xe1\u017eit schopnosti \u010d\xe1st\xed syst\xe9mu tak, aby jedna \u010d\xe1st syst\xe9mu nep\u0159emohla dal\u0161\xed \u010d\xe1st."}),"\n",(0,t.jsx)(o.li,{children:"Vytvo\u0159it jednoduchou architekturu tak, aby syst\xe9m bylo snadn\xe9 nastavit a spravovat."}),"\n",(0,t.jsx)(o.li,{children:"Vytvo\u0159it architekturu, kter\xe1 dob\u0159e funguje se v\u0161emi topografiemi."}),"\n",(0,t.jsx)(o.li,{children:"Vytvo\u0159it syst\xe9m, kter\xfd elegantn\u011b a omezen\u011b sel\u017ee, pokud se n\u011bjak\xe1 \u010d\xe1st p\u0159et\xed\u017e\xed. (\u010cas pot\u0159ebn\xfd k kop\xedrov\xe1n\xed velk\xfdch soubor\u016f dat v\u017edy omez\xed schopnost syst\xe9mu vypo\u0159\xe1dat se s n\xe1hl\xfdm zv\xfd\u0161en\xedm popt\xe1vky po ur\u010dit\xe9m datov\xe9m souboru.)"}),"\n",(0,t.jsxs)(o.li,{children:["(Pokud je to mo\u017en\xe9) Vytvo\u0159it architekturu, kter\xe1 nen\xed v\xe1z\xe1na na \u017e\xe1dn\xe9 konkr\xe9tn\xed",(0,t.jsx)(o.a,{href:"#cloud-computing",children:"cloud computing"}),"slu\u017eby nebo jin\xe9 extern\xed slu\u017eby (Proto\u017ee je nepot\u0159ebuje.) ."]}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"recommendations",children:"Doporu\u010den\xed"}),"\n",(0,t.jsxs)(o.p,{children:["Na\u0161e doporu\u010den\xed jsou\r\n",(0,t.jsx)(o.img,{alt:"diagram m\u0159\xed\u017eky/klastru",src:n(88623).A+"",width:"701",height:"516"})]}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:["V podstat\u011b navrhuji vytvo\u0159it kompozit.ERDDAP\u2122  ( ",(0,t.jsx)(o.strong,{children:"D"})," v diagramu) , kter\xfd je pravideln\xfdERDDAP\u2122krom\u011b toho, \u017ee slou\u017e\xed pouze \xfadaje z jin\xfdchERDDAPs. Architektura s\xedt\u011b je navr\u017eena tak, aby co nejv\xedce pracovala (Vyu\u017eit\xed CPU, vyu\u017eit\xed pam\u011bti, vyu\u017eit\xed \u0161\xed\u0159ky p\xe1sma) z kompozituERDDAP\u2122na druhouERDDAPs."]}),"\n",(0,t.jsxs)(o.li,{children:["ERDDAP\u2122m\xe1 dva speci\xe1ln\xed typy soubor\u016f \xfadaj\u016f,",(0,t.jsx)(o.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDGridFromErddap"}),"a",(0,t.jsx)(o.a,{href:"/docs/server-admin/datasets#eddfromerddap",children:"EDDTableFromErddap"}),", kter\xe9 odkazuj\xed na\r\n\xdadaje o ostatn\xedch datechERDDAPs."]}),"\n",(0,t.jsxs)(o.li,{children:["P\u0159i kompozituERDDAP\u2122obdr\u017e\xed \u017e\xe1dost o \xfadaje nebo obr\xe1zky z t\u011bchto soubor\u016f soubor\u016f, slo\u017een\xe9ERDDAP\u2122 ",(0,t.jsx)(o.a,{href:"https://en.wikipedia.org/wiki/URL_redirection",children:"p\u0159esm\u011brov\xe1n\xed"}),"\u017e\xe1dost o \xfadaje pro ostatn\xedERDDAP\u2122server. V\xfdsledkem je:","\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:["Tohle je velmi efektivn\xed. (CPU, pam\u011b\u0165 a \u0161\xed\u0159ka p\xe1sma) , proto\u017ee jinak","\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsx)(o.li,{children:"KompozitERDDAP\u2122mus\xed zaslat \u017e\xe1dost o \xfadaje druh\xe9 osob\u011bERDDAP."}),"\n",(0,t.jsx)(o.li,{children:"Druh\xfdERDDAP\u2122mus\xed z\xedskat data, p\u0159eform\xe1tovat je a p\u0159edat data kompozitu.ERDDAP."}),"\n",(0,t.jsx)(o.li,{children:"KompozitERDDAP\u2122mus\xed p\u0159ij\xedmat \xfadaje (pomoc\xed extra \u0161\xed\u0159ky p\xe1sma) , p\u0159eform\xe1tovat ji (pomoc\xed extra CPU \u010dasu a pam\u011bti) , a p\u0159edat data u\u017eivateli (pomoc\xed extra \u0161\xed\u0159ky p\xe1sma) . P\u0159esm\u011brov\xe1n\xedm po\u017eadavku na \xfadaje a umo\u017en\u011bn\xedm druh\xe9ERDDAP\u2122zaslat odpov\u011b\u010f p\u0159\xedmo u\u017eivateli, slo\u017een\xe9muERDDAP\u2122Netr\xe1v\xed v podstat\u011b \u017e\xe1dn\xfd \u010das CPU, pam\u011b\u0165, nebo \u0161\xed\u0159ku p\xe1sma na po\u017eadavky dat."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(o.li,{children:"P\u0159esm\u011brov\xe1n\xed je transparentn\xed pro u\u017eivatele bez ohledu na klientsk\xfd software (prohl\xed\u017ee\u010d nebo jin\xfd software nebo n\xe1stroj p\u0159\xedkazov\xe9ho \u0159\xe1dku) ."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"grid-parts",children:"\u010c\xe1sti m\u0159\xed\u017eky"}),"\n",(0,t.jsx)(o.p,{children:(0,t.jsx)(o.a,{href:"#grid-parts",children:"Sou\u010d\xe1st\xed s\xedt\u011b jsou:"})}),"\n",(0,t.jsxs)(o.p,{children:[(0,t.jsx)(o.strong,{children:"A"})," : Pro ka\u017ed\xfd vzd\xe1len\xfd zdroj dat, kter\xfd m\xe1 vysokou \u0161\xed\u0159ku p\xe1smaOPeNDAPserver, m\u016f\u017eete se p\u0159ipojit p\u0159\xedmo na vzd\xe1len\xfd server. Pokud je vzd\xe1len\xfd serverERDDAP\u2122, pou\u017eit\xedEDDGridFromErddap nebo EddtableFromERDDAPslou\u017eit \xfadaj\u016fm v kompozituERDDAP. Pokud je vzd\xe1len\xfd server jin\xfdm typemDAPserver, nap\u0159. THREDDS,Hyrax, nebo GRADS, pou\u017eit\xedEDDGridFromDap."]}),"\n",(0,t.jsxs)(o.p,{children:[(0,t.jsx)(o.strong,{children:"B"})," : Pro ka\u017ed\xfdERDDAP-ovateln\xfd zdroj dat (zdroj dat, z n\u011bho\u017eERDDAPm\u016f\u017ee \u010d\xedst data) kter\xfd m\xe1 vysokop\xe1smov\xfd server, nastavit dal\u0161\xedERDDAP\u2122v s\xedti, kter\xe1 je odpov\u011bdn\xe1 za poskytov\xe1n\xed \xfadaj\u016f z tohoto zdroje dat."]}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Pokud n\u011bkolik takov\xfdchERDDAPs nedost\xe1v\xe1 mnoho \u017e\xe1dost\xed o data, m\u016f\u017eete je konsolidovat do jedn\xe9ERDDAP."}),"\n",(0,t.jsxs)(o.li,{children:["PokudERDDAP\u2122v\u011bnovan\xe9 z\xedsk\xe1n\xed dat z jednoho vzd\xe1len\xe9ho zdroje je dostat p\u0159\xedli\u0161 mnoho po\u017eadavk\u016f, tam je poku\u0161en\xed p\u0159idat dal\u0161\xedERDDAPs p\u0159\xedstup ke vzd\xe1len\xe9mu zdroji dat. Ve zvl\xe1\u0161tn\xedch p\u0159\xedpadech to mo\u017en\xe1 d\xe1v\xe1 smysl, ale je pravd\u011bpodobn\u011bj\u0161\xed, \u017ee to p\u0159em\u016f\u017ee vzd\xe1len\xfd zdroj dat. (kter\xe1 se sama poraz\xed) a tak\xe9 zabr\xe1nit ostatn\xedm u\u017eivatel\u016fm v p\u0159\xedstupu ke vzd\xe1len\xe9mu zdroji dat (Co\u017e nen\xed hezk\xe9.) . V takov\xe9m p\u0159\xedpad\u011b zva\u017ete z\u0159\xedzen\xed jin\xe9hoERDDAP\u2122slou\u017eit tomuto datov\xe9mu souboru a zkop\xedrovat datov\xfd soubor na n\u011bmERDDAP's pevn\xfdm diskem (viz ",(0,t.jsx)(o.strong,{children:"C"})," ) , snad s",(0,t.jsx)(o.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridKop\xedrovat"}),"nebo",(0,t.jsx)(o.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDtableCopy"}),"."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"B"})," servery mus\xed b\xfdt ve\u0159ejn\u011b p\u0159\xedstupn\xe9."]}),"\n"]}),"\n",(0,t.jsxs)(o.p,{children:[(0,t.jsx)(o.strong,{children:"C"})," : Pro ka\u017ed\xfdERDDAP-schopn\xfd zdroj dat, kter\xfd m\xe1 n\xedzkop\xe1smov\xfd server (nebo je pomal\xfd servis z jin\xfdch d\u016fvod\u016f) , Zva\u017ete z\u0159\xedzen\xed jin\xe9hoERDDAP\u2122a ulo\u017een\xed kopie souboru \xfadaj\u016f na n\u011bmERDDAP's pevn\xfdmi disky, mo\u017en\xe1 s",(0,t.jsx)(o.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridKop\xedrovat"}),"nebo",(0,t.jsx)(o.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDtableCopy"}),". Pokud n\u011bkolik takov\xfdchERDDAPs nedost\xe1v\xe1 mnoho \u017e\xe1dost\xed o data, m\u016f\u017eete je konsolidovat do jedn\xe9ERDDAP.\r\n",(0,t.jsx)(o.strong,{children:"C"})," servery mus\xed b\xfdt ve\u0159ejn\u011b p\u0159\xedstupn\xe9."]}),"\n",(0,t.jsx)(o.h4,{id:"composite-erddap",children:"Kompozitn\xedERDDAP"}),"\n",(0,t.jsxs)(o.p,{children:[(0,t.jsx)(o.strong,{children:"D"})," : KompozitERDDAP\u2122je pravideln\xe1ERDDAP\u2122krom\u011b toho, \u017ee slou\u017e\xed pouze \xfadaje z jin\xfdchERDDAPs."]}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Proto\u017ee ta kompoziceERDDAP\u2122m\xe1 v pam\u011bti informace o v\u0161ech datov\xfdch souborech, m\u016f\u017ee rychle reagovat na \u017e\xe1dosti o seznamy datov\xfdch soubor\u016f (\xfapln\xe9 vyhled\xe1v\xe1n\xed text\u016f, vyhled\xe1v\xe1n\xed kategori\xed, seznam v\u0161ech soubor\u016f \xfadaj\u016f) , a \u017e\xe1dosti o individu\xe1ln\xed formul\xe1\u0159 pro p\u0159\xedstup k dat\u016fm datov\xe9ho souboru, vytvo\u0159it graf neboWMSInforma\u010dn\xed str\xe1nka. To v\u0161e jsou mal\xe9, dynamicky generovan\xe9 HTML str\xe1nky zalo\u017een\xe9 na informac\xedch, kter\xe9 jsou ulo\u017eeny v pam\u011bti. Tak\u017ee odpov\u011bdi jsou velmi rychl\xe9."}),"\n",(0,t.jsx)(o.li,{children:"Proto\u017ee \u017e\xe1dosti o aktu\xe1ln\xed data jsou rychle p\u0159esm\u011brov\xe1ny na druhouERDDAPs, slo\u017een\xe9ERDDAP\u2122m\u016f\u017ee rychle reagovat na \u017e\xe1dosti o aktu\xe1ln\xed data bez pou\u017eit\xed CPU \u010dasu, pam\u011bti nebo \u0161\xed\u0159ky p\xe1sma."}),"\n",(0,t.jsx)(o.li,{children:"P\u0159esouv\xe1n\xedm co nejv\xedce pr\xe1ce (CPU, pam\u011b\u0165, \u0161\xed\u0159ka p\xe1sma) z kompozituERDDAP\u2122na druhouERDDAPs, slo\u017een\xe9ERDDAP\u2122m\u016f\u017ee se zd\xe1t, \u017ee slou\u017e\xed data ze v\u0161ech soubor\u016f \xfadaj\u016f a p\u0159esto st\xe1le dr\u017e\xed krok s velk\xfdm po\u010dtem \u017e\xe1dost\xed o \xfadaje od velk\xe9ho po\u010dtu u\u017eivatel\u016f."}),"\n",(0,t.jsx)(o.li,{children:"P\u0159edb\u011b\u017en\xe9 zkou\u0161ky ukazuj\xed, \u017ee sm\u011bsERDDAP\u2122m\u016f\u017ee reagovat na v\u011bt\u0161inu \u017e\xe1dost\xed v ~1ms \u010dasu procesoru, nebo 1000 po\u017eadavk\u016f/sekundu. Tak\u017ee 8 j\xe1drov\xfd procesor by m\u011bl b\xfdt schopen reagovat na asi 8000 po\u017eadavk\u016f za sekundu. I kdy\u017e je mo\u017en\xe9 si p\u0159edstavit v\xfdbuchy vy\u0161\u0161\xed aktivity, kter\xe9 by zp\u016fsobily zpomalen\xed, to je hodn\u011b pr\u016fniku. Je pravd\u011bpodobn\xe9, \u017ee \u0161\xed\u0159ka datov\xe9ho centra bude t\u011bsn\xedc\xedm v\xfdklenem dlouho p\u0159ed kompozitemERDDAP\u2122Stane se z\xe1kout\xed."}),"\n"]}),"\n",(0,t.jsx)(o.h5,{id:"up-to-date-maxtime",children:"Aktu\xe1ln\xed max (\u010das) ?"}),"\n",(0,t.jsxs)(o.p,{children:["TheEDDGrid/TableFromErddap v kompozituERDDAP\u2122zm\u011bn\xed sv\xe9 ulo\u017een\xe9 informace o ka\u017ed\xe9m zdrojov\xe9m souboru pouze tehdy, pokud zdrojov\xfd soubor je",(0,t.jsx)(o.a,{href:"/docs/server-admin/datasets#reloadeverynminutes",children:'"reloaded"ed'}),"a n\u011bkter\xe9 zm\u011bny metadat (nap\u0159. \u010dasov\xe1 prom\u011bnn\xe1actual\\_range) , \u010d\xedm\u017e vznik\xe1 ozn\xe1men\xed o p\u0159edplatn\xe9m. Pokud m\xe1 zdrojov\xfd soubor data, kter\xe1 se \u010dasto m\u011bn\xed (nap\u0159\xedklad nov\xe1 data ka\u017edou sekundu) a pou\u017e\xedv\xe1",(0,t.jsx)(o.a,{href:"/docs/server-admin/datasets#updateeverynmillis",children:'"aktualizace"'}),'syst\xe9m pro zji\u0161t\u011bn\xed \u010dast\xfdch zm\u011bn z\xe1kladn\xedch \xfadaj\u016f,EDDGrid/TableFromErddap nebude informov\xe1n o t\u011bchto \u010dast\xfdch zm\u011bn\xe1ch a\u017e do dal\u0161\xedho souboru soubor\u016f "na\u010d\xedst," tak\u017eeEDDGrid/TableFromErddap nebude dokonale aktu\xe1ln\xed. Tento probl\xe9m lze minimalizovat zm\u011bnou zdrojov\xe9ho souboru<Na\u010d\xedst ka\u017ed\xfd NMinutes na men\u0161\xed hodnotu (60, 15?) tak\u017ee existuje v\xedce ozn\xe1men\xed o p\u0159edplatn\xe9m \u0159\xedctEDDGrid/TableFromErddap aktualizovat sv\xe9 informace o zdrojov\xe9m souboru.']}),"\n",(0,t.jsx)(o.p,{children:"Nebo pokud v\xe1\u0161 syst\xe9m spr\xe1vy dat v\xed, kdy m\xe1 zdrojov\xfd soubor nov\xe1 data (nap\u0159. prost\u0159ednictv\xedm skriptu, kter\xfd kop\xedruje datov\xfd soubor na m\xedsto) , a pokud to nen\xed super \u010dast\xe9 (nap\u0159. ka\u017ed\xfdch 5 minut nebo m\xe9n\u011b \u010dasto) Existuje lep\u0161\xed \u0159e\u0161en\xed:"}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsx)(o.li,{children:"Nepou\u017e\xedvejte<aktualizovatEveryNMillis> udr\u017eovat zdrojov\xfd soubor aktu\xe1ln\xed."}),"\n",(0,t.jsx)(o.li,{children:"Nastavit zdrojov\xfd soubor<Na\u010d\xedst ka\u017ed\xfd NMinutes na v\u011bt\u0161\xed \u010d\xedslo (1440?) ."}),"\n",(0,t.jsxs)(o.li,{children:["A\u0165 skript kontaktuje zdrojov\xfd soubor",(0,t.jsx)(o.a,{href:"/docs/server-admin/additional-information#set-dataset-flag",children:"URL vlajky"}),"Hned pot\xe9, co kop\xedruje nov\xfd datov\xfd soubor.\r\nTo povede k tomu, \u017ee zdrojov\xfd soubor bude dokonale aktualizov\xe1n a zp\u016fsob\xed, \u017ee vytvo\u0159\xed ozn\xe1men\xed o p\u0159edplatn\xe9m, kter\xe9 bude zasl\xe1noEDDGrid/TableFromErddap data data. To povedeEDDGrid/TableFromErddap database to be perfectly up-to-date (No, do 5 sekund po p\u0159id\xe1n\xed nov\xfdch \xfadaj\u016f) . A v\u0161e, co bude provedeno efektivn\u011b (bez zbyte\u010dn\xe9ho op\u011btovn\xe9ho na\u010d\xedt\xe1n\xed dat) ."]}),"\n"]}),"\n",(0,t.jsx)(o.h4,{id:"multiple-composite-erddaps",children:"V\xedceslo\u017ekov\xe9ERDDAP\xe1n"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Ve velmi extr\xe9mn\xedch p\u0159\xedpadech, nebo pro chybovou toleranci, m\u016f\u017eete cht\xedt nastavit v\xedce ne\u017e jeden kompozitn\xedERDDAP. Je pravd\u011bpodobn\xe9, \u017ee ostatn\xed \u010d\xe1sti syst\xe9mu (zejm\xe9na \u0161\xed\u0159ka p\xe1sma datov\xe9ho centra) se stane probl\xe9mem dlouho p\u0159ed slo\u017een\xedmERDDAP\u2122Stane se z toho bl\xe1zen. Tak\u017ee \u0159e\u0161en\xed je pravd\u011bpodobn\u011b vytvo\u0159it dal\u0161\xed, geograficky r\u016fznorod\xe1, data centra (zrcadla) , ka\u017ed\xfd s jedn\xedm slo\u017een\xfdchERDDAP\u2122a servery sERDDAPs a (alespo\u0148) zrcadlov\xe9 kopie soubor\u016f \xfadaj\u016f, kter\xe9 jsou ve vysok\xe9 popt\xe1vce. Takov\xe9 nastaven\xed tak\xe9 poskytuje chybovou toleranci a z\xe1lohov\xe1n\xed dat (prost\u0159ednictv\xedm kop\xedrov\xe1n\xed) . V tomto p\u0159\xedpad\u011b je nejlep\u0161\xed, pokud kompozitERDDAPs maj\xed r\u016fzn\xe9 URL adresy."}),"\n"]}),"\n",(0,t.jsx)(o.p,{children:"Pokud opravdu chcete v\u0161echny kompozityERDDAPs m\xedt stejnou URL, pou\u017eijte p\u0159edn\xed koncov\xfd syst\xe9m, kter\xfd p\u0159i\u0159ad\xed dan\xe9ho u\u017eivatele jen jednomu z kompozit\u016fERDDAP\xe1n (na z\xe1klad\u011b IP adresy) , aby v\u0161echny po\u017eadavky u\u017eivatele j\xedt jen na jeden z kompozit\u016fERDDAPs. Existuj\xed dva d\u016fvody:"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:["P\u0159i op\u011btovn\xe9m na\u010dten\xed podkladov\xe9ho datov\xe9ho souboru a zm\u011bn\u011b metadat (Nap\u0159\xedklad nov\xfd datov\xfd soubor v m\u0159\xed\u017ekovan\xe9m souboru zp\u016fsobuje \u010dasovou prom\u011bnnouactual\\_rangezm\u011bnit) , slo\u017een\xe9ERDDAPs bude do\u010dasn\u011b m\xedrn\u011b mimo synchronizaci, ale s",(0,t.jsx)(o.a,{href:"https://en.wikipedia.org/wiki/Eventual_consistency",children:"p\u0159\xedpadn\xfd soulad"}),". Norm\xe1ln\u011b se do 5 sekund znovu sesynchronizuj\xed, ale n\u011bkdy to bude del\u0161\xed. Pokud u\u017eivatel vytvo\u0159\xed automatizovan\xfd syst\xe9m, kter\xfd spol\xe9h\xe1 na",(0,t.jsx)(o.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/subscriptions/index.html",children:"ERDDAP\u2122p\u0159edplatn\xe9"}),"\u017ee spou\u0161t\u011bc\xed akce, kr\xe1tk\xe9 probl\xe9my synchronity se stanou v\xfdznamn\xfdm."]}),"\n",(0,t.jsx)(o.li,{children:"2+ kompozitERDDAPKa\u017ed\xfd si udr\u017euje sv\u016fj vlastn\xed soubor p\u0159edplatn\xe9ch (proto\u017ee synchronizace probl\xe9m popsan\xe9 v\xfd\u0161e) ."}),"\n"]}),"\n",(0,t.jsxs)(o.p,{children:["Tak\u017ee dan\xfd u\u017eivatel by m\u011bl b\xfdt nasm\u011brov\xe1n pouze na jeden z kompozit\u016f.ERDDAPs, aby se zabr\xe1nilo t\u011bmto probl\xe9m\u016fm. Pokud jeden z kompozit\u016fERDDAPS jde dol\u016f, p\u0159edn\xed konec syst\xe9mu m\u016f\u017ee p\u0159esm\u011brovat, \u017eeERDDAP's u\u017eivateli jin\xe9hoERDDAP\u2122To je ono. Pokud se v\u0161ak jedn\xe1 o probl\xe9m s kapacitou, kter\xfd zp\u016fsobuje prvn\xed kompozitERDDAP\u2122selhat (p\u0159\xedli\u0161 horliv\xfd u\u017eivatel? a",(0,t.jsx)(o.a,{href:"https://en.wikipedia.org/wiki/Denial-of-service_attack",children:"Pop\xedr\xe1n\xed slu\u017eebn\xedho \xfatoku"}),"?) , To je velmi pravd\u011bpodobn\xe9, \u017ee p\u0159esm\u011brov\xe1n\xed sv\xfdch u\u017eivatel\u016f na jin\xe9 slo\u017een\xe9ERDDAPs",(0,t.jsx)(o.a,{href:"https://en.wikipedia.org/wiki/Cascading_failure",children:"Kask\xe1dov\xe9 selh\xe1n\xed"}),". Nej robust\u011bj\u0161\xed nastaven\xed je tedy m\xedt slo\u017een\xe9ERDDAPs r\u016fzn\xfdmi URL adresami."]}),"\n",(0,t.jsx)(o.p,{children:"Nebo snad l\xe9pe, nastavit v\xedce kompozit\u016fERDDAPs bez vyva\u017eov\xe1n\xed zat\xed\u017een\xed. V tomto p\u0159\xedpad\u011b byste m\u011bli m\xedt bod d\xe1t ka\u017ed\xfd zERDDAPs odli\u0161n\xfdm jm\xe9nem / identitou a pokud mo\u017eno nastaven\xedm v r\u016fzn\xfdch \u010d\xe1stech sv\u011bta (nap\u0159. r\u016fzn\xe9 oblasti AWS) nap\u0159.ERD\\_US\\_V\xfdchod,ERD\\_US\\_West,ERD\\_IE,ERD\\_FR,ERD\\_IT, tak\u017ee u\u017eivatel\xe9 v\u011bdom\u011b, opakovan\u011b pracovat s konkr\xe9tn\xedERDDAP."}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:["\\[Pro fascinuj\xedc\xed n\xe1vrh vysoce v\xfdkonn\xe9ho syst\xe9mu b\u011b\u017e\xedc\xedho na jednom serveru viz tento",(0,t.jsx)(o.a,{href:"https://mailinator.blogspot.com/2007/01/architecture-of-mailinator.html",children:"podrobn\xfd popis Mailinatora"}),".\\]"]}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"datasets-in-very-high-demand",children:"Datov\xe9 soubory ve velmi vysok\xe9 popt\xe1vce"}),"\n",(0,t.jsxs)(o.p,{children:["V opravdu neobvykl\xe9m p\u0159\xedpad\u011b, \u017ee jeden z ",(0,t.jsx)(o.strong,{children:"A"})," , ",(0,t.jsx)(o.strong,{children:"B"})," nebo ",(0,t.jsx)(o.strong,{children:"C"}),"  ERDDAPs nem\u016f\u017ee udr\u017eet krok s po\u017eadavky z d\u016fvodu \u0161\xed\u0159ky p\xe1sma nebo omezen\xed pevn\xe9ho disku, to d\xe1v\xe1 smysl kop\xedrovat data (znovu) na jin\xfd server+hard Disk+ERDDAP, snad s",(0,t.jsx)(o.a,{href:"/docs/server-admin/datasets#eddgridcopy",children:"EDDGridKop\xedrovat"}),"nebo",(0,t.jsx)(o.a,{href:"/docs/server-admin/datasets#eddtablecopy",children:"EDDtableCopy"}),'. I kdy\u017e se m\u016f\u017ee zd\xe1t ide\xe1ln\xed m\xedt p\u016fvodn\xed datov\xfd soubor a zkop\xedrovan\xfd datov\xfd soubor se bez probl\xe9m\u016f objev\xed jako jeden datov\xfd soubor v kompozituERDDAP\u2122, To je obt\xed\u017en\xe9, proto\u017ee dva soubory soubor\u016f budou v trochu r\u016fzn\xfdch st\xe1tech v r\u016fzn\xfdch \u010dasech (zejm\xe9na pot\xe9, co origin\xe1l z\xedsk\xe1 nov\xe1 data, ale p\u0159edt\xedm, ne\u017e zkop\xedrovan\xfd soubor dostane svou kopii) . Proto doporu\u010duji, aby byly datov\xe9 soubory opat\u0159eny m\xedrn\u011b odli\u0161n\xfdmi n\xe1zvy (Nap\u0159\xedklad, "... (kopie #1) "a... (kopie #2) "nebo mo\u017en\xe1 " (zrcadlo # ',(0,t.jsx)(o.em,{children:"n"}),' ) "nebo " (server # ',(0,t.jsx)(o.em,{children:"n"}),' ) ") a zobraz\xed se jako samostatn\xe9 soubory \xfadaj\u016f v kompozituERDDAP. U\u017eivatel\xe9 se pou\u017e\xedvaj\xed k zobrazen\xed seznam\u016f',(0,t.jsx)(o.a,{href:"https://en.wikipedia.org/wiki/Website#mirror_site",children:"zrcadlov\xe1 m\xedsta"}),'na obl\xedben\xfdch str\xe1nk\xe1ch stahov\xe1n\xed soubor\u016f, tak\u017ee by je to nem\u011blo p\u0159ekvapit nebo zklamat. Vzhledem k omezen\xed \u0161\xed\u0159ky p\xe1sma na dan\xe9m m\xedst\u011b, to m\u016f\u017ee m\xedt smysl m\xedt zrcadlo um\xedst\u011bn\xe9 na jin\xe9m m\xedst\u011b. Pokud je zrcadlov\xe1 kopie v jin\xe9m datov\xe9m centru, je p\u0159\xedstupn\xe1 jen kompozitem datov\xe9ho centra.ERDDAP\u2122, r\u016fzn\xe9 tituly (nap\u0159. "zrcadlo \u010d.1) nejsou nutn\xe9.']}),"\n",(0,t.jsx)(o.h3,{id:"raids-versus-regular-hard-drives",children:"RAID versus pravideln\xe9 pevn\xe9 disky"}),"\n",(0,t.jsxs)(o.p,{children:["Pokud velk\xfd datov\xfd soubor nebo skupina soubor\u016f dat nejsou siln\u011b pou\u017e\xedv\xe1ny, m\u016f\u017ee m\xedt smysl ukl\xe1dat data na RAID, proto\u017ee nab\xedz\xed chybovou toleranci a proto\u017ee nepot\u0159ebujete procesn\xed v\xfdkon nebo \u0161\xed\u0159ku p\xe1sma jin\xe9ho serveru. Ale pokud je soubor dat siln\u011b pou\u017e\xedv\xe1n, m\u016f\u017ee m\xedt v\u011bt\u0161\xed smysl zkop\xedrovat data na jin\xe9m serveru +ERDDAP\u2122+ pevn\xfd disk (podobn\xe9",(0,t.jsx)(o.a,{href:"https://storagemojo.com/2007/02/19/googles-disk-failure-experience/",children:"co d\u011bl\xe1 Google"}),") nam\xedsto pou\u017eit\xed jednoho serveru a RAID k ukl\xe1d\xe1n\xed v\xedce soubor\u016f dat, proto\u017ee m\u016f\u017eete pou\u017e\xedt oba servery+hardDrive+ERDDAPJe v s\xedti, dokud jeden z nich nezklame."]}),"\n",(0,t.jsx)(o.h3,{id:"failures",children:"Selh\xe1n\xed"}),"\n",(0,t.jsx)(o.p,{children:"Co se stane, kdy\u017e..."}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Je tu v\xfdbuch \u017e\xe1dost\xed o jeden datov\xfd soubor (Nap\u0159\xedklad v\u0161ichni studenti ve t\u0159\xedd\u011b sou\u010dasn\u011b po\u017eaduj\xed podobn\xe1 data) ?\r\nPouzeERDDAP\u2122pokud bude tento soubor \xfadaj\u016f p\u0159emo\u017een a zpomalen nebo odm\xedtne \u017e\xe1dosti. KompozitERDDAP\u2122a dal\u0161\xedERDDAPNebude to ovlivn\u011bno. Jeliko\u017e mezn\xedm faktorem pro dan\xfd datov\xfd soubor uvnit\u0159 syst\xe9mu je pevn\xfd disk s daty (neERDDAP) , jedin\xe9 \u0159e\u0161en\xed (nen\xed okam\u017eit\xe9) je vytvo\u0159it kopii datov\xe9ho souboru na jin\xe9m serveru+hardDrive+ERDDAP."}),"\n",(0,t.jsxs)(o.li,{children:["An ",(0,t.jsx)(o.strong,{children:"A"})," , ",(0,t.jsx)(o.strong,{children:"B"})," nebo ",(0,t.jsx)(o.strong,{children:"C"}),"  ERDDAP\u2122selh\xe1n\xed (nap\u0159. selh\xe1n\xed pevn\xe9ho disku) ?\r\nPouze datov\xfd soubor (\xe1n) Slou\u017eil t\xedmERDDAP\u2122jsou ovlivn\u011bny. Pokud soubor \xfadaj\u016f (\xe1n) je zrcadlena na jin\xe9m serveru+hardDrive+ERDDAP, \xda\u010dinek je minim\xe1ln\xed. Pokud je probl\xe9mem selh\xe1n\xed pevn\xe9ho disku v \xfarovni 5 nebo 6 RAID, sta\u010d\xed vym\u011bnit disk a nechat RAID obnovit data na disku."]}),"\n",(0,t.jsxs)(o.li,{children:["KompozitERDDAP\u2122Selh\xe1v\xe1?\r\nPokud chcete vytvo\u0159it syst\xe9m s velmi",(0,t.jsx)(o.a,{href:"https://en.wikipedia.org/wiki/High_availability",children:"vysok\xe1 dostupnost"}),", m\u016f\u017eete p\u0159ipravit",(0,t.jsx)(o.a,{href:"#multiple-composite-erddaps",children:"v\xedceslo\u017ekov\xe9ERDDAP\xe1n (jak je uvedeno v\xfd\u0161e) "}),", pomoc\xed n\u011b\u010deho jako",(0,t.jsx)(o.a,{href:"https://www.nginx.com/",children:"NGINX"}),"nebo",(0,t.jsx)(o.a,{href:"https://traefik.io/",children:"Traefik"}),"zvl\xe1dnout vyv\xe1\u017een\xed n\xe1kladu. Pozn\xe1mka",":ERDDAP","\u2122m\u016f\u017ee zvl\xe1dnout velmi velk\xfd po\u010det \u017e\xe1dost\xed od velk\xe9ho po\u010dtu u\u017eivatel\u016f, proto\u017ee\r\n\u017e\xe1dosti o metadata jsou mal\xe9 a jsou zpracov\xe1v\xe1ny informacemi, kter\xe9 jsou v pam\u011bti, a\r\n\u017e\xe1dosti o \xfadaje (kter\xfd m\u016f\u017ee b\xfdt velk\xfd) jsou p\u0159esm\u011brov\xe1ny na d\xedt\u011bERDDAPs."]}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"simple-scalable",children:"Jednoduch\xe9, \u0161k\xe1lovateln\xe9"}),"\n",(0,t.jsx)(o.p,{children:"Tento syst\xe9m se snadno nastavuje a spravuje a snadno se roz\u0161i\u0159uje, kdy\u017e se jeho \u010d\xe1st p\u0159et\xed\u017e\xed. Jedin\xe1 re\xe1ln\xe1 omezen\xed pro dan\xe9 datov\xe9 centrum jsou \u0161\xed\u0159ka p\xe1sma datov\xe9ho centra a cena syst\xe9mu."}),"\n",(0,t.jsx)(o.h3,{id:"bandwidth",children:"\u0160\xed\u0159ka p\xe1sma"}),"\n",(0,t.jsx)(o.p,{children:"V\u0161imn\u011bte si p\u0159ibli\u017en\xe9 \u0161\xed\u0159ky p\xe1sma b\u011b\u017en\u011b pou\u017e\xedvan\xfdch sou\u010d\xe1st\xed syst\xe9mu:"}),"\n",(0,t.jsxs)(o.table,{children:[(0,t.jsx)(o.thead,{children:(0,t.jsxs)(o.tr,{children:[(0,t.jsx)(o.th,{children:"Slo\u017eka"}),(0,t.jsx)(o.th,{children:"P\u0159ibli\u017en\xe1 \u0161\xed\u0159ka p\xe1sma (GByty/s)"})]})}),(0,t.jsxs)(o.tbody,{children:[(0,t.jsxs)(o.tr,{children:[(0,t.jsx)(o.td,{children:"DDR pam\u011b\u0165"}),(0,t.jsx)(o.td,{children:"2. 5"})]}),(0,t.jsxs)(o.tr,{children:[(0,t.jsx)(o.td,{children:"SSD disk"}),(0,t.jsx)(o.td,{children:"1"})]}),(0,t.jsxs)(o.tr,{children:[(0,t.jsx)(o.td,{children:"SATA pevn\xfd disk"}),(0,t.jsx)(o.td,{children:"0, 3"})]}),(0,t.jsxs)(o.tr,{children:[(0,t.jsx)(o.td,{children:"Gigabit Ethernet"}),(0,t.jsx)(o.td,{children:"0, 1"})]}),(0,t.jsxs)(o.tr,{children:[(0,t.jsx)(o.td,{children:"OC-12"}),(0,t.jsx)(o.td,{children:"0, 06"})]}),(0,t.jsxs)(o.tr,{children:[(0,t.jsx)(o.td,{children:"OC-3"}),(0,t.jsx)(o.td,{children:"0, 015"})]}),(0,t.jsxs)(o.tr,{children:[(0,t.jsx)(o.td,{children:"T1"}),(0,t.jsx)(o.td,{children:"0, 0002"})]})]})]}),"\n",(0,t.jsxs)(o.p,{children:["Tak\u017ee jeden pevn\xfd disk SATA. (0, 3GB/ s) na jednom serveru s jedn\xedmERDDAP\u2122m\u016f\u017ee pravd\u011bpodobn\u011b nasytit Gigabit Ethernet LAN (0, 1 GB/ s) . A jeden Gigabit Ethernet LAN (0, 1 GB/ s) m\u016f\u017ee pravd\u011bpodobn\u011b nasytit OC-12 p\u0159ipojen\xed k internetu (0, 06GB/s) . A nejm\xe9n\u011b jeden zdrojov\xfd seznam linek OC-12 stoj\xed asi 100 000 dolar\u016f m\u011bs\xed\u010dn\u011b. (Ano, tyto v\xfdpo\u010dty jsou zalo\u017eeny na posunu syst\xe9mu na jeho limity, co\u017e nen\xed dobr\xe9, proto\u017ee vede k velmi pomal\xfdm reakc\xedm. Tyto v\xfdpo\u010dty jsou v\u0161ak u\u017eite\u010dn\xe9 pro pl\xe1nov\xe1n\xed a vyv\xe1\u017een\xed \u010d\xe1st\xed syst\xe9mu.)   ",(0,t.jsx)(o.strong,{children:"Je z\u0159ejm\xe9, \u017ee vhodn\xe9 rychl\xe9 p\u0159ipojen\xed k internetu pro va\u0161e datov\xe9 centrum je zdaleka nejdra\u017e\u0161\xed \u010d\xe1st syst\xe9mu."})," M\u016f\u017eete snadno a relativn\u011b levn\u011b postavit m\u0159\xed\u017eku s tuctem server\u016f b\u011b\u017e\xedc\xed tucetERDDAPs, kter\xfd je schopen pumpovat spoustu dat rychle, ale vhodn\u011b rychl\xe9 p\u0159ipojen\xed k internetu bude velmi, velmi drah\xe9. \u010c\xe1ste\u010dn\xe9 roztoky jsou:"]}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Povzbuzovat klienty, aby po\u017eadovali podmno\u017einy dat, pokud je to v\u0161e, co je pot\u0159eba. Pokud klient pot\u0159ebuje pouze \xfadaje pro mal\xfd region nebo v men\u0161\xedm rozli\u0161en\xed, m\u011bli by o to po\u017e\xe1dat. Subsetting je \xfast\u0159edn\xedm zam\u011b\u0159en\xedm protokol\u016fERDDAP\u2122podporuje \u017e\xe1dost o \xfadaje."}),"\n",(0,t.jsxs)(o.li,{children:["Podporujte p\u0159enos komprimovan\xfdch dat.ERDDAP\u2122 ",(0,t.jsx)(o.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#compression",children:"obklady"}),'p\u0159enos dat, pokud nalezne "p\u0159ij\xedmac\xed k\xf3dov\xe1n\xed" vHTTP GET\u017d\xe1d\xe1m hlavi\u010dku. V\u0161echny webov\xe9 prohl\xed\u017ee\u010de pou\u017e\xedvaj\xed "accept-encoding" a automaticky dekompresuj\xed odpov\u011b\u010f. Ostatn\xed klienti (Nap\u0159\xedklad po\u010d\xedta\u010dov\xe9 programy) mus\xedm to pou\u017e\xedt explicitn\u011b.']}),"\n",(0,t.jsx)(o.li,{children:"Najdi servery na ISP nebo jin\xe9 str\xe1nce, kter\xe1 nab\xedz\xed relativn\u011b ni\u017e\u0161\xed n\xe1klady na \u0161\xed\u0159ku p\xe1sma."}),"\n",(0,t.jsx)(o.li,{children:"Rozptylte servery pomoc\xedERDDAPS r\u016fzn\xfdmi institucemi tak, aby n\xe1klady byly rozpt\xfdleny. Pak m\u016f\u017eete spojit kompozitERDDAP\u2122k jejichERDDAPs."}),"\n"]}),"\n",(0,t.jsxs)(o.p,{children:["V\u0161imn\u011bte si, \u017ee",(0,t.jsx)(o.a,{href:"#cloud-computing",children:"Cloud Computing"}),"a webhostingov\xe9 slu\u017eby nab\xedzej\xed ve\u0161kerou \u0161\xed\u0159ku p\xe1sma, kterou pot\u0159ebujete, ale nevy\u0159e\u0161te probl\xe9m s cenou."]}),"\n",(0,t.jsxs)(o.p,{children:["Obecn\xe9 informace o n\xe1vrhu \u0161k\xe1lovateln\xfdch, vysoce kapacitn\xedch, syst\xe9m\u016f tolerantn\xedch k poruch\xe1m viz kniha Michaela T. Nygarda",(0,t.jsx)(o.a,{href:"https://www.amazon.com/Release-Production-Ready-Software-Pragmatic-Programmers/dp/0978739213",children:"Uvoln\u011bte ji."}),"."]}),"\n",(0,t.jsx)(o.h3,{id:"like-legos",children:"Jako Lego."}),"\n",(0,t.jsxs)(o.p,{children:["Software design\xe9\u0159i se \u010dasto sna\u017e\xed pou\u017e\xedvat dobr\xe9",(0,t.jsx)(o.a,{href:"https://en.wikipedia.org/wiki/Software_design_pattern",children:"vzory n\xe1vrhu softwaru"}),"\u0159e\u0161it probl\xe9my. Dobr\xe9 vzory jsou dobr\xe9, proto\u017ee zapoutaj\xed dobr\xe9, snadno vytvo\u0159it a pracovat s, univerz\xe1ln\xed \u0159e\u0161en\xed, kter\xe1 vedou k syst\xe9m\u016fm s dobr\xfdmi vlastnostmi. Vzor jm\xe9na nejsou standardizov\xe1na, tak\u017ee nazvu vzor, \u017eeERDDAP\u2122pou\u017e\xedv\xe1 Lego vzor. Ka\u017ed\xe9 Lego (ka\u017ed\xfdERDDAP) je jednoduch\xfd, mal\xfd, standardn\xed, samostatn\xfd, cihlov\xfd (datov\xfd server) s definovan\xfdm rozhran\xedm, kter\xe9 umo\u017e\u0148uje p\u0159ipojen\xed k jin\xfdm legos (ERDDAP\xe1n) . \u010c\xe1stiERDDAP\u2122kter\xe9 tvo\u0159\xed tento syst\xe9m jsou: p\u0159edplatn\xe9 a flagURL syst\xe9my (kter\xe1 umo\u017e\u0148uje komunikaci meziERDDAP\xe1n) EDD... FromErddap p\u0159esm\u011brov\xe1n\xed syst\xe9m, a syst\xe9mRESTful\u017e\xe1dosti o \xfadaje, kter\xe9 mohou z\xedskat u\u017eivatel\xe9 nebo jin\xedERDDAPs. Tak\u017ee, vzhledem k dv\u011bma nebo v\xedce legos (ERDDAP\xe1n) , m\u016f\u017eete vytvo\u0159it obrovsk\xe9 mno\u017estv\xed r\u016fzn\xfdch tvar\u016f (topologie s\xedt\u011bERDDAP\xe1n) . Jist\u011b, design a vlastnostiERDDAP\u2122mohlo b\xfdt provedeno jinak, ne jako Lego, mo\u017en\xe1 jen proto, aby bylo mo\u017en\xe9 a optimalizov\xe1no pro jednu konkr\xe9tn\xed topologii. Ale c\xedt\xedme, \u017eeERDDAP's Lego-jako design nab\xedz\xed dobr\xe9, univerz\xe1ln\xed \u0159e\u0161en\xed, kter\xe9 umo\u017e\u0148ujeERDDAP\u2122Spr\xe1vce (nebo skupina spr\xe1vc\u016f) vytvo\u0159it r\u016fzn\xe9 druhy topologie federace. Nap\u0159\xedklad jedna organizace by mohla vytvo\u0159it t\u0159i (nebo v\xedce)  ERDDAPs, jak je uvedeno v",(0,t.jsx)(o.a,{href:"#recommendations",children:"ERDDAP\u2122N\xe1kres m\u0159\xed\u017eky/Cluster v\xfd\u0161e"}),". Nebo distribuovan\xe1 skupina (IOOS? Pob\u0159e\u017en\xed hl\xeddka? NCEI? NWS?NOAA? USS? Dataone? Neon? LTERe? OOI? BODC? Onc? SVS? WMO?) m\u016f\u017ee nastavit jedenERDDAP\u2122v ka\u017ed\xe9 mal\xe9 z\xe1kladn\u011b (tak\u017ee data mohou z\u016fstat bl\xedzko zdroje) a pak nastavit slo\u017een\xe9ERDDAP\u2122v centr\xe1ln\xed kancel\xe1\u0159i s virtu\xe1ln\xedmi soubory dat (kter\xe9 jsou v\u017edy dokonale aktu\xe1ln\xed) z ka\u017ed\xe9 mal\xe9 z\xe1kladnyERDDAPs. Vskutku, v\u0161echnyERDDAPs, instalov\xe1n v r\u016fzn\xfdch instituc\xedch po cel\xe9m sv\u011bt\u011b, kter\xe9 z\xedsk\xe1vaj\xed data od jin\xfdchERDDAPs a/nebo poskytovat \xfadaje jin\xfdmERDDAPs, tvo\u0159\xed obrovskou s\xed\u0165ERDDAPs. Nen\xed to super? Tak\u017ee stejn\u011b jako u Lega jsou mo\u017enosti nekone\u010dn\xe9. Proto je to dobr\xfd vzor. Proto je to dobr\xfd design.ERDDAP."]}),"\n",(0,t.jsx)(o.h3,{id:"different-types-of-requests",children:"R\u016fzn\xe9 typy \u017e\xe1dost\xed"}),"\n",(0,t.jsx)(o.p,{children:"Jednou z re\xe1ln\xfdch komplikac\xed t\xe9to diskuse o topologii datov\xe9ho serveru je to, \u017ee existuj\xed r\u016fzn\xe9 typy \u017e\xe1dost\xed a r\u016fzn\xe9 zp\u016fsoby optimalizace pro r\u016fzn\xe9 typy \u017e\xe1dost\xed. Tohle je v\u011bt\u0161inou samostatn\xe1 ot\xe1zka. (Jak rychle m\u016f\u017eeERDDAP\u2122pokud \xfadaje odpov\xeddaj\xed na \u017e\xe1dost o \xfadaje?) z diskuse o topologii (kter\xfd se zab\xfdv\xe1 vztahy mezi datov\xfdmi servery a kter\xfd server m\xe1 aktu\xe1ln\xed data) .ERDDAP\u2122, samoz\u0159ejm\u011b, sna\u017e\xed vypo\u0159\xe1dat se se v\u0161emi typy \u017e\xe1dost\xed efektivn\u011b, ale zach\xe1z\xed s n\u011bkter\xfdmi lep\u0161\xedmi ne\u017e ostatn\xed."}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Mnoho \u017e\xe1dost\xed je jednoduch\xfdch.\r\nNap\u0159\xedklad: Jak\xe9 jsou metadata pro tento datov\xfd soubor? Nebo: Jak\xe9 jsou hodnoty \u010dasov\xe9ho rozm\u011bru tohoto m\u0159\xed\u017ekovan\xe9ho souboru?ERDDAP\u2122je navr\u017een tak, aby s nimi manipuloval co nejrychleji (obvykle v<=2 ms) udr\u017eov\xe1n\xedm t\xe9to informace v pam\u011bti.\r\n\xa0"}),"\n",(0,t.jsx)(o.li,{children:"N\u011bkter\xe9 po\u017eadavky jsou m\xedrn\u011b t\u011b\u017ek\xe9.\r\nNap\u0159\xedklad: Dejte mi tuto podmno\u017einu datov\xe9ho souboru. (kter\xfd je v jednom datov\xe9m souboru) . Tyto po\u017eadavky lze \u0159e\u0161it pom\u011brn\u011b rychle, proto\u017ee nejsou tak t\u011b\u017ek\xe9.\r\n\xa0"}),"\n",(0,t.jsxs)(o.li,{children:["N\u011bkter\xe9 po\u017eadavky jsou t\u011b\u017ek\xe9, a proto jsou \u010dasov\u011b n\xe1ro\u010dn\xe9.\r\nNap\u0159\xedklad: Dejte mi tuto podmno\u017einu datov\xe9ho souboru. (kter\xfd m\u016f\u017ee b\xfdt v n\u011bkter\xe9m z 10 000+ datov\xfdch soubor\u016f, nebo by mohl b\xfdt z komprimovan\xfdch datov\xfdch soubor\u016f, kter\xe9 ka\u017ed\xfd trv\xe1 10 sekund na dekompresi) .ERDDAP\u2122v2.0 uvedl n\u011bkter\xe9 nov\xe9, rychlej\u0161\xed zp\u016fsoby, jak se s t\u011bmito po\u017eadavky vypo\u0159\xe1dat, zejm\xe9na t\xedm, \u017ee umo\u017enil, aby nit pro zpracov\xe1n\xed \u017e\xe1dost\xed rozmno\u017eila n\u011bkolik pracovn\xedch nit\xed, kter\xe9 \u0159e\u0161\xed r\u016fzn\xe9 podskupiny \u017e\xe1dosti. Ale existuje jin\xfd p\u0159\xedstup k tomuto probl\xe9mu, kter\xfdERDDAP\u2122dosud nepodporuje: podmno\u017einy datov\xfdch soubor\u016f pro dan\xfd datov\xfd soubor by mohly b\xfdt ulo\u017eeny a analyzov\xe1ny na samostatn\xfdch po\u010d\xedta\u010d\xedch, a pak v\xfdsledky kombinovan\xe9 na p\u016fvodn\xedm serveru. Tento p\u0159\xedstup se naz\xfdv\xe1",(0,t.jsx)(o.a,{href:"https://en.wikipedia.org/wiki/MapReduce",children:"MapReduce"}),"a je p\u0159\xedkladem",(0,t.jsx)(o.a,{href:"https://en.wikipedia.org/wiki/Apache_Hadoop",children:"Hadoop p\u0159edseda"}),", prvn\xed (?) open-source MapReduce program, kter\xfd byl zalo\u017een na n\xe1padech z Google pap\xedru. (Pokud pot\u0159ebujete MapReduceERDDAP, pros\xedm po\u0161lete e-mailovou \u017e\xe1dost naerd.data at noaa.gov.) Google",(0,t.jsx)(o.a,{href:"https://cloud.google.com/bigquery/",children:"Velk\xe1 \u0161kola"}),"je zaj\xedmav\xe9, proto\u017ee se zd\xe1, \u017ee se jedn\xe1 o implementaci MapReduce aplikovan\xe9 na subsetting tabulkov\xfdch dat, kter\xe1 je jedn\xedm zERDDAP's hlavn\xedmi c\xedli. Je pravd\u011bpodobn\xe9, \u017ee m\u016f\u017eete vytvo\u0159itERDDAP\u2122Soubor dat z souboru BigQuery p\u0159es",(0,t.jsx)(o.a,{href:"/docs/server-admin/datasets#eddtablefromdatabase",children:"EDDtableFromDatabase"}),"proto\u017ee k BigQuery lze p\u0159istupovat p\u0159es rozhran\xed JDBC."]}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"these-are-my-opinions",children:"To jsou moje n\xe1zory."}),"\n",(0,t.jsx)(o.p,{children:"Ano, v\xfdpo\u010dty jsou zjednodu\u0161en\xe9. (a nyn\xed m\xedrn\u011b datovan\xfd) Ale mysl\xedm, \u017ee z\xe1v\u011bry jsou spr\xe1vn\xe9. Pou\u017eil jsem chybnou logiku nebo jsem ud\u011blal chybu ve sv\xfdch v\xfdpo\u010dtech? Pokud ano, je to jen moje chyba. Pros\xedm, po\u0161lete e-mail s opravouerd dot data at noaa dot gov."}),"\n",(0,t.jsx)(o.hr,{}),"\n",(0,t.jsx)(o.h2,{id:"cloud-computing",children:(0,t.jsxs)(o.a,{href:"#cloud-computing",children:[" ",(0,t.jsx)(o.strong,{children:"Cloud Computing"})," "]})}),"\n",(0,t.jsxs)(o.p,{children:["N\u011bkolik spole\u010dnost\xed nab\xedz\xed cloud computing slu\u017eby (nap\u0159.",(0,t.jsx)(o.a,{href:"https://aws.amazon.com/",children:"Amazon Webov\xe9 slu\u017eby"}),"a",(0,t.jsx)(o.a,{href:"https://cloud.google.com/",children:"Google Cloud Platform"}),") .",(0,t.jsx)(o.a,{href:"https://en.wikipedia.org/wiki/Web_hosting_service",children:"Web hostingov\xe9 spole\u010dnosti"}),'nab\xedzej\xed jednodu\u0161\u0161\xed slu\u017eby od poloviny 90. let, ale slu\u017eby "cloud" zna\u010dn\u011b roz\u0161\xed\u0159ily flexibilitu syst\xe9m\u016f a nab\xeddku slu\u017eeb. OdERDDAP\u2122m\u0159\xed\u017eka se skl\xe1d\xe1 zERDDAPs a odERDDAPs jsouJavawebov\xe9 aplikace, kter\xe9 mohou b\u011b\u017eet v Tomcat (nej\u010dast\u011bj\u0161\xed server aplikace) nebo jin\xe9 servery aplikace by m\u011blo b\xfdt relativn\u011b snadn\xe9 nastavitERDDAP\u2122m\u0159\xed\u017eka na cloudov\xe9 slu\u017eb\u011b nebo web hosting str\xe1nky. V\xfdhody t\u011bchto slu\u017eeb jsou:']}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Nab\xedzej\xed p\u0159\xedstup k velmi vysok\xe9 \u0161\xed\u0159ce p\xe1sma p\u0159ipojen\xed k internetu. To samo o sob\u011b m\u016f\u017ee ospravedlnit pou\u017e\xedv\xe1n\xed t\u011bchto slu\u017eeb."}),"\n",(0,t.jsx)(o.li,{children:"Plat\xed jen za slu\u017eby, kter\xe9 pou\u017e\xedv\xe1te. Nap\u0159\xedklad z\xedsk\xe1te p\u0159\xedstup k velmi vysok\xe9mu p\u0159ipojen\xed k internetu, ale plat\xedte pouze za skute\u010dn\u011b p\u0159en\xe1\u0161en\xe1 data. To v\xe1m umo\u017en\xed vybudovat syst\xe9m, kter\xfd se z\u0159\xeddkakdy p\u0159em\u016f\u017ee (i p\u0159i nejvy\u0161\u0161\xed popt\xe1vce) , ani\u017e by museli platit za kapacitu, kter\xe1 je z\u0159\xeddka pou\u017e\xedvan\xe1."}),"\n",(0,t.jsx)(o.li,{children:"Jsou snadno roz\u0161i\u0159iteln\xe9. M\u016f\u017eete zm\u011bnit typy server\u016f nebo p\u0159idat tolik server\u016f nebo tolik \xfalo\u017ei\u0161\u0165, kolik chcete, za m\xe9n\u011b ne\u017e minutu. To samo o sob\u011b m\u016f\u017ee ospravedlnit pou\u017e\xedv\xe1n\xed t\u011bchto slu\u017eeb."}),"\n",(0,t.jsx)(o.li,{children:"Osvobod\xed v\xe1s od mnoha administrativn\xedch povinnost\xed provozov\xe1n\xed server\u016f a s\xedt\xed. To samo o sob\u011b m\u016f\u017ee ospravedlnit pou\u017e\xedv\xe1n\xed t\u011bchto slu\u017eeb."}),"\n"]}),"\n",(0,t.jsx)(o.p,{children:"Nev\xfdhodou t\u011bchto slu\u017eeb jsou:"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:["Za sv\xe9 slu\u017eby si n\u011bkdy \xfa\u010dtuj\xed hodn\u011b. (v absolutn\xedch hodnot\xe1ch, ne \u017ee by to nebyla dobr\xe1 hodnota) . Ceny uveden\xe9 zde jsou pro",(0,t.jsx)(o.a,{href:"https://aws.amazon.com/ec2/pricing",children:"Amazon EC2"}),". Tyto ceny (od \u010dervna 2015) Sleze dol\u016f.\r\nV minulosti byly ceny vy\u0161\u0161\xed, ale datov\xe9 soubory a po\u010det \u017e\xe1dost\xed byly men\u0161\xed.\r\nV budoucnu budou ceny ni\u017e\u0161\xed, ale datov\xe9 soubory a po\u010det \u017e\xe1dost\xed budou v\u011bt\u0161\xed.\r\nDetaily se m\u011bn\xed, ale situace z\u016fst\xe1v\xe1 relativn\u011b konstantn\xed.\r\nA nen\xed to t\xedm, \u017ee slu\u017eba je p\u0159edra\u017een\xe1, ale \u017ee pou\u017e\xedv\xe1me a kupujeme mnoho slu\u017eeb.","\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"P\u0159enos dat do syst\xe9mu je nyn\xed zdarma (Jo!) .\r\nP\u0159enosy dat ze syst\xe9mu jsou 0,09 $/GB.\r\nJeden pevn\xfd disk SATA (0, 3GB/ s) na jednom serveru s jedn\xedmERDDAP\u2122m\u016f\u017ee pravd\u011bpodobn\u011b nasytit Gigabit Ethernet LAN (0, 1 GB/ s) .\r\nOne Gigabit Ethernet LAN (0, 1 GB/ s) m\u016f\u017ee pravd\u011bpodobn\u011b nasytit OC-12 p\u0159ipojen\xed k internetu (0, 06GB/s) .\r\nPokud jedno p\u0159ipojen\xed OC-12 m\u016f\u017ee p\u0159en\xe1\u0161et ~150.000 GB/m\u011bs\xedc, n\xe1klady na p\u0159enos dat by mohly b\xfdt a\u017e 150.000 GB @ $0.09/GB = $13.500/m\u011bs\xedc, co\u017e je v\xfdznamn\xe1 cena. O\u010dividn\u011b, pokud m\xe1te tucet t\u011b\u017ece pracuj\xedc\xedchERDDAPs v cloudov\xe9 slu\u017eb\u011b, va\u0161e m\u011bs\xed\u010dn\xed poplatky za p\u0159enos dat by mohly b\xfdt podstatn\xe9 (a\u017e do 162 000 dolar\u016f za m\u011bs\xedc) . (Op\u011bt, nen\xed to t\xedm, \u017ee slu\u017eba je p\u0159edra\u017een\xe1, je to, \u017ee pou\u017e\xedv\xe1me a kupujeme mnoho slu\u017eeb.)"}),"\n",(0,t.jsxs)(o.li,{children:["\xdalo\u017ei\u0161t\u011b dat Amazon \xfa\u010dtuje 50 dolar\u016f za m\u011bs\xedc na TB. (Srovnejte to s n\xe1kupem podniku 4TB p\u0159\xedmo za ~50 dolar\u016f/TB, i kdy\u017e RAID p\u0159ipo\u010dte k celkov\xfdm n\xe1klad\u016fm.) Tak\u017ee pokud pot\u0159ebujete ulo\u017eit spoustu dat do cloudu, mohlo by to b\xfdt dost drah\xe9. (nap\u0159. 100 TB by st\xe1lo 5000 dolar\u016f za m\u011bs\xedc) . Ale pokud nem\xe1te opravdu velk\xe9 mno\u017estv\xed dat, jedn\xe1 se o men\u0161\xed probl\xe9m, ne\u017e je \u0161\xed\u0159ka p\xe1sma / p\u0159enos dat n\xe1klady. (Op\u011bt, nen\xed to t\xedm, \u017ee slu\u017eba je p\u0159edra\u017een\xe1, je to, \u017ee pou\u017e\xedv\xe1me a kupujeme mnoho slu\u017eeb.)",(0,t.jsx)(o.br,{}),"\n","\xa0"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"subsetting",children:"Subsetting"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Probl\xe9m s posouv\xe1n\xedm: Jedin\xfd zp\u016fsob, jak efektivn\u011b \u0161\xed\u0159it data z datov\xfdch soubor\u016f, je m\xedt program, kter\xfd distribuuje data (nap\u0159.ERDDAP) b\u011b\u017e\xedc\xed na serveru, kter\xfd m\xe1 data ulo\u017een\xe1 na m\xedstn\xedm pevn\xe9m disku (nebo podobn\u011b rychl\xfd p\u0159\xedstup k SAN nebo m\xedstn\xed RAID) . M\xedstn\xed souborov\xe9 syst\xe9my umo\u017e\u0148uj\xedERDDAP\u2122  (a z\xe1kladn\xed knihovny, jako je netcdf-java) po\u017eadovat konkr\xe9tn\xed byte se pohybuje od soubor\u016f a z\xedskat odpov\u011bdi velmi rychle. Mnoho typ\u016f \u017e\xe1dost\xed o \xfadaje odERDDAP\u2122do souboru (zejm\xe9na \u017e\xe1dosti o m\u0159\xed\u017eku \xfadaj\u016f, pokud je hodnota kroku > 1) nelze prov\xe9st efektivn\u011b, pokud program vy\u017eaduje cel\xfd soubor nebo velk\xe9 kusy souboru z nelok\xe1ln\xedho (proto pomaleji) syst\xe9m ukl\xe1d\xe1n\xed dat a pak extrahovat podmno\u017einu. Pokud cloud nastaven\xed ned\xe1v\xe1ERDDAP\u2122rychl\xfd p\u0159\xedstup k byte rozsahy soubor\u016f (stejn\u011b rychle jako u m\xedstn\xedch soubor\u016f) ,ERDDAP's p\u0159\xedstupem k dat\u016fm bude t\u011b\u017ek\xe9 zablokovat a potla\u010dit dal\u0161\xed v\xfdhody vyu\u017e\xedv\xe1n\xed cloudov\xe9 slu\u017eby."}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"hosted-data",children:"Hostovan\xe9 \xfadaje"}),"\n",(0,t.jsx)(o.p,{children:"Alternativa k v\xfd\u0161e uveden\xe9 anal\xfdze p\u0159\xednos\u016f n\xe1klad\u016f (kter\xe1 je zalo\u017eena na majiteli \xfadaj\u016f (nap\u0159.NOAA) platby za ulo\u017een\xed jejich dat v cloudu) Dorazila kolem roku 2012, kdy Amazon (a v men\u0161\xed m\xed\u0159e i n\u011bkte\u0159\xed dal\u0161\xed poskytovatel\xe9 cloud\u016f) za\u010dal hostovat n\u011bkter\xe9 soubory v jejich cloudu (AWS S3) zdarma (pravd\u011bpodobn\u011b s nad\u011bj\xed, \u017ee by mohli z\xedskat zp\u011bt sv\xe9 n\xe1klady, pokud by u\u017eivatel\xe9 pronajali AWS EC2 Comput instance pro pr\xe1ci s t\u011bmito \xfadaji) . Je z\u0159ejm\xe9, \u017ee d\xedky tomu je cloud computing mnohem dra\u017e\u0161\xed, proto\u017ee \u010das a n\xe1klady nahr\xe1vaj\xed data a hosting jsou nyn\xed nulov\xe9. SERDDAP\u2122v2.0, existuj\xed nov\xe9 funkce pro usnadn\u011bn\xed provozuERDDAPv mraku:"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Tak\u017ee...EDDGridFromFiles nebo EDDTableFromFoles lze vytvo\u0159it z datov\xfdch soubor\u016f, kter\xe9 jsou vzd\xe1len\xe9 a p\u0159\xedstupn\xe9 p\u0159es internet (nap\u0159. kbel\xedky AWS S3) pou\u017eit\xedm<cacheFromUrl> a<cacheSize Mo\u017enosti.ERDDAP\u2122bude udr\u017eovat m\xedstn\xed cache nejpou\u017e\xedvan\u011bj\u0161\xedch datov\xfdch soubor\u016f."}),"\n",(0,t.jsx)(o.li,{children:"Nyn\xed, pokud jsou komprimov\xe1ny n\u011bkter\xe9 EDDTableFromFoles zdrojov\xe9 soubory (nap\u0159..tgz) ,ERDDAP\u2122automaticky je dekompresuje, kdy\u017e je \u010dte."}),"\n",(0,t.jsx)(o.li,{children:"Tak\u017ee...ERDDAP\u2122vl\xe1kno reaguj\xedc\xed na danou \u017e\xe1dost bude plodit pracovn\xed vl\xe1kno pracovat na pododd\xedlech \u017e\xe1dosti, pokud pou\u017e\xedv\xe1te<NThreads> Mo\u017enosti. Tato paralela by m\u011bla umo\u017enit rychlej\u0161\xed reakci na n\xe1ro\u010dn\xe9 po\u017eadavky."}),"\n"]}),"\n",(0,t.jsx)(o.p,{children:"Tyto zm\u011bny \u0159e\u0161\xed probl\xe9m AWS S3 nenab\xedz\xed lok\xe1ln\xed \xfalo\u017ei\u0161t\u011b soubor\u016f na \xfarovni bloku a (star\xfd) probl\xe9m p\u0159\xedstupu k \xfadaj\u016fm S3 s v\xfdznamn\xfdm zpo\u017ed\u011bn\xedm. (P\u0159ed lety (~2014) , \u017ee tato prodleva byla v\xfdznamn\xe1, ale nyn\xed je mnohem krat\u0161\xed a tak nen\xed tak v\xfdznamn\xe1.) Celkem to znamen\xe1, \u017ee nastaven\xedERDDAP\u2122V oblac\xedch te\u010f funguje mnohem l\xe9pe."}),"\n",(0,t.jsxs)(o.p,{children:[(0,t.jsx)(o.strong,{children:"D\xedky."})," Mnohokr\xe1t d\u011bkuji Matthew Arrottovi a jeho skupin\u011b v p\u016fvodn\xedm OOI \xfasil\xed za jejich pr\xe1ci na uveden\xedERDDAP\u2122v cloudu a v\xfdsledn\xe1 diskuse.\r\n\xa0"]}),"\n",(0,t.jsx)(o.hr,{}),"\n",(0,t.jsx)(o.h2,{id:"remote-replication-of-datasets",children:(0,t.jsx)(o.a,{href:"#remote-replication-of-datasets",children:"Vzd\xe1len\xe1 replikace datov\xfdch soubor\u016f"})}),"\n",(0,t.jsx)(o.p,{children:"Existuje spole\u010dn\xfd probl\xe9m, kter\xfd souvis\xed s v\xfd\u0161e uveden\xfdmi diskusemi o s\xedt\xedch a federac\xedchERDDAPs: vzd\xe1len\xe1 replikace soubor\u016f dat. Z\xe1kladn\xedm probl\xe9mem je: poskytovatel \xfadaj\u016f udr\u017euje datov\xfd soubor, kter\xfd se ob\u010das m\u011bn\xed a u\u017eivatel chce udr\u017eovat aktu\xe1ln\xed m\xedstn\xed kopii tohoto datov\xe9ho souboru. (z r\u016fzn\xfdch d\u016fvod\u016f) . Je z\u0159ejm\xe9, \u017ee je zde obrovsk\xe9 mno\u017estv\xed variant. N\u011bkter\xe9 varianty jsou mnohem t\u011b\u017e\u0161\xed ne\u017e jin\xe9."}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:["Rychl\xe9 aktualizace\r\nJe t\u011b\u017e\u0161\xed udr\u017eet m\xedstn\xed data aktu\xe1ln\xed. ",(0,t.jsx)(o.em,{children:"okam\u017eit\u011b"}),"   (nap\u0159. do 3 sekund) po ka\u017ed\xe9 zm\u011bn\u011b zdroje, sp\xed\u0161e ne\u017e nap\u0159\xedklad b\u011bhem n\u011bkolika hodin.\r\n\xa0"]}),"\n",(0,t.jsx)(o.li,{children:"\u010cast\xe9 zm\u011bny\r\n\u010cast\xe9 zm\u011bny je t\u011b\u017e\u0161\xed \u0159e\u0161it ne\u017e \u010dast\xe9 zm\u011bny. Nap\u0159\xedklad zm\u011bny jednou denn\u011b jsou mnohem jednodu\u0161\u0161\xed ne\u017e zm\u011bny ka\u017ed\xe9 0,1 sekundy.\r\n\xa0"}),"\n",(0,t.jsx)(o.li,{children:"Mal\xe9 zm\u011bny\r\nMal\xe9 zm\u011bny zdrojov\xe9ho souboru je t\u011b\u017e\u0161\xed \u0159e\u0161it ne\u017e zcela nov\xfd soubor. To plat\xed zejm\xe9na v p\u0159\xedpad\u011b, \u017ee mal\xe9 zm\u011bny mohou b\xfdt kdekoliv v souboru. Mal\xe9 zm\u011bny se obt\xed\u017en\u011bji detekuj\xed a zt\u011b\u017euj\xed izolaci dat, kter\xe1 je t\u0159eba replikovat. Nov\xe9 soubory lze snadno detekovat a efektivn\u011b p\u0159en\xe1\u0161et.\r\n\xa0"}),"\n",(0,t.jsx)(o.li,{children:"Cel\xfd soubor dat\r\nUdr\u017eov\xe1n\xed cel\xe9ho souboru aktu\xe1ln\xedch dat je t\u011b\u017e\u0161\xed ne\u017e uchov\xe1v\xe1n\xed dat z posledn\xed doby. N\u011bkte\u0159\xed u\u017eivatel\xe9 jen pot\u0159ebuj\xed aktu\xe1ln\xed \xfadaje (nap\u0159. hodnota posledn\xedch 8 dn\u016f) .\r\n\xa0"}),"\n",(0,t.jsx)(o.li,{children:"Mnohon\xe1sobn\xe9 kopie\r\nUdr\u017eov\xe1n\xed v\xedce vzd\xe1len\xfdch kopi\xed na r\u016fzn\xfdch m\xedstech je t\u011b\u017e\u0161\xed ne\u017e udr\u017eov\xe1n\xed jedn\xe9 vzd\xe1len\xe9 kopie. Tohle je probl\xe9m se \u0161k\xe1lov\xe1n\xedm.\r\n\xa0"}),"\n"]}),"\n",(0,t.jsx)(o.p,{children:"Samoz\u0159ejm\u011b existuje velk\xe9 mno\u017estv\xed variant mo\u017en\xfdch typ\u016f zm\u011bn zdrojov\xe9ho souboru a pot\u0159eb a o\u010dek\xe1v\xe1n\xed u\u017eivatele. Mnoh\xe9 varianty je velmi obt\xed\u017en\xe9 vy\u0159e\u0161it. Nejlep\u0161\xedm \u0159e\u0161en\xedm pro jednu situaci je \u010dasto nen\xed nejlep\u0161\xed \u0159e\u0161en\xed pro jinou situaci."}),"\n",(0,t.jsx)(o.h3,{id:"relevant-erddap-tools",children:(0,t.jsxs)(o.a,{href:"#relevant-erddap-tools",children:[" ",(0,t.jsx)(o.strong,{children:"P\u0159\xedslu\u0161n\xe1ERDDAP\u2122N\xe1stroje"})," "]})}),"\n",(0,t.jsx)(o.p,{children:"ERDDAP\u2122nab\xedz\xed n\u011bkolik n\xe1stroj\u016f, kter\xe9 lze pou\u017e\xedt jako sou\u010d\xe1st syst\xe9mu, kter\xfd usiluje o udr\u017een\xed vzd\xe1len\xe9 kopie datov\xe9ho souboru:"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:["ERDDAP's",(0,t.jsx)(o.a,{href:"https://en.wikipedia.org/wiki/RSS",children:"RSS  (P\u0159ehled bohat\xfdch str\xe1nek?) slu\u017eba"}),(0,t.jsx)(o.br,{}),"\n","nab\xedz\xed rychl\xfd zp\u016fsob, jak zkontrolovat, zda soubor dat na vzd\xe1len\xe9mERDDAP\u2122se zm\u011bnil.\r\n\xa0"]}),"\n",(0,t.jsxs)(o.li,{children:["ERDDAP's",(0,t.jsx)(o.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions",children:"slu\u017eba p\u0159edplatn\xe9ho"}),(0,t.jsx)(o.br,{}),"\n","je efektivn\u011bj\u0161\xed (ne\u017eRSS) p\u0159\xedstup: okam\u017eit\u011b za\u0161le e-mail nebo kontakt na URL ka\u017ed\xe9mu \xfa\u010dastn\xedkovi, kdykoli je soubor dat aktualizov\xe1n a aktualizace vedla ke zm\u011bn\u011b. Je efektivn\xed v tom, \u017ee se to stane ASAP a neexistuje \u017e\xe1dn\xe9 zbyte\u010dn\xe9 \xfasil\xed (jako p\u0159i hlasov\xe1n\xedRSSslu\u017eba) . U\u017eivatel\xe9 mohou pou\u017e\xedvat jin\xe9 n\xe1stroje (jako",(0,t.jsx)(o.a,{href:"https://ifttt.com/",children:"IFTTT"}),") reagovat na e-mailov\xe9 ozn\xe1men\xed ze syst\xe9mu p\u0159edplatn\xe9ho. Nap\u0159\xedklad u\u017eivatel by se mohl p\u0159ihl\xe1sit k datov\xe9mu souboru na vzd\xe1len\xe9mERDDAP\u2122a pomoc\xed IFTTT reagovat na ozn\xe1men\xed o p\u0159edplatn\xe9m a spustit aktualizaci m\xedstn\xedho datov\xe9ho souboru.\r\n\xa0"]}),"\n",(0,t.jsxs)(o.li,{children:["ERDDAP's",(0,t.jsx)(o.a,{href:"/docs/server-admin/additional-information#flag",children:"Syst\xe9m vlajky"}),(0,t.jsx)(o.br,{}),"\n","poskytuje zp\u016fsob proERDDAP\u2122spr\xe1vce, aby na sv\xe9m/jej\xedm \xfa\u010dtu ozn\xe1mil soubor \xfadaj\u016fERDDAPNab\xedt co nejd\u0159\xedv. URL forma vlajky lze snadno pou\u017e\xedt ve skriptech. URL forma vlajky m\u016f\u017ee b\xfdt tak\xe9 pou\u017eita jako akce pro p\u0159edplatn\xe9.\r\n\xa0"]}),"\n",(0,t.jsxs)(o.li,{children:["ERDDAP's",(0,t.jsx)(o.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html",children:'"files"syst\xe9m'}),(0,t.jsx)(o.br,{}),"\n",'m\u016f\u017ee nab\xeddnout p\u0159\xedstup ke zdrojov\xfdm soubor\u016fm pro dan\xfd datov\xfd soubor, v\u010detn\u011b seznamu adres\xe1\u0159\u016f ve stylu Apache ("Web p\u0159\xedstupn\xe1 slo\u017eka") kter\xfd m\xe1 ka\u017ed\xfd soubor st\xe1hnout URL, naposledy upraven\xfd \u010das a velikost. Jedna nev\xfdhoda pou\u017eit\xed"files"syst\xe9m je, \u017ee zdrojov\xe9 soubory mohou m\xedt r\u016fzn\xe9 n\xe1zvy prom\u011bnn\xfdch a r\u016fzn\xe1 metadata ne\u017e datov\xfd soubor, jak se objev\xed vERDDAP. Pokud je ovlada\u010dERDDAP\u2122Datab\xe1ze nab\xedz\xed p\u0159\xedstup ke zdrojov\xfdm soubor\u016fm, kter\xe9 otev\xedraj\xed mo\u017enost verze rsyncu chud\xe9ho \u010dlov\u011bka: pro m\xedstn\xed syst\xe9m je snadn\xe9 zjistit, kter\xe9 vzd\xe1len\xe9 soubory se zm\u011bnily a kter\xe9 je t\u0159eba st\xe1hnout. (Viz',(0,t.jsx)(o.a,{href:"#cache-from-url",children:"cacheFromUrl volba"}),"pod kter\xfdm to m\u016f\u017ee vyu\u017e\xedt.)",(0,t.jsx)(o.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"solutions",children:(0,t.jsx)(o.a,{href:"#solutions",children:"\u0158e\u0161en\xed"})}),"\n",(0,t.jsx)(o.p,{children:"P\u0159esto\u017ee existuje obrovsk\xe9 mno\u017estv\xed variant probl\xe9mu a nekone\u010dn\xfd po\u010det mo\u017en\xfdch \u0159e\u0161en\xed, existuje jen hrstka z\xe1kladn\xedch p\u0159\xedstup\u016f k \u0159e\u0161en\xed:"}),"\n",(0,t.jsx)(o.h4,{id:"custom-brute-force-solutions",children:"Vlastn\xed, Brute Force Solutions"}),"\n",(0,t.jsx)(o.p,{children:"Zjevn\xfdm \u0159e\u0161en\xedm je ru\u010dn\u011b vyrobit vlastn\xed \u0159e\u0161en\xed, kter\xe9 je proto pro danou situaci optimalizov\xe1no: vytvo\u0159it syst\xe9m, kter\xfd detekuje/identifikuje, kter\xe1 data se zm\u011bnila, a odeslat tyto informace u\u017eivateli, aby u\u017eivatel mohl po\u017e\xe1dat o zm\u011bn\u011bn\xe1 data. M\u016f\u017ee\u0161 to ud\u011blat, ale jsou tu nev\xfdhody:"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Vlastn\xed \u0159e\u0161en\xed jsou hodn\u011b pr\xe1ce."}),"\n",(0,t.jsx)(o.li,{children:"Vlastn\xed \u0159e\u0161en\xed jsou obvykle tak p\u0159izp\u016fsoben\xe1 dan\xe9mu datov\xe9mu souboru a dan\xe9mu syst\xe9mu u\u017eivatele, \u017ee je nelze snadno znovu pou\u017e\xedt."}),"\n",(0,t.jsx)(o.li,{children:"Vlastn\xed \u0159e\u0161en\xed mus\xed b\xfdt postavena a udr\u017eov\xe1na v\xe1mi. (To nen\xed nikdy dobr\xfd n\xe1pad. V\u017edycky je dobr\xfd n\xe1pad vyhnout se pr\xe1ci a p\u0159im\u011bt n\u011bkoho jin\xe9ho, aby tu pr\xe1ci odvedl!)"}),"\n"]}),"\n",(0,t.jsx)(o.p,{children:"Odrad\xedm se tohoto p\u0159\xedstupu, proto\u017ee je t\xe9m\u011b\u0159 v\u017edy lep\u0161\xed hledat obecn\xe1 \u0159e\u0161en\xed, postaven\xe1 a udr\u017eovan\xe1 n\u011bk\xfdm jin\xfdm, kter\xe1 lze snadno znovu pou\u017e\xedt v r\u016fzn\xfdch situac\xedch.\r\n\xa0"}),"\n",(0,t.jsx)(o.h4,{id:"rsync",children:"rsync"}),"\n",(0,t.jsxs)(o.p,{children:[(0,t.jsx)(o.a,{href:"https://en.wikipedia.org/wiki/Rsync",children:"rsync"}),"je existuj\xedc\xed, ohromn\u011b dobr\xe9, obecn\xe9 \u0159e\u0161en\xed pro udr\u017een\xed sb\u011bru soubor\u016f na zdrojov\xe9m po\u010d\xedta\u010di synchronizovat na vzd\xe1len\xe9m po\u010d\xedta\u010di u\u017eivatele. Funguje to takhle:"]}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsx)(o.li,{children:"n\u011bjak\xe1 ud\xe1lost (nap\u0159.ERDDAP\u2122ud\xe1lost syst\xe9mu p\u0159edplatn\xe9ho) spou\u0161t\u011b\u010de b\u011b\u017e\xedc\xed rsync,\r\n(nebo cron pr\xe1ce b\u011b\u017e\xed rsync v ur\u010dit\xe9 dob\u011b ka\u017ed\xfd den na po\u010d\xedta\u010di u\u017eivatele)"}),"\n",(0,t.jsx)(o.li,{children:"kter\xfd kontaktuje Rsync na zdrojov\xe9m po\u010d\xedta\u010di,"}),"\n",(0,t.jsx)(o.li,{children:"kter\xfd po\u010d\xedt\xe1 s\xe9rii hash\u016f pro jednotliv\xe9 kusy ka\u017ed\xe9ho souboru a p\u0159en\xe1\u0161\xed tyto hashy na rsync u\u017eivatele,"}),"\n",(0,t.jsx)(o.li,{children:"kter\xe1 tyto informace porovn\xe1v\xe1 s podobn\xfdmi informacemi pro u\u017eivatelskou kopii soubor\u016f,"}),"\n",(0,t.jsx)(o.li,{children:"kter\xfd pak po\u017eaduje kousky soubor\u016f, kter\xe9 se zm\u011bnily."}),"\n"]}),"\n",(0,t.jsxs)(o.p,{children:["Vzhledem k tomu, co d\u011bl\xe1, Rsync pracuje velmi rychle. (nap\u0159. 10 sekund plus \u010das p\u0159enosu dat) a velmi efektivn\u011b. Jsou.",(0,t.jsx)(o.a,{href:"https://en.wikipedia.org/wiki/Rsync#Variations",children:"Variace rsync"}),"kter\xe9 optimalizuj\xed r\u016fzn\xe9 situace (nap\u0159. p\u0159ed\u010d\xedslen\xedm a cachov\xe1n\xedm hash\u016f jednotliv\xfdch zdrojov\xfdch soubor\u016f) ."]}),"\n",(0,t.jsx)(o.p,{children:"Hlavn\xed slabiny rsynchronizace jsou: je t\u0159eba vyvinout ur\u010dit\xe9 \xfasil\xed (bezpe\u010dnostn\xed ot\xe1zky) ; tam jsou n\u011bkter\xe9 probl\xe9my \u0161k\xe1lov\xe1n\xed; a to nen\xed dobr\xe9 pro udr\u017een\xed NRT soubory opravdu aktu\xe1ln\xed (Nap\u0159\xedklad je trapn\xe9 pou\u017e\xedvat Rsync v\xedce ne\u017e ka\u017ed\xfdch 5 minut) . Pokud se m\u016f\u017eete vypo\u0159\xe1dat se slabostmi, nebo pokud nemaj\xed vliv na va\u0161i situaci, rsync je vynikaj\xedc\xed, obecn\xfd \xfa\u010del \u0159e\u0161en\xed, kter\xe9 m\u016f\u017ee ka\u017ed\xfd pou\u017e\xedt k \u0159e\u0161en\xed mnoha sc\xe9n\xe1\u0159\u016f zahrnuj\xedc\xedch vzd\xe1len\xe9 replikace dat."}),"\n",(0,t.jsx)(o.p,{children:"Tam je polo\u017eka naERDDAP\u2122Do seznamu se pokusit p\u0159idat podporu slu\u017eeb rsync doERDDAP  (Asi dost t\u011b\u017ek\xfd \xfakol.) , aby ka\u017ed\xfd klient mohl pou\u017e\xedt rsync (nebo varianta) udr\u017eovat aktu\xe1ln\xed kopii datov\xe9ho souboru. Jestli na tom chce n\u011bkdo pracovat, po\u0161lete pros\xedm e-mail.erd.data at noaa.gov."}),"\n",(0,t.jsxs)(o.p,{children:["Existuj\xed i jin\xe9 programy, kter\xe9 d\u011blaj\xed v\xedcem\xe9n\u011b to, co d\u011bl\xe1 rsync, n\u011bkdy orientovan\xe9 na replikaci dat (i kdy\u017e \u010dasto na \xfarovni kop\xedrov\xe1n\xed soubor\u016f) nap\u0159.Unidata's",(0,t.jsx)(o.a,{href:"https://www.unidata.ucar.edu/projects/index.html#idd",children:"IDD"}),"."]}),"\n",(0,t.jsx)(o.h4,{id:"cache-from-url",children:"Cache z Urlu"}),"\n",(0,t.jsxs)(o.p,{children:[(0,t.jsx)(o.a,{href:"/docs/server-admin/datasets#cachefromurl",children:"CacheFromUrl"}),"nastaven\xed je k dispozici (Za\u010dneme sERDDAP\u2122v2. 0) pro v\u0161echnyERDDAP's typy soubor\u016f, kter\xe9 vytv\xe1\u0159ej\xed soubory dat ze soubor\u016f (v podstat\u011b v\u0161echny podt\u0159\xeddy",(0,t.jsx)(o.a,{href:"/docs/server-admin/datasets#eddgridfromfiles",children:"EDDGridFromFiles"}),"a",(0,t.jsx)(o.a,{href:"/docs/server-admin/datasets#eddtablefromfiles",children:"EDDTableFromFoles"}),') . cache FromUrl je trivi\xe1ln\xed automaticky stahovat a udr\u017eovat m\xedstn\xed datov\xe9 soubory kop\xedrov\xe1n\xedm ze vzd\xe1len\xe9ho zdroje p\u0159es cache FromUrl nastaven\xed. Vzd\xe1len\xe9 soubory mohou b\xfdt v Web Accessible Slo\u017eka nebo adres\xe1\u0159ov\xfd seznam soubor\u016f nab\xedzen\xfdch THREDDS,Hyrax, kbel\xedk S3 neboERDDAP\'s"files"syst\xe9m.']}),"\n",(0,t.jsxs)(o.p,{children:['Pokud je zdroj vzd\xe1len\xfdch soubor\u016f vzd\xe1len\xfdERDDAP\u2122soubor, kter\xfd nab\xedz\xed zdrojov\xe9 soubory prost\u0159ednictv\xedmERDDAP\u2122 "files"syst\xe9m, pak m\u016f\u017eete',(0,t.jsx)(o.a,{href:"https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions",children:"upsat"}),"do vzd\xe1len\xe9ho datov\xe9ho souboru a pou\u017eijte",(0,t.jsx)(o.a,{href:"/docs/server-admin/additional-information#flag",children:"URL vlajky"}),"pro v\xe1\u0161 m\xedstn\xed datov\xfd soubor jako akci pro p\u0159edplatn\xe9. Poka\u017ed\xe9, kdy\u017e se vzd\xe1len\xfd datov\xfd soubor zm\u011bn\xed, kontaktuje pro v\xe1\u0161 datov\xfd soubor URL vlajky, kter\xe1 mu \u0159ekne, aby co nejd\u0159\xedve znovu nahr\xe1l, co\u017e detekuje a st\xe1hne zm\u011bn\u011bn\xe9 vzd\xe1len\xe9 datov\xe9 soubory. V\u0161echno se to d\u011bje velmi rychle. (obvykle ~5 sekund plus \u010das pot\u0159ebn\xfd ke sta\u017een\xed zm\u011bn\u011bn\xe9 soubory) . Tento p\u0159\xedstup funguje skv\u011ble, pokud jsou zm\u011bny zdrojov\xe9ho souboru pravideln\u011b p\u0159id\xe1v\xe1ny nov\xe9 soubory a pokud se st\xe1vaj\xedc\xed soubory nikdy nezm\u011bn\xed. Tento p\u0159\xedstup nefunguje dob\u0159e, pokud jsou \xfadaje \u010dasto p\u0159ipojeny ke v\u0161em (nebo v\u011bt\u0161ina) ze st\xe1vaj\xedc\xedch zdrojov\xfdch datov\xfdch soubor\u016f, proto\u017ee pak v\xe1\u0161 m\xedstn\xed datov\xfd soubor \u010dasto stahuje cel\xfd vzd\xe1len\xfd datov\xfd soubor. (To je m\xedsto, kde je zapot\u0159eb\xed rsync-jako p\u0159\xedstup.)"]}),"\n",(0,t.jsx)(o.h4,{id:"archiveadataset",children:"ArchiveADataset"}),"\n",(0,t.jsxs)(o.p,{children:["ERDDAP\u2122's",(0,t.jsx)(o.a,{href:"/docs/server-admin/additional-information#archiveadataset",children:"ArchiveADataset"}),"je dobr\xfdm \u0159e\u0161en\xedm, kdy\u017e jsou data \u010dasto p\u0159id\xe1v\xe1ny do datov\xe9ho souboru, ale star\u0161\xed data se nikdy nem\u011bn\xed. V podstat\u011bERDDAP\u2122spr\xe1vce m\u016f\u017ee spustit ArchiveADataset (mo\u017en\xe1 ve sc\xe9n\xe1\u0159i, mo\u017en\xe1 b\u011b\u017e\xed Cron) a uve\u010fte podmno\u017einu datov\xe9ho souboru, kter\xfd cht\u011bj\xed extrahovat (mo\u017en\xe1 v n\u011bkolika souborech) a balen\xed v.zipnebo.tgzsoubor, tak\u017ee soubor m\u016f\u017eete poslat z\xe1jemc\u016fm nebo skupin\xe1m (nap\u0159. NCEI pro archivaci) nebo je k dispozici ke sta\u017een\xed. Nap\u0159\xedklad, m\u016f\u017eete spustit ArchiveADataset ka\u017ed\xfd den ve 12:10 a nechat to ud\u011blat.zipze v\u0161ech dat od 12:00 hodin p\u0159edchoz\xedho dne do 12:00 dnes. (Nebo to d\u011blejte ka\u017ed\xfd t\xfdden, m\u011bs\xed\u010dn\u011b nebo ro\u010dn\u011b, podle pot\u0159eby.) Vzhledem k tomu, \u017ee zabalen\xfd soubor je generov\xe1n offline, neexistuje \u017e\xe1dn\xe9 nebezpe\u010d\xed timeout nebo p\u0159\xedli\u0161 mnoho dat, jak by bylo pro standardERDDAP\u2122\u017e\xe1dost.\r\n\xa0"]}),"\n",(0,t.jsx)(o.h4,{id:"erddaps-standard-request-system",children:"ERDDAP\u2122's standardn\xedm syst\xe9mem \u017e\xe1dosti"}),"\n",(0,t.jsx)(o.p,{children:"ERDDAP\u2122's standardn\xedm syst\xe9mem po\u017eadavku je alternativn\xedm dobr\xfdm \u0159e\u0161en\xedm, kdy\u017e jsou data \u010dasto p\u0159id\xe1v\xe1ny do souboru dat, ale star\u0161\xed data se nikdy nem\u011bn\xed. V podstat\u011b, ka\u017ed\xfd m\u016f\u017ee pou\u017e\xedt standardn\xed po\u017eadavky z\xedskat data pro konkr\xe9tn\xed rozsah \u010dasu. Nap\u0159\xedklad ka\u017ed\xfd den ve 12:10 si m\u016f\u017eete vy\u017e\xe1dat v\u0161echna data ze vzd\xe1len\xe9ho datov\xe9ho souboru od 12:00 do 12:00. Omezen\xed (ve srovn\xe1n\xed s p\u0159\xedstupem ArchiveADataset) je riziko timeout nebo je p\u0159\xedli\u0161 mnoho dat pro jeden soubor. M\u016f\u017eete se vyhnout omezen\xed t\xedm, \u017ee \u010dast\u011bji \u017e\xe1dosti o men\u0161\xed \u010dasov\xe9 obdob\xed.\r\n\xa0"}),"\n",(0,t.jsx)(o.h4,{id:"eddtablefromhttpget",children:"EDDTableFromHttpGet"}),"\n",(0,t.jsxs)(o.p,{children:["\\[Tato mo\u017enost je\u0161t\u011b neexistuje, ale zd\xe1 se, \u017ee je mo\u017en\xe9 stav\u011bt v bl\xedzk\xe9 budoucnosti.\\]",(0,t.jsx)(o.br,{}),"\n","Nov\xfd",(0,t.jsx)(o.a,{href:"/docs/server-admin/datasets#eddtablefromhttpget",children:"EDDTableFromHttpGet"}),"Typ souboru vERDDAP\u2122v2.0 umo\u017e\u0148uje p\u0159edstavit si jin\xe9 \u0159e\u0161en\xed. Z\xe1kladn\xed soubory veden\xe9 t\xedmto typem datov\xe9ho souboru jsou v podstat\u011b soubory z\xe1znamu, kter\xe9 zaznamen\xe1vaj\xed zm\u011bny datov\xe9ho souboru. M\u011blo by b\xfdt mo\u017en\xe9 vytvo\u0159it syst\xe9m, kter\xfd pravideln\u011b udr\u017euje m\xedstn\xed datov\xfd soubor (nebo na b\xe1zi spou\u0161t\u011b\u010de) po\u017eadovat od t\xe9to posledn\xed \u017e\xe1dosti v\u0161echny zm\u011bny, kter\xe9 byly provedeny ve vzd\xe1len\xe9m datov\xe9m souboru. To by m\u011blo b\xfdt stejn\u011b \xfa\u010dinn\xe9. (nebo v\xedce) ne\u017e rsync a bude \u0159e\u0161it mnoho slo\u017eit\xfdch sc\xe9n\xe1\u0159\u016f, ale bude fungovat pouze v p\u0159\xedpad\u011b, \u017ee vzd\xe1len\xe9 a m\xedstn\xed soubory jsou EDDTableFromHttpGet soubory."]}),"\n",(0,t.jsx)(o.p,{children:"Pokud na tom chce n\u011bkdo pracovat, kontaktujte pros\xedmerd.data at noaa.gov."}),"\n",(0,t.jsx)(o.h4,{id:"distributed-data",children:"Distribuovan\xe9 \xfadaje"}),"\n",(0,t.jsx)(o.p,{children:"\u017d\xe1dn\xe9 z v\xfd\u0161e uveden\xfdch \u0159e\u0161en\xed ned\u011bl\xe1 velkou pr\xe1ci p\u0159i \u0159e\u0161en\xed tvrd\xfdch variant probl\xe9mu, proto\u017ee replikace t\xe9m\u011b\u0159 re\xe1ln\xe9ho \u010dasu (NRT) Soubory dat jsou velmi t\u011b\u017ek\xe9, \u010d\xe1ste\u010dn\u011b kv\u016fli v\u0161em mo\u017en\xfdm sc\xe9n\xe1\u0159\u016fm."}),"\n",(0,t.jsx)(o.p,{children:'Existuje skv\u011bl\xe9 \u0159e\u0161en\xed: ani se nesna\u017ete replikovat data.\r\nM\xedsto toho pou\u017eijte jedin\xfd autoritativn\xed zdroj (jeden datov\xfd soubor na jednomERDDAP) , veden\xe9 poskytovatelem \xfadaj\u016f (Nap\u0159. region\xe1ln\xed \xfa\u0159ad) . V\u0161ichni u\u017eivatel\xe9, kte\u0159\xed cht\u011bj\xed data z tohoto souboru, je v\u017edy dostanou ze zdroje. Nap\u0159\xedklad aplikace zalo\u017een\xe9 na prohl\xed\u017ee\u010di z\xedsk\xe1vaj\xed data z URL po\u017eadavku, tak\u017ee by nem\u011blo z\xe1le\u017eet na tom, aby po\u017eadavek byl na p\u016fvodn\xedm zdroji na vzd\xe1len\xe9m serveru (nen\xed stejn\xfd server, kter\xfd host\xed ESM) . Mnoho lid\xed obhajuje tento distribuovan\xfd p\u0159\xedstup k dat\u016fm u\u017e dlouho. (nap\u0159. Roy Mendelssohn za posledn\xedch 20 let) .ERDDAP"model m\u0159\xed\u017eky/federace (horn\xed 80% tohoto dokumentu) je zalo\u017een na tomto p\u0159\xedstupu. Toto \u0159e\u0161en\xed je jako me\u010d pro Gordian Knot, cel\xfd probl\xe9m zmiz\xed.'}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Toto \u0159e\u0161en\xed je neuv\u011b\u0159iteln\u011b jednoduch\xe9."}),"\n",(0,t.jsx)(o.li,{children:"Toto \u0159e\u0161en\xed je \xfa\u017easn\u011b efektivn\xed, proto\u017ee se ned\u011bl\xe1 \u017e\xe1dn\xe1 pr\xe1ce na uchov\xe1v\xe1n\xed replikovan\xe9ho souboru dat (\xe1n) aktu\xe1ln\xed."}),"\n",(0,t.jsx)(o.li,{children:"U\u017eivatel\xe9 mohou z\xedskat nejnov\u011bj\u0161\xed data kdykoliv (nap\u0159. s latenc\xed pouze ~0,5 sekundy) ."}),"\n",(0,t.jsxs)(o.li,{children:["Docela dob\u0159e se m\u011b\u0159\xed a existuj\xed zp\u016fsoby, jak zlep\u0161it \u0161k\xe1lov\xe1n\xed. (Pod\xedvejte se na diskuzi v horn\xed 80% tohoto dokumentu.)",(0,t.jsx)(o.br,{}),"\n","\xa0"]}),"\n"]}),"\n",(0,t.jsx)(o.p,{children:"Ne, tohle nen\xed \u0159e\u0161en\xed pro v\u0161echny mo\u017en\xe9 situace, ale je to skv\u011bl\xe9 \u0159e\u0161en\xed pro drtivou v\u011bt\u0161inu. Existuj\xed-li probl\xe9my/slabosti s t\xedmto \u0159e\u0161en\xedm v ur\u010dit\xfdch situac\xedch, \u010dasto stoj\xed za to pracovat na \u0159e\u0161en\xed t\u011bchto probl\xe9m\u016f nebo \u017e\xedt s t\u011bmito slabostmi kv\u016fli ohromuj\xedc\xedm v\xfdhod\xe1m tohoto \u0159e\u0161en\xed. Pokud je toto \u0159e\u0161en\xed pro danou situaci skute\u010dn\u011b nep\u0159ijateln\xe9, nap\u0159. pokud skute\u010dn\u011b mus\xedte m\xedt m\xedstn\xed kopii \xfadaj\u016f, pak se zamyslete nad ostatn\xedmi \u0159e\u0161en\xedmi uveden\xfdmi v\xfd\u0161e.\r\n\xa0"}),"\n",(0,t.jsx)(o.h3,{id:"conclusion",children:"Z\xe1v\u011br"}),"\n",(0,t.jsx)(o.p,{children:"I kdy\u017e neexistuje jedin\xe9, jednoduch\xe9 \u0159e\u0161en\xed, kter\xe9 dokonale \u0159e\u0161\xed v\u0161echny probl\xe9my ve v\u0161ech sc\xe9n\xe1\u0159\xedch (jako Rsync a Distributed Data jsou t\xe9m\u011b\u0159) , Doufejme, \u017ee existuje dostatek n\xe1stroj\u016f a mo\u017enost\xed, tak\u017ee m\u016f\u017eete naj\xedt p\u0159ijateln\xe9 \u0159e\u0161en\xed pro va\u0161i konkr\xe9tn\xed situaci."})]})}function v(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},88623:(e,o,n)=>{n.d(o,{A:()=>a});const a=n.p+"assets/images/cluster-73996a04326fe63934754f994e09f63f.png"}}]);